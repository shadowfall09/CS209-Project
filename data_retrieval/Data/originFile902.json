{"items":[{"tags":["java","scala","file"],"comments":[{"owner":{"account_id":1966171,"reputation":5909,"user_id":1766382,"accept_rate":67,"display_name":"Daniel Langdon"},"score":0,"creation_date":1439490897,"post_id":25999255,"comment_id":51895869,"body_markdown":"Personally, I feel that for comprehensions are much easier to read: `    for(list &lt;- Option(file.listFiles()) ; child &lt;- list)\n      delete(child)\n`","body":"Personally, I feel that for comprehensions are much easier to read: `    for(list &lt;- Option(file.listFiles()) ; child &lt;- list)       delete(child) `"},{"owner":{"account_id":114845,"reputation":3728,"user_id":301829,"accept_rate":96,"display_name":"Vilius Normantas"},"score":0,"creation_date":1448711745,"post_id":25999255,"comment_id":55698587,"body_markdown":"What&#39;s the point of creating that Option and mapping through it? What&#39;s wrong with simple &quot;file.listFiles.foreach(delete)&quot;?","body":"What&#39;s the point of creating that Option and mapping through it? What&#39;s wrong with simple &quot;file.listFiles.foreach(delete)&quot;?"},{"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"score":1,"creation_date":1448728313,"post_id":25999255,"comment_id":55703555,"body_markdown":"@ViliusNormantas The `listFiles` may return `null` so you need to check it for `null` or wrap it with `Option`. Moreover you probably need to distinguish b/w two cases: (1) `listFiles` returns an empty array and (2) `listFiles` returns null (I/O error occurred)","body":"@ViliusNormantas The <code>listFiles</code> may return <code>null</code> so you need to check it for <code>null</code> or wrap it with <code>Option</code>. Moreover you probably need to distinguish b/w two cases: (1) <code>listFiles</code> returns an empty array and (2) <code>listFiles</code> returns null (I/O error occurred)"},{"owner":{"account_id":1141351,"reputation":18550,"user_id":1125159,"accept_rate":78,"display_name":"Powers"},"score":0,"creation_date":1607912862,"post_id":25999255,"comment_id":115413280,"body_markdown":"[os-lib](https://github.com/lihaoyi/os-lib) makes this possible with a one liner: `os.remove.all(os.pwd/&quot;dogs&quot;)`.  See my answer for more details.  This library is the easiest way to use a performant solution with an elegantly simple API.  Using the underlying Java libraries, like `java.nio`, directly makes you write code that&#39;s complex and ugly.","body":"<a href=\"https://github.com/lihaoyi/os-lib\" rel=\"nofollow noreferrer\">os-lib</a> makes this possible with a one liner: <code>os.remove.all(os.pwd&#47;&quot;dogs&quot;)</code>.  See my answer for more details.  This library is the easiest way to use a performant solution with an elegantly simple API.  Using the underlying Java libraries, like <code>java.nio</code>, directly makes you write code that&#39;s complex and ugly."},{"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"score":1,"creation_date":1607925856,"post_id":25999255,"comment_id":115415496,"body_markdown":"@Powers Thanks a lot for suggesting `os-lib`. I use `java.nio` directly but would prefer a nice Scala wrapper instead.","body":"@Powers Thanks a lot for suggesting <code>os-lib</code>. I use <code>java.nio</code> directly but would prefer a nice Scala wrapper instead."}],"answers":[{"comments":[{"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"score":4,"creation_date":1411487475,"post_id":25999465,"comment_id":40716573,"body_markdown":"Thank you. I would not like to use any external dependencies though.","body":"Thank you. I would not like to use any external dependencies though."}],"tags":[],"owner":{"account_id":450771,"reputation":107243,"user_id":846273,"accept_rate":93,"display_name":"Gabriele Petronella"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1454275054,"creation_date":1411487410,"answer_id":25999465,"question_id":25999255,"body_markdown":"Using [scala IO][1]\r\n\r\n    import scalax.file.Path\r\n     \r\n    val path = Path.fromString(&quot;/tmp/testfile&quot;)    \r\n    try {\r\n      path.deleteRecursively(continueOnFailure = false) \r\n    } catch {\r\n      case e: IOException =&gt; // some file could not be deleted\r\n    }\r\n\r\nor better, you could use a `Try`\r\n\r\n    val path: Path = Path (&quot;/tmp/file&quot;)\r\n    Try(path.deleteRecursively(continueOnFailure = false))\r\n\r\nwhich will either result in a `Success[Int]` containing the number of files deleted, or a `Failure[IOException]`.\r\n\r\n  [1]: http://jesseeichar.github.io/scala-io-doc/0.4.3/index.html#!/file/delete\r\n","title":"Delete directory recursively in Scala","body":"<p>Using <a href=\"http://jesseeichar.github.io/scala-io-doc/0.4.3/index.html#!/file/delete\" rel=\"noreferrer\">scala IO</a></p>\n\n<pre><code>import scalax.file.Path\n\nval path = Path.fromString(\"/tmp/testfile\")    \ntry {\n  path.deleteRecursively(continueOnFailure = false) \n} catch {\n  case e: IOException =&gt; // some file could not be deleted\n}\n</code></pre>\n\n<p>or better, you could use a <code>Try</code></p>\n\n<pre><code>val path: Path = Path (\"/tmp/file\")\nTry(path.deleteRecursively(continueOnFailure = false))\n</code></pre>\n\n<p>which will either result in a <code>Success[Int]</code> containing the number of files deleted, or a <code>Failure[IOException]</code>.</p>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1464022093,"post_id":26048916,"comment_id":62301439,"body_markdown":"One (ok admiittedly long ;) ) liner!","body":"One (ok admiittedly long ;) ) liner!"}],"tags":[],"owner":{"account_id":238870,"reputation":1883,"user_id":508064,"accept_rate":71,"display_name":"roterl"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1411685194,"creation_date":1411682746,"answer_id":26048916,"question_id":25999255,"body_markdown":"Using java 6 without using dependencies this is pretty much the only way to do so.&lt;br/&gt;\r\nThe problem with your function is that it return Unit (which I btw would explicit note it using `def delete(file: File): Unit = {`\r\n\r\nI took your code and modify it to return map from file name to the deleting status.\r\n\r\n    def delete(file: File): Array[(String, Boolean)] = {\r\n      Option(file.listFiles).map(_.flatMap(f =&gt; delete(f))).getOrElse(Array()) :+ (file.getPath -&gt; file.delete)\r\n    }","title":"Delete directory recursively in Scala","body":"<p>Using java 6 without using dependencies this is pretty much the only way to do so.<br/>\nThe problem with your function is that it return Unit (which I btw would explicit note it using <code>def delete(file: File): Unit = {</code></p>\n\n<p>I took your code and modify it to return map from file name to the deleting status.</p>\n\n<pre><code>def delete(file: File): Array[(String, Boolean)] = {\n  Option(file.listFiles).map(_.flatMap(f =&gt; delete(f))).getOrElse(Array()) :+ (file.getPath -&gt; file.delete)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1464022050,"post_id":26769030,"comment_id":62301419,"body_markdown":"Nice recursive structure.","body":"Nice recursive structure."}],"tags":[],"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"comment_count":1,"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1558363508,"creation_date":1415229627,"answer_id":26769030,"question_id":25999255,"body_markdown":"Try this code that throws an exception if it fails:\r\n\r\n    def deleteRecursively(file: File): Unit = {\r\n      if (file.isDirectory) {\r\n        file.listFiles.foreach(deleteRecursively)\r\n      }\r\n      if (file.exists &amp;&amp; !file.delete) {\r\n        throw new Exception(s&quot;Unable to delete ${file.getAbsolutePath}&quot;)\r\n      }\r\n    }\r\n\r\nYou could also fold or map over the delete if you want to return a value for all the deletes.","title":"Delete directory recursively in Scala","body":"<p>Try this code that throws an exception if it fails:</p>\n\n<pre><code>def deleteRecursively(file: File): Unit = {\n  if (file.isDirectory) {\n    file.listFiles.foreach(deleteRecursively)\n  }\n  if (file.exists &amp;&amp; !file.delete) {\n    throw new Exception(s\"Unable to delete ${file.getAbsolutePath}\")\n  }\n}\n</code></pre>\n\n<p>You could also fold or map over the delete if you want to return a value for all the deletes.</p>\n"},{"tags":[],"owner":{"account_id":1416173,"reputation":6877,"user_id":1341806,"accept_rate":80,"display_name":"Dan Ciborowski - MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1427285460,"creation_date":1427280950,"answer_id":29253684,"question_id":25999255,"body_markdown":"From\r\nhttp://alvinalexander.com/blog/post/java/java-io-faq-how-delete-directory-tree\r\n\r\nUsing Apache Common IO\r\n\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.filefilter.WildcardFileFilter;\r\n    public void deleteDirectory(String directoryName)\r\n    throws IOException\r\n    {\r\n      try\r\n      {\r\n        FileUtils.deleteDirectory(new File(directoryName));\r\n      }\r\n      catch (IOException ioe)\r\n      {\r\n        // log the exception here\r\n        ioe.printStackTrace();\r\n        throw ioe;\r\n      }\r\n    }\r\n\r\n\r\nThe Scala one can just do this...\r\n\r\n    import org.apache.commons.io.FileUtils\r\n    import org.apache.commons.io.filefilter.WildcardFileFilter\r\n    FileUtils.deleteDirectory(new File(outputFile))\r\n\r\n\r\n[Maven Repo Imports][1]\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.apache.commons/commons-io/1.3.2","title":"Delete directory recursively in Scala","body":"<p>From\n<a href=\"http://alvinalexander.com/blog/post/java/java-io-faq-how-delete-directory-tree\" rel=\"noreferrer\">http://alvinalexander.com/blog/post/java/java-io-faq-how-delete-directory-tree</a></p>\n\n<p>Using Apache Common IO</p>\n\n<pre><code>import org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.filefilter.WildcardFileFilter;\npublic void deleteDirectory(String directoryName)\nthrows IOException\n{\n  try\n  {\n    FileUtils.deleteDirectory(new File(directoryName));\n  }\n  catch (IOException ioe)\n  {\n    // log the exception here\n    ioe.printStackTrace();\n    throw ioe;\n  }\n}\n</code></pre>\n\n<p>The Scala one can just do this...</p>\n\n<pre><code>import org.apache.commons.io.FileUtils\nimport org.apache.commons.io.filefilter.WildcardFileFilter\nFileUtils.deleteDirectory(new File(outputFile))\n</code></pre>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.apache.commons/commons-io/1.3.2\" rel=\"noreferrer\">Maven Repo Imports</a></p>\n"},{"tags":[],"owner":{"account_id":320974,"reputation":1383,"user_id":639536,"accept_rate":17,"display_name":"Pramit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447961000,"creation_date":1435799407,"answer_id":31174138,"question_id":25999255,"body_markdown":"This one uses java.io but one can delete directories matching it with wildcard string which may or may not contain any content within it.\r\n\r\n     for (file &lt;- new File(&quot;&lt;path as String&gt;&quot;).listFiles;\r\n            if( file.getName() matches(&quot;[1-9]*&quot;))) FileUtils.deleteDirectory(file)\r\nDirectory structure e.g.\r\n* A/1/, A/2/, A/300/ ... thats why the regex String: [1-9]*, couldn&#39;t find a File API in scala which supports regex(may be i missed something).","title":"Delete directory recursively in Scala","body":"<p>This one uses java.io but one can delete directories matching it with wildcard string which may or may not contain any content within it.</p>\n\n<pre><code> for (file &lt;- new File(\"&lt;path as String&gt;\").listFiles;\n        if( file.getName() matches(\"[1-9]*\"))) FileUtils.deleteDirectory(file)\n</code></pre>\n\n<p>Directory structure e.g.\n* A/1/, A/2/, A/300/ ... thats why the regex String: [1-9]*, couldn't find a File API in scala which supports regex(may be i missed something).</p>\n"},{"tags":[],"owner":{"account_id":1395805,"reputation":853,"user_id":1325582,"accept_rate":92,"display_name":"Julian Peeters"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463385446,"creation_date":1463377959,"answer_id":37247486,"question_id":25999255,"body_markdown":"Getting little lengthy, but here&#39;s one that combines the recursivity of Garrette&#39;s solution with the npe-safety of the original question.\r\n\r\n    def deleteFile(path: String) = {\r\n      val penultimateFile = new File(path.split(&#39;/&#39;).take(2).mkString(&quot;/&quot;))\r\n      def getFiles(f: File): Set[File] = {\r\n        Option(f.listFiles)\r\n          .map(a =&gt; a.toSet)\r\n          .getOrElse(Set.empty)\r\n      }\r\n      def getRecursively(f: File): Set[File] = {\r\n        val files = getFiles(f)\r\n        val subDirectories = files.filter(path =&gt; path.isDirectory)\r\n        subDirectories.flatMap(getRecursively) ++ files + penultimateFile\r\n      }\r\n      getRecursively(penultimateFile).foreach(file =&gt; {\r\n        if (getFiles(file).isEmpty &amp;&amp; file.getAbsoluteFile().exists) file.delete\r\n      })\r\n    }","title":"Delete directory recursively in Scala","body":"<p>Getting little lengthy, but here's one that combines the recursivity of Garrette's solution with the npe-safety of the original question.</p>\n\n<pre><code>def deleteFile(path: String) = {\n  val penultimateFile = new File(path.split('/').take(2).mkString(\"/\"))\n  def getFiles(f: File): Set[File] = {\n    Option(f.listFiles)\n      .map(a =&gt; a.toSet)\n      .getOrElse(Set.empty)\n  }\n  def getRecursively(f: File): Set[File] = {\n    val files = getFiles(f)\n    val subDirectories = files.filter(path =&gt; path.isDirectory)\n    subDirectories.flatMap(getRecursively) ++ files + penultimateFile\n  }\n  getRecursively(penultimateFile).foreach(file =&gt; {\n    if (getFiles(file).isEmpty &amp;&amp; file.getAbsoluteFile().exists) file.delete\n  })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7045671,"reputation":1177,"user_id":5396562,"accept_rate":81,"display_name":"Slavik  Muz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479485872,"creation_date":1479485872,"answer_id":40681670,"question_id":25999255,"body_markdown":"   This is recursive method that clean all in directory, and return count of deleted files\r\n\r\n \r\n\r\n    def cleanDir(dir: File): Int = {\r\n        \r\n          @tailrec\r\n          def loop(list: Array[File], deletedFiles: Int): Int = {\r\n            if (list.isEmpty) deletedFiles\r\n            else {\r\n              if (list.head.isDirectory &amp;&amp; !list.head.listFiles().isEmpty) {\r\n                loop(list.head.listFiles() ++ list.tail ++ Array(list.head), deletedFiles)\r\n              } else {\r\n                val isDeleted = list.head.delete()\r\n                if (isDeleted) loop(list.tail, deletedFiles + 1)\r\n                else loop(list.tail, deletedFiles)\r\n              }\r\n            }\r\n          }\r\n        \r\n          loop(dir.listFiles(), 0)\r\n        }","title":"Delete directory recursively in Scala","body":"<p>This is recursive method that clean all in directory, and return count of deleted files</p>\n\n<pre><code>def cleanDir(dir: File): Int = {\n\n      @tailrec\n      def loop(list: Array[File], deletedFiles: Int): Int = {\n        if (list.isEmpty) deletedFiles\n        else {\n          if (list.head.isDirectory &amp;&amp; !list.head.listFiles().isEmpty) {\n            loop(list.head.listFiles() ++ list.tail ++ Array(list.head), deletedFiles)\n          } else {\n            val isDeleted = list.head.delete()\n            if (isDeleted) loop(list.tail, deletedFiles + 1)\n            else loop(list.tail, deletedFiles)\n          }\n        }\n      }\n\n      loop(dir.listFiles(), 0)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208069,"reputation":1871,"user_id":458325,"accept_rate":80,"display_name":"Chris Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502836729,"creation_date":1484016934,"answer_id":41560402,"question_id":25999255,"body_markdown":"To add to Slavik Muz&#39;s answer:\r\n\r\n    def deleteFile(file: File): Boolean = {\r\n\r\n      def childrenOf(file: File): List[File] = Option(file.listFiles()).getOrElse(Array.empty).toList\r\n    \r\n      @annotation.tailrec\r\n      def loop(files: List[File]): Boolean = files match {\r\n\r\n        case Nil ⇒ true\r\n        \r\n        case child :: parents if child.isDirectory &amp;&amp; child.listFiles().nonEmpty ⇒\r\n          loop((childrenOf(child) :+ child) ++ parents)\r\n          \r\n        case fileOrEmptyDir :: rest ⇒\r\n          println(s&quot;deleting $fileOrEmptyDir&quot;)\r\n          fileOrEmptyDir.delete()\r\n          loop(rest)\r\n    \r\n      }\r\n    \r\n      if (!file.exists()) false\r\n      else loop(childrenOf(file) :+ file)\r\n    }","title":"Delete directory recursively in Scala","body":"<p>To add to Slavik Muz's answer:</p>\n\n<pre><code>def deleteFile(file: File): Boolean = {\n\n  def childrenOf(file: File): List[File] = Option(file.listFiles()).getOrElse(Array.empty).toList\n\n  @annotation.tailrec\n  def loop(files: List[File]): Boolean = files match {\n\n    case Nil ⇒ true\n\n    case child :: parents if child.isDirectory &amp;&amp; child.listFiles().nonEmpty ⇒\n      loop((childrenOf(child) :+ child) ++ parents)\n\n    case fileOrEmptyDir :: rest ⇒\n      println(s\"deleting $fileOrEmptyDir\")\n      fileOrEmptyDir.delete()\n      loop(rest)\n\n  }\n\n  if (!file.exists()) false\n  else loop(childrenOf(file) :+ file)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414154,"reputation":122081,"user_id":788207,"accept_rate":84,"display_name":"Vladimir Matveev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502841213,"creation_date":1502841213,"answer_id":45703150,"question_id":25999255,"body_markdown":"Using the Java NIO.2 API:\r\n\r\n    import java.nio.file.{Files, Paths, Path, SimpleFileVisitor, FileVisitResult}\r\n    import java.nio.file.attribute.BasicFileAttributes\r\n\r\n    def remove(root: Path): Unit = {\r\n      Files.walkFileTree(root, new SimpleFileVisitor[Path] {\r\n        override def visitFile(file: Path, attrs: BasicFileAttributes): FileVisitResult = {\r\n          Files.delete(file)\r\n          FileVisitResult.CONTINUE\r\n        }\r\n        override def postVisitDirectory(dir: Path, exc: IOException): FileVisitResult = {\r\n          Files.delete(dir)\r\n          FileVisitResult.CONTINUE\r\n        }\r\n      })\r\n    }\r\n\r\n    remove(Paths.get(&quot;/tmp/testdir&quot;))\r\n\r\nReally, it&#39;s a pity that the NIO.2 API is with us for so many years and yet few people are using it, even though it is really superior to the old `File` API.","title":"Delete directory recursively in Scala","body":"<p>Using the Java NIO.2 API:</p>\n\n<pre><code>import java.nio.file.{Files, Paths, Path, SimpleFileVisitor, FileVisitResult}\nimport java.nio.file.attribute.BasicFileAttributes\n\ndef remove(root: Path): Unit = {\n  Files.walkFileTree(root, new SimpleFileVisitor[Path] {\n    override def visitFile(file: Path, attrs: BasicFileAttributes): FileVisitResult = {\n      Files.delete(file)\n      FileVisitResult.CONTINUE\n    }\n    override def postVisitDirectory(dir: Path, exc: IOException): FileVisitResult = {\n      Files.delete(dir)\n      FileVisitResult.CONTINUE\n    }\n  })\n}\n\nremove(Paths.get(\"/tmp/testdir\"))\n</code></pre>\n\n<p>Really, it's a pity that the NIO.2 API is with us for so many years and yet few people are using it, even though it is really superior to the old <code>File</code> API.</p>\n"},{"comments":[{"owner":{"account_id":1141351,"reputation":18550,"user_id":1125159,"accept_rate":78,"display_name":"Powers"},"score":0,"creation_date":1571161710,"post_id":47380288,"comment_id":103145483,"body_markdown":"I packaged this code in a SBT project, so it&#39;s easily accessible for folks that have access to Maven: https://github.com/MrPowers/spark-daria/blob/master/src/main/scala/com/github/mrpowers/spark/daria/utils/NioUtils.scala  Thanks!","body":"I packaged this code in a SBT project, so it&#39;s easily accessible for folks that have access to Maven: <a href=\"https://github.com/MrPowers/spark-daria/blob/master/src/main/scala/com/github/mrpowers/spark/daria/utils/NioUtils.scala\" rel=\"nofollow noreferrer\">github.com/MrPowers/spark-daria/blob/master/src/main/scala/c&zwnj;&#8203;om/&hellip;</a>  Thanks!"}],"tags":[],"owner":{"account_id":266342,"reputation":7863,"user_id":553865,"accept_rate":67,"display_name":"Mike Slinn"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511115214,"creation_date":1511115214,"answer_id":47380288,"question_id":25999255,"body_markdown":"Expanding on Vladimir Matveev&#39;s NIO2 solution:\r\n\r\n    object Util {\r\n      import java.io.IOException\r\n      import java.nio.file.{Files, Paths, Path, SimpleFileVisitor, FileVisitResult}\r\n      import java.nio.file.attribute.BasicFileAttributes\r\n    \r\n      def remove(root: Path, deleteRoot: Boolean = true): Unit =\r\n        Files.walkFileTree(root, new SimpleFileVisitor[Path] {\r\n          override def visitFile(file: Path, attributes: BasicFileAttributes): FileVisitResult = {\r\n            Files.delete(file)\r\n            FileVisitResult.CONTINUE\r\n          }\r\n    \r\n          override def postVisitDirectory(dir: Path, exception: IOException): FileVisitResult = {\r\n            if (deleteRoot) Files.delete(dir)\r\n            FileVisitResult.CONTINUE\r\n          }\r\n        })\r\n    \r\n      def removeUnder(string: String): Unit = remove(Paths.get(string), deleteRoot=false)\r\n    \r\n      def removeAll(string: String): Unit = remove(Paths.get(string))\r\n    \r\n      def removeUnder(file: java.io.File): Unit = remove(file.toPath, deleteRoot=false)\r\n    \r\n      def removeAll(file: java.io.File): Unit = remove(file.toPath)\r\n    }\r\n ","title":"Delete directory recursively in Scala","body":"<p>Expanding on Vladimir Matveev's NIO2 solution:</p>\n\n<pre><code>object Util {\n  import java.io.IOException\n  import java.nio.file.{Files, Paths, Path, SimpleFileVisitor, FileVisitResult}\n  import java.nio.file.attribute.BasicFileAttributes\n\n  def remove(root: Path, deleteRoot: Boolean = true): Unit =\n    Files.walkFileTree(root, new SimpleFileVisitor[Path] {\n      override def visitFile(file: Path, attributes: BasicFileAttributes): FileVisitResult = {\n        Files.delete(file)\n        FileVisitResult.CONTINUE\n      }\n\n      override def postVisitDirectory(dir: Path, exception: IOException): FileVisitResult = {\n        if (deleteRoot) Files.delete(dir)\n        FileVisitResult.CONTINUE\n      }\n    })\n\n  def removeUnder(string: String): Unit = remove(Paths.get(string), deleteRoot=false)\n\n  def removeAll(string: String): Unit = remove(Paths.get(string))\n\n  def removeUnder(file: java.io.File): Unit = remove(file.toPath, deleteRoot=false)\n\n  def removeAll(file: java.io.File): Unit = remove(file.toPath)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":456840,"reputation":2947,"user_id":855809,"accept_rate":59,"display_name":"Knight71"},"score":3,"creation_date":1560947907,"post_id":51330257,"comment_id":99903401,"body_markdown":"This is simple and clean when compared to other solutions posted here.","body":"This is simple and clean when compared to other solutions posted here."},{"owner":{"account_id":3093694,"reputation":5811,"user_id":3973175,"accept_rate":52,"display_name":"con"},"score":0,"creation_date":1570829941,"post_id":51330257,"comment_id":103052554,"body_markdown":"this does not work, as this gives errors `error: not found: type File`","body":"this does not work, as this gives errors <code>error: not found: type File</code>"},{"owner":{"account_id":1714422,"reputation":5361,"user_id":1571826,"accept_rate":67,"display_name":"Def_Os"},"score":1,"creation_date":1578090943,"post_id":51330257,"comment_id":105338701,"body_markdown":"@con , make sure to have `import java.io.File`","body":"@con , make sure to have <code>import java.io.File</code>"}],"tags":[],"owner":{"account_id":3838953,"reputation":2411,"user_id":3182598,"display_name":"nomadSK25"},"comment_count":3,"down_vote_count":2,"up_vote_count":50,"is_accepted":true,"score":48,"last_activity_date":1578287055,"creation_date":1531503335,"answer_id":51330257,"question_id":25999255,"body_markdown":"With pure scala + java way \r\n\r\n    import scala.reflect.io.Directory\r\n    import java.io.File\r\n\r\n    val directory = new Directory(new File(&quot;/sampleDirectory&quot;))\r\n    directory.deleteRecursively()\r\n\r\n&gt; deleteRecursively() Returns false on failure","title":"Delete directory recursively in Scala","body":"<p>With pure scala + java way </p>\n\n<pre><code>import scala.reflect.io.Directory\nimport java.io.File\n\nval directory = new Directory(new File(\"/sampleDirectory\"))\ndirectory.deleteRecursively()\n</code></pre>\n\n<blockquote>\n  <p>deleteRecursively() Returns false on failure</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8612350,"reputation":1094,"user_id":6450431,"display_name":"belgacea"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574875387,"creation_date":1574875387,"answer_id":59075467,"question_id":25999255,"body_markdown":"What I ended up with \r\n\r\n    def deleteRecursively(f: File): Boolean = {\r\n      if (f.isDirectory) f.listFiles match {\r\n        case files: Array[File] =&gt; files.foreach(deleteRecursively)\r\n        case null =&gt;\r\n      }\r\n      f.delete()\r\n    }","title":"Delete directory recursively in Scala","body":"<p>What I ended up with </p>\n\n<pre><code>def deleteRecursively(f: File): Boolean = {\n  if (f.isDirectory) f.listFiles match {\n    case files: Array[File] =&gt; files.foreach(deleteRecursively)\n    case null =&gt;\n  }\n  f.delete()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1141351,"reputation":18550,"user_id":1125159,"accept_rate":78,"display_name":"Powers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607912760,"creation_date":1607912760,"answer_id":65282858,"question_id":25999255,"body_markdown":"[os-lib](https://github.com/lihaoyi/os-lib) makes it easy to delete recursively with a one-liner:\r\n\r\n```scala\r\nos.remove.all(os.pwd/&quot;dogs&quot;)\r\n```\r\n\r\nos-lib uses java.nio under the hood, just doesn&#39;t expose all the Java ugliness.  See [here](https://mungingdata.com/scala/filesystem-paths-move-copy-list-delete-folders/) for more info on how to use the library.","title":"Delete directory recursively in Scala","body":"<p><a href=\"https://github.com/lihaoyi/os-lib\" rel=\"nofollow noreferrer\">os-lib</a> makes it easy to delete recursively with a one-liner:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>os.remove.all(os.pwd/&quot;dogs&quot;)\n</code></pre>\n<p>os-lib uses java.nio under the hood, just doesn't expose all the Java ugliness.  See <a href=\"https://mungingdata.com/scala/filesystem-paths-move-copy-list-delete-folders/\" rel=\"nofollow noreferrer\">here</a> for more info on how to use the library.</p>\n"},{"comments":[{"owner":{"account_id":14436534,"reputation":879,"user_id":10428392,"display_name":"counter2015"},"score":0,"creation_date":1667900447,"post_id":74356666,"comment_id":131272212,"body_markdown":"Please consider adding a comment if you think this post can be improved.","body":"Please consider adding a comment if you think this post can be improved."}],"tags":[],"owner":{"account_id":14436534,"reputation":879,"user_id":10428392,"display_name":"counter2015"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667890289,"creation_date":1667890289,"answer_id":74356666,"question_id":25999255,"body_markdown":"You can do this by excute external system commands.\r\n\r\n```scala\r\nimport sys.process._\r\n\r\n\r\ndef delete(path: String) = {\r\n  s&quot;&quot;&quot;rm -rf ${path}&quot;&quot;&quot;.!!\r\n}\r\n```","title":"Delete directory recursively in Scala","body":"<p>You can do this by excute external system commands.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import sys.process._\n\n\ndef delete(path: String) = {\n  s&quot;&quot;&quot;rm -rf ${path}&quot;&quot;&quot;.!!\n}\n</code></pre>\n"}],"owner":{"account_id":246765,"reputation":41329,"user_id":521070,"accept_rate":72,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37111,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":51330257,"answer_count":14,"score":35,"last_activity_date":1667890289,"creation_date":1411486851,"question_id":25999255,"body_markdown":"I am writing the following (with Scala 2.10 and Java 6):\r\n\r\n    import java.io._\r\n\r\n    def delete(file: File) {\r\n      if (file.isDirectory) \r\n        Option(file.listFiles).map(_.toList).getOrElse(Nil).foreach(delete(_))\r\n      file.delete\r\n    }\r\n\r\nHow would you improve it ? The code seems working but it ignores the return value of `java.io.File.delete`. Can it be done easier with `scala.io` instead of `java.io` ? ","title":"Delete directory recursively in Scala","body":"<p>I am writing the following (with Scala 2.10 and Java 6):</p>\n\n<pre><code>import java.io._\n\ndef delete(file: File) {\n  if (file.isDirectory) \n    Option(file.listFiles).map(_.toList).getOrElse(Nil).foreach(delete(_))\n  file.delete\n}\n</code></pre>\n\n<p>How would you improve it ? The code seems working but it ignores the return value of <code>java.io.File.delete</code>. Can it be done easier with <code>scala.io</code> instead of <code>java.io</code> ? </p>\n"},{"tags":["java","math","permutation"],"comments":[{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":3,"creation_date":1354994308,"post_id":13780947,"comment_id":18949456,"body_markdown":"[What have you tried?](http://whathaveyoutried.com)","body":"<a href=\"http://whathaveyoutried.com\" rel=\"nofollow noreferrer\">What have you tried?</a>"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1354994364,"post_id":13780947,"comment_id":18949470,"body_markdown":"Look at the &quot;Related&quot; section at the right. There are already dozens of questions asking for this.","body":"Look at the &quot;Related&quot; section at the right. There are already dozens of questions asking for this."},{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1354994829,"post_id":13780947,"comment_id":18949593,"body_markdown":"Of course I did search before I asked the question, but I couldn&#39;t find anything like this.","body":"Of course I did search before I asked the question, but I couldn&#39;t find anything like this."},{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1354994867,"post_id":13780947,"comment_id":18949606,"body_markdown":"As for the code, I didn&#39;t get far after I realized that my original concept was extremely stupid, I was just thinking since then.\n(originally my code just subtracted 1 from each dice&#39;s value, until it was 0, and then it went to the next one)","body":"As for the code, I didn&#39;t get far after I realized that my original concept was extremely stupid, I was just thinking since then. (originally my code just subtracted 1 from each dice&#39;s value, until it was 0, and then it went to the next one)"},{"owner":{"account_id":543740,"reputation":5767,"user_id":912935,"accept_rate":100,"display_name":"The111"},"score":0,"creation_date":1354996602,"post_id":13780947,"comment_id":18950023,"body_markdown":"FYI, *dice* is plural.  The singular form is *die*.  Perhaps this is not programming related, but if your software has a user interface, you should present the user with the right words. :-)","body":"FYI, <i>dice</i> is plural.  The singular form is <i>die</i>.  Perhaps this is not programming related, but if your software has a user interface, you should present the user with the right words. :-)"},{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1355000986,"post_id":13780947,"comment_id":18951094,"body_markdown":"Thanks, another thing I learned today.","body":"Thanks, another thing I learned today."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1667917375,"post_id":13780947,"comment_id":131278671,"body_markdown":"I’m voting to close this question because it is a well understood problem, but the OP has shown no thought or effort whatsoever.","body":"I’m voting to close this question because it is a well understood problem, but the OP has shown no thought or effort whatsoever."}],"answers":[{"comments":[{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1354995025,"post_id":13780979,"comment_id":18949643,"body_markdown":"Thanks! I thought of the 6 level nested loop first, but I thought that there must be a more convenient solution. (I still wonder if this could be done with recursion somehow.)\n\nI think I&#39;ll go with the second, great idea, thanks!","body":"Thanks! I thought of the 6 level nested loop first, but I thought that there must be a more convenient solution. (I still wonder if this could be done with recursion somehow.)  I think I&#39;ll go with the second, great idea, thanks!"},{"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"score":0,"creation_date":1354995148,"post_id":13780979,"comment_id":18949676,"body_markdown":"The first method is very messy, and will be very hard to modify/update in the future. The second method is *extremely* inefficient.","body":"The first method is very messy, and will be very hard to modify/update in the future. The second method is <i>extremely</i> inefficient."},{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1354995226,"post_id":13780979,"comment_id":18949690,"body_markdown":"Yeah, but I only need it for this particular problem, so it would do fine. Altough the recursive method is nicer.","body":"Yeah, but I only need it for this particular problem, so it would do fine. Altough the recursive method is nicer."}],"tags":[],"owner":{"account_id":1932818,"reputation":46083,"user_id":1741864,"display_name":"sampson-chen"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354994331,"creation_date":1354994331,"answer_id":13780979,"question_id":13780947,"body_markdown":"Since you specifically asked for *&quot;only the general concept&quot;*, here are two general approaches, either:\r\n\r\n- Use a 6-level nested for-loop for just do an exhaustive enumeration of all possible rolls between `0-6` (more efficient)\r\n- Just use 1 for-loop to generate all numbers between `0-66666`, and discard any numbers that contain `7, 8, 9`; and then print the numbers with some formatted padding, and commas (cleaner code to look at if you don&#39;t care about the small efficiency difference)","title":"All possible permutations of dice rolls","body":"<p>Since you specifically asked for <em>\"only the general concept\"</em>, here are two general approaches, either:</p>\n\n<ul>\n<li>Use a 6-level nested for-loop for just do an exhaustive enumeration of all possible rolls between <code>0-6</code> (more efficient)</li>\n<li>Just use 1 for-loop to generate all numbers between <code>0-66666</code>, and discard any numbers that contain <code>7, 8, 9</code>; and then print the numbers with some formatted padding, and commas (cleaner code to look at if you don't care about the small efficiency difference)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"score":0,"creation_date":1354995280,"post_id":13781050,"comment_id":18949704,"body_markdown":"Awesome! I&#39;ll accept your answer because I was looking for a recursive solution, but also thanks to all the others!","body":"Awesome! I&#39;ll accept your answer because I was looking for a recursive solution, but also thanks to all the others!"}],"tags":[],"owner":{"account_id":225474,"reputation":4101,"user_id":485971,"display_name":"irrelephant"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1354995549,"creation_date":1354994857,"answer_id":13781050,"question_id":13780947,"body_markdown":"You can use a recursive method, keeping track of depth:\r\nEDIT, maybe this method would be better:\r\n\r\n    class Main {\r\n        public static void roll(String s, int depth) {\r\n            if(depth == 0)\r\n                System.out.println(s.substring(1));\r\n            else\r\n                for(int i = 0; i &lt;= 6; i++)\r\n                    roll(s + &quot;,&quot; + i, depth - 1);\r\n        }\r\n        public static void main(String[] args) {\r\n            roll(&quot;&quot;, 6); //2nd parameter &gt; 0\r\n        }\r\n    }","title":"All possible permutations of dice rolls","body":"<p>You can use a recursive method, keeping track of depth:\nEDIT, maybe this method would be better:</p>\n\n<pre><code>class Main {\n    public static void roll(String s, int depth) {\n        if(depth == 0)\n            System.out.println(s.substring(1));\n        else\n            for(int i = 0; i &lt;= 6; i++)\n                roll(s + \",\" + i, depth - 1);\n    }\n    public static void main(String[] args) {\n        roll(\"\", 6); //2nd parameter &gt; 0\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354994938,"creation_date":1354994938,"answer_id":13781058,"question_id":13780947,"body_markdown":"Just for elegance sake, I would write a recursive method that calls loops through 0-7 for a given index then itself to initialize the next index.\r\n\r\nIt could then initialize an array or abritrary size.","title":"All possible permutations of dice rolls","body":"<p>Just for elegance sake, I would write a recursive method that calls loops through 0-7 for a given index then itself to initialize the next index.</p>\n\n<p>It could then initialize an array or abritrary size.</p>\n"},{"tags":[],"owner":{"account_id":4842611,"reputation":21017,"user_id":3907250,"accept_rate":79,"display_name":"aerin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496639096,"creation_date":1496633086,"answer_id":44361250,"question_id":13780947,"body_markdown":"Simple Python implementation.\r\n\r\nThis is when you just print.\r\n\r\n    def PrintAllPerms(n, str_):\r\n        if (n == 0):\r\n            print str_\r\n        else:\r\n            for i in [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]:\r\n                str_ = str_ + i\r\n                PrintAllPerms(n-1, str_)\r\n                str_ = str_[:-1]\r\n    \r\n    PrintAllPerms(2,&quot;&quot;)\r\n\r\nThis is when you want to return the whole permutation.\r\n\r\n    def PrintAllPerms(n, arr, str_):\r\n        if (n == 0):\r\n            arr.append(str_)\r\n            return arr\r\n        else:\r\n            for i in [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;]:\r\n                str_ = str_ + i\r\n                arr = PrintAllPerms(n-1,arr,str_)\r\n                str_ = str_[:-1]\r\n            return arr\r\n\r\n    PrintAllPerms(2,[],&quot;&quot;)","title":"All possible permutations of dice rolls","body":"<p>Simple Python implementation.</p>\n\n<p>This is when you just print.</p>\n\n<pre><code>def PrintAllPerms(n, str_):\n    if (n == 0):\n        print str_\n    else:\n        for i in [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"]:\n            str_ = str_ + i\n            PrintAllPerms(n-1, str_)\n            str_ = str_[:-1]\n\nPrintAllPerms(2,\"\")\n</code></pre>\n\n<p>This is when you want to return the whole permutation.</p>\n\n<pre><code>def PrintAllPerms(n, arr, str_):\n    if (n == 0):\n        arr.append(str_)\n        return arr\n    else:\n        for i in [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"]:\n            str_ = str_ + i\n            arr = PrintAllPerms(n-1,arr,str_)\n            str_ = str_[:-1]\n        return arr\n\nPrintAllPerms(2,[],\"\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2618097,"reputation":21734,"user_id":2266772,"display_name":"Matthieu Brucher"},"score":2,"creation_date":1545237905,"post_id":53855230,"comment_id":94559164,"body_markdown":"Please provide some context to your answer.","body":"Please provide some context to your answer."}],"tags":[],"owner":{"account_id":14976920,"reputation":1,"user_id":10812121,"display_name":"MyJava"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545272275,"creation_date":1545236303,"answer_id":53855230,"question_id":13780947,"body_markdown":"    public class DiceTest {\r\n\t    public static void main(String[] args) {\r\n\t\t    int[] dice = {0, 1, 2, 3, 4, 5, 6 };\r\n\t\t    for (int i : dice) {\r\n\t\t\t    for (int j : dice) {\r\n\t\t\t\t    System.out.println(&quot;Printing dice values : &quot; + i + &quot; &quot; + j);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }","title":"All possible permutations of dice rolls","body":"<pre><code>public class DiceTest {\n    public static void main(String[] args) {\n        int[] dice = {0, 1, 2, 3, 4, 5, 6 };\n        for (int i : dice) {\n            for (int j : dice) {\n                System.out.println(\"Printing dice values : \" + i + \" \" + j);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1485477,"reputation":201,"user_id":1393857,"accept_rate":56,"display_name":"nitrogenhurricane"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4267,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":13781050,"answer_count":5,"score":0,"last_activity_date":1667890246,"creation_date":1354994139,"question_id":13780947,"body_markdown":"I want to write a program that simulates the following: I have 6 dice, and I roll with some dice every time.\r\n\r\nWhen I don&#39;t roll with a die, I just assume that I rolled 0 with that. \r\n\r\nI want to list all the possible variations I can get this way. A few examples:\r\n\r\n1,2,4,6,0,1\r\n\r\n3,5,1,0,0,4\r\n\r\n6,6,4,2,0,0\r\netc.\r\n\r\nAny ideas on how to do this?\r\n(I am using Java, but of course, I&#39;m only interested in the general concept.)\r\n","title":"All possible permutations of dice rolls","body":"<p>I want to write a program that simulates the following: I have 6 dice, and I roll with some dice every time.</p>\n<p>When I don't roll with a die, I just assume that I rolled 0 with that.</p>\n<p>I want to list all the possible variations I can get this way. A few examples:</p>\n<p>1,2,4,6,0,1</p>\n<p>3,5,1,0,0,4</p>\n<p>6,6,4,2,0,0\netc.</p>\n<p>Any ideas on how to do this?\n(I am using Java, but of course, I'm only interested in the general concept.)</p>\n"},{"tags":["java","web-crawler"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667908610,"post_id":74356556,"comment_id":131275178,"body_markdown":"Why does it not work, is there an exception? What happens in twoDepthCrawling?","body":"Why does it not work, is there an exception? What happens in twoDepthCrawling?"},{"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"score":0,"creation_date":1667912852,"post_id":74356556,"comment_id":131276735,"body_markdown":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n\tat java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1584)\n\tat java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1607)\n\tat utils.HtmlHandler.oneDepthCrawling(HtmlHandler.java:63)\n\tat utils.HtmlHandler.twoDepthCrawling(HtmlHandler.java:53)\n\tat utils.HtmlHandler.getPageLinks(HtmlHandler.java:48)\n\tat utils.HtmlHandler.crawlWebPages(HtmlHandler.java:32)\n\tat main.Main.main(Main.java:16)","body":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException \tat java.base/java.util.HashMap$HashIterator.nextNode(HashMap.ja&zwnj;&#8203;va:1584) \tat java.base/java.util.HashMap$KeyIterator.next(HashMap.java:16&zwnj;&#8203;07) \tat utils.HtmlHandler.oneDepthCrawling(HtmlHandler.java:63) \tat utils.HtmlHandler.twoDepthCrawling(HtmlHandler.java:53) \tat utils.HtmlHandler.getPageLinks(HtmlHandler.java:48) \tat utils.HtmlHandler.crawlWebPages(HtmlHandler.java:32) \tat main.Main.main(Main.java:16)"},{"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"score":0,"creation_date":1667912863,"post_id":74356556,"comment_id":131276740,"body_markdown":"this is the exception","body":"this is the exception"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667915093,"post_id":74356556,"comment_id":131277757,"body_markdown":"I don&#39;t see any multithreaded code, but apparently, there are some threads involved.\nWhere do you initialize a HashMap? What if you try to use ConcurrentHashMap?","body":"I don&#39;t see any multithreaded code, but apparently, there are some threads involved. Where do you initialize a HashMap? What if you try to use ConcurrentHashMap?"},{"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"score":0,"creation_date":1667917783,"post_id":74356556,"comment_id":131278863,"body_markdown":"I am not using HashMap at all. I think it has something to do with the for loop. But anyway, I still think that the logic that I created here won&#39;t give me the 25 HTML sources I am looking for. This is where I am having troubles The part where I fetch 5 HTMLs from each url","body":"I am not using HashMap at all. I think it has something to do with the for loop. But anyway, I still think that the logic that I created here won&#39;t give me the 25 HTML sources I am looking for. This is where I am having troubles The part where I fetch 5 HTMLs from each url"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667918287,"post_id":74356556,"comment_id":131279065,"body_markdown":"urlLinks seems to be a HashMap","body":"urlLinks seems to be a HashMap"},{"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"score":0,"creation_date":1667922823,"post_id":74356556,"comment_id":131281074,"body_markdown":"trust me it&#39;s not. it&#39;s a Set","body":"trust me it&#39;s not. it&#39;s a Set"}],"owner":{"account_id":14440817,"reputation":419,"user_id":10431512,"display_name":"kidulf"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667889325,"creation_date":1667889325,"question_id":74356556,"body_markdown":"I am trying to create a web crawler that gets a URL, download its HTML source and save it, fetch the links on that HTML, and for every link extracted I should repeat the process.\r\nThe program should accept those arguments:\r\n\r\n1. The maximal amount of different URLs to extract from the page\r\n2. How deep the process should run\r\n3. Boolean flag indicating cross-level uniqueness\r\n\r\nFor example: `    \r\n        \r\n        public static void main(String[] args) throws IOException {\r\n                HtmlHandler htmlHandler = HtmlHandler.builder()\r\n                .url(&quot;https://www.google.com&quot;)\r\n                .amountOfUrls(5)\r\n                .depth(Depth.TWO)\r\n                .isUnique(true)\r\n                .build();\r\n               htmlHandler.crawlWebPages();\r\n    }`\r\n\r\nThe desired result from it would be:\r\n1. save the HTML of the provided URL to: 0/www_google_com_html and fetch 5 unique URL&#39;s from the HTML\r\n\r\n2. save the 5 HTML&#39;s from step 1 to: 1/www......  and fetch 5 unique URL&#39;s from each HTML\r\n \r\n3. save the 25 HTML&#39;s from step 2 to 2/www...... and quit the program\r\n\r\nI basically was able to make it work for depth 1 ( step 2) but I am not able to make the program work for depth 2 ( fetching the 25 HTML&#39;s)\r\n\r\nthis is the code that saves the HTML: \r\n\r\n        private void downloadHtml(String url, Depth depth) {\r\n        try {\r\n            FileUtils.copyURLToFile(new URL(url), new    File(StringHandler.createFileName(url, depth)));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;error downloading html source file&quot;, e);\r\n        }\r\n    }\r\n\r\n\r\nthis is the code that should fetch the URL&#39;s:\r\n\r\n     private void getPageLinks(Depth depth)  {\r\n        switch (depth) {\r\n            case ZERO -&gt; zeroDepthCrawling();\r\n            case ONE -&gt; oneDepthCrawling();\r\n            case TWO -&gt; twoDepthCrawling();\r\n        }\r\n    }\r\n\r\n    private void twoDepthCrawling()  {\r\n        oneDepthCrawling();\r\n        for(String url : urlLinks){\r\n            downloadHtml(url, Depth.TWO);\r\n            System.out.println(url + &quot; downloaded&quot;);\r\n        }\r\n    }\r\n\r\n    private void oneDepthCrawling()  {\r\n        zeroDepthCrawling();\r\n        getUrls(this.url);\r\n        for (String url : urlLinks) {\r\n            downloadHtml(url, Depth.ONE);\r\n            System.out.println(url + &quot; downloaded&quot;);\r\n            getUrls(url);\r\n        }\r\n    }\r\n\r\n    private void zeroDepthCrawling() {\r\n        downloadHtml(this.url, Depth.ZERO);\r\n        System.out.println(url + &quot; downloaded&quot;);\r\n    }\r\n\r\n    private void getUrls(String url)  {\r\n            Document doc;\r\n            int counter =0;\r\n            try {\r\n                doc = Jsoup.connect(url).get();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;couldn&#39;t fetch links&quot;);\r\n            }\r\n            Elements availableLinksOnPage = doc.select(&quot;a[href]&quot;);\r\n            for (Element element : availableLinksOnPage) {\r\n                if(counter &lt;= amountOfUrls){\r\n                    if(!urlLinks.contains(element.absUrl(&quot;href&quot;))){\r\n                        urlLinks.add(element.absUrl(&quot;href&quot;));\r\n                        counter++;\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n\r\nI am not sure what I am doing wrong. \r\nCan anyone please help?\r\nThanks\r\n\r\n","title":"java depth web crawler issue","body":"<p>I am trying to create a web crawler that gets a URL, download its HTML source and save it, fetch the links on that HTML, and for every link extracted I should repeat the process.\nThe program should accept those arguments:</p>\n<ol>\n<li>The maximal amount of different URLs to extract from the page</li>\n<li>How deep the process should run</li>\n<li>Boolean flag indicating cross-level uniqueness</li>\n</ol>\n<p>For example: `</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n            HtmlHandler htmlHandler = HtmlHandler.builder()\n            .url(&quot;https://www.google.com&quot;)\n            .amountOfUrls(5)\n            .depth(Depth.TWO)\n            .isUnique(true)\n            .build();\n           htmlHandler.crawlWebPages();\n}`\n</code></pre>\n<p>The desired result from it would be:</p>\n<ol>\n<li><p>save the HTML of the provided URL to: 0/www_google_com_html and fetch 5 unique URL's from the HTML</p>\n</li>\n<li><p>save the 5 HTML's from step 1 to: 1/www......  and fetch 5 unique URL's from each HTML</p>\n</li>\n<li><p>save the 25 HTML's from step 2 to 2/www...... and quit the program</p>\n</li>\n</ol>\n<p>I basically was able to make it work for depth 1 ( step 2) but I am not able to make the program work for depth 2 ( fetching the 25 HTML's)</p>\n<p>this is the code that saves the HTML:</p>\n<pre><code>    private void downloadHtml(String url, Depth depth) {\n    try {\n        FileUtils.copyURLToFile(new URL(url), new    File(StringHandler.createFileName(url, depth)));\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;error downloading html source file&quot;, e);\n    }\n}\n</code></pre>\n<p>this is the code that should fetch the URL's:</p>\n<pre><code> private void getPageLinks(Depth depth)  {\n    switch (depth) {\n        case ZERO -&gt; zeroDepthCrawling();\n        case ONE -&gt; oneDepthCrawling();\n        case TWO -&gt; twoDepthCrawling();\n    }\n}\n\nprivate void twoDepthCrawling()  {\n    oneDepthCrawling();\n    for(String url : urlLinks){\n        downloadHtml(url, Depth.TWO);\n        System.out.println(url + &quot; downloaded&quot;);\n    }\n}\n\nprivate void oneDepthCrawling()  {\n    zeroDepthCrawling();\n    getUrls(this.url);\n    for (String url : urlLinks) {\n        downloadHtml(url, Depth.ONE);\n        System.out.println(url + &quot; downloaded&quot;);\n        getUrls(url);\n    }\n}\n\nprivate void zeroDepthCrawling() {\n    downloadHtml(this.url, Depth.ZERO);\n    System.out.println(url + &quot; downloaded&quot;);\n}\n\nprivate void getUrls(String url)  {\n        Document doc;\n        int counter =0;\n        try {\n            doc = Jsoup.connect(url).get();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;couldn't fetch links&quot;);\n        }\n        Elements availableLinksOnPage = doc.select(&quot;a[href]&quot;);\n        for (Element element : availableLinksOnPage) {\n            if(counter &lt;= amountOfUrls){\n                if(!urlLinks.contains(element.absUrl(&quot;href&quot;))){\n                    urlLinks.add(element.absUrl(&quot;href&quot;));\n                    counter++;\n                }\n            }\n        }\n}\n</code></pre>\n<p>I am not sure what I am doing wrong.\nCan anyone please help?\nThanks</p>\n"},{"tags":["javascript","java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1667877547,"post_id":74355285,"comment_id":131267192,"body_markdown":"I don&#39;t believe that regular expressions are the right tool for this particular job.  Why do you think a regular expression is what you need?","body":"I don&#39;t believe that regular expressions are the right tool for this particular job.  Why do you think a regular expression is what you need?"},{"owner":{"account_id":933882,"reputation":2693,"user_id":963182,"accept_rate":76,"display_name":"Invictus"},"score":0,"creation_date":1667877708,"post_id":74355285,"comment_id":131267214,"body_markdown":"Then what would be the best way to the key and value ? Because, I need to find a way to get the key. I can&#39;t use the split here, as the `:` can be repeated in the string.","body":"Then what would be the best way to the key and value ? Because, I need to find a way to get the key. I can&#39;t use the split here, as the <code>:</code> can be repeated in the string."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667878744,"post_id":74355285,"comment_id":131267335,"body_markdown":"Your string `&quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:` is not in the form `&quot;key&quot; : &quot;value&quot;`","body":"Your string <code>&quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:</code> is not in the form <code>&quot;key&quot; : &quot;value&quot;</code>"},{"owner":{"account_id":933882,"reputation":2693,"user_id":963182,"accept_rate":76,"display_name":"Invictus"},"score":0,"creation_date":1667879600,"post_id":74355285,"comment_id":131267441,"body_markdown":"the key/value can contain anything... like double quotes/ blackslashes.","body":"the key/value can contain anything... like double quotes/ blackslashes."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1667881289,"post_id":74355285,"comment_id":131267622,"body_markdown":"If this is JSON, you could use a JSON parser.  If these strings not intended to conform to JSON rules, you might have to write your own parser which iterates through the string and identifies the correct `:` character to split on, and any unescaped quote marks.","body":"If this is JSON, you could use a JSON parser.  If these strings not intended to conform to JSON rules, you might have to write your own parser which iterates through the string and identifies the correct <code>:</code> character to split on, and any unescaped quote marks."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667887835,"post_id":74355285,"comment_id":131268580,"body_markdown":"`value\\&quot;:1234\\&quot;:` is not surrounded with `&quot;` characters.","body":"<code>value\\&quot;:1234\\&quot;:</code> is not surrounded with <code>&quot;</code> characters."},{"owner":{"account_id":3486275,"reputation":7429,"user_id":7475450,"display_name":"Peter Thoeny"},"score":0,"creation_date":1668029143,"post_id":74355285,"comment_id":131311532,"body_markdown":"Not clear. In your input `&quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:`, what is the key (`abcd-1234\\&quot;:`?) and value (`value\\&quot;:1234\\&quot;:`?). Also could you post an example with multiple key/values, and expected result?","body":"Not clear. In your input <code>&quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:</code>, what is the key (<code>abcd-1234\\&quot;:</code>?) and value (<code>value\\&quot;:1234\\&quot;:</code>?). Also could you post an example with multiple key/values, and expected result?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667877779,"creation_date":1667877779,"answer_id":74355363,"question_id":74355285,"body_markdown":"Imagine the following string: `&quot;\\\\&quot;` - That contains `\\&quot;` but is still a complete, valid string. You can&#39;t just &#39;ignore `\\&quot;` - you have to count backslashes.\r\n\r\n`(?:[^&quot;\\\\]|\\\\.)` will cover any &#39;in-the-string&#39; character: Either a backslash followed by anything (. is anything), or any character at all, as long as it isn&#39;t either a backslash, or a quote. A string is a quote, followed by any amount of those, followed by a quote, thus, a regexp appears.\r\n\r\nHowever, regexps probably aren&#39;t the right tool for the job. This looks like a part of a JSON formatted input; there are JSON parsers that do a much better job on this, covering far more cases.","title":"regex for capturing the values","body":"<p>Imagine the following string: <code>&quot;\\\\&quot;</code> - That contains <code>\\&quot;</code> but is still a complete, valid string. You can't just 'ignore <code>\\&quot;</code> - you have to count backslashes.</p>\n<p><code>(?:[^&quot;\\\\]|\\\\.)</code> will cover any 'in-the-string' character: Either a backslash followed by anything (. is anything), or any character at all, as long as it isn't either a backslash, or a quote. A string is a quote, followed by any amount of those, followed by a quote, thus, a regexp appears.</p>\n<p>However, regexps probably aren't the right tool for the job. This looks like a part of a JSON formatted input; there are JSON parsers that do a much better job on this, covering far more cases.</p>\n"}],"owner":{"account_id":933882,"reputation":2693,"user_id":963182,"accept_rate":76,"display_name":"Invictus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667889267,"creation_date":1667876941,"question_id":74355285,"body_markdown":"need some help with nested double quotes regex, \r\n\r\nI have the following string:\r\n\r\n    &quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:\r\n\r\n and I want to capture the entire string and separate it out into key and value pair but I am not able to come with a proper regex. \r\n\r\nBasically, I have the following string format --&gt;\r\n\r\n     &quot;key&quot; : &quot;value&quot;\r\n\r\n and I want to find a proper regex for the string format. \r\n\r\nI am able capture the key and value individually  with the following regex --&gt; \r\n\r\n    ((^[\\&quot;]).*\\2(?![^:]))\r\n\r\nBut not able to get a proper regex for the entire string. \r\n\r\nPlease, can someone help me with the regex.","title":"regex for capturing the values","body":"<p>need some help with nested double quotes regex,</p>\n<p>I have the following string:</p>\n<pre><code>&quot;abcd-1234\\&quot;:&quot;  :   value\\&quot;:1234\\&quot;:\n</code></pre>\n<p>and I want to capture the entire string and separate it out into key and value pair but I am not able to come with a proper regex.</p>\n<p>Basically, I have the following string format --&gt;</p>\n<pre><code> &quot;key&quot; : &quot;value&quot;\n</code></pre>\n<p>and I want to find a proper regex for the string format.</p>\n<p>I am able capture the key and value individually  with the following regex --&gt;</p>\n<pre><code>((^[\\&quot;]).*\\2(?![^:]))\n</code></pre>\n<p>But not able to get a proper regex for the entire string.</p>\n<p>Please, can someone help me with the regex.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1528637503,"post_id":50783644,"comment_id":88574829,"body_markdown":"It&#39;s worth noting that you are using an obsolete version of Hibernate.","body":"It&#39;s worth noting that you are using an obsolete version of Hibernate."}],"answers":[{"tags":[],"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1528634606,"creation_date":1528633449,"answer_id":50783645,"question_id":50783644,"body_markdown":"I have found a way to add backticks to the column names in hibernate.\r\n\r\n 1. Open the xml file (TableName.hbm.xml) relative to the pojo file which has been mapped.\r\n 2. Find the property for the relative column.\r\n\r\n        &lt;property name=&quot;key&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;key&quot; /&gt;\r\n        &lt;/property&gt;\r\n 3. Surround the column name with square brackets.\r\n\r\n        &lt;property name=&quot;key&quot; type=&quot;string&quot;&gt;\r\n            &lt;column name=&quot;[key]&quot; /&gt;\r\n        &lt;/property&gt;\r\n\r\n----------\r\n\r\nBut this is a painstaking process as You&#39;ll have to do this to all the columns one by one for all the [MySQL keywords][1]. The best way is to avoid adding [MySQL keywords][1] as your database, table or column name.\r\n\r\nReferences :\r\n\r\n - [How to use database reserved keyword in Hibernate ?](http://www.mkyong.com/hibernate/how-to-use-database-reserved-keyword-in-hibernate/)\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.5/en/keywords.html","title":"Add `backticks` to column names in hibernate","body":"<p>I have found a way to add backticks to the column names in hibernate.</p>\n\n<ol>\n<li>Open the xml file (TableName.hbm.xml) relative to the pojo file which has been mapped.</li>\n<li><p>Find the property for the relative column.</p>\n\n<pre><code>&lt;property name=\"key\" type=\"string\"&gt;\n    &lt;column name=\"key\" /&gt;\n&lt;/property&gt;\n</code></pre></li>\n<li><p>Surround the column name with square brackets.</p>\n\n<pre><code>&lt;property name=\"key\" type=\"string\"&gt;\n    &lt;column name=\"[key]\" /&gt;\n&lt;/property&gt;\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p>But this is a painstaking process as You'll have to do this to all the columns one by one for all the <a href=\"https://dev.mysql.com/doc/refman/5.5/en/keywords.html\" rel=\"nofollow noreferrer\">MySQL keywords</a>. The best way is to avoid adding <a href=\"https://dev.mysql.com/doc/refman/5.5/en/keywords.html\" rel=\"nofollow noreferrer\">MySQL keywords</a> as your database, table or column name.</p>\n\n<p>References :</p>\n\n<ul>\n<li><a href=\"http://www.mkyong.com/hibernate/how-to-use-database-reserved-keyword-in-hibernate/\" rel=\"nofollow noreferrer\">How to use database reserved keyword in Hibernate ?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24382084,"reputation":31,"user_id":18313463,"display_name":"Yao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667888715,"creation_date":1667888715,"answer_id":74356464,"question_id":50783644,"body_markdown":"The best solution is:\r\n\r\n 1. choose the right dialect class (e.g. if it is mysql8.0, use MySQL8Dialect;\r\n    mysql5.7, use MySQL57Dialect...)\r\n 2. configure **hibernate.auto_quote_keyword**=true (default:false)\r\n\r\nThe correct dialect class will register all key words of the corresponding mysql version.\r\nthe #2 will enable the quote for key words in all statements (DDL, select, insert...).\r\n\r\n","title":"Add `backticks` to column names in hibernate","body":"<p>The best solution is:</p>\n<ol>\n<li>choose the right dialect class (e.g. if it is mysql8.0, use MySQL8Dialect;\nmysql5.7, use MySQL57Dialect...)</li>\n<li>configure <strong>hibernate.auto_quote_keyword</strong>=true (default:false)</li>\n</ol>\n<p>The correct dialect class will register all key words of the corresponding mysql version.\nthe #2 will enable the quote for key words in all statements (DDL, select, insert...).</p>\n"}],"owner":{"account_id":2799929,"reputation":8527,"user_id":2408342,"accept_rate":90,"display_name":"Roshana Pitigala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50783645,"answer_count":2,"score":0,"last_activity_date":1667888715,"creation_date":1528633449,"question_id":50783644,"body_markdown":"Consider the query\r\n\r\n    INSERT INTO order (id, key, value) VALUES (?, ?, ?);\r\n\r\nThere are MySQL syntax errors in the above query as `order` and `key` are keywords in MySQL. So the solution would be to add backticks in the query.\r\n\r\n    INSERT INTO `order` (id, `key`, value) VALUES (?, ?, ?);\r\n\r\nHibernate is dumb enough not to do this automatically. According to [this answer](https://stackoverflow.com/a/14943679/2408342) by adding the following property to the hibernate configuration file solves the problem with the table name.\r\n\r\n    &lt;property name=&quot;hibernate.globally_quoted_identifiers&quot;&gt;true&lt;/property&gt;\r\n\r\nBut this only adds backticks to the database name and the table name. Problem is still there with the column name.\r\n\r\n&gt;**How can I add backticks to all the column names?**\r\n\r\n\r\n----------\r\n\r\n\r\n - Hibernate version : 3.6.10.Final\r\n - MySQL version : 5.7\r\n - hibernate.dialect : org.hibernate.dialect.MySQL5Dialect\r\n - JDK version : 1.8 (if that has to do with anything)","title":"Add `backticks` to column names in hibernate","body":"<p>Consider the query</p>\n\n<pre><code>INSERT INTO order (id, key, value) VALUES (?, ?, ?);\n</code></pre>\n\n<p>There are MySQL syntax errors in the above query as <code>order</code> and <code>key</code> are keywords in MySQL. So the solution would be to add backticks in the query.</p>\n\n<pre><code>INSERT INTO `order` (id, `key`, value) VALUES (?, ?, ?);\n</code></pre>\n\n<p>Hibernate is dumb enough not to do this automatically. According to <a href=\"https://stackoverflow.com/a/14943679/2408342\">this answer</a> by adding the following property to the hibernate configuration file solves the problem with the table name.</p>\n\n<pre><code>&lt;property name=\"hibernate.globally_quoted_identifiers\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>But this only adds backticks to the database name and the table name. Problem is still there with the column name.</p>\n\n<blockquote>\n  <p><strong>How can I add backticks to all the column names?</strong></p>\n</blockquote>\n\n<hr>\n\n<ul>\n<li>Hibernate version : 3.6.10.Final</li>\n<li>MySQL version : 5.7</li>\n<li>hibernate.dialect : org.hibernate.dialect.MySQL5Dialect</li>\n<li>JDK version : 1.8 (if that has to do with anything)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","application.properties"],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667888465,"creation_date":1667888465,"answer_id":74356439,"question_id":74356422,"body_markdown":" 1.  `server.port = ${PORT:8080}` will check for an environment variable `PORT` and take its value , if not present defaults to `8080`.\r\n 2. `server.port =8080` will always be `8080`","title":"what is the difference between below two statements in application.properties file in spring boot","body":"<ol>\n<li><code>server.port = ${PORT:8080}</code> will check for an environment variable <code>PORT</code> and take its value , if not present defaults to <code>8080</code>.</li>\n<li><code>server.port =8080</code> will always be <code>8080</code></li>\n</ol>\n"}],"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74356439,"answer_count":1,"score":3,"last_activity_date":1667888465,"creation_date":1667888320,"question_id":74356422,"body_markdown":"what is the difference between below two statements in application.properties file in spring boot.\r\n\r\nserver.port =8080\r\nand \r\nserver.port = ${PORT:8080}\r\n\r\nplease help with the explanation","title":"what is the difference between below two statements in application.properties file in spring boot","body":"<p>what is the difference between below two statements in application.properties file in spring boot.</p>\n<p>server.port =8080\nand\nserver.port = ${PORT:8080}</p>\n<p>please help with the explanation</p>\n"},{"tags":["java","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":25313691,"reputation":83,"user_id":19136108,"display_name":"Andromeda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667888217,"creation_date":1667888217,"answer_id":74356410,"question_id":74356168,"body_markdown":"You need to set the `WAR` file, which should be deployed in part `&quot;Deployment&quot;`. And you need to set the application context e.g. to `/my_web_war`\r\n","title":"Intellij IDEA Java no web page found for the following web address: http://localhost:8090","body":"<p>You need to set the <code>WAR</code> file, which should be deployed in part <code>&quot;Deployment&quot;</code>. And you need to set the application context e.g. to <code>/my_web_war</code></p>\n"}],"owner":{"display_name":"user20263794"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356410,"answer_count":1,"score":0,"last_activity_date":1667888217,"creation_date":1667886416,"question_id":74356168,"body_markdown":"When I changed project directory in my Java project on Intellij IDEA and when I started the project I got error what &quot;no web page found for the following web address: http://localhost:8090&quot;. My Tomcat settings is below. I fixed all settings for new directory but I can&#39;t start the project. How can I fix it ?\r\n\r\n[Tomcat settings][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X5P1r.png","title":"Intellij IDEA Java no web page found for the following web address: http://localhost:8090","body":"<p>When I changed project directory in my Java project on Intellij IDEA and when I started the project I got error what &quot;no web page found for the following web address: http://localhost:8090&quot;. My Tomcat settings is below. I fixed all settings for new directory but I can't start the project. How can I fix it ?</p>\n<p><a href=\"https://i.stack.imgur.com/X5P1r.png\" rel=\"nofollow noreferrer\">Tomcat settings</a></p>\n"},{"tags":["java","fix-protocol","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1646345752,"post_id":71336252,"comment_id":126107150,"body_markdown":"There was a similar question some days ago. Why do you use different versions on your QuickFIX/J dependencies? Probably HaltReason changed its type between  FIX5.0 and FIX5.0SP2.","body":"There was a similar question some days ago. Why do you use different versions on your QuickFIX/J dependencies? Probably HaltReason changed its type between  FIX5.0 and FIX5.0SP2."},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646378761,"post_id":71336252,"comment_id":126112803,"body_markdown":"Does it related with other fix versions?(FIX42, FIX44...) When i use dependency for FIX50SP2  all messages are rejected, it doesn&#39;t even pass to the on message function. @ChristophJohn","body":"Does it related with other fix versions?(FIX42, FIX44...) When i use dependency for FIX50SP2  all messages are rejected, it doesn&#39;t even pass to the on message function. @ChristophJohn"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1646398881,"post_id":71336252,"comment_id":126119253,"body_markdown":"You probably need to use fix50sp2 classes in your message cracker.","body":"You probably need to use fix50sp2 classes in your message cracker."},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646400808,"post_id":71336252,"comment_id":126119995,"body_markdown":"I extend quickfixj core&#39;s message cracker in my  FIXApplication50. If you mean onMessage classes on the same class, fix engine rejects all messages when i changed onMessage to FIX50SP2. Could you give a further explanation? @ChristophJohn","body":"I extend quickfixj core&#39;s message cracker in my  FIXApplication50. If you mean onMessage classes on the same class, fix engine rejects all messages when i changed onMessage to FIX50SP2. Could you give a further explanation? @ChristophJohn"},{"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"score":0,"creation_date":1646408132,"post_id":71336252,"comment_id":126122711,"body_markdown":"What is `HaltReason`&#39;s value (tag 327) in the message that you are receiving?","body":"What is <code>HaltReason</code>&#39;s value (tag 327) in the message that you are receiving?"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1646519473,"post_id":71336252,"comment_id":126144654,"body_markdown":"@OP Maybe your message factory still produces fix50 message objects instead of fix50sp2 objects?","body":"@OP Maybe your message factory still produces fix50 message objects instead of fix50sp2 objects?"},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646638253,"post_id":71336252,"comment_id":126164095,"body_markdown":"Yes, but I don&#39;t know what could be the reason or how to solve it. @ChristophJohn","body":"Yes, but I don&#39;t know what could be the reason or how to solve it. @ChristophJohn"},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646652797,"post_id":71336252,"comment_id":126168489,"body_markdown":"The weird thing is there is no HaltReason (tag 327) field in the message we are receiving @GrantBirchmeier","body":"The weird thing is there is no HaltReason (tag 327) field in the message we are receiving @GrantBirchmeier"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1646671789,"post_id":71336252,"comment_id":126176179,"body_markdown":"@Başakg&#246;ren what do you mean? You should have implemented (or used or overriden) a `MessageFactory` somewhere in your code. Make sure that the factory produces fix50sp2 messages.","body":"@Başakg&#246;ren what do you mean? You should have implemented (or used or overriden) a <code>MessageFactory</code> somewhere in your code. Make sure that the factory produces fix50sp2 messages."},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646734199,"post_id":71336252,"comment_id":126191567,"body_markdown":"@ChristophJohn I am using DefaultMessageFactory that implements MessageFactory.","body":"@ChristophJohn I am using DefaultMessageFactory that implements MessageFactory."},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1646817257,"post_id":71336252,"comment_id":126215420,"body_markdown":"You can see in your stack trace that `quickfix.fix50.MessageFactory` is used. This is probably caused by your mix of quickfixj versions in your dependencies. Because since QFJ 2.1.0 it should use `fix50sp2.MessageFactory` by default. See here: https://github.com/quickfix-j/quickfixj/blob/2f4fda1f0dbcfd1185cf01533b0a614e00808478/quickfixj-core/src/main/java/quickfix/DefaultMessageFactory.java#L58","body":"You can see in your stack trace that <code>quickfix.fix50.MessageFactory</code> is used. This is probably caused by your mix of quickfixj versions in your dependencies. Because since QFJ 2.1.0 it should use <code>fix50sp2.MessageFactory</code> by default. See here: <a href=\"https://github.com/quickfix-j/quickfixj/blob/2f4fda1f0dbcfd1185cf01533b0a614e00808478/quickfixj-core/src/main/java/quickfix/DefaultMessageFactory.java#L58\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/&hellip;</a>"},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1647003387,"post_id":71336252,"comment_id":126269553,"body_markdown":"@ChristophJohn I deleted other fix dependencies and keep just quickfixj-messages-fix50sp2 v2.3.1 &amp; quickfixj-core v2.3.1. I just use two onMessage functions for SecurityDefinition and SecurityDefinitionUpdateReport. However all messages rejected by our client with an Unsupported Message request With quickfixJ v2.3.1 and DefaultMessageFactory. Sample fix message : \n8=FIXT.1.19=00035=j34=0000=foo50=foo52=20220311-12:40:40.16856=fooT45=580658=Unsupported Message Type372=d380=310=084","body":"@ChristophJohn I deleted other fix dependencies and keep just quickfixj-messages-fix50sp2 v2.3.1 &amp; quickfixj-core v2.3.1. I just use two onMessage functions for SecurityDefinition and SecurityDefinitionUpdateReport. However all messages rejected by our client with an Unsupported Message request With quickfixJ v2.3.1 and DefaultMessageFactory. Sample fix message :  8=FIXT.1.19=00035=j34=0000=foo50=foo52=20220311-12:40:40.168&zwnj;&#8203;56=fooT45=580658=Uns&zwnj;&#8203;upported Message Type372=d380=310=084"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1647014317,"post_id":71336252,"comment_id":126273835,"body_markdown":"Is your `FIXApplication50.java` still implemented as in your original question? If yes, try to use full qualified class names as first parameter in the `onMessage` methods. Example: https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-core/src/test/java/quickfix/test/acceptance/ATMessageCracker.java Basically the reason for the message rejection is that a handler method for a given message could not be found.","body":"Is your <code>FIXApplication50.java</code> still implemented as in your original question? If yes, try to use full qualified class names as first parameter in the <code>onMessage</code> methods. Example: <a href=\"https://github.com/quickfix-j/quickfixj/blob/master/quickfixj-core/src/test/java/quickfix/test/acceptance/ATMessageCracker.java\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/master/quickfixj-core/s&zwnj;&#8203;rc/&hellip;</a> Basically the reason for the message rejection is that a handler method for a given message could not be found."},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1647248973,"post_id":71336252,"comment_id":126314527,"body_markdown":"Yes, implemented. I changed onMessage&#39;s first parameters as full qualified class names. &quot;public void onMessage(quickfix.fix50sp2.SecurityDefinition refData, SessionID sessionID)&quot;. But still taking unsupported message type for all messages. @ChristophJohn","body":"Yes, implemented. I changed onMessage&#39;s first parameters as full qualified class names. &quot;public void onMessage(quickfix.fix50sp2.SecurityDefinition refData, SessionID sessionID)&quot;. But still taking unsupported message type for all messages. @ChristophJohn"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1647263408,"post_id":71336252,"comment_id":126319899,"body_markdown":"As said the problem is most likely the message factory. What happens if you add an onMessage method with a general quickfix.Message as parameter?","body":"As said the problem is most likely the message factory. What happens if you add an onMessage method with a general quickfix.Message as parameter?"},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1647427599,"post_id":71336252,"comment_id":126366584,"body_markdown":"All messages were dropped to onMessage when I was using like this;\n\npublic void onMessage(Message message, SessionID) @ChristophJohn","body":"All messages were dropped to onMessage when I was using like this;  public void onMessage(Message message, SessionID) @ChristophJohn"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1647458172,"post_id":71336252,"comment_id":126379297,"body_markdown":"So does this mean it is solved or what do you mean by &quot;dropped&quot;?","body":"So does this mean it is solved or what do you mean by &quot;dropped&quot;?"},{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1647507848,"post_id":71336252,"comment_id":126390246,"body_markdown":"No, it&#39;s not solved, that way I&#39;ll have to handle all my messages myself, which is the message cracker&#39;s job. @ChristophJohn","body":"No, it&#39;s not solved, that way I&#39;ll have to handle all my messages myself, which is the message cracker&#39;s job. @ChristophJohn"},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1647516353,"post_id":71336252,"comment_id":126393226,"body_markdown":"Well that only proves what I stated in my last comments. The factory does not seem to produce fix50sp2 messages. I think I cannot help you any further than that","body":"Well that only proves what I stated in my last comments. The factory does not seem to produce fix50sp2 messages. I think I cannot help you any further than that"}],"answers":[{"comments":[{"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"score":0,"creation_date":1646379943,"post_id":71338626,"comment_id":126113142,"body_markdown":"UseDataDictionary=Y ,AppDataDictionary=&lt;path/to/your/FIX50SP2.xml&gt;,TransportDataDictionary=&lt;path/to/your/FIXT11.xml&gt; already exists in session.prop. I did not put this field in the example session.properties. My DD is correct. And Even if I put onMessage function, Halt reason exception is occuring in crack(message, sessionId) line inside fromApp function before onMessage. Moreover, how are these ValidateIncomingMessage=N and CheckLatency=N config related with the issue?","body":"UseDataDictionary=Y ,AppDataDictionary=&lt;path/to/your/FIX50SP2.xml&gt;,TransportData&zwnj;&#8203;Dictionary=&lt;path/to/&zwnj;&#8203;your/FIXT11.xml&gt; already exists in session.prop. I did not put this field in the example session.properties. My DD is correct. And Even if I put onMessage function, Halt reason exception is occuring in crack(message, sessionId) line inside fromApp function before onMessage. Moreover, how are these ValidateIncomingMessage=N and CheckLatency=N config related with the issue?"},{"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"score":0,"creation_date":1646408176,"post_id":71338626,"comment_id":126122728,"body_markdown":"While these suggestions are valid issues that I see in what you posted, I guess they were not related to your issue.","body":"While these suggestions are valid issues that I see in what you posted, I guess they were not related to your issue."}],"tags":[],"owner":{"account_id":327857,"reputation":18034,"user_id":650475,"accept_rate":96,"display_name":"Grant Birchmeier"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646408236,"creation_date":1646316880,"answer_id":71338626,"question_id":71336252,"body_markdown":"I&#39;m not sure precisely what is causing your exception, but I do see some issues that you should address:\r\n\r\n1. Config issues:\r\n\r\n    Looks like you are using FIX50SP2, so you need:\r\n    * UseDataDictionary=Y\r\n    * AppDataDictionary=&lt;path/to/your/FIX50SP2.xml&gt;\r\n    * TransportDataDictionary=&lt;path/to/your/FIXT11.xml&gt;\r\n\r\n    *(In asker&#39;s initial edit, these fields were not present)*\r\n\r\n    And I **don&#39;t** think you want `ValidateIncomingMessage=N`.  This setting *always* tells me that someone doesn&#39;t know what they&#39;re doing!  If your connection is using repeating groups (and I&#39;ve never seen one that doesn&#39;t), you must have a correct DD.  If your DD is correct, then validation is nothing to worry about.\r\n\r\n    Also, do you really need `CheckLatency=N`?\r\n\r\n\r\n2. You probably *do* need a SecurityStatus handler\r\n\r\n    &gt; Security Status does not have onMessage function because I am not using this message so I do not expect to handle other type of messages. \r\n\r\n    If you do not provide an `onMessage(SecurityStatus)` handler, then your app will respond to those messages with 35=j rejections.  If you truly want to ignore this message, then you should add this handler with an empty implementation.\r\n","title":"quickfix/field/HaltReason is not assignable to &#39;quickfix/IntField","body":"<p>I'm not sure precisely what is causing your exception, but I do see some issues that you should address:</p>\n<ol>\n<li><p>Config issues:</p>\n<p>Looks like you are using FIX50SP2, so you need:</p>\n<ul>\n<li>UseDataDictionary=Y</li>\n<li>AppDataDictionary=&lt;path/to/your/FIX50SP2.xml&gt;</li>\n<li>TransportDataDictionary=&lt;path/to/your/FIXT11.xml&gt;</li>\n</ul>\n<p><em>(In asker's initial edit, these fields were not present)</em></p>\n<p>And I <strong>don't</strong> think you want <code>ValidateIncomingMessage=N</code>.  This setting <em>always</em> tells me that someone doesn't know what they're doing!  If your connection is using repeating groups (and I've never seen one that doesn't), you must have a correct DD.  If your DD is correct, then validation is nothing to worry about.</p>\n<p>Also, do you really need <code>CheckLatency=N</code>?</p>\n</li>\n<li><p>You probably <em>do</em> need a SecurityStatus handler</p>\n<blockquote>\n<p>Security Status does not have onMessage function because I am not using this message so I do not expect to handle other type of messages.</p>\n</blockquote>\n<p>If you do not provide an <code>onMessage(SecurityStatus)</code> handler, then your app will respond to those messages with 35=j rejections.  If you truly want to ignore this message, then you should add this handler with an empty implementation.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667888187,"creation_date":1667888187,"answer_id":74356405,"question_id":71336252,"body_markdown":"You need to read it as a custom tag as follows - (tested):\r\n\r\n              try {\r\n                  \r\n                        response.setHaltReason(report.getString(327));\r\n                \r\n                } catch (Exception e) {\r\n                    log.error...\r\n                }\r\n\r\nwhere report is quickfix.fix44.SecurityStatus","title":"quickfix/field/HaltReason is not assignable to &#39;quickfix/IntField","body":"<p>You need to read it as a custom tag as follows - (tested):</p>\n<pre><code>          try {\n              \n                    response.setHaltReason(report.getString(327));\n            \n            } catch (Exception e) {\n                log.error...\n            }\n</code></pre>\n<p>where report is quickfix.fix44.SecurityStatus</p>\n"}],"owner":{"account_id":14250382,"reputation":31,"user_id":10294144,"display_name":"Başak G&#246;ren"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667888187,"creation_date":1646306263,"question_id":71336252,"body_markdown":"When I logon, I&#39;m sending a application message request (BW) and server responding with multiple type of messages, but for the Security Status one, it returns Halt Reason Exception. I have 2 onMessage function, these for Security Definition Report and Security Definition Update Report. Security Status does not have onMessage function because I am not using this message so I do not expect to handle other type of messages. When a security status message received, we are getting HaltReason exception. And after all this, our client can&#39;t receive any heartbeat from server, so our client is disconnecting and sending another login request. It causes a loop which we get messages, disconnect with Halt reason exception and request again. \r\nWe are using FIX50SP2 with FIXT1.1 but MessageCracker maps these messages to FIX50. Also We use quickfix 2.3.1 version and DefaultMessageFactory for receiving FIX messages.\r\n\r\nExample:\r\n\r\nevent&gt; (Received logon)\r\n\r\nincoming&gt; (8=FIXT.1.1 9=00000 35=f 49=foo 56=foo 34=0000  57=0000 52=20220302-10:11:09.908 1180=R 1181=0000 1350=0000 55=foo 48=0000 22=M 336=135 325=N 60=20220302-10:11:09.908 10=119)\r\n\r\nerror&gt; (java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    quickfix/fix50/SecurityStatus.get(Lquickfix/field/HaltReason;)Lquickfix/field/HaltReason; @2: invokevirtual\r\n  Reason:\r\n    Type &#39;quickfix/field/HaltReason&#39; (current frame, stack[1]) is not assignable to &#39;quickfix/IntField&#39;\r\n  Current Frame:\r\n    bci: @2\r\n    flags: { }\r\n    locals: { &#39;quickfix/fix50/SecurityStatus&#39;, &#39;quickfix/field/HaltReason&#39; }\r\n    stack: { &#39;quickfix/fix50/SecurityStatus&#39;, &#39;quickfix/field/HaltReason&#39; }\r\n  Bytecode:\r\n    0x0000000: 2a2b b600 2457 2bb0                    \r\n\r\njava.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    quickfix/fix50/SecurityStatus.get(Lquickfix/field/HaltReason;)Lquickfix/field/HaltReason; @2: invokevirtual\r\n  Reason:\r\n    Type &#39;quickfix/field/HaltReason&#39; (current frame, stack[1]) is not assignable to &#39;quickfix/IntField&#39;\r\n  Current Frame:\r\n    bci: @2\r\n    flags: { }\r\n    locals: { &#39;quickfix/fix50/SecurityStatus&#39;, &#39;quickfix/field/HaltReason&#39; }\r\n    stack: { &#39;quickfix/fix50/SecurityStatus&#39;, &#39;quickfix/field/HaltReason&#39; }\r\n  Bytecode:\r\n    0x0000000: 2a2b b600 2457 2bb0                    \r\n\r\n\tat quickfix.fix50.MessageFactory.create(MessageFactory.java:120)\r\n\tat quickfix.DefaultMessageFactory.create(DefaultMessageFactory.java:141)\r\n\tat quickfix.MessageUtils.parse(MessageUtils.java:145)\r\n\tat quickfix.mina.AbstractIoHandler.messageReceived(AbstractIoHandler.java:131)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)\r\n\tat org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)\r\n\tat org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)\r\n\tat org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\r\n\tat org.apache.mina.core.filterchain.DefaultIoFilterChain.fireMessageReceived(DefaultIoFilterChain.java:535)\r\n\tat org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:703)\r\n\tat org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)\r\n\tat org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)\r\n\tat org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)\r\n\tat org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)\r\n\tat org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n)\r\n\r\n\r\npom.xml : \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix40&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix41&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix42&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix43&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix44&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-messages-fix50&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nFIXApplication50.java:\r\n    \r\n    import org.apache.log4j.Logger;\r\n    import quickfix.Message;\r\n    import quickfix.MessageCracker;\r\n    import quickfix.*;\r\n    import quickfix.field.*;\r\n    import quickfix.fix50.*;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class FIXApplication50 extends MessageCracker implements Application {\r\n\r\n        public FIXApplication50() throws ConfigError {\r\n        }\r\n    \r\n        public void onMessage(SecurityDefinition refData, SessionID sessionID) {\r\n            \r\n        }\r\n    \r\n        public void onMessage(SecurityDefinitionUpdateReport refData, SessionID sessionID) {\r\n    \r\n        }\r\n    \r\n        public void onCreate(SessionID sessionID) {\r\n    \r\n        }\r\n   \r\n        public void sendApplicationMessageRequest(Message message, SessionID sessionID) {\r\n    \r\n        }\r\n    \r\n        public void onLogon(SessionID sessionID) {\r\n            Message message = new Message();\r\n    \r\n            sendApplicationMessageRequest(message, sessionID);\r\n        }\r\n    \r\n        public void onLogout(SessionID sessionID) {\r\n    \r\n        }\r\n    \r\n    \r\n        public void toAdmin(Message message, SessionID sessionID) {\r\n          \r\n        }\r\n    \r\n    \r\n        public void fromAdmin(Message message, SessionID sessionID) throws FieldNotFound, IncorrectDataFormat, IncorrectTagValue, RejectLogon {\r\n    \r\n        }\r\n    \r\n    \r\n        public void toApp(Message message, SessionID sessionID) throws DoNotSend {\r\n    \r\n        }\r\n    \r\n        public void fromApp(Message message, SessionID sessionId)\r\n                throws FieldNotFound, IncorrectDataFormat, IncorrectTagValue, UnsupportedMessageType {\r\n            crack(message, sessionId);\r\n        }\r\n    }\r\n\r\nsession.properties :\r\n\r\n    [DEFAULT]\r\n    ConnectionType=initiator\r\n    ReconnectInterval=60\r\n    ResetOnLogon=Y\r\n    FileLogPath=logs/plugins/foo/Client_Logs\r\n    SenderCompID=foo\r\n    SenderSubID=foo\r\n    ValidateIncomingMessage=N\r\n    \r\n    [SESSION]\r\n    BeginString=FIXT.1.1\r\n    TargetCompID=foo\r\n    StartDay=sunday\r\n    EndDay=friday\r\n    StartTime=21:35:00\r\n    EndTime=21:30:00\r\n    HeartBtInt=30\r\n    CheckLatency=N\r\n    SocketConnectPort=0000\r\n    SocketConnectHost=00.00.00\r\n    DefaultApplVerID=FIX.5.0SP2\r\n    TransportDataDictionary=config/plugins/foo/FIXT11.xml\r\n    AppDataDictionary=config/plugins/foo/RefDataFIX50sp2.xml\r\n\r\n","title":"quickfix/field/HaltReason is not assignable to &#39;quickfix/IntField","body":"<p>When I logon, I'm sending a application message request (BW) and server responding with multiple type of messages, but for the Security Status one, it returns Halt Reason Exception. I have 2 onMessage function, these for Security Definition Report and Security Definition Update Report. Security Status does not have onMessage function because I am not using this message so I do not expect to handle other type of messages. When a security status message received, we are getting HaltReason exception. And after all this, our client can't receive any heartbeat from server, so our client is disconnecting and sending another login request. It causes a loop which we get messages, disconnect with Halt reason exception and request again.\nWe are using FIX50SP2 with FIXT1.1 but MessageCracker maps these messages to FIX50. Also We use quickfix 2.3.1 version and DefaultMessageFactory for receiving FIX messages.</p>\n<p>Example:</p>\n<p>event&gt; (Received logon)</p>\n<p>incoming&gt; (8=FIXT.1.1 9=00000 35=f 49=foo 56=foo 34=0000  57=0000 52=20220302-10:11:09.908 1180=R 1181=0000 1350=0000 55=foo 48=0000 22=M 336=135 325=N 60=20220302-10:11:09.908 10=119)</p>\n<p>error&gt; (java.lang.VerifyError: Bad type on operand stack\nException Details:\nLocation:\nquickfix/fix50/SecurityStatus.get(Lquickfix/field/HaltReason;)Lquickfix/field/HaltReason; @2: invokevirtual\nReason:\nType 'quickfix/field/HaltReason' (current frame, stack[1]) is not assignable to 'quickfix/IntField'\nCurrent Frame:\nbci: @2\nflags: { }\nlocals: { 'quickfix/fix50/SecurityStatus', 'quickfix/field/HaltReason' }\nstack: { 'quickfix/fix50/SecurityStatus', 'quickfix/field/HaltReason' }\nBytecode:\n0x0000000: 2a2b b600 2457 2bb0</p>\n<p>java.lang.VerifyError: Bad type on operand stack\nException Details:\nLocation:\nquickfix/fix50/SecurityStatus.get(Lquickfix/field/HaltReason;)Lquickfix/field/HaltReason; @2: invokevirtual\nReason:\nType 'quickfix/field/HaltReason' (current frame, stack[1]) is not assignable to 'quickfix/IntField'\nCurrent Frame:\nbci: @2\nflags: { }\nlocals: { 'quickfix/fix50/SecurityStatus', 'quickfix/field/HaltReason' }\nstack: { 'quickfix/fix50/SecurityStatus', 'quickfix/field/HaltReason' }\nBytecode:\n0x0000000: 2a2b b600 2457 2bb0</p>\n<pre><code>at quickfix.fix50.MessageFactory.create(MessageFactory.java:120)\nat quickfix.DefaultMessageFactory.create(DefaultMessageFactory.java:141)\nat quickfix.MessageUtils.parse(MessageUtils.java:145)\nat quickfix.mina.AbstractIoHandler.messageReceived(AbstractIoHandler.java:131)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain$TailFilter.messageReceived(DefaultIoFilterChain.java:858)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)\nat org.apache.mina.filter.codec.ProtocolCodecFilter$ProtocolDecoderOutputImpl.flush(ProtocolCodecFilter.java:398)\nat org.apache.mina.filter.codec.ProtocolCodecFilter.messageReceived(ProtocolCodecFilter.java:234)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.access$1300(DefaultIoFilterChain.java:48)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain$EntryImpl$1.messageReceived(DefaultIoFilterChain.java:947)\nat org.apache.mina.core.filterchain.IoFilterAdapter.messageReceived(IoFilterAdapter.java:109)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.callNextMessageReceived(DefaultIoFilterChain.java:542)\nat org.apache.mina.core.filterchain.DefaultIoFilterChain.fireMessageReceived(DefaultIoFilterChain.java:535)\nat org.apache.mina.core.polling.AbstractPollingIoProcessor.read(AbstractPollingIoProcessor.java:703)\nat org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:659)\nat org.apache.mina.core.polling.AbstractPollingIoProcessor.process(AbstractPollingIoProcessor.java:648)\nat org.apache.mina.core.polling.AbstractPollingIoProcessor.access$600(AbstractPollingIoProcessor.java:68)\nat org.apache.mina.core.polling.AbstractPollingIoProcessor$Processor.run(AbstractPollingIoProcessor.java:1120)\nat org.apache.mina.util.NamePreservingRunnable.run(NamePreservingRunnable.java:64)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>)</p>\n<p>pom.xml :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix40&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix41&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix42&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix43&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix44&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix50&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>FIXApplication50.java:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport quickfix.Message;\nimport quickfix.MessageCracker;\nimport quickfix.*;\nimport quickfix.field.*;\nimport quickfix.fix50.*;\n\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class FIXApplication50 extends MessageCracker implements Application {\n\n    public FIXApplication50() throws ConfigError {\n    }\n\n    public void onMessage(SecurityDefinition refData, SessionID sessionID) {\n        \n    }\n\n    public void onMessage(SecurityDefinitionUpdateReport refData, SessionID sessionID) {\n\n    }\n\n    public void onCreate(SessionID sessionID) {\n\n    }\n\n    public void sendApplicationMessageRequest(Message message, SessionID sessionID) {\n\n    }\n\n    public void onLogon(SessionID sessionID) {\n        Message message = new Message();\n\n        sendApplicationMessageRequest(message, sessionID);\n    }\n\n    public void onLogout(SessionID sessionID) {\n\n    }\n\n\n    public void toAdmin(Message message, SessionID sessionID) {\n      \n    }\n\n\n    public void fromAdmin(Message message, SessionID sessionID) throws FieldNotFound, IncorrectDataFormat, IncorrectTagValue, RejectLogon {\n\n    }\n\n\n    public void toApp(Message message, SessionID sessionID) throws DoNotSend {\n\n    }\n\n    public void fromApp(Message message, SessionID sessionId)\n            throws FieldNotFound, IncorrectDataFormat, IncorrectTagValue, UnsupportedMessageType {\n        crack(message, sessionId);\n    }\n}\n</code></pre>\n<p>session.properties :</p>\n<pre><code>[DEFAULT]\nConnectionType=initiator\nReconnectInterval=60\nResetOnLogon=Y\nFileLogPath=logs/plugins/foo/Client_Logs\nSenderCompID=foo\nSenderSubID=foo\nValidateIncomingMessage=N\n\n[SESSION]\nBeginString=FIXT.1.1\nTargetCompID=foo\nStartDay=sunday\nEndDay=friday\nStartTime=21:35:00\nEndTime=21:30:00\nHeartBtInt=30\nCheckLatency=N\nSocketConnectPort=0000\nSocketConnectHost=00.00.00\nDefaultApplVerID=FIX.5.0SP2\nTransportDataDictionary=config/plugins/foo/FIXT11.xml\nAppDataDictionary=config/plugins/foo/RefDataFIX50sp2.xml\n</code></pre>\n"},{"tags":["java","spring-boot","object"],"answers":[{"comments":[{"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"score":0,"creation_date":1667886876,"post_id":74356210,"comment_id":131268411,"body_markdown":"If my class has 10 no.of List Items, i can&#39;t pass like that. How can we create with out passing args?","body":"If my class has 10 no.of List Items, i can&#39;t pass like that. How can we create with out passing args?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667886923,"post_id":74356210,"comment_id":131268421,"body_markdown":"Or `class Cart{ int cartId; List&lt;Item&gt; items = new ArrayList&lt;&gt;(); }`","body":"Or <code>class Cart{ int cartId; List&lt;Item&gt; items = new ArrayList&lt;&gt;(); }</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667886980,"post_id":74356210,"comment_id":131268430,"body_markdown":"Agree with not using Lombok until you know Java well.","body":"Agree with not using Lombok until you know Java well."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1667887414,"post_id":74356210,"comment_id":131268495,"body_markdown":"@SmlCodes I am just answering your questions. In case you have multiple lists, you could use Builder pattern.","body":"@SmlCodes I am just answering your questions. In case you have multiple lists, you could use Builder pattern."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667888083,"creation_date":1667886757,"answer_id":74356210,"question_id":74356183,"body_markdown":"You have 2 options:\r\n\r\n```java\r\nnew Cart(&quot;id&quot;, new ArrayList&lt;&gt;()); // items is mutable\r\nnew Cart(&quot;id&quot;, List.of()); // items is immutable\r\n```\r\n\r\nor set default values:\r\n\r\n```java\r\n@Data\r\nclass Cart{\r\n    int cartId = 0;  // optional, because int is 0 by default  \r\n    List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nYou use **Lombok**. In case you have such questions, I reccomend you not to use it for a while.","title":"Java object contains list of other objects. how to create object with empty list instaed of null","body":"<p>You have 2 options:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Cart(&quot;id&quot;, new ArrayList&lt;&gt;()); // items is mutable\nnew Cart(&quot;id&quot;, List.of()); // items is immutable\n</code></pre>\n<p>or set default values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\nclass Cart{\n    int cartId = 0;  // optional, because int is 0 by default  \n    List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>You use <strong>Lombok</strong>. In case you have such questions, I reccomend you not to use it for a while.</p>\n"},{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667887451,"creation_date":1667887451,"answer_id":74356304,"question_id":74356183,"body_markdown":"Override public no argument constructor to initialize the variable \r\n\r\n    Public Cart(){     \r\n      this.items=new ArrayList&lt;&gt;();\r\n    }\r\n\r\nor have a default value\r\n\r\n    @Data\r\n    class Cart{\r\n        int cartId;\r\n        List&lt;Item&gt; items=new ArrayList&lt;&gt;();;\r\n    }\r\n\r\n","title":"Java object contains list of other objects. how to create object with empty list instaed of null","body":"<p>Override public no argument constructor to initialize the variable</p>\n<pre><code>Public Cart(){     \n  this.items=new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>or have a default value</p>\n<pre><code>@Data\nclass Cart{\n    int cartId;\n    List&lt;Item&gt; items=new ArrayList&lt;&gt;();;\n}\n</code></pre>\n"}],"owner":{"account_id":8774591,"reputation":25,"user_id":17188780,"display_name":"SmlCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356210,"answer_count":2,"score":0,"last_activity_date":1667888083,"creation_date":1667886550,"question_id":74356183,"body_markdown":"I have below code sample, if i create Cart object , im getting Items list as NULL.\r\n\r\n\r\n```java\r\n@Data\r\nclass Cart{\r\n    int cartId;\r\n    List&lt;Item&gt; items;\r\n\r\n}\r\n\r\n@Data\r\nclass Item{\r\n    int itemId;\r\n    String itemName;\r\n}\r\n\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Cart cart = new Cart();\r\n        System.out.println(cart); // Cart(cartId=0, items=null)\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow can i create Cart object with Items as empty list {}, instead of NULL.\r\n\r\nIf my class has 10 no.of List Items, How can we create Cart Object with empty list.\r\n\r\nCan we create with ObjectMapper or any other API ?\r\n\r\n\r\n","title":"Java object contains list of other objects. how to create object with empty list instaed of null","body":"<p>I have below code sample, if i create Cart object , im getting Items list as NULL.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\nclass Cart{\n    int cartId;\n    List&lt;Item&gt; items;\n\n}\n\n@Data\nclass Item{\n    int itemId;\n    String itemName;\n}\n\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Cart cart = new Cart();\n        System.out.println(cart); // Cart(cartId=0, items=null)\n    }\n}\n\n</code></pre>\n<p>How can i create Cart object with Items as empty list {}, instead of NULL.</p>\n<p>If my class has 10 no.of List Items, How can we create Cart Object with empty list.</p>\n<p>Can we create with ObjectMapper or any other API ?</p>\n"},{"tags":["java","sql","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667887946,"creation_date":1667555361,"answer_id":74315059,"question_id":74312168,"body_markdown":"You&#39;re looking for the PostgreSQL specific [`EXCLUDED` clause][1], which has been introduced in jOOQ 3.17:\r\n\r\n- [#5214][2]: Native support for the clause\r\n- [#13571][3]: Emulation of the clause in `MERGE`\r\n- [#13575][4]: Emulation of the clause inside of expressions (3.18)\r\n\r\nFor example:\r\n\r\n```java\r\n.onConflict(RAID_V2.HANDLE).doUpdate()\r\n.set(RAID_V2.SERVICE_POINT_ID, excluded(RAID_V2.SERVICE_POINT_ID))\r\n.set(RAID_V2.URL, excluded(RAID_V2.URL))\r\n...\r\n```\r\n\r\nOr, if you&#39;re not too keen on repeating all the columns, just do it automatically, like this:\r\n\r\n```java\r\n.onConflict(RAID_V2.HANDLE).doUpdate()\r\n.set(Arrays.stream(RAID_V2.fields())\r\n           .filter(f -&gt; !isKey(f)) // Exclude key columns, and others...\r\n           .collect(Collectors.toMap(f -&gt; f, f -&gt; excluded(f))))\r\n```\r\n\r\nNote, while it probably doesn&#39;t apply to your specific case, in simpler cases, you could use `UpdatableRecord::merge` to simplify the upsert operation.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/sql-insert.html\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/5214\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/13571\r\n  [4]: https://github.com/jOOQ/jOOQ/issues/13575","title":"How to share the set statements between insert() and onConflict()?","body":"<p>You're looking for the PostgreSQL specific <a href=\"https://www.postgresql.org/docs/current/sql-insert.html\" rel=\"nofollow noreferrer\"><code>EXCLUDED</code> clause</a>, which has been introduced in jOOQ 3.17:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/5214\" rel=\"nofollow noreferrer\">#5214</a>: Native support for the clause</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/13571\" rel=\"nofollow noreferrer\">#13571</a>: Emulation of the clause in <code>MERGE</code></li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/13575\" rel=\"nofollow noreferrer\">#13575</a>: Emulation of the clause inside of expressions (3.18)</li>\n</ul>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.onConflict(RAID_V2.HANDLE).doUpdate()\n.set(RAID_V2.SERVICE_POINT_ID, excluded(RAID_V2.SERVICE_POINT_ID))\n.set(RAID_V2.URL, excluded(RAID_V2.URL))\n...\n</code></pre>\n<p>Or, if you're not too keen on repeating all the columns, just do it automatically, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.onConflict(RAID_V2.HANDLE).doUpdate()\n.set(Arrays.stream(RAID_V2.fields())\n           .filter(f -&gt; !isKey(f)) // Exclude key columns, and others...\n           .collect(Collectors.toMap(f -&gt; f, f -&gt; excluded(f))))\n</code></pre>\n<p>Note, while it probably doesn't apply to your specific case, in simpler cases, you could use <code>UpdatableRecord::merge</code> to simplify the upsert operation.</p>\n"}],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74315059,"answer_count":1,"score":1,"last_activity_date":1667887946,"creation_date":1667535694,"question_id":74312168,"body_markdown":"As you can see in the example below, a lot of my `set` statements are duplicated between the insert and update clauses.\r\nIs there some way I can factor out the duplicated `set` statements to a shared block of code?\r\n\r\nI&#39;m thinking something like how it&#39;s pretty simple to factor out parts of a `where` clause by using `DSL.condition()`?\r\n\r\n```\r\ndb.insertInto(RAID_V2).\r\n  set(RAID_V2.HANDLE, handle).\r\n  set(RAID_V2.SERVICE_POINT_ID, servicePointId).\r\n  set(RAID_V2.URL, raidUrl).\r\n  set(RAID_V2.URL_INDEX, urlContentIndex).\r\n  set(RAID_V2.PRIMARY_TITLE, primaryTitle).\r\n  set(RAID_V2.METADATA, jsonbMetadata).\r\n  set(RAID_V2.METADATA_SCHEMA, mapJs2Jq(metadata.getMetadataSchema())).\r\n  set(RAID_V2.START_DATE, startDate).\r\n  set(RAID_V2.DATE_CREATED, LocalDateTime.now()).\r\n  set(RAID_V2.CONFIDENTIAL, confidential).\r\n  onConflict(RAID_V2.HANDLE).doUpdate().\r\n    set(RAID_V2.SERVICE_POINT_ID, servicePointId).\r\n    set(RAID_V2.URL, raidUrl).\r\n    set(RAID_V2.URL_INDEX, urlContentIndex).\r\n    set(RAID_V2.PRIMARY_TITLE, primaryTitle).\r\n    set(RAID_V2.METADATA, jsonbMetadata).\r\n    set(RAID_V2.METADATA_SCHEMA, mapJs2Jq(metadata.getMetadataSchema())).\r\n    set(RAID_V2.START_DATE, startDate).\r\n    set(RAID_V2.DATE_CREATED, LocalDateTime.now()).\r\n    set(RAID_V2.CONFIDENTIAL, confidential).\r\n    where(RAID_V2.HANDLE.eq(handle)).\r\n  execute();\r\n```","title":"How to share the set statements between insert() and onConflict()?","body":"<p>As you can see in the example below, a lot of my <code>set</code> statements are duplicated between the insert and update clauses.\nIs there some way I can factor out the duplicated <code>set</code> statements to a shared block of code?</p>\n<p>I'm thinking something like how it's pretty simple to factor out parts of a <code>where</code> clause by using <code>DSL.condition()</code>?</p>\n<pre><code>db.insertInto(RAID_V2).\n  set(RAID_V2.HANDLE, handle).\n  set(RAID_V2.SERVICE_POINT_ID, servicePointId).\n  set(RAID_V2.URL, raidUrl).\n  set(RAID_V2.URL_INDEX, urlContentIndex).\n  set(RAID_V2.PRIMARY_TITLE, primaryTitle).\n  set(RAID_V2.METADATA, jsonbMetadata).\n  set(RAID_V2.METADATA_SCHEMA, mapJs2Jq(metadata.getMetadataSchema())).\n  set(RAID_V2.START_DATE, startDate).\n  set(RAID_V2.DATE_CREATED, LocalDateTime.now()).\n  set(RAID_V2.CONFIDENTIAL, confidential).\n  onConflict(RAID_V2.HANDLE).doUpdate().\n    set(RAID_V2.SERVICE_POINT_ID, servicePointId).\n    set(RAID_V2.URL, raidUrl).\n    set(RAID_V2.URL_INDEX, urlContentIndex).\n    set(RAID_V2.PRIMARY_TITLE, primaryTitle).\n    set(RAID_V2.METADATA, jsonbMetadata).\n    set(RAID_V2.METADATA_SCHEMA, mapJs2Jq(metadata.getMetadataSchema())).\n    set(RAID_V2.START_DATE, startDate).\n    set(RAID_V2.DATE_CREATED, LocalDateTime.now()).\n    set(RAID_V2.CONFIDENTIAL, confidential).\n    where(RAID_V2.HANDLE.eq(handle)).\n  execute();\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","thread-safety","blockingqueue"],"answers":[{"tags":[],"owner":{"account_id":26845532,"reputation":21,"user_id":20431343,"display_name":"cata"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667737370,"creation_date":1667733288,"answer_id":74335333,"question_id":74335073,"body_markdown":"&gt; I need\r\n&gt; * my consumer to make sequence actions in form of ‘take obj from the queue + do more consumer operations on the obj’ atomic and\r\n&gt; * My producer to make sequence actions in form of ‘offer obj onto the queue + do more producer operations on the obj’ atomic and\r\n&gt; * The two above atomic sequences synchronized on the same obj, obviously\r\n\r\nYou can use [`wait`][1]+[`notifyAll`][2] for that.  \r\nTry to read [this article](https://www.baeldung.com/java-wait-notify): \r\nit explains `wait+notifyAll` in details.\r\n\r\n&gt; But I can’t simply put a synchronized block around the call to take() and its associated consumer operations as **when the queue is empty**, this consumer will be stuck there **FOREVER** since it will still possess the sync lock while it waits on the producer to fill the queue with an obj, and that sync lock possession of consumer will in turn stop the producer from entering corresponding critical region to do any &#39;producing&#39;.\r\n\r\n`wait+notifyAll` solves this problem because a thread that is waiting inside `wait()` releases the lock (and later when `wait()` need to return the thread acquires the lock again).\r\n\r\nAlso you can look at [Condition javadocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html).  \r\n`Condition` is the same concept as `wait+notify` but for `Lock` interface (which is more flexible and powerful version of `synchronized`).  \r\nAgain, look at the `BoundedBuffer` example in the javadocs - it seems like it could be modified to do what you want in your code.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()","title":"java concurrency: BlockingQueue based producer/consumer does not seem to work well with compound actions that needs synchronized code block?","body":"<blockquote>\n<p>I need</p>\n<ul>\n<li>my consumer to make sequence actions in form of ‘take obj from the queue + do more consumer operations on the obj’ atomic and</li>\n<li>My producer to make sequence actions in form of ‘offer obj onto the queue + do more producer operations on the obj’ atomic and</li>\n<li>The two above atomic sequences synchronized on the same obj, obviously</li>\n</ul>\n</blockquote>\n<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\"><code>wait</code></a>+<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()\" rel=\"nofollow noreferrer\"><code>notifyAll</code></a> for that.<br />\nTry to read <a href=\"https://www.baeldung.com/java-wait-notify\" rel=\"nofollow noreferrer\">this article</a>:\nit explains <code>wait+notifyAll</code> in details.</p>\n<blockquote>\n<p>But I can’t simply put a synchronized block around the call to take() and its associated consumer operations as <strong>when the queue is empty</strong>, this consumer will be stuck there <strong>FOREVER</strong> since it will still possess the sync lock while it waits on the producer to fill the queue with an obj, and that sync lock possession of consumer will in turn stop the producer from entering corresponding critical region to do any 'producing'.</p>\n</blockquote>\n<p><code>wait+notifyAll</code> solves this problem because a thread that is waiting inside <code>wait()</code> releases the lock (and later when <code>wait()</code> need to return the thread acquires the lock again).</p>\n<p>Also you can look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">Condition javadocs</a>.<br />\n<code>Condition</code> is the same concept as <code>wait+notify</code> but for <code>Lock</code> interface (which is more flexible and powerful version of <code>synchronized</code>).<br />\nAgain, look at the <code>BoundedBuffer</code> example in the javadocs - it seems like it could be modified to do what you want in your code.</p>\n"},{"comments":[{"owner":{"account_id":24438758,"reputation":41,"user_id":18362708,"display_name":"coder joe"},"score":0,"creation_date":1667748772,"post_id":74336924,"comment_id":131235930,"body_markdown":"Thanks heaps Solomon! your point of &#39;put-and-forget&#39; is a certainly a valid sensible point. I only wonder if the &#39;put-and-forget&#39; on producer is perhaps more valid in the scenario where the producer(s) and consumer(s) are the only stakeholder of the BlockingQueue? But what if we have a 3rd who needs to remove item from the BlockingQueue? e.g. an online shopping system that allows the user to issue request to cancel order if the order has not been finalized (still in the queue) yet - then a synchronized atomic composite action around the put(), take(), remove() will likely be needed?","body":"Thanks heaps Solomon! your point of &#39;put-and-forget&#39; is a certainly a valid sensible point. I only wonder if the &#39;put-and-forget&#39; on producer is perhaps more valid in the scenario where the producer(s) and consumer(s) are the only stakeholder of the BlockingQueue? But what if we have a 3rd who needs to remove item from the BlockingQueue? e.g. an online shopping system that allows the user to issue request to cancel order if the order has not been finalized (still in the queue) yet - then a synchronized atomic composite action around the put(), take(), remove() will likely be needed?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1667749656,"post_id":74336924,"comment_id":131236134,"body_markdown":"@coderjoe, Re, cancelling an order-in-progress. OK, so that operation cannot not have a guaranteed outcome: It&#39;s an inherent data race. I would have the requesting thread simply set a `cancellationWanted` flag in the order—a very _limited_ form of &quot;not letting go of the object&quot;—and then any thread in the pipeline that noticed the flag either could complete the cancellation and mark the order as `cancelled`, or else mark it as `cancellationFailed`. There&#39;s various ways that the final outcome eventually could be reported back to the human user who initiated the request...","body":"@coderjoe, Re, cancelling an order-in-progress. OK, so that operation cannot not have a guaranteed outcome: It&#39;s an inherent data race. I would have the requesting thread simply set a <code>cancellationWanted</code> flag in the order—a very <i>limited</i> form of &quot;not letting go of the object&quot;—and then any thread in the pipeline that noticed the flag either could complete the cancellation and mark the order as <code>cancelled</code>, or else mark it as <code>cancellationFailed</code>. There&#39;s various ways that the final outcome eventually could be reported back to the human user who initiated the request..."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667746172,"creation_date":1667746172,"answer_id":74336924,"question_id":74335073,"body_markdown":"&gt; Why has this not been a common problem?\r\n\r\nMulti-threading is like the old board game, &quot;[Othello](https://en.wikipedia.org/wiki/Reversi),&quot; which was marketed with the tag line, &quot;A minute to learn, a lifetime to master.&quot; Modern threading libraries make it easy to get started writing multi-threaded code, but it&#39;s not easy to design algorithms that use multi-threading _effectively._ Sometimes, the same design principles that underly efficient, single-threaded algorithms can be completely inappropriate to use in multi-threaded code.\r\n\r\nAn experienced designer knows that when thread A puts some object in a queue to be &quot;consumed&quot; by thread B, it&#39;s best to let thread A be done with that object for good. Simply taking the object out of the queue should be enough for thread B to have exclusive use of it. If you can&#39;t do that without adding complexity to your design,... Well, that&#39;s the price you pay for using multiple threads.\r\n\r\nA multi-threaded, parallel computation that&#39;s only half as efficient as a single-threaded implementation could be still could run four times as fast if it&#39;s running on an eight core machine.","title":"java concurrency: BlockingQueue based producer/consumer does not seem to work well with compound actions that needs synchronized code block?","body":"<blockquote>\n<p>Why has this not been a common problem?</p>\n</blockquote>\n<p>Multi-threading is like the old board game, &quot;<a href=\"https://en.wikipedia.org/wiki/Reversi\" rel=\"nofollow noreferrer\">Othello</a>,&quot; which was marketed with the tag line, &quot;A minute to learn, a lifetime to master.&quot; Modern threading libraries make it easy to get started writing multi-threaded code, but it's not easy to design algorithms that use multi-threading <em>effectively.</em> Sometimes, the same design principles that underly efficient, single-threaded algorithms can be completely inappropriate to use in multi-threaded code.</p>\n<p>An experienced designer knows that when thread A puts some object in a queue to be &quot;consumed&quot; by thread B, it's best to let thread A be done with that object for good. Simply taking the object out of the queue should be enough for thread B to have exclusive use of it. If you can't do that without adding complexity to your design,... Well, that's the price you pay for using multiple threads.</p>\n<p>A multi-threaded, parallel computation that's only half as efficient as a single-threaded implementation could be still could run four times as fast if it's running on an eight core machine.</p>\n"}],"owner":{"account_id":24438758,"reputation":41,"user_id":18362708,"display_name":"coder joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667887535,"creation_date":1667731134,"question_id":74335073,"body_markdown":"It comes to a surprise to me when I am trying to implement some compound actions with a BlockingQueue based producer/consumer pattern, which makes me think I most likely have missed something obvious.\r\n\r\n\r\n----------\r\n\r\n\r\n# 1. In short #\r\nI need\r\n- my consumer to make sequence actions in form of ‘take obj from the queue + do more consumer operations on the obj’ atomic and\r\n- My producer to make sequence actions in form of ‘offer obj onto the queue + do more producer operations on the obj’ atomic and\r\n- The two above atomic sequences synchronized on the same obj, obviously\r\n\r\nWithout such atomicity, problem may occur, see &#39;**PROBLEM!!**&#39; as an example in the comment in code for the producer in the following section 2.\r\n\r\nBut I can’t simply put a synchronized block around the call to take() and its associated consumer operations as **when the queue is empty**, this consumer will be stuck there **FOREVER** since it will still possess the sync lock while it waits on the producer to fill the queue with an obj, and that sync lock possession of consumer will in turn stop the producer from entering corresponding critical region to do any &#39;producing&#39;. \r\n\r\n\r\n# 2. Specially, simplified example code are as the following:\r\n# \r\n\r\nCommon code known to the producer and consumer classes:\r\n\r\n\r\n```\r\nQueue&lt;QObj&gt; nbq = new ConcurrentLinkedQueue();\r\nBlockingQueue&lt;QObj&gt; bq = new LinkedBlockingQueue&lt;&gt;();\r\nList&lt;String&gt; idList = new LinkedList&lt;&gt;();\r\nObject lockObj = idList;\r\nint Idx = 1;\r\n\r\npublic static class QObj {\r\n    public String id;\r\n    public String content;\r\n\r\n    public QObj(String id, String content) {\r\n        this.id = id;\r\n        this.content = content;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nMain logic in producer class:\r\n\r\n\r\n```\r\n    public void produceBlocking() {\r\n        QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\r\n//        synchronized(lockObj) {\r\n//        no point to include Queue.offer(...) call in a synchronized block as we\r\n//        won&#39;t be able to use synchronized() in corresponding consumer anyway\r\n//        for the reason described above\r\n            bq.offer(o);\r\n            synchronized (lockObj) {\r\n                // PROBLEM!! by now, &#39;o&#39; could have been &#39;consumed&#39; already\r\n                //  hence we shouldn&#39;t do the following operations:\r\n\r\n                // do the associated part of compound action of &#39;producer&#39;\r\n                idList.add(o.id);\r\n                // do some more operation as part of this compound action ...\r\n            }\r\n//        }\r\n    }\r\n```\r\n\r\n\r\nMain logic in consumer class:\r\n\r\n\r\n```\r\n    public void consumeBlocking() {\r\n        while (true) {\r\n            try {\r\n//                synchronized (lockObj) {\r\n//                can&#39;t simply put synchronized() here to make the following compound action atomic\r\n//                  - when the queue is empty, this consumer will be stuck here forever since it still possesses\r\n//                      the lockObj, which stops the producer from entering the critical region to do any &#39;producing&#39;\r\n                    QObj o = bq.take();\r\n\r\n                    synchronized (lockObj) {\r\n                        // do the associated part of compound action of &#39;consumer&#39;\r\n                        idList.remove(o.id);\r\n                        // do some more operation as part of this compound action ...\r\n                    }\r\n//                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n# 3. Why has this not been a common problem? \r\n# \r\nI feel that this must have been a common occurring problem when people are using BlockingQueue, and the fact that I couldn’t really locate anything addressing directly to a similar problem affirms my belief that I might have got something fundamentally wrong.\r\n\r\nCan someone give some hint about a direct solution or point out where I thought wrong about this problem?\r\n\r\n\r\n# 4. Alternative Ideas\r\n\r\nI did think of a few ideas as alternatives, but I feel **none of them is addressing this issue directly and all have some drawbacks** (as highlighted &#39;**DRAWBACK!!**&#39; in the comments in the code)\r\n\r\n4.1 -\r\nDo a check using Queue.contains() before continue\r\n\r\n```\r\npublic void produceBlockingWithCheck() {\r\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\r\n    bq.offer(o);\r\n    synchronized (lockObj) {\r\n        // First, Check if the obj could have already been consumed\r\n\r\n        // DRAWBACK!!: this could be very costly, e.g.\r\n        //  when &#39;bq&#39; is a LinkedBlockingQueue, and contains(...) always triggers\r\n        //  a sequential traversal, the Queue itself can be very large\r\n\r\n        if (bq.contains(o)) {\r\n            // do the associated part of compound action of &#39;producer&#39;\r\n            idList.add(o.id);\r\n            // do some more operation as part of this compound action ...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n4.2 -\r\nAdjust the order of ops on the producer, move the Queue.offer() call to the end\r\n\r\n\r\n```\r\npublic void produceBlockingOrderAdjusted() {\r\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\r\n    // do the associated part of compound action of &#39;producer&#39;, only before\r\n    // calling BlockingQueue.offer(...)\r\n\r\n    //  DRAWBACK!!: even this may work for this simple case, such order adjustment\r\n    //  won&#39;t not be logically possible for all cases, will it?\r\n\r\n    synchronized (lockObj) {\r\n        idList.add(o.id);\r\n        // do some more operation as part of this compound action ...\r\n    }\r\n    bq.offer(o);\r\n}\r\n```\r\n\r\n4.3 -\r\nUse non-blocking queues instead.\r\n\r\n\r\n```\r\n\r\npublic void produceNonBlocking() {\r\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\r\n    synchronized(lockObj) {\r\n        nbq.offer(o);\r\n        // do the associated part of compound action of &#39;producer&#39;\r\n        idList.add(o.id);\r\n        // do some more operation as part of this compound action ...\r\n    }\r\n}\r\n\r\npublic void consumeNonBlocking() {\r\n    while (true) {\r\n        synchronized (lockObj) {\r\n            // kind of doing our own blocking.\r\n            QObj o = nbq.poll();\r\n            if (o != null) {\r\n                // do the associated part of compound action of &#39;consumer&#39;\r\n                idList.add(o.id);\r\n                // do some more operation as part of this compound action ...\r\n            }\r\n\r\n            // DRAWBACK!!: if the &#39;producers&#39; don&#39;t produce faster than the &#39;consumers&#39; consuming,\r\n            // this &#39;miss&#39; could be happening too often and get costly\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"java concurrency: BlockingQueue based producer/consumer does not seem to work well with compound actions that needs synchronized code block?","body":"<p>It comes to a surprise to me when I am trying to implement some compound actions with a BlockingQueue based producer/consumer pattern, which makes me think I most likely have missed something obvious.</p>\n<hr />\n<h1>1. In short</h1>\n<p>I need</p>\n<ul>\n<li>my consumer to make sequence actions in form of ‘take obj from the queue + do more consumer operations on the obj’ atomic and</li>\n<li>My producer to make sequence actions in form of ‘offer obj onto the queue + do more producer operations on the obj’ atomic and</li>\n<li>The two above atomic sequences synchronized on the same obj, obviously</li>\n</ul>\n<p>Without such atomicity, problem may occur, see '<strong>PROBLEM!!</strong>' as an example in the comment in code for the producer in the following section 2.</p>\n<p>But I can’t simply put a synchronized block around the call to take() and its associated consumer operations as <strong>when the queue is empty</strong>, this consumer will be stuck there <strong>FOREVER</strong> since it will still possess the sync lock while it waits on the producer to fill the queue with an obj, and that sync lock possession of consumer will in turn stop the producer from entering corresponding critical region to do any 'producing'.</p>\n<h1>2. Specially, simplified example code are as the following:</h1>\n<h1></h1>\n<p>Common code known to the producer and consumer classes:</p>\n<pre><code>Queue&lt;QObj&gt; nbq = new ConcurrentLinkedQueue();\nBlockingQueue&lt;QObj&gt; bq = new LinkedBlockingQueue&lt;&gt;();\nList&lt;String&gt; idList = new LinkedList&lt;&gt;();\nObject lockObj = idList;\nint Idx = 1;\n\npublic static class QObj {\n    public String id;\n    public String content;\n\n    public QObj(String id, String content) {\n        this.id = id;\n        this.content = content;\n    }\n}\n\n</code></pre>\n<p>Main logic in producer class:</p>\n<pre><code>    public void produceBlocking() {\n        QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\n//        synchronized(lockObj) {\n//        no point to include Queue.offer(...) call in a synchronized block as we\n//        won't be able to use synchronized() in corresponding consumer anyway\n//        for the reason described above\n            bq.offer(o);\n            synchronized (lockObj) {\n                // PROBLEM!! by now, 'o' could have been 'consumed' already\n                //  hence we shouldn't do the following operations:\n\n                // do the associated part of compound action of 'producer'\n                idList.add(o.id);\n                // do some more operation as part of this compound action ...\n            }\n//        }\n    }\n</code></pre>\n<p>Main logic in consumer class:</p>\n<pre><code>    public void consumeBlocking() {\n        while (true) {\n            try {\n//                synchronized (lockObj) {\n//                can't simply put synchronized() here to make the following compound action atomic\n//                  - when the queue is empty, this consumer will be stuck here forever since it still possesses\n//                      the lockObj, which stops the producer from entering the critical region to do any 'producing'\n                    QObj o = bq.take();\n\n                    synchronized (lockObj) {\n                        // do the associated part of compound action of 'consumer'\n                        idList.remove(o.id);\n                        // do some more operation as part of this compound action ...\n                    }\n//                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<h1>3. Why has this not been a common problem?</h1>\n<h1></h1>\n<p>I feel that this must have been a common occurring problem when people are using BlockingQueue, and the fact that I couldn’t really locate anything addressing directly to a similar problem affirms my belief that I might have got something fundamentally wrong.</p>\n<p>Can someone give some hint about a direct solution or point out where I thought wrong about this problem?</p>\n<h1>4. Alternative Ideas</h1>\n<p>I did think of a few ideas as alternatives, but I feel <strong>none of them is addressing this issue directly and all have some drawbacks</strong> (as highlighted '<strong>DRAWBACK!!</strong>' in the comments in the code)</p>\n<p>4.1 -\nDo a check using Queue.contains() before continue</p>\n<pre><code>public void produceBlockingWithCheck() {\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\n    bq.offer(o);\n    synchronized (lockObj) {\n        // First, Check if the obj could have already been consumed\n\n        // DRAWBACK!!: this could be very costly, e.g.\n        //  when 'bq' is a LinkedBlockingQueue, and contains(...) always triggers\n        //  a sequential traversal, the Queue itself can be very large\n\n        if (bq.contains(o)) {\n            // do the associated part of compound action of 'producer'\n            idList.add(o.id);\n            // do some more operation as part of this compound action ...\n        }\n    }\n}\n</code></pre>\n<p>4.2 -\nAdjust the order of ops on the producer, move the Queue.offer() call to the end</p>\n<pre><code>public void produceBlockingOrderAdjusted() {\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\n    // do the associated part of compound action of 'producer', only before\n    // calling BlockingQueue.offer(...)\n\n    //  DRAWBACK!!: even this may work for this simple case, such order adjustment\n    //  won't not be logically possible for all cases, will it?\n\n    synchronized (lockObj) {\n        idList.add(o.id);\n        // do some more operation as part of this compound action ...\n    }\n    bq.offer(o);\n}\n</code></pre>\n<p>4.3 -\nUse non-blocking queues instead.</p>\n<pre><code>\npublic void produceNonBlocking() {\n    QObj o = new QObj(String.valueOf(Idx), &quot;Content_&quot; + Idx++);\n    synchronized(lockObj) {\n        nbq.offer(o);\n        // do the associated part of compound action of 'producer'\n        idList.add(o.id);\n        // do some more operation as part of this compound action ...\n    }\n}\n\npublic void consumeNonBlocking() {\n    while (true) {\n        synchronized (lockObj) {\n            // kind of doing our own blocking.\n            QObj o = nbq.poll();\n            if (o != null) {\n                // do the associated part of compound action of 'consumer'\n                idList.add(o.id);\n                // do some more operation as part of this compound action ...\n            }\n\n            // DRAWBACK!!: if the 'producers' don't produce faster than the 'consumers' consuming,\n            // this 'miss' could be happening too often and get costly\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667887187,"creation_date":1667887187,"answer_id":74356270,"question_id":74356129,"body_markdown":"To remove the `&quot;, &quot;` part which is immediately followed by end of string, you can do:\r\n\r\n    str = str.replaceAll(&quot;, $&quot;, &quot;&quot;);\r\n\r\nThis handles the empty list (empty string) gracefully, as opposed to `lastIndexOf` / `substring` solutions which requires special treatment of such case.\r\n\r\n***Example code:***\r\n\r\n    String str = &quot;kushalhs, mayurvm, narendrabz, &quot;;\r\n    str = str.replaceAll(&quot;, $&quot;, &quot;&quot;);\r\n    System.out.println(str);  // prints &quot;kushalhs, mayurvm, narendrabz&quot;\r\n\r\n***NOTE:***\r\n\r\nSince there has been some comments and suggested edits about the `&quot;, $&quot;` part: The expression should match the trailing part that you want to remove\r\n\r\n - If your input looks like `&quot;a,b,c,&quot;`, use `&quot;,$&quot;`.\r\n - If your input looks like &quot;`a, b, c`, &quot;, use `&quot;, $&quot;`.\r\n - If your input looks like `&quot;a , b , c` , &quot;, use `&quot; , $&quot;`.","title":"I&#39;m trying to print list of all the dropdown values , but i want to remove comma in the beginning of each line. How can i do this","body":"<p>To remove the <code>&quot;, &quot;</code> part which is immediately followed by end of string, you can do:</p>\n<pre><code>str = str.replaceAll(&quot;, $&quot;, &quot;&quot;);\n</code></pre>\n<p>This handles the empty list (empty string) gracefully, as opposed to <code>lastIndexOf</code> / <code>substring</code> solutions which requires special treatment of such case.</p>\n<p><em><strong>Example code:</strong></em></p>\n<pre><code>String str = &quot;kushalhs, mayurvm, narendrabz, &quot;;\nstr = str.replaceAll(&quot;, $&quot;, &quot;&quot;);\nSystem.out.println(str);  // prints &quot;kushalhs, mayurvm, narendrabz&quot;\n</code></pre>\n<p><em><strong>NOTE:</strong></em></p>\n<p>Since there has been some comments and suggested edits about the <code>&quot;, $&quot;</code> part: The expression should match the trailing part that you want to remove</p>\n<ul>\n<li>If your input looks like <code>&quot;a,b,c,&quot;</code>, use <code>&quot;,$&quot;</code>.</li>\n<li>If your input looks like &quot;<code>a, b, c</code>, &quot;, use <code>&quot;, $&quot;</code>.</li>\n<li>If your input looks like <code>&quot;a , b , c</code> , &quot;, use <code>&quot; , $&quot;</code>.</li>\n</ul>\n"}],"owner":{"account_id":6915924,"reputation":3,"user_id":5310209,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667887187,"creation_date":1667886020,"question_id":74356129,"body_markdown":"```\r\npublic static ArrayList&lt;String&gt; getDropDownTextList(By locator) {\r\n\t\tList&lt;WebElement&gt; countryList = getDropDownOptions(locator);\r\n\t\tArrayList&lt;String&gt; countryTextList = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tfor(WebElement e:countryList) {\r\n\t\t\tString text = e.getText();\r\n\t\t\ttext.replace(&#39;,&#39; , &#39; &#39;);\r\n\t\t\tif(text.length()!= 0) {\r\n\t\t\t\tcountryTextList.add(text.concat(&quot;\\n&quot;));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn countryTextList;\r\n\t}[![enter image description here](https://i.stack.imgur.com/XKyqd.png)](https://i.stack.imgur.com/XKyqd.png)\r\n```\r\n\r\nApologies , I&#39;m a newbie into programming\r\n\r\ntext.replace(&#39;,&#39; , &#39; &#39;);","title":"I&#39;m trying to print list of all the dropdown values , but i want to remove comma in the beginning of each line. How can i do this","body":"<pre><code>public static ArrayList&lt;String&gt; getDropDownTextList(By locator) {\n        List&lt;WebElement&gt; countryList = getDropDownOptions(locator);\n        ArrayList&lt;String&gt; countryTextList = new ArrayList&lt;String&gt;();\n        \n        for(WebElement e:countryList) {\n            String text = e.getText();\n            text.replace(',' , ' ');\n            if(text.length()!= 0) {\n                countryTextList.add(text.concat(&quot;\\n&quot;));\n            }\n            \n        }\n        return countryTextList;\n    }[![enter image description here](https://i.stack.imgur.com/XKyqd.png)](https://i.stack.imgur.com/XKyqd.png)\n</code></pre>\n<p>Apologies , I'm a newbie into programming</p>\n<p>text.replace(',' , ' ');</p>\n"},{"tags":["java","tomcat","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1667560313,"post_id":74299881,"comment_id":131200467,"body_markdown":"The configuration formats of Log4j and Log4j2 are **not** compatible. See the [migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2API) for some examples of configuration migration. BTW: the `Configurator.initialize` call can be easily replaced with either 1. conformance to the standard config file naming (`log4j2.xml` or `log4j2-test.xml`) or 2. a `log4j2.component.properties` file with a `log4j2.configurationFile` entry.","body":"The configuration formats of Log4j and Log4j2 are <b>not</b> compatible. See the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html#Log4j2API\" rel=\"nofollow noreferrer\">migration guide</a> for some examples of configuration migration. BTW: the <code>Configurator.initialize</code> call can be easily replaced with either 1. conformance to the standard config file naming (<code>log4j2.xml</code> or <code>log4j2-test.xml</code>) or 2. a <code>log4j2.component.properties</code> file with a <code>log4j2.configurationFile</code> entry."}],"answers":[{"tags":[],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667887065,"creation_date":1667887065,"answer_id":74356251,"question_id":74299881,"body_markdown":"I have resolved my issue by doing the below changes to my /home/user/TEST_log4j.xml\r\n\r\n    &lt;Configuration&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t\t\t&lt;PatternLayout pattern=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \t\t&lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;/opt/tomcat/logs/MyCustomClassLogs.log&quot; filePattern=&quot;/opt/tomcat/logs/MyCustomClassLogs.log-%i&quot;&gt;\r\n    \t\t\t&lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;pattern&gt;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&lt;/pattern&gt;\r\n    \t\t\t&lt;/PatternLayout&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;5 MB&quot; /&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n    \t\t\t&lt;DefaultRolloverStrategy max=&quot;5&quot;/&gt;\r\n    \t\t&lt;/RollingFile&gt;\r\n    \t\t&lt;RollingFile name=&quot;ResetClass&quot; fileName=&quot;/opt/tomcat/logs/resetTrace.log&quot; filePattern=&quot;/opt/tomcat/logs/resetTrace.log-%i&quot;&gt;\r\n    \t\t\t&lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;pattern&gt;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&lt;/pattern&gt;\r\n    \t\t\t&lt;/PatternLayout&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;5 MB&quot; /&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n    \t\t\t&lt;DefaultRolloverStrategy max=&quot;5&quot;/&gt;\r\n    \t\t&lt;/RollingFile&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Logger name=&quot;com.demo.custom.filter.ResetClass&quot; level=&quot;TRACE&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;ResetClass&quot;/&gt;\r\n    \t\t&lt;/Logger&gt;\r\n    \t\t&lt;Logger name=&quot;com.demo.custom.test.MyCustomClass&quot; level=&quot;TRACE&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\r\n    \t\t&lt;/Logger&gt;\r\n    \t\t&lt;Root level=&quot;error&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"TEST_log4j.xml:3:22: The prefix &quot;log4j&quot; for element &quot;log4j:configuration&quot; is not bound","body":"<p>I have resolved my issue by doing the below changes to my /home/user/TEST_log4j.xml</p>\n<pre><code>&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;/opt/tomcat/logs/MyCustomClassLogs.log&quot; filePattern=&quot;/opt/tomcat/logs/MyCustomClassLogs.log-%i&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;5 MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot;/&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=&quot;ResetClass&quot; fileName=&quot;/opt/tomcat/logs/resetTrace.log&quot; filePattern=&quot;/opt/tomcat/logs/resetTrace.log-%i&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;5 MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;5&quot;/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.demo.custom.filter.ResetClass&quot; level=&quot;TRACE&quot;&gt;\n            &lt;AppenderRef ref=&quot;ResetClass&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.demo.custom.test.MyCustomClass&quot; level=&quot;TRACE&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356251,"answer_count":1,"score":0,"last_activity_date":1667887065,"creation_date":1667463345,"question_id":74299881,"body_markdown":"I have to migrate from logj1.x to log4j2.x. For this, I have changed my below source code.\r\n\r\nAfter I performed the below changes when I start the tomcat service I am getting the below error in the log file.\r\n\r\n    [Fatal Error] TEST_log4j.xml:3:22: The prefix &quot;log4j&quot; for element &quot;log4j:configuration&quot; is not bound.\r\n\r\nSource Code changes From\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.apache.log4j.xml.DOMConfigurator;\r\n\r\nTo\r\n\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.config.Configurator;\r\n\r\nFrom\r\n\r\n    private static Logger myLogger = Logger.getLogger(MyCustomClass.class);\r\n\r\nTo\r\n\r\n    private static Logger myLogger = LogManager.getLogger(MyCustomClass.class);\r\n\r\nFrom\r\n\r\n    DOMConfigurator.configure(&quot;/home/user/TEST_log4j.xml&quot;);\r\n\r\nTo\r\n\r\n    Configurator.initialize(null, &quot;/home/user/TEST_log4j.xml&quot;);\r\n\r\nMy /home/user/TEST_log4j.xml file configuration is given below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration&gt;\r\n      &lt;appender name=&quot;ConsoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;appender name=&quot;Fileappender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;file&quot; value=&quot;/opt/tomcat/logs/MyCustomClassLogs.log&quot;/&gt;\r\n    \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;5MB&quot;/&gt;\r\n    \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;5&quot;/&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\r\n    \t\t&lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;appender name=&quot;ResetClass&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n        \t\t&lt;param name=&quot;file&quot; value=&quot;/opt/tomcat/logs/resetTrace.log&quot;/&gt;\r\n        \t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;1MB&quot;/&gt;\r\n        \t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;5&quot;/&gt;\r\n        \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n        \t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\r\n        \t\t&lt;/layout&gt;\r\n      &lt;/appender&gt;\r\n      &lt;category name=&quot;com.demo.custom.filter.ResetClass&quot; additivity=&quot;false&quot;&gt;\r\n      \t\t&lt;priority value=&quot;TRACE&quot;/&gt;\r\n      \t\t&lt;appender-ref ref=&quot;ResetClass&quot;/&gt;\r\n      &lt;/category&gt;\r\n      &lt;category name=&quot;com.demo.custom.test.MyCustomClass&quot; additivity=&quot;false&quot;&gt;\r\n    \t\t&lt;priority value=&quot;TRACE&quot;/&gt;\r\n    \t\t&lt;appender-ref ref=&quot;Fileappender&quot;/&gt;\r\n      &lt;/category&gt;\r\n      &lt;root&gt;\r\n        &lt;level value=&quot;error&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;ConsoleAppender&quot;/&gt;\r\n      &lt;/root&gt;\r\n    &lt;/log4j:configuration&gt;\r\n\r\nI am moving to log4j v 2.17.1.","title":"TEST_log4j.xml:3:22: The prefix &quot;log4j&quot; for element &quot;log4j:configuration&quot; is not bound","body":"<p>I have to migrate from logj1.x to log4j2.x. For this, I have changed my below source code.</p>\n<p>After I performed the below changes when I start the tomcat service I am getting the below error in the log file.</p>\n<pre><code>[Fatal Error] TEST_log4j.xml:3:22: The prefix &quot;log4j&quot; for element &quot;log4j:configuration&quot; is not bound.\n</code></pre>\n<p>Source Code changes From</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.apache.log4j.xml.DOMConfigurator;\n</code></pre>\n<p>To</p>\n<pre><code>import org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.config.Configurator;\n</code></pre>\n<p>From</p>\n<pre><code>private static Logger myLogger = Logger.getLogger(MyCustomClass.class);\n</code></pre>\n<p>To</p>\n<pre><code>private static Logger myLogger = LogManager.getLogger(MyCustomClass.class);\n</code></pre>\n<p>From</p>\n<pre><code>DOMConfigurator.configure(&quot;/home/user/TEST_log4j.xml&quot;);\n</code></pre>\n<p>To</p>\n<pre><code>Configurator.initialize(null, &quot;/home/user/TEST_log4j.xml&quot;);\n</code></pre>\n<p>My /home/user/TEST_log4j.xml file configuration is given below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\n&lt;log4j:configuration&gt;\n  &lt;appender name=&quot;ConsoleAppender&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n      &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=&quot;Fileappender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;file&quot; value=&quot;/opt/tomcat/logs/MyCustomClassLogs.log&quot;/&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;5MB&quot;/&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;5&quot;/&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\n        &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=&quot;ResetClass&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n            &lt;param name=&quot;file&quot; value=&quot;/opt/tomcat/logs/resetTrace.log&quot;/&gt;\n            &lt;param name=&quot;MaxFileSize&quot; value=&quot;1MB&quot;/&gt;\n            &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;5&quot;/&gt;\n            &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n                &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{MM/dd HH:mm:ss} %-5p %30.30c %x - %m\\n&quot;/&gt;\n            &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;category name=&quot;com.demo.custom.filter.ResetClass&quot; additivity=&quot;false&quot;&gt;\n        &lt;priority value=&quot;TRACE&quot;/&gt;\n        &lt;appender-ref ref=&quot;ResetClass&quot;/&gt;\n  &lt;/category&gt;\n  &lt;category name=&quot;com.demo.custom.test.MyCustomClass&quot; additivity=&quot;false&quot;&gt;\n        &lt;priority value=&quot;TRACE&quot;/&gt;\n        &lt;appender-ref ref=&quot;Fileappender&quot;/&gt;\n  &lt;/category&gt;\n  &lt;root&gt;\n    &lt;level value=&quot;error&quot; /&gt;\n    &lt;appender-ref ref=&quot;ConsoleAppender&quot;/&gt;\n  &lt;/root&gt;\n&lt;/log4j:configuration&gt;\n</code></pre>\n<p>I am moving to log4j v 2.17.1.</p>\n"},{"tags":["java","camunda","bpmn"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667886003,"creation_date":1667886003,"answer_id":74356126,"question_id":74349485,"body_markdown":"The terminating end event is scoped by the embedded sub process, so it will not affect the parent. To dynamically interrupt the parent process, create another embedded sub process, which uses an interrupting start event. \r\n\r\nHow about this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAn alternative solution could use a BPMNError end event in the embedded sub process.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gSZJD.png","title":"How conditially interrupt camunda process instance from event subprocess","body":"<p>The terminating end event is scoped by the embedded sub process, so it will not affect the parent. To dynamically interrupt the parent process, create another embedded sub process, which uses an interrupting start event.</p>\n<p>How about this?</p>\n<p><a href=\"https://i.stack.imgur.com/gSZJD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSZJD.png\" alt=\"enter image description here\" /></a></p>\n<p>An alternative solution could use a BPMNError end event in the embedded sub process.</p>\n"}],"owner":{"account_id":26857758,"reputation":3,"user_id":20441797,"display_name":"Zitael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356126,"answer_count":1,"score":0,"last_activity_date":1667886064,"creation_date":1667836994,"question_id":74349485,"body_markdown":"I want to check some condition in my event subprocess and terminate the parent process depending on that condition. So it will be something like this\r\n[![example](https://i.stack.imgur.com/aZ6VO.png)](https://i.stack.imgur.com/aZ6VO.png)\r\nI want to start event subprocess by non-interrupting event, and inside it after checking some conditionals (consists of some http requests to other systems, too complicated for place it in listener) a want to decide if interrupt parent process or not. But terminate end event doesnt work as I want, it terminates only subprocess instances. So are there any options to do this?))\r\n\r\nTried to stop instance via searching by process ID, but I think there should be simpler solution without loading a DB more than need","title":"How conditially interrupt camunda process instance from event subprocess","body":"<p>I want to check some condition in my event subprocess and terminate the parent process depending on that condition. So it will be something like this\n<a href=\"https://i.stack.imgur.com/aZ6VO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZ6VO.png\" alt=\"example\" /></a>\nI want to start event subprocess by non-interrupting event, and inside it after checking some conditionals (consists of some http requests to other systems, too complicated for place it in listener) a want to decide if interrupt parent process or not. But terminate end event doesnt work as I want, it terminates only subprocess instances. So are there any options to do this?))</p>\n<p>Tried to stop instance via searching by process ID, but I think there should be simpler solution without loading a DB more than need</p>\n"},{"tags":["java","android","android-activity","view"],"comments":[{"owner":{"account_id":7060774,"reputation":779,"user_id":6134394,"accept_rate":20,"display_name":"Arthur"},"score":0,"creation_date":1541576598,"post_id":53184433,"comment_id":93259962,"body_markdown":"Looks like your databinding library (or class) has a bug. Try to set tag manually in xml and if lib doen&#39;t override them - this should solve your problem.","body":"Looks like your databinding library (or class) has a bug. Try to set tag manually in xml and if lib doen&#39;t override them - this should solve your problem."}],"answers":[{"comments":[{"owner":{"account_id":4706161,"reputation":3091,"user_id":3808228,"accept_rate":60,"display_name":"Chisko"},"score":0,"creation_date":1556319785,"post_id":53258368,"comment_id":98411455,"body_markdown":"passing null as parent is not (generally) recommended and may cause a crash. You can do `(ViewGroup)findViewById(android.R.id.content)` instead and pass `true` as well","body":"passing null as parent is not (generally) recommended and may cause a crash. You can do <code>(ViewGroup)findViewById(android.R.id.content)</code> instead and pass <code>true</code> as well"}],"tags":[],"owner":{"account_id":8422678,"reputation":233,"user_id":6320995,"display_name":"Et Crc"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542011646,"creation_date":1542011646,"answer_id":53258368,"question_id":53184433,"body_markdown":"NO idea, but working. &#128522;\r\n\r\n \r\n\r\n      \r\n      @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                mBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.my_wallet, null, false);\r\n                setContentView(mBinding.getRoot());\r\n        }\r\n\r\nOR\r\n\r\nif your root layout must match as match_parrent for hight/width. like https://github.com/umano/AndroidSlidingUpPanel\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            mBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout._activity_layout, null, false);\r\n    \r\n            // TODO resolve this concurrent assignment\r\n            // tricky method because sliding layout must be as parent / high is HIGH_EXACT to MATCH_PARENT \r\n            setContentView(mBinding.getRoot(), new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n    \r\n    }\r\n\r\n","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>NO idea, but working. 😊</p>\n\n<pre><code>  @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            mBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.my_wallet, null, false);\n            setContentView(mBinding.getRoot());\n    }\n</code></pre>\n\n<p>OR</p>\n\n<p>if your root layout must match as match_parrent for hight/width. like <a href=\"https://github.com/umano/AndroidSlidingUpPanel\" rel=\"nofollow noreferrer\">https://github.com/umano/AndroidSlidingUpPanel</a></p>\n\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout._activity_layout, null, false);\n\n        // TODO resolve this concurrent assignment\n        // tricky method because sliding layout must be as parent / high is HIGH_EXACT to MATCH_PARENT \n        setContentView(mBinding.getRoot(), new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2886241,"reputation":1276,"user_id":2476068,"display_name":"mukwux"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1546447412,"creation_date":1546447412,"answer_id":54010042,"question_id":53184433,"body_markdown":"This usually happens when attempting to use `DataBindingUtil.inflate()` to inflate a layout that does not support data binding.  In other words, the layout you&#39;re attempting to inflate does not have its root element as `&lt;layout&gt;`.\r\n\r\nI have run into this problem when refactoring an *Activity* to use data binding, and the *Activity* has multiple layouts.  I successfully refactored one of the layouts to include the `&lt;layout&gt;` element at its root, but I didn&#39;t refactor *all* the other layouts (layouts for other screen densities, languages, modules, etc.).\r\n\r\nCheck to make sure **ALL** the possible matching layouts are configured with `&lt;layout&gt;` as their root element.\r\n\r\nSee this developer doc [Layouts and binding expressions][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/data-binding/expressions","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>This usually happens when attempting to use <code>DataBindingUtil.inflate()</code> to inflate a layout that does not support data binding.  In other words, the layout you're attempting to inflate does not have its root element as <code>&lt;layout&gt;</code>.</p>\n\n<p>I have run into this problem when refactoring an <em>Activity</em> to use data binding, and the <em>Activity</em> has multiple layouts.  I successfully refactored one of the layouts to include the <code>&lt;layout&gt;</code> element at its root, but I didn't refactor <em>all</em> the other layouts (layouts for other screen densities, languages, modules, etc.).</p>\n\n<p>Check to make sure <strong>ALL</strong> the possible matching layouts are configured with <code>&lt;layout&gt;</code> as their root element.</p>\n\n<p>See this developer doc <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"noreferrer\">Layouts and binding expressions</a></p>\n"},{"tags":[],"owner":{"account_id":5739154,"reputation":1530,"user_id":4532349,"display_name":"Uzair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564816940,"creation_date":1564816940,"answer_id":57336308,"question_id":53184433,"body_markdown":"Usually happens while learning about data binding in android, we usually use a main_activity.xml and then include content_main.xml but we by mistake put the `&lt;layout` tag in content file. We need to put this `&lt;layout` and `&lt;data` tag in parent file that is used in `setContentView()`","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>Usually happens while learning about data binding in android, we usually use a main_activity.xml and then include content_main.xml but we by mistake put the <code>&lt;layout</code> tag in content file. We need to put this <code>&lt;layout</code> and <code>&lt;data</code> tag in parent file that is used in <code>setContentView()</code></p>\n"},{"tags":[],"owner":{"account_id":111208,"reputation":1645,"user_id":293918,"accept_rate":100,"display_name":"Alberto M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566571494,"creation_date":1566571494,"answer_id":57628528,"question_id":53184433,"body_markdown":"this happened to me because one layout wasn&#39;t present for all resolution (it was only in layout and layout-normal).","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>this happened to me because one layout wasn't present for all resolution (it was only in layout and layout-normal).</p>\n"},{"tags":[],"owner":{"account_id":120537,"reputation":11817,"user_id":313042,"accept_rate":75,"display_name":"Rajath"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1579470337,"creation_date":1579470337,"answer_id":59814687,"question_id":53184433,"body_markdown":"This happened to me due to the library&#39;s layout file (the one for which the error was flagged) having the same name as another one in the app module. Both used data binding.","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>This happened to me due to the library's layout file (the one for which the error was flagged) having the same name as another one in the app module. Both used data binding.</p>\n"},{"comments":[{"owner":{"account_id":4970400,"reputation":76,"user_id":3998398,"display_name":"Dmitriy Khalturin"},"score":0,"creation_date":1633097159,"post_id":59972871,"comment_id":122677008,"body_markdown":"It&#39;s helped me, thx","body":"It&#39;s helped me, thx"}],"tags":[],"owner":{"account_id":10919431,"reputation":183,"user_id":8026243,"display_name":"Umar Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580320205,"creation_date":1580320205,"answer_id":59972871,"question_id":53184433,"body_markdown":"Another scenario where this error occurs is in a RecyclerView&#39;s ViewHolder.\r\n\r\nAvoid initialising a binding instance in the ViewHolder&#39;s bind method\r\n\r\n    class BindingAdapter(private val items: List&lt;Any&gt;): RecyclerView.Adapter&lt;BindingHolder&gt;() {\r\n          override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BindingHolder {}\r\n            \r\n          override fun onBindViewHolder(holder: BindingHolder, position: Int) {\r\n               holder.bindItem(items[position])\r\n          }\r\n     }\r\n\r\n    class BindingHolder(view: View): RecyclerView.ViewHolder(view) {\r\n        fun bindItem(item: Any) {\r\n            //Don&#39;t do this\r\n            val binding = ItemSampleBinding.bind(itemView)\r\n        }\r\n    }\r\n\r\nThe databinding instance should be initialised outside the bind method because ViewHolders could be recycled and in the code above we could be trying to create a binding instance from a view that&#39;s already bound.\r\n\r\nInstead create the binding instance in initialisation block of the ViewHolder (this can be in `init{}` block or just after the class declaration as shown below)\r\n\r\n    class BindingHolder(view: View): RecyclerView.ViewHolder(view) {\r\n        val binding = ItemSampleBinding.bind(view)\r\n\r\n        fun bindItem(item: Any) {\r\n            //Rest of ViewHolder logic\r\n            //binding.textView.text = &quot;Something nice&quot;\r\n        }\r\n    }","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>Another scenario where this error occurs is in a RecyclerView's ViewHolder.</p>\n\n<p>Avoid initialising a binding instance in the ViewHolder's bind method</p>\n\n<pre><code>class BindingAdapter(private val items: List&lt;Any&gt;): RecyclerView.Adapter&lt;BindingHolder&gt;() {\n      override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BindingHolder {}\n\n      override fun onBindViewHolder(holder: BindingHolder, position: Int) {\n           holder.bindItem(items[position])\n      }\n }\n\nclass BindingHolder(view: View): RecyclerView.ViewHolder(view) {\n    fun bindItem(item: Any) {\n        //Don't do this\n        val binding = ItemSampleBinding.bind(itemView)\n    }\n}\n</code></pre>\n\n<p>The databinding instance should be initialised outside the bind method because ViewHolders could be recycled and in the code above we could be trying to create a binding instance from a view that's already bound.</p>\n\n<p>Instead create the binding instance in initialisation block of the ViewHolder (this can be in <code>init{}</code> block or just after the class declaration as shown below)</p>\n\n<pre><code>class BindingHolder(view: View): RecyclerView.ViewHolder(view) {\n    val binding = ItemSampleBinding.bind(view)\n\n    fun bindItem(item: Any) {\n        //Rest of ViewHolder logic\n        //binding.textView.text = \"Something nice\"\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11551241,"reputation":504,"user_id":8463813,"display_name":"GiridharaSPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583583673,"creation_date":1583583673,"answer_id":60577478,"question_id":53184433,"body_markdown":"I have used inflater without &quot;attachToRoot&quot;. \r\nThis error always occurs with issues related to inflater in adapter.","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>I have used inflater without \"attachToRoot\". \nThis error always occurs with issues related to inflater in adapter.</p>\n"},{"tags":[],"owner":{"account_id":14056231,"reputation":641,"user_id":10153483,"display_name":"Black4Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584776703,"creation_date":1584776703,"answer_id":60785556,"question_id":53184433,"body_markdown":"Please convert the XML layout into data binding. this may cause this exception.like\r\n\r\n\r\n    &lt;layout&gt;\r\n    xml components here...\r\n    &lt;/layout&gt;\r\n\r\n\r\n\r\n\r\n","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>Please convert the XML layout into data binding. this may cause this exception.like</p>\n\n<pre><code>&lt;layout&gt;\nxml components here...\n&lt;/layout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":349881,"reputation":629,"user_id":685429,"accept_rate":50,"display_name":"Rule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612361297,"creation_date":1612361297,"answer_id":66029175,"question_id":53184433,"body_markdown":"I converted my layout by wrapping it in `&lt;layout&gt;` tags, but I forgot to move the namespace declarations to the opening `&lt;layout&gt;` tag:\r\n\r\n**Before**\r\n\r\n    &lt;layout&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n**After**\r\n\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>I converted my layout by wrapping it in <code>&lt;layout&gt;</code> tags, but I forgot to move the namespace declarations to the opening <code>&lt;layout&gt;</code> tag:</p>\n<p><strong>Before</strong></p>\n<pre><code>&lt;layout&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22522139,"reputation":978,"user_id":16715508,"display_name":"George Sun"},"score":0,"creation_date":1632854620,"post_id":69364066,"comment_id":122605082,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/29943646)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/29943646\">From Review</a>"}],"tags":[],"owner":{"account_id":21793761,"reputation":1,"user_id":16093618,"display_name":"peparonieee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632841015,"creation_date":1632841015,"answer_id":69364066,"question_id":53184433,"body_markdown":"I had the same error, I have simply clean my project :) \r\nand it&#39;s Work","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>I had the same error, I have simply clean my project :)\nand it's Work</p>\n"},{"tags":[],"owner":{"account_id":6839008,"reputation":395,"user_id":5259996,"display_name":"Muhammad Helmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667885995,"creation_date":1667885995,"answer_id":74356123,"question_id":53184433,"body_markdown":"I have removed dataBinding `&lt;layout&gt;&lt;/layout&gt;` TAG and it works for me.","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>I have removed dataBinding <code>&lt;layout&gt;&lt;/layout&gt;</code> TAG and it works for me.</p>\n"}],"owner":{"account_id":8422678,"reputation":233,"user_id":6320995,"display_name":"Et Crc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12166,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":11,"score":17,"last_activity_date":1667885995,"creation_date":1541571459,"question_id":53184433,"body_markdown":"Please inform me if knowing whats tag that wanted.\r\n\r\n`Caused by: java.lang.RuntimeException: view must have a tag`\r\n\r\n__BaseActivity.java\r\n   \r\n        @Override\r\n        public void setContentView(int layoutResID) {\r\n           \r\n            mBinding.contentParent.removeAllViews();\r\n            DataBindingUtil.inflate(LayoutInflater.from(this), layoutResID, mBinding.contentParent, true);\r\n            super.setContentView(mBinding.getRoot());\r\n        }\r\n\r\n__ChildActivity.java\r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            mBinding = DataBindingUtil.setContentView(this, R.layout.my_wallet);\r\n    }\r\n\r\nERROR logcat\r\n\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydev}: java.lang.RuntimeException: view must have a tag\r\n            at &lt;more...&gt;\r\n         Caused by: java.lang.RuntimeException: view must have a tag\r\n            at android.databinding.DataBinderMapperImpl.getDataBinder(DataBinderMapperImpl.java:121)","title":"What the actual meaning `Caused by: java.lang.RuntimeException: view must have a tag`?","body":"<p>Please inform me if knowing whats tag that wanted.</p>\n\n<p><code>Caused by: java.lang.RuntimeException: view must have a tag</code></p>\n\n<p>__BaseActivity.java</p>\n\n<pre><code>    @Override\n    public void setContentView(int layoutResID) {\n\n        mBinding.contentParent.removeAllViews();\n        DataBindingUtil.inflate(LayoutInflater.from(this), layoutResID, mBinding.contentParent, true);\n        super.setContentView(mBinding.getRoot());\n    }\n</code></pre>\n\n<p>__ChildActivity.java</p>\n\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = DataBindingUtil.setContentView(this, R.layout.my_wallet);\n}\n</code></pre>\n\n<p>ERROR logcat</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mydev}: java.lang.RuntimeException: view must have a tag\n        at &lt;more...&gt;\n     Caused by: java.lang.RuntimeException: view must have a tag\n        at android.databinding.DataBinderMapperImpl.getDataBinder(DataBinderMapperImpl.java:121)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1667883055,"post_id":74355790,"comment_id":131267821,"body_markdown":"show us what you tried.","body":"show us what you tried."},{"owner":{"account_id":20908872,"reputation":366,"user_id":15360188,"display_name":"Syed Ibrahim"},"score":0,"creation_date":1667883105,"post_id":74355790,"comment_id":131267826,"body_markdown":"Make a class with boolean variable in  it. Make it instance as singleton and you can use it anywhere.","body":"Make a class with boolean variable in  it. Make it instance as singleton and you can use it anywhere."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1667883606,"post_id":74355790,"comment_id":131267886,"body_markdown":"@SyedIbrahim: That is not true if they are not marked final.  Making a static variable is correct -- but it is also generally considered bad practice.","body":"@SyedIbrahim: That is not true if they are not marked final.  Making a static variable is correct -- but it is also generally considered bad practice."},{"owner":{"account_id":26862862,"reputation":21,"user_id":20446050,"display_name":"blargg"},"score":0,"creation_date":1667883754,"post_id":74355790,"comment_id":131267907,"body_markdown":"@LouisWasserman Do you make the static variable inside of a class, or outside of all classes?","body":"@LouisWasserman Do you make the static variable inside of a class, or outside of all classes?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667883758,"post_id":74355790,"comment_id":131267908,"body_markdown":"Maybe you need property change listener:  https://stackoverflow.com/questions/4987476/java-propertychangelistener","body":"Maybe you need property change listener:  <a href=\"https://stackoverflow.com/questions/4987476/java-propertychangelistener\" title=\"java propertychangelistener\">stackoverflow.com/questions/4987476/java-propertychangeliste&zwnj;&#8203;ner</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667883787,"post_id":74355790,"comment_id":131267914,"body_markdown":"You cannot make anything outside of all classes.  You already have the right solution (for what you want to do, which may not be a good idea).  You will need to access it with the class, e.g. `MyClass.n`, of course.","body":"You cannot make anything outside of all classes.  You already have the right solution (for what you want to do, which may not be a good idea).  You will need to access it with the class, e.g. <code>MyClass.n</code>, of course."},{"owner":{"account_id":26862862,"reputation":21,"user_id":20446050,"display_name":"blargg"},"score":0,"creation_date":1667884106,"post_id":74355790,"comment_id":131267962,"body_markdown":"@louiswasserman I did not try accessing it with the class like you said. I will try it now.","body":"@louiswasserman I did not try accessing it with the class like you said. I will try it now."},{"owner":{"account_id":26862862,"reputation":21,"user_id":20446050,"display_name":"blargg"},"score":0,"creation_date":1667884457,"post_id":74355790,"comment_id":131268006,"body_markdown":"@louiswasserman that seems to have worked, thanks.","body":"@louiswasserman that seems to have worked, thanks."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667884507,"creation_date":1667884507,"answer_id":74355956,"question_id":74355790,"body_markdown":"You already have the right solution (for what you want to do, which may not be a good idea). You will need to access it with the class, e.g. MyClass.n, of course.","title":"How to make a variable in Java that is accessable by all classes and functions?","body":"<p>You already have the right solution (for what you want to do, which may not be a good idea). You will need to access it with the class, e.g. MyClass.n, of course.</p>\n"}],"owner":{"account_id":26862862,"reputation":21,"user_id":20446050,"display_name":"blargg"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667884507,"creation_date":1667882934,"question_id":74355790,"body_markdown":"Say I have the boolean n that gets changed to true in classB. However, in classA, n is false until someone makes it true in classB.\r\n\r\nHow is this done?\r\n\r\nI think it might involve a static variable but I&#39;m not sure.\r\n\r\nI tried typing public static boolean n = false; inside a class, and that did not work. Making a variable that way outside of any classes did not work either.","title":"How to make a variable in Java that is accessable by all classes and functions?","body":"<p>Say I have the boolean n that gets changed to true in classB. However, in classA, n is false until someone makes it true in classB.</p>\n<p>How is this done?</p>\n<p>I think it might involve a static variable but I'm not sure.</p>\n<p>I tried typing public static boolean n = false; inside a class, and that did not work. Making a variable that way outside of any classes did not work either.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1391099359,"post_id":21462006,"comment_id":32388463,"body_markdown":"What exactly does &quot;growing beyond control&quot; mean? What problems are you having? What is the nature of your data?","body":"What exactly does &quot;growing beyond control&quot; mean? What problems are you having? What is the nature of your data?"},{"owner":{"account_id":1453504,"reputation":1846,"user_id":1369754,"accept_rate":64,"display_name":"IndoKnight"},"score":0,"creation_date":1391099364,"post_id":21462006,"comment_id":32388467,"body_markdown":"Why not use database?","body":"Why not use database?"}],"answers":[{"comments":[{"owner":{"account_id":1569088,"reputation":287,"user_id":1457209,"accept_rate":38,"display_name":"ams2705"},"score":0,"creation_date":1391101274,"post_id":21462158,"comment_id":32389890,"body_markdown":"Thanks for the reply. How can i evaluate the performance benefit which i am getting currently with XML with the performance benefit which i can get with DB approach. Basically how i can conclude i ave to move my xml(s) to DB?","body":"Thanks for the reply. How can i evaluate the performance benefit which i am getting currently with XML with the performance benefit which i can get with DB approach. Basically how i can conclude i ave to move my xml(s) to DB?"},{"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"score":0,"creation_date":1391101555,"post_id":21462158,"comment_id":32390103,"body_markdown":"Well you would have to do something like:\nDate initialDate = new Date();\ngetXmlValue();\nDate finalDate = new Date();\nSystem.out.println(&quot;Load XML took &quot; + initialDate.getTime()-finalDate.getTime());\nI&#39;ll update the answer with this code.","body":"Well you would have to do something like: Date initialDate = new Date(); getXmlValue(); Date finalDate = new Date(); System.out.println(&quot;Load XML took &quot; + initialDate.getTime()-finalDate.getTime()); I&#39;ll update the answer with this code."},{"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"score":0,"creation_date":1391103885,"post_id":21462158,"comment_id":32391632,"body_markdown":"Please @ams2705 upvote my answer if you liked it. This way I can contrinute better with comments. Thanks.","body":"Please @ams2705 upvote my answer if you liked it. This way I can contrinute better with comments. Thanks."}],"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391101841,"creation_date":1391099701,"answer_id":21462158,"question_id":21462006,"body_markdown":"For what you said you read the XML file in each request, if you use JAX-B or is getting in as object somehow, after load this files make a Singleton (http://en.wikipedia.org/wiki/Singleton_pattern) to hold this values in memory, this way you will validate the XML just once and will keep it in memory, increasing the performance.\r\nBut, if the XML is really huge and you can not maintain they in memory, I would suggest putting this information in a database. You could migrate all the data to the database or create a functionality to update the data on system startup according to the XML data. The best solution in this scenario with database would be migrate all data and not use XML anymore.\r\nTo measure the performance of each approach you would have to write something like:\r\n\r\n    public static void main(String args[]) {\r\n\t\tDate initialDate = new Date();\r\n\t\tgetXmlValue();// or getDBValue();\r\n\t\tDate finalDate = new Date();\r\n\t\tSystem.out.println(&quot;Load XML took &quot; + (initialDate.getTime()-finalDate.getTime()) + &quot;ms&quot;);\r\n\t}","title":"Growing XML with variation conditions and static data. Looking for alternative","body":"<p>For what you said you read the XML file in each request, if you use JAX-B or is getting in as object somehow, after load this files make a Singleton (<a href=\"http://en.wikipedia.org/wiki/Singleton_pattern\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Singleton_pattern</a>) to hold this values in memory, this way you will validate the XML just once and will keep it in memory, increasing the performance.\nBut, if the XML is really huge and you can not maintain they in memory, I would suggest putting this information in a database. You could migrate all the data to the database or create a functionality to update the data on system startup according to the XML data. The best solution in this scenario with database would be migrate all data and not use XML anymore.\nTo measure the performance of each approach you would have to write something like:</p>\n\n<pre><code>public static void main(String args[]) {\n    Date initialDate = new Date();\n    getXmlValue();// or getDBValue();\n    Date finalDate = new Date();\n    System.out.println(\"Load XML took \" + (initialDate.getTime()-finalDate.getTime()) + \"ms\");\n}\n</code></pre>\n"}],"owner":{"account_id":1569088,"reputation":287,"user_id":1457209,"accept_rate":38,"display_name":"ams2705"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21462158,"answer_count":1,"score":0,"last_activity_date":1667883523,"creation_date":1391099234,"question_id":21462006,"body_markdown":"In our Java application, we have used XMLs to maintain static data and variation conditions. Now these XMLs are growing beyond control. What would be an alternative to maintain our static data and variation conditions which will benefit us in terms of performance cost and usability?\r\n","title":"Growing XML with variation conditions and static data. Looking for alternative","body":"<p>In our Java application, we have used XMLs to maintain static data and variation conditions. Now these XMLs are growing beyond control. What would be an alternative to maintain our static data and variation conditions which will benefit us in terms of performance cost and usability?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2091199,"reputation":1388,"user_id":1861001,"display_name":"brunobastosg"},"score":1,"creation_date":1591496979,"post_id":62240174,"comment_id":110077115,"body_markdown":"See https://stackoverflow.com/questions/16730109/difference-between-object-type-and-reference-type","body":"See <a href=\"https://stackoverflow.com/questions/16730109/difference-between-object-type-and-reference-type\" title=\"difference between object type and reference type\">stackoverflow.com/questions/16730109/&hellip;</a>"},{"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"score":0,"creation_date":1591497040,"post_id":62240174,"comment_id":110077127,"body_markdown":"have child extend parent.","body":"have child extend parent."}],"answers":[{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591498152,"creation_date":1591497049,"answer_id":62240192,"question_id":62240174,"body_markdown":"The reason it isn&#39;t working is because parent classes don&#39;t have access to their childrens properties. You may be creating a `Child` class, but you assign it to a `Parent` object. Since `Child` is inheriting from `Parent` you are able to cast `Child` to `Parent`. \r\n\r\nYou are basically doing: \r\n\r\n     Parent p = (Parent) new Child();\r\n     \r\n\r\nIn other words, You are creating a `Parent` object. There is no `a` attribue in the `Parent` class. \r\n\r\nYou can do:\r\n\r\n    class Parent{\r\n    \tint a = 20;\r\n    }\r\n    \r\n    class Child extends Parent{\r\n    \r\n    public static void main(String[] args){\r\n         Child c = new Child();\r\n         System.out.println(c.a); //gives compile time error\r\n         // question is , p is parent type reference variable , but it is pointing to object of child\r\n         // class, then we should be able to access child properties from it, but we cant, why ?\r\n    }","title":"Accessing child properties from parent type reference in java","body":"<p>The reason it isn't working is because parent classes don't have access to their childrens properties. You may be creating a <code>Child</code> class, but you assign it to a <code>Parent</code> object. Since <code>Child</code> is inheriting from <code>Parent</code> you are able to cast <code>Child</code> to <code>Parent</code>. </p>\n\n<p>You are basically doing: </p>\n\n<pre><code> Parent p = (Parent) new Child();\n</code></pre>\n\n<p>In other words, You are creating a <code>Parent</code> object. There is no <code>a</code> attribue in the <code>Parent</code> class. </p>\n\n<p>You can do:</p>\n\n<pre><code>class Parent{\n    int a = 20;\n}\n\nclass Child extends Parent{\n\npublic static void main(String[] args){\n     Child c = new Child();\n     System.out.println(c.a); //gives compile time error\n     // question is , p is parent type reference variable , but it is pointing to object of child\n     // class, then we should be able to access child properties from it, but we cant, why ?\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11156029,"reputation":546,"user_id":8187731,"display_name":"Super Rick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591498978,"creation_date":1591498978,"answer_id":62240359,"question_id":62240174,"body_markdown":"You can do it by typecasting the reference to the child type.\r\n```java\r\nclass Parent {\r\n}\r\n\r\nclass Child extends Parent {\r\n    int a = 20;\r\n    public static void main(String[] args) {\r\n        Parent p = new Child();\r\n        System.out.println(((Child)p).a);\r\n    }\r\n}\r\n```\r\n\r\nIt will throw a ClassCastException if `p` is not an Object of Child Type. So, it is better to check that  `p` is an Object of Child by `instanceof` operator\r\n```\r\n    if (p instancof Child) {\r\n        System.out.println(((Child)p).a);\r\n    }\r\n``` ","title":"Accessing child properties from parent type reference in java","body":"<p>You can do it by typecasting the reference to the child type.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n}\n\nclass Child extends Parent {\n    int a = 20;\n    public static void main(String[] args) {\n        Parent p = new Child();\n        System.out.println(((Child)p).a);\n    }\n}\n</code></pre>\n\n<p>It will throw a ClassCastException if <code>p</code> is not an Object of Child Type. So, it is better to check that  <code>p</code> is an Object of Child by <code>instanceof</code> operator</p>\n\n<pre><code>    if (p instancof Child) {\n        System.out.println(((Child)p).a);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16041925,"reputation":540,"user_id":11578142,"display_name":"Aditya Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591519842,"creation_date":1591519842,"answer_id":62243002,"question_id":62240174,"body_markdown":"Here when you write `Parent p = new Child()`, then object of child class is created with properties of both Parent and Child class but the reference variable which is used to hold this object is of Parent type or you can say of Parent class.\r\n\r\nWhen we want to access the instance methods or variables of any class, then the reference variable should be of that class only or its child class.\r\n\r\nSo we cannot access variable of child class with the reference variable of parent class.\r\n**Only the variables present in the Parent class can be accessed through the reference variable of parent class, doesn&#39;t matter you are using that reference variable to hold parent Class object or Child class object.**\r\n\r\nSo only way to access &#39;a&#39; instance variable in the code from p reference variable is to typecast p to Child type and then it can access variables of Child class.\r\n\r\n    `\r\n    Parent p = new Child();\r\n      System.out.println(((Child)p).a);\r\n\r\n`\r\n\r\n\r\n\r\n \r\n","title":"Accessing child properties from parent type reference in java","body":"<p>Here when you write <code>Parent p = new Child()</code>, then object of child class is created with properties of both Parent and Child class but the reference variable which is used to hold this object is of Parent type or you can say of Parent class.</p>\n\n<p>When we want to access the instance methods or variables of any class, then the reference variable should be of that class only or its child class.</p>\n\n<p>So we cannot access variable of child class with the reference variable of parent class.\n<strong>Only the variables present in the Parent class can be accessed through the reference variable of parent class, doesn't matter you are using that reference variable to hold parent Class object or Child class object.</strong></p>\n\n<p>So only way to access 'a' instance variable in the code from p reference variable is to typecast p to Child type and then it can access variables of Child class.</p>\n\n<pre><code>`\nParent p = new Child();\n  System.out.println(((Child)p).a);\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":17976840,"reputation":11,"user_id":13064176,"display_name":"S G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667882454,"creation_date":1667882454,"answer_id":74355754,"question_id":62240174,"body_markdown":"Here is all possible combination \r\nThere is difference at runtime while access member variable and member method \r\n```\r\nclass Parent {\r\n    String s = &quot;parent class variable &quot;;\r\n    public void display()\r\n    {\r\n        System.out.println(&quot;Parent class method&quot;);\r\n    }\r\n     \r\n}\r\nclass Child extends Parent{\r\n    String s = &quot;child class variable &quot;;\r\n\r\n    public void display()\r\n    {\r\n        System.out.println(&quot;Child class method&quot;);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Parent p = new Parent();\r\n        Parent c = new Child();\r\n        Child cc = new Child();\r\n\r\n        System.out.println(p.s);\r\n        System.out.println(c.s);\r\n        System.out.println(cc.s);\r\n\r\n        p.display();\r\n        c.display();\r\n        cc.display();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nOutput : \r\n```\r\nparent class variable\r\nparent class variable\r\nchild class variable\r\nParent class method\r\nChild class method\r\nChild class method\r\n```","title":"Accessing child properties from parent type reference in java","body":"<p>Here is all possible combination\nThere is difference at runtime while access member variable and member method</p>\n<pre><code>class Parent {\n    String s = &quot;parent class variable &quot;;\n    public void display()\n    {\n        System.out.println(&quot;Parent class method&quot;);\n    }\n     \n}\nclass Child extends Parent{\n    String s = &quot;child class variable &quot;;\n\n    public void display()\n    {\n        System.out.println(&quot;Child class method&quot;);\n    }\n    \n    public static void main(String[] args) {\n        Parent p = new Parent();\n        Parent c = new Child();\n        Child cc = new Child();\n\n        System.out.println(p.s);\n        System.out.println(c.s);\n        System.out.println(cc.s);\n\n        p.display();\n        c.display();\n        cc.display();\n\n\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>parent class variable\nparent class variable\nchild class variable\nParent class method\nChild class method\nChild class method\n</code></pre>\n"}],"owner":{"account_id":16041925,"reputation":540,"user_id":11578142,"display_name":"Aditya Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5710,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62243002,"answer_count":4,"score":2,"last_activity_date":1667882454,"creation_date":1591496837,"question_id":62240174,"body_markdown":"When I create a child object with parent reference like this `Parent p = new Child();`\r\nthen basically it is a child object with parent reference and with properties of both parent and child.\r\nThen if it is a **child object** with parent type reference then **why I cannot access child properties with it.**\r\nI am trying to do the following thing:\r\n\r\n    class Parent {\r\n    \r\n    }\r\n    \r\n    class Child extends Parent {\r\n     int a = 20;\r\n     public static void main(String[] args) {\r\n      Parent p = new Child();\r\n      System.out.println(p.a); //gives compile time error\r\n      // question is , p is parent type reference variable , but it is pointing to object of child\r\n      // class, then we should be able to access child properties from it, but we cant, why ?\r\n     }\r\n\r\n","title":"Accessing child properties from parent type reference in java","body":"<p>When I create a child object with parent reference like this <code>Parent p = new Child();</code>\nthen basically it is a child object with parent reference and with properties of both parent and child.\nThen if it is a <strong>child object</strong> with parent type reference then <strong>why I cannot access child properties with it.</strong>\nI am trying to do the following thing:</p>\n\n<pre><code>class Parent {\n\n}\n\nclass Child extends Parent {\n int a = 20;\n public static void main(String[] args) {\n  Parent p = new Child();\n  System.out.println(p.a); //gives compile time error\n  // question is , p is parent type reference variable , but it is pointing to object of child\n  // class, then we should be able to access child properties from it, but we cant, why ?\n }\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667733271,"post_id":74333659,"comment_id":131232578,"body_markdown":"Please edit your question and show the dependencies that you&#39;re using.","body":"Please edit your question and show the dependencies that you&#39;re using."},{"owner":{"account_id":22516755,"reputation":13,"user_id":16710861,"display_name":"Tech Info"},"score":0,"creation_date":1667792589,"post_id":74333659,"comment_id":131244014,"body_markdown":"@AlexMamo I have add dependency please check it out&#128591;&#128591;&#128542;","body":"@AlexMamo I have add dependency please check it out🙏🙏😞"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667807091,"creation_date":1667807091,"answer_id":74343380,"question_id":74333659,"body_markdown":"The `get()` method isn&#39;t recognized because you&#39;re using an old version of the Realtime Database dependency. The get() method is available [starting from version 19.6.0][1].\r\n\r\nTo be able to use `get()`, you need to update the dependency to the [latest available version][2], which is:\r\n\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n\r\nBut I strongly advise you to use the BOM version without specifying the version for each product that you&#39;re using:\r\n\r\n    implementation platform(&quot;com.google.firebase:firebase-bom:31.0.2&quot;)\r\n    implementation &quot;com.google.firebase:firebase-database&quot;\r\n    implementation &quot;com.google.firebase:firebase-auth&quot;\r\n    implementation &quot;com.google.firebase:firebase-storage&quot;\r\n\r\nIf you&#39;re using Kotlin, here are the corresponding [dependencies][3]:\r\n\r\n    implementation platform(&quot;com.google.firebase:firebase-bom:31.0.2&quot;)\r\n    implementation &quot;com.google.firebase:firebase-database-ktx&quot;\r\n    implementation &quot;com.google.firebase:firebase-auth-ktx&quot;\r\n    implementation &quot;com.google.firebase:firebase-storage-ktx&quot;\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\r\n  [2]: https://firebase.google.com/support/release-notes/android#java\r\n  [3]: https://firebase.google.com/support/release-notes/android#kotlin+ktx","title":"I am getting error in firebase database function get()","body":"<p>The <code>get()</code> method isn't recognized because you're using an old version of the Realtime Database dependency. The get() method is available <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">starting from version 19.6.0</a>.</p>\n<p>To be able to use <code>get()</code>, you need to update the dependency to the <a href=\"https://firebase.google.com/support/release-notes/android#java\" rel=\"nofollow noreferrer\">latest available version</a>, which is:</p>\n<pre><code>implementation 'com.google.firebase:firebase-database:20.1.0'\n</code></pre>\n<p>But I strongly advise you to use the BOM version without specifying the version for each product that you're using:</p>\n<pre><code>implementation platform(&quot;com.google.firebase:firebase-bom:31.0.2&quot;)\nimplementation &quot;com.google.firebase:firebase-database&quot;\nimplementation &quot;com.google.firebase:firebase-auth&quot;\nimplementation &quot;com.google.firebase:firebase-storage&quot;\n</code></pre>\n<p>If you're using Kotlin, here are the corresponding <a href=\"https://firebase.google.com/support/release-notes/android#kotlin+ktx\" rel=\"nofollow noreferrer\">dependencies</a>:</p>\n<pre><code>implementation platform(&quot;com.google.firebase:firebase-bom:31.0.2&quot;)\nimplementation &quot;com.google.firebase:firebase-database-ktx&quot;\nimplementation &quot;com.google.firebase:firebase-auth-ktx&quot;\nimplementation &quot;com.google.firebase:firebase-storage-ktx&quot;\n</code></pre>\n"}],"owner":{"account_id":22516755,"reputation":13,"user_id":16710861,"display_name":"Tech Info"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74343380,"answer_count":1,"score":0,"last_activity_date":1667881580,"creation_date":1667715392,"question_id":74333659,"body_markdown":"I am facing a problem for 2-3 days I am trying to fix it but I can&#39;t fix it.\r\nI am continuously getting errors on a Firebase Realtime Database function **get()** on a code that I have copied from Firebase Realtime Database documentation. Here is my code:\r\n\r\n```java\r\nprivate DatabaseReference mDatabase;\r\n\r\n// ...\r\nmDatabase = FirebaseDatabase.getInstance().getReference(&quot;user app/profile&quot;);\r\n//...\r\nmDatabase.child(uid).get().addOnCompleteListener(new OnCompleteListener &lt; DataSnapshot &gt; () {\r\n\t@Override\r\n\tpublic void onComplete(@NonNull Task &lt; DataSnapshot &gt; task) {\r\n\t\tif (!task.isSuccessful()) {\r\n\t\t\t_custom_smart_toast(String.valueOf(task.getException()), setting.getString(&quot;color&quot;, &quot;&quot;), 10, setting.getString(&quot;color&quot;, &quot;&quot;));\r\n\t\t} else {\r\n            _custom_smart_toast(String.valueOf(task.getResult().getValue()), setting.getString(&quot;color&quot;, &quot;&quot;), 10, setting.getString(&quot;color&quot;, &quot;&quot;));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nBuild.gradle:\r\n```gradle\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.tsd.html&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.3&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:19.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:19.0.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.7&#39;\r\n    implementation &#39;com.squareup.okhttp3:okhttp:3.9.1&#39;\r\n}\r\n```\r\nI am getting error on compiling code that is:\r\n\r\n&gt; The method get() is undefined for the type DatabaseReference\r\n","title":"I am getting error in firebase database function get()","body":"<p>I am facing a problem for 2-3 days I am trying to fix it but I can't fix it.\nI am continuously getting errors on a Firebase Realtime Database function <strong>get()</strong> on a code that I have copied from Firebase Realtime Database documentation. Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private DatabaseReference mDatabase;\n\n// ...\nmDatabase = FirebaseDatabase.getInstance().getReference(&quot;user app/profile&quot;);\n//...\nmDatabase.child(uid).get().addOnCompleteListener(new OnCompleteListener &lt; DataSnapshot &gt; () {\n    @Override\n    public void onComplete(@NonNull Task &lt; DataSnapshot &gt; task) {\n        if (!task.isSuccessful()) {\n            _custom_smart_toast(String.valueOf(task.getException()), setting.getString(&quot;color&quot;, &quot;&quot;), 10, setting.getString(&quot;color&quot;, &quot;&quot;));\n        } else {\n            _custom_smart_toast(String.valueOf(task.getResult().getValue()), setting.getString(&quot;color&quot;, &quot;&quot;), 10, setting.getString(&quot;color&quot;, &quot;&quot;));\n        }\n    }\n}\n</code></pre>\n<p>Build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 28\n\n    useLibrary 'org.apache.http.legacy'\n\n    defaultConfig {\n        applicationId &quot;com.tsd.html&quot;\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.3&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'com.google.firebase:firebase-auth:19.0.0'\n    implementation 'com.google.firebase:firebase-database:19.0.0'\n    implementation 'com.google.firebase:firebase-storage:19.0.0'\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    implementation 'com.google.code.gson:gson:2.8.7'\n    implementation 'com.squareup.okhttp3:okhttp:3.9.1'\n}\n</code></pre>\n<p>I am getting error on compiling code that is:</p>\n<blockquote>\n<p>The method get() is undefined for the type DatabaseReference</p>\n</blockquote>\n"},{"tags":["java","spring-boot","google-cloud-platform","spring-cloud-stream","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667881306,"creation_date":1667881306,"answer_id":74355642,"question_id":62716040,"body_markdown":"Looking at [`PubSubChannelProvisioner`][1] , in the gcp-pubsub binding.  When creating a subscription the binding does not configure the retry policy.  So unless the retry is somehow handled within spring-cloud-stream instead of the underlying native pub-sub mechanisms, you are out of luck.\r\n\r\nWhat i am considering to do is to create the subscription myself using `PubSubAdmin` and then spring-cloud-stream will see the existing subscription with the correct retry policy and use it.\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/spring-cloud-gcp-pubsub-stream-binder/src/main/java/com/google/cloud/spring/stream/binder/pubsub/provisioning/PubSubChannelProvisioner.java#L154","title":"Backoff policy for Spring Cloud Stream consumer with GCP PubSub","body":"<p>Looking at <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/blob/main/spring-cloud-gcp-pubsub-stream-binder/src/main/java/com/google/cloud/spring/stream/binder/pubsub/provisioning/PubSubChannelProvisioner.java#L154\" rel=\"nofollow noreferrer\"><code>PubSubChannelProvisioner</code></a> , in the gcp-pubsub binding.  When creating a subscription the binding does not configure the retry policy.  So unless the retry is somehow handled within spring-cloud-stream instead of the underlying native pub-sub mechanisms, you are out of luck.</p>\n<p>What i am considering to do is to create the subscription myself using <code>PubSubAdmin</code> and then spring-cloud-stream will see the existing subscription with the correct retry policy and use it.</p>\n"}],"owner":{"account_id":4069384,"reputation":607,"user_id":3406925,"accept_rate":83,"display_name":"Maarten Dhondt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667881306,"creation_date":1593781360,"question_id":62716040,"body_markdown":"In a Spring Boot application I&#39;m using spring-cloud-stream for PubSub (spring-cloud-gcp-pubsub-stream-binder) to subscribe to a topic.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-pubsub-stream-binder&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI use the `@EnableBinding` and `@StreamListener` annotations to set up the subscriber:\r\n\r\n    @EnableBinding(Sink.class)\r\n    class Subscriber {\r\n    \r\n        @StreamListener(INPUT)\r\n        public void handleMessage(Message&lt;String&gt; message) {\r\n            ...\r\n        }\r\n    }\r\n\r\nDuring the handling of the message it is possible that something goes wrong. In that case I throw an Exception to make sure the message will not get acknowledged and be retried at a later time.\r\n\r\nAccording to the [spring cloud stream documentation][1] I should be able to use the properties\r\n\r\n    spring.cloud.stream.default.consumer.defaultRetryable=true\r\n    spring.cloud.stream.default.consumer.backOffInitialInterval=1000\r\n    spring.cloud.stream.default.consumer.backOffMultiplier=2.0\r\n    spring.cloud.stream.default.consumer.backOffMaxInterval=300000\r\n    spring.cloud.stream.default.consumer.maxAttempts=9999\r\n\r\nor for a specific channel (input in this case)\r\n\r\n    spring.cloud.stream.bindings.input.consumer.defaultRetryable=true\r\n    spring.cloud.stream.bindings.input.consumer.backOffInitialInterval=1000\r\n    spring.cloud.stream.bindings.input.consumer.backOffMultiplier=2.0\r\n    spring.cloud.stream.bindings.input.consumer.backOffMaxInterval=300000\r\n    spring.cloud.stream.bindings.input.consumer.maxAttempts=9999\r\n\r\nBut those properties do not seem to be used in my application. The message gets retried every 100ms regardless of what values in use in the above properties.\r\n\r\nCan anyone help me with setting the correct retry and/or backoff settings so that messages get retried accordingly?\r\n\r\nA fully working minimal example to illustrate my issue can be found on [GitHub][2] and looks like this:\r\n\r\nProducer:\r\n\r\n    @Component\r\n    public class Main {\r\n    \r\n        private static final Logger LOG = getLogger(Main.class);\r\n    \r\n        private boolean firstExecution = true;\r\n    \r\n        @Autowired\r\n        private SuccessSwitch consumerSuccessSwitch;\r\n        @Autowired\r\n        private PubSubTemplate pubSubTemplate;\r\n    \r\n        @Scheduled(fixedDelay = 10000)\r\n        public void doSomethingAfterStartup() {\r\n            if (firstExecution) {\r\n                firstExecution = false;\r\n                consumerSuccessSwitch.letFail();\r\n    \r\n                pubSubTemplate.publish(&quot;topic&quot;, &quot;payload&quot;);\r\n                LOG.info(&quot;Message published&quot;);\r\n            } else {\r\n                consumerSuccessSwitch.letSucceed();\r\n            }\r\n        }\r\n    }\r\n\r\nConsumer:\r\n\r\n    @EnableBinding(Sink.class)\r\n    class Subscriber {\r\n    \r\n        private static final Logger LOG = getLogger(Subscriber.class);\r\n    \r\n        @Autowired\r\n        private SuccessSwitch successSwitch;\r\n        private int retryCounter = 0;\r\n    \r\n        @StreamListener(INPUT)\r\n        public void handleMessage(Message&lt;String&gt; message) {\r\n            LOG.info(&quot;Received: {} for the {} time&quot;, message.getPayload(), ++retryCounter);\r\n    \r\n            if (!successSwitch.succeeded()) {\r\n                throw new RuntimeException();\r\n            }\r\n            LOG.info(&quot;Received: {} times&quot;, retryCounter);\r\n        }\r\n    }\r\n\r\nToggle ack/nack in consumer:\r\n\r\n    @Component\r\n    public class SuccessSwitch {\r\n    \r\n        private boolean success = false;\r\n    \r\n        public void letSucceed() {\r\n            this.success = true;\r\n        }\r\n    \r\n        public void letFail() {\r\n            this.success = false;\r\n        }\r\n    \r\n        public boolean succeeded() {\r\n            return success;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/spring-cloud-stream/current/reference/html/spring-cloud-stream.html#_consumer_properties\r\n  [2]: https://github.com/MDhondt/minimal-spring-cloud-gcp-pubsub-stream-binder","title":"Backoff policy for Spring Cloud Stream consumer with GCP PubSub","body":"<p>In a Spring Boot application I'm using spring-cloud-stream for PubSub (spring-cloud-gcp-pubsub-stream-binder) to subscribe to a topic.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-stream&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-pubsub-stream-binder&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I use the <code>@EnableBinding</code> and <code>@StreamListener</code> annotations to set up the subscriber:</p>\n<pre><code>@EnableBinding(Sink.class)\nclass Subscriber {\n\n    @StreamListener(INPUT)\n    public void handleMessage(Message&lt;String&gt; message) {\n        ...\n    }\n}\n</code></pre>\n<p>During the handling of the message it is possible that something goes wrong. In that case I throw an Exception to make sure the message will not get acknowledged and be retried at a later time.</p>\n<p>According to the <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-stream/current/reference/html/spring-cloud-stream.html#_consumer_properties\" rel=\"nofollow noreferrer\">spring cloud stream documentation</a> I should be able to use the properties</p>\n<pre><code>spring.cloud.stream.default.consumer.defaultRetryable=true\nspring.cloud.stream.default.consumer.backOffInitialInterval=1000\nspring.cloud.stream.default.consumer.backOffMultiplier=2.0\nspring.cloud.stream.default.consumer.backOffMaxInterval=300000\nspring.cloud.stream.default.consumer.maxAttempts=9999\n</code></pre>\n<p>or for a specific channel (input in this case)</p>\n<pre><code>spring.cloud.stream.bindings.input.consumer.defaultRetryable=true\nspring.cloud.stream.bindings.input.consumer.backOffInitialInterval=1000\nspring.cloud.stream.bindings.input.consumer.backOffMultiplier=2.0\nspring.cloud.stream.bindings.input.consumer.backOffMaxInterval=300000\nspring.cloud.stream.bindings.input.consumer.maxAttempts=9999\n</code></pre>\n<p>But those properties do not seem to be used in my application. The message gets retried every 100ms regardless of what values in use in the above properties.</p>\n<p>Can anyone help me with setting the correct retry and/or backoff settings so that messages get retried accordingly?</p>\n<p>A fully working minimal example to illustrate my issue can be found on <a href=\"https://github.com/MDhondt/minimal-spring-cloud-gcp-pubsub-stream-binder\" rel=\"nofollow noreferrer\">GitHub</a> and looks like this:</p>\n<p>Producer:</p>\n<pre><code>@Component\npublic class Main {\n\n    private static final Logger LOG = getLogger(Main.class);\n\n    private boolean firstExecution = true;\n\n    @Autowired\n    private SuccessSwitch consumerSuccessSwitch;\n    @Autowired\n    private PubSubTemplate pubSubTemplate;\n\n    @Scheduled(fixedDelay = 10000)\n    public void doSomethingAfterStartup() {\n        if (firstExecution) {\n            firstExecution = false;\n            consumerSuccessSwitch.letFail();\n\n            pubSubTemplate.publish(&quot;topic&quot;, &quot;payload&quot;);\n            LOG.info(&quot;Message published&quot;);\n        } else {\n            consumerSuccessSwitch.letSucceed();\n        }\n    }\n}\n</code></pre>\n<p>Consumer:</p>\n<pre><code>@EnableBinding(Sink.class)\nclass Subscriber {\n\n    private static final Logger LOG = getLogger(Subscriber.class);\n\n    @Autowired\n    private SuccessSwitch successSwitch;\n    private int retryCounter = 0;\n\n    @StreamListener(INPUT)\n    public void handleMessage(Message&lt;String&gt; message) {\n        LOG.info(&quot;Received: {} for the {} time&quot;, message.getPayload(), ++retryCounter);\n\n        if (!successSwitch.succeeded()) {\n            throw new RuntimeException();\n        }\n        LOG.info(&quot;Received: {} times&quot;, retryCounter);\n    }\n}\n</code></pre>\n<p>Toggle ack/nack in consumer:</p>\n<pre><code>@Component\npublic class SuccessSwitch {\n\n    private boolean success = false;\n\n    public void letSucceed() {\n        this.success = true;\n    }\n\n    public void letFail() {\n        this.success = false;\n    }\n\n    public boolean succeeded() {\n        return success;\n    }\n}\n</code></pre>\n"},{"tags":["java","list","generics","enums"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1667879163,"post_id":74353528,"comment_id":131267395,"body_markdown":"The most correct answer is the one posted by Alexander Ivanchenko. You can use this approach to resolve for inner classes that belong to members of a class hierarchy. Say for example that instead of being interested in the `Ant` class hierarchy, you are interested in obtaining each of the `Ant` object builders that are an internal attribute of each class. If that is the case, you won&#39;t be able to use any of the suggestions here other than what Alexander suggested. If you would like to examine this further, you can check out [this video](https://youtu.be/QeRn-wXIGtw) on the topic.","body":"The most correct answer is the one posted by Alexander Ivanchenko. You can use this approach to resolve for inner classes that belong to members of a class hierarchy. Say for example that instead of being interested in the <code>Ant</code> class hierarchy, you are interested in obtaining each of the <code>Ant</code> object builders that are an internal attribute of each class. If that is the case, you won&#39;t be able to use any of the suggestions here other than what Alexander suggested. If you would like to examine this further, you can check out <a href=\"https://youtu.be/QeRn-wXIGtw\" rel=\"nofollow noreferrer\">this video</a> on the topic."}],"answers":[{"comments":[{"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"score":0,"creation_date":1667862912,"post_id":74353657,"comment_id":131265004,"body_markdown":"Thanks, for your time.\n\nThat looks like an interesting approach but unfortunately it doesn&#39;t solve the main issue for me. I&#39;d like to return not just a List&lt;Ant&gt; but a List of the specific types of ants, based on the given AntType enum. So when I call getAntsType(AntType.WARRIOR) I want to have a List&lt;AntWarrior&gt; returned. Same for AntScout and so on.","body":"Thanks, for your time.  That looks like an interesting approach but unfortunately it doesn&#39;t solve the main issue for me. I&#39;d like to return not just a List&lt;Ant&gt; but a List of the specific types of ants, based on the given AntType enum. So when I call getAntsType(AntType.WARRIOR) I want to have a List&lt;AntWarrior&gt; returned. Same for AntScout and so on."}],"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667860310,"creation_date":1667860310,"answer_id":74353657,"question_id":74353528,"body_markdown":"I would change your `AntType` enum method so that it acts as the filter in your stream. I&#39;ve had to guess at the rest of the class hierarchy but this might give you a starting point.\r\n\r\n    import java.util.List;\r\n    import static java.util.stream.Collectors.toList;\r\n    public class Demo {\r\n        private List&lt;Ant&gt; ants = List.of(\r\n                new AntQueen(),\r\n                new AntScout(),\r\n                new AntGatherer(),\r\n                new AntWarrior());\r\n    \r\n        public static void main(String[] args) {\r\n            var demo = new Demo();\r\n            System.out.println(demo.getAntsType(AntType.QUEEN));\r\n        }\r\n    \r\n        public List&lt;Ant&gt; getAntsType(AntType type) {\r\n            return ants.stream().filter(type::matches).collect(toList());\r\n        }\r\n    }\r\n    \r\n    class Ant {}\r\n    class AntQueen extends Ant {}\r\n    class AntWarrior extends Ant {}\r\n    class AntGatherer extends Ant {}\r\n    class AntScout extends Ant {}\r\n    \r\n    enum AntType {\r\n        QUEEN, WARRIOR, GATHERER, SCOUT;\r\n    \r\n        public boolean matches(Ant a) {\r\n            return switch (this) {\r\n                case QUEEN -&gt; a instanceof AntQueen;\r\n                case WARRIOR -&gt; a instanceof AntWarrior;\r\n                case GATHERER -&gt; a instanceof AntGatherer;\r\n                case SCOUT -&gt; a instanceof AntScout;\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Java Method that returns different types of generic Lists","body":"<p>I would change your <code>AntType</code> enum method so that it acts as the filter in your stream. I've had to guess at the rest of the class hierarchy but this might give you a starting point.</p>\n<pre><code>import java.util.List;\nimport static java.util.stream.Collectors.toList;\npublic class Demo {\n    private List&lt;Ant&gt; ants = List.of(\n            new AntQueen(),\n            new AntScout(),\n            new AntGatherer(),\n            new AntWarrior());\n\n    public static void main(String[] args) {\n        var demo = new Demo();\n        System.out.println(demo.getAntsType(AntType.QUEEN));\n    }\n\n    public List&lt;Ant&gt; getAntsType(AntType type) {\n        return ants.stream().filter(type::matches).collect(toList());\n    }\n}\n\nclass Ant {}\nclass AntQueen extends Ant {}\nclass AntWarrior extends Ant {}\nclass AntGatherer extends Ant {}\nclass AntScout extends Ant {}\n\nenum AntType {\n    QUEEN, WARRIOR, GATHERER, SCOUT;\n\n    public boolean matches(Ant a) {\n        return switch (this) {\n            case QUEEN -&gt; a instanceof AntQueen;\n            case WARRIOR -&gt; a instanceof AntWarrior;\n            case GATHERER -&gt; a instanceof AntGatherer;\n            case SCOUT -&gt; a instanceof AntScout;\n        };\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"score":0,"creation_date":1667862237,"post_id":74353687,"comment_id":131264853,"body_markdown":"Thank you for your time and answer.\n\nI actually tried your solutions before and they work but the return type of getAntsType is still List&lt;Ant&gt;. The problem I try to solve is that I want the return type of the method to be List&lt;AntWarrior&gt;, List&lt;AntQueen&gt; and so on. Depending on the AntType argument that&#39;s been given to the method.","body":"Thank you for your time and answer.  I actually tried your solutions before and they work but the return type of getAntsType is still List&lt;Ant&gt;. The problem I try to solve is that I want the return type of the method to be List&lt;AntWarrior&gt;, List&lt;AntQueen&gt; and so on. Depending on the AntType argument that&#39;s been given to the method."},{"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"score":0,"creation_date":1667862812,"post_id":74353687,"comment_id":131264979,"body_markdown":"Sorry, that was not clear in your question. What you&#39;re asking for is not possible since the Java compiler needs to know ahead of time what type the method will be returning. There is no way to dynamically return a different type from a method and in fact you wouldn&#39;t want it to since a main benefit of inheritance is polymorphism. May I ask why you want the return type to be dynamic? Maybe I&#39;m still not understanding your need. You can type the return to be List&lt;? extends Ant&gt; but there is no way to tie it to a specific Ant instance ahead of time.","body":"Sorry, that was not clear in your question. What you&#39;re asking for is not possible since the Java compiler needs to know ahead of time what type the method will be returning. There is no way to dynamically return a different type from a method and in fact you wouldn&#39;t want it to since a main benefit of inheritance is polymorphism. May I ask why you want the return type to be dynamic? Maybe I&#39;m still not understanding your need. You can type the return to be List&lt;? extends Ant&gt; but there is no way to tie it to a specific Ant instance ahead of time."},{"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"score":0,"creation_date":1667863464,"post_id":74353687,"comment_id":131265120,"body_markdown":"I figured it was impossible for the exact reason you mentioned. I guess I&#39;m still too inexperienced and thought &quot;maybe there is a way around that and my professor just didn&#39;t tell us to not confuse us&quot; (I&#39;m a student at a university)\n\nI&#39;m currently tasked with an assignment and have to implement Ants that navigate through a graph and do different things. I have an AntColony class that contains List&lt;Ant&gt; and has to call different methods for the different kinds of ants. Therefore I need to get List&lt;AntScout&gt; out of List&lt;Ant&gt; and so on for every type of ant.","body":"I figured it was impossible for the exact reason you mentioned. I guess I&#39;m still too inexperienced and thought &quot;maybe there is a way around that and my professor just didn&#39;t tell us to not confuse us&quot; (I&#39;m a student at a university)  I&#39;m currently tasked with an assignment and have to implement Ants that navigate through a graph and do different things. I have an AntColony class that contains List&lt;Ant&gt; and has to call different methods for the different kinds of ants. Therefore I need to get List&lt;AntScout&gt; out of List&lt;Ant&gt; and so on for every type of ant."},{"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"score":0,"creation_date":1667864890,"post_id":74353687,"comment_id":131265415,"body_markdown":"Ah, in that case you can do it. You can do it unsafely like this:\n\npublic static &lt;T extends Ant&gt; List&lt;T&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){\n    return (List&lt;T&gt;) ants.stream().filter(ant -&gt; ant.getType() == type).toList();\n}\n\nAnd then use it like this: \nList&lt;AntQueen&gt; antQueens = getAntsType(AntType.QUEEN, ants);\nThe issue is that there is no compile time check that what you are doing is correct. In other words you could do this and the compiler would think it is ok:\nList&lt;AntGatherer&gt; antQueens = getAntsType(AntType.QUEEN, ants);","body":"Ah, in that case you can do it. You can do it unsafely like this:  public static &lt;T extends Ant&gt; List&lt;T&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){     return (List&lt;T&gt;) ants.stream().filter(ant -&gt; ant.getType() == type).toList(); }  And then use it like this:  List&lt;AntQueen&gt; antQueens = getAntsType(AntType.QUEEN, ants); The issue is that there is no compile time check that what you are doing is correct. In other words you could do this and the compiler would think it is ok: List&lt;AntGatherer&gt; antQueens = getAntsType(AntType.QUEEN, ants);"},{"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"score":0,"creation_date":1667865403,"post_id":74353687,"comment_id":131265500,"body_markdown":"The main thing preventing us from making it compile safe is a limitation on enums not being able to have generic types. So if you follow Victor&#39;s solution, you could make it compile safe by passing in AntType&lt;T&gt;.","body":"The main thing preventing us from making it compile safe is a limitation on enums not being able to have generic types. So if you follow Victor&#39;s solution, you could make it compile safe by passing in AntType&lt;T&gt;."}],"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667864673,"creation_date":1667860493,"answer_id":74353687,"question_id":74353528,"body_markdown":"There are a couple ways you can do this.\r\n\r\nFirst, fix the method in your enum:\r\n```\r\npublic enum AntType {\r\n    QUEEN,WARRIOR,GATHERER,SCOUT;\r\n\r\n    public Class&lt;? extends Ant&gt; getImplClass(){\r\n        return switch (this) {\r\n            case QUEEN -&gt; AntQueen.class;\r\n            case WARRIOR -&gt; AntWarrior.class;\r\n            case GATHERER -&gt; AntGatherer.class;\r\n            case SCOUT -&gt; AntScout.class;\r\n        };\r\n    }\r\n}\r\n```\r\nSince this is a non static method, you don&#39;t need to take in the type as an argument. In your example it&#39;s not clear where the list is coming from, but if I add it as an argument, it would look like this:\r\n```\r\npublic static List&lt;Ant&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){\r\n    return ants.stream().filter(ant -&gt; ant.getClass() == type.getImplClass()).toList();\r\n}\r\n```\r\n\r\nThe second way to do it would be to add a method called getType() in the Ant class which returns a type variable that is set by the constructor.\r\n```\r\npublic class Ant {\r\n    private AntType type;\r\n\r\n    protected Ant(AntType type) {\r\n        this.type = type;\r\n    }\r\n\r\n    public AntType getType() {\r\n        return type;\r\n    }\r\n}\r\n```\r\nThen you set the type in each of the subclass&#39;s constructors:\r\n```\r\npublic class AntQueen extends Ant {\r\n    protected AntQueen() {\r\n        super(AntType.QUEEN);\r\n    }\r\n}\r\n```\r\n\r\nThen the filtering code looks like this:\r\n```\r\npublic static List&lt;Ant&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){\r\n    return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\r\n}\r\n```","title":"Java Method that returns different types of generic Lists","body":"<p>There are a couple ways you can do this.</p>\n<p>First, fix the method in your enum:</p>\n<pre><code>public enum AntType {\n    QUEEN,WARRIOR,GATHERER,SCOUT;\n\n    public Class&lt;? extends Ant&gt; getImplClass(){\n        return switch (this) {\n            case QUEEN -&gt; AntQueen.class;\n            case WARRIOR -&gt; AntWarrior.class;\n            case GATHERER -&gt; AntGatherer.class;\n            case SCOUT -&gt; AntScout.class;\n        };\n    }\n}\n</code></pre>\n<p>Since this is a non static method, you don't need to take in the type as an argument. In your example it's not clear where the list is coming from, but if I add it as an argument, it would look like this:</p>\n<pre><code>public static List&lt;Ant&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){\n    return ants.stream().filter(ant -&gt; ant.getClass() == type.getImplClass()).toList();\n}\n</code></pre>\n<p>The second way to do it would be to add a method called getType() in the Ant class which returns a type variable that is set by the constructor.</p>\n<pre><code>public class Ant {\n    private AntType type;\n\n    protected Ant(AntType type) {\n        this.type = type;\n    }\n\n    public AntType getType() {\n        return type;\n    }\n}\n</code></pre>\n<p>Then you set the type in each of the subclass's constructors:</p>\n<pre><code>public class AntQueen extends Ant {\n    protected AntQueen() {\n        super(AntType.QUEEN);\n    }\n}\n</code></pre>\n<p>Then the filtering code looks like this:</p>\n<pre><code>public static List&lt;Ant&gt; getAntsType(AntType type, List&lt;Ant&gt; ants){\n    return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":258390,"reputation":14093,"user_id":540552,"accept_rate":86,"display_name":"Victor Stafusa - BozoNaCadeia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667860965,"creation_date":1667860965,"answer_id":74353767,"question_id":74353528,"body_markdown":"This could be possible if `enum`s could be generic, but they can&#39;t. However, that is no big deal. Just use a final class with a bunch of `public static final` fields and a private constructor. A little verbose surely, but is as effective as an `enum`.\r\n\r\nAlso, your `getClass()` method should either be a static method with the `switch` or else be an instance method without the `switch`. The later is much better, so went that way. Further, calling it `getClass()` is not a good idea since it is unrelated with `Object.getClass()` method. So I called it `getAntTypeClass().`\r\n\r\nAnd this is the result:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(AntType.QUEEN.getAntTypeClass().getName());\r\n        System.out.println(AntType.SCOUT.getAntTypeClass().getName());\r\n    }\r\n}\r\n\r\nfinal class AntType&lt;T extends Ant&gt; {\r\n    public static final AntType&lt;AntQueen&gt;    QUEEN    = new AntType&lt;&gt;(AntQueen.class   );\r\n    public static final AntType&lt;AntWarrior&gt;  WARRIOR  = new AntType&lt;&gt;(AntWarrior.class );\r\n    public static final AntType&lt;AntGatherer&gt; GATHERER = new AntType&lt;&gt;(AntGatherer.class);\r\n    public static final AntType&lt;AntScout&gt;    SCOUT    = new AntType&lt;&gt;(AntScout.class   );\r\n\r\n    private final Class&lt;T&gt; antTypeClass;\r\n\r\n    private AntType(Class&lt;T&gt; antTypeClass) {\r\n        this.antTypeClass = antTypeClass;\r\n    }\r\n\r\n    public Class&lt;T&gt; getAntTypeClass() {\r\n        return antTypeClass;\r\n    }\r\n}\r\n\r\ninterface Ant {}\r\nclass AntWarrior implements Ant {}\r\nclass AntGatherer implements Ant {}\r\nclass AntScout implements Ant {}\r\nclass AntQueen implements Ant {}\r\n```\r\n\r\nSee it working [on ideone](https://ideone.com/MxhN1n).","title":"Java Method that returns different types of generic Lists","body":"<p>This could be possible if <code>enum</code>s could be generic, but they can't. However, that is no big deal. Just use a final class with a bunch of <code>public static final</code> fields and a private constructor. A little verbose surely, but is as effective as an <code>enum</code>.</p>\n<p>Also, your <code>getClass()</code> method should either be a static method with the <code>switch</code> or else be an instance method without the <code>switch</code>. The later is much better, so went that way. Further, calling it <code>getClass()</code> is not a good idea since it is unrelated with <code>Object.getClass()</code> method. So I called it <code>getAntTypeClass().</code></p>\n<p>And this is the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(AntType.QUEEN.getAntTypeClass().getName());\n        System.out.println(AntType.SCOUT.getAntTypeClass().getName());\n    }\n}\n\nfinal class AntType&lt;T extends Ant&gt; {\n    public static final AntType&lt;AntQueen&gt;    QUEEN    = new AntType&lt;&gt;(AntQueen.class   );\n    public static final AntType&lt;AntWarrior&gt;  WARRIOR  = new AntType&lt;&gt;(AntWarrior.class );\n    public static final AntType&lt;AntGatherer&gt; GATHERER = new AntType&lt;&gt;(AntGatherer.class);\n    public static final AntType&lt;AntScout&gt;    SCOUT    = new AntType&lt;&gt;(AntScout.class   );\n\n    private final Class&lt;T&gt; antTypeClass;\n\n    private AntType(Class&lt;T&gt; antTypeClass) {\n        this.antTypeClass = antTypeClass;\n    }\n\n    public Class&lt;T&gt; getAntTypeClass() {\n        return antTypeClass;\n    }\n}\n\ninterface Ant {}\nclass AntWarrior implements Ant {}\nclass AntGatherer implements Ant {}\nclass AntScout implements Ant {}\nclass AntQueen implements Ant {}\n</code></pre>\n<p>See it working <a href=\"https://ideone.com/MxhN1n\" rel=\"nofollow noreferrer\">on ideone</a>.</p>\n"},{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667875450,"post_id":74354650,"comment_id":131266868,"body_markdown":"This approach looks familiar :) +1","body":"This approach looks familiar :) +1"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667875750,"post_id":74354650,"comment_id":131266917,"body_markdown":"Ivan, I corrected the example to use `antScouts`. You&#39;re using `antWarriors` twice. But you will have to make the change on the JDoodle site.","body":"Ivan, I corrected the example to use <code>antScouts</code>. You&#39;re using <code>antWarriors</code> twice. But you will have to make the change on the JDoodle site."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667879689,"post_id":74354650,"comment_id":131267461,"body_markdown":"@hfontanez Thanks, fixed. That&#39;s a byproduct of the late-night coding.","body":"@hfontanez Thanks, fixed. That&#39;s a byproduct of the late-night coding."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667880776,"creation_date":1667869824,"answer_id":74354650,"question_id":74353528,"body_markdown":"# Use the Power of Polymorphism\r\n\r\n&gt; How can I write the method so that it get&#39;s the AntType enum as argument and returns a List or List corresponding to the enum?\r\n\r\nYou&#39;re overengineering your code for no good reason.\r\n\r\nWhen you&#39;re using inheritance, your classes should be designed in a way that allow to benefit from the [Polymorphism][1].\r\n\r\nI.e. by using super type `Ant` for all your objects and interacting with them through overridden behavior without a need to discriminate between the concrete implementations and operating via type casts.\r\n\r\nTherefore, your method returning `List&lt;Ant&gt;` is quite fine.\r\n\r\nAnd even if you wanted to obtain a `List&lt;AntQueen&gt;` or `List&lt;AntScout&gt;` as a result of the method execution then you would need a to use a generic type variable `T`, or rather `T extends Ant`, and that would imply that you need a mean of representing the `T`. And `enum` would not help you with this task because in Java enums **can&#39;t** be generic. You need to provide as a method argument either an instance of `T` or a `Class&lt;T&gt;`.\r\n\r\n    public &lt;T extends Ant&gt; List&lt;T&gt; getAntsByType(Class&lt;T&gt; tClass) {\r\n        return ants.stream().filter(tClass::isAssignableFrom).toList();\r\n    }\r\n\r\nBut I would advise sticking with the initial version returning a List of super type `Ant` declaring method `getType()` which returns an instance of enum `AntType`.\r\n\r\n    public List&lt;Ant&gt; getAntsByType(AntType type) {\r\n        return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\r\n    }\r\n\r\nAnd as I&#39;ve said, Java-enums can&#39;t be generic, there&#39;s no way to obtain `Class&lt;T&gt;` through it. Hence, you can remove contrived method `getClass()` from `AntType`.\r\n\r\n    public enum AntType {\r\n        QUEEN, WARRIOR, GATHERER, SCOUT;\r\n    }\r\n\r\n# Simulated self-type\r\n\r\nBut if you&#39;re still convinced that your application logic require the ability to generate a list of concrete type like `List&lt;AntScout&gt;` from a list of super type, then you can make use of a recursive type bound.\r\n\r\nFor that, you need to define the super type as `Ant&lt;T extends Ant&lt;T&gt;&gt;`.\r\n\r\nThis approach is also called a simulated self-type idiom and can be observed in the declaration of the parent type of all enums `java.lang.Enum&lt;E extends Enum&lt;E&gt;&gt;` and in some other parts of the JDK like method [`Collections.sort(List&lt;T&gt;)`][2] where `T` is defined as `&lt;T extends Comparable&lt;? super T&gt;&gt;`.\r\n\r\nLet&#39;s apply self-type idiom for this case.\r\n\r\nConsider super type `Ant` defined as an interface, declaring a self-returning method (you can change into abstract class if you need to declare some skeletal implementations and common fields):\r\n\r\n    interface Ant&lt;T extends Ant&lt;T&gt;&gt; {\r\n        T self();\r\n        AntType getType();\r\n    }\r\n\r\nAnd here&#39;s a couple of concrete classes:\r\n\r\n    public static class AntWarrior implements Ant&lt;AntWarrior&gt; {\r\n        \r\n        @Override\r\n        public AntWarrior self() {\r\n            return this;\r\n        }\r\n        \r\n        @Override\r\n        public AntType getType() {\r\n            return AntType.WARRIOR;\r\n        }\r\n    }\r\n    \r\n    public static class AntScout implements Ant&lt;AntScout&gt; {\r\n        @Override\r\n        public AntScout self() {\r\n            return this;\r\n        }\r\n        \r\n        @Override\r\n        public AntType getType() {\r\n            return AntType.SCOUT;\r\n        }\r\n    }\r\n\r\nThat how we can perform conversion using `self()` method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends Ant&lt;T&gt;&gt; List&lt;T&gt; getAntsByType(List&lt;Ant&lt;?&gt;&gt; ants,\r\n                                                           AntType type) {\r\n        return ants.stream()\r\n            .filter(ant -&gt; ant.getType() == type)\r\n            .map(ant -&gt; (T) ant.self())\r\n            .toList();\r\n    }\r\n\r\nUsage example:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Ant&lt;?&gt;&gt; ants = List.of(new AntWarrior(), new AntScout());\r\n\r\n        // compiles and runs without issues\r\n        List&lt;AntWarrior&gt; antWarriors = getAntsByType(ants, AntType.WARRIOR);\r\n        System.out.println(antWarriors);\r\n\r\n        // compiles and runs without issues\r\n        List&lt;AntScout&gt; antScouts = getAntsByType(ants, AntType.SCOUT);\r\n        System.out.println(antScouts);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[AntWarrior{}]\r\n[AntScout{}]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/yUz)\r\n\r\n   [1]: https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#sort(java.util.List)","title":"Java Method that returns different types of generic Lists","body":"<h1>Use the Power of Polymorphism</h1>\n<blockquote>\n<p>How can I write the method so that it get's the AntType enum as argument and returns a List or List corresponding to the enum?</p>\n</blockquote>\n<p>You're overengineering your code for no good reason.</p>\n<p>When you're using inheritance, your classes should be designed in a way that allow to benefit from the <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html\" rel=\"nofollow noreferrer\">Polymorphism</a>.</p>\n<p>I.e. by using super type <code>Ant</code> for all your objects and interacting with them through overridden behavior without a need to discriminate between the concrete implementations and operating via type casts.</p>\n<p>Therefore, your method returning <code>List&lt;Ant&gt;</code> is quite fine.</p>\n<p>And even if you wanted to obtain a <code>List&lt;AntQueen&gt;</code> or <code>List&lt;AntScout&gt;</code> as a result of the method execution then you would need a to use a generic type variable <code>T</code>, or rather <code>T extends Ant</code>, and that would imply that you need a mean of representing the <code>T</code>. And <code>enum</code> would not help you with this task because in Java enums <strong>can't</strong> be generic. You need to provide as a method argument either an instance of <code>T</code> or a <code>Class&lt;T&gt;</code>.</p>\n<pre><code>public &lt;T extends Ant&gt; List&lt;T&gt; getAntsByType(Class&lt;T&gt; tClass) {\n    return ants.stream().filter(tClass::isAssignableFrom).toList();\n}\n</code></pre>\n<p>But I would advise sticking with the initial version returning a List of super type <code>Ant</code> declaring method <code>getType()</code> which returns an instance of enum <code>AntType</code>.</p>\n<pre><code>public List&lt;Ant&gt; getAntsByType(AntType type) {\n    return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\n}\n</code></pre>\n<p>And as I've said, Java-enums can't be generic, there's no way to obtain <code>Class&lt;T&gt;</code> through it. Hence, you can remove contrived method <code>getClass()</code> from <code>AntType</code>.</p>\n<pre><code>public enum AntType {\n    QUEEN, WARRIOR, GATHERER, SCOUT;\n}\n</code></pre>\n<h1>Simulated self-type</h1>\n<p>But if you're still convinced that your application logic require the ability to generate a list of concrete type like <code>List&lt;AntScout&gt;</code> from a list of super type, then you can make use of a recursive type bound.</p>\n<p>For that, you need to define the super type as <code>Ant&lt;T extends Ant&lt;T&gt;&gt;</code>.</p>\n<p>This approach is also called a simulated self-type idiom and can be observed in the declaration of the parent type of all enums <code>java.lang.Enum&lt;E extends Enum&lt;E&gt;&gt;</code> and in some other parts of the JDK like method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#sort(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.sort(List&lt;T&gt;)</code></a> where <code>T</code> is defined as <code>&lt;T extends Comparable&lt;? super T&gt;&gt;</code>.</p>\n<p>Let's apply self-type idiom for this case.</p>\n<p>Consider super type <code>Ant</code> defined as an interface, declaring a self-returning method (you can change into abstract class if you need to declare some skeletal implementations and common fields):</p>\n<pre><code>interface Ant&lt;T extends Ant&lt;T&gt;&gt; {\n    T self();\n    AntType getType();\n}\n</code></pre>\n<p>And here's a couple of concrete classes:</p>\n<pre><code>public static class AntWarrior implements Ant&lt;AntWarrior&gt; {\n    \n    @Override\n    public AntWarrior self() {\n        return this;\n    }\n    \n    @Override\n    public AntType getType() {\n        return AntType.WARRIOR;\n    }\n}\n\npublic static class AntScout implements Ant&lt;AntScout&gt; {\n    @Override\n    public AntScout self() {\n        return this;\n    }\n    \n    @Override\n    public AntType getType() {\n        return AntType.SCOUT;\n    }\n}\n</code></pre>\n<p>That how we can perform conversion using <code>self()</code> method:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T extends Ant&lt;T&gt;&gt; List&lt;T&gt; getAntsByType(List&lt;Ant&lt;?&gt;&gt; ants,\n                                                       AntType type) {\n    return ants.stream()\n        .filter(ant -&gt; ant.getType() == type)\n        .map(ant -&gt; (T) ant.self())\n        .toList();\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Ant&lt;?&gt;&gt; ants = List.of(new AntWarrior(), new AntScout());\n\n    // compiles and runs without issues\n    List&lt;AntWarrior&gt; antWarriors = getAntsByType(ants, AntType.WARRIOR);\n    System.out.println(antWarriors);\n\n    // compiles and runs without issues\n    List&lt;AntScout&gt; antScouts = getAntsByType(ants, AntType.SCOUT);\n    System.out.println(antScouts);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[AntWarrior{}]\n[AntScout{}]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/yUz\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74354650,"answer_count":4,"score":3,"last_activity_date":1667880960,"creation_date":1667859334,"question_id":74353528,"body_markdown":"I&#39;m currently trying to write a method that goes through a list of Ant-Objects and returns a list of `AntScouts`, that extend Ant. In general, `List&lt;Ant&gt;` can contain a lot of different Objects that inherit from Ant.\r\n\r\nI also have an enum for the different kinds of ants:\r\n\r\n```\r\npublic enum AntType {\r\n    QUEEN,WARRIOR,GATHERER,SCOUT;\r\n\r\n    public Class getClass(AntType type){\r\n        return switch (type) {\r\n            case QUEEN -&gt; AntQueen.class;\r\n            case WARRIOR -&gt; AntWarrior.class;\r\n            case GATHERER -&gt; AntGatherer.class;\r\n            case SCOUT -&gt; AntScout.class;\r\n        };\r\n    }\r\n}\r\n```\r\nThis enum causes a warning:\r\n\r\n```\r\nRaw use of parameterized class &#39;Class&#39;\r\n```\r\n\r\nAnd this is the method that currently returns a `List&lt;Ant&gt;`.\r\n\r\n```\r\npublic List&lt;Ant&gt; getAntsType(AntType type){\r\n    return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\r\n}\r\n```\r\n\r\nHow can I write the method so that it get&#39;s the `AntType` enum as argument and returns a `List&lt;AntScout&gt;` or `List&lt;AntWarrior&gt;` corresponding to the enum? I REALLY don&#39;t want to use `Class&lt;T&gt;` clazz as argument since that would defeat the point of the enum. (I also use that enum elsewhere, so I can&#39;t get rid of it)\r\n\r\n\r\n\r\nHow can I write the method so that it get&#39;s the AntType enum as argument and returns a List or List corresponding to the enum?\r\n\r\nEdit: This comment probably comes closest to the desired solution:\r\nhttps://stackoverflow.com/questions/74353528/java-method-that-returns-different-types-of-generic-lists/74353687?noredirect=1#comment131265415_74353687","title":"Java Method that returns different types of generic Lists","body":"<p>I'm currently trying to write a method that goes through a list of Ant-Objects and returns a list of <code>AntScouts</code>, that extend Ant. In general, <code>List&lt;Ant&gt;</code> can contain a lot of different Objects that inherit from Ant.</p>\n<p>I also have an enum for the different kinds of ants:</p>\n<pre><code>public enum AntType {\n    QUEEN,WARRIOR,GATHERER,SCOUT;\n\n    public Class getClass(AntType type){\n        return switch (type) {\n            case QUEEN -&gt; AntQueen.class;\n            case WARRIOR -&gt; AntWarrior.class;\n            case GATHERER -&gt; AntGatherer.class;\n            case SCOUT -&gt; AntScout.class;\n        };\n    }\n}\n</code></pre>\n<p>This enum causes a warning:</p>\n<pre><code>Raw use of parameterized class 'Class'\n</code></pre>\n<p>And this is the method that currently returns a <code>List&lt;Ant&gt;</code>.</p>\n<pre><code>public List&lt;Ant&gt; getAntsType(AntType type){\n    return ants.stream().filter(ant -&gt; ant.getType() == type).toList();\n}\n</code></pre>\n<p>How can I write the method so that it get's the <code>AntType</code> enum as argument and returns a <code>List&lt;AntScout&gt;</code> or <code>List&lt;AntWarrior&gt;</code> corresponding to the enum? I REALLY don't want to use <code>Class&lt;T&gt;</code> clazz as argument since that would defeat the point of the enum. (I also use that enum elsewhere, so I can't get rid of it)</p>\n<p>How can I write the method so that it get's the AntType enum as argument and returns a List or List corresponding to the enum?</p>\n<p>Edit: This comment probably comes closest to the desired solution:\n<a href=\"https://stackoverflow.com/questions/74353528/java-method-that-returns-different-types-of-generic-lists/74353687?noredirect=1#comment131265415_74353687\">Java Method that returns different types of generic Lists</a></p>\n"},{"tags":["java","variables","static","private"],"comments":[{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":5,"creation_date":1315026551,"post_id":7279887,"comment_id":8782435,"body_markdown":"Java variable names can&#39;t contain dashes (-).","body":"Java variable names can&#39;t contain dashes (-)."}],"answers":[{"comments":[{"owner":{"account_id":361327,"reputation":12478,"user_id":703851,"accept_rate":100,"display_name":"Vaibhav Jani"},"score":10,"creation_date":1314945307,"post_id":7279918,"comment_id":8765410,"body_markdown":"What is necessary of accessing as `ClassName.var_nam` ? Where i can access it directly : `var_nam` within class","body":"What is necessary of accessing as <code>ClassName.var_nam</code> ? Where i can access it directly : <code>var_nam</code> within class"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":13,"creation_date":1314945449,"post_id":7279918,"comment_id":8765442,"body_markdown":"It is not *necessary* to access it via the class name, but some people think it is good style, to distinguish it from a non-static variable.","body":"It is not <i>necessary</i> to access it via the class name, but some people think it is good style, to distinguish it from a non-static variable."},{"owner":{"account_id":454071,"reputation":1726,"user_id":851415,"display_name":"chaitanya"},"score":7,"creation_date":1389264501,"post_id":7279918,"comment_id":31591436,"body_markdown":"what is necessary to accessing it using static variable, \nWe can write &quot;private final String JDBC_PASSWORD = &quot;password&quot;;&quot; instead of using static variable for this password string.","body":"what is necessary to accessing it using static variable,  We can write &quot;private final String JDBC_PASSWORD = &quot;password&quot;;&quot; instead of using static variable for this password string."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":56,"creation_date":1389265252,"post_id":7279918,"comment_id":31591912,"body_markdown":"@chaitanya It&#39;s a constant. Why would you want to have a copy of the variable for each instance of the class by making it non-static?","body":"@chaitanya It&#39;s a constant. Why would you want to have a copy of the variable for each instance of the class by making it non-static?"},{"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"score":20,"creation_date":1428727379,"post_id":7279918,"comment_id":47297289,"body_markdown":"static is class level variable, which is common and only one copy exists for all instances of that class. The rule is applicable whether it is private or public. private just says I don&#39;t want out side world to corrupt my variable value (for non-final statics) . If a static is final then there is no harm in making it as public, as no one can change its value.","body":"static is class level variable, which is common and only one copy exists for all instances of that class. The rule is applicable whether it is private or public. private just says I don&#39;t want out side world to corrupt my variable value (for non-final statics) . If a static is final then there is no harm in making it as public, as no one can change its value."},{"owner":{"account_id":5371291,"reputation":640,"user_id":4279735,"accept_rate":54,"display_name":"getsadzeg"},"score":0,"creation_date":1556100203,"post_id":7279918,"comment_id":98319590,"body_markdown":"@Jesper If the class is an Android activity(extends AppCompatActivity, for example), would that make sense in that case? Because we don&#39;t really make instances of Android application components.","body":"@Jesper If the class is an Android activity(extends AppCompatActivity, for example), would that make sense in that case? Because we don&#39;t really make instances of Android application components."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1556103334,"post_id":7279918,"comment_id":98321359,"body_markdown":"@getsadzeg In principle you can put these constants in any class; what a good place is, depends on how your software is structured. It&#39;s hard to say in general if putting it in an Android activity is a good place.","body":"@getsadzeg In principle you can put these constants in any class; what a good place is, depends on how your software is structured. It&#39;s hard to say in general if putting it in an Android activity is a good place."},{"owner":{"account_id":5371291,"reputation":640,"user_id":4279735,"accept_rate":54,"display_name":"getsadzeg"},"score":0,"creation_date":1556103697,"post_id":7279918,"comment_id":98321556,"body_markdown":"I think that if we&#39;re putting a constant in Activity(like TAG for logging), there&#39;s no need for it to be static. Private - OK, static - no real need.","body":"I think that if we&#39;re putting a constant in Activity(like TAG for logging), there&#39;s no need for it to be static. Private - OK, static - no real need."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1556103971,"post_id":7279918,"comment_id":98321726,"body_markdown":"@getsadzeg If it&#39;s a constant, you should make it static. Otherwise Java will create a separate instance of it for every instance of the surrounding class, and that is unnecessary and ineffiecient. (See the comments above).","body":"@getsadzeg If it&#39;s a constant, you should make it static. Otherwise Java will create a separate instance of it for every instance of the surrounding class, and that is unnecessary and ineffiecient. (See the comments above)."},{"owner":{"account_id":5371291,"reputation":640,"user_id":4279735,"accept_rate":54,"display_name":"getsadzeg"},"score":0,"creation_date":1556104162,"post_id":7279918,"comment_id":98321864,"body_markdown":"I think it makes more sense for me now. So if Android makes a new instance of Activity several times(for dull example, let&#39;s say, if the user rotates the device) it&#39;ll also make a new instance of the non-static variable, right?","body":"I think it makes more sense for me now. So if Android makes a new instance of Activity several times(for dull example, let&#39;s say, if the user rotates the device) it&#39;ll also make a new instance of the non-static variable, right?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1556108087,"post_id":7279918,"comment_id":98324263,"body_markdown":"@getsadzeg Yes, that&#39;s the difference between static and non-static.","body":"@getsadzeg Yes, that&#39;s the difference between static and non-static."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":11,"down_vote_count":1,"up_vote_count":161,"is_accepted":true,"score":160,"last_activity_date":1551996627,"creation_date":1314944864,"answer_id":7279918,"question_id":7279887,"body_markdown":"Of course it can be accessed as `ClassName.var_name`, but only from inside the class in which it is defined - that&#39;s because it is defined as `private`.\r\n\r\n`public static` or `private static` variables are often used for constants. For example, many people don&#39;t like to &quot;hard-code&quot; constants in their code; they like to make a `public static` or `private static` variable with a meaningful name and use that in their code, which should make the code more readable. (You should also make such constants `final`).\r\n\r\nFor example:\r\n\r\n    public class Example {\r\n        private final static String JDBC_URL = &quot;jdbc:mysql://localhost/shopdb&quot;;\r\n        private final static String JDBC_USERNAME = &quot;username&quot;;\r\n        private final static String JDBC_PASSWORD = &quot;password&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            Connection conn = DriverManager.getConnection(JDBC_URL,\r\n                                             JDBC_USERNAME, JDBC_PASSWORD);\r\n\r\n            // ...\r\n        }\r\n    }\r\n\r\nWhether you make it `public` or `private` depends on whether you want the variables to be visible outside the class or not.","title":"What is the use of a private static variable in Java?","body":"<p>Of course it can be accessed as <code>ClassName.var_name</code>, but only from inside the class in which it is defined - that's because it is defined as <code>private</code>.</p>\n\n<p><code>public static</code> or <code>private static</code> variables are often used for constants. For example, many people don't like to \"hard-code\" constants in their code; they like to make a <code>public static</code> or <code>private static</code> variable with a meaningful name and use that in their code, which should make the code more readable. (You should also make such constants <code>final</code>).</p>\n\n<p>For example:</p>\n\n<pre><code>public class Example {\n    private final static String JDBC_URL = \"jdbc:mysql://localhost/shopdb\";\n    private final static String JDBC_USERNAME = \"username\";\n    private final static String JDBC_PASSWORD = \"password\";\n\n    public static void main(String[] args) {\n        Connection conn = DriverManager.getConnection(JDBC_URL,\n                                         JDBC_USERNAME, JDBC_PASSWORD);\n\n        // ...\n    }\n}\n</code></pre>\n\n<p>Whether you make it <code>public</code> or <code>private</code> depends on whether you want the variables to be visible outside the class or not.</p>\n"},{"comments":[{"owner":{"account_id":155681,"reputation":7205,"user_id":372496,"accept_rate":86,"display_name":"Ganesh Krishnan"},"score":3,"creation_date":1418812792,"post_id":7279921,"comment_id":43476072,"body_markdown":"This does not apply to private static variables unless you also write accessor methods for the private variable because they cannot be accessed from outside the class.","body":"This does not apply to private static variables unless you also write accessor methods for the private variable because they cannot be accessed from outside the class."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":2,"creation_date":1418862714,"post_id":7279921,"comment_id":43502934,"body_markdown":"Not true @GaneshKrishnan, any instance of the class has access to both variables. Naturally you can expect that the author of the class won&#39;t do something silly. Also, with reflection and JNI, all bets are off.","body":"Not true @GaneshKrishnan, any instance of the class has access to both variables. Naturally you can expect that the author of the class won&#39;t do something silly. Also, with reflection and JNI, all bets are off."}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":2,"down_vote_count":1,"up_vote_count":107,"is_accepted":false,"score":106,"last_activity_date":1314944876,"creation_date":1314944876,"answer_id":7279921,"question_id":7279887,"body_markdown":"Static variables have a single value for all instances of a class.\r\n\r\nIf you were to make something like:\r\n\r\n    public class Person\r\n    {\r\n        private static int numberOfEyes;\r\n        private String name;\r\n    }\r\n\r\nand then you wanted to change your name, that is fine, my name stays the same.  If, however you wanted to change it so that you had 17 eyes then everyone in the world would also have 17 eyes.\r\n","title":"What is the use of a private static variable in Java?","body":"<p>Static variables have a single value for all instances of a class.</p>\n\n<p>If you were to make something like:</p>\n\n<pre><code>public class Person\n{\n    private static int numberOfEyes;\n    private String name;\n}\n</code></pre>\n\n<p>and then you wanted to change your name, that is fine, my name stays the same.  If, however you wanted to change it so that you had 17 eyes then everyone in the world would also have 17 eyes.</p>\n"},{"tags":[],"owner":{"account_id":285358,"reputation":13125,"user_id":583980,"accept_rate":74,"display_name":"Swaranga Sarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1314945014,"creation_date":1314945014,"answer_id":7279931,"question_id":7279887,"body_markdown":"Well, `private static` variables can be used to share data across instances of that class. While you are correct that we cannot access the `private static` variables using constructs like `ClassName.member` or `ClassInstance.member` but the member will always be visible from methods of that class or instances of that class. So in effect instances of that class will always be able to refer to member.","title":"What is the use of a private static variable in Java?","body":"<p>Well, <code>private static</code> variables can be used to share data across instances of that class. While you are correct that we cannot access the <code>private static</code> variables using constructs like <code>ClassName.member</code> or <code>ClassInstance.member</code> but the member will always be visible from methods of that class or instances of that class. So in effect instances of that class will always be able to refer to member.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1314945355,"post_id":7279933,"comment_id":8765418,"body_markdown":"Well, unless your method is given a reference to an instance of the class of course.","body":"Well, unless your method is given a reference to an instance of the class of course."}],"tags":[],"owner":{"account_id":552770,"reputation":2556,"user_id":917672,"accept_rate":100,"display_name":"Neifen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1314951351,"creation_date":1314945035,"answer_id":7279933,"question_id":7279887,"body_markdown":"When in a static method you use a variable, the variable have to be static too\r\nas an example:  \r\n\r\n    private static int a=0;  \r\n    public static void testMethod() {  \r\n            a=1;  \r\n    }","title":"What is the use of a private static variable in Java?","body":"<p>When in a static method you use a variable, the variable have to be static too\nas an example:  </p>\n\n<pre><code>private static int a=0;  \npublic static void testMethod() {  \n        a=1;  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":315087,"reputation":33526,"user_id":630668,"accept_rate":96,"display_name":"Dharmendra"},"score":0,"creation_date":1314946282,"post_id":7279991,"comment_id":8765592,"body_markdown":"Can you explain little bit more about the difference of private static and private not static variable access in one class?","body":"Can you explain little bit more about the difference of private static and private not static variable access in one class?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1314947886,"post_id":7279991,"comment_id":8765880,"body_markdown":"@Dharmendra: It&#39;s not clear to me what you mean. The private part is irrelevant - what exactly is confusing you about the difference between static variables and instance variables?","body":"@Dharmendra: It&#39;s not clear to me what you mean. The private part is irrelevant - what exactly is confusing you about the difference between static variables and instance variables?"},{"owner":{"account_id":315087,"reputation":33526,"user_id":630668,"accept_rate":96,"display_name":"Dharmendra"},"score":0,"creation_date":1314948458,"post_id":7279991,"comment_id":8765993,"body_markdown":"What is the difference in accessibility when we use static and non static variable within the single class where they are declared ?","body":"What is the difference in accessibility when we use static and non static variable within the single class where they are declared ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1314949003,"post_id":7279991,"comment_id":8766132,"body_markdown":"@Dharmendra: None whatsoever. Private variables are accessible within the same class whether they&#39;re static or not.","body":"@Dharmendra: None whatsoever. Private variables are accessible within the same class whether they&#39;re static or not."},{"owner":{"account_id":292723,"reputation":2074,"user_id":595649,"accept_rate":55,"display_name":"Yog Guru"},"score":0,"creation_date":1366789516,"post_id":7279991,"comment_id":23139514,"body_markdown":"@JonSkeet Than in which case it be use full to make variable private sattic?","body":"@JonSkeet Than in which case it be use full to make variable private sattic?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1366790386,"post_id":7279991,"comment_id":23140017,"body_markdown":"@YogGuru: I don&#39;t see the relevance of the question. Make it private if you want it to be private, and static if you want it to be static. They&#39;re orthogonal.","body":"@YogGuru: I don&#39;t see the relevance of the question. Make it private if you want it to be private, and static if you want it to be static. They&#39;re orthogonal."},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1389471171,"post_id":7279991,"comment_id":31681442,"body_markdown":"&quot;I would avoid thinking of static variables as being shared between &quot;all instances&quot; of the class - that suggests there has to be at least one instance for the state to be present.&quot; Technically, a `private static` variable would need a class instance to access it.","body":"&quot;I would avoid thinking of static variables as being shared between &quot;all instances&quot; of the class - that suggests there has to be at least one instance for the state to be present.&quot; Technically, a <code>private static</code> variable would need a class instance to access it."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1389471801,"post_id":7279991,"comment_id":31681680,"body_markdown":"@ryvantage: No, not at all. A static method could access it with no problems.","body":"@ryvantage: No, not at all. A static method could access it with no problems."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":8,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1314979565,"creation_date":1314945466,"answer_id":7279991,"question_id":7279887,"body_markdown":"Private static variables are useful in the same way that private instance variables are useful: they store state which is accessed only by code within the same class. The accessibility (private/public/etc) and the instance/static nature of the variable are entirely orthogonal concepts.\r\n\r\nI would avoid thinking of static variables as being shared between &quot;all instances&quot; of the class - that suggests there has to be at least *one* instance for the state to be present. No - a static variable is associated with the type itself instead of *any* instances of the type.\r\n\r\nSo any time you want some state which is associated with the type rather than any particular instance, and you want to keep that state private (perhaps allowing controlled access via properties, for example) it makes sense to have a private static variable.\r\n\r\nAs an aside, I would strongly recommend that the *only* type of variables which you make public (or even non-private) are constants - static final variables of immutable types. Everything else should be private for the sake of separating API and implementation (amongst other things).","title":"What is the use of a private static variable in Java?","body":"<p>Private static variables are useful in the same way that private instance variables are useful: they store state which is accessed only by code within the same class. The accessibility (private/public/etc) and the instance/static nature of the variable are entirely orthogonal concepts.</p>\n\n<p>I would avoid thinking of static variables as being shared between \"all instances\" of the class - that suggests there has to be at least <em>one</em> instance for the state to be present. No - a static variable is associated with the type itself instead of <em>any</em> instances of the type.</p>\n\n<p>So any time you want some state which is associated with the type rather than any particular instance, and you want to keep that state private (perhaps allowing controlled access via properties, for example) it makes sense to have a private static variable.</p>\n\n<p>As an aside, I would strongly recommend that the <em>only</em> type of variables which you make public (or even non-private) are constants - static final variables of immutable types. Everything else should be private for the sake of separating API and implementation (amongst other things).</p>\n"},{"tags":[],"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1314945703,"creation_date":1314945703,"answer_id":7280024,"question_id":7279887,"body_markdown":"Another perspective : \r\n\r\n1. A class and its instance are two different things at the runtime. A class info is &quot;shared&quot; by all the instances of that class.\r\n2. The non-static class variables belong to instances and the static variable belongs to class. \r\n3. Just like an instance variables can be private or public, static variables can also be private or public. ","title":"What is the use of a private static variable in Java?","body":"<p>Another perspective : </p>\n\n<ol>\n<li>A class and its instance are two different things at the runtime. A class info is \"shared\" by all the instances of that class.</li>\n<li>The non-static class variables belong to instances and the static variable belongs to class. </li>\n<li>Just like an instance variables can be private or public, static variables can also be private or public. </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1621020,"reputation":4899,"user_id":1497565,"accept_rate":83,"display_name":"Mukus"},"score":4,"creation_date":1398130480,"post_id":7280050,"comment_id":35502752,"body_markdown":"I think I like this answer the most. +1. The only time it makes sense to use static in a private variable is if a static method were to access it.","body":"I think I like this answer the most. +1. The only time it makes sense to use static in a private variable is if a static method were to access it."},{"owner":{"account_id":189107,"reputation":11403,"user_id":428241,"accept_rate":60,"display_name":"DanMan"},"score":0,"creation_date":1425479577,"post_id":7280050,"comment_id":45980006,"body_markdown":"WIthout giving the class a proper name you can&#39;t really say if this is a valid use case. Like, if the class was called `Person`, then it would probably be a bug, because you couldn&#39;t have multiple persons of different age (if that was an intended use case).","body":"WIthout giving the class a proper name you can&#39;t really say if this is a valid use case. Like, if the class was called <code>Person</code>, then it would probably be a bug, because you couldn&#39;t have multiple persons of different age (if that was an intended use case)."},{"owner":{"account_id":1368329,"reputation":853,"user_id":1304252,"accept_rate":54,"display_name":"Lv99Zubat"},"score":0,"creation_date":1487812899,"post_id":7280050,"comment_id":71957513,"body_markdown":"I agree @Mukus. This might be the only real answer to this question. I think OP understands static already but people seem to want to explain it again. He is asking about a specific scenario. The ability to access variables in static methods is the functionality that &#39;private static&#39; adds. I just want to also add that it allows nested static CLASSES access to the variables as well.","body":"I agree @Mukus. This might be the only real answer to this question. I think OP understands static already but people seem to want to explain it again. He is asking about a specific scenario. The ability to access variables in static methods is the functionality that &#39;private static&#39; adds. I just want to also add that it allows nested static CLASSES access to the variables as well."},{"owner":{"account_id":1368329,"reputation":853,"user_id":1304252,"accept_rate":54,"display_name":"Lv99Zubat"},"score":1,"creation_date":1490734414,"post_id":7280050,"comment_id":73242685,"body_markdown":"What about memory? With static, you’d only be creating one copy for the class instead of a copy for every instance. And obviously with a constant, you&#39;d only ever need one copy for the class. Does this save memory?","body":"What about memory? With static, you’d only be creating one copy for the class instead of a copy for every instance. And obviously with a constant, you&#39;d only ever need one copy for the class. Does this save memory?"},{"owner":{"account_id":1368329,"reputation":853,"user_id":1304252,"accept_rate":54,"display_name":"Lv99Zubat"},"score":1,"creation_date":1490734776,"post_id":7280050,"comment_id":73242865,"body_markdown":"I looked it up. The answer to my previous question is: yes, it saves memory","body":"I looked it up. The answer to my previous question is: yes, it saves memory"}],"tags":[],"owner":{"account_id":468717,"reputation":2310,"user_id":1891975,"accept_rate":72,"display_name":"Farid Farhat"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1314945950,"creation_date":1314945950,"answer_id":7280050,"question_id":7279887,"body_markdown":"Well you are right public static variables are used without making an instance of the class but private static variables are not. The main difference between them and where I use the private static variables is when you need to use a variable in a static function. For the static functions you can only use static variables, so you make them private to not access them from other classes. That is the only case I use private static for.\r\n\r\nHere is an example:\r\n\r\n    Class test {\r\n       public static String name = &quot;AA&quot;;\r\n       private static String age;\r\n    \r\n       public static void setAge(String yourAge) {\r\n           //here if the age variable is not static you will get an error that you cannot access non static variables from static procedures so you have to make it static and private to not be accessed from other classes\r\n           age = yourAge;\r\n       }\r\n    }","title":"What is the use of a private static variable in Java?","body":"<p>Well you are right public static variables are used without making an instance of the class but private static variables are not. The main difference between them and where I use the private static variables is when you need to use a variable in a static function. For the static functions you can only use static variables, so you make them private to not access them from other classes. That is the only case I use private static for.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>Class test {\n   public static String name = \"AA\";\n   private static String age;\n\n   public static void setAge(String yourAge) {\n       //here if the age variable is not static you will get an error that you cannot access non static variables from static procedures so you have to make it static and private to not be accessed from other classes\n       age = yourAge;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597187,"reputation":3096,"user_id":2250588,"display_name":"iheanyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1384030502,"creation_date":1384030502,"answer_id":19882974,"question_id":7279887,"body_markdown":"What is the use of a private static class variable?\r\n\r\nLet&#39;s say you have a library book Class. Each time you create a new Book, you want to assign it a unique id. One way is to simply start at 0 and increment the id number. But, how do all the other books know the last created id number? Simple, save it as a static variable. Do patrons need to know that the actual internal id number is for each book? No. That information is private.\r\n\r\n    public class Book {\r\n        private static int numBooks = 0;\r\n        private int id;\r\n        public String name;\r\n\r\n        Book(String name) {\r\n            id = numBooks++;\r\n            this.name = name;\r\n        }\r\n    }\r\nThis is a contrived example, but I&#39;m sure you can easily think of cases where you&#39;d want all class instances to have access to common information that should be kept private from everyone else. Or even if you can&#39;t, it is good programming practice to make things as private as possible. What if you accidentally made that numBooks field public, even though Book users were not supposed to do anything with it. Then someone could change the number of Books without creating a new Book. \r\n\r\nVery sneaky!","title":"What is the use of a private static variable in Java?","body":"<p>What is the use of a private static class variable?</p>\n\n<p>Let's say you have a library book Class. Each time you create a new Book, you want to assign it a unique id. One way is to simply start at 0 and increment the id number. But, how do all the other books know the last created id number? Simple, save it as a static variable. Do patrons need to know that the actual internal id number is for each book? No. That information is private.</p>\n\n<pre><code>public class Book {\n    private static int numBooks = 0;\n    private int id;\n    public String name;\n\n    Book(String name) {\n        id = numBooks++;\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>This is a contrived example, but I'm sure you can easily think of cases where you'd want all class instances to have access to common information that should be kept private from everyone else. Or even if you can't, it is good programming practice to make things as private as possible. What if you accidentally made that numBooks field public, even though Book users were not supposed to do anything with it. Then someone could change the number of Books without creating a new Book. </p>\n\n<p>Very sneaky!</p>\n"},{"tags":[],"owner":{"account_id":3446391,"reputation":184,"user_id":2887124,"display_name":"Nagesh Tripathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385181724,"creation_date":1385181724,"answer_id":20158629,"question_id":7279887,"body_markdown":"Static variables are those variables which are common for all the instances of a class..if one instance changes it.. then value of static variable would be updated for all other instances","title":"What is the use of a private static variable in Java?","body":"<p>Static variables are those variables which are common for all the instances of a class..if one instance changes it.. then value of static variable would be updated for all other instances</p>\n"},{"tags":[],"owner":{"account_id":1881977,"reputation":445,"user_id":3113435,"display_name":"JTHouseCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390508885,"creation_date":1388468075,"answer_id":20852311,"question_id":7279887,"body_markdown":"For some people this makes more sense if they see it in a couple different languages so I wrote an example in Java, and PHP on my page where I explain some of these modifiers. You might be thinking about this incorrectly. \r\n \r\nYou should look at my examples if it doesn&#39;t make sense below. Go here http://www.siteconsortium.com/h/D0000D.php\r\n\r\n\r\nThe bottom line though is that it is pretty much exactly what it says it is. It&#39;s a static member variable that is private. For example if you wanted to create a Singleton object why would you want to make the SingletonExample.instance variable public. If you did a person who was using the class could easily overwrite the value.\r\n\r\nThat&#39;s all it is.\r\n&lt;pre&gt;\r\n\r\n    public class SingletonExample {\r\n      private static SingletonExample instance = null;\r\n      private static int value = 0;\r\n      private SingletonExample() {\r\n        ++this.value;\r\n      }\r\n      public static SingletonExample getInstance() {\r\n        if(instance!=null)\r\n    \treturn instance;\r\n        synchronized(SingletonExample.class) {\r\n    \tinstance = new SingletonExample();\r\n    \treturn instance;\r\n        }\r\n      }\r\n      public void printValue() {\r\n    \tSystem.out.print( this.value );\r\n      }\r\n    \t\t\r\n      public static void main(String [] args) {\r\n    \tSingletonExample instance = getInstance();\r\n    \tinstance.printValue();\r\n    \tinstance = getInstance();\r\n    \tinstance.printValue();\r\n         }\r\n    }\r\n\r\n&lt;/pre&gt;","title":"What is the use of a private static variable in Java?","body":"<p>For some people this makes more sense if they see it in a couple different languages so I wrote an example in Java, and PHP on my page where I explain some of these modifiers. You might be thinking about this incorrectly. </p>\n\n<p>You should look at my examples if it doesn't make sense below. Go here <a href=\"http://www.siteconsortium.com/h/D0000D.php\" rel=\"nofollow\">http://www.siteconsortium.com/h/D0000D.php</a></p>\n\n<p>The bottom line though is that it is pretty much exactly what it says it is. It's a static member variable that is private. For example if you wanted to create a Singleton object why would you want to make the SingletonExample.instance variable public. If you did a person who was using the class could easily overwrite the value.</p>\n\n<p>That's all it is.</p>\n\n<pre>\n\n    public class SingletonExample {\n      private static SingletonExample instance = null;\n      private static int value = 0;\n      private SingletonExample() {\n        ++this.value;\n      }\n      public static SingletonExample getInstance() {\n        if(instance!=null)\n        return instance;\n        synchronized(SingletonExample.class) {\n        instance = new SingletonExample();\n        return instance;\n        }\n      }\n      public void printValue() {\n        System.out.print( this.value );\n      }\n\n      public static void main(String [] args) {\n        SingletonExample instance = getInstance();\n        instance.printValue();\n        instance = getInstance();\n        instance.printValue();\n         }\n    }\n\n</pre>\n"},{"tags":[],"owner":{"account_id":3431589,"reputation":125,"user_id":2875842,"display_name":"ron_ron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392005528,"creation_date":1392004455,"answer_id":21668830,"question_id":7279887,"body_markdown":"If a variable is defined as public static it can be accessed via its class name from any class.\r\n\r\nUsually functions are defined as public static which can be accessed just by calling the implementing class name.\r\n\r\nA very good example of it is the `sleep()` method in Thread class\r\n\r\n    Thread.sleep(2500);\r\n\r\nIf a variable is defined as private static it can be accessed only within that class so no class name is needed or you can still use the class name (upto you).\r\nThe difference between private var_name and private static var_name is that private static variables can be accessed only by static methods of the class while private variables can be accessed by any method of that class(except static methods)\r\n\r\nA very good example of it is while defining database connections or constants which require declaring variable as private static .\r\n\r\nAnother common example is \r\n\r\n    private static int numberOfCars=10;\r\n    \r\n    public static int returnNumber(){\r\n    \r\n    return numberOfCars;\r\n    \r\n    }","title":"What is the use of a private static variable in Java?","body":"<p>If a variable is defined as public static it can be accessed via its class name from any class.</p>\n\n<p>Usually functions are defined as public static which can be accessed just by calling the implementing class name.</p>\n\n<p>A very good example of it is the <code>sleep()</code> method in Thread class</p>\n\n<pre><code>Thread.sleep(2500);\n</code></pre>\n\n<p>If a variable is defined as private static it can be accessed only within that class so no class name is needed or you can still use the class name (upto you).\nThe difference between private var_name and private static var_name is that private static variables can be accessed only by static methods of the class while private variables can be accessed by any method of that class(except static methods)</p>\n\n<p>A very good example of it is while defining database connections or constants which require declaring variable as private static .</p>\n\n<p>Another common example is </p>\n\n<pre><code>private static int numberOfCars=10;\n\npublic static int returnNumber(){\n\nreturn numberOfCars;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4242618,"reputation":71,"user_id":3472099,"display_name":"Raam"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1603728349,"creation_date":1396000865,"answer_id":22709508,"question_id":7279887,"body_markdown":"The `private` keyword will allow the use for the variable access within the class and `static` means we can access the variable in a static method. \r\n\r\nYou may need this cause a non-static reference variable cannot be accessible in a static method.","title":"What is the use of a private static variable in Java?","body":"<p>The <code>private</code> keyword will allow the use for the variable access within the class and <code>static</code> means we can access the variable in a static method.</p>\n<p>You may need this cause a non-static reference variable cannot be accessible in a static method.</p>\n"},{"tags":[],"owner":{"account_id":2926362,"reputation":188,"user_id":2507571,"accept_rate":100,"display_name":"pyetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397092374,"creation_date":1397092374,"answer_id":22976881,"question_id":7279887,"body_markdown":"I&#39;m new to Java, but one way I use static variables, as I&#39;m assuming many people do, is to count the number of instances of the class. e.g.:\r\n\r\n    public Class Company {\r\n        private static int numCompanies;\r\n        \r\n        public static int getNumCompanies(){\r\n            return numCompanies;\r\n        }\r\n    }\r\n\r\nThen you can sysout:\r\n\r\n    Company.getNumCompanies();\r\n\r\nYou can also get access to numCompanies from each instance of the class (which I don&#39;t completely understand), but it won&#39;t be in a &quot;static way&quot;. I have no idea if this is best practice or not, but it makes sense to me.","title":"What is the use of a private static variable in Java?","body":"<p>I'm new to Java, but one way I use static variables, as I'm assuming many people do, is to count the number of instances of the class. e.g.:</p>\n\n<pre><code>public Class Company {\n    private static int numCompanies;\n\n    public static int getNumCompanies(){\n        return numCompanies;\n    }\n}\n</code></pre>\n\n<p>Then you can sysout:</p>\n\n<pre><code>Company.getNumCompanies();\n</code></pre>\n\n<p>You can also get access to numCompanies from each instance of the class (which I don't completely understand), but it won't be in a \"static way\". I have no idea if this is best practice or not, but it makes sense to me.</p>\n"},{"tags":[],"owner":{"account_id":6962510,"reputation":1,"user_id":5341543,"display_name":"Deepak Bala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442913017,"creation_date":1442913017,"answer_id":32712936,"question_id":7279887,"body_markdown":"*)If a variable is declared as private then it is not visible outside of the class.this is called as datahiding.\r\n\r\n*)If a variable is declared as static then the value of the variable is same for all the instances and we no need to create an object to call that variable.we can call that variable by simply\r\n\r\nclassname.variablename;\r\n","title":"What is the use of a private static variable in Java?","body":"<p>*)If a variable is declared as private then it is not visible outside of the class.this is called as datahiding.</p>\n\n<p>*)If a variable is declared as static then the value of the variable is same for all the instances and we no need to create an object to call that variable.we can call that variable by simply</p>\n\n<p>classname.variablename;</p>\n"},{"tags":[],"owner":{"account_id":7121142,"reputation":1,"user_id":5445737,"display_name":"djiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444835090,"creation_date":1444835090,"answer_id":33128978,"question_id":7279887,"body_markdown":"private static variable will be shared in subclass as well. If you changed in one subclass and the other subclass will get the changed value, in which case, it may not what you expect.\r\n\r\n    public class PrivateStatic {\r\n\r\n    private static int var = 10;\r\n    public void setVar(int newVal) {\r\n        var = newVal;\r\n    }\r\n\r\n    public int getVar() {\r\n        return var;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        PrivateStatic p1 = new Sub1();\r\n        System.out.println(PrivateStatic.var);\r\n        p1.setVar(200);\r\n\r\n        PrivateStatic p2 = new Sub2();\r\n        System.out.println(p2.getVar());\r\n    }\r\n    }\r\n\r\n\r\n    class Sub1 extends PrivateStatic {\r\n\r\n    }\r\n\r\n    class Sub2 extends PrivateStatic {\r\n    }\r\n","title":"What is the use of a private static variable in Java?","body":"<p>private static variable will be shared in subclass as well. If you changed in one subclass and the other subclass will get the changed value, in which case, it may not what you expect.</p>\n\n<pre><code>public class PrivateStatic {\n\nprivate static int var = 10;\npublic void setVar(int newVal) {\n    var = newVal;\n}\n\npublic int getVar() {\n    return var;\n}\n\npublic static void main(String... args) {\n    PrivateStatic p1 = new Sub1();\n    System.out.println(PrivateStatic.var);\n    p1.setVar(200);\n\n    PrivateStatic p2 = new Sub2();\n    System.out.println(p2.getVar());\n}\n}\n\n\nclass Sub1 extends PrivateStatic {\n\n}\n\nclass Sub2 extends PrivateStatic {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2417334,"reputation":123,"user_id":2111112,"accept_rate":50,"display_name":"Erdal76t"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1452592467,"creation_date":1452592467,"answer_id":34740360,"question_id":7279887,"body_markdown":"If you use private static variables in your class, Static Inner classes in your class can reach your variables. This is perfectly good for context security. ","title":"What is the use of a private static variable in Java?","body":"<p>If you use private static variables in your class, Static Inner classes in your class can reach your variables. This is perfectly good for context security. </p>\n"},{"tags":[],"owner":{"account_id":7854239,"reputation":4845,"user_id":5936696,"display_name":"avr"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1466492640,"creation_date":1466447577,"answer_id":37929457,"question_id":7279887,"body_markdown":"&gt; Is declaring a variable as `private static varName;` any different from\r\n&gt; declaring a variable `private varName;`?\r\n\r\nYes, both are different. And the first one is called `class variable` because it holds single value for that `class` whereas the other one is called `instance variable` because it can hold different value for different `instances(Objects)`. The first one is created only once in jvm and other one is created once per instance i.e if you have 10 instances then you will have 10 different `private varName;` in jvm. \r\n\r\n&gt; Does declaring the variable as `static` give it other special\r\n&gt; properties?\r\n\r\nYes, static variables gets some different properties than normal instance variables. I&#39;ve mentioned few already and let&#39;s see some here: `class variables` (instance variables which are declared as static) can be accessed directly by using class name like `ClassName.varName`. And any object of that class can access and modify its value unlike instance variables are accessed by only its respective objects. Class variables can be used in static methods.  \r\n\r\n&gt; What is the use of a `private static variable` in Java?\r\n\r\nLogically, `private static variable` is no different from `public static variable` rather the first one gives you more control. IMO, you can literally replace `public static variable` by `private static variable` with help of `public static` getter and setter methods. \r\n\r\nOne widely used area of `private static variable` is in implementation of simple `Singleton` pattern where you will have only single instance of that class in whole world. Here `static` identifier plays crucial role to make that single instance is accessible by outside world(Of course public static getter method also plays main role). \r\n\r\n    public class Singleton {\r\n        private static Singleton singletonInstance = new Singleton();\r\n    \r\n        private Singleton(){}\r\n    \r\n        public static Singleton getInstance(){\r\n            return Singleton.singletonInstance;\r\n        }\r\n    }\r\n","title":"What is the use of a private static variable in Java?","body":"<blockquote>\n  <p>Is declaring a variable as <code>private static varName;</code> any different from\n  declaring a variable <code>private varName;</code>?</p>\n</blockquote>\n\n<p>Yes, both are different. And the first one is called <code>class variable</code> because it holds single value for that <code>class</code> whereas the other one is called <code>instance variable</code> because it can hold different value for different <code>instances(Objects)</code>. The first one is created only once in jvm and other one is created once per instance i.e if you have 10 instances then you will have 10 different <code>private varName;</code> in jvm. </p>\n\n<blockquote>\n  <p>Does declaring the variable as <code>static</code> give it other special\n  properties?</p>\n</blockquote>\n\n<p>Yes, static variables gets some different properties than normal instance variables. I've mentioned few already and let's see some here: <code>class variables</code> (instance variables which are declared as static) can be accessed directly by using class name like <code>ClassName.varName</code>. And any object of that class can access and modify its value unlike instance variables are accessed by only its respective objects. Class variables can be used in static methods.  </p>\n\n<blockquote>\n  <p>What is the use of a <code>private static variable</code> in Java?</p>\n</blockquote>\n\n<p>Logically, <code>private static variable</code> is no different from <code>public static variable</code> rather the first one gives you more control. IMO, you can literally replace <code>public static variable</code> by <code>private static variable</code> with help of <code>public static</code> getter and setter methods. </p>\n\n<p>One widely used area of <code>private static variable</code> is in implementation of simple <code>Singleton</code> pattern where you will have only single instance of that class in whole world. Here <code>static</code> identifier plays crucial role to make that single instance is accessible by outside world(Of course public static getter method also plays main role). </p>\n\n<pre><code>public class Singleton {\n    private static Singleton singletonInstance = new Singleton();\n\n    private Singleton(){}\n\n    public static Singleton getInstance(){\n        return Singleton.singletonInstance;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413515,"reputation":21,"user_id":5640145,"display_name":"Yiqin Dai"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1484994775,"creation_date":1484994775,"answer_id":41778269,"question_id":7279887,"body_markdown":"In the following example, `eye` is changed by PersonB, while `leg` stays the same. This is because a private variable **makes a copy of itself** to the method, so that its original value stays the same; while a private static value **only has one copy** for all the methods to share, so editing its value will change its original value.\r\n\r\n\r\n    public class test {\r\n\tprivate static int eye=2;\r\n    private int leg=3;\r\n    \r\n    public test (int eyes, int legs){\r\n    \teye = eyes;\r\n    \tleg=leg;\r\n    }\r\n    \r\n    public test (){\r\n    }\r\n    \r\n    public void print(){\r\n    \tSystem.out.println(eye);\r\n    \tSystem.out.println(leg);\r\n    }\r\n    \r\n    public static void main(String[] args){\r\n    \ttest PersonA = new test();   \t\r\n    \ttest PersonB = new test(14,8);\r\n    \tPersonA.print();  \t\r\n    }\r\n}\r\n\r\n&gt;&gt;\r\n14\r\n3","title":"What is the use of a private static variable in Java?","body":"<p>In the following example, <code>eye</code> is changed by PersonB, while <code>leg</code> stays the same. This is because a private variable <strong>makes a copy of itself</strong> to the method, so that its original value stays the same; while a private static value <strong>only has one copy</strong> for all the methods to share, so editing its value will change its original value.</p>\n\n<pre><code>public class test {\nprivate static int eye=2;\nprivate int leg=3;\n\npublic test (int eyes, int legs){\n    eye = eyes;\n    leg=leg;\n}\n\npublic test (){\n}\n\npublic void print(){\n    System.out.println(eye);\n    System.out.println(leg);\n}\n\npublic static void main(String[] args){\n    test PersonA = new test();      \n    test PersonB = new test(14,8);\n    PersonA.print();    \n}\n</code></pre>\n\n<p>}</p>\n\n<blockquote>\n  <p>>\n  14\n  3</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1150494,"reputation":4777,"user_id":1132333,"accept_rate":61,"display_name":"H.Rabiee"},"score":4,"creation_date":1514640671,"post_id":44700211,"comment_id":83038680,"body_markdown":"I don&#39;t understand this answer. What do you mean?","body":"I don&#39;t understand this answer. What do you mean?"}],"tags":[],"owner":{"account_id":2176968,"reputation":117,"user_id":1927418,"display_name":"Mehmet Erdemsoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585560151,"creation_date":1498136577,"answer_id":44700211,"question_id":7279887,"body_markdown":"`ThreadLocal` variables are typically implemented as `private static`.\r\nIn this way, they are not bound to the class and each thread has its own reference to its own &quot;ThreadLocal&quot; object.","title":"What is the use of a private static variable in Java?","body":"<p><code>ThreadLocal</code> variables are typically implemented as <code>private static</code>.\nIn this way, they are not bound to the class and each thread has its own reference to its own \"ThreadLocal\" object.</p>\n"},{"tags":[],"owner":{"account_id":18244548,"reputation":67,"user_id":13280951,"display_name":"necimye"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667879917,"creation_date":1667879917,"answer_id":74355544,"question_id":7279887,"body_markdown":"Private static fields and private static methods can useful inside public static methods. They help to reduce the too much logic inside public static methods.","title":"What is the use of a private static variable in Java?","body":"<p>Private static fields and private static methods can useful inside public static methods. They help to reduce the too much logic inside public static methods.</p>\n"}],"owner":{"account_id":361327,"reputation":12478,"user_id":703851,"accept_rate":100,"display_name":"Vaibhav Jani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406937,"favorite_count":0,"down_vote_count":0,"up_vote_count":188,"accepted_answer_id":7279918,"answer_count":20,"score":188,"last_activity_date":1667879917,"creation_date":1314944654,"question_id":7279887,"body_markdown":"If a variable is declared as `public static varName;`, then I can access it from anywhere as `ClassName.varName`. I am also aware that static members are shared by all instances of a class and are not reallocated in each instance.\r\n\r\nIs declaring a variable as `private static varName;` any different from declaring a variable `private varName;`?\r\n\r\nIn both cases it cannot be accessed as `ClassName.varName` or as `ClassInstance.varName` from any other class.\r\n\r\nDoes declaring the variable as static give it other special properties?","title":"What is the use of a private static variable in Java?","body":"<p>If a variable is declared as <code>public static varName;</code>, then I can access it from anywhere as <code>ClassName.varName</code>. I am also aware that static members are shared by all instances of a class and are not reallocated in each instance.</p>\n\n<p>Is declaring a variable as <code>private static varName;</code> any different from declaring a variable <code>private varName;</code>?</p>\n\n<p>In both cases it cannot be accessed as <code>ClassName.varName</code> or as <code>ClassInstance.varName</code> from any other class.</p>\n\n<p>Does declaring the variable as static give it other special properties?</p>\n"},{"tags":["java","spring","hibernate","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1551695433,"post_id":54981226,"comment_id":96720585,"body_markdown":"Can you try to add also `@NotNull` on `officeName` ?","body":"Can you try to add also <code>@NotNull</code> on <code>officeName</code> ?"},{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551696443,"post_id":54981226,"comment_id":96721183,"body_markdown":"i think @notnull is for Integer","body":"i think @notnull is for Integer"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1551698008,"post_id":54981226,"comment_id":96722000,"body_markdown":"That is exactly what you configured it to do. In case of error show `error.jsp`.","body":"That is exactly what you configured it to do. In case of error show <code>error.jsp</code>."},{"owner":{"account_id":2082352,"reputation":792,"user_id":1854103,"display_name":"Tijkijiki"},"score":0,"creation_date":1551698146,"post_id":54981226,"comment_id":96722056,"body_markdown":"You should return `office` template for rendering model errors, since you have defined them there (`&lt;form:errors path = &quot;officeName&quot; cssClass = &quot;error&quot; /&gt;`)","body":"You should return <code>office</code> template for rendering model errors, since you have defined them there (<code>&lt;form:errors path = &quot;officeName&quot; cssClass = &quot;error&quot; &#47;&gt;</code>)"},{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551702818,"post_id":54981226,"comment_id":96724518,"body_markdown":"@Tijkijiki what should i need to change in my code?","body":"@Tijkijiki what should i need to change in my code?"},{"owner":{"account_id":2082352,"reputation":792,"user_id":1854103,"display_name":"Tijkijiki"},"score":0,"creation_date":1551703578,"post_id":54981226,"comment_id":96724906,"body_markdown":"`if (result.hasErrors()) { return &quot;office&quot;; }`","body":"<code>if (result.hasErrors()) { return &quot;office&quot;; }</code>"},{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551703737,"post_id":54981226,"comment_id":96725004,"body_markdown":"yes it worked but the message is not coming i have already added messages.properties inside src/main/resources and here {officename.notempty} is getting printed instead of message","body":"yes it worked but the message is not coming i have already added messages.properties inside src/main/resources and here {officename.notempty} is getting printed instead of message"}],"answers":[{"comments":[{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551702884,"post_id":54982142,"comment_id":96724565,"body_markdown":"i need to delete both or require one of them?","body":"i need to delete both or require one of them?"},{"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"score":0,"creation_date":1551702920,"post_id":54982142,"comment_id":96724585,"body_markdown":"Need to delete both as they are part of web dependency","body":"Need to delete both as they are part of web dependency"},{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551703923,"post_id":54982142,"comment_id":96725093,"body_markdown":"do i need to signup ? i managed to bring the error message but it is coming in {officename.notempty} like this","body":"do i need to signup ? i managed to bring the error message but it is coming in {officename.notempty} like this"},{"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"score":0,"creation_date":1551703974,"post_id":54982142,"comment_id":96725118,"body_markdown":"is there any issue you seeing in directly joining??","body":"is there any issue you seeing in directly joining??"},{"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"score":0,"creation_date":1551704049,"post_id":54982142,"comment_id":96725169,"body_markdown":"its is teeling me to sing in . Should i need to create a account or what? dont u have team viewer?","body":"its is teeling me to sing in . Should i need to create a account or what? dont u have team viewer?"},{"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"score":0,"creation_date":1551704142,"post_id":54982142,"comment_id":96725217,"body_markdown":"you can enter any personal email there to join if required as dont use teamviewer..","body":"you can enter any personal email there to join if required as dont use teamviewer.."},{"owner":{"account_id":4402346,"reputation":459,"user_id":3587618,"display_name":"donny"},"score":0,"creation_date":1587632522,"post_id":54982142,"comment_id":108589049,"body_markdown":"i&#39;m facing same issue, but i&#39;m still error even i followed your instruction, please check it out https://github.com/black-lotus/ppm-tool-be on `ValidDateValidator`","body":"i&#39;m facing same issue, but i&#39;m still error even i followed your instruction, please check it out <a href=\"https://github.com/black-lotus/ppm-tool-be\" rel=\"nofollow noreferrer\">github.com/black-lotus/ppm-tool-be</a> on <code>ValidDateValidator</code>"},{"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"score":10,"creation_date":1589649813,"post_id":54982142,"comment_id":109380020,"body_markdown":"Starting from version `2.3.0.RELEASE` Spring Boot Web and WebFlux starters no longer depend on the validation starter, so you have to add `spring-boot-starter-validation` to your pom.xml. For details check 2.3.0 [Release notes](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters)","body":"Starting from version <code>2.3.0.RELEASE</code> Spring Boot Web and WebFlux starters no longer depend on the validation starter, so you have to add <code>spring-boot-starter-validation</code> to your pom.xml. For details check 2.3.0 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#validation-starter-no-longer-included-in-web-starters\" rel=\"nofollow noreferrer\">Release notes</a>"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":0,"creation_date":1641021665,"post_id":54982142,"comment_id":124708150,"body_markdown":"Just a tip, you can check if HV is properly initialized in the first place by checking for the following log line at app startup (this is from a Spring Boot app, but other platforms should also probably display it): `[background-preinit]  INFO Version HV000001: Hibernate Validator 5.3.5.Final`","body":"Just a tip, you can check if HV is properly initialized in the first place by checking for the following log line at app startup (this is from a Spring Boot app, but other platforms should also probably display it): <code>[background-preinit]  INFO Version HV000001: Hibernate Validator 5.3.5.Final</code>"}],"tags":[],"owner":{"account_id":1763573,"reputation":6131,"user_id":1610005,"display_name":"kj007"},"comment_count":9,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1551705239,"creation_date":1551698217,"answer_id":54982142,"question_id":54981226,"body_markdown":"seems jar conflicts issue as `org.hibernate.validator:hibernate-validator:jar(javax.validation:validation-api:jar is part of hibernate validator)` is part of spring web dependency so no need to add extra dependency which might conflict so recommend to remove below dependencies and build project again by clean install(`mvn clean install`).\r\n\r\nremove below dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.12.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand make sure you access error message below: not required braces and property name match with your actual message property name you defined.(camelcase matters with name).\r\n\r\n    @NotEmpty(message = &quot;officename.notempty&quot;)","title":"Validation not working on spring boot and hibernate","body":"<p>seems jar conflicts issue as <code>org.hibernate.validator:hibernate-validator:jar(javax.validation:validation-api:jar is part of hibernate validator)</code> is part of spring web dependency so no need to add extra dependency which might conflict so recommend to remove below dependencies and build project again by clean install(<code>mvn clean install</code>).</p>\n\n<p>remove below dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and make sure you access error message below: not required braces and property name match with your actual message property name you defined.(camelcase matters with name).</p>\n\n<pre><code>@NotEmpty(message = \"officename.notempty\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612840868,"creation_date":1612840868,"answer_id":66112523,"question_id":54981226,"body_markdown":"I migrated from Spring Boot 2.2.4.RELEASE to 2.4.2 and as soon as I made the changes, the validation starts failing.\r\n\r\nThe reason to start failing is to remove the validation dependencies from web module from Spring Boot version 2.3.\r\n\r\n\r\nI made below changes to run the validation.\r\n\r\n            &lt;dependency&gt;\r\n    \t\t \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t \t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;${hibernate.validator}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;${validation.api}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${jboss.logging.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;classmate&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;${fasterxml.classmate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nChange the versions accordingly.","title":"Validation not working on spring boot and hibernate","body":"<p>I migrated from Spring Boot 2.2.4.RELEASE to 2.4.2 and as soon as I made the changes, the validation starts failing.</p>\n<p>The reason to start failing is to remove the validation dependencies from web module from Spring Boot version 2.3.</p>\n<p>I made below changes to run the validation.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.validator}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${validation.api}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;\n            &lt;version&gt;${jboss.logging.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml&lt;/groupId&gt;\n            &lt;artifactId&gt;classmate&lt;/artifactId&gt;\n            &lt;version&gt;${fasterxml.classmate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Change the versions accordingly.</p>\n"}],"owner":{"account_id":13565853,"reputation":57,"user_id":9785932,"display_name":"Ashwin Karki "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22863,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54982142,"answer_count":2,"score":5,"last_activity_date":1667879304,"creation_date":1551695107,"question_id":54981226,"body_markdown":"I am new to spring boot and hibernate.I have declared a model class Office which is :\r\n\r\n    package com.ashwin.officeproject.model;\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import org.springframework.data.annotation.CreatedDate;\r\n    import org.springframework.data.annotation.LastModifiedDate;\r\n    import org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotEmpty;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;office&quot;)\r\n    public class Office {\r\n    \t \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long officeId;\r\n    \t\r\n    \t@NotEmpty(message = &quot;{officename.notempty}&quot;)\r\n        private String officeName;\r\n    \t \r\n        @NotNull\r\n        private int officeNumber;\r\n    \t \r\n    \t/*@Size(min = 8, max = 72, message = &quot;Your offc address between 8 and 72 characters long&quot;)*/\r\n    \t/*@NotEmpty(message = &quot;Please provide a offc name&quot;)*/\r\n        private String officeAddress;\r\n     \r\n        public Office() {\r\n     \r\n        }\r\n    \r\n    \t//ommitted getters and setters\r\n    }\r\n\r\n\r\nI have declared my first main starting class as:\r\n\r\n    package com.ashwin.officeproject;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.support.ReloadableResourceBundleMessageSource;\r\n    import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\r\n    \r\n    @SpringBootApplication\r\n    public class OfficeProjectApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(OfficeProjectApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic MessageSource messageSource() {\r\n    \t    ReloadableResourceBundleMessageSource messageSource\r\n    \t      = new ReloadableResourceBundleMessageSource();\r\n    \t     \r\n    \t    messageSource.setBasename(&quot;classpath:messages&quot;);\r\n    \t    messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n    \t    return messageSource;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic LocalValidatorFactoryBean getValidator() {\r\n    \t    LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n    \t    bean.setValidationMessageSource(messageSource());\r\n    \t    return bean;\r\n    \t}\r\n    \r\n    }\r\n\r\nMy controller class is:\r\n\r\n    package com.ashwin.officeproject.controller;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import com.ashwin.officeproject.model.Office;\r\n    import com.ashwin.officeproject.repository.OfficeRepsitory;\r\n     \r\n    @Controller\r\n    public class MainController {\r\n     \r\n    \t@Autowired\r\n        OfficeRepsitory officeRepository;\r\n     \r\n      \r\n        @RequestMapping(value = { &quot;/office&quot;}, method = RequestMethod.GET)\r\n        public String office(Model model) {\r\n           model.addAttribute(&quot;offices&quot;, new Office()); \r\n          return &quot;office&quot;;\r\n        }\r\n        \r\n        @RequestMapping(value = &quot;/addOffice&quot;, method = RequestMethod.POST)\r\n        public String submit(@Valid @ModelAttribute(&quot;offices&quot;) Office office, \r\n          BindingResult result, ModelMap model) {\r\n            if (result.hasErrors()) {\r\n                return &quot;error&quot;;\r\n            }\r\n            officeRepository.save(office);\r\n            model.addAttribute(&quot;offices&quot;, new Office()); \r\n            return &quot;office&quot;;\r\n        }\r\n     \r\n    }\r\n    \r\nI have a office.jsp page which is:\r\n\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    &lt;jsp:include page=&quot;./header.jsp&quot; /&gt;\r\n     &lt;style&gt;\r\n          .error {\r\n             color: #ff0000;\r\n          }\r\n    \r\n          .errorblock {\r\n             color: #000;\r\n             background-color: #ffEEEE;\r\n             border: 3px solid #ff0000;\r\n             padding: 8px;\r\n             margin: 16px;\r\n          }\r\n       &lt;/style&gt;\r\n        &lt;form:form method=&quot;POST&quot;  action=&quot;/addOffice&quot;   modelAttribute=&quot;offices&quot;  &gt;\r\n       \r\n                 &lt;table&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;form:label path=&quot;officeName&quot;&gt;Name&lt;/form:label&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;form:input path=&quot;officeName&quot;/&gt;&lt;/td&gt;\r\n                        &lt;form:errors path = &quot;officeName&quot; cssClass = &quot;error&quot; /&gt;\r\n    \r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;form:label path=&quot;officeNumber&quot;&gt;Number&lt;/form:label&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;form:input path=&quot;officeNumber&quot;/&gt;&lt;/td&gt;\r\n                      \r\n    \r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;form:label path=&quot;officeAddress&quot;&gt;\r\n                          Address&lt;/form:label&gt;&lt;/td&gt;\r\n                        &lt;td&gt;&lt;form:input path=&quot;officeAddress&quot;/&gt;&lt;/td&gt;\r\n                    \r\n    \r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/table&gt;\r\n            &lt;/form:form&gt;\r\n       \r\n    \r\n    &lt;jsp:include page=&quot;./footer.jsp&quot; /&gt;    \r\n\r\nMy pom.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.ashwin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;OfficeProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;OfficeProject&lt;/name&gt;\r\n    \t&lt;description&gt;OfficeProject&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.12.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n      \r\nWhen I click the submit button then if the input field in my form are empty,I wanted to validate my form and show the message below the input field like **&quot;Please provide valid office name&quot;** .But what is happening is that when i hit the submit button then it is going to my error.jsp page but it is not showing any validation message which i have declared above.My error page displaying is:\r\n\r\nerror.jsp\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;p&gt;Error&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;      \r\n\r\n I am not getting any error in my console in eclipse too.It is just redirecting me in error.jsp page when my form&#39;s field is empty.   ","title":"Validation not working on spring boot and hibernate","body":"<p>I am new to spring boot and hibernate.I have declared a model class Office which is :</p>\n\n<pre><code>package com.ashwin.officeproject.model;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\nimport java.util.Date;\n\n@Entity\n@Table(name = \"office\")\npublic class Office {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long officeId;\n\n    @NotEmpty(message = \"{officename.notempty}\")\n    private String officeName;\n\n    @NotNull\n    private int officeNumber;\n\n    /*@Size(min = 8, max = 72, message = \"Your offc address between 8 and 72 characters long\")*/\n    /*@NotEmpty(message = \"Please provide a offc name\")*/\n    private String officeAddress;\n\n    public Office() {\n\n    }\n\n    //ommitted getters and setters\n}\n</code></pre>\n\n<p>I have declared my first main starting class as:</p>\n\n<pre><code>package com.ashwin.officeproject;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.support.ReloadableResourceBundleMessageSource;\nimport org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;\n\n@SpringBootApplication\npublic class OfficeProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OfficeProjectApplication.class, args);\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n        ReloadableResourceBundleMessageSource messageSource\n          = new ReloadableResourceBundleMessageSource();\n\n        messageSource.setBasename(\"classpath:messages\");\n        messageSource.setDefaultEncoding(\"UTF-8\");\n        return messageSource;\n    }\n\n    @Bean\n    public LocalValidatorFactoryBean getValidator() {\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n        bean.setValidationMessageSource(messageSource());\n        return bean;\n    }\n\n}\n</code></pre>\n\n<p>My controller class is:</p>\n\n<pre><code>package com.ashwin.officeproject.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.validation.Valid;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport com.ashwin.officeproject.model.Office;\nimport com.ashwin.officeproject.repository.OfficeRepsitory;\n\n@Controller\npublic class MainController {\n\n    @Autowired\n    OfficeRepsitory officeRepository;\n\n\n    @RequestMapping(value = { \"/office\"}, method = RequestMethod.GET)\n    public String office(Model model) {\n       model.addAttribute(\"offices\", new Office()); \n      return \"office\";\n    }\n\n    @RequestMapping(value = \"/addOffice\", method = RequestMethod.POST)\n    public String submit(@Valid @ModelAttribute(\"offices\") Office office, \n      BindingResult result, ModelMap model) {\n        if (result.hasErrors()) {\n            return \"error\";\n        }\n        officeRepository.save(office);\n        model.addAttribute(\"offices\", new Office()); \n        return \"office\";\n    }\n\n}\n</code></pre>\n\n<p>I have a office.jsp page which is:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %&gt;\n&lt;jsp:include page=\"./header.jsp\" /&gt;\n &lt;style&gt;\n      .error {\n         color: #ff0000;\n      }\n\n      .errorblock {\n         color: #000;\n         background-color: #ffEEEE;\n         border: 3px solid #ff0000;\n         padding: 8px;\n         margin: 16px;\n      }\n   &lt;/style&gt;\n    &lt;form:form method=\"POST\"  action=\"/addOffice\"   modelAttribute=\"offices\"  &gt;\n\n             &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;form:label path=\"officeName\"&gt;Name&lt;/form:label&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;form:input path=\"officeName\"/&gt;&lt;/td&gt;\n                    &lt;form:errors path = \"officeName\" cssClass = \"error\" /&gt;\n\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;form:label path=\"officeNumber\"&gt;Number&lt;/form:label&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;form:input path=\"officeNumber\"/&gt;&lt;/td&gt;\n\n\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;form:label path=\"officeAddress\"&gt;\n                      Address&lt;/form:label&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;form:input path=\"officeAddress\"/&gt;&lt;/td&gt;\n\n\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;input type=\"submit\" value=\"Submit\"/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/form:form&gt;\n\n\n&lt;jsp:include page=\"./footer.jsp\" /&gt;    \n</code></pre>\n\n<p>My pom.xml is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ashwin&lt;/groupId&gt;\n    &lt;artifactId&gt;OfficeProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;OfficeProject&lt;/name&gt;\n    &lt;description&gt;OfficeProject&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>When I click the submit button then if the input field in my form are empty,I wanted to validate my form and show the message below the input field like <strong>\"Please provide valid office name\"</strong> .But what is happening is that when i hit the submit button then it is going to my error.jsp page but it is not showing any validation message which i have declared above.My error page displaying is:</p>\n\n<p>error.jsp</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n    pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;Error&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;      \n</code></pre>\n\n<p>I am not getting any error in my console in eclipse too.It is just redirecting me in error.jsp page when my form's field is empty.   </p>\n"},{"tags":["java","rest-assured","jsonpath"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667887516,"post_id":74355082,"comment_id":131268515,"body_markdown":"what&#39;s the point of having such function? from syntax standpoint there is no that much benefit. You&#39;re just wrapping a line with another line.","body":"what&#39;s the point of having such function? from syntax standpoint there is no that much benefit. You&#39;re just wrapping a line with another line."},{"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"score":0,"creation_date":1667932965,"post_id":74355082,"comment_id":131284849,"body_markdown":"Mostly experimental, just wanted to see how it could be done since I was getting an error. But I am also thinking that if I am going to use the function in like 50 places and the mechanism we use to extract data from JsonPath changes, i&#39;d rather just do it in one place than in 50.","body":"Mostly experimental, just wanted to see how it could be done since I was getting an error. But I am also thinking that if I am going to use the function in like 50 places and the mechanism we use to extract data from JsonPath changes, i&#39;d rather just do it in one place than in 50."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667879260,"creation_date":1667879260,"answer_id":74355484,"question_id":74355082,"body_markdown":"You can do that:\r\n\r\n```java\r\npublic static &lt;T&gt; T getJsonPathValue(String path, Response response, Class&lt;T&gt; t) {\r\n    return response.jsonPath().getObject(path, t);\r\n}\r\n```","title":"How can I create a generic type function to extract a value from a JSON string using jsonPath() from Rest Assured?","body":"<p>You can do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T getJsonPathValue(String path, Response response, Class&lt;T&gt; t) {\n    return response.jsonPath().getObject(path, t);\n}\n</code></pre>\n"}],"owner":{"account_id":21341966,"reputation":81,"user_id":15712331,"display_name":"jgialis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667879260,"creation_date":1667874607,"question_id":74355082,"body_markdown":"Instead of this:\r\n\r\n    public static Object getJsonPathValue(String path, Response response) {\r\n            return response.jsonPath().getObject(path, Object.class);\r\n    }\r\n\r\nSomething more like this:\r\n\r\n    public static &lt;T&gt; T getJsonPathValue(String path, Response response) {\r\n                return response.jsonPath().getObject(path, T.class);\r\n        }\r\n\r\nI get an error when I try the second way.","title":"How can I create a generic type function to extract a value from a JSON string using jsonPath() from Rest Assured?","body":"<p>Instead of this:</p>\n<pre><code>public static Object getJsonPathValue(String path, Response response) {\n        return response.jsonPath().getObject(path, Object.class);\n}\n</code></pre>\n<p>Something more like this:</p>\n<pre><code>public static &lt;T&gt; T getJsonPathValue(String path, Response response) {\n            return response.jsonPath().getObject(path, T.class);\n    }\n</code></pre>\n<p>I get an error when I try the second way.</p>\n"},{"tags":["java","spring-boot","spring-validator"],"answers":[{"comments":[{"owner":{"account_id":20852182,"reputation":43,"user_id":15316465,"display_name":"Sebasti&#225;n Villegas"},"score":0,"creation_date":1631137829,"post_id":69109909,"comment_id":122145871,"body_markdown":"I dont really know what happened, but I rebooted my pc and now it works... (Im not kidding) Maybe something about cache or kinda. Ty for the answer tho!","body":"I dont really know what happened, but I rebooted my pc and now it works... (Im not kidding) Maybe something about cache or kinda. Ty for the answer tho!"},{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":1,"creation_date":1631154404,"post_id":69109909,"comment_id":122148495,"body_markdown":"If you are using `Intellij` these thing can happens. Try `File` -&gt; `Invalidate Caches / Restart` when something odd happens. Cheers!","body":"If you are using <code>Intellij</code> these thing can happens. Try <code>File</code> -&gt; <code>Invalidate Caches &#47; Restart</code> when something odd happens. Cheers!"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1655301915,"post_id":69109909,"comment_id":128300591,"body_markdown":"samething hapened to me. i spent hours in investing . i had to just restart my eclipse","body":"samething hapened to me. i spent hours in investing . i had to just restart my eclipse"}],"tags":[],"owner":{"account_id":18486918,"reputation":71,"user_id":13467644,"display_name":"Wilson Tineo Moronta"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1631136831,"creation_date":1631136831,"answer_id":69109909,"question_id":69109623,"body_markdown":"Hello @Sebasti&#225;n Villegas, I downloaded your project from GitHub and proved it with the request that you added above and the program is doing the corresponding validation (result that I obtained bellow): \r\n```\r\n{\r\n    &quot;name&quot;: &quot;MethodArgumentNotValidException&quot;,\r\n    &quot;description&quot;: &quot;Minimum 2 letters, max 50&quot;\r\n}\r\n```\r\n\r\nRebuild your project. If you are using IntelliJ IDEA as your IDE, in the menu go to ***Build -&gt; Rebuild Project***","title":"spring boot starter validation simply not working","body":"<p>Hello @Sebastián Villegas, I downloaded your project from GitHub and proved it with the request that you added above and the program is doing the corresponding validation (result that I obtained bellow):</p>\n<pre><code>{\n    &quot;name&quot;: &quot;MethodArgumentNotValidException&quot;,\n    &quot;description&quot;: &quot;Minimum 2 letters, max 50&quot;\n}\n</code></pre>\n<p>Rebuild your project. If you are using IntelliJ IDEA as your IDE, in the menu go to <em><strong>Build -&gt; Rebuild Project</strong></em></p>\n"},{"tags":[],"owner":{"account_id":12387567,"reputation":67,"user_id":9030570,"display_name":"Jewel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667879056,"creation_date":1667879056,"answer_id":74355471,"question_id":69109623,"body_markdown":"**Don&#39;t need any extra dependency if you added `spring-boot-starter-web` the dependency in the pom.xml file.**\r\n\r\nCreate an exception class, annotated with `@ControllerAdvice`\r\n\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;List&lt;String&gt;&gt; processUnmergeException(final MethodArgumentNotValidException ex) {\r\n\r\n        List&lt;String&gt; list = ex.getBindingResult().getAllErrors().stream()\r\n                .map(DefaultMessageSourceResolvable::getDefaultMessage)\r\n                .collect(Collectors.toList());\r\n\r\n        return new ResponseEntity&lt;&gt;(list, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\nAlmost done, make sure `@valid` annotation is added to the controller method, like\r\n\r\n    public ResponseEntity&lt;ReservationResponseDto&gt; create(@Valid @RequestBody ReservationCreateDto reservationCreateDto) {\r\n        log.info(&quot;Creating a reservation by consumerId:{} in:{}&quot;,\r\n                reservationCreateDto.getConsumerId(),\r\n                reservationCreateDto.getReservationStartAt());\r\n        return new ResponseEntity&lt;&gt;(reservationService.save(reservationCreateDto), HttpStatus.CREATED);\r\n    }\r\n\r\nYour DTO class should be like this:\r\n\r\n    public class ReservationCreateDto {\r\n    \r\n    -------\r\n    -------\r\n    @NotNull(message = &quot;staff id can&#39;t be null&quot;)\r\n    @Min(value = 1, message = &quot;staff id can&#39;t equal or less than 0&quot;)\r\n    private long staffId;\r\n    -------\r\n    -------\r\n\r\nOutput: you get the output looks like this:\r\n\r\n    [\r\n    &quot;staff id can&#39;t be less than or equal 0&quot;\r\n    ]","title":"spring boot starter validation simply not working","body":"<p><strong>Don't need any extra dependency if you added <code>spring-boot-starter-web</code> the dependency in the pom.xml file.</strong></p>\n<p>Create an exception class, annotated with <code>@ControllerAdvice</code></p>\n<pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\n@ResponseBody\npublic ResponseEntity&lt;List&lt;String&gt;&gt; processUnmergeException(final MethodArgumentNotValidException ex) {\n\n    List&lt;String&gt; list = ex.getBindingResult().getAllErrors().stream()\n            .map(DefaultMessageSourceResolvable::getDefaultMessage)\n            .collect(Collectors.toList());\n\n    return new ResponseEntity&lt;&gt;(list, HttpStatus.BAD_REQUEST);\n}\n</code></pre>\n<p>Almost done, make sure <code>@valid</code> annotation is added to the controller method, like</p>\n<pre><code>public ResponseEntity&lt;ReservationResponseDto&gt; create(@Valid @RequestBody ReservationCreateDto reservationCreateDto) {\n    log.info(&quot;Creating a reservation by consumerId:{} in:{}&quot;,\n            reservationCreateDto.getConsumerId(),\n            reservationCreateDto.getReservationStartAt());\n    return new ResponseEntity&lt;&gt;(reservationService.save(reservationCreateDto), HttpStatus.CREATED);\n}\n</code></pre>\n<p>Your DTO class should be like this:</p>\n<pre><code>public class ReservationCreateDto {\n\n-------\n-------\n@NotNull(message = &quot;staff id can't be null&quot;)\n@Min(value = 1, message = &quot;staff id can't equal or less than 0&quot;)\nprivate long staffId;\n-------\n-------\n</code></pre>\n<p>Output: you get the output looks like this:</p>\n<pre><code>[\n&quot;staff id can't be less than or equal 0&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":20852182,"reputation":43,"user_id":15316465,"display_name":"Sebasti&#225;n Villegas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7776,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69109909,"answer_count":2,"score":4,"last_activity_date":1667879056,"creation_date":1631134871,"question_id":69109623,"body_markdown":"## Problem: ## \r\n\r\nI need to validate some json inputs and outputs in my Spring API, I&#39;m trying to use spring boot starter validation (Already know that is not into spring-boot-starter-web, so I added it manually) but it never throws the exception when something is bad based on the validations in the DTO class (MethodArgumentNotValidException)\r\n\r\nComplete project can be fonud on [github][1] \r\n\r\nWhat I&#39;ve tried:\r\n\r\n1. I tried adding this 3 dependencies:\r\n\r\n    ```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ```\r\n\r\n    And is not working, I&#39;m able to send incorrect values without throwing the exception\r\n    \r\n    P.S. I already know that spring boot starter validation is not into spring-boot-starter-web, so I added it manually\r\n    ```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    ```\r\n    \r\n    If I try to use spring-boot-starter-validation without the validation-api (from javax) it directly says that some methods do not exists (Like @Valid or @Max or @Min)\r\n\r\n2. Already Rebuild project\r\n3. Already clean maven repository and installed again\r\n\r\n ## What I have: ## \r\n\r\n**DTOs**:\r\n```java\r\nimport lombok.*;\r\n\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.*;\r\nimport java.util.List;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class StudentDTO {\r\n    @NotEmpty(message = &quot;Username cant be empty&quot;)\r\n    @Size(min = 2, max = 50, message = &quot;Minimum 2 letters, max 50&quot;)\r\n    String studentName;\r\n    String message;\r\n    Double averageScore;\r\n    List&lt;@Valid SubjectDTO&gt; subjects;\r\n}\r\n ```\r\n ```java\r\nimport lombok.*;\r\n\r\nimport javax.validation.constraints.*;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SubjectDTO {\r\n    @NotEmpty(message = &quot;Subject name cant be empty&quot;)\r\n    @Size(max = 30, message = &quot;Max 30 letters&quot;)\r\n    @Pattern(regexp = &quot;[A-Z](\\\\p{L}||\\\\s)+&quot;, message = &quot;Name should start with capital letter&quot;)\r\n    String name;\r\n    @Max(value = 10, message = &quot;Max grade is 10.0&quot;)\r\n    @Min(value = 0, message = &quot;Min grade is 0.0&quot;)\r\n    Double score;\r\n}\r\n\r\n ```\r\n\r\n ```java\r\nimport lombok.*;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ErrorDTO {\r\n    private String name;\r\n    private String description;\r\n}\r\n ```\r\n\r\n**Rest controller**:\r\n ```java\r\nimport com.practicastesting.diploma.dto.StudentDTO;\r\nimport com.practicastesting.diploma.service.IObtenerDiplomaService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\npublic class ObtenerDiplomaController {\r\n    @Autowired\r\n    IObtenerDiplomaService service;\r\n\r\n    @PostMapping(&quot;/analyzeScores&quot;)\r\n    public ResponseEntity&lt;StudentDTO&gt; analyzeScores(@RequestBody @Valid StudentDTO rq) {\r\n        return new ResponseEntity&lt;StudentDTO&gt;(service.analyzeScores(rq), HttpStatus.OK);\r\n    }\r\n}\r\n ```\r\n\r\n**Exception controller**:\r\n\r\n ```java\r\nimport com.practicastesting.diploma.dto.ErrorDTO;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.converter.HttpMessageNotReadableException;\r\nimport org.springframework.web.bind.MethodArgumentNotValidException;\r\nimport org.springframework.web.bind.annotation.ControllerAdvice;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\nimport java.util.Objects;\r\n\r\n@ControllerAdvice\r\npublic class ExceptionController {\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    @ResponseBody\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    protected ResponseEntity&lt;ErrorDTO&gt; handleValidationExceptions(MethodArgumentNotValidException e) {\r\n        ErrorDTO error = new ErrorDTO(&quot;MethodArgumentNotValidException&quot;, Objects.requireNonNull(e.getBindingResult().getFieldError()).getDefaultMessage());\r\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n}\r\n\r\n ```\r\n\r\n&lt;b&gt;Well, with that, when I try to send some json like:&lt;/b&gt;\r\n ```json\r\n{\r\n    &quot;studentName&quot;: &quot;a&quot;,\r\n\t&quot;subjects&quot;: \r\n\t\t[\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;Math&quot;,\r\n\t\t\t\t&quot;score&quot;: 115\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;Whatever&quot;,\r\n\t\t\t\t&quot;score&quot;: 7\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;Chemistry&quot;,\r\n\t\t\t\t&quot;score&quot;: 6\r\n\t\t\t}\r\n\t\t]\r\n}\r\n\r\n ```\r\n\r\nIt should give me an error, telling me the message of each of the validations that are defined into the DTO, but is not giving me any error or exception, it just save it into the repository, and working normally. \r\n\r\n\r\n## More details:\r\nI&#39;m using:\r\n\r\n - Spring boot 2.5.4\r\n - Java 11\r\n\r\nmy pom.xml looks like this:\r\n\r\n ```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.practicastesting&lt;/groupId&gt;\r\n    &lt;artifactId&gt;diploma&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;diploma&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.13.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n ```\r\n\r\n\r\n**If u need more details just ask, ill give them all**\r\n\r\n\r\n  [1]: https://github.com/sebasvil20/spring-validating","title":"spring boot starter validation simply not working","body":"<h2>Problem:</h2>\n<p>I need to validate some json inputs and outputs in my Spring API, I'm trying to use spring boot starter validation (Already know that is not into spring-boot-starter-web, so I added it manually) but it never throws the exception when something is bad based on the validations in the DTO class (MethodArgumentNotValidException)</p>\n<p>Complete project can be fonud on <a href=\"https://github.com/sebasvil20/spring-validating\" rel=\"nofollow noreferrer\">github</a></p>\n<p>What I've tried:</p>\n<ol>\n<li><p>I tried adding this 3 dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.13.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And is not working, I'm able to send incorrect values without throwing the exception</p>\n<p>P.S. I already know that spring boot starter validation is not into spring-boot-starter-web, so I added it manually</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I try to use spring-boot-starter-validation without the validation-api (from javax) it directly says that some methods do not exists (Like @Valid or @Max or @Min)</p>\n</li>\n<li><p>Already Rebuild project</p>\n</li>\n<li><p>Already clean maven repository and installed again</p>\n</li>\n</ol>\n<h2>What I have:</h2>\n<p><strong>DTOs</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.*;\nimport java.util.List;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StudentDTO {\n    @NotEmpty(message = &quot;Username cant be empty&quot;)\n    @Size(min = 2, max = 50, message = &quot;Minimum 2 letters, max 50&quot;)\n    String studentName;\n    String message;\n    Double averageScore;\n    List&lt;@Valid SubjectDTO&gt; subjects;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\nimport javax.validation.constraints.*;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SubjectDTO {\n   @NotEmpty(message = &quot;Subject name cant be empty&quot;)\n   @Size(max = 30, message = &quot;Max 30 letters&quot;)\n   @Pattern(regexp = &quot;[A-Z](\\\\p{L}||\\\\s)+&quot;, message = &quot;Name should start with capital letter&quot;)\n   String name;\n   @Max(value = 10, message = &quot;Max grade is 10.0&quot;)\n   @Min(value = 0, message = &quot;Min grade is 0.0&quot;)\n   Double score;\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ErrorDTO {\n   private String name;\n   private String description;\n}\n</code></pre>\n<p><strong>Rest controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.practicastesting.diploma.dto.StudentDTO;\nimport com.practicastesting.diploma.service.IObtenerDiplomaService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@RestController\npublic class ObtenerDiplomaController {\n   @Autowired\n   IObtenerDiplomaService service;\n\n   @PostMapping(&quot;/analyzeScores&quot;)\n   public ResponseEntity&lt;StudentDTO&gt; analyzeScores(@RequestBody @Valid StudentDTO rq) {\n       return new ResponseEntity&lt;StudentDTO&gt;(service.analyzeScores(rq), HttpStatus.OK);\n   }\n}\n</code></pre>\n<p><strong>Exception controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.practicastesting.diploma.dto.ErrorDTO;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageNotReadableException;\nimport org.springframework.web.bind.MethodArgumentNotValidException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\nimport java.util.Objects;\n\n@ControllerAdvice\npublic class ExceptionController {\n   @ExceptionHandler(MethodArgumentNotValidException.class)\n   @ResponseBody\n   @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n   protected ResponseEntity&lt;ErrorDTO&gt; handleValidationExceptions(MethodArgumentNotValidException e) {\n       ErrorDTO error = new ErrorDTO(&quot;MethodArgumentNotValidException&quot;, Objects.requireNonNull(e.getBindingResult().getFieldError()).getDefaultMessage());\n       return new ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);\n   }\n\n}\n\n</code></pre>\n<p><b>Well, with that, when I try to send some json like:</b></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;studentName&quot;: &quot;a&quot;,\n   &quot;subjects&quot;: \n       [\n           {\n               &quot;name&quot;: &quot;Math&quot;,\n               &quot;score&quot;: 115\n           },\n           {\n               &quot;name&quot;: &quot;Whatever&quot;,\n               &quot;score&quot;: 7\n           },\n           {\n               &quot;name&quot;: &quot;Chemistry&quot;,\n               &quot;score&quot;: 6\n           }\n       ]\n}\n\n</code></pre>\n<p>It should give me an error, telling me the message of each of the validations that are defined into the DTO, but is not giving me any error or exception, it just save it into the repository, and working normally.</p>\n<h2>More details:</h2>\n<p>I'm using:</p>\n<ul>\n<li>Spring boot 2.5.4</li>\n<li>Java 11</li>\n</ul>\n<p>my pom.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n       &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n       &lt;version&gt;2.5.4&lt;/version&gt;\n       &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.practicastesting&lt;/groupId&gt;\n   &lt;artifactId&gt;diploma&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;diploma&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n       &lt;java.version&gt;11&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n           &lt;version&gt;2.4.2&lt;/version&gt;\n       &lt;/dependency&gt;\n\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n           &lt;scope&gt;runtime&lt;/scope&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n           &lt;optional&gt;true&lt;/optional&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n           &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n           &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n           &lt;version&gt;2.0.1.Final&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n           &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n           &lt;version&gt;6.0.13.Final&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n           &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n           &lt;version&gt;3.0.0&lt;/version&gt;\n       &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n       &lt;plugins&gt;\n           &lt;plugin&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n               &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n               &lt;configuration&gt;\n                   &lt;excludes&gt;\n                       &lt;exclude&gt;\n                           &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                           &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                       &lt;/exclude&gt;\n                   &lt;/excludes&gt;\n               &lt;/configuration&gt;\n           &lt;/plugin&gt;\n       &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>If u need more details just ask, ill give them all</strong></p>\n"},{"tags":["java","spring","postgresql","spring-data-jpa","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":26811902,"reputation":103,"user_id":20402396,"display_name":"Stephen Flavin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667878327,"creation_date":1667878327,"answer_id":74355406,"question_id":74205883,"body_markdown":"I&#39;m not familiar with gradle but I&#39;m guessing the version of `org.postgresql:postgresql` you specified is incompatible.\r\n\r\nIf you have a look at your dependency tree you may find multiple versions are being pulled in under sub dependencies or you might just need to bump `org.postgresql:postgresql` to a newer version. ","title":"Spring application fails on PostgeSQL connection: Error creating bean with name &#39;entityManagerFactory&#39; Caused by: java.lang.ClassNotFoundException","body":"<p>I'm not familiar with gradle but I'm guessing the version of <code>org.postgresql:postgresql</code> you specified is incompatible.</p>\n<p>If you have a look at your dependency tree you may find multiple versions are being pulled in under sub dependencies or you might just need to bump <code>org.postgresql:postgresql</code> to a newer version.</p>\n"}],"owner":{"account_id":12929968,"reputation":1,"user_id":18035444,"display_name":"Nikita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667878327,"creation_date":1666778477,"question_id":74205883,"body_markdown":"Please help me to fix the problem, I&#39;ve checked all similar questions but didn&#39;t find the correct answer.\r\n\r\n**Log:**\r\n\r\n```\r\n2022-10-26 12:40:04.091  INFO 12152 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-10-26 12:40:04.135 ERROR 12152 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/postgresql/shaded/com/ongres/scram/client/ScramClient$ChannelBinding\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.example.homepharmacy.HomePharmacyApplication.main(HomePharmacyApplication.java:10) ~[main/:na]\r\nCaused by: java.lang.NoClassDefFoundError: org/postgresql/shaded/com/ongres/scram/client/ScramClient$ChannelBinding\r\n\tat org.postgresql.jre8.sasl.ScramAuthenticator.processServerMechanismsAndInit(ScramAuthenticator.java:74) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:621) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:452) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat org.postgresql.Driver.connect(Driver.java:254) ~[postgresql-42.2.0.jar:42.2.0]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.postgresql.shaded.com.ongres.scram.client.ScramClient$ChannelBinding\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 53 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n**Application class:**\r\n\r\n```\r\npackage com.example.homepharmacy;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class HomePharmacyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(HomePharmacyApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Service:**\r\n\r\n```\r\n@Service\r\npublic class PharmacyService {\r\n\r\n    private final PharmacyRepository pharmacyRepository;\r\n\r\n    @Autowired\r\n    public PharmacyService(PharmacyRepository pharmacyRepository) {\r\n        this.pharmacyRepository = pharmacyRepository;\r\n    }\r\n\r\n    public Drug findDrugById(Long id) {\r\n        return pharmacyRepository.findById(id)\r\n                .orElseThrow(() -&gt;\r\n                        new DrugNotFoundException(&quot;Drug not found by id = &quot; + id));\r\n    }\r\n\r\n    public Drug save(Drug drug) {\r\n        return pharmacyRepository.save(drug);\r\n    }\r\n\r\n    public void deleteDrugById(Long id) {\r\n        pharmacyRepository.deleteById(id);\r\n    }\r\n}\r\n```\r\n\r\n**Repo:**\r\n\r\n```\r\n@Repository\r\npublic interface PharmacyRepository extends CrudRepository&lt;Drug, Long&gt; {\r\n\r\n    List&lt;Drug&gt; findAllByNameContainingIgnoreCase(String name);\r\n}\r\n```\r\n\r\n**Controller:**\r\n\r\n```\r\n@RestController\r\npublic class PharmacyController {\r\n\r\n    private final PharmacyRepository pharmacyRepository;\r\n\r\n    @Autowired\r\n    public PharmacyController(PharmacyRepository pharmacyRepository) {\r\n        this.pharmacyRepository = pharmacyRepository;\r\n    }\r\n\r\n    @PostMapping(&quot;/api/drug/new&quot;)\r\n    public ReturnId postDrug(@RequestBody @Valid Drug drug) {\r\n        pharmacyRepository.save(drug);\r\n        return new ReturnId(drug.getId());\r\n    }\r\n}\r\n```\r\n\r\n**entity:**\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;drugs&quot;)\r\n@NoArgsConstructor\r\npublic class Drug {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;manufacturer&quot;)\r\n    private String manufacturer;\r\n\r\n    @Column(name = &quot;pharmaceutical_form&quot;)\r\n    private String pharmaceuticalForm;\r\n\r\n    @Column(name = &quot;dosage&quot;)\r\n    private String dosage;\r\n\r\n    @Column(name = &quot;quantity&quot;)\r\n    private String quantity;\r\n\r\n    @Column(name = &quot;units_of_measure&quot;)\r\n    private String unitsOfMeasure;\r\n\r\n    @Column(name = &quot;expired_date&quot;)\r\n    private LocalDate expiredDate;\r\n}\r\n```\r\n\r\n**build.gradle dependencies:**\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    implementation &#39;org.postgresql:postgresql:42.2.0&#39;\r\n\r\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.3.1&#39;\r\n}\r\n```\r\n\r\n**application.properties:**\r\n\r\n```\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres (also was /home-pharmacy)\r\nspring.datasource.username=postgres\r\nspring.datasource.password=\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL15Dialect\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.database=postgresql\r\n```\r\n\r\nDB structure:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/FhGSu.png)](https://i.stack.imgur.com/FhGSu.png)\r\n\r\nI think the problem is with the connection to DB. May be I&#39;m using wrong URL, but I&#39;ve tried to change a lot of times.","title":"Spring application fails on PostgeSQL connection: Error creating bean with name &#39;entityManagerFactory&#39; Caused by: java.lang.ClassNotFoundException","body":"<p>Please help me to fix the problem, I've checked all similar questions but didn't find the correct answer.</p>\n<p><strong>Log:</strong></p>\n<pre><code>2022-10-26 12:40:04.091  INFO 12152 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-26 12:40:04.135 ERROR 12152 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/postgresql/shaded/com/ongres/scram/client/ScramClient$ChannelBinding\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.homepharmacy.HomePharmacyApplication.main(HomePharmacyApplication.java:10) ~[main/:na]\nCaused by: java.lang.NoClassDefFoundError: org/postgresql/shaded/com/ongres/scram/client/ScramClient$ChannelBinding\n    at org.postgresql.jre8.sasl.ScramAuthenticator.processServerMechanismsAndInit(ScramAuthenticator.java:74) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:621) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:207) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:195) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.Driver.makeConnection(Driver.java:452) ~[postgresql-42.2.0.jar:42.2.0]\n    at org.postgresql.Driver.connect(Driver.java:254) ~[postgresql-42.2.0.jar:42.2.0]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 16 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.postgresql.shaded.com.ongres.scram.client.ScramClient$ChannelBinding\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 53 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p><strong>Application class:</strong></p>\n<pre><code>package com.example.homepharmacy;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class HomePharmacyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HomePharmacyApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>@Service\npublic class PharmacyService {\n\n    private final PharmacyRepository pharmacyRepository;\n\n    @Autowired\n    public PharmacyService(PharmacyRepository pharmacyRepository) {\n        this.pharmacyRepository = pharmacyRepository;\n    }\n\n    public Drug findDrugById(Long id) {\n        return pharmacyRepository.findById(id)\n                .orElseThrow(() -&gt;\n                        new DrugNotFoundException(&quot;Drug not found by id = &quot; + id));\n    }\n\n    public Drug save(Drug drug) {\n        return pharmacyRepository.save(drug);\n    }\n\n    public void deleteDrugById(Long id) {\n        pharmacyRepository.deleteById(id);\n    }\n}\n</code></pre>\n<p><strong>Repo:</strong></p>\n<pre><code>@Repository\npublic interface PharmacyRepository extends CrudRepository&lt;Drug, Long&gt; {\n\n    List&lt;Drug&gt; findAllByNameContainingIgnoreCase(String name);\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@RestController\npublic class PharmacyController {\n\n    private final PharmacyRepository pharmacyRepository;\n\n    @Autowired\n    public PharmacyController(PharmacyRepository pharmacyRepository) {\n        this.pharmacyRepository = pharmacyRepository;\n    }\n\n    @PostMapping(&quot;/api/drug/new&quot;)\n    public ReturnId postDrug(@RequestBody @Valid Drug drug) {\n        pharmacyRepository.save(drug);\n        return new ReturnId(drug.getId());\n    }\n}\n</code></pre>\n<p><strong>entity:</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;drugs&quot;)\n@NoArgsConstructor\npublic class Drug {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @NotBlank\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;manufacturer&quot;)\n    private String manufacturer;\n\n    @Column(name = &quot;pharmaceutical_form&quot;)\n    private String pharmaceuticalForm;\n\n    @Column(name = &quot;dosage&quot;)\n    private String dosage;\n\n    @Column(name = &quot;quantity&quot;)\n    private String quantity;\n\n    @Column(name = &quot;units_of_measure&quot;)\n    private String unitsOfMeasure;\n\n    @Column(name = &quot;expired_date&quot;)\n    private LocalDate expiredDate;\n}\n</code></pre>\n<p><strong>build.gradle dependencies:</strong></p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    implementation 'org.postgresql:postgresql:42.2.0'\n\n    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api\n    implementation 'javax.xml.bind:jaxb-api:2.3.1'\n}\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.driverClassName=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres (also was /home-pharmacy)\nspring.datasource.username=postgres\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL15Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.database=postgresql\n</code></pre>\n<p>DB structure:</p>\n<p><a href=\"https://i.stack.imgur.com/FhGSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhGSu.png\" alt=\"enter image description here\" /></a></p>\n<p>I think the problem is with the connection to DB. May be I'm using wrong URL, but I've tried to change a lot of times.</p>\n"},{"tags":["java","json","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1667875433,"post_id":74355157,"comment_id":131266867,"body_markdown":"Share your code please.","body":"Share your code please."}],"answers":[{"comments":[{"owner":{"account_id":3643372,"reputation":11,"user_id":3037003,"display_name":"nehamansha"},"score":0,"creation_date":1667923048,"post_id":74355286,"comment_id":131281184,"body_markdown":"Thanks I was able to solve it using mapping.","body":"Thanks I was able to solve it using mapping."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667876941,"creation_date":1667876941,"answer_id":74355286,"question_id":74355157,"body_markdown":"I would start off by grouping to a map:\r\n\r\n    Map&lt;Long&gt; grouped = responses.stream()\r\n            .collect(groupingBy(Response::getId,\r\n                    mapping(r -&gt; new SubData(r.getSData(), r.getSName()), toList())));\r\n\r\nThen you can stream the Map entries to convert them to `NewResponse`s:\r\n\r\n    List&lt;NewResponse&gt; mapped = grouped.entrySet()\r\n            .stream()\r\n            .map(e -&gt; new NewResponse(e.getKey(), e.getValue()))\r\n            .collect(toList());\r\n\r\nFeel free to chain the operations if you don&#39;t want the extra `grouped` variable.","title":"Group by and reduce to a json list","body":"<p>I would start off by grouping to a map:</p>\n<pre><code>Map&lt;Long&gt; grouped = responses.stream()\n        .collect(groupingBy(Response::getId,\n                mapping(r -&gt; new SubData(r.getSData(), r.getSName()), toList())));\n</code></pre>\n<p>Then you can stream the Map entries to convert them to <code>NewResponse</code>s:</p>\n<pre><code>List&lt;NewResponse&gt; mapped = grouped.entrySet()\n        .stream()\n        .map(e -&gt; new NewResponse(e.getKey(), e.getValue()))\n        .collect(toList());\n</code></pre>\n<p>Feel free to chain the operations if you don't want the extra <code>grouped</code> variable.</p>\n"}],"owner":{"account_id":3643372,"reputation":11,"user_id":3037003,"display_name":"nehamansha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74355286,"answer_count":1,"score":-1,"last_activity_date":1667876941,"creation_date":1667875362,"question_id":74355157,"body_markdown":"Hi have native sql query which returns List interface class with 3 fields \r\n\r\nTrying to find a clean efficient way to do this to reduce to sub-list\r\n\r\nAppreciate help\r\n\r\nThanks\r\n\r\n**SQL query**\r\nList &lt;Response&gt; findResponse();\r\n\r\n**Response class**\r\n\r\n    public interface Response {\r\n        Long getId();\r\n    \r\n        String getSData();\r\n    \r\n        String getSName();\r\n    }\r\n\r\n**The query result converted to json looks as** \r\n\r\n    [\r\n    {&quot;id&quot;:1,&quot;sData&quot;:&quot;UK,FR&quot;,&quot;sName&quot;:&quot;X},\r\n    {&quot;id&quot;:2,&quot;sData&quot;:&quot;UK,FR&quot;,&quot;sName&quot;:&quot;Y&quot;},\r\n    {&quot;id&quot;:4,&quot;sData&quot;:&quot;EU&quot;,&quot;sName&quot;:&quot;X&quot;},\r\n    {&quot;id&quot;:4,&quot;sData&quot;:&quot;Others&quot;,&quot;sName&quot;:&quot;O&quot;}\r\n    ]\r\n\r\n**Expected Output For ex for id=4**\r\n\r\n    {\r\n        “subData” :\r\n              [\r\n                  {\r\n                     “sData”: “X”,\r\n                     “sName”: “EU”\r\n                  },\r\n                  {\r\n                     &quot;sName&quot;: &quot;O&quot;,\r\n                     &quot;sData&quot;: &quot;Others&quot;\r\n                  }\r\n              ]\r\n        }\r\n\r\nI can create another class if needed\r\n\r\n    @Data\r\n    public class NewResponse {\r\n    \r\n        public Long id;\r\n        public List&lt;subData&gt; subDataList;\r\n    }\r\n\r\n","title":"Group by and reduce to a json list","body":"<p>Hi have native sql query which returns List interface class with 3 fields</p>\n<p>Trying to find a clean efficient way to do this to reduce to sub-list</p>\n<p>Appreciate help</p>\n<p>Thanks</p>\n<p><strong>SQL query</strong>\nList  findResponse();</p>\n<p><strong>Response class</strong></p>\n<pre><code>public interface Response {\n    Long getId();\n\n    String getSData();\n\n    String getSName();\n}\n</code></pre>\n<p><strong>The query result converted to json looks as</strong></p>\n<pre><code>[\n{&quot;id&quot;:1,&quot;sData&quot;:&quot;UK,FR&quot;,&quot;sName&quot;:&quot;X},\n{&quot;id&quot;:2,&quot;sData&quot;:&quot;UK,FR&quot;,&quot;sName&quot;:&quot;Y&quot;},\n{&quot;id&quot;:4,&quot;sData&quot;:&quot;EU&quot;,&quot;sName&quot;:&quot;X&quot;},\n{&quot;id&quot;:4,&quot;sData&quot;:&quot;Others&quot;,&quot;sName&quot;:&quot;O&quot;}\n]\n</code></pre>\n<p><strong>Expected Output For ex for id=4</strong></p>\n<pre><code>{\n    “subData” :\n          [\n              {\n                 “sData”: “X”,\n                 “sName”: “EU”\n              },\n              {\n                 &quot;sName&quot;: &quot;O&quot;,\n                 &quot;sData&quot;: &quot;Others&quot;\n              }\n          ]\n    }\n</code></pre>\n<p>I can create another class if needed</p>\n<pre><code>@Data\npublic class NewResponse {\n\n    public Long id;\n    public List&lt;subData&gt; subDataList;\n}\n</code></pre>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667883089,"post_id":74355089,"comment_id":131267824,"body_markdown":"This is way too much, please trim it down to an [mcve](https://stackoverflow.com/help/minimal-reproducible-example).","body":"This is way too much, please trim it down to an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mcve</a>."}],"answers":[{"comments":[{"owner":{"account_id":18602827,"reputation":123,"user_id":13557241,"display_name":"Anthony Seager"},"score":0,"creation_date":1667876308,"post_id":74355195,"comment_id":131267028,"body_markdown":"I just changed the code to flush the outputstream after every write, but the issue still persists.","body":"I just changed the code to flush the outputstream after every write, but the issue still persists."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667875861,"creation_date":1667875861,"answer_id":74355195,"question_id":74355089,"body_markdown":"You neither `flush()` nor `close()` the outputstream after writing an object to it, which means it&#39;s likely still on the server&#39;s memory, waiting for some more stuff to come along before sending it. TCP/IP has overhead; sending every byte one at a time is incredibly inefficient, hence why the notion of flushing exists.","title":"Java Sockets. Hanging on ObjectInputStream()","body":"<p>You neither <code>flush()</code> nor <code>close()</code> the outputstream after writing an object to it, which means it's likely still on the server's memory, waiting for some more stuff to come along before sending it. TCP/IP has overhead; sending every byte one at a time is incredibly inefficient, hence why the notion of flushing exists.</p>\n"}],"owner":{"account_id":18602827,"reputation":123,"user_id":13557241,"display_name":"Anthony Seager"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667875861,"creation_date":1667874650,"question_id":74355089,"body_markdown":"I&#39;m currently writing a P2P application with a paxos consensus algorithm using java sockets and have come across an issue where my program seems to hang on ObjectOutputStream().\r\n\r\nEach member in the P2P network has a List&lt;Socket&gt; for all outgoing connections, as well as a server thread to handle incoming connections. This server thread then has a serversocket, which spawns a handler thread for every incoming socket that is accepted.\r\n\r\nFirstly, here is my Member class. The key functions here are ```sendProposalToAll()``` and ```sendResponse()```.\r\n\r\n```\r\n/**\r\n * Represents a member in the P2P member network\r\n */\r\npublic class Member {\r\n\r\n    private Integer portNumber;\r\n    private String memberName;\r\n\r\n    private List&lt;Socket&gt; clientSockets = new ArrayList&lt;Socket&gt;();\r\n    private MemberServerThread serverThread;\r\n\r\n    /**\r\n     * Constructs the member with given portnumber\r\n     * Spawns thread for the member and initialises all client sockets\r\n     * \r\n     * @param memberName the name of the member\r\n     * @param portNumber the port number for the member to use for it&#39;s client and\r\n     *                   server sockets\r\n     * @throws IOException if an I/O error occurs when creating a client socket or\r\n     *                     opening the server socket\r\n     */\r\n    public Member(String memberName, Integer portNumber) throws IOException {\r\n\r\n        this.memberName = memberName;\r\n        this.portNumber = portNumber;\r\n\r\n        // initialise clients\r\n        for (Integer port : MemberNetwork.getOtherMemberPorts(portNumber)) {\r\n            clientSockets.add(new Socket(&quot;localhost&quot;, port));\r\n        }\r\n\r\n        // initialise server\r\n        serverThread = new MemberServerThread(portNumber);\r\n        serverThread.start();\r\n    }\r\n\r\n    /**\r\n     * Creates a new socket connection to the new member of the P2P network\r\n     * \r\n     * @param newMemberPort the port of the new member added to the P2P network\r\n     * @throws UnknownHostException if the IP address of the host could not be\r\n     *                              determined\r\n     * @throws IOException          if an I/O error occurs when creating the socket\r\n     */\r\n    private void addNewMember(Integer newMemberPort) throws UnknownHostException, IOException {\r\n        clientSockets.add(new Socket(&quot;localhost&quot;, newMemberPort));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @return the member name\r\n     */\r\n    public String getMemberName() {\r\n        return memberName;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @return the member port number\r\n     */\r\n    public Integer getPortNumber() {\r\n        return portNumber;\r\n    }\r\n\r\n    /**\r\n     * Creates a new socket connection to the new member of the P2P network\r\n     * \r\n     * @param newMemberPort the port of the new member added to the P2P network\r\n     * @throws UnknownHostException if the IP address of the host could not be\r\n     *                              determined\r\n     * @throws IOException          if an I/O error occurs when creating the socket\r\n     */\r\n    public void createNewClientSocket(Integer newMemberPort) throws UnknownHostException, IOException {\r\n        addNewMember(newMemberPort);\r\n    }\r\n\r\n    /**\r\n     * Invokes the client thread to send the proposal to all other members of the\r\n     * P2P network\r\n     * \r\n     * @param proposal the proposal to send to the other members on the P2P network\r\n     * @throws IOException if an I/O error occurs when creating the output stream or\r\n     *                     if the socket is not connected or if an I/O error occurs\r\n     *                     while writing stream header\r\n     */\r\n    public void sendProposalToAll(PropositionType type, String proposedMember) throws IOException {\r\n\r\n        Proposal proposal = new Proposal(portNumber, type, proposedMember);\r\n\r\n        for (Socket socket : clientSockets) {\r\n\r\n            // create object output stream from the socket\r\n            OutputStream outputStream = socket.getOutputStream();\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\r\n            objectOutputStream.flush();\r\n\r\n            // send the proposal\r\n            System.out.println(\r\n                    &quot;Sending proposal to &quot; + MemberNetwork.getMemberByPortNumber(socket.getPort()).getMemberName());\r\n            objectOutputStream.writeObject(proposal);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Invokes the client thread to send the response to the desired member of the\r\n     * P2P network\r\n     * \r\n     * @param type       the type of response\r\n     * @param proposalId the proposal Id that the response refers to\r\n     * @param memberName the name of the member that the response is targetting\r\n     * @throws IOException     if an I/O error occurs when creating the output\r\n     *                         stream or if the socket is not connected or if an I/O\r\n     *                         error occurs while writing stream header\r\n     * @throws SocketException if the specified destination port does not match any\r\n     *                         server socket\r\n     */\r\n    public void sendReponse(ResponseType type, int proposalId, String memberName) throws SocketException, IOException {\r\n\r\n        Response response = new Response(type, proposalId, portNumber,\r\n                MemberNetwork.getMemberByName(memberName).getPortNumber());\r\n\r\n        // find socket with required destination port\r\n        Socket socket = clientSockets\r\n                .stream()\r\n                .filter(\r\n                        clientSocket -&gt; response\r\n                                .getDestinationPort()\r\n                                .equals(clientSocket.getPort()))\r\n                .findFirst()\r\n                .orElse(null);\r\n\r\n        if (socket == null) {\r\n            throw new SocketException(&quot;Server socket on port: &quot; + response.getDestinationPort() + &quot;does not exist&quot;);\r\n        }\r\n\r\n        // create object output stream from the socket\r\n        OutputStream outputStream = socket.getOutputStream();\r\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\r\n        objectOutputStream.flush();\r\n        outputStream.flush();\r\n\r\n        // send the proposal\r\n        System.out.println(\r\n                &quot;Sending response to &quot; + MemberNetwork.getMemberByPortNumber(socket.getPort()).getMemberName());\r\n        objectOutputStream.writeObject(response);\r\n    }\r\n}\r\n```\r\nNext is the server thread shown below, which simply spawns the handlers\r\n```\r\n/**\r\n * The Member&#39;s Server Thread\r\n * Responsible for handling the member&#39;s server socket and connected clients\r\n */\r\npublic class MemberServerThread extends Thread {\r\n    \r\n    private ServerSocket serverSocket;\r\n\r\n    /**\r\n     * Initialises the member&#39;s server thread by creating\r\n     * a server socket which listens on the given port number\r\n     * \r\n     * @param portNumber the port number for the server to bind to\r\n     * @throws IOException if an I/O error occurs when opening the socket.\r\n     */\r\n    public MemberServerThread(Integer portNumber) throws IOException {\r\n        serverSocket = new ServerSocket(portNumber);\r\n    }\r\n\r\n\r\n    // run the thread\r\n    public void run() {\r\n        \r\n        // connect to peers\r\n        while (true) {\r\n            try {\r\n                new IncomingMemberHandler(serverSocket.accept()).start();\r\n                \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nFinally, the last relevant file is the following, which has had some things removed to showcase the problem.\r\n```\r\n/**\r\n * Handles the individual sockets connected to the member&#39;s server socket\r\n */\r\npublic class IncomingMemberHandler extends Thread {\r\n\r\n    private Socket incomingMember;\r\n\r\n    private Map&lt;Integer, Integer&gt; acceptedPromises = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n    /**\r\n     * Initialises a member handler\r\n     * \r\n     * @param memberSocket the incoming member socket connected to the server\r\n     */\r\n    public IncomingMemberHandler(Socket memberSocket) {\r\n        this.incomingMember = memberSocket;\r\n    }\r\n\r\n    public void run() {\r\n\r\n        try {\r\n\r\n            // create object input stream from the socket\r\n            InputStream inputStream = incomingMember.getInputStream();\r\n            ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n\r\n            Object incomingObject = objectInputStream.readObject();\r\n\r\n            // obtain the proposal\r\n            if (incomingObject.getClass().equals(Proposal.class)) {\r\n\r\n                Proposal incomingProposal = (Proposal) incomingObject;\r\n                int proposalId = incomingProposal.getId();\r\n\r\n                // get proposer port\r\n                Integer proposerPort = incomingMember.getLocalPort();\r\n\r\n                // get the proposer\r\n                Member proposer = MemberNetwork.getMemberByPortNumber(proposerPort);\r\n                String proposerName = proposer.getMemberName();\r\n\r\n                // get the acceptor\r\n                Member acceptor = MemberNetwork.getMemberByPortNumber(incomingProposal.getSourcePort());\r\n                acceptor.sendReponse(ResponseType.PROMISE_ACCEPTED, proposalId, proposerName);\r\n\r\n                System.out.println(&quot;Received &quot; + incomingProposal.getType() + &quot; from &quot; + proposerName);\r\n\r\n                // obtain the response\r\n            } else if (incomingObject.getClass().equals(Response.class)) {\r\n\r\n                Response incomingResponse = (Response) incomingObject;\r\n\r\n                // get the acceptor\r\n                Member acceptor = MemberNetwork.getMemberByPortNumber(incomingResponse.getSourcePort());\r\n                String acceptorName = acceptor.getMemberName();\r\n\r\n                acceptedPromises.merge(incomingResponse.getId(), 1, Integer::sum);\r\n\r\n                System.out.println(&quot;Received &quot; + incomingResponse.getType() + &quot; from &quot; + acceptorName);\r\n\r\n            } else {\r\n                throw new ClassNotFoundException(&quot;Unexpected Class: &quot; + incomingObject.getClass());\r\n            }\r\n\r\n        } catch (IOException | ClassNotFoundException e) {\r\n\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nEverything works as expected, except for when ```sendResponse()``` is hit in ```IncomingMemberHandler```. I&#39;ve tried debugging and have found that it does successfully run the ```sendResponse()``` function, however, once\r\n```\r\nObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n``` \r\nis hit, the program hangs and never continues forward. \r\n\r\nI was hoping someone was able to help me figure out what the issue is, as it&#39;s got me stumped. :( \r\n\r\n","title":"Java Sockets. Hanging on ObjectInputStream()","body":"<p>I'm currently writing a P2P application with a paxos consensus algorithm using java sockets and have come across an issue where my program seems to hang on ObjectOutputStream().</p>\n<p>Each member in the P2P network has a List for all outgoing connections, as well as a server thread to handle incoming connections. This server thread then has a serversocket, which spawns a handler thread for every incoming socket that is accepted.</p>\n<p>Firstly, here is my Member class. The key functions here are <code>sendProposalToAll()</code> and <code>sendResponse()</code>.</p>\n<pre><code>/**\n * Represents a member in the P2P member network\n */\npublic class Member {\n\n    private Integer portNumber;\n    private String memberName;\n\n    private List&lt;Socket&gt; clientSockets = new ArrayList&lt;Socket&gt;();\n    private MemberServerThread serverThread;\n\n    /**\n     * Constructs the member with given portnumber\n     * Spawns thread for the member and initialises all client sockets\n     * \n     * @param memberName the name of the member\n     * @param portNumber the port number for the member to use for it's client and\n     *                   server sockets\n     * @throws IOException if an I/O error occurs when creating a client socket or\n     *                     opening the server socket\n     */\n    public Member(String memberName, Integer portNumber) throws IOException {\n\n        this.memberName = memberName;\n        this.portNumber = portNumber;\n\n        // initialise clients\n        for (Integer port : MemberNetwork.getOtherMemberPorts(portNumber)) {\n            clientSockets.add(new Socket(&quot;localhost&quot;, port));\n        }\n\n        // initialise server\n        serverThread = new MemberServerThread(portNumber);\n        serverThread.start();\n    }\n\n    /**\n     * Creates a new socket connection to the new member of the P2P network\n     * \n     * @param newMemberPort the port of the new member added to the P2P network\n     * @throws UnknownHostException if the IP address of the host could not be\n     *                              determined\n     * @throws IOException          if an I/O error occurs when creating the socket\n     */\n    private void addNewMember(Integer newMemberPort) throws UnknownHostException, IOException {\n        clientSockets.add(new Socket(&quot;localhost&quot;, newMemberPort));\n    }\n\n    /**\n     * \n     * @return the member name\n     */\n    public String getMemberName() {\n        return memberName;\n    }\n\n    /**\n     * \n     * @return the member port number\n     */\n    public Integer getPortNumber() {\n        return portNumber;\n    }\n\n    /**\n     * Creates a new socket connection to the new member of the P2P network\n     * \n     * @param newMemberPort the port of the new member added to the P2P network\n     * @throws UnknownHostException if the IP address of the host could not be\n     *                              determined\n     * @throws IOException          if an I/O error occurs when creating the socket\n     */\n    public void createNewClientSocket(Integer newMemberPort) throws UnknownHostException, IOException {\n        addNewMember(newMemberPort);\n    }\n\n    /**\n     * Invokes the client thread to send the proposal to all other members of the\n     * P2P network\n     * \n     * @param proposal the proposal to send to the other members on the P2P network\n     * @throws IOException if an I/O error occurs when creating the output stream or\n     *                     if the socket is not connected or if an I/O error occurs\n     *                     while writing stream header\n     */\n    public void sendProposalToAll(PropositionType type, String proposedMember) throws IOException {\n\n        Proposal proposal = new Proposal(portNumber, type, proposedMember);\n\n        for (Socket socket : clientSockets) {\n\n            // create object output stream from the socket\n            OutputStream outputStream = socket.getOutputStream();\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\n            objectOutputStream.flush();\n\n            // send the proposal\n            System.out.println(\n                    &quot;Sending proposal to &quot; + MemberNetwork.getMemberByPortNumber(socket.getPort()).getMemberName());\n            objectOutputStream.writeObject(proposal);\n        }\n\n    }\n\n    /**\n     * Invokes the client thread to send the response to the desired member of the\n     * P2P network\n     * \n     * @param type       the type of response\n     * @param proposalId the proposal Id that the response refers to\n     * @param memberName the name of the member that the response is targetting\n     * @throws IOException     if an I/O error occurs when creating the output\n     *                         stream or if the socket is not connected or if an I/O\n     *                         error occurs while writing stream header\n     * @throws SocketException if the specified destination port does not match any\n     *                         server socket\n     */\n    public void sendReponse(ResponseType type, int proposalId, String memberName) throws SocketException, IOException {\n\n        Response response = new Response(type, proposalId, portNumber,\n                MemberNetwork.getMemberByName(memberName).getPortNumber());\n\n        // find socket with required destination port\n        Socket socket = clientSockets\n                .stream()\n                .filter(\n                        clientSocket -&gt; response\n                                .getDestinationPort()\n                                .equals(clientSocket.getPort()))\n                .findFirst()\n                .orElse(null);\n\n        if (socket == null) {\n            throw new SocketException(&quot;Server socket on port: &quot; + response.getDestinationPort() + &quot;does not exist&quot;);\n        }\n\n        // create object output stream from the socket\n        OutputStream outputStream = socket.getOutputStream();\n        ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);\n        objectOutputStream.flush();\n        outputStream.flush();\n\n        // send the proposal\n        System.out.println(\n                &quot;Sending response to &quot; + MemberNetwork.getMemberByPortNumber(socket.getPort()).getMemberName());\n        objectOutputStream.writeObject(response);\n    }\n}\n</code></pre>\n<p>Next is the server thread shown below, which simply spawns the handlers</p>\n<pre><code>/**\n * The Member's Server Thread\n * Responsible for handling the member's server socket and connected clients\n */\npublic class MemberServerThread extends Thread {\n    \n    private ServerSocket serverSocket;\n\n    /**\n     * Initialises the member's server thread by creating\n     * a server socket which listens on the given port number\n     * \n     * @param portNumber the port number for the server to bind to\n     * @throws IOException if an I/O error occurs when opening the socket.\n     */\n    public MemberServerThread(Integer portNumber) throws IOException {\n        serverSocket = new ServerSocket(portNumber);\n    }\n\n\n    // run the thread\n    public void run() {\n        \n        // connect to peers\n        while (true) {\n            try {\n                new IncomingMemberHandler(serverSocket.accept()).start();\n                \n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Finally, the last relevant file is the following, which has had some things removed to showcase the problem.</p>\n<pre><code>/**\n * Handles the individual sockets connected to the member's server socket\n */\npublic class IncomingMemberHandler extends Thread {\n\n    private Socket incomingMember;\n\n    private Map&lt;Integer, Integer&gt; acceptedPromises = new HashMap&lt;Integer, Integer&gt;();\n\n    /**\n     * Initialises a member handler\n     * \n     * @param memberSocket the incoming member socket connected to the server\n     */\n    public IncomingMemberHandler(Socket memberSocket) {\n        this.incomingMember = memberSocket;\n    }\n\n    public void run() {\n\n        try {\n\n            // create object input stream from the socket\n            InputStream inputStream = incomingMember.getInputStream();\n            ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n\n            Object incomingObject = objectInputStream.readObject();\n\n            // obtain the proposal\n            if (incomingObject.getClass().equals(Proposal.class)) {\n\n                Proposal incomingProposal = (Proposal) incomingObject;\n                int proposalId = incomingProposal.getId();\n\n                // get proposer port\n                Integer proposerPort = incomingMember.getLocalPort();\n\n                // get the proposer\n                Member proposer = MemberNetwork.getMemberByPortNumber(proposerPort);\n                String proposerName = proposer.getMemberName();\n\n                // get the acceptor\n                Member acceptor = MemberNetwork.getMemberByPortNumber(incomingProposal.getSourcePort());\n                acceptor.sendReponse(ResponseType.PROMISE_ACCEPTED, proposalId, proposerName);\n\n                System.out.println(&quot;Received &quot; + incomingProposal.getType() + &quot; from &quot; + proposerName);\n\n                // obtain the response\n            } else if (incomingObject.getClass().equals(Response.class)) {\n\n                Response incomingResponse = (Response) incomingObject;\n\n                // get the acceptor\n                Member acceptor = MemberNetwork.getMemberByPortNumber(incomingResponse.getSourcePort());\n                String acceptorName = acceptor.getMemberName();\n\n                acceptedPromises.merge(incomingResponse.getId(), 1, Integer::sum);\n\n                System.out.println(&quot;Received &quot; + incomingResponse.getType() + &quot; from &quot; + acceptorName);\n\n            } else {\n                throw new ClassNotFoundException(&quot;Unexpected Class: &quot; + incomingObject.getClass());\n            }\n\n        } catch (IOException | ClassNotFoundException e) {\n\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>Everything works as expected, except for when <code>sendResponse()</code> is hit in <code>IncomingMemberHandler</code>. I've tried debugging and have found that it does successfully run the <code>sendResponse()</code> function, however, once</p>\n<pre><code>ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n</code></pre>\n<p>is hit, the program hangs and never continues forward.</p>\n<p>I was hoping someone was able to help me figure out what the issue is, as it's got me stumped. :(</p>\n"},{"tags":["java","class","linked-list"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1667875134,"post_id":74355120,"comment_id":131266824,"body_markdown":"Show your code and your error message please. But yes, it sounds like you need to disambiguate your class names, either by renaming yours, or avoiding the JDK&#39;s, or using the fully qualified name (`java.util.LinkedList`).","body":"Show your code and your error message please. But yes, it sounds like you need to disambiguate your class names, either by renaming yours, or avoiding the JDK&#39;s, or using the fully qualified name (<code>java.util.LinkedList</code>)."},{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1667875503,"post_id":74355120,"comment_id":131266875,"body_markdown":"@shmosel Okay, importing the LinkedList class separately worked. I was originally importing (java.util.*).","body":"@shmosel Okay, importing the LinkedList class separately worked. I was originally importing (java.util.*)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1667875649,"post_id":74355120,"comment_id":131266898,"body_markdown":"One thing you could do is move your `LinkedList` implementation to a separate package, and only import it when you need to.  So use `import yourpackage.LinkedList;` when you want your one, and `import java.util.LinkedList` when you want the JDK one.  Also, never use `*` in an `import` statement, because it leads to problems of precisely this kind.","body":"One thing you could do is move your <code>LinkedList</code> implementation to a separate package, and only import it when you need to.  So use <code>import yourpackage.LinkedList;</code> when you want your one, and <code>import java.util.LinkedList</code> when you want the JDK one.  Also, never use <code>*</code> in an <code>import</code> statement, because it leads to problems of precisely this kind."}],"answers":[{"tags":[],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667875667,"creation_date":1667875667,"answer_id":74355187,"question_id":74355120,"body_markdown":"Importing the fully qualified name (`java.util.LinkedList`) on its own instead of (`java.util.*`) did the trick.","title":"Distinguish between my LinkedList implementation and java built in LinkedList class","body":"<p>Importing the fully qualified name (<code>java.util.LinkedList</code>) on its own instead of (<code>java.util.*</code>) did the trick.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667875667,"creation_date":1667874989,"question_id":74355120,"body_markdown":"I have a program (program.java) in a folder that uses the LinkedList class, and uses .get(), .add(), etc. methods. I also have a LinkedList program in that folder that has my own implementation of LinkedLists. When I use one of the built in LinkedList methods (.get(), .add(), etc) in program.java, I get an error saying that these methods cannot be found. This is because it&#39;s looking for these methods in my own LinkedList implementation. \r\n\r\nI know that both my LinkedList implementation and the built in LinkedList class have the same class name, but is this the reason that program.java isn&#39;t finding the built in LinkedList methods? Should I just name my LinkedList implementation a different class name - perhaps LinkedList_me?","title":"Distinguish between my LinkedList implementation and java built in LinkedList class","body":"<p>I have a program (program.java) in a folder that uses the LinkedList class, and uses .get(), .add(), etc. methods. I also have a LinkedList program in that folder that has my own implementation of LinkedLists. When I use one of the built in LinkedList methods (.get(), .add(), etc) in program.java, I get an error saying that these methods cannot be found. This is because it's looking for these methods in my own LinkedList implementation.</p>\n<p>I know that both my LinkedList implementation and the built in LinkedList class have the same class name, but is this the reason that program.java isn't finding the built in LinkedList methods? Should I just name my LinkedList implementation a different class name - perhaps LinkedList_me?</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1667355663,"post_id":74283559,"comment_id":131146346,"body_markdown":"Tried but no luck. I did mvn clean and mvn compile. The problem is the same.","body":"Tried but no luck. I did mvn clean and mvn compile. The problem is the same."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1667356392,"post_id":74283559,"comment_id":131146423,"body_markdown":"Try doing a Maven clean followed by install.  Do this from inside IntelliJ.","body":"Try doing a Maven clean followed by install.  Do this from inside IntelliJ."},{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1667407260,"post_id":74283559,"comment_id":131161382,"body_markdown":"I did IntelliJ -&gt; Build -&gt; Rebuild Project. It did not help.","body":"I did IntelliJ -&gt; Build -&gt; Rebuild Project. It did not help."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667353682,"creation_date":1667353682,"answer_id":74283559,"question_id":74283540,"body_markdown":"This problem usually happens when the latest build is out of sync with the source code.  This can happen if you had changed the source code without rebuilding before you started debugging.  In that case, the line numbers may have changed.\r\n\r\nTo fix this, try doing a full clean and rebuild before you debug.","title":"IntelliJ debugger shows incorrect line number in call stack","body":"<p>This problem usually happens when the latest build is out of sync with the source code.  This can happen if you had changed the source code without rebuilding before you started debugging.  In that case, the line numbers may have changed.</p>\n<p>To fix this, try doing a full clean and rebuild before you debug.</p>\n"},{"tags":[],"owner":{"account_id":23196825,"reputation":11,"user_id":17292339,"display_name":"skittlefiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667355893,"creation_date":1667355893,"answer_id":74283736,"question_id":74283540,"body_markdown":"Try recompiling or rebuilding before running the code again!\r\n","title":"IntelliJ debugger shows incorrect line number in call stack","body":"<p>Try recompiling or rebuilding before running the code again!</p>\n"},{"tags":[],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667875458,"creation_date":1667875458,"answer_id":74355168,"question_id":74283540,"body_markdown":"The problem was solved by:\r\nOn the Maven panel on the right hand side -&gt; click the icon &quot;download source and/or documentation&quot; -&gt; download source;","title":"IntelliJ debugger shows incorrect line number in call stack","body":"<p>The problem was solved by:\nOn the Maven panel on the right hand side -&gt; click the icon &quot;download source and/or documentation&quot; -&gt; download source;</p>\n"}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1022,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74355168,"answer_count":3,"score":0,"last_activity_date":1667875458,"creation_date":1667353414,"question_id":74283540,"body_markdown":"I am using IntelliJ IDEA to debug Java code.\r\nThe code line number is 225, but the call stack shows 293.\r\n\r\nHow to fix this?[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kG5hm.png","title":"IntelliJ debugger shows incorrect line number in call stack","body":"<p>I am using IntelliJ IDEA to debug Java code.\nThe code line number is 225, but the call stack shows 293.</p>\n<p>How to fix this?<a href=\"https://i.stack.imgur.com/kG5hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kG5hm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","memory","jvm"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1667875269,"post_id":74355044,"comment_id":131266847,"body_markdown":"if you have access to `/proc` filesystem, what is the value of `PageTables` in `/proc/meminfo` when JVM is near to being killed?","body":"if you have access to <code>&#47;proc</code> filesystem, what is the value of <code>PageTables</code> in <code>&#47;proc&#47;meminfo</code> when JVM is near to being killed?"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1667905284,"post_id":74355044,"comment_id":131274005,"body_markdown":"This can help you understand various parts of the JVM memory consumption: https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438","body":"This can help you understand various parts of the JVM memory consumption: <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\" title=\"java using much more memory than heap size or size correctly docker memory limi\">stackoverflow.com/questions/53451103/&hellip;</a>"}],"owner":{"account_id":1726435,"reputation":387,"user_id":1580974,"accept_rate":89,"display_name":"R H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668006372,"answer_count":0,"score":0,"last_activity_date":1667874210,"creation_date":1667874210,"question_id":74355044,"body_markdown":"Running the below spring boot application with ~100GB. The node has a total of 186G memory. The process got killed once the available memory reached zero.  \r\n\r\n/usr/java/1.8/bin/java **-Xmx105104m -Xms105104m** -XX:+UseParallelGC -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:MaxGCPauseMillis=999 -XX:GCTimeRatio=19 -XX:NativeMemoryTracking=detail -XX:+PrintClassHistogram -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -Xloggc:logs/gc.log -XX:+UseGCLogFileRotation -XX:GCLogFileSize=4M -XX:NumberOfGCLogFiles=5 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=logs -Dfile.encoding=UTF-8 -Dcom.sun.management.jmxremote.port=33333 -Dcom.sun.management.jmxremote.rmi.port=33333 -Djava.rmi.server.hostname=localhost -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false  -classpath /tmp/test.jar \r\n\r\nThe total reserved memory is ~108GB based the below memory summary.\r\n\r\n/usr/java/1.8/bin/jcmd 39169 VM.native_memory summary\r\n39169:\r\nNative Memory Tracking:\r\n\r\nTotal: reserved=116072104KB, committed=116020952KB\r\n-                 Java Heap (reserved=107626496KB, committed=107626496KB)\r\n                            (mmap: reserved=107626496KB, committed=107626496KB)\r\n\r\n-                     Class (reserved=269229KB, committed=268973KB)\r\n                            (classes #37441)\r\n                            (malloc=43949KB #111442)\r\n                            (mmap: reserved=225280KB, committed=225024KB)\r\n\r\n-                    Thread (reserved=2185937KB, committed=2185937KB)\r\n                            (thread #2117)\r\n                            (stack: reserved=2175044KB, committed=2175044KB)\r\n                            (malloc=7277KB #12696)\r\n                            (arena=3616KB #4217)\r\n\r\n-                      Code (reserved=291291KB, committed=240399KB)\r\n                            (malloc=41691KB #52137)\r\n                            (mmap: reserved=249600KB, committed=198708KB)\r\n\r\n-                        GC (reserved=3971460KB, committed=3971460KB)\r\n                            (malloc=39360KB #2400)\r\n                            (mmap: reserved=3932100KB, committed=3932100KB)\r\n\r\n-                  Compiler (reserved=6110KB, committed=6110KB)\r\n                            (malloc=5965KB #9682)\r\n                            (arena=145KB #18)\r\n\r\n-                  Internal (reserved=1663307KB, committed=1663303KB)\r\n                            (malloc=1663271KB #81858)\r\n                            (mmap: reserved=36KB, committed=32KB)\r\n\r\n-                    Symbol (reserved=45400KB, committed=45400KB)\r\n                            (malloc=41748KB #429276)\r\n                            (arena=3652KB #1)\r\n\r\n-    Native Memory Tracking (reserved=12387KB, committed=12387KB)\r\n                            (malloc=1150KB #15182)\r\n                            (tracking overhead=11237KB)\r\n\r\n-               Arena Chunk (reserved=489KB, committed=489KB)\r\n                            (malloc=489KB)\r\n\r\nThe smaps command is showing 133GB memory consumption. The process keeps growing memory consumption to the maximum OS memory(186GB) and then the process got killed. Should the java process take more than allocated? \r\n\r\n\r\ncat /proc/39169/smaps | grep -i pss |  awk &#39;{Total+=$2} END {print Total/1024/1024&quot; GB&quot;}&#39;\r\n\r\n133.006 GB\r\n\r\ncat /proc/39169/smaps | grep -i &#39;Private_Dirty&#39; |  awk &#39;{Total+=$2} END {print Total/1024/1024&quot; GB&quot;}&#39;\r\n\r\n132.975 GB ","title":"why does the Java process consume much higher memory than allocation?","body":"<p>Running the below spring boot application with ~100GB. The node has a total of 186G memory. The process got killed once the available memory reached zero.</p>\n<p>/usr/java/1.8/bin/java <strong>-Xmx105104m -Xms105104m</strong> -XX:+UseParallelGC -XX:-OmitStackTraceInFastThrow -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:MaxGCPauseMillis=999 -XX:GCTimeRatio=19 -XX:NativeMemoryTracking=detail -XX:+PrintClassHistogram -XX:+PrintTenuringDistribution -XX:+PrintGCApplicationStoppedTime -Xloggc:logs/gc.log -XX:+UseGCLogFileRotation -XX:GCLogFileSize=4M -XX:NumberOfGCLogFiles=5 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=logs -Dfile.encoding=UTF-8 -Dcom.sun.management.jmxremote.port=33333 -Dcom.sun.management.jmxremote.rmi.port=33333 -Djava.rmi.server.hostname=localhost -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false  -classpath /tmp/test.jar</p>\n<p>The total reserved memory is ~108GB based the below memory summary.</p>\n<p>/usr/java/1.8/bin/jcmd 39169 VM.native_memory summary\n39169:\nNative Memory Tracking:</p>\n<p>Total: reserved=116072104KB, committed=116020952KB</p>\n<ul>\n<li>\n<pre><code>            Java Heap (reserved=107626496KB, committed=107626496KB)\n                      (mmap: reserved=107626496KB, committed=107626496KB)\n</code></pre>\n</li>\n<li>\n<pre><code>                Class (reserved=269229KB, committed=268973KB)\n                      (classes #37441)\n                      (malloc=43949KB #111442)\n                      (mmap: reserved=225280KB, committed=225024KB)\n</code></pre>\n</li>\n<li>\n<pre><code>               Thread (reserved=2185937KB, committed=2185937KB)\n                      (thread #2117)\n                      (stack: reserved=2175044KB, committed=2175044KB)\n                      (malloc=7277KB #12696)\n                      (arena=3616KB #4217)\n</code></pre>\n</li>\n<li>\n<pre><code>                 Code (reserved=291291KB, committed=240399KB)\n                      (malloc=41691KB #52137)\n                      (mmap: reserved=249600KB, committed=198708KB)\n</code></pre>\n</li>\n<li>\n<pre><code>                   GC (reserved=3971460KB, committed=3971460KB)\n                      (malloc=39360KB #2400)\n                      (mmap: reserved=3932100KB, committed=3932100KB)\n</code></pre>\n</li>\n<li>\n<pre><code>             Compiler (reserved=6110KB, committed=6110KB)\n                      (malloc=5965KB #9682)\n                      (arena=145KB #18)\n</code></pre>\n</li>\n<li>\n<pre><code>             Internal (reserved=1663307KB, committed=1663303KB)\n                      (malloc=1663271KB #81858)\n                      (mmap: reserved=36KB, committed=32KB)\n</code></pre>\n</li>\n<li>\n<pre><code>               Symbol (reserved=45400KB, committed=45400KB)\n                      (malloc=41748KB #429276)\n                      (arena=3652KB #1)\n</code></pre>\n</li>\n<li><p>Native Memory Tracking (reserved=12387KB, committed=12387KB)\n(malloc=1150KB #15182)\n(tracking overhead=11237KB)</p>\n</li>\n<li>\n<pre><code>          Arena Chunk (reserved=489KB, committed=489KB)\n                      (malloc=489KB)\n</code></pre>\n</li>\n</ul>\n<p>The smaps command is showing 133GB memory consumption. The process keeps growing memory consumption to the maximum OS memory(186GB) and then the process got killed. Should the java process take more than allocated?</p>\n<p>cat /proc/39169/smaps | grep -i pss |  awk '{Total+=$2} END {print Total/1024/1024&quot; GB&quot;}'</p>\n<p>133.006 GB</p>\n<p>cat /proc/39169/smaps | grep -i 'Private_Dirty' |  awk '{Total+=$2} END {print Total/1024/1024&quot; GB&quot;}'</p>\n<p>132.975 GB</p>\n"},{"tags":["java","json","jackson","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667821054,"creation_date":1667821054,"answer_id":74345988,"question_id":74345579,"body_markdown":"I would go with your first idea to deserialize your JSON into a map. And yes you will still need to analyze the map keys. It is easy to deserialize Json into a map with Json Jackson, but there is an Open source library called MgntUtils that provides class `JsonUtils` which is a thin wrapper over Json-Jackson library. using it you can very simply deserialize your Json into a Map (or any other class). Your code would look like this:\r\n\r\n    try {\r\n                Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\r\n                System.out.println(map);\r\n        } catch (IOException e) {\r\n          ...\r\n        }\r\nHere is Javadoc for [JsonUtils][1]. The library can be obtained as [maven artifact][2] or on [Github][3] (with source code and Javadoc).\r\n&lt;br&gt;&lt;b&gt;Disclaimer: This library is written and maintained by me&lt;/b&gt;\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Using Jackson to extract information from Property names","body":"<p>I would go with your first idea to deserialize your JSON into a map. And yes you will still need to analyze the map keys. It is easy to deserialize Json into a map with Json Jackson, but there is an Open source library called MgntUtils that provides class <code>JsonUtils</code> which is a thin wrapper over Json-Jackson library. using it you can very simply deserialize your Json into a Map (or any other class). Your code would look like this:</p>\n<pre><code>try {\n            Map&lt;String, Object&gt; map = JsonUtils.readObjectFromJsonString(jsonStr, Map.class);\n            System.out.println(map);\n    } catch (IOException e) {\n      ...\n    }\n</code></pre>\n<p>Here is Javadoc for <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a>. The library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (with source code and Javadoc).\n<br><b>Disclaimer: This library is written and maintained by me</b></p>\n"},{"comments":[{"owner":{"account_id":5858163,"reputation":1059,"user_id":4614788,"accept_rate":96,"display_name":"Glenn Van Schil"},"score":0,"creation_date":1667832421,"post_id":74348310,"comment_id":131255433,"body_markdown":"Thank you for this well-documented answer! This was indeed what I was looking for. You even covered the part where I don&#39;t need to take the other fields into the deserialization but only the custom fields. One more question. What will happen now with other unknown attributes? I assume they will just be ignored or can you have a second @JsonAnySetter?","body":"Thank you for this well-documented answer! This was indeed what I was looking for. You even covered the part where I don&#39;t need to take the other fields into the deserialization but only the custom fields. One more question. What will happen now with other unknown attributes? I assume they will just be ignored or can you have a second @JsonAnySetter?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667833116,"post_id":74348310,"comment_id":131255703,"body_markdown":"@GlennVanSchil It&#39;s not allowed to have more than one method annotated with `@JsonAnySetter` (*because Jackson would not be able to find out which to use when*). If you need a separate logical branch of for properties that are not formatted as `&quot;foo[zone=BAR,method=BAZ]&quot;`, then you need to place it into the same method. For instance, you can check the property name against a regular expression to decide how to handle it.","body":"@GlennVanSchil It&#39;s not allowed to have more than one method annotated with <code>@JsonAnySetter</code> (<i>because Jackson would not be able to find out which to use when</i>). If you need a separate logical branch of for properties that are not formatted as <code>&quot;foo[zone=BAR,method=BAZ]&quot;</code>, then you need to place it into the same method. For instance, you can check the property name against a regular expression to decide how to handle it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667833743,"post_id":74348310,"comment_id":131255957,"body_markdown":"@GlennVanSchil You can introduce as many logical branches for handling the input as you need. In such scenario, I would advise declaring a separate method implementing the logic of each branch. And the method marked with `@JsonAnySetter` would perform delegating calls to these methods. You can also define more than one Map, but there should be only one method annotated with `@JsonAnySetter`.","body":"@GlennVanSchil You can introduce as many logical branches for handling the input as you need. In such scenario, I would advise declaring a separate method implementing the logic of each branch. And the method marked with <code>@JsonAnySetter</code> would perform delegating calls to these methods. You can also define more than one Map, but there should be only one method annotated with <code>@JsonAnySetter</code>."},{"owner":{"account_id":5858163,"reputation":1059,"user_id":4614788,"accept_rate":96,"display_name":"Glenn Van Schil"},"score":1,"creation_date":1667834502,"post_id":74348310,"comment_id":131256229,"body_markdown":"Thanks for clearing that up, makes sense. Thank you for your time and answers!","body":"Thanks for clearing that up, makes sense. Thank you for your time and answers!"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667831854,"creation_date":1667831854,"answer_id":74348310,"question_id":74345579,"body_markdown":"In order to achieve the required result, you need to implement deserialization logic yourself, it can&#39;t be done only by sprinkling a couple of data binding annotations.\r\n\r\nThat&#39;s how it can be done.\r\n\r\nAssume here&#39;s a POJO that corresponds to your input JSON (*to avoid boilerplate code, I&#39;ll use Lombok annotations*):\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class MyPojo {\r\n        private String productId;\r\n        private String offerId;\r\n        private String format;\r\n        private String sellerId;\r\n        private String sellerName;\r\n        @JsonIgnore // we don&#39;t want to expose this field to Jackson as is\r\n        private Map&lt;DeliveryZoneMethod, DeliveryMode&gt; deliveryModes = new HashMap&lt;&gt;();\r\n        \r\n        @JsonAnySetter\r\n        public void setDeliveryModes(String property, String value) {\r\n            DeliveryZoneMethod zoneMethod = DeliveryZoneMethod.parse(property);\r\n            DeliveryMode mode = deliveryModes.computeIfAbsent(zoneMethod, DeliveryMode::new);\r\n            \r\n            String name = property.substring(0, property.indexOf(&#39;[&#39;));\r\n\r\n            switch (name) {\r\n                case &quot;shippingPrice&quot; -&gt; mode.setShippingPrice(new BigDecimal(value));\r\n                case &quot;deliveryTimeEarliestDays&quot; -&gt; mode.setDeliveryTimeEarliestDays(Integer.parseInt(value));\r\n                case &quot;deliveryTimeLatestDays&quot; -&gt; mode.setDeliveryTimeLatestDays(Integer.parseInt(value));\r\n            }\r\n        }\r\n        \r\n        public Collection&lt;DeliveryMode&gt; getModes() {\r\n            return deliveryModes.values();\r\n        }\r\n    }\r\n\r\nProperties `productId`, `offerId`, `format`, `sellerId`, `sellerName` would be parsed by Jackson in a regular way.\r\n\r\nAnd all other properties formatted like `&quot;shippingPrice[zone=BE,method=STD]&quot;` would be handled by the method annotated with `@JsonAnySetter`.\r\n\r\nTo facilitate extracting and storing information from such properties I&#39;ve defined a couple of auxiliary classes:\r\n * `DeliveryZoneMethod` which contains information about a zone and delivery method as its name suggests (the purpose of this class is to serve as *Key* in the map `deliveryModes`).\r\n * `DeliveryMode` which is meant to contain all the need information that correspond to a particular zone and method of delivery.\r\n\r\nFor conciseness, `DeliveryZoneMethod` can be implemented as a Java 16 record:\r\n\r\n    public record DeliveryZoneMethod(String method, String zone) {\r\n        public static Pattern ZONE_METHOD = Pattern.compile(&quot;.+zone=(\\\\p{Alpha}+).*method=(\\\\p{Alpha}+)&quot;);\r\n        public static DeliveryZoneMethod parse(String str) {\r\n            // &quot;shippingPrice[zone=BE,method=STD]&quot; - assuming the given string has always the same format\r\n            Matcher m = ZONE_METHOD.matcher(str);\r\n            \r\n            if (!m.find()) throw new IllegalArgumentException(&quot;Unable to parse: &quot; + str);\r\n            \r\n            return new DeliveryZoneMethod(m.group(1), m.group(2));\r\n        }\r\n    }\r\n\r\nAnd here&#39;s how `DeliveryMode` might look like:\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class DeliveryMode {\r\n        private String method;\r\n        private String zone;\r\n        private BigDecimal shippingPrice;\r\n        private int deliveryTimeEarliestDays;\r\n        private int deliveryTimeLatestDays;\r\n        \r\n        public DeliveryMode(DeliveryZoneMethod zoneMethod) {\r\n            this.method = zoneMethod.method();\r\n            this.zone = zoneMethod.zone();\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String json = &quot;&quot;&quot;\r\n            {\r\n                &quot;productId&quot;: &quot;90000011&quot;,\r\n                &quot;offerId&quot;: &quot;String&quot;,\r\n                &quot;format&quot;: &quot;String&quot;,\r\n                &quot;sellerId&quot;: &quot;String&quot;,\r\n                &quot;sellerName&quot;: &quot;String&quot;,\r\n                &quot;shippingPrice[zone=BE,method=STD]&quot;: 0.0,\r\n                &quot;deliveryTimeEarliestDays[zone=BE,method=STD]&quot;: 1,\r\n                &quot;deliveryTimeLatestDays[zone=BE,method=STD]&quot;: 1,\r\n                &quot;shippingPrice[zone=NL,method=STD]&quot;: 0.0,\r\n                &quot;deliveryTimeEarliestDays[zone=NL,method=STD]&quot;: 1,\r\n                &quot;deliveryTimeLatestDays[zone=NL,method=STD]&quot;: 1\r\n            }\r\n            &quot;&quot;&quot;;\r\n        \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MyPojo myPojo = mapper.readValue(json,  MyPojo.class);\r\n    \r\n        String serializedJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(myPojo);\r\n        \r\n        System.out.println(serializedJson);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n{\r\n  &quot;productId&quot; : &quot;90000011&quot;,\r\n  &quot;offerId&quot; : &quot;String&quot;,\r\n  &quot;format&quot; : &quot;String&quot;,\r\n  &quot;sellerId&quot; : &quot;String&quot;,\r\n  &quot;sellerName&quot; : &quot;String&quot;,\r\n  &quot;modes&quot; : [ {\r\n    &quot;method&quot; : &quot;BE&quot;,\r\n    &quot;zone&quot; : &quot;STD&quot;,\r\n    &quot;shippingPrice&quot; : 0.0,\r\n    &quot;deliveryTimeEarliestDays&quot; : 1,\r\n    &quot;deliveryTimeLatestDays&quot; : 1\r\n  }, {\r\n    &quot;method&quot; : &quot;NL&quot;,\r\n    &quot;zone&quot; : &quot;STD&quot;,\r\n    &quot;shippingPrice&quot; : 0.0,\r\n    &quot;deliveryTimeEarliestDays&quot; : 1,\r\n    &quot;deliveryTimeLatestDays&quot; : 1\r\n  } ]\r\n}\r\n```","title":"Using Jackson to extract information from Property names","body":"<p>In order to achieve the required result, you need to implement deserialization logic yourself, it can't be done only by sprinkling a couple of data binding annotations.</p>\n<p>That's how it can be done.</p>\n<p>Assume here's a POJO that corresponds to your input JSON (<em>to avoid boilerplate code, I'll use Lombok annotations</em>):</p>\n<pre><code>@Getter\n@Setter\npublic static class MyPojo {\n    private String productId;\n    private String offerId;\n    private String format;\n    private String sellerId;\n    private String sellerName;\n    @JsonIgnore // we don't want to expose this field to Jackson as is\n    private Map&lt;DeliveryZoneMethod, DeliveryMode&gt; deliveryModes = new HashMap&lt;&gt;();\n    \n    @JsonAnySetter\n    public void setDeliveryModes(String property, String value) {\n        DeliveryZoneMethod zoneMethod = DeliveryZoneMethod.parse(property);\n        DeliveryMode mode = deliveryModes.computeIfAbsent(zoneMethod, DeliveryMode::new);\n        \n        String name = property.substring(0, property.indexOf('['));\n\n        switch (name) {\n            case &quot;shippingPrice&quot; -&gt; mode.setShippingPrice(new BigDecimal(value));\n            case &quot;deliveryTimeEarliestDays&quot; -&gt; mode.setDeliveryTimeEarliestDays(Integer.parseInt(value));\n            case &quot;deliveryTimeLatestDays&quot; -&gt; mode.setDeliveryTimeLatestDays(Integer.parseInt(value));\n        }\n    }\n    \n    public Collection&lt;DeliveryMode&gt; getModes() {\n        return deliveryModes.values();\n    }\n}\n</code></pre>\n<p>Properties <code>productId</code>, <code>offerId</code>, <code>format</code>, <code>sellerId</code>, <code>sellerName</code> would be parsed by Jackson in a regular way.</p>\n<p>And all other properties formatted like <code>&quot;shippingPrice[zone=BE,method=STD]&quot;</code> would be handled by the method annotated with <code>@JsonAnySetter</code>.</p>\n<p>To facilitate extracting and storing information from such properties I've defined a couple of auxiliary classes:</p>\n<ul>\n<li><code>DeliveryZoneMethod</code> which contains information about a zone and delivery method as its name suggests (the purpose of this class is to serve as <em>Key</em> in the map <code>deliveryModes</code>).</li>\n<li><code>DeliveryMode</code> which is meant to contain all the need information that correspond to a particular zone and method of delivery.</li>\n</ul>\n<p>For conciseness, <code>DeliveryZoneMethod</code> can be implemented as a Java 16 record:</p>\n<pre><code>public record DeliveryZoneMethod(String method, String zone) {\n    public static Pattern ZONE_METHOD = Pattern.compile(&quot;.+zone=(\\\\p{Alpha}+).*method=(\\\\p{Alpha}+)&quot;);\n    public static DeliveryZoneMethod parse(String str) {\n        // &quot;shippingPrice[zone=BE,method=STD]&quot; - assuming the given string has always the same format\n        Matcher m = ZONE_METHOD.matcher(str);\n        \n        if (!m.find()) throw new IllegalArgumentException(&quot;Unable to parse: &quot; + str);\n        \n        return new DeliveryZoneMethod(m.group(1), m.group(2));\n    }\n}\n</code></pre>\n<p>And here's how <code>DeliveryMode</code> might look like:</p>\n<pre><code>@Getter\n@Setter\npublic static class DeliveryMode {\n    private String method;\n    private String zone;\n    private BigDecimal shippingPrice;\n    private int deliveryTimeEarliestDays;\n    private int deliveryTimeLatestDays;\n    \n    public DeliveryMode(DeliveryZoneMethod zoneMethod) {\n        this.method = zoneMethod.method();\n        this.zone = zoneMethod.zone();\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    String json = &quot;&quot;&quot;\n        {\n            &quot;productId&quot;: &quot;90000011&quot;,\n            &quot;offerId&quot;: &quot;String&quot;,\n            &quot;format&quot;: &quot;String&quot;,\n            &quot;sellerId&quot;: &quot;String&quot;,\n            &quot;sellerName&quot;: &quot;String&quot;,\n            &quot;shippingPrice[zone=BE,method=STD]&quot;: 0.0,\n            &quot;deliveryTimeEarliestDays[zone=BE,method=STD]&quot;: 1,\n            &quot;deliveryTimeLatestDays[zone=BE,method=STD]&quot;: 1,\n            &quot;shippingPrice[zone=NL,method=STD]&quot;: 0.0,\n            &quot;deliveryTimeEarliestDays[zone=NL,method=STD]&quot;: 1,\n            &quot;deliveryTimeLatestDays[zone=NL,method=STD]&quot;: 1\n        }\n        &quot;&quot;&quot;;\n    \n    ObjectMapper mapper = new ObjectMapper();\n    MyPojo myPojo = mapper.readValue(json,  MyPojo.class);\n\n    String serializedJson = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(myPojo);\n    \n    System.out.println(serializedJson);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n  &quot;productId&quot; : &quot;90000011&quot;,\n  &quot;offerId&quot; : &quot;String&quot;,\n  &quot;format&quot; : &quot;String&quot;,\n  &quot;sellerId&quot; : &quot;String&quot;,\n  &quot;sellerName&quot; : &quot;String&quot;,\n  &quot;modes&quot; : [ {\n    &quot;method&quot; : &quot;BE&quot;,\n    &quot;zone&quot; : &quot;STD&quot;,\n    &quot;shippingPrice&quot; : 0.0,\n    &quot;deliveryTimeEarliestDays&quot; : 1,\n    &quot;deliveryTimeLatestDays&quot; : 1\n  }, {\n    &quot;method&quot; : &quot;NL&quot;,\n    &quot;zone&quot; : &quot;STD&quot;,\n    &quot;shippingPrice&quot; : 0.0,\n    &quot;deliveryTimeEarliestDays&quot; : 1,\n    &quot;deliveryTimeLatestDays&quot; : 1\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":5858163,"reputation":1059,"user_id":4614788,"accept_rate":96,"display_name":"Glenn Van Schil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74348310,"answer_count":2,"score":0,"last_activity_date":1667874190,"creation_date":1667819076,"question_id":74345579,"body_markdown":"I currently receive the following JSON body\r\n\r\n```json\r\n{\r\n    &quot;productId&quot;: &quot;90000011&quot;,\r\n    &quot;offerId&quot;: &quot;String&quot;,\r\n    &quot;format&quot;: &quot;String&quot;,\r\n    &quot;sellerId&quot;: &quot;String&quot;,\r\n    &quot;sellerName&quot;: &quot;String&quot;,\r\n    &quot;shippingPrice[zone=BE,method=STD]&quot;: 0.0,\r\n    &quot;deliveryTimeEarliestDays[zone=BE,method=STD]&quot;: 1,\r\n    &quot;deliveryTimeLatestDays[zone=BE,method=STD]&quot;: 1,\r\n    &quot;shippingPrice[zone=NL,method=STD]&quot;: 0.0,\r\n    &quot;deliveryTimeEarliestDays[zone=NL,method=STD]&quot;: 1,\r\n    &quot;deliveryTimeLatestDays[zone=NL,method=STD]&quot;: 1\r\n}\r\n```\r\n\r\nAs you can see, I have similar properties that differ by `zone` and `method` enclosed in square brackets. I don&#39;t want to change the code every time a new `zone` and/or `method` is introduced. I&#39;m looking for a more dynamic way you deserialize this via Jackson.\r\n\r\nIs there a way to automatically deserialize all properties starting with `shippingPrice`, `deliveryTimeEarliestDays` and `deliveryTimeLatestDays` into the following format?\r\n\r\n```json\r\n{\r\n    &quot;productId&quot;: &quot;90000011&quot;,\r\n    &quot;offerId&quot;: &quot;String&quot;,\r\n    &quot;format&quot;: &quot;String&quot;,\r\n    &quot;sellerId&quot;: &quot;String&quot;,\r\n    &quot;sellerName&quot;: &quot;String&quot;,\r\n    &quot;deliveryModes&quot;:[\r\n    {\r\n        &quot;method&quot;:&quot;STD&quot;\r\n        &quot;zone&quot;:&quot;BE&quot;,\r\n        &quot;shippingPrice&quot;:0.0,\r\n        &quot;deliveryTimeEarliestDays&quot;:1,\r\n        &quot;deliveryTimeLatestDays&quot;:1\r\n    },{\r\n        &quot;method&quot;:&quot;STD&quot;\r\n        &quot;zone&quot;:&quot;NL&quot;,\r\n        &quot;shippingPrice&quot;:0.0,\r\n        &quot;deliveryTimeEarliestDays&quot;:1,\r\n        &quot;deliveryTimeLatestDays&quot;:1\r\n    }]\r\n}\r\n```\r\n\r\nMy first idea was to use the `@JsonAnySetter` annotation and put everything in a `Map` but that still leaves me with manual parsing of the field name.\r\n\r\nMy Second Idea was to [build a custom deserializer](https://www.baeldung.com/jackson-deserialization) where I loop over all attributes and filter out all the ones that start with `shippingPrice`, `deliveryTimeEarliestDays` and `deliveryTimeLatestDays` and map them to the described format above.","title":"Using Jackson to extract information from Property names","body":"<p>I currently receive the following JSON body</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;productId&quot;: &quot;90000011&quot;,\n    &quot;offerId&quot;: &quot;String&quot;,\n    &quot;format&quot;: &quot;String&quot;,\n    &quot;sellerId&quot;: &quot;String&quot;,\n    &quot;sellerName&quot;: &quot;String&quot;,\n    &quot;shippingPrice[zone=BE,method=STD]&quot;: 0.0,\n    &quot;deliveryTimeEarliestDays[zone=BE,method=STD]&quot;: 1,\n    &quot;deliveryTimeLatestDays[zone=BE,method=STD]&quot;: 1,\n    &quot;shippingPrice[zone=NL,method=STD]&quot;: 0.0,\n    &quot;deliveryTimeEarliestDays[zone=NL,method=STD]&quot;: 1,\n    &quot;deliveryTimeLatestDays[zone=NL,method=STD]&quot;: 1\n}\n</code></pre>\n<p>As you can see, I have similar properties that differ by <code>zone</code> and <code>method</code> enclosed in square brackets. I don't want to change the code every time a new <code>zone</code> and/or <code>method</code> is introduced. I'm looking for a more dynamic way you deserialize this via Jackson.</p>\n<p>Is there a way to automatically deserialize all properties starting with <code>shippingPrice</code>, <code>deliveryTimeEarliestDays</code> and <code>deliveryTimeLatestDays</code> into the following format?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;productId&quot;: &quot;90000011&quot;,\n    &quot;offerId&quot;: &quot;String&quot;,\n    &quot;format&quot;: &quot;String&quot;,\n    &quot;sellerId&quot;: &quot;String&quot;,\n    &quot;sellerName&quot;: &quot;String&quot;,\n    &quot;deliveryModes&quot;:[\n    {\n        &quot;method&quot;:&quot;STD&quot;\n        &quot;zone&quot;:&quot;BE&quot;,\n        &quot;shippingPrice&quot;:0.0,\n        &quot;deliveryTimeEarliestDays&quot;:1,\n        &quot;deliveryTimeLatestDays&quot;:1\n    },{\n        &quot;method&quot;:&quot;STD&quot;\n        &quot;zone&quot;:&quot;NL&quot;,\n        &quot;shippingPrice&quot;:0.0,\n        &quot;deliveryTimeEarliestDays&quot;:1,\n        &quot;deliveryTimeLatestDays&quot;:1\n    }]\n}\n</code></pre>\n<p>My first idea was to use the <code>@JsonAnySetter</code> annotation and put everything in a <code>Map</code> but that still leaves me with manual parsing of the field name.</p>\n<p>My Second Idea was to <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">build a custom deserializer</a> where I loop over all attributes and filter out all the ones that start with <code>shippingPrice</code>, <code>deliveryTimeEarliestDays</code> and <code>deliveryTimeLatestDays</code> and map them to the described format above.</p>\n"},{"tags":["java","android","listview","pdf","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667804508,"post_id":74341373,"comment_id":131245921,"body_markdown":"`but pdf file is not loaded in android 11, 12 with my code. ` Wrong problem description. Your pdf file is just not listed by .listFiles(). Why did you post so much irrelevant code?","body":"<code>but pdf file is not loaded in android 11, 12 with my code. </code> Wrong problem description. Your pdf file is just not listed by .listFiles(). Why did you post so much irrelevant code?"},{"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"score":0,"creation_date":1667806478,"post_id":74341373,"comment_id":131246417,"body_markdown":"can you help me how to solve this issue?","body":"can you help me how to solve this issue?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667809260,"post_id":74341373,"comment_id":131247221,"body_markdown":"Not if you do not agree with a wrong problem description. And not if you dont post the relevant code and not if you do not remove all irrelevant code. Your problem is just .listFiles() on File class.","body":"Not if you do not agree with a wrong problem description. And not if you dont post the relevant code and not if you do not remove all irrelevant code. Your problem is just .listFiles() on File class."}],"owner":{"account_id":26507559,"reputation":69,"user_id":20143472,"display_name":"jackie Maik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667874160,"creation_date":1667788155,"question_id":74341373,"body_markdown":"I created app to load pdf file to listview from external storage. my app seems to work successfully in android 5.6. However in android 11,12 my app don&#39;t show any pdf file to list view. after searching in internet similar issues. I don&#39;t find solution for it.\r\n\r\nin my main activity.java, I coded below: \r\n`\r\n```\r\npublic ArrayList&lt;File&gt; findPdf (File file){\r\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\r\n    File[] files = file.listFiles();\r\n\r\n    if (files != null){\r\n\r\n        for (File singleFile: files){\r\n\r\n            try {\r\n                if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\r\n                    arrayList.addAll(findPdf(singleFile));\r\n                }\r\n                else {\r\n                    if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\r\n                        arrayList.add(singleFile);\r\n                    }\r\n                }\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n        }\r\n        return arrayList;\r\n\r\n    }\r\n    return arrayList;\r\n\r\n\r\n\r\n}\r\n\r\npublic void displayPdf(){\r\n    recyclerView = findViewById(R.id.rv);\r\n    recyclerView.setHasFixedSize(true);\r\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\r\n    pdfList = new ArrayList&lt;&gt;();\r\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\r\n    adapter = new MainAdapter(this,pdfList,this);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n}\r\n\r\n@Override\r\npublic void onPdfSelected(File file) {\r\n\r\n\r\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\r\n\r\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\r\n\r\n    startActivity(intent);\r\n\r\n}\r\n```\r\nin Manifest.xml file, I added permission below:\r\n`\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n```\r\nand add below code in tab &lt;application as well.`\r\n`\r\n```\r\nandroid:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n```\r\n`\r\nPlease help me how to overcome this obstacle. thanks and best wish\r\n`\r\n\r\nmy app loaded successfully pdf file in listview in android 5, 6 but my app fail to show pdf file in listview in android version 11.12.. I don&#39;t know how to fix this problem.","title":"unable to view pdf file in listview from external storage with android 11.12","body":"<p>I created app to load pdf file to listview from external storage. my app seems to work successfully in android 5.6. However in android 11,12 my app don't show any pdf file to list view. after searching in internet similar issues. I don't find solution for it.</p>\n<p>in my main activity.java, I coded below:\n`</p>\n<pre><code>public ArrayList&lt;File&gt; findPdf (File file){\n    ArrayList&lt;File&gt; arrayList = new ArrayList&lt;&gt;();\n    File[] files = file.listFiles();\n\n    if (files != null){\n\n        for (File singleFile: files){\n\n            try {\n                if (singleFile.isDirectory() &amp;&amp; !singleFile.isHidden()){\n                    arrayList.addAll(findPdf(singleFile));\n                }\n                else {\n                    if (singleFile.getName().endsWith(&quot;.pdf&quot;)){\n                        arrayList.add(singleFile);\n                    }\n                }\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n\n\n        }\n        return arrayList;\n\n    }\n    return arrayList;\n\n\n\n}\n\npublic void displayPdf(){\n    recyclerView = findViewById(R.id.rv);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new GridLayoutManager(this,3));\n    pdfList = new ArrayList&lt;&gt;();\n    pdfList.addAll(findPdf(Environment.getExternalStorageDirectory()));\n    adapter = new MainAdapter(this,pdfList,this);\n    recyclerView.setAdapter(adapter);\n\n}\n\n@Override\npublic void onPdfSelected(File file) {\n\n\n    Intent intent = new Intent(MainActivity.this,PDFwatch.class);\n\n    intent.putExtra(&quot;path&quot;,file.getAbsoluteFile());\n\n    startActivity(intent);\n\n}\n</code></pre>\n<p>in Manifest.xml file, I added permission below:\n`</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n</code></pre>\n<p>and add below code in tab &lt;application as well.<code> </code></p>\n<pre><code>android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p><code>Please help me how to overcome this obstacle. thanks and best wish</code></p>\n<p>my app loaded successfully pdf file in listview in android 5, 6 but my app fail to show pdf file in listview in android version 11.12.. I don't know how to fix this problem.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667731716,"post_id":74334980,"comment_id":131232282,"body_markdown":"What line exactly is the crash?","body":"What line exactly is the crash?"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667731890,"post_id":74334980,"comment_id":131232322,"body_markdown":"line 32 - if (Double.parseDouble(result.getText().toString()) == 0.0), if I comment it there aren&#39;t any crashes, but then I just get numbers on the screen and can&#39;t perform the calculations. @LawrenceGimenez","body":"line 32 - if (Double.parseDouble(result.getText().toString()) == 0.0), if I comment it there aren&#39;t any crashes, but then I just get numbers on the screen and can&#39;t perform the calculations. @LawrenceGimenez"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667732537,"post_id":74334980,"comment_id":131232442,"body_markdown":"The crash is NumberFormatException?","body":"The crash is NumberFormatException?"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667732915,"post_id":74334980,"comment_id":131232516,"body_markdown":"@LawrenceGimenez yes, NumberFormatException : empty string","body":"@LawrenceGimenez yes, NumberFormatException : empty string"},{"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"score":0,"creation_date":1667734052,"post_id":74334980,"comment_id":131232748,"body_markdown":"@LawrenceGimenez still crashes with the  NumberFormatException : empty string . :/","body":"@LawrenceGimenez still crashes with the  NumberFormatException : empty string . :/"}],"answers":[{"tags":[],"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667873302,"creation_date":1667733062,"answer_id":74335314,"question_id":74334980,"body_markdown":"Try trimming your result and checking for null and empty first before parsing\r\n\r\n```\r\nString result = result.getText().toString()).trim();\r\nif (result != null &amp;&amp; result.length() &gt; 0) {\r\n   if (Double.parseDouble(result) == 0.0)\r\n      result.setText(str);\r\n   else\r\n      result.append(str);\r\n}\r\n\r\n```","title":"Android calculator getting crashes","body":"<p>Try trimming your result and checking for null and empty first before parsing</p>\n<pre><code>String result = result.getText().toString()).trim();\nif (result != null &amp;&amp; result.length() &gt; 0) {\n   if (Double.parseDouble(result) == 0.0)\n      result.setText(str);\n   else\n      result.append(str);\n}\n\n</code></pre>\n"}],"owner":{"account_id":15770601,"reputation":45,"user_id":11379774,"display_name":"Pasha Grobov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74335314,"answer_count":1,"score":0,"last_activity_date":1667873302,"creation_date":1667730426,"question_id":74334980,"body_markdown":"I&#39;m making a simple android calculator that has to support +,-,*,/ .\r\n\r\nWhen I try to press any button - the app crashes. After some investigations, I found out that the problem is in the inner if statement :\r\n\r\n```    \r\npublic void buttonFunctionNumber(View view) {\r\n        if (view instanceof Button){\r\n            Button button = (Button) view;\r\n            String str = button.getText().toString();\r\n            \r\n            if (Double.parseDouble(result.getText().toString()) == 0)\r\n                result.setText(str);\r\n            else\r\n                result.append(str);\r\n        }\r\n    }\r\n```\r\n\r\nThe ```if```: after the user pressed the desired number, and right before he prasses the second - the calculator&#39;s screen will show a 0. So in this ```if``` I want to check whether the result is 0 (the ```result``` is what the calculator&#39;s screen shows) to know that the user want to continue to the next number.\r\n\r\nthe ```else```: the user wants to continue adding more digits to the number for the calculations so we append the next digit.\r\n\r\nI would like to know how can I solve this problem. \r\n\r\nThanks for your time :)\r\n\r\n\r\nThe whole code:\r\n\r\n```\r\npackage com.example.myfirstproj;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView result;\r\n    double num1=0.0, num2=0.0;\r\n    String sign = &quot;&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        result = findViewById(R.id.textViewResult);\r\n    }\r\n\r\n\r\n    public void buttonFunctionNumber(View view) {\r\n        if (view instanceof Button){\r\n            Button button = (Button) view;\r\n            String str = button.getText().toString();\r\n\r\n            if (Double.parseDouble(result.getText().toString()) == 0.0)\r\n                result.setText(str);\r\n            else\r\n                result.append(str);\r\n        }\r\n    }\r\n\r\n    public void buttonEqualFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp2 = result.getText().toString();\r\n            num2 = Double.parseDouble(temp2);\r\n            double res = 0.0;\r\n\r\n            switch (sign) {\r\n                case &quot;+&quot;:\r\n                    res = num1 + num2;\r\n                    break;\r\n                case &quot;-&quot;:\r\n                    res = num1 - num2;\r\n                    break;\r\n                case &quot;*&quot;:\r\n                    res = num1 * num2;\r\n                    break;\r\n                case &quot;/&quot;:\r\n                    if (num2 != 0.0)\r\n                        res = num1 / num2;\r\n                    else\r\n                        Toast.makeText(this, &quot;Error Cant divide by 0&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n                default:\r\n                    break;\r\n\r\n            }\r\n            num1 = res;\r\n            result.setText(res + &quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonAddFunction(View view) {\r\n        if (view instanceof Button){\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;+&quot;;\r\n            result.setText(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonSubtractFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;-&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonMultiplyFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;*&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n    }\r\n\r\n    public void buttonDivideFunction(View view) {\r\n        if (view instanceof Button) {\r\n            String temp1 = result.getText().toString();\r\n            num1 = Double.parseDouble(temp1);\r\n            sign = &quot;/&quot;;\r\n            result.setText(&quot;0&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public void buttonClearFunction(View view) {\r\n        result.setText(&quot;0&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Android calculator getting crashes","body":"<p>I'm making a simple android calculator that has to support +,-,*,/ .</p>\n<p>When I try to press any button - the app crashes. After some investigations, I found out that the problem is in the inner if statement :</p>\n<pre><code>public void buttonFunctionNumber(View view) {\n        if (view instanceof Button){\n            Button button = (Button) view;\n            String str = button.getText().toString();\n            \n            if (Double.parseDouble(result.getText().toString()) == 0)\n                result.setText(str);\n            else\n                result.append(str);\n        }\n    }\n</code></pre>\n<p>The <code>if</code>: after the user pressed the desired number, and right before he prasses the second - the calculator's screen will show a 0. So in this <code>if</code> I want to check whether the result is 0 (the <code>result</code> is what the calculator's screen shows) to know that the user want to continue to the next number.</p>\n<p>the <code>else</code>: the user wants to continue adding more digits to the number for the calculations so we append the next digit.</p>\n<p>I would like to know how can I solve this problem.</p>\n<p>Thanks for your time :)</p>\n<p>The whole code:</p>\n<pre><code>package com.example.myfirstproj;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView result;\n    double num1=0.0, num2=0.0;\n    String sign = &quot;&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        result = findViewById(R.id.textViewResult);\n    }\n\n\n    public void buttonFunctionNumber(View view) {\n        if (view instanceof Button){\n            Button button = (Button) view;\n            String str = button.getText().toString();\n\n            if (Double.parseDouble(result.getText().toString()) == 0.0)\n                result.setText(str);\n            else\n                result.append(str);\n        }\n    }\n\n    public void buttonEqualFunction(View view) {\n        if (view instanceof Button) {\n            String temp2 = result.getText().toString();\n            num2 = Double.parseDouble(temp2);\n            double res = 0.0;\n\n            switch (sign) {\n                case &quot;+&quot;:\n                    res = num1 + num2;\n                    break;\n                case &quot;-&quot;:\n                    res = num1 - num2;\n                    break;\n                case &quot;*&quot;:\n                    res = num1 * num2;\n                    break;\n                case &quot;/&quot;:\n                    if (num2 != 0.0)\n                        res = num1 / num2;\n                    else\n                        Toast.makeText(this, &quot;Error Cant divide by 0&quot;, Toast.LENGTH_LONG).show();\n                    break;\n                default:\n                    break;\n\n            }\n            num1 = res;\n            result.setText(res + &quot;&quot;);\n        }\n    }\n\n    public void buttonAddFunction(View view) {\n        if (view instanceof Button){\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;+&quot;;\n            result.setText(&quot; &quot;);\n        }\n    }\n\n    public void buttonSubtractFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;-&quot;;\n            result.setText(&quot;0&quot;);\n        }\n    }\n\n    public void buttonMultiplyFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;*&quot;;\n            result.setText(&quot;0&quot;);\n        }\n    }\n\n    public void buttonDivideFunction(View view) {\n        if (view instanceof Button) {\n            String temp1 = result.getText().toString();\n            num1 = Double.parseDouble(temp1);\n            sign = &quot;/&quot;;\n            result.setText(&quot;0&quot;);\n        }\n\n    }\n\n    public void buttonClearFunction(View view) {\n        result.setText(&quot;0&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":22676405,"reputation":21,"user_id":16847325,"display_name":"George Wu"},"score":0,"creation_date":1667913153,"post_id":74354904,"comment_id":131276870,"body_markdown":"Thanks! I forget that the parameter for addLast should not be a node","body":"Thanks! I forget that the parameter for addLast should not be a node"}],"tags":[],"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667872395,"creation_date":1667872395,"answer_id":74354904,"question_id":74354707,"body_markdown":"Because you were using the [Generic Types](https://docs.oracle.com/javase/tutorial/java/generics/types.html) Java compiler will [erase](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html) all `E` to the `Integer` type, so you can&#39;t set the `ListNode&lt;Integer&gt;`\r\n\r\n\r\nthe code will be this:\r\n\r\n```java\r\npackage com.github.lemon.office;\r\n\r\nimport joptsimple.internal.Strings;\r\n\r\npublic class SingleLinkedListWorkSheetQ2Q3 {\r\n\tpublic static void main(String[] args) {\r\n\t\tListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\r\n\t\tListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\r\n\t\tlist = new ListNode&lt;&gt;(2, list);\r\n\t\tlist = new ListNode&lt;&gt;(3, list);\r\n\r\n\t\tLList2&lt;Integer&gt; temp = new LList2&lt;&gt;(list, rear);\r\n\r\n\t\ttemp.printWhile();\r\n\r\n\t\ttemp.addLast(-2);\r\n\r\n\t\ttemp.printWhile();\r\n\t}\r\n}\r\n\r\nclass ListNode&lt;E&gt; {\r\n\tprivate final E val;\r\n\tprivate ListNode&lt;E&gt; next;\r\n\r\n\tpublic ListNode(E val, ListNode&lt;E&gt; next) {\r\n\t\tthis.val = val;\r\n\t\tthis.next = next;\r\n\t}\r\n\r\n\tpublic E getVal() {\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic ListNode&lt;E&gt; getNext() {\r\n\t\treturn next;\r\n\t}\r\n\r\n\tpublic boolean hasNext() {\r\n\t\treturn next != null;\r\n\t}\r\n\r\n\tpublic void updateNext(ListNode&lt;E&gt; node) {\r\n\t\tnext = node;\r\n\t}\r\n}\r\n\r\n\r\nclass LList2&lt;E&gt; {\r\n\tprivate ListNode&lt;E&gt; front;\r\n\tprivate ListNode&lt;E&gt; rear;\r\n\r\n\tpublic LList2(ListNode&lt;E&gt; front, ListNode&lt;E&gt; rear) {\r\n\t\tthis.front = front;\r\n\t\tthis.rear = rear;\r\n\t}\r\n\r\n\tpublic void printWhile() {\r\n\t\tStringBuilder sb = new StringBuilder(&quot;[&quot;);\r\n\r\n\t\tfor (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\r\n\t\t\tsb.append(temp.getVal());\r\n\t\t\tif (temp.hasNext()) {\r\n\t\t\t\tsb.append(&quot;,&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsb.append(&quot;]&quot;);\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n\r\n\tpublic void printFor() {\r\n\t\tSystem.out.print(&quot;[&quot;);\r\n\t\tfor (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\r\n\t\t\tSystem.out.print(temp.getVal() + &quot;, &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;]&quot;);\r\n\t}\r\n\r\n\t// obj represents value\r\n\tpublic void addFirst(E obj) {\r\n\t\tfront = new ListNode&lt;E&gt;(obj, front);\r\n\t\tif (front.getNext() == null) {\r\n\t\t\trear = front;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void addLast(E obj) {\r\n\t\tif (rear != null)\r\n\t\t\trear.updateNext(new ListNode&lt;E&gt;(obj, null));\r\n\t\telse {\r\n\t\t\trear = new ListNode&lt;E&gt;(obj, null);\r\n\t\t\tfront = rear;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n}\r\n```","title":"SingleLinkedListWorkSheetQ2Q3.java:14: error: incompatible types: ListNode&lt;Integer&gt; cannot be converted to Integer","body":"<p>Because you were using the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html\" rel=\"nofollow noreferrer\">Generic Types</a> Java compiler will <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">erase</a> all <code>E</code> to the <code>Integer</code> type, so you can't set the <code>ListNode&lt;Integer&gt;</code></p>\n<p>the code will be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.lemon.office;\n\nimport joptsimple.internal.Strings;\n\npublic class SingleLinkedListWorkSheetQ2Q3 {\n    public static void main(String[] args) {\n        ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\n        ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\n        list = new ListNode&lt;&gt;(2, list);\n        list = new ListNode&lt;&gt;(3, list);\n\n        LList2&lt;Integer&gt; temp = new LList2&lt;&gt;(list, rear);\n\n        temp.printWhile();\n\n        temp.addLast(-2);\n\n        temp.printWhile();\n    }\n}\n\nclass ListNode&lt;E&gt; {\n    private final E val;\n    private ListNode&lt;E&gt; next;\n\n    public ListNode(E val, ListNode&lt;E&gt; next) {\n        this.val = val;\n        this.next = next;\n    }\n\n    public E getVal() {\n        return val;\n    }\n\n    public ListNode&lt;E&gt; getNext() {\n        return next;\n    }\n\n    public boolean hasNext() {\n        return next != null;\n    }\n\n    public void updateNext(ListNode&lt;E&gt; node) {\n        next = node;\n    }\n}\n\n\nclass LList2&lt;E&gt; {\n    private ListNode&lt;E&gt; front;\n    private ListNode&lt;E&gt; rear;\n\n    public LList2(ListNode&lt;E&gt; front, ListNode&lt;E&gt; rear) {\n        this.front = front;\n        this.rear = rear;\n    }\n\n    public void printWhile() {\n        StringBuilder sb = new StringBuilder(&quot;[&quot;);\n\n        for (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\n            sb.append(temp.getVal());\n            if (temp.hasNext()) {\n                sb.append(&quot;,&quot;);\n            }\n        }\n\n        sb.append(&quot;]&quot;);\n        System.out.println(sb);\n    }\n\n    public void printFor() {\n        System.out.print(&quot;[&quot;);\n        for (ListNode&lt;E&gt; temp = front; temp != null; temp = temp.getNext()) {\n            System.out.print(temp.getVal() + &quot;, &quot;);\n        }\n        System.out.print(&quot;]&quot;);\n    }\n\n    // obj represents value\n    public void addFirst(E obj) {\n        front = new ListNode&lt;E&gt;(obj, front);\n        if (front.getNext() == null) {\n            rear = front;\n        }\n    }\n\n    public void addLast(E obj) {\n        if (rear != null)\n            rear.updateNext(new ListNode&lt;E&gt;(obj, null));\n        else {\n            rear = new ListNode&lt;E&gt;(obj, null);\n            front = rear;\n\n        }\n\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":22676405,"reputation":21,"user_id":16847325,"display_name":"George Wu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667872395,"creation_date":1667870384,"question_id":74354707,"body_markdown":"I&#39;m trying to construct a single linked list. The single linked list has a method, addLast, that adds a node to the tail of the linked list. I created a *LList2 *class to store the first and last node of the list.\r\n\r\nThe error occurs when I try to use the addLast method in the driver class. Below is my code. Any suggestions would be helpful!\r\n\r\n`\r\n```\r\n// Part One Question 2,3\r\n\r\npublic class SingleLinkedListWorkSheetQ2Q3{\r\n   public static void main (String[] args){\r\n      ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\r\n      ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\r\n      list = new ListNode&lt;&gt;(2, list);\r\n      list = new ListNode&lt;&gt;(3, list);\r\n      \r\n      LList2 &lt;Integer&gt; temp = new LList2 &lt;&gt; (list, rear);\r\n      \r\n      temp.printWhile();\r\n      \r\n      temp.addLast(new ListNode&lt;Integer&gt; (-2, null));\r\n   }\r\n}\r\n\r\nclass ListNode &lt;E&gt; {\r\n   private E val;\r\n   private ListNode &lt;E&gt; next;\r\n   \r\n   public ListNode(E val, ListNode &lt;E&gt; next){\r\n      this.val = val;\r\n      this.next = next;\r\n   }\r\n   \r\n   public E getVal(){\r\n      return val;\r\n   }\r\n   \r\n   public ListNode &lt;E&gt; getNext(){\r\n      return next;\r\n   }\r\n   \r\n   public void updateNext(ListNode &lt;E&gt; node){\r\n      next = node;\r\n   }\r\n}\r\n\r\n\r\n\r\nclass LList2 &lt;E&gt; {\r\n   private ListNode &lt;E&gt; front;\r\n   private ListNode &lt;E&gt; rear;\r\n   \r\n   public LList2(ListNode &lt;E&gt; front, ListNode &lt;E&gt; rear){\r\n      this.front = front;\r\n      this.rear = rear;\r\n   }\r\n   \r\n   public void printWhile(){\r\n      System.out.print(&quot;[&quot;);\r\n      while(front != null){\r\n         System.out.print(front.getVal() + &quot;, &quot;);\r\n         front = front.getNext();\r\n      }\r\n      System.out.print(&quot;]&quot;);\r\n   }\r\n   \r\n   public void printFor(){\r\n      System.out.print(&quot;[&quot;);\r\n      for(ListNode &lt;E&gt; temp = front; temp != null; temp = temp.getNext()){\r\n         System.out.print(temp.getVal() + &quot;, &quot;);\r\n      }\r\n      System.out.print(&quot;]&quot;);\r\n   }\r\n   \r\n   // obj represents value\r\n   public void addFirst(E obj){\r\n      front = new ListNode&lt;E&gt;(obj, front);\r\n      if(front.getNext() == null){\r\n         rear = front;\r\n      }\r\n   }\r\n   \r\n   public void addLast(E obj){\r\n      if(rear != null)\r\n         rear.updateNext(new ListNode&lt;E&gt;(obj, null));\r\n      else{\r\n         rear = new ListNode&lt;E&gt;(obj, null);\r\n         front = rear;\r\n         \r\n      }\r\n      \r\n   }\r\n   \r\n   \r\n\r\n}\r\n```\r\n`\r\n","title":"SingleLinkedListWorkSheetQ2Q3.java:14: error: incompatible types: ListNode&lt;Integer&gt; cannot be converted to Integer","body":"<p>I'm trying to construct a single linked list. The single linked list has a method, addLast, that adds a node to the tail of the linked list. I created a *LList2 *class to store the first and last node of the list.</p>\n<p>The error occurs when I try to use the addLast method in the driver class. Below is my code. Any suggestions would be helpful!</p>\n<p>`</p>\n<pre><code>// Part One Question 2,3\n\npublic class SingleLinkedListWorkSheetQ2Q3{\n   public static void main (String[] args){\n      ListNode&lt;Integer&gt; rear = new ListNode&lt;&gt;(0, null);\n      ListNode&lt;Integer&gt; list = new ListNode&lt;&gt;(1, rear);\n      list = new ListNode&lt;&gt;(2, list);\n      list = new ListNode&lt;&gt;(3, list);\n      \n      LList2 &lt;Integer&gt; temp = new LList2 &lt;&gt; (list, rear);\n      \n      temp.printWhile();\n      \n      temp.addLast(new ListNode&lt;Integer&gt; (-2, null));\n   }\n}\n\nclass ListNode &lt;E&gt; {\n   private E val;\n   private ListNode &lt;E&gt; next;\n   \n   public ListNode(E val, ListNode &lt;E&gt; next){\n      this.val = val;\n      this.next = next;\n   }\n   \n   public E getVal(){\n      return val;\n   }\n   \n   public ListNode &lt;E&gt; getNext(){\n      return next;\n   }\n   \n   public void updateNext(ListNode &lt;E&gt; node){\n      next = node;\n   }\n}\n\n\n\nclass LList2 &lt;E&gt; {\n   private ListNode &lt;E&gt; front;\n   private ListNode &lt;E&gt; rear;\n   \n   public LList2(ListNode &lt;E&gt; front, ListNode &lt;E&gt; rear){\n      this.front = front;\n      this.rear = rear;\n   }\n   \n   public void printWhile(){\n      System.out.print(&quot;[&quot;);\n      while(front != null){\n         System.out.print(front.getVal() + &quot;, &quot;);\n         front = front.getNext();\n      }\n      System.out.print(&quot;]&quot;);\n   }\n   \n   public void printFor(){\n      System.out.print(&quot;[&quot;);\n      for(ListNode &lt;E&gt; temp = front; temp != null; temp = temp.getNext()){\n         System.out.print(temp.getVal() + &quot;, &quot;);\n      }\n      System.out.print(&quot;]&quot;);\n   }\n   \n   // obj represents value\n   public void addFirst(E obj){\n      front = new ListNode&lt;E&gt;(obj, front);\n      if(front.getNext() == null){\n         rear = front;\n      }\n   }\n   \n   public void addLast(E obj){\n      if(rear != null)\n         rear.updateNext(new ListNode&lt;E&gt;(obj, null));\n      else{\n         rear = new ListNode&lt;E&gt;(obj, null);\n         front = rear;\n         \n      }\n      \n   }\n   \n   \n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","vlc","vlcj"],"answers":[{"comments":[{"owner":{"account_id":11992382,"reputation":25,"user_id":8775060,"display_name":"R&#233;mi Grandzinski"},"score":0,"creation_date":1545594302,"post_id":53903055,"comment_id":94657768,"body_markdown":"Thank you. I had no results with the other events but the positionChanged evenr worked well enough for me. Thanks!","body":"Thank you. I had no results with the other events but the positionChanged evenr worked well enough for me. Thanks!"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1549372563,"post_id":53903055,"comment_id":95872064,"body_markdown":"Just a follow-up, with vlcj-3.12.1 you can now wait for mediaPlayerReady event to serve the same purpose (it&#39;s essentially the same thing as waiting for that first positionChanged event).","body":"Just a follow-up, with vlcj-3.12.1 you can now wait for mediaPlayerReady event to serve the same purpose (it&#39;s essentially the same thing as waiting for that first positionChanged event)."}],"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1545563013,"creation_date":1545563013,"answer_id":53903055,"question_id":53822108,"body_markdown":"I don&#39;t know for certain, but you could try some other event listener methods - perhaps the videoOutput, elementaryStreamAdded or elementaryStreamSelected (and check the stream type parameter was video), or maybe wait for the very first positionChanged event (whilst not ideal, it might work well enough for your use case).","title":"Vlcj change video background color","body":"<p>I don't know for certain, but you could try some other event listener methods - perhaps the videoOutput, elementaryStreamAdded or elementaryStreamSelected (and check the stream type parameter was video), or maybe wait for the very first positionChanged event (whilst not ideal, it might work well enough for your use case).</p>\n"}],"owner":{"account_id":11992382,"reputation":25,"user_id":8775060,"display_name":"R&#233;mi Grandzinski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53903055,"answer_count":1,"score":1,"last_activity_date":1667870821,"creation_date":1545076291,"question_id":53822108,"body_markdown":"I&#39;m creating a narrative application in which I need to play videos.\r\n\r\nWhen playing a media with `MediaPlayer.playMedia(Media media)`.\r\nIn order to avoid the black background I wait the wait for the playing event before showing the media player.\r\n\r\n            player.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\r\n                \r\n                @Override\r\n                public void playing(MediaPlayer mediaPlayer) {\r\n                    showVideo();\r\n                }\r\n            }\r\n\r\nThe problem is that this event is triggered before the video actually starts playing, so it still displays black for a little while before.\r\n\r\nHow can I find a way around this? Thanks","title":"Vlcj change video background color","body":"<p>I'm creating a narrative application in which I need to play videos.</p>\n<p>When playing a media with <code>MediaPlayer.playMedia(Media media)</code>.\nIn order to avoid the black background I wait the wait for the playing event before showing the media player.</p>\n<pre><code>        player.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {\n            \n            @Override\n            public void playing(MediaPlayer mediaPlayer) {\n                showVideo();\n            }\n        }\n</code></pre>\n<p>The problem is that this event is triggered before the video actually starts playing, so it still displays black for a little while before.</p>\n<p>How can I find a way around this? Thanks</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":12908729,"reputation":1,"user_id":9335192,"display_name":"Jogeswar Challapalli"},"score":0,"creation_date":1667920167,"post_id":74353633,"comment_id":131279942,"body_markdown":"I am using the sample code on GitHub  https://github.com/sangonzal/jwt-validation-java Only thing I am running on IBM integration platform as a module instead of a standalone Java program. Also, the description of this code is well documented here.. https://sgonzal.com/2020/04/06/jwt-validation.html.","body":"I am using the sample code on GitHub  <a href=\"https://github.com/sangonzal/jwt-validation-java\" rel=\"nofollow noreferrer\">github.com/sangonzal/jwt-validation-java</a> Only thing I am running on IBM integration platform as a module instead of a standalone Java program. Also, the description of this code is well documented here.. <a href=\"https://sgonzal.com/2020/04/06/jwt-validation.html\" rel=\"nofollow noreferrer\">sgonzal.com/2020/04/06/jwt-validation.html</a>."}],"answers":[{"comments":[{"owner":{"account_id":12908729,"reputation":1,"user_id":9335192,"display_name":"Jogeswar Challapalli"},"score":0,"creation_date":1667920018,"post_id":74354702,"comment_id":131279874,"body_markdown":"To give you more details of the code, I am using exactly the sample code provided on GitHub, at https://github.com/sangonzal/jwt-validation-java. No changes from this sample code.","body":"To give you more details of the code, I am using exactly the sample code provided on GitHub, at <a href=\"https://github.com/sangonzal/jwt-validation-java\" rel=\"nofollow noreferrer\">github.com/sangonzal/jwt-validation-java</a>. No changes from this sample code."},{"owner":{"account_id":1611204,"reputation":650,"user_id":1490061,"display_name":"Stof"},"score":0,"creation_date":1667997171,"post_id":74354702,"comment_id":131300125,"body_markdown":"that code repo has a link to a post https://sgonzal.com/2020/04/06/jwt-validation.html which explains the portion I detailed about JWKS too, this is where the public keys are obtained to do signature verification, do not generate a new public key because then you cannot reproduce he same signature as the server who doesn&#39;t have your generated public key","body":"that code repo has a link to a post <a href=\"https://sgonzal.com/2020/04/06/jwt-validation.html\" rel=\"nofollow noreferrer\">sgonzal.com/2020/04/06/jwt-validation.html</a> which explains the portion I detailed about JWKS too, this is where the public keys are obtained to do signature verification, do not generate a new public key because then you cannot reproduce he same signature as the server who doesn&#39;t have your generated public key"}],"tags":[],"owner":{"account_id":1611204,"reputation":650,"user_id":1490061,"display_name":"Stof"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667870354,"creation_date":1667870354,"answer_id":74354702,"question_id":74353633,"body_markdown":"Several things.\r\n\r\n1. the sample is incomplete, and seems mixed up. Is this the role of consumer doing a signature verification?\r\n\r\n2. You are generating a public key which is not an expected behaviour for the verify method of a consumer, you typically &#39;use&#39; the JWK retrieved from the JWKS URL provided by the JWT producer (AzureAD) not generate a new public key that was not used to generate the signature? To verify a signature, you need to reproduce the same signature by having all the inputs the server used when they generated it. A signature is simply a representation of the payload to ensure the payload was not modified, i.e. integrity check. This is the purpose of the signature and why you must have the same inputs to generate it on the client, wither you gain the inputs used out-of-band somehow (not how AzureAD works) or you use the JWKS to retrieve the appropriate public key for the verify method.\r\n\r\n3. It appears you also expect there to be encrypted claims, based on the RSA reference in your example. If this is intended you would also require you to *decipher* the payload to access the *cleartext*. This requires you to have implemented the appropriate PKI. As a consumer (client) the private key must be generated and never shared (or retrieved). Encryption implemented correctly ensures that only the client intended to read the cleartext data &#39;can&#39; decipher it with the private key, which it itself generated for this purpose, and only it (the client) has control of the private key. Have you the appropriate PKI to do the encrypted JWT properly? Or are you expecting to  only utilise the HMAC-based JWT that has no encryption at all and relies on only signature verification (and therefore all claims are public, not protected).\r\n\r\nTo summaries, there are 2 distinct modes of JWT; 1) HMAC-based that uses signatures where the same inputs are needed on client to verify the signature as was used on server to generate the signature, and this is for integrity only, there is no encryption to protect data. 2) encryption-based JWT that uses a public key for signature verification and the private key used by clients to decipher the encrypted claims data.\r\n\r\n1 requires PKI, 2 doesn&#39;t.\r\n2 has no data protection and is useful for stateless claims that are intended to be public and therefore verification of the &#39;claims&#39; before use is how you gain security assurance. Whereas 1 offers the security characteristic of confidentiality and if the PKI is done correctly (private keys are never shared) then the confidential claims data can have more private use cases.","title":"JWT validation using Jwts.parser giving Invalid signature","body":"<p>Several things.</p>\n<ol>\n<li><p>the sample is incomplete, and seems mixed up. Is this the role of consumer doing a signature verification?</p>\n</li>\n<li><p>You are generating a public key which is not an expected behaviour for the verify method of a consumer, you typically 'use' the JWK retrieved from the JWKS URL provided by the JWT producer (AzureAD) not generate a new public key that was not used to generate the signature? To verify a signature, you need to reproduce the same signature by having all the inputs the server used when they generated it. A signature is simply a representation of the payload to ensure the payload was not modified, i.e. integrity check. This is the purpose of the signature and why you must have the same inputs to generate it on the client, wither you gain the inputs used out-of-band somehow (not how AzureAD works) or you use the JWKS to retrieve the appropriate public key for the verify method.</p>\n</li>\n<li><p>It appears you also expect there to be encrypted claims, based on the RSA reference in your example. If this is intended you would also require you to <em>decipher</em> the payload to access the <em>cleartext</em>. This requires you to have implemented the appropriate PKI. As a consumer (client) the private key must be generated and never shared (or retrieved). Encryption implemented correctly ensures that only the client intended to read the cleartext data 'can' decipher it with the private key, which it itself generated for this purpose, and only it (the client) has control of the private key. Have you the appropriate PKI to do the encrypted JWT properly? Or are you expecting to  only utilise the HMAC-based JWT that has no encryption at all and relies on only signature verification (and therefore all claims are public, not protected).</p>\n</li>\n</ol>\n<p>To summaries, there are 2 distinct modes of JWT; 1) HMAC-based that uses signatures where the same inputs are needed on client to verify the signature as was used on server to generate the signature, and this is for integrity only, there is no encryption to protect data. 2) encryption-based JWT that uses a public key for signature verification and the private key used by clients to decipher the encrypted claims data.</p>\n<p>1 requires PKI, 2 doesn't.\n2 has no data protection and is useful for stateless claims that are intended to be public and therefore verification of the 'claims' before use is how you gain security assurance. Whereas 1 offers the security characteristic of confidentiality and if the PKI is done correctly (private keys are never shared) then the confidential claims data can have more private use cases.</p>\n"}],"owner":{"account_id":12908729,"reputation":1,"user_id":9335192,"display_name":"Jogeswar Challapalli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667870354,"creation_date":1667860134,"question_id":74353633,"body_markdown":"I have a token issued by Azure AD. I need to verify the token in my API, which is running on IBM platform.\r\nI am writing the token verifier in Java,using\r\nclaims = Jwts.parser().setSigningKeyResolver(signingKeyResolver).parseClaimsJws(accessToken);\r\nThe signingKeyResolver is returning a public key. No issues.\r\nI use the following code to get the public key :\r\n\r\n```\r\nBigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(key.getN()));\r\n\t            BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(key.getE()));\r\n\r\n\t            RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(modulus, exponent);\r\n\t            KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n\t            Provider provider = factory.getProvider();\r\n\t            PublicKey pubkey = factory.generatePublic(publicSpec);\r\n\t            return factory.generatePublic(publicSpec);\r\n```\r\nCan any one throw some light on Why the signature is invalid ? I observe one thing when I create the factory, the Provider name shows IBMJCEPLUS. Does it have any impact on the key generation ? If so, how do I create the correct factory for Microsoft issued keys ?\r\n\r\nLooking for a general advice in creating the factory..","title":"JWT validation using Jwts.parser giving Invalid signature","body":"<p>I have a token issued by Azure AD. I need to verify the token in my API, which is running on IBM platform.\nI am writing the token verifier in Java,using\nclaims = Jwts.parser().setSigningKeyResolver(signingKeyResolver).parseClaimsJws(accessToken);\nThe signingKeyResolver is returning a public key. No issues.\nI use the following code to get the public key :</p>\n<pre><code>BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(key.getN()));\n                BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(key.getE()));\n\n                RSAPublicKeySpec publicSpec = new RSAPublicKeySpec(modulus, exponent);\n                KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n                Provider provider = factory.getProvider();\n                PublicKey pubkey = factory.generatePublic(publicSpec);\n                return factory.generatePublic(publicSpec);\n</code></pre>\n<p>Can any one throw some light on Why the signature is invalid ? I observe one thing when I create the factory, the Provider name shows IBMJCEPLUS. Does it have any impact on the key generation ? If so, how do I create the correct factory for Microsoft issued keys ?</p>\n<p>Looking for a general advice in creating the factory..</p>\n"},{"tags":["java","android","dalvik","decompiling","smali"],"comments":[{"owner":{"account_id":3895256,"reputation":3542,"user_id":3224483,"accept_rate":70,"display_name":"Rainbolt"},"score":2,"creation_date":1392837269,"post_id":21889983,"comment_id":33147587,"body_markdown":"If this is Java, I&#39;m far less familiar with the language than I thought I was.","body":"If this is Java, I&#39;m far less familiar with the language than I thought I was."},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392837346,"post_id":21889983,"comment_id":33147633,"body_markdown":"this is not java. it is smali. and it looks much more logically to me too when it is decompiled back to java:","body":"this is not java. it is smali. and it looks much more logically to me too when it is decompiled back to java:"},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392839301,"post_id":21889983,"comment_id":33148971,"body_markdown":"In java it looks something like this: \nhttp://pastebin.com/yMRngsGb","body":"In java it looks something like this:  <a href=\"http://pastebin.com/yMRngsGb\" rel=\"nofollow noreferrer\">pastebin.com/yMRngsGb</a>"},{"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"score":0,"creation_date":1392839428,"post_id":21889983,"comment_id":33149055,"body_markdown":"Dalvik opcodes\nhttp://pallergabor.uw.hu/androidblog/dalvik_opcodes.html","body":"Dalvik opcodes <a href=\"http://pallergabor.uw.hu/androidblog/dalvik_opcodes.html\" rel=\"nofollow noreferrer\">pallergabor.uw.hu/androidblog/dalvik_opcodes.html</a>"},{"owner":{"account_id":164385,"reputation":4273,"user_id":387103,"accept_rate":71,"display_name":"danfuzz"},"score":0,"creation_date":1392839702,"post_id":21889983,"comment_id":33149256,"body_markdown":"Official docs  (more complete and up-to-date): https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html","body":"Official docs  (more complete and up-to-date): <a href=\"https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html\" rel=\"nofollow noreferrer\">source.android.com/devices/tech/dalvik/dalvik-bytecode.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2260432,"reputation":13453,"user_id":1990684,"accept_rate":60,"display_name":"DevZer0"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394263086,"creation_date":1394263086,"answer_id":22266372,"question_id":21889983,"body_markdown":"just before the `return-object v0` do the following\r\n\r\n    const-string v0, &quot;8c0f0f0f0f0f0f0f&quot;\r\n\r\nso your full code will read\r\n\r\n    const-string v0, &quot;8c0f0f0f0f0f0f0f&quot;\r\n    return-object v0\r\n\r\nyou can also comment out the other code which uses the `StringBuilder` if you want.","title":"How to return a static result in smali function","body":"<p>just before the <code>return-object v0</code> do the following</p>\n\n<pre><code>const-string v0, \"8c0f0f0f0f0f0f0f\"\n</code></pre>\n\n<p>so your full code will read</p>\n\n<pre><code>const-string v0, \"8c0f0f0f0f0f0f0f\"\nreturn-object v0\n</code></pre>\n\n<p>you can also comment out the other code which uses the <code>StringBuilder</code> if you want.</p>\n"},{"tags":[],"owner":{"account_id":137078,"reputation":937,"user_id":341032,"display_name":"QJGui"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395226704,"creation_date":1395226704,"answer_id":22503642,"question_id":21889983,"body_markdown":"Here I use apktool to convert java to smali.\r\n\r\nJava Code:\r\n\r\n    private static final String TAG = &quot;Loop&quot;;\r\n    \r\n    public static String getTag()\r\n    {\r\n        return TAG;\r\n    }\r\n\r\nsmali code:\r\n\r\n    # static fields\r\n    .field private static final TAG:Ljava/lang/String; = &quot;Loop&quot;\r\n    \r\n    .method public static getTag()Ljava/lang/String;\r\n        .locals 1\r\n    \r\n        .prologue\r\n      .line 35\r\n        const-string v0, &quot;Loop&quot;\r\n    \r\n      .line 38\r\n        return-object v0\r\n    .end method\r\n\r\n","title":"How to return a static result in smali function","body":"<p>Here I use apktool to convert java to smali.</p>\n\n<p>Java Code:</p>\n\n<pre><code>private static final String TAG = \"Loop\";\n\npublic static String getTag()\n{\n    return TAG;\n}\n</code></pre>\n\n<p>smali code:</p>\n\n<pre><code># static fields\n.field private static final TAG:Ljava/lang/String; = \"Loop\"\n\n.method public static getTag()Ljava/lang/String;\n    .locals 1\n\n    .prologue\n  .line 35\n    const-string v0, \"Loop\"\n\n  .line 38\n    return-object v0\n.end method\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668127045,"post_id":74354459,"comment_id":131336926,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74354459/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26861533,"reputation":1,"user_id":20444933,"display_name":"Rahul Choudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667867168,"creation_date":1667867168,"answer_id":74354459,"question_id":21889983,"body_markdown":" const-string v31, &quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAuNJREFUeAHtmeeOjVEUho/ee5cwOrfgMlyD30KIECJEiD+EjBAhBEEQRG9Ro/cyRi+jzfyUuAGexVmJfNnfWXPG2cd821rJmn1mvbus592nTCmVPNwBd8AdcAfcAXfAHXAH3AF3wB1Iy4Fe4Kwh28opj3uS/0UI/GnyRybFhORD4E+RWXj5vi11enmKn8yBFwNaUzZA4I9XgBcDkn0J9ADumAF/Bj3JN0GBP2rAn0WX94bkQuCPkKE3PK2dQ++dHDlA3cnDpIKGxvPoycIfMuAvoPchkwu5+YNk6Ma1dhE9SfhugB0w4C+h9yWTC4HfT+oth8bL6MnC7zPgr6D3I5MLufm9ZOjGtXYVPUn4roDtMeCvofcnkwuB303qLYfG6+hR4OUnrJnllMf1DoHfRYagtXYDfUCMxhrY9NkfhzfxeEaMg3L2FPidpIKGxpvoUeDZt3QicLj8IWG6iJGjC/vvIEPQWruFPjBmH99zGmilPi3iwQK/Pedshb+NHhVe+JorNPEVbapMqnEI/DZSQUPjHfRBNT43uN0so5Ev6FOCKztWFPitZAhaa3fR6wKvCHOMhmplgsBvMc66hz6YrHvM5US9gdD4GX3yX3Ql8JuNM+6j/xN45ZpnNPgJfZJOrnLcZOz9AH1IlXtGmT7faPQj+sQqT95o7PkQfWiVe0advsBouAV9AtmeaGRS6CWltUfonQpeoRYajbegN+jknHEDdQUNjY/Rh+Ws7RTlRQbAB/TxOZ2uN9Y+QR+es7ZTlRcbIO/RsyasM9Y8RS8EPH3+iiV8DT2FtfYOfdzvqaW1xtwm9BHluYUalhpgb9Gtz3n5rbOQ8HpTywwT9BkRGptZO1I3KvK4vAMmPGfNqCJDZ3tfQSF0y6HaC+aOzm6Qwvcr22HCy1Th9QJXVTDhFdoYnZjyuDpgwmtqY1OGzrLNpvCG/EbKf3QK/VFH/x7ugDvgDrgD7oA74A64A+6AO5CYAz8BTKvBYQffZ+YAAAAASUVORK5CYII=&quot;\r\n\r\n    invoke-direct/range {v24 .. v31}, Lcom/facebook/ads/redexgen/X/Od;-&gt;&lt;init&gt;(Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V","title":"How to return a static result in smali function","body":"<p>const-string v31, &quot;iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAuNJREFUeAHtmeeOjVEUho/ee5cwOrfgMlyD30KIECJEiD+EjBAhBEEQRG9Ro/cyRi+jzfyUuAGexVmJfNnfWXPG2cd821rJmn1mvbus592nTCmVPNwBd8AdcAfcAXfAHXAH3AF3wB1Iy4Fe4Kwh28opj3uS/0UI/GnyRybFhORD4E+RWXj5vi11enmKn8yBFwNaUzZA4I9XgBcDkn0J9ADumAF/Bj3JN0GBP2rAn0WX94bkQuCPkKE3PK2dQ++dHDlA3cnDpIKGxvPoycIfMuAvoPchkwu5+YNk6Ma1dhE9SfhugB0w4C+h9yWTC4HfT+oth8bL6MnC7zPgr6D3I5MLufm9ZOjGtXYVPUn4roDtMeCvofcnkwuB303qLYfG6+hR4OUnrJnllMf1DoHfRYagtXYDfUCMxhrY9NkfhzfxeEaMg3L2FPidpIKGxpvoUeDZt3QicLj8IWG6iJGjC/vvIEPQWruFPjBmH99zGmilPi3iwQK/Pedshb+NHhVe+JorNPEVbapMqnEI/DZSQUPjHfRBNT43uN0so5Ev6FOCKztWFPitZAhaa3fR6wKvCHOMhmplgsBvMc66hz6YrHvM5US9gdD4GX3yX3Ql8JuNM+6j/xN45ZpnNPgJfZJOrnLcZOz9AH1IlXtGmT7faPQj+sQqT95o7PkQfWiVe0advsBouAV9AtmeaGRS6CWltUfonQpeoRYajbegN+jknHEDdQUNjY/Rh+Ws7RTlRQbAB/TxOZ2uN9Y+QR+es7ZTlRcbIO/RsyasM9Y8RS8EPH3+iiV8DT2FtfYOfdzvqaW1xtwm9BHluYUalhpgb9Gtz3n5rbOQ8HpTywwT9BkRGptZO1I3KvK4vAMmPGfNqCJDZ3tfQSF0y6HaC+aOzm6Qwvcr22HCy1Th9QJXVTDhFdoYnZjyuDpgwmtqY1OGzrLNpvCG/EbKf3QK/VFH/x7ugDvgDrgD7oA74A64A+6AO5CYAz8BTKvBYQffZ+YAAAAASUVORK5CYII=&quot;</p>\n<pre><code>invoke-direct/range {v24 .. v31}, Lcom/facebook/ads/redexgen/X/Od;-&gt;&lt;init&gt;(Ljava/lang/String;ILjava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V\n</code></pre>\n"}],"owner":{"account_id":4049514,"reputation":11,"user_id":3329615,"display_name":"user3329615"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667867168,"creation_date":1392836822,"question_id":21889983,"body_markdown":"    .method public c()Ljava/lang/String;\r\n    .locals 3\r\n\r\n    const/4 v1, 0x0\r\n\r\n    const-string v0, &quot;wifi&quot;\r\n\r\n    invoke-virtual {p0, v0}, Lcom/genwen/looltv/start/Appstart;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;\r\n\r\n    move-result-object v0\r\n\r\n    check-cast v0, Landroid/net/wifi/WifiManager;\r\n\r\n    if-nez v0, :cond_1\r\n\r\n    move-object v0, v1\r\n\r\n    :goto_0\r\n    if-eqz v0, :cond_2\r\n\r\n    invoke-virtual {v0}, Landroid/net/wifi/WifiInfo;-&gt;getMacAddress()Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n    if-eqz v0, :cond_0\r\n\r\n    const-string v1, &quot;:&quot;\r\n\r\n    const-string v2, &quot;&quot;\r\n\r\n    invoke-virtual {v0, v1, v2}, Ljava/lang/String;-&gt;replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n\tnew-instance v1, Ljava/lang/StringBuilder;\r\n\r\n    const-string v2, &quot;8c0f&quot;\r\n\r\n    invoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\r\n\r\n    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n\r\n    move-result-object v0\r\n\r\n    invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\r\n\r\n    move-result-object v0\r\n\r\n    :cond_0\r\n    :goto_1\r\n    return-object v0\r\n\r\n    :cond_1\r\n    invoke-virtual {v0}, Landroid/net/wifi/WifiManager;-&gt;getConnectionInfo()Landroid/net/wifi/WifiInfo;\r\n\r\n    move-result-object v0\r\n\r\n    goto :goto_0\r\n\r\n    :cond_2\r\n    move-object v0, v1\r\n\r\n    goto :goto_1\r\n    .end method\r\n\r\nthis is a simple smali function that returns the mac address of the device with &#39;8c0f&#39; at the beginning after stripping the : from the mac address. \r\n\r\ni want it to return a static mac address like &#39;8c0f0f0f0f0f0f0f&#39; not the real mac address. how can i do that?","title":"How to return a static result in smali function","body":"<pre><code>.method public c()Ljava/lang/String;\n.locals 3\n\nconst/4 v1, 0x0\n\nconst-string v0, \"wifi\"\n\ninvoke-virtual {p0, v0}, Lcom/genwen/looltv/start/Appstart;-&gt;getSystemService(Ljava/lang/String;)Ljava/lang/Object;\n\nmove-result-object v0\n\ncheck-cast v0, Landroid/net/wifi/WifiManager;\n\nif-nez v0, :cond_1\n\nmove-object v0, v1\n\n:goto_0\nif-eqz v0, :cond_2\n\ninvoke-virtual {v0}, Landroid/net/wifi/WifiInfo;-&gt;getMacAddress()Ljava/lang/String;\n\nmove-result-object v0\n\nif-eqz v0, :cond_0\n\nconst-string v1, \":\"\n\nconst-string v2, \"\"\n\ninvoke-virtual {v0, v1, v2}, Ljava/lang/String;-&gt;replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;\n\nmove-result-object v0\n\nnew-instance v1, Ljava/lang/StringBuilder;\n\nconst-string v2, \"8c0f\"\n\ninvoke-direct {v1, v2}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/String;)V\n\ninvoke-virtual {v1, v0}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder;\n\nmove-result-object v0\n\ninvoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String;\n\nmove-result-object v0\n\n:cond_0\n:goto_1\nreturn-object v0\n\n:cond_1\ninvoke-virtual {v0}, Landroid/net/wifi/WifiManager;-&gt;getConnectionInfo()Landroid/net/wifi/WifiInfo;\n\nmove-result-object v0\n\ngoto :goto_0\n\n:cond_2\nmove-object v0, v1\n\ngoto :goto_1\n.end method\n</code></pre>\n\n<p>this is a simple smali function that returns the mac address of the device with '8c0f' at the beginning after stripping the : from the mac address. </p>\n\n<p>i want it to return a static mac address like '8c0f0f0f0f0f0f0f' not the real mac address. how can i do that?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":1,"creation_date":1667842829,"post_id":74350680,"comment_id":131259364,"body_markdown":"There are ways to parse that file format, but it would be significantly easier to use a more common format such as JSON where many libraries already exist to parse it for you. Is using an alternative file format an option for you?","body":"There are ways to parse that file format, but it would be significantly easier to use a more common format such as JSON where many libraries already exist to parse it for you. Is using an alternative file format an option for you?"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1667842945,"post_id":74350680,"comment_id":131259399,"body_markdown":"I also think that JSON would be better as @hopperelec mentioned. Or XML format.","body":"I also think that JSON would be better as @hopperelec mentioned. Or XML format."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":1,"creation_date":1667843058,"post_id":74350680,"comment_id":131259432,"body_markdown":"It is a bit strange. Why after `itemName` there is a colon `:`, but after `itemStats` there isn&#39;t?","body":"It is a bit strange. Why after <code>itemName</code> there is a colon <code>:</code>, but after <code>itemStats</code> there isn&#39;t?"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667843128,"post_id":74350680,"comment_id":131259459,"body_markdown":"it&#39;s not the file the problem it&#39;s taking the data, i can acess and read it, i just don&#39;t know how to make te code get the name and stats","body":"it&#39;s not the file the problem it&#39;s taking the data, i can acess and read it, i just don&#39;t know how to make te code get the name and stats"},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1667843292,"post_id":74350680,"comment_id":131259522,"body_markdown":"&#39;make the code get the name and stats&#39; so you&#39;re looking to read properties from text, which is known as parsing. Parsing custom file formats (I don&#39;t recognise this file format so I&#39;m assuming it&#39;s custom) can be quite difficult, but there are alternative formats, such as what I and Christoph suggested, where the code to parse it has already been written for you","body":"&#39;make the code get the name and stats&#39; so you&#39;re looking to read properties from text, which is known as parsing. Parsing custom file formats (I don&#39;t recognise this file format so I&#39;m assuming it&#39;s custom) can be quite difficult, but there are alternative formats, such as what I and Christoph suggested, where the code to parse it has already been written for you"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667843635,"post_id":74350680,"comment_id":131259631,"body_markdown":"the format is just a .txt so the user can create a new item using the same &quot;formula&quot;. i didn&#39;t know it was called parsing, now i may search better for how to do it... ah and sorry for my bad english, i&#39;m not a native speaker.","body":"the format is just a .txt so the user can create a new item using the same &quot;formula&quot;. i didn&#39;t know it was called parsing, now i may search better for how to do it... ah and sorry for my bad english, i&#39;m not a native speaker."},{"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"score":0,"creation_date":1667843820,"post_id":74350680,"comment_id":131259710,"body_markdown":".txt is just a file extension which doesn&#39;t necessarily indicate whether the contents are formatted in a specific way. JSON is actually pretty similar to your &quot;formula&quot; and I think it is formatted in a way which would actually be easier for a user to make changes to, partly because it is slightly more flexible (for example, both speech marks and apostrophes work for strings + most whitespace and new lines are ignored so can be used for formatting to make it more readable). Here is what your file would look like in JSON format: {&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}","body":".txt is just a file extension which doesn&#39;t necessarily indicate whether the contents are formatted in a specific way. JSON is actually pretty similar to your &quot;formula&quot; and I think it is formatted in a way which would actually be easier for a user to make changes to, partly because it is slightly more flexible (for example, both speech marks and apostrophes work for strings + most whitespace and new lines are ignored so can be used for formatting to make it more readable). Here is what your file would look like in JSON format: {&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1667844439,"post_id":74350680,"comment_id":131259944,"body_markdown":"great i just need to parse now right? i&#39;m searchin but can&#39;t understand much, so i&#39;m trying diffrent methods tomorrow. thanks","body":"great i just need to parse now right? i&#39;m searchin but can&#39;t understand much, so i&#39;m trying diffrent methods tomorrow. thanks"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667847894,"post_id":74350680,"comment_id":131261091,"body_markdown":"If you can’t change the file format to JSON or CSV or anything a pre-defined parser, you could go for regular expressions using java.util.regex.Pattern.","body":"If you can’t change the file format to JSON or CSV or anything a pre-defined parser, you could go for regular expressions using java.util.regex.Pattern."}],"answers":[{"tags":[],"owner":{"account_id":23052047,"reputation":133,"user_id":17168710,"display_name":"hopperelec"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667844826,"creation_date":1667844826,"answer_id":74351087,"question_id":74350680,"body_markdown":"What you&#39;re looking for is to &#39;parse&#39; your text file. Parsing is where you convert arbitrary data (usually human-readable text) into data your computer program can understand. Parsing custom formats (which I assume this is since I don&#39;t seem to recognise it) can be quite difficult, so you may want to consider using a more popular format such as JSON which already has plenty of libraries to parse it for you. JSON is actually pretty similar to the format you&#39;re using already, so it shouldn&#39;t be too difficult to make the switch! The data you provided could look like this in the JSON format (some minor changes can be made, for example the whitespace between values can be removed):\r\n```\r\n{&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}\r\n```","title":"Taking data from a line of another file","body":"<p>What you're looking for is to 'parse' your text file. Parsing is where you convert arbitrary data (usually human-readable text) into data your computer program can understand. Parsing custom formats (which I assume this is since I don't seem to recognise it) can be quite difficult, so you may want to consider using a more popular format such as JSON which already has plenty of libraries to parse it for you. JSON is actually pretty similar to the format you're using already, so it shouldn't be too difficult to make the switch! The data you provided could look like this in the JSON format (some minor changes can be made, for example the whitespace between values can be removed):</p>\n<pre><code>{&quot;itemName&quot;: &quot;Steel Sword&quot;, &quot;itemStats&quot;: [2,0,0]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1668183656,"post_id":74354384,"comment_id":131351514,"body_markdown":"thanks for the code. i have only two questions: if i have more items in the json will it read all of them? and how can i select 1 of those items from the list? thanks again","body":"thanks for the code. i have only two questions: if i have more items in the json will it read all of them? and how can i select 1 of those items from the list? thanks again"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668226747,"post_id":74354384,"comment_id":131360118,"body_markdown":"1) Yes, as long as they are all in the same format. 2) Iterate through the collected List of `Item` (the `itemList` List) as was done to display them to console except you would have an `if` statement within the loop which makes use of the **Item** class getter methods: `int manna, banna, hanna; for (Item items : itemsList) { if (items.getItemName().equalsIgnoreCase(&quot;steel sword&quot;)) { manna = items.getManna(); banna = items.getBanna(); hanna = items.getHanna(); break; } System.out.println(&quot;Stats for Steel Sword: -&gt; &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna);`","body":"1) Yes, as long as they are all in the same format. 2) Iterate through the collected List of <code>Item</code> (the <code>itemList</code> List) as was done to display them to console except you would have an <code>if</code> statement within the loop which makes use of the <b>Item</b> class getter methods: <code>int manna, banna, hanna; for (Item items : itemsList) { if (items.getItemName().equalsIgnoreCase(&quot;steel sword&quot;)) { manna = items.getManna(); banna = items.getBanna(); hanna = items.getHanna(); break; } System.out.println(&quot;Stats for Steel Sword: -&gt; &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna);</code>"},{"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"score":0,"creation_date":1668247858,"post_id":74354384,"comment_id":131362510,"body_markdown":"Thanks a lot now i&#39;ll be searching for how to sort a matix like a maze.. If you know a question that already answers that could you send it here?","body":"Thanks a lot now i&#39;ll be searching for how to sort a matix like a maze.. If you know a question that already answers that could you send it here?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668248466,"post_id":74354384,"comment_id":131362637,"body_markdown":"If you have found that this (or another) answer was helpful towards your particular problem then please [accept that answer](https://stackoverflow.com/help/someone-answers).","body":"If you have found that this (or another) answer was helpful towards your particular problem then please <a href=\"https://stackoverflow.com/help/someone-answers\">accept that answer</a>."}],"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667866275,"creation_date":1667866275,"answer_id":74354384,"question_id":74350680,"body_markdown":"The following code makes use of an **Item** class so that instances of Items can be instantiated since you must have more than one Item within the file. A List Interface (`List&lt;Item&gt;`) will hold instances of **Item** once the file is read. Read comments in code:\r\n\r\n**The Item class:**\r\n\r\n    public class Item {\r\n        \r\n        private String itemName;    // Item Name  \r\n        // For lack of better member variable names since none were supplied in post.\r\n        private int manna = 0;      // Stat 1\r\n        private int banna = 0;      // Stat 2\r\n        private int hanna = 0;      // Stat 3\r\n\r\n        \r\n        public Item() { }\r\n\r\n        public Item(String itemName, int manna, int banna, int hanna) {\r\n            this.itemName = itemName;\r\n            this.manna = manna;\r\n            this.banna = banna;\r\n            this.hanna = hanna;\r\n        }\r\n\r\n        // Getters &amp; Setters\r\n        public String getItemName() {\r\n            return itemName;\r\n        }\r\n\r\n        public void setItemName(String itemName) {\r\n            this.itemName = itemName;\r\n        }\r\n\r\n        public int getManna() {\r\n            return manna;\r\n        }\r\n\r\n        public void setManna(int manna) {\r\n            this.manna = manna;\r\n        }\r\n\r\n        public int getBanna() {\r\n            return banna;\r\n        }\r\n\r\n        public void setBanna(int banna) {\r\n            this.banna = banna;\r\n        }\r\n\r\n        public int getHanna() {\r\n            return hanna;\r\n        }\r\n\r\n        public void setHanna(int hanna) {    \r\n            this.hanna = hanna;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return itemName + &quot;, &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna;\r\n        }\r\n    }\r\n\r\n**The File Reader/Parser (*getItemsFromFile()*) code:**\r\n\r\n    public void getItemsFromFile(String filePath) throws IOException {\r\n        itemsList = new ArrayList&lt;&gt;();  // Initialize itemsList\r\n\r\n        // Read file...\r\n        // &#39;Try With Resources&#39; used here to Auot-Close reader and free resources:\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                line = line.trim();  // Remove leading/trailing whitespaces (if any);\r\n                // Skip blank lines (if any).\r\n                if (line.isEmpty()) {\r\n                    continue;\r\n                }\r\n                \r\n                // Get Items (only) ...\r\n                if (line.startsWith(&quot;itemName:&quot;)) {\r\n                    // Parse the Item line...\r\n                    String[] parts = line.split(&quot;itemStats&quot;);\r\n                    String name = parts[0].substring(parts[0].indexOf(&quot;(\\&quot;&quot;) + 2, parts[0].indexOf(&quot;\\&quot;)&quot;));\r\n                    parts[1] = parts[1].replaceAll(&quot;[^0-9,]&quot;, &quot;&quot;);\r\n                    String[] statValues = parts[1].split(&quot;,&quot;);\r\n                    int m = Integer.parseInt(statValues[0]);\r\n                    int b = Integer.parseInt(statValues[1]);\r\n                    int h = Integer.parseInt(statValues[2]);\r\n                    itemsList.add(new Item(name, m, b, h)); // Add Item instance to List.\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**How you might use the above *getItemsFromFile()* method:**\r\n\r\n    // Declare as Class member\r\n    List&lt;Item&gt; itemsList;  \r\n\r\n    // In some class method...\r\n    try {\r\n        // Do as the method name states (use the proper file path):\r\n        getItemsFromFile(&quot;GameConfig.txt&quot;);\r\n    }\r\n    catch (IOException ex) {\r\n        /* Do what you want with the exception (if there is one).\r\n           Whatever you do, don&#39;t leave this blank.          */\r\n        System.err.println(ex);\r\n    }\r\n        \r\n    //Display Items contained within the itemsList List:\r\n    for (Item items : itemsList) {\r\n        /* Using the Item class toString() method:  */\r\n        System.out.println(items.toString());\r\n             \r\n        /* Example of retrieving each object within an Item instance:\r\n           using Item class Getter methods:                     */\r\n        System.out.println(&quot;Item Name:  &quot; + items.getItemName());  // String\r\n        System.out.println(&quot;The Manna:  &quot; + items.getManna());     // int\r\n        System.out.println(&quot;The Banna:  &quot; + items.getBanna());     // int\r\n        System.out.println(&quot;The Hanna:  &quot; + items.getHanna());     // int\r\n        System.out.println();\r\n    }","title":"Taking data from a line of another file","body":"<p>The following code makes use of an <strong>Item</strong> class so that instances of Items can be instantiated since you must have more than one Item within the file. A List Interface (<code>List&lt;Item&gt;</code>) will hold instances of <strong>Item</strong> once the file is read. Read comments in code:</p>\n<p><strong>The Item class:</strong></p>\n<pre><code>public class Item {\n    \n    private String itemName;    // Item Name  \n    // For lack of better member variable names since none were supplied in post.\n    private int manna = 0;      // Stat 1\n    private int banna = 0;      // Stat 2\n    private int hanna = 0;      // Stat 3\n\n    \n    public Item() { }\n\n    public Item(String itemName, int manna, int banna, int hanna) {\n        this.itemName = itemName;\n        this.manna = manna;\n        this.banna = banna;\n        this.hanna = hanna;\n    }\n\n    // Getters &amp; Setters\n    public String getItemName() {\n        return itemName;\n    }\n\n    public void setItemName(String itemName) {\n        this.itemName = itemName;\n    }\n\n    public int getManna() {\n        return manna;\n    }\n\n    public void setManna(int manna) {\n        this.manna = manna;\n    }\n\n    public int getBanna() {\n        return banna;\n    }\n\n    public void setBanna(int banna) {\n        this.banna = banna;\n    }\n\n    public int getHanna() {\n        return hanna;\n    }\n\n    public void setHanna(int hanna) {    \n        this.hanna = hanna;\n    }\n\n    @Override\n    public String toString() {\n        return itemName + &quot;, &quot; + manna + &quot;, &quot; + banna + &quot;, &quot; + hanna;\n    }\n}\n</code></pre>\n<p><strong>The File Reader/Parser (<em>getItemsFromFile()</em>) code:</strong></p>\n<pre><code>public void getItemsFromFile(String filePath) throws IOException {\n    itemsList = new ArrayList&lt;&gt;();  // Initialize itemsList\n\n    // Read file...\n    // 'Try With Resources' used here to Auot-Close reader and free resources:\n    try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {\n        String line;\n        while ((line = reader.readLine()) != null) {\n            line = line.trim();  // Remove leading/trailing whitespaces (if any);\n            // Skip blank lines (if any).\n            if (line.isEmpty()) {\n                continue;\n            }\n            \n            // Get Items (only) ...\n            if (line.startsWith(&quot;itemName:&quot;)) {\n                // Parse the Item line...\n                String[] parts = line.split(&quot;itemStats&quot;);\n                String name = parts[0].substring(parts[0].indexOf(&quot;(\\&quot;&quot;) + 2, parts[0].indexOf(&quot;\\&quot;)&quot;));\n                parts[1] = parts[1].replaceAll(&quot;[^0-9,]&quot;, &quot;&quot;);\n                String[] statValues = parts[1].split(&quot;,&quot;);\n                int m = Integer.parseInt(statValues[0]);\n                int b = Integer.parseInt(statValues[1]);\n                int h = Integer.parseInt(statValues[2]);\n                itemsList.add(new Item(name, m, b, h)); // Add Item instance to List.\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>How you might use the above <em>getItemsFromFile()</em> method:</strong></p>\n<pre><code>// Declare as Class member\nList&lt;Item&gt; itemsList;  \n\n// In some class method...\ntry {\n    // Do as the method name states (use the proper file path):\n    getItemsFromFile(&quot;GameConfig.txt&quot;);\n}\ncatch (IOException ex) {\n    /* Do what you want with the exception (if there is one).\n       Whatever you do, don't leave this blank.          */\n    System.err.println(ex);\n}\n    \n//Display Items contained within the itemsList List:\nfor (Item items : itemsList) {\n    /* Using the Item class toString() method:  */\n    System.out.println(items.toString());\n         \n    /* Example of retrieving each object within an Item instance:\n       using Item class Getter methods:                     */\n    System.out.println(&quot;Item Name:  &quot; + items.getItemName());  // String\n    System.out.println(&quot;The Manna:  &quot; + items.getManna());     // int\n    System.out.println(&quot;The Banna:  &quot; + items.getBanna());     // int\n    System.out.println(&quot;The Hanna:  &quot; + items.getHanna());     // int\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":26858687,"reputation":5,"user_id":20442581,"display_name":"fenicemaster"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354384,"answer_count":2,"score":0,"last_activity_date":1667866275,"creation_date":1667842697,"question_id":74350680,"body_markdown":"i&#39;m creating a simple rpg game and i need to get information from one file and store it in my variables to be able to make the user save/modify items in the game easily, i can read my files but i do not know how to get the name and the numbers inside this lables:\r\n\r\n```\r\nitemName:(&quot;Steel Sword&quot;),itemStats(2,0,0);\r\n```\r\ni need to get &quot;Steel Sword&quot; in a String and the numbers to the other variables...\r\n\r\nmaybe you could tell me also how to connect the name to the stats, i don&#39;t have really a good way to do it.\r\n\r\ni tried to use indexOf to get the start and end of the string but i need to figure out the separators on the stats and maybe there&#39;s a more reliable way to do this...","title":"Taking data from a line of another file","body":"<p>i'm creating a simple rpg game and i need to get information from one file and store it in my variables to be able to make the user save/modify items in the game easily, i can read my files but i do not know how to get the name and the numbers inside this lables:</p>\n<pre><code>itemName:(&quot;Steel Sword&quot;),itemStats(2,0,0);\n</code></pre>\n<p>i need to get &quot;Steel Sword&quot; in a String and the numbers to the other variables...</p>\n<p>maybe you could tell me also how to connect the name to the stats, i don't have really a good way to do it.</p>\n<p>i tried to use indexOf to get the start and end of the string but i need to figure out the separators on the stats and maybe there's a more reliable way to do this...</p>\n"},{"tags":["java","nlp","stanford-nlp"],"answers":[{"tags":[],"owner":{"account_id":4013253,"reputation":1306,"user_id":3306097,"display_name":"kkgarg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667865640,"creation_date":1667865640,"answer_id":74354327,"question_id":74354282,"body_markdown":"Fixed using the flag `-Xms3056m` which increases the default memory to `3GB` to be used by `CoreNLP`.\r\n\r\n```\r\njava -Xms3056m -cp &quot;*&quot; edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\r\n```","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded using Stanford CoreNLP","body":"<p>Fixed using the flag <code>-Xms3056m</code> which increases the default memory to <code>3GB</code> to be used by <code>CoreNLP</code>.</p>\n<pre><code>java -Xms3056m -cp &quot;*&quot; edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\n</code></pre>\n"}],"owner":{"account_id":4013253,"reputation":1306,"user_id":3306097,"display_name":"kkgarg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354327,"answer_count":1,"score":0,"last_activity_date":1667865640,"creation_date":1667865249,"question_id":74354282,"body_markdown":"While setting up `Stanford CoreNLP`, I am running into following exception since a long time:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n\tat java.lang.StringBuilder.toString(StringBuilder.java:407)\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3388)\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3183)\r\n\tat java.io.ObjectInputStream.readString(ObjectInputStream.java:1863)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1526)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\r\n\tat java.util.HashMap.readObject(HashMap.java:1402)\r\n\tat sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1058)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2136)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2169)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\r\n\tat edu.stanford.nlp.io.IOUtils.readObjectFromURLOrClasspathOrFileSystem(IOUtils.java:310)\r\n\tat edu.stanford.nlp.coref.statistical.FeatureExtractor.loadVocabulary(FeatureExtractor.java:90)\r\n\tat edu.stanford.nlp.coref.statistical.FeatureExtractor.&lt;init&gt;(FeatureExtractor.java:75)\r\n\tat edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:63)\r\n\tat edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:44)\r\n\tat edu.stanford.nlp.coref.CorefAlgorithm.fromProps(CorefAlgorithm.java:30)\r\n\tat edu.stanford.nlp.coref.CorefSystem.&lt;init&gt;(CorefSystem.java:40)\r\n\tat edu.stanford.nlp.pipeline.CorefAnnotator.&lt;init&gt;(CorefAnnotator.java:69)\r\n\tat edu.stanford.nlp.pipeline.AnnotatorImplementations.coref(AnnotatorImplementations.java:218)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$17(StanfordCoreNLP.java:641)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$27/1579572132.apply(Unknown Source)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$null$33(StanfordCoreNLP.java:711)\r\n\tat edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$40/2104457164.get(Unknown Source)\r\n```\r\n\r\n\r\nSystem Details:\r\n```\r\nMacOS\r\njava version &quot;1.8.0_131&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n```\r\n\r\nCommand for which the exception occurs:\r\n```\r\njava edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\r\n```\r\n\r\nI think I also have setup the right `CLASSPATH`. See the result for `echo $CLASSPATH`\r\n```\r\n:/Users/krishna/Downloads/NLP/stanford-corenlp-4.5.1/*\r\n```\r\n","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded using Stanford CoreNLP","body":"<p>While setting up <code>Stanford CoreNLP</code>, I am running into following exception since a long time:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded\n    at java.lang.StringBuilder.toString(StringBuilder.java:407)\n    at java.io.ObjectInputStream$BlockDataInputStream.readUTFBody(ObjectInputStream.java:3388)\n    at java.io.ObjectInputStream$BlockDataInputStream.readUTF(ObjectInputStream.java:3183)\n    at java.io.ObjectInputStream.readString(ObjectInputStream.java:1863)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1526)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\n    at java.util.HashMap.readObject(HashMap.java:1402)\n    at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1058)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2136)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2169)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)\n    at edu.stanford.nlp.io.IOUtils.readObjectFromURLOrClasspathOrFileSystem(IOUtils.java:310)\n    at edu.stanford.nlp.coref.statistical.FeatureExtractor.loadVocabulary(FeatureExtractor.java:90)\n    at edu.stanford.nlp.coref.statistical.FeatureExtractor.&lt;init&gt;(FeatureExtractor.java:75)\n    at edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:63)\n    at edu.stanford.nlp.coref.statistical.StatisticalCorefAlgorithm.&lt;init&gt;(StatisticalCorefAlgorithm.java:44)\n    at edu.stanford.nlp.coref.CorefAlgorithm.fromProps(CorefAlgorithm.java:30)\n    at edu.stanford.nlp.coref.CorefSystem.&lt;init&gt;(CorefSystem.java:40)\n    at edu.stanford.nlp.pipeline.CorefAnnotator.&lt;init&gt;(CorefAnnotator.java:69)\n    at edu.stanford.nlp.pipeline.AnnotatorImplementations.coref(AnnotatorImplementations.java:218)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$17(StanfordCoreNLP.java:641)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$27/1579572132.apply(Unknown Source)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$null$33(StanfordCoreNLP.java:711)\n    at edu.stanford.nlp.pipeline.StanfordCoreNLP$$Lambda$40/2104457164.get(Unknown Source)\n</code></pre>\n<p>System Details:</p>\n<pre><code>MacOS\njava version &quot;1.8.0_131&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n<p>Command for which the exception occurs:</p>\n<pre><code>java edu.stanford.nlp.pipeline.StanfordCoreNLP -file input.txt\n</code></pre>\n<p>I think I also have setup the right <code>CLASSPATH</code>. See the result for <code>echo $CLASSPATH</code></p>\n<pre><code>:/Users/krishna/Downloads/NLP/stanford-corenlp-4.5.1/*\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit5","spring-test"],"answers":[{"comments":[{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1642957424,"post_id":70823870,"comment_id":125206380,"body_markdown":"So basically what you are saying is that the context that is loaded via @ExtendWidth(SpringExtension.class) isnt supporting loading properties from the application yaml  right ? The alternative is using @SpringBootTest with a specific context (in order to minimize the amount of beans created)","body":"So basically what you are saying is that the context that is loaded via @ExtendWidth(SpringExtension.class) isnt supporting loading properties from the application yaml  right ? The alternative is using @SpringBootTest with a specific context (in order to minimize the amount of beans created)"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1642957587,"post_id":70823870,"comment_id":125206427,"body_markdown":"Yes. You summary the main points that I want to say. In the end no matter what you use , it still require to load the spring context , but you can minimize the amount of beans created in both cases by a specific context which your test should still run very fast","body":"Yes. You summary the main points that I want to say. In the end no matter what you use , it still require to load the spring context , but you can minimize the amount of beans created in both cases by a specific context which your test should still run very fast"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1642957883,"post_id":70823870,"comment_id":125206510,"body_markdown":"Got it. So the ExtendWith(SpringExtension) supports only a small amount of spring features because it minimizes the amount of beans it loads in the background ? I know the @Autowired and InjectMocks annotations are working with this extension. Is there some kind of list that shows what spring features supported with this extension ?","body":"Got it. So the ExtendWith(SpringExtension) supports only a small amount of spring features because it minimizes the amount of beans it loads in the background ? I know the @Autowired and InjectMocks annotations are working with this extension. Is there some kind of list that shows what spring features supported with this extension ?"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1642958255,"post_id":70823870,"comment_id":125206599,"body_markdown":"`ExtendWith(SpringExtension)` simply does not know spring-boot , it is a spring-test framework stuff , and `@ SpringBootTest` build on top of the spring-test framework.  So all the spring-boot related features will not supported by `ExtendWith(SpringExtension)` by default , and you have to somehow to see if that feature can be enabled manually.  `@InjectMocks` is nothing to do with spring , it is a Mockito feature","body":"<code>ExtendWith(SpringExtension)</code> simply does not know spring-boot , it is a spring-test framework stuff , and <code>@ SpringBootTest</code> build on top of the spring-test framework.  So all the spring-boot related features will not supported by <code>ExtendWith(SpringExtension)</code> by default , and you have to somehow to see if that feature can be enabled manually.  <code>@InjectMocks</code> is nothing to do with spring , it is a Mockito feature"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1642959225,"post_id":70823870,"comment_id":125206877,"body_markdown":"I think saying that it does not know spring-boot is not that accurate. SpringExtension was build in order to assist testing some spring-based code with JUnit (correct me if you think I&#39;m wrong). Therefore, you can see some useful annotation that can help you handle spring-based code like Autowired and MockBean that are supported by this extension. When you use SpringExtension you actually start a TestContext which suppose to be very slim.. Either way, Thank you for the clear explanations and for you quick assistance !","body":"I think saying that it does not know spring-boot is not that accurate. SpringExtension was build in order to assist testing some spring-based code with JUnit (correct me if you think I&#39;m wrong). Therefore, you can see some useful annotation that can help you handle spring-based code like Autowired and MockBean that are supported by this extension. When you use SpringExtension you actually start a TestContext which suppose to be very slim.. Either way, Thank you for the clear explanations and for you quick assistance !"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1642974825,"post_id":70823870,"comment_id":125210742,"body_markdown":"using @SpringBootTest(classes={MongoProperties.class}) will also load the test context only with the MongoProperties bean, right ?","body":"using @SpringBootTest(classes={MongoProperties.class}) will also load the test context only with the MongoProperties bean, right ?"},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":0,"creation_date":1679439835,"post_id":70823870,"comment_id":133722311,"body_markdown":"@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class) solved for me, I could finally load config from property files. Thank you so much for this answer!!!","body":"@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class) solved for me, I could finally load config from property files. Thank you so much for this answer!!!"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1642954585,"creation_date":1642953227,"answer_id":70823870,"question_id":70807604,"body_markdown":"But using `@ExtendWith(SpringExtension.class)` will also start the spring context. The difference is that it starts the context in a traditional way but `@SpringBootTest` starts it in a spring-boot way. So no matter you use which of them , it still requires to start the spring context.\r\n\r\nIf your concern is to minimise the number of beans required to be loaded into the spring context when using `@SpringBootTest`, you can actually configure a specified `@Configuration` like the following as by default `@SpringBootTest` will load all beans defined in your applications which may be too much for testing (see [this][1] for details) : \r\n\r\n``` java\r\n@SpringBootTest\r\npublic class MongoPropertiesTest {\r\n\r\n    @Autowired\r\n    private  MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n}\r\n```\r\n\r\nIf you really want to just use `@ExtendWith(SpringExtension.class)` , you will lose the spring-boot feature such as [externalising configuration features][2] which cause you cannot load properties from `application.properties` and cannot support loading properties from `YAML` file etc. You have to manually configure `ConfigDataApplicationContextInitializer` to enable such features :\r\n\r\n``` java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\r\npublic class MongoPropertiesTest {\r\n\t\r\n\t@Autowired\r\n    private MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can consider to further use `@SpringJUnitConfig` to combine `@ExtendWith(SpringExtension.class)` and `@ContextConfiguration` together which gives you :\r\n\r\n``` java\r\n@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class)\r\npublic class MongoPropertiesTest {\r\n\t\r\n\t@Autowired\r\n    private MongoProperties properties;\r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public static class Config {\r\n\r\n    }\r\n}\r\n```\r\n\r\nActually both approaches do not have much differences in term of speed , so I prefer to just use `@SpringBootTest` for simplicity as it does not requires you to configure `ConfigDataApplicationContextInitializer`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.detecting-configuration\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"Testing @ConfigurationProperties annotation without loading Spring context","body":"<p>But using <code>@ExtendWith(SpringExtension.class)</code> will also start the spring context. The difference is that it starts the context in a traditional way but <code>@SpringBootTest</code> starts it in a spring-boot way. So no matter you use which of them , it still requires to start the spring context.</p>\n<p>If your concern is to minimise the number of beans required to be loaded into the spring context when using <code>@SpringBootTest</code>, you can actually configure a specified <code>@Configuration</code> like the following as by default <code>@SpringBootTest</code> will load all beans defined in your applications which may be too much for testing (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.detecting-configuration\" rel=\"noreferrer\">this</a> for details) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class MongoPropertiesTest {\n\n    @Autowired\n    private  MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n}\n</code></pre>\n<p>If you really want to just use <code>@ExtendWith(SpringExtension.class)</code> , you will lose the spring-boot feature such as <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"noreferrer\">externalising configuration features</a> which cause you cannot load properties from <code>application.properties</code> and cannot support loading properties from <code>YAML</code> file etc. You have to manually configure <code>ConfigDataApplicationContextInitializer</code> to enable such features :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(initializers = ConfigDataApplicationContextInitializer.class)\npublic class MongoPropertiesTest {\n    \n    @Autowired\n    private MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n\n}\n</code></pre>\n<p>You can consider to further use <code>@SpringJUnitConfig</code> to combine <code>@ExtendWith(SpringExtension.class)</code> and <code>@ContextConfiguration</code> together which gives you :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(initializers = ConfigDataApplicationContextInitializer.class)\npublic class MongoPropertiesTest {\n    \n    @Autowired\n    private MongoProperties properties;\n\n    @Configuration\n    @EnableConfigurationProperties({MongoProperties.class})\n    public static class Config {\n\n    }\n}\n</code></pre>\n<p>Actually both approaches do not have much differences in term of speed , so I prefer to just use <code>@SpringBootTest</code> for simplicity as it does not requires you to configure <code>ConfigDataApplicationContextInitializer</code>.</p>\n"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4970,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70823870,"answer_count":1,"score":7,"last_activity_date":1667865272,"creation_date":1642798998,"question_id":70807604,"body_markdown":"I&#39;m trying to test a class that has the `@ConfigurationProperties` annotation but without loading the entire Spring context. I tried using only the JUnit5&#39;s features in order to do that but until now didn&#39;t succeed in that.\r\n\r\nI&#39;m using `spring-boot-starter-parent` v2.6.2 .\r\n\r\nThe class I&#39;m testing : \r\n\r\n    @ConfigurationProperties(&quot;db.mongo&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class MongoProperties {\r\n        private String host;\r\n        private String db;\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nThe application.yaml : \r\n\r\n    db:\r\n      mongo:\r\n        host: localhost\r\n        db: test\r\n        user: test-user\r\n        password: secret\r\n\r\n\r\nMy Test class : \r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @EnableConfigurationProperties({MongoProperties.class})\r\n    public class MongoPropertiesTest {\r\n    \r\n        @Autowired\r\n        private  MongoProperties properties;\r\n    \r\n        @Test\r\n        public void mongoPropertiesLoadedTest(){\r\n            assertNotNull(properties.getDb());\r\n            assertNotNull(properties.getHost());\r\n            assertNotNull(properties.getPassword());\r\n            assertNotNull(properties.getUser());\r\n        }\r\n    }\r\n\r\nThe `MongoProperties` bean is injected successfully, but all the values inside are null and the asserts fail.\r\n\r\nAdding the `@SpringBootTest` solves the issue of the null values in the instance of the bean, but it also starts the whole spring context which is what I don&#39;t want.\r\n","title":"Testing @ConfigurationProperties annotation without loading Spring context","body":"<p>I'm trying to test a class that has the <code>@ConfigurationProperties</code> annotation but without loading the entire Spring context. I tried using only the JUnit5's features in order to do that but until now didn't succeed in that.</p>\n<p>I'm using <code>spring-boot-starter-parent</code> v2.6.2 .</p>\n<p>The class I'm testing :</p>\n<pre><code>@ConfigurationProperties(&quot;db.mongo&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class MongoProperties {\n    private String host;\n    private String db;\n    private String user;\n    private String password;\n}\n</code></pre>\n<p>The application.yaml :</p>\n<pre><code>db:\n  mongo:\n    host: localhost\n    db: test\n    user: test-user\n    password: secret\n</code></pre>\n<p>My Test class :</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties({MongoProperties.class})\npublic class MongoPropertiesTest {\n\n    @Autowired\n    private  MongoProperties properties;\n\n    @Test\n    public void mongoPropertiesLoadedTest(){\n        assertNotNull(properties.getDb());\n        assertNotNull(properties.getHost());\n        assertNotNull(properties.getPassword());\n        assertNotNull(properties.getUser());\n    }\n}\n</code></pre>\n<p>The <code>MongoProperties</code> bean is injected successfully, but all the values inside are null and the asserts fail.</p>\n<p>Adding the <code>@SpringBootTest</code> solves the issue of the null values in the instance of the bean, but it also starts the whole spring context which is what I don't want.</p>\n"},{"tags":["java","arrays","loops","linkedhashmap"],"comments":[{"owner":{"account_id":14797915,"reputation":796,"user_id":10687061,"display_name":"Karl"},"score":0,"creation_date":1667800006,"post_id":74342284,"comment_id":131244981,"body_markdown":"You probably need to check this post to know how to iterate Map entries https://stackoverflow.com/questions/46898/how-do-i-efficiently-iterate-over-each-entry-in-a-java-map","body":"You probably need to check this post to know how to iterate Map entries <a href=\"https://stackoverflow.com/questions/46898/how-do-i-efficiently-iterate-over-each-entry-in-a-java-map\" title=\"how do i efficiently iterate over each entry in a java map\">stackoverflow.com/questions/46898/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667865254,"creation_date":1667865254,"answer_id":74354283,"question_id":74342284,"body_markdown":"You can&#39;t really access maps by index, but as it seems your use case is that you need to find pairs from both maps with the same key (chargeTypeName).\r\n\r\nOne way is using a grouping collector:\r\n\r\n    var grouped = Stream.of(chargeTypeMap1, chargeTypeMap2)\r\n            .flatMap(c -&gt; c.values().stream())\r\n            .collect(Collectors.groupingBy(ChargeType::getChargeTypeName));\r\n\r\nThis will return a map which the value is a List with all ChargeTypes with the same chargeTypeName. You can go further and select only the entries which are really pairs:\r\n\r\n    var result = grouped.values().stream()\r\n            .filter(list -&gt; list.size() == 2)\r\n            .collect(Collectors.toList());\r\n\r\nNow we have all the pairs of items with the same chargeTypeName from both maps and can do whatever you need with them.","title":"Get LinkedHashMap value by index","body":"<p>You can't really access maps by index, but as it seems your use case is that you need to find pairs from both maps with the same key (chargeTypeName).</p>\n<p>One way is using a grouping collector:</p>\n<pre><code>var grouped = Stream.of(chargeTypeMap1, chargeTypeMap2)\n        .flatMap(c -&gt; c.values().stream())\n        .collect(Collectors.groupingBy(ChargeType::getChargeTypeName));\n</code></pre>\n<p>This will return a map which the value is a List with all ChargeTypes with the same chargeTypeName. You can go further and select only the entries which are really pairs:</p>\n<pre><code>var result = grouped.values().stream()\n        .filter(list -&gt; list.size() == 2)\n        .collect(Collectors.toList());\n</code></pre>\n<p>Now we have all the pairs of items with the same chargeTypeName from both maps and can do whatever you need with them.</p>\n"}],"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667865254,"creation_date":1667798767,"question_id":74342284,"body_markdown":"is it possible to get values of LinkedHashMap by index ?\r\n\r\n\r\nthis is my linkedmap (the reason why i mapped it this way because i need to accumulate the amount and quantity for the duplicated chargeType:\r\n\r\n    Map&lt;String, ChargeType&gt; chargeTypeCol;\r\n\r\n    return chargeTypeCol = chargeTypeList\r\n    \t\t\t\t.stream().collect(Collectors.toMap(ChargeType::getChargeTypeName,\r\n    \t\t\t\t\t\tFunction.identity(),\r\n    \t\t\t\t\t\t(a, b) -&gt; new ChargeType(a.getId(), b.getChargeTypeName(), a.getAmount() + b.getAmount(), a.getQuantity() + b.getQuantity()),\r\n    \t\t\t\t\t\tLinkedHashMap::new));\r\n\r\nI have 2 of these LinkedHashMap in my logic. What i am trying to do is to compare if the values (getChargeTypeName, getAmount, getQuantity) is equals between the 2 map. Was wondering if there are any possible way to do like\r\n\r\n\r\n    for(int i = 0; i &lt; chargeTypeList.size(); i++){\r\n           for(int j = 0; j &lt; chargeTypeList2.size(); j++){\r\n                 if(chargeTypeList.get(i).getChargeTypeName.equalsIgnoreCase(chargeTypeList2.get(j).getChargeTypeName)){\r\n                 //todo something here\r\n                 }\r\n           }\r\n    }","title":"Get LinkedHashMap value by index","body":"<p>is it possible to get values of LinkedHashMap by index ?</p>\n<p>this is my linkedmap (the reason why i mapped it this way because i need to accumulate the amount and quantity for the duplicated chargeType:</p>\n<pre><code>Map&lt;String, ChargeType&gt; chargeTypeCol;\n\nreturn chargeTypeCol = chargeTypeList\n                .stream().collect(Collectors.toMap(ChargeType::getChargeTypeName,\n                        Function.identity(),\n                        (a, b) -&gt; new ChargeType(a.getId(), b.getChargeTypeName(), a.getAmount() + b.getAmount(), a.getQuantity() + b.getQuantity()),\n                        LinkedHashMap::new));\n</code></pre>\n<p>I have 2 of these LinkedHashMap in my logic. What i am trying to do is to compare if the values (getChargeTypeName, getAmount, getQuantity) is equals between the 2 map. Was wondering if there are any possible way to do like</p>\n<pre><code>for(int i = 0; i &lt; chargeTypeList.size(); i++){\n       for(int j = 0; j &lt; chargeTypeList2.size(); j++){\n             if(chargeTypeList.get(i).getChargeTypeName.equalsIgnoreCase(chargeTypeList2.get(j).getChargeTypeName)){\n             //todo something here\n             }\n       }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":26770940,"reputation":226,"user_id":20367321,"display_name":"F.G."},"score":0,"creation_date":1667843824,"post_id":74350599,"comment_id":131259711,"body_markdown":"I&#39;m not sure if thats what you want, but you can filter by message as well: `package:mine level:debug tag:TestTag message:MyText`. [Documentation](https://developer.android.com/studio/debug/am-logcat#searching)","body":"I&#39;m not sure if thats what you want, but you can filter by message as well: <code>package:mine level:debug tag:TestTag message:MyText</code>. <a href=\"https://developer.android.com/studio/debug/am-logcat#searching\" rel=\"nofollow noreferrer\">Documentation</a>"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1667844713,"post_id":74350599,"comment_id":131260045,"body_markdown":"@F.G. thanks your comment is really close, however, it doesn&#39;t cover all the cases, I edited my question, please take a look","body":"@F.G. thanks your comment is really close, however, it doesn&#39;t cover all the cases, I edited my question, please take a look"},{"owner":{"account_id":26770940,"reputation":226,"user_id":20367321,"display_name":"F.G."},"score":0,"creation_date":1667845266,"post_id":74350599,"comment_id":131260234,"body_markdown":"Can you try `package:mine message:message is:` just without the quotation marks?","body":"Can you try <code>package:mine message:message is:</code> just without the quotation marks?"},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1667859053,"post_id":74350599,"comment_id":131264156,"body_markdown":"@F.G. yes, it works the same way","body":"@F.G. yes, it works the same way"}],"answers":[{"tags":[],"owner":{"account_id":17894989,"reputation":306,"user_id":13000604,"display_name":"Sasa Arsenovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667864999,"creation_date":1667864999,"answer_id":74354263,"question_id":74350599,"body_markdown":"Next to &quot;package:mine&quot; you just need to type what you want for filter. You don&#39;t need to type &quot;message&quot;. For example: \r\n\r\n    package:mine WHATEVER_YOU_WANT_TO_SHOW\r\n\r\n\r\nWhen I typed: \r\n\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n    Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\r\n\r\nI got:\r\n[![This][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mpgzd.png","title":"Is there a way with a new logcat implementation to filter out the values by string?","body":"<p>Next to &quot;package:mine&quot; you just need to type what you want for filter. You don't need to type &quot;message&quot;. For example:</p>\n<pre><code>package:mine WHATEVER_YOU_WANT_TO_SHOW\n</code></pre>\n<p>When I typed:</p>\n<pre><code>Log.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\nLog.e(&quot;HERE&quot;, &quot;onCreate: &quot;)\n</code></pre>\n<p>I got:\n<a href=\"https://i.stack.imgur.com/mpgzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mpgzd.png\" alt=\"This\" /></a></p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74354263,"answer_count":1,"score":0,"last_activity_date":1667864999,"creation_date":1667842268,"question_id":74350599,"body_markdown":"After a new logcat presentation I found it nice, however, I don&#39;t see an option to filter out the values by a custom string. \r\n\r\nfor example, I can set such an argument in the query line: `package:mine level:error ` and my log will be filtered out properly, however, if I need to filter out the result log by my custom string value, there is no such an option. I mean you can click `Ctrl + F` and find something specific in the result (filtered out log), however, what am I asking is not to find the specific line in the log, I need to filter out the log by my custom string, so only relevant values left in the logcat. \r\n\r\nP.S. This was available in the previous logcat version.\r\n\r\n**EDIT**\r\n\r\nThanks for @F.G. this comment is really close, however, in case I need to filter out my log by two words it doesn&#39;t work\r\n\r\nEg:\r\n\r\n```\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 1&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 2&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 3&quot;)\r\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 4&quot;)\r\n```\r\n\r\nmy query looks like this\r\n\r\n    level:error message:&quot;message is&quot;\r\n\r\nand the result is an empty logcat.\r\n\r\nWhat am I missing here?","title":"Is there a way with a new logcat implementation to filter out the values by string?","body":"<p>After a new logcat presentation I found it nice, however, I don't see an option to filter out the values by a custom string.</p>\n<p>for example, I can set such an argument in the query line: <code>package:mine level:error </code> and my log will be filtered out properly, however, if I need to filter out the result log by my custom string value, there is no such an option. I mean you can click <code>Ctrl + F</code> and find something specific in the result (filtered out log), however, what am I asking is not to find the specific line in the log, I need to filter out the log by my custom string, so only relevant values left in the logcat.</p>\n<p>P.S. This was available in the previous logcat version.</p>\n<p><strong>EDIT</strong></p>\n<p>Thanks for @F.G. this comment is really close, however, in case I need to filter out my log by two words it doesn't work</p>\n<p>Eg:</p>\n<pre><code>        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 1&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 2&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 3&quot;)\n        Log.e(&quot;HERE&quot;, &quot;message is: onConfigurationChanged 4&quot;)\n</code></pre>\n<p>my query looks like this</p>\n<pre><code>level:error message:&quot;message is&quot;\n</code></pre>\n<p>and the result is an empty logcat.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","passwords"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667867790,"post_id":74354207,"comment_id":131265858,"body_markdown":"Note that this is a fine way to make your users make __insecure__ passwords, and inconvenience them while you&#39;re at it, and you have more code to maintain. Lose-Lose-Lose. [more info](https://xkcd.com/936/).","body":"Note that this is a fine way to make your users make <b>insecure</b> passwords, and inconvenience them while you&#39;re at it, and you have more code to maintain. Lose-Lose-Lose. <a href=\"https://xkcd.com/936/\" rel=\"nofollow noreferrer\">more info</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667869039,"post_id":74354207,"comment_id":131266011,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":26861313,"reputation":1,"user_id":20444748,"display_name":"Amimir"},"score":0,"creation_date":1667865469,"post_id":74354251,"comment_id":131265508,"body_markdown":"sorry I&#39;m new at java programming, how can I enter the code? thankyou","body":"sorry I&#39;m new at java programming, how can I enter the code? thankyou"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667865497,"post_id":74354251,"comment_id":131265515,"body_markdown":"Since you have to enter the loop at least once before you can validate the state, a `do-while` loop would be a more suitable construct ... poor `do-while` is always overlooked &#128546; - IMHO","body":"Since you have to enter the loop at least once before you can validate the state, a <code>do-while</code> loop would be a more suitable construct ... poor <code>do-while</code> is always overlooked 😢 - IMHO"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667865541,"post_id":74354251,"comment_id":131265522,"body_markdown":"@Amimir Maybe start with [Control Flow Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html)","body":"@Amimir Maybe start with <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html\" rel=\"nofollow noreferrer\">Control Flow Statements</a>"}],"tags":[],"owner":{"account_id":8102989,"reputation":117,"user_id":6105632,"display_name":"BestQualityVacuum"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667864895,"creation_date":1667864895,"answer_id":74354251,"question_id":74354207,"body_markdown":"I would suggest having WHILE loop to contain the part of your code where the user types in a password. You can use a variable to keep track if the password is valid or keep track of the number of times the user goes through the loop and break out of it under certain conditions. \r\n\r\n \r\n\r\n    PSEUDO CODE:\r\n    int ntimes = 0;\r\n    boolean isValid = false;\r\n    while(isValid == false){\r\n      //Prompt for Password\r\n      //User Enters Password\r\n      if(password is valid){\r\n        isValid = true;\r\n      }\r\n      else{\r\n       ntimes++;\r\n      }\r\n      if(ntimes == 7) break;\r\n    }\r\n    \r\n    if(isValid == false){\r\n      &quot;You entered a bad password too many times.&quot;\r\n      QUIT\r\n    }","title":"How can I terminate a program when the user input is not a valid password","body":"<p>I would suggest having WHILE loop to contain the part of your code where the user types in a password. You can use a variable to keep track if the password is valid or keep track of the number of times the user goes through the loop and break out of it under certain conditions.</p>\n<pre><code>PSEUDO CODE:\nint ntimes = 0;\nboolean isValid = false;\nwhile(isValid == false){\n  //Prompt for Password\n  //User Enters Password\n  if(password is valid){\n    isValid = true;\n  }\n  else{\n   ntimes++;\n  }\n  if(ntimes == 7) break;\n}\n\nif(isValid == false){\n  &quot;You entered a bad password too many times.&quot;\n  QUIT\n}\n</code></pre>\n"}],"owner":{"account_id":26861313,"reputation":1,"user_id":20444748,"display_name":"Amimir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667864895,"creation_date":1667864484,"question_id":74354207,"body_markdown":"I&#39;m new in java programming, How can I terminate my program when the user input is not a valid password?\r\n\r\nHere is my code that has a problem\r\n\r\n\r\n```\r\nfinal int MAX = 8;\r\n    final int MIN_Uppercase = 1;\r\n    final int NUM_Digits = 1;\r\n    final int Special = 1;\r\n    \r\n    int invalidCount = 0;\r\n    int uppercaseCounter = 0;\r\n    int digitCounter = 0;\r\n    int specialCounter = 0;\r\n    int spaceCounter = 0;\r\n    \r\n    Scanner sc = new Scanner (System.in);\r\n    \r\n    System.out.println (&quot;Enter Name: &quot;);\r\n    String name = sc.nextLine();\r\n    int spacePosition = name.indexOf(&quot; &quot;);\r\n    \r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Enter Birthday (MM DD YYYY): &quot;);\r\n    String birthday = sc.nextLine();\r\n    \r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Enter password: &quot;);\r\n    Scanner input = new Scanner (System.in);\r\n    \r\n    String password = input.nextLine();\r\n    \t\r\n    \tfor (int i = 0; i &lt; password.length(); i ++)\r\n        {\r\n          char c = password.charAt(i);\r\n          \r\n          if (Character.isUpperCase(c))\r\n            uppercaseCounter ++;\r\n          \r\n          if (c == &#39; &#39;)\r\n            spaceCounter ++;\r\n          \r\n          if (c == &#39;$&#39; || c == &#39;#&#39; || c == &#39;?&#39; || c == &#39;!&#39; || c == &#39;_&#39; || c == &#39;=&#39; || c == &#39;%&#39; || c == &#39;.&#39;)\r\n            specialCounter ++;\r\n          \r\n          else if (Character.isDigit(c))\r\n            digitCounter ++;\r\n        }\r\n    if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 1)\r\n    {\r\n      System.out.println(&quot; &quot;);\r\n      \r\n      System.out.println (&quot;\\n&quot;);\r\n    }\r\n    else\r\n    {\r\n      \r\n      if (password.length() &lt; MAX)\r\n        System.out.println(&quot;Enter atleast 8 characters&quot;);\r\n      \r\n      if (spaceCounter &gt; 0)\r\n        System.out.println(&quot;Password contains whitespaces&quot;);\r\n      \r\n      if (uppercaseCounter &lt; MIN_Uppercase)\r\n        System.out.println(&quot;Enter atleast 1 Uppercase Character&quot;);\r\n      \r\n      if (digitCounter &lt; 1)\r\n        System.out.println(&quot;Enter atleast 1 digit&quot;);\r\n      \r\n      if (specialCounter &lt; 1)\r\n        System.out.println(&quot;Enter atleast 1 special character&quot;);\r\n      \r\n      System.out.print (&quot;\\n&quot;);\r\n      \r\n      \r\n    }\r\n    \r\n    System.out.println (&quot;Your login details&quot;);\r\n    System.out.print (&quot;\\n&quot;);\r\n    \r\n    System.out.println (&quot;Name    : &quot; + name);\r\n    System.out.println (&quot;Birthday: &quot; + birthday);\r\n    System.out.println (&quot;Username: &quot; + name.substring(0, 2) + name.substring(spacePosition + 3) + birthday.substring(3,5));\r\n    System.out.println (&quot;Password: &quot; + password);\r\n```\r\n\r\n\r\nThe problem is that when the user enters an invalid password, the process will continue to print the login details.\r\n\r\nI want to know how I can terminate the program or loop back into entering the password.\r\n\r\nIf the password is valid, then the details will print; if the password is invalid, then the program will loop back to requesting the password or the program will be terminated.","title":"How can I terminate a program when the user input is not a valid password","body":"<p>I'm new in java programming, How can I terminate my program when the user input is not a valid password?</p>\n<p>Here is my code that has a problem</p>\n<pre><code>final int MAX = 8;\n    final int MIN_Uppercase = 1;\n    final int NUM_Digits = 1;\n    final int Special = 1;\n    \n    int invalidCount = 0;\n    int uppercaseCounter = 0;\n    int digitCounter = 0;\n    int specialCounter = 0;\n    int spaceCounter = 0;\n    \n    Scanner sc = new Scanner (System.in);\n    \n    System.out.println (&quot;Enter Name: &quot;);\n    String name = sc.nextLine();\n    int spacePosition = name.indexOf(&quot; &quot;);\n    \n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Enter Birthday (MM DD YYYY): &quot;);\n    String birthday = sc.nextLine();\n    \n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Enter password: &quot;);\n    Scanner input = new Scanner (System.in);\n    \n    String password = input.nextLine();\n        \n        for (int i = 0; i &lt; password.length(); i ++)\n        {\n          char c = password.charAt(i);\n          \n          if (Character.isUpperCase(c))\n            uppercaseCounter ++;\n          \n          if (c == ' ')\n            spaceCounter ++;\n          \n          if (c == '$' || c == '#' || c == '?' || c == '!' || c == '_' || c == '=' || c == '%' || c == '.')\n            specialCounter ++;\n          \n          else if (Character.isDigit(c))\n            digitCounter ++;\n        }\n    if (password.length() &gt;= MAX &amp;&amp; uppercaseCounter &gt;= MIN_Uppercase &amp;&amp; specialCounter == 1 &amp;&amp; digitCounter == 1)\n    {\n      System.out.println(&quot; &quot;);\n      \n      System.out.println (&quot;\\n&quot;);\n    }\n    else\n    {\n      \n      if (password.length() &lt; MAX)\n        System.out.println(&quot;Enter atleast 8 characters&quot;);\n      \n      if (spaceCounter &gt; 0)\n        System.out.println(&quot;Password contains whitespaces&quot;);\n      \n      if (uppercaseCounter &lt; MIN_Uppercase)\n        System.out.println(&quot;Enter atleast 1 Uppercase Character&quot;);\n      \n      if (digitCounter &lt; 1)\n        System.out.println(&quot;Enter atleast 1 digit&quot;);\n      \n      if (specialCounter &lt; 1)\n        System.out.println(&quot;Enter atleast 1 special character&quot;);\n      \n      System.out.print (&quot;\\n&quot;);\n      \n      \n    }\n    \n    System.out.println (&quot;Your login details&quot;);\n    System.out.print (&quot;\\n&quot;);\n    \n    System.out.println (&quot;Name    : &quot; + name);\n    System.out.println (&quot;Birthday: &quot; + birthday);\n    System.out.println (&quot;Username: &quot; + name.substring(0, 2) + name.substring(spacePosition + 3) + birthday.substring(3,5));\n    System.out.println (&quot;Password: &quot; + password);\n</code></pre>\n<p>The problem is that when the user enters an invalid password, the process will continue to print the login details.</p>\n<p>I want to know how I can terminate the program or loop back into entering the password.</p>\n<p>If the password is valid, then the details will print; if the password is invalid, then the program will loop back to requesting the password or the program will be terminated.</p>\n"},{"tags":["java","arrays","recursion","stack-overflow","factorial"],"comments":[{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1667847942,"post_id":74351598,"comment_id":131261104,"body_markdown":"Use debug to find out what factorials you are calculating. Check the size of those factorials to see if they overflow the variable you are using. For example 100! has 158 digits: 100! = 9.3e157","body":"Use debug to find out what factorials you are calculating. Check the size of those factorials to see if they overflow the variable you are using. For example 100! has 158 digits: 100! = 9.3e157"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667847992,"post_id":74351598,"comment_id":131261129,"body_markdown":"What is the input ?","body":"What is the input ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667848021,"post_id":74351598,"comment_id":131261135,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667848807,"post_id":74351598,"comment_id":131261388,"body_markdown":"Good point, i never considered the result of (factorial(n) / 2 * factorial(n - 2)) could be wrong, in fact, it returns wrong values; i&#39;m testing different things like using all values of the same type (long) to do the calculation, but it doesn&#39;t seem to work, how can i correct that?","body":"Good point, i never considered the result of (factorial(n) / 2 * factorial(n - 2)) could be wrong, in fact, it returns wrong values; i&#39;m testing different things like using all values of the same type (long) to do the calculation, but it doesn&#39;t seem to work, how can i correct that?"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667848874,"post_id":74351598,"comment_id":131261410,"body_markdown":"The input of how big the array can be goes from 2 to 20","body":"The input of how big the array can be goes from 2 to 20"},{"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"score":0,"creation_date":1667849150,"post_id":74351598,"comment_id":131261497,"body_markdown":"It works only if i save factorial(n), factorial(n - 2) and (factorial(n) / 2 * factorial(n - 2)) in different variables before returning the one containing the result... why. And it is still in overflow in the end","body":"It works only if i save factorial(n), factorial(n - 2) and (factorial(n) / 2 * factorial(n - 2)) in different variables before returning the one containing the result... why. And it is still in overflow in the end"}],"answers":[{"tags":[],"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667864691,"creation_date":1667864691,"answer_id":74354230,"question_id":74351598,"body_markdown":"So, `deleteRepeated` is all messed up. The issue is `deleteRepeated` does not actually remove duplicate elements, so the check for the base case of recursion always fails. I&#39;m not sure why you&#39;re using recursion here anyway; if the while loop worked properly, it could remove all duplicates without need for recursion.\r\n\r\nIt appears that you copy-pasted the implementation of `repeated` into `deleteRepeated`, and you replaced the logic for handling _repeated_ elements with logic that handles _non-repeated_ elements.\r\n\r\nHere is how I would implement the method:\r\n\r\n```java\r\npublic static int deleteRepeated(int arr[], int newArr[]) {\r\n  int n = 0;\r\n  for(int i = 0; i &lt; arr.length; i++) {\r\n    boolean unique = true;\r\n    for(int j = 0; j &lt; n; j++)\r\n      unique = unique &amp;&amp; newArr[j] != arr[i];\r\n    if(unique)\r\n      newArr[n++] = arr[i];\r\n    if(n &gt;= newArr.length) break;\r\n  }\r\n  return n;\r\n}\r\n```","title":"java.lang.StackOverflowError on factorial function being called by another recursive function","body":"<p>So, <code>deleteRepeated</code> is all messed up. The issue is <code>deleteRepeated</code> does not actually remove duplicate elements, so the check for the base case of recursion always fails. I'm not sure why you're using recursion here anyway; if the while loop worked properly, it could remove all duplicates without need for recursion.</p>\n<p>It appears that you copy-pasted the implementation of <code>repeated</code> into <code>deleteRepeated</code>, and you replaced the logic for handling <em>repeated</em> elements with logic that handles <em>non-repeated</em> elements.</p>\n<p>Here is how I would implement the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int deleteRepeated(int arr[], int newArr[]) {\n  int n = 0;\n  for(int i = 0; i &lt; arr.length; i++) {\n    boolean unique = true;\n    for(int j = 0; j &lt; n; j++)\n      unique = unique &amp;&amp; newArr[j] != arr[i];\n    if(unique)\n      newArr[n++] = arr[i];\n    if(n &gt;= newArr.length) break;\n  }\n  return n;\n}\n</code></pre>\n"}],"owner":{"account_id":19845379,"reputation":1,"user_id":14953599,"display_name":"457r4"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667864691,"creation_date":1667847622,"question_id":74351598,"body_markdown":"I have a factorial function on my program that works fine until i try to execute the function deleteRepeated(), the console is telling me that the error is in the return of the factorial function, maybe it&#39;s being called by a single function too many times in a short period of time? I&#39;ve been stuck for hours.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ex9 {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n            int[] arr = new int[n];\r\n            for (int i = 0; i &lt; n; i++) {\r\n                arr[i] = sc.nextInt();\r\n            }\r\n            int[] newArr = new int[n - repeated(arr)];\r\n            int[] finalArr = deleteRepeated(arr, newArr);\r\n            for (int a : finalArr) {\r\n                System.out.println(a);\r\n            }\r\n        }\r\n    \r\n        public static long factorial(int n) {\r\n            if (n == 0)\r\n                return 1;\r\n            return (n * factorial(n - 1));\r\n        }\r\n        \r\n        public static int repeated(int arr[]) {\r\n            int n = arr.length;\r\n            int mix = (int) (factorial(n) / (2 * factorial(n - 2)));\r\n            int i = 0;\r\n            int k = 0;\r\n            int rep = 0;\r\n            int a = -100;\r\n            while (i &lt; mix) {\r\n                for (int j = k + 1; j &lt; n; j++) {\r\n                    if (arr[k] == arr[j] &amp;&amp; a != j) {\r\n                        a = j;\r\n                        rep += 1;\r\n                    }\r\n                    i++;\r\n                }\r\n                k++;\r\n            }\r\n            return rep;\r\n        }\r\n        \r\n        public static int[] deleteRepeated(int arr[], int newArr[]) {\r\n            int n = arr.length;\r\n            int rep = repeated(arr);\r\n            int i = 0;\r\n            int k = 0;\r\n            int a = -100;\r\n            while (i &lt; newArr.length) {\r\n                for (int j = k + 1; j &lt; n; j++) {\r\n                    if (arr[k] == arr[j] &amp;&amp; a != arr[k]) {\r\n                        a = arr[j];\r\n                        newArr[k] = arr[k];\r\n                    }\r\n                    i++;\r\n                }\r\n                k++;\r\n            }\r\n            rep = repeated(newArr);\r\n            if (rep &gt; 0) {\r\n                int[] newArr2 = new int[newArr.length - rep];\r\n                deleteRepeated(newArr, newArr2);\r\n            }\r\n            return newArr;\r\n        }\r\n    }\r\n\r\nOnly thing i could do to avoid the error was stopping the function from executing :/, maybe it has to do with how i&#39;m re-calling it at the end of each execution...? is what i did allowed?\r\n","title":"java.lang.StackOverflowError on factorial function being called by another recursive function","body":"<p>I have a factorial function on my program that works fine until i try to execute the function deleteRepeated(), the console is telling me that the error is in the return of the factorial function, maybe it's being called by a single function too many times in a short period of time? I've been stuck for hours.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ex9 {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int[] arr = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n        int[] newArr = new int[n - repeated(arr)];\n        int[] finalArr = deleteRepeated(arr, newArr);\n        for (int a : finalArr) {\n            System.out.println(a);\n        }\n    }\n\n    public static long factorial(int n) {\n        if (n == 0)\n            return 1;\n        return (n * factorial(n - 1));\n    }\n    \n    public static int repeated(int arr[]) {\n        int n = arr.length;\n        int mix = (int) (factorial(n) / (2 * factorial(n - 2)));\n        int i = 0;\n        int k = 0;\n        int rep = 0;\n        int a = -100;\n        while (i &lt; mix) {\n            for (int j = k + 1; j &lt; n; j++) {\n                if (arr[k] == arr[j] &amp;&amp; a != j) {\n                    a = j;\n                    rep += 1;\n                }\n                i++;\n            }\n            k++;\n        }\n        return rep;\n    }\n    \n    public static int[] deleteRepeated(int arr[], int newArr[]) {\n        int n = arr.length;\n        int rep = repeated(arr);\n        int i = 0;\n        int k = 0;\n        int a = -100;\n        while (i &lt; newArr.length) {\n            for (int j = k + 1; j &lt; n; j++) {\n                if (arr[k] == arr[j] &amp;&amp; a != arr[k]) {\n                    a = arr[j];\n                    newArr[k] = arr[k];\n                }\n                i++;\n            }\n            k++;\n        }\n        rep = repeated(newArr);\n        if (rep &gt; 0) {\n            int[] newArr2 = new int[newArr.length - rep];\n            deleteRepeated(newArr, newArr2);\n        }\n        return newArr;\n    }\n}\n</code></pre>\n<p>Only thing i could do to avoid the error was stopping the function from executing :/, maybe it has to do with how i'm re-calling it at the end of each execution...? is what i did allowed?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1667862845,"post_id":74353980,"comment_id":131264986,"body_markdown":"You&#39;re spelling the name of the first directory wrong. Also you should arrange that the path to the file be passed in to the program otherwise it becomes unmanageable","body":"You&#39;re spelling the name of the first directory wrong. Also you should arrange that the path to the file be passed in to the program otherwise it becomes unmanageable"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1667863842,"post_id":74353980,"comment_id":131265194,"body_markdown":"You should also not be referencing `src` in your code.  In this context, I would suggest looking at how &quot;embedded resources&quot; work, but if it&#39;s a &quot;web app&quot;, this might require a different workflow","body":"You should also not be referencing <code>src</code> in your code.  In this context, I would suggest looking at how &quot;embedded resources&quot; work, but if it&#39;s a &quot;web app&quot;, this might require a different workflow"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667864611,"post_id":74353980,"comment_id":131265361,"body_markdown":"MadProgrammer is correct. You also need to get familiarized with how to properly create and use relative paths, particularly if inside your project.","body":"MadProgrammer is correct. You also need to get familiarized with how to properly create and use relative paths, particularly if inside your project."},{"owner":{"account_id":24816882,"reputation":11,"user_id":18697632,"display_name":"Marissa Smith"},"score":0,"creation_date":1667875417,"post_id":74353980,"comment_id":131266864,"body_markdown":"I&#39;m curious how do I go about arranging a path? I understand now my StudentMain class is unable to find my excel file. I thought adding a file under web app, that contains the excel file would work.  Then dependencies I am using are older versions and are highlighted in yellow Is there a way to fix that? Following videos instructed by my teacher...","body":"I&#39;m curious how do I go about arranging a path? I understand now my StudentMain class is unable to find my excel file. I thought adding a file under web app, that contains the excel file would work.  Then dependencies I am using are older versions and are highlighted in yellow Is there a way to fix that? Following videos instructed by my teacher..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667894681,"post_id":74353980,"comment_id":131270194,"body_markdown":"It doesn&#39;t work for the reason I and others gave. It is difficult to know what the best way to treat the means of inputting the file path without knowing more about the app. Begin by correcting your spelling mistake","body":"It doesn&#39;t work for the reason I and others gave. It is difficult to know what the best way to treat the means of inputting the file path without knowing more about the app. Begin by correcting your spelling mistake"}],"owner":{"account_id":24816882,"reputation":11,"user_id":18697632,"display_name":"Marissa Smith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667864435,"creation_date":1667862503,"question_id":74353980,"body_markdown":"Output Student data to the Console\r\n\r\nI have made the Student data into a List of Student objects, I want to output the contents of the List to the Console. I don&#39;t understand what this error means. Any clarification is much appreciated!\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\r\n\tat StudentMain.main(StudentMain.java:23)\r\nCaused by: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:293)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:271)\r\n\tat org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:252)\r\n\tat utility.WorkbookUtility.retrievePeopleFromWorkbook(WorkbookUtility.java:17)\r\n\tat StudentMain.main(StudentMain.java:16)\r\n\r\nProcess finished with exit code 1\r\n```\r\nHere is the code I believe is causing the error\r\n```\r\nimport model.Person;\r\nimport utility.WorkbookUtility;\r\n    \r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n    \r\npublic class StudentMain {\r\n    public final static String INPUT_FILE =&quot;scr\\\\main\\\\webapp\\\\assets\\\\JavaWebProgramming.xlsx&quot;;\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        final File inputFile = new File(INPUT_FILE);\r\n    \r\n        try {\r\n            final List&lt;Person&gt;  people = WorkbookUtility.retrievePeopleFromWorkbook(inputFile);\r\n        \r\n            for(final Person person : people) {\r\n                System.out.println(person);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```","title":"java.io.FileNotFoundException? Unable to ouput data from excel file to console","body":"<p>Output Student data to the Console</p>\n<p>I have made the Student data into a List of Student objects, I want to output the contents of the List to the Console. I don't understand what this error means. Any clarification is much appreciated!</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\n    at StudentMain.main(StudentMain.java:23)\nCaused by: java.io.FileNotFoundException: scr\\main\\webapp\\assets\\JavaWebProgramming.xlsx\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:293)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:271)\n    at org.apache.poi.ss.usermodel.WorkbookFactory.create(WorkbookFactory.java:252)\n    at utility.WorkbookUtility.retrievePeopleFromWorkbook(WorkbookUtility.java:17)\n    at StudentMain.main(StudentMain.java:16)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here is the code I believe is causing the error</p>\n<pre><code>import model.Person;\nimport utility.WorkbookUtility;\n    \nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n    \npublic class StudentMain {\n    public final static String INPUT_FILE =&quot;scr\\\\main\\\\webapp\\\\assets\\\\JavaWebProgramming.xlsx&quot;;\n    \n    public static void main(String[] args) {\n    \n        final File inputFile = new File(INPUT_FILE);\n    \n        try {\n            final List&lt;Person&gt;  people = WorkbookUtility.retrievePeopleFromWorkbook(inputFile);\n        \n            for(final Person person : people) {\n                System.out.println(person);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","lambda","key-value","collectors"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":2,"creation_date":1667860322,"post_id":74353433,"comment_id":131264437,"body_markdown":"Do you mean `Map&lt;K,Collection&lt;V&gt;&gt;` instead of `Map&lt;K,V&gt;`?","body":"Do you mean <code>Map&lt;K,Collection&lt;V&gt;&gt;</code> instead of <code>Map&lt;K,V&gt;</code>?"},{"owner":{"display_name":"user19320502"},"score":0,"creation_date":1667861364,"post_id":74353433,"comment_id":131264661,"body_markdown":"@Alex.T apologies, thank you, edited.","body":"@Alex.T apologies, thank you, edited."},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1667861724,"post_id":74353433,"comment_id":131264734,"body_markdown":"You mean you want to merge the lists corresponding to the same key?","body":"You mean you want to merge the lists corresponding to the same key?"}],"answers":[{"comments":[{"owner":{"display_name":"user19320502"},"score":0,"creation_date":1667861427,"post_id":74353723,"comment_id":131264679,"body_markdown":"Apologies, question was wrong. Edited.","body":"Apologies, question was wrong. Edited."}],"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667860700,"creation_date":1667860700,"answer_id":74353723,"question_id":74353433,"body_markdown":"You can use `associate` to covert it. For exampe:\r\n\r\n```kotlin\r\nlistOf(\r\n    Pair(1, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\r\n    Pair(2, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\r\n    Pair(3, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\r\n).associate { it.first to it.second }\r\n```\r\n\r\nThe result is map: \r\n```\r\n{1=[1, 2, 3], 2=[1, 2, 3], 3=[1, 2, 3]}\r\n```\r\n\r\nIf you need only first element as a value, you need to modify only value mapping to `it.second.first()`.","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<p>You can use <code>associate</code> to covert it. For exampe:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>listOf(\n    Pair(1, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\n    Pair(2, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)),\n    Pair(3, listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\n).associate { it.first to it.second }\n</code></pre>\n<p>The result is map:</p>\n<pre><code>{1=[1, 2, 3], 2=[1, 2, 3], 3=[1, 2, 3]}\n</code></pre>\n<p>If you need only first element as a value, you need to modify only value mapping to <code>it.second.first()</code>.</p>\n"},{"comments":[{"owner":{"display_name":"user19320502"},"score":0,"creation_date":1667872602,"post_id":74353873,"comment_id":131266500,"body_markdown":"Thank you Joffrey! Your first answer seems ideal in its simplicity :)","body":"Thank you Joffrey! Your first answer seems ideal in its simplicity :)"}],"tags":[],"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667864213,"creation_date":1667861652,"answer_id":74353873,"question_id":74353433,"body_markdown":"FYI, Kotlin has a [toMap](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html) function exactly for that in cases where you don&#39;t need to merge the values of duplicate keys.\r\n\r\nHowever, if you want to merge, you&#39;ll have to go with slightly more complicated. Assuming you have a list of pairs like this:\r\n\r\n```kotlin\r\nval pairs = listOf(\r\n    1 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    1 to listOf(&quot;4&quot;),\r\n    2 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    3 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\r\n    3 to listOf(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;),\r\n)\r\n```\r\n\r\nYou can use [groupBy](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html) and [mapValues](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html) like this:\r\n\r\n```kotlin\r\nval map = pairs.groupBy({ it.first }, { it.second })\r\n               .mapValues { (k, v) -&gt; v.flatten() }\r\n```\r\n\r\nThe `groupBy` will create a `Map&lt;Int, List&lt;List&lt;String&gt;&gt;&gt;`, so each key will be mapped to the list of all the values corresponding to it. Then the `mapValues` flattens each list of lists so it becomes a single list.\r\n\r\nNote that this create an intermediate map and may not be very efficient in performance-sensitive code compared to the provided Java. If you need efficiency, you can use [groupingBy](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html) instead to get a more lazy grouping and aggregate it as you please. For instance:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }\r\n               .fold(emptyList&lt;String&gt;()) { acc, v -&gt; acc + v.second }\r\n```\r\n\r\nwhich is nice but creates intermediate lists when merging. Or:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }.fold(\r\n    initialValueSelector = { _, _ -&gt; mutableListOf&lt;String&gt;() },\r\n    operation = { _, acc, v -&gt; acc.addAll(v.second); acc }\r\n)\r\n```\r\nwhich creates a single list per key, but is a bit more complicated. Or another variant if you want to get crazier:\r\n\r\n```kotlin\r\nval map = pairs.groupingBy { it.first }.aggregate { k, acc: List&lt;String&gt;?, v, _ -&gt;\r\n    if (acc == null) v.second else acc + v.second\r\n}\r\n```\r\n(which admittedly is a bit of a mouthful, and still creates intermediate lists)","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<p>FYI, Kotlin has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\">toMap</a> function exactly for that in cases where you don't need to merge the values of duplicate keys.</p>\n<p>However, if you want to merge, you'll have to go with slightly more complicated. Assuming you have a list of pairs like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val pairs = listOf(\n    1 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    1 to listOf(&quot;4&quot;),\n    2 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    3 to listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;),\n    3 to listOf(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;),\n)\n</code></pre>\n<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\">groupBy</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html\" rel=\"nofollow noreferrer\">mapValues</a> like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupBy({ it.first }, { it.second })\n               .mapValues { (k, v) -&gt; v.flatten() }\n</code></pre>\n<p>The <code>groupBy</code> will create a <code>Map&lt;Int, List&lt;List&lt;String&gt;&gt;&gt;</code>, so each key will be mapped to the list of all the values corresponding to it. Then the <code>mapValues</code> flattens each list of lists so it becomes a single list.</p>\n<p>Note that this create an intermediate map and may not be very efficient in performance-sensitive code compared to the provided Java. If you need efficiency, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/grouping-by.html\" rel=\"nofollow noreferrer\">groupingBy</a> instead to get a more lazy grouping and aggregate it as you please. For instance:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }\n               .fold(emptyList&lt;String&gt;()) { acc, v -&gt; acc + v.second }\n</code></pre>\n<p>which is nice but creates intermediate lists when merging. Or:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }.fold(\n    initialValueSelector = { _, _ -&gt; mutableListOf&lt;String&gt;() },\n    operation = { _, acc, v -&gt; acc.addAll(v.second); acc }\n)\n</code></pre>\n<p>which creates a single list per key, but is a bit more complicated. Or another variant if you want to get crazier:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val map = pairs.groupingBy { it.first }.aggregate { k, acc: List&lt;String&gt;?, v, _ -&gt;\n    if (acc == null) v.second else acc + v.second\n}\n</code></pre>\n<p>(which admittedly is a bit of a mouthful, and still creates intermediate lists)</p>\n"}],"owner":{"display_name":"user19320502"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74353873,"answer_count":2,"score":2,"last_activity_date":1667864213,"creation_date":1667858658,"question_id":74353433,"body_markdown":"&gt; Does anyone know how to convert a List&lt;Pair&lt;K, Collection&lt; V &gt;&gt;&gt; to\r\n&gt; Map&lt;K,Collection&lt; V &gt;&gt; in Kotlin, merging the collections associated with the same key?\r\n\r\nIn Java I would use something like:\r\n\r\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (c1, c2) -&gt; {\r\n          List result = new ArrayList&lt;&gt;();\r\n          result.addAll(c1);\r\n          result.addAll(c2);\r\n          return result;\r\n    })\r\n\r\nDoes Kotlin have a similar device, or a better one? Any advice is appreciated.\r\n\r\n\r\n","title":"Convert List&lt;Pair&lt;K, Collection&lt;V&gt;&gt;&gt; to Map&lt;K,Collection&lt;V&gt;&gt; in Kotlin","body":"<blockquote>\n<p>Does anyone know how to convert a List&lt;Pair&lt;K, Collection&lt; V &gt;&gt;&gt; to\nMap&lt;K,Collection&lt; V &gt;&gt; in Kotlin, merging the collections associated with the same key?</p>\n</blockquote>\n<p>In Java I would use something like:</p>\n<pre><code>.collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (c1, c2) -&gt; {\n      List result = new ArrayList&lt;&gt;();\n      result.addAll(c1);\n      result.addAll(c2);\n      return result;\n})\n</code></pre>\n<p>Does Kotlin have a similar device, or a better one? Any advice is appreciated.</p>\n"},{"tags":["java","cryptography","bouncycastle","pbkdf2"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1667863820,"post_id":74354098,"comment_id":131265186,"body_markdown":"Try and show the output of the bytes using a base 64 or hexadecimal encoder. What you are currently looking at is the *reference to the object* printed out as string, as byte arrays don&#39;t implement a special `toString()`  method themselves. Java 17+ has HexFormat, or otherwise there is an [so Q/A](https://stackoverflow.com/q/9655181/589259)","body":"Try and show the output of the bytes using a base 64 or hexadecimal encoder. What you are currently looking at is the <i>reference to the object</i> printed out as string, as byte arrays don&#39;t implement a special <code>toString()</code>  method themselves. Java 17+ has HexFormat, or otherwise there is an <a href=\"https://stackoverflow.com/q/9655181/589259\">so Q/A</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1667895799,"post_id":74354098,"comment_id":131270554,"body_markdown":"In Java you can not print `byte[]` types using `toString()` (or if you do you only get a string like you did). Please learn how to properly print the content of byte arrays e.g. encode it hex or base64.","body":"In Java you can not print <code>byte[]</code> types using <code>toString()</code> (or if you do you only get a string like you did). Please learn how to properly print the content of byte arrays e.g. encode it hex or base64."}],"owner":{"account_id":20252831,"reputation":1,"user_id":14853381,"display_name":"Jeremy Romano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667863298,"creation_date":1667863298,"question_id":74354098,"body_markdown":"I&#39;m trying to write a password hashing function using PBKDF2 and Bouncy Castle as the provider. I&#39;m new to cryptography, so the majority of the code below was taken from another SO post. However, every time I run the function for a given password, it produces the same hash. Shouldn&#39;t the hash be different, considering I&#39;m generating a new salt each time from the Secure Random object?\r\nHere is the code:\r\n\r\n```\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] salt = new byte[8];\r\n    final int iterationCount = 20000;\r\n    final int keyLength = 256;\r\n    random.nextBytes(salt);\r\n\r\n    try {\r\n         SecretKeyFactory factoryBC =  SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA3-256&quot;, &quot;BC&quot;);\r\n         KeySpec keySpecBC = new PBEKeySpec(password.toCharArray(), salt, iterationCount, keyLength);\r\n         SecretKey keyBC = factoryBC.generateSecret(keySpecBC);\r\n         String hashedPW = keyBC.getEncoded().toString();\r\n         }\r\n\r\n```\r\n\r\n\r\nFor example, if I pass in the string &quot;hello&quot;, I will get back &quot;[B@44af588b&quot; each time. \r\n","title":"Duplicate Output for PBKDF2 using Bouncy Castle","body":"<p>I'm trying to write a password hashing function using PBKDF2 and Bouncy Castle as the provider. I'm new to cryptography, so the majority of the code below was taken from another SO post. However, every time I run the function for a given password, it produces the same hash. Shouldn't the hash be different, considering I'm generating a new salt each time from the Secure Random object?\nHere is the code:</p>\n<pre><code>    SecureRandom random = new SecureRandom();\n    byte[] salt = new byte[8];\n    final int iterationCount = 20000;\n    final int keyLength = 256;\n    random.nextBytes(salt);\n\n    try {\n         SecretKeyFactory factoryBC =  SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA3-256&quot;, &quot;BC&quot;);\n         KeySpec keySpecBC = new PBEKeySpec(password.toCharArray(), salt, iterationCount, keyLength);\n         SecretKey keyBC = factoryBC.generateSecret(keySpecBC);\n         String hashedPW = keyBC.getEncoded().toString();\n         }\n\n</code></pre>\n<p>For example, if I pass in the string &quot;hello&quot;, I will get back &quot;[B@44af588b&quot; each time.</p>\n"},{"tags":["java","concurrency","thread-safety","concurrenthashmap"],"comments":[{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1667842183,"post_id":74350363,"comment_id":131259151,"body_markdown":"Technically, I can use my locks and the classic hashmap, but as far as I know, it&#39;s not very productive.","body":"Technically, I can use my locks and the classic hashmap, but as far as I know, it&#39;s not very productive."},{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1667842391,"post_id":74350363,"comment_id":131259210,"body_markdown":"yeah, but... Map is &lt;Integer, ?&gt; and I can&#39;t just use #computeIfAbsent(Object from Record)","body":"yeah, but... Map is &lt;Integer, ?&gt; and I can&#39;t just use #computeIfAbsent(Object from Record)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1667843147,"post_id":74350363,"comment_id":131259467,"body_markdown":"Wait, Never mind. I wasn&#39;t looking closely enough at what you are trying to do. I have withdrawn my previous comments.","body":"Wait, Never mind. I wasn&#39;t looking closely enough at what you are trying to do. I have withdrawn my previous comments."}],"answers":[{"comments":[{"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"score":0,"creation_date":1667867245,"post_id":74353989,"comment_id":131265772,"body_markdown":"Oh, thanks, you helped me look at the problem from a different angle. \nHowever, sometimes I need to search by Record.b, which again forces me to search by field from the value. Or maybe two Maps... I will try and indicate in the question if necessary.","body":"Oh, thanks, you helped me look at the problem from a different angle.  However, sometimes I need to search by Record.b, which again forces me to search by field from the value. Or maybe two Maps... I will try and indicate in the question if necessary."}],"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667862548,"creation_date":1667862548,"answer_id":74353989,"question_id":74350363,"body_markdown":"What you&#39;re suggesting would defeat the purpose of using a HashMap since you&#39;re iterating through the Map instead of retrieving from the Map.\r\n\r\nWhat you should really do is create a new Map where the field in Record.a is the Key and the field in Record.B is the value (or just the whole Record). Then just update your logic to insert into both Maps appropriately.","title":"ConcurrentHashMap, find by value, compare fields and put","body":"<p>What you're suggesting would defeat the purpose of using a HashMap since you're iterating through the Map instead of retrieving from the Map.</p>\n<p>What you should really do is create a new Map where the field in Record.a is the Key and the field in Record.B is the value (or just the whole Record). Then just update your logic to insert into both Maps appropriately.</p>\n"}],"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667862548,"creation_date":1667841091,"question_id":74350363,"body_markdown":"How can I check if there is a value using the fields of a given value? And put new one? \r\nIn ConcurrentHashMap, cause I have N threads.\r\n\r\nHere is an example of what I want. However, it is not thread-safe.\r\n```\r\nMap&lt;Integer, Record&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n// it works, but I think it&#39;s unsafe\r\nint get(Object key) {\r\n   for (Map.Entry&lt;Integer, Record&gt; next : map.entrySet()) {\r\n        if (next.getValue().a == key) {\r\n          return next.getValue().b;\r\n        }\r\n      }\r\n    int code = ...newCode();\r\n    map.put(code, new Record(...))\r\n    return code;\r\n}\r\n\r\nrecord Record(Object a, int b) {\r\n}\r\n```","title":"ConcurrentHashMap, find by value, compare fields and put","body":"<p>How can I check if there is a value using the fields of a given value? And put new one?\nIn ConcurrentHashMap, cause I have N threads.</p>\n<p>Here is an example of what I want. However, it is not thread-safe.</p>\n<pre><code>Map&lt;Integer, Record&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n// it works, but I think it's unsafe\nint get(Object key) {\n   for (Map.Entry&lt;Integer, Record&gt; next : map.entrySet()) {\n        if (next.getValue().a == key) {\n          return next.getValue().b;\n        }\n      }\n    int code = ...newCode();\n    map.put(code, new Record(...))\n    return code;\n}\n\nrecord Record(Object a, int b) {\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1072940,"reputation":1307,"user_id":1071777,"display_name":"user1071777"},"score":6,"creation_date":1412950543,"post_id":26301465,"comment_id":41271639,"body_markdown":"Are you looking for Java Applets? Note you need to get it signed by a CA due to new Java security requirements.","body":"Are you looking for Java Applets? Note you need to get it signed by a CA due to new Java security requirements."},{"owner":{"account_id":2120248,"reputation":7754,"user_id":1883647,"display_name":"ajp15243"},"score":2,"creation_date":1412950793,"post_id":26301465,"comment_id":41271787,"body_markdown":"If you go the way of Java applets, you&#39;ll probably encounter a slew of users who have Java disabled in their browser because of a history of severe insecurities with applets.","body":"If you go the way of Java applets, you&#39;ll probably encounter a slew of users who have Java disabled in their browser because of a history of severe insecurities with applets."}],"owner":{"account_id":5155557,"reputation":21,"user_id":4128886,"display_name":"johnson dubula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11047,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1667862120,"creation_date":1412950378,"question_id":26301465,"body_markdown":"i have created a sophisticated software using java,but most people these day use internet applications,if i create a web based application using html/css/javascript it will take me months or years,i wanted to know if its possible to run my jar application online? \r\n\r\nis it possible to run a jar file on mobile (android,ios,blackberry os),Xamarin converts c# application is it possible to convert jar files?","title":"How do I run jar files online","body":"<p>i have created a sophisticated software using java,but most people these day use internet applications,if i create a web based application using html/css/javascript it will take me months or years,i wanted to know if its possible to run my jar application online? </p>\n\n<p>is it possible to run a jar file on mobile (android,ios,blackberry os),Xamarin converts c# application is it possible to convert jar files?</p>\n"},{"tags":["java","user-interface","console","output","panel"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1228460708,"post_id":342990,"comment_id":177815,"body_markdown":"Do you mean &quot;The java console&quot; the one that provides information about the applets and JNLP applications in use?","body":"Do you mean &quot;The java console&quot; the one that provides information about the applets and JNLP applications in use?"}],"answers":[{"comments":[{"owner":{"account_id":381702,"reputation":16294,"user_id":736518,"accept_rate":77,"display_name":"timaschew"},"score":2,"creation_date":1313946653,"post_id":343007,"comment_id":8561786,"body_markdown":"this have less code: http://unserializableone.blogspot.com/2009/01/redirecting-systemout-and-systemerr-to.html","body":"this have less code: <a href=\"http://unserializableone.blogspot.com/2009/01/redirecting-systemout-and-systemerr-to.html\" rel=\"nofollow noreferrer\">unserializableone.blogspot.com/2009/01/&hellip;</a>"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":7,"creation_date":1392833061,"post_id":343007,"comment_id":33144916,"body_markdown":"@timaschew: Of course it has less code, because it does less. Look at mine a little closer and you&#39;ll see it controls the amount of text in the output text pane so it doesn&#39;t just fill continuously and crash with an OOM. And it handles exceptions. And it&#39;s a self-contained class.","body":"@timaschew: Of course it has less code, because it does less. Look at mine a little closer and you&#39;ll see it controls the amount of text in the output text pane so it doesn&#39;t just fill continuously and crash with an OOM. And it handles exceptions. And it&#39;s a self-contained class."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":3,"creation_date":1393543134,"post_id":343007,"comment_id":33491613,"body_markdown":"@timaschew: Also, that simple solution will flood the `EDT` if enough output is thrown at it. Try running something that generates a *lot* of output continuously and in quick succession and watch what happens to the GUI.","body":"@timaschew: Also, that simple solution will flood the <code>EDT</code> if enough output is thrown at it. Try running something that generates a <i>lot</i> of output continuously and in quick succession and watch what happens to the GUI."},{"owner":{"account_id":3135278,"reputation":2495,"user_id":2651894,"accept_rate":17,"display_name":"Derek Ziemba"},"score":6,"creation_date":1397780316,"post_id":343007,"comment_id":35391097,"body_markdown":"I&#39;m amazed you edited this 6 years later. And I also want to thank you!","body":"I&#39;m amazed you edited this 6 years later. And I also want to thank you!"},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1413150987,"post_id":343007,"comment_id":41324732,"body_markdown":"+1. Thank you for the well-thought-out answer. Just one note: it would be probably better to use Java&#39;s own [*SuppressWarnings*](http://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html) annotation instead of some custom *@edu.umd.cs.findbugs.annotations.SuppressWarnings* to avoid confusion.","body":"+1. Thank you for the well-thought-out answer. Just one note: it would be probably better to use Java&#39;s own <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html\" rel=\"nofollow noreferrer\"><i>SuppressWarnings</i></a> annotation instead of some custom <i>@edu.umd.cs.findbugs.annotations.SuppressWarnings</i> to avoid confusion."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1413227554,"post_id":343007,"comment_id":41355517,"body_markdown":"@informatik01: Yes; this is old code using FindBugs which predated the annotations (I believe FindBugs now does, but haven&#39;t had time to check).","body":"@informatik01: Yes; this is old code using FindBugs which predated the annotations (I believe FindBugs now does, but haven&#39;t had time to check)."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1420172852,"post_id":343007,"comment_id":43886110,"body_markdown":"If like me you want to rely on another swing component instead of a `JTextArea`, here is a flexible code for doing so: http://stackoverflow.com/a/27737289/363573","body":"If like me you want to rely on another swing component instead of a <code>JTextArea</code>, here is a flexible code for doing so: <a href=\"http://stackoverflow.com/a/27737289/363573\">stackoverflow.com/a/27737289/363573</a>"},{"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"score":0,"creation_date":1500469624,"post_id":343007,"comment_id":77350204,"body_markdown":"This is perfect. But I do have a lot of log and it only shows up after 20 seconds. Is ther any way to speed up log output?","body":"This is perfect. But I do have a lot of log and it only shows up after 20 seconds. Is ther any way to speed up log output?"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1501110319,"post_id":343007,"comment_id":77639648,"body_markdown":"@Jefeinfiltrado : That suggests your EDT is flooded, or some other similar bottleneck. You&#39;ll need to analyze what&#39;s going on with memory, etc.","body":"@Jefeinfiltrado : That suggests your EDT is flooded, or some other similar bottleneck. You&#39;ll need to analyze what&#39;s going on with memory, etc."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1667840296,"post_id":343007,"comment_id":131258445,"body_markdown":"I like that you took RAM into consideration, +1","body":"I like that you took RAM into consideration, +1"}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":10,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1667861944,"creation_date":1228456055,"answer_id":343007,"question_id":342990,"body_markdown":"Here&#39;s a functioning class.  You can install an instance of this into the system out and err using:\r\n\r\n    PrintStream con=new PrintStream(new TextAreaOutputStream(...));\r\n    System.setOut(con);\r\n    System.setErr(con);\r\n\r\n**Updated 2014-02-19**: To use EventQueue.invokeLater() to avoid GUI threading issues which can crop up very rarely with the original.\r\n\r\n**Updated 2014-02-27**: Better implementation\r\n\r\n**Updated 2014-03-25**: Correct recording &amp; deletion of lines in text area to be within the `run()` method to avoid race-condition between appending and deleting which can happen if the console is flooded with output. The end result seems cleaner to me, as well.\r\n\r\n**Updated 2022-11-07**: Further improve implementation to completely eliminate problems from flooding with output. Note that this version will outright suppress output (with a one-line note) when it is overwhelmed with output. Previous version would eventually begin GC thrashing and the VM response would largely freeze (without actually crashing) until it finally managed to catch up.\r\n\r\n    import java.awt.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    import java.util.List;\r\n    import javax.swing.*;\r\n\r\n    public class TextAreaOutputStream\r\n    extends OutputStream\r\n    {\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE PROPERTIES\r\n    // *************************************************************************************************\r\n\r\n    private byte[]                          oneByte;                                                    // array for write(int val);\r\n    private Appender                        appender;                                                   // most recent action\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE CONSTRUCTORS/INIT/CLOSE/FINALIZE\r\n    // *************************************************************************************************\r\n\r\n    public TextAreaOutputStream(JTextArea txtara) {\r\n        this(txtara,1000);\r\n        }\r\n\r\n    public TextAreaOutputStream(JTextArea txtara, int maxlin) {\r\n        this(txtara,maxlin,null);\r\n        }\r\n\r\n    public TextAreaOutputStream(JTextArea txtara, int maxlin, Pattern rmvptn) {\r\n        if(maxlin&lt;1) { throw new IllegalArgumentException(&quot;TextAreaOutputStream maximum lines must be positive (value=&quot;+maxlin+&quot;)&quot;); }\r\n        oneByte=new byte[1];\r\n        appender=new Appender(txtara,maxlin,rmvptn);\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - ACCESSORS\r\n    // *************************************************************************************************\r\n\r\n    /** Clear the current console text area. */\r\n    public synchronized void clear() {\r\n        if(appender!=null) { appender.clear(); }\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - OUTPUT STREAM IMPLEMENTATION\r\n    // *************************************************************************************************\r\n\r\n    public synchronized void close() {\r\n        appender=null;\r\n        }\r\n\r\n    public synchronized void flush() {\r\n        }\r\n\r\n    public synchronized void write(int val) {\r\n        oneByte[0]=(byte)val;\r\n        write(oneByte,0,1);\r\n        }\r\n\r\n    public synchronized void write(byte[] ba) {\r\n        write(ba,0,ba.length);\r\n        }\r\n\r\n    public synchronized void write(byte[] ba,int str,int len) {\r\n        if(appender!=null) { appender.append(bytesToString(ba,str,len)); }\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // INSTANCE METHODS - UTILITY\r\n    // *************************************************************************************************\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;DM_DEFAULT_ENCODING&quot;)\r\n    static private String bytesToString(byte[] ba, int str, int len) {\r\n        try { return new String(ba,str,len,&quot;UTF-8&quot;); } catch(UnsupportedEncodingException thr) { return new String(ba,str,len); } // all JVMs are required to support UTF-8\r\n        }\r\n\r\n    // *************************************************************************************************\r\n    // STATIC NESTED CLASSES\r\n    // *************************************************************************************************\r\n\r\n        static class Appender\r\n        implements Runnable\r\n        {\r\n        private final StringBuilder         line    = new StringBuilder(1000);                                              // current line being assembled\r\n        private final List&lt;String&gt;          lines   = new ArrayList&lt;String&gt;();                                              // lines waiting to be appended\r\n        private final LinkedList&lt;Integer&gt;   lengths = new LinkedList&lt;Integer&gt;();                                            // lengths of each line within text area\r\n\r\n        private final JTextArea             textArea;\r\n        private final int                   maxLines;                                                                       // maximum lines allowed in text area\r\n        private final Pattern               rmvPattern;\r\n\r\n        private boolean                     clear;\r\n        private boolean                     queue;\r\n        private boolean                     wrapped;\r\n\r\n        Appender(JTextArea txtara, int maxlin, Pattern rmvptn) {\r\n            textArea    = txtara;\r\n            maxLines    = maxlin;\r\n            rmvPattern  = rmvptn;\r\n\r\n            clear       = false;\r\n            queue       = true;\r\n            wrapped     = false;\r\n            }\r\n\r\n        synchronized void append(String val) {\r\n            boolean eol                     = val.endsWith(EOL1) || val.endsWith(EOL2);\r\n\r\n            line.append(val);\r\n            while(line.length()&gt;LINE_MAX) {\r\n                emitLine(line.substring(0,LINE_MAX)+EOL1);\r\n                line.replace(0,LINE_MAX,&quot;[&gt;&gt;] &quot;);\r\n                }\r\n            if(eol) {\r\n                emitLine(line.toString());\r\n                line.setLength(0);\r\n                }\r\n            }\r\n\r\n        private void emitLine(String lin) {\r\n            if(lines.size()&gt;10_000) {\r\n                lines.clear();\r\n                lines.add(&quot;&lt;console-overflowed&gt;\\n&quot;);\r\n                }\r\n            else {\r\n                if(rmvPattern!=null) { lin = rmvPattern.matcher(lin).replaceAll(&quot;&quot;); }\r\n                lines.add(lin);\r\n                }\r\n            if(queue) {\r\n                queue=false;\r\n                EventQueue.invokeLater(this);\r\n                }\r\n            }\r\n\r\n        synchronized void clear() {\r\n            clear = true;\r\n            if(queue) { queue = false; EventQueue.invokeLater(this); }\r\n            wrapped = false;\r\n            }\r\n\r\n        // MUST BE THE ONLY METHOD THAT TOUCHES textArea!\r\n        public synchronized void run() {\r\n            int                             don = 0;\r\n\r\n            if(clear) {\r\n                lengths     . clear();\r\n                lines       . clear();\r\n                textArea    . setText(&quot;&quot;);\r\n                clear       = false;\r\n                }\r\n\r\n            for(String lin: lines) {\r\n                don += 1;\r\n                lengths.addLast(lin.length());\r\n                if(lengths.size()&gt;=maxLines) { textArea.replaceRange(&quot;&quot;,0,lengths.removeFirst()); }\r\n                textArea.append(lin);\r\n                if(don&gt;=100) { break; }\r\n                }\r\n            if(don==lines.size()) {\r\n                lines.clear();\r\n                queue = true;\r\n                }\r\n            else {\r\n                lines.subList(0,don).clear();\r\n                EventQueue.invokeLater(this);\r\n                }\r\n            }\r\n\r\n        static private final String         EOL1        = &quot;\\n&quot;;\r\n        static private final String         EOL2        = System.getProperty(&quot;line.separator&quot;,EOL1);\r\n        static private final int            LINE_MAX    = 1000;\r\n    }\r\n\r\nAnd here&#39;s a screenshot of it in action:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eq20j.png","title":"Create Java console inside a GUI panel","body":"<p>Here's a functioning class.  You can install an instance of this into the system out and err using:</p>\n<pre><code>PrintStream con=new PrintStream(new TextAreaOutputStream(...));\nSystem.setOut(con);\nSystem.setErr(con);\n</code></pre>\n<p><strong>Updated 2014-02-19</strong>: To use EventQueue.invokeLater() to avoid GUI threading issues which can crop up very rarely with the original.</p>\n<p><strong>Updated 2014-02-27</strong>: Better implementation</p>\n<p><strong>Updated 2014-03-25</strong>: Correct recording &amp; deletion of lines in text area to be within the <code>run()</code> method to avoid race-condition between appending and deleting which can happen if the console is flooded with output. The end result seems cleaner to me, as well.</p>\n<p><strong>Updated 2022-11-07</strong>: Further improve implementation to completely eliminate problems from flooding with output. Note that this version will outright suppress output (with a one-line note) when it is overwhelmed with output. Previous version would eventually begin GC thrashing and the VM response would largely freeze (without actually crashing) until it finally managed to catch up.</p>\n<pre><code>import java.awt.*;\nimport java.io.*;\nimport java.util.*;\nimport java.util.regex.*;\nimport java.util.List;\nimport javax.swing.*;\n\npublic class TextAreaOutputStream\nextends OutputStream\n{\n\n// *************************************************************************************************\n// INSTANCE PROPERTIES\n// *************************************************************************************************\n\nprivate byte[]                          oneByte;                                                    // array for write(int val);\nprivate Appender                        appender;                                                   // most recent action\n\n// *************************************************************************************************\n// INSTANCE CONSTRUCTORS/INIT/CLOSE/FINALIZE\n// *************************************************************************************************\n\npublic TextAreaOutputStream(JTextArea txtara) {\n    this(txtara,1000);\n    }\n\npublic TextAreaOutputStream(JTextArea txtara, int maxlin) {\n    this(txtara,maxlin,null);\n    }\n\npublic TextAreaOutputStream(JTextArea txtara, int maxlin, Pattern rmvptn) {\n    if(maxlin&lt;1) { throw new IllegalArgumentException(&quot;TextAreaOutputStream maximum lines must be positive (value=&quot;+maxlin+&quot;)&quot;); }\n    oneByte=new byte[1];\n    appender=new Appender(txtara,maxlin,rmvptn);\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - ACCESSORS\n// *************************************************************************************************\n\n/** Clear the current console text area. */\npublic synchronized void clear() {\n    if(appender!=null) { appender.clear(); }\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - OUTPUT STREAM IMPLEMENTATION\n// *************************************************************************************************\n\npublic synchronized void close() {\n    appender=null;\n    }\n\npublic synchronized void flush() {\n    }\n\npublic synchronized void write(int val) {\n    oneByte[0]=(byte)val;\n    write(oneByte,0,1);\n    }\n\npublic synchronized void write(byte[] ba) {\n    write(ba,0,ba.length);\n    }\n\npublic synchronized void write(byte[] ba,int str,int len) {\n    if(appender!=null) { appender.append(bytesToString(ba,str,len)); }\n    }\n\n// *************************************************************************************************\n// INSTANCE METHODS - UTILITY\n// *************************************************************************************************\n\n@edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;DM_DEFAULT_ENCODING&quot;)\nstatic private String bytesToString(byte[] ba, int str, int len) {\n    try { return new String(ba,str,len,&quot;UTF-8&quot;); } catch(UnsupportedEncodingException thr) { return new String(ba,str,len); } // all JVMs are required to support UTF-8\n    }\n\n// *************************************************************************************************\n// STATIC NESTED CLASSES\n// *************************************************************************************************\n\n    static class Appender\n    implements Runnable\n    {\n    private final StringBuilder         line    = new StringBuilder(1000);                                              // current line being assembled\n    private final List&lt;String&gt;          lines   = new ArrayList&lt;String&gt;();                                              // lines waiting to be appended\n    private final LinkedList&lt;Integer&gt;   lengths = new LinkedList&lt;Integer&gt;();                                            // lengths of each line within text area\n\n    private final JTextArea             textArea;\n    private final int                   maxLines;                                                                       // maximum lines allowed in text area\n    private final Pattern               rmvPattern;\n\n    private boolean                     clear;\n    private boolean                     queue;\n    private boolean                     wrapped;\n\n    Appender(JTextArea txtara, int maxlin, Pattern rmvptn) {\n        textArea    = txtara;\n        maxLines    = maxlin;\n        rmvPattern  = rmvptn;\n\n        clear       = false;\n        queue       = true;\n        wrapped     = false;\n        }\n\n    synchronized void append(String val) {\n        boolean eol                     = val.endsWith(EOL1) || val.endsWith(EOL2);\n\n        line.append(val);\n        while(line.length()&gt;LINE_MAX) {\n            emitLine(line.substring(0,LINE_MAX)+EOL1);\n            line.replace(0,LINE_MAX,&quot;[&gt;&gt;] &quot;);\n            }\n        if(eol) {\n            emitLine(line.toString());\n            line.setLength(0);\n            }\n        }\n\n    private void emitLine(String lin) {\n        if(lines.size()&gt;10_000) {\n            lines.clear();\n            lines.add(&quot;&lt;console-overflowed&gt;\\n&quot;);\n            }\n        else {\n            if(rmvPattern!=null) { lin = rmvPattern.matcher(lin).replaceAll(&quot;&quot;); }\n            lines.add(lin);\n            }\n        if(queue) {\n            queue=false;\n            EventQueue.invokeLater(this);\n            }\n        }\n\n    synchronized void clear() {\n        clear = true;\n        if(queue) { queue = false; EventQueue.invokeLater(this); }\n        wrapped = false;\n        }\n\n    // MUST BE THE ONLY METHOD THAT TOUCHES textArea!\n    public synchronized void run() {\n        int                             don = 0;\n\n        if(clear) {\n            lengths     . clear();\n            lines       . clear();\n            textArea    . setText(&quot;&quot;);\n            clear       = false;\n            }\n\n        for(String lin: lines) {\n            don += 1;\n            lengths.addLast(lin.length());\n            if(lengths.size()&gt;=maxLines) { textArea.replaceRange(&quot;&quot;,0,lengths.removeFirst()); }\n            textArea.append(lin);\n            if(don&gt;=100) { break; }\n            }\n        if(don==lines.size()) {\n            lines.clear();\n            queue = true;\n            }\n        else {\n            lines.subList(0,don).clear();\n            EventQueue.invokeLater(this);\n            }\n        }\n\n    static private final String         EOL1        = &quot;\\n&quot;;\n    static private final String         EOL2        = System.getProperty(&quot;line.separator&quot;,EOL1);\n    static private final int            LINE_MAX    = 1000;\n}\n</code></pre>\n<p>And here's a screenshot of it in action:</p>\n<p><img src=\"https://i.stack.imgur.com/Eq20j.png\" alt=\"enter image description here\" /></p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":7,"creation_date":1228493611,"post_id":343084,"comment_id":178729,"body_markdown":"If helps for anything. I&#39;ve mark this as community wiki. At least I won&#39;t get points for something I didn&#39;t program.","body":"If helps for anything. I&#39;ve mark this as community wiki. At least I won&#39;t get points for something I didn&#39;t program."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1500815236,"creation_date":1228460478,"answer_id":343084,"question_id":342990,"body_markdown":"@Sofware Monkey:\r\n\r\nIt works! :)\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n\r\n    public class Main{\r\n        public static void main( String [] args ) throws InterruptedException  {\r\n            JFrame frame = new JFrame();\r\n            frame.add( new JLabel(&quot; Outout&quot; ), BorderLayout.NORTH );\r\n\r\n            JTextArea ta = new JTextArea();\r\n            TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\r\n            PrintStream ps = new PrintStream( taos );\r\n            System.setOut( ps );\r\n            System.setErr( ps );\r\n\r\n\r\n            frame.add( new JScrollPane( ta )  );\r\n\r\n            frame.pack();\r\n            frame.setVisible( true );\r\n            frame.setSize(800,600);\r\n\r\n            for( int i = 0 ; i &lt; 100 ; i++ ) {\r\n                System.out.println( i );\r\n                Thread.sleep( 500 );\r\n            }\r\n        }\r\n    }\r\n","title":"Create Java console inside a GUI panel","body":"<p>@Sofware Monkey:</p>\n\n<p>It works! :)</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.io.*;\n\npublic class Main{\n    public static void main( String [] args ) throws InterruptedException  {\n        JFrame frame = new JFrame();\n        frame.add( new JLabel(\" Outout\" ), BorderLayout.NORTH );\n\n        JTextArea ta = new JTextArea();\n        TextAreaOutputStream taos = new TextAreaOutputStream( ta, 60 );\n        PrintStream ps = new PrintStream( taos );\n        System.setOut( ps );\n        System.setErr( ps );\n\n\n        frame.add( new JScrollPane( ta )  );\n\n        frame.pack();\n        frame.setVisible( true );\n        frame.setSize(800,600);\n\n        for( int i = 0 ; i &lt; 100 ; i++ ) {\n            System.out.println( i );\n            Thread.sleep( 500 );\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":1,"creation_date":1393532147,"post_id":12938749,"comment_id":33485246,"body_markdown":"I don&#39;t think this will work; the text area is directly accessed via `fireDataWritten` by whatever thread does the write, which is not guaranteed to be the EDT.","body":"I don&#39;t think this will work; the text area is directly accessed via <code>fireDataWritten</code> by whatever thread does the write, which is not guaranteed to be the EDT."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":1,"creation_date":1393532941,"post_id":12938749,"comment_id":33485803,"body_markdown":"Also, this will have exponentially worse performance as more data is added to the text area such that more and more bytes will have to be converted to a string, and then set into the text area. Not a great characteristic for a GUI console (which may easily have 10&#39;s of MiB of data in it). Making this worse, it creates one `Byte` object for every byte written. And it repopulates the text area for every byte written.","body":"Also, this will have exponentially worse performance as more data is added to the text area such that more and more bytes will have to be converted to a string, and then set into the text area. Not a great characteristic for a GUI console (which may easily have 10&#39;s of MiB of data in it). Making this worse, it creates one <code>Byte</code> object for every byte written. And it repopulates the text area for every byte written."}],"tags":[],"owner":{"account_id":1949382,"reputation":49,"user_id":1753832,"display_name":"Derive McNeill"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1350490671,"creation_date":1350490671,"answer_id":12938749,"question_id":342990,"body_markdown":"I know that this is an old thread but the fact that I found it while trying to figure out a good way of doing this means others probably will too.\r\n\r\nHere&#39;s a (Probably) cleaner way of doing what software monkey posted:\r\n\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    import java.util.ArrayList;\r\n    \r\n    import javax.swing.JTextArea;\r\n    \r\n    /**\r\n     * Represents a console viewable through a &lt;code&gt;JTextArea&lt;/code&gt;.\r\n     * \r\n     * &lt;p&gt;\r\n     * \tImplementation:\r\n     * \t&lt;code&gt;\r\n     * \t\tSystem.setOut(new PrintStream(new Console( ... )));\r\n     * \t&lt;/code&gt;\r\n     * \t&lt;/p&gt;\r\n     * \r\n     * @author Derive McNeill\r\n     *\r\n     */\r\n    public class Console extends OutputStream {\r\n    \r\n    \t/**\r\n    \t * Represents the data written to the stream.\r\n    \t */\r\n    \tArrayList &lt;Byte&gt; data = new ArrayList &lt;Byte&gt; ();\r\n    \t\r\n    \t/**\r\n    \t * Represents the text area that will be showing the written data.\r\n    \t */\r\n    \tprivate JTextArea output;\r\n    \t\r\n    \t/**\r\n    \t * Creates a console context.\r\n    \t * @param output\r\n    \t * \t\tThe text area to output the consoles text.\r\n    \t */\r\n    \tpublic Console(JTextArea output) {\r\n    \t\tthis.output = output;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Called when data has been written to the console.\r\n    \t */\r\n    \tprivate void fireDataWritten() {\r\n    \t\t\r\n    \t\t// First we loop through our written data counting the lines.\r\n    \t\tint lines = 0;\r\n    \t\tfor (int i = 0; i &lt; data.size(); i++) {\r\n    \t\t\tbyte b = data.get(i);\r\n    \t\t\t\r\n    \t\t\t// Specifically we look for 10 which represents &quot;\\n&quot;.\r\n    \t\t\tif (b == 10) {\r\n    \t\t\t\tlines++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// If the line count exceeds 250 we remove older lines.\r\n    \t\t\tif (lines &gt;= 250) {\r\n    \t\t\t\tdata = (ArrayList&lt;Byte&gt;) data.subList(i, data.size());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t// We then create a string builder to append our text data.\r\n    \t\tStringBuilder bldr = new StringBuilder();\r\n    \t\t\r\n    \t\t// We loop through the text data appending it to the string builder.\r\n    \t\tfor (byte b : data) {\r\n    \t\t\tbldr.append((char) b);\r\n    \t\t}\r\n    \t\t\r\n    \t\t// Finally we set the outputs text to our built string.\r\n    \t\toutput.setText(bldr.toString());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void write(int i) throws IOException {\r\n    \t\t\r\n    \t\t// Append the piece of data to our array of data.\r\n    \t\tdata.add((byte) i);\r\n    \t\t\r\n    \t\t// Indicate that data has just been written.\r\n    \t\tfireDataWritten();\r\n    \t}\r\n    \r\n    }","title":"Create Java console inside a GUI panel","body":"<p>I know that this is an old thread but the fact that I found it while trying to figure out a good way of doing this means others probably will too.</p>\n\n<p>Here's a (Probably) cleaner way of doing what software monkey posted:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\n\nimport javax.swing.JTextArea;\n\n/**\n * Represents a console viewable through a &lt;code&gt;JTextArea&lt;/code&gt;.\n * \n * &lt;p&gt;\n *  Implementation:\n *  &lt;code&gt;\n *      System.setOut(new PrintStream(new Console( ... )));\n *  &lt;/code&gt;\n *  &lt;/p&gt;\n * \n * @author Derive McNeill\n *\n */\npublic class Console extends OutputStream {\n\n    /**\n     * Represents the data written to the stream.\n     */\n    ArrayList &lt;Byte&gt; data = new ArrayList &lt;Byte&gt; ();\n\n    /**\n     * Represents the text area that will be showing the written data.\n     */\n    private JTextArea output;\n\n    /**\n     * Creates a console context.\n     * @param output\n     *      The text area to output the consoles text.\n     */\n    public Console(JTextArea output) {\n        this.output = output;\n    }\n\n    /**\n     * Called when data has been written to the console.\n     */\n    private void fireDataWritten() {\n\n        // First we loop through our written data counting the lines.\n        int lines = 0;\n        for (int i = 0; i &lt; data.size(); i++) {\n            byte b = data.get(i);\n\n            // Specifically we look for 10 which represents \"\\n\".\n            if (b == 10) {\n                lines++;\n            }\n\n            // If the line count exceeds 250 we remove older lines.\n            if (lines &gt;= 250) {\n                data = (ArrayList&lt;Byte&gt;) data.subList(i, data.size());\n            }\n        }\n\n        // We then create a string builder to append our text data.\n        StringBuilder bldr = new StringBuilder();\n\n        // We loop through the text data appending it to the string builder.\n        for (byte b : data) {\n            bldr.append((char) b);\n        }\n\n        // Finally we set the outputs text to our built string.\n        output.setText(bldr.toString());\n    }\n\n    @Override\n    public void write(int i) throws IOException {\n\n        // Append the piece of data to our array of data.\n        data.add((byte) i);\n\n        // Indicate that data has just been written.\n        fireDataWritten();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1393532812,"post_id":13321464,"comment_id":33485716,"body_markdown":"This accesses the text area off the EDT, which, as I found out, will eventually cause a deadlock in the GUI.","body":"This accesses the text area off the EDT, which, as I found out, will eventually cause a deadlock in the GUI."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1393532875,"post_id":13321464,"comment_id":33485755,"body_markdown":"Also, this will have exponentially worse performance as more data is added to the text area such that more and more bytes will have to be converted to a string, and then set into the text area. Not a great characteristic for a GUI console (which may easily have 10&#39;s of MiB of data in it).","body":"Also, this will have exponentially worse performance as more data is added to the text area such that more and more bytes will have to be converted to a string, and then set into the text area. Not a great characteristic for a GUI console (which may easily have 10&#39;s of MiB of data in it)."}],"tags":[],"owner":{"account_id":63625,"reputation":2306,"user_id":188256,"display_name":"snipsnipsnip"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1354615446,"creation_date":1352545500,"answer_id":13321464,"question_id":342990,"body_markdown":"[ByteArrayOutputStream][1] can be used to omit buffering stuff.\r\n\r\n    private void redirectConsoleTo(final JTextArea textarea) {\r\n        PrintStream out = new PrintStream(new ByteArrayOutputStream() {\r\n            public synchronized void flush() throws IOException {\r\n                textarea.setText(toString());\r\n            }\r\n        }, true);\r\n\r\n        System.setErr(out);\r\n        System.setOut(out);\r\n    }\r\n\r\nRather than limiting line number, you can bind [ByteArrayOutputStream#reset()][2] to some button.\r\n\r\n    private void redirectConsoleWithClearButton(final JTextArea textarea, JButton clearButton) {\r\n        final ByteArrayOutputStream bytes = new ByteArrayOutputStream() {\r\n            public synchronized void flush() throws IOException {\r\n                textarea.setText(toString());\r\n            }\r\n        };\r\n\r\n        clearButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                bytes.reset();\r\n            }\r\n        });\r\n\r\n        PrintStream out = new PrintStream(bytes, true);\r\n\r\n        System.setErr(out);\r\n        System.setOut(out);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#reset%28%29","title":"Create Java console inside a GUI panel","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow\">ByteArrayOutputStream</a> can be used to omit buffering stuff.</p>\n\n<pre><code>private void redirectConsoleTo(final JTextArea textarea) {\n    PrintStream out = new PrintStream(new ByteArrayOutputStream() {\n        public synchronized void flush() throws IOException {\n            textarea.setText(toString());\n        }\n    }, true);\n\n    System.setErr(out);\n    System.setOut(out);\n}\n</code></pre>\n\n<p>Rather than limiting line number, you can bind <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html#reset%28%29\" rel=\"nofollow\">ByteArrayOutputStream#reset()</a> to some button.</p>\n\n<pre><code>private void redirectConsoleWithClearButton(final JTextArea textarea, JButton clearButton) {\n    final ByteArrayOutputStream bytes = new ByteArrayOutputStream() {\n        public synchronized void flush() throws IOException {\n            textarea.setText(toString());\n        }\n    };\n\n    clearButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            bytes.reset();\n        }\n    });\n\n    PrintStream out = new PrintStream(bytes, true);\n\n    System.setErr(out);\n    System.setOut(out);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420173239,"creation_date":1420172035,"answer_id":27737289,"question_id":342990,"body_markdown":"I recently use the [excellent code][1] provided by [Lawrence Dol][1] in one of my project.\n\nHowever, in my case the code consumed too many memory. I managed to reduce drastically the memory comsuption by replacing `JTextarea` by a `JLabel`.\n\nMy memory saving searches showed that `JTextarea` internal code tends to hold the actual text sent too much time. Consequently, all this text could not be garbage collected.\n\nHere is the flexible version of initial code (with thread synchronization replaced by locks).\n\n## JComponentOutputStream.java\n\n    import java.awt.EventQueue;\n    import java.io.OutputStream;\n    import java.io.UnsupportedEncodingException;\n    import java.util.ArrayList;\n    import java.util.LinkedList;\n    import java.util.List;\n    import java.util.concurrent.locks.Lock;\n    import java.util.concurrent.locks.ReentrantLock;\n\n    import javax.swing.JComponent;\n\n    public class JComponentOutputStream extends OutputStream {\n\n        // *************************************************************************************************\n        // INSTANCE MEMBERS\n        // *************************************************************************************************\n\n        private byte[] oneByte; // array for write(int val);\n        private Appender appender; // most recent action\n\n        private Lock jcosLock = new ReentrantLock();\n\n        public JComponentOutputStream(JComponent txtara, JComponentHandler handler) {\n            this(txtara, 1000, handler);\n        }\n\n        public JComponentOutputStream(JComponent txtara, int maxlin, JComponentHandler handler) {\n            if (maxlin &lt; 1) {\n                throw new IllegalArgumentException(&quot;JComponentOutputStream maximum lines must be positive (value=&quot; + maxlin + &quot;)&quot;);\n            }\n            oneByte = new byte[1];\n            appender = new Appender(txtara, maxlin, handler);\n        }\n\n        /** Clear the current console text area. */\n        public void clear() {\n            jcosLock.lock();\n            try {\n                if (appender != null) {\n                    appender.clear();\n                }\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void close() {\n            jcosLock.lock();\n            try {\n                appender = null;\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void flush() {\n            // sstosLock.lock();\n            // try {\n            // // TODO: Add necessary code here...\n            // } finally {\n            // sstosLock.unlock();\n            // }\n        }\n\n        public void write(int val) {\n            jcosLock.lock();\n            try {\n                oneByte[0] = (byte) val;\n                write(oneByte, 0, 1);\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void write(byte[] ba) {\n            jcosLock.lock();\n            try {\n                write(ba, 0, ba.length);\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        public void write(byte[] ba, int str, int len) {\n            jcosLock.lock();\n            try {\n                if (appender != null) {\n                    appender.append(bytesToString(ba, str, len));\n                }\n            } finally {\n                jcosLock.unlock();\n            }\n        }\n\n        static private String bytesToString(byte[] ba, int str, int len) {\n            try {\n                return new String(ba, str, len, &quot;UTF-8&quot;);\n            } catch (UnsupportedEncodingException thr) {\n                return new String(ba, str, len);\n            } // all JVMs are required to support UTF-8\n        }\n\n        // *************************************************************************************************\n        // STATIC MEMBERS\n        // *************************************************************************************************\n\n        static class Appender implements Runnable {\n            private final JComponent swingComponent;\n            private final int maxLines; // maximum lines allowed in text area\n            private final LinkedList&lt;Integer&gt; lengths; // length of lines within\n                                                        // text area\n            private final List&lt;String&gt; values; // values waiting to be appended\n\n            private int curLength; // length of current line\n            private boolean clear;\n            private boolean queue;\n\n            private Lock appenderLock;\n\n            private JComponentHandler handler;\n\n            Appender(JComponent cpt, int maxlin, JComponentHandler hndlr) {\n                appenderLock = new ReentrantLock();\n\n                swingComponent = cpt;\n                maxLines = maxlin;\n                lengths = new LinkedList&lt;Integer&gt;();\n                values = new ArrayList&lt;String&gt;();\n\n                curLength = 0;\n                clear = false;\n                queue = true;\n\n                handler = hndlr;\n            }\n\n            void append(String val) {\n                appenderLock.lock();\n                try {\n                    values.add(val);\n                    if (queue) {\n                        queue = false;\n                        EventQueue.invokeLater(this);\n                    }\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            void clear() {\n                appenderLock.lock();\n                try {\n\n                    clear = true;\n                    curLength = 0;\n                    lengths.clear();\n                    values.clear();\n                    if (queue) {\n                        queue = false;\n                        EventQueue.invokeLater(this);\n                    }\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            // MUST BE THE ONLY METHOD THAT TOUCHES the JComponent!\n            public void run() {\n                appenderLock.lock();\n                try {\n                    if (clear) {\n                        handler.setText(swingComponent, &quot;&quot;);\n                    }\n                    for (String val : values) {\n                        curLength += val.length();\n                        if (val.endsWith(EOL1) || val.endsWith(EOL2)) {\n                            if (lengths.size() &gt;= maxLines) {\n                                handler.replaceRange(swingComponent, &quot;&quot;, 0, lengths.removeFirst());\n                            }\n                            lengths.addLast(curLength);\n                            curLength = 0;\n                        }\n                        handler.append(swingComponent, val);\n                    }\n\n                    values.clear();\n                    clear = false;\n                    queue = true;\n                } finally {\n                    appenderLock.unlock();\n                }\n            }\n\n            static private final String EOL1 = &quot;\\n&quot;;\n            static private final String EOL2 = System.getProperty(&quot;line.separator&quot;, EOL1);\n        }\n\n        public interface JComponentHandler {\n            void setText(JComponent swingComponent, String text);\n\n            void replaceRange(JComponent swingComponent, String text, int start, int end);\n\n            void append(JComponent swingComponent, String text);\n        }\n\n    } /* END PUBLIC CLASS */\n\n----\n## Sample usage\n\n    JLabel console = new JLabel();\n    JComponentOutputStream consoleOutputStream = new JComponentOutputStream(console, new JComponentHandler() {\n        private StringBuilder sb = new StringBuilder();\n\n        @Override\n        public void setText(JComponent swingComponent, String text) {\n            sb.delete(0, sb.length());\n            append(swingComponent, text);\n        }\n\n        @Override\n        public void replaceRange(JComponent swingComponent, String text, int start, int end) {\n            sb.replace(start, end, text);\n            redrawTextOf(swingComponent);\n        }\n\n        @Override\n        public void append(JComponent swingComponent, String text) {\n            sb.append(text);\n            redrawTextOf(swingComponent);\n        }\n\n        private void redrawTextOf(JComponent swingComponent) {\n            ((JLabel)swingComponent).setText(&quot;&lt;html&gt;&lt;pre&gt;&quot; + sb.toString() + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\n        }\n    });\n\n    PrintStream con = new PrintStream(consoleOutputStream);\n    System.setOut(con);\n    System.setErr(con);    \n    \n    // Optional: add a scrollpane around the console for having scrolling bars\n    JScrollPane sp = new JScrollPane( //\n            console, //\n            ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, //\n            ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED //\n    );\n    myPanel.add(sp);\n\n\n  [1]: https://stackoverflow.com/a/343007/363573","title":"Create Java console inside a GUI panel","body":"<p>I recently use the <a href=\"https://stackoverflow.com/a/343007/363573\">excellent code</a> provided by <a href=\"https://stackoverflow.com/a/343007/363573\">Lawrence Dol</a> in one of my project.</p>\n<p>However, in my case the code consumed too many memory. I managed to reduce drastically the memory comsuption by replacing <code>JTextarea</code> by a <code>JLabel</code>.</p>\n<p>My memory saving searches showed that <code>JTextarea</code> internal code tends to hold the actual text sent too much time. Consequently, all this text could not be garbage collected.</p>\n<p>Here is the flexible version of initial code (with thread synchronization replaced by locks).</p>\n<h2>JComponentOutputStream.java</h2>\n<pre><code>import java.awt.EventQueue;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\nimport javax.swing.JComponent;\n\npublic class JComponentOutputStream extends OutputStream {\n\n    // *************************************************************************************************\n    // INSTANCE MEMBERS\n    // *************************************************************************************************\n\n    private byte[] oneByte; // array for write(int val);\n    private Appender appender; // most recent action\n\n    private Lock jcosLock = new ReentrantLock();\n\n    public JComponentOutputStream(JComponent txtara, JComponentHandler handler) {\n        this(txtara, 1000, handler);\n    }\n\n    public JComponentOutputStream(JComponent txtara, int maxlin, JComponentHandler handler) {\n        if (maxlin &lt; 1) {\n            throw new IllegalArgumentException(&quot;JComponentOutputStream maximum lines must be positive (value=&quot; + maxlin + &quot;)&quot;);\n        }\n        oneByte = new byte[1];\n        appender = new Appender(txtara, maxlin, handler);\n    }\n\n    /** Clear the current console text area. */\n    public void clear() {\n        jcosLock.lock();\n        try {\n            if (appender != null) {\n                appender.clear();\n            }\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void close() {\n        jcosLock.lock();\n        try {\n            appender = null;\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void flush() {\n        // sstosLock.lock();\n        // try {\n        // // TODO: Add necessary code here...\n        // } finally {\n        // sstosLock.unlock();\n        // }\n    }\n\n    public void write(int val) {\n        jcosLock.lock();\n        try {\n            oneByte[0] = (byte) val;\n            write(oneByte, 0, 1);\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void write(byte[] ba) {\n        jcosLock.lock();\n        try {\n            write(ba, 0, ba.length);\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    public void write(byte[] ba, int str, int len) {\n        jcosLock.lock();\n        try {\n            if (appender != null) {\n                appender.append(bytesToString(ba, str, len));\n            }\n        } finally {\n            jcosLock.unlock();\n        }\n    }\n\n    static private String bytesToString(byte[] ba, int str, int len) {\n        try {\n            return new String(ba, str, len, &quot;UTF-8&quot;);\n        } catch (UnsupportedEncodingException thr) {\n            return new String(ba, str, len);\n        } // all JVMs are required to support UTF-8\n    }\n\n    // *************************************************************************************************\n    // STATIC MEMBERS\n    // *************************************************************************************************\n\n    static class Appender implements Runnable {\n        private final JComponent swingComponent;\n        private final int maxLines; // maximum lines allowed in text area\n        private final LinkedList&lt;Integer&gt; lengths; // length of lines within\n                                                    // text area\n        private final List&lt;String&gt; values; // values waiting to be appended\n\n        private int curLength; // length of current line\n        private boolean clear;\n        private boolean queue;\n\n        private Lock appenderLock;\n\n        private JComponentHandler handler;\n\n        Appender(JComponent cpt, int maxlin, JComponentHandler hndlr) {\n            appenderLock = new ReentrantLock();\n\n            swingComponent = cpt;\n            maxLines = maxlin;\n            lengths = new LinkedList&lt;Integer&gt;();\n            values = new ArrayList&lt;String&gt;();\n\n            curLength = 0;\n            clear = false;\n            queue = true;\n\n            handler = hndlr;\n        }\n\n        void append(String val) {\n            appenderLock.lock();\n            try {\n                values.add(val);\n                if (queue) {\n                    queue = false;\n                    EventQueue.invokeLater(this);\n                }\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        void clear() {\n            appenderLock.lock();\n            try {\n\n                clear = true;\n                curLength = 0;\n                lengths.clear();\n                values.clear();\n                if (queue) {\n                    queue = false;\n                    EventQueue.invokeLater(this);\n                }\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        // MUST BE THE ONLY METHOD THAT TOUCHES the JComponent!\n        public void run() {\n            appenderLock.lock();\n            try {\n                if (clear) {\n                    handler.setText(swingComponent, &quot;&quot;);\n                }\n                for (String val : values) {\n                    curLength += val.length();\n                    if (val.endsWith(EOL1) || val.endsWith(EOL2)) {\n                        if (lengths.size() &gt;= maxLines) {\n                            handler.replaceRange(swingComponent, &quot;&quot;, 0, lengths.removeFirst());\n                        }\n                        lengths.addLast(curLength);\n                        curLength = 0;\n                    }\n                    handler.append(swingComponent, val);\n                }\n\n                values.clear();\n                clear = false;\n                queue = true;\n            } finally {\n                appenderLock.unlock();\n            }\n        }\n\n        static private final String EOL1 = &quot;\\n&quot;;\n        static private final String EOL2 = System.getProperty(&quot;line.separator&quot;, EOL1);\n    }\n\n    public interface JComponentHandler {\n        void setText(JComponent swingComponent, String text);\n\n        void replaceRange(JComponent swingComponent, String text, int start, int end);\n\n        void append(JComponent swingComponent, String text);\n    }\n\n} /* END PUBLIC CLASS */\n</code></pre>\n<hr />\n<h2>Sample usage</h2>\n<pre><code>JLabel console = new JLabel();\nJComponentOutputStream consoleOutputStream = new JComponentOutputStream(console, new JComponentHandler() {\n    private StringBuilder sb = new StringBuilder();\n\n    @Override\n    public void setText(JComponent swingComponent, String text) {\n        sb.delete(0, sb.length());\n        append(swingComponent, text);\n    }\n\n    @Override\n    public void replaceRange(JComponent swingComponent, String text, int start, int end) {\n        sb.replace(start, end, text);\n        redrawTextOf(swingComponent);\n    }\n\n    @Override\n    public void append(JComponent swingComponent, String text) {\n        sb.append(text);\n        redrawTextOf(swingComponent);\n    }\n\n    private void redrawTextOf(JComponent swingComponent) {\n        ((JLabel)swingComponent).setText(&quot;&lt;html&gt;&lt;pre&gt;&quot; + sb.toString() + &quot;&lt;/pre&gt;&lt;/html&gt;&quot;);\n    }\n});\n\nPrintStream con = new PrintStream(consoleOutputStream);\nSystem.setOut(con);\nSystem.setErr(con);    \n\n// Optional: add a scrollpane around the console for having scrolling bars\nJScrollPane sp = new JScrollPane( //\n        console, //\n        ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, //\n        ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED //\n);\nmyPanel.add(sp);\n</code></pre>\n"}],"owner":{"display_name":"raman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82636,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":5,"score":50,"last_activity_date":1667861944,"creation_date":1228455215,"question_id":342990,"body_markdown":"How can I create an instance of the Java console inside of a GUI panel?","title":"Create Java console inside a GUI panel","body":"<p>How can I create an instance of the Java console inside of a GUI panel?</p>\n"},{"tags":["java","arraylist","system.out"],"comments":[{"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"score":2,"creation_date":1667861407,"post_id":74353739,"comment_id":131264672,"body_markdown":"It&#39;s hard to say what the problem is from this information. Perhaps a minimal, reproducible example would help. To help with debugging, I would recommend making the program simpler and simpler until the problem goes away. What does `System.out.println(&quot;a\\n\\nb&quot;)` print?","body":"It&#39;s hard to say what the problem is from this information. Perhaps a minimal, reproducible example would help. To help with debugging, I would recommend making the program simpler and simpler until the problem goes away. What does <code>System.out.println(&quot;a\\n\\nb&quot;)</code> print?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667862747,"post_id":74353739,"comment_id":131264966,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667863479,"post_id":74353859,"comment_id":131265124,"body_markdown":"time to update your bookmarks to some newer Java version","body":"time to update your bookmarks to some newer Java version"}],"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861591,"creation_date":1667861591,"answer_id":74353859,"question_id":74353739,"body_markdown":"Can you try below please?\r\n\r\n    String newLine = System.lineSeparator();\r\n    System.out.println(c.toString() + newLine + newLine); \r\n\r\nThe line break could depend on your system.\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\r\n\r\nI suggest you debug and see what the lineSeparator is on your system.","title":"Why isn&#39;t my program adding a blank line after printing the .toString method?","body":"<p>Can you try below please?</p>\n<pre><code>String newLine = System.lineSeparator();\nSystem.out.println(c.toString() + newLine + newLine); \n</code></pre>\n<p>The line break could depend on your system.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#lineSeparator%28%29</a></p>\n<p>I suggest you debug and see what the lineSeparator is on your system.</p>\n"}],"owner":{"account_id":25576253,"reputation":29,"user_id":19355648,"display_name":"Aaron Hall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667861591,"creation_date":1667860847,"question_id":74353739,"body_markdown":"I am writing code to output parts of an ArrayList named Bikes using classes and if statements.\r\n\r\nI added the new line characters after the print statements, but the output is still not seperated.\r\n\r\n```\r\n\r\n```\r\n`\r\n```\r\nfor(Bicycle c : Bikes){\r\n            if(c instanceof MountainBike){\r\n                ((MountainBike) c).setHeight(99);\r\n                System.out.println(&quot;New Mountain Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);\r\n            }\r\n            \r\n            if(c instanceof TandemBike){\r\n                ((TandemBike) c).setBetweenSpace(88);\r\n                System.out.println(&quot;New Tandem Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);    \r\n            }\r\n           \r\n            if(c instanceof RoadBike){\r\n                ((RoadBike) c).setHandlebarType(&quot;NewType&quot;);\r\n                System.out.println(&quot;New Road Bike Info: &quot;);\r\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);   \r\n            }\r\n            \r\n        }\r\n```\r\n`\r\n\r\nThis is what the output looks like despite the \\n: \r\n\r\nNew Mountain Bike Info:&lt;br/&gt; \r\nCadence: 43&lt;br/&gt;\r\nGear: 2&lt;br/&gt;\r\nSpeed: 3&lt;br/&gt;\r\nSeat Height: 99&lt;br/&gt;\r\nNew Tandem Bike Info:&lt;br/&gt;\r\nCadence: 37&lt;br/&gt;\r\nGear: 1&lt;br/&gt;\r\nSpeed: 2&lt;br/&gt;\r\nBetween Space: 88&lt;br/&gt;\r\nNew Road Bike Info:&lt;br/&gt; \r\nCadence: 40&lt;br/&gt;\r\nGear: 1&lt;br/&gt;\r\nSpeed: 1&lt;br/&gt;\r\nHandelbars: NewType&lt;br/&gt;","title":"Why isn&#39;t my program adding a blank line after printing the .toString method?","body":"<p>I am writing code to output parts of an ArrayList named Bikes using classes and if statements.</p>\n<p>I added the new line characters after the print statements, but the output is still not seperated.</p>\n<pre><code>\n</code></pre>\n<p>`</p>\n<pre><code>for(Bicycle c : Bikes){\n            if(c instanceof MountainBike){\n                ((MountainBike) c).setHeight(99);\n                System.out.println(&quot;New Mountain Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);\n            }\n            \n            if(c instanceof TandemBike){\n                ((TandemBike) c).setBetweenSpace(88);\n                System.out.println(&quot;New Tandem Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);    \n            }\n           \n            if(c instanceof RoadBike){\n                ((RoadBike) c).setHandlebarType(&quot;NewType&quot;);\n                System.out.println(&quot;New Road Bike Info: &quot;);\n                System.out.println(c.toString() + &quot;\\n\\n&quot;);   \n            }\n            \n        }\n</code></pre>\n<p>`</p>\n<p>This is what the output looks like despite the \\n:</p>\n<p>New Mountain Bike Info:<br/>\nCadence: 43<br/>\nGear: 2<br/>\nSpeed: 3<br/>\nSeat Height: 99<br/>\nNew Tandem Bike Info:<br/>\nCadence: 37<br/>\nGear: 1<br/>\nSpeed: 2<br/>\nBetween Space: 88<br/>\nNew Road Bike Info:<br/>\nCadence: 40<br/>\nGear: 1<br/>\nSpeed: 1<br/>\nHandelbars: NewType<br/></p>\n"},{"tags":["java","visual-studio-code","gradle","gson"],"answers":[{"tags":[],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861392,"creation_date":1667861392,"answer_id":74353834,"question_id":74353360,"body_markdown":"I had a mistake in the build.gradle, now it works by using\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;distribution&#39;\r\n    }","title":"Creating .jar with gradle causes a java.lang.NoClassDefFoundError","body":"<p>I had a mistake in the build.gradle, now it works by using</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'distribution'\n}\n</code></pre>\n"}],"owner":{"account_id":21103731,"reputation":41,"user_id":15513157,"display_name":"flying_kaktus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667861392,"creation_date":1667858193,"question_id":74353360,"body_markdown":"I use vscode and gradle to build my java jar. In the project I import com.google.gson.Gson and can create an object of Gson. If I run the code everything works fine, but if I use gradlew build to create the jar and when I try to executed the jar file then I get this Error: &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/GsonBuilder&quot;\r\n\r\n&gt;     dependencies {\r\n&gt;         // Use JUnit Jupiter for testing.\r\n&gt;         testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n&gt;     \r\n&gt;         // This dependency is used by the application.\r\n&gt;         implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n&gt;         implementation &#39;com.google.code.gson:gson:2.10&#39;\r\n&gt;     } \r\n&gt;     jar {\r\n&gt;     manifest {\r\n&gt;         attributes(\r\n&gt;                 &#39;Main-Class&#39;: &#39;analyser.Run&#39;\r\n&gt;         )\r\n&gt;     } }\r\n\r\nI do not understand what is wrong here. Any  ideas?","title":"Creating .jar with gradle causes a java.lang.NoClassDefFoundError","body":"<p>I use vscode and gradle to build my java jar. In the project I import com.google.gson.Gson and can create an object of Gson. If I run the code everything works fine, but if I use gradlew build to create the jar and when I try to executed the jar file then I get this Error: &quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/GsonBuilder&quot;</p>\n<blockquote>\n<pre><code>dependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation 'com.google.code.gson:gson:2.10'\n} \njar {\nmanifest {\n    attributes(\n            'Main-Class': 'analyser.Run'\n    )\n} }\n</code></pre>\n</blockquote>\n<p>I do not understand what is wrong here. Any  ideas?</p>\n"},{"tags":["java","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1667853840,"post_id":74352665,"comment_id":131262810,"body_markdown":"blah, guess it is a bug https://hibernate.atlassian.net/browse/HHH-14579","body":"blah, guess it is a bug <a href=\"https://hibernate.atlassian.net/browse/HHH-14579\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-14579</a>"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1667857161,"post_id":74352665,"comment_id":131263707,"body_markdown":"This seems like some workaround: https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/","body":"This seems like some workaround: <a href=\"https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667861354,"creation_date":1667861354,"answer_id":74353827,"question_id":74352665,"body_markdown":"Why are you adding the force optimistic lock mode to your query? `@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)`. This forces the`@Version` field in an entity to be incremented. I think the issue is that your query is joining an Entity &quot;Collect&quot; which does not have a `@Version` field. So I would try either adding an `@Version` field to the &quot;Collect&quot; entity or removing that `@Lock` from the query.","title":"Hibernate: cannot force version increment on non-versioned entity","body":"<p>Why are you adding the force optimistic lock mode to your query? <code>@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)</code>. This forces the<code>@Version</code> field in an entity to be incremented. I think the issue is that your query is joining an Entity &quot;Collect&quot; which does not have a <code>@Version</code> field. So I would try either adding an <code>@Version</code> field to the &quot;Collect&quot; entity or removing that <code>@Lock</code> from the query.</p>\n"}],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667861354,"creation_date":1667853574,"question_id":74352665,"body_markdown":"I have following simple code that basically creates entity with collections nested 2 levels deep. Then I save the collection, and I fetch collection again from DB, update it and try saving again. Hibernate gives me following exception:\r\n\r\n`Unable to perform beforeTransactionCompletion callback: cannot force version increment on non-versioned entity;`\r\n\r\nThe problem is in this code (when I remove it it works) `@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)` but I do not know why it doesn&#39;t allow me to eagerly fetch the collection?\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n    \r\n    @RequiredArgsConstructor\r\n    @Component\r\n    class Clr implements CommandLineRunner{\r\n    \r\n    \tprivate final RootEntityRepository repository;\r\n    \tprivate Clr self;\r\n    \r\n    \t@Autowired\r\n    \t@Lazy\r\n    \tpublic void setClr(Clr clr) {\r\n    \t\tthis.self = clr;\r\n    \t}\r\n    \r\n    \t@Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    \tpublic void save(RootEntity r){\r\n    \t\trepository.save(r);\r\n    \t}\r\n    \r\n    \t@Transactional(Transactional.TxType.REQUIRES_NEW)\r\n    \tpublic void updateAndSave(String id) {\r\n    \t\tOptional&lt;RootEntity&gt; oe = repository.findById(id);\r\n    \r\n    \t\tRootEntity e = oe.get();\r\n    \r\n    \t\te.getCollects().stream().findFirst().get().getEmbeddedCollects().stream().findFirst().get().setValue(&quot;v2&quot;);\r\n    \r\n    \t\trepository.save(e);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tEmbeddedCollect ec = new EmbeddedCollect();\r\n    \t\tec.setValue(&quot;v1&quot;);\r\n    \r\n    \t\tCollect cl = new Collect();\r\n    \t\tcl.getEmbeddedCollects().add(ec);\r\n    \r\n    \t\tRootEntity re = new RootEntity();\r\n    \t\tcl.setRoot(re);\r\n    \t\tre.setId(&quot;1&quot;);\r\n    \t\tre.getCollects().add(cl);\r\n    \r\n    \t\tself.save(re);\r\n    \r\n    \t\tself.updateAndSave(re.getId());\r\n    \t}\r\n    }\r\n    \r\n    @Repository\r\n    interface RootEntityRepository extends JpaRepository&lt;RootEntity, String&gt;{\r\n    \t@Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\r\n    \t@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)\r\n    \tOptional&lt;RootEntity&gt; findById(String id);\r\n    }\r\n    \r\n    @Entity @Getter @Setter\r\n    class RootEntity{\r\n    \t@Id\r\n    \tprivate String id;\r\n    \t@OneToMany(\r\n    \t\t\tmappedBy = &quot;root&quot;,\r\n    \t\t\tcascade = CascadeType.ALL,\r\n    \t\t\torphanRemoval = true)\r\n    \tprivate Set&lt;Collect&gt; collects = new HashSet&lt;&gt;();\r\n    \t@Version private Long version;\r\n    }\r\n    @Entity @Getter @Setter\r\n    class Collect{\r\n    \t@Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t@ElementCollection\r\n    \tprivate Set&lt;EmbeddedCollect&gt; embeddedCollects = new HashSet&lt;&gt;();\r\n    \t@ManyToOne private RootEntity root;\r\n    }\r\n    @Embeddable @Getter @Setter\r\n    class EmbeddedCollect{\r\n    \t@Column(name = &quot;val&quot;)\r\n    \tprivate String value;\r\n    }\r\n\r\nand the code for spring boot application.properties file:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.sql.init.platform=h2\r\n\r\nwith these gradle deps:\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \truntimeOnly &#39;com.h2database:h2&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }","title":"Hibernate: cannot force version increment on non-versioned entity","body":"<p>I have following simple code that basically creates entity with collections nested 2 levels deep. Then I save the collection, and I fetch collection again from DB, update it and try saving again. Hibernate gives me following exception:</p>\n<p><code>Unable to perform beforeTransactionCompletion callback: cannot force version increment on non-versioned entity;</code></p>\n<p>The problem is in this code (when I remove it it works) <code>@Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)</code> but I do not know why it doesn't allow me to eagerly fetch the collection?</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n\n@RequiredArgsConstructor\n@Component\nclass Clr implements CommandLineRunner{\n\n    private final RootEntityRepository repository;\n    private Clr self;\n\n    @Autowired\n    @Lazy\n    public void setClr(Clr clr) {\n        this.self = clr;\n    }\n\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\n    public void save(RootEntity r){\n        repository.save(r);\n    }\n\n    @Transactional(Transactional.TxType.REQUIRES_NEW)\n    public void updateAndSave(String id) {\n        Optional&lt;RootEntity&gt; oe = repository.findById(id);\n\n        RootEntity e = oe.get();\n\n        e.getCollects().stream().findFirst().get().getEmbeddedCollects().stream().findFirst().get().setValue(&quot;v2&quot;);\n\n        repository.save(e);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        EmbeddedCollect ec = new EmbeddedCollect();\n        ec.setValue(&quot;v1&quot;);\n\n        Collect cl = new Collect();\n        cl.getEmbeddedCollects().add(ec);\n\n        RootEntity re = new RootEntity();\n        cl.setRoot(re);\n        re.setId(&quot;1&quot;);\n        re.getCollects().add(cl);\n\n        self.save(re);\n\n        self.updateAndSave(re.getId());\n    }\n}\n\n@Repository\ninterface RootEntityRepository extends JpaRepository&lt;RootEntity, String&gt;{\n    @Lock(LockModeType.OPTIMISTIC_FORCE_INCREMENT)\n    @Query(&quot;SELECT re FROM RootEntity re LEFT JOIN FETCH re.collects WHERE re.id=:id&quot;)\n    Optional&lt;RootEntity&gt; findById(String id);\n}\n\n@Entity @Getter @Setter\nclass RootEntity{\n    @Id\n    private String id;\n    @OneToMany(\n            mappedBy = &quot;root&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    private Set&lt;Collect&gt; collects = new HashSet&lt;&gt;();\n    @Version private Long version;\n}\n@Entity @Getter @Setter\nclass Collect{\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ElementCollection\n    private Set&lt;EmbeddedCollect&gt; embeddedCollects = new HashSet&lt;&gt;();\n    @ManyToOne private RootEntity root;\n}\n@Embeddable @Getter @Setter\nclass EmbeddedCollect{\n    @Column(name = &quot;val&quot;)\n    private String value;\n}\n</code></pre>\n<p>and the code for spring boot application.properties file:</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.sql.init.platform=h2\n</code></pre>\n<p>with these gradle deps:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","quadratic"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1667860192,"post_id":74353582,"comment_id":131264406,"body_markdown":"does it give you a line number?","body":"does it give you a line number?"},{"owner":{"account_id":19951126,"reputation":1,"user_id":14620764,"display_name":"Brando"},"score":0,"creation_date":1667860299,"post_id":74353582,"comment_id":131264432,"body_markdown":"It says java:56","body":"It says java:56"}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667860678,"creation_date":1667860298,"answer_id":74353655,"question_id":74353582,"body_markdown":"The issue is your print statements:\r\n\r\n```\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n    ...\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n    ...\r\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\r\n```\r\n\r\nI think you have a typo in all of these: `%.of` should be `%.0f` as they are elsewhere in the string.\r\n\r\nAlso the last print statement needs to have all four arguments `a, b, c, r` like the first two do.\r\n\r\n\r\n----------\r\n\r\nIn general, it is always helpful to look at the stack trace java provides on an error to see what line of the code you wrote is causing the issue","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>The issue is your print statements:</p>\n<pre><code>    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n    ...\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n    ...\n    System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\n</code></pre>\n<p>I think you have a typo in all of these: <code>%.of</code> should be <code>%.0f</code> as they are elsewhere in the string.</p>\n<p>Also the last print statement needs to have all four arguments <code>a, b, c, r</code> like the first two do.</p>\n<hr />\n<p>In general, it is always helpful to look at the stack trace java provides on an error to see what line of the code you wrote is causing the issue</p>\n"},{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667860671,"creation_date":1667860671,"answer_id":74353716,"question_id":74353582,"body_markdown":"You have a typo in your messages, the second parameter &quot;of&quot; instead of &quot;0f&quot;, and r == 0 print statement requires 4 parameters you have only given 3. Check below.\r\n\r\n    if (r &gt; 1) {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\r\n            }\r\n    \r\n            else if (r == 1)\r\n            {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n                System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n            }\r\n    \r\n            else if (r == 0) {\r\n                System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n            }","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>You have a typo in your messages, the second parameter &quot;of&quot; instead of &quot;0f&quot;, and r == 0 print statement requires 4 parameters you have only given 3. Check below.</p>\n<pre><code>if (r &gt; 1) {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\n        }\n\n        else if (r == 1)\n        {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n        }\n\n        else if (r == 0) {\n            System.out.printf(&quot;%.0f, %.0f, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n        }\n</code></pre>\n"}],"owner":{"account_id":19951126,"reputation":1,"user_id":14620764,"display_name":"Brando"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667860678,"creation_date":1667859765,"question_id":74353582,"body_markdown":"The problem is &quot; Conversion = &#39;-&#39;&quot;. The source code is listed below. This is a program used to caculating the value of Coefficent A, B, and C based on the quadratic function. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class RootsTestHamer {\r\n\tpublic static void main(String[] args) {\r\n\t\t//declare variables\r\n\t\tdouble a, b, c;\r\n\t\tdouble r1, r2;\r\n\t\t\r\n\tScanner input = new Scanner(System.in); // Create a Scanner\r\n\t\r\n\t\t// prompts user to enter values for coefficents A, B, and C\r\n\t\tSystem.out.print(&quot;Enter the A coefficent:&quot;);\r\n\t\t a = input.nextDouble();\r\n\t\tSystem.out.print(&quot;Enter the B coefficent:&quot;);\r\n\t\t b = input.nextDouble();\r\n\t\tSystem.out.print(&quot;Enter the C coefficent:&quot;);\r\n\t\t c = input.nextDouble();\r\n\r\n\t\t// calucating roots\r\n\t\tr1 = ( Math.pow(b,2) - (4 * a * c));\r\n\t\tr1 = (-b + (Math.sqrt(r1))) / (2 * a);\r\n\r\n\t\tr2 = ( Math.pow(b,2) - (4 * a * c));\r\n\t\tr2 = (-b - (Math.sqrt(r2))) / (2 * a);\r\n\r\n\t\t// calls the method and determines # of roots\r\n\t\tdouble r = roots (a, b, c);\r\n\r\n\t\t// if statements and display\r\n\t\tif (r &gt; 1) {\r\n\t\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n\t\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n\t\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\r\n\t\t}\r\n\r\n\t\telse if (r == 1) \r\n\t\t{\r\n\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\r\n\t\tSystem.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\r\n\t\t}\r\n\r\n\t\telse if (r == 0) {\r\n\t\tSystem.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\r\n\t\t}\r\n}\r\n\r\n\t\t//user - defined root method\r\n\tpublic static double roots(double a, double b, double c) {\r\n\t\tdouble roots = 0;\r\n\r\n\t\t//number of roots\r\n\t\tif (Math.pow(b,2) - (4 * a * c) &gt; 0) {\r\n\t\t\troots = 2;\r\n\t\t}\r\n\t\telse if (Math.pow(b,2) - (4 * a * c) == 0) {\r\n\t\t\troots = 1;\r\n\t\t}\r\n\t\telse if (Math.pow(b,2) - (4 * a * c) &lt; 0) {\r\n\t\t\troots = 0;\r\n\t\t}\t\t\r\n\r\n\t\t\treturn roots;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI attempted to run the code. After entering the value 1, 2,3 for coefficents A, B,and C, the code returned Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39;","title":"After running code, I received the Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;-&#39; error","body":"<p>The problem is &quot; Conversion = '-'&quot;. The source code is listed below. This is a program used to caculating the value of Coefficent A, B, and C based on the quadratic function.</p>\n<pre><code>import java.util.Scanner;\n\npublic class RootsTestHamer {\n    public static void main(String[] args) {\n        //declare variables\n        double a, b, c;\n        double r1, r2;\n        \n    Scanner input = new Scanner(System.in); // Create a Scanner\n    \n        // prompts user to enter values for coefficents A, B, and C\n        System.out.print(&quot;Enter the A coefficent:&quot;);\n         a = input.nextDouble();\n        System.out.print(&quot;Enter the B coefficent:&quot;);\n         b = input.nextDouble();\n        System.out.print(&quot;Enter the C coefficent:&quot;);\n         c = input.nextDouble();\n\n        // calucating roots\n        r1 = ( Math.pow(b,2) - (4 * a * c));\n        r1 = (-b + (Math.sqrt(r1))) / (2 * a);\n\n        r2 = ( Math.pow(b,2) - (4 * a * c));\n        r2 = (-b - (Math.sqrt(r2))) / (2 * a);\n\n        // calls the method and determines # of roots\n        double r = roots (a, b, c);\n\n        // if statements and display\n        if (r &gt; 1) {\n            System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n            System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r2);\n        }\n\n        else if (r == 1) \n        {\n        System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c, r);\n        System.out.printf(&quot;\\n\\tR1 = %.2f&quot;,r1);\n        }\n\n        else if (r == 0) {\n        System.out.printf(&quot;%.0f, %.of, and %.0f coefficients have %.0f real roots:&quot;,a, b, c);\n        }\n}\n\n        //user - defined root method\n    public static double roots(double a, double b, double c) {\n        double roots = 0;\n\n        //number of roots\n        if (Math.pow(b,2) - (4 * a * c) &gt; 0) {\n            roots = 2;\n        }\n        else if (Math.pow(b,2) - (4 * a * c) == 0) {\n            roots = 1;\n        }\n        else if (Math.pow(b,2) - (4 * a * c) &lt; 0) {\n            roots = 0;\n        }       \n\n            return roots;\n    }\n}\n</code></pre>\n<p>I attempted to run the code. After entering the value 1, 2,3 for coefficents A, B,and C, the code returned Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = '-'</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":7653865,"reputation":25,"user_id":5801522,"accept_rate":75,"display_name":"Ciobanu Rares-Constantin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667860371,"creation_date":1667860371,"question_id":74353667,"body_markdown":"Let&#39;s say that we have this ElasticsearchRepository in a SpringBoot app:\r\n\r\n    interface TransactionsRepository extends ElasticsearchRepository&lt;Transaction, String&gt; {\r\n        Stream&lt;Transaction&gt; findAllBySomething(String something);\r\n    }\r\n\r\nIf I have too many records to fetch after 105 seconds the call fails with the error:\r\n\r\n&gt; org.elasticsearch.ElasticsearchException: Elasticsearch exception\r\n&gt; [type=search_context_missing_exception, reason=No search context found\r\n&gt; for id [44763]]\r\n&gt; Blockquote\r\n\r\n\r\nWhat do I need to configure to increase the Scroll API time, so I don&#39;t get this error anymore? Or what are the solutions when you have &gt;10,000 records to fetch?\r\n\r\nI don&#39;t know if this is set correctly in the application.properties:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.batch_size=100\r\n    spring.jpa.properties.hibernate.order_inserts=true\r\n    spring.jpa.properties.hibernate.order_updates=true\r\n    spring.jpa.properties.hibernate.jdbc.fetch_size=400\r\n\r\n","title":"SpringBoot ElasticsearchRepository: search_context_missing_exception","body":"<p>Let's say that we have this ElasticsearchRepository in a SpringBoot app:</p>\n<pre><code>interface TransactionsRepository extends ElasticsearchRepository&lt;Transaction, String&gt; {\n    Stream&lt;Transaction&gt; findAllBySomething(String something);\n}\n</code></pre>\n<p>If I have too many records to fetch after 105 seconds the call fails with the error:</p>\n<blockquote>\n<p>org.elasticsearch.ElasticsearchException: Elasticsearch exception\n[type=search_context_missing_exception, reason=No search context found\nfor id [44763]]\nBlockquote</p>\n</blockquote>\n<p>What do I need to configure to increase the Scroll API time, so I don't get this error anymore? Or what are the solutions when you have &gt;10,000 records to fetch?</p>\n<p>I don't know if this is set correctly in the application.properties:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=100\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\nspring.jpa.properties.hibernate.jdbc.fetch_size=400\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":1,"creation_date":1667856081,"post_id":74352774,"comment_id":131263457,"body_markdown":"With `group2.setUsers(userSet);` you seem to add users to the group, but the relation between groups and users is not visible in the source of Group class. Could you please complete the source code.","body":"With <code>group2.setUsers(userSet);</code> you seem to add users to the group, but the relation between groups and users is not visible in the source of Group class. Could you please complete the source code."}],"answers":[{"tags":[],"owner":{"account_id":2224963,"reputation":305,"user_id":1963948,"accept_rate":60,"display_name":"Saurabh Kumar Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667859782,"creation_date":1667859782,"answer_id":74353584,"question_id":74352774,"body_markdown":"The issue was my database schema which got created by an earlier incorrect JPA model. after dropping and recreating the database it got resolved.","title":"Hibernate JPA @ManyToMany Mapping Cannot add or update a child row: a foreign key constraint fails","body":"<p>The issue was my database schema which got created by an earlier incorrect JPA model. after dropping and recreating the database it got resolved.</p>\n"}],"owner":{"account_id":2224963,"reputation":305,"user_id":1963948,"accept_rate":60,"display_name":"Saurabh Kumar Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667859782,"creation_date":1667854298,"question_id":74352774,"body_markdown":" I am trying to have a many to many relationship between user and group, so when I save group the user and group information should get saved in user_group table, but  I am getting this error while trying to save Group information,In request I am just passing groupName.\r\n \r\nError\r\n\r\n    2022-11-07 14:45:47.565 ERROR 29066 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`testdb`.`user_group`, CONSTRAINT `FK7k9ade3lqbo483u9vuryxmm34` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))\r\n\r\nUser.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;, \r\n        uniqueConstraints = { \r\n          @UniqueConstraint(columnNames = &quot;username&quot;),\r\n          @UniqueConstraint(columnNames = &quot;email&quot;) \r\n        })\r\n    public class User {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      \r\n    \r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(  name = &quot;user_roles&quot;, \r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;), \r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n      private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n    \r\n      @ManyToMany(fetch = FetchType.LAZY,\r\n              cascade = {\r\n                      CascadeType.PERSIST,\r\n                      CascadeType.MERGE\r\n              },\r\n              mappedBy = &quot;users&quot;)\r\n      @JsonIgnore\r\n      private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\r\n    \r\n      public Set&lt;Group&gt; getGroups() {\r\n        return groups;\r\n      }\r\n    }\r\n\r\nGroup.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;grp&quot;)\r\n    public class Group {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column\r\n        private String groupName;\r\n    \r\n        @Column\r\n        private String createdBy;\r\n    \r\n        public Group(String groupName, String createdBy ) {\r\n            this.groupName = groupName;\r\n            this.createdBy = createdBy;\r\n        }\r\n    \r\n    \r\n        public Group() {\r\n    \r\n        }\r\n    }\r\n\r\nGroupController.java\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class GroupController  {\r\n    \r\n    \r\n        @Autowired\r\n        GroupRepository groupRepository;\r\n    \r\n        @Autowired\r\n        UserRepository userRepository;\r\n    \r\n        @PostMapping(&quot;/group&quot;)\r\n        public ResponseEntity&lt;Group&gt; createTutorial(@RequestBody Group group, Principal principal) {\r\n            try {\r\n                Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\r\n                Optional&lt;User&gt; user = userRepository.findByUsername(principal.getName());\r\n                userSet.add(user.get());\r\n                Group group2 = new Group(group.getGroupName(), principal.getName());\r\n                group2.setUsers(userSet);\r\n                Group group1 = groupRepository.save(group2);\r\n                return new ResponseEntity&lt;&gt;(group1, HttpStatus.CREATED);\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n[![degug of controller][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ItLZR.jpg\r\n","title":"Hibernate JPA @ManyToMany Mapping Cannot add or update a child row: a foreign key constraint fails","body":"<p>I am trying to have a many to many relationship between user and group, so when I save group the user and group information should get saved in user_group table, but  I am getting this error while trying to save Group information,In request I am just passing groupName.</p>\n<p>Error</p>\n<pre><code>2022-11-07 14:45:47.565 ERROR 29066 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Cannot add or update a child row: a foreign key constraint fails (`testdb`.`user_group`, CONSTRAINT `FK7k9ade3lqbo483u9vuryxmm34` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`))\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;, \n    uniqueConstraints = { \n      @UniqueConstraint(columnNames = &quot;username&quot;),\n      @UniqueConstraint(columnNames = &quot;email&quot;) \n    })\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  \n\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(  name = &quot;user_roles&quot;, \n        joinColumns = @JoinColumn(name = &quot;user_id&quot;), \n        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n  private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n  @ManyToMany(fetch = FetchType.LAZY,\n          cascade = {\n                  CascadeType.PERSIST,\n                  CascadeType.MERGE\n          },\n          mappedBy = &quot;users&quot;)\n  @JsonIgnore\n  private Set&lt;Group&gt; groups = new HashSet&lt;&gt;();\n\n  public Set&lt;Group&gt; getGroups() {\n    return groups;\n  }\n}\n</code></pre>\n<p>Group.java</p>\n<pre><code>@Entity\n@Table(name = &quot;grp&quot;)\npublic class Group {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private String groupName;\n\n    @Column\n    private String createdBy;\n\n    public Group(String groupName, String createdBy ) {\n        this.groupName = groupName;\n        this.createdBy = createdBy;\n    }\n\n\n    public Group() {\n\n    }\n}\n</code></pre>\n<p>GroupController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GroupController  {\n\n\n    @Autowired\n    GroupRepository groupRepository;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @PostMapping(&quot;/group&quot;)\n    public ResponseEntity&lt;Group&gt; createTutorial(@RequestBody Group group, Principal principal) {\n        try {\n            Set&lt;User&gt; userSet = new HashSet&lt;&gt;();\n            Optional&lt;User&gt; user = userRepository.findByUsername(principal.getName());\n            userSet.add(user.get());\n            Group group2 = new Group(group.getGroupName(), principal.getName());\n            group2.setUsers(userSet);\n            Group group1 = groupRepository.save(group2);\n            return new ResponseEntity&lt;&gt;(group1, HttpStatus.CREATED);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ItLZR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ItLZR.jpg\" alt=\"degug of controller\" /></a></p>\n"},{"tags":["java","spring","spring-boot","eclipse","startup-error"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1663862081,"post_id":73817318,"comment_id":130344384,"body_markdown":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. [Edit] your question to show us the extra detail.","body":"Look in the .log file in the workspace .metadata directory to see if there is a more detailed message. <a href=\"https://stackoverflow.com/posts/73817318/edit\">Edit</a> your question to show us the extra detail."}],"answers":[{"comments":[{"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"score":0,"creation_date":1663951767,"post_id":73821375,"comment_id":130368364,"body_markdown":"I am seeing this very same issue. I have see it on two different Macs this week, both running Eclipse with Amazon Corretto JDK17. I have done nothing this past week but fight this and NUMEROUS other Eclipse issues since the 2022-09 (4.25) update. Install, configure, delete, repeat, MANY TIMES. Things work briefly the Eclipse inexplicably deletes or modifies a preference and nothing works. I can&#39;t trust Eclipse to work.","body":"I am seeing this very same issue. I have see it on two different Macs this week, both running Eclipse with Amazon Corretto JDK17. I have done nothing this past week but fight this and NUMEROUS other Eclipse issues since the 2022-09 (4.25) update. Install, configure, delete, repeat, MANY TIMES. Things work briefly the Eclipse inexplicably deletes or modifies a preference and nothing works. I can&#39;t trust Eclipse to work."}],"tags":[],"owner":{"account_id":16053106,"reputation":39,"user_id":11586363,"display_name":"nobody "},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665067216,"creation_date":1663886927,"answer_id":73821375,"question_id":73817318,"body_markdown":"Running with temurin-18.jdk on MacOS, stack below.\r\n\r\nOffending call to new StringTokenizer(..): \r\n\r\nhttps://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777\r\n\r\nLooks like an errant import from com.ibm instead of java.util.StringTokenizer:\r\n\r\n\r\n\r\nhttps://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27\r\n\r\n\r\n&gt; import com.ibm.icu.util.StringTokenizer;\r\n\r\nStack:\r\n\r\n```\r\n!ENTRY org.eclipse.core.jobs 4 2 2022-09-22 08:11:42.471\r\n!MESSAGE An internal error occurred during: &quot;SSE core task scheduler startup&quot;.\r\n!STACK 0\r\njava.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\r\n\tat org.eclipse.wst.sse.core.utils.StringUtils.unpack(StringUtils.java:777)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.getScannedProjects(TaskScanningJob.java:295)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.projectHasNotBeenFullyScanned(TaskScanningJob.java:152)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.addProject(TaskScanningJob.java:118)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.enqueue(TaskScanningScheduler.java:137)\r\n\tat org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.startup(TaskScanningScheduler.java:117)\r\n\tat org.eclipse.wst.sse.core.internal.SSECorePlugin.lambda$0(SSECorePlugin.java:96)\r\n\tat org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.wst.sse.core_1.2.800.v202207121749\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:487)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 9 more\r\n```","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Running with temurin-18.jdk on MacOS, stack below.</p>\n<p>Offending call to new StringTokenizer(..):</p>\n<p><a href=\"https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777\" rel=\"nofollow noreferrer\">https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#777</a></p>\n<p>Looks like an errant import from com.ibm instead of java.util.StringTokenizer:</p>\n<p><a href=\"https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27\" rel=\"nofollow noreferrer\">https://git.eclipse.org/r/plugins/gitiles/sourceediting/webtools.sourceediting/+/refs/heads/master/core/bundles/org.eclipse.wst.sse.core/src/org/eclipse/wst/sse/core/utils/StringUtils.java#27</a></p>\n<blockquote>\n<p>import com.ibm.icu.util.StringTokenizer;</p>\n</blockquote>\n<p>Stack:</p>\n<pre><code>!ENTRY org.eclipse.core.jobs 4 2 2022-09-22 08:11:42.471\n!MESSAGE An internal error occurred during: &quot;SSE core task scheduler startup&quot;.\n!STACK 0\njava.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\n    at org.eclipse.wst.sse.core.utils.StringUtils.unpack(StringUtils.java:777)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.getScannedProjects(TaskScanningJob.java:295)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.projectHasNotBeenFullyScanned(TaskScanningJob.java:152)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningJob.addProject(TaskScanningJob.java:118)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.enqueue(TaskScanningScheduler.java:137)\n    at org.eclipse.wst.sse.core.internal.tasks.TaskScanningScheduler.startup(TaskScanningScheduler.java:117)\n    at org.eclipse.wst.sse.core.internal.SSECorePlugin.lambda$0(SSECorePlugin.java:96)\n    at org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.wst.sse.core_1.2.800.v202207121749\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:487)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 9 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1383500,"reputation":917,"user_id":1316011,"accept_rate":12,"display_name":"Thad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663952394,"creation_date":1663952394,"answer_id":73830897,"question_id":73817318,"body_markdown":"For me, Eclipse was *almost* working until these two updates occurred:\r\n\r\n    Mylyn WikiText\t3.0.43.202209151832\torg.eclipse.mylyn.wikitext_feature.feature.group\tEclipse Mylyn\r\n\r\n    M2E - Maven Integration for Eclipse\t2.0.5.20220912-1211\torg.eclipse.m2e.feature.feature.group\tEclipse.org - m2e\r\n\r\nThe StringTokenizer error appeared immediately after Eclipse restarted.\r\n\r\n(I emphasize *almost* because M2E was never copying the Maven Dependencies into the WEB-INF/lib of my configured server.)","title":"SSE core task scheduler startup problem in eclipse","body":"<p>For me, Eclipse was <em>almost</em> working until these two updates occurred:</p>\n<pre><code>Mylyn WikiText  3.0.43.202209151832 org.eclipse.mylyn.wikitext_feature.feature.group    Eclipse Mylyn\n\nM2E - Maven Integration for Eclipse 2.0.5.20220912-1211 org.eclipse.m2e.feature.feature.group   Eclipse.org - m2e\n</code></pre>\n<p>The StringTokenizer error appeared immediately after Eclipse restarted.</p>\n<p>(I emphasize <em>almost</em> because M2E was never copying the Maven Dependencies into the WEB-INF/lib of my configured server.)</p>\n"},{"comments":[{"owner":{"account_id":1198859,"reputation":1846,"user_id":1169968,"display_name":"adangel"},"score":1,"creation_date":1665752531,"post_id":73910621,"comment_id":130777436,"body_markdown":"I can confirm, that was my issue. I had &quot;Eclipse Orbit\tICU4J Base\t58.2.0.v20170418-1837\tcom.ibm.icu.base&quot; installed. After updating it to 67.1.0.v20200706-1749 the problem went away.","body":"I can confirm, that was my issue. I had &quot;Eclipse Orbit\tICU4J Base\t58.2.0.v20170418-1837\tcom.ibm.icu.base&quot; installed. After updating it to 67.1.0.v20200706-1749 the problem went away."},{"owner":{"account_id":1827802,"reputation":2926,"user_id":1660059,"display_name":"MichaelK"},"score":0,"creation_date":1669274758,"post_id":73910621,"comment_id":131608401,"body_markdown":"I can confirm, this answer solved that problem. Thank you!","body":"I can confirm, this answer solved that problem. Thank you!"}],"tags":[],"owner":{"account_id":24072457,"reputation":384,"user_id":18048232,"display_name":"EG-IT"},"comment_count":2,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1664549904,"creation_date":1664549904,"answer_id":73910621,"question_id":73817318,"body_markdown":"Maybe a missing or an outdated plugin. You should verify your ICU4J plugin version (menu: Help -&gt; About Eclipse IDE -&gt; Installation Details -&gt; plugins).\r\n[![eclipse plugins][1]][1]\r\n\r\nIf &quot;Eclipse Orbit&quot; plugin version is older than &quot;Unicode, Inc&quot; version check for missing/outdated software site and add/update &quot;Eclipse Orbit&quot;  https://download.eclipse.org/tools/orbit/downloads/2022-09.\r\n\r\nThen check for new updates or install ICU4J.\r\n\r\n[![icu4j installation][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Khti.png\r\n  [2]: https://i.stack.imgur.com/NaO5w.png","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Maybe a missing or an outdated plugin. You should verify your ICU4J plugin version (menu: Help -&gt; About Eclipse IDE -&gt; Installation Details -&gt; plugins).\n<a href=\"https://i.stack.imgur.com/6Khti.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Khti.png\" alt=\"eclipse plugins\" /></a></p>\n<p>If &quot;Eclipse Orbit&quot; plugin version is older than &quot;Unicode, Inc&quot; version check for missing/outdated software site and add/update &quot;Eclipse Orbit&quot;  <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a>.</p>\n<p>Then check for new updates or install ICU4J.</p>\n<p><a href=\"https://i.stack.imgur.com/NaO5w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NaO5w.png\" alt=\"icu4j installation\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26543233,"reputation":36,"user_id":20173650,"display_name":"OfbizGuest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665044015,"creation_date":1665043959,"answer_id":73970552,"question_id":73817318,"body_markdown":"I had the same problem today.\r\n\r\nUpdating Eclipse solved it for me:\r\n\r\nHelp -&gt; About Eclipse -&gt; Installation Details -&gt; Update\r\n\r\n\r\n","title":"SSE core task scheduler startup problem in eclipse","body":"<p>I had the same problem today.</p>\n<p>Updating Eclipse solved it for me:</p>\n<p>Help -&gt; About Eclipse -&gt; Installation Details -&gt; Update</p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1665751792,"post_id":74017296,"comment_id":130777151,"body_markdown":"Please add the actual content to your answer instead of linking to it, because links get broken over time.","body":"Please add the actual content to your answer instead of linking to it, because links get broken over time."}],"tags":[],"owner":{"account_id":24299794,"reputation":231,"user_id":18243455,"display_name":"Patel Harsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667859269,"creation_date":1665416027,"answer_id":74017296,"question_id":73817318,"body_markdown":"This is the exact same thing from the below link, if you want to know more check [here][1]\r\n\r\nRun the System File Checker tool (SFC.exe)\r\nTo do this, follow these steps:\r\n\r\nOpen an elevated command prompt. To do this, do the following as your appropriate:\r\n\r\nIf you are running Windows 10, Windows 8.1 or Windows 8, first run the inbox Deployment Image Servicing and Management (DISM) tool prior to running the System File Checker.  (If you are running Windows 7 or Windows Vista, skip to Step 3.) \r\n\r\nType the following command, and then press Enter.  It may take several minutes for the command operation to be completed.\r\n\r\nDISM.exe /Online /Cleanup-image /Restorehealth\r\n\r\nImportant: When you run this command, DISM uses Windows Update to provide the files that are required to fix corruptions. However, if your Windows Update client is already broken, use a running Windows installation as the repair source, or use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files. To do this, run the following command instead:\r\n\r\nDISM.exe /Online /Cleanup-Image /RestoreHealth /Source:C:\\RepairSource\\Windows /LimitAccess\r\n\r\nNote: Replace the C:\\RepairSource\\Windows placeholder with the location of your repair source. For more information about using the DISM tool to repair Windows, reference Repair a Windows Image.\r\n\r\nAt the command prompt, type the following command, and then press ENTER:\r\n\r\nsfc /scannow\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe sfc /scannow command will scan all protected system files, and replace corrupted files with a cached copy that is located in a compressed folder at %WinDir%\\System32\\dllcache.\r\nThe %WinDir% placeholder represents the Windows operating system folder. For example, C:\\Windows.\r\n\r\nNote Do not close this Command Prompt window until the verification is 100% complete. The scan results will be shown after this process is finished.\r\n\r\nAfter the process is finished, you may receive one of the following messages:\r\n\r\nWindows Resource Protection did not find any integrity violations.\r\n\r\n\r\nThis means that you do not have any missing or corrupted system files.\r\n\r\nWindows Resource Protection could not perform the requested operation.\r\n\r\n\r\nTo resolve this problem, perform the System File Checker scan in safe mode, and make sure that the PendingDeletes and PendingRenames folders exist under %WinDir%\\WinSxS\\Temp.\r\n\r\nWindows Resource Protection found corrupt files and successfully repaired them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.\r\n\r\n\r\nTo view the detail information about the system file scan and restoration, go to How to view details of the System File Checker process.\r\n\r\nWindows Resource Protection found corrupt files but was unable to fix some of them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.\r\n\r\n\r\nTo repair the corrupted files manually, view details of the System File Checker process to find the corrupted file, and then manually replace the corrupted file with a known good copy of the file.\r\n\r\n\r\n  [1]: https://support.microsoft.com/en-us/topic/use-the-system-file-checker-tool-to-repair-missing-or-corrupted-system-files-79aa86cb-ca52-166a-92a3-966e85d4094e\r\n  [2]: https://i.stack.imgur.com/VZvZl.png","title":"SSE core task scheduler startup problem in eclipse","body":"<p>This is the exact same thing from the below link, if you want to know more check <a href=\"https://support.microsoft.com/en-us/topic/use-the-system-file-checker-tool-to-repair-missing-or-corrupted-system-files-79aa86cb-ca52-166a-92a3-966e85d4094e\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Run the System File Checker tool (SFC.exe)\nTo do this, follow these steps:</p>\n<p>Open an elevated command prompt. To do this, do the following as your appropriate:</p>\n<p>If you are running Windows 10, Windows 8.1 or Windows 8, first run the inbox Deployment Image Servicing and Management (DISM) tool prior to running the System File Checker.  (If you are running Windows 7 or Windows Vista, skip to Step 3.)</p>\n<p>Type the following command, and then press Enter.  It may take several minutes for the command operation to be completed.</p>\n<p>DISM.exe /Online /Cleanup-image /Restorehealth</p>\n<p>Important: When you run this command, DISM uses Windows Update to provide the files that are required to fix corruptions. However, if your Windows Update client is already broken, use a running Windows installation as the repair source, or use a Windows side-by-side folder from a network share or from a removable media, such as the Windows DVD, as the source of the files. To do this, run the following command instead:</p>\n<p>DISM.exe /Online /Cleanup-Image /RestoreHealth /Source:C:\\RepairSource\\Windows /LimitAccess</p>\n<p>Note: Replace the C:\\RepairSource\\Windows placeholder with the location of your repair source. For more information about using the DISM tool to repair Windows, reference Repair a Windows Image.</p>\n<p>At the command prompt, type the following command, and then press ENTER:</p>\n<p>sfc /scannow</p>\n<p><a href=\"https://i.stack.imgur.com/VZvZl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VZvZl.png\" alt=\"enter image description here\" /></a></p>\n<p>The sfc /scannow command will scan all protected system files, and replace corrupted files with a cached copy that is located in a compressed folder at %WinDir%\\System32\\dllcache.\nThe %WinDir% placeholder represents the Windows operating system folder. For example, C:\\Windows.</p>\n<p>Note Do not close this Command Prompt window until the verification is 100% complete. The scan results will be shown after this process is finished.</p>\n<p>After the process is finished, you may receive one of the following messages:</p>\n<p>Windows Resource Protection did not find any integrity violations.</p>\n<p>This means that you do not have any missing or corrupted system files.</p>\n<p>Windows Resource Protection could not perform the requested operation.</p>\n<p>To resolve this problem, perform the System File Checker scan in safe mode, and make sure that the PendingDeletes and PendingRenames folders exist under %WinDir%\\WinSxS\\Temp.</p>\n<p>Windows Resource Protection found corrupt files and successfully repaired them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.</p>\n<p>To view the detail information about the system file scan and restoration, go to How to view details of the System File Checker process.</p>\n<p>Windows Resource Protection found corrupt files but was unable to fix some of them. Details are included in the CBS.Log %WinDir%\\Logs\\CBS\\CBS.log.</p>\n<p>To repair the corrupted files manually, view details of the System File Checker process to find the corrupted file, and then manually replace the corrupted file with a known good copy of the file.</p>\n"},{"tags":[],"owner":{"account_id":16598426,"reputation":99,"user_id":11994767,"display_name":"Umakanth Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665671726,"creation_date":1665671336,"answer_id":74057500,"question_id":73817318,"body_markdown":"This error caused lot of issues to me like unable to open jsp editor in Eclipse, multiple crashes when autocomplete is selected.\r\n\r\nThis is what i did..\r\n\r\n1. First go to `Menu Bar &gt; Help &gt; Install New Software &gt; Manage Button` in Eclipse.\r\nSearch for m2e. There may be one item with icon and without any name. Click on **edit** and then update the url to [http://download.eclipse.org/technology/m2e/releases/latest][1] . Click on **Add** and then **Apply and close** and then **Finish**.\r\n\r\n2. As suggested by user [@EG-IT][2],\r\n\r\nNow Go to `Menu Bar &gt; Help &gt; Install New Software` in Eclipse. In the work with text area insert this link [https://download.eclipse.org/tools/orbit/downloads/2022-09][3].  If drop down menu appears then fine, If not add a space and press backspace now a drop down should appear. \r\n\r\nSelect the option with **orbit - https://download.eclipse.org/tools/orbit/downloads/2022-09**\r\n\r\nClick on the **Select All** button on the right and click **Next** button. Select all items if prompted to install. Agree to term and conditions, wait till updates are installed. Restart IDE.\r\n\r\nIf same error persists please update the Eclipse.\r\n\r\nI hope this detailed explanation works.\r\n\r\n\r\n  [1]: http://download.eclipse.org/technology/m2e/releases/latest\r\n  [2]: https://stackoverflow.com/users/18048232/eg-it\r\n  [3]: https://download.eclipse.org/tools/orbit/downloads/2022-09","title":"SSE core task scheduler startup problem in eclipse","body":"<p>This error caused lot of issues to me like unable to open jsp editor in Eclipse, multiple crashes when autocomplete is selected.</p>\n<p>This is what i did..</p>\n<ol>\n<li><p>First go to <code>Menu Bar &gt; Help &gt; Install New Software &gt; Manage Button</code> in Eclipse.\nSearch for m2e. There may be one item with icon and without any name. Click on <strong>edit</strong> and then update the url to <a href=\"http://download.eclipse.org/technology/m2e/releases/latest\" rel=\"nofollow noreferrer\">http://download.eclipse.org/technology/m2e/releases/latest</a> . Click on <strong>Add</strong> and then <strong>Apply and close</strong> and then <strong>Finish</strong>.</p>\n</li>\n<li><p>As suggested by user <a href=\"https://stackoverflow.com/users/18048232/eg-it\">@EG-IT</a>,</p>\n</li>\n</ol>\n<p>Now Go to <code>Menu Bar &gt; Help &gt; Install New Software</code> in Eclipse. In the work with text area insert this link <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"nofollow noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a>.  If drop down menu appears then fine, If not add a space and press backspace now a drop down should appear.</p>\n<p>Select the option with <strong>orbit - <a href=\"https://download.eclipse.org/tools/orbit/downloads/2022-09\" rel=\"nofollow noreferrer\">https://download.eclipse.org/tools/orbit/downloads/2022-09</a></strong></p>\n<p>Click on the <strong>Select All</strong> button on the right and click <strong>Next</strong> button. Select all items if prompted to install. Agree to term and conditions, wait till updates are installed. Restart IDE.</p>\n<p>If same error persists please update the Eclipse.</p>\n<p>I hope this detailed explanation works.</p>\n"}],"owner":{"account_id":24299794,"reputation":231,"user_id":18243455,"display_name":"Patel Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11612,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":73970552,"answer_count":6,"score":22,"last_activity_date":1667859269,"creation_date":1663860950,"question_id":73817318,"body_markdown":"Whenever I&#39;m launching my eclipse IDE with my project workspace, there is one popup window showing some internal error with the task scheduler. I&#39;m attaching the picture of that popup window here.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy project is all in java language and also uses spring boot in it.\r\n\r\nThe error says something like \r\n\r\n*An internal error occurred during: &quot;SSE core task scheduler startup&quot;*\r\n\r\nSorry I&#39;m not able to add a direct image for this as Stack overflow is not allowing me to do that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KycYG.jpg","title":"SSE core task scheduler startup problem in eclipse","body":"<p>Whenever I'm launching my eclipse IDE with my project workspace, there is one popup window showing some internal error with the task scheduler. I'm attaching the picture of that popup window here.</p>\n<p><a href=\"https://i.stack.imgur.com/KycYG.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KycYG.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My project is all in java language and also uses spring boot in it.</p>\n<p>The error says something like</p>\n<p><em>An internal error occurred during: &quot;SSE core task scheduler startup&quot;</em></p>\n<p>Sorry I'm not able to add a direct image for this as Stack overflow is not allowing me to do that.</p>\n"},{"tags":["java","performance","collections"],"answers":[{"comments":[{"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"score":3,"creation_date":1286379061,"post_id":3870093,"comment_id":4122121,"body_markdown":"Additionally, if the map is a TreeMap rather than a HashMap, `get()` is a `O(log(n))` operation.","body":"Additionally, if the map is a TreeMap rather than a HashMap, <code>get()</code> is a <code>O(log(n))</code> operation."},{"owner":{"account_id":61688,"reputation":9624,"user_id":183717,"accept_rate":95,"display_name":"name_masked"},"score":0,"creation_date":1286405667,"post_id":3870093,"comment_id":4126444,"body_markdown":"@ILMIian and Michael: Why the difference between TreeMap and HashMap?","body":"@ILMIian and Michael: Why the difference between TreeMap and HashMap?"},{"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"score":0,"creation_date":1286435754,"post_id":3870093,"comment_id":4128971,"body_markdown":"TreeMap and HashMap are different data structures, TreeMap is based on a Red/Black tree.  A HashMap is a bucket and list hashtable.  In both cases the call to get() is not free and its cost depends on the type of data structure.","body":"TreeMap and HashMap are different data structures, TreeMap is based on a Red/Black tree.  A HashMap is a bucket and list hashtable.  In both cases the call to get() is not free and its cost depends on the type of data structure."},{"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"score":1,"creation_date":1540232687,"post_id":3870093,"comment_id":92780126,"body_markdown":"Java 8 ( &amp; above ) has the *value* in `HashMap` implemented as binary search tree instead of LinkedList. See http://openjdk.java.net/jeps/180","body":"Java 8 ( &amp; above ) has the <i>value</i> in <code>HashMap</code> implemented as binary search tree instead of LinkedList. See <a href=\"http://openjdk.java.net/jeps/180\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/180</a>"},{"owner":{"account_id":4616092,"reputation":111,"user_id":3946362,"display_name":"Trixie Wolf"},"score":0,"creation_date":1663784456,"post_id":3870093,"comment_id":130323208,"body_markdown":"Just a nitpick, but &quot;where a call to get is O(log2(n)), i.e. the comparator for will may need to run log2(n) times&quot; should probably be &quot;where a call to get is O(log(n)), i.e. the comparator for will may need to run log2(n) times&quot;. The base of a simple logarithm is not relevant to big-O notation because all log growths differ by a constant factor. (In computer science &quot;lg&quot; is often used to mean base 2, and since it&#39;s the most common one to occur some of us just use &quot;lg&quot; whenever there isn&#39;t exponentiation or something else uncommon.)","body":"Just a nitpick, but &quot;where a call to get is O(log2(n)), i.e. the comparator for will may need to run log2(n) times&quot; should probably be &quot;where a call to get is O(log(n)), i.e. the comparator for will may need to run log2(n) times&quot;. The base of a simple logarithm is not relevant to big-O notation because all log growths differ by a constant factor. (In computer science &quot;lg&quot; is often used to mean base 2, and since it&#39;s the most common one to occur some of us just use &quot;lg&quot; whenever there isn&#39;t exponentiation or something else uncommon.)"}],"tags":[],"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"comment_count":5,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1667859104,"creation_date":1286348196,"answer_id":3870093,"question_id":3870064,"body_markdown":"The most common case where using entrySet is preferable over keySet is when you are iterating through all of the key/value pairs in a Map.\r\n\r\nThis is more efficient:\r\n\r\n    for (Map.Entry entry : map.entrySet()) {\r\n        Object key = entry.getKey();\r\n        Object value = entry.getValue();\r\n    }\r\n\r\nthan:\r\n\r\n    for (Object key : map.keySet()) {\r\n        Object value = map.get(key);\r\n    }\r\n\r\nBecause in the second case, for every key in the keySet the `map.get()` method is called, which - in the case of a HashMap - requires that the `hashCode()` and `equals()` methods of the key object be evaluated in order to find the associated value*.  In the first case that extra work is eliminated.\r\n\r\nEdit: This is even worse if you consider a TreeMap, where a call to get is O(log(n)), i.e. the comparator may need to run log2(n) times (n = size of the Map) before finding the associated value.\r\n\r\n*Some Map implementations have internal optimisations that check the objects&#39; identity before the `hashCode()` and `equals()` are called.","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>The most common case where using entrySet is preferable over keySet is when you are iterating through all of the key/value pairs in a Map.</p>\n<p>This is more efficient:</p>\n<pre><code>for (Map.Entry entry : map.entrySet()) {\n    Object key = entry.getKey();\n    Object value = entry.getValue();\n}\n</code></pre>\n<p>than:</p>\n<pre><code>for (Object key : map.keySet()) {\n    Object value = map.get(key);\n}\n</code></pre>\n<p>Because in the second case, for every key in the keySet the <code>map.get()</code> method is called, which - in the case of a HashMap - requires that the <code>hashCode()</code> and <code>equals()</code> methods of the key object be evaluated in order to find the associated value*.  In the first case that extra work is eliminated.</p>\n<p>Edit: This is even worse if you consider a TreeMap, where a call to get is O(log(n)), i.e. the comparator may need to run log2(n) times (n = size of the Map) before finding the associated value.</p>\n<p>*Some Map implementations have internal optimisations that check the objects' identity before the <code>hashCode()</code> and <code>equals()</code> are called.</p>\n"},{"comments":[{"owner":{"account_id":119792,"reputation":13479,"user_id":311762,"accept_rate":100,"display_name":"metdos"},"score":1,"creation_date":1336126105,"post_id":3870210,"comment_id":13487321,"body_markdown":"+1 &quot;Iteration over the collection-views of a LinkedHashMap requires time proportional to the size of the map, regardless of its capacity. Iteration over a HashMap is likely to be more expensive, requiring time proportional to its capacity.&quot;","body":"+1 &quot;Iteration over the collection-views of a LinkedHashMap requires time proportional to the size of the map, regardless of its capacity. Iteration over a HashMap is likely to be more expensive, requiring time proportional to its capacity.&quot;"},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":0,"creation_date":1390552289,"post_id":3870210,"comment_id":32149919,"body_markdown":"But if you just need to access the keys or just need to access the values of the Map then prefer iterating over Set returned by keySet() and Collection returned values().\nOne more point, the Set returned by keySet() and Collection returned by values() are both backed by the original Map. That is, if you make any modification in them they will be reflected back in the Map, however, both of them don&#39;t support add() and addAll() methods i.e. you can&#39;t add new key to the Set or new value in the Collection.","body":"But if you just need to access the keys or just need to access the values of the Map then prefer iterating over Set returned by keySet() and Collection returned values(). One more point, the Set returned by keySet() and Collection returned by values() are both backed by the original Map. That is, if you make any modification in them they will be reflected back in the Map, however, both of them don&#39;t support add() and addAll() methods i.e. you can&#39;t add new key to the Set or new value in the Collection."},{"owner":{"account_id":1336729,"reputation":799,"user_id":1279301,"accept_rate":67,"display_name":"Sumit Kumar Saha"},"score":0,"creation_date":1452774411,"post_id":3870210,"comment_id":57322375,"body_markdown":"@aioobe AS you have written &quot;Thats the code dictating what will happen when you iterate through an entrySet. It walks through the entire array which is as long as the map&#39;s capacity.&quot;\nShouldn&#39;t it be &quot;.....which is as long as the map&#39;s size&quot; ?","body":"@aioobe AS you have written &quot;Thats the code dictating what will happen when you iterate through an entrySet. It walks through the entire array which is as long as the map&#39;s capacity.&quot; Shouldn&#39;t it be &quot;.....which is as long as the map&#39;s size&quot; ?"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1504603908,"post_id":3870210,"comment_id":79062434,"body_markdown":"Good good answer. I always prefer to refer to the source code as it is the ultimate source of truth","body":"Good good answer. I always prefer to refer to the source code as it is the ultimate source of truth"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":4,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1663783573,"creation_date":1286349449,"answer_id":3870210,"question_id":3870064,"body_markdown":"First of all, this depends entirely on which type of `Map` you&#39;re using. But since the *JavaRanch* thread talks about `HashMap`, I&#39;ll assume that that&#39;s the implementation you&#39;re referring to. And let&#39;s assume also that you&#39;re talking about the standard API implementation from Sun/Oracle.\r\n\r\n\r\nSecondly, if you&#39;re concerned about performance when iterating through your hash map, I suggest you have a look at [`LinkedHashMap`](http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html). From the docs:\r\n\r\n&gt; *Iteration over the collection-views of a `LinkedHashMap` requires time proportional to the size  of the map, regardless of its capacity. Iteration over a `HashMap`  is likely to be more expensive, requiring time proportional to its capacity.* \r\n\r\n### HashMap.entrySet() ###\r\n\r\nThe source-code for this implementation is available. The implementation basically just returns a new `HashMap.EntrySet`. A class which looks like this:\r\n\r\n\r\n    private final class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {\r\n        public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {\r\n            return newEntryIterator(); // returns a HashIterator...\r\n        }\r\n        // ...\r\n    }\r\n\r\nand a `HashIterator` looks like\r\n\r\n\r\n    private abstract class HashIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n        Entry&lt;K,V&gt; next;\t// next entry to return\r\n        int expectedModCount;\t// For fast-fail\r\n        int index;\t\t// current slot\r\n        Entry&lt;K,V&gt; current;\t// current entry\r\n\r\n        HashIterator() {\r\n            expectedModCount = modCount;\r\n            if (size &gt; 0) { // advance to first entry\r\n                Entry[] t = table;\r\n                while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\r\n            }\r\n        }\r\n\r\n        final Entry&lt;K,V&gt; nextEntry() {\r\n            if (modCount != expectedModCount)\r\n                throw new ConcurrentModificationException();\r\n            Entry&lt;K,V&gt; e = next;\r\n            if (e == null)\r\n                throw new NoSuchElementException();\r\n\r\n            if ((next = e.next) == null) {\r\n                Entry[] t = table;\r\n                while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\r\n            }\r\n\t        current = e;\r\n            return e;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nSo there you have it... That&#39;s the code dictating what will happen when you iterate through an `entrySet`. It walks through the entire array, which is as long as the map&#39;s capacity.\r\n\r\n### HashMap.keySet() and .get() ###\r\n\r\nHere you first need to get hold of the set of keys. This takes time proportional to the *capacity* of the map (as opposed to *size* for the `LinkedHashMap`). After this is done, you call `get()` once for each key. Sure, in the average case, with a good hashCode-implementation this takes constant time. However, it will inevitably require lots of `hashCode()` and `equals()` calls, which will obviously take more time than just doing a `entry.value()` call.","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>First of all, this depends entirely on which type of <code>Map</code> you're using. But since the <em>JavaRanch</em> thread talks about <code>HashMap</code>, I'll assume that that's the implementation you're referring to. And let's assume also that you're talking about the standard API implementation from Sun/Oracle.</p>\n<p>Secondly, if you're concerned about performance when iterating through your hash map, I suggest you have a look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMap</code></a>. From the docs:</p>\n<blockquote>\n<p><em>Iteration over the collection-views of a <code>LinkedHashMap</code> requires time proportional to the size  of the map, regardless of its capacity. Iteration over a <code>HashMap</code>  is likely to be more expensive, requiring time proportional to its capacity.</em></p>\n</blockquote>\n<h3>HashMap.entrySet()</h3>\n<p>The source-code for this implementation is available. The implementation basically just returns a new <code>HashMap.EntrySet</code>. A class which looks like this:</p>\n<pre><code>private final class EntrySet extends AbstractSet&lt;Map.Entry&lt;K,V&gt;&gt; {\n    public Iterator&lt;Map.Entry&lt;K,V&gt;&gt; iterator() {\n        return newEntryIterator(); // returns a HashIterator...\n    }\n    // ...\n}\n</code></pre>\n<p>and a <code>HashIterator</code> looks like</p>\n<pre><code>private abstract class HashIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n    Entry&lt;K,V&gt; next;    // next entry to return\n    int expectedModCount;   // For fast-fail\n    int index;      // current slot\n    Entry&lt;K,V&gt; current; // current entry\n\n    HashIterator() {\n        expectedModCount = modCount;\n        if (size &gt; 0) { // advance to first entry\n            Entry[] t = table;\n            while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\n        }\n    }\n\n    final Entry&lt;K,V&gt; nextEntry() {\n        if (modCount != expectedModCount)\n            throw new ConcurrentModificationException();\n        Entry&lt;K,V&gt; e = next;\n        if (e == null)\n            throw new NoSuchElementException();\n\n        if ((next = e.next) == null) {\n            Entry[] t = table;\n            while (index &lt; t.length &amp;&amp; (next = t[index++]) == null);\n        }\n        current = e;\n        return e;\n    }\n\n    // ...\n}\n</code></pre>\n<p>So there you have it... That's the code dictating what will happen when you iterate through an <code>entrySet</code>. It walks through the entire array, which is as long as the map's capacity.</p>\n<h3>HashMap.keySet() and .get()</h3>\n<p>Here you first need to get hold of the set of keys. This takes time proportional to the <em>capacity</em> of the map (as opposed to <em>size</em> for the <code>LinkedHashMap</code>). After this is done, you call <code>get()</code> once for each key. Sure, in the average case, with a good hashCode-implementation this takes constant time. However, it will inevitably require lots of <code>hashCode()</code> and <code>equals()</code> calls, which will obviously take more time than just doing a <code>entry.value()</code> call.</p>\n"},{"comments":[{"owner":{"account_id":280134,"reputation":9173,"user_id":575659,"accept_rate":93,"display_name":"dantuch"},"score":1,"creation_date":1418907181,"post_id":6927754,"comment_id":43520372,"body_markdown":"You said in that article &quot;This method (using keySet or values instead of entrySet) gives slight performance advantage over entrySet iteration (about 10% faster) and is more clean.&quot; May I know how did you get that value of &quot;10%&quot;? You showed no measurement nor any external data that contains such value.","body":"You said in that article &quot;This method (using keySet or values instead of entrySet) gives slight performance advantage over entrySet iteration (about 10% faster) and is more clean.&quot; May I know how did you get that value of &quot;10%&quot;? You showed no measurement nor any external data that contains such value."},{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":0,"creation_date":1418983135,"post_id":6927754,"comment_id":43552508,"body_markdown":"@dantuch I&#39;m not Sergiy, but the article makes sense IMHO. The article is old though, from 2008. You could always create a microbenchmark using Google&#39;s Caliper e.g. for the latest JDK if you&#39;re curious, please post the results.","body":"@dantuch I&#39;m not Sergiy, but the article makes sense IMHO. The article is old though, from 2008. You could always create a microbenchmark using Google&#39;s Caliper e.g. for the latest JDK if you&#39;re curious, please post the results."}],"tags":[],"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1515776935,"creation_date":1312380319,"answer_id":6927754,"question_id":3870064,"body_markdown":"[Here is the link to an article][1] comparing the performance of `entrySet()`, `keySet()` and `values()`, and advice regarding when to use each approach. \r\n\r\nApparently the use of `keySet()` is faster (besides being more convenient) than `entrySet()` as long as you don&#39;t need to `Map.get()` the values.\r\n\r\n  [1]: https://web.archive.org/web/20140209172758/http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p><a href=\"https://web.archive.org/web/20140209172758/http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/\" rel=\"nofollow noreferrer\">Here is the link to an article</a> comparing the performance of <code>entrySet()</code>, <code>keySet()</code> and <code>values()</code>, and advice regarding when to use each approach. </p>\n\n<p>Apparently the use of <code>keySet()</code> is faster (besides being more convenient) than <code>entrySet()</code> as long as you don't need to <code>Map.get()</code> the values.</p>\n"}],"owner":{"account_id":61688,"reputation":9624,"user_id":183717,"accept_rate":95,"display_name":"name_masked"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63118,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":3870210,"answer_count":3,"score":83,"last_activity_date":1667859104,"creation_date":1286347759,"question_id":3870064,"body_markdown":"All,\r\n\r\nCan anyone please let me know exactly what are the performance issues between the 2? The site : [CodeRanch][1] provides a brief overview of the internal calls that would be needed when using keySet() and get(). But it would be great if anyone can provide exact details about the flow when keySet() and get() methods are used. This would help me understand the performance issues better.\r\n \r\n\r\n  [1]: http://www.coderanch.com/t/203203/Performance/java/entrySet-keySet-Map","title":"Performance considerations for keySet() and entrySet() of Map","body":"<p>All,</p>\n\n<p>Can anyone please let me know exactly what are the performance issues between the 2? The site : <a href=\"http://www.coderanch.com/t/203203/Performance/java/entrySet-keySet-Map\" rel=\"noreferrer\">CodeRanch</a> provides a brief overview of the internal calls that would be needed when using keySet() and get(). But it would be great if anyone can provide exact details about the flow when keySet() and get() methods are used. This would help me understand the performance issues better.</p>\n"},{"tags":["java","sql","spring","sybase","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667858986,"creation_date":1667575551,"answer_id":74319343,"question_id":74311140,"body_markdown":"I can&#39;t speak to the java/spring coding but on a purely SQL basis it looks and sounds like the `update/select` is not being performed within a transaction.\r\n\r\nWithout a transaction wrapper (eg, explicit `begin/commit tran`, `autocommit=false`, `set chained on`) the `update/select` is a prime target for a race condition and duplicate key errors.\r\n\r\n**NOTE:** the isolation level has no effect if the `update/select` is performed outside of a transaction wrapper\r\n\r\nTracking down a &#39;missing transaction wrapper&#39; issue is a good idea as there could be other pieces of SQL code suffering from poor/missing transaction management.  Having said that ...\r\n\r\nFor this particular case one easy fix would be to add a transaction wrapper in the proc, eg:\r\n\r\n    CREATE PROC getId\r\n    (@val int = -1 output) \r\n    AS\r\n    BEGIN\r\n\r\n    begin tran\r\n        UPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\r\n        SELECT @val = LAST_VALUE FROM ID_TABLE\r\n    commit tran\r\n\r\n    RETURN @val\r\n    END\r\n\r\nEven better would be a rewrite of the `update` that eliminates the need for the `select`, eg:\r\n\r\n    CREATE PROC getId\r\n    (@val int = -1 output) \r\n    AS\r\n    BEGIN\r\n    \r\n    UPDATE ID_TABLE SET @val=LAST_VALUE+1, LAST_VALUE = LAST_VALUE + 1\r\n    \r\n    RETURN @val\r\n    END\r\n\r\n**NOTE:** as a standalone operation this eliminates the need for a transaction wrapper and should eliminate the generation of duplicate keys (assuming this proc is the root cause of the duplicate key issue)\r\n\r\nAssuming this is `Sybase ASE` I&#39;d want to look at making sure the table is configured to use `datarows` locking; with `allpages` locking, and to a limited extent `datapages` locking, there&#39;s a chance of a race condition on index updates (which in turn could lead to a deadlock scenario).","title":"Stored Procedure to generate IDs returning duplicate values","body":"<p>I can't speak to the java/spring coding but on a purely SQL basis it looks and sounds like the <code>update/select</code> is not being performed within a transaction.</p>\n<p>Without a transaction wrapper (eg, explicit <code>begin/commit tran</code>, <code>autocommit=false</code>, <code>set chained on</code>) the <code>update/select</code> is a prime target for a race condition and duplicate key errors.</p>\n<p><strong>NOTE:</strong> the isolation level has no effect if the <code>update/select</code> is performed outside of a transaction wrapper</p>\n<p>Tracking down a 'missing transaction wrapper' issue is a good idea as there could be other pieces of SQL code suffering from poor/missing transaction management.  Having said that ...</p>\n<p>For this particular case one easy fix would be to add a transaction wrapper in the proc, eg:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\n\nbegin tran\n    UPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\n    SELECT @val = LAST_VALUE FROM ID_TABLE\ncommit tran\n\nRETURN @val\nEND\n</code></pre>\n<p>Even better would be a rewrite of the <code>update</code> that eliminates the need for the <code>select</code>, eg:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\n\nUPDATE ID_TABLE SET @val=LAST_VALUE+1, LAST_VALUE = LAST_VALUE + 1\n\nRETURN @val\nEND\n</code></pre>\n<p><strong>NOTE:</strong> as a standalone operation this eliminates the need for a transaction wrapper and should eliminate the generation of duplicate keys (assuming this proc is the root cause of the duplicate key issue)</p>\n<p>Assuming this is <code>Sybase ASE</code> I'd want to look at making sure the table is configured to use <code>datarows</code> locking; with <code>allpages</code> locking, and to a limited extent <code>datapages</code> locking, there's a chance of a race condition on index updates (which in turn could lead to a deadlock scenario).</p>\n"}],"owner":{"account_id":3850212,"reputation":192,"user_id":3190586,"accept_rate":57,"display_name":"gnzlrm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667858986,"creation_date":1667524393,"question_id":74311140,"body_markdown":"I&#39;m currently working in a legacy application that uses an Stored Procedure in a Sybase DB to generate some IDs incrementally. The procedure is defined as:\r\n\r\n```sqlserver\r\nCREATE PROC getId\r\n(@val int = -1 output) \r\nAS\r\nBEGIN\r\nUPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\r\nSELECT @val = LAST_VALUE FROM ID_TABLE\r\nRETURN @val\r\nEND\r\n```\r\n\r\nThis procedure is being called from a Java application using Spring&#39;s `TransactionTemplate` to handle the transaction in a declarative manner.\r\n\r\n```java\r\npublic Integer getId() {\r\n    TransactionTemplate txTemplate = new TransactionTemplate(txManager); // txManager is an autowired instance of PlatformTransactionManager.\r\n    txTemplate.setIsolationLevel(TransactionDefinition.ISOLATION_SERIALIZABLE);\r\n    txTemplate.setTimeout(-1);\r\n    return (Integer) txTemplate.execute((TransactionCallback) status -&gt; idDao.generateId());\r\n}\r\n```\r\n\r\nInternally, *idDao* uses a `JdbcTemplate` to call the Stored Procedure using a `CallableStatementCreatorFactory`. Nothing too out of the ordinary there.\r\n\r\nThe Stored Procedure is called ~10k times/day. From time to time, we see some ID collisions. My understanding was that the isolation level being set to *SERIALIZABLE* should prevent this from happening, and I can&#39;t seem to reproduce this even calling `getId` simultaneously with several threads. Does anybody have a hint on what might be happening here?","title":"Stored Procedure to generate IDs returning duplicate values","body":"<p>I'm currently working in a legacy application that uses an Stored Procedure in a Sybase DB to generate some IDs incrementally. The procedure is defined as:</p>\n<pre><code>CREATE PROC getId\n(@val int = -1 output) \nAS\nBEGIN\nUPDATE ID_TABLE SET LAST_VALUE = LAST_VALUE + 1\nSELECT @val = LAST_VALUE FROM ID_TABLE\nRETURN @val\nEND\n</code></pre>\n<p>This procedure is being called from a Java application using Spring's <code>TransactionTemplate</code> to handle the transaction in a declarative manner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Integer getId() {\n    TransactionTemplate txTemplate = new TransactionTemplate(txManager); // txManager is an autowired instance of PlatformTransactionManager.\n    txTemplate.setIsolationLevel(TransactionDefinition.ISOLATION_SERIALIZABLE);\n    txTemplate.setTimeout(-1);\n    return (Integer) txTemplate.execute((TransactionCallback) status -&gt; idDao.generateId());\n}\n</code></pre>\n<p>Internally, <em>idDao</em> uses a <code>JdbcTemplate</code> to call the Stored Procedure using a <code>CallableStatementCreatorFactory</code>. Nothing too out of the ordinary there.</p>\n<p>The Stored Procedure is called ~10k times/day. From time to time, we see some ID collisions. My understanding was that the isolation level being set to <em>SERIALIZABLE</em> should prevent this from happening, and I can't seem to reproduce this even calling <code>getId</code> simultaneously with several threads. Does anybody have a hint on what might be happening here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1667858802,"post_id":74353373,"comment_id":131264103,"body_markdown":"Have you tried it?","body":"Have you tried it?"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1667860570,"post_id":74353373,"comment_id":131264480,"body_markdown":"https://www.baeldung.com/spring-autowire","body":"<a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">baeldung.com/spring-autowire</a>"}],"owner":{"account_id":9697315,"reputation":21,"user_id":7193336,"display_name":"spicymaggisauce101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667858251,"creation_date":1667858251,"question_id":74353373,"body_markdown":"I have this class (that looks like this, pseudo-code wise):\r\n```\r\n   @Component\r\n    public class classA() {\r\n    private variable a;\r\n    public A() {\r\n    }\r\n    @Autowired\r\n    public classA(variable a) {\r\n    this.a = a;\r\n    }\r\n  }\r\n```\r\nBasically, the variable &quot;a&quot; that I want to inject is a spring bean from a configuration file defined elsewhere (at run-time)\r\n\r\nIs this the correct way to go about defining the class so that &quot;a&quot; gets injected from the configuration file at run-time? I was wondering how this would work if we also have a no-args constructor?\r\n\r\nIE: If I create an instance of classA using the no-args constructor, will &quot;a&quot; still be properly injected?","title":"spring bean dependency injection","body":"<p>I have this class (that looks like this, pseudo-code wise):</p>\n<pre><code>   @Component\n    public class classA() {\n    private variable a;\n    public A() {\n    }\n    @Autowired\n    public classA(variable a) {\n    this.a = a;\n    }\n  }\n</code></pre>\n<p>Basically, the variable &quot;a&quot; that I want to inject is a spring bean from a configuration file defined elsewhere (at run-time)</p>\n<p>Is this the correct way to go about defining the class so that &quot;a&quot; gets injected from the configuration file at run-time? I was wondering how this would work if we also have a no-args constructor?</p>\n<p>IE: If I create an instance of classA using the no-args constructor, will &quot;a&quot; still be properly injected?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26141869,"reputation":21,"user_id":19831115,"display_name":"Andrew Hunt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667856886,"creation_date":1667856886,"question_id":74353190,"body_markdown":"The app allows users to search their installed apps. The way I have it now, it will let the user search and returns the correct responses when the softkeyboard is closed. I want it to update in real time when the softkeyboard is open. Using the physical keyboard in Emulator updates the RecyclerView no problem. Why does the softkeyboard not do the same?\r\n\r\nThis is the Fragment class\r\n\r\n```\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n    recyclerView = view.findViewById(R.id.justtype_view);\r\n    layoutManager = new GridLayoutManager(getContext(), 4);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    jt = view.findViewById(R.id.jtInput);\r\n    jt.requestFocus();\r\n    jt.isFocusableInTouchMode();\r\n    jt.setFocusable(true);\r\n    if (jt.requestFocus()) {\r\n        InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        imm.showSoftInput(jt, InputMethodManager.SHOW_IMPLICIT);\r\n    }\r\n\r\n    Window w = requireActivity().getWindow();\r\n    w.setStatusBarColor(ContextCompat.getColor(requireActivity(), R.color.status));\r\n    recyclerView.setVisibility(View.INVISIBLE);\r\n    jtAdapter = new JTAdapter(requireContext(), jt.getText().toString());\r\n    recyclerView.setAdapter(jtAdapter);\r\n\r\n\r\n    new Thread(this::contactsSearch).start();\r\n\r\n    jt.addTextChangedListener(new TextWatcher() {\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            if (jt.getText().toString().length()&gt;0) {\r\n                jtAdapter = new JTAdapter(requireContext(), s.toString());\r\n                recyclerView.setAdapter(jtAdapter);\r\n                jtAdapter.notifyDataSetChanged();\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                textChange(view);\r\n            } else {\r\n                recyclerView.setVisibility(View.INVISIBLE);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the Adapter Class\r\n\r\n```\r\npublic class JTAdapter extends RecyclerView.Adapter&lt;JTAdapter.ViewHolder&gt; {\r\n\r\n    public static List&lt;AppInfo&gt; jtList;\r\n\r\n    public JTAdapter(Context c, String q) {\r\n        new Thread(() -&gt; {\r\n            PackageManager pm = c.getPackageManager();\r\n            jtList = new ArrayList&lt;&gt;();\r\n            Intent i = new Intent(Intent.ACTION_MAIN, null);\r\n            i.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            List&lt;ResolveInfo&gt; allApps = pm.queryIntentActivities(i, 0);\r\n            if(q.length() == 0) {\r\n                for (ResolveInfo ri : allApps) {\r\n                    AppInfo app = new AppInfo();\r\n                    app.label = ri.loadLabel(pm);\r\n                    app.packageName = ri.activityInfo.packageName;\r\n                    app.icon = ri.activityInfo.loadIcon(pm);\r\n                    jtList.add(app);\r\n                }\r\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\r\n            } else {\r\n                for (ResolveInfo ri : allApps) {\r\n                    AppInfo app = new AppInfo();\r\n                    app.label = ri.loadLabel(pm);\r\n                    app.packageName = ri.activityInfo.packageName;\r\n                    app.icon = ri.activityInfo.loadIcon(pm);\r\n                    if(app.label.toString().toLowerCase().startsWith(q)) {\r\n                        jtList.add(app);\r\n                    }\r\n                }\r\n\r\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\r\n\r\n            }\r\n\r\n        }).start();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return jtList.size();\r\n    }\r\n\r\n    public void onBindViewHolder(@NonNull JTAdapter.ViewHolder viewHolder, int i) {\r\n        try {\r\n            String appLabel = jtList.get(i).label.toString();\r\n            Drawable appIcon = jtList.get(i).icon;\r\n            TextView textView = viewHolder.textView;\r\n            textView.setText(appLabel);\r\n            ImageView imageView = viewHolder.img;\r\n            imageView.setImageDrawable(appIcon);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n    @NonNull\r\n    public JTAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.jt_item_row_layout, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView textView;\r\n        public ImageView img;\r\n\r\n        public ViewHolder(View itemView) {\r\n\r\n            super(itemView);\r\n            textView = itemView.findViewById(R.id.jt_app_name);\r\n            img = itemView.findViewById(R.id.jt_app_icon);\r\n\r\n            itemView.setOnClickListener(v -&gt; {\r\n                int pos = getAdapterPosition();\r\n                Context context = v.getContext();\r\n                Intent launchIntent = context.getPackageManager().getLaunchIntentForPackage(jtList.get(pos).packageName.toString());\r\n                context.startActivity(launchIntent);\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI expect when I type with the softkeyboard that the RecyclerView will update with the new list of apps. This does not happen until after softkeyboard is closed. The RecyclerView appears blank when typing with the softkeyboard.","title":"Apps List RecyclerView not updating when SoftKeyboard is open","body":"<p>The app allows users to search their installed apps. The way I have it now, it will let the user search and returns the correct responses when the softkeyboard is closed. I want it to update in real time when the softkeyboard is open. Using the physical keyboard in Emulator updates the RecyclerView no problem. Why does the softkeyboard not do the same?</p>\n<p>This is the Fragment class</p>\n<pre><code>public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    recyclerView = view.findViewById(R.id.justtype_view);\n    layoutManager = new GridLayoutManager(getContext(), 4);\n    recyclerView.setLayoutManager(layoutManager);\n    jt = view.findViewById(R.id.jtInput);\n    jt.requestFocus();\n    jt.isFocusableInTouchMode();\n    jt.setFocusable(true);\n    if (jt.requestFocus()) {\n        InputMethodManager imm = (InputMethodManager) view.getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.showSoftInput(jt, InputMethodManager.SHOW_IMPLICIT);\n    }\n\n    Window w = requireActivity().getWindow();\n    w.setStatusBarColor(ContextCompat.getColor(requireActivity(), R.color.status));\n    recyclerView.setVisibility(View.INVISIBLE);\n    jtAdapter = new JTAdapter(requireContext(), jt.getText().toString());\n    recyclerView.setAdapter(jtAdapter);\n\n\n    new Thread(this::contactsSearch).start();\n\n    jt.addTextChangedListener(new TextWatcher() {\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable s) {\n            if (jt.getText().toString().length()&gt;0) {\n                jtAdapter = new JTAdapter(requireContext(), s.toString());\n                recyclerView.setAdapter(jtAdapter);\n                jtAdapter.notifyDataSetChanged();\n                recyclerView.setVisibility(View.VISIBLE);\n                textChange(view);\n            } else {\n                recyclerView.setVisibility(View.INVISIBLE);\n            }\n        }\n    });\n}\n\n</code></pre>\n<p>This is the Adapter Class</p>\n<pre><code>public class JTAdapter extends RecyclerView.Adapter&lt;JTAdapter.ViewHolder&gt; {\n\n    public static List&lt;AppInfo&gt; jtList;\n\n    public JTAdapter(Context c, String q) {\n        new Thread(() -&gt; {\n            PackageManager pm = c.getPackageManager();\n            jtList = new ArrayList&lt;&gt;();\n            Intent i = new Intent(Intent.ACTION_MAIN, null);\n            i.addCategory(Intent.CATEGORY_LAUNCHER);\n            List&lt;ResolveInfo&gt; allApps = pm.queryIntentActivities(i, 0);\n            if(q.length() == 0) {\n                for (ResolveInfo ri : allApps) {\n                    AppInfo app = new AppInfo();\n                    app.label = ri.loadLabel(pm);\n                    app.packageName = ri.activityInfo.packageName;\n                    app.icon = ri.activityInfo.loadIcon(pm);\n                    jtList.add(app);\n                }\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\n            } else {\n                for (ResolveInfo ri : allApps) {\n                    AppInfo app = new AppInfo();\n                    app.label = ri.loadLabel(pm);\n                    app.packageName = ri.activityInfo.packageName;\n                    app.icon = ri.activityInfo.loadIcon(pm);\n                    if(app.label.toString().toLowerCase().startsWith(q)) {\n                        jtList.add(app);\n                    }\n                }\n\n                jtList.sort(Comparator.comparing(o -&gt; o.label.toString()));\n\n            }\n\n        }).start();\n    }\n\n    @Override\n    public int getItemCount() {\n        return jtList.size();\n    }\n\n    public void onBindViewHolder(@NonNull JTAdapter.ViewHolder viewHolder, int i) {\n        try {\n            String appLabel = jtList.get(i).label.toString();\n            Drawable appIcon = jtList.get(i).icon;\n            TextView textView = viewHolder.textView;\n            textView.setText(appLabel);\n            ImageView imageView = viewHolder.img;\n            imageView.setImageDrawable(appIcon);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @NonNull\n    public JTAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.jt_item_row_layout, parent, false);\n        return new ViewHolder(view);\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView textView;\n        public ImageView img;\n\n        public ViewHolder(View itemView) {\n\n            super(itemView);\n            textView = itemView.findViewById(R.id.jt_app_name);\n            img = itemView.findViewById(R.id.jt_app_icon);\n\n            itemView.setOnClickListener(v -&gt; {\n                int pos = getAdapterPosition();\n                Context context = v.getContext();\n                Intent launchIntent = context.getPackageManager().getLaunchIntentForPackage(jtList.get(pos).packageName.toString());\n                context.startActivity(launchIntent);\n            });\n        }\n    }\n}\n\n</code></pre>\n<p>I expect when I type with the softkeyboard that the RecyclerView will update with the new list of apps. This does not happen until after softkeyboard is closed. The RecyclerView appears blank when typing with the softkeyboard.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":2,"creation_date":1667854875,"post_id":74352855,"comment_id":131263102,"body_markdown":"JavaScript has nothing to do with Java","body":"JavaScript has nothing to do with Java"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1667854938,"post_id":74352855,"comment_id":131263120,"body_markdown":"What `addLikes` does?","body":"What <code>addLikes</code> does?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1667854974,"post_id":74352855,"comment_id":131263132,"body_markdown":"Note `if (something) { return true; } return false;` can be shortened to `return something;`. You should also show your example output, in addition to the methods you&#39;ve used in your example (e.g. `addLikes`, `addRetweets`, etc)","body":"Note <code>if (something) { return true; } return false;</code> can be shortened to <code>return something;</code>. You should also show your example output, in addition to the methods you&#39;ve used in your example (e.g. <code>addLikes</code>, <code>addRetweets</code>, etc)"},{"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"score":0,"creation_date":1667858586,"post_id":74352855,"comment_id":131264043,"body_markdown":"kindaLiked is true if likes &lt; retweets; You start with 3 &lt; 28 -- true; then you have 38 &lt; 28 -- false. Why do you think that 38 &lt; 28 should return true?","body":"kindaLiked is true if likes &lt; retweets; You start with 3 &lt; 28 -- true; then you have 38 &lt; 28 -- false. Why do you think that 38 &lt; 28 should return true?"}],"answers":[{"tags":[],"owner":{"account_id":15034414,"reputation":43,"user_id":10851322,"display_name":"Eden Refaelov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667855988,"creation_date":1667855988,"answer_id":74353061,"question_id":74352855,"body_markdown":"your desired output is:\r\n```\r\ntrue false true false false false true\r\n```\r\nlets take the first scenario\r\n```\r\n        sample.addLikes( 3 );\r\n        sample.addRetweets( 28 );\r\n        System.out.println( sample.notLiked() );\r\n        System.out.println( sample.kindaLiked() );\r\n```\r\nwe can easily see that in the start you have\r\n```\r\n3likes, 28retweets.\r\n```\r\nand lets take `kindaLikes()` method:\r\n```\r\n    public boolean kindaLiked()\r\n    {\r\n        if (likes &lt; retweets)\r\n        {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```\r\nis `if likes &lt; retweets return true` and `3&lt;28` so it will return true.\r\n\r\nso it looks like you did `true true...` you should change the `&lt;` to `&gt;` that makes the `likes` greater than `retweets`.\r\n\r\n","title":"boolean returns same answer despite value change","body":"<p>your desired output is:</p>\n<pre><code>true false true false false false true\n</code></pre>\n<p>lets take the first scenario</p>\n<pre><code>        sample.addLikes( 3 );\n        sample.addRetweets( 28 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n</code></pre>\n<p>we can easily see that in the start you have</p>\n<pre><code>3likes, 28retweets.\n</code></pre>\n<p>and lets take <code>kindaLikes()</code> method:</p>\n<pre><code>    public boolean kindaLiked()\n    {\n        if (likes &lt; retweets)\n        {\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>is <code>if likes &lt; retweets return true</code> and <code>3&lt;28</code> so it will return true.</p>\n<p>so it looks like you did <code>true true...</code> you should change the <code>&lt;</code> to <code>&gt;</code> that makes the <code>likes</code> greater than <code>retweets</code>.</p>\n"}],"owner":{"account_id":26860305,"reputation":1,"user_id":20443922,"display_name":"user20443922"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667855988,"creation_date":1667854771,"question_id":74352855,"body_markdown":"Im trying to find true or false values based on the number of likes and retweets it gives me, by the second  kindaLiked method it should return true but it returns false. first one works fine along with the notLiked method. \r\noutput im looking for\r\ntrue\r\nfalse\r\ntrue\r\nfalse\r\nfalse\r\nfalse\r\ntrue\r\nmsg aplus rt 75 lk 51\r\noutput im getting\r\ntrue\r\nfalse\r\nfalse\r\nfalse\r\ntrue\r\nfalse\r\nfalse\r\nmsg null\r\n```\r\nTweet sample = new Tweet(&quot;aplus&quot;, 0, 0 );\r\n\t\tsample.addLikes( 3 );\r\n\t\tsample.addRetweets( 28 );\r\n\t\tSystem.out.println( sample.notLiked() );\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tsample.addLikes(35);\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tSystem.out.println( sample.isTrending() );\r\n\t\tsample.addLikes( 13 );\r\n\t\tsample.addRetweets( 47 );\r\n\t\tSystem.out.println( sample.notLiked() );\r\n\t\tSystem.out.println( sample.kindaLiked() );\r\n\t\tSystem.out.println( sample.isTrending() );\r\n\t\tSystem.out.println( sample );\r\n```\r\n```\r\n\r\npublic boolean notLiked()\r\n\t{\r\n\t\tif (likes &lt; 10)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean kindaLiked()\r\n\t{\r\n\t\tif (likes &lt; retweets)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic boolean isTrending()\r\n\t{\r\n\t\tif ( retweets + likes &gt;= 75)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;msg &quot; + message;\r\n\t}\r\n}\r\n```\r\nafter the value of retweets and likes changes Im still getting the same true/false value\r\n\r\n\r\nThe code is presented to us as fill in the blank so im trying to avoid adding more methods","title":"boolean returns same answer despite value change","body":"<p>Im trying to find true or false values based on the number of likes and retweets it gives me, by the second  kindaLiked method it should return true but it returns false. first one works fine along with the notLiked method.\noutput im looking for\ntrue\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\nmsg aplus rt 75 lk 51\noutput im getting\ntrue\nfalse\nfalse\nfalse\ntrue\nfalse\nfalse\nmsg null</p>\n<pre><code>Tweet sample = new Tweet(&quot;aplus&quot;, 0, 0 );\n        sample.addLikes( 3 );\n        sample.addRetweets( 28 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n        sample.addLikes(35);\n        System.out.println( sample.kindaLiked() );\n        System.out.println( sample.isTrending() );\n        sample.addLikes( 13 );\n        sample.addRetweets( 47 );\n        System.out.println( sample.notLiked() );\n        System.out.println( sample.kindaLiked() );\n        System.out.println( sample.isTrending() );\n        System.out.println( sample );\n</code></pre>\n<pre><code>\npublic boolean notLiked()\n    {\n        if (likes &lt; 10)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean kindaLiked()\n    {\n        if (likes &lt; retweets)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public boolean isTrending()\n    {\n        if ( retweets + likes &gt;= 75)\n        {\n            return true;\n        }\n        return false;\n    }\n\n    public String toString()\n    {\n        return &quot;msg &quot; + message;\n    }\n}\n</code></pre>\n<p>after the value of retweets and likes changes Im still getting the same true/false value</p>\n<p>The code is presented to us as fill in the blank so im trying to avoid adding more methods</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1667426994,"post_id":74295424,"comment_id":131167708,"body_markdown":"There is too much code missing to advise, consider providing a [mcve], not the whole app, but a specially coded example that demonstrates only the issue via copy/paste with no change or addition.  Theoretically `toFront()` on the node would work if all relevant nodes are siblings (that it didn&#39;t work indicates that this was not the case).  You can adjust the z co-ordinate (e.g. -1) to make it paint on top of everything regardless, but you might want to better understand what you are doing before you do that.","body":"There is too much code missing to advise, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not the whole app, but a specially coded example that demonstrates only the issue via copy/paste with no change or addition.  Theoretically <code>toFront()</code> on the node would work if all relevant nodes are siblings (that it didn&#39;t work indicates that this was not the case).  You can adjust the z co-ordinate (e.g. -1) to make it paint on top of everything regardless, but you might want to better understand what you are doing before you do that."},{"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"score":1,"creation_date":1667553789,"post_id":74295424,"comment_id":131198142,"body_markdown":"@jewelsea Thanks for the advice, I solved the problem using setViewOrder with -1 parameter (before I used a positive value)","body":"@jewelsea Thanks for the advice, I solved the problem using setViewOrder with -1 parameter (before I used a positive value)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667585849,"post_id":74295424,"comment_id":131209642,"body_markdown":"With enough reputation you will be able to [answer your an question](https://stackoverflow.com/help/self-answer).","body":"With enough reputation you will be able to <a href=\"https://stackoverflow.com/help/self-answer\">answer your an question</a>."}],"answers":[{"tags":[],"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667855838,"creation_date":1667855838,"answer_id":74353042,"question_id":74295424,"body_markdown":"I solved the problem using setViewOrder with -1 parameter (before I used a positive value)","title":"Javafx how to put shape above another shapes","body":"<p>I solved the problem using setViewOrder with -1 parameter (before I used a positive value)</p>\n"}],"owner":{"account_id":25167048,"reputation":31,"user_id":19522451,"display_name":"Demi76"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667855838,"creation_date":1667421882,"question_id":74295424,"body_markdown":"Trying to write a snake game. I want to mark place where the snake bites itself in red ,but the snake body overlaping it.\r\nI tried to put the shape from the head over the body with getHead().shape.toFront() command, but it didn&#39;t work. Possibly because the snake is added to paneGame.getChildren() as a list and toFront doesn&#39;t allow changing the order in which the elements list are drawn.\r\n\r\nI solved this problem change color overlaping body part. Can somebody advise more simply solution?\r\n```\r\n public class Draw extends Application {\r\n    Pane paneGame;\r\n    static Snake snake;\r\n\r\n    static final public int xLField = 50;\r\n    static final public int yLField = 53;\r\n    static final public int yLFieldGame = 50;\r\n    static public int sizeCell = 10;\r\n    int speed = 100;\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        BorderPane borderPane = new BorderPane();\r\n        paneGame = new Pane();\r\n        borderPane.setCenter(paneGame);\r\n        Scene scene = new Scene(borderPane, xLField * sizeCell, yLField * sizeCell, Color.GRAY);\r\n        setOnKey(scene);\r\n        snake = Snake.generatedSnake();\r\n        Timeline timeline = new Timeline(\r\n                new KeyFrame(Duration.millis(speed),\r\n                        event -&gt; gameProcessing()));\r\n        timeline.setCycleCount(Timeline.INDEFINITE);\r\n        timeline.play();\r\n        stage.setTitle(&quot;Snake&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    void gameProcessing() {\r\n                paneGame.getChildren().clear();\r\n                snake.move();\r\n                if (snake.getHead().hasIntersection(snake.getBody())) {\r\n                    snake.snakeDead();\r\n                }\r\n                paneGame.getChildren().addAll(snake.getBodyShapes());\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    void setOnKey(Scene scene) {\r\n        scene.setOnKeyPressed(key -&gt; {\r\n            if (key.getCode() == KeyCode.UP) snake.setDirection(Direction.UP);\r\n            if (key.getCode() == KeyCode.DOWN) snake.setDirection(Direction.DOWN);\r\n            if (key.getCode() == KeyCode.LEFT) snake.setDirection(Direction.LEFT);\r\n            if (key.getCode() == KeyCode.RIGHT) snake.setDirection(Direction.RIGHT);\r\n        });\r\n    }\r\n}\r\n\r\nenum Direction {\r\n    UP, DOWN, LEFT, RIGHT\r\n}\r\n\r\npublic class Snake {\r\n    private final ArrayList&lt;Body&gt; body;\r\n    private Body head;\r\n    public ArrayList&lt;Shape&gt; getBodyShapes() {\r\n        ArrayList&lt;Shape&gt; shapeListFromBody = new ArrayList&lt;&gt;();\r\n        for (Body body : this.body) {\r\n            shapeListFromBody.add(body.getShape());\r\n        }\r\n        return shapeListFromBody;\r\n    }\r\n    public ArrayList&lt;Body&gt; getBody(){return body;}\r\n    Body getHead() {\r\n        return head;\r\n    }\r\n\r\n    public void move() {\r\n\r\n           int x = head.getX();\r\n           int y = head.getY();\r\n            switch (direction) {\r\n                case UP -&gt; y -= 1;\r\n                case DOWN -&gt; y += 1;\r\n                case LEFT -&gt; x -= 1;\r\n                case RIGHT -&gt; x += 1;\r\n            }\r\n        body.add(0, new Body(x, y));\r\n            Cell.cellPool.remove((body.get(body.size() - 1).cellId));\r\n            body.remove(body.size() - 1);\r\n        head = body.get(0);\r\n    }\r\n\r\n    public Snake() {\r\n        direction = Direction.RIGHT;\r\n        this.body = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            body.add(new Body(Draw.xLField/2 - i, Draw.yLFieldGame/2));\r\n        }\r\n        head = this.body.get(0);\r\n    }\r\n    private Direction direction;\r\n    public static Snake generatedSnake(){\r\n        return new Snake();\r\n    }\r\n    public void snakeDead(){\r\n        getHead().shape.setFill(RED);\r\n        getHead().shape.toFront();\r\n        /*for(Body body: body){\r\n           if(getHead().hasIntersection(body)) {\r\n               body.shape.setFill(RED);\r\n           }\r\n        }*/\r\n    }\r\n    public void setDirection(Direction direction) {\r\n        this.direction = direction;\r\n    }\r\n\r\n    static class Body extends Cell {\r\n        private final Shape shape;\r\n\r\n        public Body(int x, int y) {\r\n            super(x, y);\r\n            shape = new Rectangle(getPixelsX(), getPixelsY(), size, size);\r\n            shape.setFill(GREEN);\r\n        }\r\n\r\n        public Shape getShape() {\r\n            return shape;\r\n        }\r\n    }\r\n}\r\npublic class Cell {\r\n\r\n    int x;\r\n    int y;\r\n    String cellId;\r\n    final int size = Draw.sizeCell;\r\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\r\n\r\n    public int getPixelsX() {\r\n        return x * size;\r\n    }\r\n\r\n    public int getPixelsY() {\r\n        return y * size;\r\n    }\r\n\r\n    public Cell(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.cellId = x + &quot;_&quot; + y;\r\n        Cell.cellPool.add(this.cellId);\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n    public boolean hasIntersection(Cell otherCell) {\r\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\r\n    }\r\n\r\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\r\n        for (Cell otherCell : cells) {\r\n            if (this.hasIntersection(otherCell)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\npublic class Cell {\r\n\r\n    int x;\r\n    int y;\r\n    String cellId;\r\n    final int size = Draw.sizeCell;\r\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\r\n\r\n    public int getPixelsX() {\r\n        return x * size;\r\n    }\r\n\r\n    public int getPixelsY() {\r\n        return y * size;\r\n    }\r\n\r\n    public Cell(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.cellId = x + &quot;_&quot; + y;\r\n        Cell.cellPool.add(this.cellId);\r\n    }\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\n\r\n    public boolean hasIntersection(Cell otherCell) {\r\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\r\n    }\r\n\r\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\r\n        for (Cell otherCell : cells) {\r\n            if (this.hasIntersection(otherCell)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Javafx how to put shape above another shapes","body":"<p>Trying to write a snake game. I want to mark place where the snake bites itself in red ,but the snake body overlaping it.\nI tried to put the shape from the head over the body with getHead().shape.toFront() command, but it didn't work. Possibly because the snake is added to paneGame.getChildren() as a list and toFront doesn't allow changing the order in which the elements list are drawn.</p>\n<p>I solved this problem change color overlaping body part. Can somebody advise more simply solution?</p>\n<pre><code> public class Draw extends Application {\n    Pane paneGame;\n    static Snake snake;\n\n    static final public int xLField = 50;\n    static final public int yLField = 53;\n    static final public int yLFieldGame = 50;\n    static public int sizeCell = 10;\n    int speed = 100;\n\n    @Override\n    public void start(Stage stage) {\n\n        BorderPane borderPane = new BorderPane();\n        paneGame = new Pane();\n        borderPane.setCenter(paneGame);\n        Scene scene = new Scene(borderPane, xLField * sizeCell, yLField * sizeCell, Color.GRAY);\n        setOnKey(scene);\n        snake = Snake.generatedSnake();\n        Timeline timeline = new Timeline(\n                new KeyFrame(Duration.millis(speed),\n                        event -&gt; gameProcessing()));\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n        stage.setTitle(&quot;Snake&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    void gameProcessing() {\n                paneGame.getChildren().clear();\n                snake.move();\n                if (snake.getHead().hasIntersection(snake.getBody())) {\n                    snake.snakeDead();\n                }\n                paneGame.getChildren().addAll(snake.getBodyShapes());\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n    void setOnKey(Scene scene) {\n        scene.setOnKeyPressed(key -&gt; {\n            if (key.getCode() == KeyCode.UP) snake.setDirection(Direction.UP);\n            if (key.getCode() == KeyCode.DOWN) snake.setDirection(Direction.DOWN);\n            if (key.getCode() == KeyCode.LEFT) snake.setDirection(Direction.LEFT);\n            if (key.getCode() == KeyCode.RIGHT) snake.setDirection(Direction.RIGHT);\n        });\n    }\n}\n\nenum Direction {\n    UP, DOWN, LEFT, RIGHT\n}\n\npublic class Snake {\n    private final ArrayList&lt;Body&gt; body;\n    private Body head;\n    public ArrayList&lt;Shape&gt; getBodyShapes() {\n        ArrayList&lt;Shape&gt; shapeListFromBody = new ArrayList&lt;&gt;();\n        for (Body body : this.body) {\n            shapeListFromBody.add(body.getShape());\n        }\n        return shapeListFromBody;\n    }\n    public ArrayList&lt;Body&gt; getBody(){return body;}\n    Body getHead() {\n        return head;\n    }\n\n    public void move() {\n\n           int x = head.getX();\n           int y = head.getY();\n            switch (direction) {\n                case UP -&gt; y -= 1;\n                case DOWN -&gt; y += 1;\n                case LEFT -&gt; x -= 1;\n                case RIGHT -&gt; x += 1;\n            }\n        body.add(0, new Body(x, y));\n            Cell.cellPool.remove((body.get(body.size() - 1).cellId));\n            body.remove(body.size() - 1);\n        head = body.get(0);\n    }\n\n    public Snake() {\n        direction = Direction.RIGHT;\n        this.body = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            body.add(new Body(Draw.xLField/2 - i, Draw.yLFieldGame/2));\n        }\n        head = this.body.get(0);\n    }\n    private Direction direction;\n    public static Snake generatedSnake(){\n        return new Snake();\n    }\n    public void snakeDead(){\n        getHead().shape.setFill(RED);\n        getHead().shape.toFront();\n        /*for(Body body: body){\n           if(getHead().hasIntersection(body)) {\n               body.shape.setFill(RED);\n           }\n        }*/\n    }\n    public void setDirection(Direction direction) {\n        this.direction = direction;\n    }\n\n    static class Body extends Cell {\n        private final Shape shape;\n\n        public Body(int x, int y) {\n            super(x, y);\n            shape = new Rectangle(getPixelsX(), getPixelsY(), size, size);\n            shape.setFill(GREEN);\n        }\n\n        public Shape getShape() {\n            return shape;\n        }\n    }\n}\npublic class Cell {\n\n    int x;\n    int y;\n    String cellId;\n    final int size = Draw.sizeCell;\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\n\n    public int getPixelsX() {\n        return x * size;\n    }\n\n    public int getPixelsY() {\n        return y * size;\n    }\n\n    public Cell(int x, int y) {\n        this.x = x;\n        this.y = y;\n        this.cellId = x + &quot;_&quot; + y;\n        Cell.cellPool.add(this.cellId);\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public boolean hasIntersection(Cell otherCell) {\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\n    }\n\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\n        for (Cell otherCell : cells) {\n            if (this.hasIntersection(otherCell)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\npublic class Cell {\n\n    int x;\n    int y;\n    String cellId;\n    final int size = Draw.sizeCell;\n    public static HashSet&lt;String&gt; cellPool = new HashSet&lt;&gt;();\n\n    public int getPixelsX() {\n        return x * size;\n    }\n\n    public int getPixelsY() {\n        return y * size;\n    }\n\n    public Cell(int x, int y) {\n        this.x = x;\n        this.y = y;\n        this.cellId = x + &quot;_&quot; + y;\n        Cell.cellPool.add(this.cellId);\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n\n    public boolean hasIntersection(Cell otherCell) {\n        return otherCell != this &amp;&amp; this.cellId.equals(otherCell.cellId);\n    }\n\n    public boolean hasIntersection(List&lt;? extends Cell&gt; cells) {\n        for (Cell otherCell : cells) {\n            if (this.hasIntersection(otherCell)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\n</code></pre>\n"},{"tags":["python","java","opencv","mat"],"answers":[{"comments":[{"owner":{"account_id":1332346,"reputation":11339,"user_id":1275959,"accept_rate":57,"display_name":"epsilones"},"score":2,"creation_date":1463055663,"post_id":37185722,"comment_id":61906114,"body_markdown":"thank you, the problem is that I get `AttributeError: &#39;module&#39; object has no attribute &#39;CreateMat&#39;`...","body":"thank you, the problem is that I get <code>AttributeError: &#39;module&#39; object has no attribute &#39;CreateMat&#39;</code>..."},{"owner":{"account_id":2610992,"reputation":3083,"user_id":5836291,"accept_rate":79,"display_name":"Vtik"},"score":0,"creation_date":1463056970,"post_id":37185722,"comment_id":61907145,"body_markdown":"which version are you using cv / cv2?","body":"which version are you using cv / cv2?"},{"owner":{"account_id":1332346,"reputation":11339,"user_id":1275959,"accept_rate":57,"display_name":"epsilones"},"score":0,"creation_date":1463057034,"post_id":37185722,"comment_id":61907186,"body_markdown":"I am using `OpenCV 3.0`","body":"I am using <code>OpenCV 3.0</code>"},{"owner":{"account_id":2610992,"reputation":3083,"user_id":5836291,"accept_rate":79,"display_name":"Vtik"},"score":0,"creation_date":1463057073,"post_id":37185722,"comment_id":61907216,"body_markdown":"It looks like you doing [this](http://stackoverflow.com/questions/9710520/opencv-createimage-function-isnt-working) anyway.","body":"It looks like you doing <a href=\"http://stackoverflow.com/questions/9710520/opencv-createimage-function-isnt-working\">this</a> anyway."},{"owner":{"account_id":15875656,"reputation":1253,"user_id":11454967,"display_name":"Cătălina S&#238;rbu"},"score":2,"creation_date":1589056528,"post_id":37185722,"comment_id":109143184,"body_markdown":"It does not work. Could you improve your answer please?","body":"It does not work. Could you improve your answer please?"},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":3,"creation_date":1662931031,"post_id":37185722,"comment_id":130114423,"body_markdown":"**this answer is outdated** and doesn&#39;t even use the modern OpenCV API. ignore it.","body":"<b>this answer is outdated</b> and doesn&#39;t even use the modern OpenCV API. ignore it."}],"tags":[],"owner":{"account_id":2610992,"reputation":3083,"user_id":5836291,"accept_rate":79,"display_name":"Vtik"},"comment_count":6,"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1463053357,"creation_date":1463052955,"answer_id":37185722,"question_id":37182774,"body_markdown":"**For OpenCV 1.x :**\r\n\r\nYou can use [CreateMat][1] to do that :\r\n\r\n&gt; Creates a matrix header and allocates the matrix data.\r\n\r\n    Python: cv.CreateMat(rows, cols, type) → mat\r\n        Parameters:\t\r\n            rows – Number of rows in the matrix\r\n            cols – Number of columns in the matrix\r\n            type – The type of the matrix elements in the form CV_&lt;bit depth&gt;&lt;S|U|F&gt;C&lt;number of channels&gt; , where S=signed, U=unsigned, F=float. For example, CV _ 8UC1 means the elements are 8-bit unsigned and the there is 1 channel, and CV _ 32SC2 means the elements are 32-bit signed and there are 2 channels.\r\n\r\nThe function call is equivalent to the following code:\r\n\r\n    CvMat* mat = cvCreateMatHeader(rows, cols, type);\r\n    cvCreateData(mat);\r\n\r\n**For cv2 interface :**\r\n\r\nThe new cv2 interface for Python integrates [numpy][2] arrays into the OpenCV framework, which makes operations much simpler as they are represented with simple multidimensional arrays.\r\nhere&#39;s a starting example :\r\n\r\n    import numpy as np, cv\r\n    vis = np.zeros((384, 836), np.float32)\r\n    h,w = vis.shape\r\n    vis2 = cv.CreateMat(h, w, cv.CV_32FC3)\r\n    vis0 = cv.fromarray(vis)\r\n\r\n  [1]: http://docs.opencv.org/2.4/modules/core/doc/old_basic_structures.html#createmat\r\n  [2]: http://www.numpy.org/","title":"creating Mat with OpenCV in python","body":"<p><strong>For OpenCV 1.x :</strong></p>\n\n<p>You can use <a href=\"http://docs.opencv.org/2.4/modules/core/doc/old_basic_structures.html#createmat\" rel=\"nofollow\">CreateMat</a> to do that :</p>\n\n<blockquote>\n  <p>Creates a matrix header and allocates the matrix data.</p>\n</blockquote>\n\n<pre><code>Python: cv.CreateMat(rows, cols, type) → mat\n    Parameters: \n        rows – Number of rows in the matrix\n        cols – Number of columns in the matrix\n        type – The type of the matrix elements in the form CV_&lt;bit depth&gt;&lt;S|U|F&gt;C&lt;number of channels&gt; , where S=signed, U=unsigned, F=float. For example, CV _ 8UC1 means the elements are 8-bit unsigned and the there is 1 channel, and CV _ 32SC2 means the elements are 32-bit signed and there are 2 channels.\n</code></pre>\n\n<p>The function call is equivalent to the following code:</p>\n\n<pre><code>CvMat* mat = cvCreateMatHeader(rows, cols, type);\ncvCreateData(mat);\n</code></pre>\n\n<p><strong>For cv2 interface :</strong></p>\n\n<p>The new cv2 interface for Python integrates <a href=\"http://www.numpy.org/\" rel=\"nofollow\">numpy</a> arrays into the OpenCV framework, which makes operations much simpler as they are represented with simple multidimensional arrays.\nhere's a starting example :</p>\n\n<pre><code>import numpy as np, cv\nvis = np.zeros((384, 836), np.float32)\nh,w = vis.shape\nvis2 = cv.CreateMat(h, w, cv.CV_32FC3)\nvis0 = cv.fromarray(vis)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":1,"creation_date":1662930928,"post_id":69032663,"comment_id":130114411,"body_markdown":"it&#39;s **rows, then columns**","body":"it&#39;s <b>rows, then columns</b>"}],"tags":[],"owner":{"account_id":7180502,"reputation":3936,"user_id":5484662,"display_name":"Ankit"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667855756,"creation_date":1630594530,"answer_id":69032663,"question_id":37182774,"body_markdown":"Even though the question was asked a long time ago, this should help anyone looking for an answer today.\r\n\r\nThis should be applicable to opencv versions &gt;= 2.X. In python, the opencv images are now represented as numpy arrays. So, a `Mat` object can simply be created as follows:\r\n\r\n```python\r\ncvImg = np.zeros((rows, columns, channels), dtype = &quot;uint8&quot;)\r\n```","title":"creating Mat with OpenCV in python","body":"<p>Even though the question was asked a long time ago, this should help anyone looking for an answer today.</p>\n<p>This should be applicable to opencv versions &gt;= 2.X. In python, the opencv images are now represented as numpy arrays. So, a <code>Mat</code> object can simply be created as follows:</p>\n<pre class=\"lang-py prettyprint-override\"><code>cvImg = np.zeros((rows, columns, channels), dtype = &quot;uint8&quot;)\n</code></pre>\n"}],"owner":{"account_id":1332346,"reputation":11339,"user_id":1275959,"accept_rate":57,"display_name":"epsilones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62851,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1662991251,"answer_count":2,"score":6,"last_activity_date":1667855756,"creation_date":1463045364,"question_id":37182774,"body_markdown":"I am used to [Java&#39;s implementation of OpenCV](https://docs.opencv.org/3.4/javadoc/org/opencv/core/Mat.html#%3Cinit%3E(int,int,int)). I want to create a `Mat` structure, fill data into it, extract a `submat` and then apply some image transform. In Java, I use:\r\n\r\n```java\r\nmy_mat = new Mat(my_rows, my_cols, CvType.CV_8U);\r\nmy_mat.put(0, 0, my_data);\r\nmy_mat.submat(0, my_other_rows, 0, my_other_cols);\r\n```\r\n\r\nBut I didn&#39;t find anything working in python&#39;s OpenCV. I found this link on the OpenCV forums: [cv2.CreateMat in python](http://answers.opencv.org/question/30037/cv2createmat-in-python/), &lt;s&gt;but the link is broken&lt;/s&gt;\r\n","title":"creating Mat with OpenCV in python","body":"<p>I am used to <a href=\"https://docs.opencv.org/3.4/javadoc/org/opencv/core/Mat.html#%3Cinit%3E(int,int,int)\" rel=\"nofollow noreferrer\">Java's implementation of OpenCV</a>. I want to create a <code>Mat</code> structure, fill data into it, extract a <code>submat</code> and then apply some image transform. In Java, I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>my_mat = new Mat(my_rows, my_cols, CvType.CV_8U);\nmy_mat.put(0, 0, my_data);\nmy_mat.submat(0, my_other_rows, 0, my_other_cols);\n</code></pre>\n<p>But I didn't find anything working in python's OpenCV. I found this link on the OpenCV forums: <a href=\"http://answers.opencv.org/question/30037/cv2createmat-in-python/\" rel=\"nofollow noreferrer\">cv2.CreateMat in python</a>, <s>but the link is broken</s></p>\n"},{"tags":["java","junit","junit5","test-coverage"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1667699991,"post_id":74332820,"comment_id":131228543,"body_markdown":"If what you&#39;re trying to do is just ensure each branch is covered then what about refactoring the valueOrDefault check in line 13 into a utility method and testing that separately ... then the line 13 will be 100% covered.  Of course if what you really want is to test what happens with the different versions of custom container in the service then you will need to have 2 different tests or configurations in the test..","body":"If what you&#39;re trying to do is just ensure each branch is covered then what about refactoring the valueOrDefault check in line 13 into a utility method and testing that separately ... then the line 13 will be 100% covered.  Of course if what you really want is to test what happens with the different versions of custom container in the service then you will need to have 2 different tests or configurations in the test.."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667700000,"post_id":74332820,"comment_id":131228544,"body_markdown":"*How* is but the form following the function of *why*. So *why* do you want 100% of coverage?","body":"<i>How</i> is but the form following the function of <i>why</i>. So <i>why</i> do you want 100% of coverage?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667700220,"post_id":74332820,"comment_id":131228570,"body_markdown":"Create another component for accessing environment variables, which you can mock.","body":"Create another component for accessing environment variables, which you can mock."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700350,"post_id":74332820,"comment_id":131228582,"body_markdown":"@tgdavies Could you show in an answer how can it be achieved? But I wonder if I do that, this new component will not be 100% covered? Because this System.getenv() will now go into it","body":"@tgdavies Could you show in an answer how can it be achieved? But I wonder if I do that, this new component will not be 100% covered? Because this System.getenv() will now go into it"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700436,"post_id":74332820,"comment_id":131228593,"body_markdown":"@Turing85 I need it because I need a % of coverage in order to be able to submit merge request and also why not have coverage of something","body":"@Turing85 I need it because I need a % of coverage in order to be able to submit merge request and also why not have coverage of something"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1667700548,"post_id":74332820,"comment_id":131228604,"body_markdown":"&quot;Coverage of something&quot; doesn&#39;t sound like a good metric for code quality. Coverage of relevant business logic sounds much more sensible.","body":"&quot;Coverage of something&quot; doesn&#39;t sound like a good metric for code quality. Coverage of relevant business logic sounds much more sensible."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667700807,"post_id":74332820,"comment_id":131228625,"body_markdown":"@MrR I am sorry I did not really understand the suggestion, if I execute the tests setting the environment variable then it will not be null, but now the branch of it being null will not be covered :/","body":"@MrR I am sorry I did not really understand the suggestion, if I execute the tests setting the environment variable then it will not be null, but now the branch of it being null will not be covered :/"},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1667701095,"post_id":74332820,"comment_id":131228644,"body_markdown":"@BugsOverflow - you can use the idea suggested by tgdavies answer, or if it doesn&#39;t actually matter what the specific value is - then move the valueOrDefault selection code into a new static method you can tests to 100% (both ways - branch coverage), and then you get 100% method coverage in the constructor because there is no longer a branch in the constructor.","body":"@BugsOverflow - you can use the idea suggested by tgdavies answer, or if it doesn&#39;t actually matter what the specific value is - then move the valueOrDefault selection code into a new static method you can tests to 100% (both ways - branch coverage), and then you get 100% method coverage in the constructor because there is no longer a branch in the constructor."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667718026,"post_id":74332820,"comment_id":131230267,"body_markdown":"`when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);` does nothing, because `serviceToTest` is not a mock. You want to mock that method on `mockCustomContainer`. You don&#39;t need to use `ReflectionTestUtils` -- get `customContainerFactoryMock` to return `mockCustomContainer`.","body":"<code>when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);</code> does nothing, because <code>serviceToTest</code> is not a mock. You want to mock that method on <code>mockCustomContainer</code>. You don&#39;t need to use <code>ReflectionTestUtils</code> -- get <code>customContainerFactoryMock</code> to return <code>mockCustomContainer</code>."}],"answers":[{"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667701002,"post_id":74332871,"comment_id":131228635,"body_markdown":"I will try this, appreciate it, but I have a question, this will make the EnvironmentAccesor implementation miss the branch also? Because I will move the System.getenv() to it, and now I need to coverage this implementation also","body":"I will try this, appreciate it, but I have a question, this will make the EnvironmentAccesor implementation miss the branch also? Because I will move the System.getenv() to it, and now I need to coverage this implementation also"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667701128,"post_id":74332871,"comment_id":131228647,"body_markdown":"There&#39;s no branch in `EnvironmentAccessorImpl.getEnv`.","body":"There&#39;s no branch in <code>EnvironmentAccessorImpl.getEnv</code>."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667713669,"post_id":74332871,"comment_id":131229882,"body_markdown":"Hey, would appreciate if you could add how would the Test class look like, because I manage to make it work this way that you suggested, but im not sure if it was suppose to be made like I did it... I will share in a few moments in the EDIT of the question (with also how the Impl of the interfaces was made)","body":"Hey, would appreciate if you could add how would the Test class look like, because I manage to make it work this way that you suggested, but im not sure if it was suppose to be made like I did it... I will share in a few moments in the EDIT of the question (with also how the Impl of the interfaces was made)"},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1667714129,"post_id":74332871,"comment_id":131229919,"body_markdown":"Review my question edit now pls","body":"Review my question edit now pls"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667700798,"creation_date":1667700798,"answer_id":74332871,"question_id":74332820,"body_markdown":"Refactor your code to make it testable, by moving object creation and static method calls to components, which you can mock in your tests:\r\n```java\r\ninterface ContainerFactory {\r\n    CustomContainer create(Object configuration, String name);\r\n}\r\n\r\ninterface EnvironmentAccessor {\r\n    String getEnv(String name);\r\n}\r\n\r\n@Service\r\npublic class ServiceToTest {\r\n\r\n    private final CustomContainer customContainer;\r\n\r\n    public ServiceToTest(ContainerFactory containerFactory, EnvironmentAccessor environmentAccessor) {\r\n        Object configuration = new Object();\r\n        String envWord = environmentAccessor.getEnv(&quot;envword&quot;);\r\n        this.customContainer = containerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    }\r\n\r\n    public String getContainerName() {\r\n        return customContainer.getContainerName();\r\n    }\r\n}\r\n```","title":"How to fully test coverage a constructor that has a System.getenv(&quot;name&quot;) operation inside","body":"<p>Refactor your code to make it testable, by moving object creation and static method calls to components, which you can mock in your tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ContainerFactory {\n    CustomContainer create(Object configuration, String name);\n}\n\ninterface EnvironmentAccessor {\n    String getEnv(String name);\n}\n\n@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n\n    public ServiceToTest(ContainerFactory containerFactory, EnvironmentAccessor environmentAccessor) {\n        Object configuration = new Object();\n        String envWord = environmentAccessor.getEnv(&quot;envword&quot;);\n        this.customContainer = containerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74332871,"answer_count":1,"score":2,"last_activity_date":1667855744,"creation_date":1667699742,"question_id":74332820,"body_markdown":"I am using JUNIT5, have been trying to fully coverage a piece of code that involves System.getenv(&quot;&quot;); I writed a couple classes to replicate what I am experiencing right now and so you can use them to understand me also (**minimal reproducible example**):\r\n\r\nFirst we have the service I need to get with full coverage (**ServiceToTest.class**) (it has a CustomContainer object which contains methods that it needs):\r\n\r\n    @Service\r\n    public class ServiceToTest {\r\n    \r\n    \tprivate final CustomContainer customContainer;\r\n    \r\n    \tpublic ServiceToTest() {\r\n    \t\tObject configuration = new Object();\r\n    \t\tString envWord = System.getenv(&quot;envword&quot;);\r\n    \t\tthis.customContainer = new CustomContainer(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String getContainerName() {\r\n    \t\treturn customContainer.getContainerName();\r\n    \t}\r\n    \r\n    }\r\n    \r\n**CustomContainer.class:**\r\n\r\n    public class CustomContainer {\r\n    \t@Getter\r\n    \tString containerName;\r\n    \tObject configuration;\r\n    \r\n    \tpublic CustomContainer(Object configuration, String containerName) {\r\n    \t\tthis.configuration = configuration;\r\n    \t\tthis.containerName = containerName;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI have tried using ReflectionTestUtils to set the envWord variable without success... I tried this https://stackoverflow.com/a/496849/12085680, also tried using @SystemStubsExtension https://stackoverflow.com/a/64892484/12085680, and finally I also tried using Spy like in this answer https://stackoverflow.com/a/31029944/12085680\r\n\r\nBut the problem is that this variable is inside the constructor so this only executes once and I think that it happens before any of this configs I tried before can apply, here is my **test class**:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \t// I have to mock this becase in real project it has methods which I need mocked behavour\r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \t// The serviceToTest class in which I use ReflectionTestUtils to use the mock above\r\n    \t// Here is where the constructor gets called and it happens BEFORE (debuged) the setup method\r\n    \t// which is anotated with @BeforeAll\r\n    \tprivate static ServiceToTest serviceToTest = new ServiceToTest();\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\t// set the field customContainer at serviceToTest class to mockCustomContainer\r\n    \t\tReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    }\r\n\r\nI need to write a test in which serviceToTest.getContainerName is not null but the real purpose of this is to have coverage of this sentence `envWord == null ? &quot;default&quot; : envWord` so it would be a test that is capable of executing the constructor and mocking System.getenv() so that it returns not null...\r\n\r\nRight now the coverage looks like this and I can not find a way to **make it 100%** Any ideas??\r\n\r\n[![coverage][1]][1]\r\n\r\n\r\n**EDIT:**\r\nSo after following tgdavies suggestion, the code can be 100% covered, so this is the way:\r\n\r\n**Interface CustomContainerFactory:**\r\n\r\n    public interface CustomContainerFactory {\r\n    \tCustomContainer create(Object configuration, String name);\r\n    }\r\n\r\n**CustomContainerFactoryImpl:**\r\n\r\n    @Service\r\n    public class CustomContainerFactoryImpl implements CustomContainerFactory {\r\n    \r\n    \t@Override\r\n    \tpublic CustomContainer create(Object configuration, String name) {\r\n    \t\treturn new CustomContainer(configuration, name);\r\n    \t}\r\n    \r\n    }\r\n\r\n**EnvironmentAccessor Interface:**\r\n\r\n    public interface EnvironmentAccessor {\r\n    \tString getEnv(String name);\r\n    }\r\n\r\n**EnvironmentAccessorImpl:**\r\n\r\n    @Service\r\n    public class EnvironmentAccessorImpl implements EnvironmentAccessor {\r\n    \r\n    \t@Override\r\n    \tpublic String getEnv(String name) {\r\n    \t\treturn System.getenv(name);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Class ServiceToTest after refactoring:**\r\n\r\n    @Service\r\n    public class ServiceToTest {\r\n    \r\n    \tprivate final CustomContainer customContainer;\r\n    \t\r\n    \tpublic ServiceToTest(EnvironmentAccessor environmentAccessor, CustomContainerFactory customContainerFactory) {\r\n    \t\tObject configuration = new Object();\r\n    \t\tString envWord = environmentAccessor.getEnv(&quot;anything&quot;);\r\n    \t\tthis.customContainer = customContainerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\r\n    \r\n    \t}\r\n    \r\n    \tpublic String getContainerName() {\r\n    \t\treturn customContainer.getContainerName();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Finally the test case after refactoring (here is were I think it can be improved maybe?):**\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \tprivate static CustomContainerFactory customContainerFactoryMock = mock(CustomContainerFactoryImpl.class);\r\n    \tprivate static EnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\r\n    \r\n    \tprivate static ServiceToTest serviceToTest;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\r\n    \t\tserviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\r\n    \t\tReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\r\n    \t\twhen(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNotNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid coverNullReturnFromGetEnv() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\r\n    \t\tassertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\r\n    \t}\r\n    \r\n    }\r\n\r\nNow the **coverage** is 100%:\r\n\r\n[![coverage100][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rXUni.png\r\n  [2]: https://i.stack.imgur.com/rRlJk.png\r\n\r\n**EDIT 2:**\r\n\r\nWe can improve the test class and get the same 100% coverage like so:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestService {\r\n    \r\n    \tprivate static CustomContainer mockCustomContainer = mock(CustomContainer.class);\r\n    \tprivate static IContainerFactory customContainerFactoryMock = mock(ContainerFactoryImpl.class);\r\n    \tprivate static IEnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\r\n    \r\n    \tprivate static ServiceToTest serviceToTest;\r\n    \r\n    \t@BeforeAll\r\n    \tstatic void setup() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\r\n    \t\twhen(customContainerFactoryMock.create(any(), anyString())).thenReturn(mockCustomContainer);\r\n    \t\tserviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetContainerNameNotNull() {\r\n    \t\tassertNotNull(serviceToTest.getContainerName());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid coverNullReturnFromGetEnv() {\r\n    \t\twhen(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\r\n    \t\tassertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\r\n    \t}\r\n    \r\n    }","title":"How to fully test coverage a constructor that has a System.getenv(&quot;name&quot;) operation inside","body":"<p>I am using JUNIT5, have been trying to fully coverage a piece of code that involves System.getenv(&quot;&quot;); I writed a couple classes to replicate what I am experiencing right now and so you can use them to understand me also (<strong>minimal reproducible example</strong>):</p>\n<p>First we have the service I need to get with full coverage (<strong>ServiceToTest.class</strong>) (it has a CustomContainer object which contains methods that it needs):</p>\n<pre><code>@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n\n    public ServiceToTest() {\n        Object configuration = new Object();\n        String envWord = System.getenv(&quot;envword&quot;);\n        this.customContainer = new CustomContainer(configuration, envWord == null ? &quot;default&quot; : envWord);\n\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n\n}\n</code></pre>\n<p><strong>CustomContainer.class:</strong></p>\n<pre><code>public class CustomContainer {\n    @Getter\n    String containerName;\n    Object configuration;\n\n    public CustomContainer(Object configuration, String containerName) {\n        this.configuration = configuration;\n        this.containerName = containerName;\n    }\n\n}\n</code></pre>\n<p>I have tried using ReflectionTestUtils to set the envWord variable without success... I tried this <a href=\"https://stackoverflow.com/a/496849/12085680\">https://stackoverflow.com/a/496849/12085680</a>, also tried using @SystemStubsExtension <a href=\"https://stackoverflow.com/a/64892484/12085680\">https://stackoverflow.com/a/64892484/12085680</a>, and finally I also tried using Spy like in this answer <a href=\"https://stackoverflow.com/a/31029944/12085680\">https://stackoverflow.com/a/31029944/12085680</a></p>\n<p>But the problem is that this variable is inside the constructor so this only executes once and I think that it happens before any of this configs I tried before can apply, here is my <strong>test class</strong>:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n    // I have to mock this becase in real project it has methods which I need mocked behavour\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    // The serviceToTest class in which I use ReflectionTestUtils to use the mock above\n    // Here is where the constructor gets called and it happens BEFORE (debuged) the setup method\n    // which is anotated with @BeforeAll\n    private static ServiceToTest serviceToTest = new ServiceToTest();\n\n    @BeforeAll\n    static void setup() {\n        // set the field customContainer at serviceToTest class to mockCustomContainer\n        ReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNull(serviceToTest.getContainerName());\n    }\n\n}\n</code></pre>\n<p>I need to write a test in which serviceToTest.getContainerName is not null but the real purpose of this is to have coverage of this sentence <code>envWord == null ? &quot;default&quot; : envWord</code> so it would be a test that is capable of executing the constructor and mocking System.getenv() so that it returns not null...</p>\n<p>Right now the coverage looks like this and I can not find a way to <strong>make it 100%</strong> Any ideas??</p>\n<p><a href=\"https://i.stack.imgur.com/rXUni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXUni.png\" alt=\"coverage\" /></a></p>\n<p><strong>EDIT:</strong>\nSo after following tgdavies suggestion, the code can be 100% covered, so this is the way:</p>\n<p><strong>Interface CustomContainerFactory:</strong></p>\n<pre><code>public interface CustomContainerFactory {\n    CustomContainer create(Object configuration, String name);\n}\n</code></pre>\n<p><strong>CustomContainerFactoryImpl:</strong></p>\n<pre><code>@Service\npublic class CustomContainerFactoryImpl implements CustomContainerFactory {\n\n    @Override\n    public CustomContainer create(Object configuration, String name) {\n        return new CustomContainer(configuration, name);\n    }\n\n}\n</code></pre>\n<p><strong>EnvironmentAccessor Interface:</strong></p>\n<pre><code>public interface EnvironmentAccessor {\n    String getEnv(String name);\n}\n</code></pre>\n<p><strong>EnvironmentAccessorImpl:</strong></p>\n<pre><code>@Service\npublic class EnvironmentAccessorImpl implements EnvironmentAccessor {\n\n    @Override\n    public String getEnv(String name) {\n        return System.getenv(name);\n    }\n\n}\n</code></pre>\n<p><strong>Class ServiceToTest after refactoring:</strong></p>\n<pre><code>@Service\npublic class ServiceToTest {\n\n    private final CustomContainer customContainer;\n    \n    public ServiceToTest(EnvironmentAccessor environmentAccessor, CustomContainerFactory customContainerFactory) {\n        Object configuration = new Object();\n        String envWord = environmentAccessor.getEnv(&quot;anything&quot;);\n        this.customContainer = customContainerFactory.create(configuration, envWord == null ? &quot;default&quot; : envWord);\n\n    }\n\n    public String getContainerName() {\n        return customContainer.getContainerName();\n    }\n\n}\n</code></pre>\n<p><strong>Finally the test case after refactoring (here is were I think it can be improved maybe?):</strong></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    private static CustomContainerFactory customContainerFactoryMock = mock(CustomContainerFactoryImpl.class);\n    private static EnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\n\n    private static ServiceToTest serviceToTest;\n\n    @BeforeAll\n    static void setup() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\n        serviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\n        ReflectionTestUtils.setField(serviceToTest, &quot;customContainer&quot;, mockCustomContainer);\n        when(serviceToTest.getContainerName()).thenReturn(&quot;hi&quot;);\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNotNull(serviceToTest.getContainerName());\n    }\n\n    @Test\n    void coverNullReturnFromGetEnv() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\n        assertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\n    }\n\n}\n</code></pre>\n<p>Now the <strong>coverage</strong> is 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/rRlJk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rRlJk.png\" alt=\"coverage100\" /></a></p>\n<p><strong>EDIT 2:</strong></p>\n<p>We can improve the test class and get the same 100% coverage like so:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestService {\n\n    private static CustomContainer mockCustomContainer = mock(CustomContainer.class);\n    private static IContainerFactory customContainerFactoryMock = mock(ContainerFactoryImpl.class);\n    private static IEnvironmentAccessor environmentAccessorMock = mock(EnvironmentAccessorImpl.class);\n\n    private static ServiceToTest serviceToTest;\n\n    @BeforeAll\n    static void setup() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(&quot;hi&quot;);\n        when(customContainerFactoryMock.create(any(), anyString())).thenReturn(mockCustomContainer);\n        serviceToTest = new ServiceToTest(environmentAccessorMock, customContainerFactoryMock);\n\n    }\n\n    @Test\n    void testGetContainerNameNotNull() {\n        assertNotNull(serviceToTest.getContainerName());\n    }\n\n    @Test\n    void coverNullReturnFromGetEnv() {\n        when(environmentAccessorMock.getEnv(anyString())).thenReturn(null);\n        assertAll(() -&gt; new ServiceToTest(environmentAccessorMock, customContainerFactoryMock));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13802031,"reputation":1105,"user_id":9961828,"display_name":"pratik vekariya"},"score":1,"creation_date":1626933032,"post_id":68479520,"comment_id":121024325,"body_markdown":"add line &quot;wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData().getJSONObject(i)));&quot; in your if condition inside for loop and remove before loop. So you will get only that data which match condition.","body":"add line &quot;wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData().getJSONObje&zwnj;&#8203;ct(i)));&quot; in your if condition inside for loop and remove before loop. So you will get only that data which match condition."}],"answers":[{"tags":[],"owner":{"account_id":19680463,"reputation":171,"user_id":14407699,"display_name":"Arnau Mas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626932495,"creation_date":1626932495,"answer_id":68479714,"question_id":68479520,"body_markdown":"You can use [org.json.simple][1] library. You would do it like this:\r\n\r\n    import org.json.simple.*;\r\n\r\n    // I imagine response.body() is a String, if not, convert it to String\r\n    JSONObject jsonObject = (JSONObject) JSONValue.parse(response.body());\r\n    JSONArray data = (JSONArray) jsonObject.get(&quot;data&quot;);\r\n \r\n    for (int i = 0; i &lt; data.size(); i++) {\r\n        JSONObject jsonObject2 = (JSONObject)data.get(i);\r\n        String id = (String) jsonObject2.get(&quot;id&quot;);\r\n        \r\n        if((id != null) &amp;&amp; (id.equals(&quot;3&quot;))){\r\n            String nama_ = (String) jsonObject3.get(&quot;nama&quot;);\r\n            //...\r\n        }\r\n       \r\n    }\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm","title":"How to get specific value from nested JSON object?","body":"<p>You can use <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm\" rel=\"nofollow noreferrer\">org.json.simple</a> library. You would do it like this:</p>\n<pre><code>import org.json.simple.*;\n\n// I imagine response.body() is a String, if not, convert it to String\nJSONObject jsonObject = (JSONObject) JSONValue.parse(response.body());\nJSONArray data = (JSONArray) jsonObject.get(&quot;data&quot;);\n\nfor (int i = 0; i &lt; data.size(); i++) {\n    JSONObject jsonObject2 = (JSONObject)data.get(i);\n    String id = (String) jsonObject2.get(&quot;id&quot;);\n    \n    if((id != null) &amp;&amp; (id.equals(&quot;3&quot;))){\n        String nama_ = (String) jsonObject3.get(&quot;nama&quot;);\n        //...\n    }\n   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626936146,"creation_date":1626935782,"answer_id":68480198,"question_id":68479520,"body_markdown":"From the following class: `JSONResponse` \r\n\r\nNot sure if you were using a library, or has a POJOs called `JSONResponse`\r\n\r\nAlso, you&#39;re calling the `JSONResponse#getData`, it means there&#39;s a getter called `getData`\r\n\r\npresumably, your project already has a POJO for the attributes inside `&quot;data&quot;: [ { ... }, { ... } ]` objects\r\n\r\nE.g:\r\n\r\n```java\r\npublic class JSONResponse {\r\n   private List&lt;Data&gt; data;\r\n   private String success;\r\n\r\n   // getter &amp; setter omitted\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Data {\r\n\r\n   private Integer id;\r\n   private String nama;\r\n   private Integer harga;\r\n   private String deskripsi;\r\n   private Integer gambarid;\r\n   private Boolean paketan;\r\n   private String fasilitas;\r\n   private Integer totalTiket;\r\n   private Integer minTiket;\r\n   private String createdAt;\r\n   private String updatedAt;\r\n   private Object deletedAt;\r\n   private Integer gambarId;\r\n   private Gambar gambar;\r\n\r\n   // getter and setter omitted\r\n\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class Gambar {\r\n\r\n   private Integer id;\r\n   private String url;\r\n   private Object isGallery;\r\n   private String createdAt;\r\n   private String updatedAt;\r\n   private Object deletedAt;\r\n\r\n   // getter and setter omitted\r\n\r\n}\r\n```\r\n\r\n&gt; Generate POJOs from JSON: https://www.jsonschema2pojo.org/\r\n&gt;\r\n&gt; Or you can use plugins: https://plugins.jetbrains.com/plugin/8533-json2pojo\r\n\r\n\r\nHere&#39;s the alternative approach might works for your usecases:\r\n\r\n```java\r\n@override\r\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\r\n{\r\n    JSONResponse jsonResponse = response.body();\r\n    wisataList = new ArrayList&lt;Data&gt;();\r\n\r\n    Intent intent = getIntent();\r\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\r\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\r\n    {\r\n        Data wisata = jsonResponse.getData().get(i);\r\n        if (id == wisata.getId())\r\n        {\r\n            wisatList.add(wisata);\r\n            // break; // optional if you want to stop iterating, if the wisata already found\r\n        }\r\n    }\r\n    PutDataIntoRecyclerView(wisataList);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4920304/3763032","title":"How to get specific value from nested JSON object?","body":"<p>From the following class: <code>JSONResponse</code></p>\n<p>Not sure if you were using a library, or has a POJOs called <code>JSONResponse</code></p>\n<p>Also, you're calling the <code>JSONResponse#getData</code>, it means there's a getter called <code>getData</code></p>\n<p>presumably, your project already has a POJO for the attributes inside <code>&quot;data&quot;: [ { ... }, { ... } ]</code> objects</p>\n<p>E.g:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JSONResponse {\n   private List&lt;Data&gt; data;\n   private String success;\n\n   // getter &amp; setter omitted\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Data {\n\n   private Integer id;\n   private String nama;\n   private Integer harga;\n   private String deskripsi;\n   private Integer gambarid;\n   private Boolean paketan;\n   private String fasilitas;\n   private Integer totalTiket;\n   private Integer minTiket;\n   private String createdAt;\n   private String updatedAt;\n   private Object deletedAt;\n   private Integer gambarId;\n   private Gambar gambar;\n\n   // getter and setter omitted\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Gambar {\n\n   private Integer id;\n   private String url;\n   private Object isGallery;\n   private String createdAt;\n   private String updatedAt;\n   private Object deletedAt;\n\n   // getter and setter omitted\n\n}\n</code></pre>\n<blockquote>\n<p>Generate POJOs from JSON: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a></p>\n<p>Or you can use plugins: <a href=\"https://plugins.jetbrains.com/plugin/8533-json2pojo\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/8533-json2pojo</a></p>\n</blockquote>\n<p>Here's the alternative approach might works for your usecases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@override\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\n{\n    JSONResponse jsonResponse = response.body();\n    wisataList = new ArrayList&lt;Data&gt;();\n\n    Intent intent = getIntent();\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\n    {\n        Data wisata = jsonResponse.getData().get(i);\n        if (id == wisata.getId())\n        {\n            wisatList.add(wisata);\n            // break; // optional if you want to stop iterating, if the wisata already found\n        }\n    }\n    PutDataIntoRecyclerView(wisataList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":522861,"reputation":1708,"user_id":915636,"accept_rate":83,"display_name":"Sagive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667855518,"creation_date":1667855518,"answer_id":74352997,"question_id":68479520,"body_markdown":"But.. where are you assigning the json data into?  \r\nto simplify it - a small example - hope this helps\r\n\r\n**dataset:**\r\n\r\n    let jsonData = {\r\n        &quot;success&quot;: true,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;test&quot;,\r\n            },\r\n            {\r\n                &quot;id&quot;: 2,\r\n                &quot;name&quot;: &quot;test2&quot;,\r\n            },\r\n            {\r\n                &quot;id&quot;: 3,\r\n                &quot;name&quot;: &quot;test3&quot;,\r\n            }\r\n        ]\r\n    };\r\n\r\n\r\n**Get id==&#39;2&#39;:**\r\n\r\n    let response = jsonData.data.find(ele =&gt; ele.id == &#39;2&#39;);\r\n\r\n**Response now has value of:**\r\n\r\n    { &quot;id&quot;: 2, &quot;name&quot;: &quot;test2&quot; }","title":"How to get specific value from nested JSON object?","body":"<p>But.. where are you assigning the json data into?<br />\nto simplify it - a small example - hope this helps</p>\n<p><strong>dataset:</strong></p>\n<pre><code>let jsonData = {\n    &quot;success&quot;: true,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;test&quot;,\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;test2&quot;,\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;test3&quot;,\n        }\n    ]\n};\n</code></pre>\n<p><strong>Get id=='2':</strong></p>\n<pre><code>let response = jsonData.data.find(ele =&gt; ele.id == '2');\n</code></pre>\n<p><strong>Response now has value of:</strong></p>\n<pre><code>{ &quot;id&quot;: 2, &quot;name&quot;: &quot;test2&quot; }\n</code></pre>\n"}],"owner":{"account_id":22260634,"reputation":25,"user_id":16492105,"display_name":"Untitled99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68480198,"answer_count":3,"score":0,"last_activity_date":1667855518,"creation_date":1626930946,"question_id":68479520,"body_markdown":"I want to get a specific value from my nested JSON object like this:\r\n\r\n    {\r\n        &quot;success&quot;: true,\r\n        &quot;data&quot;: [\r\n            {\r\n             ...\r\n            },\r\n            {\r\n                &quot;id&quot;: 5,\r\n                &quot;nama&quot;: &quot;Ngagoes Ulin Kalembur&quot;,\r\n                &quot;harga&quot;: 250000,\r\n                &quot;deskripsi&quot;: &quot;Menikmati serunya berwisata keliling desa-desa di sekitaran desa alamendah menggunakan sepeda, menyusuri pemukiman, kebun-kebun dan pemandangan anda akan menemukan hal menarik selama perjalanan di desa alamendah, Pengemasan sayuran, pengrajin sovenir dll.&quot;,\r\n                &quot;gambarid&quot;: 11,\r\n                &quot;paketan&quot;: true,\r\n                &quot;fasilitas&quot;: &quot;Sepeda,Angkutan Umum,Wisata Perternakan,Wisata Kuliner,Wisata Pertanian,Snack,Pemandu Lokal,Air Mineral&quot;,\r\n                &quot;totalTiket&quot;: 100,\r\n                &quot;minTiket&quot;: 50,\r\n                &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\r\n                &quot;updatedAt&quot;: &quot;2021-04-28T13:07:05.000Z&quot;,\r\n                &quot;deletedAt&quot;: null,\r\n                &quot;gambarId&quot;: 11,\r\n                &quot;Gambar&quot;: {\r\n                    &quot;id&quot;: 11,\r\n                    &quot;url&quot;: &quot;https://desaalamendah.id/images/upload/ImageWisata-1615114030139.png&quot;,\r\n                    &quot;isGallery&quot;: null,\r\n                    &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\r\n                    &quot;updatedAt&quot;: &quot;2021-03-07T10:47:10.000Z&quot;,\r\n                    &quot;deletedAt&quot;: null\r\n                }\r\n            },\r\n\r\nI already try `for()` and `if()` condition like this:\r\n\r\n    @override\r\n    public void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\r\n    {\r\n        JSONResponse jsonResponse = response.body();\r\n        wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData()));\r\n    \r\n        Intent intent = getIntent();\r\n        int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\r\n        for (int i = 0; i&lt;jsonResponse.getData().length; i++)\r\n        {\r\n           if (id == i)\r\n           {\r\n             PutDataIntoRecyclerView(wisataList);\r\n           }\r\n        }\r\n    }\r\n\r\nWhen I run it, it keeps returning all of the values. How to get a specific value, for example `id = 3`, from my nested JSON object?","title":"How to get specific value from nested JSON object?","body":"<p>I want to get a specific value from my nested JSON object like this:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;data&quot;: [\n        {\n         ...\n        },\n        {\n            &quot;id&quot;: 5,\n            &quot;nama&quot;: &quot;Ngagoes Ulin Kalembur&quot;,\n            &quot;harga&quot;: 250000,\n            &quot;deskripsi&quot;: &quot;Menikmati serunya berwisata keliling desa-desa di sekitaran desa alamendah menggunakan sepeda, menyusuri pemukiman, kebun-kebun dan pemandangan anda akan menemukan hal menarik selama perjalanan di desa alamendah, Pengemasan sayuran, pengrajin sovenir dll.&quot;,\n            &quot;gambarid&quot;: 11,\n            &quot;paketan&quot;: true,\n            &quot;fasilitas&quot;: &quot;Sepeda,Angkutan Umum,Wisata Perternakan,Wisata Kuliner,Wisata Pertanian,Snack,Pemandu Lokal,Air Mineral&quot;,\n            &quot;totalTiket&quot;: 100,\n            &quot;minTiket&quot;: 50,\n            &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\n            &quot;updatedAt&quot;: &quot;2021-04-28T13:07:05.000Z&quot;,\n            &quot;deletedAt&quot;: null,\n            &quot;gambarId&quot;: 11,\n            &quot;Gambar&quot;: {\n                &quot;id&quot;: 11,\n                &quot;url&quot;: &quot;https://desaalamendah.id/images/upload/ImageWisata-1615114030139.png&quot;,\n                &quot;isGallery&quot;: null,\n                &quot;createdAt&quot;: &quot;2021-03-07T10:44:10.000Z&quot;,\n                &quot;updatedAt&quot;: &quot;2021-03-07T10:47:10.000Z&quot;,\n                &quot;deletedAt&quot;: null\n            }\n        },\n</code></pre>\n<p>I already try <code>for()</code> and <code>if()</code> condition like this:</p>\n<pre><code>@override\npublic void onResponse(Call&lt;JSONResponse&gt; call, Response&lt;JSONResponse&gt; response)\n{\n    JSONResponse jsonResponse = response.body();\n    wisataList = new ArrayList&lt;&gt;(Arrays.asList(jsonResponse.getData()));\n\n    Intent intent = getIntent();\n    int id = intent.getIntExtra(HomeActivity.EXTRA_NUMBER, 0);\n    for (int i = 0; i&lt;jsonResponse.getData().length; i++)\n    {\n       if (id == i)\n       {\n         PutDataIntoRecyclerView(wisataList);\n       }\n    }\n}\n</code></pre>\n<p>When I run it, it keeps returning all of the values. How to get a specific value, for example <code>id = 3</code>, from my nested JSON object?</p>\n"},{"tags":["java","findbugs","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667855480,"creation_date":1667855480,"answer_id":74352991,"question_id":74323979,"body_markdown":"In ant I set reportLevel=&quot;low&quot;, seems that this was getting filtered out","title":"SpotBugs SE_NO_SERIALVERSIONID not triggering","body":"<p>In ant I set reportLevel=&quot;low&quot;, seems that this was getting filtered out</p>\n"}],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667855480,"creation_date":1667604996,"question_id":74323979,"body_markdown":"I am trying to add SpotBugs to my project specifically for SE_NO_SERIALVERSIONID and after running with effort=max I don&#39;t see a single class detected, but we know 10 examples we testing to see if they would get detected... all classes have this pattern\r\n\r\n    public final class SessionInfo implements Serializable\r\n    {\r\n    ...\r\n    }\r\n\r\nso we know clearly that the check should have happened but didn&#39;t.\r\n\r\nIs there a way to see why or to explicitly enable this check?\r\n\r\nEDIT:\r\n\r\nI am trying to debug why this isn&#39;t triggering and see it should looking at the spotbugs source code https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413\r\n\r\nWhen I turn on debug logging I see\r\n\r\n \r\n\r\n    [spotbugs] Directly implements Serializable: org/apache/cassandra/streaming/SessionInfo\r\n    ...\r\n     [spotbugs] org.apache.cassandra.streaming.SessionInfo\r\n     [spotbugs]   hasPublicVoidConstructor: false\r\n     [spotbugs]   superClassHasVoidConstructor: true\r\n     [spotbugs]   isExternalizable: false\r\n     [spotbugs]   isSerializable: true\r\n     [spotbugs]   isAbstract: false\r\n     [spotbugs]   superClassImplementsSerializable: false\r\n     [spotbugs]   isGUIClass: false\r\n     [spotbugs]   isEjbImplClass: false\r\n     [spotbugs]   isJSPClass: false\r\n\r\nNot every variable is logged, but knowing the code being inspected it really should trigger...","title":"SpotBugs SE_NO_SERIALVERSIONID not triggering","body":"<p>I am trying to add SpotBugs to my project specifically for SE_NO_SERIALVERSIONID and after running with effort=max I don't see a single class detected, but we know 10 examples we testing to see if they would get detected... all classes have this pattern</p>\n<pre><code>public final class SessionInfo implements Serializable\n{\n...\n}\n</code></pre>\n<p>so we know clearly that the check should have happened but didn't.</p>\n<p>Is there a way to see why or to explicitly enable this check?</p>\n<p>EDIT:</p>\n<p>I am trying to debug why this isn't triggering and see it should looking at the spotbugs source code <a href=\"https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413\" rel=\"nofollow noreferrer\">https://github.com/spotbugs/spotbugs/blob/master/spotbugs/src/main/java/edu/umd/cs/findbugs/detect/SerializableIdiom.java#L410-L413</a></p>\n<p>When I turn on debug logging I see</p>\n<pre><code>[spotbugs] Directly implements Serializable: org/apache/cassandra/streaming/SessionInfo\n...\n [spotbugs] org.apache.cassandra.streaming.SessionInfo\n [spotbugs]   hasPublicVoidConstructor: false\n [spotbugs]   superClassHasVoidConstructor: true\n [spotbugs]   isExternalizable: false\n [spotbugs]   isSerializable: true\n [spotbugs]   isAbstract: false\n [spotbugs]   superClassImplementsSerializable: false\n [spotbugs]   isGUIClass: false\n [spotbugs]   isEjbImplClass: false\n [spotbugs]   isJSPClass: false\n</code></pre>\n<p>Not every variable is logged, but knowing the code being inspected it really should trigger...</p>\n"},{"tags":["java","jackson","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1661439231,"creation_date":1545320355,"answer_id":53871740,"question_id":53871675,"body_markdown":"That&#39;s good enough to use [JsonNode.equals][1]:\r\n\r\n&gt;Equality for node objects is defined as full (deep) value equality. This means that it is possible to compare complete JSON trees for equality by comparing equality of root nodes.\r\n\r\nMaybe also add a null check as `test != null`\r\n\r\n[1]:https://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)","title":"How to compare two JsonNodes with Jackson?","body":"<p>That's good enough to use <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">JsonNode.equals</a>:</p>\n<blockquote>\n<p>Equality for node objects is defined as full (deep) value equality. This means that it is possible to compare complete JSON trees for equality by comparing equality of root nodes.</p>\n</blockquote>\n<p>Maybe also add a null check as <code>test != null</code></p>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545320370,"creation_date":1545320370,"answer_id":53871744,"question_id":53871675,"body_markdown":"You current code looks ok, the `JsonNode` class provides [`JsonNode.equals(Object)`][1] method for checking:\r\n\r\n&gt; Equality for node objects is defined as full (deep) value equality.\r\n\r\nSince version 2.6 there is also overloaded version which uses a custom comparator:\r\n\r\n\r\n    public boolean equals(Comparator&lt;JsonNode&gt; comparator, JsonNode other){\r\n        return comparator.compare(this, other) == 0;\r\n    }\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)","title":"How to compare two JsonNodes with Jackson?","body":"<p>You current code looks ok, the <code>JsonNode</code> class provides <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/JsonNode.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>JsonNode.equals(Object)</code></a> method for checking:</p>\n\n<blockquote>\n  <p>Equality for node objects is defined as full (deep) value equality.</p>\n</blockquote>\n\n<p>Since version 2.6 there is also overloaded version which uses a custom comparator:</p>\n\n<pre><code>public boolean equals(Comparator&lt;JsonNode&gt; comparator, JsonNode other){\n    return comparator.compare(this, other) == 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667854836,"creation_date":1667854836,"answer_id":74352869,"question_id":53871675,"body_markdown":"Yet another solution (especially suitable for unit tests because it is customizable) is to use a custom comparator that ignores the order of child nodes. Comparing JSONs is not as trivial a task as it sounds; there are various caveats, and you will likely have to make customizations according to your case and serialization approach.\r\n\r\nHere is a sample that works with Jackson and AssertJ (but it is easy to re-write it for other frameworks).\r\n\r\n      assertThat(json1)\r\n          .usingComparator(new ComparatorWithoutOrder(true))\r\n          .isEqualTo(json2);\r\n\r\n\r\nFirst of all, you should set up `ObjectMapper` to serialize dates in some predictable way, for example:\r\n\r\n      mapper = new ObjectMapper();\r\n      mapper.registerModule(new JavaTimeModule());\r\n      mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \r\nOtherwise, you will end up serializing some `Instant` fields as `TextNode` and some fields as `DecimalNode` depending on how you create a JsonNode.\r\n\r\nAlso, the may be a trouble with fields like `value: null`, they may be present at one JSON and just missing at another JSON. The comparator mentioned below just ignores fields with `null` value that are missing at other JSON\r\n\r\nYet another caveat is that you are serializing fields of `Set` type, you will get JSON arrays (with some order), and an additional effort is needed to handle this case. It is an example of metainformation that is just lost during when serializing from Java `Set` to JSON array.\r\n\r\nHere is a sample comparator. It is configurable to ignore element order inside JSON arrays, or to pay attention to element order  (see `ignoreElementOrderInArrays` variable)\r\n\r\n\r\n    import static java.util.Spliterators.spliteratorUnknownSize;\r\n    import static java.util.stream.StreamSupport.stream;\r\n    \r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeType;\r\n    import com.google.common.collect.Sets;\r\n    import java.util.Collection;\r\n    import java.util.Comparator;\r\n    import java.util.Optional;\r\n    import java.util.Spliterator;\r\n    \r\n    class ComparatorWithoutOrder implements Comparator&lt;Iterable&lt;? extends JsonNode&gt;&gt; {\r\n    \r\n      private boolean ignoreElementOrderInArrays;\r\n    \r\n      public ComparatorWithoutOrder(boolean ignoreElementOrderInArrays) {\r\n        this.ignoreElementOrderInArrays = ignoreElementOrderInArrays;\r\n      }\r\n    \r\n      @Override\r\n      public int compare(Iterable&lt;? extends JsonNode&gt; o1, Iterable&lt;? extends JsonNode&gt; o2) {\r\n        if (o1 == null || o2 == null) {\r\n          return -1;\r\n        }\r\n        if (o1 == o2) {\r\n          return 0;\r\n        }\r\n        if (o1 instanceof JsonNode &amp;&amp; o2 instanceof JsonNode) {\r\n          return compareJsonNodes((JsonNode) o1, (JsonNode) o2);\r\n        }\r\n        return -1;\r\n      }\r\n    \r\n      private int compareJsonNodes(JsonNode o1, JsonNode o2) {\r\n        if (o1 == null || o2 == null) {\r\n          return -1;\r\n        }\r\n        if (o1 == o2) {\r\n          return 0;\r\n        }\r\n        if (!o1.getNodeType().equals(o2.getNodeType())) {\r\n          return -1;\r\n        }\r\n        switch (o1.getNodeType()) {\r\n          case NULL:\r\n            return o2.isNull() ? 0 : -1;\r\n          case BOOLEAN:\r\n            return o1.asBoolean() == o2.asBoolean() ? 0 : -1;\r\n          case STRING:\r\n            return o1.asText().equals(o2.asText()) ? 0 : -1;\r\n          case NUMBER:\r\n            double double1 = o1.asDouble();\r\n            double double2 = o2.asDouble();\r\n            return Math.abs(double1 - double2) / Math.max(double1, double2) &lt; 0.999 ? 0 : -1;\r\n          case OBJECT:\r\n            // ignores fields with null value that are missing at other JSON\r\n            var missingNotNullFields = Sets\r\n                .symmetricDifference(Sets.newHashSet(o1.fieldNames()), Sets.newHashSet(o2.fieldNames()))\r\n                .stream()\r\n                .filter(missingField -&gt; isNotNull(o1, missingField) || isNotNull(o2, missingField))\r\n                .toList();\r\n            if (!missingNotNullFields.isEmpty()) {\r\n              return -1;\r\n            }\r\n            Integer reduce1 = stream(spliteratorUnknownSize(o1.fieldNames(), Spliterator.ORDERED), false)\r\n                .map(key -&gt; compareJsonNodes(o1.get(key), o2.get(key)))\r\n                .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\r\n            return reduce1;\r\n          case ARRAY:\r\n            if (o1.size() != o2.size()) {\r\n              return -1;\r\n            }\r\n            if (o1.isEmpty()) {\r\n              return 0;\r\n            }\r\n            var o1Iterator = o1.elements();\r\n            var o2Iterator = o2.elements();\r\n            var o2Elements = Sets.newHashSet(o2.elements());\r\n            Integer reduce = stream(spliteratorUnknownSize(o1Iterator, Spliterator.ORDERED), false)\r\n                .map(o1Next -&gt; ignoreElementOrderInArrays ?\r\n                    lookForMatchingElement(o1Next, o2Elements) : compareJsonNodes(o1Next, o2Iterator.next()))\r\n                .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\r\n            return reduce;\r\n          case MISSING:\r\n          case BINARY:\r\n          case POJO:\r\n          default:\r\n            return -1;\r\n        }\r\n      }\r\n    \r\n      private int lookForMatchingElement(JsonNode elementToLookFor, Collection&lt;JsonNode&gt; collectionOfElements) {\r\n        // Note: O(n^2) complexity\r\n        return collectionOfElements.stream()\r\n            .filter(o2Element -&gt; compareJsonNodes(elementToLookFor, o2Element) == 0)\r\n            .findFirst()\r\n            .map(o2Element -&gt; 0)\r\n            .orElse(-1);\r\n      }\r\n    \r\n      private static boolean isNotNull(JsonNode jsonObject, String fieldName) {\r\n        return Optional.ofNullable(jsonObject.get(fieldName))\r\n            .map(JsonNode::getNodeType)\r\n            .filter(nodeType -&gt; nodeType != JsonNodeType.NULL)\r\n            .isPresent();\r\n      }\r\n    }","title":"How to compare two JsonNodes with Jackson?","body":"<p>Yet another solution (especially suitable for unit tests because it is customizable) is to use a custom comparator that ignores the order of child nodes. Comparing JSONs is not as trivial a task as it sounds; there are various caveats, and you will likely have to make customizations according to your case and serialization approach.</p>\n<p>Here is a sample that works with Jackson and AssertJ (but it is easy to re-write it for other frameworks).</p>\n<pre><code>  assertThat(json1)\n      .usingComparator(new ComparatorWithoutOrder(true))\n      .isEqualTo(json2);\n</code></pre>\n<p>First of all, you should set up <code>ObjectMapper</code> to serialize dates in some predictable way, for example:</p>\n<pre><code>  mapper = new ObjectMapper();\n  mapper.registerModule(new JavaTimeModule());\n  mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n</code></pre>\n<p>Otherwise, you will end up serializing some <code>Instant</code> fields as <code>TextNode</code> and some fields as <code>DecimalNode</code> depending on how you create a JsonNode.</p>\n<p>Also, the may be a trouble with fields like <code>value: null</code>, they may be present at one JSON and just missing at another JSON. The comparator mentioned below just ignores fields with <code>null</code> value that are missing at other JSON</p>\n<p>Yet another caveat is that you are serializing fields of <code>Set</code> type, you will get JSON arrays (with some order), and an additional effort is needed to handle this case. It is an example of metainformation that is just lost during when serializing from Java <code>Set</code> to JSON array.</p>\n<p>Here is a sample comparator. It is configurable to ignore element order inside JSON arrays, or to pay attention to element order  (see <code>ignoreElementOrderInArrays</code> variable)</p>\n<pre><code>import static java.util.Spliterators.spliteratorUnknownSize;\nimport static java.util.stream.StreamSupport.stream;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeType;\nimport com.google.common.collect.Sets;\nimport java.util.Collection;\nimport java.util.Comparator;\nimport java.util.Optional;\nimport java.util.Spliterator;\n\nclass ComparatorWithoutOrder implements Comparator&lt;Iterable&lt;? extends JsonNode&gt;&gt; {\n\n  private boolean ignoreElementOrderInArrays;\n\n  public ComparatorWithoutOrder(boolean ignoreElementOrderInArrays) {\n    this.ignoreElementOrderInArrays = ignoreElementOrderInArrays;\n  }\n\n  @Override\n  public int compare(Iterable&lt;? extends JsonNode&gt; o1, Iterable&lt;? extends JsonNode&gt; o2) {\n    if (o1 == null || o2 == null) {\n      return -1;\n    }\n    if (o1 == o2) {\n      return 0;\n    }\n    if (o1 instanceof JsonNode &amp;&amp; o2 instanceof JsonNode) {\n      return compareJsonNodes((JsonNode) o1, (JsonNode) o2);\n    }\n    return -1;\n  }\n\n  private int compareJsonNodes(JsonNode o1, JsonNode o2) {\n    if (o1 == null || o2 == null) {\n      return -1;\n    }\n    if (o1 == o2) {\n      return 0;\n    }\n    if (!o1.getNodeType().equals(o2.getNodeType())) {\n      return -1;\n    }\n    switch (o1.getNodeType()) {\n      case NULL:\n        return o2.isNull() ? 0 : -1;\n      case BOOLEAN:\n        return o1.asBoolean() == o2.asBoolean() ? 0 : -1;\n      case STRING:\n        return o1.asText().equals(o2.asText()) ? 0 : -1;\n      case NUMBER:\n        double double1 = o1.asDouble();\n        double double2 = o2.asDouble();\n        return Math.abs(double1 - double2) / Math.max(double1, double2) &lt; 0.999 ? 0 : -1;\n      case OBJECT:\n        // ignores fields with null value that are missing at other JSON\n        var missingNotNullFields = Sets\n            .symmetricDifference(Sets.newHashSet(o1.fieldNames()), Sets.newHashSet(o2.fieldNames()))\n            .stream()\n            .filter(missingField -&gt; isNotNull(o1, missingField) || isNotNull(o2, missingField))\n            .toList();\n        if (!missingNotNullFields.isEmpty()) {\n          return -1;\n        }\n        Integer reduce1 = stream(spliteratorUnknownSize(o1.fieldNames(), Spliterator.ORDERED), false)\n            .map(key -&gt; compareJsonNodes(o1.get(key), o2.get(key)))\n            .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\n        return reduce1;\n      case ARRAY:\n        if (o1.size() != o2.size()) {\n          return -1;\n        }\n        if (o1.isEmpty()) {\n          return 0;\n        }\n        var o1Iterator = o1.elements();\n        var o2Iterator = o2.elements();\n        var o2Elements = Sets.newHashSet(o2.elements());\n        Integer reduce = stream(spliteratorUnknownSize(o1Iterator, Spliterator.ORDERED), false)\n            .map(o1Next -&gt; ignoreElementOrderInArrays ?\n                lookForMatchingElement(o1Next, o2Elements) : compareJsonNodes(o1Next, o2Iterator.next()))\n            .reduce(0, (a, b) -&gt; a == -1 || b == -1 ? -1 : 0);\n        return reduce;\n      case MISSING:\n      case BINARY:\n      case POJO:\n      default:\n        return -1;\n    }\n  }\n\n  private int lookForMatchingElement(JsonNode elementToLookFor, Collection&lt;JsonNode&gt; collectionOfElements) {\n    // Note: O(n^2) complexity\n    return collectionOfElements.stream()\n        .filter(o2Element -&gt; compareJsonNodes(elementToLookFor, o2Element) == 0)\n        .findFirst()\n        .map(o2Element -&gt; 0)\n        .orElse(-1);\n  }\n\n  private static boolean isNotNull(JsonNode jsonObject, String fieldName) {\n    return Optional.ofNullable(jsonObject.get(fieldName))\n        .map(JsonNode::getNodeType)\n        .filter(nodeType -&gt; nodeType != JsonNodeType.NULL)\n        .isPresent();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14556,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53871740,"answer_count":3,"score":11,"last_activity_date":1667854836,"creation_date":1545320105,"question_id":53871675,"body_markdown":"I have a method which compares two objects, but I don&#39;t know how to compare JsonNode by Jackson library.\r\n\r\nI want get something like that:\r\n\r\n    private boolean test(JsonNode source) {\r\n        JsonNode test = compiler.process(file);\r\n        return test.equals(source);\r\n    }\r\n\r\n    ","title":"How to compare two JsonNodes with Jackson?","body":"<p>I have a method which compares two objects, but I don't know how to compare JsonNode by Jackson library.</p>\n\n<p>I want get something like that:</p>\n\n<pre><code>private boolean test(JsonNode source) {\n    JsonNode test = compiler.process(file);\n    return test.equals(source);\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"score":0,"creation_date":1545319147,"post_id":53871333,"comment_id":94589966,"body_markdown":"&quot;how can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert&quot; Is maven [dependency scope](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope) what you&#39;re looking for? You could make certain versions used during tests and other versions using in compiling and building.","body":"&quot;how can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert&quot; Is maven <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope\" rel=\"nofollow noreferrer\">dependency scope</a> what you&#39;re looking for? You could make certain versions used during tests and other versions using in compiling and building."},{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1545319883,"post_id":53871333,"comment_id":94590389,"body_markdown":"No, that does not help. As I wrote, the critical point where the newer version of JsonObject is used is in the class, not in the test of that class.","body":"No, that does not help. As I wrote, the critical point where the newer version of JsonObject is used is in the class, not in the test of that class."}],"answers":[{"comments":[{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1545320521,"post_id":53871431,"comment_id":94590755,"body_markdown":"A added this exclusion, but I still get version 0.0.20131108.vaadin1 of JSON in test context.","body":"A added this exclusion, but I still get version 0.0.20131108.vaadin1 of JSON in test context."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1545320685,"post_id":53871431,"comment_id":94590853,"body_markdown":"`mvn dependency:tree` and you have to exclude every single one. Do note that it might be a bad idea, the libraries might brake.","body":"<code>mvn dependency:tree</code> and you have to exclude every single one. Do note that it might be a bad idea, the libraries might brake."},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1545321123,"post_id":53871431,"comment_id":94591119,"body_markdown":"@Paflow updated the answer, exclusion should match the artifact `groupId` and `artifactId`.","body":"@Paflow updated the answer, exclusion should match the artifact <code>groupId</code> and <code>artifactId</code>."},{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1545323990,"post_id":53871431,"comment_id":94592608,"body_markdown":"Did the trick. As the usages of JSONAssert are quite clear (all tests which use mockMvc), I think I can take the risk.","body":"Did the trick. As the usages of JSONAssert are quite clear (all tests which use mockMvc), I think I can take the risk."}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1545321094,"creation_date":1545319165,"answer_id":53871431,"question_id":53871333,"body_markdown":"Unless `spring-test` or `jsonassert` will shade the `org.json:json` dependency internally in the future version you are stuck having to use one version of `org.json:json` across the classpath. \r\n\r\nNot all Java dependencies are compatible, see [classpath hell][1].\r\n\r\nYou can try defining a [Dependency Exclusion][2] for the problematic version but this can potentially brake `jsonassert` dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n          &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/373193/what-is-classpath-hell-and-is-was-it-really-a-problem-for-java\r\n  [2]: https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html","title":"Two versions of library dependency in Maven","body":"<p>Unless <code>spring-test</code> or <code>jsonassert</code> will shade the <code>org.json:json</code> dependency internally in the future version you are stuck having to use one version of <code>org.json:json</code> across the classpath. </p>\n\n<p>Not all Java dependencies are compatible, see <a href=\"https://stackoverflow.com/questions/373193/what-is-classpath-hell-and-is-was-it-really-a-problem-for-java\">classpath hell</a>.</p>\n\n<p>You can try defining a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">Dependency Exclusion</a> for the problematic version but this can potentially brake <code>jsonassert</code> dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n  &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n  &lt;version&gt;1.5.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n      &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"score":0,"creation_date":1545320804,"post_id":53871444,"comment_id":94590923,"body_markdown":"I removed the two from &lt;dependecies&gt; and put your code under &lt;/dependencies&gt;, but now I get a lot of errors.","body":"I removed the two from &lt;dependecies&gt; and put your code under &lt;/dependencies&gt;, but now I get a lot of errors."},{"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"score":0,"creation_date":1545321086,"post_id":53871444,"comment_id":94591100,"body_markdown":"you shouldn&#39;t remove the above from `dependencies`. You should keep them and you need to to include them in the `dependencyManagement` as well.","body":"you shouldn&#39;t remove the above from <code>dependencies</code>. You should keep them and you need to to include them in the <code>dependencyManagement</code> as well."}],"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545319216,"creation_date":1545319216,"answer_id":53871444,"question_id":53871333,"body_markdown":"you need to add the dependencies that you want to enforce specific version when there is conflict in `dependencyManagement`. This ensures the maven uses 20170516 version of `json` dependency even though `jsonassert` depends different version.\r\n\r\n\r\n        &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20170516&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n\r\nPlease see https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven?rq=1\r\n\r\nor you can use `&lt;exclusions&gt;` to exclude a child dependency. ","title":"Two versions of library dependency in Maven","body":"<p>you need to add the dependencies that you want to enforce specific version when there is conflict in <code>dependencyManagement</code>. This ensures the maven uses 20170516 version of <code>json</code> dependency even though <code>jsonassert</code> depends different version.</p>\n\n<pre><code>    &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20170516&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n            &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>Please see <a href=\"https://stackoverflow.com/questions/2619598/differences-between-dependencymanagement-and-dependencies-in-maven?rq=1\">Differences between dependencyManagement and dependencies in Maven</a></p>\n\n<p>or you can use <code>&lt;exclusions&gt;</code> to exclude a child dependency. </p>\n"}],"owner":{"account_id":2030705,"reputation":2040,"user_id":1814493,"accept_rate":86,"display_name":"Paflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53871431,"answer_count":2,"score":1,"last_activity_date":1667854802,"creation_date":1545318768,"question_id":53871333,"body_markdown":"In my `pom.xml` I have \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;20170516&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAnd my Program needs and uses this version om JSON.\r\n\r\n    import org.json.JSONObject;\r\n\r\nWhen I put in\r\n\r\n    final JsonObject jsonObject = new JsonObject();\r\n    System.out.println( jsonObject.getClass().getPackage().getImplementationVersion());\r\n\r\nI get \r\n\r\n    20170516\r\n\r\nOkay, alright. (Note: This is a class of the program, not the test!)\r\n\r\nNow I run my Unittest (Mockito, JUnit) with `mvn test`. I get an error, which is related to the JSONObject version. And the log says:\r\n\r\n    0.0.20131108.vaadin1\r\n\r\nI found out, that this version comes from this dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf I delete it, my test works fine.\r\n\r\nBut now other tests fail, which uses this dependency\r\n\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\nand in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHow can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert?\r\n\r\nEven if almost the same name, I don&#39;t think this is a duplicate of \r\n* https://stackoverflow.com/questions/7406604/two-versions-of-dependencies-in-maven\r\n\r\n-- Edit 1\r\n\r\n    mvn dependency:tree | grep json \r\n    [INFO] +- org.skyscreamer:jsonassert:jar:1.5.0:test \r\n    [INFO] |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test \r\n    [INFO] +- com.jayway.jsonpath:json-path-assert:jar:2.2.0:test \r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.2.0:test \r\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.2.1:test \r\n    [INFO] +- org.json:json:jar:20170516:compile\r\n\r\n","title":"Two versions of library dependency in Maven","body":"<p>In my <code>pom.xml</code> I have</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20170516&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And my Program needs and uses this version om JSON.</p>\n<pre><code>import org.json.JSONObject;\n</code></pre>\n<p>When I put in</p>\n<pre><code>final JsonObject jsonObject = new JsonObject();\nSystem.out.println( jsonObject.getClass().getPackage().getImplementationVersion());\n</code></pre>\n<p>I get</p>\n<pre><code>20170516\n</code></pre>\n<p>Okay, alright. (Note: This is a class of the program, not the test!)</p>\n<p>Now I run my Unittest (Mockito, JUnit) with <code>mvn test</code>. I get an error, which is related to the JSONObject version. And the log says:</p>\n<pre><code>0.0.20131108.vaadin1\n</code></pre>\n<p>I found out, that this version comes from this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.skyscreamer&lt;/groupId&gt;\n    &lt;artifactId&gt;jsonassert&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I delete it, my test works fine.</p>\n<p>But now other tests fail, which uses this dependency</p>\n<pre><code>import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n</code></pre>\n<p>and in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n    &lt;version&gt;4.3.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I configure maven, that the program uses JSON version 20170516, but spring-test can still use jsonassert?</p>\n<p>Even if almost the same name, I don't think this is a duplicate of</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7406604/two-versions-of-dependencies-in-maven\">two versions of dependencies in maven</a></li>\n</ul>\n<p>-- Edit 1</p>\n<pre><code>mvn dependency:tree | grep json \n[INFO] +- org.skyscreamer:jsonassert:jar:1.5.0:test \n[INFO] |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test \n[INFO] +- com.jayway.jsonpath:json-path-assert:jar:2.2.0:test \n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.2.0:test \n[INFO] |  |  \\- net.minidev:json-smart:jar:2.2.1:test \n[INFO] +- org.json:json:jar:20170516:compile\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1581069152,"post_id":60110885,"comment_id":106314455,"body_markdown":"You haven&#39;t defined any class instance variables, nor have you instanciated an object to use them.","body":"You haven&#39;t defined any class instance variables, nor have you instanciated an object to use them."},{"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"score":0,"creation_date":1581069640,"post_id":60110885,"comment_id":106314718,"body_markdown":"@Abra This is actually exactly how the code in the book was written on page 355. Perhaps I&#39;m to infer that I need to make these changes per automatik when I add the changeButtonText method?","body":"@Abra This is actually exactly how the code in the book was written on page 355. Perhaps I&#39;m to infer that I need to make these changes per automatik when I add the changeButtonText method?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1581070296,"post_id":60110885,"comment_id":106315066,"body_markdown":"Method `changeButtonText()` does not appear in the code on page 355 of the book _Head First Java_.","body":"Method <code>changeButtonText()</code> does not appear in the code on page 355 of the book <i>Head First Java</i>."},{"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"score":0,"creation_date":1581070463,"post_id":60110885,"comment_id":106315147,"body_markdown":"@Abra changeButtonText() is my name for the author&#39;s &quot;changeIt()&quot; on page 357. The preceding code is as it appears on page 355","body":"@Abra changeButtonText() is my name for the author&#39;s &quot;changeIt()&quot; on page 357. The preceding code is as it appears on page 355"},{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1581070700,"post_id":60110885,"comment_id":106315291,"body_markdown":"@NMard Please read my answer and let me know if there&#39;s anything you want me to clarify further :) thank you.","body":"@NMard Please read my answer and let me know if there&#39;s anything you want me to clarify further :) thank you."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1581071180,"post_id":60110885,"comment_id":106315542,"body_markdown":"Continue reading up to page 360. The code on that page is a proper, working example.","body":"Continue reading up to page 360. The code on that page is a proper, working example."}],"answers":[{"tags":[],"owner":{"account_id":4799108,"reputation":4545,"user_id":3876196,"accept_rate":95,"display_name":"AntoineB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1581069117,"creation_date":1581069117,"answer_id":60110977,"question_id":60110885,"body_markdown":"The reason you cannot access the variable is because of its scope (tutorial about the scope of variables: https://www.baeldung.com/java-variable-scope).\r\n\r\nYou declare the variable `JButton button` in the `main` method, therefore it is not accessible anywhere outside of it, even in a method that `main` calls itself.\r\n\r\nTo make `changeButtonText` aware that the `button` variable exists, you have to pass it as parameters of this method:\r\n\r\n```\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        JButton button = new JButton(&quot;Click Me&quot;);\r\n\r\n\t\tchangeButtonText(button);\r\n    }\r\n\r\n    public static void changeButtonText(JButton button){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI also added the `static` keyword in front of the `changeButtonText` method, because `main` is also a static method. Check this link for example to have more details about the difference: https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/","title":"Cannot access class instance methods outside main method","body":"<p>The reason you cannot access the variable is because of its scope (tutorial about the scope of variables: <a href=\"https://www.baeldung.com/java-variable-scope\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-variable-scope</a>).</p>\n\n<p>You declare the variable <code>JButton button</code> in the <code>main</code> method, therefore it is not accessible anywhere outside of it, even in a method that <code>main</code> calls itself.</p>\n\n<p>To make <code>changeButtonText</code> aware that the <code>button</code> variable exists, you have to pass it as parameters of this method:</p>\n\n<pre><code>import javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        JButton button = new JButton(\"Click Me\");\n\n        changeButtonText(button);\n    }\n\n    public static void changeButtonText(JButton button){\n        button.setText(\"I've been clicked\");\n    }\n}\n</code></pre>\n\n<p>I also added the <code>static</code> keyword in front of the <code>changeButtonText</code> method, because <code>main</code> is also a static method. Check this link for example to have more details about the difference: <a href=\"https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/static-methods-vs-instance-methods-java/</a></p>\n"},{"tags":[],"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581070881,"creation_date":1581069364,"answer_id":60111033,"question_id":60110885,"body_markdown":"There&#39;s a couple of things that is wrong with your code and concepts that you seem to not fully grasp. These concepts are `this.` and `scopes`.\r\n\r\n    public void changeButtonText(){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n\r\nFirst we need to talk about scopes. A scope is what&#39;s declared between `{ /* here */ }` i.e. two curly brackets. From within a scope you can access and declare both local and global *objects, variables, members etc*.\r\n\r\nSo here&#39;s an example using local scope (what you did):\r\n\r\n    public void myFunction(){\r\n        JButton button = new Jbutton();\r\n    }\r\n    \r\nIf I then go ahead and try to access the button outside of the scope, it wont know what `button` is. Since it&#39;s not declared within that local scope.\r\n\r\n\r\n\r\n    public void myFunction(){\r\n        JButton button = new Jbutton();\r\n    }\r\n    public static void main(String[] args) {\r\n        button.setText(&quot;hello&quot;); //error\r\n        // compiler thinks: what&#39;s `button` referring to here? its not declared in this scope.\r\n    }\r\n\r\nGlobal class scope:\r\n\r\n\r\n    JButton button = new JButton(); //declaring button in global class scope\r\n    public void myFunction(){\r\n        this.button.setText(&quot;hello&quot;); // will access the globally declared variable, object, member called `button`.\r\n        //^ notice the usage of `this`. \r\n        //`this` will look outside of the local functions scope for publically declared class-members.\r\n    }\r\n\r\n\r\nTo fix your particular problem, you could either make your function static and pass in a `JButton` object, or you could *declare your button in the global class scope* like this:\r\n\r\n    public class Main {\r\n        \r\n        JButton button = new JButton(&quot;Click Me&quot;); //global class scope\r\n\r\n        public static void main(String[] args) { //local scope of main start {\r\n            Main myClass = new Main(); //instantiate class\r\n            myClass.changeButtonText(); //access class-member function\r\n            JFrame frame = new JFrame();\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            frame.getContentPane().add(this.button); // this.\r\n    \r\n            frame.setSize(300,300);\r\n            frame.setVisible(true);\r\n    \r\n        } // local scope of main ends }\r\n    \r\n        public void changeButtonText(){\r\n            this.button.setText(&quot;I&#39;ve been clicked&quot;); //access global class members using `this` keyword\r\n        }\r\n\r\n    }","title":"Cannot access class instance methods outside main method","body":"<p>There's a couple of things that is wrong with your code and concepts that you seem to not fully grasp. These concepts are <code>this.</code> and <code>scopes</code>.</p>\n\n<pre><code>public void changeButtonText(){\n    button.setText(\"I've been clicked\");\n}\n</code></pre>\n\n<p>First we need to talk about scopes. A scope is what's declared between <code>{ /* here */ }</code> i.e. two curly brackets. From within a scope you can access and declare both local and global <em>objects, variables, members etc</em>.</p>\n\n<p>So here's an example using local scope (what you did):</p>\n\n<pre><code>public void myFunction(){\n    JButton button = new Jbutton();\n}\n</code></pre>\n\n<p>If I then go ahead and try to access the button outside of the scope, it wont know what <code>button</code> is. Since it's not declared within that local scope.</p>\n\n<pre><code>public void myFunction(){\n    JButton button = new Jbutton();\n}\npublic static void main(String[] args) {\n    button.setText(\"hello\"); //error\n    // compiler thinks: what's `button` referring to here? its not declared in this scope.\n}\n</code></pre>\n\n<p>Global class scope:</p>\n\n<pre><code>JButton button = new JButton(); //declaring button in global class scope\npublic void myFunction(){\n    this.button.setText(\"hello\"); // will access the globally declared variable, object, member called `button`.\n    //^ notice the usage of `this`. \n    //`this` will look outside of the local functions scope for publically declared class-members.\n}\n</code></pre>\n\n<p>To fix your particular problem, you could either make your function static and pass in a <code>JButton</code> object, or you could <em>declare your button in the global class scope</em> like this:</p>\n\n<pre><code>public class Main {\n\n    JButton button = new JButton(\"Click Me\"); //global class scope\n\n    public static void main(String[] args) { //local scope of main start {\n        Main myClass = new Main(); //instantiate class\n        myClass.changeButtonText(); //access class-member function\n        JFrame frame = new JFrame();\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().add(this.button); // this.\n\n        frame.setSize(300,300);\n        frame.setVisible(true);\n\n    } // local scope of main ends }\n\n    public void changeButtonText(){\n        this.button.setText(\"I've been clicked\"); //access global class members using `this` keyword\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3274311,"reputation":673,"user_id":2756832,"display_name":"Kandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581071294,"creation_date":1581071294,"answer_id":60111571,"question_id":60110885,"body_markdown":"Surely this is a problem of scope and it can be overcome with defining variable at global level and initialize wherever you required. something like -\r\n\r\n    public class Main {\r\n\t\r\n\tprivate static JButton button;\r\n\t\r\n\t  public static void main(String[] args) {\r\n\r\n\t        JFrame frame = new JFrame();\r\n\t        button = new JButton(&quot;Click Me&quot;);\r\n\t        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t        frame.getContentPane().add(button);\r\n\t        frame.setSize(300,300);\r\n\t        frame.setVisible(true);\r\n\t        Main.changeButtonText();\r\n\r\n\t    }\r\n\r\n\t    public static void changeButtonText(){\r\n\t    \tbutton.setText(&quot;I&#39;ve been clicked&quot;);\r\n\t    }\r\n\r\n    }","title":"Cannot access class instance methods outside main method","body":"<p>Surely this is a problem of scope and it can be overcome with defining variable at global level and initialize wherever you required. something like -</p>\n\n<pre><code>public class Main {\n\nprivate static JButton button;\n\n  public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        button = new JButton(\"Click Me\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(button);\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        Main.changeButtonText();\n\n    }\n\n    public static void changeButtonText(){\n        button.setText(\"I've been clicked\");\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17709755,"reputation":25,"user_id":12857535,"display_name":"NMard"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60110977,"answer_count":3,"score":2,"last_activity_date":1667854646,"creation_date":1581068809,"question_id":60110885,"body_markdown":"I&#39;m working through the book &quot;Head first Java&quot; and started chapter 12.\r\n\r\nWhen I tried to create the method `changeButtonText()` I cannot access any of the class methods from `button`. \r\n\r\nWhy is this? What have I done wrong in this code?\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame frame = new JFrame();\r\n        JButton button = new JButton(&quot;Click Me&quot;);\r\n\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        frame.getContentPane().add(button);\r\n\r\n        frame.setSize(300,300);\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n\r\n    public void changeButtonText(){\r\n        button.setText(&quot;I&#39;ve been clicked&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Cannot access class instance methods outside main method","body":"<p>I'm working through the book &quot;Head first Java&quot; and started chapter 12.</p>\n<p>When I tried to create the method <code>changeButtonText()</code> I cannot access any of the class methods from <code>button</code>.</p>\n<p>Why is this? What have I done wrong in this code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        JButton button = new JButton(&quot;Click Me&quot;);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.getContentPane().add(button);\n\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        \n    }\n\n    public void changeButtonText(){\n        button.setText(&quot;I've been clicked&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","web-services","jboss","wildfly-18"],"answers":[{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667854094,"creation_date":1667611119,"answer_id":74324392,"question_id":74323935,"body_markdown":"Please note that I finally figured out that I needed to use this URL:\r\n\r\n[http://localhost:8080/myapp-ws/myappws?wsdl][1]\r\n\r\nInstead of this value:\r\n\r\n [http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl][2]\r\n\r\n\r\n  [1]: http://localhost:8080/myapp-ws/myappws?wsdl\r\n  [2]: http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl","title":"Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot; Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective","body":"<p>Please note that I finally figured out that I needed to use this URL:</p>\n<p><a href=\"http://localhost:8080/myapp-ws/myappws?wsdl\" rel=\"nofollow noreferrer\">http://localhost:8080/myapp-ws/myappws?wsdl</a></p>\n<p>Instead of this value:</p>\n<p><a href=\"http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl\" rel=\"nofollow noreferrer\">http://localhost:8080/myapp-ws/MyAppWSImpl?wsdl</a></p>\n"}],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74324392,"answer_count":1,"score":0,"last_activity_date":1667854443,"creation_date":1667604492,"question_id":74323935,"body_markdown":"Presently, I have an `ejb` project and a web service project.  The problem is that my webservice project cannot access EJBs from my library project:\r\n\r\n    {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myapp-ws.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot;\r\n        Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class org.ws.MyAppWSImpl with ClassLoader ModuleClassLoader for Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader\r\n        Caused by: java.lang.NoClassDefFoundError: Lorg/myapp/MyAppStatelessLocal;\r\n        Caused by: java.lang.ClassNotFoundException: org.myappp.InfossStatelessLocal from [Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader]&quot;}}\r\n\r\nAs far as I can tell the dependencies are setup properly in the `pom.xml` files.  Here is my root pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;modules&gt;\r\n    \t\t&lt;module&gt;myapp-ejb&lt;/module&gt;\r\n    \t\t&lt;module&gt;myapp-web&lt;/module&gt;\t\t\r\n    \t\t&lt;module&gt;myapp-ear&lt;/module&gt;\r\n            &lt;module&gt;myapp-ws&lt;/module&gt;\t\t\r\n        &lt;/modules&gt;\r\n        &lt;properties&gt;\r\n            &lt;root.dir&gt;${project.basedir}&lt;/root.dir&gt;\r\n            &lt;jboss.home.name&gt;JBOSS_HOME&lt;/jboss.home.name&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;version.server.bom&gt;18.0.1.Final&lt;/version.server.bom&gt;\r\n            &lt;version.wildfly.maven.plugin&gt;2.0.0.Final&lt;/version.wildfly.maven.plugin&gt;\r\n            &lt;version.jaxws-tools-maven-plugin&gt;1.2.3.Final&lt;/version.jaxws-tools-maven-plugin&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.server.bom}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\t\t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;  \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;  \t\t\t        \r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nHere my my `ear` pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\r\n        &lt;packaging&gt;ear&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;name&gt;myapp-ear&lt;/name&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;description&gt;This project packages myapp-ejb and myapp-web in an EAR; this is the EAR POM file&lt;/description&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n                &lt;type&gt;ejb&lt;/type&gt;\r\n                &lt;version&gt;0.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n                &lt;type&gt;war&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;war&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n        &lt;/dependencies&gt;\r\n       ...\r\n    &lt;/project&gt;\r\n\r\nHere is my web service `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \t&lt;name&gt;myapp-ws Maven Soap WS&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.myapp&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;dependencies&gt;\r\n            ...\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\r\n    \t\t\t&lt;type&gt;ejb&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        ....\r\n    &lt;/project&gt;\r\n\r\nThe `ear` project deploys without a problem but the webservice deployment fails.  Basically, I am trying to follow this guide:\r\n\r\nhttps://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html\r\n\r\nhttps://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc\r\n\r\nhttps://developers.redhat.com/quickstarts/eap/helloworld-ws#\r\n\r\nDoes anyone have any suggestions?  TIA\r\n\r\n**UPDATE:**\r\n\r\nHere is my `MyAppWSImpl.java`: \r\n\r\n    package myapp.ws;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebService;\r\n    import myapp.lab.MyAppStatelessLocal;\r\n    \r\n    @WebService(endpointInterface = &quot;myapp.ws.MyAppWS&quot;)\r\n    public class MyAppWSImpl implements MyAppWS {\r\n        @EJB\r\n        MyAppStatelessLocal masl;\r\n                \r\n        @WebMethod()\r\n        public String predict(int value) {\r\n            return masl.getPrediction(value);\r\n        }\r\n    }\r\n\r\nHere is my `web.xml`.  HTH.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;myapp-ws&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n        \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;myapp.ws.MyAppWSImpl&lt;/servlet-class&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myappws&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      \r\n    &lt;/web-app&gt;","title":"Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot; Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective","body":"<p>Presently, I have an <code>ejb</code> project and a web service project.  The problem is that my webservice project cannot access EJBs from my library project:</p>\n<pre><code>{&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;myapp-ws.war\\&quot;.POST_MODULE&quot; =&gt; &quot;WFLYSRV0153: Failed to process phase POST_MODULE of deployment \\&quot;myapp-ws.war\\&quot;\n    Caused by: java.lang.RuntimeException: WFLYSRV0177: Error getting reflective information for class org.ws.MyAppWSImpl with ClassLoader ModuleClassLoader for Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader\n    Caused by: java.lang.NoClassDefFoundError: Lorg/myapp/MyAppStatelessLocal;\n    Caused by: java.lang.ClassNotFoundException: org.myappp.InfossStatelessLocal from [Module \\&quot;deployment.myapp-ws.war\\&quot; from Service Module Loader]&quot;}}\n</code></pre>\n<p>As far as I can tell the dependencies are setup properly in the <code>pom.xml</code> files.  Here is my root pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;myapp-ejb&lt;/module&gt;\n        &lt;module&gt;myapp-web&lt;/module&gt;      \n        &lt;module&gt;myapp-ear&lt;/module&gt;\n        &lt;module&gt;myapp-ws&lt;/module&gt;       \n    &lt;/modules&gt;\n    &lt;properties&gt;\n        &lt;root.dir&gt;${project.basedir}&lt;/root.dir&gt;\n        &lt;jboss.home.name&gt;JBOSS_HOME&lt;/jboss.home.name&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;version.server.bom&gt;18.0.1.Final&lt;/version.server.bom&gt;\n        &lt;version.wildfly.maven.plugin&gt;2.0.0.Final&lt;/version.wildfly.maven.plugin&gt;\n        &lt;version.jaxws-tools-maven-plugin&gt;1.2.3.Final&lt;/version.jaxws-tools-maven-plugin&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${version.server.bom}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;               \n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;ejb&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;war&lt;/type&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;           \n            &lt;dependency&gt;\n                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n                &lt;type&gt;war&lt;/type&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;                   \n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>Here my my <code>ear</code> pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ear&lt;/artifactId&gt;\n    &lt;packaging&gt;ear&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;name&gt;myapp-ear&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;description&gt;This project packages myapp-ejb and myapp-web in an EAR; this is the EAR POM file&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-web&lt;/artifactId&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n        &lt;/dependency&gt;       \n    &lt;/dependencies&gt;\n   ...\n&lt;/project&gt;\n</code></pre>\n<p>Here is my web service <code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp-ws&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;name&gt;myapp-ws Maven Soap WS&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.myapp&lt;/groupId&gt;\n        &lt;artifactId&gt;myapp-app&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n            &lt;artifactId&gt;myapp-ejb&lt;/artifactId&gt;\n            &lt;type&gt;ejb&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    ....\n&lt;/project&gt;\n</code></pre>\n<p>The <code>ear</code> project deploys without a problem but the webservice deployment fails.  Basically, I am trying to follow this guide:</p>\n<p><a href=\"https://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/18/Getting_Started_Developing_Applications_Guide.html</a></p>\n<p><a href=\"https://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc\" rel=\"nofollow noreferrer\">https://github.com/wildfly/quickstart/blob/10.x/guide/HelloworldQuickstart.asciidoc</a></p>\n<p><a href=\"https://developers.redhat.com/quickstarts/eap/helloworld-ws#\" rel=\"nofollow noreferrer\">https://developers.redhat.com/quickstarts/eap/helloworld-ws#</a></p>\n<p>Does anyone have any suggestions?  TIA</p>\n<p><strong>UPDATE:</strong></p>\n<p>Here is my <code>MyAppWSImpl.java</code>:</p>\n<pre><code>package myapp.ws;\n\nimport javax.ejb.EJB;\nimport javax.jws.WebMethod;\nimport javax.jws.WebService;\nimport myapp.lab.MyAppStatelessLocal;\n\n@WebService(endpointInterface = &quot;myapp.ws.MyAppWS&quot;)\npublic class MyAppWSImpl implements MyAppWS {\n    @EJB\n    MyAppStatelessLocal masl;\n            \n    @WebMethod()\n    public String predict(int value) {\n        return masl.getPrediction(value);\n    }\n}\n</code></pre>\n<p>Here is my <code>web.xml</code>.  HTH.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n  &lt;display-name&gt;myapp-ws&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n    \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;myapp.ws.MyAppWSImpl&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;myappws&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/myappws&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  \n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","android","screenshot"],"answers":[{"comments":[{"owner":{"account_id":1762033,"reputation":45,"user_id":1608879,"display_name":"azeemofwalsall"},"score":0,"creation_date":1591640048,"post_id":62268492,"comment_id":110127159,"body_markdown":"Hovering the mouse cursor over ```Screenshot``` or ```ScreenCaputre``` brings up a help balloon &quot;Add library &#39;Gradle:androidx.test:runner:1.2.0@aar&#39; to classpath. Clicking on the link in the help balloon doesn&#39;t seem to do anything. Could anyone tell me how to add the library and what is the classpath that it is referring to ? Sorry, if I sound inexperienced - I am.","body":"Hovering the mouse cursor over <code>Screenshot</code> or <code>ScreenCaputre</code> brings up a help balloon &quot;Add library &#39;Gradle:androidx.test:runner:1.2.0@aar&#39; to classpath. Clicking on the link in the help balloon doesn&#39;t seem to do anything. Could anyone tell me how to add the library and what is the classpath that it is referring to ? Sorry, if I sound inexperienced - I am."},{"owner":{"account_id":15146059,"reputation":31,"user_id":10929762,"display_name":"Jbk"},"score":0,"creation_date":1591640330,"post_id":62268492,"comment_id":110127285,"body_markdown":"Like I&#39;ve said, add `implementation &#39;androidx.test:runner:1.2.0&#39;` into the build.gradle file of your application module. It&#39;s usually there: [Project root]/app/build.gradle","body":"Like I&#39;ve said, add <code>implementation &#39;androidx.test:runner:1.2.0&#39;</code> into the build.gradle file of your application module. It&#39;s usually there: [Project root]/app/build.gradle"},{"owner":{"account_id":1762033,"reputation":45,"user_id":1608879,"display_name":"azeemofwalsall"},"score":0,"creation_date":1591641061,"post_id":62268492,"comment_id":110127629,"body_markdown":"OK thanks for your help- its worked ! but no idea why ? Except maybe class Screenshot and class ScreenCapture were in a library that the building apparatus did not have access to.. So added into build.grade(Module:app the following line inside the dependencies block: ```implementation &quot;androidx.test:runner:1.2.0@aar&quot;``` then synced and it workded","body":"OK thanks for your help- its worked ! but no idea why ? Except maybe class Screenshot and class ScreenCapture were in a library that the building apparatus did not have access to.. So added into build.grade(Module:app the following line inside the dependencies block: <code>implementation &quot;androidx.test:runner:1.2.0@aar&quot;</code> then synced and it workded"}],"tags":[],"owner":{"account_id":15146059,"reputation":31,"user_id":10929762,"display_name":"Jbk"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591640236,"creation_date":1591639583,"answer_id":62268492,"question_id":62267742,"body_markdown":"Did you add the androidx.test.runner.screenshot library in your build.gradle file? Try adding `implementation &#39;androidx.test:runner:1.2.0&#39;` into your build.gradle file.","title":"Using the Screenshot API","body":"<p>Did you add the androidx.test.runner.screenshot library in your build.gradle file? Try adding <code>implementation 'androidx.test:runner:1.2.0'</code> into your build.gradle file.</p>\n"}],"owner":{"account_id":1762033,"reputation":45,"user_id":1608879,"display_name":"azeemofwalsall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667854368,"creation_date":1591636839,"question_id":62267742,"body_markdown":"I&#39;m using the Screenshot API, in particular ```Screenshot.capture(Activity activity)```. This method returns a ScreenCapture object which contains the bitmap of the device screen.\r\n\r\nHowever, Android Studio cannot &quot;resolve synbol&quot; ```Screenshot``` and ```ScreenCapture``` and doesn&#39;t give me the option of importing these classes.\r\n\r\nLooking forward to your answers!\r\n\r\nHere&#39;s the code\r\n\r\n```\r\npackage com.example.android;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    ScreenCapture sshot;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    public void getScreenshot() {\r\n\r\n        Date now = new Date();\r\n        // create a name for the resulting screenshot file which includes the SD card\r\n        String path = Environment.getExternalStorageDirectory().toString() + &quot;/&quot; + now + &quot;.jpg&quot;;\r\n\r\n        sshot = Screenshot.capture(this);\r\n    }\r\n}\r\n```","title":"Using the Screenshot API","body":"<p>I'm using the Screenshot API, in particular <code>Screenshot.capture(Activity activity)</code>. This method returns a ScreenCapture object which contains the bitmap of the device screen.</p>\n\n<p>However, Android Studio cannot \"resolve synbol\" <code>Screenshot</code> and <code>ScreenCapture</code> and doesn't give me the option of importing these classes.</p>\n\n<p>Looking forward to your answers!</p>\n\n<p>Here's the code</p>\n\n<pre><code>package com.example.android;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.os.Environment;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n    ScreenCapture sshot;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    public void getScreenshot() {\n\n        Date now = new Date();\n        // create a name for the resulting screenshot file which includes the SD card\n        String path = Environment.getExternalStorageDirectory().toString() + \"/\" + now + \".jpg\";\n\n        sshot = Screenshot.capture(this);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":18105895,"reputation":86,"user_id":13163227,"display_name":"Hema Jayachandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667854270,"creation_date":1667854270,"answer_id":74352769,"question_id":74350307,"body_markdown":"I am not sure what your approach is here but guessing that its `RDD -&gt; DataFrame` using a defined schema.\r\n\r\nTo create a dataframe using a predefined schema, we will convert RDDs to an RDD of type `Row`. And since there is no automatic conversion of type in this case, we should explicitly cast it to Long while creating `RDD[Row]`. In the end the code should look like this: \r\n\r\n```\r\nimport org.apache.spark.sql._\r\nimport org.apache.spark.rdd.RDD\r\nimport org.apache.spark.sql.types.{StringType, LongType,  StructField, StructType} \r\n\r\nval data = spark.sparkContext.parallelize(Seq((192.toByte, &quot;abc&quot;),(168.toByte, &quot;def&quot;)))\r\nval schema = new StructType()\r\n.add(StructField(&quot;id&quot;, LongType, true))\r\n.add(StructField(&quot;name&quot;, StringType, true))\r\n\r\nval rowRDD:RDD[Row] = data.map(row =&gt; Row(row._1.toLong, row._2))\r\nval dfWithSchema = spark.createDataFrame(rowRDD, schema)\r\n\r\ndfWithSchema.show\r\n+---+----+                                                                      \r\n| id|name|\r\n+---+----+\r\n|-64| abc|\r\n|-88| def|\r\n+---+----+\r\n```","title":"java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint","body":"<p>I am not sure what your approach is here but guessing that its <code>RDD -&gt; DataFrame</code> using a defined schema.</p>\n<p>To create a dataframe using a predefined schema, we will convert RDDs to an RDD of type <code>Row</code>. And since there is no automatic conversion of type in this case, we should explicitly cast it to Long while creating <code>RDD[Row]</code>. In the end the code should look like this:</p>\n<pre><code>import org.apache.spark.sql._\nimport org.apache.spark.rdd.RDD\nimport org.apache.spark.sql.types.{StringType, LongType,  StructField, StructType} \n\nval data = spark.sparkContext.parallelize(Seq((192.toByte, &quot;abc&quot;),(168.toByte, &quot;def&quot;)))\nval schema = new StructType()\n.add(StructField(&quot;id&quot;, LongType, true))\n.add(StructField(&quot;name&quot;, StringType, true))\n\nval rowRDD:RDD[Row] = data.map(row =&gt; Row(row._1.toLong, row._2))\nval dfWithSchema = spark.createDataFrame(rowRDD, schema)\n\ndfWithSchema.show\n+---+----+                                                                      \n| id|name|\n+---+----+\n|-64| abc|\n|-88| def|\n+---+----+\n</code></pre>\n"}],"owner":{"account_id":4391825,"reputation":1292,"user_id":3579955,"accept_rate":50,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667854270,"creation_date":1667840789,"question_id":74350307,"body_markdown":"I have an rdd of columns (id,name) whose datatypes are (byte, string). When I am trying to convert it to a dataframe using below schema\r\n\r\n    id - longtype\r\n    name - stringtype\r\n\r\nI am getting the following error\r\n\r\n    java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint\r\n\r\nWhy is the byte not getting converted to long. Byte range is -128 to 127 which is within the range of long. I am able to convert short/integer to long, but not byte\r\n\r\nAny reason for that?","title":"java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint","body":"<p>I have an rdd of columns (id,name) whose datatypes are (byte, string). When I am trying to convert it to a dataframe using below schema</p>\n<pre><code>id - longtype\nname - stringtype\n</code></pre>\n<p>I am getting the following error</p>\n<pre><code>java.lang.RuntimeException: java.lang.Byte is not a valid external type for schema of bigint\n</code></pre>\n<p>Why is the byte not getting converted to long. Byte range is -128 to 127 which is within the range of long. I am able to convert short/integer to long, but not byte</p>\n<p>Any reason for that?</p>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667563964,"creation_date":1667563964,"answer_id":74316889,"question_id":74314548,"body_markdown":"You can take advantage of the &quot;prohibit&quot; operator (`-`) for this.\r\n\r\nFor example:\r\n\r\n    -anything\r\n\r\n...where the literal text &quot;anything&quot; is used - but you can use _any_ literal text you like, here. It could be `apples` or a term which actually does exist in your index.\r\n\r\nIf you have a default field defined, this will be executed against that default field.\r\n\r\nOr you can specify a field in your documents:\r\n\r\n    -body:anything\r\n\r\n---\r\n\r\n*Additional Notes*\r\n\r\nHow does this work? Why does `-anything` not return any results? Why doesn&#39;t it find all results which do not contain the term &quot;anything&quot;? \r\n\r\nFirst, `-anything` forces all documents which _do_ contain `anything` to have a score of zero (they are prohibited). But after that has been executed, there are no more clauses in the query. There is no more information for Lucene to use, to determine how any remaining documents should be scored. Therefore all documents remain unscored (they are all effectively 0). \r\n\r\nDocuments with no score are never returned by a standard query. \r\n\r\nThe &quot;prohibit&quot; operator is typically used in conjunction with one or more additional query clauses. Here we are using it on its own, which is how we can exploit this behavior.\r\n\r\n(You can also use `NOT` as a synonym for `-`.)","title":"How to create an empty lucene query","body":"<p>You can take advantage of the &quot;prohibit&quot; operator (<code>-</code>) for this.</p>\n<p>For example:</p>\n<pre><code>-anything\n</code></pre>\n<p>...where the literal text &quot;anything&quot; is used - but you can use <em>any</em> literal text you like, here. It could be <code>apples</code> or a term which actually does exist in your index.</p>\n<p>If you have a default field defined, this will be executed against that default field.</p>\n<p>Or you can specify a field in your documents:</p>\n<pre><code>-body:anything\n</code></pre>\n<hr />\n<p><em>Additional Notes</em></p>\n<p>How does this work? Why does <code>-anything</code> not return any results? Why doesn't it find all results which do not contain the term &quot;anything&quot;?</p>\n<p>First, <code>-anything</code> forces all documents which <em>do</em> contain <code>anything</code> to have a score of zero (they are prohibited). But after that has been executed, there are no more clauses in the query. There is no more information for Lucene to use, to determine how any remaining documents should be scored. Therefore all documents remain unscored (they are all effectively 0).</p>\n<p>Documents with no score are never returned by a standard query.</p>\n<p>The &quot;prohibit&quot; operator is typically used in conjunction with one or more additional query clauses. Here we are using it on its own, which is how we can exploit this behavior.</p>\n<p>(You can also use <code>NOT</code> as a synonym for <code>-</code>.)</p>\n"},{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667854263,"creation_date":1667854263,"answer_id":74352767,"question_id":74314548,"body_markdown":"If you just want a query that won&#39;t match any documents you should use [`MatchNoDocsQuery`][1]\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/6_4_2/core/org/apache/lucene/search/MatchNoDocsQuery.html","title":"How to create an empty lucene query","body":"<p>If you just want a query that won't match any documents you should use <a href=\"https://lucene.apache.org/core/6_4_2/core/org/apache/lucene/search/MatchNoDocsQuery.html\" rel=\"nofollow noreferrer\"><code>MatchNoDocsQuery</code></a></p>\n"}],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74352767,"answer_count":2,"score":1,"last_activity_date":1667854263,"creation_date":1667552886,"question_id":74314548,"body_markdown":"For my Lucene Queries I have some preconditions for security reasons.\r\n\r\n    if isValid()\r\n     return build.parse query\r\n    else\r\n     return null\r\n\r\nI want to replace this **`return null`**. I need something like &quot;empty&quot; query, a query thats will nothing do.\r\n\r\nIs there a way to build it ?","title":"How to create an empty lucene query","body":"<p>For my Lucene Queries I have some preconditions for security reasons.</p>\n<pre><code>if isValid()\n return build.parse query\nelse\n return null\n</code></pre>\n<p>I want to replace this <strong><code>return null</code></strong>. I need something like &quot;empty&quot; query, a query thats will nothing do.</p>\n<p>Is there a way to build it ?</p>\n"},{"tags":["java","spring","hibernate","jpa","querydsl"],"answers":[{"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":1,"creation_date":1667856746,"post_id":55326746,"comment_id":131263600,"body_markdown":"About changing List to Set to fetch multiple collections, be aware of the performance issue : see https://stackoverflow.com/questions/30088649/how-to-use-multiple-join-fetch-in-one-jpql-query","body":"About changing List to Set to fetch multiple collections, be aware of the performance issue : see <a href=\"https://stackoverflow.com/questions/30088649/how-to-use-multiple-join-fetch-in-one-jpql-query\" title=\"how to use multiple join fetch in one jpql query\">stackoverflow.com/questions/30088649/&hellip;</a>"}],"tags":[],"owner":{"account_id":2331687,"reputation":2858,"user_id":2044957,"display_name":"Peter Š&#225;ly"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1553452068,"creation_date":1553449927,"answer_id":55326746,"question_id":55326193,"body_markdown":"To avoid above exception there are two possibilities:\r\n\r\n1. Change `List` to `Set`  \r\nor\r\n2. Use `List` but do not fetch two bags. This means don&#39;t use `fetchJoin()` on both collections.\r\n\r\nFiltering:\r\n\r\nUsing where conditions collections will be not filtered.  Collections will contain all associated objects. Joining in JPA is for creating conditions on root object - Order. It is not the same as in SQL.\r\n\r\nIt is possible to filter associated collections using JPA 2.1 `JOIN ON` feature. This allows additional conditions in `ON` clause\r\n\r\nsee for example https://stackoverflow.com/questions/28849713/querydsl-left-join-with-additional-conditions-in-on","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<p>To avoid above exception there are two possibilities:</p>\n\n<ol>\n<li>Change <code>List</code> to <code>Set</code><br>\nor</li>\n<li>Use <code>List</code> but do not fetch two bags. This means don't use <code>fetchJoin()</code> on both collections.</li>\n</ol>\n\n<p>Filtering:</p>\n\n<p>Using where conditions collections will be not filtered.  Collections will contain all associated objects. Joining in JPA is for creating conditions on root object - Order. It is not the same as in SQL.</p>\n\n<p>It is possible to filter associated collections using JPA 2.1 <code>JOIN ON</code> feature. This allows additional conditions in <code>ON</code> clause</p>\n\n<p>see for example <a href=\"https://stackoverflow.com/questions/28849713/querydsl-left-join-with-additional-conditions-in-on\">QueryDSL Left Join with additional conditions in ON</a></p>\n"},{"tags":[],"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667854112,"creation_date":1556893863,"answer_id":55971922,"question_id":55326193,"body_markdown":"If you really can not use Set instead of List:&lt;br&gt;\r\n\r\n**Parent.class**\r\n\r\n    @OneToMany(\r\n\t\tmappedBy = &quot;parent&quot;,\r\n\t\torphanRemoval = true,\r\n\t\tcascade = { CascadeType.PERSIST, CascadeType.MERGE }\r\n\t)\r\n\t@OrderColumn(name = &quot;position&quot;)\r\n\tprivate List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\r\n\r\n**Child.class**\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n    private Parent parent;\r\n\r\nAnd create a column in the Child&#39;s table named e.g &quot;position&quot;\r\n\r\n    ALTER TABLE child ADD COLUMN position integer NOT NULL default 0\r\n\r\nAnd if you can not use other column in table, them you need to query the lists in sequence. Or use the id of the child and a custom getter.\r\n\r\n\r\n    @OrderColumn(name = &quot;id_child&quot;, updatable = false, insertable = false)\r\n    public List&lt;Child&gt; getChilds() {\r\n\t\tchilds.removeAll(Collections.singleton(null));\r\n\t\treturn childs;\r\n\t}\r\n    ","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<p>If you really can not use Set instead of List:<br></p>\n<p><strong>Parent.class</strong></p>\n<pre><code>@OneToMany(\n    mappedBy = &quot;parent&quot;,\n    orphanRemoval = true,\n    cascade = { CascadeType.PERSIST, CascadeType.MERGE }\n)\n@OrderColumn(name = &quot;position&quot;)\nprivate List&lt;Child&gt; childs = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>Child.class</strong></p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\nprivate Parent parent;\n</code></pre>\n<p>And create a column in the Child's table named e.g &quot;position&quot;</p>\n<pre><code>ALTER TABLE child ADD COLUMN position integer NOT NULL default 0\n</code></pre>\n<p>And if you can not use other column in table, them you need to query the lists in sequence. Or use the id of the child and a custom getter.</p>\n<pre><code>@OrderColumn(name = &quot;id_child&quot;, updatable = false, insertable = false)\npublic List&lt;Child&gt; getChilds() {\n    childs.removeAll(Collections.singleton(null));\n    return childs;\n}\n</code></pre>\n"}],"owner":{"account_id":1080940,"reputation":533,"user_id":1077960,"accept_rate":23,"display_name":"crazy_rudy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20302,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1678105749,"answer_count":2,"score":10,"last_activity_date":1667854112,"creation_date":1553446415,"question_id":55326193,"body_markdown":"&gt; org.springframework.dao.InvalidDataAccessApiUsageException:\r\n&gt; org.hibernate.loader.MultipleBagFetchException: cannot simultaneously\r\n&gt; fetch multiple bags: [Order.items, OrderItem.options];\r\n\r\nAbove is an exception i faced when i join three tables like below. \r\n\r\nOrderItemOption.java\r\n\r\n    @Entity\r\n    public class OrderItemOption {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;item_option_id&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;item_id&quot;, nullable = false)\r\n      private Long itemId;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(\r\n          name = &quot;item_id&quot;,\r\n          referencedColumnName = &quot;item_id&quot;,\r\n          insertable = false,\r\n          updatable = false\r\n      )\r\n      private OrderItem orderItem;\r\n    }\r\n\r\nOrderItem.java\r\n\r\n    @Entity\r\n    public class OrderItem {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;item_id&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;order_id&quot;, nullable = false)\r\n      private Long orderId;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(\r\n          name = &quot;order_id&quot;,\r\n          referencedColumnName = &quot;order_id&quot;,\r\n          insertable = false,\r\n          updatable = false,\r\n          nullable = false\r\n      )\r\n      private Order order;\r\n\r\n      @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;orderItem&quot;)\r\n      @OrderBy(&quot;item_option_id ASC&quot;)\r\n      private List&lt;OrderItemOption&gt; options;\r\n    }\r\n\r\nOrder.java\r\n\r\n    @Entity\r\n    public class Order {\r\n      @Id\r\n      @Column(name = &quot;order_id&quot;, nullable = false)\r\n      private Long id;\r\n    \r\n      @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;order&quot;)\r\n      @OrderBy(&quot;item_id ASC&quot;)\r\n      private List&lt;OrderItem&gt; items;\r\n    }\r\n\r\nAnd here&#39;s my QueryDSL code to join them at one time.\r\n\r\n    final QOrder order = QOrder.order;\r\n    final QOrderItem item = QOrderItem.orderItem;\r\n    final QOrderItemOption option = QOrderItemOption.orderItemOption;\r\n\r\n    from(order)\r\n    .leftJoin(order.items, item).fetchJoin()\r\n    .leftJoin(item.options, option).fetchJoin()\r\n    .where(\r\n        order.id.eq(orderId)\r\n            .and(item.id.in(itemIds))\r\n            .and(option.id.in(optionIds))\r\n    )\r\n    .fetchOne())\r\n\r\nWhat i&#39;m trying to do is to get Order object which contains filtered relationship, so that i can access filtered children via order object. \r\nand the type of relationship should be a List, not a Set.\r\n\r\nfor example, order.getItems().get(0).getOptions.get(0)\r\n\r\nHow can i achieve that goal?\r\n\r\n","title":"&quot;MultipleBagFetchException: cannot simultaneously fetch multiple bags&quot; when joining three depth table","body":"<blockquote>\n  <p>org.springframework.dao.InvalidDataAccessApiUsageException:\n  org.hibernate.loader.MultipleBagFetchException: cannot simultaneously\n  fetch multiple bags: [Order.items, OrderItem.options];</p>\n</blockquote>\n\n<p>Above is an exception i faced when i join three tables like below. </p>\n\n<p>OrderItemOption.java</p>\n\n<pre><code>@Entity\npublic class OrderItemOption {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"item_option_id\")\n  private Long id;\n\n  @Column(name = \"item_id\", nullable = false)\n  private Long itemId;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = \"item_id\",\n      referencedColumnName = \"item_id\",\n      insertable = false,\n      updatable = false\n  )\n  private OrderItem orderItem;\n}\n</code></pre>\n\n<p>OrderItem.java</p>\n\n<pre><code>@Entity\npublic class OrderItem {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = \"item_id\")\n  private Long id;\n\n  @Column(name = \"order_id\", nullable = false)\n  private Long orderId;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(\n      name = \"order_id\",\n      referencedColumnName = \"order_id\",\n      insertable = false,\n      updatable = false,\n      nullable = false\n  )\n  private Order order;\n\n  @OneToMany(fetch = FetchType.LAZY, mappedBy = \"orderItem\")\n  @OrderBy(\"item_option_id ASC\")\n  private List&lt;OrderItemOption&gt; options;\n}\n</code></pre>\n\n<p>Order.java</p>\n\n<pre><code>@Entity\npublic class Order {\n  @Id\n  @Column(name = \"order_id\", nullable = false)\n  private Long id;\n\n  @OneToMany(fetch = FetchType.LAZY, mappedBy = \"order\")\n  @OrderBy(\"item_id ASC\")\n  private List&lt;OrderItem&gt; items;\n}\n</code></pre>\n\n<p>And here's my QueryDSL code to join them at one time.</p>\n\n<pre><code>final QOrder order = QOrder.order;\nfinal QOrderItem item = QOrderItem.orderItem;\nfinal QOrderItemOption option = QOrderItemOption.orderItemOption;\n\nfrom(order)\n.leftJoin(order.items, item).fetchJoin()\n.leftJoin(item.options, option).fetchJoin()\n.where(\n    order.id.eq(orderId)\n        .and(item.id.in(itemIds))\n        .and(option.id.in(optionIds))\n)\n.fetchOne())\n</code></pre>\n\n<p>What i'm trying to do is to get Order object which contains filtered relationship, so that i can access filtered children via order object. \nand the type of relationship should be a List, not a Set.</p>\n\n<p>for example, order.getItems().get(0).getOptions.get(0)</p>\n\n<p>How can i achieve that goal?</p>\n"},{"tags":["java","spring","swagger"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1667852960,"post_id":74352369,"comment_id":131262591,"body_markdown":"There are 2 parts to an OpenAPI/Swagger - you need the specification document, that&#39;s  `/api-docs` and is generated by `springfox-swagger2`. The 2nd part is a UI that can display that document. That&#39;s usually `springfox-swagger-ui` if you include it on the server itself, alternatively if your docs at `/api-docs` are public you can simply put the url in the top of https://petstore.swagger.io/ and look at them there. https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api has some config hints for non boot apps but your question doesn&#39;t contain any clues why it may not work for you","body":"There are 2 parts to an OpenAPI/Swagger - you need the specification document, that&#39;s  <code>&#47;api-docs</code> and is generated by <code>springfox-swagger2</code>. The 2nd part is a UI that can display that document. That&#39;s usually <code>springfox-swagger-ui</code> if you include it on the server itself, alternatively if your docs at <code>&#47;api-docs</code> are public you can simply put the url in the top of <a href=\"https://petstore.swagger.io/\" rel=\"nofollow noreferrer\">petstore.swagger.io</a> and look at them there. <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">baeldung.com/swagger-2-documentation-for-spring-rest-api</a> has some config hints for non boot apps but your question doesn&#39;t contain any clues why it may not work for you"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1667894544,"post_id":74352369,"comment_id":131270152,"body_markdown":"@zapl thank you for your comment. \nSO is full of different questions/asnswers about reason why swagger doesn&#39;t work. \n\nI tried at least\n\n1.  https://stackoverflow.com/a/26722686/2674303 \n2.  https://stackoverflow.com/a/33258645/2674303 \n3.  https://github.com/springfox/springfox/issues/776 \n4.  https://stackoverflow.com/a/43545893/2674303 \n...\n\nBut I had almost no luck for some reasons","body":"@zapl thank you for your comment.  SO is full of different questions/asnswers about reason why swagger doesn&#39;t work.   I tried at least  1.  <a href=\"https://stackoverflow.com/a/26722686/2674303\">stackoverflow.com/a/26722686/2674303</a>  2.  <a href=\"https://stackoverflow.com/a/33258645/2674303\">stackoverflow.com/a/33258645/2674303</a>  3.  <a href=\"https://github.com/springfox/springfox/issues/776\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/776</a>  4.  <a href=\"https://stackoverflow.com/a/43545893/2674303\">stackoverflow.com/a/43545893/2674303</a>  ...  But I had almost no luck for some reasons"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1667893655,"post_id":74352659,"comment_id":131269902,"body_markdown":"Yes, it renders something but also it complains for a long list of errors:\n[link](http://dl4.joxi.net/drive/2022/11/08/0005/3037/338909/09/cd470d6676.jpg)","body":"Yes, it renders something but also it complains for a long list of errors: <a href=\"http://dl4.joxi.net/drive/2022/11/08/0005/3037/338909/09/cd470d6676.jpg\" rel=\"nofollow noreferrer\">link</a>"}],"tags":[],"owner":{"account_id":4757943,"reputation":3604,"user_id":3846192,"accept_rate":87,"display_name":"Oleksandr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667853492,"creation_date":1667853492,"answer_id":74352659,"question_id":74352369,"body_markdown":"If swagger generated OpenAPI document in YAML or JSON formats then you can copy and paste them here for a nice UI: https://editor.swagger.io ","title":"How to read result of `/api-docs` swagger endioint?","body":"<p>If swagger generated OpenAPI document in YAML or JSON formats then you can copy and paste them here for a nice UI: <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">https://editor.swagger.io</a></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74352659,"answer_count":1,"score":1,"last_activity_date":1667853492,"creation_date":1667851751,"question_id":74352369,"body_markdown":"I have quite an old application. Spring 5(non-boot). I wanted to have a swagger to understand contract between FE and BE.\r\nI think I&#39;ve read all topics at SO why Swagger-ui could be unavailable but it still doesn&#39;t fully working. But I was able to make `/api-docs` endpoint working altough I want to make working `/swagger-ui/index.htm`. I have no idea how to configure it so I want to know how to read such a hige json which is a respinse of `/api-docs`. Looks like it already contains all contracts.\r\nI tried to find online services like https://api-docs.io/ but it can&#39;t read the result for some reasons. Are there any other tools to read that response ?","title":"How to read result of `/api-docs` swagger endioint?","body":"<p>I have quite an old application. Spring 5(non-boot). I wanted to have a swagger to understand contract between FE and BE.\nI think I've read all topics at SO why Swagger-ui could be unavailable but it still doesn't fully working. But I was able to make <code>/api-docs</code> endpoint working altough I want to make working <code>/swagger-ui/index.htm</code>. I have no idea how to configure it so I want to know how to read such a hige json which is a respinse of <code>/api-docs</code>. Looks like it already contains all contracts.\nI tried to find online services like <a href=\"https://api-docs.io/\" rel=\"nofollow noreferrer\">https://api-docs.io/</a> but it can't read the result for some reasons. Are there any other tools to read that response ?</p>\n"},{"tags":["java","google-cloud-firestore","android-recyclerview","notifydatasetchanged"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1667889637,"post_id":74352614,"comment_id":131268889,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24326117,"reputation":2235,"user_id":18265638,"display_name":"Sathi Aiswarya"},"score":0,"creation_date":1667892157,"post_id":74352614,"comment_id":131269501,"body_markdown":"Have a look at this stackoverflow [link1](https://stackoverflow.com/questions/38289289/recyclerview-items-disappear-after-switching-between-fragments) &amp; [link2](https://stackoverflow.com/questions/70711293/after-second-click-on-fragment-recycler-view-disappears)","body":"Have a look at this stackoverflow <a href=\"https://stackoverflow.com/questions/38289289/recyclerview-items-disappear-after-switching-between-fragments\">link1</a> &amp; <a href=\"https://stackoverflow.com/questions/70711293/after-second-click-on-fragment-recycler-view-disappears\">link2</a>"},{"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"score":0,"creation_date":1667932804,"post_id":74352614,"comment_id":131284802,"body_markdown":"Yes. For me the problem is that the data from the RecyclerView is read from the Firestore Database and after pressing the save button and adding it in the database I cannot see it automatically in the list, it will be visible only if I change the page and come back to the previous one.\nThe code above makes the item to appear automatically after pressing the save button but if I go to another page and come back to the previous one the list disappears, but if I add a new item then the entire list will appear again.","body":"Yes. For me the problem is that the data from the RecyclerView is read from the Firestore Database and after pressing the save button and adding it in the database I cannot see it automatically in the list, it will be visible only if I change the page and come back to the previous one. The code above makes the item to appear automatically after pressing the save button but if I go to another page and come back to the previous one the list disappears, but if I add a new item then the entire list will appear again."}],"owner":{"account_id":23626869,"reputation":19,"user_id":17659262,"display_name":"Daiana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667853159,"creation_date":1667853159,"question_id":74352614,"body_markdown":"I have a fragment. In this fragment I&#39;ve created a button. After pressing the button a Dialog Fragment will be shown and the user will be able to write a text in an EditText element. I want this text to be visible automatically on the page after pressing the &quot;Save&quot; button. I can see the text only if I navigate to another Fragment and then come back to this one. \r\nI store the input data in Firestore database. Before adding the data in the Recycler View I read the database and verify that there isn&#39;t the same data so in this way there won&#39;t be duplicate data. \r\n\r\n\r\nI tried to add the item in the RecyclerView when verifying that the data isn&#39;t already in the database. In this way the data can be seen automatically but the problem is that if I go to another Fragment and come back to that one the RecyclerView looks like it&#39;s empty, if I add another element to it then it will appear and I can see all the elements added before also. \r\nWhy the elements disappear if I navigate to another page/ Fragment ? \r\n\r\n```\r\nmQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            for (DocumentSnapshot ds : task.getResult()) {\r\n                String wishdescriptionfirestore = ds.getString(&quot;description&quot;);\r\n                if ((wish.equals(wishdescriptionfirestore)) ) {\r\n                    Log.d(TAG, &quot;You already added this wish, add another!&quot;);\r\n                    Toast.makeText(getContext(), &quot;You already added this wish, add another!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n        if (task.getResult().size() == 0) {\r\n            try {\r\n       mQuery1 = firestore.collection(&quot;Users&quot;).document(currentid).collection(&quot;wishes&quot;);\r\n       mQuery1.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n       @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n       @Override\r\n       public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n         if (task.isSuccessful()) {\r\n            for (DocumentSnapshot ds : task.getResult()) {\r\n                Wish wishtorecycler = ds.toObject(Wish.class);\r\n                Log.d(TAG,&quot;wish description  = &quot;+ wishtorecycler.description);\r\n                wisheslist.add(wishtorecycler);\r\n                addWishAdapter.notifyDataSetChanged();\r\n            }\r\n            addWishAdapter.notifyDataSetChanged();\r\n        }  else {\r\n            Log.d(TAG,&quot;Error &quot; + task.getException().getMessage());\r\n        }\r\n\r\n    }\r\n\r\n\r\n});\r\n    documentnewWish.set(wishes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            addWishAdapter.notifyDataSetChanged();\r\n            Log.d(TAG, &quot;Wish added! &quot; + documentnewWish.get());\r\n        }\r\n    });\r\n} catch (Exception e) {\r\n    Log.e(TAG, &quot;NullPointerException: &quot; + e.getMessage());\r\n    Toast.makeText(getContext(), &quot;Request exists!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n}\r\n\r\n```","title":"Recycler View isn&#39;t updating automatically after adding a new item","body":"<p>I have a fragment. In this fragment I've created a button. After pressing the button a Dialog Fragment will be shown and the user will be able to write a text in an EditText element. I want this text to be visible automatically on the page after pressing the &quot;Save&quot; button. I can see the text only if I navigate to another Fragment and then come back to this one.\nI store the input data in Firestore database. Before adding the data in the Recycler View I read the database and verify that there isn't the same data so in this way there won't be duplicate data.</p>\n<p>I tried to add the item in the RecyclerView when verifying that the data isn't already in the database. In this way the data can be seen automatically but the problem is that if I go to another Fragment and come back to that one the RecyclerView looks like it's empty, if I add another element to it then it will appear and I can see all the elements added before also.\nWhy the elements disappear if I navigate to another page/ Fragment ?</p>\n<pre><code>mQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (DocumentSnapshot ds : task.getResult()) {\n                String wishdescriptionfirestore = ds.getString(&quot;description&quot;);\n                if ((wish.equals(wishdescriptionfirestore)) ) {\n                    Log.d(TAG, &quot;You already added this wish, add another!&quot;);\n                    Toast.makeText(getContext(), &quot;You already added this wish, add another!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n        if (task.getResult().size() == 0) {\n            try {\n       mQuery1 = firestore.collection(&quot;Users&quot;).document(currentid).collection(&quot;wishes&quot;);\n       mQuery1.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n       @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n       @Override\n       public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n         if (task.isSuccessful()) {\n            for (DocumentSnapshot ds : task.getResult()) {\n                Wish wishtorecycler = ds.toObject(Wish.class);\n                Log.d(TAG,&quot;wish description  = &quot;+ wishtorecycler.description);\n                wisheslist.add(wishtorecycler);\n                addWishAdapter.notifyDataSetChanged();\n            }\n            addWishAdapter.notifyDataSetChanged();\n        }  else {\n            Log.d(TAG,&quot;Error &quot; + task.getException().getMessage());\n        }\n\n    }\n\n\n});\n    documentnewWish.set(wishes).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            addWishAdapter.notifyDataSetChanged();\n            Log.d(TAG, &quot;Wish added! &quot; + documentnewWish.get());\n        }\n    });\n} catch (Exception e) {\n    Log.e(TAG, &quot;NullPointerException: &quot; + e.getMessage());\n    Toast.makeText(getContext(), &quot;Request exists!&quot;, Toast.LENGTH_SHORT).show();\n\n}\n\n</code></pre>\n"},{"tags":["java","opengl","jogl"],"comments":[{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1667763174,"post_id":74338537,"comment_id":131239375,"body_markdown":"You probably get the scaled size in the `reshape` callback. So the viewport is set with the wrong size (`gl.glViewport(0, 0, width, height);`)","body":"You probably get the scaled size in the <code>reshape</code> callback. So the viewport is set with the wrong size (<code>gl.glViewport(0, 0, width, height);</code>)"},{"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"score":1,"creation_date":1667767990,"post_id":74338537,"comment_id":131240403,"body_markdown":"Hm, you are right, adding 25% to width and height in viewport fixes the problem, but only with case when it scaled 125%. I might think about how to make it universal for every scaling percentage and post the answer with that","body":"Hm, you are right, adding 25% to width and height in viewport fixes the problem, but only with case when it scaled 125%. I might think about how to make it universal for every scaling percentage and post the answer with that"}],"answers":[{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1667848804,"post_id":74340005,"comment_id":131261386,"body_markdown":"Your workaround is correct but if you want to give us a chance to fix it within JOGL, rather post on our official forum and indicate at least which version of Java you use.","body":"Your workaround is correct but if you want to give us a chance to fix it within JOGL, rather post on our official forum and indicate at least which version of Java you use."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1667849061,"post_id":74340005,"comment_id":131261465,"body_markdown":"I use this workaround: https://jogamp.org/cgit/ardor3d.git/tree/ardor3d-jogl-awt/src/main/java/com/ardor3d/framework/jogl/awt/JoglAwtCanvas.java#n67","body":"I use this workaround: <a href=\"https://jogamp.org/cgit/ardor3d.git/tree/ardor3d-jogl-awt/src/main/java/com/ardor3d/framework/jogl/awt/JoglAwtCanvas.java#n67\" rel=\"nofollow noreferrer\">jogamp.org/cgit/ardor3d.git/tree/ardor3d-jogl-awt/src/main/j&zwnj;&#8203;ava/&hellip;</a>"}],"tags":[],"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667848850,"creation_date":1667770997,"answer_id":74340005,"question_id":74338537,"body_markdown":"So, using Rabbid76&#39;s advice, I came up with this solution: I added this to my class, using this answer https://stackoverflow.com/a/70119734/20433881 :\r\n```\r\n    private static JFrame frame = null;\r\n    private static float scalingFactor;\r\n    \r\n    private static float getScalingFactor() {\r\n        return (float) getWindow(frame).getGraphicsConfiguration().getDefaultTransform().getScaleX();\r\n    }\r\n```\r\nAdded this line to main(), after creation of a frame:\r\n```\r\nscalingFactor = getScalingFactor();\r\n```\r\nAnd also I changed line with viewport like this:\r\n```\r\ngl.glViewport(0, 0, (int) (width * scalingFactor), (int) (height * scalingFactor));\r\n```","title":"Windows scaling causes blank spaces in JOGL","body":"<p>So, using Rabbid76's advice, I came up with this solution: I added this to my class, using this answer <a href=\"https://stackoverflow.com/a/70119734/20433881\">https://stackoverflow.com/a/70119734/20433881</a> :</p>\n<pre><code>    private static JFrame frame = null;\n    private static float scalingFactor;\n    \n    private static float getScalingFactor() {\n        return (float) getWindow(frame).getGraphicsConfiguration().getDefaultTransform().getScaleX();\n    }\n</code></pre>\n<p>Added this line to main(), after creation of a frame:</p>\n<pre><code>scalingFactor = getScalingFactor();\n</code></pre>\n<p>And also I changed line with viewport like this:</p>\n<pre><code>gl.glViewport(0, 0, (int) (width * scalingFactor), (int) (height * scalingFactor));\n</code></pre>\n"}],"owner":{"account_id":26848525,"reputation":103,"user_id":20433881,"display_name":"StreakerOne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74340005,"answer_count":1,"score":3,"last_activity_date":1667852922,"creation_date":1667758727,"question_id":74338537,"body_markdown":"Im using Java OpenGL binding (JOGL 2.3.2) and the problem is my canvas is stuck in lower left corner of my form, so no matter what i write, theres black spaces on the top and right of canvas. \r\n\r\nI figured out that this is because the scaling in my windows settings is set to 125%, and if i set it to 100%, the problem goes away. But, i feel like this is not the right way to solve such problems. Here is my code for creating a frame:\r\n\r\n```\r\n//FrameMain class just adds listener to frame so it can be closed by pressing cross button\r\nfinal FrameMain frame = new FrameMain(&quot;Form 1&quot;);\r\nframe.setSize(720, 720);\r\n\r\nfinal GLProfile profile = GLProfile.get(GLProfile.GL2);\r\nGLCapabilities capabilities = new GLCapabilities(profile);\r\n\r\n// The canvas\r\nfinal GLCanvas glcanvas = new GLCanvas(capabilities);\r\nAppMain b = new AppMain();\r\nglcanvas.addGLEventListener(b);\r\nglcanvas.setSize(720, 720);\r\nframe.add(glcanvas);\r\nframe.setVisible(true);\r\n```\r\nAnd my display and reshape methods:\r\n```\r\npublic void display(GLAutoDrawable drawable) {\r\n    GL2 gl = drawable.getGL().getGL2();\r\n    gl.glBegin(GL2.GL_QUADS);\r\n    gl.glVertex3f(-1, 1, 0);\r\n    gl.glVertex3f(1, 1, 0);\r\n    gl.glVertex3f(1, -1, 0);\r\n    gl.glVertex3f(-1, -1, 0);\r\n    gl.glEnd();\r\n}\r\n\r\npublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {\r\n    GL2 gl = drawable.getGL().getGL2();\r\n\r\n    gl.glLoadIdentity();\r\n    gl.glViewport(0, 0, width, height);\r\n}\r\n```\r\nThe result i am getting:\r\n\r\n[![strange black spaces](https://i.stack.imgur.com/Gh5XX.png)](https://i.stack.imgur.com/Gh5XX.png)\r\n\r\nHow do i make so canvas occupy full form, and not like it is now?\r\n\r\nPS: i cant change technologies used, it should be JOGL and something that creates window without external libraries. Yes, i know that swing is outdated and ugly\r\n","title":"Windows scaling causes blank spaces in JOGL","body":"<p>Im using Java OpenGL binding (JOGL 2.3.2) and the problem is my canvas is stuck in lower left corner of my form, so no matter what i write, theres black spaces on the top and right of canvas.</p>\n<p>I figured out that this is because the scaling in my windows settings is set to 125%, and if i set it to 100%, the problem goes away. But, i feel like this is not the right way to solve such problems. Here is my code for creating a frame:</p>\n<pre><code>//FrameMain class just adds listener to frame so it can be closed by pressing cross button\nfinal FrameMain frame = new FrameMain(&quot;Form 1&quot;);\nframe.setSize(720, 720);\n\nfinal GLProfile profile = GLProfile.get(GLProfile.GL2);\nGLCapabilities capabilities = new GLCapabilities(profile);\n\n// The canvas\nfinal GLCanvas glcanvas = new GLCanvas(capabilities);\nAppMain b = new AppMain();\nglcanvas.addGLEventListener(b);\nglcanvas.setSize(720, 720);\nframe.add(glcanvas);\nframe.setVisible(true);\n</code></pre>\n<p>And my display and reshape methods:</p>\n<pre><code>public void display(GLAutoDrawable drawable) {\n    GL2 gl = drawable.getGL().getGL2();\n    gl.glBegin(GL2.GL_QUADS);\n    gl.glVertex3f(-1, 1, 0);\n    gl.glVertex3f(1, 1, 0);\n    gl.glVertex3f(1, -1, 0);\n    gl.glVertex3f(-1, -1, 0);\n    gl.glEnd();\n}\n\npublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {\n    GL2 gl = drawable.getGL().getGL2();\n\n    gl.glLoadIdentity();\n    gl.glViewport(0, 0, width, height);\n}\n</code></pre>\n<p>The result i am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/Gh5XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gh5XX.png\" alt=\"strange black spaces\" /></a></p>\n<p>How do i make so canvas occupy full form, and not like it is now?</p>\n<p>PS: i cant change technologies used, it should be JOGL and something that creates window without external libraries. Yes, i know that swing is outdated and ugly</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667851454,"post_id":74352266,"comment_id":131262223,"body_markdown":"Welcome to Stack Overflow. Please do not post images of text. Instead, copy and paste text into the question body. You may edit the question.","body":"Welcome to Stack Overflow. Please do not post images of text. Instead, copy and paste text into the question body. You may edit the question."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667852873,"creation_date":1667852873,"answer_id":74352562,"question_id":74352266,"body_markdown":"You are trying to match a call like\r\n\r\n    tree.getPosition().x\r\n\r\nbut the method you put into your Tree class is\r\n\r\n    void getPosition() { ... }\r\n\r\nso this method will never return a point that has x and y coordinates. Change this method into\r\n\r\n    Point getPosition() { ... }","title":"How can I access these getPosition.x and getPosition.y values?","body":"<p>You are trying to match a call like</p>\n<pre><code>tree.getPosition().x\n</code></pre>\n<p>but the method you put into your Tree class is</p>\n<pre><code>void getPosition() { ... }\n</code></pre>\n<p>so this method will never return a point that has x and y coordinates. Change this method into</p>\n<pre><code>Point getPosition() { ... }\n</code></pre>\n"}],"owner":{"account_id":26045713,"reputation":3,"user_id":19749784,"display_name":"Lucas Juel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74352562,"answer_count":1,"score":-1,"last_activity_date":1667852873,"creation_date":1667851142,"question_id":74352266,"body_markdown":"I&#39;ve been stuck on this problem for a while now. It&#39;s for a school assignment, our lector provided us with a ForestSimulation.java file, that calls for a tree.getPosition().x, as seen here:[![tree.getPosition().x](https://i.stack.imgur.com/Wv2rv.png)](https://i.stack.imgur.com/Wv2rv.png)\r\n\r\nWe are told to make the methods that are needed, so I&#39;ve made a Tree class aswell as a Birch class. \r\n[![enter image description here](https://i.stack.imgur.com/td8Y1.png)](https://i.stack.imgur.com/td8Y1.png)[![enter image description here](https://i.stack.imgur.com/r6Ybz.png)](https://i.stack.imgur.com/r6Ybz.png)\r\n\r\nYet I feel that no matter how I declare the x and y-values I can&#39;t figure to make it work.\r\n\r\nI&#39;ve tried a non abstract getPosition, and calling this.x in the method body. I&#39;ve tried (as in SS) to make it an abstract method. But nothing seems to work.\r\n\r\nPlease help &lt;3","title":"How can I access these getPosition.x and getPosition.y values?","body":"<p>I've been stuck on this problem for a while now. It's for a school assignment, our lector provided us with a ForestSimulation.java file, that calls for a tree.getPosition().x, as seen here:<a href=\"https://i.stack.imgur.com/Wv2rv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wv2rv.png\" alt=\"tree.getPosition().x\" /></a></p>\n<p>We are told to make the methods that are needed, so I've made a Tree class aswell as a Birch class.\n<a href=\"https://i.stack.imgur.com/td8Y1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/td8Y1.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/r6Ybz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6Ybz.png\" alt=\"enter image description here\" /></a></p>\n<p>Yet I feel that no matter how I declare the x and y-values I can't figure to make it work.</p>\n<p>I've tried a non abstract getPosition, and calling this.x in the method body. I've tried (as in SS) to make it an abstract method. But nothing seems to work.</p>\n<p>Please help &lt;3</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667846104,"post_id":74350851,"comment_id":131260514,"body_markdown":"The way you&#39;ve designed your code, the number of threads is not a cap on the number of concurrent requests.  Limiting the threads isn&#39;t what you need, you need, like, to use a Semaphore or something to cap the concurrency.","body":"The way you&#39;ve designed your code, the number of threads is not a cap on the number of concurrent requests.  Limiting the threads isn&#39;t what you need, you need, like, to use a Semaphore or something to cap the concurrency."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852694,"creation_date":1667852694,"answer_id":74352533,"question_id":74350851,"body_markdown":"Since parallel streams are using Fork/Join framework under the hood, to limit the number of treads employed by the stream, you can wrap the stream with a `Callable` and define a `ForkJoinPool` having the required level of parallelism as described.\r\n\r\nThe threads occupied by the parallel Stream would be taken from the new created `ForkJoinPool`, to which the callable task was submitted (*not from the common poll*) as described [here](https://stackoverflow.com/a/30802737/17949945).\r\n\r\nThe downside of this approach is that you&#39;re relying on the implementation detail of the Stream API.\r\n\r\nAnd also as *@Louis Wasserman* has pointed out in the [comment\r\n](https://stackoverflow.com/questions/74350851/parallelstream-pool-size#comment131260514_74350851) you probably might need another way of limiting the number of threads used in the stream. Because you&#39;re performing database queries, each tread would require a database connection to do its job, hence the number of threads should not be greater than the number of available connections that the data source can provide at the moment. And if you have multiple processes that can fire these asynchronous tasks simultaneously (for instance in a web application), it doesn&#39;t seem to be a good idea to try to develop your own solution. If that&#39;s the case, you might consider using a framework like Spring WebFlax.\r\n","title":"ParallelStream pool size","body":"<p>Since parallel streams are using Fork/Join framework under the hood, to limit the number of treads employed by the stream, you can wrap the stream with a <code>Callable</code> and define a <code>ForkJoinPool</code> having the required level of parallelism as described.</p>\n<p>The threads occupied by the parallel Stream would be taken from the new created <code>ForkJoinPool</code>, to which the callable task was submitted (<em>not from the common poll</em>) as described <a href=\"https://stackoverflow.com/a/30802737/17949945\">here</a>.</p>\n<p>The downside of this approach is that you're relying on the implementation detail of the Stream API.</p>\n<p>And also as <em>@Louis Wasserman</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74350851/parallelstream-pool-size#comment131260514_74350851\">comment\n</a> you probably might need another way of limiting the number of threads used in the stream. Because you're performing database queries, each tread would require a database connection to do its job, hence the number of threads should not be greater than the number of available connections that the data source can provide at the moment. And if you have multiple processes that can fire these asynchronous tasks simultaneously (for instance in a web application), it doesn't seem to be a good idea to try to develop your own solution. If that's the case, you might consider using a framework like Spring WebFlax.</p>\n"}],"owner":{"account_id":25289559,"reputation":13,"user_id":19115926,"display_name":"cookerfresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667852694,"creation_date":1667843494,"question_id":74350851,"body_markdown":"I have a parallel stream with a few database queries inside like this:\r\n\r\n```\r\nprivate void processParallel() {\r\nList\\&lt;Result\\&gt; = objects.parallelStream().peek(object -\\&gt; {\r\ndoSomething(object)\r\n}\r\n}\r\n\r\nprivate void doSomething(object) {\r\nCompletableFuture&lt;String&gt; param =\r\n        CompletableFuture.supplyAsync(() -&gt; objectService.getParam(object.getField())),\r\n                executor)\r\n                .thenApply(object-&gt; Optional.ofNullable(object)\r\n                        .map(Object::getParam)\r\n                        .orElse(null));\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nI need to specify the pool size, but setting the property &quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;,&quot;20&quot; is not working, probably because of locking the stream. Is there any way to limit the max amount of threads?","title":"ParallelStream pool size","body":"<p>I have a parallel stream with a few database queries inside like this:</p>\n<pre><code>private void processParallel() {\nList\\&lt;Result\\&gt; = objects.parallelStream().peek(object -\\&gt; {\ndoSomething(object)\n}\n}\n\nprivate void doSomething(object) {\nCompletableFuture&lt;String&gt; param =\n        CompletableFuture.supplyAsync(() -&gt; objectService.getParam(object.getField())),\n                executor)\n                .thenApply(object-&gt; Optional.ofNullable(object)\n                        .map(Object::getParam)\n                        .orElse(null));\n}\n</code></pre>\n<p>I need to specify the pool size, but setting the property &quot;java.util.concurrent.ForkJoinPool.common.parallelism&quot;,&quot;20&quot; is not working, probably because of locking the stream. Is there any way to limit the max amount of threads?</p>\n"},{"tags":["java","regex","whitespace"],"comments":[{"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"score":1,"creation_date":1295402749,"post_id":4731055,"comment_id":5227732,"body_markdown":"String has a replaceAll function that will save you a few lines of code. http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html","body":"String has a replaceAll function that will save you a few lines of code. <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/api/java/lang/String.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1302534909,"post_id":4731055,"comment_id":6407195,"body_markdown":"It isn’t your misunderstanding, but Java’s.  Try splitting a string like `&quot;abc \\xA0   def \\x85  xyz&quot;` to see what I mean: there are only three fields there.","body":"It isn’t your misunderstanding, but Java’s.  Try splitting a string like <code>&quot;abc \\xA0   def \\x85  xyz&quot;</code> to see what I mean: there are only three fields there."},{"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"score":5,"creation_date":1367757196,"post_id":4731055,"comment_id":23482712,"body_markdown":"Did you try &quot;\\\\s+&quot;. With this you replace two or more spaces to one.","body":"Did you try &quot;\\\\s+&quot;. With this you replace two or more spaces to one."},{"owner":{"account_id":101657,"reputation":4161,"user_id":273344,"accept_rate":57,"display_name":"Marcin"},"score":1,"creation_date":1400372910,"post_id":4731055,"comment_id":36451507,"body_markdown":"I&#39;ve been wondering for over an hour why my \\\\s split is not splitting over whitespace. Thanks a million!","body":"I&#39;ve been wondering for over an hour why my \\\\s split is not splitting over whitespace. Thanks a million!"}],"answers":[{"tags":[],"owner":{"account_id":37250,"reputation":12091,"user_id":106463,"display_name":"Mihai Toader"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1295402511,"creation_date":1295402511,"answer_id":4731081,"question_id":4731055,"body_markdown":"Seems to work for me:\r\n\r\n    String s = &quot;  a   b      c&quot;;\r\n    System.out.println(&quot;\\&quot;&quot;  + s.replaceAll(&quot;\\\\s\\\\s&quot;, &quot; &quot;) + &quot;\\&quot;&quot;);\r\n\r\nwill print:\r\n\r\n    &quot; a  b   c&quot;\r\n\r\nI think you intended to do this instead of your code:\r\n\r\n    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    Matcher matcher = whitespace.matcher(s);\r\n    String result = &quot;&quot;;\r\n    if (matcher.find()) {\r\n        result = matcher.replaceAll(&quot; &quot;);\r\n    }\r\n    \r\n    System.out.println(result);\r\n\r\n\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Seems to work for me:</p>\n\n<pre><code>String s = \"  a   b      c\";\nSystem.out.println(\"\\\"\"  + s.replaceAll(\"\\\\s\\\\s\", \" \") + \"\\\"\");\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>\" a  b   c\"\n</code></pre>\n\n<p>I think you intended to do this instead of your code:</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nMatcher matcher = whitespace.matcher(s);\nString result = \"\";\nif (matcher.find()) {\n    result = matcher.replaceAll(\" \");\n}\n\nSystem.out.println(result);\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user372743"},"score":19,"creation_date":1295402951,"post_id":4731086,"comment_id":5227760,"body_markdown":"Gah. I feel like the biggest idiot on earth. Neither I nor two other people seemed to notice that. I guess the stupidest little errors throw us off sometimes, eh?","body":"Gah. I feel like the biggest idiot on earth. Neither I nor two other people seemed to notice that. I guess the stupidest little errors throw us off sometimes, eh?"},{"owner":{"account_id":4269007,"reputation":131,"user_id":3491356,"display_name":"saibharath"},"score":0,"creation_date":1411138956,"post_id":4731086,"comment_id":40604431,"body_markdown":"So true! I guess that happens with the best of them","body":"So true! I guess that happens with the best of them"},{"owner":{"account_id":3171366,"reputation":2879,"user_id":2680254,"accept_rate":54,"display_name":"Gilberto Ibarra"},"score":0,"creation_date":1470436529,"post_id":4731086,"comment_id":64967527,"body_markdown":"What happen if I need get if the text had White Spaces.?","body":"What happen if I need get if the text had White Spaces.?"},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":1,"creation_date":1571917542,"post_id":4731086,"comment_id":103403070,"body_markdown":"Per my answer below use \\p{Zs} instead of \\s if you want to match unicode whitespace.","body":"Per my answer below use \\p{Zs} instead of \\s if you want to match unicode whitespace."}],"tags":[],"owner":{"account_id":275399,"reputation":5098,"user_id":568260,"display_name":"Raph Levien"},"comment_count":4,"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1590915983,"creation_date":1295402545,"answer_id":4731086,"question_id":4731055,"body_markdown":"Yeah, you need to grab the result of `matcher.replaceAll()`:\r\n\r\n    String result = matcher.replaceAll(&quot; &quot;);\r\n    System.out.println(result);\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Yeah, you need to grab the result of <code>matcher.replaceAll()</code>:</p>\n\n<pre><code>String result = matcher.replaceAll(\" \");\nSystem.out.println(result);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1295446025,"post_id":4731164,"comment_id":5234193,"body_markdown":"@Glenn: CASE_INSENSITIVE does not affect whether the charclass abbreviations work on ASCII vs Unicode.","body":"@Glenn: CASE_INSENSITIVE does not affect whether the charclass abbreviations work on ASCII vs Unicode."},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":8,"creation_date":1406504512,"post_id":4731164,"comment_id":38845530,"body_markdown":"this is really old. is it correct that this was fixed in java7 with the UNICODE_CHARACTER_CLASS flag? (or using (?U))","body":"this is really old. is it correct that this was fixed in java7 with the UNICODE_CHARACTER_CLASS flag? (or using (?U))"},{"owner":{"account_id":4586903,"reputation":1824,"user_id":3721259,"accept_rate":77,"display_name":"AV94"},"score":0,"creation_date":1442240389,"post_id":4731164,"comment_id":52989312,"body_markdown":"@tchrist can u help me with this., I wrote a java regex in this way- abc def(\\\\sthe) ghi. I want the following patterns to be recognised-&quot;abc def the ghi&quot; and  &quot;abc def ghi&quot;.But only second pattern is being recognized.What am imissing?","body":"@tchrist can u help me with this., I wrote a java regex in this way- abc def(\\\\sthe) ghi. I want the following patterns to be recognised-&quot;abc def the ghi&quot; and  &quot;abc def ghi&quot;.But only second pattern is being recognized.What am imissing?"},{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":2,"creation_date":1442934952,"post_id":4731164,"comment_id":53283630,"body_markdown":"A shorter way to rewrite `\\s` is `[\\s\\u0085\\p{Z}]`.","body":"A shorter way to rewrite <code>\\s</code> is <code>[\\s\\u0085\\p{Z}]</code>."},{"owner":{"account_id":124855,"reputation":19802,"user_id":320220,"accept_rate":85,"display_name":"beerbajay"},"score":7,"creation_date":1451397888,"post_id":4731164,"comment_id":56766071,"body_markdown":"@tchrist If this is fixed in java 7+, could you update the answer with the now-correct way to do this?","body":"@tchrist If this is fixed in java 7+, could you update the answer with the now-correct way to do this?"},{"owner":{"account_id":4308080,"reputation":1029,"user_id":3519951,"accept_rate":60,"display_name":"JM Lord"},"score":0,"creation_date":1464785962,"post_id":4731164,"comment_id":62625950,"body_markdown":"I included this one in the list as well: &quot;\\\\u200B&quot; // ZERO-WIDTH SPACE","body":"I included this one in the list as well: &quot;\\\\u200B&quot; // ZERO-WIDTH SPACE"},{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":14,"creation_date":1473035334,"post_id":4731164,"comment_id":65977233,"body_markdown":"With Java 7+ you can do: &quot;(?U)\\s&quot; to run the regex with Unicode Technical Standard conformance. Or you can make the UNICODE_CHARACTER_CLASS flag true when creating the pattern. Here&#39;s the doc: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS","body":"With Java 7+ you can do: &quot;(?U)\\s&quot; to run the regex with Unicode Technical Standard conformance. Or you can make the UNICODE_CHARACTER_CLASS flag true when creating the pattern. Here&#39;s the doc: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/regex/&hellip;</a>"},{"owner":{"account_id":5366163,"reputation":256,"user_id":4276076,"accept_rate":82,"display_name":"tomSurge"},"score":0,"creation_date":1479319821,"post_id":4731164,"comment_id":68510768,"body_markdown":"Thank you, for some reason when I tried scraping data Java would not recognize the space. This worked flawlessly!","body":"Thank you, for some reason when I tried scraping data Java would not recognize the space. This worked flawlessly!"},{"owner":{"account_id":916691,"reputation":893,"user_id":949338,"display_name":"Jelle van Geuns"},"score":3,"creation_date":1545252080,"post_id":4731164,"comment_id":94565471,"body_markdown":"The above code is missing \\\\u200B (ZERO WIDTH SPACE)","body":"The above code is missing \\\\u200B (ZERO WIDTH SPACE)"},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":0,"creation_date":1571917485,"post_id":4731164,"comment_id":103403041,"body_markdown":"This is overly complicated in today&#39;s Java.  See my answer below.  Use \\p{Zs}.","body":"This is overly complicated in today&#39;s Java.  See my answer below.  Use \\p{Zs}."}],"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"comment_count":10,"down_vote_count":2,"up_vote_count":220,"is_accepted":false,"score":218,"last_activity_date":1562773516,"creation_date":1295403411,"answer_id":4731164,"question_id":4731055,"body_markdown":"You can’t use `\\s` in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet [UTS#18’s RL1.2!](http://www.unicode.org/reports/tr18/#Categories)  What it does have is not standards-conforming, alas.\r\n\r\nUnicode defines 26 code points as `\\p{White_Space}`: 20 of them are various sorts of `\\pZ` *GeneralCategory=Separator*, and the remaining 6 are `\\p{Cc}` *GeneralCategory=Control*.  \r\n\r\nWhite space is a pretty stable property, and those same ones have been around virtually forever. Even so,  Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:\r\n\r\n    String whitespace_chars =  &quot;&quot;       /* dummy empty string for homogeneity */\r\n                            + &quot;\\\\u0009&quot; // CHARACTER TABULATION\r\n                            + &quot;\\\\u000A&quot; // LINE FEED (LF)\r\n                            + &quot;\\\\u000B&quot; // LINE TABULATION\r\n                            + &quot;\\\\u000C&quot; // FORM FEED (FF)\r\n                            + &quot;\\\\u000D&quot; // CARRIAGE RETURN (CR)\r\n                            + &quot;\\\\u0020&quot; // SPACE\r\n                            + &quot;\\\\u0085&quot; // NEXT LINE (NEL) \r\n                            + &quot;\\\\u00A0&quot; // NO-BREAK SPACE\r\n                            + &quot;\\\\u1680&quot; // OGHAM SPACE MARK\r\n                            + &quot;\\\\u180E&quot; // MONGOLIAN VOWEL SEPARATOR\r\n                            + &quot;\\\\u2000&quot; // EN QUAD \r\n                            + &quot;\\\\u2001&quot; // EM QUAD \r\n                            + &quot;\\\\u2002&quot; // EN SPACE\r\n                            + &quot;\\\\u2003&quot; // EM SPACE\r\n                            + &quot;\\\\u2004&quot; // THREE-PER-EM SPACE\r\n                            + &quot;\\\\u2005&quot; // FOUR-PER-EM SPACE\r\n                            + &quot;\\\\u2006&quot; // SIX-PER-EM SPACE\r\n                            + &quot;\\\\u2007&quot; // FIGURE SPACE\r\n                            + &quot;\\\\u2008&quot; // PUNCTUATION SPACE\r\n                            + &quot;\\\\u2009&quot; // THIN SPACE\r\n                            + &quot;\\\\u200A&quot; // HAIR SPACE\r\n                            + &quot;\\\\u2028&quot; // LINE SEPARATOR\r\n                            + &quot;\\\\u2029&quot; // PARAGRAPH SEPARATOR\r\n                            + &quot;\\\\u202F&quot; // NARROW NO-BREAK SPACE\r\n                            + &quot;\\\\u205F&quot; // MEDIUM MATHEMATICAL SPACE\r\n                            + &quot;\\\\u3000&quot; // IDEOGRAPHIC SPACE\r\n                            ;        \r\n    /* A \\s that actually works for Java’s native character set: Unicode */\r\n    String     whitespace_charclass = &quot;[&quot;  + whitespace_chars + &quot;]&quot;;    \r\n    /* A \\S that actually works for  Java’s native character set: Unicode */\r\n    String not_whitespace_charclass = &quot;[^&quot; + whitespace_chars + &quot;]&quot;;\r\n\r\nNow you can use `whitespace_charclass + &quot;+&quot;` as the pattern in your `replaceAll`.\r\n\r\n---------\r\n\r\nSorry ’bout all that. **Java’s regexes just don’t work very well on its own native character set,** and so you really have to jump through exotic hoops to make them work. \r\n\r\nAnd if you think white space is bad, you should see what you have to do to get `\\w` and `\\b` to finally behave properly! \r\n\r\nYes, it’s possible, and yes, it’s a mindnumbing mess.  That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.\r\n\r\nIf you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of [RL1.2a in UTS#18, *Unicode Regular Expressions*](http://www.unicode.org/reports/tr18/#Compatibility_Properties).","title":"Whitespace Matching Regex - Java","body":"<p>You can’t use <code>\\s</code> in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet <a href=\"http://www.unicode.org/reports/tr18/#Categories\" rel=\"noreferrer\">UTS#18’s RL1.2!</a>  What it does have is not standards-conforming, alas.</p>\n\n<p>Unicode defines 26 code points as <code>\\p{White_Space}</code>: 20 of them are various sorts of <code>\\pZ</code> <em>GeneralCategory=Separator</em>, and the remaining 6 are <code>\\p{Cc}</code> <em>GeneralCategory=Control</em>.  </p>\n\n<p>White space is a pretty stable property, and those same ones have been around virtually forever. Even so,  Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:</p>\n\n<pre><code>String whitespace_chars =  \"\"       /* dummy empty string for homogeneity */\n                        + \"\\\\u0009\" // CHARACTER TABULATION\n                        + \"\\\\u000A\" // LINE FEED (LF)\n                        + \"\\\\u000B\" // LINE TABULATION\n                        + \"\\\\u000C\" // FORM FEED (FF)\n                        + \"\\\\u000D\" // CARRIAGE RETURN (CR)\n                        + \"\\\\u0020\" // SPACE\n                        + \"\\\\u0085\" // NEXT LINE (NEL) \n                        + \"\\\\u00A0\" // NO-BREAK SPACE\n                        + \"\\\\u1680\" // OGHAM SPACE MARK\n                        + \"\\\\u180E\" // MONGOLIAN VOWEL SEPARATOR\n                        + \"\\\\u2000\" // EN QUAD \n                        + \"\\\\u2001\" // EM QUAD \n                        + \"\\\\u2002\" // EN SPACE\n                        + \"\\\\u2003\" // EM SPACE\n                        + \"\\\\u2004\" // THREE-PER-EM SPACE\n                        + \"\\\\u2005\" // FOUR-PER-EM SPACE\n                        + \"\\\\u2006\" // SIX-PER-EM SPACE\n                        + \"\\\\u2007\" // FIGURE SPACE\n                        + \"\\\\u2008\" // PUNCTUATION SPACE\n                        + \"\\\\u2009\" // THIN SPACE\n                        + \"\\\\u200A\" // HAIR SPACE\n                        + \"\\\\u2028\" // LINE SEPARATOR\n                        + \"\\\\u2029\" // PARAGRAPH SEPARATOR\n                        + \"\\\\u202F\" // NARROW NO-BREAK SPACE\n                        + \"\\\\u205F\" // MEDIUM MATHEMATICAL SPACE\n                        + \"\\\\u3000\" // IDEOGRAPHIC SPACE\n                        ;        \n/* A \\s that actually works for Java’s native character set: Unicode */\nString     whitespace_charclass = \"[\"  + whitespace_chars + \"]\";    \n/* A \\S that actually works for  Java’s native character set: Unicode */\nString not_whitespace_charclass = \"[^\" + whitespace_chars + \"]\";\n</code></pre>\n\n<p>Now you can use <code>whitespace_charclass + \"+\"</code> as the pattern in your <code>replaceAll</code>.</p>\n\n<hr>\n\n<p>Sorry ’bout all that. <strong>Java’s regexes just don’t work very well on its own native character set,</strong> and so you really have to jump through exotic hoops to make them work. </p>\n\n<p>And if you think white space is bad, you should see what you have to do to get <code>\\w</code> and <code>\\b</code> to finally behave properly! </p>\n\n<p>Yes, it’s possible, and yes, it’s a mindnumbing mess.  That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.</p>\n\n<p>If you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of <a href=\"http://www.unicode.org/reports/tr18/#Compatibility_Properties\" rel=\"noreferrer\">RL1.2a in UTS#18, <em>Unicode Regular Expressions</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":9,"creation_date":1295437657,"post_id":4731649,"comment_id":5232441,"body_markdown":"WTF!?  Why would you want to do all that when you can just call `replaceAll()` instead?","body":"WTF!?  Why would you want to do all that when you can just call <code>replaceAll()</code> instead?"}],"tags":[],"owner":{"account_id":283344,"reputation":3593,"user_id":580796,"accept_rate":81,"display_name":"Manidip Sengupta"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1295410251,"creation_date":1295410251,"answer_id":4731649,"question_id":4731055,"body_markdown":"Use of whitespace in RE is a pain, but I believe they work. The OP&#39;s problem can also be solved using StringTokenizer or the split() method. However, to use RE (uncomment the println() to view how the matcher is breaking up the String), here is a sample code:\r\n\r\n\r\n    import java.util.regex.*;\r\n\r\n    public class Two21WS {\r\n        private String  str = &quot;&quot;;\r\n        private Pattern pattern = Pattern.compile (&quot;\\\\s{2,}&quot;);  // multiple spaces\r\n\r\n        public Two21WS (String s) {\r\n                StringBuffer sb = new StringBuffer();\r\n                Matcher matcher = pattern.matcher (s);\r\n                int startNext = 0;\r\n                while (matcher.find (startNext)) {\r\n                        if (startNext == 0)\r\n                                sb.append (s.substring (0, matcher.start()));\r\n                        else\r\n                                sb.append (s.substring (startNext, matcher.start()));\r\n                        sb.append (&quot; &quot;);\r\n                        startNext = matcher.end();\r\n                        //System.out.println (&quot;Start, end = &quot; + matcher.start()+&quot;, &quot;+matcher.end() +\r\n                        //                      &quot;, sb: \\&quot;&quot; + sb.toString() + &quot;\\&quot;&quot;);\r\n                }\r\n                sb.append (s.substring (startNext));\r\n                str = sb.toString();\r\n        }\r\n\r\n        public String toString () {\r\n                return str;\r\n        }\r\n\r\n        public static void main (String[] args) {\r\n                String tester = &quot; a    b      cdef     gh  ij   kl&quot;;\r\n                System.out.println (&quot;Initial: \\&quot;&quot; + tester + &quot;\\&quot;&quot;);\r\n                System.out.println (&quot;Two21WS: \\&quot;&quot; + new Two21WS(tester) + &quot;\\&quot;&quot;);\r\n    }}\r\n\r\nIt produces the following (compile with javac and run at the command prompt):\r\n\r\n% java Two21WS\r\nInitial: &quot; a    b      cdef     gh  ij   kl&quot;\r\nTwo21WS: &quot; a b cdef gh ij kl&quot;\r\n\r\n","title":"Whitespace Matching Regex - Java","body":"<p>Use of whitespace in RE is a pain, but I believe they work. The OP's problem can also be solved using StringTokenizer or the split() method. However, to use RE (uncomment the println() to view how the matcher is breaking up the String), here is a sample code:</p>\n\n<pre><code>import java.util.regex.*;\n\npublic class Two21WS {\n    private String  str = \"\";\n    private Pattern pattern = Pattern.compile (\"\\\\s{2,}\");  // multiple spaces\n\n    public Two21WS (String s) {\n            StringBuffer sb = new StringBuffer();\n            Matcher matcher = pattern.matcher (s);\n            int startNext = 0;\n            while (matcher.find (startNext)) {\n                    if (startNext == 0)\n                            sb.append (s.substring (0, matcher.start()));\n                    else\n                            sb.append (s.substring (startNext, matcher.start()));\n                    sb.append (\" \");\n                    startNext = matcher.end();\n                    //System.out.println (\"Start, end = \" + matcher.start()+\", \"+matcher.end() +\n                    //                      \", sb: \\\"\" + sb.toString() + \"\\\"\");\n            }\n            sb.append (s.substring (startNext));\n            str = sb.toString();\n    }\n\n    public String toString () {\n            return str;\n    }\n\n    public static void main (String[] args) {\n            String tester = \" a    b      cdef     gh  ij   kl\";\n            System.out.println (\"Initial: \\\"\" + tester + \"\\\"\");\n            System.out.println (\"Two21WS: \\\"\" + new Two21WS(tester) + \"\\\"\");\n}}\n</code></pre>\n\n<p>It produces the following (compile with javac and run at the command prompt):</p>\n\n<p>% java Two21WS\nInitial: \" a    b      cdef     gh  ij   kl\"\nTwo21WS: \" a b cdef gh ij kl\"</p>\n"},{"comments":[{"owner":{"display_name":"user372743"},"score":3,"creation_date":1316098392,"post_id":7431136,"comment_id":8985983,"body_markdown":"Mike, while I appreciate you taking the time to answer, this question has been solved several months ago. There is no need to answer questions as old as this.","body":"Mike, while I appreciate you taking the time to answer, this question has been solved several months ago. There is no need to answer questions as old as this."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":9,"creation_date":1430143751,"post_id":7431136,"comment_id":47918845,"body_markdown":"If someone can show a different, better solution, answering old questions is perfectly legit.","body":"If someone can show a different, better solution, answering old questions is perfectly legit."}],"tags":[],"owner":{"account_id":913489,"reputation":31,"user_id":946813,"display_name":"Mike"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1316091065,"creation_date":1316091065,"answer_id":7431136,"question_id":4731055,"body_markdown":"    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    matcher = whitespace.matcher(modLine);\r\n\r\n    boolean flag = true;\r\n    while(flag)\r\n    {\r\n     //Update your original search text with the result of the replace\r\n     modLine = matcher.replaceAll(&quot; &quot;);\r\n     //reset matcher to look at this &quot;new&quot; text\r\n     matcher = whitespace.matcher(modLine);\r\n     //search again ... and if no match , set flag to false to exit, else run again\r\n     if(!matcher.find())\r\n     {\r\n     flag = false;\r\n     }\r\n    }","title":"Whitespace Matching Regex - Java","body":"<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nmatcher = whitespace.matcher(modLine);\n\nboolean flag = true;\nwhile(flag)\n{\n //Update your original search text with the result of the replace\n modLine = matcher.replaceAll(\" \");\n //reset matcher to look at this \"new\" text\n matcher = whitespace.matcher(modLine);\n //search again ... and if no match , set flag to false to exit, else run again\n if(!matcher.find())\n {\n flag = false;\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":0,"creation_date":1380918364,"post_id":17041911,"comment_id":28394310,"body_markdown":"Strings are immutable, thus you have to assign the result to something, such as &#39;txt = txt.replaceAll()&#39;  I did not vote-down your answer, but that might be why someone else did so.","body":"Strings are immutable, thus you have to assign the result to something, such as &#39;txt = txt.replaceAll()&#39;  I did not vote-down your answer, but that might be why someone else did so."},{"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"score":8,"creation_date":1381082022,"post_id":17041911,"comment_id":28430770,"body_markdown":"I  know replaceAll returns a string the important thing 4 java programers is\\\\p{javaSpaceChar}","body":"I  know replaceAll returns a string the important thing 4 java programers is\\\\p{javaSpaceChar}"},{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":2,"creation_date":1381162642,"post_id":17041911,"comment_id":28461014,"body_markdown":"The original question made the mistake of not assigning the new string to a variable.  Pointing out that mistake is thus the most important point of the answer.","body":"The original question made the mistake of not assigning the new string to a variable.  Pointing out that mistake is thus the most important point of the answer."},{"owner":{"account_id":9379,"reputation":4132,"user_id":17304,"accept_rate":0,"display_name":"Piko"},"score":0,"creation_date":1511288555,"post_id":17041911,"comment_id":81794303,"body_markdown":"This totally solved my problem in Groovy! Finally! Been trying every regex I could find that would match all white space including NON-BREAK-SPACE (ASCII 160)!!!","body":"This totally solved my problem in Groovy! Finally! Been trying every regex I could find that would match all white space including NON-BREAK-SPACE (ASCII 160)!!!"}],"tags":[],"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1370967113,"creation_date":1370946454,"answer_id":17041911,"question_id":4731055,"body_markdown":"For Java (not php, not javascript, not anyother):\r\n\r\n    txt.replaceAll(&quot;\\\\p{javaSpaceChar}{2,}&quot;,&quot; &quot;)","title":"Whitespace Matching Regex - Java","body":"<p>For Java (not php, not javascript, not anyother):</p>\n\n<pre><code>txt.replaceAll(\"\\\\p{javaSpaceChar}{2,}\",\" \")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":168764,"reputation":10177,"user_id":394431,"accept_rate":87,"display_name":"Robert Tupelo-Schneck"},"score":4,"creation_date":1442934870,"post_id":26713907,"comment_id":53283563,"body_markdown":"`[\\s\\p{z}]` omits Unicode &quot;next line&quot; character U+0085.  Use `[\\s\\u0085\\p{Z}]`.","body":"<code>[\\s\\p{z}]</code> omits Unicode &quot;next line&quot; character U+0085.  Use <code>[\\s\\u0085\\p{Z}]</code>."}],"tags":[],"owner":{"account_id":224780,"reputation":169,"user_id":484840,"display_name":"Tuomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1415016071,"creation_date":1415016071,"answer_id":26713907,"question_id":4731055,"body_markdown":"when I sended a question to a Regexbuddy (regex developer application) forum, I got more exact reply to my \\s Java question:\r\n\r\n&quot;Message author: Jan Goyvaerts\r\n\r\nIn Java, the shorthands \\s, \\d, and \\w only include ASCII characters.  ... This is not a bug in Java, but simply one of the many things you need to be aware of when working with regular expressions.  To match all Unicode whitespace as well as line breaks, you can use [\\s\\p{Z}] in Java.  RegexBuddy does not yet support Java-specific properties such as \\p{javaSpaceChar} (which matches the exact same characters as [\\s\\p{Z}]).\r\n\r\n...  \\s\\s will match two spaces, if the input is ASCII only.  The real problem is with the OP&#39;s code, as is pointed out by the accepted answer in that question.&quot;","title":"Whitespace Matching Regex - Java","body":"<p>when I sended a question to a Regexbuddy (regex developer application) forum, I got more exact reply to my \\s Java question:</p>\n\n<p>\"Message author: Jan Goyvaerts</p>\n\n<p>In Java, the shorthands \\s, \\d, and \\w only include ASCII characters.  ... This is not a bug in Java, but simply one of the many things you need to be aware of when working with regular expressions.  To match all Unicode whitespace as well as line breaks, you can use [\\s\\p{Z}] in Java.  RegexBuddy does not yet support Java-specific properties such as \\p{javaSpaceChar} (which matches the exact same characters as [\\s\\p{Z}]).</p>\n\n<p>...  \\s\\s will match two spaces, if the input is ASCII only.  The real problem is with the OP's code, as is pointed out by the accepted answer in that question.\"</p>\n"},{"tags":[],"owner":{"account_id":5934457,"reputation":396,"user_id":4667943,"display_name":"Rashid Mv"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580292022,"creation_date":1526672550,"answer_id":50418263,"question_id":4731055,"body_markdown":"For your purpose you can use this snnippet:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n\r\n    StringUtils.normalizeSpace(string);\r\n\r\nThis will normalize the spacing to single and will strip off the starting and trailing whitespaces as well.\r\n\r\n    String sampleString = &quot;Hello    world!&quot;;\r\n    sampleString.replaceAll(&quot;\\\\s{2}&quot;, &quot; &quot;); // replaces exactly two consecutive spaces\r\n    sampleString.replaceAll(&quot;\\\\s{2,}&quot;, &quot; &quot;); // replaces two or more consecutive white spaces","title":"Whitespace Matching Regex - Java","body":"<p>For your purpose you can use this snnippet:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nStringUtils.normalizeSpace(string);\n</code></pre>\n\n<p>This will normalize the spacing to single and will strip off the starting and trailing whitespaces as well.</p>\n\n<pre><code>String sampleString = \"Hello    world!\";\nsampleString.replaceAll(\"\\\\s{2}\", \" \"); // replaces exactly two consecutive spaces\nsampleString.replaceAll(\"\\\\s{2,}\", \" \"); // replaces two or more consecutive white spaces\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":0,"creation_date":1679694022,"post_id":58540660,"comment_id":133773069,"body_markdown":"As a heads up, this does not match newlines, but [this](https://stackoverflow.com/a/69144404/1858327) does.","body":"As a heads up, this does not match newlines, but <a href=\"https://stackoverflow.com/a/69144404/1858327\">this</a> does."},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":1,"creation_date":1679763844,"post_id":58540660,"comment_id":133780741,"body_markdown":"@CaptainMan the answer you reference leaves out a small note from the JavaDoc: &quot;Specifying this flag may impose a performance penalty.&quot;  To avoid that performance hit I would suggest `\\p{Zl}` for line separators and `\\p{Zp}` for paragraph separators.","body":"@CaptainMan the answer you reference leaves out a small note from the JavaDoc: &quot;Specifying this flag may impose a performance penalty.&quot;  To avoid that performance hit I would suggest <code>\\p{Zl}</code> for line separators and <code>\\p{Zp}</code> for paragraph separators."},{"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"score":1,"creation_date":1679763954,"post_id":58540660,"comment_id":133780760,"body_markdown":"Expanded: `txt.replaceAll(&quot;(\\\\p{Zs}|\\\\p{Zl}|\\\\p{Zp})+&quot;, &quot; &quot;);` to replace all sorts of separators with a single space character.","body":"Expanded: <code>txt.replaceAll(&quot;(\\\\p{Zs}|\\\\p{Zl}|\\\\p{Zp})+&quot;, &quot; &quot;);</code> to replace all sorts of separators with a single space character."}],"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1629545041,"creation_date":1571917435,"answer_id":58540660,"question_id":4731055,"body_markdown":"Java has evolved since this issue was first brought up.  You can match all manner of unicode space characters by using the `\\p{Zs}` group.\r\n\r\nThus if you wanted to replace one or more exotic spaces with a plain space you could do this:\r\n```\r\nString txt = &quot;whatever my string is&quot;;\r\nString newTxt = txt.replaceAll(&quot;\\\\p{Zs}+&quot;, &quot; &quot;);\r\n```\r\nAlso worth knowing, if you&#39;ve used the `trim()` string function you should take a look at the (relatively new) `strip()`, `stripLeading()`, and `stripTrailing()` functions on strings.  They can help you trim off all sorts of squirrely white space characters.  For more information on what what space is included, see Java&#39;s `Character.isWhitespace()` function. ","title":"Whitespace Matching Regex - Java","body":"<p>Java has evolved since this issue was first brought up.  You can match all manner of unicode space characters by using the <code>\\p{Zs}</code> group.</p>\n<p>Thus if you wanted to replace one or more exotic spaces with a plain space you could do this:</p>\n<pre><code>String txt = &quot;whatever my string is&quot;;\nString newTxt = txt.replaceAll(&quot;\\\\p{Zs}+&quot;, &quot; &quot;);\n</code></pre>\n<p>Also worth knowing, if you've used the <code>trim()</code> string function you should take a look at the (relatively new) <code>strip()</code>, <code>stripLeading()</code>, and <code>stripTrailing()</code> functions on strings.  They can help you trim off all sorts of squirrely white space characters.  For more information on what what space is included, see Java's <code>Character.isWhitespace()</code> function.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1631374324,"creation_date":1631374324,"answer_id":69144404,"question_id":4731055,"body_markdown":"To match any whitespace character, you can use\r\n```java\r\nPattern whitespace = Pattern.compile(&quot;\\\\s&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n```\r\nThe [`Pattern.UNICODE_CHARACTER_CLASS`][1] option &quot;*enables the Unicode version of Predefined character classes and POSIX character classes*&quot; that are then &quot;*in conformance with [Unicode Technical Standard #18: Unicode Regular Expression][2] Annex C: Compatibility Properties*&quot;.\r\n\r\nThe same behavior can also be enabled with the `(?U)` embedded flag expression. For example, if you want to replace/remove all Unicode whitespaces in Java with regex, you can use\r\n```java\r\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;); // removes all whitespaces\r\nString result = text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace with -\r\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;); // replaces chunks of one or more consecutive whitespaces with a single -\r\nString result = text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace at the start of string with -\r\n```\r\nSee the [Java demo online][3]:\r\n```java\r\nString text = &quot;\\u00A0 \\u00A0\\tStart reading\\u00A0here...&quot;; // \\u00A0 - non-breaking space\r\nSystem.out.println(&quot;Text: &#39;&quot; + text + &quot;&#39;&quot;); // =&gt; Text: &#39;   \tStart reading here...&#39;\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;)); // =&gt; Startreadinghere...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start-reading-here...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;)); // =&gt; -Start-reading-here...\r\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start reading here... \r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\r\n  [2]: http://www.unicode.org/reports/tr18/\r\n  [3]: https://ideone.com/Ecsa8X","title":"Whitespace Matching Regex - Java","body":"<p>To match any whitespace character, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern whitespace = Pattern.compile(&quot;\\\\s&quot;, Pattern.UNICODE_CHARACTER_CLASS);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\" rel=\"nofollow noreferrer\"><code>Pattern.UNICODE_CHARACTER_CLASS</code></a> option &quot;<em>enables the Unicode version of Predefined character classes and POSIX character classes</em>&quot; that are then &quot;<em>in conformance with <a href=\"http://www.unicode.org/reports/tr18/\" rel=\"nofollow noreferrer\">Unicode Technical Standard #18: Unicode Regular Expression</a> Annex C: Compatibility Properties</em>&quot;.</p>\n<p>The same behavior can also be enabled with the <code>(?U)</code> embedded flag expression. For example, if you want to replace/remove all Unicode whitespaces in Java with regex, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;); // removes all whitespaces\nString result = text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace with -\nString result = text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;); // replaces chunks of one or more consecutive whitespaces with a single -\nString result = text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;); // replaces each single whitespace at the start of string with -\n</code></pre>\n<p>See the <a href=\"https://ideone.com/Ecsa8X\" rel=\"nofollow noreferrer\">Java demo online</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;\\u00A0 \\u00A0\\tStart reading\\u00A0here...&quot;; // \\u00A0 - non-breaking space\nSystem.out.println(&quot;Text: '&quot; + text + &quot;'&quot;); // =&gt; Text: '       Start reading here...'\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;&quot;)); // =&gt; Startreadinghere...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start-reading-here...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\s+&quot;, &quot;-&quot;)); // =&gt; -Start-reading-here...\nSystem.out.println(text.replaceAll(&quot;(?U)\\\\G\\\\s&quot;, &quot;-&quot;)); // =&gt; ----Start reading here... \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140748,"reputation":374,"user_id":1899440,"display_name":"Bokili Production"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852530,"creation_date":1667852530,"answer_id":74352510,"question_id":4731055,"body_markdown":"You can use simpler:\r\n\r\n    String out = in.replaceAll(&quot; {2}&quot;, &quot; &quot;);","title":"Whitespace Matching Regex - Java","body":"<p>You can use simpler:</p>\n<pre><code>String out = in.replaceAll(&quot; {2}&quot;, &quot; &quot;);\n</code></pre>\n"}],"owner":{"display_name":"user372743"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500571,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":4731086,"answer_count":11,"score":123,"last_activity_date":1667852530,"creation_date":1295402327,"question_id":4731055,"body_markdown":"The Java API for [regular expressions][1] states that `\\s` will match whitespace. So the regex `\\\\s\\\\s` should match two spaces.\r\n\r\n    Pattern whitespace = Pattern.compile(&quot;\\\\s\\\\s&quot;);\r\n    matcher = whitespace.matcher(modLine);\r\n    while (matcher.find()) matcher.replaceAll(&quot; &quot;);\r\n\r\nThe aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.\r\n\r\nAm I having a grave misunderstanding of regexes or the term &quot;whitespace&quot;?\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"Whitespace Matching Regex - Java","body":"<p>The Java API for <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\">regular expressions</a> states that <code>\\s</code> will match whitespace. So the regex <code>\\\\s\\\\s</code> should match two spaces.</p>\n\n<pre><code>Pattern whitespace = Pattern.compile(\"\\\\s\\\\s\");\nmatcher = whitespace.matcher(modLine);\nwhile (matcher.find()) matcher.replaceAll(\" \");\n</code></pre>\n\n<p>The aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.</p>\n\n<p>Am I having a grave misunderstanding of regexes or the term \"whitespace\"?</p>\n"},{"tags":["java","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852358,"creation_date":1667694228,"answer_id":74332442,"question_id":74325368,"body_markdown":"I would welcome an answer that does this in an idiomatic spring-boot fashion, but you can simply set a `failedDeserializationFunction` which calls the deserializer again:\r\n```java\r\n        MyDeserializer myDeserializer = new MyDeserializer();\r\n        ErrorHandlingDeserializer&lt;String&gt; errorHandlingDeserializer = \r\n             new ErrorHandlingDeserializer(myDeserializer);\r\n        errorHandlingDeserializer.setFailedDeserializationFunction(f -&gt;\r\n             myDeserializer.deserialize(f.getTopic(), f.getData())\r\n        );\r\n        factory.setConsumerFactory(\r\n                new DefaultKafkaConsumerFactory(\r\n                        properties.buildConsumerProperties(),\r\n                        new StringDeserializer(),\r\n                        errorHandlingDeserializer\r\n                )\r\n        );\r\n```\r\n\r\nThat doesn&#39;t limit retries, or do any backoff, that&#39;s left as an exercise for the reader.","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p>I would welcome an answer that does this in an idiomatic spring-boot fashion, but you can simply set a <code>failedDeserializationFunction</code> which calls the deserializer again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        MyDeserializer myDeserializer = new MyDeserializer();\n        ErrorHandlingDeserializer&lt;String&gt; errorHandlingDeserializer = \n             new ErrorHandlingDeserializer(myDeserializer);\n        errorHandlingDeserializer.setFailedDeserializationFunction(f -&gt;\n             myDeserializer.deserialize(f.getTopic(), f.getData())\n        );\n        factory.setConsumerFactory(\n                new DefaultKafkaConsumerFactory(\n                        properties.buildConsumerProperties(),\n                        new StringDeserializer(),\n                        errorHandlingDeserializer\n                )\n        );\n</code></pre>\n<p>That doesn't limit retries, or do any backoff, that's left as an exercise for the reader.</p>\n"},{"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1667834221,"post_id":74348582,"comment_id":131256127,"body_markdown":"Added some clarification for batch listeners.","body":"Added some clarification for batch listeners."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667834745,"creation_date":1667832986,"answer_id":74348582,"question_id":74325368,"body_markdown":"`DeserializationException`s are considered fatal by default and are not retried.\r\n\r\nYou can change that behavior by removing the exception type from the default list of fatal exceptions (on the error handler)...\r\n\r\n```java\r\n/**\r\n * Remove an exception type from the configured list. By default, the following\r\n * exceptions will not be retried:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\r\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\r\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\r\n * &lt;/ul&gt;\r\n * All others will be retried, unless {@link #defaultFalse()} has been called.\r\n * @param exceptionType the exception type.\r\n * @return the classification of the exception if removal was successful;\r\n * null otherwise.\r\n * @since 2.8.4\r\n * @see #addNotRetryableExceptions(Class...)\r\n * @see #setClassifications(Map, boolean)\r\n */\r\n@Nullable\r\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\r\n```\r\n\r\nNote, however, that with a batch listener, the failed record is sent to the listener with a `null` payload; you can examine the deserialization exception using `ListenerUtils.getExceptionFromHeader()` (with `SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER`); then re-throw the exception and the batch will be retried. (Consume `List&lt;Message&lt;String&gt;&gt;` to get access to the header or use `@Header` for an additional parameter.\r\n\r\nCorrection; the listener utils method requires the `ConsumerRecord`, use `byteArrayToDeserializationException()` instead.\r\n\r\nHowever, the `FallbackBatchErrorHandler` (used if you don&#39;t throw a `BatchListenerFailedException` with the record number) did not classify exceptions until recently (all exceptions were retried). This is fixed and will be in the next 2.9.x release in a couple of weeks.","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p><code>DeserializationException</code>s are considered fatal by default and are not retried.</p>\n<p>You can change that behavior by removing the exception type from the default list of fatal exceptions (on the error handler)...</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Remove an exception type from the configured list. By default, the following\n * exceptions will not be retried:\n * &lt;ul&gt;\n * &lt;li&gt;{@link DeserializationException}&lt;/li&gt;\n * &lt;li&gt;{@link MessageConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link ConversionException}&lt;/li&gt;\n * &lt;li&gt;{@link MethodArgumentResolutionException}&lt;/li&gt;\n * &lt;li&gt;{@link NoSuchMethodException}&lt;/li&gt;\n * &lt;li&gt;{@link ClassCastException}&lt;/li&gt;\n * &lt;/ul&gt;\n * All others will be retried, unless {@link #defaultFalse()} has been called.\n * @param exceptionType the exception type.\n * @return the classification of the exception if removal was successful;\n * null otherwise.\n * @since 2.8.4\n * @see #addNotRetryableExceptions(Class...)\n * @see #setClassifications(Map, boolean)\n */\n@Nullable\npublic Boolean removeClassification(Class&lt;? extends Exception&gt; exceptionType) {\n</code></pre>\n<p>Note, however, that with a batch listener, the failed record is sent to the listener with a <code>null</code> payload; you can examine the deserialization exception using <code>ListenerUtils.getExceptionFromHeader()</code> (with <code>SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER</code>); then re-throw the exception and the batch will be retried. (Consume <code>List&lt;Message&lt;String&gt;&gt;</code> to get access to the header or use <code>@Header</code> for an additional parameter.</p>\n<p>Correction; the listener utils method requires the <code>ConsumerRecord</code>, use <code>byteArrayToDeserializationException()</code> instead.</p>\n<p>However, the <code>FallbackBatchErrorHandler</code> (used if you don't throw a <code>BatchListenerFailedException</code> with the record number) did not classify exceptions until recently (all exceptions were retried). This is fixed and will be in the next 2.9.x release in a couple of weeks.</p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667852358,"creation_date":1667626388,"question_id":74325368,"body_markdown":"I have a Kafka application which suffers from intermittent deserialisation errors (due to connectivity problems to the host which provides Avro schemas)\r\n\r\nI would like to back off and retry serialisation exceptions, but I have not been able to figure out how to set that up.\r\n\r\nHere&#39;s my test configuration:\r\n```java\r\n@org.springframework.context.annotation.Configuration\r\n@EnableKafka\r\npublic class Configuration {\r\n    @Bean(&quot;myContainerFactory&quot;)\r\n     public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; createFactory(\r\n             KafkaProperties properties\r\n    ) {\r\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\r\n        factory.setConsumerFactory(\r\n                new DefaultKafkaConsumerFactory(\r\n                        properties.buildConsumerProperties(),\r\n                        new StringDeserializer(),\r\n                        new ErrorHandlingDeserializer(new MyDeserializer())\r\n                )\r\n        );\r\n        factory.getContainerProperties().setAckMode(\r\n                ContainerProperties.AckMode.MANUAL_IMMEDIATE\r\n        );\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler());\r\n        return factory;\r\n    }\r\n\r\n    // this fakes occasional errors which succeed after a retry\r\n    static class MyDeserializer implements Deserializer&lt;String&gt; {\r\n        int retries = 0;\r\n        @Override\r\n        public String deserialize(String topic, byte[] bytes) {\r\n            String s = new String(bytes);\r\n            if (s.contains(&quot;7&quot;) &amp;&amp; retries == 0) {\r\n                retries = 1;\r\n                throw new RuntimeException();\r\n            }\r\n            retries = 0;\r\n            return s;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand my consumer:\r\n```java\r\n@Component\r\npublic class StringListener {\r\n    @KafkaListener(\r\n            topics = {&quot;string-test&quot;},\r\n            groupId = &quot;test&quot;,\r\n            batch = &quot;true&quot;,\r\n            containerFactory = &quot;myContainerFactory&quot;\r\n    )\r\n    public void listen(List&lt;String&gt; messages, Acknowledgment acknowledgment) {\r\n        for (String s: messages) {\r\n            System.out.println(s);\r\n        }\r\n        acknowledgment.acknowledge();\r\n    }\r\n}\r\n```\r\n\r\nAt present the `ErrorHandlingDeserializer` just returns `null`.\r\n\r\nDo I need to implement a `failedDeserializationFunction`, or is there a there a simple way to configure the factory so that my deserialiser is called again, after a configurable wait, for some configurable number of times?","title":"How to retry kafka deserialization errors encountered by a batch listener?","body":"<p>I have a Kafka application which suffers from intermittent deserialisation errors (due to connectivity problems to the host which provides Avro schemas)</p>\n<p>I would like to back off and retry serialisation exceptions, but I have not been able to figure out how to set that up.</p>\n<p>Here's my test configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@org.springframework.context.annotation.Configuration\n@EnableKafka\npublic class Configuration {\n    @Bean(&quot;myContainerFactory&quot;)\n     public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; createFactory(\n             KafkaProperties properties\n    ) {\n        var factory = new ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;();\n        factory.setConsumerFactory(\n                new DefaultKafkaConsumerFactory(\n                        properties.buildConsumerProperties(),\n                        new StringDeserializer(),\n                        new ErrorHandlingDeserializer(new MyDeserializer())\n                )\n        );\n        factory.getContainerProperties().setAckMode(\n                ContainerProperties.AckMode.MANUAL_IMMEDIATE\n        );\n        factory.setCommonErrorHandler(new DefaultErrorHandler());\n        return factory;\n    }\n\n    // this fakes occasional errors which succeed after a retry\n    static class MyDeserializer implements Deserializer&lt;String&gt; {\n        int retries = 0;\n        @Override\n        public String deserialize(String topic, byte[] bytes) {\n            String s = new String(bytes);\n            if (s.contains(&quot;7&quot;) &amp;&amp; retries == 0) {\n                retries = 1;\n                throw new RuntimeException();\n            }\n            retries = 0;\n            return s;\n        }\n    }\n}\n</code></pre>\n<p>and my consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class StringListener {\n    @KafkaListener(\n            topics = {&quot;string-test&quot;},\n            groupId = &quot;test&quot;,\n            batch = &quot;true&quot;,\n            containerFactory = &quot;myContainerFactory&quot;\n    )\n    public void listen(List&lt;String&gt; messages, Acknowledgment acknowledgment) {\n        for (String s: messages) {\n            System.out.println(s);\n        }\n        acknowledgment.acknowledge();\n    }\n}\n</code></pre>\n<p>At present the <code>ErrorHandlingDeserializer</code> just returns <code>null</code>.</p>\n<p>Do I need to implement a <code>failedDeserializationFunction</code>, or is there a there a simple way to configure the factory so that my deserialiser is called again, after a configurable wait, for some configurable number of times?</p>\n"},{"tags":["java","maven","intellij-idea","javafx","maven-surefire-plugin"],"comments":[{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":2,"creation_date":1667681695,"post_id":74331154,"comment_id":131225926,"body_markdown":"Please try with newer surefire version 3.0.0-M7","body":"Please try with newer surefire version 3.0.0-M7"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667712326,"post_id":74331154,"comment_id":131229751,"body_markdown":"*&quot;I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.&quot;* -&gt; why though?  It is a maven project, why not [reference JavaFX as Maven dependencies](https://openjfx.io/openjfx-docs/#maven)?  Idea can create a [sample JavaFX Maven project for you](https://www.jetbrains.com/help/idea/javafx.html) which you can use as a reference.  Trying to write unit tests for Java can be tricky, perhaps use [testfx](https://github.com/TestFX/TestFX), linked page shows an example of usage.","body":"<i>&quot;I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.&quot;</i> -&gt; why though?  It is a maven project, why not <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">reference JavaFX as Maven dependencies</a>?  Idea can create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">sample JavaFX Maven project for you</a> which you can use as a reference.  Trying to write unit tests for Java can be tricky, perhaps use <a href=\"https://github.com/TestFX/TestFX\" rel=\"nofollow noreferrer\">testfx</a>, linked page shows an example of usage."},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667724521,"post_id":74331154,"comment_id":131231134,"body_markdown":"@SlawomirJaranowski Thank you so much. The newer version solves my issues.","body":"@SlawomirJaranowski Thank you so much. The newer version solves my issues."},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667724869,"post_id":74331154,"comment_id":131231184,"body_markdown":"@jewelsea &quot;why though?&quot; There is a JavaFX Maven Dependency in my project. There are also non-maven-projects that uses JavaFX on my machine.\n\nAppreciate your hint to testfx. Unfortunately there is no need to test JavaFX components at the moment. Maybe later.","body":"@jewelsea &quot;why though?&quot; There is a JavaFX Maven Dependency in my project. There are also non-maven-projects that uses JavaFX on my machine.  Appreciate your hint to testfx. Unfortunately there is no need to test JavaFX components at the moment. Maybe later."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667730673,"post_id":74331154,"comment_id":131232109,"body_markdown":"*&quot;Unfortunately there is no need to test JavaFX components at the moment.&quot;* -&gt; surefire is a test harness and the error you get is `Module javafx.graphics not found`.  That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components. As the JavaFX modules are dependencies in your Maven project, I&#39;d expect them to be found.  I guess whatever caused the modules not to be found was fixed by a Maven surefire plugin bug that was fixed by the upgrade suggested by @SlawomirJaranowski","body":"<i>&quot;Unfortunately there is no need to test JavaFX components at the moment.&quot;</i> -&gt; surefire is a test harness and the error you get is <code>Module javafx.graphics not found</code>.  That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components. As the JavaFX modules are dependencies in your Maven project, I&#39;d expect them to be found.  I guess whatever caused the modules not to be found was fixed by a Maven surefire plugin bug that was fixed by the upgrade suggested by @SlawomirJaranowski"},{"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"score":0,"creation_date":1667845804,"post_id":74331154,"comment_id":131260411,"body_markdown":"&quot;That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components.&quot; I can&#39;t see the dependency in the test setup. The only JavaFX-dependency is a FileChooser.ExtensionFilter. They are implemented in the common module and not in the app module.","body":"&quot;That indicates that the test setup is dependent on JavaFX, even if you aren&#39;t explicitly testing JavaFX components.&quot; I can&#39;t see the dependency in the test setup. The only JavaFX-dependency is a FileChooser.ExtensionFilter. They are implemented in the common module and not in the app module."}],"answers":[{"tags":[],"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667852276,"creation_date":1667725210,"answer_id":74334462,"question_id":74331154,"body_markdown":"My issues are gone with the advice from @Slavomir Jaranowski.\r\n\r\nThe changed pom looks like\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!--&lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;--&gt;\r\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n        &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\r\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n        &lt;parallel&gt;methods&lt;/parallel&gt;\r\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n        &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\r\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nThe configuration is not finished yet. ","title":"mvn test after update to java 19 brings [ERROR] Error occurred during initialization of boot layer","body":"<p>My issues are gone with the advice from @Slavomir Jaranowski.</p>\n<p>The changed pom looks like</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!--&lt;skipTests&gt;${skipUnitTests}&lt;/skipTests&gt;--&gt;\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n        &lt;forkCount&gt;1.5C&lt;/forkCount&gt;\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n        &lt;parallel&gt;methods&lt;/parallel&gt;\n        &lt;threadCount&gt;4&lt;/threadCount&gt;\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n        &lt;reportFormat&gt;plain&lt;/reportFormat&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n        &lt;redirectTestOutputToFile&gt;true&lt;/redirectTestOutputToFile&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n</code></pre>\n<p>The configuration is not finished yet.</p>\n"}],"owner":{"account_id":5754044,"reputation":41,"user_id":4542651,"display_name":"ryanthara"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667852276,"creation_date":1667679171,"question_id":74331154,"body_markdown":"I&#39;m still working on a multi-module maven project which I upgraded from openJDK 15 to openJDK 19. I&#39;m working on a MBP with macOS 13 Ventura.\r\n\r\nBefore the upgrade the unit test are passing with the maven-surefire-plugin without any problems.\r\n\r\nAfter upgrading to openJDK 19 the ```mvn clean test``` command fails with the following error-message.\r\n\r\n```\r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ core ---\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[ERROR] Error occurred during initialization of boot layer\r\n[ERROR] java.lang.module.FindException: Module javafx.graphics not found, required by common\r\n```\r\n\r\nI downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.\r\n\r\nI can run the program from IntelliJ without any problems.\r\n\r\nMy question is, what did I missed in the configuration to get the test running?","title":"mvn test after update to java 19 brings [ERROR] Error occurred during initialization of boot layer","body":"<p>I'm still working on a multi-module maven project which I upgraded from openJDK 15 to openJDK 19. I'm working on a MBP with macOS 13 Ventura.</p>\n<p>Before the upgrade the unit test are passing with the maven-surefire-plugin without any problems.</p>\n<p>After upgrading to openJDK 19 the <code>mvn clean test</code> command fails with the following error-message.</p>\n<pre><code>[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ core ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[ERROR] Error occurred during initialization of boot layer\n[ERROR] java.lang.module.FindException: Module javafx.graphics not found, required by common\n</code></pre>\n<p>I downloaded the files (openJDK 19 and JavaFX 19), unzipped them to a desired location, added an environment variable pointing to the lib directory of the runtime.</p>\n<p>I can run the program from IntelliJ without any problems.</p>\n<p>My question is, what did I missed in the configuration to get the test running?</p>\n"},{"tags":["java","json","lombok"],"answers":[{"tags":[],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1655822240,"creation_date":1655398628,"answer_id":72649393,"question_id":72649176,"body_markdown":"Found a way to do it.\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \r\n\t    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \r\n\t    private String accessToken;\r\n    }\r\n\r\nAnother solution is to use `@JsonAlias` annotation.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    @JsonAlias(&quot;access_token&quot;))) \r\n\t    private String accessToken;\r\n    }","title":"How to Use @JsonProperty With Lombok?","body":"<p>Found a way to do it.</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    @Setter(onMethod = @__(@JsonSetter(value = &quot;access_token&quot;))) \n    @Getter(onMethod = @__(@JsonGetter(value = &quot;accessToken&quot;))) \n    private String accessToken;\n}\n</code></pre>\n<p>Another solution is to use <code>@JsonAlias</code> annotation.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    @JsonAlias(&quot;access_token&quot;))) \n    private String accessToken;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17404207,"reputation":19,"user_id":12612592,"display_name":"dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667851586,"creation_date":1667851586,"answer_id":74352338,"question_id":72649176,"body_markdown":"No need for all this, you can simply annotate your field with @JsonProperty. Spring will still use the getters for serialization.\r\n\r\n    @Data\r\n    public class Token {\r\n       @JsonProperty(&quot;access_token&quot;)\r\n       private String accessToken;\r\n    }\r\n\r\n","title":"How to Use @JsonProperty With Lombok?","body":"<p>No need for all this, you can simply annotate your field with @JsonProperty. Spring will still use the getters for serialization.</p>\n<pre><code>@Data\npublic class Token {\n   @JsonProperty(&quot;access_token&quot;)\n   private String accessToken;\n}\n</code></pre>\n"}],"owner":{"account_id":2034071,"reputation":10531,"user_id":2237469,"accept_rate":94,"display_name":"yrazlik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3609,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72649393,"answer_count":2,"score":2,"last_activity_date":1667851586,"creation_date":1655397474,"question_id":72649176,"body_markdown":"Suppose we have a json response that we want to map it to our java class.\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;abcdefg...&quot;\r\n    }\r\n\r\nI had a data class that mapped `access_token` field in the json to `accessToken` field in the code. I used to use `@JsonProperty` annotation on getters and setters.\r\n\r\n    private String accessToken;\r\n    \r\n    @JsonProperty(&quot;accessToken&quot;)\r\n\tpublic String getAccessToken() {\r\n\t\treturn accessToken;\r\n\t}\r\n\r\n\t@JsonProperty(&quot;access_token&quot;)\r\n\tpublic void setAccessToken(String accessToken) {\r\n\t\tthis.accessToken = accessToken;\r\n\t}\r\n\r\nThen I decided to use Lombok annotations `@Getter` and `@Setter`. Since I do not have a getter and setter in my code, how can I map `access_token` field in the json to `accessToken` field in the code with Lombok annotations? \r\n\r\nMy code is like this right now and as you can expect, it cannot map the fields.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Token {\r\n\t    private String accessToken;\r\n    }\r\n\r\nI do not want to name my variable to `access_token` because I also return access token as a json response and I want it to appear as `accessToken` in my json response. \r\n\r\nThank you.\r\n","title":"How to Use @JsonProperty With Lombok?","body":"<p>Suppose we have a json response that we want to map it to our java class.</p>\n<pre><code>{\n    &quot;access_token&quot;: &quot;abcdefg...&quot;\n}\n</code></pre>\n<p>I had a data class that mapped <code>access_token</code> field in the json to <code>accessToken</code> field in the code. I used to use <code>@JsonProperty</code> annotation on getters and setters.</p>\n<pre><code>private String accessToken;\n\n@JsonProperty(&quot;accessToken&quot;)\npublic String getAccessToken() {\n    return accessToken;\n}\n\n@JsonProperty(&quot;access_token&quot;)\npublic void setAccessToken(String accessToken) {\n    this.accessToken = accessToken;\n}\n</code></pre>\n<p>Then I decided to use Lombok annotations <code>@Getter</code> and <code>@Setter</code>. Since I do not have a getter and setter in my code, how can I map <code>access_token</code> field in the json to <code>accessToken</code> field in the code with Lombok annotations?</p>\n<p>My code is like this right now and as you can expect, it cannot map the fields.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Token {\n    private String accessToken;\n}\n</code></pre>\n<p>I do not want to name my variable to <code>access_token</code> because I also return access token as a json response and I want it to appear as <code>accessToken</code> in my json response.</p>\n<p>Thank you.</p>\n"},{"tags":["java","algorithm","recursion","math"],"comments":[{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":2,"creation_date":1667843162,"post_id":74350392,"comment_id":131259475,"body_markdown":"Perhaps instead of passing n, chop off the head of your array and pass the chopped array down the recursion?","body":"Perhaps instead of passing n, chop off the head of your array and pass the chopped array down the recursion?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667843860,"post_id":74350392,"comment_id":131259726,"body_markdown":"The function `horner` you have is already recursive.","body":"The function <code>horner</code> you have is already recursive."},{"owner":{"account_id":19378257,"reputation":35,"user_id":14170108,"display_name":"yungboi22"},"score":0,"creation_date":1667846236,"post_id":74350392,"comment_id":131260560,"body_markdown":"The number of arguments","body":"The number of arguments"}],"answers":[{"comments":[{"owner":{"account_id":19378257,"reputation":35,"user_id":14170108,"display_name":"yungboi22"},"score":0,"creation_date":1667848065,"post_id":74351151,"comment_id":131261151,"body_markdown":"I tried to submit this but theres an error. I think I am not allowed to use two functions for this, it has to be in the same one.","body":"I tried to submit this but theres an error. I think I am not allowed to use two functions for this, it has to be in the same one."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667848649,"post_id":74351151,"comment_id":131261338,"body_markdown":"@yungboi22 Sorry, my fault, I&#39;ve reversed the array. Fixed the bug. Try it out now.","body":"@yungboi22 Sorry, my fault, I&#39;ve reversed the array. Fixed the bug. Try it out now."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667849168,"creation_date":1667845242,"answer_id":74351151,"question_id":74350392,"body_markdown":"In order to use *two-args* method, you can call the method containing the actual recursive logic, providing the `0` (the first index of the given array) as the third argument.\r\n\r\n**Note** that the *base case* of the recursion is when we&#39;re hitting the last element &lt;i&gt;&lt;b&gt;a&lt;sub&gt;n&lt;/sub&gt;&lt;/b&gt;&lt;/i&gt;, i.e. when index `n` is equal to `a.length - 1`.\r\n\r\nOtherwise, the call should be handled by the *recursive case*, containing the logic compliant with the Horner&#39;s rule.\r\n\r\n    public static double evalHornerRec(double[] a, double x) {\r\n        \r\n        return horner(a, x, 0);\r\n    }\r\n    \r\n    private static double horner(double a[], double x, int n) {\r\n        if (n == a.length - 1) return a[n];\r\n        \r\n        return a[n] + x * horner(a, x, n + 1);\r\n    }","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p>In order to use <em>two-args</em> method, you can call the method containing the actual recursive logic, providing the <code>0</code> (the first index of the given array) as the third argument.</p>\n<p><strong>Note</strong> that the <em>base case</em> of the recursion is when we're hitting the last element <i><b>a<sub>n</sub></b></i>, i.e. when index <code>n</code> is equal to <code>a.length - 1</code>.</p>\n<p>Otherwise, the call should be handled by the <em>recursive case</em>, containing the logic compliant with the Horner's rule.</p>\n<pre><code>public static double evalHornerRec(double[] a, double x) {\n    \n    return horner(a, x, 0);\n}\n\nprivate static double horner(double a[], double x, int n) {\n    if (n == a.length - 1) return a[n];\n    \n    return a[n] + x * horner(a, x, n + 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667849058,"post_id":74351521,"comment_id":131261464,"body_markdown":"It is worth to note that due to the allocating a new copy of the array with each recursive call, this approach has quadratic time complexity **O(n^2)** and also requires additional **O(n^2)** space.","body":"It is worth to note that due to the allocating a new copy of the array with each recursive call, this approach has quadratic time complexity <b>O(n^2)</b> and also requires additional <b>O(n^2)</b> space."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1667849152,"post_id":74351521,"comment_id":131261498,"body_markdown":"In the context of this particular exercise, why is this worth to note? Do you think that a recursive Java implementation of Horner in any shape or form is used outside of a homework scenario?","body":"In the context of this particular exercise, why is this worth to note? Do you think that a recursive Java implementation of Horner in any shape or form is used outside of a homework scenario?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667849698,"post_id":74351521,"comment_id":131261673,"body_markdown":"The point of coding challenges is usually to address the problem with the optimal solution (*in terms of time and space complexity*). Performance, matter in algorithmic exercises and in real-world programming. Hence, this information would be beneficial for future readers (*don&#39;t forget that OP is not the only person who take advance from the answers*).","body":"The point of coding challenges is usually to address the problem with the optimal solution (<i>in terms of time and space complexity</i>). Performance, matter in algorithmic exercises and in real-world programming. Hence, this information would be beneficial for future readers (<i>don&#39;t forget that OP is not the only person who take advance from the answers</i>)."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":0,"creation_date":1667849937,"post_id":74351521,"comment_id":131261740,"body_markdown":"Ah OK, future readers may want to have a look at an optimal solution (in terms of time and space complexity) like this one:\n\nhttps://github.com/apache/commons-math/blob/3e72f1ea31f4b0ed43e6cb48381f86b95c15f36c/commons-math-legacy/src/main/java/org/apache/commons/math4/legacy/analysis/polynomials/PolynomialFunction.java#L121","body":"Ah OK, future readers may want to have a look at an optimal solution (in terms of time and space complexity) like this one:  <a href=\"https://github.com/apache/commons-math/blob/3e72f1ea31f4b0ed43e6cb48381f86b95c15f36c/commons-math-legacy/src/main/java/org/apache/commons/math4/legacy/analysis/polynomials/PolynomialFunction.java#L121\" rel=\"nofollow noreferrer\">github.com/apache/commons-math/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667851494,"creation_date":1667847214,"answer_id":74351521,"question_id":74350392,"body_markdown":"As I suggested in the comment, keep chopping the head off the poly array and pass the chopped version down the recursion call, like so ([this][1] may help):\r\n\r\n```java\r\npublic class Main {\r\n    static int horner(int a[], int x) {\r\n        switch (a.length) {\r\n            case 1:  return a[0];\r\n            default: return a[0] + x * horner(Arrays.copyOfRange(a, 1, a.length), x);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // 2x^3 - 6x^2 + 2x - 1 for x = 3 =&gt; 5\r\n        int[] poly = {-1, 2, -6, 2};\r\n        System.out.println(horner(poly, 3)); // 5\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Horner%27s_method#Polynomial_evaluation_and_long_division","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p>As I suggested in the comment, keep chopping the head off the poly array and pass the chopped version down the recursion call, like so (<a href=\"https://en.wikipedia.org/wiki/Horner%27s_method#Polynomial_evaluation_and_long_division\" rel=\"nofollow noreferrer\">this</a> may help):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static int horner(int a[], int x) {\n        switch (a.length) {\n            case 1:  return a[0];\n            default: return a[0] + x * horner(Arrays.copyOfRange(a, 1, a.length), x);\n        }\n    }\n\n    public static void main(String[] args) {\n        // 2x^3 - 6x^2 + 2x - 1 for x = 3 =&gt; 5\n        int[] poly = {-1, 2, -6, 2};\n        System.out.println(horner(poly, 3)); // 5\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19378257,"reputation":35,"user_id":14170108,"display_name":"yungboi22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74351151,"answer_count":2,"score":0,"last_activity_date":1667851494,"creation_date":1667841261,"question_id":74350392,"body_markdown":"[![Horners method](https://i.stack.imgur.com/wDq0D.png)](https://i.stack.imgur.com/wDq0D.png)\r\n\r\n\r\nHello, everyone. My current university assignment is to represent [Horner&#39;s method][1] using recursion. Before this task we had to do it with a loop, which was easy. But I have no idea how to do this using recursion with only 2 parameters which cannot be changed.\r\n\r\n```\r\npublic static double evalHornerRec(double[] a, double x)\r\n```\r\nThis is the function i have to use\r\n\r\n```\r\n   private static int horner(int a[], int x, int n){\r\n            int h;\r\n            if(n&gt;0)\r\n                h=horner(a, x, n-1);\r\n            else\r\n                return a[n];\r\n \r\n            return h*x+a[n];\r\n     }\r\n```\r\n\r\nI found something like this  but it has 3 parameters and not 2 \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Horner&#39;s_method","title":"Horner&#39;s method using recursion in java with 2 parameters","body":"<p><a href=\"https://i.stack.imgur.com/wDq0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDq0D.png\" alt=\"Horners method\" /></a></p>\n<p>Hello, everyone. My current university assignment is to represent <a href=\"https://en.wikipedia.org/wiki/Horner%27s_method\" rel=\"nofollow noreferrer\">Horner's method</a> using recursion. Before this task we had to do it with a loop, which was easy. But I have no idea how to do this using recursion with only 2 parameters which cannot be changed.</p>\n<pre><code>public static double evalHornerRec(double[] a, double x)\n</code></pre>\n<p>This is the function i have to use</p>\n<pre><code>   private static int horner(int a[], int x, int n){\n            int h;\n            if(n&gt;0)\n                h=horner(a, x, n-1);\n            else\n                return a[n];\n \n            return h*x+a[n];\n     }\n</code></pre>\n<p>I found something like this  but it has 3 parameters and not 2</p>\n"},{"tags":["java","intellij-13"],"comments":[{"owner":{"account_id":3206475,"reputation":2866,"user_id":2707463,"display_name":"JohnnyAW"},"score":2,"creation_date":1494617307,"post_id":43945121,"comment_id":74923117,"body_markdown":"maybe because you didnt import `java.nio.file.Path`?","body":"maybe because you didnt import <code>java.nio.file.Path</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1156557,"reputation":1037,"user_id":1136999,"accept_rate":52,"display_name":"Mohamed Amin"},"score":0,"creation_date":1494617674,"post_id":43945179,"comment_id":74923301,"body_markdown":"thanks,i though it&#39;s part of Paths class.\nlast thing,i got this error after i imported Path class:\nError:(16, 32) java: unreported exception java.io.IOException; must be caught or declared to be thrown","body":"thanks,i though it&#39;s part of Paths class. last thing,i got this error after i imported Path class: Error:(16, 32) java: unreported exception java.io.IOException; must be caught or declared to be thrown"},{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":1,"creation_date":1494617848,"post_id":43945179,"comment_id":74923396,"body_markdown":"@mohamedamin in main do `public static void main(String args[]) throws IOException{` and also import `java.io.*`","body":"@mohamedamin in main do <code>public static void main(String args[]) throws IOException{</code> and also import <code>java.io.*</code>"},{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":0,"creation_date":1659363995,"post_id":43945179,"comment_id":129270835,"body_markdown":"2022 Not working Anymore","body":"2022 Not working Anymore"}],"tags":[],"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1494617411,"creation_date":1494617411,"answer_id":43945179,"question_id":43945121,"body_markdown":"You didn&#39;t import `Path` . Do \r\n\r\n    import java.nio.file.Path\r\n    //...rest of imports and code","title":"cannot find symbol (path) in intellij","body":"<p>You didn't import <code>Path</code> . Do </p>\n\n<pre><code>import java.nio.file.Path\n//...rest of imports and code\n</code></pre>\n"}],"owner":{"account_id":1156557,"reputation":1037,"user_id":1136999,"accept_rate":52,"display_name":"Mohamed Amin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11569,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":43945179,"answer_count":1,"score":-1,"last_activity_date":1667851184,"creation_date":1494617198,"question_id":43945121,"body_markdown":"i tried to use java.nio.file package ,but when i use Path class using intellij,i got this error:\r\n\r\n    can&#39;t find symbol (path)\r\n\r\ncode:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    \r\n    public class IO_METHODS {\r\n    \r\n        public static void main(String args[]){\r\n    \r\n        Path target= Paths.get(&quot;mytext.txt&quot;);\r\n        Path file= Files.createFile(target);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nwhy did i get this error ?","title":"cannot find symbol (path) in intellij","body":"<p>i tried to use java.nio.file package ,but when i use Path class using intellij,i got this error:</p>\n<pre><code>can't find symbol (path)\n</code></pre>\n<p>code:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\n\n\npublic class IO_METHODS {\n\n    public static void main(String args[]){\n\n    Path target= Paths.get(&quot;mytext.txt&quot;);\n    Path file= Files.createFile(target);\n\n\n\n    }\n\n}\n</code></pre>\n<p>why did i get this error ?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1667376814,"post_id":74286089,"comment_id":131149981,"body_markdown":"Assign the cells a custom numerical format or pad the strings with zeroes.","body":"Assign the cells a custom numerical format or pad the strings with zeroes."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1667383008,"post_id":74286089,"comment_id":131152110,"body_markdown":"If you create a CSV file and open it with Excel you have no chance. Excel&#39;s automatisms will interpret this always as a number. You can manually import the data in Excel and set the field to text. Or you use a library which is able to create the Excel format directly and set the field type to text programmatically.","body":"If you create a CSV file and open it with Excel you have no chance. Excel&#39;s automatisms will interpret this always as a number. You can manually import the data in Excel and set the field to text. Or you use a library which is able to create the Excel format directly and set the field type to text programmatically."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667812985,"post_id":74286089,"comment_id":131248397,"body_markdown":"First are your item numbers padded with zeros? You don&#39;t show that you&#39;re padding them. Second, what about including `&quot;`s in the string, that way excel will treat them as strings. Maybe you can make a complete compilable example?","body":"First are your item numbers padded with zeros? You don&#39;t show that you&#39;re padding them. Second, what about including <code>&quot;</code>s in the string, that way excel will treat them as strings. Maybe you can make a complete compilable example?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667814852,"post_id":74286089,"comment_id":131249070,"body_markdown":"What if I you write the number surrounded by double quotes. or maybe a startng sngle quote?","body":"What if I you write the number surrounded by double quotes. or maybe a startng sngle quote?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667821945,"post_id":74286089,"comment_id":131251477,"body_markdown":"Consider using Apache POI to directly create the Excel sheet, instead of using CSV. CSV has no concept of string types, number types, etc. That is entirely up to the thing loading the CSV files, and Excel likely reads it as &quot;this has only digits, so I&#39;ll treat it as a number&quot;.","body":"Consider using Apache POI to directly create the Excel sheet, instead of using CSV. CSV has no concept of string types, number types, etc. That is entirely up to the thing loading the CSV files, and Excel likely reads it as &quot;this has only digits, so I&#39;ll treat it as a number&quot;."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667851162,"creation_date":1667812697,"answer_id":74344262,"question_id":74286089,"body_markdown":"To open the csv correctly you have to:\r\n\r\n1. Open an empty excel\r\n2. Click on Data -&gt; From text/CSV \r\n[![enter image description here][1]][1]\r\n3. Select your CSV file\r\n4. On the preview dialog box, on the Data Type Detection select &quot;**Do not detect data types**&quot; option.\r\n[![enter image description here][2]][2]\r\n5. Click Load\r\n6. Delete extra sheets (CSV file can contain only one sheet)&lt;br&gt;\r\n[![enter image description here][3]][3]\r\n7. Go to File -&gt; Export -&gt; Change File Type -&gt; Select CSV -&gt; Click on Save As \r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UXKUQ.png\r\n  [2]: https://i.stack.imgur.com/qioKh.png\r\n  [3]: https://i.stack.imgur.com/SDDwB.png\r\n  [4]: https://i.stack.imgur.com/nV2kz.png","title":"How to prevent Excel from removing zero(s) for number starting with zero(s) from java","body":"<p>To open the csv correctly you have to:</p>\n<ol>\n<li>Open an empty excel</li>\n<li>Click on Data -&gt; From text/CSV\n<a href=\"https://i.stack.imgur.com/UXKUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXKUQ.png\" alt=\"enter image description here\" /></a></li>\n<li>Select your CSV file</li>\n<li>On the preview dialog box, on the Data Type Detection select &quot;<strong>Do not detect data types</strong>&quot; option.\n<a href=\"https://i.stack.imgur.com/qioKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qioKh.png\" alt=\"enter image description here\" /></a></li>\n<li>Click Load</li>\n<li>Delete extra sheets (CSV file can contain only one sheet)<br>\n<a href=\"https://i.stack.imgur.com/SDDwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDDwB.png\" alt=\"enter image description here\" /></a></li>\n<li>Go to File -&gt; Export -&gt; Change File Type -&gt; Select CSV -&gt; Click on Save As\n<a href=\"https://i.stack.imgur.com/nV2kz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nV2kz.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"}],"owner":{"account_id":21389314,"reputation":1,"user_id":15753700,"display_name":"Ayush"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667851162,"creation_date":1667376680,"question_id":74286089,"body_markdown":"I&#39;m creating CSV/XlS file using Java, I need to write a column having numbers like 005292, but even after writing the number as a string, excel sheet displays it as 5292.\r\n\r\n```\r\nStatefulBeanToCsv&lt;FepAccount&gt; writer = new StatefulBeanToCsvBuilder&lt;FepAndEabAccount&gt;(\r\n                    response.getWriter()).withSeparator(&#39;\\t&#39;).withOrderedResults(false).build();\r\n\r\n// write data to csv file\r\nwriter.write(fleetIncentiveService.downloadFepEabReport(request));\r\n```\r\nIn &quot;FepAccount&quot; I&#39;ve created POJO class for columns (all columns are of String type) using &quot;@CsvBindByName&quot;.\r\n\r\nFor example:\r\n     \r\n```\r\npublic class FepAccount { \r\n\t@CsvBindByName(column = &quot;ITEM_NUMBER&quot;)\r\n\tprotected String itemNumber;\r\n        \r\n        public String itemNumber() {\r\n\t\treturn itemNumber;\r\n\t}\r\n\tpublic void setItemNumber(String itemNumber) {\r\n\t\tthis.itemNumber= itemNumber;\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to prevent Excel from removing zero(s) for number starting with zero(s) from java","body":"<p>I'm creating CSV/XlS file using Java, I need to write a column having numbers like 005292, but even after writing the number as a string, excel sheet displays it as 5292.</p>\n<pre><code>StatefulBeanToCsv&lt;FepAccount&gt; writer = new StatefulBeanToCsvBuilder&lt;FepAndEabAccount&gt;(\n                    response.getWriter()).withSeparator('\\t').withOrderedResults(false).build();\n\n// write data to csv file\nwriter.write(fleetIncentiveService.downloadFepEabReport(request));\n</code></pre>\n<p>In &quot;FepAccount&quot; I've created POJO class for columns (all columns are of String type) using &quot;@CsvBindByName&quot;.</p>\n<p>For example:</p>\n<pre><code>public class FepAccount { \n    @CsvBindByName(column = &quot;ITEM_NUMBER&quot;)\n    protected String itemNumber;\n        \n        public String itemNumber() {\n        return itemNumber;\n    }\n    public void setItemNumber(String itemNumber) {\n        this.itemNumber= itemNumber;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","search","lucene","search-engine","fuzzy-search"],"answers":[{"comments":[{"owner":{"account_id":14871028,"reputation":169,"user_id":10738536,"display_name":"Mohamed Niyaz"},"score":0,"creation_date":1667887748,"post_id":74352263,"comment_id":131268563,"body_markdown":"As an alternative, are you suggesting that instead of dealing with automata rather implement the weighted levenshtein in an algorithmic way?","body":"As an alternative, are you suggesting that instead of dealing with automata rather implement the weighted levenshtein in an algorithmic way?"}],"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667851132,"creation_date":1667851132,"answer_id":74352263,"question_id":74335065,"body_markdown":"To accomplish this you would have to extend and/or edit lucene code.  To support fuzzy matching, lucene compiles an `Automaton` using the `LevenshteinAutomata` class, which implements [this algorithm][1], and not only doesn&#39;t support edit weights, but only supports matching for up to 0 to 2 edits.\r\n\r\nHow one might edit this algorithm to produce an automaton that supports weighted edits is beyond my knowledge, but could be worth a try as it would make your customization simple (would only have to override the [`getAutomaton`][2] method) and would (theoretically) keep performance consistent.\r\n\r\nThe alternative would be to forgo the idea of an automaton to support fuzzy matching and simply implement a weighted levenshtein algorithm, like the one you have linked to, directly in the [actual fuzzy match check][3].  By doing this, however, you could pay a rather high performance cost depending on the nature of the fuzzy queries you handle and the content of your index.\r\n\r\n\r\n  [1]: https://dmice.ohsu.edu/bedricks/courses/cs655/pdf/readings/2002_Schulz.pdf\r\n  [2]: https://github.com/apache/lucene/blob/54fba99cb131c7414caf2c21b52aa990ac17db3e/lucene/core/src/java/org/apache/lucene/search/FuzzyQuery.java#L171\r\n  [3]: https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/core/src/java/org/apache/lucene/search/FuzzyTermsEnum.java#L275","title":"Custom Edit distance weights for operations in Lucene FuzzySearch","body":"<p>To accomplish this you would have to extend and/or edit lucene code.  To support fuzzy matching, lucene compiles an <code>Automaton</code> using the <code>LevenshteinAutomata</code> class, which implements <a href=\"https://dmice.ohsu.edu/bedricks/courses/cs655/pdf/readings/2002_Schulz.pdf\" rel=\"nofollow noreferrer\">this algorithm</a>, and not only doesn't support edit weights, but only supports matching for up to 0 to 2 edits.</p>\n<p>How one might edit this algorithm to produce an automaton that supports weighted edits is beyond my knowledge, but could be worth a try as it would make your customization simple (would only have to override the <a href=\"https://github.com/apache/lucene/blob/54fba99cb131c7414caf2c21b52aa990ac17db3e/lucene/core/src/java/org/apache/lucene/search/FuzzyQuery.java#L171\" rel=\"nofollow noreferrer\"><code>getAutomaton</code></a> method) and would (theoretically) keep performance consistent.</p>\n<p>The alternative would be to forgo the idea of an automaton to support fuzzy matching and simply implement a weighted levenshtein algorithm, like the one you have linked to, directly in the <a href=\"https://github.com/apache/lucene/blob/d5d6dc079395c47cd6d12dcce3bcfdd2c7d9dc63/lucene/core/src/java/org/apache/lucene/search/FuzzyTermsEnum.java#L275\" rel=\"nofollow noreferrer\">actual fuzzy match check</a>.  By doing this, however, you could pay a rather high performance cost depending on the nature of the fuzzy queries you handle and the content of your index.</p>\n"}],"owner":{"account_id":14871028,"reputation":169,"user_id":10738536,"display_name":"Mohamed Niyaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667851132,"creation_date":1667731083,"question_id":74335065,"body_markdown":"I came across this python library https://pypi.org/project/weighted-levenshtein/ which allows to specify different costs/weights for different operations(insertion, substitution, deletion and transposition) which is very helpful in detecting and correcting keystroke errors. \r\n\r\nI have been searching through lucene library [FuzzySearch][1] which uses Damerau-Levenstein distance to check if something like this is supported to specify different costs/weights for different operations but not able to find any. \r\n\r\nPlease let me know if there exists a way to specify our custom costs/weights within Lucene Fuzzy-Search.\r\n\r\nThanks in advance!\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html","title":"Custom Edit distance weights for operations in Lucene FuzzySearch","body":"<p>I came across this python library <a href=\"https://pypi.org/project/weighted-levenshtein/\" rel=\"nofollow noreferrer\">https://pypi.org/project/weighted-levenshtein/</a> which allows to specify different costs/weights for different operations(insertion, substitution, deletion and transposition) which is very helpful in detecting and correcting keystroke errors.</p>\n<p>I have been searching through lucene library <a href=\"https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html\" rel=\"nofollow noreferrer\">FuzzySearch</a> which uses Damerau-Levenstein distance to check if something like this is supported to specify different costs/weights for different operations but not able to find any.</p>\n<p>Please let me know if there exists a way to specify our custom costs/weights within Lucene Fuzzy-Search.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","build.gradle","android-fileprovider","samsung-galaxy"],"answers":[{"comments":[{"owner":{"account_id":19135248,"reputation":33,"user_id":13976349,"display_name":"LostBoy"},"score":0,"creation_date":1595495645,"post_id":63037391,"comment_id":111496731,"body_markdown":"Thank you for your input! I removed !implementation androidx.core:core1.3.0&#39; but I still get the same error...I will keep looking!","body":"Thank you for your input! I removed !implementation androidx.core:core1.3.0&#39; but I still get the same error...I will keep looking!"},{"owner":{"account_id":11908125,"reputation":444,"user_id":8714139,"display_name":"Jason"},"score":0,"creation_date":1595509146,"post_id":63037391,"comment_id":111503780,"body_markdown":"Are you sure thats all your logcat?","body":"Are you sure thats all your logcat?"},{"owner":{"account_id":19135248,"reputation":33,"user_id":13976349,"display_name":"LostBoy"},"score":0,"creation_date":1596472703,"post_id":63037391,"comment_id":111815541,"body_markdown":"Yes it is. And I am pretty sure the issue comes from my mobile device...","body":"Yes it is. And I am pretty sure the issue comes from my mobile device..."}],"tags":[],"owner":{"account_id":11908125,"reputation":444,"user_id":8714139,"display_name":"Jason"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595430288,"creation_date":1595430288,"answer_id":63037391,"question_id":63036519,"body_markdown":"The AppCompat dependency compiles the Fileprovider which is within the `androidx.core:core` package as its dependency. Therefore remove this line `implementation &#39;androidx.core:core:1.3.0&#39;` from your gradle file to see if it works. Because appcompat lib has version `1.1.0` while u still compiled `1.3.0` in your project.","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>The AppCompat dependency compiles the Fileprovider which is within the <code>androidx.core:core</code> package as its dependency. Therefore remove this line <code>implementation 'androidx.core:core:1.3.0'</code> from your gradle file to see if it works. Because appcompat lib has version <code>1.1.0</code> while u still compiled <code>1.3.0</code> in your project.</p>\n"},{"tags":[],"owner":{"account_id":17168963,"reputation":51,"user_id":12426506,"display_name":"Samiir Mru"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667850322,"creation_date":1667850322,"answer_id":74352134,"question_id":63036519,"body_markdown":"I have solved this problem.&lt;br/&gt; I set `androidx.core:core:1.8.0` in build.gradle inside `defaultConfig`.\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;androidx.core:core:1.8.0&#39;\r\n        }\r\n    }\r\n\r\nThen change `compileSdkVersion` to 32.&lt;br/&gt;\r\nClean project and rebuild project, finally everything be ok.","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>I have solved this problem.<br/> I set <code>androidx.core:core:1.8.0</code> in build.gradle inside <code>defaultConfig</code>.</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'androidx.core:core:1.8.0'\n    }\n}\n</code></pre>\n<p>Then change <code>compileSdkVersion</code> to 32.<br/>\nClean project and rebuild project, finally everything be ok.</p>\n"}],"owner":{"account_id":19135248,"reputation":33,"user_id":13976349,"display_name":"LostBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667850322,"creation_date":1595427833,"question_id":63036519,"body_markdown":"Hello my dear friends,\r\n\r\nI am trying to develop media files to my server with the help of Retrofit and a Fileprovider. \r\n\r\nLike the title already describes my situation, am I looking for a solution of the following error. This error let the app crash during the launch while the app runs without issues on other phones. I am trying for a week now to fix this error and tried everything from Multidex integration, writing a new java path for my SDK, checking my permissions and clearing my mobile&#39;s cache. \r\n\r\nTo be honest, I am not really good at understanding the logcat when it comes to files in the background that I have not seen before. Apparently, the app does not find my Fileprovider class. I defined the Fileprovider in my manifest file and wrote a corresponding file_path.xml file. I could not find the need of a specific Java provider.class nor any gradle dependencies to make a fileprovider work. \r\n\r\nI am excited what you say to my problem and to my logcat. I appreciate every useful information!\r\n\r\nThank you for reading.\r\n\r\nMy Logcat:\r\n\r\n\r\n```\r\n  java.lang.RuntimeException: Unable to instantiate application com.example.loginandregister.MainActivity: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:979)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\r\n     Caused by: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1108)\r\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1093)\r\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:973)\r\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)&#160;\r\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6938)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)&#160;\r\n\r\n```\r\n\r\nMy Manifest file:\r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.retrofit_uploadmediafiles&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;application\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.ImageActivity&quot;/&gt;\r\n\r\n\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.retrofit_uploadmediafiles.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nMy Gradle file (I included many dependencies out of desperation ...):\r\n\r\n```\r\nandroid {\r\n    compileSdkVersion 29\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.retrofit_uploadmediafiles&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.core:core:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.test:runner:1.2.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation &#39;com.afollestad.material-dialogs:core:0.9.4.5&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n\r\n\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.rengwuxian.materialedittext:library:2.1.4&#39;\r\n\r\n    implementation group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.7&#39;\r\n}\r\n```\r\n\r\nMy Main Activity:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity  implements View.OnClickListener{\r\n    private Button image, video, pdf;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        MultiDex.install(this);\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n        image = findViewById(R.id.image);\r\n        video = findViewById(R.id.video);\r\n        pdf = findViewById(R.id.Pdf);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            image.setEnabled(false);\r\n            video.setEnabled(false);\r\n            pdf.setEnabled(false);\r\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\r\n        } else {\r\n            image.setEnabled(true);\r\n            video.setEnabled(true);\r\n            pdf.setEnabled(true);\r\n        }\r\n\r\n        image.setOnClickListener(this);\r\n        video.setOnClickListener(this);\r\n        pdf.setOnClickListener(this);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        if(requestCode == 0 ) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                image.setEnabled(true);\r\n                video.setEnabled(true);\r\n                pdf.setEnabled(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.image:\r\n                Intent intent = new Intent(this, ImageActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.video:\r\n                //Intent intent2 = new Intent(this, VideoActivity.class);\r\n                //startActivity(intent2);   I am trying to make the image upload work for now \r\n                break;\r\n            case R.id.Pdf:\r\n                //Intent intent3 = new Intent(this, PdfActivity.class);\r\n                //startActivity(intent3);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nI am a little bit overwhelmed by all these different software versions on my phone:\r\n\r\nAndroid version: 8.0.0\r\nSamsung Experience version: 9.0\r\nKnox version:3.0, API level 24\r\n\r\nLet me know if you need more information\r\n","title":"Runtimeexception: Unable to get androidx.core.content.FileProvider: ClassNotFoundExecption: appears on my Galaxy S8","body":"<p>Hello my dear friends,</p>\n<p>I am trying to develop media files to my server with the help of Retrofit and a Fileprovider.</p>\n<p>Like the title already describes my situation, am I looking for a solution of the following error. This error let the app crash during the launch while the app runs without issues on other phones. I am trying for a week now to fix this error and tried everything from Multidex integration, writing a new java path for my SDK, checking my permissions and clearing my mobile's cache.</p>\n<p>To be honest, I am not really good at understanding the logcat when it comes to files in the background that I have not seen before. Apparently, the app does not find my Fileprovider class. I defined the Fileprovider in my manifest file and wrote a corresponding file_path.xml file. I could not find the need of a specific Java provider.class nor any gradle dependencies to make a fileprovider work.</p>\n<p>I am excited what you say to my problem and to my logcat. I appreciate every useful information!</p>\n<p>Thank you for reading.</p>\n<p>My Logcat:</p>\n<pre><code>  java.lang.RuntimeException: Unable to instantiate application com.example.loginandregister.MainActivity: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:979)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030)\n        at android.app.ActivityThread.-wrap1(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6938)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n     Caused by: java.lang.ClassCastException: com.example.loginandregister.MainActivity cannot be cast to android.app.Application\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1108)\n        at android.app.Instrumentation.newApplication(Instrumentation.java:1093)\n        at android.app.LoadedApk.makeApplication(LoadedApk.java:973)\n        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6030) \n        at android.app.ActivityThread.-wrap1(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1764) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6938) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374) \n\n</code></pre>\n<p>My Manifest file:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.retrofit_uploadmediafiles&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.ImageActivity&quot;/&gt;\n\n\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.retrofit_uploadmediafiles.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>My Gradle file (I included many dependencies out of desperation ...):</p>\n<pre><code>android {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId &quot;com.example.retrofit_uploadmediafiles&quot;\n        minSdkVersion 23\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.test:runner:1.2.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.afollestad.material-dialogs:core:0.9.4.5'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n\n\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.rengwuxian.materialedittext:library:2.1.4'\n\n    implementation group: 'commons-io', name: 'commons-io', version: '2.7'\n}\n</code></pre>\n<p>My Main Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  implements View.OnClickListener{\n    private Button image, video, pdf;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        MultiDex.install(this);\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        image = findViewById(R.id.image);\n        video = findViewById(R.id.video);\n        pdf = findViewById(R.id.Pdf);\n\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            image.setEnabled(false);\n            video.setEnabled(false);\n            pdf.setEnabled(false);\n            ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\n        } else {\n            image.setEnabled(true);\n            video.setEnabled(true);\n            pdf.setEnabled(true);\n        }\n\n        image.setOnClickListener(this);\n        video.setOnClickListener(this);\n        pdf.setOnClickListener(this);\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        if(requestCode == 0 ) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                image.setEnabled(true);\n                video.setEnabled(true);\n                pdf.setEnabled(true);\n            }\n        }\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.image:\n                Intent intent = new Intent(this, ImageActivity.class);\n                startActivity(intent);\n                break;\n            case R.id.video:\n                //Intent intent2 = new Intent(this, VideoActivity.class);\n                //startActivity(intent2);   I am trying to make the image upload work for now \n                break;\n            case R.id.Pdf:\n                //Intent intent3 = new Intent(this, PdfActivity.class);\n                //startActivity(intent3);\n                break;\n        }\n    }\n\n\n\n\n}\n</code></pre>\n<p>I am a little bit overwhelmed by all these different software versions on my phone:</p>\n<p>Android version: 8.0.0\nSamsung Experience version: 9.0\nKnox version:3.0, API level 24</p>\n<p>Let me know if you need more information</p>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667853092,"post_id":74352108,"comment_id":131262632,"body_markdown":"You would use a primary key class if your primary key consists of several columns that cannot be otherwise handled in JPA or Hibernate.","body":"You would use a primary key class if your primary key consists of several columns that cannot be otherwise handled in JPA or Hibernate."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667901161,"post_id":74352108,"comment_id":131272521,"body_markdown":"This can be generalized by saying: you need a primary key class if you need a primary key of a class not being a native Java class directly mapped by the ORM to a SQL one. And most of the time, it&#39;s because it&#39;s a compound key.","body":"This can be generalized by saying: you need a primary key class if you need a primary key of a class not being a native Java class directly mapped by the ORM to a SQL one. And most of the time, it&#39;s because it&#39;s a compound key."}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667850172,"creation_date":1667850172,"question_id":74352108,"body_markdown":"I am not familiar with Hibernate. I am trying to understand the purpose of defining a primary key class in Hibernate and where it would be appropriate. \r\n\r\nI have to add new classes to some old code (early versions of Hibernate). I have a table called LOG which has the following fields *among other fields*\r\n\r\n    ID NUMBER\r\n    TRANS_ID VARCHAR2(40)\r\n\r\n\r\nID is the primary key (populated by oracle sequence). TRANS_ID is unique and populated by the application. Only search needed is by the TRANS_ID. *There are no composite keys.*\r\n\r\nI believe I will need to define an entity class called Log.java and DAO class called LogDAO.java but do I need to define a LogPK.java for the Id field?  I would not like to define one if this is not needed in my situation.","title":"What is the purpose of a primary key class (xxxPK.java) in Hibernate/Java and when is it appropriate to define one?","body":"<p>I am not familiar with Hibernate. I am trying to understand the purpose of defining a primary key class in Hibernate and where it would be appropriate.</p>\n<p>I have to add new classes to some old code (early versions of Hibernate). I have a table called LOG which has the following fields <em>among other fields</em></p>\n<pre><code>ID NUMBER\nTRANS_ID VARCHAR2(40)\n</code></pre>\n<p>ID is the primary key (populated by oracle sequence). TRANS_ID is unique and populated by the application. Only search needed is by the TRANS_ID. <em>There are no composite keys.</em></p>\n<p>I believe I will need to define an entity class called Log.java and DAO class called LogDAO.java but do I need to define a LogPK.java for the Id field?  I would not like to define one if this is not needed in my situation.</p>\n"},{"tags":["java","selenium","google-chrome","automated-tests","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1594906636,"post_id":62934669,"comment_id":111295774,"body_markdown":"Thanks for the answer. Some code example would be great help.","body":"Thanks for the answer. Some code example would be great help."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1594906860,"post_id":62934669,"comment_id":111295898,"body_markdown":"@NarendraR Your existing code will suffice. You just need to add the configuration of `Pixel 3` which is not available by default.","body":"@NarendraR Your existing code will suffice. You just need to add the configuration of <code>Pixel 3</code> which is not available by default."},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1594908025,"post_id":62934669,"comment_id":111296528,"body_markdown":"I don&#39;t see any other option to add Device pixel ratio\n`User agent string\nUser agent type\ndevice type` there","body":"I don&#39;t see any other option to add Device pixel ratio <code>User agent string User agent type device type</code> there"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594902756,"creation_date":1594902387,"answer_id":62934669,"question_id":62933317,"body_markdown":"From the default list of devices on [tag:google-chrome] **Version 83.0.4103.116** I don&#39; see **`Pixel 3`** as a listed device.\r\n\r\nSnapshot A:\r\n\r\n[![listA][1]][1]\r\n\r\nSnapshot B:\r\n\r\n[![listB][2]][2]\r\n\r\nSnapshot C:\r\n\r\n[![listC][3]][3]\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo add a custom (new) device you have to add the device details in terms of:\r\n\r\n- `Device Name`\r\n- `width`\r\n- `height`\r\n- [`Device pixel ratio`](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio)\r\n- [**`User agent string`**](https://developer.mozilla.org/en-US/docs/Glossary/User_agent)\r\n- **`User agent type`**\r\n- [`device type`](https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#type)\r\n\r\nSnapshot:\r\n\r\n[![newDevice][4]][4]\r\n\r\n\r\n----------\r\n\r\n\r\nReference\r\n---------\r\n[**Add a custom mobile device**](https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#custom)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SSfo4.png\r\n  [2]: https://i.stack.imgur.com/tD3L0.png\r\n  [3]: https://i.stack.imgur.com/zF1Oh.png\r\n  [4]: https://i.stack.imgur.com/RdtNu.png","title":"Unable to run mobile emulation in custome device","body":"<p>From the default list of devices on <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> <strong>Version 83.0.4103.116</strong> I don' see <strong><code>Pixel 3</code></strong> as a listed device.</p>\n<p>Snapshot A:</p>\n<p><a href=\"https://i.stack.imgur.com/SSfo4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SSfo4.png\" alt=\"listA\" /></a></p>\n<p>Snapshot B:</p>\n<p><a href=\"https://i.stack.imgur.com/tD3L0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tD3L0.png\" alt=\"listB\" /></a></p>\n<p>Snapshot C:</p>\n<p><a href=\"https://i.stack.imgur.com/zF1Oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zF1Oh.png\" alt=\"listC\" /></a></p>\n<hr />\n<h2>Solution</h2>\n<p>To add a custom (new) device you have to add the device details in terms of:</p>\n<ul>\n<li><code>Device Name</code></li>\n<li><code>width</code></li>\n<li><code>height</code></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\" rel=\"nofollow noreferrer\"><code>Device pixel ratio</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Glossary/User_agent\" rel=\"nofollow noreferrer\"><strong><code>User agent string</code></strong></a></li>\n<li><strong><code>User agent type</code></strong></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#type\" rel=\"nofollow noreferrer\"><code>device type</code></a></li>\n</ul>\n<p>Snapshot:</p>\n<p><a href=\"https://i.stack.imgur.com/RdtNu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RdtNu.png\" alt=\"newDevice\" /></a></p>\n<hr />\n<h2>Reference</h2>\n<p><a href=\"https://developers.google.com/web/tools/chrome-devtools/device-mode?utm_campaign=2016q3&amp;utm_medium=redirect&amp;utm_source=dcc#custom\" rel=\"nofollow noreferrer\"><strong>Add a custom mobile device</strong></a></p>\n"},{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1594964898,"creation_date":1594964898,"answer_id":62947858,"question_id":62933317,"body_markdown":"Not sure whats wrong with the custom device in chrome. Even i print all devices using below code, It won&#39;t print created custom device.\r\n\r\n    try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Map map = mapper.readValue(\r\n                    new File(&quot;/Users/&lt;username&gt;/Library/Application Support/Google/Chrome/Default/Preferences&quot;),\r\n                    Map.class);\r\n            Map devTools = (Map) map.get(&quot;devtools&quot;);\r\n            Map preferences = (Map) devTools.get(&quot;preferences&quot;);\r\n            String standardEmulatedDeviceList = (String) preferences.get(&quot;standardEmulatedDeviceList&quot;);\r\n            List emulatorMap = mapper.readValue(standardEmulatedDeviceList, List.class);\r\n            System.out.println(emulatorMap.size());\r\n            for (Object object : emulatorMap) {\r\n                Map device = (Map) object;\r\n                System.out.println(device.get(&quot;title&quot;));\r\n            }\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;Look there is an error..&quot;);\r\n        }\r\n    }\r\n\r\nBut there is an alternative to do that. A device matrix can be created with required device height, width and pixel ratio. Pass that device matrix in Chrome Option instead of device name. Most important thing, must pass device user agent in order to make it behave like a device screen. [This][1] is a very good site to get device specifications.\r\n\r\nMy working code is here -\r\n\r\n    Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\r\n    deviceMetrics.put(&quot;width&quot;, 412);\r\n    deviceMetrics.put(&quot;height&quot;, 797);\r\n    deviceMetrics.put(&quot;pixelRatio&quot;, 1.0);\r\n    Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n    mobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\r\n    mobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (Linux; Android 9; Pixel 3 XL Build/PD1A.180621.003) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Mobile Safari/537.36&quot;);\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n    WebDriver driver = new ChromeDriver(chromeOptions);\r\n\r\n\r\n  [1]: https://www.handsetdetection.com/device-detection-database/devices","title":"Unable to run mobile emulation in custome device","body":"<p>Not sure whats wrong with the custom device in chrome. Even i print all devices using below code, It won't print created custom device.</p>\n<pre><code>try {\n        ObjectMapper mapper = new ObjectMapper();\n        Map map = mapper.readValue(\n                new File(&quot;/Users/&lt;username&gt;/Library/Application Support/Google/Chrome/Default/Preferences&quot;),\n                Map.class);\n        Map devTools = (Map) map.get(&quot;devtools&quot;);\n        Map preferences = (Map) devTools.get(&quot;preferences&quot;);\n        String standardEmulatedDeviceList = (String) preferences.get(&quot;standardEmulatedDeviceList&quot;);\n        List emulatorMap = mapper.readValue(standardEmulatedDeviceList, List.class);\n        System.out.println(emulatorMap.size());\n        for (Object object : emulatorMap) {\n            Map device = (Map) object;\n            System.out.println(device.get(&quot;title&quot;));\n        }\n    } catch (IOException ex) {\n        System.out.println(&quot;Look there is an error..&quot;);\n    }\n}\n</code></pre>\n<p>But there is an alternative to do that. A device matrix can be created with required device height, width and pixel ratio. Pass that device matrix in Chrome Option instead of device name. Most important thing, must pass device user agent in order to make it behave like a device screen. <a href=\"https://www.handsetdetection.com/device-detection-database/devices\" rel=\"nofollow noreferrer\">This</a> is a very good site to get device specifications.</p>\n<p>My working code is here -</p>\n<pre><code>Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\ndeviceMetrics.put(&quot;width&quot;, 412);\ndeviceMetrics.put(&quot;height&quot;, 797);\ndeviceMetrics.put(&quot;pixelRatio&quot;, 1.0);\nMap&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\nmobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\nmobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (Linux; Android 9; Pixel 3 XL Build/PD1A.180621.003) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Mobile Safari/537.36&quot;);\nChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"}],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62947858,"answer_count":2,"score":0,"last_activity_date":1667849959,"creation_date":1594897458,"question_id":62933317,"body_markdown":"I have to run some testcases in different mobile view. I&#39;m trying test run in mobile emulation mode using Google Chrome. Testcases are working fine if  a device from existing list selected but while try with creating a custom device from here :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd running the test using below code : \r\n\r\n    @Test\r\n    public void responsive() {\r\n        String driverPath = &quot;/Users/resources/drivers/chromedriver&quot;;\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPath);\r\n        Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n        mobileEmulation.put(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n        WebDriver driver = new ChromeDriver(chromeOptions);\r\n        driver.get(&quot;https://www.google.com&quot;);\r\n    }\r\n\r\nCauses below exception:\r\n\r\n&gt; org.openqa.selenium.InvalidArgumentException: invalid argument: entry\r\n&gt; 0 of &#39;firstMatch&#39; is invalid from invalid argument: cannot parse\r\n&gt; capability: goog:chromeOptions from invalid argument: cannot parse\r\n&gt; mobileEmulation from invalid argument: &#39;Pixel 3&#39; must be a valid\r\n&gt; device from unknown error: must be a valid device Build info: version:\r\n&gt; &#39;3.13.0&#39;, revision: &#39;2f0d292&#39;, time: &#39;2018-06-25T15:24:21.231Z&#39;\r\n\r\nIs there any additional thing which require to run test in custom device ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PkS3B.png","title":"Unable to run mobile emulation in custome device","body":"<p>I have to run some testcases in different mobile view. I'm trying test run in mobile emulation mode using Google Chrome. Testcases are working fine if  a device from existing list selected but while try with creating a custom device from here :</p>\n<p><a href=\"https://i.stack.imgur.com/PkS3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkS3B.png\" alt=\"enter image description here\" /></a></p>\n<p>And running the test using below code :</p>\n<pre><code>@Test\npublic void responsive() {\n    String driverPath = &quot;/Users/resources/drivers/chromedriver&quot;;\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPath);\n    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\n    WebDriver driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.com&quot;);\n}\n</code></pre>\n<p>Causes below exception:</p>\n<blockquote>\n<p>org.openqa.selenium.InvalidArgumentException: invalid argument: entry\n0 of 'firstMatch' is invalid from invalid argument: cannot parse\ncapability: goog:chromeOptions from invalid argument: cannot parse\nmobileEmulation from invalid argument: 'Pixel 3' must be a valid\ndevice from unknown error: must be a valid device Build info: version:\n'3.13.0', revision: '2f0d292', time: '2018-06-25T15:24:21.231Z'</p>\n</blockquote>\n<p>Is there any additional thing which require to run test in custom device ?</p>\n"},{"tags":["java","json","kotlin","compiler-errors"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1543768894,"post_id":53582212,"comment_id":94028051,"body_markdown":"Try putting the `-jar json.jar` last when running your jar file","body":"Try putting the <code>-jar json.jar</code> last when running your jar file"},{"owner":{"account_id":12359368,"reputation":185,"user_id":9014107,"display_name":"navin"},"score":0,"creation_date":1543826444,"post_id":53582212,"comment_id":94043324,"body_markdown":"Didn&#39;t work, got same error.","body":"Didn&#39;t work, got same error."}],"answers":[{"tags":[],"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1543839051,"creation_date":1543839051,"answer_id":53593614,"question_id":53582212,"body_markdown":"When you use `-jar`, the `-cp` argument is ignored, so you can&#39;t specify any additional dependencies. Instead, you need to specify both jars in the `-cp` argument:\r\n\r\n    java -cp json.jar:gson.jar JsonKt","title":"How to compile and run kotlin program in command line with external java library","body":"<p>When you use <code>-jar</code>, the <code>-cp</code> argument is ignored, so you can't specify any additional dependencies. Instead, you need to specify both jars in the <code>-cp</code> argument:</p>\n\n<pre><code>java -cp json.jar:gson.jar JsonKt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849761,"creation_date":1667849761,"answer_id":74352028,"question_id":53582212,"body_markdown":"to run from command line, Kotlin program which is using external library\r\nfor compile :\r\n\r\n    kotlinc -cp &quot;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTest.kt\r\n\r\nfor run:\r\n\r\n    kotlin -cp &quot;.;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTestKt\r\n\r\nnote: please give full path location for external jar&#39;s as mention above, user will be your system name.","title":"How to compile and run kotlin program in command line with external java library","body":"<p>to run from command line, Kotlin program which is using external library\nfor compile :</p>\n<pre><code>kotlinc -cp &quot;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTest.kt\n</code></pre>\n<p>for run:</p>\n<pre><code>kotlin -cp &quot;.;C:\\Users\\&lt;user&gt;\\Desktop\\kotlin\\programs\\gson-2.10.jar&quot; GsonTestKt\n</code></pre>\n<p>note: please give full path location for external jar's as mention above, user will be your system name.</p>\n"}],"owner":{"account_id":12359368,"reputation":185,"user_id":9014107,"display_name":"navin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1599,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53593614,"answer_count":2,"score":6,"last_activity_date":1667849761,"creation_date":1543767734,"question_id":53582212,"body_markdown":"I am trying kotlin for the first time.\r\n\r\nI was able to run compile the hello world program in kotlin on command line but I am not able to compile program where I want to include external java library\r\n\r\n    import com.google.gson.Gson\r\n    \r\n    data class Person(val name: String, val age: Int, val gender: String?)\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        println(&quot;Hello world&quot;);\r\n        val gson = Gson()\r\n        val person = Person(&quot;navin&quot;, 30, null)\r\n        val personJson = gson.toJson(person)\r\n        println(personJson)\r\n    }\r\n\r\nDirectory structure\r\n\r\n    ➜  kotlin tree\r\n    .\r\n    ├── gson.jar\r\n    ├── json.jar\r\n    └── json.kt\r\n    \r\n    0 directories, 3 files\r\n    ➜  kotlin \r\n\r\nCode compilation works fine but I am not able to run the program\r\n\r\n    ➜  kotlin kotlinc -classpath gson.jar json.kt -include-runtime -d json.jar\r\n    ➜  kotlin java -jar json.jar -cp gson.jar                                 \r\n    Hello world\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\r\n            at JsonKt.main(json.kt:7)\r\n    Caused by: java.lang.ClassNotFoundException: com.google.gson.Gson\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 1 more\r\n    ➜  kotlin \r\n\r\nNeed help understanding how to run the above program.","title":"How to compile and run kotlin program in command line with external java library","body":"<p>I am trying kotlin for the first time.</p>\n\n<p>I was able to run compile the hello world program in kotlin on command line but I am not able to compile program where I want to include external java library</p>\n\n<pre><code>import com.google.gson.Gson\n\ndata class Person(val name: String, val age: Int, val gender: String?)\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hello world\");\n    val gson = Gson()\n    val person = Person(\"navin\", 30, null)\n    val personJson = gson.toJson(person)\n    println(personJson)\n}\n</code></pre>\n\n<p>Directory structure</p>\n\n<pre><code>➜  kotlin tree\n.\n├── gson.jar\n├── json.jar\n└── json.kt\n\n0 directories, 3 files\n➜  kotlin \n</code></pre>\n\n<p>Code compilation works fine but I am not able to run the program</p>\n\n<pre><code>➜  kotlin kotlinc -classpath gson.jar json.kt -include-runtime -d json.jar\n➜  kotlin java -jar json.jar -cp gson.jar                                 \nHello world\nException in thread \"main\" java.lang.NoClassDefFoundError: com/google/gson/Gson\n        at JsonKt.main(json.kt:7)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n➜  kotlin \n</code></pre>\n\n<p>Need help understanding how to run the above program.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667848439,"post_id":74351733,"comment_id":131261256,"body_markdown":"And how is this related to Spring Boot? This seems more of a gradle question (and Spring Boot is just one of the dependencies).","body":"And how is this related to Spring Boot? This seems more of a gradle question (and Spring Boot is just one of the dependencies)."},{"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"score":0,"creation_date":1667848677,"post_id":74351733,"comment_id":131261343,"body_markdown":"Sorry let me remove that tag.","body":"Sorry let me remove that tag."}],"answers":[{"comments":[{"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"score":0,"creation_date":1667853326,"post_id":74351914,"comment_id":131262700,"body_markdown":"I see that this is added by this plugin in gradle -&gt; &#39;org.springdoc.openapi-gradle-plugin&#39; version &#39;1.3.3&#39;\n\nAny idea how I can disable dependencies from a plugin","body":"I see that this is added by this plugin in gradle -&gt; &#39;org.springdoc.openapi-gradle-plugin&#39; version &#39;1.3.3&#39;  Any idea how I can disable dependencies from a plugin"},{"owner":{"account_id":1631775,"reputation":863,"user_id":1506153,"accept_rate":50,"display_name":"Emanuel"},"score":0,"creation_date":1669297177,"post_id":74351914,"comment_id":131616076,"body_markdown":"I don&#39;t understand the above description on how to use it in my gradle file. I also need to know why gson 2.8.6 is still in use.","body":"I don&#39;t understand the above description on how to use it in my gradle file. I also need to know why gson 2.8.6 is still in use."},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1669350290,"post_id":74351914,"comment_id":131627036,"body_markdown":"It&#39;s a CLI. Write it on your terminal, hit Enter, and examine its output. It will contain the answer why gson 2.8.6 is in use.","body":"It&#39;s a CLI. Write it on your terminal, hit Enter, and examine its output. It will contain the answer why gson 2.8.6 is in use."}],"tags":[],"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849129,"creation_date":1667849129,"answer_id":74351914,"question_id":74351733,"body_markdown":"With `gradle dependencies` you can see what brings this 2.8.6 version, let&#39;s call it x.y, with version v, and then add to your gradle.build this:\r\n\r\n    compile (&quot;x.y:v&quot;) {\r\n        exclude(module: &#39;com.google.code.gson&#39;)\r\n","title":"Gradle downloading the gson library of 2 different versions 2.9.0 and 2.8.6. How to force it to download only gson 2.9.0","body":"<p>With <code>gradle dependencies</code> you can see what brings this 2.8.6 version, let's call it x.y, with version v, and then add to your gradle.build this:</p>\n<pre><code>compile (&quot;x.y:v&quot;) {\n    exclude(module: 'com.google.code.gson')\n</code></pre>\n"}],"owner":{"account_id":18518949,"reputation":163,"user_id":13492469,"display_name":"PassionateAbtCoding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667849129,"creation_date":1667848333,"question_id":74351733,"body_markdown":"I am facing a weird issue with Gradle. \r\n\r\nI have the below dependency in my gradle\r\n```\r\nimplementation &#39;com.google.code.gson:gson.2.9.0\r\n```\r\nBut it seems to be downloading gson 2.8.6 too and I am not sure why. \r\n\r\nThis is causing problems with whitesource as the gson 2.8.6 is flagged for a vulnerability.\r\n\r\nI tried doing the below steps\r\n\r\n```\r\nimplementation(&#39;com.google.code.gson:gson&#39;) {\r\n        version {\r\n            strictly &#39;2.9.0&#39;\r\n        }\r\n  }\r\n```\r\n\r\nand \r\n\r\n```\r\ncompileOnly(&#39;com.google.code.gson:gson:2.9.0&#39;){\r\n    force = true\r\n}\r\n```\r\nFurther I tried this too\r\n\r\n```\r\nconfigurations.all {\r\n  resolutionStrategy.eachDependency { details -&gt;\r\n    if (details.requested.group == &#39;com.google.code.gson&#39;) {\r\n      details.useVersion &quot;2.9.0&quot;\r\n    }\r\n  }\r\n}\r\n...\r\n....\r\ncompileOnly &#39;com.google.code.gson:gson&#39;\r\n\r\n```\r\n\r\nBut none of the above seem to be helping.\r\n","title":"Gradle downloading the gson library of 2 different versions 2.9.0 and 2.8.6. How to force it to download only gson 2.9.0","body":"<p>I am facing a weird issue with Gradle.</p>\n<p>I have the below dependency in my gradle</p>\n<pre><code>implementation 'com.google.code.gson:gson.2.9.0\n</code></pre>\n<p>But it seems to be downloading gson 2.8.6 too and I am not sure why.</p>\n<p>This is causing problems with whitesource as the gson 2.8.6 is flagged for a vulnerability.</p>\n<p>I tried doing the below steps</p>\n<pre><code>implementation('com.google.code.gson:gson') {\n        version {\n            strictly '2.9.0'\n        }\n  }\n</code></pre>\n<p>and</p>\n<pre><code>compileOnly('com.google.code.gson:gson:2.9.0'){\n    force = true\n}\n</code></pre>\n<p>Further I tried this too</p>\n<pre><code>configurations.all {\n  resolutionStrategy.eachDependency { details -&gt;\n    if (details.requested.group == 'com.google.code.gson') {\n      details.useVersion &quot;2.9.0&quot;\n    }\n  }\n}\n...\n....\ncompileOnly 'com.google.code.gson:gson'\n\n</code></pre>\n<p>But none of the above seem to be helping.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1618189370,"post_id":67050956,"comment_id":118519120,"body_markdown":"Is your file in a Source Folder in a Java Project, both of those terms in the sense that Eclipse&#39;s Java tools use them?","body":"Is your file in a Source Folder in a Java Project, both of those terms in the sense that Eclipse&#39;s Java tools use them?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1618213363,"post_id":67050956,"comment_id":118524218,"body_markdown":"Is this supposed to be a &#39;module-info.java&#39; file? The module info has a completely different format and does not contain Java classes. This should be giving you compile errors.","body":"Is this supposed to be a &#39;module-info.java&#39; file? The module info has a completely different format and does not contain Java classes. This should be giving you compile errors."}],"answers":[{"tags":[],"owner":{"account_id":9038628,"reputation":300,"user_id":8316946,"accept_rate":100,"display_name":"Brian Schack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667849042,"creation_date":1667849042,"answer_id":74351896,"question_id":67050956,"body_markdown":"Eclipse gave me the same error message for my project. &quot;The selection cannot be launched, and there are no recent launches.&quot;\r\n\r\nI navigated to Run menu –&gt; Run Configurations... –&gt; Java Application –&gt; Launch Configuration –&gt; Run. This ran my project without the error message.\r\n\r\nPlease see also the question, &quot;[The selection cannot be launches, and there are no recent launches][1]&quot; for Android.\r\n\r\n  [1]: https://stackoverflow.com/questions/19782107/the-selection-cannot-be-launches-and-there-are-no-recent-launches","title":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice come out in Eclipse?","body":"<p>Eclipse gave me the same error message for my project. &quot;The selection cannot be launched, and there are no recent launches.&quot;</p>\n<p>I navigated to Run menu –&gt; Run Configurations... –&gt; Java Application –&gt; Launch Configuration –&gt; Run. This ran my project without the error message.</p>\n<p>Please see also the question, &quot;<a href=\"https://stackoverflow.com/questions/19782107/the-selection-cannot-be-launches-and-there-are-no-recent-launches\">The selection cannot be launches, and there are no recent launches</a>&quot; for Android.</p>\n"}],"owner":{"account_id":20653068,"reputation":1544,"user_id":15162879,"display_name":"Fabbiucciello"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667849042,"creation_date":1618182344,"question_id":67050956,"body_markdown":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice is coming out in this case?\r\n```\r\nmodule try {\r\n\tpublic class module-info {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSystem.out.println(&quot;hello&quot;); \r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice come out in Eclipse?","body":"<p>Why does &quot;the selection cannot be launched and there are no recent launches&quot; notice is coming out in this case?</p>\n<pre><code>module try {\n    public class module-info {\n        public static void main(String args[]) {\n            System.out.println(&quot;hello&quot;); \n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1667847822,"post_id":74351589,"comment_id":131261063,"body_markdown":"`(T) this` doesn&#39;t actually become `(String) this`.  It becomes `(Object) this`.  `T` is _erased_ at runtime, it doesn&#39;t have any effect on how the program works, only whether or not it compiles.","body":"<code>(T) this</code> doesn&#39;t actually become <code>(String) this</code>.  It becomes <code>(Object) this</code>.  <code>T</code> is <i>erased</i> at runtime, it doesn&#39;t have any effect on how the program works, only whether or not it compiles."},{"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"score":0,"creation_date":1667847961,"post_id":74351589,"comment_id":131261115,"body_markdown":"I see, that makes sense. Thank you @LouisWasserman ! If you post this as the answer to my question, I&#39;ll be happy to upvote it and mark it as the solution.","body":"I see, that makes sense. Thank you @LouisWasserman ! If you post this as the answer to my question, I&#39;ll be happy to upvote it and mark it as the solution."}],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667848654,"post_id":74351712,"comment_id":131261339,"body_markdown":"@Whirvis If you want to dig into how all this works, run `javap -v MyClass.class`. You&#39;ll get a complete disassembly of the bytecode, and you can see the actual JVM cast instructions as well as hidden methods that are needed to match up generic and erased method signatures.","body":"@Whirvis If you want to dig into how all this works, run <code>javap -v MyClass.class</code>. You&#39;ll get a complete disassembly of the bytecode, and you can see the actual JVM cast instructions as well as hidden methods that are needed to match up generic and erased method signatures."}],"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667848234,"creation_date":1667848234,"answer_id":74351712,"question_id":74351589,"body_markdown":"Louis Wasserman correctly notes that your &quot;cast&quot; to `T` is erased to `Object` at compile-time, but you&#39;re on the right track. Instead, however, the cast that fails will be inserted in the code that relies on the generic:\r\n\r\n```\r\npublic class Animal&lt;T&gt; {\r\n  T value;\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public Animal() {\r\n    this.value = (T) this;\r\n  }\r\n\r\n  T getValue() {\r\n    return value;\r\n  }\r\n}\r\n```\r\n\r\nSo far this in itself won&#39;t cause an exception, since the physical field type of `value` is `Object`. However, this is where you&#39;ll get the `ClassCastException`:\r\n\r\n```\r\nvoid thisFails() {\r\n  Animal&lt;String&gt; animal = new Animal();\r\n  // ^ animal.value is not a String!\r\n\r\n  String value = animal.getValue();\r\n  // This is implemented by the compiler as\r\n  // `String value = (String) animal.getValue()`\r\n  // and *this* will fail at runtime with ClassCastException.\r\n}","title":"Why does this unchecked cast NOT cause a ClassCastException?","body":"<p>Louis Wasserman correctly notes that your &quot;cast&quot; to <code>T</code> is erased to <code>Object</code> at compile-time, but you're on the right track. Instead, however, the cast that fails will be inserted in the code that relies on the generic:</p>\n<pre><code>public class Animal&lt;T&gt; {\n  T value;\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public Animal() {\n    this.value = (T) this;\n  }\n\n  T getValue() {\n    return value;\n  }\n}\n</code></pre>\n<p>So far this in itself won't cause an exception, since the physical field type of <code>value</code> is <code>Object</code>. However, this is where you'll get the <code>ClassCastException</code>:</p>\n<pre><code>void thisFails() {\n  Animal&lt;String&gt; animal = new Animal();\n  // ^ animal.value is not a String!\n\n  String value = animal.getValue();\n  // This is implemented by the compiler as\n  // `String value = (String) animal.getValue()`\n  // and *this* will fail at runtime with ClassCastException.\n}\n</code></pre>\n"}],"owner":{"account_id":5737531,"reputation":199,"user_id":4531148,"accept_rate":80,"display_name":"Whirvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74351712,"answer_count":1,"score":1,"last_activity_date":1667848234,"creation_date":1667847565,"question_id":74351589,"body_markdown":"I am doing an experiment with generics, and I recently came across this phenomenon. In a constructor for a parameterized class, I am doing an unchecked cast. I know this is bad practice (my IDE also gives me a warning, as it should). In my `main()` method, I am expecting the first line to run successfully and for the second to cause a `ClassCastException` to be thrown. However, this does not happen.\r\n\r\nI expect the line `Animal&lt;String&gt; bad = new Animal()` to throw an exception, as `(T) this` in the `Animal` constructor would effectively become `(String) this` where `this` is of type `Animal`; which is of course an invalid cast. However, this does not happen. The program runs successfully and exits.\r\n\r\n    public class Generics {\r\n\r\n        public static class Animal&lt;T&gt; {\r\n\r\n            private final T value;\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public Animal() {\r\n                this.value = (T) this;\r\n                System.out.println(value.getClass());\r\n            }\r\n\r\n        }\r\n\r\n        public static class Cat extends Animal&lt;Cat&gt; {\r\n\r\n            public Cat() {\r\n                super(); /* of course, this works */\r\n            }\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Cat cat = new Cat(); /* all good */\r\n            Animal&lt;String&gt; test = new Animal&lt;&gt;();\r\n        }\r\n\r\n    }\r\n\r\nFurthermore, printing the value of `value.getClass()` yields an unexpected output:\r\n\r\n    Generics$Cat    /* as expected */\r\n    Generics$Animal /* expected a ClassCastException here */\r\n\r\nI know this is an odd way to use generics, but as I said earlier, this is simply an experiment. I just want to know why this code runs without an exception being thrown. If you need any more information, please let me know in the comments and I will edit the question accordingly. Thank you!\r\n\r\nI also realize that this post is similar [this question.][1] However, I&#39;m not entirely sure what the author of that question is trying to do there as his code is structured differently from mine.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54797702/no-classcastexception-on-wrong-generic-cast-java","title":"Why does this unchecked cast NOT cause a ClassCastException?","body":"<p>I am doing an experiment with generics, and I recently came across this phenomenon. In a constructor for a parameterized class, I am doing an unchecked cast. I know this is bad practice (my IDE also gives me a warning, as it should). In my <code>main()</code> method, I am expecting the first line to run successfully and for the second to cause a <code>ClassCastException</code> to be thrown. However, this does not happen.</p>\n<p>I expect the line <code>Animal&lt;String&gt; bad = new Animal()</code> to throw an exception, as <code>(T) this</code> in the <code>Animal</code> constructor would effectively become <code>(String) this</code> where <code>this</code> is of type <code>Animal</code>; which is of course an invalid cast. However, this does not happen. The program runs successfully and exits.</p>\n<pre><code>public class Generics {\n\n    public static class Animal&lt;T&gt; {\n\n        private final T value;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public Animal() {\n            this.value = (T) this;\n            System.out.println(value.getClass());\n        }\n\n    }\n\n    public static class Cat extends Animal&lt;Cat&gt; {\n\n        public Cat() {\n            super(); /* of course, this works */\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Cat cat = new Cat(); /* all good */\n        Animal&lt;String&gt; test = new Animal&lt;&gt;();\n    }\n\n}\n</code></pre>\n<p>Furthermore, printing the value of <code>value.getClass()</code> yields an unexpected output:</p>\n<pre><code>Generics$Cat    /* as expected */\nGenerics$Animal /* expected a ClassCastException here */\n</code></pre>\n<p>I know this is an odd way to use generics, but as I said earlier, this is simply an experiment. I just want to know why this code runs without an exception being thrown. If you need any more information, please let me know in the comments and I will edit the question accordingly. Thank you!</p>\n<p>I also realize that this post is similar <a href=\"https://stackoverflow.com/questions/54797702/no-classcastexception-on-wrong-generic-cast-java\">this question.</a> However, I'm not entirely sure what the author of that question is trying to do there as his code is structured differently from mine.</p>\n"},{"tags":["java","export"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1663959082,"post_id":73831699,"comment_id":130370238,"body_markdown":"Your `ThingThatWorks.java` file contains a class with a different name. Is this a typo from writing this question or was it the same way on your system?","body":"Your <code>ThingThatWorks.java</code> file contains a class with a different name. Is this a typo from writing this question or was it the same way on your system?"},{"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"score":0,"creation_date":1663959511,"post_id":73831699,"comment_id":130370350,"body_markdown":"It&#39;s the same way as on my system. I&#39;m not sure what mean by that it &#39;contains a class with a different name,&#39; unless you mean the class name itself.","body":"It&#39;s the same way as on my system. I&#39;m not sure what mean by that it &#39;contains a class with a different name,&#39; unless you mean the class name itself."},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1663959653,"post_id":73831699,"comment_id":130370375,"body_markdown":"Ironically I made a typo in my previous comment in the way I thought you might have. The issue is that Java expects a file named `Xyz.java` to have a class `Xyz`. However since `ThingThatWorks` is in a file called `ThingsThatWork.java` it will be expecting the class inside it to be called `ThingsThatWork`.","body":"Ironically I made a typo in my previous comment in the way I thought you might have. The issue is that Java expects a file named <code>Xyz.java</code> to have a class <code>Xyz</code>. However since <code>ThingThatWorks</code> is in a file called <code>ThingsThatWork.java</code> it will be expecting the class inside it to be called <code>ThingsThatWork</code>."},{"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"score":0,"creation_date":1663960361,"post_id":73831699,"comment_id":130370596,"body_markdown":"Ah, okay, I see what you mean now. In this case, yes I did make a typo when writing out my question and added an extra s. The class file in Eclipse is ThingThatWorks.","body":"Ah, okay, I see what you mean now. In this case, yes I did make a typo when writing out my question and added an extra s. The class file in Eclipse is ThingThatWorks."}],"answers":[{"comments":[{"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"score":0,"creation_date":1663967387,"post_id":73832247,"comment_id":130372299,"body_markdown":"Hey, thank you for the suggestion but your first answer ended up actually being the key, the other half of it was me fucking up the .bat file to run the program.","body":"Hey, thank you for the suggestion but your first answer ended up actually being the key, the other half of it was me fucking up the .bat file to run the program."}],"tags":[],"owner":{"account_id":26356889,"reputation":312,"user_id":20013747,"display_name":"Adam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663961786,"creation_date":1663961786,"answer_id":73832247,"question_id":73831699,"body_markdown":"Ok, try the following when compiling:\r\n1. Open a command line and use the cd command to change to the directory with the java and class files\r\n2. run the command\r\n\r\n&gt; fsutil file createnew manifest.man 0\r\n\r\n3. open the created manifest and add the following to it:\r\n\r\n&gt; Manifest-Version: 1.0\r\n\r\n&gt; Main-Class: ProgramJava\r\n\r\n&gt; Created-By: 1.8.0_144 (Oracle Corporation)\r\n\r\n4. Go back to the command line and run the command\r\n\r\n&gt; jar cmf manifest.man Program.jar *.class\r\n\r\n5. Done. You can run it using the command\r\n\r\n&gt; java -jar Program.jar\r\n\r\nor\r\n\r\n&gt; java -cp Program.jar ProgramJava\r\n","title":"Turning Java Project into something runnable","body":"<p>Ok, try the following when compiling:</p>\n<ol>\n<li>Open a command line and use the cd command to change to the directory with the java and class files</li>\n<li>run the command</li>\n</ol>\n<blockquote>\n<p>fsutil file createnew manifest.man 0</p>\n</blockquote>\n<ol start=\"3\">\n<li>open the created manifest and add the following to it:</li>\n</ol>\n<blockquote>\n<p>Manifest-Version: 1.0</p>\n</blockquote>\n<blockquote>\n<p>Main-Class: ProgramJava</p>\n</blockquote>\n<blockquote>\n<p>Created-By: 1.8.0_144 (Oracle Corporation)</p>\n</blockquote>\n<ol start=\"4\">\n<li>Go back to the command line and run the command</li>\n</ol>\n<blockquote>\n<p>jar cmf manifest.man Program.jar *.class</p>\n</blockquote>\n<ol start=\"5\">\n<li>Done. You can run it using the command</li>\n</ol>\n<blockquote>\n<p>java -jar Program.jar</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>java -cp Program.jar ProgramJava</p>\n</blockquote>\n"}],"owner":{"account_id":18853103,"reputation":23,"user_id":13751764,"display_name":"Manthor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664032191,"answer_count":1,"score":0,"last_activity_date":1667848103,"creation_date":1663958074,"question_id":73831699,"body_markdown":"I work for the imaging department at the university I go to and one of the things we have to do is constantly copy/paste these canned responses when dealing with tickets before doubling back and filling in all the empty spaces with the information specific to that ticket. It was tedious enough to inspire me to make a java project in my free time to generate these responses with all the information filled in in an effort to save some time/practice coding.\r\n\r\nIn this project are two classes, one that holds all my ticket info and one that runs the main part of the program (Ticket.java and ThingThatWork.java respectively).\r\n\r\nTicket.java\r\n\r\n    package quickResponse;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Ticket {\r\n    \tScanner scanner = new Scanner(System.in);\t\r\n    \tString make;\r\n    \tString model;\r\n    \tString whiteTag;\r\n    \tString poNumber;\r\n    \tString SN;\r\n    \tString signatureName;\r\n    \t\r\n    \tpublic Ticket() {\r\n    \t\tsetMake(&quot;&quot;);\r\n    \t\tsetModel(&quot;&quot;);\r\n    \t\tsetWhiteTag(&quot;&quot;);\r\n    \t\tsetSN(&quot;&quot;);\r\n    \t\tsetSignatureName(&quot;&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic Ticket(String make, String model, String whiteTag) {\r\n    \t\tsetMake(make);\r\n    \t\tsetModel(model);\r\n    \t\tsetWhiteTag(whiteTag);\r\n    \t\tsetSN(SN);\r\n    \t\tsetSignatureName(signatureName);\r\n    \t}\r\n    \t\r\n    \tpublic String getMake() {\r\n    \t\treturn make;\r\n    \t}\r\n    \t\r\n    \tpublic String getModel() {\r\n    \t\treturn model;\r\n    \t}\r\n    \t\r\n    \tpublic String getWhiteTag() {\r\n    \t\treturn whiteTag;\r\n    \t}\r\n    \t\r\n    \tpublic String getPoNumber() {\r\n    \t\treturn poNumber;\r\n    \t}\r\n    \tpublic String getSN() {\r\n    \t\treturn SN;\r\n    \t}\r\n    \tpublic String getSignatureName() {\r\n    \t\treturn signatureName;\r\n    \t}\r\n    \t\r\n    \tpublic void setMake(String make) {\r\n    \t\tthis.make = make;\r\n    \t}\r\n    \t\r\n    \tpublic void setModel(String model) {\r\n    \t\tthis.model = model;\r\n    \t}\r\n    \t\r\n    \tpublic void setWhiteTag(String whiteTag) {\r\n    \t\tthis.whiteTag = whiteTag;\r\n    \t}\r\n    \t\r\n    \tpublic void setPoNumber(String poNumber) {\r\n    \t\tthis.poNumber = poNumber;\r\n    \t}\r\n    \tpublic void setSN(String SN) {\r\n    \t\tthis.SN = SN;\r\n    \t}\r\n    \tpublic void setSignatureName(String signatureName) {\r\n    \t\tthis.signatureName = signatureName;\r\n    \t}\r\n    \t\r\n    \tpublic void ticketInfo(boolean typeOfImage) {\r\n    \t\t\tscanner.nextLine();\r\n    \t\t\tSystem.out.println(&quot;Make: &quot;);\r\n    \t\t\tsetMake(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;Model: &quot;);\r\n    \t\t\tsetModel(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;White Tag: &quot;);\r\n    \t\t\tsetWhiteTag(scanner.nextLine());\r\n    \t\t\tSystem.out.println(&quot;Serial Number: &quot;);\r\n    \t\t\tsetSN(scanner.nextLine());\r\n    \t\t\tif(typeOfImage == true) {\r\n    \t\t\t\tSystem.out.println(&quot;PO Number: &quot;);\r\n    \t\t\t\tsetPoNumber(scanner.nextLine());\r\n    \t\t}\r\n    \t\t\tSystem.out.println(&quot;Enter Name: &quot;);\r\n    \t\t\tsetSignatureName(scanner.nextLine());\r\n    \t}\r\n    \t\r\n    \tpublic boolean imageOrReimage() {\r\n    \t\tint bool = 0;\r\n    \t\twhile(bool != 1 || bool != 2) {\r\n    \t\t\tSystem.out.println(&quot;Is this computer for imaging or reimaging?&quot;);\r\n    \t\t\tSystem.out.println(&quot;1. Imaging&quot;);\r\n    \t\t\tSystem.out.println(&quot;2. Reimaging&quot;);\r\n    \t\t\tbool = scanner.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(bool &gt;= 3) {\r\n    \t\t\t\tSystem.out.println(&quot;Not a valid selection!&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tif(bool == 1) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(bool == 2) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic String desktopOrLaptop() {\r\n    \t\tint bool = 0;\r\n    \t\twhile(bool != 1 || bool != 2) {\r\n    \t\t\tSystem.out.println(&quot;Is this a laptop or desktop?&quot;);\r\n    \t\t\tSystem.out.println(&quot;1. Laptop&quot;);\r\n    \t\t\tSystem.out.println(&quot;2. Desktop&quot;);\r\n    \t\t\tbool = scanner.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(bool &gt;= 3) {\r\n    \t\t\t\tSystem.out.println(&quot;Not a valid selection!&quot;);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tif(bool == 1) {\r\n    \t\t\t\t\treturn &quot;laptop&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(bool == 2) {\r\n    \t\t\t\t\treturn &quot;desktop&quot;;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn &quot; &quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic String generateTitle(boolean imageOrReimage) {\r\n    \t\tif(imageOrReimage == true) {\r\n    \t\t\treturn &quot;Image | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag()+&quot; | PO#: &quot;+getPoNumber();\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn &quot;Reimage | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String generateMessageBody(boolean imageOrReimage, String desktopOrLaptop) {\r\n    \t\tif (imageOrReimage == true) {\r\n    \t\t\treturn &quot;Hello,\\n\\nWe&#39;ve recieved a new &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\r\n    \t\t\t\t\tgetWhiteTag()+&quot; and PO#&quot;+getPoNumber()+&quot;. Before we can begin working on this device, &quot;+\r\n    \t\t\t\t\t&quot;could you please answer the following questions for us:\\n\\n*Who will this &quot;+desktopOrLaptop+\r\n    \t\t\t\t\t&quot; be used by?\\n*Where will this &quot;+desktopOrLaptop+&quot; be located?\\n*Will any additional &quot;+\r\n    \t\t\t\t\t&quot;programs need to be installed? Please provide any licensing information for paid programs &quot;+\r\n    \t\t\t\t\t&quot;such as Adobe Acrobat Pro.\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support&quot;\r\n    \t\t\t\t\t+&quot;\\nThe University of Tyler at Texas.&quot;;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn &quot;Hello,\\n\\nWe have picked up a &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\r\n    \t\t\t\t\tgetWhiteTag()+&quot;.\\n\\nJust for confirmation before we begin the reimaging process,&quot;+\r\n    \t\t\t\t\t&quot; could you please answer the following questions:\\n\\n*Will any data need to be&quot;+\r\n    \t\t\t\t\t&quot; backed up before it is wiped and reimaged?\\n*Who will this device belong to, along&quot;+\r\n    \t\t\t\t\t&quot; with their room number location?\\n*Will any additional programs need to be installed?&quot;+\r\n    \t\t\t\t\t&quot; Please provide the licensing information for paid programs such as Adobe Acrobat Pro.&quot;+\r\n    \t\t\t\t\t&quot;\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support\\nThe University of Texas at Tyler&quot;;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic String generateWorkNotes(boolean imageOrReimage) {\r\n    \t\tString string;\r\n    \t\tstring = &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\r\n    \t\t\t+&quot;\\nS/N: &quot;+getSN();\r\n    \t\tif(imageOrReimage == true) {\r\n    \t\t\tstring = string+&quot;\\nPO Number: &quot;+getPoNumber();\r\n    \t\t}\r\n    \t\treturn string;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\r\n    \t\t\t+&quot;\\nS/N: &quot;+getSN()+&quot;\\nPO Number: &quot;+getPoNumber();\t\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object o) {\r\n    \t\treturn toString().equals(o.toString());\r\n    \t}\r\n    }\r\n\r\n\r\nThingThatWorks.java\r\n\r\n    package quickResponse;\r\n    \r\n    public class ThingThatWorks {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTicket newTicket = new Ticket();\r\n    \t\tboolean imageOrReimage = false;\r\n    \t\tString desktopOrLaptop = &quot;&quot;;\r\n    \t\timageOrReimage = newTicket.imageOrReimage();\r\n    \t\tnewTicket.ticketInfo(imageOrReimage);\r\n    \t\t\r\n    \t\tif(imageOrReimage == true) \r\n    \t\t\tdesktopOrLaptop = newTicket.desktopOrLaptop();\r\n    \t\t\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(newTicket.generateTitle(imageOrReimage));\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(newTicket.generateMessageBody(imageOrReimage, desktopOrLaptop));\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;---------------------------&quot;);\r\n    \t\tSystem.out.println(newTicket.generateWorkNotes(imageOrReimage));\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nI want to be able to transform this into either a runnable JAR or an .exe file so I can run it on my work computer when making tickets. Unfortunately what youtube videos I&#39;ve watched aren&#39;t clear and when I just export the project as a runnable .jar file from Eclipse, it gives me a nonspecific JNI error (a JNI error has occurred, please check your installation and try again) and a nonspecific Java Exception error (A Java Exception has occurred). I&#39;m not sure where I&#39;m going wrong, nor am I sure if I have everything I need written in my code to throw up a cmd window, allow me to input what I need, and hang there long enough to let me copy it.\r\n\r\nAny help would be appreciated.\r\n\r\nEdit: Managed to get the errors to go away when I realized I was writing this in Java 17 and then compiling it via Java 8. I installed Java 17, re-exported the program, and now it does nothing when running instead of giving me errors.\r\n\r\nOne thing I have tried is running it via command line, but no matter what I do it gives me the error &quot;Unable to access jarfile&quot;\r\n\r\nEdit 2: Adam&#39;s initial answer ended up being the key, I was trying to run it as java 8 when it complied as java 17. After ensuring that I was using the right version and not an outdated install, I managed to get the program working from command line.\r\n\r\nThank you all for the help\r\n ","title":"Turning Java Project into something runnable","body":"<p>I work for the imaging department at the university I go to and one of the things we have to do is constantly copy/paste these canned responses when dealing with tickets before doubling back and filling in all the empty spaces with the information specific to that ticket. It was tedious enough to inspire me to make a java project in my free time to generate these responses with all the information filled in in an effort to save some time/practice coding.</p>\n<p>In this project are two classes, one that holds all my ticket info and one that runs the main part of the program (Ticket.java and ThingThatWork.java respectively).</p>\n<p>Ticket.java</p>\n<pre><code>package quickResponse;\n\nimport java.util.Scanner;\n\npublic class Ticket {\n    Scanner scanner = new Scanner(System.in);   \n    String make;\n    String model;\n    String whiteTag;\n    String poNumber;\n    String SN;\n    String signatureName;\n    \n    public Ticket() {\n        setMake(&quot;&quot;);\n        setModel(&quot;&quot;);\n        setWhiteTag(&quot;&quot;);\n        setSN(&quot;&quot;);\n        setSignatureName(&quot;&quot;);\n    }\n    \n    public Ticket(String make, String model, String whiteTag) {\n        setMake(make);\n        setModel(model);\n        setWhiteTag(whiteTag);\n        setSN(SN);\n        setSignatureName(signatureName);\n    }\n    \n    public String getMake() {\n        return make;\n    }\n    \n    public String getModel() {\n        return model;\n    }\n    \n    public String getWhiteTag() {\n        return whiteTag;\n    }\n    \n    public String getPoNumber() {\n        return poNumber;\n    }\n    public String getSN() {\n        return SN;\n    }\n    public String getSignatureName() {\n        return signatureName;\n    }\n    \n    public void setMake(String make) {\n        this.make = make;\n    }\n    \n    public void setModel(String model) {\n        this.model = model;\n    }\n    \n    public void setWhiteTag(String whiteTag) {\n        this.whiteTag = whiteTag;\n    }\n    \n    public void setPoNumber(String poNumber) {\n        this.poNumber = poNumber;\n    }\n    public void setSN(String SN) {\n        this.SN = SN;\n    }\n    public void setSignatureName(String signatureName) {\n        this.signatureName = signatureName;\n    }\n    \n    public void ticketInfo(boolean typeOfImage) {\n            scanner.nextLine();\n            System.out.println(&quot;Make: &quot;);\n            setMake(scanner.nextLine());\n            System.out.println(&quot;Model: &quot;);\n            setModel(scanner.nextLine());\n            System.out.println(&quot;White Tag: &quot;);\n            setWhiteTag(scanner.nextLine());\n            System.out.println(&quot;Serial Number: &quot;);\n            setSN(scanner.nextLine());\n            if(typeOfImage == true) {\n                System.out.println(&quot;PO Number: &quot;);\n                setPoNumber(scanner.nextLine());\n        }\n            System.out.println(&quot;Enter Name: &quot;);\n            setSignatureName(scanner.nextLine());\n    }\n    \n    public boolean imageOrReimage() {\n        int bool = 0;\n        while(bool != 1 || bool != 2) {\n            System.out.println(&quot;Is this computer for imaging or reimaging?&quot;);\n            System.out.println(&quot;1. Imaging&quot;);\n            System.out.println(&quot;2. Reimaging&quot;);\n            bool = scanner.nextInt();\n            \n            if(bool &gt;= 3) {\n                System.out.println(&quot;Not a valid selection!&quot;);\n            }\n            else {\n                if(bool == 1) {\n                    return true;\n                }\n                if(bool == 2) {\n                    return false;\n                }\n            }\n        }\n        return false;\n    }\n    \n    public String desktopOrLaptop() {\n        int bool = 0;\n        while(bool != 1 || bool != 2) {\n            System.out.println(&quot;Is this a laptop or desktop?&quot;);\n            System.out.println(&quot;1. Laptop&quot;);\n            System.out.println(&quot;2. Desktop&quot;);\n            bool = scanner.nextInt();\n            \n            if(bool &gt;= 3) {\n                System.out.println(&quot;Not a valid selection!&quot;);\n            }\n            else {\n                if(bool == 1) {\n                    return &quot;laptop&quot;;\n                }\n                if(bool == 2) {\n                    return &quot;desktop&quot;;\n                }\n            }\n        }\n        return &quot; &quot;;\n    }\n    \n    \n    \n    public String generateTitle(boolean imageOrReimage) {\n        if(imageOrReimage == true) {\n            return &quot;Image | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag()+&quot; | PO#: &quot;+getPoNumber();\n        }\n        else {\n            return &quot;Reimage | &quot;+getMake()+&quot; &quot;+getModel()+&quot; | WT#: &quot;+getWhiteTag();\n        }\n    }\n    \n    public String generateMessageBody(boolean imageOrReimage, String desktopOrLaptop) {\n        if (imageOrReimage == true) {\n            return &quot;Hello,\\n\\nWe've recieved a new &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\n                    getWhiteTag()+&quot; and PO#&quot;+getPoNumber()+&quot;. Before we can begin working on this device, &quot;+\n                    &quot;could you please answer the following questions for us:\\n\\n*Who will this &quot;+desktopOrLaptop+\n                    &quot; be used by?\\n*Where will this &quot;+desktopOrLaptop+&quot; be located?\\n*Will any additional &quot;+\n                    &quot;programs need to be installed? Please provide any licensing information for paid programs &quot;+\n                    &quot;such as Adobe Acrobat Pro.\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support&quot;\n                    +&quot;\\nThe University of Tyler at Texas.&quot;;\n        }\n        else {\n            return &quot;Hello,\\n\\nWe have picked up a &quot;+getMake()+&quot; &quot;+getModel()+&quot; with white inventory tag #&quot;+\n                    getWhiteTag()+&quot;.\\n\\nJust for confirmation before we begin the reimaging process,&quot;+\n                    &quot; could you please answer the following questions:\\n\\n*Will any data need to be&quot;+\n                    &quot; backed up before it is wiped and reimaged?\\n*Who will this device belong to, along&quot;+\n                    &quot; with their room number location?\\n*Will any additional programs need to be installed?&quot;+\n                    &quot; Please provide the licensing information for paid programs such as Adobe Acrobat Pro.&quot;+\n                    &quot;\\n\\nThanks,\\n&quot;+getSignatureName()+&quot;\\nTechnology Support\\nThe University of Texas at Tyler&quot;;\n        }\n    }\n    \n    public String generateWorkNotes(boolean imageOrReimage) {\n        String string;\n        string = &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\n            +&quot;\\nS/N: &quot;+getSN();\n        if(imageOrReimage == true) {\n            string = string+&quot;\\nPO Number: &quot;+getPoNumber();\n        }\n        return string;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Make: &quot;+getMake()+&quot;\\nModel: &quot;+getModel()+&quot;\\nWhite Tag: &quot;+getWhiteTag()\n            +&quot;\\nS/N: &quot;+getSN()+&quot;\\nPO Number: &quot;+getPoNumber();   \n    }\n    @Override\n    public boolean equals(Object o) {\n        return toString().equals(o.toString());\n    }\n}\n</code></pre>\n<p>ThingThatWorks.java</p>\n<pre><code>package quickResponse;\n\npublic class ThingThatWorks {\n\n    public static void main(String[] args) {\n        Ticket newTicket = new Ticket();\n        boolean imageOrReimage = false;\n        String desktopOrLaptop = &quot;&quot;;\n        imageOrReimage = newTicket.imageOrReimage();\n        newTicket.ticketInfo(imageOrReimage);\n        \n        if(imageOrReimage == true) \n            desktopOrLaptop = newTicket.desktopOrLaptop();\n        \n        System.out.println();\n        System.out.println(newTicket.generateTitle(imageOrReimage));\n        System.out.println();\n        System.out.println(newTicket.generateMessageBody(imageOrReimage, desktopOrLaptop));\n        System.out.println();\n        System.out.println(&quot;---------------------------&quot;);\n        System.out.println(newTicket.generateWorkNotes(imageOrReimage));\n        \n    }\n\n}\n</code></pre>\n<p>I want to be able to transform this into either a runnable JAR or an .exe file so I can run it on my work computer when making tickets. Unfortunately what youtube videos I've watched aren't clear and when I just export the project as a runnable .jar file from Eclipse, it gives me a nonspecific JNI error (a JNI error has occurred, please check your installation and try again) and a nonspecific Java Exception error (A Java Exception has occurred). I'm not sure where I'm going wrong, nor am I sure if I have everything I need written in my code to throw up a cmd window, allow me to input what I need, and hang there long enough to let me copy it.</p>\n<p>Any help would be appreciated.</p>\n<p>Edit: Managed to get the errors to go away when I realized I was writing this in Java 17 and then compiling it via Java 8. I installed Java 17, re-exported the program, and now it does nothing when running instead of giving me errors.</p>\n<p>One thing I have tried is running it via command line, but no matter what I do it gives me the error &quot;Unable to access jarfile&quot;</p>\n<p>Edit 2: Adam's initial answer ended up being the key, I was trying to run it as java 8 when it complied as java 17. After ensuring that I was using the right version and not an outdated install, I managed to get the program working from command line.</p>\n<p>Thank you all for the help</p>\n"},{"tags":["java","priority-queue","heap"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667848005,"creation_date":1667848005,"answer_id":74351672,"question_id":74351659,"body_markdown":"&gt; does the heap should change itself and reorder the nodes? In other words, does the Priority Queue compares between it&#39;s nodes only at the time of the insertion or also whenever the nodes change their inner state?\r\n\r\nNo, it does not change.  There is no way for the priority queue to detect the updates and determine that things should be changed.","title":"Priority Queue in Java, ordering method","body":"<blockquote>\n<p>does the heap should change itself and reorder the nodes? In other words, does the Priority Queue compares between it's nodes only at the time of the insertion or also whenever the nodes change their inner state?</p>\n</blockquote>\n<p>No, it does not change.  There is no way for the priority queue to detect the updates and determine that things should be changed.</p>\n"}],"owner":{"account_id":23276758,"reputation":11,"user_id":17360780,"display_name":"omershafrir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667848005,"creation_date":1667847923,"question_id":74351659,"body_markdown":"If I am using a Priority Queue (in Java) of nodes, every node has a few fields, one of them is frequency. The heap comparator is comparing between the frequencies of the nodes, putting the maximum at the top.\r\nMy question is as follows: if I&#39;m changing the inner state of let&#39;s say the top node in the heap (decrmenting it&#39;s frequency field) and it is no longer the &quot;maximal&quot; node in the heap according to the comparing rules- does the heap should change itself  and reorder the nodes?\r\nIn other words, does the Priority Queue compares between it&#39;s nodes only at the time of the insertion or also whenever the nodes change their inner state?\r\n\r\n\r\nAt first i thought that changing the inner state of the heap&#39;s nodes will cause the heap to reorganize itself, but as I observed weird behaviour I am thinking this is not the case.\r\n\r\nThank you in advance","title":"Priority Queue in Java, ordering method","body":"<p>If I am using a Priority Queue (in Java) of nodes, every node has a few fields, one of them is frequency. The heap comparator is comparing between the frequencies of the nodes, putting the maximum at the top.\nMy question is as follows: if I'm changing the inner state of let's say the top node in the heap (decrmenting it's frequency field) and it is no longer the &quot;maximal&quot; node in the heap according to the comparing rules- does the heap should change itself  and reorder the nodes?\nIn other words, does the Priority Queue compares between it's nodes only at the time of the insertion or also whenever the nodes change their inner state?</p>\n<p>At first i thought that changing the inner state of the heap's nodes will cause the heap to reorganize itself, but as I observed weird behaviour I am thinking this is not the case.</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","velocity"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1452190884,"post_id":34662161,"comment_id":57070206,"body_markdown":"Seems to me your `.path` property is wrong.","body":"Seems to me your <code>.path</code> property is wrong."},{"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"score":0,"creation_date":1452190990,"post_id":34662161,"comment_id":57070266,"body_markdown":"I&#39;ve tried without specifying the `.path` property too. It just defaults to this value anyway. Also according to http://velocity.apache.org/engine/releases/velocity-1.5/developer-guide.html#configurationexamples this value is correct.","body":"I&#39;ve tried without specifying the <code>.path</code> property too. It just defaults to this value anyway. Also according to <a href=\"http://velocity.apache.org/engine/releases/velocity-1.5/developer-guide.html#configurationexamples\" rel=\"nofollow noreferrer\">velocity.apache.org/engine/releases/velocity-1.5/&hellip;</a> this value is correct."},{"owner":{"display_name":"user180100"},"score":1,"creation_date":1452191078,"post_id":34662161,"comment_id":57070313,"body_markdown":"Correct but &quot;.&quot; is current directory","body":"Correct but &quot;.&quot; is current directory"},{"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"score":0,"creation_date":1452191361,"post_id":34662161,"comment_id":57070470,"body_markdown":"check this out http://stackoverflow.com/questions/3229197/where-does-velocity-search-for-the-template/33061442#33061442 , you might need to call `Velocity.init()` . I had a similar issue. My answer is that long explaination with no points!","body":"check this out <a href=\"http://stackoverflow.com/questions/3229197/where-does-velocity-search-for-the-template/33061442#33061442\" title=\"where does velocity search for the template\">stackoverflow.com/questions/3229197/&hellip;</a> , you might need to call <code>Velocity.init()</code> . I had a similar issue. My answer is that long explaination with no points!"},{"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"score":0,"creation_date":1452192406,"post_id":34662161,"comment_id":57071084,"body_markdown":"@RC. You were right! I tried specifying the path before so I didn&#39;t think it would help now. What I didn&#39;t notice was the fact that my `\\\\` characters were not escaped so it malformed the path. If you would create an answer I would gladly upvote and accept it.","body":"@RC. You were right! I tried specifying the path before so I didn&#39;t think it would help now. What I didn&#39;t notice was the fact that my `\\` characters were not escaped so it malformed the path. If you would create an answer I would gladly upvote and accept it."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1452197631,"post_id":34662161,"comment_id":57074023,"body_markdown":"@Arqan, I did nothing, may I suggest **you** add an answer for future reader and accept it?","body":"@Arqan, I did nothing, may I suggest <b>you</b> add an answer for future reader and accept it?"}],"answers":[{"tags":[],"owner":{"account_id":490570,"reputation":111,"user_id":2060068,"display_name":"M0les"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465517889,"creation_date":1465517889,"answer_id":37738136,"question_id":34662161,"body_markdown":"I think there&#39;s a design flaw in the Velocity `FileResourceLoader`. Basically if your `file.resource.loader.path` is anything other than an empty string, it&#39;ll mangle any absolute paths handed to it as the `file`. Additionally it has Unix/Linux-specific code to &quot;nip off&quot; (paraphrasing the actual code comment) an absolute file-path handed to it (Giving a broken absolute path re-rooted to the current `path` setting).\r\n\r\n**Solution 1:**\r\nSet the `file.resource.loader.path` to an empty string (prior to `init()`) and use absolute file-paths as the `file` parameter\r\n\r\n    ve.setProperty(&quot;file.resource.loader.path&quot;, &quot;&quot;);\r\n    ve.init();\r\n    Template template = ve.getTemplate(&quot;C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\\\\template1526050996884865454.html&quot;);\r\n\r\n**Solution 2:** Set the `path` to be the common root for your temp files and only hand it paths relative to that:    \r\n\r\n    ve.setProperty(&quot;file.resource.loader.path&quot;, &quot;C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp&quot;);\r\n    ve.init();\r\n    Template template = ve.getTemplate(&quot;template1526050996884865454.html&quot;);\r\n\r\nUltimately I think the `FileResourceLoader` class would be better if it detected any absolute path handed to it as a file-name and not try to mash the `path` setting into it.\r\n \r\n","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>I think there's a design flaw in the Velocity <code>FileResourceLoader</code>. Basically if your <code>file.resource.loader.path</code> is anything other than an empty string, it'll mangle any absolute paths handed to it as the <code>file</code>. Additionally it has Unix/Linux-specific code to \"nip off\" (paraphrasing the actual code comment) an absolute file-path handed to it (Giving a broken absolute path re-rooted to the current <code>path</code> setting).</p>\n\n<p><strong>Solution 1:</strong>\nSet the <code>file.resource.loader.path</code> to an empty string (prior to <code>init()</code>) and use absolute file-paths as the <code>file</code> parameter</p>\n\n<pre><code>ve.setProperty(\"file.resource.loader.path\", \"\");\nve.init();\nTemplate template = ve.getTemplate(\"C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\\\\template1526050996884865454.html\");\n</code></pre>\n\n<p><strong>Solution 2:</strong> Set the <code>path</code> to be the common root for your temp files and only hand it paths relative to that:    </p>\n\n<pre><code>ve.setProperty(\"file.resource.loader.path\", \"C:\\\\Users\\\\someUsername\\\\AppData\\\\Local\\\\Temp\");\nve.init();\nTemplate template = ve.getTemplate(\"template1526050996884865454.html\");\n</code></pre>\n\n<p>Ultimately I think the <code>FileResourceLoader</code> class would be better if it detected any absolute path handed to it as a file-name and not try to mash the <code>path</code> setting into it.</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667847707,"creation_date":1667847707,"answer_id":74351615,"question_id":34662161,"body_markdown":"In addition to @MOles&#39;s answer, there is a third solution.\r\n\r\n**Solution 3**: Configure more than one file resource loader: one for absolute resources and one for relative ones. Something like this:\r\n\r\n    resource.loader=absolute-file, relative-file\r\n    absolute-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    absolute-file.resource.loader.path=\r\n    relative-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    relative-file.resource.loader.path=.\r\n\r\nThis will allow files to be loaded either relatively *or* absolutely, since FileResourceLoader evidently gets confused when you try to use a single instance for either type of path.","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>In addition to @MOles's answer, there is a third solution.</p>\n<p><strong>Solution 3</strong>: Configure more than one file resource loader: one for absolute resources and one for relative ones. Something like this:</p>\n<pre><code>resource.loader=absolute-file, relative-file\nabsolute-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nabsolute-file.resource.loader.path=\nrelative-file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nrelative-file.resource.loader.path=.\n</code></pre>\n<p>This will allow files to be loaded either relatively <em>or</em> absolutely, since FileResourceLoader evidently gets confused when you try to use a single instance for either type of path.</p>\n"}],"owner":{"account_id":3773352,"reputation":376,"user_id":3134914,"display_name":"Arqan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667847707,"creation_date":1452190025,"question_id":34662161,"body_markdown":"I use Velocity in order to load email templates. Those templates are first downloaded from the FTP server and then saved as temporary files.\r\n\r\nHowever, when I try to load the template I get an exception:\r\n`org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;C:\\Users\\someUsername\\AppData\\Local\\Temp\\template1526050996884865454.html&#39;`\r\n\r\nAnd I&#39;m sure the file is there and it&#39;s not damaged.\r\n\r\nThat&#39;s how I try to load the template:\r\n\r\n`template = velocityEngine.getTemplate(tempFile.getCanonicalPath());`\r\n\r\nHere&#39;s the velocity.properties file that I load (and I&#39;ve checked that the properties are properly initialized!)\r\n\r\n    file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\r\n    file.resource.loader=file\r\n    file.resource.loader.path=.\r\n\r\nSo where lies the problem? Is it because AppData folder is hidden by default?","title":"Velocity&#39;s FileResourceLoader can&#39;t find resources","body":"<p>I use Velocity in order to load email templates. Those templates are first downloaded from the FTP server and then saved as temporary files.</p>\n\n<p>However, when I try to load the template I get an exception:\n<code>org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource 'C:\\Users\\someUsername\\AppData\\Local\\Temp\\template1526050996884865454.html'</code></p>\n\n<p>And I'm sure the file is there and it's not damaged.</p>\n\n<p>That's how I try to load the template:</p>\n\n<p><code>template = velocityEngine.getTemplate(tempFile.getCanonicalPath());</code></p>\n\n<p>Here's the velocity.properties file that I load (and I've checked that the properties are properly initialized!)</p>\n\n<pre><code>file.resource.loader.class=org.apache.velocity.runtime.resource.loader.FileResourceLoader\nfile.resource.loader=file\nfile.resource.loader.path=.\n</code></pre>\n\n<p>So where lies the problem? Is it because AppData folder is hidden by default?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":19471191,"reputation":184,"user_id":15262402,"display_name":"Sebastian Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1667847952,"answer_count":0,"score":1,"last_activity_date":1667847559,"creation_date":1667847559,"question_id":74351586,"body_markdown":"Hello friends I have a problem\r\n\r\nI have a class that extends thread where I want to make a database change using the entity manager, however when trying to use the injected bena it gives me a null\r\n\r\nmethod inside the @service class\r\n\r\n    private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\r\n    \t\tList&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\r\n    \t\tint num_threads = Integer.valueOf(threads);\r\n    \t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\tlistThreads.add(new ChangeNameThread());\r\n    \t\t}\r\n    \r\n    \t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\r\n    \t\tint actual = 0;\r\n    \t\twhile (actual &lt; list.size()) {\r\n    \t\t\tif (num_threads &gt; list.size())\r\n    \t\t\t\tnum_threads = list.size();\r\n    \t\t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\t\tif (!listThreads.get(i).isAlive()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\r\n    \t\t\t\t\tlistThreads.set(i, new ChangeNameThread());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tlistThreads.get(i).setListaDocs(map.get(list.get(actual)));\r\n    \t\t\t\t\tlistThreads.get(i).setId(list.get(actual) + &quot;&quot;);\r\n    \t\t\t\t\tlistThreads.get(i).start();\r\n    \t\t\t\t\tactual++;\r\n    \t\t\t\t\tif (actual == list.size()) {\r\n    \t\t\t\t\t\tSystem.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n\r\n\r\nClass ChangeNameThread\r\n\r\n    @Component\r\n    @ComponentScan\r\n    public class ChangeNameThread extends Thread {\r\n    \t\r\n    \tprivate String id;\r\n    \tboolean isCompleted = false;\r\n    \tprivate List&lt;McDocsEntity&gt; listaDocs;\r\n    \t\r\n    \t\r\n    \t@Autowired\r\n        private EntityManagerCore coreEntityManager; ----- ERROR NULL\r\n    \t\r\n    \t\t\r\n    \tChangeNameThread() {}\r\n    \r\n    \tpublic List&lt;McDocsEntity&gt; getListaDocs() {\r\n    \t\treturn listaDocs;\r\n    \t}\r\n    \r\n    \tpublic void setListaDocs(List&lt;McDocsEntity&gt; listaDocs) {\r\n    \t\tthis.listaDocs = listaDocs;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void run() {\r\n    \t\tdownloadDocs();\r\n    \t\tif (isCompleted)\r\n    \t\t\tSystem.out.println(&quot;Termino el hilo[&quot;+this.currentThread().getId()+&quot;-&quot;+this.currentThread().getName()+&quot;] para multilateralId:&quot; + multilateralId );\r\n    \t}\r\n    \r\n    \tpublic boolean getIsCompleted() {\r\n    \t\treturn isCompleted;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic String getMultilateralId() {\r\n    \t\treturn multilateralId;\r\n    \t}\r\n    \r\n    \tpublic void setMultilateralId(String multilateralId) {\r\n    \t\tthis.multilateralId = multilateralId;\r\n    \t}\r\n    \r\n            \r\n            \r\n    \tpublic void downloadDocs() {\r\n    \t\t\r\n    \t\tSystem.err.println(&quot;multilateral id:&quot; + multilateralId);\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Comienza proceso&quot;);\r\n    \t\r\n    \t\t\t\r\n    \t\t\tfor (McDocsEntity mcDocsEntity : listaDocs) {\r\n    \t\t\t\tchangeName(mcDocsEntity);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tisCompleted = true;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Error de gesti\\u00f3n de proceso&quot; + System.lineSeparator() + e.getMessage());\r\n    \t\t\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \tpublic void changeName(McDocsEntity mcDocsEntity) {\r\n    \t\t\r\n            \r\n    \t    try {\r\n    \t\t\tcoreEntityManager.updateDocument(mcDocsEntity.getid,mcDocsEntity.getnewName); //NULLPOINTER\r\n    \t\t\t\r\n    \t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t    System.err.println(e);\r\n    \t\t} \r\n    \t}\r\n    }\r\n\r\n\r\nI tried to occupy ApplicationContext but I still get the same error\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\r\n    \t\tList&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\r\n    \t\tint num_threads = Integer.valueOf(threads);\r\n    \t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\tlistThreads.add(new ChangeNameThread());\r\n    \t\t}\r\n    \r\n    \t\tArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\r\n    \t\tint actual = 0;\r\n    \t\twhile (actual &lt; list.size()) {\r\n    \t\t\tif (num_threads &gt; list.size())\r\n    \t\t\t\tnum_threads = list.size();\r\n    \t\t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n    \t\t\t\tif (!listThreads.get(i).isAlive()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\r\n    \t\t\t\t\tlistThreads.set(i, new ChangeNameThread());\r\n    \t\t\t\t\tapplicationContext.getAutowireCapableBeanFactory().autowireBean(list.get(actual));\r\n    \t\t\t\t\tlistThreads.get(i).setListaDocs(map.get(list.get(actual)));\r\n    \t\t\t\t\tlistThreads.get(i).setId(list.get(actual) + &quot;&quot;);\r\n    \t\t\t\t\tlistThreads.get(i).start();\r\n    \t\t\t\t\tactual++;\r\n    \t\t\t\t\tif (actual == list.size()) {\r\n    \t\t\t\t\t\tSystem.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\r\n    \t}\r\n","title":"Error in @Autowire with an extended class of thread","body":"<p>Hello friends I have a problem</p>\n<p>I have a class that extends thread where I want to make a database change using the entity manager, however when trying to use the injected bena it gives me a null</p>\n<p>method inside the @service class</p>\n<pre><code>private void ejecuteThreadsMap(Map&lt;Integer, List&lt;McDocsEntity&gt;&gt; map) throws Exception {\n        List&lt;ChangeNameThread&gt; listThreads = new ArrayList&lt;ChangeNameThread&gt;();\n        int num_threads = Integer.valueOf(threads);\n        for (int i = 0; i &lt; num_threads; i++) {\n            listThreads.add(new ChangeNameThread());\n        }\n\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\n        int actual = 0;\n        while (actual &lt; list.size()) {\n            if (num_threads &gt; list.size())\n                num_threads = list.size();\n            for (int i = 0; i &lt; num_threads; i++) {\n                if (!listThreads.get(i).isAlive()) {\n                    System.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\n                    listThreads.set(i, new ChangeNameThread());\n                    \n                    listThreads.get(i).setListaDocs(map.get(list.get(actual)));\n                    listThreads.get(i).setId(list.get(actual) + &quot;&quot;);\n                    listThreads.get(i).start();\n                    actual++;\n                    if (actual == list.size()) {\n                        System.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\n                        break;\n                    }\n                }\n            }\n        \n    }\n</code></pre>\n<p>Class ChangeNameThread</p>\n<pre><code>@Component\n@ComponentScan\npublic class ChangeNameThread extends Thread {\n    \n    private String id;\n    boolean isCompleted = false;\n    private List&lt;McDocsEntity&gt; listaDocs;\n    \n    \n    @Autowired\n    private EntityManagerCore coreEntityManager; ----- ERROR NULL\n    \n        \n    ChangeNameThread() {}\n\n    public List&lt;McDocsEntity&gt; getListaDocs() {\n        return listaDocs;\n    }\n\n    public void setListaDocs(List&lt;McDocsEntity&gt; listaDocs) {\n        this.listaDocs = listaDocs;\n    }\n\n\n    public void run() {\n        downloadDocs();\n        if (isCompleted)\n            System.out.println(&quot;Termino el hilo[&quot;+this.currentThread().getId()+&quot;-&quot;+this.currentThread().getName()+&quot;] para multilateralId:&quot; + multilateralId );\n    }\n\n    public boolean getIsCompleted() {\n        return isCompleted;\n    }\n\n    \n    public String getMultilateralId() {\n        return multilateralId;\n    }\n\n    public void setMultilateralId(String multilateralId) {\n        this.multilateralId = multilateralId;\n    }\n\n        \n        \n    public void downloadDocs() {\n        \n        System.err.println(&quot;multilateral id:&quot; + multilateralId);\n        try {\n            System.out.println(&quot;Comienza proceso&quot;);\n    \n            \n            for (McDocsEntity mcDocsEntity : listaDocs) {\n                changeName(mcDocsEntity);\n            }\n            \n            isCompleted = true;\n        } catch (Exception e) {\n            System.out.println(&quot;Error de gesti\\u00f3n de proceso&quot; + System.lineSeparator() + e.getMessage());\n        \n        }\n    }\n    \n    @Transactional(readOnly = true)\n    public void changeName(McDocsEntity mcDocsEntity) {\n        \n        \n        try {\n            coreEntityManager.updateDocument(mcDocsEntity.getid,mcDocsEntity.getnewName); //NULLPOINTER\n            \n        \n        } catch (Exception e) {\n            System.err.println(e);\n        } \n    }\n}\n</code></pre>\n<p>I tried to occupy ApplicationContext but I still get the same error</p>\n<pre><code>@Autowired\nprivate ApplicationContext applicationContext;\n</code></pre>\n<p>private void ejecuteThreadsMap(Map&lt;Integer, List&gt; map) throws Exception {\nList listThreads = new ArrayList();\nint num_threads = Integer.valueOf(threads);\nfor (int i = 0; i &lt; num_threads; i++) {\nlistThreads.add(new ChangeNameThread());\n}</p>\n<pre><code>        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(map.keySet());\n        int actual = 0;\n        while (actual &lt; list.size()) {\n            if (num_threads &gt; list.size())\n                num_threads = list.size();\n            for (int i = 0; i &lt; num_threads; i++) {\n                if (!listThreads.get(i).isAlive()) {\n                    System.out.println(&quot;actual=&quot; + (actual + 1) + &quot;/&quot; + list.size() + &quot;, porcentaje:&quot; + String.format(&quot;%.2f&quot;, ((float) ((actual + 1) / (float) list.size()) * 100.0)));\n                    listThreads.set(i, new ChangeNameThread());\n                    applicationContext.getAutowireCapableBeanFactory().autowireBean(list.get(actual));\n                    listThreads.get(i).setListaDocs(map.get(list.get(actual)));\n                    listThreads.get(i).setId(list.get(actual) + &quot;&quot;);\n                    listThreads.get(i).start();\n                    actual++;\n                    if (actual == list.size()) {\n                        System.out.println (&quot;**** Se completan &quot; + actual + &quot; elementos&quot;);\n                        break;\n                    }\n                }\n            }\n        \n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9321,"page":902,"page_size":100}
