{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":14824883,"reputation":735,"user_id":10706099,"display_name":"Mayur"},"score":0,"creation_date":1556799282,"post_id":55952203,"comment_id":98556284,"body_markdown":"if(result.equals(&quot;&quot;)) use this","body":"if(result.equals(&quot;&quot;)) use this"},{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":1,"creation_date":1556799299,"post_id":55952203,"comment_id":98556297,"body_markdown":"probably because result is not null. It has a string &quot;null&quot; in it. try `&quot;null&quot;.equalsignorecase(result) || result == null`","body":"probably because result is not null. It has a string &quot;null&quot; in it. try <code>&quot;null&quot;.equalsignorecase(result) || result == null</code>"},{"owner":{"account_id":8942455,"reputation":1317,"user_id":6671004,"display_name":"Shrey Garg"},"score":0,"creation_date":1556799306,"post_id":55952203,"comment_id":98556303,"body_markdown":"Check if the value in your `result` string is &quot;nul&quot;","body":"Check if the value in your <code>result</code> string is &quot;nul&quot;"},{"owner":{"account_id":8942455,"reputation":1317,"user_id":6671004,"display_name":"Shrey Garg"},"score":0,"creation_date":1556799348,"post_id":55952203,"comment_id":98556325,"body_markdown":"@MayurPanchal - doing that will throw a NPE when result is null","body":"@MayurPanchal - doing that will throw a NPE when result is null"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556799375,"post_id":55952203,"comment_id":98556343,"body_markdown":"Debug this .. Can it be the case the result contains `&quot;null&quot;` . Use `TextUtils.isEmpty()` for string ..","body":"Debug this .. Can it be the case the result contains <code>&quot;null&quot;</code> . Use <code>TextUtils.isEmpty()</code> for string .."}],"answers":[{"tags":[],"owner":{"account_id":14824883,"reputation":735,"user_id":10706099,"display_name":"Mayur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556800046,"creation_date":1556800046,"answer_id":55952461,"question_id":55952203,"body_markdown":"Create one method to string null or not\r\n\r\n    public boolean isEmptyString(String inputStr) {\r\n            if (inputStr != null &amp;&amp; !inputStr.equals(&quot;&quot;) &amp;&amp; inputStr.toString().trim().length() &gt; 0) {\r\n                return false;\r\n            } else\r\n                return true;\r\n        }\r\n\r\nUse this method like this\r\n\r\n    if(isEmptyString(result))\r\n    {\r\n    ///Null\r\n    else\r\n    {\r\n    /// Not null\r\n    }","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<p>Create one method to string null or not</p>\n\n<pre><code>public boolean isEmptyString(String inputStr) {\n        if (inputStr != null &amp;&amp; !inputStr.equals(\"\") &amp;&amp; inputStr.toString().trim().length() &gt; 0) {\n            return false;\n        } else\n            return true;\n    }\n</code></pre>\n\n<p>Use this method like this</p>\n\n<pre><code>if(isEmptyString(result))\n{\n///Null\nelse\n{\n/// Not null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1556801462,"creation_date":1556801462,"answer_id":55952899,"question_id":55952203,"body_markdown":"    if (result != null &amp;&amp; !result.isEmpty())\r\n    {\r\n            tvResult.setVisibility(View.VISIBLE);\r\n            tvError.setVisibility(View.INVISIBLE);\r\n            Log.d(&quot;Error&quot;, &quot;not null&quot;);\r\n     }\r\n     else{\r\n            tvResult.setVisibility(View.INVISIBLE);\r\n            tvError.setVisibility(View.VISIBLE);\r\n            Log.d(&quot;Error&quot;, &quot;null&quot;);\r\n     }\r\n\r\n","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<pre><code>if (result != null &amp;&amp; !result.isEmpty())\n{\n        tvResult.setVisibility(View.VISIBLE);\n        tvError.setVisibility(View.INVISIBLE);\n        Log.d(\"Error\", \"not null\");\n }\n else{\n        tvResult.setVisibility(View.INVISIBLE);\n        tvError.setVisibility(View.VISIBLE);\n        Log.d(\"Error\", \"null\");\n }\n</code></pre>\n"}],"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1556824312,"accepted_answer_id":55952899,"answer_count":2,"score":-2,"last_activity_date":1671313853,"creation_date":1556799133,"question_id":55952203,"body_markdown":"I&#39;m following a Android Studio tutorial and this:\r\n\r\n    @Override\r\n        protected void onPostExecute(String result) {\r\n            TextView tvResult = (TextView)findViewById(R.id.tvResponse);\r\n            TextView tvError = (TextView)findViewById(R.id.tvError);\r\n\r\n            tvResult.setText(result);\r\n\r\n            mLoadingProgress.setVisibility(View.INVISIBLE);\r\n\r\n            Log.d(&quot;Error&quot;, result);\r\n            if(result == null) {\r\n                tvResult.setVisibility(View.INVISIBLE);\r\n                tvError.setVisibility(View.VISIBLE);\r\n                Log.d(&quot;Error&quot;, &quot;null&quot;);\r\n            }\r\n            else {\r\n                tvResult.setVisibility(View.VISIBLE);\r\n                tvError.setVisibility(View.INVISIBLE);\r\n                Log.d(&quot;Error&quot;, &quot;not null&quot;);\r\n            }\r\n        }\r\n\r\nFor some reason lands the else, even though the result is null.\r\n\r\nI ran it in debugging mode and the log it shows is:\r\n\r\n    D/Error: null\r\n        not null","title":"Android - The text view text is returning null but the condition doesn&#39;t match","body":"<p>I'm following a Android Studio tutorial and this:</p>\n<pre><code>@Override\n    protected void onPostExecute(String result) {\n        TextView tvResult = (TextView)findViewById(R.id.tvResponse);\n        TextView tvError = (TextView)findViewById(R.id.tvError);\n\n        tvResult.setText(result);\n\n        mLoadingProgress.setVisibility(View.INVISIBLE);\n\n        Log.d(&quot;Error&quot;, result);\n        if(result == null) {\n            tvResult.setVisibility(View.INVISIBLE);\n            tvError.setVisibility(View.VISIBLE);\n            Log.d(&quot;Error&quot;, &quot;null&quot;);\n        }\n        else {\n            tvResult.setVisibility(View.VISIBLE);\n            tvError.setVisibility(View.INVISIBLE);\n            Log.d(&quot;Error&quot;, &quot;not null&quot;);\n        }\n    }\n</code></pre>\n<p>For some reason lands the else, even though the result is null.</p>\n<p>I ran it in debugging mode and the log it shows is:</p>\n<pre><code>D/Error: null\n    not null\n</code></pre>\n"},{"tags":["java","android","kotlin","for-loop"],"comments":[{"owner":{"account_id":10434847,"reputation":968,"user_id":7693494,"display_name":"Erwin Kurniawan A"},"score":0,"creation_date":1671297073,"post_id":74835641,"comment_id":132071078,"body_markdown":"create a counter variable to store index and increase it in loop","body":"create a counter variable to store index and increase it in loop"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671297844,"post_id":74835641,"comment_id":132071218,"body_markdown":"I tried doing that I declared a counter like private int index = 0 and used it like: \n\nbutton.setImageBitmap(bitmapArray.get(index));\nindex++; \n\ninside of the onClick activity for the button but the app just crashes.","body":"I tried doing that I declared a counter like private int index = 0 and used it like:   button.setImageBitmap(bitmapArray.get(index)); index++;   inside of the onClick activity for the button but the app just crashes."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1671298840,"post_id":74835641,"comment_id":132071411,"body_markdown":"It sounds like there&#39;s a bug in how you did that, so you should show us what exactly that code is and how it failed.","body":"It sounds like there&#39;s a bug in how you did that, so you should show us what exactly that code is and how it failed."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671299273,"post_id":74835641,"comment_id":132071479,"body_markdown":"On the second run the code did work but now I realized that I have another problem. Before this code I tried to duplicate an ArrayList inside itself by just doing ArrayList.add(ArrayList) but that doesn&#39;t seem to work because the array should have 4 elements but when I iterate over it it just shows 2 elements. That&#39;s why it just breaks when I click 2 times to the screen.","body":"On the second run the code did work but now I realized that I have another problem. Before this code I tried to duplicate an ArrayList inside itself by just doing ArrayList.add(ArrayList) but that doesn&#39;t seem to work because the array should have 4 elements but when I iterate over it it just shows 2 elements. That&#39;s why it just breaks when I click 2 times to the screen."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671299980,"post_id":74835641,"comment_id":132071604,"body_markdown":"Even if I use this method it would be pretty hard to set it up. Because I would have to check if the index count is lower than the ArrayList size and if it is Equal to I would have to reset it which then it would just add the same photos everywhere on click and not remember which photo it added.","body":"Even if I use this method it would be pretty hard to set it up. Because I would have to check if the index count is lower than the ArrayList size and if it is Equal to I would have to reset it which then it would just add the same photos everywhere on click and not remember which photo it added."}],"answers":[{"comments":[{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671309037,"post_id":74836716,"comment_id":132073438,"body_markdown":"Hey, great answer and I think it would work if I can implement it correctly. I tried doing that but instead of strings I am using buttons and another arraylist for bitmap images. I tried implementing your code to mine but it gives an error saying: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0. I am adding elements to your list type with .add (example: buttons.add(button1). I dont think there is a problem with that. (here is my code:https://pastebin.com/Rh9vcNbz)","body":"Hey, great answer and I think it would work if I can implement it correctly. I tried doing that but instead of strings I am using buttons and another arraylist for bitmap images. I tried implementing your code to mine but it gives an error saying: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0. I am adding elements to your list type with .add (example: buttons.add(button1). I dont think there is a problem with that. (here is my code:<a href=\"https://pastebin.com/Rh9vcNbz\" rel=\"nofollow noreferrer\">pastebin.com/Rh9vcNbz</a>)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671309139,"post_id":74836716,"comment_id":132073457,"body_markdown":"I tested mine actually in a Unit Test before posting it in here, I don&#39;t think that my &quot;loop implementation&quot; has an issue. \n\nCould you maybe post the full code that throws the IndexOutOfBoundsException in your Question?","body":"I tested mine actually in a Unit Test before posting it in here, I don&#39;t think that my &quot;loop implementation&quot; has an issue.   Could you maybe post the full code that throws the IndexOutOfBoundsException in your Question?"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671309244,"post_id":74836716,"comment_id":132073481,"body_markdown":"Just added a pastebin","body":"Just added a pastebin"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310183,"post_id":74836716,"comment_id":132073637,"body_markdown":"I can&#39;t run the code for me, because I am missing all the Firebase things, but I am pretty sure, that the mistake in your code is the following line\n\nbutton.setImageBitmap(bitmapArray.get(index));\n\n\nThose images, you put in this list, are being loaded from the Firebase Storage - could you debug, if they are actually in the list? \n\nI mean you iterate over a List with 4 Buttons in it, and then you make the assumption, that all those images have been loaded successfully so you have a 4 by 4 List.\n\n(A list with 4 Buttons and another List with Images)","body":"I can&#39;t run the code for me, because I am missing all the Firebase things, but I am pretty sure, that the mistake in your code is the following line  button.setImageBitmap(bitmapArray.get(index));   Those images, you put in this list, are being loaded from the Firebase Storage - could you debug, if they are actually in the list?   I mean you iterate over a List with 4 Buttons in it, and then you make the assumption, that all those images have been loaded successfully so you have a 4 by 4 List.  (A list with 4 Buttons and another List with Images)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310323,"post_id":74836716,"comment_id":132073650,"body_markdown":"I updated my answer - I took your code and wrote something very similar, but just that my Bitmaps are not being loaded from the Firebase Storage (which could go wrong) and then you get an index out of bounds exception, because you are at button nr 1 and you want to load the image list at first index - but this list is now empty, because it could not get filled.","body":"I updated my answer - I took your code and wrote something very similar, but just that my Bitmaps are not being loaded from the Firebase Storage (which could go wrong) and then you get an index out of bounds exception, because you are at button nr 1 and you want to load the image list at first index - but this list is now empty, because it could not get filled."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671310398,"post_id":74836716,"comment_id":132073663,"body_markdown":"I realized that I never explained what I am trying to do. I am trying to create a memory card game(matching cards) which I am storing all of the images in a firebase storage. There is 44 cards in the storage and I am grabbing 2 cards and duplicating them to create a 2x2 matching card game. For this I am getting the 2 cards I need storing them in a temporary file and adding them to a bitmap arraylist where I want to randomly set them to cards.","body":"I realized that I never explained what I am trying to do. I am trying to create a memory card game(matching cards) which I am storing all of the images in a firebase storage. There is 44 cards in the storage and I am grabbing 2 cards and duplicating them to create a 2x2 matching card game. For this I am getting the 2 cards I need storing them in a temporary file and adding them to a bitmap arraylist where I want to randomly set them to cards."},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671310498,"post_id":74836716,"comment_id":132073682,"body_markdown":"Please also implement the failureListener when you load the images from the Firebase Storage, you should get an error here","body":"Please also implement the failureListener when you load the images from the Firebase Storage, you should get an error here"},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671311435,"post_id":74836716,"comment_id":132073836,"body_markdown":"Right now it is working kind of randomly. So it sometimes can retrieve the file and sometimes doesn&#39;t. But I don&#39;t think it shuffles the bitmap when I do Collections.shuffle(bitmapArray)","body":"Right now it is working kind of randomly. So it sometimes can retrieve the file and sometimes doesn&#39;t. But I don&#39;t think it shuffles the bitmap when I do Collections.shuffle(bitmapArray)"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671312110,"post_id":74836716,"comment_id":132073947,"body_markdown":"Well you need to think about, what to do, when you are not being able to load the pictures - if its a network ressource, it can have many &quot;issues&quot; - authentication, bad internet connection or no internet connection at all, permissions problems to access the given ressource and so on.\n\nAnyway - your question was about a &quot;forEachIndexed&quot; in Java - I think the question itself is answered from my opinion.","body":"Well you need to think about, what to do, when you are not being able to load the pictures - if its a network ressource, it can have many &quot;issues&quot; - authentication, bad internet connection or no internet connection at all, permissions problems to access the given ressource and so on.  Anyway - your question was about a &quot;forEachIndexed&quot; in Java - I think the question itself is answered from my opinion."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671315192,"post_id":74836716,"comment_id":132074397,"body_markdown":"Yes your answer really solved my problem. Thank you very much for your answer. Sorry for taking your time. Have a nice day!","body":"Yes your answer really solved my problem. Thank you very much for your answer. Sorry for taking your time. Have a nice day!"},{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671315247,"post_id":74836716,"comment_id":132074406,"body_markdown":"Don&#39;t be sorry mate, we are all here in the same boat. I just wanted to focus on the question otherwise we could discuss here for the next 10 hours.","body":"Don&#39;t be sorry mate, we are all here in the same boat. I just wanted to focus on the question otherwise we could discuss here for the next 10 hours."},{"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"score":0,"creation_date":1671317519,"post_id":74836716,"comment_id":132074736,"body_markdown":"I guess you are right. I couldn&#39;t solve my problems so I turned the code into Kotlin and tried doing it there but it still gave me the same problem. (IndexOutOfBounds) So I think I am doing something wrong on retrieving the images from firebase.","body":"I guess you are right. I couldn&#39;t solve my problems so I turned the code into Kotlin and tried doing it there but it still gave me the same problem. (IndexOutOfBounds) So I think I am doing something wrong on retrieving the images from firebase."}],"tags":[],"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671310429,"creation_date":1671303770,"answer_id":74836716,"question_id":74835641,"body_markdown":"I work with Java and Kotlin for some years now and sadly I think that there is nothing in Java (atleast which is standard) that can deliver you something like Kotlin does with its **forEachIndexed**.\r\n\r\nI mean if you look at the implementation of the &quot;forEachIndexed&quot;...\r\n\r\nIt is nothing more then this:\r\n\r\n```kotlin\r\nvar index = 0\r\nfor (item in this) action(checkIndexOverflow(index++), item)\r\n```\r\n\r\nit basically creates an **int** variable for you, and increments it, while iterating over the List and invoking your Lambda.\r\n\r\n\r\nIf you still want something similar, which is still &quot;hacky&quot; - I wrote something for you, not that I want to say that it is perfect but does the job - and it is still generic.\r\n\r\nNew Classes:\r\n```java\r\n\r\npublic interface IndexedAction&lt;T&gt; {\r\n    void action(T item, int index);\r\n}\r\n\r\npublic class ExtendedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    public void forEachIndexed(IndexedAction&lt;T&gt; indexedAction) {\r\n        int i = 0;\r\n        for (T element : this) {\r\n            indexedAction.action(element, i);\r\n            i++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Usage**:\r\n```java\r\n      @Test // Robolectric Unit Test\r\n    public void myTest() {\r\n        ExtendedArrayList&lt;Bitmap&gt; bitmapArray = new ExtendedArrayList&lt;&gt;();\r\n        ExtendedArrayList&lt;ImageButton&gt; buttons = new ExtendedArrayList&lt;&gt;();\r\n        Application context = RuntimeEnvironment.application;\r\n        int width = 200;\r\n        int height = 100;\r\n        Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        bitmapArray.add(bitmap);\r\n        Collections.shuffle(bitmapArray);\r\n        ImageButton button1 = new ImageButton(context);\r\n        ImageButton button2 = new ImageButton(context);\r\n        ImageButton button3 = new ImageButton(context);\r\n        ImageButton button4 = new ImageButton(context);\r\n\r\n        buttons.add(button1);\r\n        buttons.add(button2);\r\n        buttons.add(button3);\r\n        buttons.add(button4);\r\n        buttons.forEachIndexed((button, index) -&gt; \r\n            button.setImageBitmap(bitmapArray.get(index)));\r\n        }\r\n```\r\n\r\n ","title":"Android forEachIndexed() function on Java","body":"<p>I work with Java and Kotlin for some years now and sadly I think that there is nothing in Java (atleast which is standard) that can deliver you something like Kotlin does with its <strong>forEachIndexed</strong>.</p>\n<p>I mean if you look at the implementation of the &quot;forEachIndexed&quot;...</p>\n<p>It is nothing more then this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var index = 0\nfor (item in this) action(checkIndexOverflow(index++), item)\n</code></pre>\n<p>it basically creates an <strong>int</strong> variable for you, and increments it, while iterating over the List and invoking your Lambda.</p>\n<p>If you still want something similar, which is still &quot;hacky&quot; - I wrote something for you, not that I want to say that it is perfect but does the job - and it is still generic.</p>\n<p>New Classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface IndexedAction&lt;T&gt; {\n    void action(T item, int index);\n}\n\npublic class ExtendedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n    public void forEachIndexed(IndexedAction&lt;T&gt; indexedAction) {\n        int i = 0;\n        for (T element : this) {\n            indexedAction.action(element, i);\n            i++;\n        }\n    }\n}\n</code></pre>\n<p><strong>Usage</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      @Test // Robolectric Unit Test\n    public void myTest() {\n        ExtendedArrayList&lt;Bitmap&gt; bitmapArray = new ExtendedArrayList&lt;&gt;();\n        ExtendedArrayList&lt;ImageButton&gt; buttons = new ExtendedArrayList&lt;&gt;();\n        Application context = RuntimeEnvironment.application;\n        int width = 200;\n        int height = 100;\n        Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        bitmapArray.add(bitmap);\n        Collections.shuffle(bitmapArray);\n        ImageButton button1 = new ImageButton(context);\n        ImageButton button2 = new ImageButton(context);\n        ImageButton button3 = new ImageButton(context);\n        ImageButton button4 = new ImageButton(context);\n\n        buttons.add(button1);\n        buttons.add(button2);\n        buttons.add(button3);\n        buttons.add(button4);\n        buttons.forEachIndexed((button, index) -&gt; \n            button.setImageBitmap(bitmapArray.get(index)));\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"score":0,"creation_date":1671313481,"post_id":74837656,"comment_id":132074144,"body_markdown":"Yea also looks ugly, because of the static call and that I need to give the List as Parameter inside, but I mean, its an option. Thanks for sharing this too.","body":"Yea also looks ugly, because of the static call and that I need to give the List as Parameter inside, but I mean, its an option. Thanks for sharing this too."}],"tags":[],"owner":{"account_id":1353955,"reputation":2623,"user_id":1292745,"display_name":"gpunto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671313393,"creation_date":1671313393,"answer_id":74837656,"question_id":74835641,"body_markdown":"If you have the Kotlin stdlib in the project but are working on a Java file, you can use Kotlin&#39;s `forEachIndexed` from Java. It&#39;s not particularly pretty but it&#39;s doable:\r\n\r\n```\r\nimport kotlin.collections.CollectionsKt;\r\n\r\n...\r\n\r\nCollectionsKt.forEachIndexed(list, (index, element) -&gt; {\r\n    doSomething();\r\n    return Unit.INSTANCE;\r\n});\r\n```\r\n","title":"Android forEachIndexed() function on Java","body":"<p>If you have the Kotlin stdlib in the project but are working on a Java file, you can use Kotlin's <code>forEachIndexed</code> from Java. It's not particularly pretty but it's doable:</p>\n<pre><code>import kotlin.collections.CollectionsKt;\n\n...\n\nCollectionsKt.forEachIndexed(list, (index, element) -&gt; {\n    doSomething();\n    return Unit.INSTANCE;\n});\n</code></pre>\n"}],"owner":{"account_id":24811857,"reputation":30,"user_id":18693210,"display_name":"Berk Sunduri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836716,"answer_count":2,"score":0,"last_activity_date":1671313393,"creation_date":1671294298,"question_id":74835641,"body_markdown":"Hey I&#39;d like to ask if there is any way that I can use the Kotlins forEachIndexed() function for lists in Java? I searched everywhere but I couldn&#39;t find anything. I want to iterate over a list of ImageButtons and to each list item I want to set an Image from another list of bitmap image. So in Kotlin it would be:\r\n```\r\nbuttons.forEachIndexed{index, button -&gt;\r\n    button.setOnclickListener{\r\n    button.setImageResource(images[index])\r\n     }\r\n   }\r\n\r\n```\r\nThe way I am iterating over buttons is \r\n```\r\nfor(ImageButton button: buttons)\r\n```\r\n but I don&#39;t have any way to iterate over the indices. Can I somehow turn the Kotlin code above to Java?\r\n\r\nHere is my code so far:pastebin.com/Rh9vcNbz","title":"Android forEachIndexed() function on Java","body":"<p>Hey I'd like to ask if there is any way that I can use the Kotlins forEachIndexed() function for lists in Java? I searched everywhere but I couldn't find anything. I want to iterate over a list of ImageButtons and to each list item I want to set an Image from another list of bitmap image. So in Kotlin it would be:</p>\n<pre><code>buttons.forEachIndexed{index, button -&gt;\n    button.setOnclickListener{\n    button.setImageResource(images[index])\n     }\n   }\n\n</code></pre>\n<p>The way I am iterating over buttons is</p>\n<pre><code>for(ImageButton button: buttons)\n</code></pre>\n<p>but I don't have any way to iterate over the indices. Can I somehow turn the Kotlin code above to Java?</p>\n<p>Here is my code so far:pastebin.com/Rh9vcNbz</p>\n"},{"tags":["java","kotlin","classpath"],"comments":[{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1671319682,"post_id":74837606,"comment_id":132074979,"body_markdown":"Why are you including Lib2.jar in the classpath when running the Java version, but not when running the Kotlin version?","body":"Why are you including Lib2.jar in the classpath when running the Java version, but not when running the Kotlin version?"},{"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"score":0,"creation_date":1671329046,"post_id":74837606,"comment_id":132075905,"body_markdown":"@gidds comparison is at the compilation step. For example, `javac -cp build2/Lib2.jar -d main JavaMain.java` works but if I replace javac with kotlinc and the source file name as in `kotlinc -cp build2/Lib2.jar -d main KotlinTest.kt` I see the error.","body":"@gidds comparison is at the compilation step. For example, <code>javac -cp build2&#47;Lib2.jar -d main JavaMain.java</code> works but if I replace javac with kotlinc and the source file name as in <code>kotlinc -cp build2&#47;Lib2.jar -d main KotlinTest.kt</code> I see the error."}],"owner":{"account_id":997544,"reputation":2566,"user_id":1013139,"accept_rate":51,"display_name":"rysv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671312863,"creation_date":1671312863,"question_id":74837606,"body_markdown":"Have a very basic Java/Kotlin dependency issue when we have chained dependencies. I posted a similar question before, but now I removed Gradle from the equation and tried directly with java/kotlin. Have \r\n\r\n    Main --&gt; Lib2 --&gt; Lib1\r\n\r\nLib1.java:\r\n\r\n    package com.test.lib1;\r\n\r\n    public interface Lib1 {\r\n    }\r\n\r\nLib2.java:\r\n\r\n    package com.test.lib2;\r\n\r\n    public interface Lib2 extends com.test.lib1.Lib1 {\r\n        public String msg = &quot;Hello message from Lib2&quot;;\r\n    }\r\n\r\nJavaMain.java:\r\n\r\n    package com.test.main;\r\n\r\n    import com.test.lib2.Lib2;\r\n\r\n    public class JavaMain {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;++++ Java TEST: &quot; + Lib2.msg);\r\n        }\r\n    }\r\n\r\nWhen I run this, it works and prints `++++ Java TEST: Hello message from Lib2`. However when I build this Kotlin program compilation fails.\r\n\r\nKotlinTest.kt:\r\n\r\n    package com.test.main\r\n\r\n    import com.test.lib2.Lib2\r\n\r\n    fun main() {\r\n        println(&quot;++++ KT TEST: &quot; + Lib2.msg)\r\n    }\r\n\r\nError I get: `&quot;error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class com.test.lib2.Lib2, unresolved supertypes: com.test.lib1.Lib1&quot;.`\r\n\r\nHere is the shell script I used to build/run:\r\n\r\n    #!/bin/bash\r\n\r\n    set -e\r\n\r\n    rm -rf build1 build2\r\n    mkdir build1 build2\r\n\r\n    echo &quot;Building Lib1 ...&quot;\r\n    javac -d build1 Lib1.java\r\n    (cd build1; jar cvf Lib1.jar *; cd ..)\r\n\r\n    echo &quot;Building Lib2 ...&quot;\r\n    javac -cp build1 -d build2 Lib2.java\r\n    (cd build2; jar cvf Lib2.jar *; cd ..)\r\n\r\n    if [ &quot;$1&quot; == &quot;kotlin&quot; ]; then\r\n        echo &quot;&quot;\r\n        echo &quot;Building kotlin program ...&quot;\r\n        kotlinc -cp build2 KotlinTest.kt\r\n        #kotlinc -cp build2:build1 KotlinTest.kt\r\n        kotlin com.test.main.KotlinTest\r\n    else\r\n        echo &quot;&quot;\r\n        echo &quot;Building java program ...&quot;\r\n        rm -rf main\r\n        mkdir main\r\n        javac -cp build2/Lib2.jar -d main JavaMain.java\r\n\r\n        echo &quot;Running Java program ...&quot;\r\n        java -cp build2/Lib2.jar:main com.test.main.JavaMain\r\n    fi\r\n\r\nWhy Java and Kotlin are behaving differently? The fact that Lib2 uses Lib1 shouldn&#39;t be entirely contained with Lib2, and the Main class shouldn&#39;t be worrying about Lib1 at all? Java version tried both 1.8 and 11, Kotlin version `1.7.21`.\r\n","title":"error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies","body":"<p>Have a very basic Java/Kotlin dependency issue when we have chained dependencies. I posted a similar question before, but now I removed Gradle from the equation and tried directly with java/kotlin. Have</p>\n<pre><code>Main --&gt; Lib2 --&gt; Lib1\n</code></pre>\n<p>Lib1.java:</p>\n<pre><code>package com.test.lib1;\n\npublic interface Lib1 {\n}\n</code></pre>\n<p>Lib2.java:</p>\n<pre><code>package com.test.lib2;\n\npublic interface Lib2 extends com.test.lib1.Lib1 {\n    public String msg = &quot;Hello message from Lib2&quot;;\n}\n</code></pre>\n<p>JavaMain.java:</p>\n<pre><code>package com.test.main;\n\nimport com.test.lib2.Lib2;\n\npublic class JavaMain {\n    public static void main(String[] args) {\n        System.out.println(&quot;++++ Java TEST: &quot; + Lib2.msg);\n    }\n}\n</code></pre>\n<p>When I run this, it works and prints <code>++++ Java TEST: Hello message from Lib2</code>. However when I build this Kotlin program compilation fails.</p>\n<p>KotlinTest.kt:</p>\n<pre><code>package com.test.main\n\nimport com.test.lib2.Lib2\n\nfun main() {\n    println(&quot;++++ KT TEST: &quot; + Lib2.msg)\n}\n</code></pre>\n<p>Error I get: <code>&quot;error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class com.test.lib2.Lib2, unresolved supertypes: com.test.lib1.Lib1&quot;.</code></p>\n<p>Here is the shell script I used to build/run:</p>\n<pre><code>#!/bin/bash\n\nset -e\n\nrm -rf build1 build2\nmkdir build1 build2\n\necho &quot;Building Lib1 ...&quot;\njavac -d build1 Lib1.java\n(cd build1; jar cvf Lib1.jar *; cd ..)\n\necho &quot;Building Lib2 ...&quot;\njavac -cp build1 -d build2 Lib2.java\n(cd build2; jar cvf Lib2.jar *; cd ..)\n\nif [ &quot;$1&quot; == &quot;kotlin&quot; ]; then\n    echo &quot;&quot;\n    echo &quot;Building kotlin program ...&quot;\n    kotlinc -cp build2 KotlinTest.kt\n    #kotlinc -cp build2:build1 KotlinTest.kt\n    kotlin com.test.main.KotlinTest\nelse\n    echo &quot;&quot;\n    echo &quot;Building java program ...&quot;\n    rm -rf main\n    mkdir main\n    javac -cp build2/Lib2.jar -d main JavaMain.java\n\n    echo &quot;Running Java program ...&quot;\n    java -cp build2/Lib2.jar:main com.test.main.JavaMain\nfi\n</code></pre>\n<p>Why Java and Kotlin are behaving differently? The fact that Lib2 uses Lib1 shouldn't be entirely contained with Lib2, and the Main class shouldn't be worrying about Lib1 at all? Java version tried both 1.8 and 11, Kotlin version <code>1.7.21</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","openfeign"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1671308705,"post_id":74837077,"comment_id":132073352,"body_markdown":"Tried naming field `accessToken` instead of `access_token`?","body":"Tried naming field <code>accessToken</code> instead of <code>access_token</code>?"},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671308881,"post_id":74837077,"comment_id":132073402,"body_markdown":"@ILyaCyclone yes, same thing","body":"@ILyaCyclone yes, same thing"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1671311710,"post_id":74837077,"comment_id":132073876,"body_markdown":"You can set logging level to FULL https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-logging and check actual response from remote API.","body":"You can set logging level to FULL <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#feign-logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-openfeign/docs/current/reference&zwnj;&#8203;/&hellip;</a> and check actual response from remote API."},{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671315406,"post_id":74837077,"comment_id":132074432,"body_markdown":"@ILyaCyclone that helped thanks. I had to set content type to APPLICATION_FORM_URLENCODED_VALUE","body":"@ILyaCyclone that helped thanks. I had to set content type to APPLICATION_FORM_URLENCODED_VALUE"}],"answers":[{"comments":[{"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"score":0,"creation_date":1671315438,"post_id":74837529,"comment_id":132074434,"body_markdown":"Setting content type to application/x-www-form-urlencoded did the job. Thanks","body":"Setting content type to application/x-www-form-urlencoded did the job. Thanks"}],"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671311823,"creation_date":1671311823,"answer_id":74837529,"question_id":74837077,"body_markdown":"First of all you have declared two path variables which dont show up the path:\r\n`@PathVariable String code` and `@PathVariable(&quot;redirect_uri&quot;) String redirectUrl`.\r\n\r\nOverall it looks like you are trying to request an oauth access token which requires an request of content type `application/x-www-form-urlencoded`.\r\n\r\nMaybee this helps: https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign","title":"OpenFeign not decoding response","body":"<p>First of all you have declared two path variables which dont show up the path:\n<code>@PathVariable String code</code> and <code>@PathVariable(&quot;redirect_uri&quot;) String redirectUrl</code>.</p>\n<p>Overall it looks like you are trying to request an oauth access token which requires an request of content type <code>application/x-www-form-urlencoded</code>.</p>\n<p>Maybee this helps: <a href=\"https://stackoverflow.com/questions/35803093/how-to-post-form-url-encoded-data-with-spring-cloud-feign\">How to POST form-url-encoded data with Spring Cloud Feign</a></p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74837529,"answer_count":1,"score":0,"last_activity_date":1671311823,"creation_date":1671306926,"question_id":74837077,"body_markdown":"```java\r\n@FeignClient(name = &quot;Authorization-API&quot;, url = &quot;https://www.reddit.com/api/v1&quot;)\r\npublic interface AuthorizationApi {\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/access_token&quot;)\r\n    Token getToken(@PathVariable(&quot;grant_type&quot;) String grantType,\r\n                      @PathVariable String code,\r\n                      @PathVariable(&quot;redirect_uri&quot;) String redirectUrl,\r\n                      @RequestHeader(name = &quot;Authorization&quot;) String authorizationHeader,\r\n                      @RequestHeader(&quot;User-agent&quot;) String agent\r\n    );\r\n}\r\n\r\n```\r\n\r\nCall:\r\n\r\n```java\r\n        Token token = authorizationApi.getToken(\r\n                &quot;authorization_code&quot;,\r\n                code,\r\n                REDIRECT_URI,\r\n                getAuthorizationCredentials(),\r\n                &quot;porymol&quot;);\r\n        System.out.println(token.access_token()); //returns null\r\n```\r\n\r\nToken record:\r\n\r\n```java\r\npublic record Token(String access_token, String token_type, Long expires_in, String scope, String refresh_token) {\r\n}\r\n```\r\n\r\nWhen I make request from Postman I get this response:\r\n\r\n```json\r\n{\r\n    &quot;access_token&quot;: &quot;token&quot;,\r\n    &quot;token_type&quot;: &quot;bearer&quot;,\r\n    &quot;expires_in&quot;: 86400,\r\n    &quot;refresh_token&quot;: &quot;token&quot;,\r\n    &quot;scope&quot;: &quot;read&quot;\r\n}\r\n```\r\nTrying to get any value from Token returns null\r\n\r\nJava 17, Spring boot 3\r\n\r\nAny idea what&#39;s going wrong here?","title":"OpenFeign not decoding response","body":"<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;Authorization-API&quot;, url = &quot;https://www.reddit.com/api/v1&quot;)\npublic interface AuthorizationApi {\n\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/access_token&quot;)\n    Token getToken(@PathVariable(&quot;grant_type&quot;) String grantType,\n                      @PathVariable String code,\n                      @PathVariable(&quot;redirect_uri&quot;) String redirectUrl,\n                      @RequestHeader(name = &quot;Authorization&quot;) String authorizationHeader,\n                      @RequestHeader(&quot;User-agent&quot;) String agent\n    );\n}\n\n</code></pre>\n<p>Call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Token token = authorizationApi.getToken(\n                &quot;authorization_code&quot;,\n                code,\n                REDIRECT_URI,\n                getAuthorizationCredentials(),\n                &quot;porymol&quot;);\n        System.out.println(token.access_token()); //returns null\n</code></pre>\n<p>Token record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Token(String access_token, String token_type, Long expires_in, String scope, String refresh_token) {\n}\n</code></pre>\n<p>When I make request from Postman I get this response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;access_token&quot;: &quot;token&quot;,\n    &quot;token_type&quot;: &quot;bearer&quot;,\n    &quot;expires_in&quot;: 86400,\n    &quot;refresh_token&quot;: &quot;token&quot;,\n    &quot;scope&quot;: &quot;read&quot;\n}\n</code></pre>\n<p>Trying to get any value from Token returns null</p>\n<p>Java 17, Spring boot 3</p>\n<p>Any idea what's going wrong here?</p>\n"},{"tags":["java","javafx","graph","jfreechart","jfreechart-fx"],"answers":[{"comments":[{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667035242,"post_id":74241708,"comment_id":131078808,"body_markdown":"How would i implement the getOLRegression() method into my code to plot a scatterplot. please","body":"How would i implement the getOLRegression() method into my code to plot a scatterplot. please"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667067919,"post_id":74241708,"comment_id":131085110,"body_markdown":"As your code may have evolved, please [edit] your question to include a [mre] that shows your revised approach.","body":"As your code may have evolved, please <a href=\"https://stackoverflow.com/posts/74241708/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667399845,"post_id":74241708,"comment_id":131158314,"body_markdown":"I&#39;ve amended my question with a minimal reproducible example however it doesn&#39;t plot the line of best fit or add a button to give the gradient. could i please have some help.","body":"I&#39;ve amended my question with a minimal reproducible example however it doesn&#39;t plot the line of best fit or add a button to give the gradient. could i please have some help."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667409853,"post_id":74241708,"comment_id":131162409,"body_markdown":"I&#39;ve elaborated above; you should then be able to add/update a second series as shown [here](https://stackoverflow.com/a/61398612/230513).","body":"I&#39;ve elaborated above; you should then be able to add/update a second series as shown <a href=\"https://stackoverflow.com/a/61398612/230513\">here</a>."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1667564050,"post_id":74241708,"comment_id":131201738,"body_markdown":"How would I add a button which brings up a visible line of best fit please.","body":"How would I add a button which brings up a visible line of best fit please."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1667564480,"post_id":74241708,"comment_id":131201872,"body_markdown":"Same as the example: add a series with two points calculated from the equation.","body":"Same as the example: add a series with two points calculated from the equation."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1668289130,"post_id":74241708,"comment_id":131370468,"body_markdown":"I&#39;ve ammended my code with an attempt to add a line of best fit however I cant get the line of best fit to show up please could I have some help.","body":"I&#39;ve ammended my code with an attempt to add a line of best fit however I cant get the line of best fit to show up please could I have some help."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1668293723,"post_id":74241708,"comment_id":131371272,"body_markdown":"You&#39;ll need a second series for the trend line, which should be updated in the listener.","body":"You&#39;ll need a second series for the trend line, which should be updated in the listener."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671311672,"post_id":74241708,"comment_id":132073869,"body_markdown":"I&#39;ve ammended the code to make a minimal reproducible example, I&#39;ve attempted to create a second series trend but when I try to create plot and chart in the createchart() method i get met with the error saying exception in the start method I have tried creating plot and chart in the start method however the best fit line doesnt appear . thanks for your help so far","body":"I&#39;ve ammended the code to make a minimal reproducible example, I&#39;ve attempted to create a second series trend but when I try to create plot and chart in the createchart() method i get met with the error saying exception in the start method I have tried creating plot and chart in the start method however the best fit line doesnt appear . thanks for your help so far"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671321241,"post_id":74241708,"comment_id":132075145,"body_markdown":"In `start()`, invoke `addChangeListener()` only _after_ you&#39;ve added some data and invoked `createChart()`; otherwise the the listener will fire before it has anything to work with.","body":"In <code>start()</code>, invoke <code>addChangeListener()</code> only <i>after</i> you&#39;ve added some data and invoked <code>createChart()</code>; otherwise the the listener will fire before it has anything to work with."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1671796705,"post_id":74241708,"comment_id":132178143,"body_markdown":"thank you the best fit line appears so does the equation of the line however after inputting 2 points an error comes up &#39;exception in application start method&#39; but the application still works fine just the error comes up in intelij","body":"thank you the best fit line appears so does the equation of the line however after inputting 2 points an error comes up &#39;exception in application start method&#39; but the application still works fine just the error comes up in intelij"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1671799946,"post_id":74241708,"comment_id":132179036,"body_markdown":"I suspect the repeated addition of `trend` to the `dataset`, seen [here](https://stackoverflow.com/q/74889977/230513). If not, [edit] your question to to show your current approach and the error you encounter.","body":"I suspect the repeated addition of <code>trend</code> to the <code>dataset</code>, seen <a href=\"https://stackoverflow.com/q/74889977/230513\">here</a>. If not, <a href=\"https://stackoverflow.com/posts/74241708/edit\">edit</a> your question to to show your current approach and the error you encounter."},{"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"score":0,"creation_date":1675375479,"post_id":74241708,"comment_id":132921641,"body_markdown":"thanks for your help trashgod how would I make this best fit line curved and implement this with the getPowerRegression() method.","body":"thanks for your help trashgod how would I make this best fit line curved and implement this with the getPowerRegression() method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675392585,"post_id":74241708,"comment_id":132924248,"body_markdown":"Same way, but open a new question; note, you&#39;ll need more than two points for the curve.","body":"Same way, but open a new question; note, you&#39;ll need more than two points for the curve."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":14,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668293646,"creation_date":1666998807,"answer_id":74241708,"question_id":74237309,"body_markdown":"As shown [here][1], call [`Regression.getOLSRegression()`][2] and display the result. You can do this in your &lt;kbd&gt;Add&lt;/kbd&gt; button handler, as suggested in your question, or in a [`SeriesChangeListener`][3], as shown below. This fragment simply prints the equation of the line, but you can update the display as desired.\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n    …\r\n    // https://stackoverflow.com/a/61398612/230513\r\n    series.addChangeListener((event) -&gt; {\r\n        double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n        double b = coefficients[0]; // intercept\r\n        double m = coefficients[1]; // slope\r\n        System.out.println(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n    });\r\n\r\nNote that the `series` will need at least two values, and it should be added to the collection only once. In particular,\r\n\r\n- Don&#39;t recreate the `dataset` in `createChart()`\r\n- Don&#39;t recreate the choice boxes in `start()`\r\n- Add a `TextField` to the toolbar and invoke `setText()` in the change listener; the displayed equation will update as points are added.\r\n- Create an `XYSeries` named  `trend` and add into the `dataset`, then update the series in the change listener.\r\n\r\n        var equation = new TextField();\r\n        series.addChangeListener((event) -&gt; {\r\n            …\r\n            equation.setText(&quot;y = &quot; + m + &quot;x + &quot; + b);\r\n            double x = series.getDataItem(0).getXValue();\r\n            trend.clear();\r\n            trend.add(x, m * x + b);\r\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\r\n            trend.add(x, m * x + b);\r\n        });\r\n\r\n[![image][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/61398612/230513\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/data/statistics/Regression.html#getOLSRegression(org.jfree.data.xy.XYDataset,int)\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/org/jfree/data/general/SeriesChangeListener.html\r\n  [4]: https://i.stack.imgur.com/O6Sjm.png","title":"How would I find the gradient of a best-fit line for input values on a scatterplot","body":"<p>As shown <a href=\"https://stackoverflow.com/a/61398612/230513\">here</a>, call <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/data/statistics/Regression.html#getOLSRegression(org.jfree.data.xy.XYDataset,int)\" rel=\"nofollow noreferrer\"><code>Regression.getOLSRegression()</code></a> and display the result. You can do this in your <kbd>Add</kbd> button handler, as suggested in your question, or in a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/data/general/SeriesChangeListener.html\" rel=\"nofollow noreferrer\"><code>SeriesChangeListener</code></a>, as shown below. This fragment simply prints the equation of the line, but you can update the display as desired.</p>\n<pre><code>private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\nprivate final XYSeries trend = new XYSeries(&quot;Trend&quot;);\nprivate final XYSeriesCollection dataset = new XYSeriesCollection(series);\n…\n// https://stackoverflow.com/a/61398612/230513\nseries.addChangeListener((event) -&gt; {\n    double[] coefficients = Regression.getOLSRegression(dataset, 0);\n    double b = coefficients[0]; // intercept\n    double m = coefficients[1]; // slope\n    System.out.println(&quot;y = &quot; + m + &quot; x + &quot; + b);\n});\n</code></pre>\n<p>Note that the <code>series</code> will need at least two values, and it should be added to the collection only once. In particular,</p>\n<ul>\n<li><p>Don't recreate the <code>dataset</code> in <code>createChart()</code></p>\n</li>\n<li><p>Don't recreate the choice boxes in <code>start()</code></p>\n</li>\n<li><p>Add a <code>TextField</code> to the toolbar and invoke <code>setText()</code> in the change listener; the displayed equation will update as points are added.</p>\n</li>\n<li><p>Create an <code>XYSeries</code> named  <code>trend</code> and add into the <code>dataset</code>, then update the series in the change listener.</p>\n<pre><code>  var equation = new TextField();\n  series.addChangeListener((event) -&gt; {\n      …\n      equation.setText(&quot;y = &quot; + m + &quot;x + &quot; + b);\n      double x = series.getDataItem(0).getXValue();\n      trend.clear();\n      trend.add(x, m * x + b);\n      x = series.getDataItem(series.getItemCount() - 1).getXValue();\n      trend.add(x, m * x + b);\n  });\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/O6Sjm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6Sjm.png\" alt=\"image\" /></a></p>\n"}],"owner":{"account_id":22023992,"reputation":33,"user_id":16292314,"display_name":"armitageshanks99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1671311783,"creation_date":1666969501,"question_id":74237309,"body_markdown":"Based on this [example][1], the below code plots a scatterplot to which double values can be input via a spinner. I&#39;d like to plot a line of best fit on the scatter plot in order to calculate the gradient and find an average for the values which the value I get for gradient. I&#39;d like it to be output onto a text box when a button is pressed. Help would be greatly appreciated.\r\n\r\n```\r\npackage Grava;\r\n\r\n        import javafx.application.Application;\r\n        import javafx.geometry.Pos;\r\n        import javafx.scene.Scene;\r\n        import javafx.scene.control.Button;\r\n        import javafx.scene.control.TextField;\r\n        import javafx.scene.control.*;\r\n        import javafx.scene.image.Image;\r\n        import javafx.scene.layout.BorderPane;\r\n        import javafx.scene.layout.HBox;\r\n        import javafx.stage.Stage;\r\n        import org.jfree.chart.ChartFactory;\r\n        import org.jfree.chart.JFreeChart;\r\n        import org.jfree.chart.fx.ChartViewer;\r\n        import org.jfree.chart.plot.XYPlot;\r\n        import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\r\n        import org.jfree.data.statistics.Regression;\r\n        import org.jfree.data.xy.XYSeries;\r\n        import org.jfree.data.xy.XYSeriesCollection;\r\n\r\npublic class ScatterAdd extends Application {\r\n\r\n\r\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\r\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\r\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\r\n\r\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\r\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\r\n\r\n    private JFreeChart createChart() throws Exception {\r\n        /*\r\n        JFreeChart chart = createChart();\r\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\r\n        });\r\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\r\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\r\n        });\r\n        XYPlot plot = createChart().getXYPlot();\r\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\r\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\r\n        this part gives me an error when i create it in the createChart() method\r\n        */\r\n         \r\n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        Image image = new Image(&quot;Grava.logo.png&quot;);\r\n        stage.getIcons().add(image);\r\n\r\n        var equation = new TextField();\r\n\r\n\r\n\r\n        series.addChangeListener((event) -&gt; {\r\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\r\n            double b = coefficients[0]; // intercept\r\n            double m = coefficients[1]; // slope\r\n            double x = series.getDataItem(0).getXValue();\r\n            trend.add(x, m * x + b);\r\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\r\n            trend.add(x, m * x + b);\r\n            dataset.addSeries(trend);\r\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\r\n\r\n        });\r\n\r\n\r\n\r\n\r\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\r\n        domainLabels.setValue(&quot;Current&quot;);\r\n\r\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\r\n        rangeLabels.setValue(&quot;Voltage&quot;);\r\n\r\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        xSpin.setEditable(true);\r\n        xSpin.setPromptText(&quot;Xvalue&quot;);\r\n\r\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\r\n        ySpin.setEditable(true);\r\n        ySpin.setPromptText(&quot;Yvalue&quot;);\r\n\r\n        var button = new Button(&quot;Add&quot;);\r\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\r\n\r\n\r\n        HBox xBox = new HBox();\r\n        xBox.getChildren().addAll(domainLabels);\r\n\r\n        HBox yBox = new HBox();\r\n        yBox.getChildren().addAll(rangeLabels);\r\n\r\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\r\n        BorderPane.setAlignment(enter, Pos.CENTER);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setCenter(new ChartViewer(createChart()));\r\n        root.setBottom(enter);\r\n\r\n        stage.setTitle(&quot;ScatterAdd&quot;);\r\n        stage.setScene(new Scene(root, 720, 480));\r\n        stage.show();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74184741/230513","title":"How would I find the gradient of a best-fit line for input values on a scatterplot","body":"<p>Based on this <a href=\"https://stackoverflow.com/a/74184741/230513\">example</a>, the below code plots a scatterplot to which double values can be input via a spinner. I'd like to plot a line of best fit on the scatter plot in order to calculate the gradient and find an average for the values which the value I get for gradient. I'd like it to be output onto a text box when a button is pressed. Help would be greatly appreciated.</p>\n<pre><code>package Grava;\n\n        import javafx.application.Application;\n        import javafx.geometry.Pos;\n        import javafx.scene.Scene;\n        import javafx.scene.control.Button;\n        import javafx.scene.control.TextField;\n        import javafx.scene.control.*;\n        import javafx.scene.image.Image;\n        import javafx.scene.layout.BorderPane;\n        import javafx.scene.layout.HBox;\n        import javafx.stage.Stage;\n        import org.jfree.chart.ChartFactory;\n        import org.jfree.chart.JFreeChart;\n        import org.jfree.chart.fx.ChartViewer;\n        import org.jfree.chart.plot.XYPlot;\n        import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\n        import org.jfree.data.statistics.Regression;\n        import org.jfree.data.xy.XYSeries;\n        import org.jfree.data.xy.XYSeriesCollection;\n\npublic class ScatterAdd extends Application {\n\n\n    private final XYSeries series = new XYSeries(&quot;Voltage&quot;);\n    private final XYSeries trend = new XYSeries(&quot;Trend&quot;);\n    private final XYSeriesCollection dataset = new XYSeriesCollection(series);\n\n    ChoiceBox&lt;String&gt; domainLabels = new ChoiceBox&lt;&gt;();\n    ChoiceBox&lt;String&gt; rangeLabels = new ChoiceBox&lt;&gt;();\n\n    private JFreeChart createChart() throws Exception {\n        /*\n        JFreeChart chart = createChart();\n        domainLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getDomainAxis().setLabel(s1);\n        });\n        rangeLabels.getSelectionModel().selectedItemProperty().addListener((ov, s0, s1) -&gt; {\n            chart.getXYPlot().getRangeAxis().setLabel(s1);\n        });\n        XYPlot plot = createChart().getXYPlot();\n        XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n        r.setSeriesLinesVisible(1, Boolean.TRUE);\n        r.setSeriesShapesVisible(1, Boolean.FALSE);\n        this part gives me an error when i create it in the createChart() method\n        */\n         \n        return ChartFactory.createScatterPlot(&quot;VI Characteristics&quot;, &quot;Current&quot;, &quot;Voltage&quot;, dataset);\n        \n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        Image image = new Image(&quot;Grava.logo.png&quot;);\n        stage.getIcons().add(image);\n\n        var equation = new TextField();\n\n\n\n        series.addChangeListener((event) -&gt; {\n            double[] coefficients = Regression.getOLSRegression(dataset, 0);\n            double b = coefficients[0]; // intercept\n            double m = coefficients[1]; // slope\n            double x = series.getDataItem(0).getXValue();\n            trend.add(x, m * x + b);\n            x = series.getDataItem(series.getItemCount() - 1).getXValue();\n            trend.add(x, m * x + b);\n            dataset.addSeries(trend);\n            equation.setText(&quot;y = &quot; + m + &quot; x + &quot; + b);\n\n        });\n\n\n\n\n        domainLabels.getItems().addAll(&quot;Current&quot;, &quot;Seconds&quot;);\n        domainLabels.setValue(&quot;Current&quot;);\n\n        rangeLabels.getItems().addAll(&quot;Voltage&quot;, &quot;Metres&quot;);\n        rangeLabels.setValue(&quot;Voltage&quot;);\n\n        var xSpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        xSpin.setEditable(true);\n        xSpin.setPromptText(&quot;Xvalue&quot;);\n\n        var ySpin = new Spinner&lt;Double&gt;(-10000000.000, 10000000.000, 0, 0.1);\n        ySpin.setEditable(true);\n        ySpin.setPromptText(&quot;Yvalue&quot;);\n\n        var button = new Button(&quot;Add&quot;);\n        button.setOnAction(ae -&gt; series.add(xSpin.getValue(), ySpin.getValue()));\n\n\n        HBox xBox = new HBox();\n        xBox.getChildren().addAll(domainLabels);\n\n        HBox yBox = new HBox();\n        yBox.getChildren().addAll(rangeLabels);\n\n        var enter = new ToolBar(xBox, xSpin, yBox, ySpin, button, equation);\n        BorderPane.setAlignment(enter, Pos.CENTER);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(new ChartViewer(createChart()));\n        root.setBottom(enter);\n\n        stage.setTitle(&quot;ScatterAdd&quot;);\n        stage.setScene(new Scene(root, 720, 480));\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","mongodb","postgresql","database-migration"],"comments":[{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1671223833,"post_id":74828191,"comment_id":132061108,"body_markdown":"Welcome!   Do you actually *need* to convert to a MongoDB ObjectId()?   If you do not set `_id` in the `java.util.Map` that you intend to insert into MongoDB, the Java driver will create one for you.","body":"Welcome!   Do you actually <i>need</i> to convert to a MongoDB ObjectId()?   If you do not set <code>_id</code> in the <code>java.util.Map</code> that you intend to insert into MongoDB, the Java driver will create one for you."},{"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"score":0,"creation_date":1671249507,"post_id":74828191,"comment_id":132064475,"body_markdown":"Yes I need to, because this is not only for _id field, there are other fields which has object ID as values in mongo. Those values need to be converted from postgres ID to mongoID","body":"Yes I need to, because this is not only for _id field, there are other fields which has object ID as values in mongo. Those values need to be converted from postgres ID to mongoID"}],"answers":[{"comments":[{"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"score":0,"creation_date":1671458059,"post_id":74837463,"comment_id":132096936,"body_markdown":"Can you please explain with any code, as I&#39;m new to postgresql. Thanks","body":"Can you please explain with any code, as I&#39;m new to postgresql. Thanks"},{"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"score":0,"creation_date":1671459693,"post_id":74837463,"comment_id":132097459,"body_markdown":"This is beyond the scope of question particularly due to connection and driver class details.   I recommend searching for &quot;postgres java select JSON column example&quot;","body":"This is beyond the scope of question particularly due to connection and driver class details.   I recommend searching for &quot;postgres java select JSON column example&quot;"}],"tags":[],"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671311103,"creation_date":1671311103,"answer_id":74837463,"question_id":74828191,"body_markdown":"You need to parse the JSON array, then call your converter for each item in the array.   There are many JSON parsing options available.  ","title":"Migrate postgresql JSON array of IDs to Mongodb ObjectID","body":"<p>You need to parse the JSON array, then call your converter for each item in the array.   There are many JSON parsing options available.</p>\n"}],"owner":{"account_id":27275154,"reputation":11,"user_id":20795891,"display_name":"Vasavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671311103,"creation_date":1671213604,"question_id":74828191,"body_markdown":"I&#39;m trying migrate from postgres db to mongodb. I&#39;ve a field JSON in postgres table, which has key and value pairs. I need to fetch the value based on JSON key and convert those values(values are basically postgres id) to Mongo objectID and then map those to mongo document. \r\nJSON field looks like this\r\n```{&quot;A&quot;:[&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;],\r\n&quot;B&quot;:[&quot;956c5b0a5341d14c23ceed071bf136f8&quot;]}\r\n```\r\nI&#39;ve written a function in java to convert postgres ID column to mongoID.\r\n\r\n```\r\npublic String convertIDToMongo(String colName){\r\n    ---encoding logic\r\n}\r\n```\r\nThis is working when the field is explicitly available in the table and also if the field datatype is not an array. In case of JSON and array, is there a way to fetch set of values from JSON field and convert them into Mongo Object ID?\r\n```\r\n&quot;Select json::json-&gt;&#39;A&#39; from table&quot; ``` \r\n\r\ngives me the value [&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;] But I need some help to convert this list of IDs to Mongo Object IDs. Below is how I convert for non JSON field with one postgres ID value to Mongo ID.\r\n```\r\n&quot;Select &quot; + convertIDToMongo(&#39;colName&#39;) + &quot; as \\&quot;_id\\&quot;, \\n&quot; +\r\n```\r\nAny help is greatly appreciated. Thanks.\r\n\r\n","title":"Migrate postgresql JSON array of IDs to Mongodb ObjectID","body":"<p>I'm trying migrate from postgres db to mongodb. I've a field JSON in postgres table, which has key and value pairs. I need to fetch the value based on JSON key and convert those values(values are basically postgres id) to Mongo objectID and then map those to mongo document.\nJSON field looks like this</p>\n<pre><code>&quot;B&quot;:[&quot;956c5b0a5341d14c23ceed071bf136f8&quot;]}\n</code></pre>\n<p>I've written a function in java to convert postgres ID column to mongoID.</p>\n<pre><code>public String convertIDToMongo(String colName){\n    ---encoding logic\n}\n</code></pre>\n<p>This is working when the field is explicitly available in the table and also if the field datatype is not an array. In case of JSON and array, is there a way to fetch set of values from JSON field and convert them into Mongo Object ID?</p>\n<pre><code>&quot;Select json::json-&gt;'A' from table&quot; ``` \n\ngives me the value [&quot;06992a6fef0bcfc1ede998ac7da8f08b&quot;,&quot;7d1d55e1078191e53244c41d6b55b3a3&quot;,&quot;31571835c6600517f4e4c15b5144959b&quot;] But I need some help to convert this list of IDs to Mongo Object IDs. Below is how I convert for non JSON field with one postgres ID value to Mongo ID.\n</code></pre>\n<p>&quot;Select &quot; + convertIDToMongo('colName') + &quot; as &quot;_id&quot;, \\n&quot; +</p>\n<pre><code>Any help is greatly appreciated. Thanks.\n\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671223569,"post_id":74829236,"comment_id":132061045,"body_markdown":"i just run it and it work as you said it rename the new file back to the old one do you get any exception ? for this line client.delete(); could your check it&#39;s boolan return if it return true or false","body":"i just run it and it work as you said it rename the new file back to the old one do you get any exception ? for this line client.delete(); could your check it&#39;s boolan return if it return true or false"},{"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"score":0,"creation_date":1671225841,"post_id":74829236,"comment_id":132061535,"body_markdown":"it was return false","body":"it was return false"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671226299,"post_id":74829236,"comment_id":132061652,"body_markdown":"the only thing i can think of is the permission of file so right click the file and see if your current account has write permission for it","body":"the only thing i can think of is the permission of file so right click the file and see if your current account has write permission for it"},{"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"score":0,"creation_date":1671226690,"post_id":74829236,"comment_id":132061733,"body_markdown":"i don&#39;t know how i can do this or could u be more clear sir","body":"i don&#39;t know how i can do this or could u be more clear sir"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671227058,"post_id":74829236,"comment_id":132061805,"body_markdown":"it different based on your operating system so try to google how to check file permission for your operating system and you will get many pages on how  to do that","body":"it different based on your operating system so try to google how to check file permission for your operating system and you will get many pages on how  to do that"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1671227877,"post_id":74829236,"comment_id":132061997,"body_markdown":"for example this https://www.microcenter.com/tech_center/article/10900/how-to-check-or-change-file-permissions-in-windows-10 show you the steps for windows 10 use steps from 1 to 5 if you have different os let me know and i search it for you","body":"for example this <a href=\"https://www.microcenter.com/tech_center/article/10900/how-to-check-or-change-file-permissions-in-windows-10\" rel=\"nofollow noreferrer\">microcenter.com/tech_center/article/10900/&hellip;</a> show you the steps for windows 10 use steps from 1 to 5 if you have different os let me know and i search it for you"}],"owner":{"account_id":22941830,"reputation":1,"user_id":17074463,"display_name":"hodaifa yahia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671310497,"creation_date":1671220808,"question_id":74829236,"body_markdown":"```\r\n\r\npublic class Client {\r\n\tprivate Scanner scanner;\r\n\tprivate String fileClient=&quot;client.txt&quot;;\r\n\tpublic File client =new File(fileClient);\r\n\t\r\n\r\npublic void deletClient() {\r\n\t\t\tint lineRemove =GetLineRemove();\r\n\t\t\tString tempFile=&quot;temp.txt&quot;;\r\n\t\t\tFile newfile=new File(tempFile);\r\n\t\t\tint line=0;\r\n\t\t\tString currentLine;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tFileWriter fw=new FileWriter(tempFile,true);\r\n\t\t\t\tBufferedWriter bw=new BufferedWriter(fw);\r\n\t\t\t\tPrintWriter pw=new PrintWriter(bw);\r\n\t\t\t\t\r\n\t\t\t\tFileReader fr=new FileReader(fileClient);\r\n\t\t\t\tBufferedReader br=new BufferedReader(fr);\r\n\t\t\t\t\r\n\t\t\t\twhile((currentLine=br.readLine())!=null ) {\r\n\t\t\t\t\tline++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(line !=lineRemove) {\r\n\t\t\t\t\t\tpw.println(currentLine);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpw.flush();\r\n\t\t\t\tfr.close();\r\n\t\t\t\tbw.close();\r\n\t\t\t\tpw.close();\r\n\t\t\t\tbr.close();\r\n\t\t\t\tfw.close();\r\n\t\t\t // i try to delet a file\r\n\t\t\t\tclient.delete();\r\n                        // create a file have the same name \r\n\t\t\t\tFile dumy=new File(fileClient);\r\n                      // rename it to first file \r\n\t\t\t\tnewfile.renameTo(dumy);\r\n\t\t\t\t\r\n\t\t\t}catch(Exception e){\r\n\t\t\t\tSystem.out.print(e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n```\r\n\r\nI want to remove a line from a file but when i do that i found the first file still exist and the second file what should get rename to the first file still have has it name temp  i don&#39;t know should do so i hope u can help me to know where is the problem.","title":"Deleting a record in a file in Java","body":"<pre><code>\npublic class Client {\n    private Scanner scanner;\n    private String fileClient=&quot;client.txt&quot;;\n    public File client =new File(fileClient);\n    \n\npublic void deletClient() {\n            int lineRemove =GetLineRemove();\n            String tempFile=&quot;temp.txt&quot;;\n            File newfile=new File(tempFile);\n            int line=0;\n            String currentLine;\n            \n            \n            try {\n                FileWriter fw=new FileWriter(tempFile,true);\n                BufferedWriter bw=new BufferedWriter(fw);\n                PrintWriter pw=new PrintWriter(bw);\n                \n                FileReader fr=new FileReader(fileClient);\n                BufferedReader br=new BufferedReader(fr);\n                \n                while((currentLine=br.readLine())!=null ) {\n                    line++;\n                    \n                    if(line !=lineRemove) {\n                        pw.println(currentLine);\n                    }\n                }\n                pw.flush();\n                fr.close();\n                bw.close();\n                pw.close();\n                br.close();\n                fw.close();\n             // i try to delet a file\n                client.delete();\n                        // create a file have the same name \n                File dumy=new File(fileClient);\n                      // rename it to first file \n                newfile.renameTo(dumy);\n                \n            }catch(Exception e){\n                System.out.print(e);\n            }\n            \n        }\n\n</code></pre>\n<p>I want to remove a line from a file but when i do that i found the first file still exist and the second file what should get rename to the first file still have has it name temp  i don't know should do so i hope u can help me to know where is the problem.</p>\n"},{"tags":["java","spring-boot","api","rest","tomcat"],"comments":[{"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"score":0,"creation_date":1667250085,"post_id":74268806,"comment_id":131121425,"body_markdown":"if you do not add any customisation, the context path in Tomcat is the name of the jar file.\n\nHave you tried to extend SpringBootServletInitializer?","body":"if you do not add any customisation, the context path in Tomcat is the name of the jar file.  Have you tried to extend SpringBootServletInitializer?"},{"owner":{"account_id":2354215,"reputation":522,"user_id":2062407,"accept_rate":50,"display_name":"ali4j"},"score":0,"creation_date":1667282549,"post_id":74268806,"comment_id":131126361,"body_markdown":"Please provide the details of the error you&#39;re getting while reaching the endpoint .","body":"Please provide the details of the error you&#39;re getting while reaching the endpoint ."}],"answers":[{"comments":[{"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"score":0,"creation_date":1667286637,"post_id":74269106,"comment_id":131127142,"body_markdown":"My bad. I had the additional configuration from the beginning. I mean: `org.springframework.boot:spring-boot-starter-tomcat` in `build.gradle` which allows me to execute `war` task and class `ServletInitializer` which implements `SpringBootServletInitializer`. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser.","body":"My bad. I had the additional configuration from the beginning. I mean: <code>org.springframework.boot:spring-boot-starter-tomcat</code> in <code>build.gradle</code> which allows me to execute <code>war</code> task and class <code>ServletInitializer</code> which implements <code>SpringBootServletInitializer</code>. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser."}],"tags":[],"owner":{"account_id":2705448,"reputation":130,"user_id":2335143,"accept_rate":40,"display_name":"Nariman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667250277,"creation_date":1667250277,"answer_id":74269106,"question_id":74268806,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\r\n\r\nThe first step in producing a deployable war file is to provide a SpringBootServletInitializer subclass and override its configure method. Doing so makes use of Spring Framework’s servlet 3.0 support and lets you configure your application when it is launched by the servlet container.","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment</a></p>\n<p>The first step in producing a deployable war file is to provide a SpringBootServletInitializer subclass and override its configure method. Doing so makes use of Spring Framework’s servlet 3.0 support and lets you configure your application when it is launched by the servlet container.</p>\n"},{"comments":[{"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"score":0,"creation_date":1667286657,"post_id":74270012,"comment_id":131127146,"body_markdown":"My bad. I had the additional configuration from the beginning. I mean: `org.springframework.boot:spring-boot-starter-tomcat` in `build.gradle` which allows me to execute `war` task and class `ServletInitializer` which implements `SpringBootServletInitializer`. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser.","body":"My bad. I had the additional configuration from the beginning. I mean: <code>org.springframework.boot:spring-boot-starter-tomcat</code> in <code>build.gradle</code> which allows me to execute <code>war</code> task and class <code>ServletInitializer</code> which implements <code>SpringBootServletInitializer</code>. However it still doesn&#39;t work. I thought that I maybe have wrong path in bowser."}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667258363,"creation_date":1667258363,"answer_id":74270012,"question_id":74268806,"body_markdown":"*first step*: is to configure your maven file to generate a `war` package.\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n*second step*: is to make your main class extends `SpringBootServletInitializer`\r\n\r\n    @SpringBootApplication\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(Application.class);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nCheck this [link][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p><em>first step</em>: is to configure your maven file to generate a <code>war</code> package.</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<p><em>second step</em>: is to make your main class extends <code>SpringBootServletInitializer</code></p>\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Check this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671310300,"creation_date":1671310300,"answer_id":74837395,"question_id":74268806,"body_markdown":"The reason is that I tried to run it on Apache Tomcat 10. It runs smoothly on Tomcat 9.","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p>The reason is that I tried to run it on Apache Tomcat 10. It runs smoothly on Tomcat 9.</p>\n"}],"owner":{"account_id":3762388,"reputation":97,"user_id":3126929,"display_name":"CodeGrinder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74837395,"answer_count":3,"score":0,"last_activity_date":1671310300,"creation_date":1667248160,"question_id":74268806,"body_markdown":"I developed a following endpoint using SpringBoot:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1&quot;)\r\n    public class UserResource {\r\n    \r\n        @GetMapping(&quot;users&quot;)\r\n        public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\r\n            return ResponseEntity.ok().body(List.of(new User(&quot;George&quot;, &quot;Walker&quot;)));\r\n        }\r\n    \r\n    }\r\n\r\nThe endpoint works when I launched it using `bootRun` Gradle task.\r\n\r\nThe endpoint can be reached using: `http://localhost:8080/api/v1/users`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen I build a war file using `war` Gradle Task and I deploy it using Tomcat.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI try to reach the same endpoint using the URL: `http://localhost:8080/user-service-api-0.0.1-SNAPSHOT-plain/api/v1/users`, but it fails. The Tomcat is up, the app is deployed, but the endpoint is not accessible.\r\n\r\nIn addition to that I have in `build.gradle` entry: `org.springframework.boot:spring-boot-starter-tomcat` and a class: \r\n\r\n```\r\npackage net.bean.userserviceapi;\r\n\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(UserServiceApiApplication.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ZsfV.png\r\n  [2]: https://i.stack.imgur.com/vgBo7.png","title":"Cannot execute SpringBoot endpoint on Tomcat","body":"<p>I developed a following endpoint using SpringBoot:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/v1&quot;)\npublic class UserResource {\n\n    @GetMapping(&quot;users&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() {\n        return ResponseEntity.ok().body(List.of(new User(&quot;George&quot;, &quot;Walker&quot;)));\n    }\n\n}\n</code></pre>\n<p>The endpoint works when I launched it using <code>bootRun</code> Gradle task.</p>\n<p>The endpoint can be reached using: <code>http://localhost:8080/api/v1/users</code></p>\n<p><a href=\"https://i.stack.imgur.com/6ZsfV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ZsfV.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I build a war file using <code>war</code> Gradle Task and I deploy it using Tomcat.</p>\n<p><a href=\"https://i.stack.imgur.com/vgBo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgBo7.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to reach the same endpoint using the URL: <code>http://localhost:8080/user-service-api-0.0.1-SNAPSHOT-plain/api/v1/users</code>, but it fails. The Tomcat is up, the app is deployed, but the endpoint is not accessible.</p>\n<p>In addition to that I have in <code>build.gradle</code> entry: <code>org.springframework.boot:spring-boot-starter-tomcat</code> and a class:</p>\n<pre><code>package net.bean.userserviceapi;\n\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(UserServiceApiApplication.class);\n    }\n\n}\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","class"],"answers":[{"tags":[],"owner":{"account_id":27284373,"reputation":11,"user_id":20803788,"display_name":"lucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671308975,"creation_date":1671308975,"answer_id":74837288,"question_id":74836541,"body_markdown":"I think the error is in this line of updateSnowFlakes():\r\n```\r\nRandom random = new Random(); \r\nif (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n}\r\n```\r\nI believe this is supposed to end the function if the new x would cause the snowflake to go off the grid.\r\nHowever, it instead ends the function whenever the new x is greater than or less than ```GRID_WIDTH```. \r\n\r\nThis means that the function will only ever continue if the new x = ```GRID_WIDTH```. \r\n\r\nTo fix this, try changing it to:\r\n```\r\nRandom random = new Random(); \r\nif (x + random.nextInt(3) - 1 &lt; 0 || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n}\r\n```\r\n","title":"Pixelart Snowfall animation in Java","body":"<p>I think the error is in this line of updateSnowFlakes():</p>\n<pre><code>Random random = new Random(); \nif (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n}\n</code></pre>\n<p>I believe this is supposed to end the function if the new x would cause the snowflake to go off the grid.\nHowever, it instead ends the function whenever the new x is greater than or less than <code>GRID_WIDTH</code>.</p>\n<p>This means that the function will only ever continue if the new x = <code>GRID_WIDTH</code>.</p>\n<p>To fix this, try changing it to:</p>\n<pre><code>Random random = new Random(); \nif (x + random.nextInt(3) - 1 &lt; 0 || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n}\n</code></pre>\n"}],"owner":{"account_id":27283786,"reputation":11,"user_id":20803288,"display_name":"Dr.Maxwell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671308975,"creation_date":1671302190,"question_id":74836541,"body_markdown":"Hello im making a Snowfall animation in Java, but i have a few problems. The Snowflakes should be rectangles which have a random gray color between 100-255.I need to use a grid with array of arrays and once per call to the draw method, a snowflake can change columns by either -1, 0, or +1 if it falls down (changes the row) and the column in the new row is not already occupied.  My problem now is, that The snowflakes arent moving downwards and so they just go from left to right in the first row and after a few seconds they stop getting drawn.\r\n\r\nThis is my code for the grid class. And in the updateSnowflakes method is the not working snowflake movement.\r\n\r\n```java\r\npublic class Grid {\r\n\r\n    private static final int CANVAS_HEIGHT = 800;\r\n    private static final int CANVAS_WIDTH = 800;\r\n    public int GRID_HEIGHT = CANVAS_HEIGHT;\r\n    public int GRID_WIDTH = CANVAS_WIDTH;\r\n    public int SNOWFLAKE_WIDTH = GRID_WIDTH / GRID_WIDTH;\r\n    public int SNOWFLAKE_HEIGHT = GRID_HEIGHT / GRID_HEIGHT;\r\n\r\n\r\n    public GridView[][] elements;\r\n\r\n\r\n    public Grid(int GRID_HEIGHT, int GRID_WIDTH, int SNOWFLAKE_HEIGHT, int SNOWFLAKE_WIDTH) {\r\n        this.GRID_HEIGHT = GRID_HEIGHT;\r\n        this.GRID_WIDTH = GRID_WIDTH;\r\n        this.SNOWFLAKE_HEIGHT = SNOWFLAKE_HEIGHT;\r\n        this.SNOWFLAKE_WIDTH = SNOWFLAKE_WIDTH;\r\n        elements = new GridView[GRID_WIDTH][GRID_HEIGHT];\r\n        for (int y = 0; y &lt; elements.length; y++) {\r\n            for (int x = 0; x &lt; elements[y].length; x++) {\r\n                elements[y][x] = new GridView(y * SNOWFLAKE_HEIGHT, x * SNOWFLAKE_WIDTH);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void drawSnowflakes() {\r\n        for (int i = 0; i &lt; elements[0].length; i++) {\r\n            boolean shouldDrawSnowflake = Math.random() &lt; (1f / 80f);\r\n            Random random = new Random();\r\n            int low = 100;\r\n            int high = 256;\r\n            int g = random.nextInt(high - low) + low;\r\n            Color snowflakeColor = new Color(g, g, g, g);\r\n\r\n            if (shouldDrawSnowflake &amp;&amp; !elements[i][0].hasSnowflake) {\r\n                Rectangle rectangle = new Rectangle(i,0, SNOWFLAKE_WIDTH, SNOWFLAKE_HEIGHT, snowflakeColor);\r\n                elements[i][0].rectangle = rectangle;\r\n                elements[i][0].hasSnowflake = true;\r\n                rectangle.draw();\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void updateSnowflakes() {\r\n\r\n        for (int y = 0; y &lt; elements.length; y++) {\r\n            for (int x = 0; x &lt; elements[y].length; x++) {\r\n                GridView gridcell = elements[x][y];\r\n                if (gridcell.hasSnowflake) {\r\n                    if (y + 1 &gt; CANVAS_HEIGHT) {\r\n                        return;\r\n                    }\r\n                    Random random = new Random();\r\n                    if (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\r\n                        return;\r\n                    }\r\n                    GridView nextGridCell;\r\n                    nextGridCell=elements[x+ random.nextInt(3)-1][y+1];\r\n                    if (nextGridCell.hasSnowflake == true) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Pixelart Snowfall animation in Java","body":"<p>Hello im making a Snowfall animation in Java, but i have a few problems. The Snowflakes should be rectangles which have a random gray color between 100-255.I need to use a grid with array of arrays and once per call to the draw method, a snowflake can change columns by either -1, 0, or +1 if it falls down (changes the row) and the column in the new row is not already occupied.  My problem now is, that The snowflakes arent moving downwards and so they just go from left to right in the first row and after a few seconds they stop getting drawn.</p>\n<p>This is my code for the grid class. And in the updateSnowflakes method is the not working snowflake movement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Grid {\n\n    private static final int CANVAS_HEIGHT = 800;\n    private static final int CANVAS_WIDTH = 800;\n    public int GRID_HEIGHT = CANVAS_HEIGHT;\n    public int GRID_WIDTH = CANVAS_WIDTH;\n    public int SNOWFLAKE_WIDTH = GRID_WIDTH / GRID_WIDTH;\n    public int SNOWFLAKE_HEIGHT = GRID_HEIGHT / GRID_HEIGHT;\n\n\n    public GridView[][] elements;\n\n\n    public Grid(int GRID_HEIGHT, int GRID_WIDTH, int SNOWFLAKE_HEIGHT, int SNOWFLAKE_WIDTH) {\n        this.GRID_HEIGHT = GRID_HEIGHT;\n        this.GRID_WIDTH = GRID_WIDTH;\n        this.SNOWFLAKE_HEIGHT = SNOWFLAKE_HEIGHT;\n        this.SNOWFLAKE_WIDTH = SNOWFLAKE_WIDTH;\n        elements = new GridView[GRID_WIDTH][GRID_HEIGHT];\n        for (int y = 0; y &lt; elements.length; y++) {\n            for (int x = 0; x &lt; elements[y].length; x++) {\n                elements[y][x] = new GridView(y * SNOWFLAKE_HEIGHT, x * SNOWFLAKE_WIDTH);\n            }\n        }\n\n    }\n\n    public void drawSnowflakes() {\n        for (int i = 0; i &lt; elements[0].length; i++) {\n            boolean shouldDrawSnowflake = Math.random() &lt; (1f / 80f);\n            Random random = new Random();\n            int low = 100;\n            int high = 256;\n            int g = random.nextInt(high - low) + low;\n            Color snowflakeColor = new Color(g, g, g, g);\n\n            if (shouldDrawSnowflake &amp;&amp; !elements[i][0].hasSnowflake) {\n                Rectangle rectangle = new Rectangle(i,0, SNOWFLAKE_WIDTH, SNOWFLAKE_HEIGHT, snowflakeColor);\n                elements[i][0].rectangle = rectangle;\n                elements[i][0].hasSnowflake = true;\n                rectangle.draw();\n\n\n            }\n        }\n    }\n\n\n    public void updateSnowflakes() {\n\n        for (int y = 0; y &lt; elements.length; y++) {\n            for (int x = 0; x &lt; elements[y].length; x++) {\n                GridView gridcell = elements[x][y];\n                if (gridcell.hasSnowflake) {\n                    if (y + 1 &gt; CANVAS_HEIGHT) {\n                        return;\n                    }\n                    Random random = new Random();\n                    if (x + random.nextInt(3) - 1 &lt; GRID_WIDTH || x + random.nextInt(3) - 1 &gt; GRID_WIDTH) {\n                        return;\n                    }\n                    GridView nextGridCell;\n                    nextGridCell=elements[x+ random.nextInt(3)-1][y+1];\n                    if (nextGridCell.hasSnowflake == true) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","gson","quarkus","smallrye-reactive-messaging"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671308882,"post_id":74828960,"comment_id":132073403,"body_markdown":"Your error is from Jackson, so why are you trying to use Gson? Creating a new ObjectMapper will not fix the builtin Kafka JSON Deserializer. Call `mapper.registerModule`, not make a brand new one","body":"Your error is from Jackson, so why are you trying to use Gson? Creating a new ObjectMapper will not fix the builtin Kafka JSON Deserializer. Call <code>mapper.registerModule</code>, not make a brand new one"},{"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"score":1,"creation_date":1671453963,"post_id":74828960,"comment_id":132095638,"body_markdown":"You&#39;re right. But the issue was the serialization in the producer. I was using Gson.toJson() function. When I changed it to ObjectMapper.registerModule(new JavaTimeModule()).writeValueAsString() worked just fine!","body":"You&#39;re right. But the issue was the serialization in the producer. I was using Gson.toJson() function. When I changed it to ObjectMapper.registerModule(new JavaTimeModule()).writeValueAsString() worked just fine!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1671454291,"post_id":74828960,"comment_id":132095740,"body_markdown":"Feel free to put your working code below as an a answer","body":"Feel free to put your working code below as an a answer"}],"owner":{"account_id":18576371,"reputation":1314,"user_id":13536950,"display_name":"rafaelpadu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671308945,"creation_date":1671218893,"question_id":74828960,"body_markdown":"I&#39;m trying to deserialize an object using Kafka inside a Quarkus Project JDK-17. But It simply won&#39;t work. I was having the same issue when serializing the message inside the same project, but using  `ObjectMapper().registerModule(new JavaTimeModule());` solved the issue.\r\n\r\nNow that I need to consume the same object, inside the same project, It won&#39;t work. I&#39;ve I already tried the following:\r\n\r\n    new ObjectMapper().registerModule(new JavaTimeModule());\r\n    mapper.readValue(data, BudgetToMarinaOrderDTO.class);\r\n\r\n2:\r\n\r\n    new ObjectMapper().registerModule(new JavaTimeModule()).disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    mapper.readValue(data, BudgetToMarinaOrderDTO.class);\r\n\r\n3:\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n    gson.fromJson(data, BudgetToMarinaOrderDTO.class);\r\n\r\n4:\r\n\r\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\r\n    Gson gson = gsonBuilder.setPrettyPrinting().create();\r\n    gson.fromJson(data, BudgetToMarinaOrderDTO.class);\r\n\r\nThese are the related dependencies that I&#39;m using:\r\n \r\n        \r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nEach one of those gives me a different Error, but they all talk about the same thing...\r\nHere&#39;s one of these errors:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (","title":"Cant Deserialize LocalDateTime in Quarkus","body":"<p>I'm trying to deserialize an object using Kafka inside a Quarkus Project JDK-17. But It simply won't work. I was having the same issue when serializing the message inside the same project, but using  <code>ObjectMapper().registerModule(new JavaTimeModule());</code> solved the issue.</p>\n<p>Now that I need to consume the same object, inside the same project, It won't work. I've I already tried the following:</p>\n<pre><code>new ObjectMapper().registerModule(new JavaTimeModule());\nmapper.readValue(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>2:</p>\n<pre><code>new ObjectMapper().registerModule(new JavaTimeModule()).disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nmapper.readValue(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>3:</p>\n<pre><code>Gson gson = new GsonBuilder().create();\ngson.fromJson(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>4:</p>\n<pre><code>gsonBuilder.registerTypeAdapter(LocalDateTime.class, new CustomLocalDateTimeDeserializer());\nGson gson = gsonBuilder.setPrettyPrinting().create();\ngson.fromJson(data, BudgetToMarinaOrderDTO.class);\n</code></pre>\n<p>These are the related dependencies that I'm using:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-smallrye-reactive-messaging-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Each one of those gives me a different Error, but they all talk about the same thing...\nHere's one of these errors:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.time.LocalDateTime` from Object value (\n</code></pre>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"score":11,"creation_date":1255983167,"post_id":1590831,"comment_id":1454271,"body_markdown":"I&#39;m curious as to why you would have to do this. If you have a `long`, why can&#39;t you just work with a `long`? That way, you&#39;ll never have to worry about this.","body":"I&#39;m curious as to why you would have to do this. If you have a <code>long</code>, why can&#39;t you just work with a <code>long</code>? That way, you&#39;ll never have to worry about this."},{"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"score":36,"creation_date":1255983669,"post_id":1590831,"comment_id":1454311,"body_markdown":"Two code paths. One is legacy and needs ints. That legacy data SHOULD all fit in an int, but I want to throw an exception if that assumption is violated.\n\nThe other code path will use longs and won&#39;t need the cast.","body":"Two code paths. One is legacy and needs ints. That legacy data SHOULD all fit in an int, but I want to throw an exception if that assumption is violated.  The other code path will use longs and won&#39;t need the cast."},{"owner":{"account_id":180120,"reputation":438,"user_id":413233,"display_name":"skot"},"score":15,"creation_date":1360537554,"post_id":1590831,"comment_id":20733794,"body_markdown":"There are lots of things you can&#39;t do with longs eg index an array.","body":"There are lots of things you can&#39;t do with longs eg index an array."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":8,"creation_date":1409558569,"post_id":1590831,"comment_id":39991020,"body_markdown":"@TommyHerbert, How on earth is safe converting of longs to ints a code smell?","body":"@TommyHerbert, How on earth is safe converting of longs to ints a code smell?"},{"owner":{"account_id":1032845,"reputation":3336,"user_id":2698167,"accept_rate":33,"display_name":"Tuntable"},"score":0,"creation_date":1596186289,"post_id":1590831,"comment_id":111737572,"body_markdown":"Generally avoid assuming how a broken cast would work.  Certainly C compilers can do weird things.  Better to test against max int and min int, or to mask off the bottom 32 bits.  Not checking for integer overflow is an idiocy Java inherited from C.  It costs nothing using hardware traps.  More sophisticated languages like Visual Basic do check by default, and that has saved me on a few occasions.","body":"Generally avoid assuming how a broken cast would work.  Certainly C compilers can do weird things.  Better to test against max int and min int, or to mask off the bottom 32 bits.  Not checking for integer overflow is an idiocy Java inherited from C.  It costs nothing using hardware traps.  More sophisticated languages like Visual Basic do check by default, and that has saved me on a few occasions."}],"answers":[{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":7,"creation_date":1255983879,"post_id":1590842,"comment_id":1454325,"body_markdown":"I&#39;d always do the range check as `(!(Integer.MIN_VALUE &lt;= l &amp;&amp; l &lt;= Integer.MAX_VALUE))`. I find it difficult to get my head around other ways of doing it. Pity Java does not have `unless`.","body":"I&#39;d always do the range check as <code>(!(Integer.MIN_VALUE &lt;= l &amp;&amp; l &lt;= Integer.MAX_VALUE))</code>. I find it difficult to get my head around other ways of doing it. Pity Java does not have <code>unless</code>."},{"owner":{"account_id":5807,"reputation":392471,"user_id":9530,"accept_rate":78,"display_name":"Adam Rosenfield"},"score":5,"creation_date":1255983887,"post_id":1590842,"comment_id":1454326,"body_markdown":"+1.  This falls exactly under the &quot;exceptions should be used for *exceptional* conditions&quot; rule.","body":"+1.  This falls exactly under the &quot;exceptions should be used for <i>exceptional</i> conditions&quot; rule."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":4,"creation_date":1255984075,"post_id":1590842,"comment_id":1454342,"body_markdown":"(In a modern general-purpose language it would be: &quot;Eh? But ints have arbitrary size?&quot;)","body":"(In a modern general-purpose language it would be: &quot;Eh? But ints have arbitrary size?&quot;)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1255985779,"post_id":1590842,"comment_id":1454515,"body_markdown":"@Tom: Personal preference, I guess - I prefer to have as few negatives as possible. If I&#39;m looking at an &quot;if&quot; with a body which throws an exception, I&#39;d like to see conditions that make it look exceptional - like the value being &quot;off the bottom end&quot; of `int`.","body":"@Tom: Personal preference, I guess - I prefer to have as few negatives as possible. If I&#39;m looking at an &quot;if&quot; with a body which throws an exception, I&#39;d like to see conditions that make it look exceptional - like the value being &quot;off the bottom end&quot; of <code>int</code>."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1256002730,"post_id":1590842,"comment_id":1455637,"body_markdown":"I look at it from a whitelist sort of view point. These are the values that *I am* interested in. The language design forces the negative.","body":"I look at it from a whitelist sort of view point. These are the values that <i>I am</i> interested in. The language design forces the negative."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1256016008,"post_id":1590842,"comment_id":1456342,"body_markdown":"@Tom: In that case I&#39;d remove the negative, put the cast/return inside the &quot;if&quot; body, and then throw an exception afterwards, if you see what I mean.","body":"@Tom: In that case I&#39;d remove the negative, put the cast/return inside the &quot;if&quot; body, and then throw an exception afterwards, if you see what I mean."},{"owner":{"account_id":1680813,"reputation":687,"user_id":1545084,"accept_rate":83,"display_name":"Gladclef"},"score":0,"creation_date":1492019108,"post_id":1590842,"comment_id":73814749,"body_markdown":"I suggest using ArithmeticException instead, to match the interface of the Java8 Math.toIntExact(...).","body":"I suggest using ArithmeticException instead, to match the interface of the Java8 Math.toIntExact(...)."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":3,"up_vote_count":307,"is_accepted":false,"score":304,"last_activity_date":1310405057,"creation_date":1255983242,"answer_id":1590842,"question_id":1590831,"body_markdown":"I think I&#39;d do it as simply as:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        if (l &lt; Integer.MIN_VALUE || l &gt; Integer.MAX_VALUE) {\r\n            throw new IllegalArgumentException\r\n                (l + &quot; cannot be cast to int without changing its value.&quot;);\r\n        }\r\n        return (int) l;\r\n    }\r\n\r\nI think that expresses the intent more clearly than the repeated casting... but it&#39;s somewhat subjective.\r\n\r\nNote of potential interest - in C# it would just be:\r\n\r\n    return checked ((int) l);","title":"Safely casting long to int in Java","body":"<p>I think I'd do it as simply as:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    if (l &lt; Integer.MIN_VALUE || l &gt; Integer.MAX_VALUE) {\n        throw new IllegalArgumentException\n            (l + \" cannot be cast to int without changing its value.\");\n    }\n    return (int) l;\n}\n</code></pre>\n\n<p>I think that expresses the intent more clearly than the repeated casting... but it's somewhat subjective.</p>\n\n<p>Note of potential interest - in C# it would just be:</p>\n\n<pre><code>return checked ((int) l);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1255983877,"post_id":1590872,"comment_id":1454324,"body_markdown":"I don&#39;t see what signedness has to do with it. Could you give an example which *doesn&#39;t* lose information but *does* fail the test? 2^31 would be cast to Integer.MIN_VALUE (i.e. -2^31) so information has been lost.","body":"I don&#39;t see what signedness has to do with it. Could you give an example which <i>doesn&#39;t</i> lose information but <i>does</i> fail the test? 2^31 would be cast to Integer.MIN_VALUE (i.e. -2^31) so information has been lost."},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1255985266,"post_id":1590872,"comment_id":1454459,"body_markdown":"@Jon Skeet:  Maybe me and the OP are talking past each other. `(int) 0xFFFFFFFF` and `(long) 0xFFFFFFFFL` have different values, but they both contain the same &quot;information&quot;, and it is almost trivial to extract the original long value from the int.","body":"@Jon Skeet:  Maybe me and the OP are talking past each other. <code>(int) 0xFFFFFFFF</code> and <code>(long) 0xFFFFFFFFL</code> have different values, but they both contain the same &quot;information&quot;, and it is almost trivial to extract the original long value from the int."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1255985705,"post_id":1590872,"comment_id":1454510,"body_markdown":"How can you extract the original long value from the int, when the long could have been -1 to start with, instead of 0xFFFFFFFF?","body":"How can you extract the original long value from the int, when the long could have been -1 to start with, instead of 0xFFFFFFFF?"},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1255987321,"post_id":1590872,"comment_id":1454669,"body_markdown":"Sorry if I&quot;m not clear. I&#39;m saying that if the long and the int both contain the same 32 bits of information, and if the 32nd bit is set, then the int value is different from the long value, but that it is easy to get the long value.","body":"Sorry if I&quot;m not clear. I&#39;m saying that if the long and the int both contain the same 32 bits of information, and if the 32nd bit is set, then the int value is different from the long value, but that it is easy to get the long value."},{"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"score":0,"creation_date":1360974835,"post_id":1590872,"comment_id":20908550,"body_markdown":"@mob what is this in reference to? OP&#39;s code correctly reports that long values &gt; 2^{31} cannot be casted to ints","body":"@mob what is this in reference to? OP&#39;s code correctly reports that long values &gt; 2^{31} cannot be casted to ints"},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":0,"creation_date":1360975343,"post_id":1590872,"comment_id":20908645,"body_markdown":"In Java, any primitive type can be cast to int.","body":"In Java, any primitive type can be cast to int."}],"tags":[],"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"comment_count":6,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1255984781,"creation_date":1255983541,"answer_id":1590872,"question_id":1590831,"body_markdown":"Java integer types are represented as signed. With an input between 2&lt;SUP&gt;31&lt;/SUP&gt; and 2&lt;SUP&gt;32&lt;/SUP&gt; (or -2&lt;SUP&gt;31&lt;/SUP&gt; and -2&lt;SUP&gt;32&lt;/SUP&gt;) the cast would succeed but your test would fail. \r\n\r\nWhat to check for is whether all of the high bits of the `long` are all the same:\r\n\r\n    public static final long LONG_HIGH_BITS = 0xFFFFFFFF80000000L;\r\n    public static int safeLongToInt(long l) {\r\n        if ((l &amp; LONG_HIGH_BITS) == 0 || (l &amp; LONG_HIGH_BITS) == LONG_HIGH_BITS) {\r\n            return (int) l;\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;...&quot;);\r\n        }\r\n    }","title":"Safely casting long to int in Java","body":"<p>Java integer types are represented as signed. With an input between 2<SUP>31</SUP> and 2<SUP>32</SUP> (or -2<SUP>31</SUP> and -2<SUP>32</SUP>) the cast would succeed but your test would fail. </p>\n\n<p>What to check for is whether all of the high bits of the <code>long</code> are all the same:</p>\n\n<pre><code>public static final long LONG_HIGH_BITS = 0xFFFFFFFF80000000L;\npublic static int safeLongToInt(long l) {\n    if ((l &amp; LONG_HIGH_BITS) == 0 || (l &amp; LONG_HIGH_BITS) == LONG_HIGH_BITS) {\n        return (int) l;\n    } else {\n        throw new IllegalArgumentException(\"...\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"score":1,"creation_date":1418986108,"post_id":1590914,"comment_id":43554132,"body_markdown":"This is what recent versions of Google Guava Ints::checkedCast do.","body":"This is what recent versions of Google Guava Ints::checkedCast do."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1255983757,"creation_date":1255983757,"answer_id":1590914,"question_id":1590831,"body_markdown":"I claim that the obvious way to see whether casting a value changed the value would be to cast and check the result. I would, however, remove the unnecessary cast when comparing. I&#39;m also not too keen on one letter variable names (exception `x` and `y`, but not when they mean row and column (sometimes respectively)).\r\n\r\n    public static int intValue(long value) {\r\n        int valueInt = (int)value;\r\n        if (valueInt != value) {\r\n            throw new IllegalArgumentException(\r\n                &quot;The long value &quot;+value+&quot; is not within range of the int type&quot;\r\n            );\r\n        }\r\n        return valueInt;\r\n    }\r\n\r\nHowever, really I would want to avoid this conversion if at all possible. Obviously sometimes it&#39;s not possible, but in those cases `IllegalArgumentException` is almost certainly the wrong exception to be throwing as far as client code is concerned.","title":"Safely casting long to int in Java","body":"<p>I claim that the obvious way to see whether casting a value changed the value would be to cast and check the result. I would, however, remove the unnecessary cast when comparing. I'm also not too keen on one letter variable names (exception <code>x</code> and <code>y</code>, but not when they mean row and column (sometimes respectively)).</p>\n\n<pre><code>public static int intValue(long value) {\n    int valueInt = (int)value;\n    if (valueInt != value) {\n        throw new IllegalArgumentException(\n            \"The long value \"+value+\" is not within range of the int type\"\n        );\n    }\n    return valueInt;\n}\n</code></pre>\n\n<p>However, really I would want to avoid this conversion if at all possible. Obviously sometimes it's not possible, but in those cases <code>IllegalArgumentException</code> is almost certainly the wrong exception to be throwing as far as client code is concerned.</p>\n"},{"comments":[{"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"score":3,"creation_date":1360974701,"post_id":7390554,"comment_id":20908521,"body_markdown":"Guava&#39;s `Ints.checkedCast` does exactly what OP does, incidentally","body":"Guava&#39;s <code>Ints.checkedCast</code> does exactly what OP does, incidentally"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":15,"creation_date":1381175161,"post_id":7390554,"comment_id":28467441,"body_markdown":"+1 for Guava solution, though no real need to wrap it in another method, just call `Ints.checkedCast(l)` directly.","body":"+1 for Guava solution, though no real need to wrap it in another method, just call <code>Ints.checkedCast(l)</code> directly."},{"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"score":8,"creation_date":1404149891,"post_id":7390554,"comment_id":37920647,"body_markdown":"Guava also has `Ints.saturatedCast` which will return the nearest value instead of throwing an exception.","body":"Guava also has <code>Ints.saturatedCast</code> which will return the nearest value instead of throwing an exception."},{"owner":{"account_id":477556,"reputation":2253,"user_id":889126,"accept_rate":80,"display_name":"Osify"},"score":0,"creation_date":1434513345,"post_id":7390554,"comment_id":49804802,"body_markdown":"Yes, it&#39;s safe to use existing api as my case, the library already in the project: to throw exception if invalid: Ints.checkedCast(long) and Ints.saturatedCast(long) to get the nearest for converting long to int.","body":"Yes, it&#39;s safe to use existing api as my case, the library already in the project: to throw exception if invalid: Ints.checkedCast(long) and Ints.saturatedCast(long) to get the nearest for converting long to int."}],"tags":[],"owner":{"account_id":214107,"reputation":4672,"user_id":467874,"accept_rate":92,"display_name":"brabec"},"comment_count":4,"down_vote_count":1,"up_vote_count":137,"is_accepted":false,"score":136,"last_activity_date":1504013753,"creation_date":1315842568,"answer_id":7390554,"question_id":1590831,"body_markdown":"With Google Guava&#39;s [Ints][1] class, your method can be changed to:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        return Ints.checkedCast(l);\r\n    }\r\n\r\nFrom the linked docs:\r\n\r\n&gt; checkedCast\r\n&gt; ---\r\n&gt; `public static int checkedCast(long value)`\r\n\r\n&gt; Returns the int value that is equal to `value`, if possible.\r\n\r\n&gt; **Parameters:**\r\n&gt; `value` - any value in the range of the `int` type\r\n\r\n&gt; **Returns:**\r\n&gt; the `int` value that equals `value`\r\n\r\n&gt; **Throws:**\r\n&gt; `IllegalArgumentException` - if `value` is greater than `Integer.MAX_VALUE` or less than `Integer.MIN_VALUE`\r\n\r\nIncidentally, you don&#39;t need the `safeLongToInt` wrapper, unless you want to leave it in place for changing out the functionality without extensive refactoring of course.\r\n\r\n  [1]: http://google.github.io/guava/releases/23.0/api/docs/com/google/common/primitives/Ints.html#checkedCast-long-","title":"Safely casting long to int in Java","body":"<p>With Google Guava's <a href=\"http://google.github.io/guava/releases/23.0/api/docs/com/google/common/primitives/Ints.html#checkedCast-long-\" rel=\"noreferrer\">Ints</a> class, your method can be changed to:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    return Ints.checkedCast(l);\n}\n</code></pre>\n\n<p>From the linked docs:</p>\n\n<blockquote>\n  <h2>checkedCast</h2>\n  \n  <p><code>public static int checkedCast(long value)</code></p>\n  \n  <p>Returns the int value that is equal to <code>value</code>, if possible.</p>\n  \n  <p><strong>Parameters:</strong>\n  <code>value</code> - any value in the range of the <code>int</code> type</p>\n  \n  <p><strong>Returns:</strong>\n  the <code>int</code> value that equals <code>value</code></p>\n  \n  <p><strong>Throws:</strong>\n  <code>IllegalArgumentException</code> - if <code>value</code> is greater than <code>Integer.MAX_VALUE</code> or less than <code>Integer.MIN_VALUE</code></p>\n</blockquote>\n\n<p>Incidentally, you don't need the <code>safeLongToInt</code> wrapper, unless you want to leave it in place for changing out the functionality without extensive refactoring of course.</p>\n"},{"comments":[{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":0,"creation_date":1381412009,"post_id":8710093,"comment_id":28575979,"body_markdown":"You will get a NumberFormatException on &quot;real long&quot; values:\n    `Integer.valueOf(Long.MAX_VALUE.toString());`\n    results in `java.lang.NumberFormatException: For input string: &quot;9223372036854775807&quot;`\n that pretty much obfuscates the Out-Of-Range-Exception because it is now treated in the same way a string containing letters is treated.","body":"You will get a NumberFormatException on &quot;real long&quot; values:     <code>Integer.valueOf(Long.MAX_VALUE.toString());</code>     results in <code>java.lang.NumberFormatException: For input string: &quot;9223372036854775807&quot;</code>  that pretty much obfuscates the Out-Of-Range-Exception because it is now treated in the same way a string containing letters is treated."},{"owner":{"account_id":1168998,"reputation":10625,"user_id":1146608,"accept_rate":88,"display_name":"Patrick M"},"score":2,"creation_date":1427909219,"post_id":8710093,"comment_id":46970232,"body_markdown":"It also doesn&#39;t compile because you don&#39;t always return a value.","body":"It also doesn&#39;t compile because you don&#39;t always return a value."}],"tags":[],"owner":{"account_id":425849,"reputation":495,"user_id":806721,"accept_rate":20,"display_name":"Rajat Anantharam"},"comment_count":2,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1325582567,"creation_date":1325582567,"answer_id":8710093,"question_id":1590831,"body_markdown":"One other solution can be: \r\n\r\n\r\n    public int longToInt(Long longVariable)\r\n    {\r\n        try { \r\n                return Integer.valueOf(longVariable.toString()); \r\n            } catch(IllegalArgumentException e) { \r\n                   Log.e(e.printstackstrace()); \r\n            }\r\n    }\r\n\r\n\r\nI have tried this for cases where the client is doing a POST and the server DB understands only Integers while the client has a Long. \r\n","title":"Safely casting long to int in Java","body":"<p>One other solution can be: </p>\n\n<pre><code>public int longToInt(Long longVariable)\n{\n    try { \n            return Integer.valueOf(longVariable.toString()); \n        } catch(IllegalArgumentException e) { \n               Log.e(e.printstackstrace()); \n        }\n}\n</code></pre>\n\n<p>I have tried this for cases where the client is doing a POST and the server DB understands only Integers while the client has a Long. </p>\n"},{"comments":[{"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"score":0,"creation_date":1380026370,"post_id":10323852,"comment_id":28037939,"body_markdown":"seems, you are wrong ... it will be working nice then negative. also, what does mean `too low` ? please, provide use-case.","body":"seems, you are wrong ... it will be working nice then negative. also, what does mean <code>too low</code> ? please, provide use-case."},{"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"score":0,"creation_date":1380026523,"post_id":10323852,"comment_id":28038025,"body_markdown":"this solution is the fast one and safe one, then we are talking to cast Long to Int to obey result.","body":"this solution is the fast one and safe one, then we are talking to cast Long to Int to obey result."}],"tags":[],"owner":{"account_id":1435828,"reputation":288,"user_id":1357233,"display_name":"Vitaliy Kulikov"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1344634433,"creation_date":1335388208,"answer_id":10323852,"question_id":1590831,"body_markdown":"here is a solution, in case you don&#39;t care about value in case it is bigger then needed ;)\r\n\r\n    public static int safeLongToInt(long l) {\r\n        return (int) Math.max(Math.min(Integer.MAX_VALUE, l), Integer.MIN_VALUE);\r\n    }","title":"Safely casting long to int in Java","body":"<p>here is a solution, in case you don't care about value in case it is bigger then needed ;)</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    return (int) Math.max(Math.min(Integer.MAX_VALUE, l), Integer.MIN_VALUE);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1243932,"reputation":2419,"user_id":1210278,"accept_rate":64,"display_name":"Riking"},"score":13,"creation_date":1398284889,"post_id":14687705,"comment_id":35584609,"body_markdown":"Well, it&#39;s allocating and throwing away a BigDecimal just to get at what should be a utility method, so yeah, that&#39;s not the best process.","body":"Well, it&#39;s allocating and throwing away a BigDecimal just to get at what should be a utility method, so yeah, that&#39;s not the best process."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1541599732,"post_id":14687705,"comment_id":93270960,"body_markdown":"@Riking in that regard, it’s better to use `BigDecimal.valueOf(aLong)`, instead of `new BigDecimal(aLong)`, to denote that a new instance is not required. Whether the execution environment does caching at that method, is implementation specific, just like the possible presence of Escape Analysis. In most real life cases, this has no impact on the performance.","body":"@Riking in that regard, it’s better to use <code>BigDecimal.valueOf(aLong)</code>, instead of <code>new BigDecimal(aLong)</code>, to denote that a new instance is not required. Whether the execution environment does caching at that method, is implementation specific, just like the possible presence of Escape Analysis. In most real life cases, this has no impact on the performance."}],"tags":[],"owner":{"account_id":872974,"reputation":491,"user_id":1598586,"display_name":"Jaime Saiz"},"comment_count":2,"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1359984215,"creation_date":1359984215,"answer_id":14687705,"question_id":1590831,"body_markdown":"With BigDecimal:\r\n\r\n    long aLong = ...;\r\n    int anInt = new BigDecimal(aLong).intValueExact(); // throws ArithmeticException\r\n                                                       // if outside bounds","title":"Safely casting long to int in Java","body":"<p>With BigDecimal:</p>\n\n<pre><code>long aLong = ...;\nint anInt = new BigDecimal(aLong).intValueExact(); // throws ArithmeticException\n                                                   // if outside bounds\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44179,"reputation":1963,"user_id":129501,"accept_rate":83,"display_name":"sixones"},"score":1,"creation_date":1475242877,"post_id":16957114,"comment_id":66878730,"body_markdown":"The `+ 0` adds nothing to this conversion, it might work if Java treated numeric type concatenation in a similar way to strings, but since it doesn&#39;t your doing an add operation for no reason.","body":"The <code>+ 0</code> adds nothing to this conversion, it might work if Java treated numeric type concatenation in a similar way to strings, but since it doesn&#39;t your doing an add operation for no reason."}],"tags":[],"owner":{"account_id":2140534,"reputation":604,"user_id":1899285,"accept_rate":23,"display_name":"Maury"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1370507018,"creation_date":1370507018,"answer_id":16957114,"question_id":1590831,"body_markdown":"    (int) (longType + 0)\r\n\r\nbut Long can not exceed the maximum :)","title":"Safely casting long to int in Java","body":"<pre><code>(int) (longType + 0)\n</code></pre>\n\n<p>but Long can not exceed the maximum :)</p>\n"},{"comments":[{"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"score":4,"creation_date":1379551978,"post_id":18614858,"comment_id":27872849,"body_markdown":"Your attempt to help is appreciated, but giving an example of something that doesn&#39;t work isn&#39;t quite the same as providing a solution that does work. If you would edit to add a correct way, this could be pretty good; otherwise, it&#39;s not really suitable to be posted as an answer.","body":"Your attempt to help is appreciated, but giving an example of something that doesn&#39;t work isn&#39;t quite the same as providing a solution that does work. If you would edit to add a correct way, this could be pretty good; otherwise, it&#39;s not really suitable to be posted as an answer."},{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":4,"creation_date":1379587805,"post_id":18614858,"comment_id":27885499,"body_markdown":"Okay, why not having both DOs and DONTs? Tbh, sometimes I wish I had a list of how to not do things (DONTs) to check whether I used such a pattern/code. Anyway, I can delete this &quot;answer&quot;.","body":"Okay, why not having both DOs and DONTs? Tbh, sometimes I wish I had a list of how to not do things (DONTs) to check whether I used such a pattern/code. Anyway, I can delete this &quot;answer&quot;."},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":1,"creation_date":1380695271,"post_id":18614858,"comment_id":28292537,"body_markdown":"Good anti-pattern. Anyway it would have been great if you explained what happens if the long value is out-of-range for int? I guess there will be a ClassCastException or something like this?","body":"Good anti-pattern. Anyway it would have been great if you explained what happens if the long value is out-of-range for int? I guess there will be a ClassCastException or something like this?"},{"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"score":2,"creation_date":1380712920,"post_id":18614858,"comment_id":28300030,"body_markdown":"@PeterWippermann: I have added some more info. Do you consider them understandable resp. explanatory enough?","body":"@PeterWippermann: I have added some more info. Do you consider them understandable resp. explanatory enough?"}],"tags":[],"owner":{"account_id":154897,"reputation":3959,"user_id":371169,"display_name":"Andreas"},"comment_count":4,"down_vote_count":4,"up_vote_count":15,"is_accepted":false,"score":11,"last_activity_date":1380712875,"creation_date":1378300386,"answer_id":18614858,"question_id":1590831,"body_markdown":"**DONT: This is not a solution!**\r\n\r\nMy first approach was:\r\n\r\n    public int longToInt(long theLongOne) {\r\n      return Long.valueOf(theLongOne).intValue();\r\n    }\r\n\r\nBut that merely just casts the long to an int, potentially creating new `Long` instances or retrieving them from the Long pool.\r\n\r\n---\r\n\r\nThe drawbacks\r\n\r\n1. `Long.valueOf` creates a new `Long` instance if the number is not within `Long`&#39;s pool range [-128, 127].\r\n\r\n2. The `intValue` implementation does nothing more than:\r\n\r\n        return (int)value;\r\n\r\nSo this can be considered even worse than just casting the `long` to `int`.\r\n","title":"Safely casting long to int in Java","body":"<p><strong>DONT: This is not a solution!</strong></p>\n\n<p>My first approach was:</p>\n\n<pre><code>public int longToInt(long theLongOne) {\n  return Long.valueOf(theLongOne).intValue();\n}\n</code></pre>\n\n<p>But that merely just casts the long to an int, potentially creating new <code>Long</code> instances or retrieving them from the Long pool.</p>\n\n<hr>\n\n<p>The drawbacks</p>\n\n<ol>\n<li><p><code>Long.valueOf</code> creates a new <code>Long</code> instance if the number is not within <code>Long</code>'s pool range [-128, 127].</p></li>\n<li><p>The <code>intValue</code> implementation does nothing more than:</p>\n\n<pre><code>return (int)value;\n</code></pre></li>\n</ol>\n\n<p>So this can be considered even worse than just casting the <code>long</code> to <code>int</code>.</p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":7,"creation_date":1509097391,"post_id":32869210,"comment_id":80891480,"body_markdown":"We also have `addExact` and `multiplyExact`. Of note is that division (`MIN_VALUE/-1`) and absolute value (`abs(MIN_VALUE)`) do not have safe convenience methods.","body":"We also have <code>addExact</code> and <code>multiplyExact</code>. Of note is that division (<code>MIN_VALUE&#47;-1</code>) and absolute value (<code>abs(MIN_VALUE)</code>) do not have safe convenience methods."},{"owner":{"account_id":5630551,"reputation":1846,"user_id":4457630,"display_name":"Yamashiro Rion"},"score":0,"creation_date":1556878518,"post_id":32869210,"comment_id":98586244,"body_markdown":"But what&#39;s a difference of using `Math.toIntExact()` instead of usual cast to `int`? The implementation of `Math.toIntExact()` just casts `long` to `int`.","body":"But what&#39;s a difference of using <code>Math.toIntExact()</code> instead of usual cast to <code>int</code>? The implementation of <code>Math.toIntExact()</code> just casts <code>long</code> to <code>int</code>."},{"owner":{"account_id":1189453,"reputation":7989,"user_id":1162647,"accept_rate":69,"display_name":"Pierre-Antoine"},"score":3,"creation_date":1556885713,"post_id":32869210,"comment_id":98589819,"body_markdown":"@YamashiroRion Actually the implementation of toIntExact first checks whether the cast would lead to an overflow, in which case it throws an ArithmeticException. Only if the cast is safe it then performs cast from long to int which it returns.\nIn other words, if you try to cast a long number that cannot be represented as int (eg any number strictly above 2 147 483 647) it will throw an ArithmeticException. If you do the same with a simple cast, your resulting int value will be wrong.","body":"@YamashiroRion Actually the implementation of toIntExact first checks whether the cast would lead to an overflow, in which case it throws an ArithmeticException. Only if the cast is safe it then performs cast from long to int which it returns. In other words, if you try to cast a long number that cannot be represented as int (eg any number strictly above 2 147 483 647) it will throw an ArithmeticException. If you do the same with a simple cast, your resulting int value will be wrong."}],"tags":[],"owner":{"account_id":1189453,"reputation":7989,"user_id":1162647,"accept_rate":69,"display_name":"Pierre-Antoine"},"comment_count":3,"down_vote_count":2,"up_vote_count":653,"is_accepted":true,"score":651,"last_activity_date":1671308807,"creation_date":1443624622,"answer_id":32869210,"question_id":1590831,"body_markdown":"A method was added in **Java 8**:\r\n\r\n    import static java.lang.Math.toIntExact;\r\n\r\n    long foo = 10L;\r\n    int bar = toIntExact(foo);\r\n\r\nWill throw an `ArithmeticException` in case of overflow. \r\n\r\nSee: [`Math.toIntExact(long)`][1] \r\n\r\nSeveral other overflow safe methods have been added to Java 8. They end with *exact*. \r\n\r\nExamples: \r\n\r\n - `Math.incrementExact(long)`\r\n - `Math.subtractExact(long, long)`\r\n - `Math.decrementExact(long)`\r\n - `Math.negateExact(long),`\r\n - `Math.subtractExact(int, int)`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-","title":"Safely casting long to int in Java","body":"<p>A method was added in <strong>Java 8</strong>:</p>\n<pre><code>import static java.lang.Math.toIntExact;\n\nlong foo = 10L;\nint bar = toIntExact(foo);\n</code></pre>\n<p>Will throw an <code>ArithmeticException</code> in case of overflow.</p>\n<p>See: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-\" rel=\"noreferrer\"><code>Math.toIntExact(long)</code></a></p>\n<p>Several other overflow safe methods have been added to Java 8. They end with <em>exact</em>.</p>\n<p>Examples:</p>\n<ul>\n<li><code>Math.incrementExact(long)</code></li>\n<li><code>Math.subtractExact(long, long)</code></li>\n<li><code>Math.decrementExact(long)</code></li>\n<li><code>Math.negateExact(long),</code></li>\n<li><code>Math.subtractExact(int, int)</code></li>\n</ul>\n"}],"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624138,"favorite_count":0,"down_vote_count":0,"up_vote_count":545,"accepted_answer_id":32869210,"answer_count":10,"score":545,"last_activity_date":1671308807,"creation_date":1255983051,"question_id":1590831,"body_markdown":"What&#39;s the most idiomatic way in Java to verify that a cast from `long` to `int` does not lose any information?\r\n\r\nThis is my current implementation:\r\n\r\n    public static int safeLongToInt(long l) {\r\n        int i = (int)l;\r\n        if ((long)i != l) {\r\n            throw new IllegalArgumentException(l + &quot; cannot be cast to int without changing its value.&quot;);\r\n        }\r\n        return i;\r\n    }","title":"Safely casting long to int in Java","body":"<p>What's the most idiomatic way in Java to verify that a cast from <code>long</code> to <code>int</code> does not lose any information?</p>\n\n<p>This is my current implementation:</p>\n\n<pre><code>public static int safeLongToInt(long l) {\n    int i = (int)l;\n    if ((long)i != l) {\n        throw new IllegalArgumentException(l + \" cannot be cast to int without changing its value.\");\n    }\n    return i;\n}\n</code></pre>\n"},{"tags":["java","mongodb","lambda"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1514299213,"post_id":47979978,"comment_id":82928607,"body_markdown":"What&#39;s unclear in the error message? You can iterate on it. The problem is that there are two different ways (i.e. two different forEach() methods), and the compiler can&#39;t figure out the way you want.","body":"What&#39;s unclear in the error message? You can iterate on it. The problem is that there are two different ways (i.e. two different forEach() methods), and the compiler can&#39;t figure out the way you want."}],"answers":[{"comments":[{"owner":{"account_id":11578983,"reputation":131,"user_id":8483472,"display_name":"Sayed Sadat"},"score":0,"creation_date":1671308470,"post_id":47980036,"comment_id":132073301,"body_markdown":"For me, casting to (Consumer&lt;? super String&gt;) worked instead of (Consumer&lt;String&gt;). Can you explain why?","body":"For me, casting to (Consumer&lt;? super String&gt;) worked instead of (Consumer&lt;String&gt;). Can you explain why?"}],"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1514300792,"creation_date":1514299082,"answer_id":47980036,"question_id":47979978,"body_markdown":"You can help the compiler resolve the ambiguity by casting to `Consumer&lt;String&gt;`\r\n\r\n\r\n    mongoClient.listDatabaseNames()\r\n               .forEach((Consumer&lt;String&gt;) System.out::println);\r\n\r\n","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>You can help the compiler resolve the ambiguity by casting to <code>Consumer&lt;String&gt;</code></p>\n\n<pre><code>mongoClient.listDatabaseNames()\n           .forEach((Consumer&lt;String&gt;) System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":1,"creation_date":1514299677,"post_id":47980071,"comment_id":82928783,"body_markdown":"downvoter, please justify your reasoning behind your decision of downvoting. If you consider my answer is not correct, help me out correct my answer if you know better","body":"downvoter, please justify your reasoning behind your decision of downvoting. If you consider my answer is not correct, help me out correct my answer if you know better"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1514299882,"post_id":47980071,"comment_id":82928856,"body_markdown":"1. you can use a forEach, and don&#39;t need to use a for loop to fix the issue. 2. the forEach() provided by MongoIterable is Java 8 lambda compliant, since it&#39;s a functional interface. If it were not, the compiler would precisely not generate this error message. The fact that it gives this error message shows that System.out::println can be inferred as a Block.","body":"1. you can use a forEach, and don&#39;t need to use a for loop to fix the issue. 2. the forEach() provided by MongoIterable is Java 8 lambda compliant, since it&#39;s a functional interface. If it were not, the compiler would precisely not generate this error message. The fact that it gives this error message shows that System.out::println can be inferred as a Block."},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1514300198,"post_id":47980071,"comment_id":82928984,"body_markdown":"appreciate your reply. thanks. will update my answer","body":"appreciate your reply. thanks. will update my answer"},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1514300437,"post_id":47980071,"comment_id":82929076,"body_markdown":"@JBNizet, let me know if this seems better or needs adjustments","body":"@JBNizet, let me know if this seems better or needs adjustments"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1514300583,"post_id":47980071,"comment_id":82929121,"body_markdown":"It&#39;s OK now. Although I would just use Consumer&lt;String&gt;.","body":"It&#39;s OK now. Although I would just use Consumer&lt;String&gt;."},{"owner":{"account_id":1295105,"reputation":1763,"user_id":1246369,"accept_rate":50,"display_name":"Asu"},"score":0,"creation_date":1587681333,"post_id":47980071,"comment_id":108614855,"body_markdown":"The linked issue is now &#39;closed&#39; by deprecating the Block version. However, the compiler is still complaining, so that&#39;s a shoddy way to close an issue...","body":"The linked issue is now &#39;closed&#39; by deprecating the Block version. However, the compiler is still complaining, so that&#39;s a shoddy way to close an issue..."}],"tags":[],"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514300701,"creation_date":1514299274,"answer_id":47980071,"question_id":47979978,"body_markdown":"`listDatabaseNames()` exposes to different `forEach` methods. One can receive as argument `Block&lt;? super String&gt; block` and the second one receive `Consumer&lt;? super String&gt; consumer`.\r\nIn order to avoid this ambiguity you will need to cast it to your needs.\r\n\r\n      mongoClient1.listDatabaseNames()\r\n                  .forEach((Block&lt;String&gt;) System.out::println);\r\n\r\n\r\nThere is also an open issue about this [here][1]\r\n\r\n\r\n  [1]: https://jira.mongodb.org/browse/JAVA-2010\r\n\r\n","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p><code>listDatabaseNames()</code> exposes to different <code>forEach</code> methods. One can receive as argument <code>Block&lt;? super String&gt; block</code> and the second one receive <code>Consumer&lt;? super String&gt; consumer</code>.\nIn order to avoid this ambiguity you will need to cast it to your needs.</p>\n\n<pre><code>  mongoClient1.listDatabaseNames()\n              .forEach((Block&lt;String&gt;) System.out::println);\n</code></pre>\n\n<p>There is also an open issue about this <a href=\"https://jira.mongodb.org/browse/JAVA-2010\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11578983,"reputation":131,"user_id":8483472,"display_name":"Sayed Sadat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671308636,"creation_date":1671308636,"answer_id":74837250,"question_id":47979978,"body_markdown":"This ambiguity can be resolved by casting to `(Consumer&lt;? super String&gt;)`\r\n\r\n    mongoClient.listDatabaseNames()\r\n           .forEach((Consumer&lt;? super String&gt;)  name -&gt; System.out.println(name));","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>This ambiguity can be resolved by casting to <code>(Consumer&lt;? super String&gt;)</code></p>\n<pre><code>mongoClient.listDatabaseNames()\n       .forEach((Consumer&lt;? super String&gt;)  name -&gt; System.out.println(name));\n</code></pre>\n"}],"owner":{"account_id":5635379,"reputation":3281,"user_id":6822876,"accept_rate":74,"display_name":"Carrein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3015,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":47980036,"answer_count":3,"score":6,"last_activity_date":1671308636,"creation_date":1514298740,"question_id":47979978,"body_markdown":"I&#39;m following this [guide][1] to try and setup a mongoDB database.\r\n\r\n    mongoClient.listDatabaseNames().forEach(System.out::println);\r\n\r\n`getDatabaseNames()` is deprecated and replaced.\r\n\r\nHowever this line gives the following error:\r\n\r\n    error: reference to forEach is ambiguous\r\n        mongoClient.listDatabaseNames().forEach(System.out::println);\r\n                                       ^\r\n      both method forEach(Consumer&lt;? super T&gt;) in Iterable and method forEach(Block&lt;? super TResult&gt;) in MongoIterable match\r\n      where T,TResult are type-variables:\r\n        T extends Object declared in interface Iterable\r\n        TResult extends Object declared in interface MongoIterable\r\n\r\nThe documentation states that listDatabaseNames() returns a `ListDatabasesIterable`, why can I not iterate through this list?\r\n\r\n  [1]: http://www.baeldung.com/java-mongodb","title":"Ambiguous reference to forEach when listing mongoDB&#39;s database in Java","body":"<p>I'm following this <a href=\"http://www.baeldung.com/java-mongodb\" rel=\"noreferrer\">guide</a> to try and setup a mongoDB database.</p>\n\n<pre><code>mongoClient.listDatabaseNames().forEach(System.out::println);\n</code></pre>\n\n<p><code>getDatabaseNames()</code> is deprecated and replaced.</p>\n\n<p>However this line gives the following error:</p>\n\n<pre><code>error: reference to forEach is ambiguous\n    mongoClient.listDatabaseNames().forEach(System.out::println);\n                                   ^\n  both method forEach(Consumer&lt;? super T&gt;) in Iterable and method forEach(Block&lt;? super TResult&gt;) in MongoIterable match\n  where T,TResult are type-variables:\n    T extends Object declared in interface Iterable\n    TResult extends Object declared in interface MongoIterable\n</code></pre>\n\n<p>The documentation states that listDatabaseNames() returns a <code>ListDatabasesIterable</code>, why can I not iterate through this list?</p>\n"},{"tags":["java","gnuplot"],"comments":[{"owner":{"account_id":9848963,"reputation":23110,"user_id":7295599,"accept_rate":60,"display_name":"theozh"},"score":0,"creation_date":1671309041,"post_id":74837144,"comment_id":132073440,"body_markdown":"What is your error and what is the question? I can&#39;t find a question mark in your question. Why are you starting 3 processes/commands instead of one? Maybe you want to do something like that: `String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output &#39;plotS.png&#39;; plot &#39;graficoS.txt&#39; u 1:2 w l, &#39;graficoI.txt&#39; u 1:3 w l, &#39;graficoR.txt&#39; u 1:4 w l&quot;};`","body":"What is your error and what is the question? I can&#39;t find a question mark in your question. Why are you starting 3 processes/commands instead of one? Maybe you want to do something like that: <code>String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output &#39;plotS.png&#39;; plot &#39;graficoS.txt&#39; u 1:2 w l, &#39;graficoI.txt&#39; u 1:3 w l, &#39;graficoR.txt&#39; u 1:4 w l&quot;};</code>"},{"owner":{"account_id":16972312,"reputation":322,"user_id":12276603,"display_name":"theChoosyBeggar"},"score":0,"creation_date":1671310517,"post_id":74837144,"comment_id":132073683,"body_markdown":"@theozh is right. I&#39;d be happy to help but All you did was write &quot;`java.lang.Runtime`&quot; and paste your code. What was the stacktrace exactly? Where was the error thrown? What are you doing? Ect... More info is needed.","body":"@theozh is right. I&#39;d be happy to help but All you did was write &quot;<code>java.lang.Runtime</code>&quot; and paste your code. What was the stacktrace exactly? Where was the error thrown? What are you doing? Ect... More info is needed."}],"owner":{"account_id":26685959,"reputation":1,"user_id":20295272,"display_name":"Gongas04"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671308310,"creation_date":1671307566,"question_id":74837144,"body_markdown":"```lang-java\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n        // Set up the gnuplot command and arguments\r\n        String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, \r\n\t\t\t\t&quot;set terminal png; set output &#39;plotS.png&#39;; plot &#39;graficoS.txt&#39; using 1:2 with lines&quot;};\r\n        String[] cmd2 = {&quot;gnuplot&quot;, &quot;-e&quot;, \r\n\t\t\t\t&quot;set terminal png; set output &#39;plotS.png&#39;; replot &#39;graficoI.txt&#39; using 1:3 with lines&quot;};\r\n        String[] cmd3 = {&quot;gnuplot&quot;, &quot;-e&quot;, \r\n\t\t\t\t&quot;set terminal png; set output &#39;plotS.png&#39;; replot &#39;graficoR.txt&#39; using 1:4 with lines&quot;};\r\n\r\n        // Start the processes\r\n        Process process = Runtime.getRuntime().exec(cmd);\r\n        process.waitFor();\r\n        Process process2 = Runtime.getRuntime().exec(cmd2);\r\n        process2.waitFor();\r\n        Process process3 = Runtime.getRuntime().exec(cmd3);\r\n        process3.waitFor();\r\n\r\n        // Read the output from the processes\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n        reader.close();\r\n}\r\n```\r\n\r\nNot showing nothing on the png file , even the gnuplot graphic. In different png files its working , but in the same it isn&#39;t.","title":"Error creating 3 different graphics in the same png file using gnuplot and java.lang.Runtime and without any Library","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException, InterruptedException {\n        // Set up the gnuplot command and arguments\n        String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, \n                &quot;set terminal png; set output 'plotS.png'; plot 'graficoS.txt' using 1:2 with lines&quot;};\n        String[] cmd2 = {&quot;gnuplot&quot;, &quot;-e&quot;, \n                &quot;set terminal png; set output 'plotS.png'; replot 'graficoI.txt' using 1:3 with lines&quot;};\n        String[] cmd3 = {&quot;gnuplot&quot;, &quot;-e&quot;, \n                &quot;set terminal png; set output 'plotS.png'; replot 'graficoR.txt' using 1:4 with lines&quot;};\n\n        // Start the processes\n        Process process = Runtime.getRuntime().exec(cmd);\n        process.waitFor();\n        Process process2 = Runtime.getRuntime().exec(cmd2);\n        process2.waitFor();\n        Process process3 = Runtime.getRuntime().exec(cmd3);\n        process3.waitFor();\n\n        // Read the output from the processes\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n        reader.close();\n}\n</code></pre>\n<p>Not showing nothing on the png file , even the gnuplot graphic. In different png files its working , but in the same it isn't.</p>\n"},{"tags":["java","android","textview","dynamic-programming"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1671306253,"post_id":74836905,"comment_id":132072865,"body_markdown":"`getApplication().getTheme()` - have you tried using activitys theme instead?","body":"<code>getApplication().getTheme()</code> - have you tried using activitys theme instead?"},{"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"score":0,"creation_date":1671306690,"post_id":74836905,"comment_id":132072962,"body_markdown":"how could i call that?","body":"how could i call that?"},{"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"score":0,"creation_date":1671307062,"post_id":74836905,"comment_id":132073026,"body_markdown":"Oh yes. I have to call it like this.getTheme() and this.obtainStyledAttributes. Thank you!","body":"Oh yes. I have to call it like this.getTheme() and this.obtainStyledAttributes. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671307716,"creation_date":1671307716,"answer_id":74837163,"question_id":74836905,"body_markdown":"I just had to change `getApplication(). to this.`\r\n\r\n    //Get the primary text color of the theme\r\n    TypedValue typedValue = new TypedValue();\r\n    Resources.Theme theme = this.getTheme();\r\n    theme.resolveAttribute(android.R.attr.textColorPrimary,typedValue,false);\r\n    TypedArray arr = this.obtainStyledAttributes(typedValue.data, new int[]{\r\n            android.R.attr.textColorPrimary});\r\n    int primaryColor = arr.getColor(0,-1);\r\n    tV1.setTextColor(primaryColor);","title":"Set Text Color to textColorPrimary in Android Studio programmatically?","body":"<p>I just had to change <code>getApplication(). to this.</code></p>\n<pre><code>//Get the primary text color of the theme\nTypedValue typedValue = new TypedValue();\nResources.Theme theme = this.getTheme();\ntheme.resolveAttribute(android.R.attr.textColorPrimary,typedValue,false);\nTypedArray arr = this.obtainStyledAttributes(typedValue.data, new int[]{\n        android.R.attr.textColorPrimary});\nint primaryColor = arr.getColor(0,-1);\ntV1.setTextColor(primaryColor);\n</code></pre>\n"}],"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671307716,"creation_date":1671305324,"question_id":74836905,"body_markdown":"I&#39;d like to change the text color of my dynamically generated TextView to android.R.attr.textColorPrimary. So if dark theme is deactivated it should be black, if activated it should be white. Like a hardcoded TextView.\r\n\r\nI tried that:\r\n\r\n    //Get the primary text color of the theme\r\n        TypedValue typedValue = new TypedValue();\r\n        Resources.Theme theme = getApplication().getTheme();\r\n        theme.resolveAttribute(android.R.attr.textColorPrimary,typedValue,false);\r\n        TypedArray arr = getApplicationContext().obtainStyledAttributes(typedValue.data, new int[]{\r\n                android.R.attr.textColorPrimary});\r\n        int primaryColor = arr.getColor(0,-1);\r\n        tV1.setTextColor(primaryColor);\r\n\r\n\r\nThe color changed to black, but it&#39;s always black and it won&#39;t change if I activate or deactivate dark theme on os.","title":"Set Text Color to textColorPrimary in Android Studio programmatically?","body":"<p>I'd like to change the text color of my dynamically generated TextView to android.R.attr.textColorPrimary. So if dark theme is deactivated it should be black, if activated it should be white. Like a hardcoded TextView.</p>\n<p>I tried that:</p>\n<pre><code>//Get the primary text color of the theme\n    TypedValue typedValue = new TypedValue();\n    Resources.Theme theme = getApplication().getTheme();\n    theme.resolveAttribute(android.R.attr.textColorPrimary,typedValue,false);\n    TypedArray arr = getApplicationContext().obtainStyledAttributes(typedValue.data, new int[]{\n            android.R.attr.textColorPrimary});\n    int primaryColor = arr.getColor(0,-1);\n    tV1.setTextColor(primaryColor);\n</code></pre>\n<p>The color changed to black, but it's always black and it won't change if I activate or deactivate dark theme on os.</p>\n"},{"tags":["java","c#","android"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1543760386,"post_id":53581109,"comment_id":94025548,"body_markdown":"Xamarin is how you use C# for Android. Why don&#39;t you want to use it? From what I can tell, though, C# and Java are very similar.","body":"Xamarin is how you use C# for Android. Why don&#39;t you want to use it? From what I can tell, though, C# and Java are very similar."},{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":2,"creation_date":1543760398,"post_id":53581109,"comment_id":94025554,"body_markdown":"Possible duplicate of [Android Studio vs Visual Studio ( Cross Platform Native Mobile App Development )](https://stackoverflow.com/questions/32474352/android-studio-vs-visual-studio-cross-platform-native-mobile-app-development)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/32474352/android-studio-vs-visual-studio-cross-platform-native-mobile-app-development\">Android Studio vs Visual Studio ( Cross Platform Native Mobile App Development )</a>"},{"owner":{"account_id":2178644,"reputation":3119,"user_id":1928691,"accept_rate":90,"display_name":"Federico Navarrete"},"score":0,"creation_date":1543760491,"post_id":53581109,"comment_id":94025575,"body_markdown":"No, C# is not officially supported by Google, you can develop in C++, Java, Kotlin and Dart.","body":"No, C# is not officially supported by Google, you can develop in C++, Java, Kotlin and Dart."},{"owner":{"account_id":7736954,"reputation":1108,"user_id":5858238,"accept_rate":88,"display_name":"nyconing"},"score":0,"creation_date":1558781406,"post_id":53581109,"comment_id":99219020,"body_markdown":"You dont know java but if you know C# they syntax is *mostly the same*.","body":"You dont know java but if you know C# they syntax is <i>mostly the same</i>."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1543760374,"creation_date":1543760374,"answer_id":53581118,"question_id":53581109,"body_markdown":"&gt; Is there a way to use c# in android studio. \r\n\r\nNo, sorry.\r\n\r\n&gt; I don&#39;t want xamarin.\r\n\r\nThen you will not be able to build in C#, AFAIK.\r\n\r\n&gt; I don&#39;t know java\r\n\r\nIf you wish to use Android Studio, you will need to learn Java and/or Kotlin.\r\n","title":"Can I use C# in Android Studio?","body":"<blockquote>\n  <p>Is there a way to use c# in android studio. </p>\n</blockquote>\n\n<p>No, sorry.</p>\n\n<blockquote>\n  <p>I don't want xamarin.</p>\n</blockquote>\n\n<p>Then you will not be able to build in C#, AFAIK.</p>\n\n<blockquote>\n  <p>I don't know java</p>\n</blockquote>\n\n<p>If you wish to use Android Studio, you will need to learn Java and/or Kotlin.</p>\n"},{"comments":[{"owner":{"account_id":2520807,"reputation":107,"user_id":2191228,"accept_rate":0,"display_name":"Richard Hammond"},"score":0,"creation_date":1665306099,"post_id":56831407,"comment_id":130665235,"body_markdown":"If you DO follow this approach (!!) then you will stuck in &#39;a maze of twisty passages all alike&#39; which is otherwise known as &#39;Xamarin&#39; and which has absolutely no future as of Nov 2022  Moreover - you will *never* achieve anything like a mobile app which can run on UWP, Android and IOS despite decades of trying  You have been warned!","body":"If you DO follow this approach (!!) then you will stuck in &#39;a maze of twisty passages all alike&#39; which is otherwise known as &#39;Xamarin&#39; and which has absolutely no future as of Nov 2022  Moreover - you will <i>never</i> achieve anything like a mobile app which can run on UWP, Android and IOS despite decades of trying  You have been warned!"}],"tags":[],"owner":{"display_name":"user11722523"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561966044,"creation_date":1561965388,"answer_id":56831407,"question_id":53581109,"body_markdown":"even tho you cannot use c# on android studio, **it is possible using [visual studio.][1]** \r\n(to develop apps for android)\r\nafter you download visual studio (if you haven&#39;t already) a window similar to [this][2] will pop up. you need to choose the option: [&quot;mobile development with .net&quot;][3]\r\nand then click download / modify. if you already have visual studio installed, go to  [create new project][4]&gt;&gt; (scroll down) click on: &quot;not finding what you are looking for?&quot; and then the modify menu will open\r\n\r\n* I know you are looking for a c# code in android studio, but because \r\n\r\n&gt; If you wish to use Android Studio, you will need to learn Java and/or Kotlin.\r\n\r\nthis is the best alternative.\r\n\r\n\r\n  [1]: https://visualstudio.microsoft.com/\r\n  [2]: https://learn.microsoft.com/en-us/visualstudio/install/media/vs-2019/vs-installer-workloads.png?view=vs-2019\r\n  [3]: https://i.stack.imgur.com/FgP7H.png\r\n  [4]: https://learn.microsoft.com/en-us/visualstudio/ide/media/vs-2019/start-window-create-new-project.png?view=vs-2019","title":"Can I use C# in Android Studio?","body":"<p>even tho you cannot use c# on android studio, <strong>it is possible using <a href=\"https://visualstudio.microsoft.com/\" rel=\"noreferrer\">visual studio.</a></strong> \n(to develop apps for android)\nafter you download visual studio (if you haven't already) a window similar to <a href=\"https://learn.microsoft.com/en-us/visualstudio/install/media/vs-2019/vs-installer-workloads.png?view=vs-2019\" rel=\"noreferrer\">this</a> will pop up. you need to choose the option: <a href=\"https://i.stack.imgur.com/FgP7H.png\" rel=\"noreferrer\">\"mobile development with .net\"</a>\nand then click download / modify. if you already have visual studio installed, go to  <a href=\"https://learn.microsoft.com/en-us/visualstudio/ide/media/vs-2019/start-window-create-new-project.png?view=vs-2019\" rel=\"noreferrer\">create new project</a>>> (scroll down) click on: \"not finding what you are looking for?\" and then the modify menu will open</p>\n\n<ul>\n<li>I know you are looking for a c# code in android studio, but because </li>\n</ul>\n\n<blockquote>\n  <p>If you wish to use Android Studio, you will need to learn Java and/or Kotlin.</p>\n</blockquote>\n\n<p>this is the best alternative.</p>\n"},{"tags":[],"owner":{"account_id":11598828,"reputation":101,"user_id":8496685,"display_name":"Patrick Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634151617,"creation_date":1634151617,"answer_id":69560946,"question_id":53581109,"body_markdown":"Xamarin is C#s solution to android development. You cannot use C# in Android Studio. However, Java is VERY similar to C#. I was thrust into a Java Android development project at work without having ANY prior knowledge in Java, but knowledge and experience in C#. Took just a couple of days to get used to it. Bit the bullet and go for it. At the very least, you&#39;ll then be able to say that you know 2 programming languages (C# and Java).\r\n","title":"Can I use C# in Android Studio?","body":"<p>Xamarin is C#s solution to android development. You cannot use C# in Android Studio. However, Java is VERY similar to C#. I was thrust into a Java Android development project at work without having ANY prior knowledge in Java, but knowledge and experience in C#. Took just a couple of days to get used to it. Bit the bullet and go for it. At the very least, you'll then be able to say that you know 2 programming languages (C# and Java).</p>\n"},{"tags":[],"owner":{"account_id":17059621,"reputation":17,"user_id":12343364,"display_name":"KRIShark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671307501,"creation_date":1671307501,"answer_id":74837138,"question_id":53581109,"body_markdown":"You can&#39;t use c# in Android Studio. You could use Xamarin. This tool is integrated with Visual Studio 2022. You can find it at this link: https://dotnet.microsoft.com/en-us/apps/xamarin","title":"Can I use C# in Android Studio?","body":"<p>You can't use c# in Android Studio. You could use Xamarin. This tool is integrated with Visual Studio 2022. You can find it at this link: <a href=\"https://dotnet.microsoft.com/en-us/apps/xamarin\" rel=\"nofollow noreferrer\">https://dotnet.microsoft.com/en-us/apps/xamarin</a></p>\n"}],"owner":{"account_id":14865759,"reputation":85,"user_id":10734932,"display_name":"Theri Mass"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23066,"favorite_count":0,"down_vote_count":4,"up_vote_count":9,"accepted_answer_id":53581118,"answer_count":4,"score":5,"last_activity_date":1671307501,"creation_date":1543760307,"question_id":53581109,"body_markdown":"I&#39;d like to develop an application in Android Studio.\r\nI don&#39;t know Java.\r\nI don&#39;t want Xamarin.\r\nIs there a way to use C# in Android Studio?","title":"Can I use C# in Android Studio?","body":"<p>I'd like to develop an application in Android Studio.\nI don't know Java.\nI don't want Xamarin.\nIs there a way to use C# in Android Studio?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1671305984,"post_id":74836954,"comment_id":132072819,"body_markdown":"I can imagine a hash map that moved elements to the front of their lists so they&#39;d be found faster next time. It&#39;d be a tricky and questionable optimization, though, because now reading would cause updates. That means contention in a multithreaded scenario, needing to take locks or do complicated lock-free updates, etc.","body":"I can imagine a hash map that moved elements to the front of their lists so they&#39;d be found faster next time. It&#39;d be a tricky and questionable optimization, though, because now reading would cause updates. That means contention in a multithreaded scenario, needing to take locks or do complicated lock-free updates, etc."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1671311236,"post_id":74836954,"comment_id":132073801,"body_markdown":"Hashmaps are resized automatically to reduce the chance of two objects ending in the same bucket. So the linkedlist is typically only one or two elements, removing the need for any caching.","body":"Hashmaps are resized automatically to reduce the chance of two objects ending in the same bucket. So the linkedlist is typically only one or two elements, removing the need for any caching."}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671306940,"creation_date":1671306940,"answer_id":74837081,"question_id":74836954,"body_markdown":"Never heard of that.\r\n\r\nFirst of all: the &quot;table&quot; array has only a certain size so the hascode is not used directly. From the HashMap source `tab[i = (n - 1) &amp; hash]`\r\n\r\nMaybee you are mixing it up with the `LinkedHashMap` which keeps track of the element accesses:\r\n\r\n```java\r\n    void afterNodeAccess(Node&lt;K,V&gt; e) { // move node to last\r\n        LinkedHashMap.Entry&lt;K,V&gt; last;\r\n        if (accessOrder &amp;&amp; (last = tail) != e) {\r\n            LinkedHashMap.Entry&lt;K,V&gt; p =\r\n                (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;\r\n            p.after = null;\r\n            if (b == null)\r\n                head = a;\r\n            else\r\n                b.after = a;\r\n            if (a != null)\r\n                a.before = b;\r\n            else\r\n                last = b;\r\n            if (last == null)\r\n                head = p;\r\n            else {\r\n                p.before = last;\r\n                last.after = p;\r\n            }\r\n            tail = p;\r\n            ++modCount;\r\n        }\r\n    }\r\n```\r\n\r\nThis behavior is usefull if you are implementing a LRU (Least recently used) cache. A LRU cache removes the elements that have not been requested for the longest period, once the cache reached its maximum size.","title":"Is there a hashmap implementation that uses a caching scheme?","body":"<p>Never heard of that.</p>\n<p>First of all: the &quot;table&quot; array has only a certain size so the hascode is not used directly. From the HashMap source <code>tab[i = (n - 1) &amp; hash]</code></p>\n<p>Maybee you are mixing it up with the <code>LinkedHashMap</code> which keeps track of the element accesses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    void afterNodeAccess(Node&lt;K,V&gt; e) { // move node to last\n        LinkedHashMap.Entry&lt;K,V&gt; last;\n        if (accessOrder &amp;&amp; (last = tail) != e) {\n            LinkedHashMap.Entry&lt;K,V&gt; p =\n                (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;\n            p.after = null;\n            if (b == null)\n                head = a;\n            else\n                b.after = a;\n            if (a != null)\n                a.before = b;\n            else\n                last = b;\n            if (last == null)\n                head = p;\n            else {\n                p.before = last;\n                last.after = p;\n            }\n            tail = p;\n            ++modCount;\n        }\n    }\n</code></pre>\n<p>This behavior is usefull if you are implementing a LRU (Least recently used) cache. A LRU cache removes the elements that have not been requested for the longest period, once the cache reached its maximum size.</p>\n"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671306940,"creation_date":1671305755,"question_id":74836954,"body_markdown":"I swear that in the past I had seen something about a hashmap implementation using some type of caching but when I was reading up today on how hashmaps are implemented in java, it was just simply a table with linked lists. Let me go deeper in what I mean.\r\n\r\nFrom what I read today, hashmap in java is essentially like so\r\n\r\n1. There exists an array simply called &quot;table&quot; where each index of the array is the hashcode. The value of the array is the first element of the linked list for that hashcode.\r\n2. When you try to retrieve an object from the hashmap using the key, the key is transformed into a hashcode which is applied as the index of the &quot;table&quot; to then go to the linkedlist to iterate and find the correct object corresponding to the key.\r\n\r\nBut what I had read before was something different than this. What I had read was when you retrieve an object from the hashmap using the key, the corresponding bucket is cached so that when you retrieve another object from the hashmap from the same bucket, you are using the cache. But when you retrieve an object from a different bucket, the other bucket is cached instead.\r\n\r\nDid I just completely misunderstand something in the past and invent something in my head, or is there something like this that might have confused me?","title":"Is there a hashmap implementation that uses a caching scheme?","body":"<p>I swear that in the past I had seen something about a hashmap implementation using some type of caching but when I was reading up today on how hashmaps are implemented in java, it was just simply a table with linked lists. Let me go deeper in what I mean.</p>\n<p>From what I read today, hashmap in java is essentially like so</p>\n<ol>\n<li>There exists an array simply called &quot;table&quot; where each index of the array is the hashcode. The value of the array is the first element of the linked list for that hashcode.</li>\n<li>When you try to retrieve an object from the hashmap using the key, the key is transformed into a hashcode which is applied as the index of the &quot;table&quot; to then go to the linkedlist to iterate and find the correct object corresponding to the key.</li>\n</ol>\n<p>But what I had read before was something different than this. What I had read was when you retrieve an object from the hashmap using the key, the corresponding bucket is cached so that when you retrieve another object from the hashmap from the same bucket, you are using the cache. But when you retrieve an object from a different bucket, the other bucket is cached instead.</p>\n<p>Did I just completely misunderstand something in the past and invent something in my head, or is there something like this that might have confused me?</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1671308375,"post_id":74837016,"comment_id":132073283,"body_markdown":"You cannot use placeholder for a table name [1](https://stackoverflow.com/a/11312274/1261766). You must use `${}` instead. Be sure to sanitize the value to avoid SQL injection. cf. [FAQ](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-)","body":"You cannot use placeholder for a table name <a href=\"https://stackoverflow.com/a/11312274/1261766\">1</a>. You must use <code>${}</code> instead. Be sure to sanitize the value to avoid SQL injection. cf. <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":18006715,"reputation":53,"user_id":13087322,"display_name":"Руслан Кузнецов"},"score":0,"creation_date":1671308802,"post_id":74837016,"comment_id":132073379,"body_markdown":"Thank you from the bottom of my heart!!!\nWhat does the choice of #{} or ${} depend on? In the documentation, I saw only #{} everywhere.","body":"Thank you from the bottom of my heart!!! What does the choice of #{} or ${} depend on? In the documentation, I saw only #{} everywhere."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1671309977,"post_id":74837016,"comment_id":132073611,"body_markdown":"You&#39;re welcome :) You should use `#{}` whenever possible because it&#39;s safe against SQL injection. `${}` is necessary for table/column names, basically.","body":"You&#39;re welcome :) You should use <code>#{}</code> whenever possible because it&#39;s safe against SQL injection. <code>${}</code> is necessary for table/column names, basically."}],"owner":{"account_id":18006715,"reputation":53,"user_id":13087322,"display_name":"Руслан Кузнецов"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671306348,"creation_date":1671306348,"question_id":74837016,"body_markdown":"The variable in the request in the mybatis mapper is not replaced.\r\nIn the case of &quot;select&quot; queries, everything is fine, but I need to be able to create a table by name.\r\n\r\n    import org.apache.ibatis.annotations.Mapper;\r\n    import org.apache.ibatis.annotations.Param;\r\n    import org.apache.ibatis.annotations.Update;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Mapper\r\n    @Repository\r\n    public interface TableMapper {\r\n        @Update(&quot;&quot;&quot;\r\n            create table if not exists #{name}\r\n            (table_name varchar(50) NOT NULL,\r\n            update_date varchar(20) NOT NULL)\r\n            &quot;&quot;&quot;)\r\n        void createTableByName(@Param(&quot;name&quot;) String name);\r\n    }\r\n\r\nWhat am I doing wrong? Or is this approach not possible when using mybatis?\r\n\r\nIn logs:\r\n\r\n    The error occurred while setting parameters\r\n    SQL: create table if not exists ? (table_name varchar(50) NOT NULL, update_date varchar(20) NOT NULL)\r\n\r\nThe variable passed to the method is neither empty nor null.\r\n\r\nThe list of fields in the table itself is not important, only the possibility of creating a table by a given name.","title":"The variable in the request in the mybatis mapper is not replaced","body":"<p>The variable in the request in the mybatis mapper is not replaced.\nIn the case of &quot;select&quot; queries, everything is fine, but I need to be able to create a table by name.</p>\n<pre><code>import org.apache.ibatis.annotations.Mapper;\nimport org.apache.ibatis.annotations.Param;\nimport org.apache.ibatis.annotations.Update;\nimport org.springframework.stereotype.Repository;\n\n@Mapper\n@Repository\npublic interface TableMapper {\n    @Update(&quot;&quot;&quot;\n        create table if not exists #{name}\n        (table_name varchar(50) NOT NULL,\n        update_date varchar(20) NOT NULL)\n        &quot;&quot;&quot;)\n    void createTableByName(@Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<p>What am I doing wrong? Or is this approach not possible when using mybatis?</p>\n<p>In logs:</p>\n<pre><code>The error occurred while setting parameters\nSQL: create table if not exists ? (table_name varchar(50) NOT NULL, update_date varchar(20) NOT NULL)\n</code></pre>\n<p>The variable passed to the method is neither empty nor null.</p>\n<p>The list of fields in the table itself is not important, only the possibility of creating a table by a given name.</p>\n"},{"tags":["java","android","gradle","estimote"],"owner":{"account_id":27063505,"reputation":1,"user_id":20615212,"display_name":"Andrew P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671305111,"creation_date":1671305026,"question_id":74836868,"body_markdown":"I am using a modified version of a template app provided within the Estimote Cloud and I want &quot;Toasts&quot; to be displayed when entering/exiting zones. However, these Toasts are not being displayed\r\n\r\n**MainActivity**\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2);\r\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\r\n\r\n    proximityContentAdapter = new ProximityContentAdapter(this);\r\n    List&lt;ProximityContent&gt; nearbyContent = new ArrayList&lt;&gt;(1);\r\n    proximityContentAdapter.setNearbyContent(nearbyContent);\r\n    GridView gridView = findViewById(R.id.gridView);\r\n    gridView.setAdapter(proximityContentAdapter);\r\n\r\n    ProximityObserver proximityObserver = new ProximityObserverBuilder(getApplicationContext(), ((MyApplication) getApplication()).cloudCredentials)\r\n            .withBalancedPowerMode()\r\n            .onError(new Function1&lt;Throwable, Unit&gt;() {\r\n                @Override\r\n                public Unit invoke(Throwable throwable) {\r\n                    Toast.makeText(getApplicationContext(), &quot;POE &quot; + throwable, Toast.LENGTH_LONG).show();\r\n                    return null;\r\n                }\r\n            })\r\n            .build();\r\n\r\n    ProximityZone venueZone =\r\n            new ProximityZoneBuilder()\r\n                    .forTag(&quot;desk&quot;)\r\n                    .inFarRange()\r\n                    .onEnter(new Function1&lt;ProximityZoneContext, Unit&gt;() {\r\n                        @Override public Unit invoke(ProximityZoneContext proximityContext) {\r\n                            Toast.makeText(getApplicationContext(),&quot;OnEnter&quot;, Toast.LENGTH_LONG).show();\r\n                            return null;\r\n                        }\r\n                    })\r\n                    .onExit(new Function1&lt;ProximityZoneContext, Unit&gt;() {\r\n                        @Override\r\n                        public Unit invoke(ProximityZoneContext proximityContext) {\r\n                            Toast.makeText(getApplicationContext(),&quot;OnExit&quot;, Toast.LENGTH_LONG).show();\r\n                            return null;\r\n                        }\r\n                    })\r\n                    .onContextChange(new Function1&lt;Set&lt;? extends ProximityZoneContext&gt;, Unit&gt;() {\r\n                        @Override\r\n                        public Unit invoke(Set&lt;? extends ProximityZoneContext&gt; contexts) {\r\n                            Toast.makeText(getApplicationContext(),&quot;OnContextChanged&quot;,\r\nToast.LENGTH_LONG).show();\r\n                            return null;\r\n                        }\r\n                    })\r\n                    .build();\r\n\r\n    RequirementsWizardFactory\r\n            .createEstimoteRequirementsWizard()\r\n            .fulfillRequirements(this,\r\n                    new Function0&lt;Unit&gt;() {\r\n                        @Override\r\n                        public Unit invoke() {\r\n                            Log.d(&quot;app&quot;, &quot;requirements fulfilled&quot;);\r\n                            proximityObserver.startObserving(venueZone);\r\n                            return null;\r\n                        }\r\n                    },\r\n                    new Function1&lt;List&lt;? extends Requirement&gt;, Unit&gt;() {\r\n                        @Override\r\n                        public Unit invoke(List&lt;? extends Requirement&gt; requirements) {\r\n                            Log.e(&quot;app&quot;, &quot;requirements missing: &quot; + requirements);\r\n                            Toast.makeText(MainActivity.this, &quot;requirements missing: &quot; + requirements, Toast.LENGTH_LONG).show();\r\n                            return null;\r\n                        }\r\n                    },\r\n                    new Function1&lt;Throwable, Unit&gt;() {\r\n                        @Override\r\n                        public Unit invoke(Throwable throwable) {\r\n                            Log.e(&quot;app&quot;, &quot;requirements error: &quot; + throwable);\r\n                            Toast.makeText(MainActivity.this, &quot;requirements error: &quot; + throwable, Toast.LENGTH_LONG).show();\r\n                            return null;\r\n                        }\r\n                    });\r\n}\r\n```\r\n\r\n\r\nFurthermore, no errors are being thrown!\r\n\r\nI&#39;ve attempted only using a single beacon and removing the batteries to test if the onExit method, within the ProximityZone object, would work, but nothing.\r\n\r\nI&#39;m testing on a real device, Galaxy A53 5G using Android 12.\r\n\r\nIt may be also worth noting that when this application is running in the background the official Estimote app is unable to detect nearby beacons either.","title":"Estimote Proximity Beacons are not being detected on Android App","body":"<p>I am using a modified version of a template app provided within the Estimote Cloud and I want &quot;Toasts&quot; to be displayed when entering/exiting zones. However, these Toasts are not being displayed</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 2);\n    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, 2);\n\n    proximityContentAdapter = new ProximityContentAdapter(this);\n    List&lt;ProximityContent&gt; nearbyContent = new ArrayList&lt;&gt;(1);\n    proximityContentAdapter.setNearbyContent(nearbyContent);\n    GridView gridView = findViewById(R.id.gridView);\n    gridView.setAdapter(proximityContentAdapter);\n\n    ProximityObserver proximityObserver = new ProximityObserverBuilder(getApplicationContext(), ((MyApplication) getApplication()).cloudCredentials)\n            .withBalancedPowerMode()\n            .onError(new Function1&lt;Throwable, Unit&gt;() {\n                @Override\n                public Unit invoke(Throwable throwable) {\n                    Toast.makeText(getApplicationContext(), &quot;POE &quot; + throwable, Toast.LENGTH_LONG).show();\n                    return null;\n                }\n            })\n            .build();\n\n    ProximityZone venueZone =\n            new ProximityZoneBuilder()\n                    .forTag(&quot;desk&quot;)\n                    .inFarRange()\n                    .onEnter(new Function1&lt;ProximityZoneContext, Unit&gt;() {\n                        @Override public Unit invoke(ProximityZoneContext proximityContext) {\n                            Toast.makeText(getApplicationContext(),&quot;OnEnter&quot;, Toast.LENGTH_LONG).show();\n                            return null;\n                        }\n                    })\n                    .onExit(new Function1&lt;ProximityZoneContext, Unit&gt;() {\n                        @Override\n                        public Unit invoke(ProximityZoneContext proximityContext) {\n                            Toast.makeText(getApplicationContext(),&quot;OnExit&quot;, Toast.LENGTH_LONG).show();\n                            return null;\n                        }\n                    })\n                    .onContextChange(new Function1&lt;Set&lt;? extends ProximityZoneContext&gt;, Unit&gt;() {\n                        @Override\n                        public Unit invoke(Set&lt;? extends ProximityZoneContext&gt; contexts) {\n                            Toast.makeText(getApplicationContext(),&quot;OnContextChanged&quot;,\nToast.LENGTH_LONG).show();\n                            return null;\n                        }\n                    })\n                    .build();\n\n    RequirementsWizardFactory\n            .createEstimoteRequirementsWizard()\n            .fulfillRequirements(this,\n                    new Function0&lt;Unit&gt;() {\n                        @Override\n                        public Unit invoke() {\n                            Log.d(&quot;app&quot;, &quot;requirements fulfilled&quot;);\n                            proximityObserver.startObserving(venueZone);\n                            return null;\n                        }\n                    },\n                    new Function1&lt;List&lt;? extends Requirement&gt;, Unit&gt;() {\n                        @Override\n                        public Unit invoke(List&lt;? extends Requirement&gt; requirements) {\n                            Log.e(&quot;app&quot;, &quot;requirements missing: &quot; + requirements);\n                            Toast.makeText(MainActivity.this, &quot;requirements missing: &quot; + requirements, Toast.LENGTH_LONG).show();\n                            return null;\n                        }\n                    },\n                    new Function1&lt;Throwable, Unit&gt;() {\n                        @Override\n                        public Unit invoke(Throwable throwable) {\n                            Log.e(&quot;app&quot;, &quot;requirements error: &quot; + throwable);\n                            Toast.makeText(MainActivity.this, &quot;requirements error: &quot; + throwable, Toast.LENGTH_LONG).show();\n                            return null;\n                        }\n                    });\n}\n</code></pre>\n<p>Furthermore, no errors are being thrown!</p>\n<p>I've attempted only using a single beacon and removing the batteries to test if the onExit method, within the ProximityZone object, would work, but nothing.</p>\n<p>I'm testing on a real device, Galaxy A53 5G using Android 12.</p>\n<p>It may be also worth noting that when this application is running in the background the official Estimote app is unable to detect nearby beacons either.</p>\n"},{"tags":["java","arrays","for-loop","foreach","reverse"],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671305083,"creation_date":1671305083,"answer_id":74836878,"question_id":74836851,"body_markdown":"A for-each loop iterates over the elements rather than their indices. Change `list2[i]` to `i` and you&#39;ll see the reversed list:\r\n\r\n    for (int i: list2) {\r\n        System.out.print(i);\r\n    }\r\n\r\nDebugging tip: Mixing up indices and elements is a common mistake. A good way to make it more obvious which is which is to avoid using elements that start at 0 and count up, because then they look just like indices. Next time try, say:\r\n\r\n    int[] list1 = {11, 22, 33, 44, 55, 66, 77, 88, 99};","title":"For-each loop still shows the original array after reversing","body":"<p>A for-each loop iterates over the elements rather than their indices. Change <code>list2[i]</code> to <code>i</code> and you'll see the reversed list:</p>\n<pre><code>for (int i: list2) {\n    System.out.print(i);\n}\n</code></pre>\n<p>Debugging tip: Mixing up indices and elements is a common mistake. A good way to make it more obvious which is which is to avoid using elements that start at 0 and count up, because then they look just like indices. Next time try, say:</p>\n<pre><code>int[] list1 = {11, 22, 33, 44, 55, 66, 77, 88, 99};\n</code></pre>\n"}],"owner":{"account_id":26775307,"reputation":1,"user_id":20371058,"display_name":"SomeGuy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671443760,"accepted_answer_id":74836878,"answer_count":1,"score":-1,"last_activity_date":1671305083,"creation_date":1671304891,"question_id":74836851,"body_markdown":"I was simply doing a test to see the difference between a for-each loop and a regular for loop. I initialized an array and reversed it, and then tried to print it with both loops, however, only the regular for loop printed out the reversed array.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] list1 = {0,1,2,3,4,5,6,7,8,9};\r\n    int[] list2 = reverse(list1);\r\n    \r\n    for(int i=0;i&lt;list2.length;i++) {\r\n        System.out.print(list2[i]);\r\n    }\r\n    System.out.println();\r\n    for(int i:list2) {\r\n        System.out.print(list2[i]);\r\n    }\r\n}\r\n\r\nstatic int[] reverse(int[] a) {\r\n    int[] temp = new int[a.length];\r\n    for(int i=0,j=a.length-1;i&lt;a.length;i++,j--) {\r\n        temp[i]=a[j];\r\n    }\r\n    return temp;\r\n}\r\n```\r\n\r\nI tried using the Arrays.toString method of the Arrays class to print out the list, and it also prints out the reversed list, both before and after the for-each loop.\r\n","title":"For-each loop still shows the original array after reversing","body":"<p>I was simply doing a test to see the difference between a for-each loop and a regular for loop. I initialized an array and reversed it, and then tried to print it with both loops, however, only the regular for loop printed out the reversed array.</p>\n<pre><code>public static void main(String[] args) {\n    int[] list1 = {0,1,2,3,4,5,6,7,8,9};\n    int[] list2 = reverse(list1);\n    \n    for(int i=0;i&lt;list2.length;i++) {\n        System.out.print(list2[i]);\n    }\n    System.out.println();\n    for(int i:list2) {\n        System.out.print(list2[i]);\n    }\n}\n\nstatic int[] reverse(int[] a) {\n    int[] temp = new int[a.length];\n    for(int i=0,j=a.length-1;i&lt;a.length;i++,j--) {\n        temp[i]=a[j];\n    }\n    return temp;\n}\n</code></pre>\n<p>I tried using the Arrays.toString method of the Arrays class to print out the list, and it also prints out the reversed list, both before and after the for-each loop.</p>\n"},{"tags":["java","hashmap","sonarqube"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":1,"creation_date":1671302729,"post_id":74836527,"comment_id":132072106,"body_markdown":"x is not the map. x is the key, i.e. &quot;id&quot;. computeIfAbsent is meant to replace a call to `if (myMap.get(myKey) == null) myMap.put(myKey, myValue);` with `myMap.computeIfAbsent(myKey, key -&gt; myValue);`. Compute if absent avoids to search two times for the key, and ensure atomicity of the action.","body":"x is not the map. x is the key, i.e. &quot;id&quot;. computeIfAbsent is meant to replace a call to <code>if (myMap.get(myKey) == null) myMap.put(myKey, myValue);</code> with <code>myMap.computeIfAbsent(myKey, key -&gt; myValue);</code>. Compute if absent avoids to search two times for the key, and ensure atomicity of the action."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671304429,"creation_date":1671304429,"answer_id":74836783,"question_id":74836527,"body_markdown":"### The Rule\r\nThe Sonar rule for Java with [RSPEC-3824][1] applies for Java 8 only:\r\n&gt; **&quot;Map.get&quot; and value test should be replaced with single method call**\r\n&gt;\r\n&gt; It’s a common pattern to test the result of a `java.util.Map.get()` against `null` or calling `java.util.Map.containsKey()` before proceeding with adding or changing the value in the map. However the `java.util.Map` API offers a significantly better alternative in the form of the `computeIfPresent()` and `computeIfAbsent()` methods. Using these instead leads to cleaner and more readable code.\r\n&gt;\r\n&gt; **Note** that this rule is automatically disabled when the project’s sonar.java.source is not 8.\r\n\r\nLet&#39;s assume your project is configured for the use of Java 8.\r\n\r\n### The Sonar compliant solution\r\nFrom:\r\n```java\r\nif (resultMap.get(&quot;id&quot;) == null) {\r\n    resultMap.put(&quot;id&quot;, &quot;&quot;);\r\n    resultMap.put(&quot;name&quot;, &quot;&quot;);\r\n}\r\n```\r\nTo use with [`putIfAbsent(key, value)`][2]:\r\n```java\r\nresultMap.putIfAbsent(&quot;id&quot;, &quot;&quot;);  // empty string as default\r\n```\r\nNote: \r\n* this solution does not compute anything, no lambda needed.\r\n* here `resultMap.put(&quot;name&quot;, &quot;&quot;);` is not called if key `&quot;id&quot;` was not present.\r\n\r\nBoth methods `putIfAbsent` and [`computeIfAbsent`][3] were added to interface `Map` with Java version 8.\r\n\r\nSee also:\r\n* Tutorial on Baeldung: [A Guide to Java HashMap, 4.3. putIfAbsent()\r\n](https://www.baeldung.com/java-hashmap#3-putifabsent)\r\n* Tutorial on Baeldung: [The Map.computeIfAbsent() Method](https://www.baeldung.com/java-map-computeifabsent) \r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-3824\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putIfAbsent-K-V-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Overcoming Sonar issue replace Map.get() and condition with a call to Map.computeIfAbsent()","body":"<h3>The Rule</h3>\n<p>The Sonar rule for Java with <a href=\"https://rules.sonarsource.com/java/RSPEC-3824\" rel=\"nofollow noreferrer\">RSPEC-3824</a> applies for Java 8 only:</p>\n<blockquote>\n<p><strong>&quot;Map.get&quot; and value test should be replaced with single method call</strong></p>\n<p>It’s a common pattern to test the result of a <code>java.util.Map.get()</code> against <code>null</code> or calling <code>java.util.Map.containsKey()</code> before proceeding with adding or changing the value in the map. However the <code>java.util.Map</code> API offers a significantly better alternative in the form of the <code>computeIfPresent()</code> and <code>computeIfAbsent()</code> methods. Using these instead leads to cleaner and more readable code.</p>\n<p><strong>Note</strong> that this rule is automatically disabled when the project’s sonar.java.source is not 8.</p>\n</blockquote>\n<p>Let's assume your project is configured for the use of Java 8.</p>\n<h3>The Sonar compliant solution</h3>\n<p>From:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (resultMap.get(&quot;id&quot;) == null) {\n    resultMap.put(&quot;id&quot;, &quot;&quot;);\n    resultMap.put(&quot;name&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>To use with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#putIfAbsent-K-V-\" rel=\"nofollow noreferrer\"><code>putIfAbsent(key, value)</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>resultMap.putIfAbsent(&quot;id&quot;, &quot;&quot;);  // empty string as default\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>this solution does not compute anything, no lambda needed.</li>\n<li>here <code>resultMap.put(&quot;name&quot;, &quot;&quot;);</code> is not called if key <code>&quot;id&quot;</code> was not present.</li>\n</ul>\n<p>Both methods <code>putIfAbsent</code> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>computeIfAbsent</code></a> were added to interface <code>Map</code> with Java version 8.</p>\n<p>See also:</p>\n<ul>\n<li>Tutorial on Baeldung: <a href=\"https://www.baeldung.com/java-hashmap#3-putifabsent\" rel=\"nofollow noreferrer\">A Guide to Java HashMap, 4.3. putIfAbsent()\n</a></li>\n<li>Tutorial on Baeldung: <a href=\"https://www.baeldung.com/java-map-computeifabsent\" rel=\"nofollow noreferrer\">The Map.computeIfAbsent() Method</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671304930,"creation_date":1671304568,"answer_id":74836811,"question_id":74836527,"body_markdown":"Just return the String value from the lambda function without any operations.\r\n\r\nAlternatively, using `putIfAbsent` would make more sense as there in no computation involved. computeIfAbsent makes more sense where getting the value would involve some operation (e.g. in cache, if not present fetch from original source).\r\n\r\n    resultMap.putIfAbsent(&quot;id&quot;, &quot;&quot;);\r\n\r\nAs for computeIfAbsent,\r\n\r\nFor reference, Method&#39;s Javadoc says\r\n\r\n&gt; If the specified key is not already associated with a value (or is\r\n&gt; mapped to null), attempts to compute its value using the given mapping\r\n&gt; function and enters it into this map unless null.\r\n\r\nThus in your case, there is no computation as such - so you can return the string itself. The definition of the function is:\r\n\r\n&gt; Params: key – key with which the specified value is to be associated\r\n&gt; \r\n&gt; mappingFunction – the function to compute a value \r\n&gt; \r\n&gt; Returns: the current\r\n&gt; (existing or computed) value associated with the specified key, or\r\n&gt; null if the computed value is null\r\n\r\nThe following snippet will work for you:\r\n\r\n    Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\r\n    resultMap.computeIfAbsent(&quot;id&quot;, s -&gt; &quot;FirstValue&quot;);\r\n    System.out.println(resultMap.get(&quot;id&quot;));             // FirstValue\r\n    resultMap.computeIfAbsent(&quot;id&quot;, s -&gt; &quot;NewValue&quot;);\r\n    System.out.println(resultMap.get(&quot;id&quot;)); \r\n    // Still FirstValue as id was already present\r\n\r\nHere the Lamda `s -&gt; &quot;NewValue&quot;` can be expanded to `(String s) -&gt; &quot;NewValue&quot;`\r\n\r\nFor the second part - the error &quot;Lambda expressions are allowed only at source level 1.8 or above&quot; indicates wrong environment in IDE probably, where you would need to set language API level to 1.8 or above, or check the library settings.\r\n","title":"Overcoming Sonar issue replace Map.get() and condition with a call to Map.computeIfAbsent()","body":"<p>Just return the String value from the lambda function without any operations.</p>\n<p>Alternatively, using <code>putIfAbsent</code> would make more sense as there in no computation involved. computeIfAbsent makes more sense where getting the value would involve some operation (e.g. in cache, if not present fetch from original source).</p>\n<pre><code>resultMap.putIfAbsent(&quot;id&quot;, &quot;&quot;);\n</code></pre>\n<p>As for computeIfAbsent,</p>\n<p>For reference, Method's Javadoc says</p>\n<blockquote>\n<p>If the specified key is not already associated with a value (or is\nmapped to null), attempts to compute its value using the given mapping\nfunction and enters it into this map unless null.</p>\n</blockquote>\n<p>Thus in your case, there is no computation as such - so you can return the string itself. The definition of the function is:</p>\n<blockquote>\n<p>Params: key – key with which the specified value is to be associated</p>\n<p>mappingFunction – the function to compute a value</p>\n<p>Returns: the current\n(existing or computed) value associated with the specified key, or\nnull if the computed value is null</p>\n</blockquote>\n<p>The following snippet will work for you:</p>\n<pre><code>Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\nresultMap.computeIfAbsent(&quot;id&quot;, s -&gt; &quot;FirstValue&quot;);\nSystem.out.println(resultMap.get(&quot;id&quot;));             // FirstValue\nresultMap.computeIfAbsent(&quot;id&quot;, s -&gt; &quot;NewValue&quot;);\nSystem.out.println(resultMap.get(&quot;id&quot;)); \n// Still FirstValue as id was already present\n</code></pre>\n<p>Here the Lamda <code>s -&gt; &quot;NewValue&quot;</code> can be expanded to <code>(String s) -&gt; &quot;NewValue&quot;</code></p>\n<p>For the second part - the error &quot;Lambda expressions are allowed only at source level 1.8 or above&quot; indicates wrong environment in IDE probably, where you would need to set language API level to 1.8 or above, or check the library settings.</p>\n"}],"owner":{"account_id":3464234,"reputation":844,"user_id":2900314,"accept_rate":86,"display_name":"User27854"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836811,"answer_count":2,"score":0,"last_activity_date":1671304930,"creation_date":1671302097,"question_id":74836527,"body_markdown":"I have a below method. The implementation is if the map does not have `id` key, then the method inserts `id` and `name`. \r\n\r\nBut Sonar reports this line of code as a *Major* error and suggests to replace `Map.get()` and condition with a call to `Map.computeIfAbsent()`.\r\n\r\nHow to insert values into map using `computeIfAbsent`?\r\n\r\n## Original Code\r\nHere Sonar complains: \r\n\r\n\tpublic void testMethod(List&lt;Map&lt;String, Object&gt;&gt; restultMapList) {\r\n\t\tfor(Map&lt;String, Object&gt; resultMap : restultMapList) {\r\n\t\t\tif(resultMap.get(&quot;id&quot;)==null) {\r\n\t\t\t\tresultMap.put(&quot;id&quot;, &quot;&quot;);\r\n\t\t\t\tresultMap.put(&quot;name&quot;, &quot;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n## Attempt to use `computeIfAbsent`\r\nI have tried the below but it throws error. Not sure  how to fix this.\r\n\r\n\r\n\tpublic void testMethod(List&lt;Map&lt;String, Object&gt;&gt; restultMapList) {\r\n\t\tfor(Map&lt;String, Object&gt; resultMap : restultMapList) {\r\n\t\t\tresultMap.computeIfAbsent(&quot;id&quot;, x-&gt; x.put(&quot;id&quot;,&quot;&quot;));\r\n\t\t}\r\n\t}\r\n\r\n\r\nThen following errors are shown:\r\n```\r\nMultiple markers at this line\r\n\t- Lambda expressions are allowed only at source level 1.8 or above\r\n\t- The method put(String, String) is undefined for the type String\r\n```","title":"Overcoming Sonar issue replace Map.get() and condition with a call to Map.computeIfAbsent()","body":"<p>I have a below method. The implementation is if the map does not have <code>id</code> key, then the method inserts <code>id</code> and <code>name</code>.</p>\n<p>But Sonar reports this line of code as a <em>Major</em> error and suggests to replace <code>Map.get()</code> and condition with a call to <code>Map.computeIfAbsent()</code>.</p>\n<p>How to insert values into map using <code>computeIfAbsent</code>?</p>\n<h2>Original Code</h2>\n<p>Here Sonar complains:</p>\n<pre><code>public void testMethod(List&lt;Map&lt;String, Object&gt;&gt; restultMapList) {\n    for(Map&lt;String, Object&gt; resultMap : restultMapList) {\n        if(resultMap.get(&quot;id&quot;)==null) {\n            resultMap.put(&quot;id&quot;, &quot;&quot;);\n            resultMap.put(&quot;name&quot;, &quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<h2>Attempt to use <code>computeIfAbsent</code></h2>\n<p>I have tried the below but it throws error. Not sure  how to fix this.</p>\n<pre><code>public void testMethod(List&lt;Map&lt;String, Object&gt;&gt; restultMapList) {\n    for(Map&lt;String, Object&gt; resultMap : restultMapList) {\n        resultMap.computeIfAbsent(&quot;id&quot;, x-&gt; x.put(&quot;id&quot;,&quot;&quot;));\n    }\n}\n</code></pre>\n<p>Then following errors are shown:</p>\n<pre><code>Multiple markers at this line\n    - Lambda expressions are allowed only at source level 1.8 or above\n    - The method put(String, String) is undefined for the type String\n</code></pre>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671304433,"creation_date":1671303382,"answer_id":74836668,"question_id":74836585,"body_markdown":"`assertEquals` accepts a third argument as a message.\r\n\r\nSee: https://junit.org/junit4/javadoc/4.8/org/junit/Assert.html#assertEquals(java.lang.String,%20java.lang.Object,%20java.lang.Object)\r\n\r\nSo just add a message with the id of your file or whatever helps to identify your test case.\r\n\r\n```java\r\nassertEquals(&quot;Test &quot;+i+&quot; failed&quot;, parsed, answers[i]);\r\n```","title":"How to make multiple similar tests in a loop inside a JUnit-test method (with custom objects)?","body":"<p><code>assertEquals</code> accepts a third argument as a message.</p>\n<p>See: <a href=\"https://junit.org/junit4/javadoc/4.8/org/junit/Assert.html#assertEquals(java.lang.String,%20java.lang.Object,%20java.lang.Object)\" rel=\"nofollow noreferrer\">https://junit.org/junit4/javadoc/4.8/org/junit/Assert.html#assertEquals(java.lang.String,%20java.lang.Object,%20java.lang.Object)</a></p>\n<p>So just add a message with the id of your file or whatever helps to identify your test case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(&quot;Test &quot;+i+&quot; failed&quot;, parsed, answers[i]);\n</code></pre>\n"}],"owner":{"account_id":27283907,"reputation":3,"user_id":20803384,"display_name":"LaylaBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836668,"answer_count":1,"score":0,"last_activity_date":1671304433,"creation_date":1671302661,"question_id":74836585,"body_markdown":"I want to create a for-loop inside a test method, so that it would tell me what specific test it didn&#39;t pass. The mentioned method is such:\r\n\r\n\r\n```\r\n@Test\r\nvoid parse0() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        try {\r\n            BufferedReader bufferedReader = reader(writeFile(i));\r\n            try {\r\n                Parser parser = new Parser();\r\n                Tree parsed = parser.parse(bufferedReader);\r\n                assertEquals(parsed, answers[i]);\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nIt doesn&#39;t really matter what Parser does here as I only want to check on what iteration did the test fail and what specific trees were checked. The Tree implementation is such:\r\n\r\n```\r\npublic class Tree {\r\n    String node;\r\n    List&lt;Tree&gt; children;\r\n\r\n    public Tree(String node) {\r\n        this.node = node;\r\n        children = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public Tree(String node, List&lt;Tree&gt; children) {\r\n        this.node = node;\r\n        this.children = children;\r\n    }\r\n\r\n    public void add(Tree node) {\r\n        children.add(node);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj == this) {\r\n            return true;\r\n        }\r\n\r\n        if (!(obj instanceof Tree tree)) {\r\n            return false;\r\n        }\r\n\r\n        return recursiveEquals(this, tree);\r\n    }\r\n\r\n    private boolean recursiveEquals(Tree tree1, Tree tree2) {\r\n        boolean ans = true;\r\n        if (tree1 == null &amp;&amp; tree2 == null) {\r\n            return true;\r\n        } else if (tree1 == null) {\r\n            return false;\r\n        } else if (tree2 == null) {\r\n            return false;\r\n        }\r\n        if (tree1.children.size() != tree2.children.size()) {\r\n            return false;\r\n        }\r\n        if (!tree1.node.equals(tree2.node)) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; tree1.children.size(); i++) {\r\n            ans &amp;= recursiveEquals(tree1.children.get(i), tree2.children.get(i));\r\n        }\r\n        return ans;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI made a lot of copies with the same test, but this is obviously a bad idea that generates lots of copy-paste. ","title":"How to make multiple similar tests in a loop inside a JUnit-test method (with custom objects)?","body":"<p>I want to create a for-loop inside a test method, so that it would tell me what specific test it didn't pass. The mentioned method is such:</p>\n<pre><code>@Test\nvoid parse0() {\n    for (int i = 0; i &lt; 3; i++) {\n        try {\n            BufferedReader bufferedReader = reader(writeFile(i));\n            try {\n                Parser parser = new Parser();\n                Tree parsed = parser.parse(bufferedReader);\n                assertEquals(parsed, answers[i]);\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>It doesn't really matter what Parser does here as I only want to check on what iteration did the test fail and what specific trees were checked. The Tree implementation is such:</p>\n<pre><code>public class Tree {\n    String node;\n    List&lt;Tree&gt; children;\n\n    public Tree(String node) {\n        this.node = node;\n        children = new ArrayList&lt;&gt;();\n    }\n\n    public Tree(String node, List&lt;Tree&gt; children) {\n        this.node = node;\n        this.children = children;\n    }\n\n    public void add(Tree node) {\n        children.add(node);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n\n        if (!(obj instanceof Tree tree)) {\n            return false;\n        }\n\n        return recursiveEquals(this, tree);\n    }\n\n    private boolean recursiveEquals(Tree tree1, Tree tree2) {\n        boolean ans = true;\n        if (tree1 == null &amp;&amp; tree2 == null) {\n            return true;\n        } else if (tree1 == null) {\n            return false;\n        } else if (tree2 == null) {\n            return false;\n        }\n        if (tree1.children.size() != tree2.children.size()) {\n            return false;\n        }\n        if (!tree1.node.equals(tree2.node)) {\n            return false;\n        }\n        for (int i = 0; i &lt; tree1.children.size(); i++) {\n            ans &amp;= recursiveEquals(tree1.children.get(i), tree2.children.get(i));\n        }\n        return ans;\n    }\n}\n</code></pre>\n<p>I made a lot of copies with the same test, but this is obviously a bad idea that generates lots of copy-paste.</p>\n"},{"tags":["java","oop","single-responsibility-principle"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671304161,"creation_date":1671304161,"answer_id":74836760,"question_id":74836659,"body_markdown":"Even if you always want to notify users when you create a product, the problem with having one class responsible for both is that you&#39;re tightly coupling the sending of notifications with the creation of products, which are separate concerns.\r\n\r\nMaybe in the future you&#39;ll want to change the manner in which notifications are sent, e.g. emails becoming push notifications. Your current design means that changing the notification code might break your product creation code. There is not enough isolation between them.\r\n\r\nOne way to loosely couple this would be to have one class for creating products, e.g. ProductService, and one for performing notifications, e.g. NotificationService. The ProductService can publish an event (preferably to some sort of event bus) which the NotificationService listens for and reacts to.","title":"How to comply the SRP when you want to execute several functions always together?","body":"<p>Even if you always want to notify users when you create a product, the problem with having one class responsible for both is that you're tightly coupling the sending of notifications with the creation of products, which are separate concerns.</p>\n<p>Maybe in the future you'll want to change the manner in which notifications are sent, e.g. emails becoming push notifications. Your current design means that changing the notification code might break your product creation code. There is not enough isolation between them.</p>\n<p>One way to loosely couple this would be to have one class for creating products, e.g. ProductService, and one for performing notifications, e.g. NotificationService. The ProductService can publish an event (preferably to some sort of event bus) which the NotificationService listens for and reacts to.</p>\n"}],"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74836760,"answer_count":1,"score":0,"last_activity_date":1671304161,"creation_date":1671303299,"question_id":74836659,"body_markdown":"The [single responsability principle][1] (SRP) says the next:\r\n\r\n&gt; A module should be responsible to one, and only one, actor\r\n\r\nor\r\n\r\n&gt; A class should have one and only one reason to change\r\n\r\nby this, I understand that a function only should have one task to complete. But, what happens when I want to execute always two (ore more) functions one after another and I don&#39;t want to call one without the other?\r\n\r\nI put an example:\r\n\r\nI have these functions\r\n\r\n    void createProduct(){/*...*/};\r\n    void notifyUsers(){/*...*/};\r\n\r\nAnd always I create a product I want to notify my users.\r\nSo, should I create this function and call instead call both of them:\r\n\r\n    void createAndNotify(){\r\n      createProduct();\r\n      notifyUsers();\r\n    }\r\n\r\nOr this violate the SRP and I should call both of theme every time like this?\r\n\r\n      createProduct();\r\n      notifyUsers();\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Single-responsibility_principle","title":"How to comply the SRP when you want to execute several functions always together?","body":"<p>The <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\">single responsability principle</a> (SRP) says the next:</p>\n<blockquote>\n<p>A module should be responsible to one, and only one, actor</p>\n</blockquote>\n<p>or</p>\n<blockquote>\n<p>A class should have one and only one reason to change</p>\n</blockquote>\n<p>by this, I understand that a function only should have one task to complete. But, what happens when I want to execute always two (ore more) functions one after another and I don't want to call one without the other?</p>\n<p>I put an example:</p>\n<p>I have these functions</p>\n<pre><code>void createProduct(){/*...*/};\nvoid notifyUsers(){/*...*/};\n</code></pre>\n<p>And always I create a product I want to notify my users.\nSo, should I create this function and call instead call both of them:</p>\n<pre><code>void createAndNotify(){\n  createProduct();\n  notifyUsers();\n}\n</code></pre>\n<p>Or this violate the SRP and I should call both of theme every time like this?</p>\n<pre><code>  createProduct();\n  notifyUsers();\n</code></pre>\n"},{"tags":["java","arrays","json","sorting","jackson"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1523292309,"post_id":49735747,"comment_id":86489783,"body_markdown":"Why don&#39;t you sort the objects after parsing them? Would be easier","body":"Why don&#39;t you sort the objects after parsing them? Would be easier"},{"owner":{"account_id":2660036,"reputation":2370,"user_id":2299958,"accept_rate":55,"display_name":"John Arrowwood"},"score":0,"creation_date":1523293642,"post_id":49735747,"comment_id":86490551,"body_markdown":"That&#39;s the question:  How?  How do I do that without knowing what type of objects they are?  I want to operate on a generic intermediate format, and not convert the objects to specific instances of specific classes.","body":"That&#39;s the question:  How?  How do I do that without knowing what type of objects they are?  I want to operate on a generic intermediate format, and not convert the objects to specific instances of specific classes."},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1523293890,"post_id":49735747,"comment_id":86490701,"body_markdown":"You can make your objects as Lists of Lists when parsing and sort by it","body":"You can make your objects as Lists of Lists when parsing and sort by it"},{"owner":{"account_id":2660036,"reputation":2370,"user_id":2299958,"accept_rate":55,"display_name":"John Arrowwood"},"score":2,"creation_date":1523319364,"post_id":49735747,"comment_id":86501707,"body_markdown":"Can you give me an example of how to do that?","body":"Can you give me an example of how to do that?"}],"owner":{"account_id":2660036,"reputation":2370,"user_id":2299958,"accept_rate":55,"display_name":"John Arrowwood"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1671303667,"creation_date":1523285214,"question_id":49735747,"body_markdown":"The goal is to start with a JSON string, parse it, and then recursively process every object property or array element.  If the value is an array, and every element of the array is an object that contains a &quot;Name&quot; property, sort the array by the object.Name.  The recursion is important, because the real-world JSON I am going to have to apply this to has three levels of nested arrays that need to be sorted.  \r\n\r\nOnce the arrays are sorted into a deterministic order, finally, it should re-serialize the whole thing with properties in alphabetical order.\r\n\r\n**The purpose of this is to ensure consistency of the JSON, so I can do string comparison between the expected and the actual**, and have it not be thrown off if things are serialized in a different order, or the array elements come back in a non-deterministic order (which is currently the case).\r\n\r\nIn pseudo-code, it would look something like this:\r\n\r\n    process_array( arr ) {\r\n      if ( arr.every( e =&gt; e.has(&quot;Name&quot;) ) ) {\r\n        arr.sort( byName )\r\n      }\r\n      arr.forEach( process )\r\n    }\r\n    process_object( obj ) {\r\n      for each key in obj {\r\n        process( obj[key] )\r\n    }\r\n    process( it ) {\r\n      if ( isArray( it ) {\r\n        process_arr( it )\r\n      } else {\r\n        process_object( it )\r\n      }\r\n    }  \r\n    standardize( json ) {\r\n      generic_obj = parse( json )\r\n      process( generic_obj )\r\n      return serialize_with_sorted_keys( generic_obj )\r\n    }\r\n\r\nTo make it concrete, given this input:\r\n\r\n    [\r\n      {\r\n        &quot;Id&quot;: &quot;1&quot;,\r\n        &quot;Name&quot;: &quot;foo&quot;,\r\n        &quot;Children&quot;: [\r\n            {\r\n              &quot;Name&quot;: &quot;two&quot;,\r\n              &quot;Value&quot;: 2\r\n            },\r\n            {\r\n              &quot;Value&quot;: 1,\r\n              &quot;Name&quot;: &quot;one&quot;\r\n            }\r\n          ],\r\n        &quot;Other&quot;: [ 1, 3, 2 ]\r\n      },\r\n      {\r\n        &quot;Name&quot;: &quot;bar&quot;,\r\n        &quot;Id&quot;: &quot;2&quot;,\r\n        &quot;Children&quot;: [\r\n            {\r\n              &quot;Name&quot;: &quot;Banana&quot;,\r\n              &quot;Value&quot;: 3\r\n            },\r\n            {\r\n              &quot;Value&quot;: 4,\r\n              &quot;Name&quot;: &quot;Cherry&quot;\r\n            },\r\n            {\r\n              &quot;Apples&quot;: &quot;are tasty&quot;,\r\n              &quot;Name&quot;: &quot;Apple&quot;,\r\n              &quot;Value&quot;: 5\r\n            }\r\n          ]\r\n       }\r\n    ]\r\n\r\nThe expected output would be:\r\n\r\n    [  // array elements are sorted by .Name\r\n      {  // object properties are sorted by key\r\n        &quot;Children&quot;: [ // sorted by .Name\r\n            {\r\n              &quot;Apples&quot;: &quot;are tasty&quot;,\r\n              &quot;Name&quot;: &quot;Apple&quot;,\r\n              &quot;Value&quot;: 5\r\n            },\r\n            {\r\n              &quot;Name&quot;: &quot;Banana&quot;,\r\n              &quot;Value&quot;: 3\r\n            },\r\n            { // properties sorted by name\r\n              &quot;Name&quot;: &quot;Cherry&quot;,\r\n              &quot;Value&quot;: 4\r\n            }\r\n          ],\r\n        &quot;Id&quot;: &quot;2&quot;,\r\n        &quot;Name&quot;: &quot;bar&quot;\r\n      },\r\n      {\r\n        &quot;Children&quot;: [\r\n            {\r\n              &quot;Name&quot;: &quot;two&quot;,\r\n              &quot;Value&quot;: 2\r\n            },\r\n            {\r\n              &quot;Name&quot;: &quot;one&quot;,\r\n              &quot;Value&quot;: 1\r\n            }\r\n          ],\r\n        &quot;Id&quot;: &quot;1&quot;,\r\n        &quot;Name&quot;: &quot;foo&quot;,\r\n        &quot;Other&quot;: [ 1, 2, 3 ]  // NOTE: order has been changed!\r\n      }\r\n    ]\r\n\r\nHow do I do this in Java in a generic way?\r\n","title":"Recursively sort JSON arrays and object properties in Java","body":"<p>The goal is to start with a JSON string, parse it, and then recursively process every object property or array element.  If the value is an array, and every element of the array is an object that contains a \"Name\" property, sort the array by the object.Name.  The recursion is important, because the real-world JSON I am going to have to apply this to has three levels of nested arrays that need to be sorted.  </p>\n\n<p>Once the arrays are sorted into a deterministic order, finally, it should re-serialize the whole thing with properties in alphabetical order.</p>\n\n<p><strong>The purpose of this is to ensure consistency of the JSON, so I can do string comparison between the expected and the actual</strong>, and have it not be thrown off if things are serialized in a different order, or the array elements come back in a non-deterministic order (which is currently the case).</p>\n\n<p>In pseudo-code, it would look something like this:</p>\n\n<pre><code>process_array( arr ) {\n  if ( arr.every( e =&gt; e.has(\"Name\") ) ) {\n    arr.sort( byName )\n  }\n  arr.forEach( process )\n}\nprocess_object( obj ) {\n  for each key in obj {\n    process( obj[key] )\n}\nprocess( it ) {\n  if ( isArray( it ) {\n    process_arr( it )\n  } else {\n    process_object( it )\n  }\n}  \nstandardize( json ) {\n  generic_obj = parse( json )\n  process( generic_obj )\n  return serialize_with_sorted_keys( generic_obj )\n}\n</code></pre>\n\n<p>To make it concrete, given this input:</p>\n\n<pre><code>[\n  {\n    \"Id\": \"1\",\n    \"Name\": \"foo\",\n    \"Children\": [\n        {\n          \"Name\": \"two\",\n          \"Value\": 2\n        },\n        {\n          \"Value\": 1,\n          \"Name\": \"one\"\n        }\n      ],\n    \"Other\": [ 1, 3, 2 ]\n  },\n  {\n    \"Name\": \"bar\",\n    \"Id\": \"2\",\n    \"Children\": [\n        {\n          \"Name\": \"Banana\",\n          \"Value\": 3\n        },\n        {\n          \"Value\": 4,\n          \"Name\": \"Cherry\"\n        },\n        {\n          \"Apples\": \"are tasty\",\n          \"Name\": \"Apple\",\n          \"Value\": 5\n        }\n      ]\n   }\n]\n</code></pre>\n\n<p>The expected output would be:</p>\n\n<pre><code>[  // array elements are sorted by .Name\n  {  // object properties are sorted by key\n    \"Children\": [ // sorted by .Name\n        {\n          \"Apples\": \"are tasty\",\n          \"Name\": \"Apple\",\n          \"Value\": 5\n        },\n        {\n          \"Name\": \"Banana\",\n          \"Value\": 3\n        },\n        { // properties sorted by name\n          \"Name\": \"Cherry\",\n          \"Value\": 4\n        }\n      ],\n    \"Id\": \"2\",\n    \"Name\": \"bar\"\n  },\n  {\n    \"Children\": [\n        {\n          \"Name\": \"two\",\n          \"Value\": 2\n        },\n        {\n          \"Name\": \"one\",\n          \"Value\": 1\n        }\n      ],\n    \"Id\": \"1\",\n    \"Name\": \"foo\",\n    \"Other\": [ 1, 2, 3 ]  // NOTE: order has been changed!\n  }\n]\n</code></pre>\n\n<p>How do I do this in Java in a generic way?</p>\n"},{"tags":["java","activemq"],"answers":[{"comments":[{"owner":{"account_id":2609869,"reputation":652,"user_id":2260172,"accept_rate":93,"display_name":"Amir"},"score":1,"creation_date":1469428060,"post_id":38554007,"comment_id":64512618,"body_markdown":"Thanks, &quot;Statistics Broker Plugin&quot; is the solution","body":"Thanks, &quot;Statistics Broker Plugin&quot; is the solution"}],"tags":[],"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1469376219,"creation_date":1469376219,"answer_id":38554007,"question_id":38551846,"body_markdown":"There is no API in JMS for querying the broker for stats, that goes against the concept of decoupling the client from each other and the intermediate broker.  ActiveMQ does offer a few things that you can use, JMX being the most powerful way to get what you are after but if you don&#39;t want to go directly to the JMX API you can use the REST based approach that makes use of the [Jolokia][1] project which ActiveMQ embeds to support access to the [JMX Mbeans][2] that the broker exposes using [REST calls][3]. \r\n\r\nBesides the REST option the only other way is to enable the [Statistics Broker Plugin][4] to allow you to send targeted messages to the broker to retrieve run time stats using standard JMS code.\r\n\r\n\r\n  [1]: https://jolokia.org/\r\n  [2]: http://activemq.apache.org/jmx.html\r\n  [3]: http://www.jakubkorab.net/2013/11/monitoring-activemq-via-http.html\r\n  [4]: http://activemq.apache.org/statisticsplugin.html","title":"ActiveMQ get queue size without using JMX, JMS","body":"<p>There is no API in JMS for querying the broker for stats, that goes against the concept of decoupling the client from each other and the intermediate broker.  ActiveMQ does offer a few things that you can use, JMX being the most powerful way to get what you are after but if you don't want to go directly to the JMX API you can use the REST based approach that makes use of the <a href=\"https://jolokia.org/\" rel=\"noreferrer\">Jolokia</a> project which ActiveMQ embeds to support access to the <a href=\"http://activemq.apache.org/jmx.html\" rel=\"noreferrer\">JMX Mbeans</a> that the broker exposes using <a href=\"http://www.jakubkorab.net/2013/11/monitoring-activemq-via-http.html\" rel=\"noreferrer\">REST calls</a>. </p>\n\n<p>Besides the REST option the only other way is to enable the <a href=\"http://activemq.apache.org/statisticsplugin.html\" rel=\"noreferrer\">Statistics Broker Plugin</a> to allow you to send targeted messages to the broker to retrieve run time stats using standard JMS code.</p>\n"},{"tags":[],"owner":{"account_id":11596294,"reputation":153,"user_id":8494950,"display_name":"Loveneesh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627644074,"creation_date":1521630084,"answer_id":49404575,"question_id":38551846,"body_markdown":"Add [Statistics Broker Plugin][1] to your activemq.xml .\r\nFollowing is the code Snippet to fetch ActiveMQ Stats.\r\n\r\n    public Long checkMessageCountOnAllBroker() throws JMSException {\r\n        MapMessage mapMessage = (MapMessage) jmsTemplate.sendAndReceive(&quot;ActiveMQ.Statistics.Broker&quot;, Session::createMessage);\r\n        return mapMessage.getLong(&quot;size&quot;);\r\n    }\r\nThis will get the size of all the queues from ActiveMq.For getting statics of specific topic.\r\n\r\n    public Long checkMessageCountOnDestination() throws JMSException {\r\n        MapMessage mapMessage = jmsTemplate.sendAndReceive(&quot;ActiveMQ.Statistics.Destination.some-topic&quot;, Session::createMessage);\r\n        return mapMessage.getLong(&quot;size&quot;);\r\n    }\r\nIt will fetch the statistics from the destination topic \r\n\r\n  [1]: http://activemq.apache.org/statisticsplugin.html","title":"ActiveMQ get queue size without using JMX, JMS","body":"<p>Add <a href=\"http://activemq.apache.org/statisticsplugin.html\" rel=\"nofollow noreferrer\">Statistics Broker Plugin</a> to your activemq.xml .\nFollowing is the code Snippet to fetch ActiveMQ Stats.</p>\n<pre><code>public Long checkMessageCountOnAllBroker() throws JMSException {\n    MapMessage mapMessage = (MapMessage) jmsTemplate.sendAndReceive(&quot;ActiveMQ.Statistics.Broker&quot;, Session::createMessage);\n    return mapMessage.getLong(&quot;size&quot;);\n}\n</code></pre>\n<p>This will get the size of all the queues from ActiveMq.For getting statics of specific topic.</p>\n<pre><code>public Long checkMessageCountOnDestination() throws JMSException {\n    MapMessage mapMessage = jmsTemplate.sendAndReceive(&quot;ActiveMQ.Statistics.Destination.some-topic&quot;, Session::createMessage);\n    return mapMessage.getLong(&quot;size&quot;);\n}\n</code></pre>\n<p>It will fetch the statistics from the destination topic</p>\n"},{"tags":[],"owner":{"account_id":1214305,"reputation":415,"user_id":1182198,"accept_rate":100,"display_name":"buderu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671303437,"creation_date":1671303437,"answer_id":74836675,"question_id":38551846,"body_markdown":"It is possible to get the queue size from activemq rest api. A call like the following will return, next to other information for the queue, the queue size.\r\n\r\n`curl -H &quot;origin: http://localhost&quot; http://activemq:8161/api/jolokia/read/org.apache.activemq:brokerName=localhost,destinationType=Queue,type=Broker,destinationName=&lt;queue-name&gt;`\r\n\r\n```\r\n{\r\n    &quot;request&quot;: {\r\n        &quot;mbean&quot;: &quot;org.apache.activemq:brokerName=localhost,destinationType=Queue,type=Broker,destinationName=&lt;queue-name&gt;&quot;,\r\n        &quot;type&quot;: &quot;read&quot;\r\n    },\r\n    &quot;value&quot;: {\r\n        ...\r\n        &quot;QueueSize&quot;: 123,\r\n        ...\r\n    },\r\n    &quot;timestamp&quot;: &lt;timestamp&gt;,\r\n    &quot;status&quot;: 200\r\n}\r\n```","title":"ActiveMQ get queue size without using JMX, JMS","body":"<p>It is possible to get the queue size from activemq rest api. A call like the following will return, next to other information for the queue, the queue size.</p>\n<p><code>curl -H &quot;origin: http://localhost&quot; http://activemq:8161/api/jolokia/read/org.apache.activemq:brokerName=localhost,destinationType=Queue,type=Broker,destinationName=&lt;queue-name&gt;</code></p>\n<pre><code>{\n    &quot;request&quot;: {\n        &quot;mbean&quot;: &quot;org.apache.activemq:brokerName=localhost,destinationType=Queue,type=Broker,destinationName=&lt;queue-name&gt;&quot;,\n        &quot;type&quot;: &quot;read&quot;\n    },\n    &quot;value&quot;: {\n        ...\n        &quot;QueueSize&quot;: 123,\n        ...\n    },\n    &quot;timestamp&quot;: &lt;timestamp&gt;,\n    &quot;status&quot;: 200\n}\n</code></pre>\n"}],"owner":{"account_id":2609869,"reputation":652,"user_id":2260172,"accept_rate":93,"display_name":"Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5339,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38554007,"answer_count":3,"score":3,"last_activity_date":1671303437,"creation_date":1469362171,"question_id":38551846,"body_markdown":"I need a way for getting queue size in ActiveMQ without [using JMX][1] or [Iterate all queue using JMS][2]. Is there any solution for getting queue size using ActiveMQ API. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7714866/any-simple-way-to-get-the-queue-length-of-an-activemq\r\n  [2]: https://stackoverflow.com/questions/13603949/count-number-of-messages-in-a-jms-queue","title":"ActiveMQ get queue size without using JMX, JMS","body":"<p>I need a way for getting queue size in ActiveMQ without <a href=\"https://stackoverflow.com/questions/7714866/any-simple-way-to-get-the-queue-length-of-an-activemq\">using JMX</a> or <a href=\"https://stackoverflow.com/questions/13603949/count-number-of-messages-in-a-jms-queue\">Iterate all queue using JMS</a>. Is there any solution for getting queue size using ActiveMQ API. </p>\n"},{"tags":["java","docx4j"],"answers":[{"tags":[],"owner":{"account_id":16490568,"reputation":21,"user_id":11914597,"display_name":"Hendrik H&#246;tker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671303116,"creation_date":1671303116,"answer_id":74836637,"question_id":74835839,"body_markdown":"Obviously I need to check my build system. Extracting all to a core application without all the other dependencies it just worked out of the box.","title":"Docx4J - Clarification of needed dependencies","body":"<p>Obviously I need to check my build system. Extracting all to a core application without all the other dependencies it just worked out of the box.</p>\n"}],"owner":{"account_id":16490568,"reputation":21,"user_id":11914597,"display_name":"Hendrik H&#246;tker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671303116,"creation_date":1671295987,"question_id":74835839,"body_markdown":"I have the following code in a main application as sample to try docx -&gt; pdf conversion:\r\n\r\n        try {\r\n            InputStream templateInputStream = new FileInputStream(&quot;Hello World.docx&quot;);\r\n            WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\r\n            MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n\r\n            String outputfilepath = &quot;test.pdf&quot;;\r\n            FileOutputStream os = new FileOutputStream(outputfilepath);\r\n            Docx4J.toPDF(wordMLPackage,os);\r\n            os.flush();\r\n            os.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nThe maven pom includes the following dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-MOXy --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-export-fo --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIt outputs the following logs and stack trace:\r\n\r\n    [JavaFX Application Thread] WARN org.docx4j.utils.ResourceUtils - Couldn&#39;t get resource: docx4j.properties\r\n    [JavaFX Application Thread] WARN org.docx4j.Docx4jProperties - Couldn&#39;t find/read docx4j.properties; docx4j.properties not found via classloader.\r\n    [JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.vendor=Oracle Corporation\r\n    [JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.version=17.0.1\r\n    [JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.vm.name=OpenJDK 64-Bit Server VM\r\n    [JavaFX Application Thread] INFO org.docx4j.jaxb.Context - MOXy JAXB implementation is in use!\r\n    [JavaFX Application Thread] WARN org.docx4j.XmlUtils - Xalan jar missing from classpath; xslt not supported\r\n    [JavaFX Application Thread] INFO org.docx4j.XmlUtils - setProperty com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\r\n    [JavaFX Application Thread] WARN org.docx4j.XmlUtils - actual SAXParserFactory: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\r\n    [JavaFX Application Thread] INFO org.docx4j.XmlUtils - setProperty com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\r\n    [JavaFX Application Thread] WARN org.docx4j.XmlUtils - actual DocumentBuilderFactory: com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\r\n    [JavaFX Application Thread] INFO org.docx4j.openpackaging.contenttype.ContentTypeManager - Detected WordProcessingML package \r\n    [JavaFX Application Thread] INFO org.docx4j.openpackaging.contenttype.ContentTypeManager - Detected WordProcessingML package \r\n    [JavaFX Application Thread] INFO org.docx4j.openpackaging.io3.Load3 - Instantiated package of type org.docx4j.openpackaging.packages.WordprocessingMLPackage\r\n    [JavaFX Application Thread] INFO org.docx4j.utils.XPathFactoryUtil - xpath implementation: com.sun.org.apache.xpath.internal.jaxp.XPathFactoryImpl\r\n    [JavaFX Application Thread] INFO org.docx4j.openpackaging.io3.Load3 - package read;  elapsed time: 1097 ms\r\n    [JavaFX Application Thread] WARN org.docx4j.fonts.fop.fonts.autodetect.FontInfoFinder - Skipping font file that failed to load previously: file:/System/Library/Fonts/AppleSDGothicNeo.ttc\r\n\r\n    [JavaFX Application Thread] ERROR org.docx4j.XmlUtils - Cannot find class &#39;org.docx4j.convert.out.common.XsltCommonFunctions&#39;.\r\n    javax.xml.transform.TransformerException: Cannot find class &#39;org.docx4j.convert.out.common.XsltCommonFunctions&#39;.\r\n    \tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.passErrorsToListener(TransformerFactoryImpl.java:876)\r\n    \tat java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1083)\r\n    \tat org.docx4j.XmlUtils.getTransformerTemplate(XmlUtils.java:1347)\r\n    \tat org.docx4j.convert.out.common.AbstractXsltExporterDelegate.loadDefaultTemplates(AbstractXsltExporterDelegate.java:98)\r\n    \tat org.docx4j.convert.out.common.AbstractXsltExporterDelegate.getDefaultTemplate(AbstractXsltExporterDelegate.java:85)\r\n    \tat org.docx4j.convert.out.common.AbstractXsltExporterDelegate.getTemplates(AbstractXsltExporterDelegate.java:76)\r\n    \tat org.docx4j.convert.out.common.AbstractXsltExporterDelegate.process(AbstractXsltExporterDelegate.java:64)\r\n    \tat org.docx4j.convert.out.common.AbstractWmlExporter.process(AbstractWmlExporter.java:82)\r\n    \tat org.docx4j.convert.out.common.AbstractWmlExporter.process(AbstractWmlExporter.java:32)\r\n    \tat org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:80)\r\n    \tat org.docx4j.Docx4J.toFO(Docx4J.java:711)\r\n    \tat org.docx4j.Docx4J.toPDF(Docx4J.java:744)\r\n\r\n\r\nI can&#39;t see which dependencies are potentially missing. I tried also with the 11.4.8 variants as I am working on Java 17. I tried with Xalan and Xerces, but this gives other exceptions not being able to instantiate the SAXParser...\r\n\r\nAnyone who can give some hints, please?\r\n","title":"Docx4J - Clarification of needed dependencies","body":"<p>I have the following code in a main application as sample to try docx -&gt; pdf conversion:</p>\n<pre><code>    try {\n        InputStream templateInputStream = new FileInputStream(&quot;Hello World.docx&quot;);\n        WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\n        MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n\n        String outputfilepath = &quot;test.pdf&quot;;\n        FileOutputStream os = new FileOutputStream(outputfilepath);\n        Docx4J.toPDF(wordMLPackage,os);\n        os.flush();\n        os.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The maven pom includes the following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-JAXB-MOXy --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-JAXB-MOXy&lt;/artifactId&gt;\n        &lt;version&gt;8.3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.docx4j/docx4j-export-fo --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n        &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n        &lt;version&gt;8.3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>It outputs the following logs and stack trace:</p>\n<pre><code>[JavaFX Application Thread] WARN org.docx4j.utils.ResourceUtils - Couldn't get resource: docx4j.properties\n[JavaFX Application Thread] WARN org.docx4j.Docx4jProperties - Couldn't find/read docx4j.properties; docx4j.properties not found via classloader.\n[JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.vendor=Oracle Corporation\n[JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.version=17.0.1\n[JavaFX Application Thread] INFO org.docx4j.jaxb.Context - java.vm.name=OpenJDK 64-Bit Server VM\n[JavaFX Application Thread] INFO org.docx4j.jaxb.Context - MOXy JAXB implementation is in use!\n[JavaFX Application Thread] WARN org.docx4j.XmlUtils - Xalan jar missing from classpath; xslt not supported\n[JavaFX Application Thread] INFO org.docx4j.XmlUtils - setProperty com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n[JavaFX Application Thread] WARN org.docx4j.XmlUtils - actual SAXParserFactory: com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\n[JavaFX Application Thread] INFO org.docx4j.XmlUtils - setProperty com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\n[JavaFX Application Thread] WARN org.docx4j.XmlUtils - actual DocumentBuilderFactory: com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\n[JavaFX Application Thread] INFO org.docx4j.openpackaging.contenttype.ContentTypeManager - Detected WordProcessingML package \n[JavaFX Application Thread] INFO org.docx4j.openpackaging.contenttype.ContentTypeManager - Detected WordProcessingML package \n[JavaFX Application Thread] INFO org.docx4j.openpackaging.io3.Load3 - Instantiated package of type org.docx4j.openpackaging.packages.WordprocessingMLPackage\n[JavaFX Application Thread] INFO org.docx4j.utils.XPathFactoryUtil - xpath implementation: com.sun.org.apache.xpath.internal.jaxp.XPathFactoryImpl\n[JavaFX Application Thread] INFO org.docx4j.openpackaging.io3.Load3 - package read;  elapsed time: 1097 ms\n[JavaFX Application Thread] WARN org.docx4j.fonts.fop.fonts.autodetect.FontInfoFinder - Skipping font file that failed to load previously: file:/System/Library/Fonts/AppleSDGothicNeo.ttc\n\n[JavaFX Application Thread] ERROR org.docx4j.XmlUtils - Cannot find class 'org.docx4j.convert.out.common.XsltCommonFunctions'.\njavax.xml.transform.TransformerException: Cannot find class 'org.docx4j.convert.out.common.XsltCommonFunctions'.\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.passErrorsToListener(TransformerFactoryImpl.java:876)\n    at java.xml/com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:1083)\n    at org.docx4j.XmlUtils.getTransformerTemplate(XmlUtils.java:1347)\n    at org.docx4j.convert.out.common.AbstractXsltExporterDelegate.loadDefaultTemplates(AbstractXsltExporterDelegate.java:98)\n    at org.docx4j.convert.out.common.AbstractXsltExporterDelegate.getDefaultTemplate(AbstractXsltExporterDelegate.java:85)\n    at org.docx4j.convert.out.common.AbstractXsltExporterDelegate.getTemplates(AbstractXsltExporterDelegate.java:76)\n    at org.docx4j.convert.out.common.AbstractXsltExporterDelegate.process(AbstractXsltExporterDelegate.java:64)\n    at org.docx4j.convert.out.common.AbstractWmlExporter.process(AbstractWmlExporter.java:82)\n    at org.docx4j.convert.out.common.AbstractWmlExporter.process(AbstractWmlExporter.java:32)\n    at org.docx4j.convert.out.common.AbstractExporter.export(AbstractExporter.java:80)\n    at org.docx4j.Docx4J.toFO(Docx4J.java:711)\n    at org.docx4j.Docx4J.toPDF(Docx4J.java:744)\n</code></pre>\n<p>I can't see which dependencies are potentially missing. I tried also with the 11.4.8 variants as I am working on Java 17. I tried with Xalan and Xerces, but this gives other exceptions not being able to instantiate the SAXParser...</p>\n<p>Anyone who can give some hints, please?</p>\n"},{"tags":["java","gradle","geotools"],"comments":[{"owner":{"account_id":27103961,"reputation":1,"user_id":20650077,"display_name":"mrFloony"},"score":0,"creation_date":1669877173,"post_id":74634803,"comment_id":131743773,"body_markdown":"P.s. thought to add PackagingOptions for file plugin.xml, but did not understand in which block it should have been added, and I don&#39;t know if it will help","body":"P.s. thought to add PackagingOptions for file plugin.xml, but did not understand in which block it should have been added, and I don&#39;t know if it will help"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1669882301,"post_id":74634803,"comment_id":131745102,"body_markdown":"I don&#39;t think GeoTools works on Android.","body":"I don&#39;t think GeoTools works on Android."},{"owner":{"account_id":27103961,"reputation":1,"user_id":20650077,"display_name":"mrFloony"},"score":0,"creation_date":1669884070,"post_id":74634803,"comment_id":131745579,"body_markdown":"@IanTurton, I tried to connect to the project without building in Gradle, through JUnit, and the library functionality worked fine (that is, Gradle normally sees the library itself, downloads it and uses it).\nThe problem is only during the assembly of the project itself in the mergeDebugJavaResource/mergeJavaResource block, and it is not clear which way to fix","body":"@IanTurton, I tried to connect to the project without building in Gradle, through JUnit, and the library functionality worked fine (that is, Gradle normally sees the library itself, downloads it and uses it). The problem is only during the assembly of the project itself in the mergeDebugJavaResource/mergeJavaResource block, and it is not clear which way to fix"},{"owner":{"account_id":27103961,"reputation":1,"user_id":20650077,"display_name":"mrFloony"},"score":0,"creation_date":1669884167,"post_id":74634803,"comment_id":131745602,"body_markdown":"P.s. except that the idea arose to add the repository not to the general project, but to the core (an internal module that does not interact with android, but performs utilitarian functions, and there you need to perform the necessary actions with the library)","body":"P.s. except that the idea arose to add the repository not to the general project, but to the core (an internal module that does not interact with android, but performs utilitarian functions, and there you need to perform the necessary actions with the library)"}],"owner":{"account_id":27103961,"reputation":1,"user_id":20650077,"display_name":"mrFloony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671302939,"creation_date":1669846602,"question_id":74634803,"body_markdown":"I&#39;m working on an android project and need to use the Geotools library.\r\nBuilding the project after adding the library is incorrect.\r\n\r\n\r\n&gt; classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n\r\n\r\nAdding a repository to Gradle:\r\n\r\n\r\n```\r\nrepositories {\r\n    maven { url &quot;https://repo.osgeo.org/repository/release/&quot; }  // &lt;---\r\n    mavenLocal()\r\n    mavenCentral()\r\n    google()\r\n    gradlePluginPortal()\r\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n    maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n    maven { url &quot;https://jitpack.io&quot; }\r\n}\r\n```\r\n\r\nAdding a dependency to Gradle: \r\n\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.geotools:gt-main:28.0&#39;  // &lt;---\r\n    testImplementation &quot;junit:junit:$junitVersion&quot;\r\n}\r\n```\r\n\r\nI get an error during the build:\r\n\r\n\r\n```\r\n&gt; Task :android:mergeDebugJavaResource FAILED\r\nExecution failed for task &#39;:android:mergeDebugJavaResource&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\r\n   &gt; 2 files found with path &#39;plugin.xml&#39; from inputs:\r\n      - C:\\gradle\\caches\\transforms-3\\4ee35d2fa6e19aaa21a107f9d19d12b8\\transformed\\jetified-org.eclipse.emf.ecore.xmi-2.15.0.jar\r\n      - C:\\gradle\\caches\\transforms-3\\c4ca9df1db430b1e56c1959084f034a1\\transformed\\jetified-org.eclipse.emf.ecore-2.15.0.jar\r\n     Adding a packagingOptions block may help, please refer to\r\n     https://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.PackagingOptions.html\r\n     for more information\r\n```\r\n\r\nDowngrading the library version does not help. \r\nPlease, assist in the assembly, I have been sitting for the third night\r\n\r\n**Update** \r\nI will answer for myself:\r\nchanged the repository to \r\n\r\nhttps://repo.osgeo.org/repository/geotools-releases/\r\n\r\nadding a block also helped:\r\n\r\n```\r\nandroid {\r\n    packagingOptions {\r\n        exclude &#39;AndroidManifest.xml&#39;\r\n        exclude &#39;plugin.xml&#39;\r\n        exclude &#39;about.ini&#39;\r\n        exclude &#39;about.mappings&#39;\r\n        exclude &#39;modeling32.png&#39;\r\n        exclude &#39;about.properties&#39;\r\n        exclude &#39;plugin.properties&#39;\r\n    }\r\n}\r\n```\r\n\r\nMight be useful to someone :)","title":"Error while building Android project with using Geotools (solved)","body":"<p>I'm working on an android project and need to use the Geotools library.\nBuilding the project after adding the library is incorrect.</p>\n<blockquote>\n<p>classpath 'com.android.tools.build:gradle:7.0.4'</p>\n</blockquote>\n<p>Adding a repository to Gradle:</p>\n<pre><code>repositories {\n    maven { url &quot;https://repo.osgeo.org/repository/release/&quot; }  // &lt;---\n    mavenLocal()\n    mavenCentral()\n    google()\n    gradlePluginPortal()\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n    maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n    maven { url &quot;https://jitpack.io&quot; }\n}\n</code></pre>\n<p>Adding a dependency to Gradle:</p>\n<pre><code>dependencies {\n    implementation 'org.geotools:gt-main:28.0'  // &lt;---\n    testImplementation &quot;junit:junit:$junitVersion&quot;\n}\n</code></pre>\n<p>I get an error during the build:</p>\n<pre><code>&gt; Task :android:mergeDebugJavaResource FAILED\nExecution failed for task ':android:mergeDebugJavaResource'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.MergeJavaResWorkAction\n   &gt; 2 files found with path 'plugin.xml' from inputs:\n      - C:\\gradle\\caches\\transforms-3\\4ee35d2fa6e19aaa21a107f9d19d12b8\\transformed\\jetified-org.eclipse.emf.ecore.xmi-2.15.0.jar\n      - C:\\gradle\\caches\\transforms-3\\c4ca9df1db430b1e56c1959084f034a1\\transformed\\jetified-org.eclipse.emf.ecore-2.15.0.jar\n     Adding a packagingOptions block may help, please refer to\n     https://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.PackagingOptions.html\n     for more information\n</code></pre>\n<p>Downgrading the library version does not help.\nPlease, assist in the assembly, I have been sitting for the third night</p>\n<p><strong>Update</strong>\nI will answer for myself:\nchanged the repository to</p>\n<p><a href=\"https://repo.osgeo.org/repository/geotools-releases/\" rel=\"nofollow noreferrer\">https://repo.osgeo.org/repository/geotools-releases/</a></p>\n<p>adding a block also helped:</p>\n<pre><code>android {\n    packagingOptions {\n        exclude 'AndroidManifest.xml'\n        exclude 'plugin.xml'\n        exclude 'about.ini'\n        exclude 'about.mappings'\n        exclude 'modeling32.png'\n        exclude 'about.properties'\n        exclude 'plugin.properties'\n    }\n}\n</code></pre>\n<p>Might be useful to someone :)</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1671201232,"post_id":74825756,"comment_id":132054384,"body_markdown":"to pass as a list or set in an url you need an url like this -&gt;  localhost:8090/students/all?ids=id1,id2,id3,etc, or like this localhost:8090/students/all?ids=id1&amp;ids=id2&amp;ids=id3.","body":"to pass as a list or set in an url you need an url like this -&gt;  localhost:8090/students/all?ids=id1,id2,id3,etc, or like this localhost:8090/students/all?ids=id1&amp;ids=id2&amp;ids=id3."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1671201407,"post_id":74825756,"comment_id":132054454,"body_markdown":"@Anon Yes, I have url like this.","body":"@Anon Yes, I have url like this."},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1671201563,"post_id":74825756,"comment_id":132054507,"body_markdown":"If you are potentially going to have a large set, it&#39;s probably better to change your method to POST or a PUT so that you can put the  parameters into the body of the request as JSON. Doing so is not strictly RESTful, but to me, makes more sense in a situation like this.","body":"If you are potentially going to have a large set, it&#39;s probably better to change your method to POST or a PUT so that you can put the  parameters into the body of the request as JSON. Doing so is not strictly RESTful, but to me, makes more sense in a situation like this."},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1671201656,"post_id":74825756,"comment_id":132054545,"body_markdown":"@GreyBeardedGeek No, I exactly need Get because of documentation, and I will have no more than 5 values in set.","body":"@GreyBeardedGeek No, I exactly need Get because of documentation, and I will have no more than 5 values in set."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671206727,"post_id":74825756,"comment_id":132056300,"body_markdown":"i did some tests this url should do what you want &quot;http: //localhost:8090/students/all?ids=&quot;  put this on the restTemplate.exchange.  Note i also change the Sets to Lists the url has a space after the http: just remove the space","body":"i did some tests this url should do what you want &quot;http: //localhost:8090/students/all?ids=&quot;  put this on the restTemplate.exchange.  Note i also change the Sets to Lists the url has a space after the http: just remove the space"},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1671392981,"post_id":74825756,"comment_id":132084781,"body_markdown":"@Anon So there is no way to send Set itself, I need to convert it to List?","body":"@Anon So there is no way to send Set itself, I need to convert it to List?"},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1671394222,"post_id":74825756,"comment_id":132084991,"body_markdown":"@Anon But it does not send nothing with such way (&quot;http://localhost:8090/students/all?ids=&quot;). I converted to List, but didn&#39;t get nothing in Service 2. There is no any values.","body":"@Anon But it does not send nothing with such way (&quot;<a href=\"http://localhost:8090/students/all?ids=&quot;\" rel=\"nofollow noreferrer\">localhost:8090/students/all?ids=&quot;</a>). I converted to List, but didn&#39;t get nothing in Service 2. There is no any values."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671406798,"post_id":74825756,"comment_id":132087013,"body_markdown":"weird because i tested with 2 controllers and one service and going from controller A to the service then it call the  controller B and it gave me the result i was expecting and i used the same code you gave me just with Lists and the url change also dont forget to write the http://  at the start or it will give an error","body":"weird because i tested with 2 controllers and one service and going from controller A to the service then it call the  controller B and it gave me the result i was expecting and i used the same code you gave me just with Lists and the url change also dont forget to write the http://  at the start or it will give an error"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671407314,"post_id":74825756,"comment_id":132087082,"body_markdown":"if you are still having problems i can do an answer with some code that will help you with this","body":"if you are still having problems i can do an answer with some code that will help you with this"},{"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"score":0,"creation_date":1671425012,"post_id":74825756,"comment_id":132089079,"body_markdown":"@Anon Yes, I added http:// . Maybe it will be more clear with some code, thanks.","body":"@Anon Yes, I added http:// . Maybe it will be more clear with some code, thanks."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1671452276,"post_id":74825756,"comment_id":132095146,"body_markdown":"i was wrong sorry but you can do what skidwiz posted since its correct or you can just create a string variable to store the ids and the used that for the uriVariables like this.\n \nString urlIds = ids.stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;));\n\nrestTemplate.exchange(&quot;http: //localhost:8090/students/all?ids={urlIds}&quot;,\n                HttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;List&lt;StudentDTO&gt;&gt;() {}, urlIds).getBody();","body":"i was wrong sorry but you can do what skidwiz posted since its correct or you can just create a string variable to store the ids and the used that for the uriVariables like this.   String urlIds = ids.stream().map(String::valueOf).collect(Collectors.joining&zwnj;&#8203;(&quot;,&quot;));  restTemplate.exchange(&quot;http: //localhost:8090/students/all?ids={urlIds}&quot;,                 HttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;List&lt;StudentDTO&gt;&gt;() {}, urlIds).getBody();"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671210314,"creation_date":1671210314,"answer_id":74827620,"question_id":74825756,"body_markdown":"Your url is being formed incorrectly.  By using `all?ids={ids}` the resulting url sent to the service layer is `http://localhost:8090/students/all?ids=%5B23677,%2012345,%201645543%5D`.  This is because the brackets from the set are being added to the url, but aren&#39;t interpreted properly.  You can fix this by sending it as a comma delimited String appended to the URL, like this.\r\n\r\n```java\r\npublic Set&lt;Long&gt; getStudentsByIds(Set&lt;Long&gt; ids){\r\n\tString studentIdsUrl = &quot;http://localhost:8080/api/all?ids=&quot; + ids.stream().map(Object::toString).collect(Collectors.joining(&quot;,&quot;));\r\n\treturn restTemplate.exchange(studentIdsUrl,\r\n\t\tHttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;Set&lt;Long&gt;&gt;() {}, ids).getBody();\r\n}\r\n```","title":"RestTemplate GET exchange with Set&lt;Long&gt; parameter","body":"<p>Your url is being formed incorrectly.  By using <code>all?ids={ids}</code> the resulting url sent to the service layer is <code>http://localhost:8090/students/all?ids=%5B23677,%2012345,%201645543%5D</code>.  This is because the brackets from the set are being added to the url, but aren't interpreted properly.  You can fix this by sending it as a comma delimited String appended to the URL, like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Set&lt;Long&gt; getStudentsByIds(Set&lt;Long&gt; ids){\n    String studentIdsUrl = &quot;http://localhost:8080/api/all?ids=&quot; + ids.stream().map(Object::toString).collect(Collectors.joining(&quot;,&quot;));\n    return restTemplate.exchange(studentIdsUrl,\n        HttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;Set&lt;Long&gt;&gt;() {}, ids).getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":25542844,"reputation":21,"user_id":19328644,"display_name":"Alex"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671301848,"creation_date":1671200638,"question_id":74825756,"body_markdown":"I have two services (A and B). I want to send a GET request from service A to service B. Here how my request looks like (Service A):\r\n\r\n    public Set&lt;StudentDTO&gt; getStudentsByIds(Set&lt;Long&gt; ids) {  //here may be a set of ids [123213L, 435564L]\r\n        return restTemplate.exchange(&quot;localhost:8090/students/all?ids={ids}&quot;,\r\n            HttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;Set&lt;StudentDTO&gt;&gt;() {}, ids).getBody();\r\n    }\r\n\r\nHere how my Service B controller looks like:\r\n\r\n    @RequestMapping(&quot;/students&quot;)\r\n    public class StudentController {\r\n        @GetMapping(&quot;/all&quot;)\r\n        public Set&lt;StudentDTO&gt; getStudentsByIds(@RequestParam Set&lt;Long&gt; ids) {\r\n            return studentService.getStudentsByIds(ids);\r\n        }\r\n    \r\n    }\r\n\r\nI am having trouble with sending set as parameter. I guess we can&#39;t put Set as parameter. I tried already turning set to String and removing the brackets from it like following and it worked:\r\n\r\n    String ids = ids.toString().substring(1, ids.toString().length() - 1);\r\n\r\nBut maybe there better solution or is there any solution to send Set?\r\n\r\nMy url looks like this: `localhost:8090/students/all?ids=id1&amp;ids=id2&amp;ids=id3`","title":"RestTemplate GET exchange with Set&lt;Long&gt; parameter","body":"<p>I have two services (A and B). I want to send a GET request from service A to service B. Here how my request looks like (Service A):</p>\n<pre><code>public Set&lt;StudentDTO&gt; getStudentsByIds(Set&lt;Long&gt; ids) {  //here may be a set of ids [123213L, 435564L]\n    return restTemplate.exchange(&quot;localhost:8090/students/all?ids={ids}&quot;,\n        HttpMethod.GET, new HttpEntity&lt;&gt;(ids), new ParameterizedTypeReference&lt;Set&lt;StudentDTO&gt;&gt;() {}, ids).getBody();\n}\n</code></pre>\n<p>Here how my Service B controller looks like:</p>\n<pre><code>@RequestMapping(&quot;/students&quot;)\npublic class StudentController {\n    @GetMapping(&quot;/all&quot;)\n    public Set&lt;StudentDTO&gt; getStudentsByIds(@RequestParam Set&lt;Long&gt; ids) {\n        return studentService.getStudentsByIds(ids);\n    }\n\n}\n</code></pre>\n<p>I am having trouble with sending set as parameter. I guess we can't put Set as parameter. I tried already turning set to String and removing the brackets from it like following and it worked:</p>\n<pre><code>String ids = ids.toString().substring(1, ids.toString().length() - 1);\n</code></pre>\n<p>But maybe there better solution or is there any solution to send Set?</p>\n<p>My url looks like this: <code>localhost:8090/students/all?ids=id1&amp;ids=id2&amp;ids=id3</code></p>\n"},{"tags":["java","hashcode","jit","java-record"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1671285982,"post_id":74834733,"comment_id":132069113,"body_markdown":"I think this will be pretty inefficient. Why not just use [`Objects.hash(...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#hash(java.lang.Object...))","body":"I think this will be pretty inefficient. Why not just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#hash(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>Objects.hash(...)</code></a>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":2,"creation_date":1671286042,"post_id":74834733,"comment_id":132069118,"body_markdown":"@MarkRotteveel That boxes primitives and allocates an array.","body":"@MarkRotteveel That boxes primitives and allocates an array."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671286322,"post_id":74834733,"comment_id":132069173,"body_markdown":"That is still likely to be more efficient and optimizable than trying to create a lot of records.","body":"That is still likely to be more efficient and optimizable than trying to create a lot of records."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671287279,"post_id":74834733,"comment_id":132069369,"body_markdown":"In my experience, the JVM is pretty bad at optimizing away object creation like this, especially in a loop.  You could probably micro-benchmark this and see if the version involving only primitives runs faster... (Or the reflection might dominate the loop overhead and the object creation might not matter.)","body":"In my experience, the JVM is pretty bad at optimizing away object creation like this, especially in a loop.  You could probably micro-benchmark this and see if the version involving only primitives runs faster... (Or the reflection might dominate the loop overhead and the object creation might not matter.)"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":1,"creation_date":1671288086,"post_id":74834733,"comment_id":132069559,"body_markdown":"With proper stack allocation, method inlining and live register analysis, the HashCode record should generate identical instructions to a primitive multiply/add for loop.  I&#39;m not familiar with Java&#39;s performance / inlining guarantees when it comes to records, but I&#39;m familiar with the compiler optimisations available.","body":"With proper stack allocation, method inlining and live register analysis, the HashCode record should generate identical instructions to a primitive multiply/add for loop.  I&#39;m not familiar with Java&#39;s performance / inlining guarantees when it comes to records, but I&#39;m familiar with the compiler optimisations available."},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":1,"creation_date":1671288240,"post_id":74834733,"comment_id":132069579,"body_markdown":"@Boann the JIT might be at liberty to inline and unroll the array to the stack too, but I suspect records are more likely to be optimised this way.","body":"@Boann the JIT might be at liberty to inline and unroll the array to the stack too, but I suspect records are more likely to be optimised this way."},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":1,"creation_date":1671288455,"post_id":74834733,"comment_id":132069614,"body_markdown":"@markspace remember these are records, and their immutability contract begs for them to be inlined by the JIT, I don&#39;t know what guarantees there are.  Certainly the objects never leave the method. and only one object is alive at a time, so the same stack area can used for all instances, meaning it should translate to a single int value; on the stack, with an inlined update() assignment;","body":"@markspace remember these are records, and their immutability contract begs for them to be inlined by the JIT, I don&#39;t know what guarantees there are.  Certainly the objects never leave the method. and only one object is alive at a time, so the same stack area can used for all instances, meaning it should translate to a single int value; on the stack, with an inlined update() assignment;"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1671292736,"post_id":74834733,"comment_id":132070322,"body_markdown":"@MarkRotteveel My point is, with even the most rudamentary of jit analysis, no records should ever be created on the heap. A combination of stack inlining, live variable analysis and method inlining will very quickly reduce this to the multiply-and-add for loops that we commonly see for hashcode generation.","body":"@MarkRotteveel My point is, with even the most rudamentary of jit analysis, no records should ever be created on the heap. A combination of stack inlining, live variable analysis and method inlining will very quickly reduce this to the multiply-and-add for loops that we commonly see for hashcode generation."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678449157,"post_id":74834733,"comment_id":133538998,"body_markdown":"@Boann the OP’s code has already an array of objects, so passing that to `Objects.hash(…)` has no overhead at all.","body":"@Boann the OP’s code has already an array of objects, so passing that to <code>Objects.hash(…)</code> has no overhead at all."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1678455798,"post_id":74834733,"comment_id":133540764,"body_markdown":"@Holger How many hashCode methods have you ever written where each field was already boxed and all were in an array?","body":"@Holger How many hashCode methods have you ever written where each field was already boxed and all were in an array?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678459275,"post_id":74834733,"comment_id":133541818,"body_markdown":"@Boann I’m specifically referring to the OP’s loop in this question we’re all commenting. If you have actual distinct fields rather than such an array, there is no problem in using the right idiom for each field, i.e. 1) just use the value for integer types, 2) Use [`Double.hashCode(double)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#hashCode(double)) etc. for the non-integer primitive types 3) use `object.hashCode()` only for actual objects. Then, if you don’t have an array, you don’t have a loop, so you might just write `((a * 31) + b) * 31 + c`, etc.","body":"@Boann I’m specifically referring to the OP’s loop in this question we’re all commenting. If you have actual distinct fields rather than such an array, there is no problem in using the right idiom for each field, i.e. 1) just use the value for integer types, 2) Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html#hashCode(double)\" rel=\"nofollow noreferrer\"><code>Double.hashCode(double)</code></a> etc. for the non-integer primitive types 3) use <code>object.hashCode()</code> only for actual objects. Then, if you don’t have an array, you don’t have a loop, so you might just write <code>((a * 31) + b) * 31 + c</code>, etc."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678459313,"post_id":74834733,"comment_id":133541828,"body_markdown":"@Boann or just use a `record` in the first place which gets an appropriate `hashCode()` method for free.","body":"@Boann or just use a <code>record</code> in the first place which gets an appropriate <code>hashCode()</code> method for free."}],"answers":[{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1671305382,"post_id":74836454,"comment_id":132072684,"body_markdown":"So basically you are saying that as currently implemented, records may not be aggressively inlined or converted to memory on the stack, there&#39;s a real chance that the JVM just allocates the records on the heap instead?","body":"So basically you are saying that as currently implemented, records may not be aggressively inlined or converted to memory on the stack, there&#39;s a real chance that the JVM just allocates the records on the heap instead?"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1671322179,"post_id":74836454,"comment_id":132075242,"body_markdown":"Yes, from the JEP 401 draft: &quot;Previously, JVMs have used similar optimization techniques to inline identity objects when the JVM is able to prove that an object&#39;s identity is never used. Developers can expect more predictable and widespread optimizations for value objects.&quot;","body":"Yes, from the JEP 401 draft: &quot;Previously, JVMs have used similar optimization techniques to inline identity objects when the JVM is able to prove that an object&#39;s identity is never used. Developers can expect more predictable and widespread optimizations for value objects.&quot;"},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1671322384,"post_id":74836454,"comment_id":132075264,"body_markdown":"I also like this comment they made in the draft: &quot;Hand-coded optimizations via basic primitive values are possible to improve performance, but as noted in the &quot;Motivation&quot; section, these techniques require giving up valuable abstractions.&quot; echoes my sentiments exactly.","body":"I also like this comment they made in the draft: &quot;Hand-coded optimizations via basic primitive values are possible to improve performance, but as noted in the &quot;Motivation&quot; section, these techniques require giving up valuable abstractions.&quot; echoes my sentiments exactly."},{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":0,"creation_date":1671324933,"post_id":74836454,"comment_id":132075550,"body_markdown":"There&#39;s more changes in the pipeline though.  Value objects don&#39;t have object identity, but are nullable, and in C1 they are still allocated on the heap.  There&#39;s further work to introduce primitive types, which will occupy precisely the memory footprint of their fields.  There&#39;s changes to facilitate interoperability in the context of identity objects, so if `primitive class HashCode` is equivalent to `int`, `HashCode.ref` is the value class equivalent to `Integer`.  These changes are still in the Candidate state though, so there&#39;s no commitment to deliver these in any particular release.","body":"There&#39;s more changes in the pipeline though.  Value objects don&#39;t have object identity, but are nullable, and in C1 they are still allocated on the heap.  There&#39;s further work to introduce primitive types, which will occupy precisely the memory footprint of their fields.  There&#39;s changes to facilitate interoperability in the context of identity objects, so if <code>primitive class HashCode</code> is equivalent to <code>int</code>, <code>HashCode.ref</code> is the value class equivalent to <code>Integer</code>.  These changes are still in the Candidate state though, so there&#39;s no commitment to deliver these in any particular release."}],"tags":[],"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671301420,"creation_date":1671301420,"answer_id":74836454,"question_id":74834733,"body_markdown":"I think I found my answer in another stackoverflow post: https://stackoverflow.com/questions/64756584/are-java-records-stack-allocated-like-c-sharp-structs There are upcoming proposals for Value types, which will achieve this via Scalarization:\r\n\r\n&gt; In C2, value objects on the stack are typically scalarized when stored or passed with concrete value class types. Scalarization effectively encodes each field as a separate variable, with an additional variable encoding null; no heap allocation is needed.\r\n\r\nand\r\n\r\n&gt; Record classes will be able to be declared as value or primitive types to support this sort of stack allocation, but are not required to be.\r\n\r\nSo record types are not the intended solution to this. ","title":"Is Java ready for a HashCode record?","body":"<p>I think I found my answer in another stackoverflow post: <a href=\"https://stackoverflow.com/questions/64756584/are-java-records-stack-allocated-like-c-sharp-structs\">Are Java records stack allocated like C# structs?</a> There are upcoming proposals for Value types, which will achieve this via Scalarization:</p>\n<blockquote>\n<p>In C2, value objects on the stack are typically scalarized when stored or passed with concrete value class types. Scalarization effectively encodes each field as a separate variable, with an additional variable encoding null; no heap allocation is needed.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Record classes will be able to be declared as value or primitive types to support this sort of stack allocation, but are not required to be.</p>\n</blockquote>\n<p>So record types are not the intended solution to this.</p>\n"}],"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1671301420,"creation_date":1671285877,"question_id":74834733,"body_markdown":"Records represent immutable state and are candidates for stack inlining.\r\n\r\nIf I declare a draft outline of a HashCode record, similar to a message digest class, like so:\r\n\r\n```\r\npublic record HashCode(int value) {\r\n    HashCode update(int value) {\r\n        return new HashCode(value() * 31 + value);\r\n    }\r\n    // ... other update convenience methods here\r\n}\r\n\r\n```\r\n\r\nWill the JIT immediately unroll HashCode instances onto the stack for the following approach to hashCode generation?\r\n\r\n\r\n```\r\nHashCode hashCode = new HashCode(0);\r\nfor (Object field : fields) {\r\n    hashCode = hashCode.update(field.hashCode());\r\n}\r\nhash = hashCode.value();\r\n\r\n```\r\n\r\nOr will I encounter pitfalls like unnecessary object churn?\r\n\r\nThis record definition seems like a silver bullet approach to efficient inline hashCode generation.\r\n\r\nAre there any downsides to this approach?\r\n\r\nI recognise that hashCode generation can be influenced by prior knowledge of the distribution of the data being hashed, but this record seems like a drop in replacement for the multiply and add code that&#39;s repeated everywhere, and could even be accommodating to any kind of update, for example other methods could update via xoring etc.\r\n\r\nI&#39;m going to try the above HashCode record but I only like to embrace higher level idioms if I fully understand the tradeoffs I&#39;m making between usability and performance.","title":"Is Java ready for a HashCode record?","body":"<p>Records represent immutable state and are candidates for stack inlining.</p>\n<p>If I declare a draft outline of a HashCode record, similar to a message digest class, like so:</p>\n<pre><code>public record HashCode(int value) {\n    HashCode update(int value) {\n        return new HashCode(value() * 31 + value);\n    }\n    // ... other update convenience methods here\n}\n\n</code></pre>\n<p>Will the JIT immediately unroll HashCode instances onto the stack for the following approach to hashCode generation?</p>\n<pre><code>HashCode hashCode = new HashCode(0);\nfor (Object field : fields) {\n    hashCode = hashCode.update(field.hashCode());\n}\nhash = hashCode.value();\n\n</code></pre>\n<p>Or will I encounter pitfalls like unnecessary object churn?</p>\n<p>This record definition seems like a silver bullet approach to efficient inline hashCode generation.</p>\n<p>Are there any downsides to this approach?</p>\n<p>I recognise that hashCode generation can be influenced by prior knowledge of the distribution of the data being hashed, but this record seems like a drop in replacement for the multiply and add code that's repeated everywhere, and could even be accommodating to any kind of update, for example other methods could update via xoring etc.</p>\n<p>I'm going to try the above HashCode record but I only like to embrace higher level idioms if I fully understand the tradeoffs I'm making between usability and performance.</p>\n"},{"tags":["java","concurrency","race-condition","java-threads"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1670307867,"post_id":74697072,"comment_id":131840048,"body_markdown":"All your lock objects are local to a `Concurrent` instance. Since `Concurrent` extends `Thread` I suspect that you create several `Concurrent` instances and call `start()` on them. But since each `Concurrent` instance has its own lock objects there is effectively no locking (to use locking you must do so on shared lock objects).","body":"All your lock objects are local to a <code>Concurrent</code> instance. Since <code>Concurrent</code> extends <code>Thread</code> I suspect that you create several <code>Concurrent</code> instances and call <code>start()</code> on them. But since each <code>Concurrent</code> instance has its own lock objects there is effectively no locking (to use locking you must do so on shared lock objects)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1670342127,"post_id":74697072,"comment_id":131851739,"body_markdown":"FYI, `public synchronized void run()` is _always_ a bad idea. Declaring the `run()` function to be `synchronized` is the same as saying &quot;This thread must not be allowed to do _anything at all_ while some other thread is doing some thing.&quot; But, if you don&#39;t allow threads to do work at the same time as each other, then what even is the point of creating threads?","body":"FYI, <code>public synchronized void run()</code> is <i>always</i> a bad idea. Declaring the <code>run()</code> function to be <code>synchronized</code> is the same as saying &quot;This thread must not be allowed to do <i>anything at all</i> while some other thread is doing some thing.&quot; But, if you don&#39;t allow threads to do work at the same time as each other, then what even is the point of creating threads?"}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671301161,"creation_date":1671301161,"answer_id":74836424,"question_id":74697072,"body_markdown":"Your locks are not `static`, so every thread uses its own lock what renderes them useless.","title":"Java - Why are the locks not working on my variable in a multithreaded java program?","body":"<p>Your locks are not <code>static</code>, so every thread uses its own lock what renderes them useless.</p>\n"}],"owner":{"account_id":18656325,"reputation":1,"user_id":13598666,"display_name":"Constantine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671301161,"creation_date":1670298570,"question_id":74697072,"body_markdown":"I am trying to learn concurrency in Java and not getting the desired results, why arent my locks working? I have tried every tutorial I can find and it is getting me closer, but not 100%\r\n\r\n```java\r\nimport java.util.concurrent.locks.*;\r\npublic class Concurrent extends Thread {\r\n  private Object lock1;// = new Object();\r\n  // static means the variable is shared by all objects, i.e. global\r\n  static long counter = 0;\r\n  static long threads = 10;\r\n  static long count_each = 1000000;\r\n  //private Object lock1 = new Object();\r\n  private Object lock2 = new Object();\r\n  ReentrantLock lock = new ReentrantLock();\r\n\r\n  public synchronized void run() //Helps ++\r\n  //public void run() \r\n  {    \r\n    //synchronized (lock1) \r\n    //{\r\n        //lock.lock();\r\n        //Object lock1 = new Object();\r\n        long count = count_each;   // local variable for this thread only\r\n        while (count-- &gt; 0) \r\n        {   \r\n            //lock.lock();\r\n            //try \r\n            //{\r\n            Object lock1 = new Object();\r\n            synchronized (lock1)  //Helps ++\r\n            {\r\n                counter++;\r\n            }\r\n            //}\r\n            //finally \r\n            //{\r\n            //    lock.unlock();\r\n            //}\r\n        }\r\n        //lock.unlock();\r\n    //}\r\n\r\n  }\r\n```\r\n\r\n\r\n\r\nPrevious attempts are commented out, I have tried just about every combination of everythnig you see.","title":"Java - Why are the locks not working on my variable in a multithreaded java program?","body":"<p>I am trying to learn concurrency in Java and not getting the desired results, why arent my locks working? I have tried every tutorial I can find and it is getting me closer, but not 100%</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.locks.*;\npublic class Concurrent extends Thread {\n  private Object lock1;// = new Object();\n  // static means the variable is shared by all objects, i.e. global\n  static long counter = 0;\n  static long threads = 10;\n  static long count_each = 1000000;\n  //private Object lock1 = new Object();\n  private Object lock2 = new Object();\n  ReentrantLock lock = new ReentrantLock();\n\n  public synchronized void run() //Helps ++\n  //public void run() \n  {    \n    //synchronized (lock1) \n    //{\n        //lock.lock();\n        //Object lock1 = new Object();\n        long count = count_each;   // local variable for this thread only\n        while (count-- &gt; 0) \n        {   \n            //lock.lock();\n            //try \n            //{\n            Object lock1 = new Object();\n            synchronized (lock1)  //Helps ++\n            {\n                counter++;\n            }\n            //}\n            //finally \n            //{\n            //    lock.unlock();\n            //}\n        }\n        //lock.unlock();\n    //}\n\n  }\n</code></pre>\n<p>Previous attempts are commented out, I have tried just about every combination of everythnig you see.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1671300329,"post_id":74836200,"comment_id":132071671,"body_markdown":"Did u mean that, if `ResultActivity.class` is the only `Activity` I will be launch from drop down notification, I can then use `FLAG_UPDATE_CURRENT`? If, I will launch `ResultActivity1.class` sometimes, and launch `ResultActivity2class` sometimes, from the **same** drop down notification, I need to use `FLAG_CANCEL_CURRENT`?","body":"Did u mean that, if <code>ResultActivity.class</code> is the only <code>Activity</code> I will be launch from drop down notification, I can then use <code>FLAG_UPDATE_CURRENT</code>? If, I will launch <code>ResultActivity1.class</code> sometimes, and launch <code>ResultActivity2class</code> sometimes, from the <b>same</b> drop down notification, I need to use <code>FLAG_CANCEL_CURRENT</code>?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1671300704,"post_id":74836200,"comment_id":132071740,"body_markdown":"No, nowhere close.  If you change the Activity class you CANNOT use UPDATE_CURRENT.","body":"No, nowhere close.  If you change the Activity class you CANNOT use UPDATE_CURRENT."},{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1671300968,"post_id":74836200,"comment_id":132071775,"body_markdown":"Strange. I just test using a home widget. I toggle between 2 different PendingIntent.getActivity, on the same home widget, same UI component. Doesn&#39;t observe any issue by using `FLAG_UPDATE_CURRENT`.","body":"Strange. I just test using a home widget. I toggle between 2 different PendingIntent.getActivity, on the same home widget, same UI component. Doesn&#39;t observe any issue by using <code>FLAG_UPDATE_CURRENT</code>."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671299233,"creation_date":1671299233,"answer_id":74836200,"question_id":74835364,"body_markdown":"The first one can be used if you&#39;re just changing some configuration data of the Intent-  some of the parameters in the extras.  The second needs to be used if you&#39;re changing the activity/broadcast/service it&#39;s being sent to.  \r\n\r\nThe first also allows apps that were sent the old pending intent to still use it.  The second only allows apps sent the new one to use it.  For a notification this isn&#39;t applicable, but could be with other uses of a PendingIntent.","title":"Different between FLAG_CANCEL_CURRENT and FLAG_UPDATE_CURRENT when used in PendingIntent.getActivity?","body":"<p>The first one can be used if you're just changing some configuration data of the Intent-  some of the parameters in the extras.  The second needs to be used if you're changing the activity/broadcast/service it's being sent to.</p>\n<p>The first also allows apps that were sent the old pending intent to still use it.  The second only allows apps sent the new one to use it.  For a notification this isn't applicable, but could be with other uses of a PendingIntent.</p>\n"}],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671299233,"creation_date":1671291855,"question_id":74835364,"body_markdown":"Android example ( https://developer.android.com/develop/ui/views/notifications/navigation#java ) is using FLAG_UPDATE_CURRENT for notification.\r\n\r\n    Intent notifyIntent = new Intent(this, ResultActivity.class);\r\n    // Set the Activity to start in a new, empty task\r\n    notifyIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\r\n                        | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    // Create the PendingIntent\r\n    PendingIntent notifyPendingIntent = PendingIntent.getActivity(\r\n            this, 0, notifyIntent,\r\n            PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE\r\n    );\r\n\r\nMay I know what is the exact different, if we are using `FLAG_CANCEL_CURRENT`?\r\n\r\n    Intent notifyIntent = new Intent(this, ResultActivity.class);\r\n    // Set the Activity to start in a new, empty task\r\n    notifyIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\r\n                        | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    // Create the PendingIntent\r\n    PendingIntent notifyPendingIntent = PendingIntent.getActivity(\r\n            this, 0, notifyIntent,\r\n            PendingIntent.FLAG_CANCEL_UPDATE | PendingIntent.FLAG_IMMUTABLE\r\n    );\r\n\r\nI know I can find their definition\r\n\r\nFLAG_UPDATE_CURRENT\r\n-------------------\r\n\r\n\r\nhttps://developer.android.com/reference/android/app/PendingIntent#FLAG_UPDATE_CURRENT\r\n\r\n\r\nFlag indicating that if the described PendingIntent already exists, then keep it but replace its extra data with what is in this new Intent. For use with getActivity(Context, int, Intent, int), getBroadcast(Context, int, Intent, int), and getService(Context, int, Intent, int).\r\n\r\n&gt; This can be used if you are creating intents where only the extras\r\n&gt; change, and don&#39;t care that any entities that received your previous\r\n&gt; PendingIntent will be able to launch it with your new extras even if\r\n&gt; they are not explicitly given to it.\r\n&gt; \r\n&gt; FLAG_UPDATE_CURRENT still works even if FLAG_IMMUTABLE is set - the\r\n&gt; creator of the PendingIntent can always update the PendingIntent\r\n&gt; itself. The IMMUTABLE flag only limits the ability to alter the\r\n&gt; semantics of the intent that is sent by send() by the invoker of\r\n&gt; send().\r\n\r\n----------\r\n\r\n\r\nFLAG_CANCEL_CURRENT\r\n-------------------\r\n\r\nhttps://developer.android.com/reference/android/app/PendingIntent#FLAG_CANCEL_CURRENT\r\n\r\n&gt; Flag indicating that if the described PendingIntent already exists,\r\n&gt; the current one should be canceled before generating a new one. For\r\n&gt; use with getActivity(Context, int, Intent, int), getBroadcast(Context,\r\n&gt; int, Intent, int), and getService(Context, int, Intent, int).\r\n&gt; \r\n&gt; You can use this to retrieve a new PendingIntent when you are only\r\n&gt; changing the extra data in the Intent; by canceling the previous\r\n&gt; pending intent, this ensures that only entities given the new data\r\n&gt; will be able to launch it. If this assurance is not an issue, consider\r\n&gt; FLAG_UPDATE_CURRENT.\r\n\r\n\r\n----------\r\n\r\nHowever, it is still not entirely clear. How we can understand their differences, as far as launching activity from drop down notification, by using `PendingIntent.getActivity` is concerned?\r\n\r\nHow can we decide which one to use?\r\n","title":"Different between FLAG_CANCEL_CURRENT and FLAG_UPDATE_CURRENT when used in PendingIntent.getActivity?","body":"<p>Android example ( <a href=\"https://developer.android.com/develop/ui/views/notifications/navigation#java\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/notifications/navigation#java</a> ) is using FLAG_UPDATE_CURRENT for notification.</p>\n<pre><code>Intent notifyIntent = new Intent(this, ResultActivity.class);\n// Set the Activity to start in a new, empty task\nnotifyIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\n                    | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n// Create the PendingIntent\nPendingIntent notifyPendingIntent = PendingIntent.getActivity(\n        this, 0, notifyIntent,\n        PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE\n);\n</code></pre>\n<p>May I know what is the exact different, if we are using <code>FLAG_CANCEL_CURRENT</code>?</p>\n<pre><code>Intent notifyIntent = new Intent(this, ResultActivity.class);\n// Set the Activity to start in a new, empty task\nnotifyIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK\n                    | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n// Create the PendingIntent\nPendingIntent notifyPendingIntent = PendingIntent.getActivity(\n        this, 0, notifyIntent,\n        PendingIntent.FLAG_CANCEL_UPDATE | PendingIntent.FLAG_IMMUTABLE\n);\n</code></pre>\n<p>I know I can find their definition</p>\n<h2>FLAG_UPDATE_CURRENT</h2>\n<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_UPDATE_CURRENT\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/PendingIntent#FLAG_UPDATE_CURRENT</a></p>\n<p>Flag indicating that if the described PendingIntent already exists, then keep it but replace its extra data with what is in this new Intent. For use with getActivity(Context, int, Intent, int), getBroadcast(Context, int, Intent, int), and getService(Context, int, Intent, int).</p>\n<blockquote>\n<p>This can be used if you are creating intents where only the extras\nchange, and don't care that any entities that received your previous\nPendingIntent will be able to launch it with your new extras even if\nthey are not explicitly given to it.</p>\n<p>FLAG_UPDATE_CURRENT still works even if FLAG_IMMUTABLE is set - the\ncreator of the PendingIntent can always update the PendingIntent\nitself. The IMMUTABLE flag only limits the ability to alter the\nsemantics of the intent that is sent by send() by the invoker of\nsend().</p>\n</blockquote>\n<hr />\n<h2>FLAG_CANCEL_CURRENT</h2>\n<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_CANCEL_CURRENT\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/PendingIntent#FLAG_CANCEL_CURRENT</a></p>\n<blockquote>\n<p>Flag indicating that if the described PendingIntent already exists,\nthe current one should be canceled before generating a new one. For\nuse with getActivity(Context, int, Intent, int), getBroadcast(Context,\nint, Intent, int), and getService(Context, int, Intent, int).</p>\n<p>You can use this to retrieve a new PendingIntent when you are only\nchanging the extra data in the Intent; by canceling the previous\npending intent, this ensures that only entities given the new data\nwill be able to launch it. If this assurance is not an issue, consider\nFLAG_UPDATE_CURRENT.</p>\n</blockquote>\n<hr />\n<p>However, it is still not entirely clear. How we can understand their differences, as far as launching activity from drop down notification, by using <code>PendingIntent.getActivity</code> is concerned?</p>\n<p>How can we decide which one to use?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1671297495,"post_id":74835997,"comment_id":132071153,"body_markdown":"&quot;why does the method prime recurse infinitely&quot; what do you think `return prime(x);` does?","body":"&quot;why does the method prime recurse infinitely&quot; what do you think <code>return prime(x);</code> does?"},{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1671297741,"post_id":74835997,"comment_id":132071193,"body_markdown":"i thought it calls the prime method but i&#39;m obviously wrong so what does it do? am i phrasing it wrongly?  really asking bec i  just learnt methods today","body":"i thought it calls the prime method but i&#39;m obviously wrong so what does it do? am i phrasing it wrongly?  really asking bec i  just learnt methods today"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1671297786,"post_id":74835997,"comment_id":132071209,"body_markdown":"yes, it call prime method from prime method - it is definition of recursion","body":"yes, it call prime method from prime method - it is definition of recursion"},{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1671297918,"post_id":74835997,"comment_id":132071236,"body_markdown":"i still don&#39;t get it sorry , so how should i write it? do i just say return prime?","body":"i still don&#39;t get it sorry , so how should i write it? do i just say return prime?"},{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1671298149,"post_id":74835997,"comment_id":132071286,"body_markdown":"so no , i tried it and it gave me an error obviously, so really how can i solve this?","body":"so no , i tried it and it gave me an error obviously, so really how can i solve this?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1671298444,"post_id":74835997,"comment_id":132071341,"body_markdown":"You need a &quot;base case&quot; or terminating condition, as well as a step condition which reduces toward the base case - your `x` never changes so that fails the second condition.","body":"You need a &quot;base case&quot; or terminating condition, as well as a step condition which reduces toward the base case - your <code>x</code> never changes so that fails the second condition."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1671298463,"post_id":74835997,"comment_id":132071345,"body_markdown":"What is the value of `x` every time you call `prime(x)`? Does the value of `x` ever change?","body":"What is the value of <code>x</code> every time you call <code>prime(x)</code>? Does the value of <code>x</code> ever change?"},{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1671299235,"post_id":74835997,"comment_id":132071471,"body_markdown":"i see thank you a lot guys, i will try to study about methods again and give it another go bec i clearly don&#39;t understand it quite well yet, though truly thank you a lot","body":"i see thank you a lot guys, i will try to study about methods again and give it another go bec i clearly don&#39;t understand it quite well yet, though truly thank you a lot"}],"answers":[{"comments":[{"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"score":0,"creation_date":1671299432,"post_id":74836103,"comment_id":132071511,"body_markdown":"oh it worked! thank you so much, i&#39;ll study again about methods and give it another try but truly thank you a lot.","body":"oh it worked! thank you so much, i&#39;ll study again about methods and give it another try but truly thank you a lot."}],"tags":[],"owner":{"account_id":27277083,"reputation":367,"user_id":20797528,"display_name":"Anthony Tuccitto"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671298422,"creation_date":1671298422,"answer_id":74836103,"question_id":74835997,"body_markdown":"If you just want to know if the number passed in is prime. You need to change your return type to a bool and return f.\r\n\r\nYou&#39;re returning prime(x) which will keep calling into itself. \r\n\r\nI would actually do something like this\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class Mavenproject2 {\r\n\r\n    static string prime(int x) {\r\n        boolean f = true;\r\n        if (x == 1 || x == 0) {\r\n            f = false;\r\n        } else {\r\n\r\n            for (int i = 2; i &lt; x; i++) {\r\n                if (x % i == 0) {\r\n                    f = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (f) {\r\n            return &quot;prime&quot;;\r\n        } \r\n\r\n        return &quot;not prime&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;enter number&quot;);\r\n        int x = input.nextInt();\r\n        System.out.println(prime(x));\r\n\r\n    }\r\n}","title":"method will recurse infinitly","body":"<p>If you just want to know if the number passed in is prime. You need to change your return type to a bool and return f.</p>\n<p>You're returning prime(x) which will keep calling into itself.</p>\n<p>I would actually do something like this</p>\n<pre><code>import java.util.*;\n\npublic class Mavenproject2 {\n\n    static string prime(int x) {\n        boolean f = true;\n        if (x == 1 || x == 0) {\n            f = false;\n        } else {\n\n            for (int i = 2; i &lt; x; i++) {\n                if (x % i == 0) {\n                    f = false;\n                    break;\n                }\n            }\n        }\n        if (f) {\n            return &quot;prime&quot;;\n        } \n\n        return &quot;not prime&quot;;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;enter number&quot;);\n        int x = input.nextInt();\n        System.out.println(prime(x));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27156229,"reputation":13,"user_id":20695013,"display_name":"you7"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74836103,"answer_count":1,"score":0,"last_activity_date":1671298422,"creation_date":1671297422,"question_id":74835997,"body_markdown":"a super silly question but why does the method prime recurse infinitely ?\r\nthis is a simple java code where i&#39;m trying to make a method i can call to get the prime of parameter x , but it tells me that the method will recurse infinitely , i tried copy pasting the code of the prime method to the main method and it worked well , so can someone help please?\r\n\r\n\r\n`\r\n    \r\n    import java.util.*;\r\n\r\n    public class Mavenproject2 {\r\n\r\n        static int prime(int x) {\r\n            boolean f = true;\r\n            if (x == 1 || x == 0) {\r\n                f = false;\r\n            } else {\r\n\r\n                for (int i = 2; i &lt; x; i++) {\r\n                    if (x % i == 0) {\r\n                        f = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (f) {\r\n                System.out.println(&quot;prime&quot;);\r\n            } else {\r\n                System.out.println(&quot;not prime&quot;);\r\n            }\r\n\r\n            return prime(x);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;enter number&quot;);\r\n            int x = input.nextInt();\r\n            System.out.println(prime(x));\r\n\r\n        }\r\n    }\r\n\r\n`","title":"method will recurse infinitly","body":"<p>a super silly question but why does the method prime recurse infinitely ?\nthis is a simple java code where i'm trying to make a method i can call to get the prime of parameter x , but it tells me that the method will recurse infinitely , i tried copy pasting the code of the prime method to the main method and it worked well , so can someone help please?</p>\n<p>`</p>\n<pre><code>import java.util.*;\n\npublic class Mavenproject2 {\n\n    static int prime(int x) {\n        boolean f = true;\n        if (x == 1 || x == 0) {\n            f = false;\n        } else {\n\n            for (int i = 2; i &lt; x; i++) {\n                if (x % i == 0) {\n                    f = false;\n                    break;\n                }\n            }\n        }\n        if (f) {\n            System.out.println(&quot;prime&quot;);\n        } else {\n            System.out.println(&quot;not prime&quot;);\n        }\n\n        return prime(x);\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;enter number&quot;);\n        int x = input.nextInt();\n        System.out.println(prime(x));\n\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["javascript","java","jquery","performance"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1671049495,"post_id":74803658,"comment_id":132016276,"body_markdown":"You could create an array of JS objects; each object could have the text of the question, the text of the possible choices, and which choice is the correct answer. You could build and process the page by iterating over this array in javascript. Checking one of the radio buttons could inspect the object for that question and increase the score if it&#39;s the correct choice, and set the background color you want. (I would not `radiobuttonX.setBackgroundColor(...)` - I would set a CSS class instead and the _stylesheet_ would put the right background color on it.)","body":"You could create an array of JS objects; each object could have the text of the question, the text of the possible choices, and which choice is the correct answer. You could build and process the page by iterating over this array in javascript. Checking one of the radio buttons could inspect the object for that question and increase the score if it&#39;s the correct choice, and set the background color you want. (I would not <code>radiobuttonX.setBackgroundColor(...)</code> - I would set a CSS class instead and the <i>stylesheet</i> would put the right background color on it.)"}],"owner":{"account_id":27254339,"reputation":11,"user_id":20778221,"display_name":"Renegade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671298345,"creation_date":1671048421,"question_id":74803658,"body_markdown":"I had 50 questions in one activity with radiogroup for each question. I wanted to show user&#39;s result when submit button is clicked. What i tried was, once &quot;submit&quot; is clicked the code checks each checked radio buttons and shows the score. I wanted to know if there is an easier way to do this exists.\r\n\r\n```\r\nlinear_submit.setOnClickListener(new View.OnClickListener() {\r\n@Override\r\npublic void onClick(View _view) { \r\n\r\nif (radiobutton1.isChecked()) {\r\nscore++;\r\nradiobutton1.setBackgroundColor(0xFF66BB6A);\r\n}\r\nif (radiobutton2.isChecked()) {\r\nradiobutton2.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton3.isChecked()) {\r\nradiobutton3.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton4.isChecked()) {\r\nradiobutton4.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton5.isChecked()) {\r\nradiobutton5.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton6.isChecked()) {\r\nscore++;\r\nradiobutton6.setBackgroundColor(0xFF66BB6A);\r\n}\r\nif (radiobutton7.isChecked()) {\r\nradiobutton7.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton8.isChecked()) {\r\nradiobutton8.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton9.isChecked()) {\r\nradiobutton9.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton10.isChecked()) {\r\nradiobutton10.setBackgroundColor(0xFFE57373);\r\n}\r\nif (radiobutton11.isChecked()) {\r\nscore++;\r\nradiobutton11.setBackgroundColor(0xFF66BB6A);\r\n}\r\nif (radiobutton12.isChecked()) {\r\nradiobutton12.setBackgroundColor(0xFFE57373);\r\n}\r\n```\r\n\r\n\r\nall this is for 3 questions only, writing this for all 200 radiobuttons is tiresome, is there an easy way?\r\n","title":"Is there an easy way to show result of 50 question MCQ with radio button in javascript?","body":"<p>I had 50 questions in one activity with radiogroup for each question. I wanted to show user's result when submit button is clicked. What i tried was, once &quot;submit&quot; is clicked the code checks each checked radio buttons and shows the score. I wanted to know if there is an easier way to do this exists.</p>\n<pre><code>linear_submit.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View _view) { \n\nif (radiobutton1.isChecked()) {\nscore++;\nradiobutton1.setBackgroundColor(0xFF66BB6A);\n}\nif (radiobutton2.isChecked()) {\nradiobutton2.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton3.isChecked()) {\nradiobutton3.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton4.isChecked()) {\nradiobutton4.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton5.isChecked()) {\nradiobutton5.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton6.isChecked()) {\nscore++;\nradiobutton6.setBackgroundColor(0xFF66BB6A);\n}\nif (radiobutton7.isChecked()) {\nradiobutton7.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton8.isChecked()) {\nradiobutton8.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton9.isChecked()) {\nradiobutton9.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton10.isChecked()) {\nradiobutton10.setBackgroundColor(0xFFE57373);\n}\nif (radiobutton11.isChecked()) {\nscore++;\nradiobutton11.setBackgroundColor(0xFF66BB6A);\n}\nif (radiobutton12.isChecked()) {\nradiobutton12.setBackgroundColor(0xFFE57373);\n}\n</code></pre>\n<p>all this is for 3 questions only, writing this for all 200 radiobuttons is tiresome, is there an easy way?</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1539787456,"creation_date":1405079352,"answer_id":24697002,"question_id":24695133,"body_markdown":"This works:\r\n\r\n\t&lt;Console name=&quot;info-stdout-message&quot;&gt;\r\n\t\t&lt;PatternLayout pattern=&quot;[%logger{36}] %message %n&quot; /&gt;\r\n\t\t&lt;Filters&gt;\r\n\t  \r\n\t\t\t&lt;!-- Now deny warn, error and fatal messages --&gt;\r\n\t\t\t&lt;ThresholdFilter level=&quot;warn&quot;  onMatch=&quot;DENY&quot;   onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n\r\n\t\t\t&lt;!-- This filter accepts info, warn, error, fatal and denies debug/trace --&gt;\r\n\t\t\t&lt;ThresholdFilter level=&quot;info&quot;  onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n\t\t&lt;/Filters&gt;\r\n\t&lt;/Console&gt;\r\n","title":"Log4j2 Filter particular level in apender","body":"<p>This works:</p>\n\n<pre><code>&lt;Console name=\"info-stdout-message\"&gt;\n    &lt;PatternLayout pattern=\"[%logger{36}] %message %n\" /&gt;\n    &lt;Filters&gt;\n\n        &lt;!-- Now deny warn, error and fatal messages --&gt;\n        &lt;ThresholdFilter level=\"warn\"  onMatch=\"DENY\"   onMismatch=\"NEUTRAL\"/&gt;\n\n        &lt;!-- This filter accepts info, warn, error, fatal and denies debug/trace --&gt;\n        &lt;ThresholdFilter level=\"info\"  onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1414866679,"creation_date":1414866679,"answer_id":26691671,"question_id":24695133,"body_markdown":"Here two console appenders. One logs all trace, debug and info levels to std_out, the other logs all warn, error and fatal levels to std_err. This is very useful e.g. within eclipse since std_err is displayed red.\r\n\r\n    &lt;Console name=&quot;STDOUT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} (%6r) %-5p [%-7t] %F:%L %x - %m%n&quot; /&gt;\r\n    \t&lt;Filters&gt;\r\n            &lt;ThresholdFilter level=&quot;warn&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot; /&gt;\r\n    \t&lt;/Filters&gt;\r\n    &lt;/Console&gt;\r\n    \r\n    &lt;Console name=&quot;STDERR&quot; target=&quot;SYSTEM_ERR&quot;&gt;\r\n    \t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} (%6r) %-5p [%-7t] %F:%L %x - %m%n&quot; /&gt;\r\n        &lt;Filters&gt;\r\n            &lt;ThresholdFilter level=&quot;WARN&quot; onMatch=&quot;ACCEPT&quot; /&gt;\r\n        &lt;/Filters&gt;\r\n    &lt;/Console&gt;\r\n\r\n","title":"Log4j2 Filter particular level in apender","body":"<p>Here two console appenders. One logs all trace, debug and info levels to std_out, the other logs all warn, error and fatal levels to std_err. This is very useful e.g. within eclipse since std_err is displayed red.</p>\n\n<pre><code>&lt;Console name=\"STDOUT\" target=\"SYSTEM_OUT\"&gt;\n    &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} (%6r) %-5p [%-7t] %F:%L %x - %m%n\" /&gt;\n    &lt;Filters&gt;\n        &lt;ThresholdFilter level=\"warn\" onMatch=\"DENY\" onMismatch=\"ACCEPT\" /&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n\n&lt;Console name=\"STDERR\" target=\"SYSTEM_ERR\"&gt;\n    &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} (%6r) %-5p [%-7t] %F:%L %x - %m%n\" /&gt;\n    &lt;Filters&gt;\n        &lt;ThresholdFilter level=\"WARN\" onMatch=\"ACCEPT\" /&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3299369,"reputation":341,"user_id":2775891,"accept_rate":100,"display_name":"downdrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473072225,"creation_date":1473072225,"answer_id":39328903,"question_id":24695133,"body_markdown":"It took me very long to figure out how to filter a range of LogLevels via the log4j2.xml configuration file. \r\nIn the End this worked for me :\r\n\r\n    &lt;Filters&gt;\r\n        &lt;ThresholdFilter level=&quot;trace&quot; /&gt;\r\n        &lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot; /&gt;\r\n    &lt;/Filters&gt;\r\n\r\nIn this case Log4J will log all messages from Level.TRACE to Level.DEBUG, all levels below Level.DEBUG will be ignored.","title":"Log4j2 Filter particular level in apender","body":"<p>It took me very long to figure out how to filter a range of LogLevels via the log4j2.xml configuration file. \nIn the End this worked for me :</p>\n\n<pre><code>&lt;Filters&gt;\n    &lt;ThresholdFilter level=\"trace\" /&gt;\n    &lt;ThresholdFilter level=\"info\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\" /&gt;\n&lt;/Filters&gt;\n</code></pre>\n\n<p>In this case Log4J will log all messages from Level.TRACE to Level.DEBUG, all levels below Level.DEBUG will be ignored.</p>\n"},{"tags":[],"owner":{"account_id":1215767,"reputation":1710,"user_id":1183404,"display_name":"Cristian Florescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487423070,"creation_date":1487419593,"answer_id":42314914,"question_id":24695133,"body_markdown":"Please check all log4j2 filtering possibilities at https://logging.apache.org/log4j/2.0/manual/filters.html\r\n\r\nSample configuration fragment\r\n\r\n    ...    \r\n    &lt;Console name=&quot;DEFAULT&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n        &lt;PatternLayout&gt;\r\n            &lt;Pattern&gt;[%d][%p][%c:%L:%M] - %m%n&lt;/Pattern&gt;\r\n        &lt;/PatternLayout&gt;\r\n        &lt;Filters&gt;\r\n            &lt;RegexFilter regex=&quot;(?s).*(sql01|sql02|sql03).*&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n        &lt;/Filters&gt;\r\n    &lt;/Console&gt;\r\n    ...\r\n\r\n","title":"Log4j2 Filter particular level in apender","body":"<p>Please check all log4j2 filtering possibilities at <a href=\"https://logging.apache.org/log4j/2.0/manual/filters.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.0/manual/filters.html</a></p>\n\n<p>Sample configuration fragment</p>\n\n<pre><code>...    \n&lt;Console name=\"DEFAULT\" target=\"SYSTEM_OUT\"&gt;\n    &lt;PatternLayout&gt;\n        &lt;Pattern&gt;[%d][%p][%c:%L:%M] - %m%n&lt;/Pattern&gt;\n    &lt;/PatternLayout&gt;\n    &lt;Filters&gt;\n        &lt;RegexFilter regex=\"(?s).*(sql01|sql02|sql03).*\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\"/&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487438747,"creation_date":1487438747,"answer_id":42318329,"question_id":24695133,"body_markdown":"Actually, from your question it looks like you don&#39;t want two different appenders, but two different patterns that are using under different circumstances. For that you should just use a PatternSelector.\r\n\t\r\n        &lt;Console name=&quot;stdout-message&quot;&gt;\r\n          &lt;ScriptPatternSelector defaultPattern=&quot;[%logger{36}] [%level] %message %n&quot;&gt;\r\n            &lt;Script name=&quot;BeanShellSelector&quot; language=&quot;bsh&quot;&gt;&lt;![CDATA[\r\n              if (logEvent.getLevel() == Level.INFO) {\r\n                return &quot;INFO&quot;;\r\n              } else {\r\n                return null;\r\n              }]]&gt;\r\n            &lt;/Script&gt;\r\n            &lt;PatternMatch key=&quot;INFO&quot; pattern=&quot;[%logger{36}] %message %n&quot;/&gt;\r\n           &lt;/ScriptPatternSelector&gt;\r\n        &lt;/Console&gt;","title":"Log4j2 Filter particular level in apender","body":"<p>Actually, from your question it looks like you don't want two different appenders, but two different patterns that are using under different circumstances. For that you should just use a PatternSelector.</p>\n\n<pre><code>    &lt;Console name=\"stdout-message\"&gt;\n      &lt;ScriptPatternSelector defaultPattern=\"[%logger{36}] [%level] %message %n\"&gt;\n        &lt;Script name=\"BeanShellSelector\" language=\"bsh\"&gt;&lt;![CDATA[\n          if (logEvent.getLevel() == Level.INFO) {\n            return \"INFO\";\n          } else {\n            return null;\n          }]]&gt;\n        &lt;/Script&gt;\n        &lt;PatternMatch key=\"INFO\" pattern=\"[%logger{36}] %message %n\"/&gt;\n       &lt;/ScriptPatternSelector&gt;\n    &lt;/Console&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1671208592,"post_id":74826810,"comment_id":132056944,"body_markdown":"The question asked about Log4j2 Core, you are giving a solution for Logback.","body":"The question asked about Log4j2 Core, you are giving a solution for Logback."},{"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"score":0,"creation_date":1671298461,"post_id":74826810,"comment_id":132071344,"body_markdown":"@PiotrP.Karwasz I have shared the configuration for Log4j2 to ignore &quot;warn&quot; logs specifically for docx4j.","body":"@PiotrP.Karwasz I have shared the configuration for Log4j2 to ignore &quot;warn&quot; logs specifically for docx4j."}],"tags":[],"owner":{"account_id":8977481,"reputation":1141,"user_id":6693783,"display_name":"Bathri Nathan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671298329,"creation_date":1671205966,"answer_id":74826810,"question_id":24695133,"body_markdown":"Here is the Log4j2 config to ignore &quot;warn&quot; logs only for docxj4. check out the code below. thanks in advance.\r\n\r\n    &lt;configuration&gt;\r\n\r\n    &lt;conversionRule conversionWord=&quot;coloredLevel&quot; converterClass=&quot;play.api.libs.logback.ColoredLevel&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;WARN&lt;/level&gt;\r\n            &lt;onMatch&gt;DENY&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date %coloredLevel %logger{15} - %message%n%xException{10}&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;WARN&lt;/level&gt;\r\n            &lt;onMatch&gt;DENY&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n\r\n        &lt;file&gt;${application.home:-.}/logs/application.log&lt;/file&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%date [%level] from %logger in %thread - %message%n%xException&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;org.docx4j&quot; level=&quot;INFO&quot;/&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"Log4j2 Filter particular level in apender","body":"<p>Here is the Log4j2 config to ignore &quot;warn&quot; logs only for docxj4. check out the code below. thanks in advance.</p>\n<pre><code>&lt;configuration&gt;\n\n&lt;conversionRule conversionWord=&quot;coloredLevel&quot; converterClass=&quot;play.api.libs.logback.ColoredLevel&quot;/&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;WARN&lt;/level&gt;\n        &lt;onMatch&gt;DENY&lt;/onMatch&gt;\n        &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\n    &lt;/filter&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date %coloredLevel %logger{15} - %message%n%xException{10}&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;WARN&lt;/level&gt;\n        &lt;onMatch&gt;DENY&lt;/onMatch&gt;\n        &lt;onMismatch&gt;NEUTRAL&lt;/onMismatch&gt;\n    &lt;/filter&gt;\n\n    &lt;file&gt;${application.home:-.}/logs/application.log&lt;/file&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%date [%level] from %logger in %thread - %message%n%xException&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;logger name=&quot;org.docx4j&quot; level=&quot;INFO&quot;/&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671210469,"creation_date":1671210469,"answer_id":74827643,"question_id":24695133,"body_markdown":"While all these workarounds were necessary in 2014, when the question was posted:\r\n\r\n - in version [2.4](https://logging.apache.org/log4j/2.x/changes-report.html#a2.4) a `LevelRangeFilter` was introduced (cf. [LOG4J2-1106](https://issues.apache.org/jira/browse/LOG4J2-1106)), which allows to write:\r\n\r\n   ```lang-xml\r\n   &lt;LevelRangeFilter minLevel=&quot;INFO&quot; maxLevel=&quot;INFO&quot;/&gt;\r\n   ```\r\n\r\n   to select only `INFO` messages or:\r\n\r\n   ```lang-xml\r\n   &lt;LevelRangeFilter minLevel=&quot;WARN&quot; maxLevel=&quot;INFO&quot;/&gt;\r\n   ```\r\n\r\n   to select a range (from most to least specific level).\r\n\r\n * version [2.13.0](https://logging.apache.org/log4j/2.x/changes-report.html#a2.13.0) saw the appearance of a `LevelMatchFilter` that further simplifies the configuration:\r\n\r\n   ```lang-xml\r\n   &lt;LevelMatchFilter level=&quot;INFO&quot;/&gt;\r\n   ```","title":"Log4j2 Filter particular level in apender","body":"<p>While all these workarounds were necessary in 2014, when the question was posted:</p>\n<ul>\n<li><p>in version <a href=\"https://logging.apache.org/log4j/2.x/changes-report.html#a2.4\" rel=\"nofollow noreferrer\">2.4</a> a <code>LevelRangeFilter</code> was introduced (cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1106\" rel=\"nofollow noreferrer\">LOG4J2-1106</a>), which allows to write:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LevelRangeFilter minLevel=&quot;INFO&quot; maxLevel=&quot;INFO&quot;/&gt;\n</code></pre>\n<p>to select only <code>INFO</code> messages or:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LevelRangeFilter minLevel=&quot;WARN&quot; maxLevel=&quot;INFO&quot;/&gt;\n</code></pre>\n<p>to select a range (from most to least specific level).</p>\n</li>\n</ul>\n<ul>\n<li><p>version <a href=\"https://logging.apache.org/log4j/2.x/changes-report.html#a2.13.0\" rel=\"nofollow noreferrer\">2.13.0</a> saw the appearance of a <code>LevelMatchFilter</code> that further simplifies the configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LevelMatchFilter level=&quot;INFO&quot;/&gt;\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":2506383,"reputation":2412,"user_id":2180005,"accept_rate":76,"display_name":"ovnia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37724,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":24697002,"answer_count":7,"score":14,"last_activity_date":1671298329,"creation_date":1405072848,"question_id":24695133,"body_markdown":"What filter should i use, to define particular level to be logged with apender? For example:\r\n\r\njava:\r\n\r\n    LOGGER.debug(&quot;Debug message&quot;);\r\n    LOGGER.info(&quot;Info message&quot;);\r\n    LOGGER.warn(&quot;Warn message&quot;);\r\n    LOGGER.error(&quot;Error message&quot;);\r\n    LOGGER.fatal(&quot;Fatal message&quot;);\r\n\r\nlog4j2.xml:\r\n\r\n    &lt;Configuration&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;info-stdout-message&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;[%logger{36}] %message %n&quot; /&gt;\r\n                &lt;ThresholdFilter level=&quot;info&quot;/&gt;\r\n            &lt;/Console&gt;\r\n    \r\n            &lt;Console name=&quot;detailed-stdout-message&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;[%logger{36}] [%level] %message %n&quot; /&gt;\r\n            &lt;/Console&gt;\r\n    \r\n            &lt;File name=&quot;file-appender&quot; fileName=&quot;logs/debug.log&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{HH:mm:ss dd.mm} [%t] [%-5level] %logger{36} - %msg %n&quot; /&gt;\r\n            &lt;/File&gt;\r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;file-appender&quot; level=&quot;debug&quot; /&gt;\r\n                &lt;AppenderRef ref=&quot;info-stdout-message&quot; level=&quot;info&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;detailed-stdout-message&quot; level=&quot;info&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThe file output is fine, but in console I have such result:\r\n\r\n    [application.Main] [INFO] Info message\r\n    [application.Main] Info message\r\n    [application.Main] [WARN] Warn message\r\n    [application.Main] Warn message\r\n    [application.Main] [ERROR] Error message\r\n    [application.Main] Error message\r\n    [application.Main] [FATAL] Fatal message\r\n    [application.Main] Fatal message\r\n\r\nbut I need `info-stdout-message` appender to output only INFO messages, while `detailed-stdout-message` to output all EXEPT INFO. So the console output should looks like:\r\n\r\n    [application.Main] Info message\r\n    [application.Main] [WARN] Warn message\r\n    [application.Main] [ERROR] Error message\r\n    [application.Main] [FATAL] Fatal message\r\n\r\nCan&#39;t find out how to prevent filters respect level inheritance. Is it possible to do this?","title":"Log4j2 Filter particular level in apender","body":"<p>What filter should i use, to define particular level to be logged with apender? For example:</p>\n\n<p>java:</p>\n\n<pre><code>LOGGER.debug(\"Debug message\");\nLOGGER.info(\"Info message\");\nLOGGER.warn(\"Warn message\");\nLOGGER.error(\"Error message\");\nLOGGER.fatal(\"Fatal message\");\n</code></pre>\n\n<p>log4j2.xml:</p>\n\n<pre><code>&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"info-stdout-message\"&gt;\n            &lt;PatternLayout pattern=\"[%logger{36}] %message %n\" /&gt;\n            &lt;ThresholdFilter level=\"info\"/&gt;\n        &lt;/Console&gt;\n\n        &lt;Console name=\"detailed-stdout-message\"&gt;\n            &lt;PatternLayout pattern=\"[%logger{36}] [%level] %message %n\" /&gt;\n        &lt;/Console&gt;\n\n        &lt;File name=\"file-appender\" fileName=\"logs/debug.log\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss dd.mm} [%t] [%-5level] %logger{36} - %msg %n\" /&gt;\n        &lt;/File&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"debug\"&gt;\n            &lt;AppenderRef ref=\"file-appender\" level=\"debug\" /&gt;\n            &lt;AppenderRef ref=\"info-stdout-message\" level=\"info\"/&gt;\n            &lt;AppenderRef ref=\"detailed-stdout-message\" level=\"info\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The file output is fine, but in console I have such result:</p>\n\n<pre><code>[application.Main] [INFO] Info message\n[application.Main] Info message\n[application.Main] [WARN] Warn message\n[application.Main] Warn message\n[application.Main] [ERROR] Error message\n[application.Main] Error message\n[application.Main] [FATAL] Fatal message\n[application.Main] Fatal message\n</code></pre>\n\n<p>but I need <code>info-stdout-message</code> appender to output only INFO messages, while <code>detailed-stdout-message</code> to output all EXEPT INFO. So the console output should looks like:</p>\n\n<pre><code>[application.Main] Info message\n[application.Main] [WARN] Warn message\n[application.Main] [ERROR] Error message\n[application.Main] [FATAL] Fatal message\n</code></pre>\n\n<p>Can't find out how to prevent filters respect level inheritance. Is it possible to do this?</p>\n"},{"tags":["java","oop","binary-tree","binary-search-tree","avl-tree"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1671298254,"post_id":74836018,"comment_id":132071306,"body_markdown":"This task is too difficult for someone who is new to programming","body":"This task is too difficult for someone who is new to programming"},{"owner":{"account_id":27283135,"reputation":1,"user_id":20802730,"display_name":"Gareth Simpson"},"score":0,"creation_date":1671299001,"post_id":74836018,"comment_id":132071433,"body_markdown":"I&#39;m a second-year student and I have no idea how to do it. :(","body":"I&#39;m a second-year student and I have no idea how to do it. :("}],"answers":[{"tags":[],"owner":{"account_id":27283135,"reputation":1,"user_id":20802730,"display_name":"Gareth Simpson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671298124,"creation_date":1671298124,"answer_id":74836070,"question_id":74836018,"body_markdown":"I have also that method, I can use it.\r\n```\r\nprivate Node buildBalancedBST(int arr[], int start, int end) {\r\n        //Write your codes here\r\n        int mid = (start+end) / 2;\r\n        Node node = new Node(arr[mid]);\r\n        node.leftNode = buildBalancedBST(arr, start, end);\r\n        node.rightNode = buildBalancedBST(arr, start, end);\r\n        return node;\r\n\r\n\r\n    }\r\n```","title":"Balanced Binary Search Tree Methods","body":"<p>I have also that method, I can use it.</p>\n<pre><code>private Node buildBalancedBST(int arr[], int start, int end) {\n        //Write your codes here\n        int mid = (start+end) / 2;\n        Node node = new Node(arr[mid]);\n        node.leftNode = buildBalancedBST(arr, start, end);\n        node.rightNode = buildBalancedBST(arr, start, end);\n        return node;\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":27283135,"reputation":1,"user_id":20802730,"display_name":"Gareth Simpson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671298124,"creation_date":1671297652,"question_id":74836018,"body_markdown":"I&#39;m new to programming and I have an assignment. My homework is related to a balanced binary search tree. I had a few problems with some methods, I would be happy if you could help me. Below are the methods I&#39;m having trouble with.\r\n\r\n```\r\npublic class BinarySearchTree {\r\n    public Node root;\r\n\r\n    // Constructor\r\n    BinarySearchTree() {\r\n        //Write your codes here\r\n        root = null;\r\n    }\r\n\r\n    // Insert a key node to Binary-Search-Tree. Make sure that the BST is balanced after inserted operation.\r\n    public void insert(int key) {\r\n        //Write your codes here\r\n\r\n    }\r\n\r\n    // Delete a key node to Binary-Search-Tree. Make sure that the BST is balanced after deleted operation.\r\n    public void delete(int key) {\r\n        //Write your codes here\r\n\r\n\r\n    }\r\n```\r\n","title":"Balanced Binary Search Tree Methods","body":"<p>I'm new to programming and I have an assignment. My homework is related to a balanced binary search tree. I had a few problems with some methods, I would be happy if you could help me. Below are the methods I'm having trouble with.</p>\n<pre><code>public class BinarySearchTree {\n    public Node root;\n\n    // Constructor\n    BinarySearchTree() {\n        //Write your codes here\n        root = null;\n    }\n\n    // Insert a key node to Binary-Search-Tree. Make sure that the BST is balanced after inserted operation.\n    public void insert(int key) {\n        //Write your codes here\n\n    }\n\n    // Delete a key node to Binary-Search-Tree. Make sure that the BST is balanced after deleted operation.\n    public void delete(int key) {\n        //Write your codes here\n\n\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1671289348,"post_id":74835095,"comment_id":132069777,"body_markdown":"It’s unlikely you’ll be able to get help with this without code that can reproduce the problem. This kind of stack trace (with no reference to your code) is sometimes caused by incorrect use of multithreading.","body":"It’s unlikely you’ll be able to get help with this without code that can reproduce the problem. This kind of stack trace (with no reference to your code) is sometimes caused by incorrect use of multithreading."},{"owner":{"account_id":17876992,"reputation":13,"user_id":12986759,"display_name":"Kyle Derstein"},"score":0,"creation_date":1671289422,"post_id":74835095,"comment_id":132069788,"body_markdown":"This is probably what it is im pretty new to multithreading and I had to run the minecraft server in a seperate thread I&#39;ll update the post with my code its long tho do dorry","body":"This is probably what it is im pretty new to multithreading and I had to run the minecraft server in a seperate thread I&#39;ll update the post with my code its long tho do dorry"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1671289482,"post_id":74835095,"comment_id":132069798,"body_markdown":"It looks like you may be trying to modify a `TextArea` from a background thread.","body":"It looks like you may be trying to modify a <code>TextArea</code> from a background thread."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1671289544,"post_id":74835095,"comment_id":132069808,"body_markdown":"See if you can create a simple example which reproduced the error (ie start with a complete new project, instead of posting your actually project here)","body":"See if you can create a simple example which reproduced the error (ie start with a complete new project, instead of posting your actually project here)"},{"owner":{"account_id":17876992,"reputation":13,"user_id":12986759,"display_name":"Kyle Derstein"},"score":0,"creation_date":1671289694,"post_id":74835095,"comment_id":132069833,"body_markdown":"I am indeed should I use queues or atomics instead?","body":"I am indeed should I use queues or atomics instead?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1671289989,"post_id":74835095,"comment_id":132069888,"body_markdown":"You’re calling `printToConsole` from a background thread in the `Task`. That call updates the UI, so it should be run from the FX Application Thread. Just wrap that line in `Platform.runLater()`.","body":"You’re calling <code>printToConsole</code> from a background thread in the <code>Task</code>. That call updates the UI, so it should be run from the FX Application Thread. Just wrap that line in <code>Platform.runLater()</code>."},{"owner":{"account_id":17876992,"reputation":13,"user_id":12986759,"display_name":"Kyle Derstein"},"score":0,"creation_date":1671290147,"post_id":74835095,"comment_id":132069902,"body_markdown":"You sir are a legend. I had tried wrapping the whole thread operation in Platform.runLater() but never just that line. Thank you much","body":"You sir are a legend. I had tried wrapping the whole thread operation in Platform.runLater() but never just that line. Thank you much"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1671290152,"post_id":74835095,"comment_id":132069905,"body_markdown":"There’s lots of other code here that doesn’t make sense. You’re using `Platform.runLater()` in `initialize()` and in an event handler, both of which are already called on the FX Application Thread. And you shouldn’t create a new executor service every time you need one.","body":"There’s lots of other code here that doesn’t make sense. You’re using <code>Platform.runLater()</code> in <code>initialize()</code> and in an event handler, both of which are already called on the FX Application Thread. And you shouldn’t create a new executor service every time you need one."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1671291757,"post_id":74835095,"comment_id":132070177,"body_markdown":"[mcve] please (make sure to read that help page to understand/learn what __M__ is supposed to be and how to achieve it :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (make sure to read that help page to understand/learn what <b>M</b> is supposed to be and how to achieve it :)"}],"owner":{"account_id":17876992,"reputation":13,"user_id":12986759,"display_name":"Kyle Derstein"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671297223,"answer_count":0,"score":0,"last_activity_date":1671297833,"creation_date":1671289128,"question_id":74835095,"body_markdown":"I am writing a simple console program for Minecraft in javaFX. Sometimes it works fine but sometimes when the console is updating ill randomly get spammed with this error:\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot read the array length because &quot;this.runs&quot; is null\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.addTextRun(PrismTextLayout.java:770)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.GlyphLayout.addTextRun(GlyphLayout.java:140)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.GlyphLayout.breakRuns(GlyphLayout.java:210)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.buildRuns(PrismTextLayout.java:785)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.layout(PrismTextLayout.java:1036)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.ensureLayout(PrismTextLayout.java:223)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.getBounds(PrismTextLayout.java:246)\r\n\tat javafx.graphics@18.0.1/javafx.scene.text.Text.getLogicalBounds(Text.java:432)\r\n\tat javafx.graphics@18.0.1/javafx.scene.text.Text.doComputeGeomBounds(Text.java:1187)\r\n\tat javafx.graphics@18.0.1/javafx.scene.text.Text$1.doComputeGeomBounds(Text.java:149)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.scene.shape.TextHelper.computeGeomBoundsImpl(TextHelper.java:90)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:116)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node.updateGeomBounds(Node.java:3818)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node.getGeomBounds(Node.java:3780)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node.getLocalBounds(Node.java:3728)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node$MiscProperties$3.computeBounds(Node.java:6818)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9712)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9682)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Node.getBoundsInLocal(Node.java:3408)\r\n\tat javafx.controls@18.0.1/javafx.scene.control.skin.TextAreaSkin$ContentView.layoutChildren(TextAreaSkin.java:1324)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1207)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Scene.doLayoutPass(Scene.java:579)\r\n\tat javafx.graphics@18.0.1/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2499)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:405)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:404)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:434)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:575)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\r\n\tat javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nThe error message is not even remotely helpful and I cant figure out whats triggering the error. If anyone knows what triggers this error please let me know so I can fix it. Thanks.\r\n\r\nEdit: Heres my source code\r\n```\r\npackage com.koolade446.mconsole;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.concurrent.Task;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventType;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.DirectoryChooser;\r\nimport javafx.stage.FileChooser;\r\nimport org.jetbrains.annotations.Nullable;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.*;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URISyntaxException;\r\nimport java.net.URL;\r\nimport java.nio.file.Path;\r\nimport java.util.*;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MainController {\r\n\r\n    @FXML\r\n    public ComboBox&lt;String&gt; typeBox;\r\n    @FXML\r\n    public ComboBox&lt;String&gt; versionBox;\r\n    @FXML\r\n    public TextArea console;\r\n    @FXML\r\n    public Button startStopButton;\r\n    @FXML\r\n    public Button killButton;\r\n    @FXML\r\n    Button changeVersionButton;\r\n    @FXML\r\n    Label pathContainer;\r\n    @FXML\r\n    TextField commandBox;\r\n\r\n    private final Map&lt;String, List&lt;String&gt;&gt; typeMap = new HashMap&lt;&gt;();\r\n\r\n    private boolean serverIsStarted = false;\r\n    private ExecutorService executorService;\r\n\r\n    private Path directoryPath = Path.of(new File(&quot;.&quot;).getCanonicalPath());\r\n    private final String[] endpoints = new String[]{\r\n            &quot;servers/spigot&quot;,\r\n            &quot;vanilla/vanilla&quot;,\r\n            &quot;vanilla/snapshot&quot;,\r\n            &quot;modded/forge&quot;,\r\n            &quot;modded/fabric&quot;\r\n    };\r\n    File serverJar = new File(directoryPath + &quot;/server.jar&quot;);\r\n    private PrintWriter outputStreamWriter = null;\r\n\r\n    public MainController() throws IOException {\r\n    }\r\n\r\n\r\n    public void initialize() throws IOException, URISyntaxException {\r\n\r\n        startStopButton.setStyle(&quot;-fx-background-image: url(&#39;power.png&#39;)&quot;);\r\n        killButton.setStyle(&quot;-fx-background-image: url(&#39;kill.png&#39;)&quot;);\r\n        pathContainer.setText(directoryPath.toString());\r\n\r\n        Platform.runLater(() -&gt; {\r\n            try {\r\n                for (String endpoint : endpoints) {\r\n                    List&lt;String&gt; l = new ArrayList&lt;&gt;();\r\n                    URL url = new URL(&quot;https://serverjars.com/api/fetchAll/&quot; + endpoint);\r\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                    con.setRequestMethod(&quot;GET&quot;);\r\n                    con.connect();\r\n\r\n                    JSONObject responseJson = new JSONObject(new BufferedReader(new InputStreamReader(con.getInputStream())).lines().collect(Collectors.joining()));\r\n\r\n                    con.disconnect();\r\n\r\n                    for (Object obj : responseJson.getJSONArray(&quot;response&quot;)) {\r\n                        JSONObject jsonObject = (JSONObject) obj;\r\n                        l.add(jsonObject.getString(&quot;version&quot;));\r\n                    }\r\n                    typeMap.put(endpoint.split(&quot;/&quot;)[1].replace(&quot;/&quot;, &quot;&quot;), l);\r\n                }\r\n                typeBox.getItems().addAll(typeMap.keySet());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void changeVersionOptions() {\r\n        versionBox.getItems().clear();\r\n        versionBox.setValue(null);\r\n        versionBox.getItems().addAll(typeMap.get(typeBox.getValue()));\r\n    }\r\n\r\n    public void updateVersion(ActionEvent actionEvent) throws MalformedURLException {\r\n        printToConsole(&quot;INFO&quot;, &quot;Attempting to update to &quot; + typeBox.getValue() + &quot; &quot; + versionBox.getValue());\r\n        Platform.runLater(() -&gt; {\r\n            try {\r\n                URL url = new URL(&quot;https://serverjars.com/api/fetchJar/&quot; + endpoints[getClosestIndex(endpoints, typeBox.getValue())] + &quot;/&quot; + versionBox.getValue());\r\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n                con.setRequestMethod(&quot;GET&quot;);\r\n                printToConsole(&quot;INFO&quot;, &quot;Connecting to servers...&quot;);\r\n                con.connect();\r\n\r\n                printToConsole(&quot;INFO&quot;, &quot;Downloading new jar file...&quot;);\r\n                InputStream is = con.getInputStream();\r\n                FileOutputStream fos = new FileOutputStream(serverJar);\r\n\r\n                printToConsole(&quot;INFO&quot;, &quot;Writing new jar file...&quot;);\r\n                byte[] jarFileData = is.readAllBytes();\r\n\r\n                System.out.println(serverJar.getPath());\r\n\r\n                fos.write(jarFileData, 0, jarFileData.length);\r\n\r\n                is.close();\r\n                fos.close();\r\n                con.disconnect();\r\n\r\n                printToConsole(&quot;INFO&quot;, &quot;Version successfully updated!&quot;);\r\n            } catch (Exception e) {\r\n                printToConsole(&quot;ERROR&quot;, &quot;Error when updating version. Please make sure you select a type and version&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void changeFolder(ActionEvent event) throws IOException {\r\n        DirectoryChooser directoryChooser = new DirectoryChooser();\r\n        directoryChooser.setTitle(&quot;Select minecraft server folder&quot;);\r\n        File file = directoryChooser.showDialog(null);\r\n\r\n        directoryPath = Path.of(file.getCanonicalPath());\r\n        pathContainer.setText(directoryPath.toString());\r\n        serverJar = new File(directoryPath + &quot;/server.jar&quot;);\r\n    }\r\n\r\n    private int getClosestIndex(String[] array, String option) throws Exception {\r\n        int index = -1;\r\n        for (String str : array) {\r\n            index++;\r\n            if (str.contains(option)) return index;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    private void printToConsole(String sender, String message) {\r\n        console.appendText(String.format(\r\n                &quot;[%s] %s\\n&quot;,\r\n                sender,\r\n                message\r\n        ));\r\n    }\r\n\r\n    public void togglePowerState(ActionEvent actionEvent) {\r\n        if (executorService == null || executorService.isTerminated()) {\r\n            //This is the bit that I think is causing it but idk how or how to fix it\r\n            Task&lt;Boolean&gt; runnable = new Task() {\r\n                @Override\r\n                protected Boolean call() {\r\n                    try {\r\n                        Process process;\r\n                        ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;-Xmx5G&quot;, &quot;-Xms1G&quot;, &quot;server.jar&quot;, &quot;nogui&quot;);\r\n                        pb.directory(new File(directoryPath.toString()));\r\n                        process = pb.start();\r\n                        BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n                        setOutputStreamWriter(new PrintWriter(process.getOutputStream()));\r\n                        String line;\r\n                        while (process.isAlive()) {\r\n                            if ((line = br.readLine()) != null) {\r\n                                printToConsole(&quot;MINECRAFT&quot;, line);\r\n                            }\r\n                        }\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                    return true;\r\n                }\r\n            };\r\n\r\n\r\n            executorService = Executors.newFixedThreadPool(1);\r\n            executorService.execute(runnable);\r\n            executorService.shutdown();\r\n\r\n\r\n        } else if (!executorService.isTerminated()) {\r\n            outputStreamWriter.println(&quot;stop&quot;);\r\n            outputStreamWriter.flush();\r\n        }\r\n    }\r\n\r\n    public void killServer(ActionEvent actionEvent) {\r\n        if (!executorService.isTerminated()) executorService.shutdownNow();\r\n    }\r\n\r\n    public void sendCommand(ActionEvent event) throws IOException {\r\n        outputStreamWriter.println(commandBox.getText());\r\n        outputStreamWriter.flush();\r\n        commandBox.setText(&quot;&quot;);\r\n    }\r\n\r\n    public void onKeyPress(KeyEvent keyEvent) throws IOException {\r\n        if (keyEvent.getCode().equals(KeyCode.ENTER)) {\r\n            outputStreamWriter.println(commandBox.getText());\r\n            outputStreamWriter.flush();\r\n            commandBox.setText(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public void setOutputStreamWriter(PrintWriter outputStreamWriter) {\r\n        this.outputStreamWriter = outputStreamWriter;\r\n    }\r\n}\r\n```","title":"Cannot read the array length because &quot;this.runs&quot; is null","body":"<p>I am writing a simple console program for Minecraft in javaFX. Sometimes it works fine but sometimes when the console is updating ill randomly get spammed with this error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot read the array length because &quot;this.runs&quot; is null\n    at javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.addTextRun(PrismTextLayout.java:770)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.GlyphLayout.addTextRun(GlyphLayout.java:140)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.GlyphLayout.breakRuns(GlyphLayout.java:210)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.buildRuns(PrismTextLayout.java:785)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.layout(PrismTextLayout.java:1036)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.ensureLayout(PrismTextLayout.java:223)\n    at javafx.graphics@18.0.1/com.sun.javafx.text.PrismTextLayout.getBounds(PrismTextLayout.java:246)\n    at javafx.graphics@18.0.1/javafx.scene.text.Text.getLogicalBounds(Text.java:432)\n    at javafx.graphics@18.0.1/javafx.scene.text.Text.doComputeGeomBounds(Text.java:1187)\n    at javafx.graphics@18.0.1/javafx.scene.text.Text$1.doComputeGeomBounds(Text.java:149)\n    at javafx.graphics@18.0.1/com.sun.javafx.scene.shape.TextHelper.computeGeomBoundsImpl(TextHelper.java:90)\n    at javafx.graphics@18.0.1/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:116)\n    at javafx.graphics@18.0.1/javafx.scene.Node.updateGeomBounds(Node.java:3818)\n    at javafx.graphics@18.0.1/javafx.scene.Node.getGeomBounds(Node.java:3780)\n    at javafx.graphics@18.0.1/javafx.scene.Node.getLocalBounds(Node.java:3728)\n    at javafx.graphics@18.0.1/javafx.scene.Node$MiscProperties$3.computeBounds(Node.java:6818)\n    at javafx.graphics@18.0.1/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9712)\n    at javafx.graphics@18.0.1/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9682)\n    at javafx.graphics@18.0.1/javafx.scene.Node.getBoundsInLocal(Node.java:3408)\n    at javafx.controls@18.0.1/javafx.scene.control.skin.TextAreaSkin$ContentView.layoutChildren(TextAreaSkin.java:1324)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1207)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@18.0.1/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@18.0.1/javafx.scene.Scene.doLayoutPass(Scene.java:579)\n    at javafx.graphics@18.0.1/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2499)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:405)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:404)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:434)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:575)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\n    at javafx.graphics@18.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>The error message is not even remotely helpful and I cant figure out whats triggering the error. If anyone knows what triggers this error please let me know so I can fix it. Thanks.</p>\n<p>Edit: Heres my source code</p>\n<pre><code>package com.koolade446.mconsole;\n\nimport javafx.application.Platform;\nimport javafx.concurrent.Task;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventType;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.*;\nimport javafx.stage.DirectoryChooser;\nimport javafx.stage.FileChooser;\nimport org.jetbrains.annotations.Nullable;\nimport org.json.JSONObject;\n\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.nio.file.Path;\nimport java.util.*;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.stream.Collectors;\n\npublic class MainController {\n\n    @FXML\n    public ComboBox&lt;String&gt; typeBox;\n    @FXML\n    public ComboBox&lt;String&gt; versionBox;\n    @FXML\n    public TextArea console;\n    @FXML\n    public Button startStopButton;\n    @FXML\n    public Button killButton;\n    @FXML\n    Button changeVersionButton;\n    @FXML\n    Label pathContainer;\n    @FXML\n    TextField commandBox;\n\n    private final Map&lt;String, List&lt;String&gt;&gt; typeMap = new HashMap&lt;&gt;();\n\n    private boolean serverIsStarted = false;\n    private ExecutorService executorService;\n\n    private Path directoryPath = Path.of(new File(&quot;.&quot;).getCanonicalPath());\n    private final String[] endpoints = new String[]{\n            &quot;servers/spigot&quot;,\n            &quot;vanilla/vanilla&quot;,\n            &quot;vanilla/snapshot&quot;,\n            &quot;modded/forge&quot;,\n            &quot;modded/fabric&quot;\n    };\n    File serverJar = new File(directoryPath + &quot;/server.jar&quot;);\n    private PrintWriter outputStreamWriter = null;\n\n    public MainController() throws IOException {\n    }\n\n\n    public void initialize() throws IOException, URISyntaxException {\n\n        startStopButton.setStyle(&quot;-fx-background-image: url('power.png')&quot;);\n        killButton.setStyle(&quot;-fx-background-image: url('kill.png')&quot;);\n        pathContainer.setText(directoryPath.toString());\n\n        Platform.runLater(() -&gt; {\n            try {\n                for (String endpoint : endpoints) {\n                    List&lt;String&gt; l = new ArrayList&lt;&gt;();\n                    URL url = new URL(&quot;https://serverjars.com/api/fetchAll/&quot; + endpoint);\n                    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                    con.setRequestMethod(&quot;GET&quot;);\n                    con.connect();\n\n                    JSONObject responseJson = new JSONObject(new BufferedReader(new InputStreamReader(con.getInputStream())).lines().collect(Collectors.joining()));\n\n                    con.disconnect();\n\n                    for (Object obj : responseJson.getJSONArray(&quot;response&quot;)) {\n                        JSONObject jsonObject = (JSONObject) obj;\n                        l.add(jsonObject.getString(&quot;version&quot;));\n                    }\n                    typeMap.put(endpoint.split(&quot;/&quot;)[1].replace(&quot;/&quot;, &quot;&quot;), l);\n                }\n                typeBox.getItems().addAll(typeMap.keySet());\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public void changeVersionOptions() {\n        versionBox.getItems().clear();\n        versionBox.setValue(null);\n        versionBox.getItems().addAll(typeMap.get(typeBox.getValue()));\n    }\n\n    public void updateVersion(ActionEvent actionEvent) throws MalformedURLException {\n        printToConsole(&quot;INFO&quot;, &quot;Attempting to update to &quot; + typeBox.getValue() + &quot; &quot; + versionBox.getValue());\n        Platform.runLater(() -&gt; {\n            try {\n                URL url = new URL(&quot;https://serverjars.com/api/fetchJar/&quot; + endpoints[getClosestIndex(endpoints, typeBox.getValue())] + &quot;/&quot; + versionBox.getValue());\n                HttpURLConnection con = (HttpURLConnection) url.openConnection();\n                con.setRequestMethod(&quot;GET&quot;);\n                printToConsole(&quot;INFO&quot;, &quot;Connecting to servers...&quot;);\n                con.connect();\n\n                printToConsole(&quot;INFO&quot;, &quot;Downloading new jar file...&quot;);\n                InputStream is = con.getInputStream();\n                FileOutputStream fos = new FileOutputStream(serverJar);\n\n                printToConsole(&quot;INFO&quot;, &quot;Writing new jar file...&quot;);\n                byte[] jarFileData = is.readAllBytes();\n\n                System.out.println(serverJar.getPath());\n\n                fos.write(jarFileData, 0, jarFileData.length);\n\n                is.close();\n                fos.close();\n                con.disconnect();\n\n                printToConsole(&quot;INFO&quot;, &quot;Version successfully updated!&quot;);\n            } catch (Exception e) {\n                printToConsole(&quot;ERROR&quot;, &quot;Error when updating version. Please make sure you select a type and version&quot;);\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public void changeFolder(ActionEvent event) throws IOException {\n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        directoryChooser.setTitle(&quot;Select minecraft server folder&quot;);\n        File file = directoryChooser.showDialog(null);\n\n        directoryPath = Path.of(file.getCanonicalPath());\n        pathContainer.setText(directoryPath.toString());\n        serverJar = new File(directoryPath + &quot;/server.jar&quot;);\n    }\n\n    private int getClosestIndex(String[] array, String option) throws Exception {\n        int index = -1;\n        for (String str : array) {\n            index++;\n            if (str.contains(option)) return index;\n        }\n        return 0;\n    }\n\n    private void printToConsole(String sender, String message) {\n        console.appendText(String.format(\n                &quot;[%s] %s\\n&quot;,\n                sender,\n                message\n        ));\n    }\n\n    public void togglePowerState(ActionEvent actionEvent) {\n        if (executorService == null || executorService.isTerminated()) {\n            //This is the bit that I think is causing it but idk how or how to fix it\n            Task&lt;Boolean&gt; runnable = new Task() {\n                @Override\n                protected Boolean call() {\n                    try {\n                        Process process;\n                        ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, &quot;-Xmx5G&quot;, &quot;-Xms1G&quot;, &quot;server.jar&quot;, &quot;nogui&quot;);\n                        pb.directory(new File(directoryPath.toString()));\n                        process = pb.start();\n                        BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));\n                        setOutputStreamWriter(new PrintWriter(process.getOutputStream()));\n                        String line;\n                        while (process.isAlive()) {\n                            if ((line = br.readLine()) != null) {\n                                printToConsole(&quot;MINECRAFT&quot;, line);\n                            }\n                        }\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                    return true;\n                }\n            };\n\n\n            executorService = Executors.newFixedThreadPool(1);\n            executorService.execute(runnable);\n            executorService.shutdown();\n\n\n        } else if (!executorService.isTerminated()) {\n            outputStreamWriter.println(&quot;stop&quot;);\n            outputStreamWriter.flush();\n        }\n    }\n\n    public void killServer(ActionEvent actionEvent) {\n        if (!executorService.isTerminated()) executorService.shutdownNow();\n    }\n\n    public void sendCommand(ActionEvent event) throws IOException {\n        outputStreamWriter.println(commandBox.getText());\n        outputStreamWriter.flush();\n        commandBox.setText(&quot;&quot;);\n    }\n\n    public void onKeyPress(KeyEvent keyEvent) throws IOException {\n        if (keyEvent.getCode().equals(KeyCode.ENTER)) {\n            outputStreamWriter.println(commandBox.getText());\n            outputStreamWriter.flush();\n            commandBox.setText(&quot;&quot;);\n        }\n    }\n\n    public void setOutputStreamWriter(PrintWriter outputStreamWriter) {\n        this.outputStreamWriter = outputStreamWriter;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","common-lisp","abcl"],"answers":[{"comments":[{"owner":{"account_id":42652,"reputation":37974,"user_id":124319,"display_name":"coredump"},"score":0,"creation_date":1673343823,"post_id":74836033,"comment_id":132472081,"body_markdown":"See also the JSS contrib syntax: https://abcl.org/trac/browser/trunk/abcl/contrib/jss/README.markdown","body":"See also the JSS contrib syntax: <a href=\"https://abcl.org/trac/browser/trunk/abcl/contrib/jss/README.markdown\" rel=\"nofollow noreferrer\">abcl.org/trac/browser/trunk/abcl/contrib/jss/README.markdown</a>"}],"tags":[],"owner":{"account_id":11641684,"reputation":191,"user_id":8525871,"display_name":"pjstirling"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671297760,"creation_date":1671297760,"answer_id":74836033,"question_id":74592356,"body_markdown":"According to [1] you need to use `jclass` to get the java class objects for each of the parameters, and then `jmethod` to find the right overload, and then finally you can call `jcall`\r\n\r\n1: https://armedbear.common-lisp.dev/doc/abcl-user.html","title":"ABCL - error trying to add component to JPanel - add not found","body":"<p>According to [1] you need to use <code>jclass</code> to get the java class objects for each of the parameters, and then <code>jmethod</code> to find the right overload, and then finally you can call <code>jcall</code></p>\n<p>1: <a href=\"https://armedbear.common-lisp.dev/doc/abcl-user.html\" rel=\"nofollow noreferrer\">https://armedbear.common-lisp.dev/doc/abcl-user.html</a></p>\n"}],"owner":{"account_id":4205022,"reputation":1672,"user_id":9841104,"display_name":"Francis King"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671297760,"creation_date":1669570944,"question_id":74592356,"body_markdown":"I am trying to build a Java GUI using ABCL. However, it throws an error.\r\n\r\n```\r\n#&lt;THREAD &quot;interpreter&quot; {67D71B82}&gt;: Debugger invoked on condition of type JAVA-EXCEPTION\r\n  Java exception &#39;java.lang.NoSuchMethodException: No applicable method named add found in javax.swing.JPanel&#39;.\r\nRestarts:\r\n  0: ABORT     Return to debug level 1.\r\n  1: TOP-LEVEL Return to top level.\r\n```\r\n\r\nMy code is as follows:\r\n\r\n```\r\n(defconstant +jframe+ &quot;javax.swing.JFrame&quot;)\r\n(defconstant +jpanel+ &quot;javax.swing.JPanel&quot;)\r\n(defconstant +button+ &quot;javax.swing.JButton&quot;)\r\n\r\n(defconstant +flowLayout+ &quot;java.awt.FlowLayout&quot;)\r\n(defconstant +dimension+ &quot;java.awt.Dimension&quot;)\r\n\r\n(defun make-frame (name width height) \r\n   (let ((this (jnew +jframe+ name))\r\n        (dims (jnew +dimension+ width height)))\r\n\r\n        (jcall &quot;setPreferredSize&quot; this dims)\r\n        this))\r\n\r\n(defun make-panel ()\r\n   (let ((this (jnew +jpanel+)))\r\n       this))\r\n\r\n(defun make-button (name)\r\n    (let ((this (jnew +button+ name))\r\n        this)))\r\n\r\n(defun main ()\r\n   (let ((frame (make-frame \r\n                   &quot;This is my frame&quot;\r\n                   400 300))\r\n         (panel (make-panel))\r\n         (button1 (make-button\r\n                   &quot;Press me&quot;))\r\n         )\r\n\r\n    (jcall &quot;add&quot; frame panel)  \r\n    (jcall &quot;add&quot; panel button1 (jfield +flowLayout+ &quot;LEFT&quot;))   \r\n\r\n    (jcall &quot;pack&quot; frame)\r\n    (jcall &quot;setVisible&quot; frame t)\r\n\r\n))\r\n```\r\n\r\nThe error is on line `(jcall &quot;add&quot; panel button1 (jfield +flowLayout+ &quot;LEFT&quot;))`. Commenting this out leads to a working application.\r\n\r\n","title":"ABCL - error trying to add component to JPanel - add not found","body":"<p>I am trying to build a Java GUI using ABCL. However, it throws an error.</p>\n<pre><code>#&lt;THREAD &quot;interpreter&quot; {67D71B82}&gt;: Debugger invoked on condition of type JAVA-EXCEPTION\n  Java exception 'java.lang.NoSuchMethodException: No applicable method named add found in javax.swing.JPanel'.\nRestarts:\n  0: ABORT     Return to debug level 1.\n  1: TOP-LEVEL Return to top level.\n</code></pre>\n<p>My code is as follows:</p>\n<pre><code>(defconstant +jframe+ &quot;javax.swing.JFrame&quot;)\n(defconstant +jpanel+ &quot;javax.swing.JPanel&quot;)\n(defconstant +button+ &quot;javax.swing.JButton&quot;)\n\n(defconstant +flowLayout+ &quot;java.awt.FlowLayout&quot;)\n(defconstant +dimension+ &quot;java.awt.Dimension&quot;)\n\n(defun make-frame (name width height) \n   (let ((this (jnew +jframe+ name))\n        (dims (jnew +dimension+ width height)))\n\n        (jcall &quot;setPreferredSize&quot; this dims)\n        this))\n\n(defun make-panel ()\n   (let ((this (jnew +jpanel+)))\n       this))\n\n(defun make-button (name)\n    (let ((this (jnew +button+ name))\n        this)))\n\n(defun main ()\n   (let ((frame (make-frame \n                   &quot;This is my frame&quot;\n                   400 300))\n         (panel (make-panel))\n         (button1 (make-button\n                   &quot;Press me&quot;))\n         )\n\n    (jcall &quot;add&quot; frame panel)  \n    (jcall &quot;add&quot; panel button1 (jfield +flowLayout+ &quot;LEFT&quot;))   \n\n    (jcall &quot;pack&quot; frame)\n    (jcall &quot;setVisible&quot; frame t)\n\n))\n</code></pre>\n<p>The error is on line <code>(jcall &quot;add&quot; panel button1 (jfield +flowLayout+ &quot;LEFT&quot;))</code>. Commenting this out leads to a working application.</p>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":10688670,"reputation":3585,"user_id":8533971,"accept_rate":43,"display_name":"Aditya"},"score":0,"creation_date":1539762772,"post_id":52849637,"comment_id":92615302,"body_markdown":"Maybe you are calling it twice, check it again.","body":"Maybe you are calling it twice, check it again."},{"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"score":0,"creation_date":1539763158,"post_id":52849637,"comment_id":92615517,"body_markdown":"No its only one time","body":"No its only one time"},{"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"score":0,"creation_date":1539763631,"post_id":52849637,"comment_id":92615759,"body_markdown":"Post full code, of where you are calling it and the full Async class.","body":"Post full code, of where you are calling it and the full Async class."},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1539763634,"post_id":52849637,"comment_id":92615760,"body_markdown":"is your `onPostExecute` a method overriden in AsyncTask?","body":"is your <code>onPostExecute</code> a method overriden in AsyncTask?"},{"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"score":0,"creation_date":1539763797,"post_id":52849637,"comment_id":92615849,"body_markdown":"first check size of downloadedFiles array size   on mediaDownload(downloadedFiles, folderName) call..\nThen try removing this line...\n File f = new File(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName + &quot;/&quot; + arrayList.get(i).getName());\n            Log.e(&quot;File:&quot;,f.toString());","body":"first check size of downloadedFiles array size   on mediaDownload(downloadedFiles, folderName) call.. Then try removing this line...  File f = new File(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName + &quot;/&quot; + arrayList.get(i).getName());             Log.e(&quot;File:&quot;,f.toString());"},{"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"score":0,"creation_date":1539763871,"post_id":52849637,"comment_id":92615877,"body_markdown":"@VladyslavMatviienko yes it is","body":"@VladyslavMatviienko yes it is"},{"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"score":0,"creation_date":1539763936,"post_id":52849637,"comment_id":92615909,"body_markdown":"@kubersingh both of them showing 2 files, but both executed twice cause they are logged in onPostExecute","body":"@kubersingh both of them showing 2 files, but both executed twice cause they are logged in onPostExecute"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1539764165,"post_id":52849637,"comment_id":92616054,"body_markdown":"show how you use asynctask then","body":"show how you use asynctask then"},{"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"score":0,"creation_date":1539764170,"post_id":52849637,"comment_id":92616057,"body_markdown":"check if the calling of asyntask not in any loop..","body":"check if the calling of asyntask not in any loop.."},{"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"score":0,"creation_date":1539764272,"post_id":52849637,"comment_id":92616122,"body_markdown":"am calling it in `onCreate` this way :  `new dispProj().execute();` and there is no loop in there","body":"am calling it in <code>onCreate</code> this way :  <code>new dispProj().execute();</code> and there is no loop in there"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":1,"creation_date":1539764452,"post_id":52849637,"comment_id":92616221,"body_markdown":"check in debug with a breakpoint if you are calling it twice","body":"check in debug with a breakpoint if you are calling it twice"},{"owner":{"account_id":14514497,"reputation":289,"user_id":10484014,"display_name":"kuber singh"},"score":0,"creation_date":1539764516,"post_id":52849637,"comment_id":92616258,"body_markdown":"yes may be oncreate call twice due to Activity Tasks instance calling it twice..","body":"yes may be oncreate call twice due to Activity Tasks instance calling it twice.."},{"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"score":0,"creation_date":1539769509,"post_id":52849637,"comment_id":92619114,"body_markdown":"i&#39;ve checked using breakpoint, i can&#39;t find out why it&#39;s called twice and i have no other loop","body":"i&#39;ve checked using breakpoint, i can&#39;t find out why it&#39;s called twice and i have no other loop"}],"answers":[{"tags":[],"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539777188,"creation_date":1539777188,"answer_id":52854281,"question_id":52849637,"body_markdown":"I figured out after passing my time debugging all the code, when the activity is created it changes the screen orientation and so it creates a second instance, so my AsyncTask is called twice and thats why i thought onPosteExecute is called twice, thanks for everyone who tried to help.","title":"onPostExecute is called twice and showing double result","body":"<p>I figured out after passing my time debugging all the code, when the activity is created it changes the screen orientation and so it creates a second instance, so my AsyncTask is called twice and thats why i thought onPosteExecute is called twice, thanks for everyone who tried to help.</p>\n"}],"owner":{"account_id":6296732,"reputation":108,"user_id":4892692,"accept_rate":67,"display_name":"Laidi Oussama"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52854281,"answer_count":1,"score":0,"last_activity_date":1671297645,"creation_date":1539762050,"question_id":52849637,"body_markdown":"I am trying to download some files in background, for that I used download manager and I made this method: \r\n\r\n    /*** media download ***/\r\n        public long mediaDownload(ArrayList&lt;DownloadedFile&gt; arrayList, String foldPathName) {\r\n            long downloadReference = 0;\r\n    \r\n            // Create request for android download manager\r\n            downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    \r\n            for (int i = 0; i &lt; arrayList.size();i++){\r\n    \r\n                DownloadManager.Request request = new DownloadManager.Request(arrayList.get(i).getUri());\r\n                request.setTitle(&quot;Data Download&quot;);\r\n                request.setDescription(&quot;New media&quot;);\r\n    \r\n                //Set the local destination for the downloaded file to a path\r\n                //within the application&#39;s external files directory\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName, arrayList.get(i).getName());\r\n                File f = new File(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName + &quot;/&quot; + arrayList.get(i).getName());\r\n                Log.e(&quot;File:&quot;,f.toString());\r\n    \r\n                //Enqueue download and save into referenceId\r\n                downloadReference = downloadManager.enqueue(request);\r\n    \r\n            }\r\n            return downloadReference;\r\n        }\r\n\r\nI have a picture and a Video to download for test, and when checking downloaded file in Explorer I find 2 videos and 2 picture, debug that I found that onPostExecute method is called twice and I can&#39;t figure out why.\r\n\r\nHere is my onPostExecute method: \r\n\r\n     protected void onPostExecute(String s) {\r\n                    try {\r\n                        JSONObject jsonObject = new JSONObject(s);\r\n                        JSONArray region = null;\r\n                        region = jsonObject.getJSONArray(&quot;regions&quot;);\r\n                        Log.e(&quot;Regions:&quot;, String.valueOf(region.length()));\r\n                        for (int i = 0; i &lt; region.length(); i++) {\r\n                            try {\r\n                                JSONObject json_data = region.getJSONObject(i);\r\n                                int height_view = Integer.parseInt(json_data.getString(&quot;height&quot;));\r\n                                int width_view = Integer.parseInt(json_data.getString(&quot;width&quot;));\r\n        \r\n                                int left_view = Integer.parseInt(json_data.getString(&quot;left&quot;));\r\n                                int top_view = Integer.parseInt(json_data.getString(&quot;top&quot;));\r\n                                int right_view = Integer.parseInt(json_data.getString(&quot;right&quot;));\r\n                                int bottom_view = Integer.parseInt(json_data.getString(&quot;bottom&quot;));\r\n        \r\n                                /**** Media in region ***/\r\n                                JSONObject media = json_data.getJSONObject(&quot;media&quot;);\r\n                                String type_media = media.getString(&quot;type&quot;);\r\n        \r\n                                url = media.getString(&quot;url&quot;);\r\n                                name = media.getString(&quot;name&quot;);\r\n                                uri = Uri.parse(url);\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            downloadedFiles.add(new DownloadedFile(name, uri));\r\n                        }\r\n                        Toast.makeText(MainActivity.this, &quot;Layout Created with&quot; + height + &quot;x&quot; + width, Toast.LENGTH_SHORT).show();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    Log.e(&quot;Downloaded Files:&quot;,downloadedFiles.toString());\r\n                    mediaDownload(downloadedFiles, folderName); // region media&#39;s download\r\n                }\r\n\r\nOn my logcat I see that my arrayList has 2 elements, but displayed twice, which means files are downloaded twice so the onPostExecute method called 2 times, thanks for help.","title":"onPostExecute is called twice and showing double result","body":"<p>I am trying to download some files in background, for that I used download manager and I made this method:</p>\n<pre><code>/*** media download ***/\n    public long mediaDownload(ArrayList&lt;DownloadedFile&gt; arrayList, String foldPathName) {\n        long downloadReference = 0;\n\n        // Create request for android download manager\n        downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n\n        for (int i = 0; i &lt; arrayList.size();i++){\n\n            DownloadManager.Request request = new DownloadManager.Request(arrayList.get(i).getUri());\n            request.setTitle(&quot;Data Download&quot;);\n            request.setDescription(&quot;New media&quot;);\n\n            //Set the local destination for the downloaded file to a path\n            //within the application's external files directory\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName, arrayList.get(i).getName());\n            File f = new File(Environment.DIRECTORY_DOWNLOADS + &quot;/&quot; + folder_main + &quot;/&quot; + foldPathName + &quot;/&quot; + arrayList.get(i).getName());\n            Log.e(&quot;File:&quot;,f.toString());\n\n            //Enqueue download and save into referenceId\n            downloadReference = downloadManager.enqueue(request);\n\n        }\n        return downloadReference;\n    }\n</code></pre>\n<p>I have a picture and a Video to download for test, and when checking downloaded file in Explorer I find 2 videos and 2 picture, debug that I found that onPostExecute method is called twice and I can't figure out why.</p>\n<p>Here is my onPostExecute method:</p>\n<pre><code> protected void onPostExecute(String s) {\n                try {\n                    JSONObject jsonObject = new JSONObject(s);\n                    JSONArray region = null;\n                    region = jsonObject.getJSONArray(&quot;regions&quot;);\n                    Log.e(&quot;Regions:&quot;, String.valueOf(region.length()));\n                    for (int i = 0; i &lt; region.length(); i++) {\n                        try {\n                            JSONObject json_data = region.getJSONObject(i);\n                            int height_view = Integer.parseInt(json_data.getString(&quot;height&quot;));\n                            int width_view = Integer.parseInt(json_data.getString(&quot;width&quot;));\n    \n                            int left_view = Integer.parseInt(json_data.getString(&quot;left&quot;));\n                            int top_view = Integer.parseInt(json_data.getString(&quot;top&quot;));\n                            int right_view = Integer.parseInt(json_data.getString(&quot;right&quot;));\n                            int bottom_view = Integer.parseInt(json_data.getString(&quot;bottom&quot;));\n    \n                            /**** Media in region ***/\n                            JSONObject media = json_data.getJSONObject(&quot;media&quot;);\n                            String type_media = media.getString(&quot;type&quot;);\n    \n                            url = media.getString(&quot;url&quot;);\n                            name = media.getString(&quot;name&quot;);\n                            uri = Uri.parse(url);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                        downloadedFiles.add(new DownloadedFile(name, uri));\n                    }\n                    Toast.makeText(MainActivity.this, &quot;Layout Created with&quot; + height + &quot;x&quot; + width, Toast.LENGTH_SHORT).show();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                Log.e(&quot;Downloaded Files:&quot;,downloadedFiles.toString());\n                mediaDownload(downloadedFiles, folderName); // region media's download\n            }\n</code></pre>\n<p>On my logcat I see that my arrayList has 2 elements, but displayed twice, which means files are downloaded twice so the onPostExecute method called 2 times, thanks for help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1671224271,"post_id":74827360,"comment_id":132061201,"body_markdown":"Sure you can use recursion.  You can also use iterations: there are pros/cons either way.  In any case, your solution looks OK.  In particular, it&#39;s perfectly legitimate to overload &quot;numItems()&quot; with &quot;numItems(Node node)&quot;, as you&#39;ve done in your example.","body":"Sure you can use recursion.  You can also use iterations: there are pros/cons either way.  In any case, your solution looks OK.  In particular, it&#39;s perfectly legitimate to overload &quot;numItems()&quot; with &quot;numItems(Node node)&quot;, as you&#39;ve done in your example."}],"answers":[{"comments":[{"owner":{"account_id":27274471,"reputation":21,"user_id":20795319,"display_name":"Noob Coder"},"score":0,"creation_date":1671209907,"post_id":74827420,"comment_id":132057387,"body_markdown":"Thank you! Then is it impossible to code this method(recursion) not using java&#39;s overloading? Just in one method -&gt;  public int numItems()","body":"Thank you! Then is it impossible to code this method(recursion) not using java&#39;s overloading? Just in one method -&gt;  public int numItems()"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1671210527,"post_id":74827420,"comment_id":132057560,"body_markdown":"You do not need overloading for recursion. You can use any name you want for the private recursive method.","body":"You do not need overloading for recursion. You can use any name you want for the private recursive method."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1671227431,"post_id":74827420,"comment_id":132061892,"body_markdown":"@Noob Coder: 1) your example is fine. 2) You *DON&#39;T* need overloading, if you don&#39;t want it. 3) One alternative is to give the recursive method a different name. 4) Another alternative is to iterate through the list (counting each node) instead of using recursion at all.","body":"@Noob Coder: 1) your example is fine. 2) You <i>DON&#39;T</i> need overloading, if you don&#39;t want it. 3) One alternative is to give the recursive method a different name. 4) Another alternative is to iterate through the list (counting each node) instead of using recursion at all."}],"tags":[],"owner":{"account_id":20099597,"reputation":446,"user_id":14738350,"display_name":"devblack.exe"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671213813,"creation_date":1671209155,"answer_id":74827420,"question_id":74827360,"body_markdown":"You can recursively count the number of elements in your linked list by starting at your first actual node and not in a &quot;hypothetical&quot; head. \r\n\r\nYour end-result should look something like this:\r\n\r\n```java\r\npublic int numItems() {\r\n    return numItems(head.next); // start at the first actual node\r\n}\r\n\r\nprivate int numItems(Node node) {\r\n    if (node == null) {\r\n        return 0;\r\n    }\r\n    return 1 + numItems(node.next);\r\n}\r\n```\r\nAnd you don&#39;t need any [method overloading][1] for this problem .\r\n\r\n\r\n  [1]: https://www.javatpoint.com/method-overloading-in-java","title":"LinkedList in java,is it possible to make elements number counting method using recursion?","body":"<p>You can recursively count the number of elements in your linked list by starting at your first actual node and not in a &quot;hypothetical&quot; head.</p>\n<p>Your end-result should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int numItems() {\n    return numItems(head.next); // start at the first actual node\n}\n\nprivate int numItems(Node node) {\n    if (node == null) {\n        return 0;\n    }\n    return 1 + numItems(node.next);\n}\n</code></pre>\n<p>And you don't need any <a href=\"https://www.javatpoint.com/method-overloading-in-java\" rel=\"nofollow noreferrer\">method overloading</a> for this problem .</p>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671297618,"creation_date":1671214575,"answer_id":74828346,"question_id":74827360,"body_markdown":"You can solve by accumulating the count on each node travel.\r\n\r\n    public int numItems(Node node, int accumulator){\r\n    \tif(node == null){\r\n    \t\treturn accumulator; \r\n    \t}\r\n    \r\n    \treturn numItems(node.next, 1 + accumulator)\r\n    }\r\n    \r\n    numItems(node, 0);","title":"LinkedList in java,is it possible to make elements number counting method using recursion?","body":"<p>You can solve by accumulating the count on each node travel.</p>\n<pre><code>public int numItems(Node node, int accumulator){\n    if(node == null){\n        return accumulator; \n    }\n\n    return numItems(node.next, 1 + accumulator)\n}\n\nnumItems(node, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":894604,"reputation":838,"user_id":932160,"display_name":"Sergii Kozlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671223984,"creation_date":1671215223,"answer_id":74828445,"question_id":74827360,"body_markdown":"There is a number of clarifications to ask here:\r\n* Is `numItems` method of `LinkedList`?\r\n* It is not the best practice, but is it okay or is it possible in your case to mutate the `dummy head`?\r\n\r\n```(lang=java)\r\npublic int numItems() {\r\n    if (null == this.dummyHead) {\r\n        return 0;\r\n    }\r\n    this.dummyHead = this.dummyHead.next;\r\n    return 1 + this.numItems();\r\n}\r\n```\r\n\r\nNote: It is not a production like practice, but solves the case within your limitations.\r\n\r\nUpdate: there is possibly off by one if we don&#39;t want `dummyHead` to be counted in. In that case if we are guaranteed to have the `dummyHead` all the time, then instead of `0` in the `null check` we should return `-1` instead to be precise.","title":"LinkedList in java,is it possible to make elements number counting method using recursion?","body":"<p>There is a number of clarifications to ask here:</p>\n<ul>\n<li>Is <code>numItems</code> method of <code>LinkedList</code>?</li>\n<li>It is not the best practice, but is it okay or is it possible in your case to mutate the <code>dummy head</code>?</li>\n</ul>\n<pre><code>public int numItems() {\n    if (null == this.dummyHead) {\n        return 0;\n    }\n    this.dummyHead = this.dummyHead.next;\n    return 1 + this.numItems();\n}\n</code></pre>\n<p>Note: It is not a production like practice, but solves the case within your limitations.</p>\n<p>Update: there is possibly off by one if we don't want <code>dummyHead</code> to be counted in. In that case if we are guaranteed to have the <code>dummyHead</code> all the time, then instead of <code>0</code> in the <code>null check</code> we should return <code>-1</code> instead to be precise.</p>\n"}],"owner":{"account_id":27274471,"reputation":21,"user_id":20795319,"display_name":"Noob Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1671289059,"answer_count":3,"score":1,"last_activity_date":1671297618,"creation_date":1671208808,"question_id":74827360,"body_markdown":"The problem is the same as my title. I am now studying the data structure and struggling with the problem. the LinkedList now has a dummy head and it is impossible to make another global variable.\r\n\r\n```\r\npublic int numItems() {\r\n just here is the all I can modify.\r\n}\r\n```\r\nI think that to solve this problem using recursion, there must be an argument for the method. But as I am a Noob coder, I am not sure about my opinion.\r\n\r\nI tried the first method with no arguments and it calls another method with arguments like \r\n\r\n```\r\npublic int numItems() { \r\n  return numItems(head);\r\n}\r\n\r\npublic int numItems(Node node) {\r\n  if(node.next == null) {\r\n    return 0;\r\n  } else {\r\n    return 1 + numItems(node.next); \r\n  }\r\n} \r\n```\r\n\r\n\r\nusing Java&#39;s method of overloading. but this too is not a proper answer to this question. \r\nSo, if you have any idea that can code the counting of the number of the elements in LinkedList using recursion, please let me know... or if it is impossible also please tell me that it is not possible.\r\n","title":"LinkedList in java,is it possible to make elements number counting method using recursion?","body":"<p>The problem is the same as my title. I am now studying the data structure and struggling with the problem. the LinkedList now has a dummy head and it is impossible to make another global variable.</p>\n<pre><code>public int numItems() {\n just here is the all I can modify.\n}\n</code></pre>\n<p>I think that to solve this problem using recursion, there must be an argument for the method. But as I am a Noob coder, I am not sure about my opinion.</p>\n<p>I tried the first method with no arguments and it calls another method with arguments like</p>\n<pre><code>public int numItems() { \n  return numItems(head);\n}\n\npublic int numItems(Node node) {\n  if(node.next == null) {\n    return 0;\n  } else {\n    return 1 + numItems(node.next); \n  }\n} \n</code></pre>\n<p>using Java's method of overloading. but this too is not a proper answer to this question.\nSo, if you have any idea that can code the counting of the number of the elements in LinkedList using recursion, please let me know... or if it is impossible also please tell me that it is not possible.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1671294114,"post_id":74835573,"comment_id":132070578,"body_markdown":"so how can I make sure that this task belongs to the project that the user lives in.","body":"so how can I make sure that this task belongs to the project that the user lives in."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671294704,"post_id":74835573,"comment_id":132070677,"body_markdown":"@Patrick You want to check the principles `userId` against the `taskId` in the path - it can be done using `@PreAuthorize` like shown above. If you want to check if the principles `userId` matches the id of the returned object - you need `@PostAuthorize`. So what&#39;s your use case, the first, or the second?","body":"@Patrick You want to check the principles <code>userId</code> against the <code>taskId</code> in the path - it can be done using <code>@PreAuthorize</code> like shown above. If you want to check if the principles <code>userId</code> matches the id of the returned object - you need <code>@PostAuthorize</code>. So what&#39;s your use case, the first, or the second?"},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1671295675,"post_id":74835573,"comment_id":132070838,"body_markdown":"I mean user principal only has userId, but the task doesn&#39;t belong to the user directly. it belongs to the project where a user lives in. so in this case how can I check whether a user be able to see this task?","body":"I mean user principal only has userId, but the task doesn&#39;t belong to the user directly. it belongs to the project where a user lives in. so in this case how can I check whether a user be able to see this task?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671295893,"post_id":74835573,"comment_id":132070872,"body_markdown":"@Patrick You didn&#39;t get my question. *When you say &quot;**this task**&quot;, do you mean `Task` instance **returned** by your method?* - If yes, see the updated answer.","body":"@Patrick You didn&#39;t get my question. <i>When you say &quot;<b>this task</b>&quot;, do you mean <code>Task</code> instance <b>returned</b> by your method?</i> - If yes, see the updated answer."},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1671296026,"post_id":74835573,"comment_id":132070888,"body_markdown":"Yes, but taskId will never equal to the userId right...","body":"Yes, but taskId will never equal to the userId right..."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671296237,"post_id":74835573,"comment_id":132070930,"body_markdown":"@Patrick Can you please be less vague. What do you mean by saying *&quot;taskId will never equal to the userId&quot;*. They have some kind of different format?","body":"@Patrick Can you please be less vague. What do you mean by saying <i>&quot;taskId will never equal to the userId&quot;</i>. They have some kind of different format?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671296319,"post_id":74835573,"comment_id":132070946,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250499/discussion-between-alexander-ivanchenko-and-patrick).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250499/discussion-between-alexander-ivanchenko-and-patrick\">continue this discussion in chat</a>."},{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1671296418,"post_id":74835573,"comment_id":132070968,"body_markdown":"userId is the identifier of a UserEntity while TaskId is the identifier of a TaskEntity. both are difference object with difference Id. but TaskEntity belongs to the ProjectEntity where a UserEntity lives in. does that make more sense.","body":"userId is the identifier of a UserEntity while TaskId is the identifier of a TaskEntity. both are difference object with difference Id. but TaskEntity belongs to the ProjectEntity where a UserEntity lives in. does that make more sense."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671295661,"creation_date":1671293617,"answer_id":74835573,"question_id":74835350,"body_markdown":"You can refer to a path variable (or to variables annotated with @RequestBody and @RequestHeader) in a SpEl expression using their name with a `#` sign prepended at the beginning.\r\n\r\n    @PreAuthorize(&quot;principal.userId == #taskId&quot;)\r\n    @GetMapping(&quot;/task/{taskId}&quot;)\r\n    public Task getTask(@PathVariable String taskId) {\r\n        // ...\r\n    }\r\n\r\nIf you&#39;re interested in checking whether id of the retuned instance of `Task` matches the id of the principle, you need to use `@PostAuthorized` (*it&#39;s not doable `@PreAuthorize` because the method need to be executed in order to evaluate the condition, i.e. you need to fetch the object first in order to decide if this user can access it*).\r\n\r\nAnd to refer to the object produced by the method in the SpEl use `returnObject` (don&#39;t prepend hash-sign).\r\n\r\n    @PostAuthorize(&quot;principal.userId == returnObject.taskId&quot;)\r\n    @GetMapping(&quot;/task/{taskId}&quot;)\r\n    public Task getTask(@PathVariable String taskId) {\r\n        // ...\r\n    }","title":"How to validate if a user is the owner of an object","body":"<p>You can refer to a path variable (or to variables annotated with @RequestBody and @RequestHeader) in a SpEl expression using their name with a <code>#</code> sign prepended at the beginning.</p>\n<pre><code>@PreAuthorize(&quot;principal.userId == #taskId&quot;)\n@GetMapping(&quot;/task/{taskId}&quot;)\npublic Task getTask(@PathVariable String taskId) {\n    // ...\n}\n</code></pre>\n<p>If you're interested in checking whether id of the retuned instance of <code>Task</code> matches the id of the principle, you need to use <code>@PostAuthorized</code> (<em>it's not doable <code>@PreAuthorize</code> because the method need to be executed in order to evaluate the condition, i.e. you need to fetch the object first in order to decide if this user can access it</em>).</p>\n<p>And to refer to the object produced by the method in the SpEl use <code>returnObject</code> (don't prepend hash-sign).</p>\n<pre><code>@PostAuthorize(&quot;principal.userId == returnObject.taskId&quot;)\n@GetMapping(&quot;/task/{taskId}&quot;)\npublic Task getTask(@PathVariable String taskId) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671297189,"creation_date":1671291715,"question_id":74835350,"body_markdown":"In my project I have 3 entities **User**, **Project** and **Task**. A user can create a task, but the task will belong to the project not him and a project can have multiple users in it.\r\n\r\n    data class User(\r\n      val userId: String,\r\n    )\r\n    \r\n    data class Project(\r\n      val projectId: String,\r\n      val taskIds: List&lt;String&gt;,\r\n      val userIds: List&lt;String&gt;\r\n    )\r\n\r\n    data class Task(\r\n      val taskId: String\r\n    )\r\n\r\nSo if the data structure is like this. how can I use **@PreAuthorize** to validate whether the **Task** belongs to the project that the users are in.\r\n\r\n    @PreAuthorize(&quot;authentication.principal.userId == #???&quot;)\r\n    @GetMapping(&quot;/task/{taskId}&quot;)\r\n    public Task getTask(String taskId) {\r\n    }","title":"How to validate if a user is the owner of an object","body":"<p>In my project I have 3 entities <strong>User</strong>, <strong>Project</strong> and <strong>Task</strong>. A user can create a task, but the task will belong to the project not him and a project can have multiple users in it.</p>\n<pre><code>data class User(\n  val userId: String,\n)\n\ndata class Project(\n  val projectId: String,\n  val taskIds: List&lt;String&gt;,\n  val userIds: List&lt;String&gt;\n)\n\ndata class Task(\n  val taskId: String\n)\n</code></pre>\n<p>So if the data structure is like this. how can I use <strong>@PreAuthorize</strong> to validate whether the <strong>Task</strong> belongs to the project that the users are in.</p>\n<pre><code>@PreAuthorize(&quot;authentication.principal.userId == #???&quot;)\n@GetMapping(&quot;/task/{taskId}&quot;)\npublic Task getTask(String taskId) {\n}\n</code></pre>\n"},{"tags":["java","formatting","number-formatting"],"comments":[{"owner":{"account_id":9793393,"reputation":132,"user_id":7257264,"display_name":"Kevin Eldurson"},"score":1,"creation_date":1671296525,"post_id":74835846,"comment_id":132070987,"body_markdown":"Why not use an if statement for that specific case, considering the format for null is different from the default 0.00% anyway?","body":"Why not use an if statement for that specific case, considering the format for null is different from the default 0.00% anyway?"}],"answers":[{"comments":[{"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"score":0,"creation_date":1671299031,"post_id":74835915,"comment_id":132071437,"body_markdown":"Ah, OK. It&#39;s too bad DecimalFormat doesn&#39;t account for nulls. I&#39;ll create a class &quot;FullDecimalFormat&quot; (or something along the lines) as in your solution that will accept a second parameter in the constructor for the null format. Thank you.","body":"Ah, OK. It&#39;s too bad DecimalFormat doesn&#39;t account for nulls. I&#39;ll create a class &quot;FullDecimalFormat&quot; (or something along the lines) as in your solution that will accept a second parameter in the constructor for the null format. Thank you."}],"tags":[],"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671296666,"creation_date":1671296666,"answer_id":74835915,"question_id":74835846,"body_markdown":"You need to define a custom formatter, but as the method  `DecimalFormat.format` is final, you can&#39;t inherit the class and override the method\r\n\r\n```java\r\nDashDecimalFormat fmt = new DashDecimalFormat(&quot;0.00%&quot;);\r\nSystem.out.println(fmt.format(1.14));   // 114.00%\r\nSystem.out.println(fmt.format(0.1201)); // 12.01%\r\nSystem.out.println(fmt.format(null));   // --\r\n```\r\n\r\n```java\r\nclass DashDecimalFormat {\r\n    private final DecimalFormat formatter;\r\n    public DashDecimalFormat(String pattern) {\r\n        formatter = new DecimalFormat(pattern);\r\n    }\r\n    public String format(Object obj) {\r\n        return obj == null ? &quot;--&quot; : formatter.format(obj);\r\n    }\r\n}\r\n```\r\n","title":"How to format nulls in DecimalFormat","body":"<p>You need to define a custom formatter, but as the method  <code>DecimalFormat.format</code> is final, you can't inherit the class and override the method</p>\n<pre class=\"lang-java prettyprint-override\"><code>DashDecimalFormat fmt = new DashDecimalFormat(&quot;0.00%&quot;);\nSystem.out.println(fmt.format(1.14));   // 114.00%\nSystem.out.println(fmt.format(0.1201)); // 12.01%\nSystem.out.println(fmt.format(null));   // --\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DashDecimalFormat {\n    private final DecimalFormat formatter;\n    public DashDecimalFormat(String pattern) {\n        formatter = new DecimalFormat(pattern);\n    }\n    public String format(Object obj) {\n        return obj == null ? &quot;--&quot; : formatter.format(obj);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74835915,"answer_count":1,"score":0,"last_activity_date":1671296666,"creation_date":1671296073,"question_id":74835846,"body_markdown":"I&#39;m using DecimalFormat to percents with 2 decimal places:\r\n\r\n```\r\nDecimalFormat fmt = new DecimalFormat(&quot;0.00%&quot;);\r\nSystem.out.println(fmt.format(1.14));   // 114.00%\r\nSystem.out.println(fmt.format(0.1201)); // 12.01%\r\nSystem.out.println(fmt.format(null));   // I would like to show &quot;--&quot;\r\n```\r\n\r\nHow do I specify the format for nulls? I want two dashes.\r\n\r\n","title":"How to format nulls in DecimalFormat","body":"<p>I'm using DecimalFormat to percents with 2 decimal places:</p>\n<pre><code>DecimalFormat fmt = new DecimalFormat(&quot;0.00%&quot;);\nSystem.out.println(fmt.format(1.14));   // 114.00%\nSystem.out.println(fmt.format(0.1201)); // 12.01%\nSystem.out.println(fmt.format(null));   // I would like to show &quot;--&quot;\n</code></pre>\n<p>How do I specify the format for nulls? I want two dashes.</p>\n"},{"tags":["java","selenium","automation","drag-and-drop","window-handles"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671335026,"post_id":74835854,"comment_id":132076361,"body_markdown":"Post the URL and the code you&#39;ve tried.","body":"Post the URL and the code you&#39;ve tried."}],"owner":{"account_id":27283103,"reputation":1,"user_id":20802701,"display_name":"sheena sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671296191,"creation_date":1671296191,"question_id":74835854,"body_markdown":"We have a scenario to automate where we have to drag an element from one window &amp; drop it into another window.\r\n\r\nWe have tried a few options using Actions class but that didnt work out because after we click &amp; hold the item, we need to switch to another window before dropping it. So once we switch, it loses the item. We are using Selenium with Java. Does anyone know any possible solution for it?","title":"How to drag &amp; drop the element from one window to another window?","body":"<p>We have a scenario to automate where we have to drag an element from one window &amp; drop it into another window.</p>\n<p>We have tried a few options using Actions class but that didnt work out because after we click &amp; hold the item, we need to switch to another window before dropping it. So once we switch, it loses the item. We are using Selenium with Java. Does anyone know any possible solution for it?</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1671295368,"post_id":74835707,"comment_id":132070782,"body_markdown":"1 - calls to swing methods should be executed on the Event Dispatch Thread (EDT), unless the documentation says differently - see [Swing&#39;s Threading Policy](https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/package-summary.html#threading); 2 - try making the frame visible as last statement","body":"1 - calls to swing methods should be executed on the Event Dispatch Thread (EDT), unless the documentation says differently - see <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/package-summary.html#threading\" rel=\"nofollow noreferrer\">Swing&#39;s Threading Policy</a>; 2 - try making the frame visible as last statement"},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":1,"creation_date":1671295989,"post_id":74835707,"comment_id":132070885,"body_markdown":"You code is working fine. The path to the image is wrong. You need to adapt it","body":"You code is working fine. The path to the image is wrong. You need to adapt it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1671298796,"post_id":74835707,"comment_id":132071402,"body_markdown":"Better to load your files/images as resources:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)\n[Eclipse](https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse)","body":"Better to load your files/images as resources: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a> <a href=\"https://technojeeves.com/index.php/aliasjava1/80-loading-files-as-resources-in-java-with-eclipse\" rel=\"nofollow noreferrer\">Eclipse</a>"}],"owner":{"account_id":27026371,"reputation":11,"user_id":20583577,"display_name":"Ancel Jomon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671376097,"answer_count":0,"score":0,"last_activity_date":1671294842,"creation_date":1671294842,"question_id":74835707,"body_markdown":"Im  trying to create a window with a background image,but when i set this.Resizeble() to false the background is not visible\r\n\r\n\r\nthis is he code is tried.if the line this.setResizable(false) is turned to a comment this code works,\r\nbut i dont want to change the window size as the contents get displaced.so i tried to set it to non resizabele but then the background image is not visible.\r\n```\r\nimport javax.swing.*;\r\nimport javax.imageio.ImageIO;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.lang.Exception;\r\n\r\n class mainwindow extends JFrame{\r\n\r\n\tmainwindow(){\r\n\t\tthis.setSize(600,500);\r\n\t\tthis.setVisible(true);\r\n\t\tJLabel jbl,background;\r\n\t\tjbl=new JLabel(&quot;MAIN&quot;,JLabel.CENTER);\r\n\t\tjbl.setVerticalAlignment(JLabel.TOP);\r\n\t\tjbl.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\r\n\t\tthis.add(jbl);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tImageIcon imageIcon = new ImageIcon(&quot;/home/user/Desktop/codes/project/background.jpg&quot;); \r\n\t\tImage image = imageIcon.getImage(); \r\n\t\tImage newimg = image.getScaledInstance(this.getWidth(),this.getHeight(),java.awt.Image.SCALE_SMOOTH); \r\n\t\t\r\n\t\tImageIcon img=new ImageIcon(newimg);\r\n\t\tbackground=new\tJLabel(img);\r\n\t\tbackground.setBounds(0,0,this.getWidth(),this.getHeight());\r\n\t\tbackground.setIcon(img);\r\n\t\tadd(background);\r\n\t\t\r\n\t\tthis.setResizable(false);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\r\n}\r\n\r\npublic class newproject{\r\n\tpublic static void main(String[] args){\r\n\tnew mainwindow();\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Background image not viisible in JFrame","body":"<p>Im  trying to create a window with a background image,but when i set this.Resizeble() to false the background is not visible</p>\n<p>this is he code is tried.if the line this.setResizable(false) is turned to a comment this code works,\nbut i dont want to change the window size as the contents get displaced.so i tried to set it to non resizabele but then the background image is not visible.</p>\n<pre><code>import javax.swing.*;\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.lang.Exception;\n\n class mainwindow extends JFrame{\n\n    mainwindow(){\n        this.setSize(600,500);\n        this.setVisible(true);\n        JLabel jbl,background;\n        jbl=new JLabel(&quot;MAIN&quot;,JLabel.CENTER);\n        jbl.setVerticalAlignment(JLabel.TOP);\n        jbl.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,20));\n        this.add(jbl);\n        \n        \n        \n        ImageIcon imageIcon = new ImageIcon(&quot;/home/user/Desktop/codes/project/background.jpg&quot;); \n        Image image = imageIcon.getImage(); \n        Image newimg = image.getScaledInstance(this.getWidth(),this.getHeight(),java.awt.Image.SCALE_SMOOTH); \n        \n        ImageIcon img=new ImageIcon(newimg);\n        background=new  JLabel(img);\n        background.setBounds(0,0,this.getWidth(),this.getHeight());\n        background.setIcon(img);\n        add(background);\n        \n        this.setResizable(false);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n}\n\npublic class newproject{\n    public static void main(String[] args){\n    new mainwindow();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","selenium","date","calendar"],"answers":[{"comments":[{"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"score":0,"creation_date":1671385996,"post_id":74833439,"comment_id":132083592,"body_markdown":"Hello Purendra, thanks for help out. The &quot;Thread.sleep(2000)&quot; was actually my first advice that I got as a fix solution. I changed the position, as per your advise, but it is not working for me. The calendar stops at March month, but the date is not selected. This is the output I am getting in eclipse (remark: I do have the chromedriver for 108 version. I have just downloaded it again and put to the path.","body":"Hello Purendra, thanks for help out. The &quot;Thread.sleep(2000)&quot; was actually my first advice that I got as a fix solution. I changed the position, as per your advise, but it is not working for me. The calendar stops at March month, but the date is not selected. This is the output I am getting in eclipse (remark: I do have the chromedriver for 108 version. I have just downloaded it again and put to the path."},{"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"score":0,"creation_date":1671386072,"post_id":74833439,"comment_id":132083608,"body_markdown":"```SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nStarting ChromeDriver 108.0.5359.71 (1e0e3868ee06e91ad636a874420e3ca3ae3756ac-refs/branch-heads/5359@{#1016}) on port 11397\nOnly local connections are allowed.```","body":"<code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J: See http:&#47;&#47;www.slf4j.org&#47;codes.html#StaticLoggerBinder for further details. ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console... Starting ChromeDriver 108.0.5359.71 (1e0e3868ee06e91ad636a874420e3ca3ae3756ac-refs&#47;branch-heads&#47;&zwnj;&#8203;5359@{#1016}) on port 11397 Only local connections are allowed.</code>"},{"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"score":0,"creation_date":1671386126,"post_id":74833439,"comment_id":132083614,"body_markdown":"```Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nDec 18, 2022 6:52:41 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 108, so returning the closest version found: 107```","body":"<code>Please see https:&#47;&#47;chromedriver.chromium.org&#47;security-considerations for suggestions on keeping ChromeDriver safe. ChromeDriver was started successfully. Dec 18, 2022 6:52:41 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch WARNING: Unable to find an exact match for CDP version 108, so returning the closest version found: 107</code>"},{"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"score":0,"creation_date":1671386131,"post_id":74833439,"comment_id":132083615,"body_markdown":"```Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\n\tat path2usacalendar_new.main(path2usacalendar_new.java:48)```","body":"<code>Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 \tat java.base&#47;jdk.internal.util.Preconditions.outOfBounds(Precon&zwnj;&#8203;ditions.java:64) \tat java.base&#47;jdk.internal.util.Preconditions.outOfBoundsCheckIn&zwnj;&#8203;dex(Preconditions.ja&zwnj;&#8203;va:70) \tat java.base&#47;jdk.internal.util.Preconditions.checkIndex(Precond&zwnj;&#8203;itions.java:266) \tat java.base&#47;java.util.Objects.checkIndex(Objects.java:359) \tat java.base&#47;java.util.ArrayList.get(ArrayList.java:427) \tat path2usacalendar_new.main(path2usacalendar_new.java:48)</code>"}],"tags":[],"owner":{"account_id":4442872,"reputation":558,"user_id":3617000,"display_name":"Purendra Agrawal"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671273653,"creation_date":1671273653,"answer_id":74833439,"question_id":74833299,"body_markdown":"The problem is the wait time in a while loop Nik.\r\n\r\n    while (!driver.findElement(By.xpath(&quot;//div[@class=&#39;flatpickr-month&#39;]&quot;)).getText()\r\n        .contains(&quot;March&quot;)) {\r\n      driver.findElement(By.xpath(&quot;//span[@class=&#39;flatpickr-next-month&#39;]&quot;)).click();\r\n      Thread.sleep(2000);\r\n    }\r\n\r\nIdeally, we don&#39;t use Thread.sleep in the java program, instead of that you can use any type of waits present in Selenium utility.\r\n\r\nI tried in my local and the program is working fine now.","title":"Selenium Java: Problem with accessing calendar date element","body":"<p>The problem is the wait time in a while loop Nik.</p>\n<pre><code>while (!driver.findElement(By.xpath(&quot;//div[@class='flatpickr-month']&quot;)).getText()\n    .contains(&quot;March&quot;)) {\n  driver.findElement(By.xpath(&quot;//span[@class='flatpickr-next-month']&quot;)).click();\n  Thread.sleep(2000);\n}\n</code></pre>\n<p>Ideally, we don't use Thread.sleep in the java program, instead of that you can use any type of waits present in Selenium utility.</p>\n<p>I tried in my local and the program is working fine now.</p>\n"}],"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671294373,"creation_date":1671272034,"question_id":74833299,"body_markdown":"I am learning Selenium (Java) and I am trying to select a specific data from a travel page, 26th March, however the automation mostly fails - ending up showing calendar of next month without the date selected. If trying several times, it also occurred that the calendar stopped on March - but still did not get the date.\r\n\r\nCould anyone please help to spot, what I am doing wrong. Many thanks!\r\n\r\n```\r\n\r\npublic class path2usacalendar_new {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/DDD/WebDrivers/chromedriver&quot;);\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\r\n\t\tdriver.get(&quot;https://www.path2usa.com/travel-companion&quot;); \r\n\r\n\t\tdriver.manage().window().maximize();\r\n\t\t// Scroll the Page\r\n\t\tJavascriptExecutor js = (JavascriptExecutor)driver;\r\n\t\tjs.executeScript(&quot;window.scrollBy(0,1100)&quot;);\r\n\r\n\t\t// Click on the Date field\r\n\t\tThread.sleep(3000);\r\n\r\n\t\tWebElement Date = driver.findElement(By.xpath(&quot;//*[@id=&#39;form-field-travel_comp_date&#39;]&quot;));\r\n\t\t// js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, Date);\r\n\t\tDate.click();\r\n\t\t//WebElement month = driver.findElement(By.xpath(&quot;//div[@class=&#39;flatpickr-month&#39;]&quot;));\r\n\t\twhile(!driver.findElement(By.xpath(&quot;//div[@class=&#39;flatpickr-month&#39;]&quot;)).getText().contains(&quot;March&quot;))\r\n\t\t{\r\n\t\t\tThread.sleep(2000);\r\n\t\t\tdriver.findElement(By.xpath(&quot;//span[@class=&#39;flatpickr-next-month&#39;]&quot;)).click();\r\n\t\t}\r\n\r\n\r\n\t\tint count= driver.findElements(By.xpath(&quot;//span[@class=&#39;flatpickr-day &#39;]&quot;)).size();\r\n\r\n\r\n\t\tfor(int i=0;i&lt;count;i++)\r\n\t\t{\r\n\t\t\tThread.sleep(2000);\r\n\t\t\tString text=driver.findElements(By.xpath(&quot;//span[@class=&#39;flatpickr-day &#39;]&quot;)).get(i).getText();\r\n\t\t\tif(text.equalsIgnoreCase(&quot;26&quot;))\r\n\t\t\t{\r\n\t\t\t\t// driver.findElements(By.cssSelector(&quot;td[class*=&#39;day&#39;]&quot;)).get(i).click();\r\n\t\t\t\tdriver.findElements(By.xpath(&quot;//span[@class=&#39;flatpickr-day &#39;]&quot;)).get(i).click();\r\n\t\t\t\tSystem.out.println(&quot;The select day is:&quot;+text);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tString date = driver.findElement(By.xpath(&quot;//*[@id=&#39;form-field-travel_comp_date&#39;]&quot;)).getAttribute(&quot;value&quot;);\r\n\t\tSystem.out.println(&quot;The select date is:&quot;+date);\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThanks\r\nNiki\r\n\r\nI tried to click through the calendar via the while loop until March is visible and then grab the number of days for the particular month and select my day of preference, which is 26 in this example.","title":"Selenium Java: Problem with accessing calendar date element","body":"<p>I am learning Selenium (Java) and I am trying to select a specific data from a travel page, 26th March, however the automation mostly fails - ending up showing calendar of next month without the date selected. If trying several times, it also occurred that the calendar stopped on March - but still did not get the date.</p>\n<p>Could anyone please help to spot, what I am doing wrong. Many thanks!</p>\n<pre><code>\npublic class path2usacalendar_new {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/DDD/WebDrivers/chromedriver&quot;);\n\n        WebDriver driver = new ChromeDriver();\n\n        driver.get(&quot;https://www.path2usa.com/travel-companion&quot;); \n\n        driver.manage().window().maximize();\n        // Scroll the Page\n        JavascriptExecutor js = (JavascriptExecutor)driver;\n        js.executeScript(&quot;window.scrollBy(0,1100)&quot;);\n\n        // Click on the Date field\n        Thread.sleep(3000);\n\n        WebElement Date = driver.findElement(By.xpath(&quot;//*[@id='form-field-travel_comp_date']&quot;));\n        // js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, Date);\n        Date.click();\n        //WebElement month = driver.findElement(By.xpath(&quot;//div[@class='flatpickr-month']&quot;));\n        while(!driver.findElement(By.xpath(&quot;//div[@class='flatpickr-month']&quot;)).getText().contains(&quot;March&quot;))\n        {\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//span[@class='flatpickr-next-month']&quot;)).click();\n        }\n\n\n        int count= driver.findElements(By.xpath(&quot;//span[@class='flatpickr-day ']&quot;)).size();\n\n\n        for(int i=0;i&lt;count;i++)\n        {\n            Thread.sleep(2000);\n            String text=driver.findElements(By.xpath(&quot;//span[@class='flatpickr-day ']&quot;)).get(i).getText();\n            if(text.equalsIgnoreCase(&quot;26&quot;))\n            {\n                // driver.findElements(By.cssSelector(&quot;td[class*='day']&quot;)).get(i).click();\n                driver.findElements(By.xpath(&quot;//span[@class='flatpickr-day ']&quot;)).get(i).click();\n                System.out.println(&quot;The select day is:&quot;+text);\n                break;\n            }\n        }\n        String date = driver.findElement(By.xpath(&quot;//*[@id='form-field-travel_comp_date']&quot;)).getAttribute(&quot;value&quot;);\n        System.out.println(&quot;The select date is:&quot;+date);\n\n    }\n\n}\n\n</code></pre>\n<p>Thanks\nNiki</p>\n<p>I tried to click through the calendar via the while loop until March is visible and then grab the number of days for the particular month and select my day of preference, which is 26 in this example.</p>\n"},{"tags":["java","data-structures","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":9281153,"reputation":9175,"user_id":6892311,"accept_rate":86,"display_name":"Cyrus"},"score":0,"creation_date":1524278380,"post_id":49951812,"comment_id":86920163,"body_markdown":"Pls post your code and running logs about your code","body":"Pls post your code and running logs about your code"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":1,"creation_date":1524279711,"post_id":49951812,"comment_id":86920347,"body_markdown":"Ankit - you can and should write code which attempts to solve you problem. Like @Cyrus asked you - show SO that you are making an effort to research your problem and develop a solution for it, and you will get both respect and help.","body":"Ankit - you can and should write code which attempts to solve you problem. Like @Cyrus asked you - show SO that you are making an effort to research your problem and develop a solution for it, and you will get both respect and help."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1524304267,"post_id":49951812,"comment_id":86925360,"body_markdown":"It has less to do with java 8 and more to do with you are able to convert the csv to an array or another type of object and then just check for each value in the row for given constraints. Once you get the matching object collected in a data structure of your choice just convert it back to csv. Or readline split on csv separator and check manually. But this question should be closed for sure.","body":"It has less to do with java 8 and more to do with you are able to convert the csv to an array or another type of object and then just check for each value in the row for given constraints. Once you get the matching object collected in a data structure of your choice just convert it back to csv. Or readline split on csv separator and check manually. But this question should be closed for sure."}],"owner":{"account_id":13410720,"reputation":21,"user_id":9677303,"display_name":"Ankit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671294305,"creation_date":1524277593,"question_id":49951812,"body_markdown":"I have a csv file with the following format:\r\n\r\n \r\n\r\n        columnA            ColumnB ColumnC   ColumnD   ColumnE ColumnF\r\n     1)                     ABCXYZ    1       123.5     LMN     R\r\n     2)  08/10/2017 09:07             2       218.81            K\r\n     3)  08/10/2017 09:07   YWYI      2       218.81    PQR     K\r\n\r\nI want to use Java 8 filters/lambda expressions to read this file and to accept rows which have values in COlumnB through ColumnF.\r\n\r\nThe filter should return two rows (1st and 3rd) for above file. (It does not matter if ColumnA is empty or not).\r\n\r\n","title":"Filter rows from csv which have at max one empty column using Java Stream 8, filters and lambda","body":"<p>I have a csv file with the following format:</p>\n<pre><code>    columnA            ColumnB ColumnC   ColumnD   ColumnE ColumnF\n 1)                     ABCXYZ    1       123.5     LMN     R\n 2)  08/10/2017 09:07             2       218.81            K\n 3)  08/10/2017 09:07   YWYI      2       218.81    PQR     K\n</code></pre>\n<p>I want to use Java 8 filters/lambda expressions to read this file and to accept rows which have values in COlumnB through ColumnF.</p>\n<p>The filter should return two rows (1st and 3rd) for above file. (It does not matter if ColumnA is empty or not).</p>\n"},{"tags":["java","android","rx-java"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1456883636,"post_id":35734346,"comment_id":59148292,"body_markdown":"Wouldn&#39;t `just(li)` emit a single item (the list), not every element from the list like `from(li)`?","body":"Wouldn&#39;t <code>just(li)</code> emit a single item (the list), not every element from the list like <code>from(li)</code>?"},{"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"score":0,"creation_date":1456908307,"post_id":35734346,"comment_id":59157945,"body_markdown":"@cricket_007 Yes, but as my understand of the problem Yura wants to emit lists no elements of the list (It uses onNext(List)). As I said in my response it&#39;s not the more natural, but sometimes can be what you want.","body":"@cricket_007 Yes, but as my understand of the problem Yura wants to emit lists no elements of the list (It uses onNext(List)). As I said in my response it&#39;s not the more natural, but sometimes can be what you want."}],"tags":[],"owner":{"account_id":99829,"reputation":13624,"user_id":269454,"accept_rate":51,"display_name":"lujop"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1671294245,"creation_date":1456869323,"answer_id":35734346,"question_id":35734060,"body_markdown":"You can use [map][1] operator. For example if you have list**s** of integers and you want to convert to list**s** of doubles:\r\n\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n        Observable.just(integers).map(values -&gt; {\r\n            List&lt;Double&gt; doubles = new ArrayList&lt;Double&gt;();\r\n            for(Integer i: values) {\r\n                doubles.add(i.doubleValue());\r\n            }\r\n            return doubles;\r\n        });\r\n\r\nBut all it&#39;s a lot more natural if you can control the observable and change it to observe single elements instead of collections. Same code that converts single integer elements into double ones:\r\n\r\n    Observable.just(1,2,3).map(element -&gt; element.doubleValue())\r\n\r\n\r\n  [1]: http://reactivex.io/documentation/operators/map.html","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>You can use <a href=\"http://reactivex.io/documentation/operators/map.html\" rel=\"nofollow noreferrer\">map</a> operator. For example if you have list<strong>s</strong> of integers and you want to convert to list<strong>s</strong> of doubles:</p>\n<pre><code>    List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n    Observable.just(integers).map(values -&gt; {\n        List&lt;Double&gt; doubles = new ArrayList&lt;Double&gt;();\n        for(Integer i: values) {\n            doubles.add(i.doubleValue());\n        }\n        return doubles;\n    });\n</code></pre>\n<p>But all it's a lot more natural if you can control the observable and change it to observe single elements instead of collections. Same code that converts single integer elements into double ones:</p>\n<pre><code>Observable.just(1,2,3).map(element -&gt; element.doubleValue())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4036,"reputation":879,"user_id":5953,"display_name":"murki"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1470678220,"creation_date":1456873554,"answer_id":35735394,"question_id":35734060,"body_markdown":"The [Observable.from()][1] factory method allows you to convert a collection of objects into an Observable stream. Once you have a stream you can use the [map][2] operator to transform each emitted item. Finally, you will have to subscribe to the resulting Observable in order to use the transformed items:\r\n\r\n    // Assuming List&lt;SourceObject&gt; srcObjects\r\n    Observable&lt;ResultsObject&gt; resultsObjectObservable = Observable.from(srcObjects).map(new Func1&lt;SourceObject, ResultsObject&gt;() {\r\n        @Override\r\n        public ResultsObject call(SourceObject srcObj) {\r\n            return new ResultsObject().convertFromSource(srcObj);\r\n        }\r\n    });\r\n    \r\n    resultsObjectObservable.subscribe(new Action1&lt;ResultsObject&gt;() { // at this point is where the transformation will start\r\n        @Override\r\n        public void call(ResultsObject resultsObject) { // this method will be called after each item has been transformed\r\n            // use each transformed item\r\n        }\r\n    });\r\n\r\n\r\nThe abbreviated version if you use lambdas would look like this:\r\n\r\n    Observable.from(srcObjects)\r\n      .map(srcObj -&gt; new ResultsObject().convertFromSource(srcObj))\r\n      .subscribe(resultsObject -&gt; ...);\r\n\r\n  [1]: http://reactivex.io/documentation/operators/from.html\r\n  [2]: http://reactivex.io/documentation/operators/map.html","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>The <a href=\"http://reactivex.io/documentation/operators/from.html\" rel=\"noreferrer\">Observable.from()</a> factory method allows you to convert a collection of objects into an Observable stream. Once you have a stream you can use the <a href=\"http://reactivex.io/documentation/operators/map.html\" rel=\"noreferrer\">map</a> operator to transform each emitted item. Finally, you will have to subscribe to the resulting Observable in order to use the transformed items:</p>\n\n<pre><code>// Assuming List&lt;SourceObject&gt; srcObjects\nObservable&lt;ResultsObject&gt; resultsObjectObservable = Observable.from(srcObjects).map(new Func1&lt;SourceObject, ResultsObject&gt;() {\n    @Override\n    public ResultsObject call(SourceObject srcObj) {\n        return new ResultsObject().convertFromSource(srcObj);\n    }\n});\n\nresultsObjectObservable.subscribe(new Action1&lt;ResultsObject&gt;() { // at this point is where the transformation will start\n    @Override\n    public void call(ResultsObject resultsObject) { // this method will be called after each item has been transformed\n        // use each transformed item\n    }\n});\n</code></pre>\n\n<p>The abbreviated version if you use lambdas would look like this:</p>\n\n<pre><code>Observable.from(srcObjects)\n  .map(srcObj -&gt; new ResultsObject().convertFromSource(srcObj))\n  .subscribe(resultsObject -&gt; ...);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6126123,"reputation":260,"user_id":4778051,"accept_rate":100,"display_name":"Anyonymous2324"},"score":1,"creation_date":1456909114,"post_id":35736964,"comment_id":59158491,"body_markdown":"Instead of `reduce` you could use `toList()` for a cleaner code.","body":"Instead of <code>reduce</code> you could use <code>toList()</code> for a cleaner code."},{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":0,"creation_date":1470670285,"post_id":35736964,"comment_id":65031706,"body_markdown":"Actually there are problems with `toList` like described in this comment above. reduce solves them\nhttp://stackoverflow.com/questions/35734060/rxjava-how-to-convert-list-of-objects-to-list-of-another-objects#comment62270275_35750170","body":"Actually there are problems with <code>toList</code> like described in this comment above. reduce solves them <a href=\"http://stackoverflow.com/questions/35734060/rxjava-how-to-convert-list-of-objects-to-list-of-another-objects#comment62270275_35750170\" title=\"rxjava how to convert list of objects to list of another objects%23comment62270275_35750170\">stackoverflow.com/questions/35734060/&hellip;</a>"},{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":1,"creation_date":1470670389,"post_id":35736964,"comment_id":65031773,"body_markdown":"Nope. My comment is not true. :) The same problems are also with `reduce` because `reduce` also waits for completion.","body":"Nope. My comment is not true. :) The same problems are also with <code>reduce</code> because <code>reduce</code> also waits for completion."}],"tags":[],"owner":{"account_id":4861194,"reputation":125,"user_id":3920753,"display_name":"AtanL"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456883316,"creation_date":1456883316,"answer_id":35736964,"question_id":35734060,"body_markdown":"Don&#39;t break the chain, just like this.\r\n\r\n\r\n    Observable.from(Arrays.asList(new String[] {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, }))\r\n    .map(s -&gt; Integer.valueOf(s))\r\n    .reduce(new ArrayList&lt;Integer&gt;, (list, s) -&gt; {\r\n        list.add(s);\r\n        return list;\r\n    })\r\n    .subscribe(i -&gt; {\r\n        // Do some thing with &#39;i&#39;, it&#39;s a list of Integer.\r\n    });","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>Don't break the chain, just like this.</p>\n\n<pre><code>Observable.from(Arrays.asList(new String[] {\"1\", \"2\", \"3\", }))\n.map(s -&gt; Integer.valueOf(s))\n.reduce(new ArrayList&lt;Integer&gt;, (list, s) -&gt; {\n    list.add(s);\n    return list;\n})\n.subscribe(i -&gt; {\n    // Do some thing with 'i', it's a list of Integer.\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1496921,"reputation":10895,"user_id":1402641,"accept_rate":50,"display_name":"Marcin Koziński"},"score":29,"creation_date":1463951003,"post_id":35750170,"comment_id":62270275,"body_markdown":"This looks really clean, though has some disadvantages. 1. If source emits more than one list, they are all going to flattened by `flatMapIterable` into a single stream of objects and `toList()` will collect them in a single list. So if you care about multiple emissions and keeping them in separate lists, then unfortunately you lose this. 2. `toList()` waits for the source observable to complete, so if you do that on an infinite observable (like one bound to UI events), you will never get anything in your `subscribe()`.","body":"This looks really clean, though has some disadvantages. 1. If source emits more than one list, they are all going to flattened by <code>flatMapIterable</code> into a single stream of objects and <code>toList()</code> will collect them in a single list. So if you care about multiple emissions and keeping them in separate lists, then unfortunately you lose this. 2. <code>toList()</code> waits for the source observable to complete, so if you do that on an infinite observable (like one bound to UI events), you will never get anything in your <code>subscribe()</code>."},{"owner":{"account_id":397508,"reputation":2000,"user_id":761668,"accept_rate":75,"display_name":"Javier Mendon&#231;a"},"score":0,"creation_date":1466578449,"post_id":35750170,"comment_id":63368410,"body_markdown":"@MarcinKoziński how would you solve nr. 2? I am having the situation where .toList does not return anything. Thanks","body":"@MarcinKoziński how would you solve nr. 2? I am having the situation where .toList does not return anything. Thanks"},{"owner":{"account_id":1496921,"reputation":10895,"user_id":1402641,"accept_rate":50,"display_name":"Marcin Koziński"},"score":5,"creation_date":1466672328,"post_id":35750170,"comment_id":63418046,"body_markdown":"I think you just need to use a different approach. If you&#39;re trying to transform each element of a list, you might have to just do `.map(list -&gt; /* build a new list using plain old for loop */)`. Or use any other approach to transform your list inside the `.map()`. Otherwise you could use operators like `.take(itemCount)` on your infinite observable to make it finite. Note that this obviously drops all elements after `itemCount`, so that might not be what you want.","body":"I think you just need to use a different approach. If you&#39;re trying to transform each element of a list, you might have to just do <code>.map(list -&gt; &#47;* build a new list using plain old for loop *&#47;)</code>. Or use any other approach to transform your list inside the <code>.map()</code>. Otherwise you could use operators like <code>.take(itemCount)</code> on your infinite observable to make it finite. Note that this obviously drops all elements after <code>itemCount</code>, so that might not be what you want."},{"owner":{"account_id":7431864,"reputation":4202,"user_id":5652513,"display_name":"methodsignature"},"score":0,"creation_date":1523457447,"post_id":35750170,"comment_id":86571034,"body_markdown":"&quot;some disadvantages&quot; - rather, I&#39;d say this is almost always not what is wanted.  This answer should be down-voted and Noel&#39;s answer should be upvoted.","body":"&quot;some disadvantages&quot; - rather, I&#39;d say this is almost always not what is wanted.  This answer should be down-voted and Noel&#39;s answer should be upvoted."},{"owner":{"account_id":4070454,"reputation":2580,"user_id":3343753,"display_name":"Pedro Rodrigues"},"score":0,"creation_date":1566399769,"post_id":35750170,"comment_id":101646300,"body_markdown":"Thank you so much sir, for the jargon free explanation. Super helpful.","body":"Thank you so much sir, for the jargon free explanation. Super helpful."}],"tags":[],"owner":{"account_id":219666,"reputation":11435,"user_id":476690,"display_name":"dwursteisen"},"comment_count":5,"down_vote_count":2,"up_vote_count":87,"is_accepted":true,"score":85,"last_activity_date":1463923511,"creation_date":1456929314,"answer_id":35750170,"question_id":35734060,"body_markdown":"If your `Observable` emits a `List`, you can use these operators:\r\n\r\n- `flatMapIterable` (transform your list to an Observable of items)\r\n- `map` (transform your item to another item) \r\n- `toList` operators (transform a completed Observable to a Observable which emit a list of items from the completed Observable)\r\n\r\n   \r\n        Observable&lt;SourceObjet&gt; source = ...\r\n        source.flatMapIterable(list -&gt; list)\r\n              .map(item -&gt; new ResultsObject().convertFromSource(item))\r\n              .toList()\r\n              .subscribe(transformedList -&gt; ...);\r\n               ","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>If your <code>Observable</code> emits a <code>List</code>, you can use these operators:</p>\n\n<ul>\n<li><code>flatMapIterable</code> (transform your list to an Observable of items)</li>\n<li><code>map</code> (transform your item to another item) </li>\n<li><p><code>toList</code> operators (transform a completed Observable to a Observable which emit a list of items from the completed Observable)</p>\n\n<pre><code>Observable&lt;SourceObjet&gt; source = ...\nsource.flatMapIterable(list -&gt; list)\n      .map(item -&gt; new ResultsObject().convertFromSource(item))\n      .toList()\n      .subscribe(transformedList -&gt; ...);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":205602,"reputation":7370,"user_id":454449,"display_name":"Noel"},"comment_count":0,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1487451092,"creation_date":1486316511,"answer_id":42055221,"question_id":35734060,"body_markdown":"If you want to maintain the `Lists` emitted by the source `Observable` but convert the contents, i.e. `Observable&lt;List&lt;SourceObject&gt;&gt;` to `Observable&lt;List&lt;ResultsObject&gt;&gt;`, you can do something like this:\r\n\r\n    Observable&lt;List&lt;SourceObject&gt;&gt; source = ...\r\n    source.flatMap(list -&gt;\r\n            Observable.fromIterable(list)\r\n                .map(item -&gt; new ResultsObject().convertFromSource(item))\r\n                .toList()\r\n                .toObservable() // Required for RxJava 2.x\r\n        )\r\n        .subscribe(resultsList -&gt; ...);\r\n\r\nThis ensures a couple of things:\r\n\r\n- The number of `Lists` emitted by the `Observable` is maintained. i.e. if the source emits 3 lists, there will be 3 transformed lists on the other end\r\n- Using `Observable.fromIterable()` will ensure the inner `Observable` terminates so that `toList()` can be used","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>If you want to maintain the <code>Lists</code> emitted by the source <code>Observable</code> but convert the contents, i.e. <code>Observable&lt;List&lt;SourceObject&gt;&gt;</code> to <code>Observable&lt;List&lt;ResultsObject&gt;&gt;</code>, you can do something like this:</p>\n\n<pre><code>Observable&lt;List&lt;SourceObject&gt;&gt; source = ...\nsource.flatMap(list -&gt;\n        Observable.fromIterable(list)\n            .map(item -&gt; new ResultsObject().convertFromSource(item))\n            .toList()\n            .toObservable() // Required for RxJava 2.x\n    )\n    .subscribe(resultsList -&gt; ...);\n</code></pre>\n\n<p>This ensures a couple of things:</p>\n\n<ul>\n<li>The number of <code>Lists</code> emitted by the <code>Observable</code> is maintained. i.e. if the source emits 3 lists, there will be 3 transformed lists on the other end</li>\n<li>Using <code>Observable.fromIterable()</code> will ensure the inner <code>Observable</code> terminates so that <code>toList()</code> can be used</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1692435,"reputation":1290,"user_id":1554531,"display_name":"saiday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523271714,"creation_date":1523271714,"answer_id":49731395,"question_id":35734060,"body_markdown":"If what you need is simply `List&lt;A&gt;` to `List&lt;B&gt;` without manipulating result of `List&lt;B&gt;`.\r\n\r\nThe cleanest version is:\r\n\r\n    List&lt;A&gt; a = ... // [&quot;1&quot;, &quot;2&quot;, ..]\r\n    List&lt;B&gt; b = Observable.from(a)\r\n                          .map(a -&gt; new B(a))\r\n                          .toList()\r\n                          .toBlocking()\r\n                          .single();","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>If what you need is simply <code>List&lt;A&gt;</code> to <code>List&lt;B&gt;</code> without manipulating result of <code>List&lt;B&gt;</code>.</p>\n\n<p>The cleanest version is:</p>\n\n<pre><code>List&lt;A&gt; a = ... // [\"1\", \"2\", ..]\nList&lt;B&gt; b = Observable.from(a)\n                      .map(a -&gt; new B(a))\n                      .toList()\n                      .toBlocking()\n                      .single();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766160,"reputation":2568,"user_id":3129644,"accept_rate":83,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545290951,"creation_date":1545290951,"answer_id":53864158,"question_id":35734060,"body_markdown":"As an extension to [Noel][1] great answer. \r\nLet&#39;s say transformation also depends on some server data that might change during subscription. In that case use **flatMap** + **scan**.\r\n\r\nAs a result when id list changes, transformations will restart anew. And when server data changes related to a specific id, single item will be retransformed as well. \r\n\r\n\r\n    fun getFarmsWithGroves(): Observable&lt;List&lt;FarmWithGroves&gt;&gt; {\r\n\r\n            return subscribeForIds() //may change during subscription\r\n                    .switchMap { idList: Set&lt;String&gt; -&gt;\r\n\r\n                        Observable.fromIterable(idList)\r\n                                .flatMap { id: String -&gt; transformId(id) } //may change during subscription\r\n                                .scan(emptyList&lt;FarmWithGroves&gt;()) { collector: List&lt;FarmWithGroves&gt;, candidate: FarmWithGroves -&gt;\r\n                                    updateList(collector, candidate)\r\n                                }\r\n                    }\r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42055221/3129644","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>As an extension to <a href=\"https://stackoverflow.com/a/42055221/3129644\">Noel</a> great answer. \nLet's say transformation also depends on some server data that might change during subscription. In that case use <strong>flatMap</strong> + <strong>scan</strong>.</p>\n\n<p>As a result when id list changes, transformations will restart anew. And when server data changes related to a specific id, single item will be retransformed as well. </p>\n\n<pre><code>fun getFarmsWithGroves(): Observable&lt;List&lt;FarmWithGroves&gt;&gt; {\n\n        return subscribeForIds() //may change during subscription\n                .switchMap { idList: Set&lt;String&gt; -&gt;\n\n                    Observable.fromIterable(idList)\n                            .flatMap { id: String -&gt; transformId(id) } //may change during subscription\n                            .scan(emptyList&lt;FarmWithGroves&gt;()) { collector: List&lt;FarmWithGroves&gt;, candidate: FarmWithGroves -&gt;\n                                updateList(collector, candidate)\n                            }\n                }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1848418,"reputation":25883,"user_id":1675568,"accept_rate":79,"display_name":"tomrozb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552568876,"creation_date":1552568876,"answer_id":55163377,"question_id":35734060,"body_markdown":"Non blocking conversion using nested map function\r\n\r\n    val ints: Observable&lt;List&lt;Int&gt;&gt; = Observable.fromArray(listOf(1, 2, 3))\r\n\r\n    val strings: Observable&lt;List&lt;String&gt;&gt; = ints.map { list -&gt; list.map { it.toString() } }\r\n    \r\n\r\n","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>Non blocking conversion using nested map function</p>\n\n<pre><code>val ints: Observable&lt;List&lt;Int&gt;&gt; = Observable.fromArray(listOf(1, 2, 3))\n\nval strings: Observable&lt;List&lt;String&gt;&gt; = ints.map { list -&gt; list.map { it.toString() } }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586120651,"creation_date":1586120651,"answer_id":61049485,"question_id":35734060,"body_markdown":"Using toList() waits for the source observable to complete, so if you do that on an infinite observable (like one bound to UI events and Database calls), you will never get anything in your subscribe().\r\n\r\nThe solution to that is to Use **FlatMapSingle** or **SwitchMapSingle**.\r\n\r\n\r\n    Observable&lt;List&lt;Note&gt;&gt; observable =   noteDao.getAllNotes().flatMapSingle(list -&gt; Observable.fromIterable(list).toList());\r\n\r\n**Now,everytime your list&lt;Note&gt; is updated, you can make that event behave as an observable.**\r\n","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>Using toList() waits for the source observable to complete, so if you do that on an infinite observable (like one bound to UI events and Database calls), you will never get anything in your subscribe().</p>\n\n<p>The solution to that is to Use <strong>FlatMapSingle</strong> or <strong>SwitchMapSingle</strong>.</p>\n\n<pre><code>Observable&lt;List&lt;Note&gt;&gt; observable =   noteDao.getAllNotes().flatMapSingle(list -&gt; Observable.fromIterable(list).toList());\n</code></pre>\n\n<p><strong>Now,everytime your list is updated, you can make that event behave as an observable.</strong></p>\n"}],"owner":{"account_id":3372171,"reputation":1718,"user_id":2831157,"accept_rate":87,"display_name":"Yura Buyaroff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72790,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":35750170,"answer_count":9,"score":69,"last_activity_date":1671294245,"creation_date":1456868340,"question_id":35734060,"body_markdown":"I have the List of SourceObjects and I need to convert it to the List of ResultObjects.\r\n\r\nI can fetch one object to another using method of ResultObject:\r\n\r\n    convertFromSource(srcObj);\r\n\r\nof course I can do it like this:\r\n\r\n    public void onNext(List&lt;SourceObject&gt; srcObjects) {\r\n       List&lt;ResultsObject&gt; resObjects = new ArrayList&lt;&gt;();\r\n       for (SourceObject srcObj : srcObjects) {\r\n           resObjects.add(new ResultsObject().convertFromSource(srcObj));\r\n       }\r\n    }\r\n\r\nbut I will be very appreciate to someone who can show how to do the same using **rxJava**.","title":"RxJava: How to convert List of objects to List of another objects","body":"<p>I have the List of SourceObjects and I need to convert it to the List of ResultObjects.</p>\n\n<p>I can fetch one object to another using method of ResultObject:</p>\n\n<pre><code>convertFromSource(srcObj);\n</code></pre>\n\n<p>of course I can do it like this:</p>\n\n<pre><code>public void onNext(List&lt;SourceObject&gt; srcObjects) {\n   List&lt;ResultsObject&gt; resObjects = new ArrayList&lt;&gt;();\n   for (SourceObject srcObj : srcObjects) {\n       resObjects.add(new ResultsObject().convertFromSource(srcObj));\n   }\n}\n</code></pre>\n\n<p>but I will be very appreciate to someone who can show how to do the same using <strong>rxJava</strong>.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671282211,"post_id":74834180,"comment_id":132068388,"body_markdown":"&quot;Не удалось загрузить данные с сервера(&quot;","body":"&quot;Не удалось загрузить данные с сервера(&quot;"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671282535,"post_id":74834180,"comment_id":132068448,"body_markdown":"Your error is coming from Glide. You will need to examine where you are using Glide in your project.","body":"Your error is coming from Glide. You will need to examine where you are using Glide in your project."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1671289629,"post_id":74834180,"comment_id":132069824,"body_markdown":"Presumably you are failing at `load(book.imageUrl)`. Perhaps the server is returning a 404 for that request.","body":"Presumably you are failing at <code>load(book.imageUrl)</code>. Perhaps the server is returning a 404 for that request."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671292367,"post_id":74834180,"comment_id":132070270,"body_markdown":"book.imageUrl.equals(&quot;Не удалось загрузить данные с сервера(&quot; ). Second time i tell you. Put a real url in it.","body":"book.imageUrl.equals(&quot;Не удалось загрузить данные с сервера(&quot; ). Second time i tell you. Put a real url in it."},{"owner":{"account_id":26240741,"reputation":1,"user_id":19915097,"display_name":"Джалил Каталов"},"score":0,"creation_date":1671292516,"post_id":74834180,"comment_id":132070291,"body_markdown":"@blackapps yeah, i got you, thanks. To get value from database i&#39;m using reference.addListenerForSingleValuesEvent and somewhy onDataChangeListener doesn;t invoke","body":"@blackapps yeah, i got you, thanks. To get value from database i&#39;m using reference.addListenerForSingleValuesEvent and somewhy onDataChangeListener doesn;t invoke"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671453784,"post_id":74834180,"comment_id":132095583,"body_markdown":"whare is save you your pdf file in device storage?","body":"whare is save you your pdf file in device storage?"},{"owner":{"account_id":26240741,"reputation":1,"user_id":19915097,"display_name":"Джалил Каталов"},"score":0,"creation_date":1671457797,"post_id":74834180,"comment_id":132096863,"body_markdown":"@UrvishShiroya No, it&#39;s saved in firebase storage and the url to it saved in firebase realtime database","body":"@UrvishShiroya No, it&#39;s saved in firebase storage and the url to it saved in firebase realtime database"},{"owner":{"account_id":26240741,"reputation":1,"user_id":19915097,"display_name":"Джалил Каталов"},"score":0,"creation_date":1671457826,"post_id":74834180,"comment_id":132096871,"body_markdown":"@UrvishShiroya And i read pdf from url using PdfViewer library. Here is link: https://github.com/barteksc/AndroidPdfViewer","body":"@UrvishShiroya And i read pdf from url using PdfViewer library. Here is link: <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">github.com/barteksc/AndroidPdfViewer</a>"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671514888,"post_id":74834180,"comment_id":132110157,"body_markdown":"can you provide more log?","body":"can you provide more log?"}],"owner":{"account_id":26240741,"reputation":1,"user_id":19915097,"display_name":"Джалил Каталов"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671293508,"creation_date":1671281321,"question_id":74834180,"body_markdown":"I had app where you can read books from pdf url, fnd it worked well but book loads everytime i open book read page, then i wanted to save pdf first time i open page, and i was watching some tutorial for it, and first thing i did was that i declared this line in Manifest &quot;\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\n&quot;\r\n\r\nThen without writing any code i launched app but the books did not load as if there was no internet connection, but there was! So then i deleted that Write External Storage stroke and issue did not gone, from there i can&#39;t load books as i did usual. \r\n\r\nSOLUTION: The solution was simple, and it&#39;s here: https://stackoverflow.com/a/49953004/19915097\r\n\r\nAlso good explanation of how loading data from firebase database works:\r\nhttps://stackoverflow.com/a/47853774/19915097","title":"open failed: ENOENT (No such file or directory) even when I&#39;m not trying to open any file","body":"<p>I had app where you can read books from pdf url, fnd it worked well but book loads everytime i open book read page, then i wanted to save pdf first time i open page, and i was watching some tutorial for it, and first thing i did was that i declared this line in Manifest &quot;</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>&quot;</p>\n<p>Then without writing any code i launched app but the books did not load as if there was no internet connection, but there was! So then i deleted that Write External Storage stroke and issue did not gone, from there i can't load books as i did usual.</p>\n<p>SOLUTION: The solution was simple, and it's here: <a href=\"https://stackoverflow.com/a/49953004/19915097\">https://stackoverflow.com/a/49953004/19915097</a></p>\n<p>Also good explanation of how loading data from firebase database works:\n<a href=\"https://stackoverflow.com/a/47853774/19915097\">https://stackoverflow.com/a/47853774/19915097</a></p>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671290911,"post_id":74834914,"comment_id":132070037,"body_markdown":"In addition to what it says in the answer the kata seems to indicate that you must create a *new* array for the result. I wonder if this is also a requirement in the `a.length == 0 || b.length == 0` case. You could try.","body":"In addition to what it says in the answer the kata seems to indicate that you must create a <i>new</i> array for the result. I wonder if this is also a requirement in the <code>a.length == 0 || b.length == 0</code> case. You could try."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671291384,"post_id":74834914,"comment_id":132070125,"body_markdown":"It’s probably not what you want, but it might interest other readers to know that the method can be implemented more tersely as `return Arrays.stream(a) .filter(i -&gt; ! Arrays.stream(b).anyMatch(j -&gt; i == j)) .toArray();`-","body":"It’s probably not what you want, but it might interest other readers to know that the method can be implemented more tersely as <code>return Arrays.stream(a) .filter(i -&gt; ! Arrays.stream(b).anyMatch(j -&gt; i == j)) .toArray();</code>-"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671290189,"creation_date":1671290189,"answer_id":74835210,"question_id":74834914,"body_markdown":"The main issue is that `size--` could be executed too many times. For instance, if `a=[1,1,1]` and `b=[1,1,1]` then `size` will go from 3 to -6, which obviously is not intended. Consider that for a given `a[i]` there should be at most one execution of `size--`. So first loop over `a`, and then over `b`, and when you execute `size--` make sure to exit the inner loop.\r\n\r\nHere is your code with the correction:\r\n\r\n```\r\n    public static int[] arrayDiff(int[] a, int[] b) {\r\n        int[] result;\r\n        int size = a.length;\r\n        if (a.length == 0 || b.length == 0) {\r\n            return a;\r\n        } else {\r\n            for (int i = 0; i &lt; a.length; i++) { // First loop over A\r\n                for (int j = 0; j &lt; b.length; j++) {\r\n                    if (a[i] == b[j]) {\r\n                        size--;\r\n                        break; // Size must only decrease once per a[i]\r\n                    }\r\n                }\r\n            }\r\n            result = new int[size];\r\n            int index = 0;\r\n            int countEq = 0;\r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                countEq = 0;\r\n                for (int j = 0; j &lt; b.length; j++) {\r\n                    if (a[i] == b[j]) {\r\n                        countEq++;\r\n                        break; // No need to look further\r\n                    }\r\n                }\r\n                if (countEq == 0) {\r\n                    result[index] = a[i];\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```","title":"I have a problem in array.diff on codewars","body":"<p>The main issue is that <code>size--</code> could be executed too many times. For instance, if <code>a=[1,1,1]</code> and <code>b=[1,1,1]</code> then <code>size</code> will go from 3 to -6, which obviously is not intended. Consider that for a given <code>a[i]</code> there should be at most one execution of <code>size--</code>. So first loop over <code>a</code>, and then over <code>b</code>, and when you execute <code>size--</code> make sure to exit the inner loop.</p>\n<p>Here is your code with the correction:</p>\n<pre><code>    public static int[] arrayDiff(int[] a, int[] b) {\n        int[] result;\n        int size = a.length;\n        if (a.length == 0 || b.length == 0) {\n            return a;\n        } else {\n            for (int i = 0; i &lt; a.length; i++) { // First loop over A\n                for (int j = 0; j &lt; b.length; j++) {\n                    if (a[i] == b[j]) {\n                        size--;\n                        break; // Size must only decrease once per a[i]\n                    }\n                }\n            }\n            result = new int[size];\n            int index = 0;\n            int countEq = 0;\n            for (int i = 0; i &lt; a.length; i++) {\n                countEq = 0;\n                for (int j = 0; j &lt; b.length; j++) {\n                    if (a[i] == b[j]) {\n                        countEq++;\n                        break; // No need to look further\n                    }\n                }\n                if (countEq == 0) {\n                    result[index] = a[i];\n                    index++;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":27282061,"reputation":1,"user_id":20801816,"display_name":"isofiso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1671367982,"answer_count":1,"score":-2,"last_activity_date":1671292059,"creation_date":1671287597,"question_id":74834914,"body_markdown":"I am trying to solve the CodeWars challenge [Array.diff](https://www.codewars.com/kata/523f5d21c841566fde000009/train/java):\r\n\r\n&gt; Your goal in this kata is to implement a difference function, which subtracts one list from another and returns the result.\r\n&gt; \r\n&gt; It should remove all values from list `a`, which are present in list `b` keeping their order.\r\n&gt; \r\n&gt;     Kata.arrayDiff(new int[] {1, 2}, new int[] {1}) =&gt; new int[] {2}\r\n&gt;\r\n&gt; If a value is present in `b`, all of its occurrences must be removed from the other:\r\n&gt; \r\n&gt;     Kata.arrayDiff(new int[] {1, 2, 2, 2, 3}, new int[] {2}) =&gt; new int[] {1, 3}\r\n\r\n\r\nHere is my code. What is my mistake?\r\n\r\n```\r\n    public static int[] arrayDiff(int[] a, int[] b) {\r\n        int[] result;\r\n        int size = a.length;\r\n        if (a.length == 0 || b.length == 0) {\r\n            return a\r\n        } else {\r\n            for (int i = 0; i &lt; b.length; i++) {\r\n                for (int j = 0; j &lt; a.length; j++) {\r\n                    if (a[j] == b[i]) {\r\n                        size--;\r\n                    }\r\n                }\r\n            }\r\n            result = new int[size];\r\n            int index = 0;\r\n            int countEq = 0;\r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                countEq = 0;\r\n                for (int j = 0; j &lt; b.length; j++) {\r\n                    if (a[i] == b[j]) {\r\n                        countEq++;\r\n                    }\r\n                }\r\n                if (countEq == 0) {\r\n                    result[index] = a[i];\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\n\r\nI tried all sample tests, and the crucial tests that I could think off on NetBeans. Although it runs, the CodeWars framework did not accept my code.","title":"I have a problem in array.diff on codewars","body":"<p>I am trying to solve the CodeWars challenge <a href=\"https://www.codewars.com/kata/523f5d21c841566fde000009/train/java\" rel=\"nofollow noreferrer\">Array.diff</a>:</p>\n<blockquote>\n<p>Your goal in this kata is to implement a difference function, which subtracts one list from another and returns the result.</p>\n<p>It should remove all values from list <code>a</code>, which are present in list <code>b</code> keeping their order.</p>\n<pre><code>Kata.arrayDiff(new int[] {1, 2}, new int[] {1}) =&gt; new int[] {2}\n</code></pre>\n<p>If a value is present in <code>b</code>, all of its occurrences must be removed from the other:</p>\n<pre><code>Kata.arrayDiff(new int[] {1, 2, 2, 2, 3}, new int[] {2}) =&gt; new int[] {1, 3}\n</code></pre>\n</blockquote>\n<p>Here is my code. What is my mistake?</p>\n<pre><code>    public static int[] arrayDiff(int[] a, int[] b) {\n        int[] result;\n        int size = a.length;\n        if (a.length == 0 || b.length == 0) {\n            return a\n        } else {\n            for (int i = 0; i &lt; b.length; i++) {\n                for (int j = 0; j &lt; a.length; j++) {\n                    if (a[j] == b[i]) {\n                        size--;\n                    }\n                }\n            }\n            result = new int[size];\n            int index = 0;\n            int countEq = 0;\n            for (int i = 0; i &lt; a.length; i++) {\n                countEq = 0;\n                for (int j = 0; j &lt; b.length; j++) {\n                    if (a[i] == b[j]) {\n                        countEq++;\n                    }\n                }\n                if (countEq == 0) {\n                    result[index] = a[i];\n                    index++;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>I tried all sample tests, and the crucial tests that I could think off on NetBeans. Although it runs, the CodeWars framework did not accept my code.</p>\n"},{"tags":["java","functional-programming","vavr"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":6,"creation_date":1624480980,"post_id":68106804,"comment_id":120374351,"body_markdown":"It sounds like you&#39;re looking for [type aliases](https://stackoverflow.com/questions/5604390/how-do-i-create-some-variable-type-alias-in-java), a feature which Java regrettably does not support.","body":"It sounds like you&#39;re looking for <a href=\"https://stackoverflow.com/questions/5604390/how-do-i-create-some-variable-type-alias-in-java\">type aliases</a>, a feature which Java regrettably does not support."},{"owner":{"account_id":442405,"reputation":2504,"user_id":833009,"accept_rate":50,"display_name":"jvwilge"},"score":0,"creation_date":1626077716,"post_id":68106804,"comment_id":120786896,"body_markdown":"It might work if you override all the methods that return `Either` and create some static method where you can provide an `Either` and return a `Result`. I ran into the same thing with Validation, but I&#39;m a bit reluctant to override everything, it doesn&#39;t feel right on how we use vavr currently.","body":"It might work if you override all the methods that return <code>Either</code> and create some static method where you can provide an <code>Either</code> and return a <code>Result</code>. I ran into the same thing with Validation, but I&#39;m a bit reluctant to override everything, it doesn&#39;t feel right on how we use vavr currently."},{"owner":{"account_id":5006320,"reputation":522,"user_id":4023887,"display_name":"Cristian Rodriguez"},"score":0,"creation_date":1628890128,"post_id":68106804,"comment_id":121550502,"body_markdown":"If your always going to use Either with your Error type maybe you could use Try instead and extend your type Error from Exception","body":"If your always going to use Either with your Error type maybe you could use Try instead and extend your type Error from Exception"}],"answers":[{"tags":[],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671291576,"creation_date":1671291576,"answer_id":74835336,"question_id":68106804,"body_markdown":"What about using `toTry` method from `Value` interface? Your code could look like:\r\n\r\n```java\r\npublic Try&lt;Employee&gt; processEmployee(Employee e){\r\n  //… blebleble\r\n\r\n  var someEither&lt;Error, Employee&gt; = eitherResult();\r\n\r\n  return someEither.toTry();\r\n}\r\n```\r\n\r\nYou have „simplified” type that contains everything that you need and contains `toEither()` method (if you need that).\r\n","title":"Fix left side in Either of Java Vavr","body":"<p>What about using <code>toTry</code> method from <code>Value</code> interface? Your code could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Try&lt;Employee&gt; processEmployee(Employee e){\n  //… blebleble\n\n  var someEither&lt;Error, Employee&gt; = eitherResult();\n\n  return someEither.toTry();\n}\n</code></pre>\n<p>You have „simplified” type that contains everything that you need and contains <code>toEither()</code> method (if you need that).</p>\n"}],"owner":{"account_id":1464665,"reputation":2163,"user_id":1526032,"accept_rate":77,"display_name":"jakstack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671291576,"creation_date":1624480845,"question_id":68106804,"body_markdown":"\r\nI want to avoid:\r\n\r\n    Either&lt;Error, Employee&gt; processEmployee(Employee e)\r\n\r\nand use:\r\n\r\n    Result&lt;Employee&gt; processEmployee(Employee e)\r\n\r\nwhere left is fixed:\r\n\r\n    Result&lt;T&gt; extends Either&lt;Error, T&gt;\r\n\r\nIs there an example of this?\r\n\r\nWhen I try this nothing compiles for me and I&#39;m forced to implement a concrete class of `Result&lt;T&gt;` which I want to avoid.\r\n\r\nThe reason I want to do this is to simplify the method signatures and the stream code that uses these methods.","title":"Fix left side in Either of Java Vavr","body":"<p>I want to avoid:</p>\n<pre><code>Either&lt;Error, Employee&gt; processEmployee(Employee e)\n</code></pre>\n<p>and use:</p>\n<pre><code>Result&lt;Employee&gt; processEmployee(Employee e)\n</code></pre>\n<p>where left is fixed:</p>\n<pre><code>Result&lt;T&gt; extends Either&lt;Error, T&gt;\n</code></pre>\n<p>Is there an example of this?</p>\n<p>When I try this nothing compiles for me and I'm forced to implement a concrete class of <code>Result&lt;T&gt;</code> which I want to avoid.</p>\n<p>The reason I want to do this is to simplify the method signatures and the stream code that uses these methods.</p>\n"},{"tags":["python","java","c","rust","wc"],"comments":[{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":3,"creation_date":1670909804,"post_id":74780384,"comment_id":131976354,"body_markdown":"Your different ways of line counting use different definitions of a line.","body":"Your different ways of line counting use different definitions of a line."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":5,"creation_date":1670910111,"post_id":74780384,"comment_id":131976394,"body_markdown":"Can you post an example file that we can test with? It&#39;d be really nice if you can reduce it down to a couple of lines. Reproducing this shouldn&#39;t require feeding it 6GB of input data.","body":"Can you post an example file that we can test with? It&#39;d be really nice if you can reduce it down to a couple of lines. Reproducing this shouldn&#39;t require feeding it 6GB of input data."},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":3,"creation_date":1670910622,"post_id":74780384,"comment_id":131976457,"body_markdown":"Thing you need to define: how many lines do these files have: `&quot;&quot;`, `&quot;\\n&quot;`, `&quot;x\\n&quot;`,  `&quot;\\nx&quot;`,","body":"Thing you need to define: how many lines do these files have: <code>&quot;&quot;</code>, <code>&quot;\\n&quot;</code>, <code>&quot;x\\n&quot;</code>,  <code>&quot;\\nx&quot;</code>,"},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":3,"creation_date":1670910771,"post_id":74780384,"comment_id":131976477,"body_markdown":"And one more test case, on top of those listed by hyde: `&quot;a\\rb\\n&quot;`","body":"And one more test case, on top of those listed by hyde: <code>&quot;a\\rb\\n&quot;</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1670913681,"post_id":74780384,"comment_id":131977004,"body_markdown":"I would suggest `&quot;a\\rb\\nb&quot;` but I don&#39;t want to confuse people.","body":"I would suggest <code>&quot;a\\rb\\nb&quot;</code> but I don&#39;t want to confuse people."},{"owner":{"account_id":463151,"reputation":95134,"user_id":865874,"accept_rate":100,"display_name":"rodrigo"},"score":2,"creation_date":1670929620,"post_id":74780384,"comment_id":131981777,"body_markdown":"Curiosuly, if you run `$ echo -n &quot;hello&quot; | wc -l` you will get 0 lines. My guess for the one-off difference is that your file does not end in an end-of-line character. The other differences between Java/Python and Rust/C would be because of stray `\\r` characters in the middle of proper, `\\n` separated, lines.","body":"Curiosuly, if you run <code>$ echo -n &quot;hello&quot; | wc -l</code> you will get 0 lines. My guess for the one-off difference is that your file does not end in an end-of-line character. The other differences between Java/Python and Rust/C would be because of stray <code>\\r</code> characters in the middle of proper, <code>\\n</code> separated, lines."},{"owner":{"account_id":26754384,"reputation":41,"user_id":20353238,"display_name":"Sebasos"},"score":0,"creation_date":1671009447,"post_id":74780384,"comment_id":132002291,"body_markdown":"Sorry, I couldn&#39;t manually make a smaller file to replicate the case, it&#39;s too big and I don&#39;t know exactly where the characters are that cause this, but already with your answers I could understand the cause, thanks!","body":"Sorry, I couldn&#39;t manually make a smaller file to replicate the case, it&#39;s too big and I don&#39;t know exactly where the characters are that cause this, but already with your answers I could understand the cause, thanks!"},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1671011329,"post_id":74780384,"comment_id":132002927,"body_markdown":"Please do not add answers to the question body itself. Instead, you should add it as an answer. [Answering your own question is allowed and even encouraged](https://stackoverflow.com/help/self-answer).","body":"Please do not add answers to the question body itself. Instead, you should add it as an answer. <a href=\"https://stackoverflow.com/help/self-answer\">Answering your own question is allowed and even encouraged</a>."}],"answers":[{"tags":[],"owner":{"account_id":26754384,"reputation":41,"user_id":20353238,"display_name":"Sebasos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671291511,"creation_date":1671011717,"answer_id":74796388,"question_id":74780384,"body_markdown":"My Regex expression for a line is `.*?\\\\n|.+`. This works in https://regexr.com/. \r\n\r\nFor some reason in the file reading implementation I&#39;m using in Python and Java the character `&#39;\\r&#39;` is interpreted as a line feed, but this doesn&#39;t happen with the Rust implementation, nor the wc one and obviously neither with the one I made in C (even when it is explicit).\r\n\r\nBut if I change the conditional `((buffer[i] == &#39;\\n&#39;)` for `((buffer[i] == &#39;\\n&#39;) || (buffer[i] == &#39;\\r&#39;))` I get the same value as in Python and Java minus 1.","title":"Why do I have different line counts?","body":"<p>My Regex expression for a line is <code>.*?\\\\n|.+</code>. This works in <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">https://regexr.com/</a>.</p>\n<p>For some reason in the file reading implementation I'm using in Python and Java the character <code>'\\r'</code> is interpreted as a line feed, but this doesn't happen with the Rust implementation, nor the wc one and obviously neither with the one I made in C (even when it is explicit).</p>\n<p>But if I change the conditional <code>((buffer[i] == '\\n')</code> for <code>((buffer[i] == '\\n') || (buffer[i] == '\\r'))</code> I get the same value as in Python and Java minus 1.</p>\n"}],"owner":{"account_id":26754384,"reputation":41,"user_id":20353238,"display_name":"Sebasos"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1671291511,"creation_date":1670909595,"question_id":74780384,"body_markdown":"I made these different programs in different programming languages to count the number of lines of a file, and it turns out that the output differs according to the program, but the strange thing is that some programs have the same results, I was testing them with a 6gb utf-8 xml file with about 146 million lines.\r\n\r\n```python\r\n# Python\r\n# Output -&gt; 146114085 lines\r\nimport time\r\n\r\nlines = 0\r\n\r\nstart = time.perf_counter()\r\n\r\nwith open(&#39;file_path&#39;) as myfile:\r\n    for line in myfile:\r\n        lines += 1\r\n\r\nprint(&quot;{} lines&quot;.format(lines))\r\n\r\nend = time.perf_counter()\r\n\r\nelapsed = end - start\r\n\r\nprint(f&#39;Elapsed time: {elapsed:.3f} seconds&#39;)\r\n```\r\n\r\n\r\n```java\r\n// Java\r\n// Output -&gt; 146114085 lines (just as with python)\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        try {\r\n            long startTime = System.currentTimeMillis();\r\n            int BUFFER_SIZE = 1024*1024;\r\n            String filePath = &quot;file_path&quot;;\r\n            FileReader file = file = new FileReader(filePath);\r\n            BufferedReader reader = new BufferedReader(file, BUFFER_SIZE);\r\n            long lines = reader.lines().count();\r\n            reader.close();\r\n            System.out.println(&quot;The number of lines is &quot; + lines);\r\n            long elapsedTime = System.currentTimeMillis() - startTime;\r\n            System.out.println(&quot;Duration in seconds: &quot; + elapsedTime/1000);\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```rust\r\n// Rust\r\n// Output -&gt; 146113746 lines\r\nuse std::fs::File;\r\nuse std::io::{BufRead, BufReader, Error, Read};\r\nuse std::time::Instant;\r\n\r\nfn main() {\r\n    let file_path = &quot;file_path&quot;;\r\n    let buffer_size = 1024*1024;\r\n    let start = Instant::now();\r\n    if let Err(err) = read_file(buffer_size, file_path) {\r\n        println!(&quot;{}&quot;, err);\r\n    }\r\n    let duration = start.elapsed();\r\n    println!(&quot;The function took {} seconds to execute&quot;, duration.as_secs());\r\n}\r\n\r\nfn read_file(buffer_size: usize, file_path: &amp;str) -&gt; Result&lt;(), Error&gt; {\r\n    let file = File::open(file_path)?;\r\n    let reader = BufReader::with_capacity(buffer_size, file);\r\n    let lines = reader.lines().fold(0, |sum, _| sum + 1);\r\n    println!(&quot;Number of lines {}&quot;, lines);\r\n    Ok(())\r\n}\r\n```\r\n\r\n\r\n```c\r\n// C\r\n// Output -&gt; 146113745 lines (one line less than rust output)\r\n#include &lt;stdio.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &lt;time.h&gt;\r\n\r\nint main(int argc, char *argv[]) {\r\n    // start time\r\n    clock_t start = clock();\r\n\r\n    // File path\r\n    const char* file_path = &quot;file_path&quot;;\r\n\r\n    // Open the file for reading\r\n    FILE *fp = fopen(file_path, &quot;r&quot;);\r\n\r\n    // Allocate a buffer to hold the data\r\n    const size_t BUFFER_SIZE = 1024*1024;\r\n    char *buffer = malloc(BUFFER_SIZE);\r\n\r\n    // Declare the number of lines variable\r\n    unsigned int lines = 0;\r\n\r\n    // Read the data in chunks\r\n    while (!feof(fp)) {\r\n        // Read a chunk of data from the file\r\n        size_t bytes_read = fread(buffer, 1, BUFFER_SIZE, fp);\r\n\r\n        // Process the data here...\r\n        for (int i = 0; i &lt; bytes_read; i++) {\r\n            if (buffer[i] == &#39;\\n&#39;) {\r\n                lines++;\r\n            }\r\n        }\r\n    }\r\n\r\n    printf(&quot;The number of lines %u\\n&quot;, lines);\r\n\r\n    // Clean up\r\n    free(buffer);\r\n    fclose(fp);\r\n\r\n    // End\r\n    clock_t end = clock();\r\n\r\n    // Calculate the elapsed time in seconds\r\n    double elapsed = (double) ((end - start) / CLOCKS_PER_SEC);\r\n\r\n    printf(&quot;Elapsed time: %f seconds&quot;, elapsed);\r\n\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\nFinally, the command wc\r\nOutput -&gt; 146113745 lines (just as with C)\r\n`wc -l file_path`\r\n\r\n\r\n\r\n\r\n\r\nI think the correct answer is Rust&#39;s, because it has one more than wc/C, and it is the last line that has no line change as it reaches the end of the file. The cases that cause me confusion are java and python.","title":"Why do I have different line counts?","body":"<p>I made these different programs in different programming languages to count the number of lines of a file, and it turns out that the output differs according to the program, but the strange thing is that some programs have the same results, I was testing them with a 6gb utf-8 xml file with about 146 million lines.</p>\n<pre class=\"lang-py prettyprint-override\"><code># Python\n# Output -&gt; 146114085 lines\nimport time\n\nlines = 0\n\nstart = time.perf_counter()\n\nwith open('file_path') as myfile:\n    for line in myfile:\n        lines += 1\n\nprint(&quot;{} lines&quot;.format(lines))\n\nend = time.perf_counter()\n\nelapsed = end - start\n\nprint(f'Elapsed time: {elapsed:.3f} seconds')\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Java\n// Output -&gt; 146114085 lines (just as with python)\n\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) {\n        try {\n            long startTime = System.currentTimeMillis();\n            int BUFFER_SIZE = 1024*1024;\n            String filePath = &quot;file_path&quot;;\n            FileReader file = file = new FileReader(filePath);\n            BufferedReader reader = new BufferedReader(file, BUFFER_SIZE);\n            long lines = reader.lines().count();\n            reader.close();\n            System.out.println(&quot;The number of lines is &quot; + lines);\n            long elapsedTime = System.currentTimeMillis() - startTime;\n            System.out.println(&quot;Duration in seconds: &quot; + elapsedTime/1000);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-rust prettyprint-override\"><code>// Rust\n// Output -&gt; 146113746 lines\nuse std::fs::File;\nuse std::io::{BufRead, BufReader, Error, Read};\nuse std::time::Instant;\n\nfn main() {\n    let file_path = &quot;file_path&quot;;\n    let buffer_size = 1024*1024;\n    let start = Instant::now();\n    if let Err(err) = read_file(buffer_size, file_path) {\n        println!(&quot;{}&quot;, err);\n    }\n    let duration = start.elapsed();\n    println!(&quot;The function took {} seconds to execute&quot;, duration.as_secs());\n}\n\nfn read_file(buffer_size: usize, file_path: &amp;str) -&gt; Result&lt;(), Error&gt; {\n    let file = File::open(file_path)?;\n    let reader = BufReader::with_capacity(buffer_size, file);\n    let lines = reader.lines().fold(0, |sum, _| sum + 1);\n    println!(&quot;Number of lines {}&quot;, lines);\n    Ok(())\n}\n</code></pre>\n<pre class=\"lang-c prettyprint-override\"><code>// C\n// Output -&gt; 146113745 lines (one line less than rust output)\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;time.h&gt;\n\nint main(int argc, char *argv[]) {\n    // start time\n    clock_t start = clock();\n\n    // File path\n    const char* file_path = &quot;file_path&quot;;\n\n    // Open the file for reading\n    FILE *fp = fopen(file_path, &quot;r&quot;);\n\n    // Allocate a buffer to hold the data\n    const size_t BUFFER_SIZE = 1024*1024;\n    char *buffer = malloc(BUFFER_SIZE);\n\n    // Declare the number of lines variable\n    unsigned int lines = 0;\n\n    // Read the data in chunks\n    while (!feof(fp)) {\n        // Read a chunk of data from the file\n        size_t bytes_read = fread(buffer, 1, BUFFER_SIZE, fp);\n\n        // Process the data here...\n        for (int i = 0; i &lt; bytes_read; i++) {\n            if (buffer[i] == '\\n') {\n                lines++;\n            }\n        }\n    }\n\n    printf(&quot;The number of lines %u\\n&quot;, lines);\n\n    // Clean up\n    free(buffer);\n    fclose(fp);\n\n    // End\n    clock_t end = clock();\n\n    // Calculate the elapsed time in seconds\n    double elapsed = (double) ((end - start) / CLOCKS_PER_SEC);\n\n    printf(&quot;Elapsed time: %f seconds&quot;, elapsed);\n\n    return 0;\n}\n\n</code></pre>\n<p>Finally, the command wc\nOutput -&gt; 146113745 lines (just as with C)\n<code>wc -l file_path</code></p>\n<p>I think the correct answer is Rust's, because it has one more than wc/C, and it is the last line that has no line change as it reaches the end of the file. The cases that cause me confusion are java and python.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671289071,"post_id":74835076,"comment_id":132069718,"body_markdown":"It&#39;s not clear from the text of the problem, but could it be that you shouldn&#39;t expect the number from the standard input but instead it comes as an argument to the program?","body":"It&#39;s not clear from the text of the problem, but could it be that you shouldn&#39;t expect the number from the standard input but instead it comes as an argument to the program?"},{"owner":{"account_id":13286877,"reputation":1,"user_id":9592676,"display_name":"Puru Raj Singh Uppal"},"score":0,"creation_date":1671290719,"post_id":74835076,"comment_id":132070010,"body_markdown":"@Federico klez Culloca if I am not expected to take the input from the user, how am I supposed to iterate for recursive multiplication? How can the logic be applied without the input?","body":"@Federico klez Culloca if I am not expected to take the input from the user, how am I supposed to iterate for recursive multiplication? How can the logic be applied without the input?"},{"owner":{"account_id":13286877,"reputation":1,"user_id":9592676,"display_name":"Puru Raj Singh Uppal"},"score":0,"creation_date":1671291078,"post_id":74835076,"comment_id":132070067,"body_markdown":"Thank you @ \nFederico klez Culloca\nI was not supposed to take an input from the user. Thanks a ton. Been stuck on this problems for a few hours now.","body":"Thank you @  Federico klez Culloca I was not supposed to take an input from the user. Thanks a ton. Been stuck on this problems for a few hours now."},{"owner":{"account_id":5156519,"reputation":3345,"user_id":5272567,"display_name":"Matthias"},"score":0,"creation_date":1671721493,"post_id":74835076,"comment_id":132162710,"body_markdown":"@FedericoklezCulloca please post your answer and puru raj singh uppal please accept so this question can be closed","body":"@FedericoklezCulloca please post your answer and puru raj singh uppal please accept so this question can be closed"},{"owner":{"account_id":13286877,"reputation":1,"user_id":9592676,"display_name":"Puru Raj Singh Uppal"},"score":0,"creation_date":1672206621,"post_id":74835076,"comment_id":132241105,"body_markdown":"how to accept an answer to a question?","body":"how to accept an answer to a question?"}],"answers":[{"tags":[],"owner":{"account_id":27276926,"reputation":1,"user_id":20797391,"display_name":"Kaloo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671291509,"creation_date":1671291481,"answer_id":74835323,"question_id":74835076,"body_markdown":"It seems like standard input is not available on this platform... a thing I would try is using next() and Integer.parseInt() but I&#39;m almost 100% sure this wouldn&#39;t help. Since the exception involved is NoSuchElementException, I&#39;m pretty sure it&#39;s also useless to use try{} and catch (java.util.NoSuchElementException e) {}... it really seems like standard input is not enabled.\r\nStill, give this a try:\r\n\r\n    import java.util.Scanner;\r\n    class Tester {\r\n        public static void main(String[] args) {\r\n            // Implement your code here\r\n            int sequence=1;\r\n            \r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter the length of sequence: &quot;);      \r\n    \r\n            // input the lenght of the sequence\r\n            int n = 0;\r\n            do\r\n            {\r\n                try\r\n                {\r\n                   n = sc.nextInt();\r\n                }\r\n                catch (java.util.NoSuchElementException e)\r\n                { // intentionally left blank\r\n                }\r\n            } while (sc.hasNextLine());\r\n            while(n!=0)\r\n            {\r\n               System.out.print(sequence);\r\n               System.out.print(&quot; &quot;);\r\n               sequence*=2;\r\n               n-=1;\r\n            }\r\n            sc.close();\r\n        }\r\n    }","title":"Unable to complete a simple function using scanner class","body":"<p>It seems like standard input is not available on this platform... a thing I would try is using next() and Integer.parseInt() but I'm almost 100% sure this wouldn't help. Since the exception involved is NoSuchElementException, I'm pretty sure it's also useless to use try{} and catch (java.util.NoSuchElementException e) {}... it really seems like standard input is not enabled.\nStill, give this a try:</p>\n<pre><code>import java.util.Scanner;\nclass Tester {\n    public static void main(String[] args) {\n        // Implement your code here\n        int sequence=1;\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the length of sequence: &quot;);      \n\n        // input the lenght of the sequence\n        int n = 0;\n        do\n        {\n            try\n            {\n               n = sc.nextInt();\n            }\n            catch (java.util.NoSuchElementException e)\n            { // intentionally left blank\n            }\n        } while (sc.hasNextLine());\n        while(n!=0)\n        {\n           System.out.print(sequence);\n           System.out.print(&quot; &quot;);\n           sequence*=2;\n           n-=1;\n        }\n        sc.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13286877,"reputation":1,"user_id":9592676,"display_name":"Puru Raj Singh Uppal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671291509,"creation_date":1671288937,"question_id":74835076,"body_markdown":"I am trying to solve a question on the online platform of Infosys Ltd InfyTQ platform. The problem is in java. The problem description is as follows:\r\n\r\nImplement a program to display the geometric sequence as given below for a given value n, where n is the number of elements in the sequence.\r\n\r\n-------&gt;  1, 2, 4, 8, 16, 32, 64, ______, 1024\r\n\r\nSample Input and Output\r\n\r\n-------&gt;  5 :::: 1, 2, 4, 8, 16\r\n-------&gt;  8 :::: 1, 2, 4, 8, 16, 32, 64, 128\r\n\r\nWhat I am given is the following: \r\n\r\n\r\n```\r\nclass Tester {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Implement your code here \r\n\t}\r\n}\r\n```\r\n\r\nWhat I am trying to implement is the following\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Tester {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Implement your code here\r\n\t\tint sequence=1;\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the length of sequence: &quot;);      \r\n\r\n        // input the lenght of the sequence\r\n        int n = sc.nextInt();\r\n        while(n!=0)\r\n        {\r\n           System.out.print(sequence);\r\n           System.out.print(&quot; &quot;);\r\n           sequence*=2;\r\n           n-=1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried the above code in an online compiler and on my system on the Visual Studio Code.\r\nWhile in the online compiler it&#39;s working flawlessly. On my system it&#39;s not giving any errors.\r\nThe errors while compiling on their platform are as follows: \r\n\r\nEnter the length of sequence:\r\nRuntime Exception\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\nat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\nat java.base/java.util.Scanner.next(Scanner.java:1594)\r\nat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\nat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\nat Tester.main(myCode.java:12)\r\n```\r\n\r\nI am unable to modify anything on the online platform that I am working on. So nothing deep can be done. Please help solve the above problem so that it&#39;s accepted by the platform, so that I may proceed further. \r\n\r\nThe errors while compiling on their platform are as given above. \r\n\r\nThe logic is flawless. The only problem is with their system I think. But maybe I am going wrong somewhere here. Maybe the SC is leaking. I don&#39;t know for sure. The errors are the only ones that are given above. Please help in the regard.","title":"Unable to complete a simple function using scanner class","body":"<p>I am trying to solve a question on the online platform of Infosys Ltd InfyTQ platform. The problem is in java. The problem description is as follows:</p>\n<p>Implement a program to display the geometric sequence as given below for a given value n, where n is the number of elements in the sequence.</p>\n<p>-------&gt;  1, 2, 4, 8, 16, 32, 64, ______, 1024</p>\n<p>Sample Input and Output</p>\n<p>-------&gt;  5 :::: 1, 2, 4, 8, 16\n-------&gt;  8 :::: 1, 2, 4, 8, 16, 32, 64, 128</p>\n<p>What I am given is the following:</p>\n<pre><code>class Tester {\n    public static void main(String[] args) {\n        // Implement your code here \n    }\n}\n</code></pre>\n<p>What I am trying to implement is the following</p>\n<pre><code>import java.util.Scanner;\n\nclass Tester {\n    public static void main(String[] args) {\n        // Implement your code here\n        int sequence=1;\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the length of sequence: &quot;);      \n\n        // input the lenght of the sequence\n        int n = sc.nextInt();\n        while(n!=0)\n        {\n           System.out.print(sequence);\n           System.out.print(&quot; &quot;);\n           sequence*=2;\n           n-=1;\n        }\n    }\n}\n</code></pre>\n<p>I have tried the above code in an online compiler and on my system on the Visual Studio Code.\nWhile in the online compiler it's working flawlessly. On my system it's not giving any errors.\nThe errors while compiling on their platform are as follows:</p>\n<p>Enter the length of sequence:\nRuntime Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException\nat java.base/java.util.Scanner.throwFor(Scanner.java:937)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\nat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\nat Tester.main(myCode.java:12)\n</code></pre>\n<p>I am unable to modify anything on the online platform that I am working on. So nothing deep can be done. Please help solve the above problem so that it's accepted by the platform, so that I may proceed further.</p>\n<p>The errors while compiling on their platform are as given above.</p>\n<p>The logic is flawless. The only problem is with their system I think. But maybe I am going wrong somewhere here. Maybe the SC is leaking. I don't know for sure. The errors are the only ones that are given above. Please help in the regard.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1671095189,"post_id":74806663,"comment_id":132025117,"body_markdown":"If you don&#39;t have a gc log, get one. I would guess there&#39;s a memory leak of some sort in there.","body":"If you don&#39;t have a gc log, get one. I would guess there&#39;s a memory leak of some sort in there."}],"answers":[{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671291007,"creation_date":1671291007,"answer_id":74835289,"question_id":74806663,"body_markdown":"The `java.lang.OutOfMemoryError: GC Overhead limit exceeded` occurs if the Java process is spending more than approximately 98% of its time doing garbage collection and if it is recovering less than 2% of the heap. Read more over [docs.oracle.com][1].\r\n\r\nThere could be two possible reasons: (1.) you are having a memory leak - in most of cases this turns out to be the root cause (2.) you are not using sufficient heap memory.\r\n\r\nI would suggest do heap dump analysis and see if you have memory leak. Also, try to increase memory and see how it goes.  \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html","title":"Exception in thread &quot;dispatcher-event-loop-5&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded : Spark","body":"<p>The <code>java.lang.OutOfMemoryError: GC Overhead limit exceeded</code> occurs if the Java process is spending more than approximately 98% of its time doing garbage collection and if it is recovering less than 2% of the heap. Read more over <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">docs.oracle.com</a>.</p>\n<p>There could be two possible reasons: (1.) you are having a memory leak - in most of cases this turns out to be the root cause (2.) you are not using sufficient heap memory.</p>\n<p>I would suggest do heap dump analysis and see if you have memory leak. Also, try to increase memory and see how it goes.</p>\n"}],"owner":{"account_id":19048337,"reputation":189,"user_id":13907061,"display_name":"Rahul Patidar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671291007,"creation_date":1671076502,"question_id":74806663,"body_markdown":"Could someone please make a suggestion here? I am executing the following code using the spark submit command, which is taking data from the src hive table (hive is taking data from the spark streaming job and the source is Kafka) every 5 minutes and doing some aggregation over the last 2 hours of partition at the target side.\r\n\r\n    val sparksql=&quot;insert OVERWRITE table  hivedesttable(partition_date,partition_hour) \r\n        select &quot;some business logic with aggregation and group by condition&quot; from hivesrctable\r\n        where concat(partitionDate,&quot;:&quot;,partitionHour) in ${partitionDateHour}&quot;\r\n\r\n    new Thread(new Runnable {\r\n    override def run(): Unit = {\r\n    while (true) {\r\n    val currentTs = java.time.LocalDateTime.now\r\n    var partitionDateHour = (0 until 2)\r\n    .map(h =&gt; currentTs.minusHours(h))\r\n    .map(ts =&gt; s&quot;&#39;${ts.toString.substring(0, 10)}${&quot;:&quot;}${ts.toString.substring(11,13)}&#39;&quot;)\r\n    .toList.toString().drop(4)\r\n\r\n    /** replacing ${partitionDateHour} value in query from current Thread value dynamically*/\r\n      val sparksql=  spark_sql.replace(&quot;${partitionDateHour}&quot;,partitionDateHour)\r\n      spark.sql(sparksql)\r\n      Thread.sleep(300000)}}}).start()\r\n      scala.io.StdIn.readLine()\r\n\r\n\r\nIt was working properly for 5 to 6 hours before displaying the error message below.\r\n\r\n\r\n    Exception in thread &quot;dispatcher-event-loop-5&quot; in java.lang.OutOfMemoryError: GC overhead \r\n    limit exceeded\r\n    22/12/13 19:07:42 ERROR FileFormatWriter: Aborting job null.\r\n    org.apache.spark.sql.catalyst.errors.package$TreeNodeException: execute, tree:\r\n    Exchange hashpartitioning\r\n    +- *HashAggregate\r\n    +- Exchange hashpartitioning\r\n    +- *HashAggregate\r\n    +- *Filter \r\n\r\n\r\n\r\nMy Spark-submit Configuration :\r\n\r\n    --conf &quot;spark.hadoop.hive.exec.dynamic.partition=true&quot;\r\n    --conf &quot;spark.hadoop.hive.exec.dynamic.partition.mode=nonstrict&quot; \r\n    --num-executors 1\r\n    --driver-cores 1 \r\n    --driver-memory 1G  \r\n    --executor-cores 1  \r\n    --executor-memory 1G  \r\n\r\n\r\nI attempted to increase —executor-memory, but the issue persisted. I&#39;m wondering if there&#39;s a way to release all of the GC process&#39;s resources after each thread so that unneeded objects and resources can be freed up.\r\n\r\nCould someone please advise me on how to handle this situation?","title":"Exception in thread &quot;dispatcher-event-loop-5&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded : Spark","body":"<p>Could someone please make a suggestion here? I am executing the following code using the spark submit command, which is taking data from the src hive table (hive is taking data from the spark streaming job and the source is Kafka) every 5 minutes and doing some aggregation over the last 2 hours of partition at the target side.</p>\n<pre><code>val sparksql=&quot;insert OVERWRITE table  hivedesttable(partition_date,partition_hour) \n    select &quot;some business logic with aggregation and group by condition&quot; from hivesrctable\n    where concat(partitionDate,&quot;:&quot;,partitionHour) in ${partitionDateHour}&quot;\n\nnew Thread(new Runnable {\noverride def run(): Unit = {\nwhile (true) {\nval currentTs = java.time.LocalDateTime.now\nvar partitionDateHour = (0 until 2)\n.map(h =&gt; currentTs.minusHours(h))\n.map(ts =&gt; s&quot;'${ts.toString.substring(0, 10)}${&quot;:&quot;}${ts.toString.substring(11,13)}'&quot;)\n.toList.toString().drop(4)\n\n/** replacing ${partitionDateHour} value in query from current Thread value dynamically*/\n  val sparksql=  spark_sql.replace(&quot;${partitionDateHour}&quot;,partitionDateHour)\n  spark.sql(sparksql)\n  Thread.sleep(300000)}}}).start()\n  scala.io.StdIn.readLine()\n</code></pre>\n<p>It was working properly for 5 to 6 hours before displaying the error message below.</p>\n<pre><code>Exception in thread &quot;dispatcher-event-loop-5&quot; in java.lang.OutOfMemoryError: GC overhead \nlimit exceeded\n22/12/13 19:07:42 ERROR FileFormatWriter: Aborting job null.\norg.apache.spark.sql.catalyst.errors.package$TreeNodeException: execute, tree:\nExchange hashpartitioning\n+- *HashAggregate\n+- Exchange hashpartitioning\n+- *HashAggregate\n+- *Filter \n</code></pre>\n<p>My Spark-submit Configuration :</p>\n<pre><code>--conf &quot;spark.hadoop.hive.exec.dynamic.partition=true&quot;\n--conf &quot;spark.hadoop.hive.exec.dynamic.partition.mode=nonstrict&quot; \n--num-executors 1\n--driver-cores 1 \n--driver-memory 1G  \n--executor-cores 1  \n--executor-memory 1G  \n</code></pre>\n<p>I attempted to increase —executor-memory, but the issue persisted. I'm wondering if there's a way to release all of the GC process's resources after each thread so that unneeded objects and resources can be freed up.</p>\n<p>Could someone please advise me on how to handle this situation?</p>\n"},{"tags":["java","visual-studio-code","vscode-extensions","vscode-code-runner"],"answers":[{"comments":[{"owner":{"account_id":8602307,"reputation":71,"user_id":8243358,"display_name":"OracleJavaNet"},"score":0,"creation_date":1672433141,"post_id":70060265,"comment_id":132290685,"body_markdown":"Thank you for the solution. I am running into the same issues. Once I install Code Runner, class files are no longer generated in the /bin directory. They are now created in the same directory as the Java source code (/src). After this, nothing works right! Is the consensus to not use Code Runner?","body":"Thank you for the solution. I am running into the same issues. Once I install Code Runner, class files are no longer generated in the /bin directory. They are now created in the same directory as the Java source code (/src). After this, nothing works right! Is the consensus to not use Code Runner?"}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637549372,"creation_date":1637547937,"answer_id":70060265,"question_id":70045974,"body_markdown":"Uninstall Code Runner and choose `Java: Create New Project` from **Command Palette**. \r\n\r\nCreate a no build tools project and coding in `.java` files which stored in folder `src`, then all the generated `.class` files will be stored in folder `bin` by default.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAbout the compilation errors, please post code snippets for further solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/27qrI.png","title":"How to change the CodeRunner .class file creation from same working directory of the java file in vs code?","body":"<p>Uninstall Code Runner and choose <code>Java: Create New Project</code> from <strong>Command Palette</strong>.</p>\n<p>Create a no build tools project and coding in <code>.java</code> files which stored in folder <code>src</code>, then all the generated <code>.class</code> files will be stored in folder <code>bin</code> by default.</p>\n<p><a href=\"https://i.stack.imgur.com/27qrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/27qrI.png\" alt=\"enter image description here\" /></a></p>\n<p>About the compilation errors, please post code snippets for further solution.</p>\n"},{"tags":[],"owner":{"account_id":22140355,"reputation":157,"user_id":16456741,"display_name":"Basit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671290858,"creation_date":1671290858,"answer_id":74835275,"question_id":70045974,"body_markdown":"Install [Test Runner for Java][1] or  [Extension Pack for Java][2] extension both by Microsoft. Better would be to go with an extension pack.\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [3]: https://i.stack.imgur.com/yjWTp.png","title":"How to change the CodeRunner .class file creation from same working directory of the java file in vs code?","body":"<p>Install <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test\" rel=\"nofollow noreferrer\">Test Runner for Java</a> or  <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> extension both by Microsoft. Better would be to go with an extension pack.</p>\n<p><a href=\"https://i.stack.imgur.com/yjWTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yjWTp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17811536,"reputation":653,"user_id":12936009,"display_name":"NobinPegasus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1671290858,"creation_date":1637411862,"question_id":70045974,"body_markdown":"I am currently using vs code to run my java files.\r\nBut when I use coderunner and run my java file it creates a .class file for every class in the same directory of my java file. Which gets messy how can I get rid of that?\r\nI am ok with uninstalling the coderunner but in that case the java file errors doesn&#39;t show up properly and build fails.\r\n\r\n\r\n[![My VS Code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ob3Ec.png","title":"How to change the CodeRunner .class file creation from same working directory of the java file in vs code?","body":"<p>I am currently using vs code to run my java files.\nBut when I use coderunner and run my java file it creates a .class file for every class in the same directory of my java file. Which gets messy how can I get rid of that?\nI am ok with uninstalling the coderunner but in that case the java file errors doesn't show up properly and build fails.</p>\n<p><a href=\"https://i.stack.imgur.com/Ob3Ec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ob3Ec.png\" alt=\"My VS Code\" /></a></p>\n"},{"tags":["java","mysql","spring-boot","flyway"],"comments":[{"owner":{"account_id":16523805,"reputation":56,"user_id":11939169,"display_name":"K3v1n 0X90"},"score":0,"creation_date":1671283017,"post_id":74834251,"comment_id":132068543,"body_markdown":"Maybe it is a problem with the naming of the migration scripts have you tried to adhere explicitly to this Schema: V1_1_0__my_first_migration.sql","body":"Maybe it is a problem with the naming of the migration scripts have you tried to adhere explicitly to this Schema: V1_1_0__my_first_migration.sql"},{"owner":{"account_id":16523805,"reputation":56,"user_id":11939169,"display_name":"K3v1n 0X90"},"score":0,"creation_date":1671283342,"post_id":74834251,"comment_id":132068615,"body_markdown":"According to official docs example also the location does may not need the resources as first part but something like classpath:db/migration should be enough https://flywaydb.org/documentation/concepts/migrations.html#naming","body":"According to official docs example also the location does may not need the resources as first part but something like classpath:db/migration should be enough <a href=\"https://flywaydb.org/documentation/concepts/migrations.html#naming\" rel=\"nofollow noreferrer\">flywaydb.org/documentation/concepts/migrations.html#naming</a>"},{"owner":{"account_id":16523805,"reputation":56,"user_id":11939169,"display_name":"K3v1n 0X90"},"score":0,"creation_date":1671283496,"post_id":74834251,"comment_id":132068634,"body_markdown":"That’s because everything below resources is put into classpath root.","body":"That’s because everything below resources is put into classpath root."},{"owner":{"account_id":16523805,"reputation":56,"user_id":11939169,"display_name":"K3v1n 0X90"},"score":0,"creation_date":1671285135,"post_id":74834251,"comment_id":132068940,"body_markdown":"If nothing helps it might be a good idea to set a breakpoint in the flyway spring boot starter and debug it during application startup. \n\nhttps://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration.java \n\nYou can find it in IntelliJ under the dependencies section.","body":"If nothing helps it might be a good idea to set a breakpoint in the flyway spring boot starter and debug it during application startup.   <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>   You can find it in IntelliJ under the dependencies section."},{"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"score":0,"creation_date":1671305518,"post_id":74834251,"comment_id":132072722,"body_markdown":"@K3v1n0X90 Hi, thanks for the answer I changed the file names and unfortunately it didn&#39;t change anything, I also tried to debug it, but here I don&#39;t know too much where to set the breakpoint and what in total I should check in it.","body":"@K3v1n0X90 Hi, thanks for the answer I changed the file names and unfortunately it didn&#39;t change anything, I also tried to debug it, but here I don&#39;t know too much where to set the breakpoint and what in total I should check in it."}],"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671290608,"creation_date":1671281886,"question_id":74834251,"body_markdown":"After launching an application written in spring boot, the sql scripts do not load into the database. \r\n\r\nOnly an empty table named `flyway_schema_history` is created in the database. \r\n\r\n[![empty table: flyway_schema_history](https://i.stack.imgur.com/2SHfH.png)](https://i.stack.imgur.com/2SHfH.png)\r\n\r\nThe path given to the scripts is as follows: **resources/db.migration**[![path in project](https://i.stack.imgur.com/B4giV.png)](https://i.stack.imgur.com/B4giV.png)\r\n\r\nAn example script named **V1__create_invoice.sql** looks like this:\r\n\r\n    create table invoice\r\n    (\r\n        id          bigint        not null auto_increment PRIMARY KEY,\r\n        name        varchar(255)  not null,\r\n        price       decimal(9, 2) not null,\r\n    );\r\n\r\nIn the IntelliJ console, I get such information about the database or flyway: [![logs](https://i.stack.imgur.com/ihuLj.png)](https://i.stack.imgur.com/ihuLj.png)\r\n\r\nThis is how flyway configuration files are defined:\r\n\r\n    spring.flyway.baselineOnMigrate=true\r\n    spring.flyway.locations=classpath:resources/db/migration\r\n    spring.flyway.enabled=true\r\n\r\nThis is how the files to connect to the database are defined:\r\n\r\n    spring.datasource.url=jdbc:mysql://${DATABASE_URL:localhost}:${DATABASE_PORT:3306}/${DATABASE_NAME:public}?useUnicode=true&amp;serverTimezone=UTC\r\n    spring.datasource.username=${DATABASE_USERNAME:root}\r\n    spring.datasource.password=${DATABASE_PASSWORD:password}\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried changing the path to the scripts folder several times, for example like this \r\n`classpath:db/migration` or `classpath:db.migration` but it didn&#39;t change anything. ","title":"Flyway unable to find location and load sql scripts","body":"<p>After launching an application written in spring boot, the sql scripts do not load into the database.</p>\n<p>Only an empty table named <code>flyway_schema_history</code> is created in the database.</p>\n<p><a href=\"https://i.stack.imgur.com/2SHfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2SHfH.png\" alt=\"empty table: flyway_schema_history\" /></a></p>\n<p>The path given to the scripts is as follows: <strong>resources/db.migration</strong><a href=\"https://i.stack.imgur.com/B4giV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B4giV.png\" alt=\"path in project\" /></a></p>\n<p>An example script named <strong>V1__create_invoice.sql</strong> looks like this:</p>\n<pre><code>create table invoice\n(\n    id          bigint        not null auto_increment PRIMARY KEY,\n    name        varchar(255)  not null,\n    price       decimal(9, 2) not null,\n);\n</code></pre>\n<p>In the IntelliJ console, I get such information about the database or flyway: <a href=\"https://i.stack.imgur.com/ihuLj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihuLj.png\" alt=\"logs\" /></a></p>\n<p>This is how flyway configuration files are defined:</p>\n<pre><code>spring.flyway.baselineOnMigrate=true\nspring.flyway.locations=classpath:resources/db/migration\nspring.flyway.enabled=true\n</code></pre>\n<p>This is how the files to connect to the database are defined:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://${DATABASE_URL:localhost}:${DATABASE_PORT:3306}/${DATABASE_NAME:public}?useUnicode=true&amp;serverTimezone=UTC\nspring.datasource.username=${DATABASE_USERNAME:root}\nspring.datasource.password=${DATABASE_PASSWORD:password}\n</code></pre>\n<p>I've tried changing the path to the scripts folder several times, for example like this\n<code>classpath:db/migration</code> or <code>classpath:db.migration</code> but it didn't change anything.</p>\n"},{"tags":["java","typescript","generics","compiler-errors","type-inference"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671289315,"creation_date":1671289315,"answer_id":74835119,"question_id":74834184,"body_markdown":"TypeScript (as well JavaScript) conceptually very different from Java.\r\n\r\nIn TypeScript/JavaScript *everything is build around **Objects***, whilst in Java world *everything revolves around **Classes***.\r\n\r\nIn Java, you **can&#39;t** create an object right on the spot (like it can be done in TypeScript/JavaScript).\r\n\r\nYou need to define a `class` first (or a `record` which is basically a specialized version of a `class`). Sure, you can use an *anonymous inner class* of obtain an instance of a subtype of a particular type (like `java.lang.Object`) and this subclass would be created for you under the hood, but you need Generic type for the properties of your object this option doesn&#39;t fit into your use-case (there&#39;s no way to define new Generic parameters while creating an anonymous inner class).\r\n\r\nSo you need to use either a `class` or a [Java 16 `record`][record] to define your custom generic type (*note that records are immutable, i.e. all properties are final*).\r\n\r\n# Defining a Generic Class\r\n\r\nA generic class that matches the structure of the enclosing object `{ a;  b;  c; }` in your example might look like this:\r\n\r\n    public class MyType&lt;A, B, C&gt; {\r\n        private A a;\r\n        private B b;\r\n        private C c;\r\n        \r\n        // constructor, getters, etc.\r\n    }\r\n\r\n# Defining a Generic Record\r\n\r\nThe inner object which has a structure `{ d; e; }` can be described as the following record (*note that canonical all-args constructor, getters, `equals/hashCode` and `toString` of a record would be auto-generated by the compiler, so the record definition can be literally a one-line*r):\r\n\r\n```\r\npublic record Pair&lt;L, R&gt;(L left, R right) {}\r\n```\r\n\r\n***Note:** some libraries like Vavr and Apache Commons offer types `Triple` and `Pair`, but they are not available in the JDK. Some might say that standard JDK&#39;s `Map.Entry` is a vague analogous of `Pair`, it would be semantically vied to substitute a domain type with map entry.*\r\n\r\n# Type Inference\r\n\r\nRegarding the type inference, in Java we have such notions like [*Target type*][targetType], *poly expressions* (expressions that are context-sensitive and which type should be inferred either from Assignment context, Invocation context or Casting context), etc. This subject is very broad, and many issues related to type inference might be encountered, but to put it simple if you need the compiler to infer some types there should be some source of that information (like assignment context, argument types, etc.).\r\n\r\nHere&#39;s an example of type inference with Java 10 [*Local variable type inference via* `var` *word*][var] and Java 7 [*diamond* `&lt;&gt;` *operator*][diamond] (*suppose `MyType` declares both no-args and all-args constructors*):\r\n\r\n```\r\nMyType&lt;Integer, String, Pair&lt;Integer, String&gt;&gt; myType = new MyType&lt;&gt;();\r\n        \r\nvar myType2 = new MyType&lt;&gt;(1, &quot;b&quot;, new Pair&lt;&gt;(4, &quot;e&quot;)); // &lt;&gt; literally means - infer the type of generic parameters\r\n```\r\n\r\n\r\n\r\n   [record]: https://docs.oracle.com/en/java/javase/16/language/records.html\r\n\r\n   [targetType]: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types\r\n\r\n   [var]: https://developer.oracle.com/learn/technical-articles/jdk-10-local-variable-type-inference\r\n\r\n   [diamond]: https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond","title":"Functionnal programming in java and helpful compiler errors","body":"<p>TypeScript (as well JavaScript) conceptually very different from Java.</p>\n<p>In TypeScript/JavaScript <em>everything is build around <strong>Objects</strong></em>, whilst in Java world <em>everything revolves around <strong>Classes</strong></em>.</p>\n<p>In Java, you <strong>can't</strong> create an object right on the spot (like it can be done in TypeScript/JavaScript).</p>\n<p>You need to define a <code>class</code> first (or a <code>record</code> which is basically a specialized version of a <code>class</code>). Sure, you can use an <em>anonymous inner class</em> of obtain an instance of a subtype of a particular type (like <code>java.lang.Object</code>) and this subclass would be created for you under the hood, but you need Generic type for the properties of your object this option doesn't fit into your use-case (there's no way to define new Generic parameters while creating an anonymous inner class).</p>\n<p>So you need to use either a <code>class</code> or a <a href=\"https://docs.oracle.com/en/java/javase/16/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a> to define your custom generic type (<em>note that records are immutable, i.e. all properties are final</em>).</p>\n<h1>Defining a Generic Class</h1>\n<p>A generic class that matches the structure of the enclosing object <code>{ a;  b;  c; }</code> in your example might look like this:</p>\n<pre><code>public class MyType&lt;A, B, C&gt; {\n    private A a;\n    private B b;\n    private C c;\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<h1>Defining a Generic Record</h1>\n<p>The inner object which has a structure <code>{ d; e; }</code> can be described as the following record (<em>note that canonical all-args constructor, getters, <code>equals/hashCode</code> and <code>toString</code> of a record would be auto-generated by the compiler, so the record definition can be literally a one-line</em>r):</p>\n<pre><code>public record Pair&lt;L, R&gt;(L left, R right) {}\n</code></pre>\n<p><em><strong>Note:</strong> some libraries like Vavr and Apache Commons offer types <code>Triple</code> and <code>Pair</code>, but they are not available in the JDK. Some might say that standard JDK's <code>Map.Entry</code> is a vague analogous of <code>Pair</code>, it would be semantically vied to substitute a domain type with map entry.</em></p>\n<h1>Type Inference</h1>\n<p>Regarding the type inference, in Java we have such notions like <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types\" rel=\"nofollow noreferrer\"><em>Target type</em></a>, <em>poly expressions</em> (expressions that are context-sensitive and which type should be inferred either from Assignment context, Invocation context or Casting context), etc. This subject is very broad, and many issues related to type inference might be encountered, but to put it simple if you need the compiler to infer some types there should be some source of that information (like assignment context, argument types, etc.).</p>\n<p>Here's an example of type inference with Java 10 <a href=\"https://developer.oracle.com/learn/technical-articles/jdk-10-local-variable-type-inference\" rel=\"nofollow noreferrer\"><em>Local variable type inference via</em> <code>var</code> <em>word</em></a> and Java 7 <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/types.html#diamond\" rel=\"nofollow noreferrer\"><em>diamond</em> <code>&lt;&gt;</code> <em>operator</em></a> (<em>suppose <code>MyType</code> declares both no-args and all-args constructors</em>):</p>\n<pre><code>MyType&lt;Integer, String, Pair&lt;Integer, String&gt;&gt; myType = new MyType&lt;&gt;();\n        \nvar myType2 = new MyType&lt;&gt;(1, &quot;b&quot;, new Pair&lt;&gt;(4, &quot;e&quot;)); // &lt;&gt; literally means - infer the type of generic parameters\n</code></pre>\n"}],"owner":{"account_id":2971436,"reputation":8140,"user_id":2523414,"display_name":"Cl&#233;ment Pr&#233;vost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74835119,"answer_count":1,"score":2,"last_activity_date":1671289665,"creation_date":1671281359,"question_id":74834184,"body_markdown":"I&#39;m looking for a way to define generic computation on a piece of data and get the compiler to yell if I get it wrong.\r\n\r\nComing from the typescript world, you can do something like this:\r\n\r\n```typescript\r\n/**\r\n * Type inferred as:\r\n * Array&lt;{\r\n *   a: number;\r\n *   b: string;\r\n *   c: { d: number; e: string };\r\n * }&gt;\r\n */\r\nconst data = [\r\n  { a: 1, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\r\n  { a: 2, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\r\n  { a: 3, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\r\n];\r\n\r\nconst result = data\r\n  // change the type of c to string\r\n  .map(o =&gt; ({...o, c: JSON.stringify(o.c)}))\r\n  // adding a new field\r\n  .map(o =&gt; ({...o, d: &quot;new&quot;}))\r\n;\r\n/** \r\n * `result` type is automatically inferred as:\r\n * Array&lt;{\r\n *     d: string;\r\n *     c: string;\r\n *     a: number;\r\n *     b: string;\r\n * }&gt;\r\n */\r\n```\r\n\r\nAt the end of this, the type of `result` will be properly infered and each type in between `map` is inferred too.\r\n\r\nBenefits here is that the compiler is actually helping uncover bugs.\r\n\r\n**How would you do something similar in java?**\r\n\r\nI tried to use a generic `Map` object with a generic type spanning multiple lower level types that sort of mimic a JS dictionary. But in this case, the compiler doesn&#39;t know that key X is actually of type Y, so it&#39;s totally useless in catching bugs.\r\n\r\nMy conclusion is that it&#39;s not possible to have the same kind of static analysis in java that we have in Typescript. The Java compiler is just not made to propagate and update unnamed types as it goes on and catch those kinds of bugs.\r\n\r\n","title":"Functionnal programming in java and helpful compiler errors","body":"<p>I'm looking for a way to define generic computation on a piece of data and get the compiler to yell if I get it wrong.</p>\n<p>Coming from the typescript world, you can do something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Type inferred as:\n * Array&lt;{\n *   a: number;\n *   b: string;\n *   c: { d: number; e: string };\n * }&gt;\n */\nconst data = [\n  { a: 1, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\n  { a: 2, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\n  { a: 3, b: &quot;b&quot;, c: { d: 4, e: &quot;e&quot; } },\n];\n\nconst result = data\n  // change the type of c to string\n  .map(o =&gt; ({...o, c: JSON.stringify(o.c)}))\n  // adding a new field\n  .map(o =&gt; ({...o, d: &quot;new&quot;}))\n;\n/** \n * `result` type is automatically inferred as:\n * Array&lt;{\n *     d: string;\n *     c: string;\n *     a: number;\n *     b: string;\n * }&gt;\n */\n</code></pre>\n<p>At the end of this, the type of <code>result</code> will be properly infered and each type in between <code>map</code> is inferred too.</p>\n<p>Benefits here is that the compiler is actually helping uncover bugs.</p>\n<p><strong>How would you do something similar in java?</strong></p>\n<p>I tried to use a generic <code>Map</code> object with a generic type spanning multiple lower level types that sort of mimic a JS dictionary. But in this case, the compiler doesn't know that key X is actually of type Y, so it's totally useless in catching bugs.</p>\n<p>My conclusion is that it's not possible to have the same kind of static analysis in java that we have in Typescript. The Java compiler is just not made to propagate and update unnamed types as it goes on and catch those kinds of bugs.</p>\n"},{"tags":["java"],"owner":{"account_id":26685959,"reputation":1,"user_id":20295272,"display_name":"Gongas04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671289633,"creation_date":1671289599,"question_id":74835150,"body_markdown":"```\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\n        // Set up the gnuplot command and arguments\r\n        String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output &#39;plotS.png&#39;; plot &#39;graficoS.txt&#39; using 1:2 with lines&quot;};\r\n        String[] cmd2 = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output &#39;plotS.png&#39;; replot &#39;graficoI.txt&#39; using 1:3 with lines&quot;};\r\n        String[] cmd3 = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output &#39;plotS.png&#39;; replot &#39;graficoR.txt&#39; using 1:4 with lines&quot;};\r\n\r\n        // Start the processes\r\n        Process process = Runtime.getRuntime().exec(cmd);\r\n        process.waitFor();\r\n        Process process2 = Runtime.getRuntime().exec(cmd2);\r\n        process2.waitFor();\r\n        Process process3 = Runtime.getRuntime().exec(cmd3);\r\n        process3.waitFor();\r\n\r\n        // Read the output from the processes\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n        reader.close();\r\n```\r\n\r\nNot showing nothing on the png file , even the gnuplot graphic.\r\nIn different png files its working , but in the same it isn&#39;t.\r\n","title":"Error creating 3 different graphics in the same png file using gnuplot and java.lang.Runtime and without any Library","body":"<pre><code>public static void main(String[] args) throws IOException, InterruptedException {\n        // Set up the gnuplot command and arguments\n        String[] cmd = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output 'plotS.png'; plot 'graficoS.txt' using 1:2 with lines&quot;};\n        String[] cmd2 = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output 'plotS.png'; replot 'graficoI.txt' using 1:3 with lines&quot;};\n        String[] cmd3 = {&quot;gnuplot&quot;, &quot;-e&quot;, &quot;set terminal png; set output 'plotS.png'; replot 'graficoR.txt' using 1:4 with lines&quot;};\n\n        // Start the processes\n        Process process = Runtime.getRuntime().exec(cmd);\n        process.waitFor();\n        Process process2 = Runtime.getRuntime().exec(cmd2);\n        process2.waitFor();\n        Process process3 = Runtime.getRuntime().exec(cmd3);\n        process3.waitFor();\n\n        // Read the output from the processes\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n        reader.close();\n</code></pre>\n<p>Not showing nothing on the png file , even the gnuplot graphic.\nIn different png files its working , but in the same it isn't.</p>\n"},{"tags":["java","3d"],"comments":[{"owner":{"account_id":17593023,"reputation":826,"user_id":12764490,"display_name":"Tim Hunter"},"score":0,"creation_date":1611674162,"post_id":65903855,"comment_id":116523368,"body_markdown":"If you&#39;re okay with considering using C# instead, you may want to consider something like a [Arduino to Unity](https://www.alanzucconi.com/2015/10/07/how-to-integrate-arduino-with-unity/) connection since Unity, as a game engine, has a lot of these 3D modeling and control tools readily available. Just an idea to consider.","body":"If you&#39;re okay with considering using C# instead, you may want to consider something like a <a href=\"https://www.alanzucconi.com/2015/10/07/how-to-integrate-arduino-with-unity/\" rel=\"nofollow noreferrer\">Arduino to Unity</a> connection since Unity, as a game engine, has a lot of these 3D modeling and control tools readily available. Just an idea to consider."},{"owner":{"account_id":13990079,"reputation":11,"user_id":10104242,"display_name":"Gandalf1783"},"score":1,"creation_date":1611674433,"post_id":65903855,"comment_id":116523499,"body_markdown":"Yeah, I just know Java way better, except in these Graphics parts. However, I&#39;ll try Unity for now. I guess its more flexible overall.\nThanks for the idea though.","body":"Yeah, I just know Java way better, except in these Graphics parts. However, I&#39;ll try Unity for now. I guess its more flexible overall. Thanks for the idea though."}],"answers":[{"tags":[],"owner":{"account_id":13990079,"reputation":11,"user_id":10104242,"display_name":"Gandalf1783"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1671289513,"creation_date":1671289513,"answer_id":74835137,"question_id":65903855,"body_markdown":"Unity worked out for this, even though i was getting buggy behaviour.\r\nTherefore i tried out Processing, which turned out to work fine. There are some snippets online where you can pass in the values of your arduino and it just works out.\r\n\r\nI cannot provide more details since the project was abandoned.\r\n","title":"Java 3D Object Rendering with Yaw/Pitch/Roll","body":"<p>Unity worked out for this, even though i was getting buggy behaviour.\nTherefore i tried out Processing, which turned out to work fine. There are some snippets online where you can pass in the values of your arduino and it just works out.</p>\n<p>I cannot provide more details since the project was abandoned.</p>\n"}],"owner":{"account_id":13990079,"reputation":11,"user_id":10104242,"display_name":"Gandalf1783"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74835137,"answer_count":1,"score":0,"last_activity_date":1671289513,"creation_date":1611673651,"question_id":65903855,"body_markdown":"Im looking for a way of displaying a 3D Rectangle, which could be moved by the values a gyrosensor delivers from my arduino.\r\n\r\nI just don&#39;t know where to start with the Implementation of the 3D Space, the communication works fine.\r\n\r\nI did not find any useful information online, however, I just need a Window (Don&#39;t know, is JFrame enough for this) with a model that I can set x/y/z and yaw/pitch/roll etc.\r\n\r\nAre there libraries or code-examples?\r\n\r\nI did see one integration with JavaFX which I have never used yet, or the implementations were in other languages.","title":"Java 3D Object Rendering with Yaw/Pitch/Roll","body":"<p>Im looking for a way of displaying a 3D Rectangle, which could be moved by the values a gyrosensor delivers from my arduino.</p>\n<p>I just don't know where to start with the Implementation of the 3D Space, the communication works fine.</p>\n<p>I did not find any useful information online, however, I just need a Window (Don't know, is JFrame enough for this) with a model that I can set x/y/z and yaw/pitch/roll etc.</p>\n<p>Are there libraries or code-examples?</p>\n<p>I did see one integration with JavaFX which I have never used yet, or the implementations were in other languages.</p>\n"},{"tags":["java","excel","apache-poi","xlsx"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671289362,"creation_date":1671258937,"answer_id":74832243,"question_id":74824737,"body_markdown":"Microsoft Excel never stores localized formula strings.  It always stores en_US formula strings. So use `cell.setCellFormula(&quot;COUNTA(B10:B37)&quot;);` to make it work.\r\n\r\n`Cell.setCellFormula` always sets the formula string as stored directly into the file.\r\n\r\nThe Excel GUI will change that formula to the German version `=ANZAHL2(B10:B37)` after it had read the en_US formula string from the file storage.","title":"Apache POI Excel Formula entering @ Symbols","body":"<p>Microsoft Excel never stores localized formula strings.  It always stores en_US formula strings. So use <code>cell.setCellFormula(&quot;COUNTA(B10:B37)&quot;);</code> to make it work.</p>\n<p><code>Cell.setCellFormula</code> always sets the formula string as stored directly into the file.</p>\n<p>The Excel GUI will change that formula to the German version <code>=ANZAHL2(B10:B37)</code> after it had read the en_US formula string from the file storage.</p>\n"}],"owner":{"account_id":10921980,"reputation":77,"user_id":8027961,"display_name":"Josef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671289362,"creation_date":1671195224,"question_id":74824737,"body_markdown":"i generate an excel document with my application.\r\nI try to set a formula like this:\r\n\r\n    cell.setCellFormula(&quot;ANZAHL2(B10:B37&quot;);\r\n\r\nWhat gets generated in my Excel-File is this:\r\n\r\n    =@ANZAHL2(B10:B37)\r\n\r\nWhere does the @-Symbol come from?\r\n\r\nI have other cells where i just sum up different cell-values, and these work just fine\r\n\r\n    cell.setCellFormula(&quot;A5+A10&quot;);\r\n\r\ngives me\r\n \r\n    =(A5+A10)\r\n\r\nI found this thread\r\nhttps://stackoverflow.com/questions/62614172/apache-poi-excel-formula-entering-symbols-where-they-dont-belong\r\nbut the solution provided to put a &#39;_xlfn.&#39; in front of the aggregate-function doesnt work for me.\r\n\r\n    cell.setCellFormula(&quot;_xlfn.ANZAHL2(B10:B37&quot;);\r\n\r\nThanks in advance!","title":"Apache POI Excel Formula entering @ Symbols","body":"<p>i generate an excel document with my application.\nI try to set a formula like this:</p>\n<pre><code>cell.setCellFormula(&quot;ANZAHL2(B10:B37&quot;);\n</code></pre>\n<p>What gets generated in my Excel-File is this:</p>\n<pre><code>=@ANZAHL2(B10:B37)\n</code></pre>\n<p>Where does the @-Symbol come from?</p>\n<p>I have other cells where i just sum up different cell-values, and these work just fine</p>\n<pre><code>cell.setCellFormula(&quot;A5+A10&quot;);\n</code></pre>\n<p>gives me</p>\n<pre><code>=(A5+A10)\n</code></pre>\n<p>I found this thread\n<a href=\"https://stackoverflow.com/questions/62614172/apache-poi-excel-formula-entering-symbols-where-they-dont-belong\">Apache POI Excel Formula entering @ Symbols where they don&#39;t belong</a>\nbut the solution provided to put a '_xlfn.' in front of the aggregate-function doesnt work for me.</p>\n<pre><code>cell.setCellFormula(&quot;_xlfn.ANZAHL2(B10:B37&quot;);\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1671289258,"post_id":74834669,"comment_id":132069757,"body_markdown":"I tried to answer below, but going forward please read [how to ask a good question](https://stackoverflow.com/help/how-to-ask) and follow the guidance in there. It might also be good to read up on what a [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) is.","body":"I tried to answer below, but going forward please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and follow the guidance in there. It might also be good to read up on what a <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> is."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671289189,"creation_date":1671289189,"answer_id":74835105,"question_id":74834669,"body_markdown":"The UID of a user is determined by the authentication provider. It can&#39;t be set from client-side application code, as that would be a security risk.\r\n\r\nIf you want to determine the UID of your users, you can [implement your own provider](https://firebase.google.com/docs/auth/android/custom-auth). Note that this will include writing code that runs in a trusted environment, such as a server that you control, or Cloud Functions/Cloud Run.\r\n\r\nAlternatively you can implement a mapping from the UID of the user to whatever ID system you want to use in your database.","title":"How to change user.getid in firebase","body":"<p>The UID of a user is determined by the authentication provider. It can't be set from client-side application code, as that would be a security risk.</p>\n<p>If you want to determine the UID of your users, you can <a href=\"https://firebase.google.com/docs/auth/android/custom-auth\" rel=\"nofollow noreferrer\">implement your own provider</a>. Note that this will include writing code that runs in a trusted environment, such as a server that you control, or Cloud Functions/Cloud Run.</p>\n<p>Alternatively you can implement a mapping from the UID of the user to whatever ID system you want to use in your database.</p>\n"}],"owner":{"account_id":25437524,"reputation":13,"user_id":19241020,"display_name":"samer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671289189,"creation_date":1671285341,"question_id":74834669,"body_markdown":"  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n    public void register(final String username, final String fullname, String email, String password) {\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        pd.show();\r\n                        FirebaseUser firebaseUser = auth.getCurrentUser();\r\n                        String userID =&quot;Queenlab@&quot;+firebaseUser.getUid();\r\n                        //  circleIV.setImageDrawable(drawable2);\r\n\r\n                        reference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userID);\r\n                        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                        map.put(&quot;id&quot;,userID);\r\n                        map.put(&quot;username&quot;, username.toLowerCase());\r\n                        map.put(&quot;fullname&quot;, fullname);\r\n                        map.put(&quot;imageurl&quot;, &quot;https://th.bing.com/th/id/OIP.PXxWJplK9ObsWdxdFCqLOwHaE8?pid=ImgDet&amp;rs=1&quot;);\r\n                        map.put(&quot;bio&quot;, &quot;&quot;);\r\n                        map.put(&quot;instgram&quot;, &quot;&quot;);    \r\n\r\n                        reference.setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(RegisterActivity.this, &quot;Register sccessful sending Email Verification&quot;, Toast.LENGTH_SHORT).show();\r\n                                    sendVerificationEmail();\r\n                                    auth.signOut();\r\n                                    Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n                                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                    startActivity(intent);\r\n                                }\r\n                            }\r\n                        });\r\n                    } else {\r\n                        pd.dismiss();\r\n                        Toast.makeText(RegisterActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e8tUJ.jpg\r\n\r\n","title":"How to change user.getid in firebase","body":"<p><a href=\"https://i.stack.imgur.com/e8tUJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8tUJ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void register(final String username, final String fullname, String email, String password) {\n    auth.createUserWithEmailAndPassword(email, password)\n        .addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                if (task.isSuccessful()) {\n                    pd.show();\n                    FirebaseUser firebaseUser = auth.getCurrentUser();\n                    String userID =&quot;Queenlab@&quot;+firebaseUser.getUid();\n                    //  circleIV.setImageDrawable(drawable2);\n\n                    reference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userID);\n                    HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                    map.put(&quot;id&quot;,userID);\n                    map.put(&quot;username&quot;, username.toLowerCase());\n                    map.put(&quot;fullname&quot;, fullname);\n                    map.put(&quot;imageurl&quot;, &quot;https://th.bing.com/th/id/OIP.PXxWJplK9ObsWdxdFCqLOwHaE8?pid=ImgDet&amp;rs=1&quot;);\n                    map.put(&quot;bio&quot;, &quot;&quot;);\n                    map.put(&quot;instgram&quot;, &quot;&quot;);    \n\n                    reference.setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if (task.isSuccessful()) {\n                                Toast.makeText(RegisterActivity.this, &quot;Register sccessful sending Email Verification&quot;, Toast.LENGTH_SHORT).show();\n                                sendVerificationEmail();\n                                auth.signOut();\n                                Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);\n                                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                startActivity(intent);\n                            }\n                        }\n                    });\n                } else {\n                    pd.dismiss();\n                    Toast.makeText(RegisterActivity.this, task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1671459022,"post_id":74835050,"comment_id":132097259,"body_markdown":"Have you tried &quot;Move to&quot; action under cog wheel in project tool window? To show editor tabs you need to enable them in &quot;Settings/Preferences | Editor | General | Editor Tabs&quot; while you&#39;re in distraction free mode.","body":"Have you tried &quot;Move to&quot; action under cog wheel in project tool window? To show editor tabs you need to enable them in &quot;Settings/Preferences | Editor | General | Editor Tabs&quot; while you&#39;re in distraction free mode."}],"owner":{"account_id":12870550,"reputation":11,"user_id":9309168,"display_name":"Anindra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671288757,"creation_date":1671288757,"question_id":74835050,"body_markdown":"Almost every time I use distraction free mode on Intellij, but when I open project tab it&#39;s open always left side and it is distractive. So I want to move it left to right permanently.Example: [![Screenshot when Project tab on right ][1]][1]\r\n Also is there is any way to show tabs in Distraction-free mode? It will me helpful for me. Example: [![Tabs on Intellij IDEA][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pd9Bn.jpg\r\n  [2]: https://i.stack.imgur.com/s3keR.png","title":"How do I move the project tab to the left or right side of the editor window in IntelliJ IDEA, and how can I show tabs in the Distraction-free mode?","body":"<p>Almost every time I use distraction free mode on Intellij, but when I open project tab it's open always left side and it is distractive. So I want to move it left to right permanently.Example: <a href=\"https://i.stack.imgur.com/Pd9Bn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pd9Bn.jpg\" alt=\"Screenshot when Project tab on right \" /></a>\nAlso is there is any way to show tabs in Distraction-free mode? It will me helpful for me. Example: <a href=\"https://i.stack.imgur.com/s3keR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s3keR.png\" alt=\"Tabs on Intellij IDEA\" /></a></p>\n"},{"tags":["java","android","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671288661,"creation_date":1671288661,"answer_id":74835039,"question_id":74834782,"body_markdown":"From the Firestore documentation on [query limits](https://firebase.google.com/docs/firestore/query-data/queries#query_limitations):\r\n\r\n&gt; In a compound query, range (`&lt;`, `&lt;=`, `&gt;`, `&gt;=`) and not equals (`!=`, `not-in`) comparisons must all filter on the same field.\r\n\r\nSince `startAt` and `endAt` are jut aliases of `&gt;=` and `&lt;=`, those are also part of this limit.\r\n\r\nSo you won&#39;t be able to filter for `&gt;=` on `timeIn` *and* search the `name` using `startAt`/`endAt`. You can only perform range conditions on one of them, and will have to perform further filtering in your application code.\r\n\r\nIf you want to learn more on why this limit exists, check out episode 2 of [Get to know Cloud Firestore](https://firestore.video) on [How do queries work in Cloud Firestore?](https://www.youtube.com/watch?v=Ofux_4c94FI&amp;list=PLl-K7zZEsYLluG5MCVEzXAQ7ACZBCuZgZ&amp;index=2&amp;t=5s) I also gave an introduction to this in a talk a few years ago on [Querying Firebase and Firestore](https://www.youtube.com/watch?v=mx1mMdHBi5Q).","title":"How to use whereGreaterThanOrEqualTo() for different field and startAt() endAt() for different field at the same time","body":"<p>From the Firestore documentation on <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#query_limitations\" rel=\"nofollow noreferrer\">query limits</a>:</p>\n<blockquote>\n<p>In a compound query, range (<code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>) and not equals (<code>!=</code>, <code>not-in</code>) comparisons must all filter on the same field.</p>\n</blockquote>\n<p>Since <code>startAt</code> and <code>endAt</code> are jut aliases of <code>&gt;=</code> and <code>&lt;=</code>, those are also part of this limit.</p>\n<p>So you won't be able to filter for <code>&gt;=</code> on <code>timeIn</code> <em>and</em> search the <code>name</code> using <code>startAt</code>/<code>endAt</code>. You can only perform range conditions on one of them, and will have to perform further filtering in your application code.</p>\n<p>If you want to learn more on why this limit exists, check out episode 2 of <a href=\"https://firestore.video\" rel=\"nofollow noreferrer\">Get to know Cloud Firestore</a> on <a href=\"https://www.youtube.com/watch?v=Ofux_4c94FI&amp;list=PLl-K7zZEsYLluG5MCVEzXAQ7ACZBCuZgZ&amp;index=2&amp;t=5s\" rel=\"nofollow noreferrer\">How do queries work in Cloud Firestore?</a> I also gave an introduction to this in a talk a few years ago on <a href=\"https://www.youtube.com/watch?v=mx1mMdHBi5Q\" rel=\"nofollow noreferrer\">Querying Firebase and Firestore</a>.</p>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671288661,"creation_date":1671286375,"question_id":74834782,"body_markdown":"I want to filter my user collection based on `timeIn` and `fullName`. For example, I want to get all users that have `timeIn &gt;= today` and search the name of a user using `startAt`, `endAt`.\r\n\r\nThis is what I did but it&#39;s not working:\r\n\r\n    private void load() {\r\n        Query query = db.collection(&quot;Monitoring&quot;);\r\n\r\n        if(!course.isEmpty()){\r\n            query = query.whereEqualTo(&quot;course&quot;, course);\r\n        }\r\n\r\n        if(!year.isEmpty()){\r\n            query = query.whereEqualTo(&quot;year&quot;, year);\r\n        }\r\n\r\n        if(!block.isEmpty()){\r\n            query = query.whereEqualTo(&quot;block&quot;, block);\r\n        }\r\n\r\n        query = query.whereGreaterThanOrEqualTo(&quot;timeIn&quot;, 1671298034).orderBy(&quot;timeIn&quot;);\r\n\r\n        if(selectedToDate != null){\r\n            query = query.whereLessThanOrEqualTo(&quot;timeIn&quot;, selectedToDate);\r\n        }\r\n\r\n        if(!search.isEmpty()){\r\n            query = query.orderBy(&quot;fullName&quot;).startAt(search).endAt(search + &#39;\\uf8ff&#39;);\r\n        }\r\n\r\n        FirestoreRecyclerOptions&lt;Monitoring&gt; options = new FirestoreRecyclerOptions.Builder&lt;Monitoring&gt;()\r\n                .setQuery(query, Monitoring.class)\r\n                .build();\r\n\r\n        Listener listener = new Listener() {\r\n            @Override\r\n            public void setTotal(int total) {\r\n                if(total &gt; 0){\r\n                    tv_noresult.setVisibility(View.INVISIBLE);\r\n                }else{\r\n                    tv_noresult.setVisibility(View.VISIBLE);\r\n                }\r\n                tv_total.setText(String.valueOf(total));\r\n            }\r\n        };\r\n\r\n        attendanceAdapter = new AttendanceAdapter(options, getContext(), listener);\r\n        rv.setAdapter(attendanceAdapter);\r\n        attendanceAdapter.startListening();\r\n    }\r\n\r\n","title":"How to use whereGreaterThanOrEqualTo() for different field and startAt() endAt() for different field at the same time","body":"<p>I want to filter my user collection based on <code>timeIn</code> and <code>fullName</code>. For example, I want to get all users that have <code>timeIn &gt;= today</code> and search the name of a user using <code>startAt</code>, <code>endAt</code>.</p>\n<p>This is what I did but it's not working:</p>\n<pre><code>private void load() {\n    Query query = db.collection(&quot;Monitoring&quot;);\n\n    if(!course.isEmpty()){\n        query = query.whereEqualTo(&quot;course&quot;, course);\n    }\n\n    if(!year.isEmpty()){\n        query = query.whereEqualTo(&quot;year&quot;, year);\n    }\n\n    if(!block.isEmpty()){\n        query = query.whereEqualTo(&quot;block&quot;, block);\n    }\n\n    query = query.whereGreaterThanOrEqualTo(&quot;timeIn&quot;, 1671298034).orderBy(&quot;timeIn&quot;);\n\n    if(selectedToDate != null){\n        query = query.whereLessThanOrEqualTo(&quot;timeIn&quot;, selectedToDate);\n    }\n\n    if(!search.isEmpty()){\n        query = query.orderBy(&quot;fullName&quot;).startAt(search).endAt(search + '\\uf8ff');\n    }\n\n    FirestoreRecyclerOptions&lt;Monitoring&gt; options = new FirestoreRecyclerOptions.Builder&lt;Monitoring&gt;()\n            .setQuery(query, Monitoring.class)\n            .build();\n\n    Listener listener = new Listener() {\n        @Override\n        public void setTotal(int total) {\n            if(total &gt; 0){\n                tv_noresult.setVisibility(View.INVISIBLE);\n            }else{\n                tv_noresult.setVisibility(View.VISIBLE);\n            }\n            tv_total.setText(String.valueOf(total));\n        }\n    };\n\n    attendanceAdapter = new AttendanceAdapter(options, getContext(), listener);\n    rv.setAdapter(attendanceAdapter);\n    attendanceAdapter.startListening();\n}\n</code></pre>\n"},{"tags":["java","cordova","plugins"],"owner":{"account_id":6965032,"reputation":99,"user_id":6937460,"display_name":"Guilherme Lirio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671288500,"creation_date":1663011150,"question_id":73694404,"body_markdown":"I created a plugin in cordova to open a new activity with a predetermined URL, which is working perfectly.\r\n\r\nBut I wanted to create a command to be able to close it, but I&#39;m not able to.\r\n\r\nWhen I use the **AbrirHTML.close()** function, nothing happens.\r\n\r\nHow do I resolve this?\r\n\r\n***AbrirHTML.js***\r\n\r\n    var exec = require(&#39;cordova/exec&#39;);\r\n    \r\n    function plugin() {\r\n    \r\n    }\r\n    \r\n    plugin.prototype.open = function (params) {\r\n        exec(function (res) {\r\n            console.log(&#39;params&#39;, params)\r\n            console.log(&#39;res&#39;, res);\r\n        }, function (err) {\r\n            console.log(err);\r\n        }, &quot;AbrirHTML&quot;, &quot;open&quot;, [params]);\r\n    }\r\n    \r\n    plugin.prototype.close = function (params) {\r\n        exec(function (res) {\r\n            console.log(&#39;res&#39;, res);\r\n        }, function (err) {\r\n            console.log(err);\r\n        }, &quot;AbrirHTML&quot;, &quot;close&quot;, null);\r\n    \r\n    }\r\n    \r\n    module.exports = new plugin();\r\n\r\n***plugin.xml***\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;plugin id=&quot;com.actionsistemas.abrirhtml&quot; version=&quot;0.0.1&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;name&gt;AbrirHTML&lt;/name&gt;\r\n        &lt;js-module name=&quot;AbrirHTML&quot; src=&quot;www/AbrirHTML.js&quot;&gt;\r\n            &lt;clobbers target=&quot;AbrirHTML&quot; /&gt;\r\n        &lt;/js-module&gt;\r\n        &lt;platform name=&quot;android&quot;&gt;\r\n            &lt;config-file parent=&quot;/*&quot; target=&quot;res/xml/config.xml&quot;&gt;\r\n                &lt;feature name=&quot;AbrirHTML&quot;&gt;\r\n                    &lt;param name=&quot;android-package&quot; value=&quot;com.actionsistemas.abrirhtml.AbrirHTML&quot; /&gt;\r\n                &lt;/feature&gt;\r\n            &lt;/config-file&gt;\r\n            &lt;config-file target=&quot;AndroidManifest.xml&quot; parent=&quot;/manifest/application&quot;&gt;\r\n                &lt;activity android:label=&quot;Menu&quot; android:name=&quot;com.actionsistemas.abrirhtml.NewActivity&quot; android:theme=&quot;@style/Theme.Transparent&quot;&gt;&lt;/activity&gt;\r\n            &lt;/config-file&gt;\r\n            &lt;config-file parent=&quot;/*&quot; target=&quot;AndroidManifest.xml&quot;&gt;&lt;/config-file&gt;\r\n            &lt;source-file src=&quot;src/android/AbrirHTML.java&quot; target-dir=&quot;src/com/actionsistemas/abrirhtml&quot; /&gt;\r\n            &lt;source-file src=&quot;src/android/NewActivity.java&quot; target-dir=&quot;src/com/actionsistemas/abrirhtml&quot; /&gt;\r\n            &lt;source-file src=&quot;src/android/activity_new.xml&quot; target-dir=&quot;res/layout&quot;/&gt;\r\n        &lt;/platform&gt;\r\n    &lt;/plugin&gt;\r\n\r\n***AbrirHTML.java***\r\n\r\n    package com.actionsistemas.abrirhtml;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    \r\n    import org.apache.cordova.CordovaPlugin;\r\n    import org.apache.cordova.CallbackContext;\r\n    import org.apache.cordova.CordovaWebView;\r\n    import org.apache.cordova.CordovaInterface;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class AbrirHTML extends CordovaPlugin {\r\n    \r\n        public void initialize(CordovaInterface cordova, CordovaWebView webView) {\r\n            super.initialize(cordova, webView);\r\n        }\r\n    \r\n        @Override\r\n        public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {\r\n            Context context = cordova.getActivity().getApplicationContext();\r\n            if(action.equals(&quot;open&quot;)) {\r\n                String url = args.getString(0);\r\n                Log.e(&quot;*** URL ***&quot;, url);\r\n                this.openNewActivity(context, url);\r\n                return true;\r\n            } else if(action.equals(&quot;close&quot;)){\r\n                this.closeNewActivity(context);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private void openNewActivity(Context context, String url) {\r\n            Intent intent = new Intent(context, NewActivity.class);\r\n            intent.putExtra(&quot;url&quot;, url);\r\n            this.cordova.getActivity().startActivity(intent);\r\n        }\r\n    \r\n        private void closeNewActivity(Context context) {\r\n            //Intent intent = new Intent(context, NewActivity.class);\r\n            this.cordova.getActivity().finish();\r\n        }\r\n    }\r\n\r\n\r\n***NewActivity.java***\r\n\r\n    package com.actionsistemas.abrirhtml;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.util.Log;\r\n    \r\n    public class NewActivity extends Activity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            String package_name = getApplication().getPackageName();\r\n            Intent intent = getIntent();\r\n            String html = intent.getStringExtra(&quot;url&quot;);\r\n            Log.e(&quot;*** HTML ***&quot;, html);\r\n            setContentView(getApplication().getResources().getIdentifier(&quot;activity_new&quot;, &quot;layout&quot;, package_name));\r\n            WebView webView = (WebView) findViewById(getApplication().getResources().getIdentifier(&quot;web1&quot;, &quot;id&quot;, package_name));  \r\n            WebSettings settings = webView.getSettings();\r\n            settings.setSupportMultipleWindows(true);\r\n            settings.setJavaScriptCanOpenWindowsAutomatically(false);\r\n            settings.setAllowFileAccessFromFileURLs(true);\r\n            settings.setAllowUniversalAccessFromFileURLs(true);\r\n            settings.setJavaScriptEnabled(true);\r\n            settings.setDomStorageEnabled(true);\r\n            settings.setCacheMode(2);\r\n            webView.clearCache(true);\r\n            webView.setBackgroundColor(0);\r\n    \t\twebView.setLayerType(WebView.LAYER_TYPE_SOFTWARE, null);\r\n            //webView.loadUrl(&quot;file:///android_asset/www/menu.html&quot;);\r\n            webView.loadUrl(html);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            String package_name = getApplication().getPackageName();\r\n            WebView webView = (WebView) findViewById(getApplication().getResources().getIdentifier(&quot;web1&quot;, &quot;id&quot;, package_name));  \r\n            webView.destroy();\r\n        }\r\n    }","title":"Close a new Activity in Cordova Plugin","body":"<p>I created a plugin in cordova to open a new activity with a predetermined URL, which is working perfectly.</p>\n<p>But I wanted to create a command to be able to close it, but I'm not able to.</p>\n<p>When I use the <strong>AbrirHTML.close()</strong> function, nothing happens.</p>\n<p>How do I resolve this?</p>\n<p><em><strong>AbrirHTML.js</strong></em></p>\n<pre><code>var exec = require('cordova/exec');\n\nfunction plugin() {\n\n}\n\nplugin.prototype.open = function (params) {\n    exec(function (res) {\n        console.log('params', params)\n        console.log('res', res);\n    }, function (err) {\n        console.log(err);\n    }, &quot;AbrirHTML&quot;, &quot;open&quot;, [params]);\n}\n\nplugin.prototype.close = function (params) {\n    exec(function (res) {\n        console.log('res', res);\n    }, function (err) {\n        console.log(err);\n    }, &quot;AbrirHTML&quot;, &quot;close&quot;, null);\n\n}\n\nmodule.exports = new plugin();\n</code></pre>\n<p><em><strong>plugin.xml</strong></em></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;plugin id=&quot;com.actionsistemas.abrirhtml&quot; version=&quot;0.0.1&quot; xmlns=&quot;http://apache.org/cordova/ns/plugins/1.0&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;name&gt;AbrirHTML&lt;/name&gt;\n    &lt;js-module name=&quot;AbrirHTML&quot; src=&quot;www/AbrirHTML.js&quot;&gt;\n        &lt;clobbers target=&quot;AbrirHTML&quot; /&gt;\n    &lt;/js-module&gt;\n    &lt;platform name=&quot;android&quot;&gt;\n        &lt;config-file parent=&quot;/*&quot; target=&quot;res/xml/config.xml&quot;&gt;\n            &lt;feature name=&quot;AbrirHTML&quot;&gt;\n                &lt;param name=&quot;android-package&quot; value=&quot;com.actionsistemas.abrirhtml.AbrirHTML&quot; /&gt;\n            &lt;/feature&gt;\n        &lt;/config-file&gt;\n        &lt;config-file target=&quot;AndroidManifest.xml&quot; parent=&quot;/manifest/application&quot;&gt;\n            &lt;activity android:label=&quot;Menu&quot; android:name=&quot;com.actionsistemas.abrirhtml.NewActivity&quot; android:theme=&quot;@style/Theme.Transparent&quot;&gt;&lt;/activity&gt;\n        &lt;/config-file&gt;\n        &lt;config-file parent=&quot;/*&quot; target=&quot;AndroidManifest.xml&quot;&gt;&lt;/config-file&gt;\n        &lt;source-file src=&quot;src/android/AbrirHTML.java&quot; target-dir=&quot;src/com/actionsistemas/abrirhtml&quot; /&gt;\n        &lt;source-file src=&quot;src/android/NewActivity.java&quot; target-dir=&quot;src/com/actionsistemas/abrirhtml&quot; /&gt;\n        &lt;source-file src=&quot;src/android/activity_new.xml&quot; target-dir=&quot;res/layout&quot;/&gt;\n    &lt;/platform&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><em><strong>AbrirHTML.java</strong></em></p>\n<pre><code>package com.actionsistemas.abrirhtml;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport org.apache.cordova.CordovaPlugin;\nimport org.apache.cordova.CallbackContext;\nimport org.apache.cordova.CordovaWebView;\nimport org.apache.cordova.CordovaInterface;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class AbrirHTML extends CordovaPlugin {\n\n    public void initialize(CordovaInterface cordova, CordovaWebView webView) {\n        super.initialize(cordova, webView);\n    }\n\n    @Override\n    public boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {\n        Context context = cordova.getActivity().getApplicationContext();\n        if(action.equals(&quot;open&quot;)) {\n            String url = args.getString(0);\n            Log.e(&quot;*** URL ***&quot;, url);\n            this.openNewActivity(context, url);\n            return true;\n        } else if(action.equals(&quot;close&quot;)){\n            this.closeNewActivity(context);\n            return true;\n        }\n        return false;\n    }\n\n    private void openNewActivity(Context context, String url) {\n        Intent intent = new Intent(context, NewActivity.class);\n        intent.putExtra(&quot;url&quot;, url);\n        this.cordova.getActivity().startActivity(intent);\n    }\n\n    private void closeNewActivity(Context context) {\n        //Intent intent = new Intent(context, NewActivity.class);\n        this.cordova.getActivity().finish();\n    }\n}\n</code></pre>\n<p><em><strong>NewActivity.java</strong></em></p>\n<pre><code>package com.actionsistemas.abrirhtml;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.util.Log;\n\npublic class NewActivity extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        String package_name = getApplication().getPackageName();\n        Intent intent = getIntent();\n        String html = intent.getStringExtra(&quot;url&quot;);\n        Log.e(&quot;*** HTML ***&quot;, html);\n        setContentView(getApplication().getResources().getIdentifier(&quot;activity_new&quot;, &quot;layout&quot;, package_name));\n        WebView webView = (WebView) findViewById(getApplication().getResources().getIdentifier(&quot;web1&quot;, &quot;id&quot;, package_name));  \n        WebSettings settings = webView.getSettings();\n        settings.setSupportMultipleWindows(true);\n        settings.setJavaScriptCanOpenWindowsAutomatically(false);\n        settings.setAllowFileAccessFromFileURLs(true);\n        settings.setAllowUniversalAccessFromFileURLs(true);\n        settings.setJavaScriptEnabled(true);\n        settings.setDomStorageEnabled(true);\n        settings.setCacheMode(2);\n        webView.clearCache(true);\n        webView.setBackgroundColor(0);\n        webView.setLayerType(WebView.LAYER_TYPE_SOFTWARE, null);\n        //webView.loadUrl(&quot;file:///android_asset/www/menu.html&quot;);\n        webView.loadUrl(html);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        String package_name = getApplication().getPackageName();\n        WebView webView = (WebView) findViewById(getApplication().getResources().getIdentifier(&quot;web1&quot;, &quot;id&quot;, package_name));  \n        webView.destroy();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sockets","spring-integration-ip"],"owner":{"account_id":1871818,"reputation":705,"user_id":1693871,"accept_rate":23,"display_name":"pincoin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671288071,"creation_date":1671287613,"question_id":74834917,"body_markdown":"I am now making TCP socket server using Spring boot integration ip.\r\n\r\n\r\n```java\r\npublic AbstractServerConnectionFactory serverConnectionFactory() {\r\n    TcpNioServerConnectionFactory serverConnectionFactory = new TcpNioServerConnectionFactory(port);\r\n    serverConnectionFactory.setUsingDirectBuffers(true);\r\n    serverConnectionFactory.setSoTcpNoDelay(true);\r\n    serverConnectionFactory.setSoKeepAlive(true);\r\n    serverConnectionFactory.setSoTimeout(5);\r\n    serverConnectionFactory.setSingleUse(false);\r\n\r\n\r\n    // I use ByteArrayStxEtxSerializer provided by Spring boot.\r\n    serverConnectionFactory.setSerializer(SERIALIZER);\r\n    serverConnectionFactory.setDeserializer(SERIALIZER);\r\n\r\n    return serverConnectionFactory;\r\n}\r\n```\r\n\r\nMy test client code is like this:\r\n\r\n```\r\nSocket sock = new Socket(&quot;127.0.0.1&quot;, 8081);\r\n\r\nOutputStream os = new BufferedOutputStream(sock.getOutputStream());\r\nBufferedReader br = new BufferedReader(new InputStreamReader(sock.getInputStream()));\r\n\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\nbaos.write(0x02); // STX\r\nbaos.write(0x41); // A\r\nbaos.write(0x03); // ETX\r\n\r\nSystem.out.println(Arrays.toString(baos.toByteArray()));\r\nos.write(baos.toByteArray());\r\nos.flush();\r\n\r\nString line = null;\r\n\r\nwhile ((line = br.readLine()) != null) {\r\n    System.out.println(&quot;from server: &quot; + line);\r\n}\r\n\r\nos.close();\r\nbr.close();\r\nsock.close();\r\n```\r\n\r\nIn order to flush output stream into client, I need to set `setSingleUse(true)` or `setSoTimeout(n)`. Otherwise, it blocks for a while.\r\n\r\n\r\nI read the following from the official document:\r\n\r\n&gt; An outbound TCP gateway is provided. It allows for simple\r\n&gt; request-response processing. If the associated connection factory is\r\n&gt; configured for single-use connections, a new connection is immediately\r\n&gt; created for each new request. Otherwise, if the connection is in use,\r\n&gt; the calling thread blocks on the connection until either a response is\r\n&gt; received or a timeout or I/O error occurs.\r\n\r\nI think my test client waits until timeout for about 2 minutes if I don&#39;t set `single-use` or `timeout`.\r\n\r\nHow can I force the server to flush output stream into socket instead of `single-use` or `timeout`?\r\n\r\nThank you.","title":"spring boot integration ip (tcp) force flush in order to respond","body":"<p>I am now making TCP socket server using Spring boot integration ip.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AbstractServerConnectionFactory serverConnectionFactory() {\n    TcpNioServerConnectionFactory serverConnectionFactory = new TcpNioServerConnectionFactory(port);\n    serverConnectionFactory.setUsingDirectBuffers(true);\n    serverConnectionFactory.setSoTcpNoDelay(true);\n    serverConnectionFactory.setSoKeepAlive(true);\n    serverConnectionFactory.setSoTimeout(5);\n    serverConnectionFactory.setSingleUse(false);\n\n\n    // I use ByteArrayStxEtxSerializer provided by Spring boot.\n    serverConnectionFactory.setSerializer(SERIALIZER);\n    serverConnectionFactory.setDeserializer(SERIALIZER);\n\n    return serverConnectionFactory;\n}\n</code></pre>\n<p>My test client code is like this:</p>\n<pre><code>Socket sock = new Socket(&quot;127.0.0.1&quot;, 8081);\n\nOutputStream os = new BufferedOutputStream(sock.getOutputStream());\nBufferedReader br = new BufferedReader(new InputStreamReader(sock.getInputStream()));\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\n\nbaos.write(0x02); // STX\nbaos.write(0x41); // A\nbaos.write(0x03); // ETX\n\nSystem.out.println(Arrays.toString(baos.toByteArray()));\nos.write(baos.toByteArray());\nos.flush();\n\nString line = null;\n\nwhile ((line = br.readLine()) != null) {\n    System.out.println(&quot;from server: &quot; + line);\n}\n\nos.close();\nbr.close();\nsock.close();\n</code></pre>\n<p>In order to flush output stream into client, I need to set <code>setSingleUse(true)</code> or <code>setSoTimeout(n)</code>. Otherwise, it blocks for a while.</p>\n<p>I read the following from the official document:</p>\n<blockquote>\n<p>An outbound TCP gateway is provided. It allows for simple\nrequest-response processing. If the associated connection factory is\nconfigured for single-use connections, a new connection is immediately\ncreated for each new request. Otherwise, if the connection is in use,\nthe calling thread blocks on the connection until either a response is\nreceived or a timeout or I/O error occurs.</p>\n</blockquote>\n<p>I think my test client waits until timeout for about 2 minutes if I don't set <code>single-use</code> or <code>timeout</code>.</p>\n<p>How can I force the server to flush output stream into socket instead of <code>single-use</code> or <code>timeout</code>?</p>\n<p>Thank you.</p>\n"},{"tags":["java","netbeans","type-hinting"],"owner":{"account_id":25825820,"reputation":1,"user_id":19563966,"display_name":"Big Roma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671287999,"answer_count":0,"score":0,"last_activity_date":1671287916,"creation_date":1671287898,"question_id":74834951,"body_markdown":"[enter image description here](https://i.stack.imgur.com/iIkhT.png)\r\n\r\n\r\n\r\nI don&#39;t know if this happens in other situations besides StringBuilder, I don&#39;t remember. But it&#39;s pretty annoying that little gray text that says &quot;str:&quot;.\r\nI don&#39;t know if it&#39;s some kind of hint, but I&#39;d like to know how to disable it.\r\n\r\nI have tried to solve it in &quot;Tools - Options - Editor - Hints&quot; turning different options on and off, but I have not managed to disable it yet\r\n\r\n","title":"How to disable little text &quot;str:&quot; hints on NetBeans 16?","body":"<p><a href=\"https://i.stack.imgur.com/iIkhT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know if this happens in other situations besides StringBuilder, I don't remember. But it's pretty annoying that little gray text that says &quot;str:&quot;.\nI don't know if it's some kind of hint, but I'd like to know how to disable it.</p>\n<p>I have tried to solve it in &quot;Tools - Options - Editor - Hints&quot; turning different options on and off, but I have not managed to disable it yet</p>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671264886,"post_id":74832492,"comment_id":132065994,"body_markdown":"What happens if you print `y` instead of `x`?","body":"What happens if you print <code>y</code> instead of <code>x</code>?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1671271042,"post_id":74832492,"comment_id":132066725,"body_markdown":"Your issue is one of semantics. The common Fibonacci number sequence (F) is 0,1,1,2,3,5,8,13... and the *`nth`* Fibonacci number is F(n) = F(n-1)+F(n-2) with F(0) = 0 and F(1) = 1. So your prompt is requesting **`n`** and so F(7) does indeed = 13. Your code produces the correct answer. Also, &quot;when I enter 1, it shows 0&quot;; this is not true: your code produces 1 when 1 is entered.  This is what I get when i enter &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, etc... `0 1 1 2 3 5&quot; which is correct.  [Reference](https://oeis.org/search?q=fibonacci&amp;language=english&amp;go=Search)","body":"Your issue is one of semantics. The common Fibonacci number sequence (F) is 0,1,1,2,3,5,8,13... and the <i><code>nth</code></i> Fibonacci number is F(n) = F(n-1)+F(n-2) with F(0) = 0 and F(1) = 1. So your prompt is requesting <b><code>n</code></b> and so F(7) does indeed = 13. Your code produces the correct answer. Also, &quot;when I enter 1, it shows 0&quot;; this is not true: your code produces 1 when 1 is entered.  This is what I get when i enter &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, etc... `0 1 1 2 3 5&quot; which is correct.  <a href=\"https://oeis.org/search?q=fibonacci&amp;language=english&amp;go=Search\" rel=\"nofollow noreferrer\">Reference</a>"}],"answers":[{"tags":[],"owner":{"account_id":27279765,"reputation":22,"user_id":20799830,"display_name":"Spandan Chakrabarty"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1671263217,"creation_date":1671263217,"answer_id":74832543,"question_id":74832492,"body_markdown":"you will have to change the for condition to i &lt;= n-1 and make a separate condition for when it is the first term.\r\nFibonacci series is 1 1 2 3 5 8 13\r\nbut according to your code it is taking it as 1 2 3 5 8 13 ","title":"Java code shows wrong Fibonacci number in Fibonacci sequence","body":"<p>you will have to change the for condition to i &lt;= n-1 and make a separate condition for when it is the first term.\nFibonacci series is 1 1 2 3 5 8 13\nbut according to your code it is taking it as 1 2 3 5 8 13</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1671266714,"post_id":74832548,"comment_id":132066186,"body_markdown":"How does that differ from the code in the question? Note that answers which *just* have code with zero explanation are rarely useful.","body":"How does that differ from the code in the question? Note that answers which <i>just</i> have code with zero explanation are rarely useful."}],"tags":[],"owner":{"account_id":21760253,"reputation":9,"user_id":16064924,"display_name":"0x0"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671263280,"creation_date":1671263280,"answer_id":74832548,"question_id":74832492,"body_markdown":"Try this\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;In: &quot;);\r\n    int n = input.nextInt();\r\n    \r\n    int x = 0;\r\n    int y = 1;\r\n    int a;\r\n    \r\n    for (int i = 1; i &lt;= n; i++) {\r\n      a = x + y;\r\n      x = y;\r\n      y = a;\r\n    }\r\n    System.out.print(x + &quot; &quot;);\r\n\r\n","title":"Java code shows wrong Fibonacci number in Fibonacci sequence","body":"<p>Try this</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;In: &quot;);\nint n = input.nextInt();\n\nint x = 0;\nint y = 1;\nint a;\n\nfor (int i = 1; i &lt;= n; i++) {\n  a = x + y;\n  x = y;\n  y = a;\n}\nSystem.out.print(x + &quot; &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14744999,"reputation":1,"user_id":10648626,"display_name":"Kim Kahler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671266463,"creation_date":1671266463,"answer_id":74832796,"question_id":74832492,"body_markdown":"Spandan is correct, if you modify your code to the below you will get the correct response all the way from 1 and up...\r\n\r\nNote: \r\n1. The loop now iterates only as long as i&lt;n which removes the unwanted result. \r\n\r\n2. The loop though will never produce the first number in the sequence (zero) as the first iteration can not be lower than one. For that reason I have added the print of X before the loop runs the first time. \r\n\r\nI hope this helps :)\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Fibonacci {\r\n      public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of terms: &quot;);\r\n        int n = input.nextInt();\r\n    \r\n        int x = 0;\r\n        int y = 1;\r\n        int a;\r\n    \r\n        System.out.print(&quot;Fibonacci sequence: &quot;);\r\n        System.out.print(x + &quot; &quot;);\r\n         \r\n        for (int i = 1; i &lt; n; i++) {\r\n          a = x + y;\r\n          x = y;\r\n          y = a;\r\n          System.out.print(x + &quot; &quot;);\r\n        }\r\n      }\r\n    }","title":"Java code shows wrong Fibonacci number in Fibonacci sequence","body":"<p>Spandan is correct, if you modify your code to the below you will get the correct response all the way from 1 and up...</p>\n<p>Note:</p>\n<ol>\n<li><p>The loop now iterates only as long as i&lt;n which removes the unwanted result.</p>\n</li>\n<li><p>The loop though will never produce the first number in the sequence (zero) as the first iteration can not be lower than one. For that reason I have added the print of X before the loop runs the first time.</p>\n</li>\n</ol>\n<p>I hope this helps :)</p>\n<pre><code>import java.util.Scanner;\n\npublic class Fibonacci {\n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of terms: &quot;);\n    int n = input.nextInt();\n\n    int x = 0;\n    int y = 1;\n    int a;\n\n    System.out.print(&quot;Fibonacci sequence: &quot;);\n    System.out.print(x + &quot; &quot;);\n     \n    for (int i = 1; i &lt; n; i++) {\n      a = x + y;\n      x = y;\n      y = a;\n      System.out.print(x + &quot; &quot;);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23713806,"reputation":45,"user_id":17735273,"display_name":"Johannes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74832543,"answer_count":3,"score":-2,"last_activity_date":1671287420,"creation_date":1671262562,"question_id":74832492,"body_markdown":"Im trying to make a Java code that displays the nth number in the Fibonacci sequence. For example if i put in 7, the code should show the number 8 since the 7th number in the Fibonacci sequence is 8.\r\n\r\nBut when I tried to make one, it shows the wrong number. For some reason, when i enter 7 it shows 13, and when I enter 1, it shows a 1 although I already stated that the first number is 0 in the code.\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(“In: ”);\r\n    int n = input.nextInt();\r\n\r\n    int x = 0;\r\n    int y = 1;\r\n    int a;\r\n    \r\n    for (int i = 1; i &lt;= n; i++) {\r\n      a = x + y;\r\n      x = y;\r\n      y = a;\r\n    }\r\n    System.out.print(x + &quot; &quot;);\r\n\r\nI think the code for some reason ignores the first 0 which I dint understand. I would love some help, thank you.","title":"Java code shows wrong Fibonacci number in Fibonacci sequence","body":"<p>Im trying to make a Java code that displays the nth number in the Fibonacci sequence. For example if i put in 7, the code should show the number 8 since the 7th number in the Fibonacci sequence is 8.</p>\n<p>But when I tried to make one, it shows the wrong number. For some reason, when i enter 7 it shows 13, and when I enter 1, it shows a 1 although I already stated that the first number is 0 in the code.</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(“In: ”);\nint n = input.nextInt();\n\nint x = 0;\nint y = 1;\nint a;\n\nfor (int i = 1; i &lt;= n; i++) {\n  a = x + y;\n  x = y;\n  y = a;\n}\nSystem.out.print(x + &quot; &quot;);\n</code></pre>\n<p>I think the code for some reason ignores the first 0 which I dint understand. I would love some help, thank you.</p>\n"},{"tags":["java","maven","intellij-idea","maven-dependency"],"answers":[{"comments":[{"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"score":1,"creation_date":1670955668,"post_id":74789308,"comment_id":131991322,"body_markdown":"Also I added to dependency `&lt;version&gt;3.1.1.RELEASE&lt;/version&gt;`","body":"Also I added to dependency <code>&lt;version&gt;3.1.1.RELEASE&lt;&#47;version&gt;</code>"}],"tags":[],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671287158,"creation_date":1670955525,"answer_id":74789308,"question_id":74785253,"body_markdown":"I solved it by,\r\n1) In intellij, `File -&gt; Project Structure -&gt; Project Settings -&gt; Libraries`\r\n2) Select all libraries and delete it\r\n3) Then &quot;Maven - Reload All Maven Projects&quot;","title":"Could not find artifact org.thymeleaf.extras:thymeleaf-extras-springsecurity:pom","body":"<p>I solved it by,</p>\n<ol>\n<li>In intellij, <code>File -&gt; Project Structure -&gt; Project Settings -&gt; Libraries</code></li>\n<li>Select all libraries and delete it</li>\n<li>Then &quot;Maven - Reload All Maven Projects&quot;</li>\n</ol>\n"}],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74789308,"answer_count":1,"score":0,"last_activity_date":1671287158,"creation_date":1670936285,"question_id":74785253,"body_markdown":"I am trying to get the dependency `thymeleaf-extras-springsecurity5` and it is red and cannot be found with an error\r\n\r\n&gt; Could not find artifact org.thymeleaf.extras:thymeleaf-extras-springsecurity:pom:unknown in central (https://repo.maven.apache.org/maven2)\r\n\r\nWhat I do wrong? I use IntelliJ IDEA 2022.3 (Community Edition).\r\n\r\nHere is my pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;ru&lt;/groupId&gt;\r\n   &lt;artifactId&gt;sandwich-cloud&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.5-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;sandwich-cloud&lt;/name&gt;\r\n   &lt;description&gt;Sandwich Cloud Pet Project&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n         &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n         &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n         &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n         &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n         &lt;scope&gt;runtime&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n               &lt;excludes&gt;\r\n                  &lt;exclude&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                  &lt;/exclude&gt;\r\n               &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Could not find artifact org.thymeleaf.extras:thymeleaf-extras-springsecurity:pom","body":"<p>I am trying to get the dependency <code>thymeleaf-extras-springsecurity5</code> and it is red and cannot be found with an error</p>\n<blockquote>\n<p>Could not find artifact org.thymeleaf.extras:thymeleaf-extras-springsecurity:pom:unknown in central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>)</p>\n</blockquote>\n<p>What I do wrong? I use IntelliJ IDEA 2022.3 (Community Edition).</p>\n<p>Here is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;ru&lt;/groupId&gt;\n   &lt;artifactId&gt;sandwich-cloud&lt;/artifactId&gt;\n   &lt;version&gt;0.0.5-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;sandwich-cloud&lt;/name&gt;\n   &lt;description&gt;Sandwich Cloud Pet Project&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n         &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n         &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n         &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n         &lt;artifactId&gt;h2&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n               &lt;excludes&gt;\n                  &lt;exclude&gt;\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                  &lt;/exclude&gt;\n               &lt;/excludes&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","kotlin","mockito"],"comments":[{"owner":{"account_id":13385928,"reputation":1,"user_id":9659828,"display_name":"Anurag Parothia"},"score":0,"creation_date":1671287471,"post_id":74834763,"comment_id":132069420,"body_markdown":"@ArvindKumarAvinash still the same issue presists\nParameter specified as non-null is null, mean the mockito response is null","body":"@ArvindKumarAvinash still the same issue presists Parameter specified as non-null is null, mean the mockito response is null"},{"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"score":0,"creation_date":1672137627,"post_id":74834763,"comment_id":132226877,"body_markdown":"Have you tried adding the Kotlin module to the objectMapper: `objectMapper.registerKotlinModule()`?","body":"Have you tried adding the Kotlin module to the objectMapper: <code>objectMapper.registerKotlinModule()</code>?"},{"owner":{"account_id":13385928,"reputation":1,"user_id":9659828,"display_name":"Anurag Parothia"},"score":0,"creation_date":1672640541,"post_id":74834763,"comment_id":132316746,"body_markdown":"yes but that is also giving same response.","body":"yes but that is also giving same response."}],"owner":{"account_id":13385928,"reputation":1,"user_id":9659828,"display_name":"Anurag Parothia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671286228,"creation_date":1671286228,"question_id":74834763,"body_markdown":"Mockito response is null after adding ZonedDateTime module by registerModule..\r\nThis is the test I am writing... \r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/bankStatement&quot;)\r\nfun getBankStatementList(@Valid @RequestBody request: GenericRequest&lt;BankStatementRequestDTO&gt;): ResponseEntity&lt;ResponseDTO&gt; {\r\n    return createSuccessResponse(bankStatementService.getBankStatementList(request.data))\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\nfun getBankStatementListSuccess() {\r\n    val DEFAULT_DATE:ZonedDateTime  = ZonedDateTime.ofInstant(Instant.ofEpochMilli(0L), ZoneOffset.UTC);\r\n    val request = GenericRequest(\r\n        BankStatementRequestDTO(\r\n            10,\r\n            1,\r\n            &quot;&quot;,\r\n            emptyList(),\r\n            DEFAULT_DATE,\r\n            DEFAULT_DATE,\r\n            &quot;03b3238c-66bb-4a4a-b205-4a9e8231b420&quot;\r\n        )\r\n    )\r\n    val response =\r\n        BankStatementListResponseDTO(\r\n            listOf(\r\n                BankStatementResponseDTO(\r\n                    &quot;XXX123&quot;,\r\n                    &quot;CREDIT&quot;,\r\n                    &quot;upi-123213&quot;,\r\n                    &quot;03b3238c-66bb-4a4a-b205-4a9e8231b420&quot;,\r\n                    &quot;UPI&quot;,\r\n                    BigDecimal(1234),\r\n                    &quot;remarks&quot;,\r\n                    DEFAULT_DATE,\r\n                    DEFAULT_DATE,\r\n                    &quot;CLAIMED&quot;,\r\n                    &quot;COIN12345678900&quot;\r\n                )\r\n            ),\r\n            1\r\n        )\r\n\r\n    Mockito.`when`(bankStatementService.getBankStatementList(request.data)).thenReturn(response)\r\n    val objectMapper = jacksonObjectMapper()\r\n    objectMapper.registerModule(JavaTimeModule())\r\n    mvc.perform(\r\n        MockMvcRequestBuilders\r\n            .post(&quot;/api/v1/bankStatement&quot;)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(objectMapper.writeValueAsString(request))\r\n    ).andExpect(MockMvcResultMatchers.status().isOk)\r\n        .andExpect(MockMvcResultMatchers.content().contentType(MediaType.APPLICATION_JSON))\r\n}\r\n```\r\n\r\n\r\nThe Error\r\n\r\n```\r\nRequest processing failed; nested exception is java.lang.NullPointerException: Parameter specified as non-null is null: method com.coinomerelaunch.brokeradminbackend.shared.dto.ResponseAdapterKt.createSuccessResponse, parameter dto\r\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: Parameter specified as non-null is null: method com.coinomerelaunch.brokeradminbackend.shared.dto.ResponseAdapterKt.createSuccessResponse, parameter dto\r\n\tat app//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n```\r\n\r\n\r\n\r\n\r\nWhen I am using Date instead of ZonedDateTime test works..\r\nafter adding ZonedDate ..I have to add library\r\n\r\n```\r\nimplementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.5&quot;)\r\n\r\n```\r\n\r\nalso added these lines\r\n\r\n\r\n```\r\nval objectMapper = jacksonObjectMapper()\r\n    objectMapper.registerModule(JavaTimeModule())\r\n```\r\n```\r\ncontent(objectMapper.writeValueAsString(request))\r\n```\r\n but not works\r\n\r\nSomeone please help me why the mockito response is not getting mocked when I add the jackson library ..or Im missing something\r\n\r\n","title":"Mockito response is null after adding ZonedDateTime module by registerModule","body":"<p>Mockito response is null after adding ZonedDateTime module by registerModule..\nThis is the test I am writing...</p>\n<pre><code>@PostMapping(&quot;/bankStatement&quot;)\nfun getBankStatementList(@Valid @RequestBody request: GenericRequest&lt;BankStatementRequestDTO&gt;): ResponseEntity&lt;ResponseDTO&gt; {\n    return createSuccessResponse(bankStatementService.getBankStatementList(request.data))\n}\n</code></pre>\n<pre><code>\nfun getBankStatementListSuccess() {\n    val DEFAULT_DATE:ZonedDateTime  = ZonedDateTime.ofInstant(Instant.ofEpochMilli(0L), ZoneOffset.UTC);\n    val request = GenericRequest(\n        BankStatementRequestDTO(\n            10,\n            1,\n            &quot;&quot;,\n            emptyList(),\n            DEFAULT_DATE,\n            DEFAULT_DATE,\n            &quot;03b3238c-66bb-4a4a-b205-4a9e8231b420&quot;\n        )\n    )\n    val response =\n        BankStatementListResponseDTO(\n            listOf(\n                BankStatementResponseDTO(\n                    &quot;XXX123&quot;,\n                    &quot;CREDIT&quot;,\n                    &quot;upi-123213&quot;,\n                    &quot;03b3238c-66bb-4a4a-b205-4a9e8231b420&quot;,\n                    &quot;UPI&quot;,\n                    BigDecimal(1234),\n                    &quot;remarks&quot;,\n                    DEFAULT_DATE,\n                    DEFAULT_DATE,\n                    &quot;CLAIMED&quot;,\n                    &quot;COIN12345678900&quot;\n                )\n            ),\n            1\n        )\n\n    Mockito.`when`(bankStatementService.getBankStatementList(request.data)).thenReturn(response)\n    val objectMapper = jacksonObjectMapper()\n    objectMapper.registerModule(JavaTimeModule())\n    mvc.perform(\n        MockMvcRequestBuilders\n            .post(&quot;/api/v1/bankStatement&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(objectMapper.writeValueAsString(request))\n    ).andExpect(MockMvcResultMatchers.status().isOk)\n        .andExpect(MockMvcResultMatchers.content().contentType(MediaType.APPLICATION_JSON))\n}\n</code></pre>\n<p>The Error</p>\n<pre><code>Request processing failed; nested exception is java.lang.NullPointerException: Parameter specified as non-null is null: method com.coinomerelaunch.brokeradminbackend.shared.dto.ResponseAdapterKt.createSuccessResponse, parameter dto\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.NullPointerException: Parameter specified as non-null is null: method com.coinomerelaunch.brokeradminbackend.shared.dto.ResponseAdapterKt.createSuccessResponse, parameter dto\n    at app//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n</code></pre>\n<p>When I am using Date instead of ZonedDateTime test works..\nafter adding ZonedDate ..I have to add library</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.9.5&quot;)\n\n</code></pre>\n<p>also added these lines</p>\n<pre><code>val objectMapper = jacksonObjectMapper()\n    objectMapper.registerModule(JavaTimeModule())\n</code></pre>\n<pre><code>content(objectMapper.writeValueAsString(request))\n</code></pre>\n<p>but not works</p>\n<p>Someone please help me why the mockito response is not getting mocked when I add the jackson library ..or Im missing something</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1671288538,"post_id":74834719,"comment_id":132069626,"body_markdown":"The problem view shows errors you have to fix first. In your `pom.xml` the Java version is missing, so the Maven default Java 5 is used, but Tomcat 10 requires Java 8 or higher. Does in your `pom.xml` adding `&lt;properties&gt;&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;&lt;/properties&gt;` fix it?","body":"The problem view shows errors you have to fix first. In your <code>pom.xml</code> the Java version is missing, so the Maven default Java 5 is used, but Tomcat 10 requires Java 8 or higher. Does in your <code>pom.xml</code> adding <code>&lt;properties&gt;&lt;maven.compiler.source&gt;17&lt;&#47;maven.compiler.source&zwnj;&#8203;&gt;&lt;maven.compiler.tar&zwnj;&#8203;get&gt;17&lt;&#47;maven.compil&zwnj;&#8203;er.target&gt;&lt;&#47;properti&zwnj;&#8203;es&gt;</code> fix it?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1671529497,"post_id":74834719,"comment_id":132113678,"body_markdown":"What&#39;s in its `.project` file?","body":"What&#39;s in its <code>.project</code> file?"}],"owner":{"account_id":20892011,"reputation":99,"user_id":15347191,"display_name":"Nguyen Cuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671285770,"creation_date":1671285770,"question_id":74834719,"body_markdown":"I am coding java with eclipse and here is my problem.\r\n\r\nI added Tomcat v10.0 to my Project successfully and as you can see in this picture\r\n\r\n[![Added Tomcat][1]][1]\r\n\r\n\r\nBut my problem is, I do not see the &quot;Run on Server&quot; when I clicked to the &quot;Run As&quot; ? As you can see in this picture ?\r\n\r\n[![my problem][2]][2]\r\n\r\nI think that when I added the Tomcat successfully, the Tomcat must appeared at &quot;Run As&quot; ?\r\n\r\n  [1]: https://i.stack.imgur.com/giFMI.png\r\n  [2]: https://i.stack.imgur.com/SchsV.png\r\n\r\nCould you please give me some advice ? Thank you in advance.","title":"Eclipse &#39;s &quot;Run as&quot; does not auto add &quot;Run on Server&quot; even to I added the Tomcat server to the Project?","body":"<p>I am coding java with eclipse and here is my problem.</p>\n<p>I added Tomcat v10.0 to my Project successfully and as you can see in this picture</p>\n<p><a href=\"https://i.stack.imgur.com/giFMI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/giFMI.png\" alt=\"Added Tomcat\" /></a></p>\n<p>But my problem is, I do not see the &quot;Run on Server&quot; when I clicked to the &quot;Run As&quot; ? As you can see in this picture ?</p>\n<p><a href=\"https://i.stack.imgur.com/SchsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SchsV.png\" alt=\"my problem\" /></a></p>\n<p>I think that when I added the Tomcat successfully, the Tomcat must appeared at &quot;Run As&quot; ?</p>\n<p>Could you please give me some advice ? Thank you in advance.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","azure-active-directory"],"comments":[{"owner":{"display_name":"user9578963"},"score":0,"creation_date":1671288575,"post_id":74834378,"comment_id":132069633,"body_markdown":"I followed this guide from microsoft (protect a resource server/api)[https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide#protect-a-resource-serverapi].  Remember to provide a valid jwt, using the client as audience.","body":"I followed this guide from microsoft (protect a resource server/api)[<a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide#protect-a-resource-serverapi]\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/s&zwnj;&#8203;pring-framework/&hellip;</a>.  Remember to provide a valid jwt, using the client as audience."},{"owner":{"account_id":22839070,"reputation":51,"user_id":17081102,"display_name":"PlaeschZ"},"score":0,"creation_date":1671309581,"post_id":74834378,"comment_id":132073537,"body_markdown":"@meridsa thanks, i have create a fresh spring boot project. with just a Controller returning &quot;Hello&quot; and the application.yml as shown in the docs you have postet. But iI am getting 401 error","body":"@meridsa thanks, i have create a fresh spring boot project. with just a Controller returning &quot;Hello&quot; and the application.yml as shown in the docs you have postet. But iI am getting 401 error"},{"owner":{"account_id":7844807,"reputation":584,"user_id":5930227,"accept_rate":50,"display_name":"Emmanuel Ogoma"},"score":0,"creation_date":1692631468,"post_id":74834378,"comment_id":135646538,"body_markdown":"Have you gotten any help with this, I am also getting 401 error, with log message Failed to authenticate since the JWT was invalid. I can confirm that the token is still valid","body":"Have you gotten any help with this, I am also getting 401 error, with log message Failed to authenticate since the JWT was invalid. I can confirm that the token is still valid"}],"owner":{"account_id":22839070,"reputation":51,"user_id":17081102,"display_name":"PlaeschZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671285542,"creation_date":1671282880,"question_id":74834378,"body_markdown":"I am running into an issue and asking for any help. \r\nI got a react app running and there I log in with the oidc azure ad. I am getting all information I wanted as well as a jwt.\r\n\r\nNow I want my frontend to call routes on my spring boot backend. That&#39;s why I decided that my backend is a resource server. And here I want to validate the provided JWT. \r\nAs soon as I do a request I got the following error:\r\n\r\n&gt; Failed to lazily resolve the supplied JwtDecoder instance\r\n\r\n&gt; Unable to resolve the Configuration with the provided Issuer of\r\n&gt; &quot;https://login.microsoftonline.com/3d1f9219-b455-xxxx-xxxx-xxxxxxxxxxxx/wsfed&quot;\r\n\r\nI think that my issuer-uri is wrong. But I cannot find a solution for this. \r\nHere is my filterChain method:\r\n\r\n    @Bean\r\n    open fun filterChain(http: HttpSecurity) : SecurityFilterChain{\r\n        http\r\n            .authorizeHttpRequests{\r\n                authorize -&gt; authorize.antMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;SCOPE_user.read&quot;)\r\n                .anyRequest().authenticated()\r\n            }\r\n            .oauth2ResourceServer{\r\n                oauth2 -&gt; oauth2.jwt(Customizer.withDefaults())\r\n            }\r\n        return http.build()\r\n    }\r\n\r\nand thats my application.yml\r\n\r\n \r\n\r\n    spring:\r\n        security:\r\n            oauth2:\r\n              resourceserver:\r\n                jwt:\r\n                  issuer-uri: https://login.microsoftonline.com/3d1f9219-b455-xxxx-xxxx-xxxxxxxxxxxx/wsfed\r\n\r\nI&#39;ve already tried other issuer-uris like\r\nhttps://login.microsoftonline.com/common/discovery/keys\r\nhttps://login.microsoftonline.com/{tenant_id}/discovery/keys?appid={client_id} \r\n\r\nbut without success.\r\n\r\nI know this is kotlin but I am fine with java too.\r\n\r\n\r\nEDIT:\r\n\r\nI&#39;ve changed the issuer-uri to:\r\nhttps://login.microsoftonline.com/{tenant-id}/v2.0\r\n\r\nBut now I am facing 401 Unauthorized http error\r\n\r\n\r\n\r\n","title":"Spring boot ressource server with azure ad","body":"<p>I am running into an issue and asking for any help.\nI got a react app running and there I log in with the oidc azure ad. I am getting all information I wanted as well as a jwt.</p>\n<p>Now I want my frontend to call routes on my spring boot backend. That's why I decided that my backend is a resource server. And here I want to validate the provided JWT.\nAs soon as I do a request I got the following error:</p>\n<blockquote>\n<p>Failed to lazily resolve the supplied JwtDecoder instance</p>\n</blockquote>\n<blockquote>\n<p>Unable to resolve the Configuration with the provided Issuer of\n&quot;https://login.microsoftonline.com/3d1f9219-b455-xxxx-xxxx-xxxxxxxxxxxx/wsfed&quot;</p>\n</blockquote>\n<p>I think that my issuer-uri is wrong. But I cannot find a solution for this.\nHere is my filterChain method:</p>\n<pre><code>@Bean\nopen fun filterChain(http: HttpSecurity) : SecurityFilterChain{\n    http\n        .authorizeHttpRequests{\n            authorize -&gt; authorize.antMatchers(&quot;/**&quot;).hasAnyAuthority(&quot;SCOPE_user.read&quot;)\n            .anyRequest().authenticated()\n        }\n        .oauth2ResourceServer{\n            oauth2 -&gt; oauth2.jwt(Customizer.withDefaults())\n        }\n    return http.build()\n}\n</code></pre>\n<p>and thats my application.yml</p>\n<pre><code>spring:\n    security:\n        oauth2:\n          resourceserver:\n            jwt:\n              issuer-uri: https://login.microsoftonline.com/3d1f9219-b455-xxxx-xxxx-xxxxxxxxxxxx/wsfed\n</code></pre>\n<p>I've already tried other issuer-uris like\n<a href=\"https://login.microsoftonline.com/common/discovery/keys\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/common/discovery/keys</a>\n<a href=\"https://login.microsoftonline.com/%7Btenant_id%7D/discovery/keys?appid=%7Bclient_id%7D\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/{tenant_id}/discovery/keys?appid={client_id}</a></p>\n<p>but without success.</p>\n<p>I know this is kotlin but I am fine with java too.</p>\n<p>EDIT:</p>\n<p>I've changed the issuer-uri to:\n<a href=\"https://login.microsoftonline.com/%7Btenant-id%7D/v2.0\" rel=\"nofollow noreferrer\">https://login.microsoftonline.com/{tenant-id}/v2.0</a></p>\n<p>But now I am facing 401 Unauthorized http error</p>\n"},{"tags":["java","smartsheet-api","smartsheet-api-2.0","smartsheet-java-sdk-v2"],"owner":{"account_id":23214420,"reputation":1,"user_id":17307493,"display_name":"DiKiyBimer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671285053,"creation_date":1671284811,"question_id":74834609,"body_markdown":"I have a not big, but unsolvable for me problem. My Java code connects with smartsheet, and reads a list of sheets at folder (by folder id), next, it copies from folder ony sheets (leaving reports and dashboards), changing name of sheets and paste them at another folder. I&#39;m using Correto 17.\r\n\r\nHow can I change a value of cell at any sheet by code. I need change only 1 cell for each running code, so it not should be a genius loop. I want to understand the basics of this.\r\n\r\nBelow I added 2 classes at part after copying and renaming. Everything is working perfect before I trying to change cell. If it will help: cell is unlocked, valueType text_number, not a formula, just text, but in sheet are other cells with values, they are with formulas / they are locked).\r\n\r\nI can read a value at cell but can&#39;t set it.\r\n\r\n```\r\npublic void projectFolderCreate(String projectID_Value) throws SmartsheetException {\r\n\r\n Smartsheet smartsheet = SmartsheetFactory.createDefaultClient(API);\r\n System.out.println(&quot;Folder working. Loading folder: &quot; + getFolderID());\r\n\r\n Folder workFolder = smartsheet.folderResources().getFolder(getFolderID(), null);\r\n\r\nfor (var element : workFolder.getSheets()) {\r\n\r\nSystem.out.println(element.getId());\r\nContainerDestination containerDestination = new ContainerDestination().setDestinationType(DestinationType.FOLDER).setDestinationId(8775808614459268L).setNewName(element.getName().replace(&quot;Project_Name&quot;, projectID_Value));\r\nSheet sheet = smartsheet.sheetResources().copySheet(element.getId(),containerDestination,EnumSet.of(SheetCopyInclusion.DATA,SheetCopyInclusion.CELLLINKS));\r\nif (sheet.getName().endsWith(&quot;Metadata&quot;)) {\r\nSheet newSheet = smartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null); \r\nlong newSheetId = newSheet.getId(); \r\nSystem.out.println(&quot;ID of the New Sheet : &quot; + newSheetId); \r\nColumn projIDcolumn = newSheet.getColumns().get(1); \r\nSystem.out.println(projIDcolumn.getTitle()); \r\nRow firstRow = newSheet.getRows().get(2); \r\nfirstRow.getCells().get(2).setValue(new CellDataItem().setObjectValue(projectID_Value)); \r\nfirstRow.getColumnByIndex(projIDcolumn.getIndex()); \r\nCell s = newSheet.getRows().get(2).getCells().get(1).setDisplayValue(projectID_Value); \r\n}System.out.println(sheet.getName() + &quot; was created&quot;);\r\n}\r\n}\r\n```\r\n\r\n```\r\nProjectFolderWorking(String projectID) throws SQLException, SmartsheetException {     \r\nString folderID;\r\nLikeAWall law = new LikeAWall(1);\r\nDataBase db = new DataBase(law.getPickDB());\r\ndb.setApi();\r\nSmartIM smartIM = new SmartIM(db.getApi());\r\nfolderID = String.valueOf(SmartIM.getFolderID());\r\nSystem.out.println(&quot;FolderID: &quot; + folderID);\r\nsetProjectID(projectID);\r\nsmartIM.projectFolderCreate(getProjectID());\r\n}\r\n```\r\n\r\nI&#39;m sure that linking to variable was good, because I tried getters, but setters of this aren&#39;t working but compiling without any exceptions / errors / bugs / problems and of coarse result.\r\n\r\nBelow are the methods I tried.\r\n```\r\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().set(1,null);\r\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setDisplayValue(projectID_Value)\r\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setValue(projectID_Value.toString) / and getBytes() \r\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setObjectValue()\r\n```\r\nThis is didn&#39;t make sense, but I just broke. I tried do every above with parts as:\r\n```\r\nSheet sh = lallalalla;\r\nColumn s = sh.lalallalala;\r\nRows w = sh.lalallala;\r\nCell = w.getCells().get(lalallaa);\r\n```","title":"Changing cells in sheet using Java and Smartsheet API","body":"<p>I have a not big, but unsolvable for me problem. My Java code connects with smartsheet, and reads a list of sheets at folder (by folder id), next, it copies from folder ony sheets (leaving reports and dashboards), changing name of sheets and paste them at another folder. I'm using Correto 17.</p>\n<p>How can I change a value of cell at any sheet by code. I need change only 1 cell for each running code, so it not should be a genius loop. I want to understand the basics of this.</p>\n<p>Below I added 2 classes at part after copying and renaming. Everything is working perfect before I trying to change cell. If it will help: cell is unlocked, valueType text_number, not a formula, just text, but in sheet are other cells with values, they are with formulas / they are locked).</p>\n<p>I can read a value at cell but can't set it.</p>\n<pre><code>public void projectFolderCreate(String projectID_Value) throws SmartsheetException {\n\n Smartsheet smartsheet = SmartsheetFactory.createDefaultClient(API);\n System.out.println(&quot;Folder working. Loading folder: &quot; + getFolderID());\n\n Folder workFolder = smartsheet.folderResources().getFolder(getFolderID(), null);\n\nfor (var element : workFolder.getSheets()) {\n\nSystem.out.println(element.getId());\nContainerDestination containerDestination = new ContainerDestination().setDestinationType(DestinationType.FOLDER).setDestinationId(8775808614459268L).setNewName(element.getName().replace(&quot;Project_Name&quot;, projectID_Value));\nSheet sheet = smartsheet.sheetResources().copySheet(element.getId(),containerDestination,EnumSet.of(SheetCopyInclusion.DATA,SheetCopyInclusion.CELLLINKS));\nif (sheet.getName().endsWith(&quot;Metadata&quot;)) {\nSheet newSheet = smartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null); \nlong newSheetId = newSheet.getId(); \nSystem.out.println(&quot;ID of the New Sheet : &quot; + newSheetId); \nColumn projIDcolumn = newSheet.getColumns().get(1); \nSystem.out.println(projIDcolumn.getTitle()); \nRow firstRow = newSheet.getRows().get(2); \nfirstRow.getCells().get(2).setValue(new CellDataItem().setObjectValue(projectID_Value)); \nfirstRow.getColumnByIndex(projIDcolumn.getIndex()); \nCell s = newSheet.getRows().get(2).getCells().get(1).setDisplayValue(projectID_Value); \n}System.out.println(sheet.getName() + &quot; was created&quot;);\n}\n}\n</code></pre>\n<pre><code>ProjectFolderWorking(String projectID) throws SQLException, SmartsheetException {     \nString folderID;\nLikeAWall law = new LikeAWall(1);\nDataBase db = new DataBase(law.getPickDB());\ndb.setApi();\nSmartIM smartIM = new SmartIM(db.getApi());\nfolderID = String.valueOf(SmartIM.getFolderID());\nSystem.out.println(&quot;FolderID: &quot; + folderID);\nsetProjectID(projectID);\nsmartIM.projectFolderCreate(getProjectID());\n}\n</code></pre>\n<p>I'm sure that linking to variable was good, because I tried getters, but setters of this aren't working but compiling without any exceptions / errors / bugs / problems and of coarse result.</p>\n<p>Below are the methods I tried.</p>\n<pre><code>smartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().set(1,null);\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setDisplayValue(projectID_Value)\nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setValue(projectID_Value.toString) / and getBytes() \nsmartsheet.sheetResources().getSheet(sheet.getId(),null,null,null,null,null,null,null).getRows().get(2).getCells().get(1).setObjectValue()\n</code></pre>\n<p>This is didn't make sense, but I just broke. I tried do every above with parts as:</p>\n<pre><code>Sheet sh = lallalalla;\nColumn s = sh.lalallalala;\nRows w = sh.lalallala;\nCell = w.getCells().get(lalallaa);\n</code></pre>\n"},{"tags":["java","eclipse","selenium","iframe","automation"],"comments":[{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1671284965,"post_id":74834590,"comment_id":132068907,"body_markdown":"If I search the xpath `//iframe[@id=&#39;gdpr-consent-notice&#39;]` I do not find anything in that page. Is your xpath correct? Are you sure url is correct? Because I do not see any popup. What is the error you are getting in your console?","body":"If I search the xpath <code>&#47;&#47;iframe[@id=&#39;gdpr-consent-notice&#39;]</code> I do not find anything in that page. Is your xpath correct? Are you sure url is correct? Because I do not see any popup. What is the error you are getting in your console?"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671285110,"post_id":74834590,"comment_id":132068932,"body_markdown":"No such element with id - &#39;gdpr-consent-notice&#39;, is the URL correct?","body":"No such element with id - &#39;gdpr-consent-notice&#39;, is the URL correct?"},{"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"score":0,"creation_date":1671385291,"post_id":74834590,"comment_id":132083505,"body_markdown":"hello, thanks for helping out. I just tried again, the owner of the page must have done some changes. I did not change anything in my code and now it started working. The same code that I was trying to debug for days before I asked it here. I do see a popup - when running the automation it&#39;s there all the time, I have also now seen that after I deleted cookies, one tab did not show the popup, so I opened a new tab - and that one did. I don&#39;t understand this...","body":"hello, thanks for helping out. I just tried again, the owner of the page must have done some changes. I did not change anything in my code and now it started working. The same code that I was trying to debug for days before I asked it here. I do see a popup - when running the automation it&#39;s there all the time, I have also now seen that after I deleted cookies, one tab did not show the popup, so I opened a new tab - and that one did. I don&#39;t understand this..."}],"owner":{"account_id":15895519,"reputation":1,"user_id":11469404,"display_name":"Nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671284678,"creation_date":1671284678,"question_id":74834590,"body_markdown":"I am trying to accept the GDPR Consent window via Selenium (Java), which is placed in an iframe. I understood from the lecture and forums that I have to first switch to that frame (which I did) and then click on the button. However, nothing happens.\r\nCan anyone please help?Thanks\r\n\r\n\r\n```\r\nimport java.time.Duration;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class GDPRiframe {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/DDD/WebDrivers/chromedriver&quot;);\r\n\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\tdriver.get(&quot;http://demo.guru99.com/test/&quot;);\r\n\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n\t\t\r\n\t\tWebElement frameelement = driver.findElement(By.xpath(&quot;//iframe[@id=&#39;gdpr-consent-notice&#39;]&quot;));\r\n\r\n\t\tdriver.switchTo().frame(frameelement);\r\n\t\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]&quot;)).click();\t\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n- Verified the css of the object via console, if there is no issue with that - appears to be ok. Also, I tried to click on a link within the frame, also not working. Seems as if I was not switched to the frame. \r\n\r\nThanks","title":"Picking element in iframe using Selenium Java / not able to accept GDPR consent window via automation","body":"<p>I am trying to accept the GDPR Consent window via Selenium (Java), which is placed in an iframe. I understood from the lecture and forums that I have to first switch to that frame (which I did) and then click on the button. However, nothing happens.\nCan anyone please help?Thanks</p>\n<pre><code>import java.time.Duration;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class GDPRiframe {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/DDD/WebDrivers/chromedriver&quot;);\n\n        WebDriver driver = new ChromeDriver();\n        \n        driver.get(&quot;http://demo.guru99.com/test/&quot;);\n\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n        \n        WebElement frameelement = driver.findElement(By.xpath(&quot;//iframe[@id='gdpr-consent-notice']&quot;));\n\n        driver.switchTo().frame(frameelement);\n            \n        driver.findElement(By.xpath(&quot;//button[@id='save']&quot;)).click();   \n        \n        \n\n    }\n\n}\n</code></pre>\n<ul>\n<li>Verified the css of the object via console, if there is no issue with that - appears to be ok. Also, I tried to click on a link within the frame, also not working. Seems as if I was not switched to the frame.</li>\n</ul>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-security-oauth2"],"owner":{"account_id":11641898,"reputation":35,"user_id":8526032,"display_name":"ketaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671284315,"creation_date":1671284315,"question_id":74834553,"body_markdown":"I am using Google SSO in my Spring Boot Application. Used this thread for same.\r\n&lt;https://stackoverflow.com/questions/12195225/step-by-step-google-sso-java&gt;\r\n\r\n1. I am using HttpClient to call first google endpoint to get the google sign in - where user can add google creadentials.\r\n2. It gets redirected to the redirect_url configuration set, which in turn calls my Controller \\login, where I get the code returned by google api, there I send another api call to get access_token\r\n3. In my LoginController, I am able to get the user details, but I do not know how to manage adding it in Authentication and make it available for other controllers. I also want to use these User details for Audit purpose.\r\n\r\nBelow is my code for main classes\r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class SecurityFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\r\n            throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) request;\r\n        HttpServletResponse resp = (HttpServletResponse) response;\r\n        HttpSession session = req.getSession(false);\r\n\r\n        try {\r\n            // How to check here if authentication already done.\r\n        \tString redirectUrl = GoogleSSORestClient.getRedirectUrl();\r\n            resp.sendRedirect(redirectUrl);\r\n            filterChain.doFilter(request, response);\r\n        } catch (NullPointerException e) {\r\n        \te.printStackTrace();\r\n        }\r\n        //filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n  \r\n@Controller\r\n \r\npublic class LoginController {\r\n\r\n    @Autowired\r\n    LoginService service;\r\n\r\n    @RequestMapping(value=&quot;/login&quot;, method = RequestMethod.GET)\r\n    public String showLoginPage(@RequestParam Map&lt;String,String&gt; allRequestParams, ModelMap model){\r\n    \t\r\n    \tif(!allRequestParams.containsKey(&quot;access_token&quot;)) {\r\n    \t\tString code =allRequestParams.get(&quot;code&quot;);\r\n        \tString accessToken = GoogleSSORestClient.getAccessToken(code);\r\n        \tUser user = getUserInfo(accessToken);\r\n            \r\n        \tif (user != null) {\r\n                //UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user,\r\n                  //      new Credentials(type, decodedToken, token, session), null);\r\n                //authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                //SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            \t \r\n            \tif (user != null) {\r\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user,\r\n                            new Credentials(), null);\r\n                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n                }\r\n            }\r\n    \t}\r\n    \t\r\n        return &quot;success&quot;;\r\n    }\r\n      \r\nprivate User getUserInfo(String accessToken) {\r\n    User user = null;\r\n     \r\n    String urlToRead = &quot;https://www.googleapis.com/oauth2/v1/userinfo?access_token=&quot; + accessToken;\r\n    URL url;\r\n\tHttpURLConnection conn;\r\n\ttry {\r\n\t\turl = new URL(urlToRead);\r\n\t\tconn = (HttpURLConnection) url.openConnection();\r\n    String id = null;\r\n    \r\n    String picture = null;\r\n    StringBuilder result = new StringBuilder();\r\n   // try {\r\n    \t conn.setRequestMethod(&quot;GET&quot;);\r\n    \t try (BufferedReader reader = new BufferedReader(\r\n                 new InputStreamReader(conn.getInputStream()))) {\r\n             for (String line; (line = reader.readLine()) != null; ) {\r\n                 result.append(line);\r\n             }\r\n    \t }\r\n        //JSONParser jsonParser = new JSONParser();\r\n        JSONObject obj = new JSONObject(result.toString());\r\n        JSONObject parsed = (JSONObject)obj;\r\n        id = (String) parsed.get(&quot;id&quot;);\r\n         \r\n        picture = (String) parsed.get(&quot;picture&quot;);\r\n        \r\n        user = new User();\r\n        user.setId(googleId);\r\n        user.setPicture(picture);\r\n         \r\n    }catch (MalformedURLException e1) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te1.printStackTrace();\r\n\t} catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n    \r\n    return user;\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nI have added SecurityConfig, but not sure if I should go with Authentication Provider\r\n\r\n```\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    SecurityProperties restSecProps;\r\n\r\n    @Autowired\r\n    public SecurityFilter tokenAuthenticationFilter;\r\n\r\n    @Bean\r\n    public AuthenticationEntryPoint restAuthenticationEntryPoint() {\r\n        return (httpServletRequest, httpServletResponse, e) -&gt; {\r\n            Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\r\n            int errorCode = 401;\r\n            errorObject.put(&quot;message&quot;, &quot;Unauthorized access of protected resource, invalid credentials&quot;);\r\n            errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\r\n            errorObject.put(&quot;code&quot;, errorCode);\r\n            errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\r\n            httpServletResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\r\n            httpServletResponse.setStatus(errorCode);\r\n            httpServletResponse.getWriter().write(objectMapper.writeValueAsString(errorObject));\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(restSecProps.getAllowedOrigins());\r\n        configuration.setAllowedMethods(restSecProps.getAllowedMethods());\r\n        configuration.setAllowedHeaders(restSecProps.getAllowedHeaders());\r\n        configuration.setAllowCredentials(restSecProps.isAllowCredentials());\r\n        configuration.setExposedHeaders(restSecProps.getExposedHeaders());\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        /*http.cors().configurationSource(corsConfigurationSource()).and().csrf().disable().formLogin().disable()\r\n                .httpBasic().disable().exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                .and().authorizeRequests()\r\n                .antMatchers(restSecProps.getAllowedPublicApis().toArray(new String[1])).permitAll()\r\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll().anyRequest().authenticated().and()\r\n                .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);*/\r\n    \t\r\n    \t/*String redirectUrl = GoogleSSOClient.getRedirectUrl();\r\n    \thttp\r\n        .authorizeRequests()\r\n        \t.antMatchers(&quot;/resources/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .formLogin()\r\n        \t\r\n            .loginPage(redirectUrl) \r\n            .defaultSuccessUrl(&quot;/login&quot;) \r\n            .permitAll(); */\r\n    }\r\n}\r\n```\r\nAny Suggestions will be of great help.\r\nThanks,\r\n","title":"Issues in setting Authentication after successfull google SSO login in Spring Security and Boot","body":"<p>I am using Google SSO in my Spring Boot Application. Used this thread for same.\n<a href=\"https://stackoverflow.com/questions/12195225/step-by-step-google-sso-java\">Step by step Google SSO (java)?</a></p>\n<ol>\n<li>I am using HttpClient to call first google endpoint to get the google sign in - where user can add google creadentials.</li>\n<li>It gets redirected to the redirect_url configuration set, which in turn calls my Controller \\login, where I get the code returned by google api, there I send another api call to get access_token</li>\n<li>In my LoginController, I am able to get the user details, but I do not know how to manage adding it in Authentication and make it available for other controllers. I also want to use these User details for Audit purpose.</li>\n</ol>\n<p>Below is my code for main classes</p>\n<pre><code>@Component\n@Slf4j\npublic class SecurityFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse resp = (HttpServletResponse) response;\n        HttpSession session = req.getSession(false);\n\n        try {\n            // How to check here if authentication already done.\n            String redirectUrl = GoogleSSORestClient.getRedirectUrl();\n            resp.sendRedirect(redirectUrl);\n            filterChain.doFilter(request, response);\n        } catch (NullPointerException e) {\n            e.printStackTrace();\n        }\n        //filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre><code>  \n@Controller\n \npublic class LoginController {\n\n    @Autowired\n    LoginService service;\n\n    @RequestMapping(value=&quot;/login&quot;, method = RequestMethod.GET)\n    public String showLoginPage(@RequestParam Map&lt;String,String&gt; allRequestParams, ModelMap model){\n        \n        if(!allRequestParams.containsKey(&quot;access_token&quot;)) {\n            String code =allRequestParams.get(&quot;code&quot;);\n            String accessToken = GoogleSSORestClient.getAccessToken(code);\n            User user = getUserInfo(accessToken);\n            \n            if (user != null) {\n                //UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user,\n                  //      new Credentials(type, decodedToken, token, session), null);\n                //authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                //SecurityContextHolder.getContext().setAuthentication(authentication);\n                 \n                if (user != null) {\n                    UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user,\n                            new Credentials(), null);\n                    authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                    SecurityContextHolder.getContext().setAuthentication(authentication);\n                }\n            }\n        }\n        \n        return &quot;success&quot;;\n    }\n      \nprivate User getUserInfo(String accessToken) {\n    User user = null;\n     \n    String urlToRead = &quot;https://www.googleapis.com/oauth2/v1/userinfo?access_token=&quot; + accessToken;\n    URL url;\n    HttpURLConnection conn;\n    try {\n        url = new URL(urlToRead);\n        conn = (HttpURLConnection) url.openConnection();\n    String id = null;\n    \n    String picture = null;\n    StringBuilder result = new StringBuilder();\n   // try {\n         conn.setRequestMethod(&quot;GET&quot;);\n         try (BufferedReader reader = new BufferedReader(\n                 new InputStreamReader(conn.getInputStream()))) {\n             for (String line; (line = reader.readLine()) != null; ) {\n                 result.append(line);\n             }\n         }\n        //JSONParser jsonParser = new JSONParser();\n        JSONObject obj = new JSONObject(result.toString());\n        JSONObject parsed = (JSONObject)obj;\n        id = (String) parsed.get(&quot;id&quot;);\n         \n        picture = (String) parsed.get(&quot;picture&quot;);\n        \n        user = new User();\n        user.setId(googleId);\n        user.setPicture(picture);\n         \n    }catch (MalformedURLException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    \n    return user;\n}\n\n\n}\n</code></pre>\n<p>I have added SecurityConfig, but not sure if I should go with Authentication Provider</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, jsr250Enabled = true, prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Autowired\n    SecurityProperties restSecProps;\n\n    @Autowired\n    public SecurityFilter tokenAuthenticationFilter;\n\n    @Bean\n    public AuthenticationEntryPoint restAuthenticationEntryPoint() {\n        return (httpServletRequest, httpServletResponse, e) -&gt; {\n            Map&lt;String, Object&gt; errorObject = new HashMap&lt;&gt;();\n            int errorCode = 401;\n            errorObject.put(&quot;message&quot;, &quot;Unauthorized access of protected resource, invalid credentials&quot;);\n            errorObject.put(&quot;error&quot;, HttpStatus.UNAUTHORIZED);\n            errorObject.put(&quot;code&quot;, errorCode);\n            errorObject.put(&quot;timestamp&quot;, new Timestamp(new Date().getTime()));\n            httpServletResponse.setContentType(&quot;application/json;charset=UTF-8&quot;);\n            httpServletResponse.setStatus(errorCode);\n            httpServletResponse.getWriter().write(objectMapper.writeValueAsString(errorObject));\n        };\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(restSecProps.getAllowedOrigins());\n        configuration.setAllowedMethods(restSecProps.getAllowedMethods());\n        configuration.setAllowedHeaders(restSecProps.getAllowedHeaders());\n        configuration.setAllowCredentials(restSecProps.isAllowCredentials());\n        configuration.setExposedHeaders(restSecProps.getExposedHeaders());\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        /*http.cors().configurationSource(corsConfigurationSource()).and().csrf().disable().formLogin().disable()\n                .httpBasic().disable().exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\n                .and().authorizeRequests()\n                .antMatchers(restSecProps.getAllowedPublicApis().toArray(new String[1])).permitAll()\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll().anyRequest().authenticated().and()\n                .addFilterBefore(tokenAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);*/\n        \n        /*String redirectUrl = GoogleSSOClient.getRedirectUrl();\n        http\n        .authorizeRequests()\n            .antMatchers(&quot;/resources/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .formLogin()\n            \n            .loginPage(redirectUrl) \n            .defaultSuccessUrl(&quot;/login&quot;) \n            .permitAll(); */\n    }\n}\n</code></pre>\n<p>Any Suggestions will be of great help.\nThanks,</p>\n"},{"tags":["java","spring","querydsl"],"answers":[{"comments":[{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1590754516,"post_id":61599367,"comment_id":109807592,"body_markdown":"You can transform it into a one liner using `Stream.of(matchingWords.split(&quot;[+]&quot;)).map(param -&gt; product.title.containsIgnoreCase(param)).reduce(Predicate::or).get()`","body":"You can transform it into a one liner using <code>Stream.of(matchingWords.split(&quot;[+]&quot;)).map(param -&gt; product.title.containsIgnoreCase(param)).reduce(Predicate::o&zwnj;&#8203;r).get()</code>"}],"tags":[],"owner":{"account_id":16415358,"reputation":118,"user_id":11857649,"display_name":"DPCII"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671283971,"creation_date":1588617808,"answer_id":61599367,"question_id":61598374,"body_markdown":"I figured it out. It&#39;s a little non-intuitive, but using `BooleanBuilder` and `JPAQuery&lt;?&gt;` you can create a dynamic series of boolean predicates, which return a list of matches.\r\n\r\nExample:\r\n```java\r\nQProductModel product = QProductModel.productModel;\r\nJPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(//entity manager goes here//);\r\n\r\n// example list of search parameters separated by +\r\nString[] params = matchingWords.split(&quot;[+]&quot;);\r\n\r\nBooleanBuilder builder = new BooleanBuilder();\r\nfor(String param : params) {\r\n    builder.or(product.title.containsIgnoreCase(param));\r\n}\r\n\r\n// then you can put together the query like so:\r\nList&lt;ProductModel&gt; products = query.select(product)\r\n    .from(product)\r\n    .where(builder)\r\n    .fetch();\r\n\r\nreturn products;\r\n```","title":"Dynamic search term SQL query with Spring JPA or QueryDSL","body":"<p>I figured it out. It's a little non-intuitive, but using <code>BooleanBuilder</code> and <code>JPAQuery&lt;?&gt;</code> you can create a dynamic series of boolean predicates, which return a list of matches.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>QProductModel product = QProductModel.productModel;\nJPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(//entity manager goes here//);\n\n// example list of search parameters separated by +\nString[] params = matchingWords.split(&quot;[+]&quot;);\n\nBooleanBuilder builder = new BooleanBuilder();\nfor(String param : params) {\n    builder.or(product.title.containsIgnoreCase(param));\n}\n\n// then you can put together the query like so:\nList&lt;ProductModel&gt; products = query.select(product)\n    .from(product)\n    .where(builder)\n    .fetch();\n\nreturn products;\n</code></pre>\n"}],"owner":{"account_id":16415358,"reputation":118,"user_id":11857649,"display_name":"DPCII"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61599367,"answer_count":1,"score":1,"last_activity_date":1671283971,"creation_date":1588614151,"question_id":61598374,"body_markdown":"I am trying to learn QueryDSL in order to return the results of a single search term from Postgres:\r\n\r\n```\r\n    @GetMapping(&quot;/product/contains/{matchingWords}&quot;)\r\n    public List&lt;ProductModel&gt; findByTitleContaining(@PathVariable String matchingWords) {\r\n\r\n        QProductModel product = QProductModel.productModel;\r\n        JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(em);\r\n\r\n        List&lt;ProductModel&gt; products = query.select(product)\r\n                .from(product)\r\n                .where(product.title.toLowerCase()\r\n                        .contains(matchingWords.toLowerCase()))\r\n                .fetch();\r\n        return products;\r\n    }\r\n\r\n```\r\n\r\nBut I also want to search for any number of search terms, for example, say this is my list of search terms divided by the plus symbol:\r\n\r\n```\r\n   String[] params = matchingWords.split(&quot;[+]&quot;);\r\n```\r\n\r\nHow can I dynamically create *contains(params[0]) AND/OR contains(params[1] AND/OR ... contains(params[n])* using either QueryDSL or any Java/Spring query framework? I see QueryDSL has a predicate system, but I still don&#39;t understand how to dynamically create a query based on a variable number of parameters searching in the same column.","title":"Dynamic search term SQL query with Spring JPA or QueryDSL","body":"<p>I am trying to learn QueryDSL in order to return the results of a single search term from Postgres:</p>\n\n<pre><code>    @GetMapping(\"/product/contains/{matchingWords}\")\n    public List&lt;ProductModel&gt; findByTitleContaining(@PathVariable String matchingWords) {\n\n        QProductModel product = QProductModel.productModel;\n        JPAQuery&lt;?&gt; query = new JPAQuery&lt;&gt;(em);\n\n        List&lt;ProductModel&gt; products = query.select(product)\n                .from(product)\n                .where(product.title.toLowerCase()\n                        .contains(matchingWords.toLowerCase()))\n                .fetch();\n        return products;\n    }\n\n</code></pre>\n\n<p>But I also want to search for any number of search terms, for example, say this is my list of search terms divided by the plus symbol:</p>\n\n<pre><code>   String[] params = matchingWords.split(\"[+]\");\n</code></pre>\n\n<p>How can I dynamically create <em>contains(params[0]) AND/OR contains(params[1] AND/OR ... contains(params[n])</em> using either QueryDSL or any Java/Spring query framework? I see QueryDSL has a predicate system, but I still don't understand how to dynamically create a query based on a variable number of parameters searching in the same column.</p>\n"},{"tags":["java","amazon-web-services","maven","tomcat","amazon-ec2"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1671222490,"post_id":74829165,"comment_id":132060790,"body_markdown":"Spring Boot 3.0.0 requires JDK17+... also 404 means not found??","body":"Spring Boot 3.0.0 requires JDK17+... also 404 means not found??"},{"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"score":0,"creation_date":1671283196,"post_id":74829165,"comment_id":132068586,"body_markdown":"Will try to downgrade spring boot version and will give it a try","body":"Will try to downgrade spring boot version and will give it a try"},{"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"score":0,"creation_date":1671283597,"post_id":74829165,"comment_id":132068660,"body_markdown":"Thanks a lot, this was indeed the issue. I created a new project with spring boot 2.7.6 and it is working perfectly fine.","body":"Thanks a lot, this was indeed the issue. I created a new project with spring boot 2.7.6 and it is working perfectly fine."}],"answers":[{"comments":[{"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"score":0,"creation_date":1671283179,"post_id":74829530,"comment_id":132068584,"body_markdown":"I don&#39;t think &quot;/&quot; is a necessary keyword, although I have tried adding &quot;/&quot;, still facing the same issue.","body":"I don&#39;t think &quot;/&quot; is a necessary keyword, although I have tried adding &quot;/&quot;, still facing the same issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671457368,"post_id":74829530,"comment_id":132096718,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74829530/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8262384,"reputation":47,"user_id":6213291,"display_name":"Anup Mondal"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1671222974,"creation_date":1671222974,"answer_id":74829530,"question_id":74829165,"body_markdown":"You have to add a &quot;/&quot; before &quot;code&quot;\r\n\r\n    @GetMapping(&quot;/code&quot;)","title":"REST API returning http status 404 when deployed on EC2 instance on AWS","body":"<p>You have to add a &quot;/&quot; before &quot;code&quot;</p>\n<pre><code>@GetMapping(&quot;/code&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"score":0,"creation_date":1671283175,"post_id":74829777,"comment_id":132068583,"body_markdown":"I don&#39;t think &quot;/&quot; is a necessary keyword, although I have tried adding &quot;/&quot;, still facing the same issue.","body":"I don&#39;t think &quot;/&quot; is a necessary keyword, although I have tried adding &quot;/&quot;, still facing the same issue."}],"tags":[],"owner":{"account_id":25311212,"reputation":1,"user_id":19133923,"display_name":"Sergey Korotaev"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671224915,"creation_date":1671224915,"answer_id":74829777,"question_id":74829165,"body_markdown":"you forgot to add / for your path in controller methods because of you use path: \r\n\r\n    /logincode\r\n\r\n instead `/login/code`","title":"REST API returning http status 404 when deployed on EC2 instance on AWS","body":"<p>you forgot to add / for your path in controller methods because of you use path:</p>\n<pre><code>/logincode\n</code></pre>\n<p>instead <code>/login/code</code></p>\n"},{"tags":[],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671283825,"creation_date":1671283825,"answer_id":74834498,"question_id":74829165,"body_markdown":"As highlighted by @khmarbaise above, I was using spring boot 3.0.0 but I had java 8 installed on my EC2 instance and spring boot 3.0.0 requires java version 17+, and that is why I was getting 404 when hitting my APIs.\r\n\r\nAfter downgrading my spring boot version to 2.7.6 I am able to get a corresponding response from the APIs.\r\n\r\nAlso, as mentioned by other comments regarding the use of &quot;/&quot;, omitting the slash was not an issue as the slash is an optional parameter.\r\n\r\nThanks","title":"REST API returning http status 404 when deployed on EC2 instance on AWS","body":"<p>As highlighted by @khmarbaise above, I was using spring boot 3.0.0 but I had java 8 installed on my EC2 instance and spring boot 3.0.0 requires java version 17+, and that is why I was getting 404 when hitting my APIs.</p>\n<p>After downgrading my spring boot version to 2.7.6 I am able to get a corresponding response from the APIs.</p>\n<p>Also, as mentioned by other comments regarding the use of &quot;/&quot;, omitting the slash was not an issue as the slash is an optional parameter.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":6967732,"reputation":604,"user_id":5345105,"display_name":"Shubham Arya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74834498,"answer_count":3,"score":0,"last_activity_date":1671283825,"creation_date":1671220277,"question_id":74829165,"body_markdown":"I have a simple spring boot app which has just 2 rest controllers and I am exporting the war for the same.\r\nI am deploying the same war using the tomcat manager on EC2 instance on AWS, but unfortunately I am getting http status 404 when trying to hit the API.\r\n\r\nURL that I am trying to hit is -\r\n\r\n**[public IP shared by AWS]:[port number on which tomcat is running:8080]/[context route which is the name of my war file]/[my mapped urls]**\r\n\r\n**[publicIP]:8080/aws-0.0.1-SNAPSHOT/login/code**\r\n\r\n**My Controller class**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/login&quot;)\r\npublic class TestController {\r\n\r\n\t@GetMapping(&quot;code&quot;)\r\n\tpublic String returnCode() {\r\n\t\treturn &quot;returning code&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;received-code&quot;)\r\n\tpublic String returnReceivedCode(@RequestParam String code) {\r\n\t\treturn code;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**My pom.xml**\r\n\r\n\r\n```\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;aws&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;aws&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n\r\n\r\nI tried with java version 8 as well, the tomcat version that I have on my EC2 instance is 9 (apache-tomcat-9.0.70)\r\n\r\nI also tried getting one sample war application that tomcat shares for the testing purpose -\r\nhttps://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\r\n\r\nBut surprisingly, this is working fine which tells me that my tomcat and java installations don&#39;t have any issues.\r\n\r\nAny help would be appreciated.","title":"REST API returning http status 404 when deployed on EC2 instance on AWS","body":"<p>I have a simple spring boot app which has just 2 rest controllers and I am exporting the war for the same.\nI am deploying the same war using the tomcat manager on EC2 instance on AWS, but unfortunately I am getting http status 404 when trying to hit the API.</p>\n<p>URL that I am trying to hit is -</p>\n<p><strong>[public IP shared by AWS]:[port number on which tomcat is running:8080]/[context route which is the name of my war file]/[my mapped urls]</strong></p>\n<p><strong>[publicIP]:8080/aws-0.0.1-SNAPSHOT/login/code</strong></p>\n<p><strong>My Controller class</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/login&quot;)\npublic class TestController {\n\n    @GetMapping(&quot;code&quot;)\n    public String returnCode() {\n        return &quot;returning code&quot;;\n    }\n\n    @GetMapping(&quot;received-code&quot;)\n    public String returnReceivedCode(@RequestParam String code) {\n        return code;\n    }\n\n}\n\n</code></pre>\n<p><strong>My pom.xml</strong></p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;aws&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;aws&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>I tried with java version 8 as well, the tomcat version that I have on my EC2 instance is 9 (apache-tomcat-9.0.70)</p>\n<p>I also tried getting one sample war application that tomcat shares for the testing purpose -\n<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/</a></p>\n<p>But surprisingly, this is working fine which tells me that my tomcat and java installations don't have any issues.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":27220217,"reputation":11,"user_id":20749626,"display_name":"h3y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671283591,"creation_date":1671283591,"answer_id":74834476,"question_id":74834086,"body_markdown":"For swagger v3+, the swagger ui default access is now ```swagger-ui/``` instead of ```swagger-ui.html```\r\nYou should be able to access by amending your url to ```localhost:8080/swagger-ui/```\r\n","title":"Can&#39;t open OpenApi (Swagger) page","body":"<p>For swagger v3+, the swagger ui default access is now <code>swagger-ui/</code> instead of <code>swagger-ui.html</code>\nYou should be able to access by amending your url to <code>localhost:8080/swagger-ui/</code></p>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671283802,"creation_date":1671280246,"question_id":74834086,"body_markdown":"Gradle:  \r\n\r\n    implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.6.13&#39;\r\n    implementation group: &#39;io.swagger.core.v3&#39;, name: &#39;swagger-annotations&#39;, version: &#39;2.2.7&#39;   \r\n\r\nProperties:  \r\n\r\n    springdoc.swagger-ui.enabled=true\r\n    springdoc.swagger-ui.path=/swagger-ui.html  \r\n\r\nController:  \r\n\r\n    @RestController\r\n    \r\n        @RequestMapping(&quot;/api/v1/cheque&quot;)\r\n        @FieldDefaults(level = AccessLevel.PRIVATE,makeFinal = true)\r\n        public class ChequeController {\r\n        \r\n            ProductService productService;\r\n        \r\n            public ChequeController(ProductService productService) {\r\n                this.productService = productService;\r\n            }\r\n        \r\n            @GetMapping(value = &quot;/get/{id}&quot;, produces = &quot;application/json&quot;)\r\n            public Optional&lt;Product&gt; getByid(@PathVariable Long id) {\r\n                return productService.getById(id);\r\n            }\r\n        \r\n            @GetMapping(&quot;/test&quot;)\r\n            public String test() {\r\n                return &quot;test&quot;;\r\n            }\r\n        }  \r\n  \r\nConf:  \r\n\r\n    @Configuration\r\n    public class OpenApiConfiguration {\r\n    \r\n        @Bean\r\n        public OpenAPI customOpenAPI() {\r\n            return new OpenAPI()\r\n                    .info(\r\n                            new Info()\r\n                                    .title(&quot;Example Swagger Api&quot;)\r\n                                    .version(&quot;1.0.0&quot;)\r\n                    );\r\n        }\r\n    }\r\n\r\n  \r\n\r\nTrying to open in `localhost:8080/swagger-ui.html` and getting: \r\n\r\n`Whitelabel Error Page There was an unexpected error (type=Not Found, status=404).` in [https://springdoc.org/#getting-started][1] saying, that it will automatically deploy swagger-ui to a spring-boot application  \r\nwhat im doing wrong\r\n\r\n\r\n  [1]: https://springdoc.org/#getting-started","title":"Can&#39;t open OpenApi (Swagger) page","body":"<p>Gradle:</p>\n<pre><code>implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.13'\nimplementation group: 'io.swagger.core.v3', name: 'swagger-annotations', version: '2.2.7'   \n</code></pre>\n<p>Properties:</p>\n<pre><code>springdoc.swagger-ui.enabled=true\nspringdoc.swagger-ui.path=/swagger-ui.html  \n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n\n    @RequestMapping(&quot;/api/v1/cheque&quot;)\n    @FieldDefaults(level = AccessLevel.PRIVATE,makeFinal = true)\n    public class ChequeController {\n    \n        ProductService productService;\n    \n        public ChequeController(ProductService productService) {\n            this.productService = productService;\n        }\n    \n        @GetMapping(value = &quot;/get/{id}&quot;, produces = &quot;application/json&quot;)\n        public Optional&lt;Product&gt; getByid(@PathVariable Long id) {\n            return productService.getById(id);\n        }\n    \n        @GetMapping(&quot;/test&quot;)\n        public String test() {\n            return &quot;test&quot;;\n        }\n    }  \n</code></pre>\n<p>Conf:</p>\n<pre><code>@Configuration\npublic class OpenApiConfiguration {\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI()\n                .info(\n                        new Info()\n                                .title(&quot;Example Swagger Api&quot;)\n                                .version(&quot;1.0.0&quot;)\n                );\n    }\n}\n</code></pre>\n<p>Trying to open in <code>localhost:8080/swagger-ui.html</code> and getting:</p>\n<p><code>Whitelabel Error Page There was an unexpected error (type=Not Found, status=404).</code> in <a href=\"https://springdoc.org/#getting-started\" rel=\"nofollow noreferrer\">https://springdoc.org/#getting-started</a> saying, that it will automatically deploy swagger-ui to a spring-boot application<br />\nwhat im doing wrong</p>\n"},{"tags":["java","intellij-idea","dcevm","hotswapagent"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1671221991,"post_id":74829295,"comment_id":132060660,"body_markdown":"What IDE version do you use?","body":"What IDE version do you use?"},{"owner":{"account_id":27240408,"reputation":63,"user_id":20766685,"display_name":"Kevin Olsen"},"score":0,"creation_date":1671223602,"post_id":74829295,"comment_id":132061055,"body_markdown":"@CrazyCoder thank you very much for the answer. I am using version 2022.3.","body":"@CrazyCoder thank you very much for the answer. I am using version 2022.3."}],"answers":[{"comments":[{"owner":{"account_id":27240408,"reputation":63,"user_id":20766685,"display_name":"Kevin Olsen"},"score":0,"creation_date":1671223644,"post_id":74829508,"comment_id":132061065,"body_markdown":"Thank you very much for the answer. I used the vm option and it worked! But now I get this error: HOTSWAP AGENT: 22:28:08.750 ERROR (org.hotswap.agent.annotation.handler.PluginClassFileTransformer) - InvocationTargetException in transform method on plugin &#39;class org.hotswap.agent.plugin.log4j2.Log4j2Plugin&#39; class &#39;org/apache/logging/log4j/core/LoggerContext&#39;.","body":"Thank you very much for the answer. I used the vm option and it worked! But now I get this error: HOTSWAP AGENT: 22:28:08.750 ERROR (org.hotswap.agent.annotation.handler.PluginClassFileTransfo&zwnj;&#8203;rmer) - InvocationTargetException in transform method on plugin &#39;class org.hotswap.agent.plugin.log4j2.Log4j2Plugin&#39; class &#39;org/apache/logging/log4j/core/LoggerContext&#39;."},{"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"score":3,"creation_date":1671238216,"post_id":74829508,"comment_id":132063504,"body_markdown":"It&#39;s hard to guess why HotSwap Agent doesn&#39;t like your Log4j plugin (CVE-2021-44228 has entered the chat) without having access to your project and configuration. It is, however, easy to disable it using the following argument: `-XX:HotswapAgent=external -javaagent:&quot;&lt;dcevm-path&gt;\\lib\\hotswap\\hotswap-agent.jar=disablePlugin=Log4j2&quot;`.","body":"It&#39;s hard to guess why HotSwap Agent doesn&#39;t like your Log4j plugin (CVE-2021-44228 has entered the chat) without having access to your project and configuration. It is, however, easy to disable it using the following argument: <code>-XX:HotswapAgent=external -javaagent:&quot;&lt;dcevm-path&gt;\\lib\\hotswap\\hotswap-agent.jar=disab&zwnj;&#8203;lePlugin=Log4j2&quot;</code>."},{"owner":{"account_id":27240408,"reputation":63,"user_id":20766685,"display_name":"Kevin Olsen"},"score":0,"creation_date":1671285084,"post_id":74829508,"comment_id":132068929,"body_markdown":"Haha thank you once again. It worked!!!","body":"Haha thank you once again. It worked!!!"}],"tags":[],"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1671222788,"creation_date":1671222788,"answer_id":74829508,"question_id":74829295,"body_markdown":"Well, the version you mention does not require the use of the HotSwapAgent plugin or of any other plugin.\r\n\r\nWhat you have to do is define the folder `dcevm-11.0.15+1` as JDK and put the following argument in the VM options of your project&#39;s debug configuration, in IntelliJ:\r\n\r\n    -XX:HotswapAgent=fatjar\r\n\r\nor\r\n\r\n    -XX:HotswapAgent=core\r\n\r\nIn fatjar mode all plugins will be available. In core mode only core JVM plugins will be available.","title":"TravaOpenJDK11 - HotSwapAgent - DCEVM installation not found","body":"<p>Well, the version you mention does not require the use of the HotSwapAgent plugin or of any other plugin.</p>\n<p>What you have to do is define the folder <code>dcevm-11.0.15+1</code> as JDK and put the following argument in the VM options of your project's debug configuration, in IntelliJ:</p>\n<pre><code>-XX:HotswapAgent=fatjar\n</code></pre>\n<p>or</p>\n<pre><code>-XX:HotswapAgent=core\n</code></pre>\n<p>In fatjar mode all plugins will be available. In core mode only core JVM plugins will be available.</p>\n"}],"owner":{"account_id":27240408,"reputation":63,"user_id":20766685,"display_name":"Kevin Olsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74829508,"answer_count":1,"score":6,"last_activity_date":1671283769,"creation_date":1671221194,"question_id":74829295,"body_markdown":"I&#39;m trying to use the HotSwapAgent plugin in IntelliJ. So, I have set as &quot;agent path&quot; the path of `hotswap-agent.jar` (found in the Trava Open JDK folder) that I downloaded from [here](https://github.com/TravaOpenJDK/trava-jdk-11-dcevm/releases/download/dcevm-11.0.15%2B1/Openjdk11u-dcevm-windows-x64.zip). But as you can see [here](https://i.stack.imgur.com/xDYNz.png), I get the following error:\r\n\r\n&gt; DCEVM installation not found for JDK specified for the current project. You should download and install it.\r\n\r\nHowever, the download link redirects [here](https://github.com/dcevm/dcevm/releases), where there are installers only up to version 8 (which seems reasonable to me since the Trava Open JDK 11 I&#39;m trying to use is already patched and includes its own agent.\r\n\r\nSo, what am I missing here?","title":"TravaOpenJDK11 - HotSwapAgent - DCEVM installation not found","body":"<p>I'm trying to use the HotSwapAgent plugin in IntelliJ. So, I have set as &quot;agent path&quot; the path of <code>hotswap-agent.jar</code> (found in the Trava Open JDK folder) that I downloaded from <a href=\"https://github.com/TravaOpenJDK/trava-jdk-11-dcevm/releases/download/dcevm-11.0.15%2B1/Openjdk11u-dcevm-windows-x64.zip\" rel=\"noreferrer\">here</a>. But as you can see <a href=\"https://i.stack.imgur.com/xDYNz.png\" rel=\"noreferrer\">here</a>, I get the following error:</p>\n<blockquote>\n<p>DCEVM installation not found for JDK specified for the current project. You should download and install it.</p>\n</blockquote>\n<p>However, the download link redirects <a href=\"https://github.com/dcevm/dcevm/releases\" rel=\"noreferrer\">here</a>, where there are installers only up to version 8 (which seems reasonable to me since the Trava Open JDK 11 I'm trying to use is already patched and includes its own agent.</p>\n<p>So, what am I missing here?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1671356071,"post_id":74834374,"comment_id":132078480,"body_markdown":"Please enable spring security debug logs and post them here","body":"Please enable spring security debug logs and post them here"}],"owner":{"account_id":26768638,"reputation":3,"user_id":20369341,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671282856,"creation_date":1671282856,"question_id":74834374,"body_markdown":"After configuring Spring&#39;s Web Security my register works expected but when I try to login my login page says that my username or password is invalid a I am using in memory mysql database and I checked database values after register if I am typing in correct (username, password). When i used hardcoded values in CustomUserDetailsService login worked like expected\r\n\r\n**My SecurityConfig :**\r\n\r\n```\r\npackage ru.connor.shopping_app.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport ru.connor.shopping_app.service.CustomUserDetailsService;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SpringSecurity extends WebSecurityConfigurerAdapter {\r\n    private final CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;, &quot;/register&quot;, &quot;/error&quot;, &quot;/shop/**&quot;, &quot;/image/**&quot;).permitAll()\r\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;)\r\n                .loginProcessingUrl(&quot;/process_login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .failureUrl(&quot;/login?error&quot;)\r\n                .and()\r\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;); // Logout\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**CustomUserDetailsService :**\r\n\r\n\r\n```\r\npackage ru.connor.shopping_app.service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\nimport ru.connor.shopping_app.model.User;\r\nimport ru.connor.shopping_app.repository.UserRepository;\r\n\r\nimport java.util.Optional;\r\n\r\n\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = userRepository.findAllByEmail(s);\r\n        if (user.isEmpty()) throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n\r\n        return new User(user.get());\r\n    }\r\n}\r\n```\r\n\r\n**UserService:** \r\n\r\n\r\n```\r\npackage ru.connor.shopping_app.service;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport ru.connor.shopping_app.model.Role;\r\nimport ru.connor.shopping_app.model.User;\r\nimport ru.connor.shopping_app.repository.UserRepository;\r\n\r\nimport java.security.Principal;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public boolean createUser(User user) {\r\n        String email = user.getEmail();\r\n        if (userRepository.findByEmail(email) != null) return false;\r\n        user.setActive(true);\r\n        user.setFirstName(user.getFirstName());\r\n        user.setLastName(user.getLastName());\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        user.getRoles().add(Role.ROLE_USER);\r\n        log.info(&quot;Saving new User with email: {}&quot;, email);\r\n        userRepository.save(user);\r\n        return true;\r\n    }\r\n\r\n    public List&lt;User&gt; list() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public void banUser(Long id) {\r\n        User user = userRepository.findById(Math.toIntExact(id)).orElse(null);\r\n        if (user != null) {\r\n            if (user.isActive()) {\r\n                user.setActive(false);\r\n                log.info(&quot;Ban user with id = {}; email: {}&quot;, user.getId(), user.getEmail());\r\n            } else {\r\n                user.setActive(true);\r\n                log.info(&quot;Unban user with id = {}; email: {}&quot;, user.getId(), user.getEmail());\r\n            }\r\n        }\r\n        userRepository.save(user);\r\n    }\r\n\r\n    public void changeUserRoles(User user, Map&lt;String, String&gt; form) {\r\n        Set&lt;String&gt; roles = Arrays.stream(Role.values())\r\n                .map(Role::name)\r\n                .collect(Collectors.toSet());\r\n        user.getRoles().clear();\r\n        for (String key : form.keySet()) {\r\n            if (roles.contains(key)) {\r\n                user.getRoles().add(Role.valueOf(key));\r\n            }\r\n        }\r\n        userRepository.save(user);\r\n    }\r\n\r\n    public User getUserByPrincipal(Principal principal) {\r\n        if (principal == null) return new User();\r\n        return userRepository.findByEmail(principal.getName());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI do not understand what the problem is","title":"After configuring Spring Web security login gives me Invalid username and password error","body":"<p>After configuring Spring's Web Security my register works expected but when I try to login my login page says that my username or password is invalid a I am using in memory mysql database and I checked database values after register if I am typing in correct (username, password). When i used hardcoded values in CustomUserDetailsService login worked like expected</p>\n<p><strong>My SecurityConfig :</strong></p>\n<pre><code>package ru.connor.shopping_app.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport ru.connor.shopping_app.service.CustomUserDetailsService;\n\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SpringSecurity extends WebSecurityConfigurerAdapter {\n    private final CustomUserDetailsService customUserDetailsService;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/login&quot;, &quot;/register&quot;, &quot;/error&quot;, &quot;/shop/**&quot;, &quot;/image/**&quot;).permitAll()\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/process_login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .failureUrl(&quot;/login?error&quot;)\n                .and()\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/login&quot;); // Logout\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/images/**&quot;, &quot;/productImages/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;);\n    }\n\n\n}\n\n</code></pre>\n<p><strong>CustomUserDetailsService :</strong></p>\n<pre><code>package ru.connor.shopping_app.service;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport ru.connor.shopping_app.model.User;\nimport ru.connor.shopping_app.repository.UserRepository;\n\nimport java.util.Optional;\n\n\n@RequiredArgsConstructor\n@Service\npublic class CustomUserDetailsService implements UserDetailsService {\n    private final UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = userRepository.findAllByEmail(s);\n        if (user.isEmpty()) throw new UsernameNotFoundException(&quot;User not found&quot;);\n\n        return new User(user.get());\n    }\n}\n</code></pre>\n<p><strong>UserService:</strong></p>\n<pre><code>package ru.connor.shopping_app.service;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport ru.connor.shopping_app.model.Role;\nimport ru.connor.shopping_app.model.User;\nimport ru.connor.shopping_app.repository.UserRepository;\n\nimport java.security.Principal;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class UserService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public boolean createUser(User user) {\n        String email = user.getEmail();\n        if (userRepository.findByEmail(email) != null) return false;\n        user.setActive(true);\n        user.setFirstName(user.getFirstName());\n        user.setLastName(user.getLastName());\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.getRoles().add(Role.ROLE_USER);\n        log.info(&quot;Saving new User with email: {}&quot;, email);\n        userRepository.save(user);\n        return true;\n    }\n\n    public List&lt;User&gt; list() {\n        return userRepository.findAll();\n    }\n\n    public void banUser(Long id) {\n        User user = userRepository.findById(Math.toIntExact(id)).orElse(null);\n        if (user != null) {\n            if (user.isActive()) {\n                user.setActive(false);\n                log.info(&quot;Ban user with id = {}; email: {}&quot;, user.getId(), user.getEmail());\n            } else {\n                user.setActive(true);\n                log.info(&quot;Unban user with id = {}; email: {}&quot;, user.getId(), user.getEmail());\n            }\n        }\n        userRepository.save(user);\n    }\n\n    public void changeUserRoles(User user, Map&lt;String, String&gt; form) {\n        Set&lt;String&gt; roles = Arrays.stream(Role.values())\n                .map(Role::name)\n                .collect(Collectors.toSet());\n        user.getRoles().clear();\n        for (String key : form.keySet()) {\n            if (roles.contains(key)) {\n                user.getRoles().add(Role.valueOf(key));\n            }\n        }\n        userRepository.save(user);\n    }\n\n    public User getUserByPrincipal(Principal principal) {\n        if (principal == null) return new User();\n        return userRepository.findByEmail(principal.getName());\n    }\n}\n</code></pre>\n<p>I do not understand what the problem is</p>\n"},{"tags":["java","spring","dependency-injection","configuration"],"answers":[{"comments":[{"owner":{"account_id":25181007,"reputation":81,"user_id":19022508,"display_name":"Mykhailo Pavliuk"},"score":0,"creation_date":1671285034,"post_id":74834326,"comment_id":132068918,"body_markdown":"You are right! Good one, thank you!","body":"You are right! Good one, thank you!"}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671282484,"creation_date":1671282484,"answer_id":74834326,"question_id":74833334,"body_markdown":"Try\r\n\r\n    System.setProperty(&quot;credentialsPropertyPrefix&quot;,cmd.getOptionValue(CREDENTIALS_PROPERTY_PREFIX_ARGUMENT));\r\n        application.run();","title":"How to inject/pass value into @Configuration-bean after/in application.run() method?","body":"<p>Try</p>\n<pre><code>System.setProperty(&quot;credentialsPropertyPrefix&quot;,cmd.getOptionValue(CREDENTIALS_PROPERTY_PREFIX_ARGUMENT));\n    application.run();\n</code></pre>\n"}],"owner":{"account_id":25181007,"reputation":81,"user_id":19022508,"display_name":"Mykhailo Pavliuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74834326,"answer_count":1,"score":0,"last_activity_date":1671282484,"creation_date":1671272547,"question_id":74833334,"body_markdown":"My application in main method reads parameters and runs Spring application. My Configuration with DataSource bean inside needs to read one of the parameter to use in initialization of datasource.\r\n\r\n**Application class**\r\n```\r\npublic static void main(String[] args) throws ParseException, IOException {\r\n   SpringApplication application = new SpringApplication(BpMaterializedViewToolApplication.class);\r\n\r\n   CommandLine cmd = getCmd(args);\r\n \r\n   String credentialsPropertyPrefix = cmd.getOptionValue(CREDENTIALS_PROPERTY_PREFIX_ARGUMENT);\r\n\r\n   application.run(credentialsPropertyPrefix);\r\n}\r\n\r\n@Override\r\npublic void run(String... args) {\r\n   someMethod(args[0]);\r\n}\r\n\r\n```\r\n\r\n**Configuration class**\r\n\r\n```\r\n@Configuration\r\npublic class DataSourceConfig {\r\n\r\n    @Value(&quot;${credentialsPropertyPrefix}&quot;) // doesn&#39;t work, but need something like this\r\n    private String credentialsPropertyPrefix;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    @Primary\r\n    public DataSource getDataSource() {\r\n        String username = env.getProperty(credentialsPropertyPrefix + &quot;.username&quot;); // credentialsPropertyPrefix needs to be present there\r\n        ...\r\n    }\r\n\r\n```\r\n\r\n\r\nSo I need my `DataSource getDataSource()` to properly read that `credentialsPropertyPrefix` argument and use in datasource.","title":"How to inject/pass value into @Configuration-bean after/in application.run() method?","body":"<p>My application in main method reads parameters and runs Spring application. My Configuration with DataSource bean inside needs to read one of the parameter to use in initialization of datasource.</p>\n<p><strong>Application class</strong></p>\n<pre><code>public static void main(String[] args) throws ParseException, IOException {\n   SpringApplication application = new SpringApplication(BpMaterializedViewToolApplication.class);\n\n   CommandLine cmd = getCmd(args);\n \n   String credentialsPropertyPrefix = cmd.getOptionValue(CREDENTIALS_PROPERTY_PREFIX_ARGUMENT);\n\n   application.run(credentialsPropertyPrefix);\n}\n\n@Override\npublic void run(String... args) {\n   someMethod(args[0]);\n}\n\n</code></pre>\n<p><strong>Configuration class</strong></p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n    @Value(&quot;${credentialsPropertyPrefix}&quot;) // doesn't work, but need something like this\n    private String credentialsPropertyPrefix;\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    @Primary\n    public DataSource getDataSource() {\n        String username = env.getProperty(credentialsPropertyPrefix + &quot;.username&quot;); // credentialsPropertyPrefix needs to be present there\n        ...\n    }\n\n</code></pre>\n<p>So I need my <code>DataSource getDataSource()</code> to properly read that <code>credentialsPropertyPrefix</code> argument and use in datasource.</p>\n"},{"tags":["java","apache-poi","conditional-formatting"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670418342,"post_id":74716993,"comment_id":131871539,"body_markdown":"You will need to elaborate on the `it should highlight the selected cells in column &#39;J&#39; but the entire column &#39;J&#39; is getting highlighted` part. The screenshot shows the same values over and over, so no wonder they all get red font. And from what I can tell, it is not an issue with cell range you are highlighting. So you should also elaborate on what actually the issue is. Also some raw data would help to reproduce the issue","body":"You will need to elaborate on the <code>it should highlight the selected cells in column &#39;J&#39; but the entire column &#39;J&#39; is getting highlighted</code> part. The screenshot shows the same values over and over, so no wonder they all get red font. And from what I can tell, it is not an issue with cell range you are highlighting. So you should also elaborate on what actually the issue is. Also some raw data would help to reproduce the issue"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1670419998,"post_id":74716993,"comment_id":131872095,"body_markdown":"Can&#39;t reproduce anything in excel with that information. However, you might want to evaluate formulas before writing to file: `workbook.getCreationHelper().createFormulaEvaluator().evaluateAll();`","body":"Can&#39;t reproduce anything in excel with that information. However, you might want to evaluate formulas before writing to file: <code>workbook.getCreationHelper().createFormulaEvaluator().evalua&zwnj;&#8203;teAll();</code>"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1670499109,"post_id":74716993,"comment_id":131891652,"body_markdown":"@XtremeBaumer I have updated the post and added the xml related information. Let me know if this helps","body":"@XtremeBaumer I have updated the post and added the xml related information. Let me know if this helps"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1670500010,"post_id":74716993,"comment_id":131891946,"body_markdown":"@XtremeBaumer By the way evaluate formula didn&#39;t help.","body":"@XtremeBaumer By the way evaluate formula didn&#39;t help."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670500364,"post_id":74716993,"comment_id":131892058,"body_markdown":"I strongly believe that you are either omitting crucial information or that the formula is broken as it is. Unless you can provide a reproducible example I don&#39;t see any way we can help you","body":"I strongly believe that you are either omitting crucial information or that the formula is broken as it is. Unless you can provide a reproducible example I don&#39;t see any way we can help you"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1670559236,"post_id":74716993,"comment_id":131907322,"body_markdown":"@XtremeBaumer I have added the full code for reference with all snapshots.","body":"@XtremeBaumer I have added the full code for reference with all snapshots."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1670907372,"post_id":74716993,"comment_id":131976064,"body_markdown":"Did you validated if the formula is applied to all the rows of column J ?","body":"Did you validated if the formula is applied to all the rows of column J ?"},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1671020376,"post_id":74716993,"comment_id":132005963,"body_markdown":"Try to replace your formula by: `String kkf =&quot;IF(AND(NOT(ISBLANK(J4)),NOT(ISNUMBER(FIND(J4,PossibleValues!$D$2)))),TRUE,FALSE)&quot;;` It works for me (but it is case sensitive)","body":"Try to replace your formula by: <code>String kkf =&quot;IF(AND(NOT(ISBLANK(J4)),NOT(ISNUMBER(FIND(J4,PossibleValue&zwnj;&#8203;s!$D$2)))),TRUE,FALS&zwnj;&#8203;E)&quot;;</code> It works for me (but it is case sensitive)"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1671021566,"post_id":74716993,"comment_id":132006371,"body_markdown":"@PhilippeFery Thanks for the reply.. it worked..but one catch is the formula u provided will handle one value at a time. If I enter comma-separate ones like (FL,MD) it is highlighting that as well. The expectation is to handle comma-separated values also","body":"@PhilippeFery Thanks for the reply.. it worked..but one catch is the formula u provided will handle one value at a time. If I enter comma-separate ones like (FL,MD) it is highlighting that as well. The expectation is to handle comma-separated values also"},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1671022214,"post_id":74716993,"comment_id":132006604,"body_markdown":"Ok, I will have a look at it","body":"Ok, I will have a look at it"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671281445,"post_id":74716993,"comment_id":132068263,"body_markdown":"Should mention related your question for [conditional formatting comma-separated values](https://stackoverflow.com/questions/74370667/apache-poi-conditional-formatting-for-comma-separated-values-mismatch), particularly if this is a requirement here.","body":"Should mention related your question for <a href=\"https://stackoverflow.com/questions/74370667/apache-poi-conditional-formatting-for-comma-separated-values-mismatch\">conditional formatting comma-separated values</a>, particularly if this is a requirement here."}],"answers":[{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1671282695,"post_id":74832216,"comment_id":132068490,"body_markdown":"For the prefix see also [What are _xlfn and _xlpm in excel mean?](https://stackoverflow.com/questions/64294341/what-are-xlfn-and-xlpm-in-excel-mean)","body":"For the prefix see also <a href=\"https://stackoverflow.com/questions/64294341/what-are-xlfn-and-xlpm-in-excel-mean\">What are _xlfn and _xlpm in excel mean?</a>"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1671455489,"post_id":74832216,"comment_id":132096098,"body_markdown":"@Axel Thank you so much.. Finally got the solution and also thanks for providing us very detailed explanation","body":"@Axel Thank you so much.. Finally got the solution and also thanks for providing us very detailed explanation"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671282413,"creation_date":1671258384,"answer_id":74832216,"question_id":74716993,"body_markdown":"## Short answer\r\n\r\nThe problem is with the `FILTERXML` function used in your conditional formatting. This should be prefixed `_xlfn` in XML sheet storage. To make it work your formula should be changed to following:\r\n\r\n```java\r\nString kkf = &quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(_xlfn.FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),_xlfn.FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\r\n```\r\n\r\n### Reason\r\n\r\n[FILTERXML function](https://support.microsoft.com/en-us/office/filterxml-function-4df72efc-11ec-4951-86f5-c1374812f5b7) was introduced in Excel 2013. So it was introduced after Microsoft had published the `Office Open XML` file format for Microsoft Office files in 2006 for Office 2007. To mark such later introduced functions, Microsoft decided to prefix them with `_xlfn` in XML storage. After reading the XML, the Excel GUI knows whether the function is known in that Excel version or not. If yes, the prefix gets removed and the function name gets localized (e.g. in German Excel: to `XMLFILTER`). If not, the prefix remains and the user also knows that this function is unknown in that Excel version. See [Issue: An _xlfn. prefix is displayed in front of a formula](https://support.microsoft.com/en-us/office/issue-an-xlfn-prefix-is-displayed-in-front-of-a-formula-882f1ef7-68fb-4fcd-8d54-9fbb77fd5025).\r\n\r\n\r\n### Why we need the storage formula version?\r\n\r\nIn Apache POI `Cell.setCellFormula` as well as `SheetConditionalFormatting.createConditionalFormattingRule` sets the formula string into the XML directly. So that string must be exactly as it shall be stored in XML.\r\n\r\n### Learn more about this by inspecting the file-formats\r\n\r\n`Office Open XML` files, and so also `*.xlsx` files, are ZIP archives containing XML files and other files into a specific directory structure. So one simply can unzip a `*.xlsx` file to have a look into.\r\n\r\nSo after creating your `color.xlsx` using your code, unzip it and have a look into `xl/worksheets/sheet1.xml`.\r\n\r\nYou will find something like:\r\n\r\n    &lt;conditionalFormatting sqref=&quot;J4:J10000&quot;&gt;\r\n     &lt;cfRule type=&quot;expression&quot; dxfId=&quot;1&quot; priority=&quot;2&quot;&gt;\r\n      &lt;formula&gt;\r\n       &lt;![CDATA[ IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(J4,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),0))),&quot;&quot;),TRUE()) ]]&gt;\r\n      &lt;/formula&gt;\r\n     &lt;/cfRule&gt;\r\n    &lt;/conditionalFormatting&gt;\r\n\r\nAnd this does not work in Excel.\r\n\r\nNow open the `color.xlsx` in Excel and make it work. Then save the the `color.xlsx`, unzip it again and have a look into `xl/worksheets/sheet1.xml`.\r\n\r\nYou will find something like:\r\n\r\n    &lt;x14:conditionalFormattings&gt;\r\n     &lt;x14:conditionalFormatting xmlns:xm=&quot;http://schemas.microsoft.com/office/excel/2006/main&quot;&gt;\r\n      &lt;x14:cfRule type=&quot;expression&quot; priority=&quot;2&quot; id=&quot;{00000000-000E-0000-0000-000002000000}&quot;&gt;\r\n       &lt;xm:f&gt;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(_xlfn.FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(J4,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),_xlfn.FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),0))),&quot;&quot;),TRUE())&lt;/xm:f&gt;\r\n      ...\r\n      &lt;/x14:cfRule&gt;\r\n      ...\r\n     &lt;/x14:conditionalFormatting&gt;\r\n    &lt;/x14:conditionalFormattings&gt;\r\n\r\nThis shows the `_xlfn` prefix before `FILTERXML` in formula string.\r\n\r\nIt also shows that a totally different version of conditional formatting is used. But that&#39;s a secondary problem. The prefixed version of the formula string also works using as formula string within the old version of `conditionalFormatting`. But, of course that is not guaranteed in all cases. So to be on save side for all cases, one of two possibilities must be given:\r\n\r\n* either one avoids using all Excel functions introduced after publishing `Office Open XML` in 2006 (Office 2007)\r\n* or Apache POI has to fully support all changes Microsoft made after publishing `Office Open XML` in 2006 (Office 2007). \r\n\r\nTo fulfill the latter Apache POI is far away. It not even supports all features of Office 2007 up to now.","title":"Conditional formatting highlight only invalid cells","body":"<h2>Short answer</h2>\n<p>The problem is with the <code>FILTERXML</code> function used in your conditional formatting. This should be prefixed <code>_xlfn</code> in XML sheet storage. To make it work your formula should be changed to following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String kkf = &quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(_xlfn.FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),_xlfn.FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\n</code></pre>\n<h3>Reason</h3>\n<p><a href=\"https://support.microsoft.com/en-us/office/filterxml-function-4df72efc-11ec-4951-86f5-c1374812f5b7\" rel=\"nofollow noreferrer\">FILTERXML function</a> was introduced in Excel 2013. So it was introduced after Microsoft had published the <code>Office Open XML</code> file format for Microsoft Office files in 2006 for Office 2007. To mark such later introduced functions, Microsoft decided to prefix them with <code>_xlfn</code> in XML storage. After reading the XML, the Excel GUI knows whether the function is known in that Excel version or not. If yes, the prefix gets removed and the function name gets localized (e.g. in German Excel: to <code>XMLFILTER</code>). If not, the prefix remains and the user also knows that this function is unknown in that Excel version. See <a href=\"https://support.microsoft.com/en-us/office/issue-an-xlfn-prefix-is-displayed-in-front-of-a-formula-882f1ef7-68fb-4fcd-8d54-9fbb77fd5025\" rel=\"nofollow noreferrer\">Issue: An _xlfn. prefix is displayed in front of a formula</a>.</p>\n<h3>Why we need the storage formula version?</h3>\n<p>In Apache POI <code>Cell.setCellFormula</code> as well as <code>SheetConditionalFormatting.createConditionalFormattingRule</code> sets the formula string into the XML directly. So that string must be exactly as it shall be stored in XML.</p>\n<h3>Learn more about this by inspecting the file-formats</h3>\n<p><code>Office Open XML</code> files, and so also <code>*.xlsx</code> files, are ZIP archives containing XML files and other files into a specific directory structure. So one simply can unzip a <code>*.xlsx</code> file to have a look into.</p>\n<p>So after creating your <code>color.xlsx</code> using your code, unzip it and have a look into <code>xl/worksheets/sheet1.xml</code>.</p>\n<p>You will find something like:</p>\n<pre><code>&lt;conditionalFormatting sqref=&quot;J4:J10000&quot;&gt;\n &lt;cfRule type=&quot;expression&quot; dxfId=&quot;1&quot; priority=&quot;2&quot;&gt;\n  &lt;formula&gt;\n   &lt;![CDATA[ IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(J4,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),0))),&quot;&quot;),TRUE()) ]]&gt;\n  &lt;/formula&gt;\n &lt;/cfRule&gt;\n&lt;/conditionalFormatting&gt;\n</code></pre>\n<p>And this does not work in Excel.</p>\n<p>Now open the <code>color.xlsx</code> in Excel and make it work. Then save the the <code>color.xlsx</code>, unzip it again and have a look into <code>xl/worksheets/sheet1.xml</code>.</p>\n<p>You will find something like:</p>\n<pre><code>&lt;x14:conditionalFormattings&gt;\n &lt;x14:conditionalFormatting xmlns:xm=&quot;http://schemas.microsoft.com/office/excel/2006/main&quot;&gt;\n  &lt;x14:cfRule type=&quot;expression&quot; priority=&quot;2&quot; id=&quot;{00000000-000E-0000-0000-000002000000}&quot;&gt;\n   &lt;xm:f&gt;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(_xlfn.FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(J4,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),_xlfn.FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),0))),&quot;&quot;),TRUE())&lt;/xm:f&gt;\n  ...\n  &lt;/x14:cfRule&gt;\n  ...\n &lt;/x14:conditionalFormatting&gt;\n&lt;/x14:conditionalFormattings&gt;\n</code></pre>\n<p>This shows the <code>_xlfn</code> prefix before <code>FILTERXML</code> in formula string.</p>\n<p>It also shows that a totally different version of conditional formatting is used. But that's a secondary problem. The prefixed version of the formula string also works using as formula string within the old version of <code>conditionalFormatting</code>. But, of course that is not guaranteed in all cases. So to be on save side for all cases, one of two possibilities must be given:</p>\n<ul>\n<li>either one avoids using all Excel functions introduced after publishing <code>Office Open XML</code> in 2006 (Office 2007)</li>\n<li>or Apache POI has to fully support all changes Microsoft made after publishing <code>Office Open XML</code> in 2006 (Office 2007).</li>\n</ul>\n<p>To fulfill the latter Apache POI is far away. It not even supports all features of Office 2007 up to now.</p>\n"},{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671277231,"creation_date":1671277231,"answer_id":74833771,"question_id":74716993,"body_markdown":"If using VBA is an acceptable solution for you, then a possible solution would be to create an .xlsm file containing the functions needed for conditional formatting.\r\n\r\n1. Create manually the color.xlsm file\r\n2. Add the 2 empty sheets &quot;Ruleset&quot; and &quot;PossibleValues&quot;\r\n3. Open VBA editor\r\n4. In sheet &quot;Ruleset&quot; add following Sub:\r\n\r\n&gt;     Private Sub Worksheet_Change(ByVal Target As Range)\r\n&gt;         If Not Intersect(Target, Range(&quot;$j$4:$j$1000&quot;)) Is Nothing Then\r\n&gt;             Highlight Target\r\n&gt;         End If\r\n&gt;     End Sub\r\n\r\n5. Create a VBA Module and add following Sub...\r\n\r\n&gt;     Sub Highlight(ByVal Cell As Range)\r\n&gt;         Dim Entry() As String\r\n&gt;         Entry = Split(Cell.Value, &quot;,&quot;)     \r\n&gt;         Dim StatesString As String\r\n&gt;         StatesString = UCase(Worksheets(&quot;PossibleValues&quot;).Range(&quot;D2&quot;).Value)\r\n&gt;         Dim States() As String\r\n&gt;         States = Split(StatesString, &quot;,&quot;)\r\n&gt;     \r\n&gt;         Dim Matches As Integer\r\n&gt;         Matches = 0\r\n&gt;         For EntryIdx = 0 To UBound(Entry)\r\n&gt;             If (IsInArray(Entry(EntryIdx), States)) Then\r\n&gt;                 Matches = Matches + 1\r\n&gt;             End If\r\n&gt;         Next EntryIdx\r\n&gt;     \r\n&gt;         If (UBound(Entry) + 1 = Matches) Then\r\n&gt;             Cell.Font.Color = vbBlack\r\n&gt;         Else\r\n&gt;             Cell.Font.Color = vbRed\r\n&gt;         End If End Sub\r\n\r\n...and the following function:\r\n\r\n&gt;     Private Function IsInArray(valToBeFound As Variant, arr As Variant) As Boolean\r\n&gt;         &#39;DEVELOPER: Ryan Wells (wellsr.com)\r\n&gt;         &#39;DESCRIPTION: Function to check if a value is in an array of values\r\n&gt;         &#39;INPUT: Pass the function a value to search for and an array of values of any data type.\r\n&gt;         &#39;OUTPUT: True if is in array, false otherwise\r\n&gt;         Dim element As Variant\r\n&gt;         On Error GoTo IsInArrayError: &#39;array is empty\r\n&gt;         For Each element In arr\r\n&gt;             If element = valToBeFound Then\r\n&gt;                 IsInArray = True\r\n&gt;                 Exit Function\r\n&gt;             End If\r\n&gt;         Next element\r\n&gt;     Exit Function\r\n&gt;     IsInArrayError:\r\n&gt;     On Error GoTo 0\r\n&gt;     IsInArray = False\r\n&gt;     End Function\r\n\r\n6. Finally, you will need to adapt your code to open this manually created .xlsm file rather than creating it programmatically.\r\n\r\nHope it helps\r\n","title":"Conditional formatting highlight only invalid cells","body":"<p>If using VBA is an acceptable solution for you, then a possible solution would be to create an .xlsm file containing the functions needed for conditional formatting.</p>\n<ol>\n<li>Create manually the color.xlsm file</li>\n<li>Add the 2 empty sheets &quot;Ruleset&quot; and &quot;PossibleValues&quot;</li>\n<li>Open VBA editor</li>\n<li>In sheet &quot;Ruleset&quot; add following Sub:</li>\n</ol>\n<blockquote>\n<pre><code>Private Sub Worksheet_Change(ByVal Target As Range)\n    If Not Intersect(Target, Range(&quot;$j$4:$j$1000&quot;)) Is Nothing Then\n        Highlight Target\n    End If\nEnd Sub\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>Create a VBA Module and add following Sub...</li>\n</ol>\n<blockquote>\n<pre><code>Sub Highlight(ByVal Cell As Range)\n    Dim Entry() As String\n    Entry = Split(Cell.Value, &quot;,&quot;)     \n    Dim StatesString As String\n    StatesString = UCase(Worksheets(&quot;PossibleValues&quot;).Range(&quot;D2&quot;).Value)\n    Dim States() As String\n    States = Split(StatesString, &quot;,&quot;)\n\n    Dim Matches As Integer\n    Matches = 0\n    For EntryIdx = 0 To UBound(Entry)\n        If (IsInArray(Entry(EntryIdx), States)) Then\n            Matches = Matches + 1\n        End If\n    Next EntryIdx\n\n    If (UBound(Entry) + 1 = Matches) Then\n        Cell.Font.Color = vbBlack\n    Else\n        Cell.Font.Color = vbRed\n    End If End Sub\n</code></pre>\n</blockquote>\n<p>...and the following function:</p>\n<blockquote>\n<pre><code>Private Function IsInArray(valToBeFound As Variant, arr As Variant) As Boolean\n    'DEVELOPER: Ryan Wells (wellsr.com)\n    'DESCRIPTION: Function to check if a value is in an array of values\n    'INPUT: Pass the function a value to search for and an array of values of any data type.\n    'OUTPUT: True if is in array, false otherwise\n    Dim element As Variant\n    On Error GoTo IsInArrayError: 'array is empty\n    For Each element In arr\n        If element = valToBeFound Then\n            IsInArray = True\n            Exit Function\n        End If\n    Next element\nExit Function\nIsInArrayError:\nOn Error GoTo 0\nIsInArray = False\nEnd Function\n</code></pre>\n</blockquote>\n<ol start=\"6\">\n<li>Finally, you will need to adapt your code to open this manually created .xlsm file rather than creating it programmatically.</li>\n</ol>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74832216,"answer_count":2,"score":3,"last_activity_date":1671282413,"creation_date":1670417428,"question_id":74716993,"body_markdown":"I am creating below conditional formatting rule in Apache POI.\r\n\r\n## Issue\r\nExpected: \r\n* The formula should highlight only invalid values in column &#39;J&#39;.\r\n\r\nActual:\r\n* But all values of the entire column &#39;J&#39; get highlighted, even for valid values.\r\n\r\n### Formula\r\n```java\r\nString kkf=&quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\r\n```\r\n\r\n## Full Code\r\n\r\n```java\r\nimport java.util.ArrayList;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.json.CDL;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport  java.io.*;\r\nimport  org.apache.poi.hssf.usermodel.HSSFSheet;\r\nimport  org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\nimport org.apache.poi.hssf.util.HSSFColor;\r\nimport org.apache.poi.xssf.usermodel.XSSFCellStyle;\r\nimport org.apache.poi.xssf.usermodel.XSSFFont;\r\nimport org.apache.poi.xssf.usermodel.XSSFHyperlink;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.poi.ss.usermodel.BorderStyle;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.CellStyle;\r\nimport org.apache.poi.ss.usermodel.ComparisonOperator;\r\nimport org.apache.poi.ss.usermodel.ConditionalFormattingRule;\r\nimport org.apache.poi.ss.usermodel.CreationHelper;\r\nimport org.apache.poi.ss.usermodel.DataFormatter;\r\nimport org.apache.poi.ss.usermodel.FillPatternType;\r\nimport org.apache.poi.ss.usermodel.Font;\r\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\r\nimport org.apache.poi.ss.usermodel.HorizontalAlignment;\r\nimport org.apache.poi.ss.usermodel.IndexedColors;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.SheetConditionalFormatting;\r\nimport org.apache.poi.ss.usermodel.VerticalAlignment;\r\nimport org.apache.poi.ss.util.CellRangeAddress;\r\nimport org.apache.poi.ss.util.CellReference;\r\nimport org.apache.poi.common.usermodel.Hyperlink;\r\nimport org.apache.poi.hssf.usermodel.HSSFCellStyle;\r\nimport  org.apache.poi.hssf.usermodel.HSSFRow;\r\n\r\npublic class Red {\r\n    public static void main(String[] args) throws Exception{\r\n\r\nString str=&quot;{\\&quot;rulesetgroupname\\&quot;:\\&quot;Coastal122\\&quot;,\\&quot;downloadtype\\&quot;:\\&quot;Template\\&quot;,\\&quot;rulesetid\\&quot;:\\&quot;638a0ac02944f902b1eebab3\\&quot;,\\&quot;rulesetversion\\&quot;:\\&quot;0.1\\&quot;,\\&quot;rulegroupid\\&quot;:\\&quot;638a09f28bd88c16a76fa599\\&quot;,\\&quot;product\\&quot;:\\&quot;CAT\\&quot;,\\&quot;ruletype\\&quot;:\\&quot;ERWR\\&quot;,\\&quot;dataobjects\\&quot;:\\&quot;Location 24,Class Codes 24,BPP Covg 24,Building Covg 24,Building 24,Policy 24\\&quot;,\\&quot;ruletemplateversion\\&quot;:\\&quot;1\\&quot;,\\&quot;ruleTemplaeResponseId\\&quot;:\\&quot;638a09f28bd88c16a76fa599\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;rulegroup\\&quot;:\\&quot;CAT Testing122\\&quot;,\\&quot;metadataheaders\\&quot;:[\\&quot;Rule Name\\&quot;,\\&quot;Rule Label\\&quot;,\\&quot;Modified By\\&quot;,\\&quot;Modified At\\&quot;,\\&quot;Rule ID\\&quot;,\\&quot;Rule Status (Add/Change/Expire/Verify)\\&quot;,\\&quot;Effective Date [MM/DD/YYYY]\\&quot;,\\&quot;Expiration Date [MM/DD/YYYY]\\&quot;,\\&quot;Has Rule Changed?\\&quot;],\\&quot;conditionheaders\\&quot;:[{\\&quot;label\\&quot;:\\&quot;State\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;State\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;NC,SC,TX,VA,MA,GA,AL,IL,DE,NY,MS,NH,RI,ME,FL,MN,CT,NJ,MD\\&quot;},{\\&quot;label\\&quot;:\\&quot;Counties\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;Counties\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;\\&quot;},{\\&quot;label\\&quot;:\\&quot;Zip Codes\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;ZipCodes\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;\\&quot;}],\\&quot;outcomeheaders\\&quot;:[{\\&quot;label\\&quot;:\\&quot;Output\\&quot;,\\&quot;type\\&quot;:\\&quot;String\\&quot;,\\&quot;name\\&quot;:\\&quot;RuleCode\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;}]}&quot;;\r\n\r\n    \tJSONObject output;\r\n        try {\r\n            output = new JSONObject(str);\r\n\r\n          \r\n            \r\n            String filename = &quot;D:\\\\project\\\\excel\\\\color.xlsx&quot; ;\r\n            \r\n\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n\t\t\tString rulegroup = output.getString(&quot;rulegroup&quot;);\r\n\t\t\tString downloadtype = output.getString(&quot;downloadtype&quot;);\r\n\t\t\tXSSFSheet sheet = workbook.createSheet(&quot;Ruleset&quot;);\r\n\r\n\t\t\tsheet.setDefaultColumnWidth(10);\r\n\r\n\t\t\tArrayList&lt;String&gt; headers = new ArrayList&lt;String&gt;();\r\n\t\t\tArrayList&lt;String&gt; nameheaders = new ArrayList&lt;String&gt;();\r\n\r\n\t\t\t// Top Element Font\r\n\r\n\t\t\tFont font31 = workbook.createFont();\r\n\t\t\tfont31.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tfont31.setBold(true);\r\n\t\t\t\r\n\t\t\tXSSFCellStyle style12 = workbook.createCellStyle();\r\n\t\t\tstyle12.setFillForegroundColor(HSSFColor.HSSFColorPredefined.PALE_BLUE.getIndex());\r\n\t\t\tstyle12.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle12.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle12.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle12.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\tstyle12.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\tstyle12.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\tstyle12.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\tstyle12.setWrapText(true);\r\n\t\t\tstyle12.setFont(font31);\r\n\t\t\t\r\n\t\t\tXSSFCellStyle style13 = workbook.createCellStyle();\r\n\t\t\tstyle13.setFillForegroundColor(HSSFColor.HSSFColorPredefined.GREY_40_PERCENT.getIndex());\r\n\t\t\tstyle13.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle13.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle13.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle13.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\tstyle13.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\tstyle13.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\tstyle13.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\tstyle13.setWrapText(true);\r\n\t\t\tstyle13.setFont(font31);\r\n\r\n\t\t\tXSSFCellStyle style14 = workbook.createCellStyle();\r\n\t\t\tFont font32 = workbook.createFont();\r\n\t\t\tfont32.setBold(true);\r\n\t\t\tfont32.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tstyle14.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\tstyle14.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\tstyle14.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\tstyle14.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\tstyle14.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle14.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle14.setWrapText(true);\r\n\t\t\tstyle14.setFont(font32);\r\n\t\t\t// Get Top elements\r\n\r\n\t\t\tString product = output.getString(&quot;product&quot;);\r\n\t\t\tString ruletype = output.getString(&quot;ruletype&quot;);\r\n\t\t\tString dataobject = output.getString(&quot;dataobjects&quot;);\r\n\t\t\tString rulesetid = output.getString(&quot;rulesetid&quot;);\r\n\t\t\tString rulesetversion = output.getString(&quot;rulesetversion&quot;);\r\n\t\t\tString rulegroupid = output.getString(&quot;rulegroupid&quot;);\r\n\t\t\tString ruletemplateversion = output.getString(&quot;ruletemplateversion&quot;);\r\n\t\t\tString rulesetgroupname = output.getString(&quot;rulesetgroupname&quot;);\r\n\r\n\t\t\tXSSFRow rowhead = sheet.createRow((short) 0);\r\n\t\t\trowhead.createCell(0).setCellValue(&quot;Product/Process&quot;);\r\n\t\t\trowhead.getCell(0).setCellStyle(style14);\r\n\t\t\trowhead.createCell(1).setCellValue(product);\r\n\t\t\trowhead.getCell(1).setCellStyle(style13);\r\n\t\t\trowhead.createCell(2).setCellValue(&quot;RuleType&quot;);\r\n\t\t\trowhead.getCell(2).setCellStyle(style14);\r\n\t\t\trowhead.createCell(3).setCellValue(ruletype);\r\n\t\t\trowhead.getCell(3).setCellStyle(style13);\r\n\t\t\trowhead.createCell(4).setCellValue(&quot;DataObject&quot;);\r\n\t\t\trowhead.getCell(4).setCellStyle(style14);\r\n\t\t\trowhead.createCell(5).setCellValue(dataobject);\r\n\t\t\trowhead.getCell(5).setCellStyle(style13);\r\n\t\t\trowhead.createCell(6).setCellValue(&quot;RuleTemplate&quot;);\r\n\t\t\trowhead.getCell(6).setCellStyle(style14);\r\n\t\t\trowhead.createCell(7).setCellValue(rulegroup);\r\n\t\t\trowhead.getCell(7).setCellStyle(style13);\r\n\t\t\trowhead.createCell(8).setCellValue(&quot;RulesetID&quot;);\r\n\t\t\trowhead.getCell(8).setCellStyle(style14);\r\n\t\t\trowhead.createCell(9).setCellValue(rulesetid);\r\n\t\t\trowhead.getCell(9).setCellStyle(style13);\r\n\t\t\trowhead.createCell(10).setCellValue(&quot;RuleSetVersion&quot;);\r\n\t\t\trowhead.getCell(10).setCellStyle(style14);\r\n\t\t\trowhead.createCell(11).setCellValue(rulesetversion);\r\n\t\t\trowhead.getCell(11).setCellStyle(style13);\r\n\t\t\trowhead.createCell(12).setCellValue(&quot;RuleTemplateID&quot;);\r\n\t\t\trowhead.getCell(12).setCellStyle(style14);\r\n\t\t\trowhead.createCell(13).setCellValue(rulegroupid);\r\n\t\t\trowhead.getCell(13).setCellStyle(style13);\r\n\t\t\trowhead.createCell(14).setCellValue(&quot;RuleTemplateVersion&quot;);\r\n\t\t\trowhead.getCell(14).setCellStyle(style14);\r\n\t\t\trowhead.createCell(15).setCellValue(ruletemplateversion);\r\n\t\t\trowhead.getCell(15).setCellStyle(style13);\r\n\t\t\trowhead.createCell(16).setCellValue(&quot;RuleSetGroupName&quot;);\r\n\t\t\trowhead.getCell(16).setCellStyle(style14);\r\n\t\t\trowhead.createCell(17).setCellValue(rulesetgroupname);\r\n\t\t\trowhead.getCell(17).setCellStyle(style12);\r\n\r\n\t\t\trowhead.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\r\n\r\n\t\t\tJSONArray metadataheader = output.getJSONArray(&quot;metadataheaders&quot;);\r\n\t\t\tJSONArray conditionheader = output.getJSONArray(&quot;conditionheaders&quot;);\r\n\t\t\tJSONArray outcomeheader = output.getJSONArray(&quot;outcomeheaders&quot;);\r\n\r\n\t\t\tInteger metheadcount = metadataheader.length();\r\n\t\t\tInteger conheadcount = conditionheader.length();\r\n\t\t\tInteger outheadcount = outcomeheader.length();\r\n\r\n\t\t\tmetadataheader.getString(0);\r\n\r\n\t\t\tfor (int i = 0; i &lt; metadataheader.length(); i++) {\r\n\t\t\t\theaders.add(metadataheader.getString(i));\r\n\t\t\t\tnameheaders.add(metadataheader.getString(i));\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; conditionheader.length(); i++) {\r\n\r\n\t\t\t\tJSONObject json = conditionheader.getJSONObject(i);\r\n\t\t\t\tString conname = json.getString(&quot;label&quot;);\r\n\t\t\t\tString contype = json.getString(&quot;type&quot;);\r\n\t\t\t\tString dataobject1 = json.getString(&quot;dataobject&quot;);\r\n\t\t\t\tcontype = &quot;[&quot; + contype + &quot;]&quot;;\r\n\t\t\t\tString fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contype;\r\n\r\n\t\t\t\theaders.add(fnl);\r\n\r\n\t\t\t\tnameheaders.add(conname);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; outcomeheader.length(); i++) {\r\n\r\n\t\t\t\tJSONObject json = outcomeheader.getJSONObject(i);\r\n//\t\t\t\tif(json.isEmpty()) {\r\n//\t\t\t\t\tthrow new Exception(&quot;Outcome Attributes filed should not be empty&quot;);\r\n//\t\t\t\t} \r\n\t\t\t\tString conname = json.getString(&quot;label&quot;);\r\n\t\t\t\tString contype = json.getString(&quot;type&quot;);\r\n\t\t\t\tString dataobject1 = json.getString(&quot;dataobject&quot;);\r\n\t\t\t\tcontype = &quot;[&quot; + contype + &quot;]&quot;;\r\n\t\t\t\tString fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contype;\r\n\t\t\t\theaders.add(fnl);\r\n\r\n\t\t\t\tnameheaders.add(conname);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Merging Region\r\n\t\t\t// HSSFRow merge = sheet.createRow((short)1);\r\n\t\t\tRow row = sheet.createRow(1);\r\n\t\t\tCell cell = row.createCell(0);\r\n\t\t\tcell.setCellValue(&quot;MetaData&quot;);\r\n\r\n\t\t\t// Merging cells by providing cell index\r\n\t\t\tsheet.addMergedRegion(new CellRangeAddress(1, 1, 0, metheadcount - 1));\r\n\t\t\tFont font3 = workbook.createFont();\r\n\t\t\tfont3.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tfont3.setBold(true);\r\n\r\n\t\t\tXSSFCellStyle style = workbook.createCellStyle();\r\n\t\t\tstyle.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_GREEN.getIndex());\r\n\t\t\tstyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle.setWrapText(true);\r\n\r\n\t\t\t/*\r\n\t\t\t * style.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\t * style.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\t * style.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\t * style.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\t */\r\n\t\t\tstyle.setFont(font3);\r\n\t\t\tcell.setCellStyle(style);\r\n\r\n\t\t\t// style.setFont(headerFont);\r\n\t\t\t// style.setFillForegroundColor(IndexedColors.BLACK.getIndex());\r\n\r\n\t\t\tCell cell1 = row.createCell(metheadcount);\r\n\t\t\tcell1.setCellValue(&quot;Conditional Attributes&quot;);\r\n\r\n\t\t\tif (conheadcount &gt; 1) {\r\n\t\t\t\tsheet.addMergedRegion(new CellRangeAddress(1, 1, metheadcount, metheadcount + conheadcount - 1));\r\n\t\t\t}\r\n\r\n\t\t\tXSSFCellStyle style1 = workbook.createCellStyle();\r\n\t\t\tFont font1 = workbook.createFont();\r\n\t\t\tfont1.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tfont1.setBold(true);\r\n\t\t\tstyle1.setFont(font1);\r\n\t\t\tstyle1.setWrapText(true);\r\n\t\t\tstyle1.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_ORANGE.getIndex());\r\n\t\t\tstyle1.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle1.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle1.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\t/*\r\n\t\t\t * style1.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\t * style1.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\t * style1.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\t * style1.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\t */\r\n\t\t\tcell1.setCellStyle(style1);\r\n\r\n\t\t\tCell cell2 = row.createCell(metheadcount + conheadcount);\r\n\t\t\tcell2.setCellValue(&quot;Outcome Attributes&quot;);\r\n\t\t\tif (outheadcount &gt; 1) {\r\n\t\t\t\tsheet.addMergedRegion(new CellRangeAddress(1, 1, metheadcount + conheadcount,\r\n\t\t\t\t\t\tmetheadcount + conheadcount + outheadcount - 1));\r\n\t\t\t}\r\n\t\t\tXSSFCellStyle style2 = workbook.createCellStyle();\r\n\t\t\tFont font2 = workbook.createFont();\r\n\t\t\tfont2.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tfont2.setBold(true);\r\n\r\n\t\t\tstyle2.setFont(font2);\r\n\t\t\tstyle2.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_CORNFLOWER_BLUE.getIndex());\r\n\t\t\tstyle2.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle2.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\tstyle2.setVerticalAlignment(VerticalAlignment.CENTER);\r\n\t\t\tstyle2.setWrapText(true);\r\n\t\t\t/*\r\n\t\t\t * style2.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\t * style2.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\t * style2.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\t * style2.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\t */\r\n\t\t\tcell2.setCellStyle(style2);\r\n\r\n\t\t\trow.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\r\n\r\n\t\t\t/*\r\n\t\t\t * HSSFCellStyle style22 = workbook.createCellStyle(); Font font22 =\r\n\t\t\t * workbook.createFont();\r\n\t\t\t * font22.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\t * font22.setBold(true); style22.setFont(font22);\r\n\t\t\t * style22.setAlignment(HorizontalAlignment.CENTER);\r\n\t\t\t */\r\n\r\n\t\t\tXSSFCellStyle style22 = workbook.createCellStyle();\r\n\t\t\tFont font22 = workbook.createFont();\r\n\t\t\tfont22.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\r\n\t\t\tfont22.setBold(true);\r\n\t\t\tstyle22.setFont(font22);\r\n\t\t\tstyle22.setBorderTop(BorderStyle.MEDIUM);\r\n\t\t\tstyle22.setBorderBottom(BorderStyle.MEDIUM);\r\n\t\t\tstyle22.setBorderLeft(BorderStyle.MEDIUM);\r\n\t\t\tstyle22.setBorderRight(BorderStyle.MEDIUM);\r\n\t\t\tstyle22.setWrapText(true);\r\n\t\t\t// style22.setFillForegroundColor(HSSFColor.HSSFColorPredefined.WHITE.getIndex());\r\n\t\t\t// style22.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\t\t\tstyle22.setAlignment(HorizontalAlignment.CENTER);\r\n\r\n\t\t\tXSSFRow rowheader = sheet.createRow((short) 2);\r\n\r\n\t\t\tfor (int z = 0; z &lt; headers.size(); z++) {\r\n\t\t\t\trowheader.createCell(z).setCellValue(headers.get(z));\r\n\t\t\t\tString metaDataCellValue = rowheader.getCell(z).getStringCellValue();\r\n\t\t\t\tif(metaDataCellValue.equals(&quot;Rule Name&quot;) || metaDataCellValue.equals(&quot;Modified By&quot;) ||\r\n\t\t\t\t\t\tmetaDataCellValue.equals(&quot;Modified At&quot;) || metaDataCellValue.equals(&quot;Rule ID&quot;)) {\r\n\t\t\t\t\trowheader.getCell(z).setCellStyle(style13);\r\n\t\t\t\t} else {\r\n\t\t\t\t\trowheader.getCell(z).setCellStyle(style22);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t\trowheader.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\r\n\r\n\t\t\t// Get Details\r\n\r\n\t\t\tDataFormatter formatter = new DataFormatter();\r\n\r\n\t\t\tif (downloadtype.equalsIgnoreCase(&quot;rulesets&quot;)) {\r\n\r\n\t\t\t\tJSONArray values = output.getJSONArray(&quot;values&quot;);\r\n\t\t\t\tif (!values.isEmpty()) {\r\n\r\n\t\t\t\t\tshort valcell = 3;\r\n\r\n\t\t\t\t\tfor (int val = 0; val &lt; values.length(); val++) {\r\n\r\n\t\t\t\t\t\tXSSFRow rowheader2 = sheet.createRow((short) valcell + val);\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tJSONObject firstvals = values.getJSONObject(val);\r\n\r\n\t\t\t\t\t\t\tJSONArray methead1 = firstvals.optJSONArray(&quot;metadata&quot;);\r\n\t\t\t\t\t\t\tJSONArray conhead1 = firstvals.optJSONArray(&quot;condition&quot;);\r\n\t\t\t\t\t\t\tJSONArray outhead1 = firstvals.optJSONArray(&quot;outcome&quot;);\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; methead1.length(); i++) {\r\n\t\t\t\t\t\t\t\tJSONObject json = methead1.getJSONObject(i);\r\n\t\t\t\t\t\t\t\tString val23 = json.get(&quot;value&quot;).toString();\r\n\t\t\t\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\t\t\t\tif (!json.isNull(&quot;label&quot;)) {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;label&quot;));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;name&quot;));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tint index = nameheaders.indexOf(name);\r\n\t\t\t\t\t\t\t\trowheader2.createCell(index).setCellValue(val23);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tfor (int y = 0; y &lt; conhead1.length(); y++) {\r\n\t\t\t\t\t\t\t\tJSONObject json = conhead1.getJSONObject(y);\r\n\t\t\t\t\t\t\t\tString val23 = json.get(&quot;value&quot;).toString();\r\n\r\n\t\t\t\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\t\t\t\tif (!json.isNull(&quot;label&quot;)) {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;label&quot;));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;name&quot;));\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tString oper = (json.getString(&quot;operator&quot;));\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\tif (oper.equalsIgnoreCase(&quot;not in&quot;)) {\r\n\r\n\t\t\t\t\t\t\t\t\tval23 = &quot;NOT IN(&quot; + val23 + &quot;)&quot;;\r\n\r\n\t\t\t\t\t\t\t\t} else if (oper.equalsIgnoreCase(&quot;neq&quot;)) {\r\n\r\n\t\t\t\t\t\t\t\t\tval23 = &quot;NOT EQUALS(&quot; + val23 + &quot;)&quot;;\r\n\t\t\t\t\t\t\t\t} else if (oper.equalsIgnoreCase(&quot;&gt;&quot;) || oper.equalsIgnoreCase(&quot;GT&quot;) ) {\r\n\r\n\t\t\t\t\t\t\t\t\tval23 =  &quot;&gt;&quot; + val23;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t} else if (oper.equalsIgnoreCase(&quot;&gt;=&quot;) || oper.equalsIgnoreCase(&quot;GTE&quot;)) {\r\n\r\n\t\t\t\t\t\t\t\t\tval23 =  &quot;&gt;=&quot; + val23;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t \t}else if (oper.equalsIgnoreCase(&quot;&lt;&quot;) || oper.equalsIgnoreCase(&quot;LT&quot;)) {\r\n\r\n\t\t\t\t\t\t\t \t\tval23 =  &quot;&lt;&quot; + val23;\r\n\t\t\t\t\t\t\t \t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t \telse if ( oper.equalsIgnoreCase(&quot;&lt;=&quot;) || oper.equalsIgnoreCase(&quot;LTE&quot;)) {\r\n\r\n\t\t\t\t\t\t\t \t\tval23 =  &quot;&lt;=&quot; + val23;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tint index = nameheaders.indexOf(name);\r\n\t\t\t\t\t\t\t\tif (index &gt; 0) {\r\n\t\t\t\t\t\t\t\t\trowheader2.createCell(index).setCellValue(val23);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tfor (int za = 0; za &lt; outhead1.length(); za++) {\r\n\t\t\t\t\t\t\t\tJSONObject json = outhead1.getJSONObject(za);\r\n\t\t\t\t\t\t\t\tString val23 = json.get(&quot;value&quot;).toString();\r\n\r\n\t\t\t\t\t\t\t\tString name = &quot;&quot;;\r\n\t\t\t\t\t\t\t\tif (!json.isNull(&quot;label&quot;)) {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;label&quot;));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tname = (json.getString(&quot;name&quot;));\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tint index = nameheaders.indexOf(name);\r\n\r\n\t\t\t\t\t\t\t\tif (index &gt; 0) {\r\n\t\t\t\t\t\t\t\t\trowheader2.createCell(index).setCellValue(val23);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (JSONException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\tString error = e.getMessage();\r\n\t\t\t\t\t\t\tthrow new Exception(error);\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t// String error = e.getMessage();\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\tthrow new Exception(e.getMessage());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} //\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t\t\r\n\r\n\t\t\tFormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n\t\t\tevaluator.evaluateAll();\r\n\r\n\t\t\t// Duplicate Highlighter\r\n\r\n\t\t\tString lcollett = &quot;&quot;;\r\n\t\t\tString csv1 = &quot;&quot;;\r\n\t\t\tSheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\r\n\t\t\tint s1 = sheet.getNumMergedRegions();\r\n\r\n\t\t\tfor (int i = 0; i &lt; s1; i++) {\r\n\t\t\t\tCellRangeAddress region = sheet.getMergedRegion(i);\r\n\t\t\t\tint colIndex = region.getFirstColumn();\r\n\t\t\t\tint rowNum = region.getFirstRow();\r\n\t\t\t\tString val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\r\n\t\t\t\tif (val1.contains(&quot;MetaData&quot;)) {\r\n\t\t\t\t\tint fcol = sheet.getMergedRegion(i).getFirstColumn();\r\n\t\t\t\t\tint lcol = sheet.getMergedRegion(i).getLastColumn();\r\n\t\t\t\t\tlcollett = CellReference.convertNumToColString(lcol);\r\n\t\t\t\t\tfor (i = fcol; i &lt;= lcol; i++) {\r\n\t\t\t\t\t\tsheet.autoSizeColumn(i);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; s1; i++) {\r\n\t\t\t\tCellRangeAddress region = sheet.getMergedRegion(i);\r\n\t\t\t\tint colIndex = region.getFirstColumn();\r\n\t\t\t\tint rowNum = region.getFirstRow();\r\n\t\t\t\tString val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\r\n\t\t\t\tArrayList&lt;String&gt; xsdf = new ArrayList&lt;String&gt;();\r\n\t\t\t\tif (val1.contains(&quot;Conditional&quot;)) {\r\n\t\t\t\t\tint fcol = sheet.getMergedRegion(i).getFirstColumn();\r\n\t\t\t\t\tint lcol = sheet.getMergedRegion(i).getLastColumn();\r\n\t\t\t\t\tString fcollett = &quot;&quot;;\r\n\t\t\t\t\tlcollett = CellReference.convertNumToColString(lcol);\r\n\t\t\t\t\tfor (i = fcol; i &lt;= lcol; i++) {\r\n\t\t\t\t\t\tfcollett = CellReference.convertNumToColString(i);\r\n\t\t\t\t\t\tif (i == lcol) {\r\n\t\t\t\t\t\t\txsdf.add(&quot;$&quot; + fcollett + &quot;$4:$&quot; + fcollett + &quot;$10000,\\&quot;*\\&quot;&amp;$&quot; + fcollett + &quot;4&amp;\\&quot;*\\&quot;&quot;);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\txsdf.add(&quot;$&quot; + fcollett + &quot;$4:$&quot; + fcollett + &quot;$10000,$&quot; + fcollett + &quot;4&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsheet.autoSizeColumn(i);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcsv1 = String.join(&quot;,&quot;, xsdf);\r\n\t\t\t\t\tcsv1 = &quot;COUNTIFS(&quot; + csv1 + &quot;)&gt;1&quot;;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfor (int i = 0; i &lt; s1; i++) {\r\n\t\t\t\tCellRangeAddress region = sheet.getMergedRegion(i);\r\n\t\t\t\tint colIndex = region.getFirstColumn();\r\n\t\t\t\tint rowNum = region.getFirstRow();\r\n\t\t\t\tString val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\r\n\t\t\t\tif (val1.contains(&quot;Outcome&quot;)) {\r\n\t\t\t\t\tint fcol = sheet.getMergedRegion(i).getFirstColumn();\r\n\t\t\t\t\tint lcol = sheet.getMergedRegion(i).getLastColumn();\r\n\t\t\t\t\tlcollett = CellReference.convertNumToColString(lcol);\r\n\t\t\t\t\tfor (i = fcol; i &lt;= lcol; i++) {\r\n\t\t\t\t\t\tsheet.autoSizeColumn(i);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tConditionalFormattingRule rule1 = sheetCF.createConditionalFormattingRule(csv1);\r\n\t\t\torg.apache.poi.ss.usermodel.FontFormatting font = rule1.createFontFormatting();\r\n\t\t\tfont.setFontStyle(false, true);\r\n\t\t\tfont.setFontColorIndex(IndexedColors.BLUE.index);\r\n\t\t\tString cellrangeadd = &quot;A4:&quot; + lcollett + &quot;10000&quot;;\r\n\t\t\tCellRangeAddress[] regions = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd) };\r\n\t\t\tsheetCF.addConditionalFormatting(regions, rule1);\r\n\t\t\t\r\n\t\t\t// Sheet 3\r\n\t\t\t\r\n\t\t\tSheetConditionalFormatting sheetCFa = sheet.getSheetConditionalFormatting();\r\n\t\t\t\r\n\t\t\tXSSFSheet sheet21 = workbook.createSheet(&quot;PossibleValues&quot;);\r\n\r\n\t\t\tsheet21.setColumnWidth(0, 20 * 256);\r\n\t\t\tsheet21.setColumnWidth(1, 50 * 256);\r\n\t\t\t\r\n\t\t\tXSSFRow rowhead33 = sheet21.createRow((short) 0);\r\n\r\n\t\t\trowhead33.createCell(0).setCellValue(&quot;DataObject&quot;);\r\n\t\t\trowhead33.getCell(0).setCellStyle(style14);\r\n\t\t\trowhead33.createCell(1).setCellValue(&quot;AttributeName&quot;);\r\n\t\t\trowhead33.getCell(1).setCellStyle(style14);\r\n\t\t\trowhead33.createCell(2).setCellValue(&quot;DataType&quot;);\r\n\t\t\trowhead33.getCell(2).setCellStyle(style14);\r\n\t\t\trowhead33.createCell(3).setCellValue(&quot;PossibleValues&quot;);\r\n\t\t\trowhead33.getCell(3).setCellStyle(style14);\r\n\r\n\t\t\t\r\n\t\t    int attcell=1;\r\n\t\t    ArrayList&lt;String&gt; xkdf = new ArrayList&lt;String&gt;();\r\n\t\t\tfor (int i = 0; i &lt; conditionheader.length(); i++) {\r\n\r\n\t\t\t\tJSONObject json = conditionheader.getJSONObject(i);\r\n\t\t\t\tString conname = json.getString(&quot;label&quot;);\r\n\t\t\t\tString contype = json.getString(&quot;type&quot;);\r\n\t\t\t\tString dataobject1 = json.getString(&quot;dataobject&quot;);\r\n\t\t\t\tString pv = json.getString(&quot;values&quot;);\r\n\t\t\tString \tcontypea = &quot;[&quot; + contype + &quot;]&quot;;\r\n\t\t\tString fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contypea;\r\n\t\t\t\r\n\t\t\t\txkdf.add(fnl);\r\n\t\t\t\t\r\n\r\n\t\t\t\tXSSFRow rowhead334 = sheet21.createRow((short) attcell + i);\r\n\t\t\t\t\t \r\n\t\t\t\trowhead334.createCell(0).setCellValue(dataobject1);\r\n\t\t\t\trowhead334.createCell(1).setCellValue(conname);\r\n\t\t\t\trowhead334.createCell(2).setCellValue(contype);\r\n\t\t        rowhead334.createCell(3).setCellValue(pv);\r\n\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t\tString kkf = &quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\r\n\t\t\tConditionalFormattingRule rule13 = sheetCF.createConditionalFormattingRule(kkf);\r\n\t\t\torg.apache.poi.ss.usermodel.FontFormatting font535 = rule13.createFontFormatting();\r\n\t\t\tfont535.setFontStyle(false, true);\r\n\t\t\tfont535.setFontColorIndex(IndexedColors.RED.index);\r\n\t\t\t\r\n\t\t\tString cellrangeadd2 = &quot;J4:J10000&quot;;\r\n\t\t\tCellRangeAddress[] regionssd = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd2) };\r\n\t\t\tsheetCF.addConditionalFormatting(regionssd, rule13);\r\n\r\n\t\t\t  FileOutputStream fileOut = new FileOutputStream(filename);\r\n\t\t\t  workbook.write(fileOut); \r\n\t\t\t  fileOut.close(); \r\n\t\t\t  workbook.close();\r\n  \r\n            System.out.println(&quot;Your excel file has been generated!&quot;);   \r\n\r\n          \r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }        \r\n    }\r\n\r\n}\r\n```\r\n\r\n## Required manual post-production in Excel\r\nNow  I did the below steps\r\n\r\n1. Add three values in column &#39;J&#39; named &quot;State&quot;. All cells are getting highlighted, see image below:\r\n\r\n[![all cells get highlighted, no matter if valid][1]][1]\r\n\r\n\r\n2. Click Conditional Formatting &gt; Manage Rules &gt; Select Rule (Format Red) &gt; Edit Rules &gt; OK &gt; Apply &gt; OK\r\n\r\nAfter this action the column values are getting highlighted correctly.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n## Question\r\nIs there anything I missed in my Java code?\r\nHow do I avoid this manual activity in Excel?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrJ2p.png\r\n  [2]: https://i.stack.imgur.com/RziCK.png\r\n  [3]: https://i.stack.imgur.com/ThIlD.png","title":"Conditional formatting highlight only invalid cells","body":"<p>I am creating below conditional formatting rule in Apache POI.</p>\n<h2>Issue</h2>\n<p>Expected:</p>\n<ul>\n<li>The formula should highlight only invalid values in column 'J'.</li>\n</ul>\n<p>Actual:</p>\n<ul>\n<li>But all values of the entire column 'J' get highlighted, even for valid values.</li>\n</ul>\n<h3>Formula</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String kkf=&quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\n</code></pre>\n<h2>Full Code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\nimport org.apache.commons.io.FileUtils;\nimport org.json.CDL;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport  java.io.*;\nimport  org.apache.poi.hssf.usermodel.HSSFSheet;\nimport  org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.hssf.util.HSSFColor;\nimport org.apache.poi.xssf.usermodel.XSSFCellStyle;\nimport org.apache.poi.xssf.usermodel.XSSFFont;\nimport org.apache.poi.xssf.usermodel.XSSFHyperlink;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.ss.usermodel.BorderStyle;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.ComparisonOperator;\nimport org.apache.poi.ss.usermodel.ConditionalFormattingRule;\nimport org.apache.poi.ss.usermodel.CreationHelper;\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.ss.usermodel.FillPatternType;\nimport org.apache.poi.ss.usermodel.Font;\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\nimport org.apache.poi.ss.usermodel.HorizontalAlignment;\nimport org.apache.poi.ss.usermodel.IndexedColors;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.SheetConditionalFormatting;\nimport org.apache.poi.ss.usermodel.VerticalAlignment;\nimport org.apache.poi.ss.util.CellRangeAddress;\nimport org.apache.poi.ss.util.CellReference;\nimport org.apache.poi.common.usermodel.Hyperlink;\nimport org.apache.poi.hssf.usermodel.HSSFCellStyle;\nimport  org.apache.poi.hssf.usermodel.HSSFRow;\n\npublic class Red {\n    public static void main(String[] args) throws Exception{\n\nString str=&quot;{\\&quot;rulesetgroupname\\&quot;:\\&quot;Coastal122\\&quot;,\\&quot;downloadtype\\&quot;:\\&quot;Template\\&quot;,\\&quot;rulesetid\\&quot;:\\&quot;638a0ac02944f902b1eebab3\\&quot;,\\&quot;rulesetversion\\&quot;:\\&quot;0.1\\&quot;,\\&quot;rulegroupid\\&quot;:\\&quot;638a09f28bd88c16a76fa599\\&quot;,\\&quot;product\\&quot;:\\&quot;CAT\\&quot;,\\&quot;ruletype\\&quot;:\\&quot;ERWR\\&quot;,\\&quot;dataobjects\\&quot;:\\&quot;Location 24,Class Codes 24,BPP Covg 24,Building Covg 24,Building 24,Policy 24\\&quot;,\\&quot;ruletemplateversion\\&quot;:\\&quot;1\\&quot;,\\&quot;ruleTemplaeResponseId\\&quot;:\\&quot;638a09f28bd88c16a76fa599\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;rulegroup\\&quot;:\\&quot;CAT Testing122\\&quot;,\\&quot;metadataheaders\\&quot;:[\\&quot;Rule Name\\&quot;,\\&quot;Rule Label\\&quot;,\\&quot;Modified By\\&quot;,\\&quot;Modified At\\&quot;,\\&quot;Rule ID\\&quot;,\\&quot;Rule Status (Add/Change/Expire/Verify)\\&quot;,\\&quot;Effective Date [MM/DD/YYYY]\\&quot;,\\&quot;Expiration Date [MM/DD/YYYY]\\&quot;,\\&quot;Has Rule Changed?\\&quot;],\\&quot;conditionheaders\\&quot;:[{\\&quot;label\\&quot;:\\&quot;State\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;State\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;NC,SC,TX,VA,MA,GA,AL,IL,DE,NY,MS,NH,RI,ME,FL,MN,CT,NJ,MD\\&quot;},{\\&quot;label\\&quot;:\\&quot;Counties\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;Counties\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;\\&quot;},{\\&quot;label\\&quot;:\\&quot;Zip Codes\\&quot;,\\&quot;type\\&quot;:\\&quot;Collection\\&quot;,\\&quot;name\\&quot;:\\&quot;ZipCodes\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;,\\&quot;values\\&quot;:\\&quot;\\&quot;}],\\&quot;outcomeheaders\\&quot;:[{\\&quot;label\\&quot;:\\&quot;Output\\&quot;,\\&quot;type\\&quot;:\\&quot;String\\&quot;,\\&quot;name\\&quot;:\\&quot;RuleCode\\&quot;,\\&quot;dataobject\\&quot;:\\&quot;Location 24\\&quot;}]}&quot;;\n\n        JSONObject output;\n        try {\n            output = new JSONObject(str);\n\n          \n            \n            String filename = &quot;D:\\\\project\\\\excel\\\\color.xlsx&quot; ;\n            \n\n            XSSFWorkbook workbook = new XSSFWorkbook();\n            String rulegroup = output.getString(&quot;rulegroup&quot;);\n            String downloadtype = output.getString(&quot;downloadtype&quot;);\n            XSSFSheet sheet = workbook.createSheet(&quot;Ruleset&quot;);\n\n            sheet.setDefaultColumnWidth(10);\n\n            ArrayList&lt;String&gt; headers = new ArrayList&lt;String&gt;();\n            ArrayList&lt;String&gt; nameheaders = new ArrayList&lt;String&gt;();\n\n            // Top Element Font\n\n            Font font31 = workbook.createFont();\n            font31.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            font31.setBold(true);\n            \n            XSSFCellStyle style12 = workbook.createCellStyle();\n            style12.setFillForegroundColor(HSSFColor.HSSFColorPredefined.PALE_BLUE.getIndex());\n            style12.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style12.setAlignment(HorizontalAlignment.CENTER);\n            style12.setVerticalAlignment(VerticalAlignment.CENTER);\n            style12.setBorderTop(BorderStyle.MEDIUM);\n            style12.setBorderBottom(BorderStyle.MEDIUM);\n            style12.setBorderLeft(BorderStyle.MEDIUM);\n            style12.setBorderRight(BorderStyle.MEDIUM);\n            style12.setWrapText(true);\n            style12.setFont(font31);\n            \n            XSSFCellStyle style13 = workbook.createCellStyle();\n            style13.setFillForegroundColor(HSSFColor.HSSFColorPredefined.GREY_40_PERCENT.getIndex());\n            style13.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style13.setAlignment(HorizontalAlignment.CENTER);\n            style13.setVerticalAlignment(VerticalAlignment.CENTER);\n            style13.setBorderTop(BorderStyle.MEDIUM);\n            style13.setBorderBottom(BorderStyle.MEDIUM);\n            style13.setBorderLeft(BorderStyle.MEDIUM);\n            style13.setBorderRight(BorderStyle.MEDIUM);\n            style13.setWrapText(true);\n            style13.setFont(font31);\n\n            XSSFCellStyle style14 = workbook.createCellStyle();\n            Font font32 = workbook.createFont();\n            font32.setBold(true);\n            font32.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            style14.setBorderTop(BorderStyle.MEDIUM);\n            style14.setBorderBottom(BorderStyle.MEDIUM);\n            style14.setBorderLeft(BorderStyle.MEDIUM);\n            style14.setBorderRight(BorderStyle.MEDIUM);\n            style14.setAlignment(HorizontalAlignment.CENTER);\n            style14.setVerticalAlignment(VerticalAlignment.CENTER);\n            style14.setWrapText(true);\n            style14.setFont(font32);\n            // Get Top elements\n\n            String product = output.getString(&quot;product&quot;);\n            String ruletype = output.getString(&quot;ruletype&quot;);\n            String dataobject = output.getString(&quot;dataobjects&quot;);\n            String rulesetid = output.getString(&quot;rulesetid&quot;);\n            String rulesetversion = output.getString(&quot;rulesetversion&quot;);\n            String rulegroupid = output.getString(&quot;rulegroupid&quot;);\n            String ruletemplateversion = output.getString(&quot;ruletemplateversion&quot;);\n            String rulesetgroupname = output.getString(&quot;rulesetgroupname&quot;);\n\n            XSSFRow rowhead = sheet.createRow((short) 0);\n            rowhead.createCell(0).setCellValue(&quot;Product/Process&quot;);\n            rowhead.getCell(0).setCellStyle(style14);\n            rowhead.createCell(1).setCellValue(product);\n            rowhead.getCell(1).setCellStyle(style13);\n            rowhead.createCell(2).setCellValue(&quot;RuleType&quot;);\n            rowhead.getCell(2).setCellStyle(style14);\n            rowhead.createCell(3).setCellValue(ruletype);\n            rowhead.getCell(3).setCellStyle(style13);\n            rowhead.createCell(4).setCellValue(&quot;DataObject&quot;);\n            rowhead.getCell(4).setCellStyle(style14);\n            rowhead.createCell(5).setCellValue(dataobject);\n            rowhead.getCell(5).setCellStyle(style13);\n            rowhead.createCell(6).setCellValue(&quot;RuleTemplate&quot;);\n            rowhead.getCell(6).setCellStyle(style14);\n            rowhead.createCell(7).setCellValue(rulegroup);\n            rowhead.getCell(7).setCellStyle(style13);\n            rowhead.createCell(8).setCellValue(&quot;RulesetID&quot;);\n            rowhead.getCell(8).setCellStyle(style14);\n            rowhead.createCell(9).setCellValue(rulesetid);\n            rowhead.getCell(9).setCellStyle(style13);\n            rowhead.createCell(10).setCellValue(&quot;RuleSetVersion&quot;);\n            rowhead.getCell(10).setCellStyle(style14);\n            rowhead.createCell(11).setCellValue(rulesetversion);\n            rowhead.getCell(11).setCellStyle(style13);\n            rowhead.createCell(12).setCellValue(&quot;RuleTemplateID&quot;);\n            rowhead.getCell(12).setCellStyle(style14);\n            rowhead.createCell(13).setCellValue(rulegroupid);\n            rowhead.getCell(13).setCellStyle(style13);\n            rowhead.createCell(14).setCellValue(&quot;RuleTemplateVersion&quot;);\n            rowhead.getCell(14).setCellStyle(style14);\n            rowhead.createCell(15).setCellValue(ruletemplateversion);\n            rowhead.getCell(15).setCellStyle(style13);\n            rowhead.createCell(16).setCellValue(&quot;RuleSetGroupName&quot;);\n            rowhead.getCell(16).setCellStyle(style14);\n            rowhead.createCell(17).setCellValue(rulesetgroupname);\n            rowhead.getCell(17).setCellStyle(style12);\n\n            rowhead.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\n\n            JSONArray metadataheader = output.getJSONArray(&quot;metadataheaders&quot;);\n            JSONArray conditionheader = output.getJSONArray(&quot;conditionheaders&quot;);\n            JSONArray outcomeheader = output.getJSONArray(&quot;outcomeheaders&quot;);\n\n            Integer metheadcount = metadataheader.length();\n            Integer conheadcount = conditionheader.length();\n            Integer outheadcount = outcomeheader.length();\n\n            metadataheader.getString(0);\n\n            for (int i = 0; i &lt; metadataheader.length(); i++) {\n                headers.add(metadataheader.getString(i));\n                nameheaders.add(metadataheader.getString(i));\n            }\n\n            for (int i = 0; i &lt; conditionheader.length(); i++) {\n\n                JSONObject json = conditionheader.getJSONObject(i);\n                String conname = json.getString(&quot;label&quot;);\n                String contype = json.getString(&quot;type&quot;);\n                String dataobject1 = json.getString(&quot;dataobject&quot;);\n                contype = &quot;[&quot; + contype + &quot;]&quot;;\n                String fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contype;\n\n                headers.add(fnl);\n\n                nameheaders.add(conname);\n\n            }\n\n            for (int i = 0; i &lt; outcomeheader.length(); i++) {\n\n                JSONObject json = outcomeheader.getJSONObject(i);\n//              if(json.isEmpty()) {\n//                  throw new Exception(&quot;Outcome Attributes filed should not be empty&quot;);\n//              } \n                String conname = json.getString(&quot;label&quot;);\n                String contype = json.getString(&quot;type&quot;);\n                String dataobject1 = json.getString(&quot;dataobject&quot;);\n                contype = &quot;[&quot; + contype + &quot;]&quot;;\n                String fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contype;\n                headers.add(fnl);\n\n                nameheaders.add(conname);\n\n            }\n\n            // Merging Region\n            // HSSFRow merge = sheet.createRow((short)1);\n            Row row = sheet.createRow(1);\n            Cell cell = row.createCell(0);\n            cell.setCellValue(&quot;MetaData&quot;);\n\n            // Merging cells by providing cell index\n            sheet.addMergedRegion(new CellRangeAddress(1, 1, 0, metheadcount - 1));\n            Font font3 = workbook.createFont();\n            font3.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            font3.setBold(true);\n\n            XSSFCellStyle style = workbook.createCellStyle();\n            style.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_GREEN.getIndex());\n            style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style.setAlignment(HorizontalAlignment.CENTER);\n            style.setVerticalAlignment(VerticalAlignment.CENTER);\n            style.setWrapText(true);\n\n            /*\n             * style.setBorderTop(BorderStyle.MEDIUM);\n             * style.setBorderBottom(BorderStyle.MEDIUM);\n             * style.setBorderLeft(BorderStyle.MEDIUM);\n             * style.setBorderRight(BorderStyle.MEDIUM);\n             */\n            style.setFont(font3);\n            cell.setCellStyle(style);\n\n            // style.setFont(headerFont);\n            // style.setFillForegroundColor(IndexedColors.BLACK.getIndex());\n\n            Cell cell1 = row.createCell(metheadcount);\n            cell1.setCellValue(&quot;Conditional Attributes&quot;);\n\n            if (conheadcount &gt; 1) {\n                sheet.addMergedRegion(new CellRangeAddress(1, 1, metheadcount, metheadcount + conheadcount - 1));\n            }\n\n            XSSFCellStyle style1 = workbook.createCellStyle();\n            Font font1 = workbook.createFont();\n            font1.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            font1.setBold(true);\n            style1.setFont(font1);\n            style1.setWrapText(true);\n            style1.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_ORANGE.getIndex());\n            style1.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style1.setAlignment(HorizontalAlignment.CENTER);\n            style1.setVerticalAlignment(VerticalAlignment.CENTER);\n            /*\n             * style1.setBorderTop(BorderStyle.MEDIUM);\n             * style1.setBorderBottom(BorderStyle.MEDIUM);\n             * style1.setBorderLeft(BorderStyle.MEDIUM);\n             * style1.setBorderRight(BorderStyle.MEDIUM);\n             */\n            cell1.setCellStyle(style1);\n\n            Cell cell2 = row.createCell(metheadcount + conheadcount);\n            cell2.setCellValue(&quot;Outcome Attributes&quot;);\n            if (outheadcount &gt; 1) {\n                sheet.addMergedRegion(new CellRangeAddress(1, 1, metheadcount + conheadcount,\n                        metheadcount + conheadcount + outheadcount - 1));\n            }\n            XSSFCellStyle style2 = workbook.createCellStyle();\n            Font font2 = workbook.createFont();\n            font2.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            font2.setBold(true);\n\n            style2.setFont(font2);\n            style2.setFillForegroundColor(HSSFColor.HSSFColorPredefined.LIGHT_CORNFLOWER_BLUE.getIndex());\n            style2.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style2.setAlignment(HorizontalAlignment.CENTER);\n            style2.setVerticalAlignment(VerticalAlignment.CENTER);\n            style2.setWrapText(true);\n            /*\n             * style2.setBorderTop(BorderStyle.MEDIUM);\n             * style2.setBorderBottom(BorderStyle.MEDIUM);\n             * style2.setBorderLeft(BorderStyle.MEDIUM);\n             * style2.setBorderRight(BorderStyle.MEDIUM);\n             */\n            cell2.setCellStyle(style2);\n\n            row.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\n\n            /*\n             * HSSFCellStyle style22 = workbook.createCellStyle(); Font font22 =\n             * workbook.createFont();\n             * font22.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n             * font22.setBold(true); style22.setFont(font22);\n             * style22.setAlignment(HorizontalAlignment.CENTER);\n             */\n\n            XSSFCellStyle style22 = workbook.createCellStyle();\n            Font font22 = workbook.createFont();\n            font22.setColor(HSSFColor.HSSFColorPredefined.BLACK.getIndex());\n            font22.setBold(true);\n            style22.setFont(font22);\n            style22.setBorderTop(BorderStyle.MEDIUM);\n            style22.setBorderBottom(BorderStyle.MEDIUM);\n            style22.setBorderLeft(BorderStyle.MEDIUM);\n            style22.setBorderRight(BorderStyle.MEDIUM);\n            style22.setWrapText(true);\n            // style22.setFillForegroundColor(HSSFColor.HSSFColorPredefined.WHITE.getIndex());\n            // style22.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            style22.setAlignment(HorizontalAlignment.CENTER);\n\n            XSSFRow rowheader = sheet.createRow((short) 2);\n\n            for (int z = 0; z &lt; headers.size(); z++) {\n                rowheader.createCell(z).setCellValue(headers.get(z));\n                String metaDataCellValue = rowheader.getCell(z).getStringCellValue();\n                if(metaDataCellValue.equals(&quot;Rule Name&quot;) || metaDataCellValue.equals(&quot;Modified By&quot;) ||\n                        metaDataCellValue.equals(&quot;Modified At&quot;) || metaDataCellValue.equals(&quot;Rule ID&quot;)) {\n                    rowheader.getCell(z).setCellStyle(style13);\n                } else {\n                    rowheader.getCell(z).setCellStyle(style22);\n                }\n                \n\n            }\n\n            rowheader.setHeightInPoints((2 * sheet.getDefaultRowHeightInPoints()));\n\n            // Get Details\n\n            DataFormatter formatter = new DataFormatter();\n\n            if (downloadtype.equalsIgnoreCase(&quot;rulesets&quot;)) {\n\n                JSONArray values = output.getJSONArray(&quot;values&quot;);\n                if (!values.isEmpty()) {\n\n                    short valcell = 3;\n\n                    for (int val = 0; val &lt; values.length(); val++) {\n\n                        XSSFRow rowheader2 = sheet.createRow((short) valcell + val);\n\n                        try {\n                            JSONObject firstvals = values.getJSONObject(val);\n\n                            JSONArray methead1 = firstvals.optJSONArray(&quot;metadata&quot;);\n                            JSONArray conhead1 = firstvals.optJSONArray(&quot;condition&quot;);\n                            JSONArray outhead1 = firstvals.optJSONArray(&quot;outcome&quot;);\n\n                            for (int i = 0; i &lt; methead1.length(); i++) {\n                                JSONObject json = methead1.getJSONObject(i);\n                                String val23 = json.get(&quot;value&quot;).toString();\n                                String name = &quot;&quot;;\n                                if (!json.isNull(&quot;label&quot;)) {\n                                    name = (json.getString(&quot;label&quot;));\n                                } else {\n                                    name = (json.getString(&quot;name&quot;));\n                                }\n                                int index = nameheaders.indexOf(name);\n                                rowheader2.createCell(index).setCellValue(val23);\n                            }\n\n                            for (int y = 0; y &lt; conhead1.length(); y++) {\n                                JSONObject json = conhead1.getJSONObject(y);\n                                String val23 = json.get(&quot;value&quot;).toString();\n\n                                String name = &quot;&quot;;\n                                if (!json.isNull(&quot;label&quot;)) {\n                                    name = (json.getString(&quot;label&quot;));\n                                } else {\n                                    name = (json.getString(&quot;name&quot;));\n                                }\n\n                                String oper = (json.getString(&quot;operator&quot;));\n                                \n\n                                if (oper.equalsIgnoreCase(&quot;not in&quot;)) {\n\n                                    val23 = &quot;NOT IN(&quot; + val23 + &quot;)&quot;;\n\n                                } else if (oper.equalsIgnoreCase(&quot;neq&quot;)) {\n\n                                    val23 = &quot;NOT EQUALS(&quot; + val23 + &quot;)&quot;;\n                                } else if (oper.equalsIgnoreCase(&quot;&gt;&quot;) || oper.equalsIgnoreCase(&quot;GT&quot;) ) {\n\n                                    val23 =  &quot;&gt;&quot; + val23;\n                                    \n                                } else if (oper.equalsIgnoreCase(&quot;&gt;=&quot;) || oper.equalsIgnoreCase(&quot;GTE&quot;)) {\n\n                                    val23 =  &quot;&gt;=&quot; + val23;\n                                    \n                                    \n                                    \n                                }else if (oper.equalsIgnoreCase(&quot;&lt;&quot;) || oper.equalsIgnoreCase(&quot;LT&quot;)) {\n\n                                    val23 =  &quot;&lt;&quot; + val23;\n                                    \n                                    \n                                }\n                                else if ( oper.equalsIgnoreCase(&quot;&lt;=&quot;) || oper.equalsIgnoreCase(&quot;LTE&quot;)) {\n\n                                    val23 =  &quot;&lt;=&quot; + val23;\n                                    \n                                }\n\n                                int index = nameheaders.indexOf(name);\n                                if (index &gt; 0) {\n                                    rowheader2.createCell(index).setCellValue(val23);\n                                }\n                            }\n\n                            for (int za = 0; za &lt; outhead1.length(); za++) {\n                                JSONObject json = outhead1.getJSONObject(za);\n                                String val23 = json.get(&quot;value&quot;).toString();\n\n                                String name = &quot;&quot;;\n                                if (!json.isNull(&quot;label&quot;)) {\n                                    name = (json.getString(&quot;label&quot;));\n                                } else {\n                                    name = (json.getString(&quot;name&quot;));\n                                }\n\n                                int index = nameheaders.indexOf(name);\n\n                                if (index &gt; 0) {\n                                    rowheader2.createCell(index).setCellValue(val23);\n                                }\n\n                            }\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                            String error = e.getMessage();\n                            throw new Exception(error);\n                        } catch (Exception e) {\n                            // String error = e.getMessage();\n                            e.printStackTrace();\n                            throw new Exception(e.getMessage());\n                        }\n\n                    }\n\n                } //\n\n            }\n\n\n            \n\n            FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\n            evaluator.evaluateAll();\n\n            // Duplicate Highlighter\n\n            String lcollett = &quot;&quot;;\n            String csv1 = &quot;&quot;;\n            SheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\n            int s1 = sheet.getNumMergedRegions();\n\n            for (int i = 0; i &lt; s1; i++) {\n                CellRangeAddress region = sheet.getMergedRegion(i);\n                int colIndex = region.getFirstColumn();\n                int rowNum = region.getFirstRow();\n                String val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\n                if (val1.contains(&quot;MetaData&quot;)) {\n                    int fcol = sheet.getMergedRegion(i).getFirstColumn();\n                    int lcol = sheet.getMergedRegion(i).getLastColumn();\n                    lcollett = CellReference.convertNumToColString(lcol);\n                    for (i = fcol; i &lt;= lcol; i++) {\n                        sheet.autoSizeColumn(i);\n                    }\n\n                }\n\n            }\n\n            for (int i = 0; i &lt; s1; i++) {\n                CellRangeAddress region = sheet.getMergedRegion(i);\n                int colIndex = region.getFirstColumn();\n                int rowNum = region.getFirstRow();\n                String val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\n                ArrayList&lt;String&gt; xsdf = new ArrayList&lt;String&gt;();\n                if (val1.contains(&quot;Conditional&quot;)) {\n                    int fcol = sheet.getMergedRegion(i).getFirstColumn();\n                    int lcol = sheet.getMergedRegion(i).getLastColumn();\n                    String fcollett = &quot;&quot;;\n                    lcollett = CellReference.convertNumToColString(lcol);\n                    for (i = fcol; i &lt;= lcol; i++) {\n                        fcollett = CellReference.convertNumToColString(i);\n                        if (i == lcol) {\n                            xsdf.add(&quot;$&quot; + fcollett + &quot;$4:$&quot; + fcollett + &quot;$10000,\\&quot;*\\&quot;&amp;$&quot; + fcollett + &quot;4&amp;\\&quot;*\\&quot;&quot;);\n                        } else {\n                            xsdf.add(&quot;$&quot; + fcollett + &quot;$4:$&quot; + fcollett + &quot;$10000,$&quot; + fcollett + &quot;4&quot;);\n                        }\n\n                        sheet.autoSizeColumn(i);\n\n                    }\n\n                    csv1 = String.join(&quot;,&quot;, xsdf);\n                    csv1 = &quot;COUNTIFS(&quot; + csv1 + &quot;)&gt;1&quot;;\n                }\n\n            }\n\n            for (int i = 0; i &lt; s1; i++) {\n                CellRangeAddress region = sheet.getMergedRegion(i);\n                int colIndex = region.getFirstColumn();\n                int rowNum = region.getFirstRow();\n                String val1 = formatter.formatCellValue(sheet.getRow(rowNum).getCell(colIndex));\n                if (val1.contains(&quot;Outcome&quot;)) {\n                    int fcol = sheet.getMergedRegion(i).getFirstColumn();\n                    int lcol = sheet.getMergedRegion(i).getLastColumn();\n                    lcollett = CellReference.convertNumToColString(lcol);\n                    for (i = fcol; i &lt;= lcol; i++) {\n                        sheet.autoSizeColumn(i);\n                    }\n\n                }\n\n            }\n\n            ConditionalFormattingRule rule1 = sheetCF.createConditionalFormattingRule(csv1);\n            org.apache.poi.ss.usermodel.FontFormatting font = rule1.createFontFormatting();\n            font.setFontStyle(false, true);\n            font.setFontColorIndex(IndexedColors.BLUE.index);\n            String cellrangeadd = &quot;A4:&quot; + lcollett + &quot;10000&quot;;\n            CellRangeAddress[] regions = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd) };\n            sheetCF.addConditionalFormatting(regions, rule1);\n            \n            // Sheet 3\n            \n            SheetConditionalFormatting sheetCFa = sheet.getSheetConditionalFormatting();\n            \n            XSSFSheet sheet21 = workbook.createSheet(&quot;PossibleValues&quot;);\n\n            sheet21.setColumnWidth(0, 20 * 256);\n            sheet21.setColumnWidth(1, 50 * 256);\n            \n            XSSFRow rowhead33 = sheet21.createRow((short) 0);\n\n            rowhead33.createCell(0).setCellValue(&quot;DataObject&quot;);\n            rowhead33.getCell(0).setCellStyle(style14);\n            rowhead33.createCell(1).setCellValue(&quot;AttributeName&quot;);\n            rowhead33.getCell(1).setCellStyle(style14);\n            rowhead33.createCell(2).setCellValue(&quot;DataType&quot;);\n            rowhead33.getCell(2).setCellStyle(style14);\n            rowhead33.createCell(3).setCellValue(&quot;PossibleValues&quot;);\n            rowhead33.getCell(3).setCellStyle(style14);\n\n            \n            int attcell=1;\n            ArrayList&lt;String&gt; xkdf = new ArrayList&lt;String&gt;();\n            for (int i = 0; i &lt; conditionheader.length(); i++) {\n\n                JSONObject json = conditionheader.getJSONObject(i);\n                String conname = json.getString(&quot;label&quot;);\n                String contype = json.getString(&quot;type&quot;);\n                String dataobject1 = json.getString(&quot;dataobject&quot;);\n                String pv = json.getString(&quot;values&quot;);\n            String  contypea = &quot;[&quot; + contype + &quot;]&quot;;\n            String fnl = dataobject1 + &quot;.&quot; + conname + &quot; &quot; + contypea;\n            \n                xkdf.add(fnl);\n                \n\n                XSSFRow rowhead334 = sheet21.createRow((short) attcell + i);\n                     \n                rowhead334.createCell(0).setCellValue(dataobject1);\n                rowhead334.createCell(1).setCellValue(conname);\n                rowhead334.createCell(2).setCellValue(contype);\n                rowhead334.createCell(3).setCellValue(pv);\n\n\n            }\n            \n    \n            String kkf = &quot;IF(AND(NOT(ISBLANK(J4)),ISERROR(SUM(MATCH(FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(J4,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),FILTERXML(\\&quot;&lt;t&gt;&lt;s&gt;\\&quot;&amp;SUBSTITUTE(PossibleValues!$D$2,\\&quot;,\\&quot;,\\&quot;&lt;/s&gt;&lt;s&gt;\\&quot;)&amp;\\&quot;&lt;/s&gt;&lt;/t&gt;\\&quot;,\\&quot;//s\\&quot;),0))),\\&quot;\\&quot;),TRUE())&quot;;\n            ConditionalFormattingRule rule13 = sheetCF.createConditionalFormattingRule(kkf);\n            org.apache.poi.ss.usermodel.FontFormatting font535 = rule13.createFontFormatting();\n            font535.setFontStyle(false, true);\n            font535.setFontColorIndex(IndexedColors.RED.index);\n            \n            String cellrangeadd2 = &quot;J4:J10000&quot;;\n            CellRangeAddress[] regionssd = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd2) };\n            sheetCF.addConditionalFormatting(regionssd, rule13);\n\n              FileOutputStream fileOut = new FileOutputStream(filename);\n              workbook.write(fileOut); \n              fileOut.close(); \n              workbook.close();\n  \n            System.out.println(&quot;Your excel file has been generated!&quot;);   \n\n          \n        } catch (JSONException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }        \n    }\n\n}\n</code></pre>\n<h2>Required manual post-production in Excel</h2>\n<p>Now  I did the below steps</p>\n<ol>\n<li>Add three values in column 'J' named &quot;State&quot;. All cells are getting highlighted, see image below:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/mrJ2p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrJ2p.png\" alt=\"all cells get highlighted, no matter if valid\" /></a></p>\n<ol start=\"2\">\n<li>Click Conditional Formatting &gt; Manage Rules &gt; Select Rule (Format Red) &gt; Edit Rules &gt; OK &gt; Apply &gt; OK</li>\n</ol>\n<p>After this action the column values are getting highlighted correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/RziCK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RziCK.png\" alt=\"enter image description here\" /></a></p>\n<h2>Question</h2>\n<p>Is there anything I missed in my Java code?\nHow do I avoid this manual activity in Excel?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1671280222,"post_id":74834042,"comment_id":132068073,"body_markdown":"We will not follow links to tutorials.","body":"We will not follow links to tutorials."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671280297,"post_id":74834042,"comment_id":132068084,"body_markdown":"And you should tell us at which moment or at which action the &#39;auto&#39;save should be done. What is &#39;autosaving&#39; to begin with you might explain.","body":"And you should tell us at which moment or at which action the &#39;auto&#39;save should be done. What is &#39;autosaving&#39; to begin with you might explain."},{"owner":{"account_id":27281380,"reputation":9,"user_id":20801232,"display_name":"Io567"},"score":0,"creation_date":1671282453,"post_id":74834042,"comment_id":132068424,"body_markdown":"Autosave should be done while you write. Idk how to explain.","body":"Autosave should be done while you write. Idk how to explain."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671490138,"post_id":74834042,"comment_id":132106792,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":20420629,"reputation":658,"user_id":14981685,"display_name":"hossein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671282356,"creation_date":1671282356,"answer_id":74834312,"question_id":74834042,"body_markdown":"you can use &quot;periodic work request&quot; to auto-save your notes.\r\nyou can use this tutorial or other tutorial\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://www.google.com/search?q=periodic%20request&amp;sxsrf=ALiCzsa5cUTx869BzHAGQiGFvTMdNKx0Sw%3A1671282160905&amp;ei=8L2dY4H3NumX9u8Pq6mv0A0&amp;ved=0ahUKEwiBr5Sc24D8AhXpi_0HHavUC9oQ4dUDCBA&amp;uact=5&amp;oq=periodic%20request&amp;gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIECCMQJzIECCMQJzIFCAAQgAQyBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjoKCAAQRxDWBBCwA0oECEEYAEoECEYYAFCkCFikCGCTC2gCcAF4AIABiwKIAYsCkgEDMi0xmAEAoAEByAEIwAEB&amp;sclient=gws-wiz-serp#fpstate=ive&amp;vld=cid:3b4201b2,vid:1VVir3-4hII","title":"How can I add autosave to a Note App with entities?","body":"<p>you can use &quot;periodic work request&quot; to auto-save your notes.\nyou can use this tutorial or other tutorial\n<a href=\"https://www.google.com/search?q=periodic%20request&amp;sxsrf=ALiCzsa5cUTx869BzHAGQiGFvTMdNKx0Sw%3A1671282160905&amp;ei=8L2dY4H3NumX9u8Pq6mv0A0&amp;ved=0ahUKEwiBr5Sc24D8AhXpi_0HHavUC9oQ4dUDCBA&amp;uact=5&amp;oq=periodic%20request&amp;gs_lcp=Cgxnd3Mtd2l6LXNlcnAQAzIECCMQJzIECCMQJzIFCAAQgAQyBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjIGCAAQFhAeMgYIABAWEB4yBggAEBYQHjoKCAAQRxDWBBCwA0oECEEYAEoECEYYAFCkCFikCGCTC2gCcAF4AIABiwKIAYsCkgEDMi0xmAEAoAEByAEIwAEB&amp;sclient=gws-wiz-serp#fpstate=ive&amp;vld=cid:3b4201b2,vid:1VVir3-4hII\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":27281380,"reputation":9,"user_id":20801232,"display_name":"Io567"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671282356,"creation_date":1671279795,"question_id":74834042,"body_markdown":"I want to learn how to make android apps so I followed a tutorial series on YouTube and I made a Note App. But I need to add autosave and I don&#39;t know how. I searched on YouTube and I tried everything and nothing works.\r\nHere is the Playlist with the tutorials:\r\nhttps://youtube.com/playlist?list=PLam6bY5NszYN6-a1wt7yRISWfmYPdkbMu\r\n\r\nAs I said before, I&#39;m new to all of this, but I really want to make this app.","title":"How can I add autosave to a Note App with entities?","body":"<p>I want to learn how to make android apps so I followed a tutorial series on YouTube and I made a Note App. But I need to add autosave and I don't know how. I searched on YouTube and I tried everything and nothing works.\nHere is the Playlist with the tutorials:\n<a href=\"https://youtube.com/playlist?list=PLam6bY5NszYN6-a1wt7yRISWfmYPdkbMu\" rel=\"nofollow noreferrer\">https://youtube.com/playlist?list=PLam6bY5NszYN6-a1wt7yRISWfmYPdkbMu</a></p>\n<p>As I said before, I'm new to all of this, but I really want to make this app.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1671109464,"post_id":74811907,"comment_id":132030122,"body_markdown":"IMO, what makes the difference is that your *interface* designed around `Container&lt;T&gt;` rather than `T`. In other words, if `T` were the parameter types in your method signatures, you wouldn&#39;t have this problem with generic types.","body":"IMO, what makes the difference is that your <i>interface</i> designed around <code>Container&lt;T&gt;</code> rather than <code>T</code>. In other words, if <code>T</code> were the parameter types in your method signatures, you wouldn&#39;t have this problem with generic types."},{"owner":{"account_id":94267,"reputation":47134,"user_id":257465,"display_name":"tzaman"},"score":0,"creation_date":1671109474,"post_id":74811907,"comment_id":132030129,"body_markdown":"It seems like there&#39;s two different things you&#39;re trying to be generic over here, i.e. the contained type _and_ the container type. Can you elaborate a bit why a `StringContainer` is producing and consuming containers rather than strings?","body":"It seems like there&#39;s two different things you&#39;re trying to be generic over here, i.e. the contained type <i>and</i> the container type. Can you elaborate a bit why a <code>StringContainer</code> is producing and consuming containers rather than strings?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1671109508,"post_id":74811907,"comment_id":132030141,"body_markdown":"Why is 4 a problem? Why did you expect there to be a diamond operator in the first place? It seems like it is your expectation that is wrong in the case of 4.","body":"Why is 4 a problem? Why did you expect there to be a diamond operator in the first place? It seems like it is your expectation that is wrong in the case of 4."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671109695,"post_id":74811907,"comment_id":132030206,"body_markdown":"@tzaman My StringContainer will also produce and consume strings, but the methods for it don&#39;t cause me trouble so I left them out. An example of a StringContainer of this form could be a node in a linked list that contains both data (strings) and references to other nodes (containers) of strings.","body":"@tzaman My StringContainer will also produce and consume strings, but the methods for it don&#39;t cause me trouble so I left them out. An example of a StringContainer of this form could be a node in a linked list that contains both data (strings) and references to other nodes (containers) of strings."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671109823,"post_id":74811907,"comment_id":132030258,"body_markdown":"@ernest_k Exactly, interface methods like `set(T value)` and their corresponding implementation `set(String value)` would be just fine. Since those methods don&#39;t cause me trouble, I left them out of the example code.","body":"@ernest_k Exactly, interface methods like <code>set(T value)</code> and their corresponding implementation <code>set(String value)</code> would be just fine. Since those methods don&#39;t cause me trouble, I left them out of the example code."},{"owner":{"account_id":94267,"reputation":47134,"user_id":257465,"display_name":"tzaman"},"score":0,"creation_date":1671109829,"post_id":74811907,"comment_id":132030261,"body_markdown":"So is it intended that one concrete type of `StringContainer` should be able to consume another type? Or is that what you&#39;re trying to prevent with type checks?","body":"So is it intended that one concrete type of <code>StringContainer</code> should be able to consume another type? Or is that what you&#39;re trying to prevent with type checks?"},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671109930,"post_id":74811907,"comment_id":132030296,"body_markdown":"@Sweeper I&#39;m much more used to generic implementations of generic interfaces than non-generic ones from seeing code like `List&lt;String&gt; list = new ArrayList&lt;&gt;();`. I wasn&#39;t necessarily expecting a diamond operator in my code. The absence of it looked curious to me, though.","body":"@Sweeper I&#39;m much more used to generic implementations of generic interfaces than non-generic ones from seeing code like <code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code>. I wasn&#39;t necessarily expecting a diamond operator in my code. The absence of it looked curious to me, though."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671110222,"post_id":74811907,"comment_id":132030410,"body_markdown":"@tzaman I would like to see that the type `StringContainer implements Container&lt;String&gt;` does not accept types other than `StringContainer`, just like the original non-interface-implementing version. That&#39;s why I was thinking of type checks. Maybe I&#39;m entirely down the wrong road, though?","body":"@tzaman I would like to see that the type <code>StringContainer implements Container&lt;String&gt;</code> does not accept types other than <code>StringContainer</code>, just like the original non-interface-implementing version. That&#39;s why I was thinking of type checks. Maybe I&#39;m entirely down the wrong road, though?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671110804,"post_id":74811907,"comment_id":132030609,"body_markdown":"Agree with @Sweeper, #4 is just nonsense. That&#39;s not a drawback. That&#39;s your expectations being wrong. I can make a `class MyStringList implements List&lt;String&gt;` and instantiate it with `List&lt;String&gt; strs = new MyStringList()`. The type parameter is already specified by the class. Instantiators don&#39;t need to specify it either explicitly or implicitly.","body":"Agree with @Sweeper, #4 is just nonsense. That&#39;s not a drawback. That&#39;s your expectations being wrong. I can make a <code>class MyStringList implements List&lt;String&gt;</code> and instantiate it with <code>List&lt;String&gt; strs = new MyStringList()</code>. The type parameter is already specified by the class. Instantiators don&#39;t need to specify it either explicitly or implicitly."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671111602,"post_id":74811907,"comment_id":132030938,"body_markdown":"@Michael Okay, thanks for that :) I&#39;m still getting used to Java, so it&#39;s good to hear what are common (or not) idioms.","body":"@Michael Okay, thanks for that :) I&#39;m still getting used to Java, so it&#39;s good to hear what are common (or not) idioms."}],"answers":[{"comments":[{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671114159,"post_id":74812195,"comment_id":132031985,"body_markdown":"That looks promising and surprising (to me). I hadn&#39;t expected all the &lt;String&gt;s to have gone missing. I guess @ernest_k is right that there are two parts to my API: the string-processing part that I ignored in my question and the container &#39;communication&#39; that is addressed by your answer.","body":"That looks promising and surprising (to me). I hadn&#39;t expected all the &lt;String&gt;s to have gone missing. I guess @ernest_k is right that there are two parts to my API: the string-processing part that I ignored in my question and the container &#39;communication&#39; that is addressed by your answer."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671121297,"post_id":74812195,"comment_id":132034898,"body_markdown":"I wasn&#39;t aware that we could use a cool construction like `StringContainer implements Container&lt;StringContainer&gt;`. I also have trouble wrapping my head around the recursive type bound. From https://stackoverflow.com/a/64901718/12911324 I get a rough understanding of it. Regardless of whether I write `interface Container&lt;T&gt;` or your variant, I can&#39;t pass anything else than `StringContainer`s (or its children) to `consume`, though. An interface reference, siblings of `StringContainer` -- nothing is allowed. I guess this is because Container itself does not implement a generic interface.","body":"I wasn&#39;t aware that we could use a cool construction like <code>StringContainer implements Container&lt;StringContainer&gt;</code>. I also have trouble wrapping my head around the recursive type bound. From <a href=\"https://stackoverflow.com/a/64901718/12911324\">stackoverflow.com/a/64901718/12911324</a> I get a rough understanding of it. Regardless of whether I write <code>interface Container&lt;T&gt;</code> or your variant, I can&#39;t pass anything else than <code>StringContainer</code>s (or its children) to <code>consume</code>, though. An interface reference, siblings of <code>StringContainer</code> -- nothing is allowed. I guess this is because Container itself does not implement a generic interface."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671121470,"post_id":74812195,"comment_id":132034970,"body_markdown":"&quot;*I can&#39;t pass anything else than StringContainers (or its children) to consume*&quot; I thought you wanted this. In point #1 in your question, you complained about the opposite.","body":"&quot;<i>I can&#39;t pass anything else than StringContainers (or its children) to consume</i>&quot; I thought you wanted this. In point #1 in your question, you complained about the opposite."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671122026,"post_id":74812195,"comment_id":132035187,"body_markdown":"Yes, I realize that now (: And it makes me wonder whether I am chasing an impossible goal. I&#39;d like to use interface references like `Container&lt;String&gt;` or `Container&lt;StringContainer&gt;` to refer to `StringContainer` objects. Ideally, `consume` accepts these reference as well -- otherwise, why bother creating the interface? But I don&#39;t want the `StringContainer` methods to accept other `Container` implementations than `StringContainer`s ...","body":"Yes, I realize that now (: And it makes me wonder whether I am chasing an impossible goal. I&#39;d like to use interface references like <code>Container&lt;String&gt;</code> or <code>Container&lt;StringContainer&gt;</code> to refer to <code>StringContainer</code> objects. Ideally, <code>consume</code> accepts these reference as well -- otherwise, why bother creating the interface? But I don&#39;t want the <code>StringContainer</code> methods to accept other <code>Container</code> implementations than <code>StringContainer</code>s ..."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671110398,"creation_date":1671110398,"answer_id":74812195,"question_id":74811907,"body_markdown":"Is this what you&#39;re looking for? It&#39;s called a recursive type bound.\r\n\r\n    interface Container&lt;T extends Container&lt;T&gt;&gt; {\r\n        T produce();\r\n    \r\n        void consume(T container);\r\n    }\r\n    \r\n    class StringContainer implements Container&lt;StringContainer&gt; {\r\n        @Override\r\n        public StringContainer produce() {\r\n            return new StringContainer();\r\n        }\r\n        \r\n        @Override\r\n        public void consume(StringContainer container) {\r\n        }\r\n    }\r\n\r\n","title":"How to define a general interface for several type-specific classes?","body":"<p>Is this what you're looking for? It's called a recursive type bound.</p>\n<pre><code>interface Container&lt;T extends Container&lt;T&gt;&gt; {\n    T produce();\n\n    void consume(T container);\n}\n\nclass StringContainer implements Container&lt;StringContainer&gt; {\n    @Override\n    public StringContainer produce() {\n        return new StringContainer();\n    }\n    \n    @Override\n    public void consume(StringContainer container) {\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1671110909,"post_id":74812232,"comment_id":132030646,"body_markdown":"`MetaContainer` doesn&#39;t need the `T` parameter, does it? Can&#39;t it just be `MetaContainer&lt;R extends Container&lt;R&gt;&gt;` like in Micheal&#39;s answer?","body":"<code>MetaContainer</code> doesn&#39;t need the <code>T</code> parameter, does it? Can&#39;t it just be <code>MetaContainer&lt;R extends Container&lt;R&gt;&gt;</code> like in Micheal&#39;s answer?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1671111612,"post_id":74812232,"comment_id":132030944,"body_markdown":"@Sweeper you got me to think. In my mind, that should work, but eclipse rejects `class StringContainer implements Container&lt;String&gt;, MetaContainer&lt;StringContainer&gt;` when `MetaContainer` is declared like that. Besides, I think with the recursive bound, `T` becomes both the &quot;contained&quot; and the &quot;container&quot; types (and it seems OP wanted both types of signatures). Need to think more.","body":"@Sweeper you got me to think. In my mind, that should work, but eclipse rejects <code>class StringContainer implements Container&lt;String&gt;, MetaContainer&lt;StringContainer&gt;</code> when <code>MetaContainer</code> is declared like that. Besides, I think with the recursive bound, <code>T</code> becomes both the &quot;contained&quot; and the &quot;container&quot; types (and it seems OP wanted both types of signatures). Need to think more."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1671111916,"post_id":74812232,"comment_id":132031084,"body_markdown":"@ernest_k The extra T bound means it&#39;s not recursive. In your current version, the MetaContainer takes a Container of *something* (T), in our case String. If you use a recursive type bound, it expects a Container of *itself*, i.e. `Container&lt;StringContainer&gt;`, which StringContainer is not; it&#39;s a `Container&lt;String&gt;`. But since T isn&#39;t used in MetaContainer, a wildcard does the same. `R extends Container&lt;?&gt;`","body":"@ernest_k The extra T bound means it&#39;s not recursive. In your current version, the MetaContainer takes a Container of <i>something</i> (T), in our case String. If you use a recursive type bound, it expects a Container of <i>itself</i>, i.e. <code>Container&lt;StringContainer&gt;</code>, which StringContainer is not; it&#39;s a <code>Container&lt;String&gt;</code>. But since T isn&#39;t used in MetaContainer, a wildcard does the same. <code>R extends Container&lt;?&gt;</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1671112279,"post_id":74812232,"comment_id":132031252,"body_markdown":"@Michael Correct. And my understanding is that OP wants `StringContainer` to be both `Container&lt;String&gt;` and `Container&lt;StringContainer&gt;`... And ofc I think the latter should be something else, i.e. `MetaContainer&lt;Container&lt;String&gt;&gt;` (or ofc `MetaContainer&lt;StringContainer&gt;` or whatever we want to structure it as).","body":"@Michael Correct. And my understanding is that OP wants <code>StringContainer</code> to be both <code>Container&lt;String&gt;</code> and <code>Container&lt;StringContainer&gt;</code>... And ofc I think the latter should be something else, i.e. <code>MetaContainer&lt;Container&lt;String&gt;&gt;</code> (or ofc <code>MetaContainer&lt;StringContainer&gt;</code> or whatever we want to structure it as)."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671123760,"post_id":74812232,"comment_id":132035767,"body_markdown":"@ernest_k You correctly inferred that I&#39;d like `StringContainer`s to play two roles. On the one hand, I&#39;d like them to be able to consume and produce (or simply set and get) strings. On the other hand, I&#39;d like them to be able to keep references to each other. One specific case, where I&#39;d like to apply this scheme is in the creation of nodes for a linked list, that would both contain data and refer to other nodes with data of that same type. In my efforts to generalize the problem (to other cases I want to solve), I may have abstracted the core out of it, though ...","body":"@ernest_k You correctly inferred that I&#39;d like <code>StringContainer</code>s to play two roles. On the one hand, I&#39;d like them to be able to consume and produce (or simply set and get) strings. On the other hand, I&#39;d like them to be able to keep references to each other. One specific case, where I&#39;d like to apply this scheme is in the creation of nodes for a linked list, that would both contain data and refer to other nodes with data of that same type. In my efforts to generalize the problem (to other cases I want to solve), I may have abstracted the core out of it, though ..."},{"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"score":0,"creation_date":1671283887,"post_id":74812232,"comment_id":132068723,"body_markdown":"Thanks for all your input! @ernest_k I can see how you separated the `Container&lt;String&gt;` and `Container&lt;StringContainer&gt;` responsibilities with the `MetaContainer&lt;...&gt;` interface. From what I understand, `MetaContainer&lt;T, R extends Container&lt;T&gt;&gt;` can be simplified to `MetaContainer&lt;R extends Container&lt;?&gt;&gt;`. That means we essentially arrive at Michael&#39;s solution (for the container-container part), right? I&#39;ll then select his answer as it first answered points 1 and 2 of my question, but I thank you for going the extra mile of trying to construe my broader intent.","body":"Thanks for all your input! @ernest_k I can see how you separated the <code>Container&lt;String&gt;</code> and <code>Container&lt;StringContainer&gt;</code> responsibilities with the <code>MetaContainer&lt;...&gt;</code> interface. From what I understand, <code>MetaContainer&lt;T, R extends Container&lt;T&gt;&gt;</code> can be simplified to <code>MetaContainer&lt;R extends Container&lt;?&gt;&gt;</code>. That means we essentially arrive at Michael&#39;s solution (for the container-container part), right? I&#39;ll then select his answer as it first answered points 1 and 2 of my question, but I thank you for going the extra mile of trying to construe my broader intent."}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671111101,"creation_date":1671110575,"answer_id":74812232,"question_id":74811907,"body_markdown":"It seems that you have two APIs, and you should treat them separately with separate interfaces. Yes, you can merge them into the same interface with distinct method names.\r\n\r\nI think you should have two interfaces for your &quot;containers&quot; and for your &quot;containers of containers&quot;. Here&#39;s what I&#39;d make it:\r\n\r\n\tinterface Container&lt;T&gt; {\r\n\t\tT produce();\r\n\t\tvoid consume(T container);\r\n\t}\r\n\t\r\n\tinterface MetaContainer&lt;T, R extends Container&lt;T&gt;&gt; {\r\n\t\tR produceContainer();\r\n\t\tvoid consumeContainer(R container);\r\n\t}\r\n\t\r\n\tclass StringContainer implements Container&lt;String&gt;, MetaContainer&lt;String, StringContainer&gt; {\r\n\t\t@Override\r\n\t\tpublic String produce() {\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void consume(String container) {\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic StringContainer produceContainer() {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void consumeContainer(StringContainer container) {\r\n\t\t}\r\n\t}\r\n\r\nI implemented both interfaces using the same class to emulate your `StringContainer` class.","title":"How to define a general interface for several type-specific classes?","body":"<p>It seems that you have two APIs, and you should treat them separately with separate interfaces. Yes, you can merge them into the same interface with distinct method names.</p>\n<p>I think you should have two interfaces for your &quot;containers&quot; and for your &quot;containers of containers&quot;. Here's what I'd make it:</p>\n<pre><code>interface Container&lt;T&gt; {\n    T produce();\n    void consume(T container);\n}\n\ninterface MetaContainer&lt;T, R extends Container&lt;T&gt;&gt; {\n    R produceContainer();\n    void consumeContainer(R container);\n}\n\nclass StringContainer implements Container&lt;String&gt;, MetaContainer&lt;String, StringContainer&gt; {\n    @Override\n    public String produce() {\n        return &quot;&quot;;\n    }\n\n    @Override\n    public void consume(String container) {\n    }\n\n    @Override\n    public StringContainer produceContainer() {\n        return this;\n    }\n\n    @Override\n    public void consumeContainer(StringContainer container) {\n    }\n}\n</code></pre>\n<p>I implemented both interfaces using the same class to emulate your <code>StringContainer</code> class.</p>\n"}],"owner":{"account_id":15496532,"reputation":13,"user_id":12911324,"display_name":"Maurits Silvis"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74812195,"answer_count":2,"score":1,"last_activity_date":1671281846,"creation_date":1671109042,"question_id":74811907,"body_markdown":"While trying to program to interfaces, I regularly find myself in the following situation:\r\n\r\n- I have several very similar classes representing containers or algorithms for different types.\r\n- I would like to define a common interface for these classes.\r\n\r\nConsider, e.g., a string container.\r\nSuch a container will likely have string processing methods.\r\nSince those methods are easily represented using generic interfaces, I am ignoring them.\r\nHere, I want to focus on methods that can be used to process or provide references to other string containers:\r\n\r\n```java\r\npublic class StringContainer {\r\n    StringContainer produce() {\r\n        return new StringContainer();\r\n    }\r\n\r\n    void consume(StringContainer stringContainer) {\r\n    }\r\n}\r\n```\r\n\r\nThis class can be used just fine in code like:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        StringContainer stringContainer = new StringContainer();\r\n        stringContainer.produce();\r\n        stringContainer.consume(stringContainer);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is: I&#39;m using a concrete class and not an interface to refer to the string container.\r\nWhat if I want to introduce a double container or a list container later and want to leave the rest of the code as is?\r\n\r\nMaybe generics could form a solution to this problem?\r\nHere is my try.\r\nI first define a generic container class:\r\n\r\n```java\r\ninterface Container&lt;T&gt; {\r\n    Container&lt;T&gt; produce();\r\n\r\n    void consume(Container&lt;T&gt; container);\r\n}\r\n```\r\n\r\nI then create type-specific implementations of the form:\r\n\r\n```java\r\npublic class StringContainer implements Container&lt;String&gt; {\r\n    @Override\r\n    public Container&lt;String&gt; produce() {\r\n        return new StringContainer();\r\n    }\r\n\r\n    @Override\r\n    public void consume(Container&lt;String&gt; container) {\r\n    }\r\n\r\n    public void consume(StringContainer container) {\r\n    }\r\n}\r\n```\r\n\r\nThe above classes can be used as follows:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Container&lt;String&gt; stringContainer = new StringContainer();\r\n        stringContainer.produce();\r\n        stringContainer.consume(stringContainer);\r\n    }\r\n}\r\n```\r\n\r\nHowever, the above approach has several drawbacks:\r\n\r\n1. The `consume(Container&lt;String&gt; container)` method accepts other types than `StringContainer`.\r\n2. In `consume(Container&lt;String&gt; container)`, the parametrized type `Container&lt;String&gt;` has to be used when processing `container`. I can&#39;t assign it to `StringContainer` variables (without type checks or casts).\r\n3. The alternative `consume(StringContainer container)` method is defined for `StringContainer` objects, but can&#39;t be called from a `Container&lt;String&gt;` reference.\r\n4. Finally, to me, the line `Container&lt;String&gt; stringContainer = new StringContainer();` has an awkward-looking notation that suggests a diamond operator is missing in `new StringContainer()`.\r\n\r\nWhat is the idiomatic way to define a general interface for several type-specific classes, which doesn&#39;t have (all) the above drawbacks?\r\n\r\nShould I ignore point 4 and address points 1 and 2 by adding type checks/casts, throwing an `UnsupportedOperationException` or `IllegalArgumentException` in case passed objects aren&#39;t `StringContainer`s?\r\nOr is there another way to use generics? Can type bounds help me, for example?\r\nOr should I look for a solution outside of generics?\r\n\r\n---\r\n\r\nUpdate:\r\n\r\nBased on the answers given so far, I have come to realize that I had conflicting goals:\r\n\r\n- On the one hand, I wanted to restrict the types accepted by container methods (as described by points 1 and 2).\r\n- On the other hand, I wanted to address and pass container types using an interface reference (as hinted at by point 3 and my implicit desire to keep the second `main` method as is). \r\n\r\nI now see that these goals cannot both be reached statically.\r\nSince I don&#39;t want to rephrase my question in retrospect, I&#39;ll forget about my second (rather implicit) goal and mark the first-posted solution that addressed points 1 and 2 as the answer.","title":"How to define a general interface for several type-specific classes?","body":"<p>While trying to program to interfaces, I regularly find myself in the following situation:</p>\n<ul>\n<li>I have several very similar classes representing containers or algorithms for different types.</li>\n<li>I would like to define a common interface for these classes.</li>\n</ul>\n<p>Consider, e.g., a string container.\nSuch a container will likely have string processing methods.\nSince those methods are easily represented using generic interfaces, I am ignoring them.\nHere, I want to focus on methods that can be used to process or provide references to other string containers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringContainer {\n    StringContainer produce() {\n        return new StringContainer();\n    }\n\n    void consume(StringContainer stringContainer) {\n    }\n}\n</code></pre>\n<p>This class can be used just fine in code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        StringContainer stringContainer = new StringContainer();\n        stringContainer.produce();\n        stringContainer.consume(stringContainer);\n    }\n}\n</code></pre>\n<p>The problem is: I'm using a concrete class and not an interface to refer to the string container.\nWhat if I want to introduce a double container or a list container later and want to leave the rest of the code as is?</p>\n<p>Maybe generics could form a solution to this problem?\nHere is my try.\nI first define a generic container class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Container&lt;T&gt; {\n    Container&lt;T&gt; produce();\n\n    void consume(Container&lt;T&gt; container);\n}\n</code></pre>\n<p>I then create type-specific implementations of the form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringContainer implements Container&lt;String&gt; {\n    @Override\n    public Container&lt;String&gt; produce() {\n        return new StringContainer();\n    }\n\n    @Override\n    public void consume(Container&lt;String&gt; container) {\n    }\n\n    public void consume(StringContainer container) {\n    }\n}\n</code></pre>\n<p>The above classes can be used as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        Container&lt;String&gt; stringContainer = new StringContainer();\n        stringContainer.produce();\n        stringContainer.consume(stringContainer);\n    }\n}\n</code></pre>\n<p>However, the above approach has several drawbacks:</p>\n<ol>\n<li>The <code>consume(Container&lt;String&gt; container)</code> method accepts other types than <code>StringContainer</code>.</li>\n<li>In <code>consume(Container&lt;String&gt; container)</code>, the parametrized type <code>Container&lt;String&gt;</code> has to be used when processing <code>container</code>. I can't assign it to <code>StringContainer</code> variables (without type checks or casts).</li>\n<li>The alternative <code>consume(StringContainer container)</code> method is defined for <code>StringContainer</code> objects, but can't be called from a <code>Container&lt;String&gt;</code> reference.</li>\n<li>Finally, to me, the line <code>Container&lt;String&gt; stringContainer = new StringContainer();</code> has an awkward-looking notation that suggests a diamond operator is missing in <code>new StringContainer()</code>.</li>\n</ol>\n<p>What is the idiomatic way to define a general interface for several type-specific classes, which doesn't have (all) the above drawbacks?</p>\n<p>Should I ignore point 4 and address points 1 and 2 by adding type checks/casts, throwing an <code>UnsupportedOperationException</code> or <code>IllegalArgumentException</code> in case passed objects aren't <code>StringContainer</code>s?\nOr is there another way to use generics? Can type bounds help me, for example?\nOr should I look for a solution outside of generics?</p>\n<hr />\n<p>Update:</p>\n<p>Based on the answers given so far, I have come to realize that I had conflicting goals:</p>\n<ul>\n<li>On the one hand, I wanted to restrict the types accepted by container methods (as described by points 1 and 2).</li>\n<li>On the other hand, I wanted to address and pass container types using an interface reference (as hinted at by point 3 and my implicit desire to keep the second <code>main</code> method as is).</li>\n</ul>\n<p>I now see that these goals cannot both be reached statically.\nSince I don't want to rephrase my question in retrospect, I'll forget about my second (rather implicit) goal and mark the first-posted solution that addressed points 1 and 2 as the answer.</p>\n"},{"tags":["java","mysql","apache-kafka","debezium"],"answers":[{"tags":[],"owner":{"account_id":10582871,"reputation":985,"user_id":7796098,"display_name":"Duy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671281801,"creation_date":1671281801,"answer_id":74834235,"question_id":74755931,"body_markdown":"I suspect that your mysql connector config has problems.\r\n- `.with(&quot;database.include.list&quot;, String.join(&quot;,&quot;, mysql.getTables()))`: this should be in format `DB1,DB2` (Or `mysql` in you case). Or you really wanted to configure for table list, didn&#39;t you? So it should be `table.include.list=mysql.table1,mysql.table2`\r\n- `database.whitelist` and `database.whitelist` were removed in recent Debezium versions. Now they become `database.include.list` and `database.exclude.list`\r\n\r\nHope these points can help you.\r\n","title":"I am not able to capture data changes with Debezium-Java","body":"<p>I suspect that your mysql connector config has problems.</p>\n<ul>\n<li><code>.with(&quot;database.include.list&quot;, String.join(&quot;,&quot;, mysql.getTables()))</code>: this should be in format <code>DB1,DB2</code> (Or <code>mysql</code> in you case). Or you really wanted to configure for table list, didn't you? So it should be <code>table.include.list=mysql.table1,mysql.table2</code></li>\n<li><code>database.whitelist</code> and <code>database.whitelist</code> were removed in recent Debezium versions. Now they become <code>database.include.list</code> and <code>database.exclude.list</code></li>\n</ul>\n<p>Hope these points can help you.</p>\n"}],"owner":{"account_id":24704705,"reputation":1,"user_id":18595655,"display_name":"Furkan Ozmen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671281801,"creation_date":1670700363,"question_id":74755931,"body_markdown":"I&#39;m trying to make a Debezium example with Java. I want to capture this every time data is deleted in the database. When the application runs, it prints the following log on the screen:\r\n\r\n    Dec 10, 2022 10:18:46 PM com.github.shyiko.mysql.binlog.BinaryLogClient connect\r\n    INFO: Connected to localhost:3305 at binlog.000008/3443 (sid:10181, cid:41)\r\n\r\nBut when I delete something in the database, debezium is not able to catch it.\r\n\r\nConnection Config Class\r\n\r\n```\r\npublic DebeziumSignal connect(Connection data) {\r\n    final Configuration configuration = DebeziumConfigLoader.load(data);\r\n\r\n    engine = DebeziumEngine.create(ChangeEventFormat.of(Connect.class))\r\n            .using(configuration.asProperties())\r\n            .notifying(this::handleEvent)\r\n            .build();\r\n\r\n    return new DebeziumSignal(engine);\r\n}\r\n```\r\n\r\n\r\nConfig Data class:\r\n\r\n```\r\npublic static Configuration load(Connection connection) {\r\n    final MysqlConnection mysql = connection.getMysqlConnection();\r\n    return Configuration.create()\r\n            .with(&quot;name&quot;, &quot;customer-mysql-connector&quot;)\r\n            .with(&quot;connector.class&quot;, &quot;io.debezium.connector.mysql.MySqlConnector&quot;)\r\n            .with(&quot;offset.storage&quot;, &quot;org.apache.kafka.connect.storage.FileOffsetBackingStore&quot;)\r\n            .with(&quot;offset.flush.interval.ms&quot;, &quot;60000&quot;)\r\n            .with(&quot;database.hostname&quot;, mysql.getHost())\r\n            .with(&quot;database.port&quot;, mysql.getPort())\r\n            .with(&quot;database.user&quot;, mysql.getUsername())\r\n            .with(&quot;database.password&quot;, mysql.getPassword())\r\n            .with(&quot;database.dbname&quot;, mysql.getDbName())\r\n            .with(&quot;database.include.list&quot;, String.join(&quot;,&quot;, mysql.getTables()))\r\n            .with(&quot;include.schema.changes&quot;, &quot;false&quot;)\r\n            .with(&quot;database.server.id&quot;, &quot;10181&quot;)\r\n            .with(&quot;database.server.name&quot;, &quot;customer-mysql-db-server&quot;)\r\n            .with(&quot;database.history&quot;,\r\n                    &quot;io.debezium.relational.history.FileDatabaseHistory&quot;)\r\n            .with(&quot;database.history.file.filename&quot;,\r\n                    &quot;/tmp/dbhistory.dat&quot;)\r\n            .with(&quot;database.whitelist&quot;, &quot;mysql.*&quot;)\r\n            .with(&quot;offset.storage.file.filename&quot;, &quot;/tmp/offsets.dat&quot;)\r\n            .with(&quot;table.whitelist&quot;, &quot;mysql.*&quot;)\r\n            .build();\r\n}\r\n```\r\n\r\n\r\nconnection:\r\n\r\n```\r\nexecutorService.submit(engine);\r\n```\r\n\r\n\r\nI expect the method named `handleEvent` to work when data is deleted from User table but it doesn&#39;t.","title":"I am not able to capture data changes with Debezium-Java","body":"<p>I'm trying to make a Debezium example with Java. I want to capture this every time data is deleted in the database. When the application runs, it prints the following log on the screen:</p>\n<pre><code>Dec 10, 2022 10:18:46 PM com.github.shyiko.mysql.binlog.BinaryLogClient connect\nINFO: Connected to localhost:3305 at binlog.000008/3443 (sid:10181, cid:41)\n</code></pre>\n<p>But when I delete something in the database, debezium is not able to catch it.</p>\n<p>Connection Config Class</p>\n<pre><code>public DebeziumSignal connect(Connection data) {\n    final Configuration configuration = DebeziumConfigLoader.load(data);\n\n    engine = DebeziumEngine.create(ChangeEventFormat.of(Connect.class))\n            .using(configuration.asProperties())\n            .notifying(this::handleEvent)\n            .build();\n\n    return new DebeziumSignal(engine);\n}\n</code></pre>\n<p>Config Data class:</p>\n<pre><code>public static Configuration load(Connection connection) {\n    final MysqlConnection mysql = connection.getMysqlConnection();\n    return Configuration.create()\n            .with(&quot;name&quot;, &quot;customer-mysql-connector&quot;)\n            .with(&quot;connector.class&quot;, &quot;io.debezium.connector.mysql.MySqlConnector&quot;)\n            .with(&quot;offset.storage&quot;, &quot;org.apache.kafka.connect.storage.FileOffsetBackingStore&quot;)\n            .with(&quot;offset.flush.interval.ms&quot;, &quot;60000&quot;)\n            .with(&quot;database.hostname&quot;, mysql.getHost())\n            .with(&quot;database.port&quot;, mysql.getPort())\n            .with(&quot;database.user&quot;, mysql.getUsername())\n            .with(&quot;database.password&quot;, mysql.getPassword())\n            .with(&quot;database.dbname&quot;, mysql.getDbName())\n            .with(&quot;database.include.list&quot;, String.join(&quot;,&quot;, mysql.getTables()))\n            .with(&quot;include.schema.changes&quot;, &quot;false&quot;)\n            .with(&quot;database.server.id&quot;, &quot;10181&quot;)\n            .with(&quot;database.server.name&quot;, &quot;customer-mysql-db-server&quot;)\n            .with(&quot;database.history&quot;,\n                    &quot;io.debezium.relational.history.FileDatabaseHistory&quot;)\n            .with(&quot;database.history.file.filename&quot;,\n                    &quot;/tmp/dbhistory.dat&quot;)\n            .with(&quot;database.whitelist&quot;, &quot;mysql.*&quot;)\n            .with(&quot;offset.storage.file.filename&quot;, &quot;/tmp/offsets.dat&quot;)\n            .with(&quot;table.whitelist&quot;, &quot;mysql.*&quot;)\n            .build();\n}\n</code></pre>\n<p>connection:</p>\n<pre><code>executorService.submit(engine);\n</code></pre>\n<p>I expect the method named <code>handleEvent</code> to work when data is deleted from User table but it doesn't.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671281613,"creation_date":1671281613,"answer_id":74834211,"question_id":74833816,"body_markdown":"Assuming you&#39;re using the latest version of JDA (5.0.0-beta.2), the way to send a select menu is this:\r\n\r\n 1. Create a `StringSelectMenu` to allow selecting arbitrary strings:\r\n\r\n    ```java\r\n    // The string here is the id later used to identify the menu on use. Make it unique for each menu.\r\n    StringSelectMenu.Builder builder = StringSelectMenu.create(&quot;menu:id&quot;);\r\n    // Add one or more options\r\n    // First parameter is the label that the user will see, the second is the value your bot will receive when this is selected.\r\n    builder.addOption(&quot;Hello World&quot;, &quot;hello_world&quot;);\r\n    // Then once you have configured all you want, build it\r\n    StringSelectMenu menu = builder.build();\r\n    ```\r\n\r\n2. Send the menu using one of the send methods (reply/sendMessage)\r\n   ```java\r\n   // ActionRow is the layout in which your component is arranged (this is currently the only available layout)\r\n   channel.sendMessageComponents(ActionRow.of(menu)).queue();\r\n   ```\r\n\r\n3. Setup an event listener for this menu\r\n   ```java\r\n   public void Listener extends ListenerAdapter {\r\n       @Override\r\n       public void onStringSelectInteraction(StringSelectInteractionEvent event) {\r\n           // same id as before in create(...)\r\n           if (event.getComponentId().equals(&quot;menu:id&quot;)) {\r\n               List&lt;String&gt; selected = event.getValues(); // the values the user selected\r\n               ... your code to handle the selection ...\r\n               // Either reply with a message\r\n               event.reply(&quot;Your selection was processed&quot;).queue();\r\n               // Or by editing the message (replace means it removes the menu)\r\n               event.editMessage(&quot;It was selected&quot;).setReplace(true).queue();\r\n           }\r\n       }\r\n   }\r\n   ```\r\n\r\nThere is also `EntitySelectMenu` which works rather similarly, but can be used to select `User`/`Member`/`Role` or `GuildChannel` instead of string options.","title":"How To Send DropDown Menu In Java Discord API?","body":"<p>Assuming you're using the latest version of JDA (5.0.0-beta.2), the way to send a select menu is this:</p>\n<ol>\n<li><p>Create a <code>StringSelectMenu</code> to allow selecting arbitrary strings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// The string here is the id later used to identify the menu on use. Make it unique for each menu.\nStringSelectMenu.Builder builder = StringSelectMenu.create(&quot;menu:id&quot;);\n// Add one or more options\n// First parameter is the label that the user will see, the second is the value your bot will receive when this is selected.\nbuilder.addOption(&quot;Hello World&quot;, &quot;hello_world&quot;);\n// Then once you have configured all you want, build it\nStringSelectMenu menu = builder.build();\n</code></pre>\n</li>\n<li><p>Send the menu using one of the send methods (reply/sendMessage)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ActionRow is the layout in which your component is arranged (this is currently the only available layout)\nchannel.sendMessageComponents(ActionRow.of(menu)).queue();\n</code></pre>\n</li>\n<li><p>Setup an event listener for this menu</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void Listener extends ListenerAdapter {\n    @Override\n    public void onStringSelectInteraction(StringSelectInteractionEvent event) {\n        // same id as before in create(...)\n        if (event.getComponentId().equals(&quot;menu:id&quot;)) {\n            List&lt;String&gt; selected = event.getValues(); // the values the user selected\n            ... your code to handle the selection ...\n            // Either reply with a message\n            event.reply(&quot;Your selection was processed&quot;).queue();\n            // Or by editing the message (replace means it removes the menu)\n            event.editMessage(&quot;It was selected&quot;).setReplace(true).queue();\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>There is also <code>EntitySelectMenu</code> which works rather similarly, but can be used to select <code>User</code>/<code>Member</code>/<code>Role</code> or <code>GuildChannel</code> instead of string options.</p>\n"}],"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74834211,"answer_count":1,"score":0,"last_activity_date":1671281613,"creation_date":1671277546,"question_id":74833816,"body_markdown":"I Am Making A Bot In Java Discord API,&lt;br&gt;\r\nI want to send a Drop Down Menu In A Channel,&lt;br&gt;\r\nThere is a MessageChannel Object I Have and I Know How To Send Message By&lt;br&gt; `channel.sendMessage(&quot;MESSAGE&quot;).queue();`&lt;br&gt;\r\nBut How I Send A Drop Down Menu?&lt;br&gt;\r\n\r\nI Have Tried,\r\n1) Making A Class Implementing SelectMenu Interface,&lt;br&gt;\r\ni have overrided all the necessary methods like `getMinValue()`, `getPlaceHolder()`&lt;br&gt;\r\nI Have Expected,\r\nI My Bot Will Send A Drop Down Menu, in a text channel and when I select an option it will send me some result in that channel","title":"How To Send DropDown Menu In Java Discord API?","body":"<p>I Am Making A Bot In Java Discord API,<br>\nI want to send a Drop Down Menu In A Channel,<br>\nThere is a MessageChannel Object I Have and I Know How To Send Message By<br> <code>channel.sendMessage(&quot;MESSAGE&quot;).queue();</code><br>\nBut How I Send A Drop Down Menu?<br></p>\n<p>I Have Tried,</p>\n<ol>\n<li>Making A Class Implementing SelectMenu Interface,<br>\ni have overrided all the necessary methods like <code>getMinValue()</code>, <code>getPlaceHolder()</code><br>\nI Have Expected,\nI My Bot Will Send A Drop Down Menu, in a text channel and when I select an option it will send me some result in that channel</li>\n</ol>\n"},{"tags":["java","android","kotlin","retrofit","android-jetpack-compose"],"answers":[{"comments":[{"owner":{"account_id":17107880,"reputation":137,"user_id":12379488,"display_name":"masinnlos"},"score":0,"creation_date":1671222300,"post_id":74825622,"comment_id":132060744,"body_markdown":"Nope, I still get the same error. Do you have an idea how to get a more detailed error?","body":"Nope, I still get the same error. Do you have an idea how to get a more detailed error?"}],"tags":[],"owner":{"account_id":21393252,"reputation":199,"user_id":15756879,"display_name":"Mohamed Shawky"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671199888,"creation_date":1671199888,"answer_id":74825622,"question_id":74825563,"body_markdown":"HTTP 400 Bad Request so I guess the problem here as you trying to send with the wrong path as you see here you setting your POST endpoint wrong it shouldn&#39;t start with the &quot;/&quot; remove this and it should work fine I guess \r\n\r\n    @Multipart\r\n        @POST(&quot;v1/imagetotext&quot;)\r\n        suspend fun uploadImage(\r\n            @Part image: MultipartBody.Part,\r\n        ): Call&lt;List&lt;Word&gt;&gt;\r\n\r\n","title":"Send an image to an OCR API with Rertofit and Kotlin","body":"<p>HTTP 400 Bad Request so I guess the problem here as you trying to send with the wrong path as you see here you setting your POST endpoint wrong it shouldn't start with the &quot;/&quot; remove this and it should work fine I guess</p>\n<pre><code>@Multipart\n    @POST(&quot;v1/imagetotext&quot;)\n    suspend fun uploadImage(\n        @Part image: MultipartBody.Part,\n    ): Call&lt;List&lt;Word&gt;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17107880,"reputation":137,"user_id":12379488,"display_name":"masinnlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671281571,"creation_date":1671281571,"answer_id":74834207,"question_id":74825563,"body_markdown":"I solved the problem by adding a header to my post request.\r\n\r\n```\r\ninterface FileApi {\r\n\r\n    @Headers(&quot;X-Api-Key: add your header&quot;)\r\n    @Multipart\r\n    @POST(&quot;v1/imagetotext&quot;)\r\n    fun uploadImage(\r\n        @Part image: MultipartBody.Part,\r\n    ): Call&lt;List&lt;Word&gt;&gt;\r\n\r\n\r\n    companion object {\r\n        private val client = OkHttpClient.Builder().build()\r\n        val instance by lazy {\r\n            Retrofit.Builder()\r\n                //TODO: add some API url\r\n                .baseUrl(&quot;https://api.api-ninjas.com/&quot;)\r\n                .client(client) // add a client instance here, e.g. OkHttpClient\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n                .create(FileApi::class.java)\r\n        }\r\n    }\r\n}\r\n```","title":"Send an image to an OCR API with Rertofit and Kotlin","body":"<p>I solved the problem by adding a header to my post request.</p>\n<pre><code>interface FileApi {\n\n    @Headers(&quot;X-Api-Key: add your header&quot;)\n    @Multipart\n    @POST(&quot;v1/imagetotext&quot;)\n    fun uploadImage(\n        @Part image: MultipartBody.Part,\n    ): Call&lt;List&lt;Word&gt;&gt;\n\n\n    companion object {\n        private val client = OkHttpClient.Builder().build()\n        val instance by lazy {\n            Retrofit.Builder()\n                //TODO: add some API url\n                .baseUrl(&quot;https://api.api-ninjas.com/&quot;)\n                .client(client) // add a client instance here, e.g. OkHttpClient\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n                .create(FileApi::class.java)\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17107880,"reputation":137,"user_id":12379488,"display_name":"masinnlos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74834207,"answer_count":2,"score":1,"last_activity_date":1671281571,"creation_date":1671199614,"question_id":74825563,"body_markdown":"I&#39;m trying to send an image to extract text from it using https://api-ninjas.com/api/imagetotext. I still get an HTTP 400 Error though and couldn&#39;t figure out why! I have an image in my assets folder and I should receive a list of words from the API as mentioned in the link. Any hints about how to get a appropriate error or to fix it would be great. My Code is: \r\n\r\n```\r\ndata class Word(\r\n    val bounding_box: BoundingBox,\r\n    val text: String\r\n)\r\n\r\ndata class BoundingBox(\r\n    val x1: Int,\r\n    val x2: Int,\r\n    val y1: Int,\r\n    val y2: Int\r\n)\r\n```\r\n\r\nFileApi.kt\r\n\r\n``` \r\nimport com.example.misinfo.retrofitfileupload.dto.Word\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.OkHttpClient\r\nimport retrofit2.Call\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.http.Multipart\r\nimport retrofit2.http.POST\r\nimport retrofit2.http.Part\r\n\r\ninterface FileApi {\r\n\r\n    @Multipart\r\n    @POST(&quot;/v1/imagetotext&quot;)\r\n    suspend fun uploadImage(\r\n        @Part image: MultipartBody.Part,\r\n    ): Call&lt;List&lt;Word&gt;&gt;\r\n\r\n\r\n    companion object {\r\n        private val client = OkHttpClient.Builder().build()\r\n        val instance by lazy {\r\n            Retrofit.Builder()\r\n                //TODO: add some API url\r\n                .baseUrl(&quot;https://api.api-ninjas.com/&quot;)\r\n                .client(client) // add a client instance here, e.g. OkHttpClient\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n                .create(FileApi::class.java)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFileRepository.kt\r\n\r\n```\r\n\r\nimport android.util.Log\r\nimport com.example.misinfo.retrofitfileupload.dto.Word\r\nimport okhttp3.MultipartBody\r\nimport java.io.File\r\nimport java.io.IOException\r\nimport okhttp3.RequestBody.Companion.asRequestBody\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.HttpException\r\nimport retrofit2.Response\r\n\r\nclass FileRepository {\r\n\r\n    suspend fun uploadImage(file: File): Boolean {\r\n        var res = false\r\n        try {\r\n            FileApi.instance.uploadImage(\r\n                image = MultipartBody.Part\r\n                    .createFormData(\r\n                        &quot;image&quot;,\r\n                        file.name,\r\n                        file.asRequestBody()\r\n                    )\r\n            ).enqueue(\r\n                object : Callback&lt;List&lt;Word&gt;&gt; {\r\n                    override fun onFailure(call: Call&lt;List&lt;Word&gt;&gt;, t: Throwable) {\r\n                        Log.e(&quot;API Request&quot;, &quot;I got an error and i don&#39;t know why :(&quot;)\r\n                    }\r\n                    override fun onResponse( call: Call&lt;List&lt;Word&gt;&gt;, response: Response&lt;List&lt;Word&gt;&gt;) {\r\n                        val responseBody = response.body()\r\n                        Log.e(&quot;API Request&quot;, responseBody.toString())\r\n                    }\r\n                }\r\n            )\r\n            res = true\r\n            return res\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n            return res\r\n        } catch (e: HttpException) {\r\n            e.printStackTrace()\r\n            return res\r\n        } finally {\r\n            Log.e(&quot;API Request&quot;, res.toString())\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFileViewModel.kt\r\n\r\n```\r\nimport androidx.lifecycle.ViewModel\r\nimport androidx.lifecycle.viewModelScope\r\nimport com.example.misinfo.retrofitfileupload.FileRepository\r\nimport kotlinx.coroutines.launch\r\nimport java.io.File\r\n\r\nclass FileViewModel(\r\n    private val repository: FileRepository= FileRepository()\r\n): ViewModel() {\r\n    fun uploadImage(file: File){\r\n        viewModelScope.launch {\r\n            repository.uploadImage(file)\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMainActicity.kt\r\n\r\n```\r\nclass MainActivity : ComponentActivity() {\r\n\r\n    class MyReceiver : BroadcastReceiver() {\r\n        override fun onReceive(context: Context?, intent: Intent?) {\r\n            println(&quot;Clicked on Pip Action&quot;)\r\n        }\r\n    }\r\n\r\n    private val isPipSupported by lazy {\r\n        packageManager.hasSystemFeature(\r\n            PackageManager.FEATURE_PICTURE_IN_PICTURE\r\n        )\r\n    }\r\n\r\n    private var viewBounds = Rect()\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContent {\r\n            MisInfoTheme {\r\n                //ApplicationSwitcher()\r\n                val viewModel = viewModel&lt;FileViewModel&gt;()\r\n                Box(\r\n                    modifier = Modifier.fillMaxSize(),\r\n                    contentAlignment = Alignment.Center\r\n                ) {\r\n                    Button(onClick = {\r\n                        val file = File(cacheDir, &quot;img.png&quot;)\r\n                        file.createNewFile()\r\n                        file.outputStream().use {\r\n                            assets.open(&quot;img.png&quot;).copyTo(it)\r\n                        }\r\n                        viewModel.uploadImage(file)\r\n                    }) {\r\n                        Text(text = &quot;Upload image&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Send an image to an OCR API with Rertofit and Kotlin","body":"<p>I'm trying to send an image to extract text from it using <a href=\"https://api-ninjas.com/api/imagetotext\" rel=\"nofollow noreferrer\">https://api-ninjas.com/api/imagetotext</a>. I still get an HTTP 400 Error though and couldn't figure out why! I have an image in my assets folder and I should receive a list of words from the API as mentioned in the link. Any hints about how to get a appropriate error or to fix it would be great. My Code is:</p>\n<pre><code>data class Word(\n    val bounding_box: BoundingBox,\n    val text: String\n)\n\ndata class BoundingBox(\n    val x1: Int,\n    val x2: Int,\n    val y1: Int,\n    val y2: Int\n)\n</code></pre>\n<p>FileApi.kt</p>\n<pre><code>import com.example.misinfo.retrofitfileupload.dto.Word\nimport okhttp3.MultipartBody\nimport okhttp3.OkHttpClient\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.Multipart\nimport retrofit2.http.POST\nimport retrofit2.http.Part\n\ninterface FileApi {\n\n    @Multipart\n    @POST(&quot;/v1/imagetotext&quot;)\n    suspend fun uploadImage(\n        @Part image: MultipartBody.Part,\n    ): Call&lt;List&lt;Word&gt;&gt;\n\n\n    companion object {\n        private val client = OkHttpClient.Builder().build()\n        val instance by lazy {\n            Retrofit.Builder()\n                //TODO: add some API url\n                .baseUrl(&quot;https://api.api-ninjas.com/&quot;)\n                .client(client) // add a client instance here, e.g. OkHttpClient\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n                .create(FileApi::class.java)\n        }\n    }\n}\n</code></pre>\n<p>FileRepository.kt</p>\n<pre><code>\nimport android.util.Log\nimport com.example.misinfo.retrofitfileupload.dto.Word\nimport okhttp3.MultipartBody\nimport java.io.File\nimport java.io.IOException\nimport okhttp3.RequestBody.Companion.asRequestBody\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.HttpException\nimport retrofit2.Response\n\nclass FileRepository {\n\n    suspend fun uploadImage(file: File): Boolean {\n        var res = false\n        try {\n            FileApi.instance.uploadImage(\n                image = MultipartBody.Part\n                    .createFormData(\n                        &quot;image&quot;,\n                        file.name,\n                        file.asRequestBody()\n                    )\n            ).enqueue(\n                object : Callback&lt;List&lt;Word&gt;&gt; {\n                    override fun onFailure(call: Call&lt;List&lt;Word&gt;&gt;, t: Throwable) {\n                        Log.e(&quot;API Request&quot;, &quot;I got an error and i don't know why :(&quot;)\n                    }\n                    override fun onResponse( call: Call&lt;List&lt;Word&gt;&gt;, response: Response&lt;List&lt;Word&gt;&gt;) {\n                        val responseBody = response.body()\n                        Log.e(&quot;API Request&quot;, responseBody.toString())\n                    }\n                }\n            )\n            res = true\n            return res\n        } catch (e: IOException) {\n            e.printStackTrace()\n            return res\n        } catch (e: HttpException) {\n            e.printStackTrace()\n            return res\n        } finally {\n            Log.e(&quot;API Request&quot;, res.toString())\n        }\n    }\n}\n</code></pre>\n<p>FileViewModel.kt</p>\n<pre><code>import androidx.lifecycle.ViewModel\nimport androidx.lifecycle.viewModelScope\nimport com.example.misinfo.retrofitfileupload.FileRepository\nimport kotlinx.coroutines.launch\nimport java.io.File\n\nclass FileViewModel(\n    private val repository: FileRepository= FileRepository()\n): ViewModel() {\n    fun uploadImage(file: File){\n        viewModelScope.launch {\n            repository.uploadImage(file)\n        }\n    }\n\n}\n</code></pre>\n<p>MainActicity.kt</p>\n<pre><code>class MainActivity : ComponentActivity() {\n\n    class MyReceiver : BroadcastReceiver() {\n        override fun onReceive(context: Context?, intent: Intent?) {\n            println(&quot;Clicked on Pip Action&quot;)\n        }\n    }\n\n    private val isPipSupported by lazy {\n        packageManager.hasSystemFeature(\n            PackageManager.FEATURE_PICTURE_IN_PICTURE\n        )\n    }\n\n    private var viewBounds = Rect()\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            MisInfoTheme {\n                //ApplicationSwitcher()\n                val viewModel = viewModel&lt;FileViewModel&gt;()\n                Box(\n                    modifier = Modifier.fillMaxSize(),\n                    contentAlignment = Alignment.Center\n                ) {\n                    Button(onClick = {\n                        val file = File(cacheDir, &quot;img.png&quot;)\n                        file.createNewFile()\n                        file.outputStream().use {\n                            assets.open(&quot;img.png&quot;).copyTo(it)\n                        }\n                        viewModel.uploadImage(file)\n                    }) {\n                        Text(text = &quot;Upload image&quot;)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","batik"],"comments":[{"owner":{"account_id":27273777,"reputation":1,"user_id":20794720,"display_name":"mrader"},"score":0,"creation_date":1671469634,"post_id":74834189,"comment_id":132101045,"body_markdown":"I did some further evaluation: It seems that when you update style inside the styles tag of the SVG document (i.e. in the CSS part), the new style is not cascaded down to the SVG elements. So the short question is: How can I enforce that styles are re-applied to an already parsed SVG document.","body":"I did some further evaluation: It seems that when you update style inside the styles tag of the SVG document (i.e. in the CSS part), the new style is not cascaded down to the SVG elements. So the short question is: How can I enforce that styles are re-applied to an already parsed SVG document."}],"owner":{"account_id":27273777,"reputation":1,"user_id":20794720,"display_name":"mrader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671281404,"creation_date":1671281404,"question_id":74834189,"body_markdown":"I have inherited code from a Batik application, which loads an SVG Document from file and puts it in a buffered image property in the class, which is then converted to a PNG by the client. Initially loading it works fine. Updating it does not work. The code below is for initial loading of the document, parsing it, and writing it into a buffered image.\r\n\r\n```\r\npublic void decode(BOrd ord, byte[] bytes, BTransform.Scale scale) {\r\n      try {\r\n         InputStream inputStream = new ByteArrayInputStream(bytes);\r\n         String uri = &quot;ord://&quot; + ord;\r\n         String parser = XMLResourceDescriptor.getXMLParserClassName();\r\n         SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\r\n         svgDocument = (SVGOMDocument)f.createDocument(uri, inputStream);\r\n         originalStyles=null; //Set to null to force update\r\n         updateDocument(svgDocument, owner);\r\n         UserAgent userAgent = new UserAgentAdapter();\r\n         BridgeContext bridgeContext = AccessController.doPrivileged((PrivilegedAction&lt;BridgeContext&gt;)() -&gt; {\r\n            return new BridgeContext(userAgent, new DocumentLoader(userAgent)) {\r\n               public SVGAnimationEngine getAnimationEngine() {\r\n                  if (this.animationEngine == null) {\r\n                     this.animationEngine = new SVGAnimationEngine(this.document, this) {\r\n                        protected float tick(float time, boolean hyperlinking) {\r\n                           return BMtSvgDecoder.ENABLE_SVG_HYPERLINKING ? super.tick(time, hyperlinking) : super.tick(time, false);\r\n                        }\r\n                     };\r\n                     this.setAnimationLimitingMode();\r\n                  }\r\n\r\n                  return this.animationEngine;\r\n               }\r\n            };\r\n         });\r\n         //Dynamic state means that the rendering should update if the document has changed.\r\n         bridgeContext.setDynamicState(BridgeContext.DYNAMIC);\r\n         //Remember the bridge context.\r\n         this.bridgeContext=bridgeContext;\r\n         //GVT is the data structure used internally to render the document\r\n         GVTBuilder builder = new GVTBuilder();\r\n         GraphicsNode gvtRoot = builder.build(bridgeContext, svgDocument);\r\n         this.image = initImage(bridgeContext, scale);\r\n         if (scale != null) {\r\n            AffineTransform trans = new AffineTransform();\r\n            trans.scale(scale.getX(), scale.getY());\r\n            gvtRoot.setTransform(trans);\r\n         }\r\n         this.image = initImage(bridgeContext, scale);\r\n         renderImage(this.image, gvtRoot);//Creates the buffered image which is stored as field.\r\n         if (hasAnimationElement(svgDocument)) {\r\n            this.animator = new BMtSvgDecoder.SvgAnimator(svgDocument, bridgeContext, gvtRoot, scale);\r\n         } else {\r\n            this.animator = null;\r\n         }\r\n//         printXML(&quot;Initially loaded SVG&quot;, svgDocument);\r\n      } catch (Exception e) {\r\n         throw new BajaRuntimeException(e);\r\n      }\r\n   }\r\n```\r\n\r\nThe &quot;updateDocument(svgDocument, owner)&quot; method, does 2 things: \r\n\r\n- It retrieves the \\&lt;style\\&gt; tags from the SVG and updates their &quot;textContent&quot; to replace things like &quot;var(--custom-variable)&quot; by the real variable values\r\n\r\n- It updates some svg tags (e.g. text tag) providing updated texts.\r\n\r\nI have noted that the initial parsing of the SVG document is a bottleneck, so I tried to put an additional method in the class, which uses the already parsed document stored in the class (without reloading it) and just re-render the buffered image. **The issue is that while the updated svg-tags are rendered correctly, the updated styles (CSS) don&#39;t seem to be considered.** \r\n\r\nHere is the update method that takes the already parsed document, updates it, and rerenders it:\r\n\r\n```\r\n   public BImage rerenderDocument(BTransform.Scale scale) {\r\n      //Updates the document using the information of the binders in the  owner SVG Widget (BSvgPicture)\r\n      updateDocument(svgDocument, owner);\r\n//      printXML(&quot;UPDATED SVG&quot;, svgDocument);\r\n      GVTBuilder builder = new GVTBuilder();\r\n      GraphicsNode gvtRoot = builder.build(bridgeContext, svgDocument);\r\n      if (scale != null) {\r\n         AffineTransform trans = new AffineTransform();\r\n         trans.scale(scale.getX(), scale.getY());\r\n         gvtRoot.setTransform(trans);\r\n      }\r\n      this.image = initImage(bridgeContext, scale);\r\n      renderImage(this.image, gvtRoot);\r\n      return BImage.make(getRenderedImageBytes());\r\n   }\r\n```\r\n\r\nThe original SVG document is below: the custom properties are replaced by the &quot;updateDocument(svgDocument, owner). Note that the initial --color1 value is grey (#808080). The &quot;updateDocument&quot; method is supposed to update it to red (see document below). Dumping the updated document on the client shows that it is correct, its red, but the image still sometimes is grey...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;!DOCTYPE \t\tsvg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;\r\n&lt;!-- Generiert durch Microsoft Visio, SVG Export svgSensor.svg Zeichenblatt-1 --&gt;\r\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot; width=&quot;200px&quot; height=&quot;200px&quot; viewBox=&quot;0 0 200 200&quot; xml:space=&quot;preserve&quot; color-interpolation-filters=&quot;sRGB&quot; class=&quot;base&quot;&gt;\r\n\t&lt;style id=&quot;styles&quot;&gt;\r\n  :root{\r\n\t--angle1: 90deg;\r\n\t--origin-x1: 100px;\r\n\t--origin-y1: 100px;\r\n\t--translate-x1: 0px;\r\n\t--translate-y1: 0px;\r\n\t--angle2: 0deg;\r\n\t--origin-x2: 0px;\r\n\t--origin-y2: 0px;\r\n\t--translate-x2: 100px;\r\n\t--translate-y2: 140px;\r\n\t--color1: #808080;\r\n\t--color2: white;\r\n\t--color3: black;\r\n\t--color4: red;\r\n\t--colorSymbolText: black;\r\n\t--colorValueText: black;\r\n\t--colorStatusText: black;\r\n\t--stroke1-width: 3px;\t \r\n\t--font1-family: Calibri;\r\n\t--font1-size: 24px;\r\n\t--font1-style: normal;\r\n\t--font1-weight: normal;\r\n\t--font1-text-decoration: none;\r\n\t--font2-family: Calibri;\r\n\t--font2-size: 18px;\r\n\t--font2-style: normal;\r\n\t--font2-weight: normal;\r\n\t--font2-text-decoration: none;\r\n\t--font3-family: Segoe UI Symbol;\r\n\t--font3-size: 18px;\r\n\t--font3-style: normal;\r\n\t--font3-weight: normal;\r\n\t--font3-text-decoration: none;\r\n\t}\r\n    .format1 {\r\n\t    fill: var(--color1);\r\n\t\tstroke: var(--color3);\r\n\t\tstroke-width: var(--stroke1-width);\r\n\t}\r\n\t.symbolTextFormat{\r\n\t\ttext-anchor:middle;\r\n\t\tdominant-baseline: central;\r\n\t\tfont-family: var(--font1-family);\r\n\t\tfont-size: var(--font1-size);\r\n\t\tfont-style: var(--font1-style);\r\n        font-weight: var(--font1-weight);\t\r\n\t\ttext-decoration: var(--font1-text-decoration);\r\n\t\tfill: var(--colorSymbolText);\r\n\t}\r\n\t.valueTextFormat{\r\n\t\ttext-anchor:middle;\r\n\t\tdominant-baseline: central;\r\n\t\tfont-family: var(--font2-family);\r\n\t\tfont-size: var(--font2-size);\r\n\t\tfont-style: var(--font2-style);\r\n        font-weight: var(--font2-weight);\t\r\n\t\ttext-decoration: var(--font2-text-decoration);\r\n\t\tfill: var(--colorValueText);\r\n\t}\r\n\t.statusTextFormat{\r\n\t\tfont-family: var(--font3-family);\r\n\t\tfont-size: var(--font3-size);\r\n\t\tfont-style: var(--font3-style);\r\n        font-weight: var(--font3-weight);\t\r\n\t\ttext-decoration: var(--font3-text-decoration);\r\n\t\tfill: var(--colorStatusText);\r\n\t}\r\n\t.gradient1 {\r\n\t    fill: url(#radialGradient1);\r\n\t}\r\n\t.shapePositionTransform{\r\n\r\n\t\ttransform: translate(var(--translate-x1), var(--translate-y1));\t\r\n\t}\r\n\t.shapeOrientationTransform{\r\n\t\ttransform-origin: var(--origin-x1) var(--origin-y1);\r\n\t\ttransform: rotate(var(--angle1));\t\r\n\t}\r\n\t\t\r\n\t.valueTextTransform{\r\n\t\ttransform-origin: var(--origin-x2) var(--origin-y2);\r\n\t\ttransform: rotate(var(--angle2)) translate(var(--translate-x2), var(--translate-y2));\t\r\n\t}\r\n\t.gradient1-start {\r\n\t\tstop-color:var(--color2); \r\n\t\tstop-opacity: 1;\r\n\t}\r\n    .gradient1-mid {\r\n\t\tstop-color:var(--color2); \r\n\t\tstop-opacity: 1;\r\n\t}\r\n    .gradient1-stop {\r\n\t\tstop-color:var(--color1);  \r\n\t\tstop-opacity: 1;\r\n\t}\r\n  &lt;/style&gt;\r\n\t&lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\r\n\t\t&lt;radialGradient id=&quot;radialGradient1&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; r=&quot;0.73&quot;&gt;\r\n\t\t\t&lt;stop class=&quot;gradient1-start&quot; offset=&quot;0%&quot;/&gt;\r\n\t\t\t&lt;stop class=&quot;gradient1-mid&quot; offset=&quot;10%&quot;/&gt;\r\n\t\t\t&lt;stop class=&quot;gradient1-stop&quot; offset=&quot;100%&quot;/&gt;\r\n\t\t&lt;/radialGradient&gt;\r\n\t&lt;/defs&gt;\r\n\t&lt;g id=&quot;widgetContainer&quot;&gt;\r\n\t\t&lt;g id=&quot;shape&quot; class=&quot;shapePositionTransform&quot;&gt;\r\n\t\t\t&lt;circle class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;20&quot;/&gt;\r\n\t\t\t&lt;text id=&quot;symbolText&quot; class=&quot;symbolTextFormat symbolTextXYAdjust&quot; x=&quot;100&quot; y=&quot;100&quot;&gt;T&lt;/text&gt;\r\n\t\t\t&lt;!-- for use in wb, apply the svg transform attribute, not the CSS style \r\n\t\t\t&lt;g class=&quot;rotatableContent1&quot; transform=&quot;rotate(45, 50, 50)&quot; &gt;\r\n\t\t\tthe parametes are angle, transform origin x, transform origin y.\r\n\t--&gt;\r\n\t\t&lt;g id=&quot;probe&quot;&gt;\r\n\t\t\t&lt;!--line id=&quot;directionLine&quot; class=&quot;directionLine&quot; x1=&quot;50&quot; y1=&quot;10&quot; x2=&quot;50&quot; y2=&quot;50&quot; transform=&quot;rotate(0, 50, 50)&quot; /--&gt;\r\n\t\t\t&lt;line id=&quot;probeLine&quot; class=&quot;format1 shapeOrientationTransform&quot; x1=&quot;100&quot; y1=&quot;80&quot; x2=&quot;100&quot; y2=&quot;60&quot;/&gt;\r\n\t\t&lt;/g&gt;\r\n\t&lt;/g&gt;\r\n\t&lt;g id=&quot;valueStatusTextGroup&quot;&gt;\r\n\t\t&lt;text id=&quot;valueText&quot; class=&quot;valueTextFormat valueTextTransform&quot; x=&quot;0&quot; y=&quot;0&quot;&gt;20 &#176;C\r\n\t\t&lt;tspan id=&quot;statusTextPrefix&quot;&gt;{&lt;/tspan&gt;\r\n\t\t&lt;tspan id=&quot;statusTextOverridden&quot; class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-5&quot;&gt;✋&lt;/tspan&gt;\r\n\t\t&lt;tspan id=&quot;statusTextAlarm&quot; class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-4&quot;&gt;⚠&lt;/tspan&gt;\r\n\t\t&lt;tspan id=&quot;statusTextSuffix&quot; class= &quot;statusTextXYAdjust&quot; dx=&quot;-2&quot;&gt;}&lt;/tspan&gt;&lt;/text&gt;\r\n\t&lt;/g&gt;\r\n&lt;/g&gt;\r\n&lt;/svg&gt;\r\n\r\n```\r\n\r\nHere is the resulting document after update:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;!-- Generiert durch Microsoft Visio, SVG Export svgSensor.svg Zeichenblatt-1 --&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot; contentScriptType=&quot;text/ecmascript&quot; zoomAndPan=&quot;magnify&quot; contentStyleType=&quot;text/css&quot; version=&quot;1.0&quot; width=&quot;200px&quot; xml:space=&quot;preserve&quot; preserveAspectRatio=&quot;xMidYMid meet&quot; viewBox=&quot;0 0 200 200&quot; height=&quot;200px&quot; class=&quot;base&quot; color-interpolation-filters=&quot;sRGB&quot;&gt;\r\n        &lt;style id=&quot;styles&quot; xml:space=&quot;preserve&quot;&gt;\r\n  :root{\r\n        --angle1: 90deg;\r\n        --origin-x1: 100px;\r\n        --origin-y1: 100px;\r\n        --translate-x1: 0px;\r\n        --translate-y1: 0px;\r\n        --angle2: 0deg;\r\n        --origin-x2: 0px;\r\n        --origin-y2: 0px;\r\n        --translate-x2: 100px;\r\n        --translate-y2: 140px;\r\n        --color1: #ff0000;\r\n        --color2: #ffffff;\r\n        --color3: #000000;\r\n        --color4: #0000ff;\r\n        --colorSymbolText: #000000;\r\n        --colorValueText: #000000;\r\n        --colorStatusText: #ff0000;\r\n        --stroke1-width: 3.0px;\r\n        --font1-family: Calibri;\r\n        --font1-size: 24.0;\r\n        --font1-style: normal;\r\n        --font1-weight: normal;\r\n        --font1-text-decoration: none;\r\n        --font2-family: Calibri;\r\n        --font2-size: 18.0;\r\n        --font2-style: normal;\r\n        --font2-weight: normal;\r\n        --font2-text-decoration: none;\r\n        --font3-family: Segoe UI Symbol;\r\n        --font3-size: 18.0;\r\n        --font3-style: normal;\r\n        --font3-weight: normal;\r\n        --font3-text-decoration: none;\r\n        }\r\n    .format1 {\r\n            fill: #ff0000;\r\n                stroke: #000000;\r\n                stroke-width: 3.0px;\r\n        }\r\n        .symbolTextFormat{\r\n                text-anchor:middle;\r\n                dominant-baseline: central;\r\n                font-family: Calibri;\r\n                font-size: 24.0;\r\n                font-style: normal;\r\n        font-weight: normal;\r\n                text-decoration: none;\r\n                fill: #000000;\r\n        }\r\n        .valueTextFormat{\r\n                text-anchor:middle;\r\n                dominant-baseline: central;\r\n                font-family: Calibri;\r\n                font-size: 18.0;\r\n                font-style: normal;\r\n        font-weight: normal;\r\n                text-decoration: none;\r\n                fill: #000000;\r\n        }\r\n        .statusTextFormat{\r\n                font-family: Segoe UI Symbol;\r\n                font-size: 18.0;\r\n                font-style: normal;\r\n        font-weight: normal;\r\n                text-decoration: none;\r\n                fill: #ff0000;\r\n        }\r\n        .gradient1 {\r\n            fill: url(#radialGradient1);\r\n        }\r\n\r\n\r\n\r\n\r\n        .gradient1-start {\r\n                stop-color:#ffffff;\r\n                stop-opacity: 1;\r\n        }\r\n    .gradient1-mid {\r\n                stop-color:#ffffff;\r\n                stop-opacity: 1;\r\n        }\r\n    .gradient1-stop {\r\n                stop-color:#ff0000;\r\n                stop-opacity: 1;\r\n        }\r\n  &lt;/style&gt;\r\n        &lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\r\n                &lt;radialGradient xlink:type=&quot;simple&quot; r=&quot;0.73&quot; xlink:actuate=&quot;onLoad&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; id=&quot;radialGradient1&quot; xlink:show=&quot;other&quot;&gt;\r\n                        &lt;stop offset=&quot;0%&quot; class=&quot;gradient1-start&quot;/&gt;\r\n                        &lt;stop offset=&quot;10%&quot; class=&quot;gradient1-mid&quot;/&gt;\r\n                        &lt;stop offset=&quot;100%&quot; class=&quot;gradient1-stop&quot;/&gt;\r\n                &lt;/radialGradient&gt;\r\n        &lt;/defs&gt;\r\n        &lt;g id=&quot;widgetContainer&quot;&gt;\r\n                &lt;g class=&quot;shapePositionTransform&quot; id=&quot;shape&quot; transform=&quot;rotate(0.0, 0.0, 0.0) translate(0.0, 0.0)&quot;&gt;\r\n                        &lt;circle r=&quot;20&quot; class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot;/&gt;\r\n                        &lt;text dy=&quot;8.5&quot; x=&quot;100&quot; y=&quot;100&quot; id=&quot;symbolText&quot; class=&quot;symbolTextFormat symbolTextXYAdjust&quot;&gt;T&lt;/text&gt;\r\n                        &lt;!-- for use in wb, apply the svg transform attribute, not the CSS style\r\n                        &lt;g class=&quot;rotatableContent1&quot; transform=&quot;rotate(45, 50, 50)&quot; &gt;\r\n                        the parametes are angle, transform origin x, transform origin y.\r\n        --&gt;\r\n                &lt;g id=&quot;probe&quot;&gt;\r\n                        &lt;!--line id=&quot;directionLine&quot; class=&quot;directionLine&quot; x1=&quot;50&quot; y1=&quot;10&quot; x2=&quot;50&quot; y2=&quot;50&quot; transform=&quot;rotate(0, 50, 50)&quot; /--&gt;\r\n                        &lt;line transform=&quot;rotate(90.0, 100.0, 100.0) translate(0.0, 0.0)&quot; x1=&quot;100&quot; x2=&quot;100&quot; y1=&quot;80&quot; y2=&quot;60&quot; class=&quot;format1 shapeOrientationTransform&quot; id=&quot;probeLine&quot;/&gt;\r\n                &lt;/g&gt;\r\n        &lt;/g&gt;\r\n        &lt;g id=&quot;valueStatusTextGroup&quot;&gt;\r\n                &lt;text x=&quot;0&quot; y=&quot;0&quot; id=&quot;valueText&quot; class=&quot;valueTextFormat valueTextTransform&quot; transform=&quot;rotate(0.0, 100.0, 100.0) translate(100.0, 140.0)&quot;&gt;-26.5 ┬░C&lt;tspan id=&quot;statusTextPrefix&quot;&gt;[&lt;/tspan&gt;\r\n                &lt;tspan class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextOverridden&quot;/&gt;\r\n                &lt;tspan class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextAlarm&quot;&gt;&#212;&#220;&#225;&lt;/tspan&gt;\r\n                &lt;tspan class=&quot;statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextSuffix&quot;&gt;]&lt;/tspan&gt;&lt;/text&gt;\r\n        &lt;/g&gt;\r\n&lt;/g&gt;\r\n&lt;/svg&gt;\r\n```\r\n\r\nWhat I noted is that somewhere in the process, the strange xlink... attributes have been introduced into the svg. \r\n\r\n**Anyone has an idea why the code above won&#39;t consider the changed style?**\r\n","title":"Updating SVG Document CSS styles not always reflected in resulting image","body":"<p>I have inherited code from a Batik application, which loads an SVG Document from file and puts it in a buffered image property in the class, which is then converted to a PNG by the client. Initially loading it works fine. Updating it does not work. The code below is for initial loading of the document, parsing it, and writing it into a buffered image.</p>\n<pre><code>public void decode(BOrd ord, byte[] bytes, BTransform.Scale scale) {\n      try {\n         InputStream inputStream = new ByteArrayInputStream(bytes);\n         String uri = &quot;ord://&quot; + ord;\n         String parser = XMLResourceDescriptor.getXMLParserClassName();\n         SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\n         svgDocument = (SVGOMDocument)f.createDocument(uri, inputStream);\n         originalStyles=null; //Set to null to force update\n         updateDocument(svgDocument, owner);\n         UserAgent userAgent = new UserAgentAdapter();\n         BridgeContext bridgeContext = AccessController.doPrivileged((PrivilegedAction&lt;BridgeContext&gt;)() -&gt; {\n            return new BridgeContext(userAgent, new DocumentLoader(userAgent)) {\n               public SVGAnimationEngine getAnimationEngine() {\n                  if (this.animationEngine == null) {\n                     this.animationEngine = new SVGAnimationEngine(this.document, this) {\n                        protected float tick(float time, boolean hyperlinking) {\n                           return BMtSvgDecoder.ENABLE_SVG_HYPERLINKING ? super.tick(time, hyperlinking) : super.tick(time, false);\n                        }\n                     };\n                     this.setAnimationLimitingMode();\n                  }\n\n                  return this.animationEngine;\n               }\n            };\n         });\n         //Dynamic state means that the rendering should update if the document has changed.\n         bridgeContext.setDynamicState(BridgeContext.DYNAMIC);\n         //Remember the bridge context.\n         this.bridgeContext=bridgeContext;\n         //GVT is the data structure used internally to render the document\n         GVTBuilder builder = new GVTBuilder();\n         GraphicsNode gvtRoot = builder.build(bridgeContext, svgDocument);\n         this.image = initImage(bridgeContext, scale);\n         if (scale != null) {\n            AffineTransform trans = new AffineTransform();\n            trans.scale(scale.getX(), scale.getY());\n            gvtRoot.setTransform(trans);\n         }\n         this.image = initImage(bridgeContext, scale);\n         renderImage(this.image, gvtRoot);//Creates the buffered image which is stored as field.\n         if (hasAnimationElement(svgDocument)) {\n            this.animator = new BMtSvgDecoder.SvgAnimator(svgDocument, bridgeContext, gvtRoot, scale);\n         } else {\n            this.animator = null;\n         }\n//         printXML(&quot;Initially loaded SVG&quot;, svgDocument);\n      } catch (Exception e) {\n         throw new BajaRuntimeException(e);\n      }\n   }\n</code></pre>\n<p>The &quot;updateDocument(svgDocument, owner)&quot; method, does 2 things:</p>\n<ul>\n<li><p>It retrieves the &lt;style&gt; tags from the SVG and updates their &quot;textContent&quot; to replace things like &quot;var(--custom-variable)&quot; by the real variable values</p>\n</li>\n<li><p>It updates some svg tags (e.g. text tag) providing updated texts.</p>\n</li>\n</ul>\n<p>I have noted that the initial parsing of the SVG document is a bottleneck, so I tried to put an additional method in the class, which uses the already parsed document stored in the class (without reloading it) and just re-render the buffered image. <strong>The issue is that while the updated svg-tags are rendered correctly, the updated styles (CSS) don't seem to be considered.</strong></p>\n<p>Here is the update method that takes the already parsed document, updates it, and rerenders it:</p>\n<pre><code>   public BImage rerenderDocument(BTransform.Scale scale) {\n      //Updates the document using the information of the binders in the  owner SVG Widget (BSvgPicture)\n      updateDocument(svgDocument, owner);\n//      printXML(&quot;UPDATED SVG&quot;, svgDocument);\n      GVTBuilder builder = new GVTBuilder();\n      GraphicsNode gvtRoot = builder.build(bridgeContext, svgDocument);\n      if (scale != null) {\n         AffineTransform trans = new AffineTransform();\n         trans.scale(scale.getX(), scale.getY());\n         gvtRoot.setTransform(trans);\n      }\n      this.image = initImage(bridgeContext, scale);\n      renderImage(this.image, gvtRoot);\n      return BImage.make(getRenderedImageBytes());\n   }\n</code></pre>\n<p>The original SVG document is below: the custom properties are replaced by the &quot;updateDocument(svgDocument, owner). Note that the initial --color1 value is grey (#808080). The &quot;updateDocument&quot; method is supposed to update it to red (see document below). Dumping the updated document on the client shows that it is correct, its red, but the image still sometimes is grey...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;!DOCTYPE       svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; &quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;\n&lt;!-- Generiert durch Microsoft Visio, SVG Export svgSensor.svg Zeichenblatt-1 --&gt;\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot; width=&quot;200px&quot; height=&quot;200px&quot; viewBox=&quot;0 0 200 200&quot; xml:space=&quot;preserve&quot; color-interpolation-filters=&quot;sRGB&quot; class=&quot;base&quot;&gt;\n    &lt;style id=&quot;styles&quot;&gt;\n  :root{\n    --angle1: 90deg;\n    --origin-x1: 100px;\n    --origin-y1: 100px;\n    --translate-x1: 0px;\n    --translate-y1: 0px;\n    --angle2: 0deg;\n    --origin-x2: 0px;\n    --origin-y2: 0px;\n    --translate-x2: 100px;\n    --translate-y2: 140px;\n    --color1: #808080;\n    --color2: white;\n    --color3: black;\n    --color4: red;\n    --colorSymbolText: black;\n    --colorValueText: black;\n    --colorStatusText: black;\n    --stroke1-width: 3px;    \n    --font1-family: Calibri;\n    --font1-size: 24px;\n    --font1-style: normal;\n    --font1-weight: normal;\n    --font1-text-decoration: none;\n    --font2-family: Calibri;\n    --font2-size: 18px;\n    --font2-style: normal;\n    --font2-weight: normal;\n    --font2-text-decoration: none;\n    --font3-family: Segoe UI Symbol;\n    --font3-size: 18px;\n    --font3-style: normal;\n    --font3-weight: normal;\n    --font3-text-decoration: none;\n    }\n    .format1 {\n        fill: var(--color1);\n        stroke: var(--color3);\n        stroke-width: var(--stroke1-width);\n    }\n    .symbolTextFormat{\n        text-anchor:middle;\n        dominant-baseline: central;\n        font-family: var(--font1-family);\n        font-size: var(--font1-size);\n        font-style: var(--font1-style);\n        font-weight: var(--font1-weight);   \n        text-decoration: var(--font1-text-decoration);\n        fill: var(--colorSymbolText);\n    }\n    .valueTextFormat{\n        text-anchor:middle;\n        dominant-baseline: central;\n        font-family: var(--font2-family);\n        font-size: var(--font2-size);\n        font-style: var(--font2-style);\n        font-weight: var(--font2-weight);   \n        text-decoration: var(--font2-text-decoration);\n        fill: var(--colorValueText);\n    }\n    .statusTextFormat{\n        font-family: var(--font3-family);\n        font-size: var(--font3-size);\n        font-style: var(--font3-style);\n        font-weight: var(--font3-weight);   \n        text-decoration: var(--font3-text-decoration);\n        fill: var(--colorStatusText);\n    }\n    .gradient1 {\n        fill: url(#radialGradient1);\n    }\n    .shapePositionTransform{\n\n        transform: translate(var(--translate-x1), var(--translate-y1)); \n    }\n    .shapeOrientationTransform{\n        transform-origin: var(--origin-x1) var(--origin-y1);\n        transform: rotate(var(--angle1));   \n    }\n        \n    .valueTextTransform{\n        transform-origin: var(--origin-x2) var(--origin-y2);\n        transform: rotate(var(--angle2)) translate(var(--translate-x2), var(--translate-y2));   \n    }\n    .gradient1-start {\n        stop-color:var(--color2); \n        stop-opacity: 1;\n    }\n    .gradient1-mid {\n        stop-color:var(--color2); \n        stop-opacity: 1;\n    }\n    .gradient1-stop {\n        stop-color:var(--color1);  \n        stop-opacity: 1;\n    }\n  &lt;/style&gt;\n    &lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\n        &lt;radialGradient id=&quot;radialGradient1&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; r=&quot;0.73&quot;&gt;\n            &lt;stop class=&quot;gradient1-start&quot; offset=&quot;0%&quot;/&gt;\n            &lt;stop class=&quot;gradient1-mid&quot; offset=&quot;10%&quot;/&gt;\n            &lt;stop class=&quot;gradient1-stop&quot; offset=&quot;100%&quot;/&gt;\n        &lt;/radialGradient&gt;\n    &lt;/defs&gt;\n    &lt;g id=&quot;widgetContainer&quot;&gt;\n        &lt;g id=&quot;shape&quot; class=&quot;shapePositionTransform&quot;&gt;\n            &lt;circle class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;20&quot;/&gt;\n            &lt;text id=&quot;symbolText&quot; class=&quot;symbolTextFormat symbolTextXYAdjust&quot; x=&quot;100&quot; y=&quot;100&quot;&gt;T&lt;/text&gt;\n            &lt;!-- for use in wb, apply the svg transform attribute, not the CSS style \n            &lt;g class=&quot;rotatableContent1&quot; transform=&quot;rotate(45, 50, 50)&quot; &gt;\n            the parametes are angle, transform origin x, transform origin y.\n    --&gt;\n        &lt;g id=&quot;probe&quot;&gt;\n            &lt;!--line id=&quot;directionLine&quot; class=&quot;directionLine&quot; x1=&quot;50&quot; y1=&quot;10&quot; x2=&quot;50&quot; y2=&quot;50&quot; transform=&quot;rotate(0, 50, 50)&quot; /--&gt;\n            &lt;line id=&quot;probeLine&quot; class=&quot;format1 shapeOrientationTransform&quot; x1=&quot;100&quot; y1=&quot;80&quot; x2=&quot;100&quot; y2=&quot;60&quot;/&gt;\n        &lt;/g&gt;\n    &lt;/g&gt;\n    &lt;g id=&quot;valueStatusTextGroup&quot;&gt;\n        &lt;text id=&quot;valueText&quot; class=&quot;valueTextFormat valueTextTransform&quot; x=&quot;0&quot; y=&quot;0&quot;&gt;20 °C\n        &lt;tspan id=&quot;statusTextPrefix&quot;&gt;{&lt;/tspan&gt;\n        &lt;tspan id=&quot;statusTextOverridden&quot; class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-5&quot;&gt;✋&lt;/tspan&gt;\n        &lt;tspan id=&quot;statusTextAlarm&quot; class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-4&quot;&gt;⚠&lt;/tspan&gt;\n        &lt;tspan id=&quot;statusTextSuffix&quot; class= &quot;statusTextXYAdjust&quot; dx=&quot;-2&quot;&gt;}&lt;/tspan&gt;&lt;/text&gt;\n    &lt;/g&gt;\n&lt;/g&gt;\n&lt;/svg&gt;\n\n</code></pre>\n<p>Here is the resulting document after update:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;!-- Generiert durch Microsoft Visio, SVG Export svgSensor.svg Zeichenblatt-1 --&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot; contentScriptType=&quot;text/ecmascript&quot; zoomAndPan=&quot;magnify&quot; contentStyleType=&quot;text/css&quot; version=&quot;1.0&quot; width=&quot;200px&quot; xml:space=&quot;preserve&quot; preserveAspectRatio=&quot;xMidYMid meet&quot; viewBox=&quot;0 0 200 200&quot; height=&quot;200px&quot; class=&quot;base&quot; color-interpolation-filters=&quot;sRGB&quot;&gt;\n        &lt;style id=&quot;styles&quot; xml:space=&quot;preserve&quot;&gt;\n  :root{\n        --angle1: 90deg;\n        --origin-x1: 100px;\n        --origin-y1: 100px;\n        --translate-x1: 0px;\n        --translate-y1: 0px;\n        --angle2: 0deg;\n        --origin-x2: 0px;\n        --origin-y2: 0px;\n        --translate-x2: 100px;\n        --translate-y2: 140px;\n        --color1: #ff0000;\n        --color2: #ffffff;\n        --color3: #000000;\n        --color4: #0000ff;\n        --colorSymbolText: #000000;\n        --colorValueText: #000000;\n        --colorStatusText: #ff0000;\n        --stroke1-width: 3.0px;\n        --font1-family: Calibri;\n        --font1-size: 24.0;\n        --font1-style: normal;\n        --font1-weight: normal;\n        --font1-text-decoration: none;\n        --font2-family: Calibri;\n        --font2-size: 18.0;\n        --font2-style: normal;\n        --font2-weight: normal;\n        --font2-text-decoration: none;\n        --font3-family: Segoe UI Symbol;\n        --font3-size: 18.0;\n        --font3-style: normal;\n        --font3-weight: normal;\n        --font3-text-decoration: none;\n        }\n    .format1 {\n            fill: #ff0000;\n                stroke: #000000;\n                stroke-width: 3.0px;\n        }\n        .symbolTextFormat{\n                text-anchor:middle;\n                dominant-baseline: central;\n                font-family: Calibri;\n                font-size: 24.0;\n                font-style: normal;\n        font-weight: normal;\n                text-decoration: none;\n                fill: #000000;\n        }\n        .valueTextFormat{\n                text-anchor:middle;\n                dominant-baseline: central;\n                font-family: Calibri;\n                font-size: 18.0;\n                font-style: normal;\n        font-weight: normal;\n                text-decoration: none;\n                fill: #000000;\n        }\n        .statusTextFormat{\n                font-family: Segoe UI Symbol;\n                font-size: 18.0;\n                font-style: normal;\n        font-weight: normal;\n                text-decoration: none;\n                fill: #ff0000;\n        }\n        .gradient1 {\n            fill: url(#radialGradient1);\n        }\n\n\n\n\n        .gradient1-start {\n                stop-color:#ffffff;\n                stop-opacity: 1;\n        }\n    .gradient1-mid {\n                stop-color:#ffffff;\n                stop-opacity: 1;\n        }\n    .gradient1-stop {\n                stop-color:#ff0000;\n                stop-opacity: 1;\n        }\n  &lt;/style&gt;\n        &lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\n                &lt;radialGradient xlink:type=&quot;simple&quot; r=&quot;0.73&quot; xlink:actuate=&quot;onLoad&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; id=&quot;radialGradient1&quot; xlink:show=&quot;other&quot;&gt;\n                        &lt;stop offset=&quot;0%&quot; class=&quot;gradient1-start&quot;/&gt;\n                        &lt;stop offset=&quot;10%&quot; class=&quot;gradient1-mid&quot;/&gt;\n                        &lt;stop offset=&quot;100%&quot; class=&quot;gradient1-stop&quot;/&gt;\n                &lt;/radialGradient&gt;\n        &lt;/defs&gt;\n        &lt;g id=&quot;widgetContainer&quot;&gt;\n                &lt;g class=&quot;shapePositionTransform&quot; id=&quot;shape&quot; transform=&quot;rotate(0.0, 0.0, 0.0) translate(0.0, 0.0)&quot;&gt;\n                        &lt;circle r=&quot;20&quot; class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot;/&gt;\n                        &lt;text dy=&quot;8.5&quot; x=&quot;100&quot; y=&quot;100&quot; id=&quot;symbolText&quot; class=&quot;symbolTextFormat symbolTextXYAdjust&quot;&gt;T&lt;/text&gt;\n                        &lt;!-- for use in wb, apply the svg transform attribute, not the CSS style\n                        &lt;g class=&quot;rotatableContent1&quot; transform=&quot;rotate(45, 50, 50)&quot; &gt;\n                        the parametes are angle, transform origin x, transform origin y.\n        --&gt;\n                &lt;g id=&quot;probe&quot;&gt;\n                        &lt;!--line id=&quot;directionLine&quot; class=&quot;directionLine&quot; x1=&quot;50&quot; y1=&quot;10&quot; x2=&quot;50&quot; y2=&quot;50&quot; transform=&quot;rotate(0, 50, 50)&quot; /--&gt;\n                        &lt;line transform=&quot;rotate(90.0, 100.0, 100.0) translate(0.0, 0.0)&quot; x1=&quot;100&quot; x2=&quot;100&quot; y1=&quot;80&quot; y2=&quot;60&quot; class=&quot;format1 shapeOrientationTransform&quot; id=&quot;probeLine&quot;/&gt;\n                &lt;/g&gt;\n        &lt;/g&gt;\n        &lt;g id=&quot;valueStatusTextGroup&quot;&gt;\n                &lt;text x=&quot;0&quot; y=&quot;0&quot; id=&quot;valueText&quot; class=&quot;valueTextFormat valueTextTransform&quot; transform=&quot;rotate(0.0, 100.0, 100.0) translate(100.0, 140.0)&quot;&gt;-26.5 ┬░C&lt;tspan id=&quot;statusTextPrefix&quot;&gt;[&lt;/tspan&gt;\n                &lt;tspan class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextOverridden&quot;/&gt;\n                &lt;tspan class=&quot;statusTextFormat statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextAlarm&quot;&gt;ÔÜá&lt;/tspan&gt;\n                &lt;tspan class=&quot;statusTextXYAdjust&quot; dx=&quot;-11.0&quot; id=&quot;statusTextSuffix&quot;&gt;]&lt;/tspan&gt;&lt;/text&gt;\n        &lt;/g&gt;\n&lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n<p>What I noted is that somewhere in the process, the strange xlink... attributes have been introduced into the svg.</p>\n<p><strong>Anyone has an idea why the code above won't consider the changed style?</strong></p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671280592,"creation_date":1671201535,"answer_id":74825924,"question_id":74825430,"body_markdown":"A persistence unit is basically a bunch of entity classes grouped together with common configuration for the database connection and behaviour of the JPA implementation.\r\n\r\nClassically, it was defined using a [`persistence.xml`][1]. In there you would give the persistence unit a name by an XML root tag like [`&lt;persistence-unit name=&quot;OrderManagement5&quot;&gt;`][2]. This is the name referenced by the `String` argument of `Persistence.createEntityManagerFactory(String persistenceUnitName)`.\r\n\r\nWith modern application frameworks and the default case of just one persistence unit in the application, all this gets configured automatically and the persistence unit name doesn&#39;t appear anywhere in your code anymore.\r\n\r\n  [1]: https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/cfgdepds005.htm\r\n  [2]: https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/cfgdepds005.htm#CIHGJEBF","title":"Persistence.createEntityManagerFactory(String persistenceUnitName) what does this argument refer to?","body":"<p>A persistence unit is basically a bunch of entity classes grouped together with common configuration for the database connection and behaviour of the JPA implementation.</p>\n<p>Classically, it was defined using a <a href=\"https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/cfgdepds005.htm\" rel=\"nofollow noreferrer\"><code>persistence.xml</code></a>. In there you would give the persistence unit a name by an XML root tag like <a href=\"https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/cfgdepds005.htm#CIHGJEBF\" rel=\"nofollow noreferrer\"><code>&lt;persistence-unit name=&quot;OrderManagement5&quot;&gt;</code></a>. This is the name referenced by the <code>String</code> argument of <code>Persistence.createEntityManagerFactory(String persistenceUnitName)</code>.</p>\n<p>With modern application frameworks and the default case of just one persistence unit in the application, all this gets configured automatically and the persistence unit name doesn't appear anywhere in your code anymore.</p>\n"}],"owner":{"account_id":26364842,"reputation":23,"user_id":20020483,"display_name":"Abd El Rahman Ashraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1671289262,"accepted_answer_id":74825924,"answer_count":1,"score":1,"last_activity_date":1671280914,"creation_date":1671198995,"question_id":74825430,"body_markdown":"In [`Persistence.createEntityManagerFactory(String persistenceUnitName)`][1] what does the argument refer to?\r\n\r\nJavaDoc just says\r\n\r\n&gt; persistenceUnitName - the name of the persistence unit\r\n\r\nWhich basically just repeats the argument name.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/index.html?javax/persistence/EntityManagerFactory.html","title":"Persistence.createEntityManagerFactory(String persistenceUnitName) what does this argument refer to?","body":"<p>In <a href=\"https://docs.oracle.com/javaee/7/api/index.html?javax/persistence/EntityManagerFactory.html\" rel=\"nofollow noreferrer\"><code>Persistence.createEntityManagerFactory(String persistenceUnitName)</code></a> what does the argument refer to?</p>\n<p>JavaDoc just says</p>\n<blockquote>\n<p>persistenceUnitName - the name of the persistence unit</p>\n</blockquote>\n<p>Which basically just repeats the argument name.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671445193,"post_id":74821353,"comment_id":132093204,"body_markdown":"How do you know, how many task you have? Or will you invoke `doTask` up to `Integer.MAX_VALUE`?","body":"How do you know, how many task you have? Or will you invoke <code>doTask</code> up to <code>Integer.MAX_VALUE</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13794509,"reputation":138,"user_id":9956025,"display_name":"Hrithik Manchanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671178562,"creation_date":1671178562,"answer_id":74821776,"question_id":74821353,"body_markdown":"Refer to this answer on this thread [Click here][1]. Seems a duplicate of this question.\r\n\r\n**thenRun** method is used to run the task after the previous future is completed successfully. This method will be skipped in case of any failures in previous stages. \r\n\r\n**whenComplete** method is used as the final stage of execution chain. Here you will receive the composed result of all the other functions in the supply chain and you can choose to fail your future or handle exceptions accordingly inside this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69857335","title":"How to Construct an asynchronously executed task chain based on Java CompletableFuture","body":"<p>Refer to this answer on this thread <a href=\"https://stackoverflow.com/a/69857335\">Click here</a>. Seems a duplicate of this question.</p>\n<p><strong>thenRun</strong> method is used to run the task after the previous future is completed successfully. This method will be skipped in case of any failures in previous stages.</p>\n<p><strong>whenComplete</strong> method is used as the final stage of execution chain. Here you will receive the composed result of all the other functions in the supply chain and you can choose to fail your future or handle exceptions accordingly inside this.</p>\n"},{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671280536,"creation_date":1671280536,"answer_id":74834113,"question_id":74821353,"body_markdown":"You can compose the futures for the individual tasks via [`CompletableFuture#thenCompose`][1] in a loop: \r\n\r\n    CompletableFuture&lt;?&gt; future = createFirstTask();\r\n    while (hasMoreTasks()) {\r\n        future = future.thenCompose(this::createNextTask);\r\n    }\r\n\r\nHere every next tasks depends on the result of the previous one until no more task is left. \r\n\r\nConceptionally this is a fold operation, which unfortunately is not part of the API of `CompletableFuture`. But if you don&#39;t mind using my [better future library][2] (which is just a thin wrapper around `CompleteableFuture`), I just recently added support for [folding streams of futures][3] there. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenCompose-java.util.function.Function-\r\n  [2]: https://github.com/mduerig/better-future\r\n  [3]: https://github.com/mduerig/better-future#combining-reducing-folding-and-collecting","title":"How to Construct an asynchronously executed task chain based on Java CompletableFuture","body":"<p>You can compose the futures for the individual tasks via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#thenCompose-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>CompletableFuture#thenCompose</code></a> in a loop:</p>\n<pre><code>CompletableFuture&lt;?&gt; future = createFirstTask();\nwhile (hasMoreTasks()) {\n    future = future.thenCompose(this::createNextTask);\n}\n</code></pre>\n<p>Here every next tasks depends on the result of the previous one until no more task is left.</p>\n<p>Conceptionally this is a fold operation, which unfortunately is not part of the API of <code>CompletableFuture</code>. But if you don't mind using my <a href=\"https://github.com/mduerig/better-future\" rel=\"nofollow noreferrer\">better future library</a> (which is just a thin wrapper around <code>CompleteableFuture</code>), I just recently added support for <a href=\"https://github.com/mduerig/better-future#combining-reducing-folding-and-collecting\" rel=\"nofollow noreferrer\">folding streams of futures</a> there.</p>\n"}],"owner":{"account_id":20570287,"reputation":21,"user_id":15098782,"display_name":"xiaopeng li"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671280536,"creation_date":1671175625,"question_id":74821353,"body_markdown":"I have N tasks to execute, and the number of tasks is not fixed. The next task can only be executed after the previous task is completed. How can the entire task chain be executed asynchronously?\r\n\r\nIf the number of tasks is fixed, such as N=2, I can use the following code. How to do it if N is not fixed\r\n\r\n```\r\npublic void futureTest() throws InterruptedException {\r\n        CompletableFuture&lt;Integer&gt; finalFuture = new CompletableFuture&lt;&gt;();\r\n        \r\n        CompletableFuture&lt;Integer&gt; cf1 = doTask(1);\r\n        AtomicReference&lt;CompletableFuture&lt;Integer&gt;&gt; cf2 = new AtomicReference&lt;&gt;(new CompletableFuture&lt;&gt;());\r\n\r\n        cf1.whenComplete(((integer1, throwable1) -&gt; {\r\n            if (throwable1 != null) {\r\n                finalFuture.completeExceptionally(throwable1);\r\n                return;\r\n            }\r\n            \r\n            // when task1 complete then submit task2\r\n            cf2.set(doTask(2));\r\n            cf2.get().whenComplete(((integer2, throwable2) -&gt; {\r\n                if (throwable2 != null) {\r\n                    finalFuture.completeExceptionally(throwable2);\r\n                    return;\r\n                }\r\n                \r\n                finalFuture.complete(integer2);\r\n            }));\r\n        }));\r\n        \r\n        finalFuture.whenComplete(((integer, throwable) -&gt; {\r\n            System.out.println(&quot;all task is done&quot;);\r\n        }));\r\n        \r\n        Thread.sleep(1000000);\r\n    }\r\n\r\nprivate CompletableFuture&lt;Integer&gt; doTask(int index) {\r\n        CompletableFuture&lt;Integer&gt; cf = new CompletableFuture&lt;&gt;();\r\n\r\n        // Simulate task execution\r\n        THREAD_POOL.execute(() -&gt; {\r\n            Thread.sleep(3_000);\r\n            cf.complete(index);\r\n        });\r\n        \r\n        return cf;\r\n    }\r\n```\r\n\r\n\r\n\r\nI looked at Compeltable&#39;s API docs and none of them seem to solve my problem. I tried to use a loop to control the task submission, but all failed, unable to submit the next task after the previous task is completed","title":"How to Construct an asynchronously executed task chain based on Java CompletableFuture","body":"<p>I have N tasks to execute, and the number of tasks is not fixed. The next task can only be executed after the previous task is completed. How can the entire task chain be executed asynchronously?</p>\n<p>If the number of tasks is fixed, such as N=2, I can use the following code. How to do it if N is not fixed</p>\n<pre><code>public void futureTest() throws InterruptedException {\n        CompletableFuture&lt;Integer&gt; finalFuture = new CompletableFuture&lt;&gt;();\n        \n        CompletableFuture&lt;Integer&gt; cf1 = doTask(1);\n        AtomicReference&lt;CompletableFuture&lt;Integer&gt;&gt; cf2 = new AtomicReference&lt;&gt;(new CompletableFuture&lt;&gt;());\n\n        cf1.whenComplete(((integer1, throwable1) -&gt; {\n            if (throwable1 != null) {\n                finalFuture.completeExceptionally(throwable1);\n                return;\n            }\n            \n            // when task1 complete then submit task2\n            cf2.set(doTask(2));\n            cf2.get().whenComplete(((integer2, throwable2) -&gt; {\n                if (throwable2 != null) {\n                    finalFuture.completeExceptionally(throwable2);\n                    return;\n                }\n                \n                finalFuture.complete(integer2);\n            }));\n        }));\n        \n        finalFuture.whenComplete(((integer, throwable) -&gt; {\n            System.out.println(&quot;all task is done&quot;);\n        }));\n        \n        Thread.sleep(1000000);\n    }\n\nprivate CompletableFuture&lt;Integer&gt; doTask(int index) {\n        CompletableFuture&lt;Integer&gt; cf = new CompletableFuture&lt;&gt;();\n\n        // Simulate task execution\n        THREAD_POOL.execute(() -&gt; {\n            Thread.sleep(3_000);\n            cf.complete(index);\n        });\n        \n        return cf;\n    }\n</code></pre>\n<p>I looked at Compeltable's API docs and none of them seem to solve my problem. I tried to use a loop to control the task submission, but all failed, unable to submit the next task after the previous task is completed</p>\n"},{"tags":["javascript","java","alm","polarion"],"answers":[{"tags":[],"owner":{"account_id":11941,"reputation":29273,"user_id":23264,"accept_rate":100,"display_name":"Peter Parker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594016093,"creation_date":1594016093,"answer_id":62750239,"question_id":58340858,"body_markdown":"The XMLHttpRequest-object is not part of the Javascript Context of the JavaSavehook. So you cannot use it.\r\n\r\nThe Javascript Interpreter&quot;Rhino&quot; does not have an XMLHttpRequest object because it is just wrapping the Java Network classes.\r\n\r\nhttps://stackoverflow.com/questions/13985560/xmlhttprequest-in-rhino (but I doubt the solution helps you..)","title":"How to create a XMLHttpRequest POST within a Polarion Work Item post-save script","body":"<p>The XMLHttpRequest-object is not part of the Javascript Context of the JavaSavehook. So you cannot use it.</p>\n<p>The Javascript Interpreter&quot;Rhino&quot; does not have an XMLHttpRequest object because it is just wrapping the Java Network classes.</p>\n<p><a href=\"https://stackoverflow.com/questions/13985560/xmlhttprequest-in-rhino\">XMLHttpRequest in Rhino?</a> (but I doubt the solution helps you..)</p>\n"}],"owner":{"account_id":16872636,"reputation":11,"user_id":12200824,"display_name":"OliverSM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671280087,"creation_date":1570795274,"question_id":58340858,"body_markdown":"I&#39;m currently trying to send data from a Polarion work item to a Java servlet. I have a post-save trigger which upon saving my work activates my javascript.\r\nThis script is supposed to check the work item fields for data, validate it and transmit it to my servlet via a POST request.\r\n\r\nTo enable this post save trigger in Polarion I&#39;m using the following plugin.\r\nhttps://extensions.polarion.com/extensions/134-fmc-work-item-save\r\nI can already get the data from all the work item fields. The only thing I am unable to do is create a XMLHttpRequest.\r\n\r\n    var xhr =  new XMLHttpRequest();\r\n\r\n    xhr.open(&quot;POST&quot;, &quot;/postservlet&quot;, true);\r\n\r\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\t\r\n\r\n    xhr.send(JSON.stringify({value: &quot;test&quot;}));\r\n\r\nreturns:\r\n\r\n&gt; TypeError: this.XMLHttpRequest is not a function\r\n\r\nI am by no means an experienced web developer but this means the javascript can&#39;t access the browser window global methods since I am using a plugin to load the javascript and it&#39;s not being added to the HTML page directly.\r\n\r\nIncluding something like jquery from a CDN is also currently not possible.\r\n\r\nI am looking for a way to allow this script to use the XMLHttpRequest or for some other way to enable post requests in Polarion. Either via a different plugin or by editing the source code (if that&#39;s even possible).","title":"How to create a XMLHttpRequest POST within a Polarion Work Item post-save script","body":"<p>I'm currently trying to send data from a Polarion work item to a Java servlet. I have a post-save trigger which upon saving my work activates my javascript.\nThis script is supposed to check the work item fields for data, validate it and transmit it to my servlet via a POST request.</p>\n\n<p>To enable this post save trigger in Polarion I'm using the following plugin.\n<a href=\"https://extensions.polarion.com/extensions/134-fmc-work-item-save\" rel=\"nofollow noreferrer\">https://extensions.polarion.com/extensions/134-fmc-work-item-save</a>\nI can already get the data from all the work item fields. The only thing I am unable to do is create a XMLHttpRequest.</p>\n\n<pre><code>var xhr =  new XMLHttpRequest();\n\nxhr.open(\"POST\", \"/postservlet\", true);\n\nxhr.setRequestHeader(\"Content-Type\", \"application/json\");\n\nxhr.setRequestHeader(\"Accept\", \"application/json\"); \n\nxhr.send(JSON.stringify({value: \"test\"}));\n</code></pre>\n\n<p>returns:</p>\n\n<blockquote>\n  <p>TypeError: this.XMLHttpRequest is not a function</p>\n</blockquote>\n\n<p>I am by no means an experienced web developer but this means the javascript can't access the browser window global methods since I am using a plugin to load the javascript and it's not being added to the HTML page directly.</p>\n\n<p>Including something like jquery from a CDN is also currently not possible.</p>\n\n<p>I am looking for a way to allow this script to use the XMLHttpRequest or for some other way to enable post requests in Polarion. Either via a different plugin or by editing the source code (if that's even possible).</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1671221944,"post_id":74829265,"comment_id":132060645,"body_markdown":"Please, be more specific. What does your application does? have you found any memory leak? We can&#39;t do nothing with this kind of information","body":"Please, be more specific. What does your application does? have you found any memory leak? We can&#39;t do nothing with this kind of information"},{"owner":{"account_id":20099597,"reputation":446,"user_id":14738350,"display_name":"devblack.exe"},"score":0,"creation_date":1671222417,"post_id":74829265,"comment_id":132060770,"body_markdown":"As @LeonardoEmmanueldeAzevedo already mentioned, we need more information to help you. It could be anything, memory leak, dependable resources, etc. Try enabling [Garbage Collection](https://baeldung.com/java-verbose-gc) logs to identify the issue.","body":"As @LeonardoEmmanueldeAzevedo already mentioned, we need more information to help you. It could be anything, memory leak, dependable resources, etc. Try enabling <a href=\"https://baeldung.com/java-verbose-gc\" rel=\"nofollow noreferrer\">Garbage Collection</a> logs to identify the issue."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1671279923,"post_id":74829265,"comment_id":132068024,"body_markdown":"Depending on the garbage collector used, memory is not returned to the OS until application exit, so it remains in use. For example, ShenandoahGC will release memory back if it hasn&#39;t been used for - by default - 5 minutes. AFAIK, the default collectors in Java 11 (and Java 8 for that matter) which are used when no collector has been explicitly configured, do not release memory back to the OS. However, defaults have changed compared to Java 8, so possibly the results in higher CPU and memory requirements. You may want to look at tuning and configuring the garbage collector.","body":"Depending on the garbage collector used, memory is not returned to the OS until application exit, so it remains in use. For example, ShenandoahGC will release memory back if it hasn&#39;t been used for - by default - 5 minutes. AFAIK, the default collectors in Java 11 (and Java 8 for that matter) which are used when no collector has been explicitly configured, do not release memory back to the OS. However, defaults have changed compared to Java 8, so possibly the results in higher CPU and memory requirements. You may want to look at tuning and configuring the garbage collector."}],"owner":{"account_id":9615182,"reputation":235,"user_id":7138221,"display_name":"VKR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671279996,"creation_date":1671220981,"question_id":74829265,"body_markdown":"Recently we upgraded the java version from 8 to 11. Whenever the application processing a high load of data, CPU and memory reach maximum &gt;90%. Still, after the load got reduced, the CPU/Memory is not getting down until we restart the application.\r\n\r\nI have these parameters\r\n\r\n    APP_JVM_XMS=256M\r\n    APP_JVM_XMX=4096M\r\n\r\n","title":"Java 11 Linux VM cpu memory not coming down until we restart application","body":"<p>Recently we upgraded the java version from 8 to 11. Whenever the application processing a high load of data, CPU and memory reach maximum &gt;90%. Still, after the load got reduced, the CPU/Memory is not getting down until we restart the application.</p>\n<p>I have these parameters</p>\n<pre><code>APP_JVM_XMS=256M\nAPP_JVM_XMX=4096M\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1671188093,"post_id":74823419,"comment_id":132050003,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1671188211,"post_id":74823419,"comment_id":132050044,"body_markdown":"@kleopatra I thought it would be easier to read?","body":"@kleopatra I thought it would be easier to read?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671189597,"post_id":74823419,"comment_id":132050467,"body_markdown":"Please read [ask].","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671189791,"post_id":74823419,"comment_id":132050513,"body_markdown":"You have a mock `XWPFDocument` in your test, but that has nothing to do with the instance you create in `populateDoc`. You need to refactor your code to inject a factory which produces `XWPFDocument` instances, then inject a mock factory which returns your mock `XWPFDocument`.","body":"You have a mock <code>XWPFDocument</code> in your test, but that has nothing to do with the instance you create in <code>populateDoc</code>. You need to refactor your code to inject a factory which produces <code>XWPFDocument</code> instances, then inject a mock factory which returns your mock <code>XWPFDocument</code>."},{"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"score":0,"creation_date":1671191272,"post_id":74823419,"comment_id":132051018,"body_markdown":"@tgdavies I thought Factory methods were used when I have subclasses of a class. Here I am not subclassing, I just need to utilise XWPFDocument. Or am I misunderstanding their use case?","body":"@tgdavies I thought Factory methods were used when I have subclasses of a class. Here I am not subclassing, I just need to utilise XWPFDocument. Or am I misunderstanding their use case?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671231404,"post_id":74823419,"comment_id":132062618,"body_markdown":"See the linked duplicate.","body":"See the linked duplicate."}],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671279503,"answer_count":0,"score":0,"last_activity_date":1671279497,"creation_date":1671187948,"question_id":74823419,"body_markdown":"I have a method that writes out to a word doc using Apache POI API. The issue I am having is, I want to test the method without creating an external document. The method that creates the document is the `.write(OutputStream)`. \r\n\r\nI need to find a way to get that method to `doNothing()` but when I have tried to mock the XWPFDocument, I get errors that there were 0 invocations on the mock. \r\n\r\nHere is the method I am trying to test:\r\n\r\n```lang-java\r\npublic String populateDoc(String text) {\r\n    try (XWPFDocument doc = new XWPFDocument();\r\n         OutputStream out = Files.newOutputStream(OUT)) {\r\n        StringBuilder sb = new StringBuilder();\r\n        LOGGER.info(&quot;Document Created.&quot;);\r\n        String[] lines = text.split(&quot;\\n&quot;);\r\n        for (String line : lines) {\r\n            XWPFParagraph para = doc.createParagraph();\r\n            XWPFRun run = para.createRun();\r\n            run.setText(line);\r\n            sb.append(line);\r\n            sb.append(&quot;\\n&quot;);\r\n        }\r\n        LOGGER.info(&quot;Document saved.&quot;);\r\n        doc.write(out);\r\n        return sb.toString();\r\n    } catch (IOException ioe) {\r\n        LOGGER.error(ioe);\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nThe test I have right now that creates an external document which I don&#39;t want:\r\n\r\n```lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class FileWriterTest {\r\n    @Test\r\n    void testFileContainsAParagraph() {\r\n        FileWriter fileWriter = new FileWriter(&quot;src/test/resources/outputTest.docx&quot;);\r\n        String text = &quot;Hello World.\\n&quot;;\r\n\r\n        Assertions.assertEquals(text, fileWriter.populateDoc(text));\r\n    }\r\n}\r\n```\r\n\r\nWhat I have tried:\r\n\r\n```lang-java\r\n@Test\r\nvoid testTextReturnsHello() throws IOException {\r\n    XWPFDocument doc = mock (XWPFDocument.class);\r\n    FileWriter fileWriter = new FileWriter();\r\n    OutputStream out = Files.newOutputStream(Paths.get(&quot;src/test/resources/outputTest.docx&quot;));\r\n    String text = &quot;Hello&quot;;\r\n    Mockito.doNothing().when(doc).write(out);\r\n    \r\n    Assertions.assertEquals(text, fileWriter.populateDoc(text));\r\n    \r\n    Mockito.verify(doc).write(out);\r\n}\r\n```\r\nError I get:\r\n\r\n```none\r\norg.mockito.exceptions.base.MockitoException: \r\nOnly void methods can doNothing()!\r\nExample of correct use of doNothing():\r\n    doNothing().\r\n    doThrow(new RuntimeException())\r\n    .when(mock).someVoidMethod();\r\nAbove means:\r\nsomeVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called\r\n```","title":"Stub out a method call inside a method for testing","body":"<p>I have a method that writes out to a word doc using Apache POI API. The issue I am having is, I want to test the method without creating an external document. The method that creates the document is the <code>.write(OutputStream)</code>.</p>\n<p>I need to find a way to get that method to <code>doNothing()</code> but when I have tried to mock the XWPFDocument, I get errors that there were 0 invocations on the mock.</p>\n<p>Here is the method I am trying to test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String populateDoc(String text) {\n    try (XWPFDocument doc = new XWPFDocument();\n         OutputStream out = Files.newOutputStream(OUT)) {\n        StringBuilder sb = new StringBuilder();\n        LOGGER.info(&quot;Document Created.&quot;);\n        String[] lines = text.split(&quot;\\n&quot;);\n        for (String line : lines) {\n            XWPFParagraph para = doc.createParagraph();\n            XWPFRun run = para.createRun();\n            run.setText(line);\n            sb.append(line);\n            sb.append(&quot;\\n&quot;);\n        }\n        LOGGER.info(&quot;Document saved.&quot;);\n        doc.write(out);\n        return sb.toString();\n    } catch (IOException ioe) {\n        LOGGER.error(ioe);\n    }\n    return null;\n}\n</code></pre>\n<p>The test I have right now that creates an external document which I don't want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class FileWriterTest {\n    @Test\n    void testFileContainsAParagraph() {\n        FileWriter fileWriter = new FileWriter(&quot;src/test/resources/outputTest.docx&quot;);\n        String text = &quot;Hello World.\\n&quot;;\n\n        Assertions.assertEquals(text, fileWriter.populateDoc(text));\n    }\n}\n</code></pre>\n<p>What I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid testTextReturnsHello() throws IOException {\n    XWPFDocument doc = mock (XWPFDocument.class);\n    FileWriter fileWriter = new FileWriter();\n    OutputStream out = Files.newOutputStream(Paths.get(&quot;src/test/resources/outputTest.docx&quot;));\n    String text = &quot;Hello&quot;;\n    Mockito.doNothing().when(doc).write(out);\n    \n    Assertions.assertEquals(text, fileWriter.populateDoc(text));\n    \n    Mockito.verify(doc).write(out);\n}\n</code></pre>\n<p>Error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.mockito.exceptions.base.MockitoException: \nOnly void methods can doNothing()!\nExample of correct use of doNothing():\n    doNothing().\n    doThrow(new RuntimeException())\n    .when(mock).someVoidMethod();\nAbove means:\nsomeVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called\n</code></pre>\n"},{"tags":["java","time-complexity","owl","ontology"],"comments":[{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1671026599,"post_id":74791190,"comment_id":132008281,"body_markdown":"The semantic differences between one modeling strategy and the other are too deep for the question to make sense. Regardless of which version takes more computing power, they&#39;re entirely different ontologies and cannot be used to get the same inferences; they don&#39;t carry the same information.","body":"The semantic differences between one modeling strategy and the other are too deep for the question to make sense. Regardless of which version takes more computing power, they&#39;re entirely different ontologies and cannot be used to get the same inferences; they don&#39;t carry the same information."},{"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"score":0,"creation_date":1671064767,"post_id":74791190,"comment_id":132019807,"body_markdown":"@ Ignazio Can you elaborate? It&#39;s doesn&#39;t seem to me that there is a deep, substantial difference between, for example, modeling a Cajun pizza as a class which is a subclass of SpicyPizza vs an individual which with the type SpicyPizza.\n\nYes, the model-theoretic semantics are different in these two cases, but the two ontologies function the same in practice, yes? You would just query them in a slightly different manner. Eg. in the first case you might run a query to return all subclasses of SpicyPizza, and in the second case you might run a query to return all individuals of type SpicyPizza.","body":"@ Ignazio Can you elaborate? It&#39;s doesn&#39;t seem to me that there is a deep, substantial difference between, for example, modeling a Cajun pizza as a class which is a subclass of SpicyPizza vs an individual which with the type SpicyPizza.  Yes, the model-theoretic semantics are different in these two cases, but the two ontologies function the same in practice, yes? You would just query them in a slightly different manner. Eg. in the first case you might run a query to return all subclasses of SpicyPizza, and in the second case you might run a query to return all individuals of type SpicyPizza."},{"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"score":0,"creation_date":1671064820,"post_id":74791190,"comment_id":132019815,"body_markdown":"@ Ignazio The question I&#39;m most concerned with (out of all of the ones I listed in the original post) is: which of the two searches described in the previous comment would be faster to execute?","body":"@ Ignazio The question I&#39;m most concerned with (out of all of the ones I listed in the original post) is: which of the two searches described in the previous comment would be faster to execute?"},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1671211517,"post_id":74791190,"comment_id":132057808,"body_markdown":"I disagree that two ontologies with a different model semantics function the same in practice. They would satisfy *some* use cases but not all. E.g., how do you model two Cajun pizza to be delivered at my apartment, if Cajun pizza is an individual?","body":"I disagree that two ontologies with a different model semantics function the same in practice. They would satisfy <i>some</i> use cases but not all. E.g., how do you model two Cajun pizza to be delivered at my apartment, if Cajun pizza is an individual?"},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1671211581,"post_id":74791190,"comment_id":132057834,"body_markdown":"To reiterate, you can&#39;t compare the speed of a paper airplane and of a turtle, even if both have Boeing written on the side.","body":"To reiterate, you can&#39;t compare the speed of a paper airplane and of a turtle, even if both have Boeing written on the side."},{"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"score":0,"creation_date":1671227442,"post_id":74791190,"comment_id":132061896,"body_markdown":"You&#39;re right - the pizza ontology was a bad example for me to use because there are some potential use cases in which you&#39;d want to have multiple instances of a named pizza. So suppose either that we weren&#39;t designing this ontology for those use cases, or that we simply change the example to one where we have classes each of which you&#39;d never want to instantiate twice. For example, you could model files in a particular folder on a hard drive as classes, or you could model them as individuals. Is that an acceptable example? If so, what efficiency concerns would come into play?","body":"You&#39;re right - the pizza ontology was a bad example for me to use because there are some potential use cases in which you&#39;d want to have multiple instances of a named pizza. So suppose either that we weren&#39;t designing this ontology for those use cases, or that we simply change the example to one where we have classes each of which you&#39;d never want to instantiate twice. For example, you could model files in a particular folder on a hard drive as classes, or you could model them as individuals. Is that an acceptable example? If so, what efficiency concerns would come into play?"}],"answers":[{"tags":[],"owner":{"account_id":2550620,"reputation":4287,"user_id":2214440,"display_name":"Henriette Harmse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671279153,"creation_date":1671279153,"answer_id":74833969,"question_id":74791190,"body_markdown":"**TLDR**\r\n\r\nIn this case, whether you are using individuals or classes will have little to no effect on the computational complexity of reasoning tasks. In general, the expressiveness of the Description Logic (DL) used is by far the biggest predictor of the resulting computational complexity. Thus, for conjunctive queries, use OWL2 QL, for classification use OWL2 EL.   \r\n\r\nAs for the choice between using individuals and classes, I tend to prefer classes mainly because of the expressiveness they allow. See my [SO answer][1] in this regard.\r\n\r\n\r\n**The longer answer**\r\n\r\nHere I try to in some large brush-strokes give an idea of some of the considerations wrt complexity results. However, this is just tip of the iceberg and to serve as possible starting point for further investigation.\r\n\r\nThe main factors contributing to computational complexity is the reasoning task used and the DL used.\r\n\r\n*Reasoning tasks*\r\n\r\nReasoning tasks are tasks like consistency checking, classification and query answering. Consistency checking and classification often is seen as &quot;standard reasoning tasks&quot; meaning that when DLs are designed, these are the reasoning tasks for which designers aim to achieve decidablity. Query answering however is undecidable for many DLs. For DLs with negation, consistency checking can be reduced to classification. Many DLs that are derivatives of EL do not have negation and thus do not have consistency checking as reasoning task. For those DLs that have consistency checking, consistency checking and classification have the same computational complexity. Query answering is a different reasoning task which can have different computational complexity.\r\n\r\n*DLs*\r\n\r\nThe semantics of OWL2 is given by the Description Logic SROIQ (see [OWL 2 Direct Semantics][2]). This is a highly expressive DL of which the computational complexity for classification is N2ExpTime-complete (see [RIQ and SROIQ are Harder than SHOIQ][3] paper). For the Description Logic EL++, which is the underlying DL used for OWL2 EL, classification has polynomial time complexity (see [Pushing the EL envelope][4] paper). \r\n\r\nThe DL underlying OWL2 QL is DL-Lite&lt;sub&gt;R&lt;/sub&gt; for which computational complexity is given by the following figure \r\n\r\n[![Complexity of basic DL-Lite logics][5]][5] taken from the [The DL-Lite Family and Relations][6] paper. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74574370/ontologies-only-built-with-classes-and-not-class-instances/74575916#74575916\r\n  [2]: https://www.w3.org/TR/owl2-direct-semantics/\r\n  [3]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiI5vOowoD8AhWFilwKHRoBAcoQFnoECAUQAQ&amp;url=https%3A%2F%2Fwww.aaai.org%2FPapers%2FKR%2F2008%2FKR08-027.pdf&amp;usg=AOvVaw3mE8osFduK17zpA46-xrUf\r\n  [4]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwim6eqJxID8AhXEglwKHZifDMAQFnoECAgQAQ&amp;url=https%3A%2F%2Fwww.ijcai.org%2FProceedings%2F05%2FPapers%2F0372.pdf&amp;usg=AOvVaw1-fOLFQA6GqnLovnktBmK2\r\n  [5]: https://i.stack.imgur.com/1TWLy.png\r\n  [6]: https://www.jair.org/index.php/jair/article/view/10623","title":"In an OWL ontology where entities can be modeled either as classes or individuals, is it more computationally efficient to model them as individuals?","body":"<p><strong>TLDR</strong></p>\n<p>In this case, whether you are using individuals or classes will have little to no effect on the computational complexity of reasoning tasks. In general, the expressiveness of the Description Logic (DL) used is by far the biggest predictor of the resulting computational complexity. Thus, for conjunctive queries, use OWL2 QL, for classification use OWL2 EL.</p>\n<p>As for the choice between using individuals and classes, I tend to prefer classes mainly because of the expressiveness they allow. See my <a href=\"https://stackoverflow.com/questions/74574370/ontologies-only-built-with-classes-and-not-class-instances/74575916#74575916\">SO answer</a> in this regard.</p>\n<p><strong>The longer answer</strong></p>\n<p>Here I try to in some large brush-strokes give an idea of some of the considerations wrt complexity results. However, this is just tip of the iceberg and to serve as possible starting point for further investigation.</p>\n<p>The main factors contributing to computational complexity is the reasoning task used and the DL used.</p>\n<p><em>Reasoning tasks</em></p>\n<p>Reasoning tasks are tasks like consistency checking, classification and query answering. Consistency checking and classification often is seen as &quot;standard reasoning tasks&quot; meaning that when DLs are designed, these are the reasoning tasks for which designers aim to achieve decidablity. Query answering however is undecidable for many DLs. For DLs with negation, consistency checking can be reduced to classification. Many DLs that are derivatives of EL do not have negation and thus do not have consistency checking as reasoning task. For those DLs that have consistency checking, consistency checking and classification have the same computational complexity. Query answering is a different reasoning task which can have different computational complexity.</p>\n<p><em>DLs</em></p>\n<p>The semantics of OWL2 is given by the Description Logic SROIQ (see <a href=\"https://www.w3.org/TR/owl2-direct-semantics/\" rel=\"nofollow noreferrer\">OWL 2 Direct Semantics</a>). This is a highly expressive DL of which the computational complexity for classification is N2ExpTime-complete (see <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiI5vOowoD8AhWFilwKHRoBAcoQFnoECAUQAQ&amp;url=https%3A%2F%2Fwww.aaai.org%2FPapers%2FKR%2F2008%2FKR08-027.pdf&amp;usg=AOvVaw3mE8osFduK17zpA46-xrUf\" rel=\"nofollow noreferrer\">RIQ and SROIQ are Harder than SHOIQ</a> paper). For the Description Logic EL++, which is the underlying DL used for OWL2 EL, classification has polynomial time complexity (see <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwim6eqJxID8AhXEglwKHZifDMAQFnoECAgQAQ&amp;url=https%3A%2F%2Fwww.ijcai.org%2FProceedings%2F05%2FPapers%2F0372.pdf&amp;usg=AOvVaw1-fOLFQA6GqnLovnktBmK2\" rel=\"nofollow noreferrer\">Pushing the EL envelope</a> paper).</p>\n<p>The DL underlying OWL2 QL is DL-Lite<sub>R</sub> for which computational complexity is given by the following figure</p>\n<p><a href=\"https://i.stack.imgur.com/1TWLy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TWLy.png\" alt=\"Complexity of basic DL-Lite logics\" /></a> taken from the <a href=\"https://www.jair.org/index.php/jair/article/view/10623\" rel=\"nofollow noreferrer\">The DL-Lite Family and Relations</a> paper.</p>\n"}],"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671279153,"creation_date":1670967768,"question_id":74791190,"body_markdown":"When using a reasoner on an OWL ontology in which certain entities could be modeled either as classes or individuals, is it overall more computationally efficient to model those entities as individuals instead of classes? Or are they equally efficient?\r\n\r\nSuppose you have an ontology (from https://protege.stanford.edu/ontologies/pizza/pizza.owl) with the following class hierarchy:\r\n```\r\nPizza\r\n\tCheesyPizza\r\n\tInterestingPizza\r\n\tMeatyPizza\r\n\tNamedPizza\r\n\t\tAmerican\r\n\t\tCajun\r\n\t\tCapricciosa\r\n\t\tCaprina\r\n\t\tFiorentina\r\n\t\tFourSeasons\r\n\t\tGiardiniera\r\n\t\tLaReine\r\n\t\tMargherita\r\n\t\tMushroom\r\n\t\tNapoletana\r\n\t\tParmense\r\n\t\tPolloAdAstra\r\n\t\tPrinceCarlo\r\n\t\tQuattroFormaggi\r\n\t\tSiciliana\r\n\t\tSloppyGiuseppe\r\n\t\tSoho\r\n\t\tVeneziana\r\n\tNonVegetarianPizza\r\n\tRealItalianPizza\r\n\tSpicyPizza\r\n\tSpicyPizzaEquivalent\r\n\tThinAndCrispyPizza\r\n\tUnclosedPizza\r\n\tVegetarianPizza\r\n\t… etc.\r\n```\r\nThe items in the “namedPizza” category (eg. American, Cajun, etc) can be modeled as classes, or they could plausibly be modeled as individuals instead.\r\n\r\nOverall, would modeling them as individuals make it more computationally efficient to use a reasoner?\r\n\r\nWhat effect would the choice to model them as individuals have on the efficiency of checking: Ontology Consistency, Class Expression Satisfiability, Class Expression Subsumption, and Conjunctive Query Answering?\r\n\r\nOverall, would the increased complexity of Instance Checking be offset by gains in efficiency in those other categories?\r\n\r\nIn particular, what overall effect would this have on Conjunctive Query Answering?\r\n\r\nDo the answers to any of the above questions vary depending the OWL profile of the ontology (eg. OWL-EL vs OWL-DL, etc)?","title":"In an OWL ontology where entities can be modeled either as classes or individuals, is it more computationally efficient to model them as individuals?","body":"<p>When using a reasoner on an OWL ontology in which certain entities could be modeled either as classes or individuals, is it overall more computationally efficient to model those entities as individuals instead of classes? Or are they equally efficient?</p>\n<p>Suppose you have an ontology (from <a href=\"https://protege.stanford.edu/ontologies/pizza/pizza.owl\" rel=\"nofollow noreferrer\">https://protege.stanford.edu/ontologies/pizza/pizza.owl</a>) with the following class hierarchy:</p>\n<pre><code>Pizza\n    CheesyPizza\n    InterestingPizza\n    MeatyPizza\n    NamedPizza\n        American\n        Cajun\n        Capricciosa\n        Caprina\n        Fiorentina\n        FourSeasons\n        Giardiniera\n        LaReine\n        Margherita\n        Mushroom\n        Napoletana\n        Parmense\n        PolloAdAstra\n        PrinceCarlo\n        QuattroFormaggi\n        Siciliana\n        SloppyGiuseppe\n        Soho\n        Veneziana\n    NonVegetarianPizza\n    RealItalianPizza\n    SpicyPizza\n    SpicyPizzaEquivalent\n    ThinAndCrispyPizza\n    UnclosedPizza\n    VegetarianPizza\n    … etc.\n</code></pre>\n<p>The items in the “namedPizza” category (eg. American, Cajun, etc) can be modeled as classes, or they could plausibly be modeled as individuals instead.</p>\n<p>Overall, would modeling them as individuals make it more computationally efficient to use a reasoner?</p>\n<p>What effect would the choice to model them as individuals have on the efficiency of checking: Ontology Consistency, Class Expression Satisfiability, Class Expression Subsumption, and Conjunctive Query Answering?</p>\n<p>Overall, would the increased complexity of Instance Checking be offset by gains in efficiency in those other categories?</p>\n<p>In particular, what overall effect would this have on Conjunctive Query Answering?</p>\n<p>Do the answers to any of the above questions vary depending the OWL profile of the ontology (eg. OWL-EL vs OWL-DL, etc)?</p>\n"},{"tags":["java","php","spring-boot","file"],"answers":[{"comments":[{"owner":{"account_id":18532347,"reputation":3,"user_id":19769337,"display_name":"许基目"},"score":0,"creation_date":1671273783,"post_id":74833368,"comment_id":132067102,"body_markdown":"Thank you for your answer, but I don&#39;t understand your code, can you write a complete interface code example?","body":"Thank you for your answer, but I don&#39;t understand your code, can you write a complete interface code example?"},{"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"score":0,"creation_date":1671274095,"post_id":74833368,"comment_id":132067144,"body_markdown":"I think the best way for you to solve this is to write a testcase where you first do the restcall as you do now in your code and then change to use WebClient as in the example in my post. Then you can play with the code until you get it working.","body":"I think the best way for you to solve this is to write a testcase where you first do the restcall as you do now in your code and then change to use WebClient as in the example in my post. Then you can play with the code until you get it working."}],"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671273001,"creation_date":1671273001,"answer_id":74833368,"question_id":74833228,"body_markdown":"You can use `ResponseEntity&lt;StreamingResponseBody&gt;` for this.\r\n\r\nYou have choose which content-type you want to return. We ended up with `produces = MediaType.APPLICATION_NDJSON_VALUE`.\r\n\r\nWe had to modify the way we did rest request by changing from `RestClient to `WebClient`:\r\n\r\n```\r\nFlux&lt;DataBuffer&gt; dataStream = return webClient.method(method)\r\n                .uri(url)\r\n                .retrieve()\r\n                .bodyToFlux(DataBuffer.class);\r\n\r\nDataBufferUtils.write(dataStream, response.getOutputStream())\r\n                .map(DataBufferUtils::release)\r\n                .blockLast();\r\n```\r\n\r\nWhen we finally got this to work, it works really well :) \r\n\r\nYou can see some other examples on https://www.baeldung.com/spring-mvc-sse-streams.\r\n\r\n","title":"How does spring boot return byte stream in real time like PHP&#39;s readfile function?","body":"<p>You can use <code>ResponseEntity&lt;StreamingResponseBody&gt;</code> for this.</p>\n<p>You have choose which content-type you want to return. We ended up with <code>produces = MediaType.APPLICATION_NDJSON_VALUE</code>.</p>\n<p>We had to modify the way we did rest request by changing from <code>RestClient to </code>WebClient`:</p>\n<pre><code>Flux&lt;DataBuffer&gt; dataStream = return webClient.method(method)\n                .uri(url)\n                .retrieve()\n                .bodyToFlux(DataBuffer.class);\n\nDataBufferUtils.write(dataStream, response.getOutputStream())\n                .map(DataBufferUtils::release)\n                .blockLast();\n</code></pre>\n<p>When we finally got this to work, it works really well :)</p>\n<p>You can see some other examples on <a href=\"https://www.baeldung.com/spring-mvc-sse-streams\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-sse-streams</a>.</p>\n"},{"tags":[],"owner":{"account_id":18532347,"reputation":3,"user_id":19769337,"display_name":"许基目"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671278023,"creation_date":1671278023,"answer_id":74833862,"question_id":74833228,"body_markdown":"\r\nI solved the problem by java&#39;s URL class\r\n```\r\npackage com.api.controller;\r\n\r\nimport cn.dev33.satoken.annotation.SaCheckLogin;\r\nimport cn.dev33.satoken.stp.StpUtil;\r\nimport com.api.common.result.PageReq;\r\nimport com.api.common.result.PageResult;\r\nimport com.api.common.result.Result;\r\nimport com.api.common.user.AddBalanceReq;\r\nimport com.api.constant.ResultCode;\r\nimport com.api.dao.ApiUserDao;\r\nimport com.api.dao.UserFlowDao;\r\nimport com.api.entity.ApiUserEntity;\r\nimport com.api.entity.UserFlowEntity;\r\nimport com.api.execption.ResRunException;\r\nimport com.api.service.ApiUserService;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.core.io.InputStreamResource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.data.redis.core.StringRedisTemplate;\r\nimport org.springframework.http.HttpHeaders;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.client.RestTemplate;\r\nimport org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;\r\nimport reactor.core.publisher.Flux;\r\n\r\nimport javax.servlet.ServletOutputStream;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.awt.image.DataBuffer;\r\nimport java.io.*;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Date;\r\n\r\n\r\n@Controller\r\n@Api(tags = &quot;test&quot;)\r\n@RequestMapping(&quot;/test&quot;)\r\n@CrossOrigin\r\npublic class TestController {\r\n \r\n    /**\r\n     * 添加用户月\r\n     *\r\n     * @param req\r\n     * @return\r\n     */\r\n    @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\r\n    @ApiOperation(value = &quot;get&quot;)\r\n    public void test(String url, HttpServletResponse response) throws IOException {\r\n\r\n        URL url1 = new URL(url);\r\n\r\n        InputStream is = url1.openStream();\r\n\r\n        int ch;\r\n        while ((ch = is.read()) != -1) {\r\n            response.getWriter().write(ch);\r\n        }\r\n        \r\n    }\r\n\r\n\r\n}\r\n\r\n```","title":"How does spring boot return byte stream in real time like PHP&#39;s readfile function?","body":"<p>I solved the problem by java's URL class</p>\n<pre><code>package com.api.controller;\n\nimport cn.dev33.satoken.annotation.SaCheckLogin;\nimport cn.dev33.satoken.stp.StpUtil;\nimport com.api.common.result.PageReq;\nimport com.api.common.result.PageResult;\nimport com.api.common.result.Result;\nimport com.api.common.user.AddBalanceReq;\nimport com.api.constant.ResultCode;\nimport com.api.dao.ApiUserDao;\nimport com.api.dao.UserFlowDao;\nimport com.api.entity.ApiUserEntity;\nimport com.api.entity.UserFlowEntity;\nimport com.api.execption.ResRunException;\nimport com.api.service.ApiUserService;\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\n\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.IOUtils;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.core.io.InputStreamResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.data.redis.core.StringRedisTemplate;\nimport org.springframework.http.HttpHeaders;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody;\nimport reactor.core.publisher.Flux;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletResponse;\nimport java.awt.image.DataBuffer;\nimport java.io.*;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Date;\n\n\n@Controller\n@Api(tags = &quot;test&quot;)\n@RequestMapping(&quot;/test&quot;)\n@CrossOrigin\npublic class TestController {\n \n    /**\n     * 添加用户月\n     *\n     * @param req\n     * @return\n     */\n    @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)\n    @ApiOperation(value = &quot;get&quot;)\n    public void test(String url, HttpServletResponse response) throws IOException {\n\n        URL url1 = new URL(url);\n\n        InputStream is = url1.openStream();\n\n        int ch;\n        while ((ch = is.read()) != -1) {\n            response.getWriter().write(ch);\n        }\n        \n    }\n\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":18532347,"reputation":3,"user_id":19769337,"display_name":"许基目"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74833862,"answer_count":2,"score":0,"last_activity_date":1671278023,"creation_date":1671271390,"question_id":74833228,"body_markdown":"I am solving a requirement. I am using the springboot framework. Now there is an interface that passes in the parameter url. This url is a network file address. After receiving the request, the interface uses its own network to request the network file and returns it to the client in real time. , php&#39;s readfile function can solve the problem, but is there such a solution in the java language? What I need is to return to the client in real time, instead of reading all and returning to the client\r\n\r\n```\r\n@Controller\r\n@Api(tags = &quot;test&quot;)\r\n@RequestMapping(&quot;/test&quot;)\r\n@CrossOrigin\r\npublic class TestController {\r\n\r\n    @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.POST)\r\n    @ApiOperation(value = &quot;get&quot;)\r\n    public ResponseEntity&lt;FileSystemResource&gt; test() throws IOException {\r\n      \r\n        OkHttpClient client = new OkHttpClient().newBuilder()\r\n                .build();\r\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n        RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;123\\&quot;: 1}&quot;);\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://github.com/xujimu/ios_super_sign/archive/refs/heads/master.zip&quot;)\r\n                .method(&quot;GET&quot;, body)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .build();\r\n        Response response = client.newCall(request).execute();\r\n        \r\n    }\r\n\r\n\r\n}\r\n```","title":"How does spring boot return byte stream in real time like PHP&#39;s readfile function?","body":"<p>I am solving a requirement. I am using the springboot framework. Now there is an interface that passes in the parameter url. This url is a network file address. After receiving the request, the interface uses its own network to request the network file and returns it to the client in real time. , php's readfile function can solve the problem, but is there such a solution in the java language? What I need is to return to the client in real time, instead of reading all and returning to the client</p>\n<pre><code>@Controller\n@Api(tags = &quot;test&quot;)\n@RequestMapping(&quot;/test&quot;)\n@CrossOrigin\npublic class TestController {\n\n    @RequestMapping(value = &quot;/get&quot;, method = RequestMethod.POST)\n    @ApiOperation(value = &quot;get&quot;)\n    public ResponseEntity&lt;FileSystemResource&gt; test() throws IOException {\n      \n        OkHttpClient client = new OkHttpClient().newBuilder()\n                .build();\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n        RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;123\\&quot;: 1}&quot;);\n        Request request = new Request.Builder()\n                .url(&quot;https://github.com/xujimu/ios_super_sign/archive/refs/heads/master.zip&quot;)\n                .method(&quot;GET&quot;, body)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .build();\n        Response response = client.newCall(request).execute();\n        \n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart","apk"],"comments":[{"owner":{"account_id":14268773,"reputation":16829,"user_id":10306997,"display_name":"eamirho3ein"},"score":0,"creation_date":1671279074,"post_id":74833790,"comment_id":132067904,"body_markdown":"run `flutter clean` then build your app","body":"run <code>flutter clean</code> then build your app"},{"owner":{"account_id":25560631,"reputation":1,"user_id":19343308,"display_name":"Hanan Saleem"},"score":0,"creation_date":1671285692,"post_id":74833790,"comment_id":132069046,"body_markdown":"@eamirho3ein Thanks But I already did that many time but it result same.","body":"@eamirho3ein Thanks But I already did that many time but it result same."}],"answers":[{"tags":[],"owner":{"account_id":20898609,"reputation":124,"user_id":15352195,"display_name":"Navid Hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671277941,"creation_date":1671277941,"answer_id":74833853,"question_id":74833790,"body_markdown":"if your plan is publish to google play you can export appbundle for android devices\r\n\r\n    flutter build appbundle","title":"How can we reduce the apk size in flutter","body":"<p>if your plan is publish to google play you can export appbundle for android devices</p>\n<pre><code>flutter build appbundle\n</code></pre>\n"}],"owner":{"account_id":25560631,"reputation":1,"user_id":19343308,"display_name":"Hanan Saleem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671277941,"creation_date":1671277392,"question_id":74833790,"body_markdown":"I&#39;m building my apk with flutter build apk --split-per-abi but it still generate 60mb apk. [1# Here is the result of size analyzer ](https://i.stack.imgur.com/HROgt.png)[2#](https://i.stack.imgur.com/8Keqd.png)[pubspec.yaml  all the packages that is used in this project](https://i.stack.imgur.com/bRmzk.png)\r\n\r\nI tried removing all the unused package but it didn&#39;t work after that I created new project same result .It should not be that large for ios it goes to 900+mbs","title":"How can we reduce the apk size in flutter","body":"<p>I'm building my apk with flutter build apk --split-per-abi but it still generate 60mb apk. <a href=\"https://i.stack.imgur.com/HROgt.png\" rel=\"nofollow noreferrer\">1# Here is the result of size analyzer </a><a href=\"https://i.stack.imgur.com/8Keqd.png\" rel=\"nofollow noreferrer\">2#</a><a href=\"https://i.stack.imgur.com/bRmzk.png\" rel=\"nofollow noreferrer\">pubspec.yaml  all the packages that is used in this project</a></p>\n<p>I tried removing all the unused package but it didn't work after that I created new project same result .It should not be that large for ios it goes to 900+mbs</p>\n"},{"tags":["java","jmeter","classpath"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1671225767,"post_id":74829826,"comment_id":132061518,"body_markdown":"Hi LMR and welcome. Do please try and add all the tags that are relevant. Also include the full command and a description of the context. If applicable, runtime environment (which Java &amp; JMeter version) also can help. You can add stuff to the question by hitting [edit].","body":"Hi LMR and welcome. Do please try and add all the tags that are relevant. Also include the full command and a description of the context. If applicable, runtime environment (which Java &amp; JMeter version) also can help. You can add stuff to the question by hitting <a href=\"https://stackoverflow.com/posts/74829826/edit\">edit</a>."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671277477,"creation_date":1671277477,"answer_id":74833800,"question_id":74829826,"body_markdown":"I cannot reproduce your issue using the following dummy simple class:\r\n\r\n    package Cajeros;\r\n    \r\n    public class RecepcionParametrosCajeros {\r\n    \r\n        public RecepcionParametrosCajeros() {\r\n    \r\n        }\r\n    \r\n        public String foo() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\nimporting the jar as:\r\n\r\n    jmeter -Juser.classpath=trama.jar\r\n\r\nand invoking it like:\r\n\r\n\timport Cajeros.RecepcionParametrosCajeros;\r\n\t\r\n\tString foo = new RecepcionParametrosCajeros().foo();\r\n\t\r\n\tlog.info(&quot;Got string &quot; + foo);\r\n\r\n\r\nSo double check that the file is present in JMeter&#39;s &quot;bin&quot; directory \r\n\r\nMore information:\r\n\r\n - [JMeter&#39;s Classpath][1]\r\n - [Overriding Properties Via The Command Line][2]\r\n\r\nAlso be aware of the following recommendations:\r\n\r\n 1. [Always use the latest version of JMeter][3], consider migrating to [JMeter 5.5][4]\r\n 2. [Since JMeter 3.1 it&#39;s recommended to use JSR223 Test Elements and Groovy language][5] for scripting. It might also resolve your problem as Beanshell is not 100% Java compatible and you may face problems with generics, inner classes, features introduced after Java 5 and so on.   \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#classpath\r\n  [2]: https://jmeter.apache.org/usermanual/get-started.html#override\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\r\n  [4]: https://www.blazemeter.com/blog/jmeter-5-5\r\n  [5]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting","title":"-Guser.classpath=arhivo.jar not load .jar","body":"<p>I cannot reproduce your issue using the following dummy simple class:</p>\n<pre><code>package Cajeros;\n\npublic class RecepcionParametrosCajeros {\n\n    public RecepcionParametrosCajeros() {\n\n    }\n\n    public String foo() {\n        return &quot;foo&quot;;\n    }\n}\n</code></pre>\n<p>importing the jar as:</p>\n<pre><code>jmeter -Juser.classpath=trama.jar\n</code></pre>\n<p>and invoking it like:</p>\n<pre><code>import Cajeros.RecepcionParametrosCajeros;\n\nString foo = new RecepcionParametrosCajeros().foo();\n\nlog.info(&quot;Got string &quot; + foo);\n</code></pre>\n<p>So double check that the file is present in JMeter's &quot;bin&quot; directory</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#classpath\" rel=\"nofollow noreferrer\">JMeter's Classpath</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#override\" rel=\"nofollow noreferrer\">Overriding Properties Via The Command Line</a></li>\n</ul>\n<p>Also be aware of the following recommendations:</p>\n<ol>\n<li><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#use_latest_version\" rel=\"nofollow noreferrer\">Always use the latest version of JMeter</a>, consider migrating to <a href=\"https://www.blazemeter.com/blog/jmeter-5-5\" rel=\"nofollow noreferrer\">JMeter 5.5</a></li>\n<li><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Since JMeter 3.1 it's recommended to use JSR223 Test Elements and Groovy language</a> for scripting. It might also resolve your problem as Beanshell is not 100% Java compatible and you may face problems with generics, inner classes, features introduced after Java 5 and so on.</li>\n</ol>\n"}],"owner":{"account_id":8464677,"reputation":1,"user_id":6349158,"display_name":"Luis Miguel Ramirez Jaramillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671277477,"creation_date":1671225250,"question_id":74829826,"body_markdown":"\r\nI am using JMeter 5.0 mode no GUI and OpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06) \r\n\r\n```\r\njmeter.bat -f -Ghilos=1 -Gsubida=1 -Gciclo=1 -GDatosCajero=DT_TramasATMPropios.csv -Guser.classpath=trama.jar -n -LERROR -t Cajeros_distribuidos.jmx -l result.csv -Djmeter.save.saveservice.output_format=csv -Ljmeter.engine=DEBUG\r\n```\r\n\r\n\r\nerror parameter\r\n```\r\n-Guser.classpath=file.jar \r\n```\r\ntake parameters globally in jmeter.log\r\n\r\n&gt; INFO o.a.j.JMeter: Setting Global property: user.classpath=trama.jar\r\n\r\n[Jmeter.log][1]\r\n\r\nerror \r\n\r\n&gt;  ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval\tSourced file: inline evaluation of: ``import Cajeros.RecepcionParametrosCajeros; import java.util.concurrent.ThreadLoc . . . &#39;&#39; : Typed variable declaration : Class: RecepcionParametrosCajeros not found in namespace\r\n\r\nproperty in the non-GUI JMeter command, but it does not take the .jar, when I use the property with \r\n\r\n```\r\n-Juser.classpath=file.jar\r\n```\r\n if it takes it, it also takes the rego global variables with -G\r\n\r\nwork globally with -G for distributed testing\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9EDe2.png","title":"-Guser.classpath=arhivo.jar not load .jar","body":"<p>I am using JMeter 5.0 mode no GUI and OpenJDK Runtime Environment Corretto-8.322.06.1 (build 1.8.0_322-b06)</p>\n<pre><code>jmeter.bat -f -Ghilos=1 -Gsubida=1 -Gciclo=1 -GDatosCajero=DT_TramasATMPropios.csv -Guser.classpath=trama.jar -n -LERROR -t Cajeros_distribuidos.jmx -l result.csv -Djmeter.save.saveservice.output_format=csv -Ljmeter.engine=DEBUG\n</code></pre>\n<p>error parameter</p>\n<pre><code>-Guser.classpath=file.jar \n</code></pre>\n<p>take parameters globally in jmeter.log</p>\n<blockquote>\n<p>INFO o.a.j.JMeter: Setting Global property: user.classpath=trama.jar</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/9EDe2.png\" rel=\"nofollow noreferrer\">Jmeter.log</a></p>\n<p>error</p>\n<blockquote>\n<p>ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval  Sourced file: inline evaluation of: ``import Cajeros.RecepcionParametrosCajeros; import java.util.concurrent.ThreadLoc . . . '' : Typed variable declaration : Class: RecepcionParametrosCajeros not found in namespace</p>\n</blockquote>\n<p>property in the non-GUI JMeter command, but it does not take the .jar, when I use the property with</p>\n<pre><code>-Juser.classpath=file.jar\n</code></pre>\n<p>if it takes it, it also takes the rego global variables with -G</p>\n<p>work globally with -G for distributed testing</p>\n"},{"tags":["java","memory-management","garbage-collection"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1671173686,"post_id":74820913,"comment_id":132046181,"body_markdown":"1) It really doesn&#39;t matter where they live. 2) At least *some* of the metadata lives in metaspace.  3)  It is not &quot;officially&quot; documented because it is an implementation detail (and it doesn&#39;t matter, and you don&#39;t *need* the documentation.).  4) If you really want to know, there is the source code ......","body":"1) It really doesn&#39;t matter where they live. 2) At least <i>some</i> of the metadata lives in metaspace.  3)  It is not &quot;officially&quot; documented because it is an implementation detail (and it doesn&#39;t matter, and you don&#39;t <i>need</i> the documentation.).  4) If you really want to know, there is the source code ......"},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1671173962,"post_id":74820913,"comment_id":132046228,"body_markdown":"@StephenC Points 1 and 4 aren&#39;t helpful.","body":"@StephenC Points 1 and 4 aren&#39;t helpful."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1671174516,"post_id":74820913,"comment_id":132046312,"body_markdown":"@JohnKugelman - I disagree.  It really doesn&#39;t matter where they live.  It changes not one iota from a practical programming perspective where the objects live ... or how little / much of the metadata is in the heap vs metaspace.  And it is helpful to help someone to realize this.","body":"@JohnKugelman - I disagree.  It really doesn&#39;t matter where they live.  It changes not one iota from a practical programming perspective where the objects live ... or how little / much of the metadata is in the heap vs metaspace.  And it is helpful to help someone to realize this."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671438948,"post_id":74820913,"comment_id":132091404,"body_markdown":"@StephenC I agree with point 1 up to the point that I have to disagree with point 4. The [heap memory](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.3) is a formal term, so it’s irrelevant what the source code does. This is best illustrated by the fact that prior to JDK&#160;8, the HotSpot&#160;JVM reported the PermGen as “non heap” memory to monitoring tools, despite it contained objects and was garbage collected, so it had all properties of heap memory. This demonstrates that the implementation is not authoritative to answer this, but also that it really doesn’t matter.","body":"@StephenC I agree with point 1 up to the point that I have to disagree with point 4. The <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.3\" rel=\"nofollow noreferrer\">heap memory</a> is a formal term, so it’s irrelevant what the source code does. This is best illustrated by the fact that prior to JDK 8, the HotSpot JVM reported the PermGen as “non heap” memory to monitoring tools, despite it contained objects and was garbage collected, so it had all properties of heap memory. This demonstrates that the implementation is not authoritative to answer this, but also that it really doesn’t matter."}],"answers":[{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671175135,"creation_date":1671175135,"answer_id":74821277,"question_id":74820913,"body_markdown":"IMHO, objects of `java.lang.Class` class can&#39;t be considered as class metadata. **Class metadata is nothing but JVM&#39;s internal representation of Java classes** - basically when JVM loads `.class` file then it doesn&#39;t store all the bytecode present in that `.class` file, but creates an internal data structure that holds everything which is needed from that `.class` file and that gets stored in Metaspace or PermGen.\r\n\r\nSo, based on my knowledge I would say objects of `java.lang.Class` class will reside on heap and class metadata of `java.lang.Class` class will reside on Metaspace or PermGen. However, I can&#39;t give any official doc about first part of my statement, and offical doc for second part can be read over [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/gctuning/other-considerations.html#GUID-B29C9153-3530-4C15-9154-E74F44E3DAD9","title":"Where do objects of &quot;java.lang.Class&quot; class reside","body":"<p>IMHO, objects of <code>java.lang.Class</code> class can't be considered as class metadata. <strong>Class metadata is nothing but JVM's internal representation of Java classes</strong> - basically when JVM loads <code>.class</code> file then it doesn't store all the bytecode present in that <code>.class</code> file, but creates an internal data structure that holds everything which is needed from that <code>.class</code> file and that gets stored in Metaspace or PermGen.</p>\n<p>So, based on my knowledge I would say objects of <code>java.lang.Class</code> class will reside on heap and class metadata of <code>java.lang.Class</code> class will reside on Metaspace or PermGen. However, I can't give any official doc about first part of my statement, and offical doc for second part can be read over <a href=\"https://docs.oracle.com/en/java/javase/11/gctuning/other-considerations.html#GUID-B29C9153-3530-4C15-9154-E74F44E3DAD9\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1671277339,"creation_date":1671172244,"question_id":74820913,"body_markdown":"I searched a lot but I couldn&#39;t find the answer for where do objects of `java.lang.Class` class reside - is it the Heap or Metaspace/PermGen. My own understanding is that objects of `java.lang.Class` represents the class metadata so they should reside on Metaspace (or PermGen for pre-Java8). \r\n\r\nCould someone please confirm, and I need some official documentation which clearly mentions the same.","title":"Where do objects of &quot;java.lang.Class&quot; class reside","body":"<p>I searched a lot but I couldn't find the answer for where do objects of <code>java.lang.Class</code> class reside - is it the Heap or Metaspace/PermGen. My own understanding is that objects of <code>java.lang.Class</code> represents the class metadata so they should reside on Metaspace (or PermGen for pre-Java8).</p>\n<p>Could someone please confirm, and I need some official documentation which clearly mentions the same.</p>\n"},{"tags":["java","optaplanner","timetable"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671277114,"creation_date":1671277114,"answer_id":74833759,"question_id":74833213,"body_markdown":"You need to add a filter.\r\n\r\n    private Constraint studentConflict(ConstraintFactory constraintFactory){\r\n        // students can only sit one exam at the same time\r\n        // selects a lesson and pairs it with another one\r\n        return constraintFactory.forEach(Exam.class)\r\n                .join(Exam.class,\r\n                        Joiners.equal(Exam::getTimeslot))\r\n                .filter((exam1, exam2) -&gt; {\r\n                     // call any code that compares the two lists and returns true on overlap\r\n                })\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;Student conflict&quot;);\r\n    }\r\n\r\nThis is the best you can do with the current model. However, it is probably not very efficient. Every time an `Exam` is evaluated, the filter is executed and the lists will be compared in their entirety.\r\n\r\nWe can do better. Assuming that a `Student` is a problem fact or a planning entity, you can do this, which will be much more incremental:\r\n\r\n    private Constraint studentConflict(ConstraintFactory constraintFactory){\r\n        // students can only sit one exam at the same time\r\n        // selects a lesson and pairs it with another one\r\n        return constraintFactory.forEachUniquePair(Exam.class,\r\n                Joiners.equal(Exam::getTimeslot))\r\n            .ifExists(Student.class,\r\n                Joiners.filtering((exam1, exam2, student) -&gt; \r\n                    exam1.getStudents().contains(student) &amp;&amp;\r\n                    exam2.getStudents().contains(student))\r\n            .penalize(HardSoftScore.ONE_HARD)\r\n            .asConstraint(&quot;Student conflict&quot;);\r\n    }\r\n\r\nNeedless to say, for this to be as efficient as possible, `getStudents()` should return a `Set`, not a `List`. (Or the lists should be very small.)","title":"Optaplanner - see if the same item appears in two lists","body":"<p>You need to add a filter.</p>\n<pre><code>private Constraint studentConflict(ConstraintFactory constraintFactory){\n    // students can only sit one exam at the same time\n    // selects a lesson and pairs it with another one\n    return constraintFactory.forEach(Exam.class)\n            .join(Exam.class,\n                    Joiners.equal(Exam::getTimeslot))\n            .filter((exam1, exam2) -&gt; {\n                 // call any code that compares the two lists and returns true on overlap\n            })\n            .penalize(HardSoftScore.ONE_HARD)\n            .asConstraint(&quot;Student conflict&quot;);\n}\n</code></pre>\n<p>This is the best you can do with the current model. However, it is probably not very efficient. Every time an <code>Exam</code> is evaluated, the filter is executed and the lists will be compared in their entirety.</p>\n<p>We can do better. Assuming that a <code>Student</code> is a problem fact or a planning entity, you can do this, which will be much more incremental:</p>\n<pre><code>private Constraint studentConflict(ConstraintFactory constraintFactory){\n    // students can only sit one exam at the same time\n    // selects a lesson and pairs it with another one\n    return constraintFactory.forEachUniquePair(Exam.class,\n            Joiners.equal(Exam::getTimeslot))\n        .ifExists(Student.class,\n            Joiners.filtering((exam1, exam2, student) -&gt; \n                exam1.getStudents().contains(student) &amp;&amp;\n                exam2.getStudents().contains(student))\n        .penalize(HardSoftScore.ONE_HARD)\n        .asConstraint(&quot;Student conflict&quot;);\n}\n</code></pre>\n<p>Needless to say, for this to be as efficient as possible, <code>getStudents()</code> should return a <code>Set</code>, not a <code>List</code>. (Or the lists should be very small.)</p>\n"}],"owner":{"account_id":27280526,"reputation":3,"user_id":20800491,"display_name":"Kate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74833759,"answer_count":1,"score":0,"last_activity_date":1671277114,"creation_date":1671271263,"question_id":74833213,"body_markdown":"I am currently trying to make an exam timetabling program. I have got it so that the exams are assigned to a timeslot however the student conflict part is not working.\r\nI currently have my students in lists as attributes of subject objects. Each exam also has a subject attribute which is an instance of a subject class. The problem I&#39;m having is that when comparing the lists of students it is being said that there are no conflicts as the list are not identical. However I need it to search through the lists and see if there is the same string appears in both. \r\nI&#39;m very new to this so if anyone could sagest a better way of structuring my problem or a solve for the looking in the strings I would be very grateful.\r\n\r\n```\r\nprivate Constraint studentConflict(ConstraintFactory constraintFactory){\r\n        // students can only sit one exam at the same time\r\n        // selects a lesson and pairs it with another one\r\n        return constraintFactory\r\n                .forEach(Exam.class)\r\n                .join(Exam.class,\r\n                        //...in the same timeslot ...\r\n                        Joiners.equal(Exam::getTimeslot),\r\n                        //...has the same students ...\r\n                        Joiners.equal(Exam::getStudentstoString))\r\n                .penalize(HardSoftScore.ONE_HARD)\r\n                .asConstraint(&quot;Student conflict&quot;);\r\n    }\r\n```\r\nsection of output:\r\n\r\n\r\n\r\n[section of output](https://i.stack.imgur.com/c8OcR.png)","title":"Optaplanner - see if the same item appears in two lists","body":"<p>I am currently trying to make an exam timetabling program. I have got it so that the exams are assigned to a timeslot however the student conflict part is not working.\nI currently have my students in lists as attributes of subject objects. Each exam also has a subject attribute which is an instance of a subject class. The problem I'm having is that when comparing the lists of students it is being said that there are no conflicts as the list are not identical. However I need it to search through the lists and see if there is the same string appears in both.\nI'm very new to this so if anyone could sagest a better way of structuring my problem or a solve for the looking in the strings I would be very grateful.</p>\n<pre><code>private Constraint studentConflict(ConstraintFactory constraintFactory){\n        // students can only sit one exam at the same time\n        // selects a lesson and pairs it with another one\n        return constraintFactory\n                .forEach(Exam.class)\n                .join(Exam.class,\n                        //...in the same timeslot ...\n                        Joiners.equal(Exam::getTimeslot),\n                        //...has the same students ...\n                        Joiners.equal(Exam::getStudentstoString))\n                .penalize(HardSoftScore.ONE_HARD)\n                .asConstraint(&quot;Student conflict&quot;);\n    }\n</code></pre>\n<p>section of output:</p>\n<p><a href=\"https://i.stack.imgur.com/c8OcR.png\" rel=\"nofollow noreferrer\">section of output</a></p>\n"},{"tags":["java","spring","rest","spring-mvc","spring-data-rest"],"comments":[{"owner":{"account_id":5072657,"reputation":3288,"user_id":4071001,"display_name":"lcnicolau"},"score":0,"creation_date":1552171252,"post_id":30912826,"comment_id":96910995,"body_markdown":"Take a look at [this](https://stackoverflow.com/a/49344988/4071001) to see some useful examples of how to expose the identifiers for **all entities**, or only those that extend or implement a **specific superclass or interface**, or marked with some **specific annotation**.","body":"Take a look at <a href=\"https://stackoverflow.com/a/49344988/4071001\">this</a> to see some useful examples of how to expose the identifiers for <b>all entities</b>, or only those that extend or implement a <b>specific superclass or interface</b>, or marked with some <b>specific annotation</b>."}],"answers":[{"comments":[{"owner":{"account_id":1241031,"reputation":1797,"user_id":1203628,"accept_rate":75,"display_name":"pdorgambide"},"score":0,"creation_date":1473677349,"post_id":33171702,"comment_id":66218568,"body_markdown":"There is an example that use reflection (in this case ClassPathScannning)  at http://www.thomas-letsch.de/2015/spring-data-rest-hateoas/","body":"There is an example that use reflection (in this case ClassPathScannning)  at <a href=\"http://www.thomas-letsch.de/2015/spring-data-rest-hateoas/\" rel=\"nofollow noreferrer\">thomas-letsch.de/2015/spring-data-rest-hateoas</a>"},{"owner":{"account_id":4964743,"reputation":909,"user_id":3994502,"accept_rate":77,"display_name":"Tala"},"score":0,"creation_date":1613991687,"post_id":33171702,"comment_id":117238157,"body_markdown":"That being said, IDs are needed especially on headless services and mix and match use cases. there has to be a unique key to point to the object and being interpreted as such on the backend retrieve the mapped object for that unique key. Might as well use the ID itself.","body":"That being said, IDs are needed especially on headless services and mix and match use cases. there has to be a unique key to point to the object and being interpreted as such on the backend retrieve the mapped object for that unique key. Might as well use the ID itself."}],"tags":[],"owner":{"account_id":462743,"reputation":1326,"user_id":865221,"accept_rate":100,"display_name":"Justin Lewis"},"comment_count":2,"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1445001997,"creation_date":1445001997,"answer_id":33171702,"question_id":30912826,"body_markdown":"Currently, there is no way to do this provided by SDR. [This issue](https://jira.spring.io/browse/DATAREST-161) on the SDR Jira tracker gives some explanation as to why this isn&#39;t (and perhaps shouldn&#39;t) be possible.\r\n\r\nThe argument is basically that since the IDs are already contained within the `self` links in the response, you don&#39;t need to expose them as properties of the object itself.\r\n\r\nThat said, you may be able to use reflection to retrieve all classes that have a `javax.persistence.Id` annotation and then call `RepositoryRestConfiguration#exposeIdsFor(Class&lt;?&gt;... domainTypes)`.","title":"Expose all IDs when using Spring Data Rest","body":"<p>Currently, there is no way to do this provided by SDR. <a href=\"https://jira.spring.io/browse/DATAREST-161\" rel=\"noreferrer\">This issue</a> on the SDR Jira tracker gives some explanation as to why this isn't (and perhaps shouldn't) be possible.</p>\n\n<p>The argument is basically that since the IDs are already contained within the <code>self</code> links in the response, you don't need to expose them as properties of the object itself.</p>\n\n<p>That said, you may be able to use reflection to retrieve all classes that have a <code>javax.persistence.Id</code> annotation and then call <code>RepositoryRestConfiguration#exposeIdsFor(Class&lt;?&gt;... domainTypes)</code>.</p>\n"},{"comments":[{"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"score":0,"creation_date":1473090797,"post_id":38938767,"comment_id":65999454,"body_markdown":"The downside to not following java naming conventions is that bean evaluation languages such as SpEL won&#39;t easily be able to reference the field.","body":"The downside to not following java naming conventions is that bean evaluation languages such as SpEL won&#39;t easily be able to reference the field."},{"owner":{"account_id":7163107,"reputation":305,"user_id":5473208,"accept_rate":94,"display_name":"r007"},"score":0,"creation_date":1476295458,"post_id":38938767,"comment_id":67288742,"body_markdown":"Worked like a charm +10","body":"Worked like a charm +10"},{"owner":{"account_id":4700290,"reputation":337,"user_id":3804027,"display_name":"MPV"},"score":0,"creation_date":1564084856,"post_id":38938767,"comment_id":100925138,"body_markdown":"super find! Id works for me . NOTE: in the json, it only shows as id: 1 , that too at the end of all other fields. &quot;addresses&quot;: [\n      {\n        &quot;custid&quot;: &quot;1&quot;,\n        &quot;address1&quot;: &quot;1, stree1&quot;,\n        &quot;address2&quot;: &quot;stree1&quot;,\n        &quot;city&quot;: &quot;city1&quot;,\n        &quot;zip&quot;: &quot;1111&quot;,\n        &quot;ccc&quot;: &quot;ccc1&quot;,\n        &quot;id&quot;: 1,\n        &quot;_links&quot;: {\n          &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/addresses/1&quot;\n          },\n          &quot;address&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/addresses/1&quot;\n          }\n        }\n      },","body":"super find! Id works for me . NOTE: in the json, it only shows as id: 1 , that too at the end of all other fields. &quot;addresses&quot;: [       {         &quot;custid&quot;: &quot;1&quot;,         &quot;address1&quot;: &quot;1, stree1&quot;,         &quot;address2&quot;: &quot;stree1&quot;,         &quot;city&quot;: &quot;city1&quot;,         &quot;zip&quot;: &quot;1111&quot;,         &quot;ccc&quot;: &quot;ccc1&quot;,         &quot;id&quot;: 1,         &quot;_links&quot;: {           &quot;self&quot;: {             &quot;href&quot;: &quot;<a href=\"http://localhost:8080/addresses/1\" rel=\"nofollow noreferrer\">localhost:8080/addresses/1</a>&quot;           },           &quot;address&quot;: {             &quot;href&quot;: &quot;<a href=\"http://localhost:8080/addresses/1\" rel=\"nofollow noreferrer\">localhost:8080/addresses/1</a>&quot;           }         }       },"},{"owner":{"account_id":916561,"reputation":1352,"user_id":949236,"display_name":"maximum"},"score":0,"creation_date":1616715734,"post_id":38938767,"comment_id":118097492,"body_markdown":"That&#39;s much easier than setting the RepositoryRestConfigurer to expose Ids for each class you want.","body":"That&#39;s much easier than setting the RepositoryRestConfigurer to expose Ids for each class you want."}],"tags":[],"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"comment_count":4,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1471143559,"creation_date":1471143559,"answer_id":38938767,"question_id":30912826,"body_markdown":"I discovered that if you name the `@Id` field &#39;`Id`&#39; it will display in the JSON if you have a public getter for the `Id`. The Id will show up as a JSON key called &#39;`id`&#39;\r\n\r\nFor example: `@Id @Column(name=&quot;PERSON_ROLE_ID&quot;) private Long Id;`\r\n\r\nThis also works for `@EmbeddedId` fields called &#39;`Id`&#39; as well as long as it has a public getter. In this case the fields of the Id will show up as a JSON object.\r\n\r\nFor example: `@EmbeddedId private PrimaryKey Id;`\r\n\r\nSurprisingly this is case sensitive, calling id &#39;`id`&#39; doesn&#39;t work even though it would be a more conventional name for a Java field.\r\n\r\nI should say that I discovered this completely by accident so I don&#39;t know if this is an accepted convention or will work with previous or future versions of Spring Data and REST. Therefore I have included the relevant parts of my maven pom just incase it&#39;s sensittive to versions...\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n            &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;","title":"Expose all IDs when using Spring Data Rest","body":"<p>I discovered that if you name the <code>@Id</code> field '<code>Id</code>' it will display in the JSON if you have a public getter for the <code>Id</code>. The Id will show up as a JSON key called '<code>id</code>'</p>\n\n<p>For example: <code>@Id @Column(name=\"PERSON_ROLE_ID\") private Long Id;</code></p>\n\n<p>This also works for <code>@EmbeddedId</code> fields called '<code>Id</code>' as well as long as it has a public getter. In this case the fields of the Id will show up as a JSON object.</p>\n\n<p>For example: <code>@EmbeddedId private PrimaryKey Id;</code></p>\n\n<p>Surprisingly this is case sensitive, calling id '<code>id</code>' doesn't work even though it would be a more conventional name for a Java field.</p>\n\n<p>I should say that I discovered this completely by accident so I don't know if this is an accepted convention or will work with previous or future versions of Spring Data and REST. Therefore I have included the relevant parts of my maven pom just incase it's sensittive to versions...</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50410,"reputation":3979,"user_id":150371,"accept_rate":54,"display_name":"raksja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474994394,"creation_date":1474994394,"answer_id":39730046,"question_id":30912826,"body_markdown":"Proabably you can try this to include all id fields. I havent tried it yet, but will keep posted.\r\n\r\n     public class ExposeAllRepositoryRestConfiguration extends RepositoryRestConfiguration {\r\n    \t@Override\r\n    \tpublic boolean isIdExposedFor(Class&lt;?&gt; domainType) {\r\n    \t\treturn true;\r\n    \t\t}\r\n    \t}\r\n\r\n[Excerpt from this link][1]\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/DATAREST-366","title":"Expose all IDs when using Spring Data Rest","body":"<p>Proabably you can try this to include all id fields. I havent tried it yet, but will keep posted.</p>\n\n<pre><code> public class ExposeAllRepositoryRestConfiguration extends RepositoryRestConfiguration {\n    @Override\n    public boolean isIdExposedFor(Class&lt;?&gt; domainType) {\n        return true;\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://jira.spring.io/browse/DATAREST-366\" rel=\"nofollow\">Excerpt from this link</a></p>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487562495,"creation_date":1487562495,"answer_id":42336166,"question_id":30912826,"body_markdown":"You can use this method to find all `@Entity` classes of the EntityManagerFactory:\r\n\r\n    private List&lt;Class&lt;?&gt;&gt; getAllManagedEntityTypes(EntityManagerFactory entityManagerFactory) {\r\n        List&lt;Class&lt;?&gt;&gt; entityClasses = new ArrayList&lt;&gt;();\r\n        Metamodel metamodel = entityManagerFactory.getMetamodel();\r\n        for (ManagedType&lt;?&gt; managedType : metamodel.getManagedTypes()) {\r\n            Class&lt;?&gt; javaType = managedType.getJavaType();\r\n            if (javaType.isAnnotationPresent(Entity.class)) {\r\n                entityClasses.add(managedType.getJavaType());\r\n            }\r\n        }\r\n        return entityClasses;\r\n    }\r\n\r\nthen, to expose the IDs for all your entity classes:\r\n\r\n\t@Configuration\r\n\tpublic class RestConfig extends RepositoryRestMvcConfiguration {\r\n\r\n\t\t@Bean\r\n\t\tpublic RepositoryRestConfigurer repositoryRestConfigurer(EntityManagerFactory entityManagerFactory) {\r\n\t\t\tList&lt;Class&lt;?&gt;&gt; entityClasses = getAllManagedEntityTypes(entityManagerFactory);\r\n\r\n\t\t\treturn new RepositoryRestConfigurerAdapter() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n\t\t\t\t\tfor (Class&lt;?&gt; entityClass : entityClasses) {\r\n\t\t\t\t\t\tconfig.exposeIdsFor(entityClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t}","title":"Expose all IDs when using Spring Data Rest","body":"<p>You can use this method to find all <code>@Entity</code> classes of the EntityManagerFactory:</p>\n\n<pre><code>private List&lt;Class&lt;?&gt;&gt; getAllManagedEntityTypes(EntityManagerFactory entityManagerFactory) {\n    List&lt;Class&lt;?&gt;&gt; entityClasses = new ArrayList&lt;&gt;();\n    Metamodel metamodel = entityManagerFactory.getMetamodel();\n    for (ManagedType&lt;?&gt; managedType : metamodel.getManagedTypes()) {\n        Class&lt;?&gt; javaType = managedType.getJavaType();\n        if (javaType.isAnnotationPresent(Entity.class)) {\n            entityClasses.add(managedType.getJavaType());\n        }\n    }\n    return entityClasses;\n}\n</code></pre>\n\n<p>then, to expose the IDs for all your entity classes:</p>\n\n<pre><code>@Configuration\npublic class RestConfig extends RepositoryRestMvcConfiguration {\n\n    @Bean\n    public RepositoryRestConfigurer repositoryRestConfigurer(EntityManagerFactory entityManagerFactory) {\n        List&lt;Class&lt;?&gt;&gt; entityClasses = getAllManagedEntityTypes(entityManagerFactory);\n\n        return new RepositoryRestConfigurerAdapter() {\n\n            @Override\n            public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n                for (Class&lt;?&gt; entityClass : entityClasses) {\n                    config.exposeIdsFor(entityClass);\n                }\n            }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3616959,"reputation":364,"user_id":3016572,"display_name":"kidfruit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494485477,"creation_date":1494485477,"answer_id":43908420,"question_id":30912826,"body_markdown":"You can add all your entity classes by **exposeIdsFor**. Replace &quot;db.entity&quot; to whick package you put your entities.\r\n\r\n    @Configuration\r\n    public class CustomRepositoryRestConfigurer extends RepositoryRestConfigurerAdapter {\r\n        Logger logger = Logger.getLogger(this.getClass());\r\n    \r\n        @Override\r\n        public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n            Set&lt;String&gt; classNameSet = ClassTool.getClassName(&quot;db.entity&quot;, false);\r\n            for (String className : classNameSet) {\r\n                try {\r\n                    config.exposeIdsFor(Class.forName(className));\r\n                } catch (ClassNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            logger.info(&quot;exposeIdsFor : &quot; + classNameSet);\r\n        }\r\n    }\r\n\r\nThe ClassTool is my custom function to get class from given package, you can write by yourself.","title":"Expose all IDs when using Spring Data Rest","body":"<p>You can add all your entity classes by <strong>exposeIdsFor</strong>. Replace \"db.entity\" to whick package you put your entities.</p>\n\n<pre><code>@Configuration\npublic class CustomRepositoryRestConfigurer extends RepositoryRestConfigurerAdapter {\n    Logger logger = Logger.getLogger(this.getClass());\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        Set&lt;String&gt; classNameSet = ClassTool.getClassName(\"db.entity\", false);\n        for (String className : classNameSet) {\n            try {\n                config.exposeIdsFor(Class.forName(className));\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n\n        logger.info(\"exposeIdsFor : \" + classNameSet);\n    }\n}\n</code></pre>\n\n<p>The ClassTool is my custom function to get class from given package, you can write by yourself.</p>\n"},{"tags":[],"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511198008,"creation_date":1511198008,"answer_id":47397498,"question_id":30912826,"body_markdown":"Here is what worked perfectly for me ([source here][1]):\r\n\r\n    @Configuration\r\n    public class RepositoryRestConfig extends RepositoryRestConfigurerAdapter {\r\n \r\n      @Override\r\n      public void configureRepositoryRestConfiguration(final RepositoryRestConfiguration config) {\r\n\r\n        final ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\r\n            false);\r\n        provider.addIncludeFilter(new AnnotationTypeFilter(Entity.class));\r\n\r\n        final Set&lt;BeanDefinition&gt; beans = provider.findCandidateComponents(&quot;com.your.domain&quot;);\r\n\r\n        for (final BeanDefinition bean : beans) {\r\n          try {\r\n            config.exposeIdsFor(Class.forName(bean.getBeanClassName()));\r\n          } catch (final ClassNotFoundException e) {\r\n            // Can&#39;t throw ClassNotFoundException due to the method signature. Need to cast it\r\n            throw new IllegalStateException(&quot;Failed to expose `id` field due to&quot;, e);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nIt finds all beans with the @Entity annotation and exposes them.\r\n\r\n  [1]: https://jira.spring.io/browse/DATAREST-161?focusedCommentId=153328&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-153328","title":"Expose all IDs when using Spring Data Rest","body":"<p>Here is what worked perfectly for me (<a href=\"https://jira.spring.io/browse/DATAREST-161?focusedCommentId=153328&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-153328\" rel=\"nofollow noreferrer\">source here</a>):</p>\n\n<pre><code>@Configuration\npublic class RepositoryRestConfig extends RepositoryRestConfigurerAdapter {\n\n  @Override\n  public void configureRepositoryRestConfiguration(final RepositoryRestConfiguration config) {\n\n    final ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(\n        false);\n    provider.addIncludeFilter(new AnnotationTypeFilter(Entity.class));\n\n    final Set&lt;BeanDefinition&gt; beans = provider.findCandidateComponents(\"com.your.domain\");\n\n    for (final BeanDefinition bean : beans) {\n      try {\n        config.exposeIdsFor(Class.forName(bean.getBeanClassName()));\n      } catch (final ClassNotFoundException e) {\n        // Can't throw ClassNotFoundException due to the method signature. Need to cast it\n        throw new IllegalStateException(\"Failed to expose `id` field due to\", e);\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>It finds all beans with the @Entity annotation and exposes them.</p>\n"},{"comments":[{"owner":{"account_id":14322281,"reputation":467,"user_id":10345277,"display_name":"윤현구"},"score":4,"creation_date":1558664263,"post_id":47765828,"comment_id":99183621,"body_markdown":".map(EntityType::getJavaType)","body":".map(EntityType::getJavaType)"},{"owner":{"account_id":7576594,"reputation":1132,"user_id":5748773,"display_name":"KevinB"},"score":1,"creation_date":1576155627,"post_id":47765828,"comment_id":104812629,"body_markdown":"This should be the accepted answer, as manual configuration would only be possible in the smallest of use cases. Thanks @mekazu this is a thing of beauty! It&#39;s working for me.","body":"This should be the accepted answer, as manual configuration would only be possible in the smallest of use cases. Thanks @mekazu this is a thing of beauty! It&#39;s working for me."},{"owner":{"account_id":16897789,"reputation":155,"user_id":12219946,"display_name":"Mina"},"score":1,"creation_date":1589135830,"post_id":47765828,"comment_id":109167405,"body_markdown":".toArray(Class[]::new));","body":".toArray(Class[]::new));"}],"tags":[],"owner":{"account_id":948386,"reputation":2575,"user_id":975123,"accept_rate":75,"display_name":"mekazu"},"comment_count":3,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1513056288,"creation_date":1513056288,"answer_id":47765828,"question_id":30912826,"body_markdown":"If you want to expose the id field for all your entity classes:\r\n\r\n    import java.util.stream.Collectors;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    public class MyRepositoryRestConfigurerAdapter extends RepositoryRestConfigurerAdapter {\r\n    \r\n    \t@Autowired\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Override\r\n    \tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n    \t\tconfig.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(e -&gt; e.getJavaType()).collect(Collectors.toList()).toArray(new Class[0]));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Expose all IDs when using Spring Data Rest","body":"<p>If you want to expose the id field for all your entity classes:</p>\n\n<pre><code>import java.util.stream.Collectors;\n\nimport javax.persistence.EntityManager;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerAdapter;\n\n@Configuration\npublic class MyRepositoryRestConfigurerAdapter extends RepositoryRestConfigurerAdapter {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        config.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(e -&gt; e.getJavaType()).collect(Collectors.toList()).toArray(new Class[0]));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":983143,"reputation":301,"user_id":1002322,"display_name":"Vattic"},"score":0,"creation_date":1586078754,"post_id":47793003,"comment_id":107988325,"body_markdown":"It works perfectly. However, RepositoryRestConfigurerAdapter is deprecated. I extended RepositoryRestConfigurer class and did override to configureRepositoryRestConfiguration method and write your code as it is. And it&#39;s working fine with me","body":"It works perfectly. However, RepositoryRestConfigurerAdapter is deprecated. I extended RepositoryRestConfigurer class and did override to configureRepositoryRestConfiguration method and write your code as it is. And it&#39;s working fine with me"}],"tags":[],"owner":{"account_id":6979229,"reputation":31,"user_id":5352814,"display_name":"Phearun Rath"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513168350,"creation_date":1513167985,"answer_id":47793003,"question_id":30912826,"body_markdown":"Try this configuration. It works perfectly fine for me.\r\n\r\n    @Configuration\r\n    public class RestConfiguration extends RepositoryRestConfigurerAdapter{\r\n\t\r\n\t      @PersistenceContext\r\n\t      private EntityManager entityManager;\r\n\t\r\n\t      @Override\r\n\t      public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n\t\t       //TODO: Expose for specific entity!\r\n\t\t       //config.exposeIdsFor(Officer.class);\r\n\t           //config.exposeIdsFor(Position.class);\r\n\t\t\r\n\t\t       //TODO: Expose id for all entities!\r\n\t\t       entityManager.getMetamodel().getEntities().forEach(entity-&gt;{\r\n\t\t\t        try {\r\n\t\t\t\t         System.out.println(&quot;Model: &quot; + entity.getName());\r\n\t\t\t\t         Class&lt;? extends Object&gt; clazz = Class.forName(String.format(&quot;yourpackage.%s&quot;, entity.getName()));\r\n\t\t\t\t         config.exposeIdsFor(clazz);\r\n\t\t\t        } catch (Exception e) {\r\n\t\t\t\t         System.out.println(e.getMessage());\r\n\t\t\t        }\r\n\t\t        });\r\n\t    }\r\n    }","title":"Expose all IDs when using Spring Data Rest","body":"<p>Try this configuration. It works perfectly fine for me.</p>\n\n<pre><code>@Configuration\npublic class RestConfiguration extends RepositoryRestConfigurerAdapter{\n\n      @PersistenceContext\n      private EntityManager entityManager;\n\n      @Override\n      public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n           //TODO: Expose for specific entity!\n           //config.exposeIdsFor(Officer.class);\n           //config.exposeIdsFor(Position.class);\n\n           //TODO: Expose id for all entities!\n           entityManager.getMetamodel().getEntities().forEach(entity-&gt;{\n                try {\n                     System.out.println(\"Model: \" + entity.getName());\n                     Class&lt;? extends Object&gt; clazz = Class.forName(String.format(\"yourpackage.%s\", entity.getName()));\n                     config.exposeIdsFor(clazz);\n                } catch (Exception e) {\n                     System.out.println(e.getMessage());\n                }\n            });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":266943,"reputation":14507,"user_id":554807,"accept_rate":79,"display_name":"GreenAsJade"},"score":0,"creation_date":1546670372,"post_id":52285614,"comment_id":94934143,"body_markdown":"Yields: `The type RepositoryRestConfigurerAdapter is deprecated`","body":"Yields: <code>The type RepositoryRestConfigurerAdapter is deprecated</code>"}],"tags":[],"owner":{"account_id":14328892,"reputation":39,"user_id":10350169,"display_name":"David B."},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536710086,"creation_date":1536710086,"answer_id":52285614,"question_id":30912826,"body_markdown":"Please find a simple solution for this, avoiding to find entities related.\r\n\r\n    @Component\r\n    public class EntityExposingIdConfiguration extends RepositoryRestConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n            try {\r\n                Field exposeIdsFor = RepositoryRestConfiguration.class.getDeclaredField(&quot;exposeIdsFor&quot;);\r\n                exposeIdsFor.setAccessible(true);\r\n                ReflectionUtils.setField(exposeIdsFor, config, new ListAlwaysContains());\r\n            } catch (NoSuchFieldException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        class ListAlwaysContains extends ArrayList {\r\n    \r\n            @Override\r\n            public boolean contains(Object o) {\r\n                return true;\r\n            }\r\n        }\r\n    }","title":"Expose all IDs when using Spring Data Rest","body":"<p>Please find a simple solution for this, avoiding to find entities related.</p>\n\n<pre><code>@Component\npublic class EntityExposingIdConfiguration extends RepositoryRestConfigurerAdapter {\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        try {\n            Field exposeIdsFor = RepositoryRestConfiguration.class.getDeclaredField(\"exposeIdsFor\");\n            exposeIdsFor.setAccessible(true);\n            ReflectionUtils.setField(exposeIdsFor, config, new ListAlwaysContains());\n        } catch (NoSuchFieldException e) {\n            e.printStackTrace();\n        }\n    }\n\n    class ListAlwaysContains extends ArrayList {\n\n        @Override\n        public boolean contains(Object o) {\n            return true;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14244247,"reputation":21,"user_id":10289805,"display_name":"Francois Gengler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552660704,"creation_date":1552660704,"answer_id":55185024,"question_id":30912826,"body_markdown":"Following piece of code looks prettier:\r\n\r\n    .exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(entityType -&gt; entityType.getJavaType()).toArray(Class[]::new))","title":"Expose all IDs when using Spring Data Rest","body":"<p>Following piece of code looks prettier:</p>\n\n<pre><code>.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(entityType -&gt; entityType.getJavaType()).toArray(Class[]::new))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6812577,"reputation":1,"user_id":5242256,"display_name":"Terry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561106427,"creation_date":1561106427,"answer_id":56699801,"question_id":30912826,"body_markdown":"You can try with this solution:\r\n- First import [reflections][1] library to your POM file:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.9.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n- Then change your RepositoryConfig class to:\r\n\r\n    @Configuration\r\n    public class RepositoryConfig extends RepositoryRestMvcConfiguration {\r\n        @Override\r\n        protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n            Reflections reflections = new Reflections(&quot;com.example.entity&quot;);\r\n            Set&lt;Class&lt;?&gt;&gt; idExposedClasses = reflections.getTypesAnnotatedWith(Entity.class, false);\r\n            idExposedClasses.forEach(config::exposeIdsFor);\r\n            return config;\r\n        }\r\n    }\r\n\r\nChange ***&quot;com.example.entity&quot;*** to your **Entity package** and you are good to go. Good luck!\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.reflections/reflections","title":"Expose all IDs when using Spring Data Rest","body":"<p>You can try with this solution:\n- First import <a href=\"https://mvnrepository.com/artifact/org.reflections/reflections\" rel=\"nofollow noreferrer\">reflections</a> library to your POM file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.9.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>- Then change your RepositoryConfig class to:</p>\n\n<pre><code>@Configuration\npublic class RepositoryConfig extends RepositoryRestMvcConfiguration {\n    @Override\n    protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        Reflections reflections = new Reflections(\"com.example.entity\");\n        Set&lt;Class&lt;?&gt;&gt; idExposedClasses = reflections.getTypesAnnotatedWith(Entity.class, false);\n        idExposedClasses.forEach(config::exposeIdsFor);\n        return config;\n    }\n}\n</code></pre>\n\n<p>Change <strong><em>\"com.example.entity\"</em></strong> to your <strong>Entity package</strong> and you are good to go. Good luck!</p>\n"},{"comments":[{"owner":{"account_id":2443490,"reputation":360,"user_id":2131390,"display_name":"Tobias Hochg&#252;rtel"},"score":0,"creation_date":1668589895,"post_id":64704957,"comment_id":131439919,"body_markdown":"Helped me to get the IDs shown for a specific Entity, by replacing `entityManager.getMetamodel().getEntities()\n                    .stream().map(Type::getJavaType).toArray(Class[]::new)` with just `Question.class`.","body":"Helped me to get the IDs shown for a specific Entity, by replacing <code>entityManager.getMetamodel().getEntities()                     .stream().map(Type::getJavaType).toArray(Class[]::new)</code> with just <code>Question.class</code>."}],"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653072156,"creation_date":1604608851,"answer_id":64704957,"question_id":30912826,"body_markdown":"Full working example based on [@FrancoisGengler&#39;s answer][1]:\r\n\r\n    @SpringBootApplication\r\n    public class DataRestApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DataRestApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RepositoryRestConfigurer repositoryRestConfigurer(EntityManager entityManager) {\r\n    \t\treturn RepositoryRestConfigurer.withConfig(config -&gt; {\r\n    \t\t\tconfig.exposeIdsFor(entityManager.getMetamodel().getEntities()\r\n    \t\t\t\t\t.stream().map(Type::getJavaType).toArray(Class[]::new));\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55185024/584676","title":"Expose all IDs when using Spring Data Rest","body":"<p>Full working example based on <a href=\"https://stackoverflow.com/a/55185024/584676\">@FrancoisGengler's answer</a>:</p>\n<pre><code>@SpringBootApplication\npublic class DataRestApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DataRestApplication.class, args);\n    }\n\n    @Bean\n    public RepositoryRestConfigurer repositoryRestConfigurer(EntityManager entityManager) {\n        return RepositoryRestConfigurer.withConfig(config -&gt; {\n            config.exposeIdsFor(entityManager.getMetamodel().getEntities()\n                    .stream().map(Type::getJavaType).toArray(Class[]::new));\n        });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user17408941"},"score":0,"creation_date":1647261617,"post_id":67771005,"comment_id":126319180,"body_markdown":"`Type::getJavaType` is which import exactly? Please never omit import declarations.","body":"<code>Type::getJavaType</code> is which import exactly? Please never omit import declarations."},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1647422179,"post_id":67771005,"comment_id":126364393,"body_markdown":"`Type::getJavaType` is `javax.persistence.metamodel.Type`","body":"<code>Type::getJavaType</code> is <code>javax.persistence.metamodel.Type</code>"}],"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1647422469,"creation_date":1622452657,"answer_id":67771005,"question_id":30912826,"body_markdown":"An updated answer to [@mekasu][1]. The `RepositoryRestConfigurer` interface was changed a bit in 2.4.\r\n\r\n**Pre 2.4:**\r\n\r\n````\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.metamodel.Type;\r\n\r\n@Configuration\r\npublic class Config implements RepositoryRestConfigurer {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n        config.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(Type::getJavaType).toArray(Class[]::new));\r\n    }\r\n}\r\n````\r\n\r\n**Post 2.4**\r\n````\r\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.metamodel.Type;\r\n\r\n@Configuration\r\npublic class Config implements RepositoryRestConfigurer {\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n        config.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(Type::getJavaType).toArray(Class[]::new));\r\n    }\r\n}\r\n````\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47765828/4110190","title":"Expose all IDs when using Spring Data Rest","body":"<p>An updated answer to <a href=\"https://stackoverflow.com/a/47765828/4110190\">@mekasu</a>. The <code>RepositoryRestConfigurer</code> interface was changed a bit in 2.4.</p>\n<p><strong>Pre 2.4:</strong></p>\n<pre><code>import org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport javax.persistence.EntityManager;\nimport javax.persistence.metamodel.Type;\n\n@Configuration\npublic class Config implements RepositoryRestConfigurer {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        config.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(Type::getJavaType).toArray(Class[]::new));\n    }\n}\n</code></pre>\n<p><strong>Post 2.4</strong></p>\n<pre><code>import org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport javax.persistence.EntityManager;\nimport javax.persistence.metamodel.Type;\n\n@Configuration\npublic class Config implements RepositoryRestConfigurer {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        config.exposeIdsFor(entityManager.getMetamodel().getEntities().stream().map(Type::getJavaType).toArray(Class[]::new));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622796672,"creation_date":1622796672,"answer_id":67834287,"question_id":30912826,"body_markdown":"I&#39;m sharing my solution which is based on [other answer](https://stackoverflow.com/a/47765828/330457).\r\n\r\nIn my case which configures multiple databases, I don&#39;t why but, I need to autowire instances of `EntityManagerFactory`.\r\n\r\n```java\r\n@Db1 @Autowire\r\nEntityManagerFactory entityManagerFactoryDb1;\r\n\r\n@Db2 @Autowire\r\nEntityManagerFactory entityManagerFactoryDb2;\r\n```\r\n\r\nNow all I need is a method streaming all entity classes gathered from all injected persistence units.\r\n\r\n(Maybe, checking the existence of `@Entity` annotation or a custom annotation , say `@EntityRestExposeId`, can be applied.)\r\n\r\n```java\r\n    private void forEachEntityClass(final Consumer&lt;? super Class&lt;?&gt;&gt; consumer) {\r\n        Arrays.stream(DataRestConfiguration.class.getDeclaredFields())\r\n                .filter(f -&gt; {\r\n                    final int modifiers = f.getModifiers();\r\n                    return !Modifier.isStatic(modifiers);\r\n                })\r\n                .filter(f -&gt; EntityManagerFactory.class.isAssignableFrom(f.getType()))\r\n                .map(f -&gt; {\r\n                    f.setAccessible(true);\r\n                    try {\r\n                        return (EntityManagerFactory) f.get(this);\r\n                    } catch (final ReflectiveOperationException roe) {\r\n                        throw new RuntimeException(roe);\r\n                    }\r\n                })\r\n                .flatMap(emf -&gt; emf.getMetamodel().getEntities().stream().map(EntityType::getJavaType))\r\n                .forEach(consumer);\r\n    }\r\n```\r\n\r\nCalling the `exposeIdFor` method is straightforward.\r\n\r\n```java\r\n@Configuration\r\nclass DataRestConfiguration {\r\n\r\n    @Bean\r\n    public RepositoryRestConfigurer repositoryRestConfigurer() {\r\n        return RepositoryRestConfigurer.withConfig((configuration, registry) -&gt; {\r\n            forEachEntityClass(configuration::exposeIdsFor);\r\n            // ...\r\n        });\r\n    }\r\n\r\n    private void forEachEntityClass(final Consumer&lt;? super Class&lt;?&gt;&gt; consumer) {\r\n        // ...\r\n    }\r\n\r\n    @Db1 @Autowired\r\n    EntityManagerFactory entityManagerFactoryDb1;\r\n\r\n    @Db2 @Autowired\r\n    EntityManagerFactory entityManagerFactoryDb2;\r\n\r\n    @Db3 @Autowired\r\n    EntityManagerFactory entityManagerFactoryDb3;\r\n}\r\n```","title":"Expose all IDs when using Spring Data Rest","body":"<p>I'm sharing my solution which is based on <a href=\"https://stackoverflow.com/a/47765828/330457\">other answer</a>.</p>\n<p>In my case which configures multiple databases, I don't why but, I need to autowire instances of <code>EntityManagerFactory</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Db1 @Autowire\nEntityManagerFactory entityManagerFactoryDb1;\n\n@Db2 @Autowire\nEntityManagerFactory entityManagerFactoryDb2;\n</code></pre>\n<p>Now all I need is a method streaming all entity classes gathered from all injected persistence units.</p>\n<p>(Maybe, checking the existence of <code>@Entity</code> annotation or a custom annotation , say <code>@EntityRestExposeId</code>, can be applied.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void forEachEntityClass(final Consumer&lt;? super Class&lt;?&gt;&gt; consumer) {\n        Arrays.stream(DataRestConfiguration.class.getDeclaredFields())\n                .filter(f -&gt; {\n                    final int modifiers = f.getModifiers();\n                    return !Modifier.isStatic(modifiers);\n                })\n                .filter(f -&gt; EntityManagerFactory.class.isAssignableFrom(f.getType()))\n                .map(f -&gt; {\n                    f.setAccessible(true);\n                    try {\n                        return (EntityManagerFactory) f.get(this);\n                    } catch (final ReflectiveOperationException roe) {\n                        throw new RuntimeException(roe);\n                    }\n                })\n                .flatMap(emf -&gt; emf.getMetamodel().getEntities().stream().map(EntityType::getJavaType))\n                .forEach(consumer);\n    }\n</code></pre>\n<p>Calling the <code>exposeIdFor</code> method is straightforward.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass DataRestConfiguration {\n\n    @Bean\n    public RepositoryRestConfigurer repositoryRestConfigurer() {\n        return RepositoryRestConfigurer.withConfig((configuration, registry) -&gt; {\n            forEachEntityClass(configuration::exposeIdsFor);\n            // ...\n        });\n    }\n\n    private void forEachEntityClass(final Consumer&lt;? super Class&lt;?&gt;&gt; consumer) {\n        // ...\n    }\n\n    @Db1 @Autowired\n    EntityManagerFactory entityManagerFactoryDb1;\n\n    @Db2 @Autowired\n    EntityManagerFactory entityManagerFactoryDb2;\n\n    @Db3 @Autowired\n    EntityManagerFactory entityManagerFactoryDb3;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15548139,"reputation":496,"user_id":11216698,"display_name":"Daniel Jeney"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671276990,"creation_date":1671276652,"answer_id":74833713,"question_id":30912826,"body_markdown":"Here is a short solution to expose all ids using only things from springframework: \r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.repository.support.Repositories;\r\n    import org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.CorsRegistry;\r\n    \r\n    @Configuration\r\n    public class MyRepositoryRestConfigurer implements RepositoryRestConfigurer {\r\n    \t@Autowired\r\n    \tprivate Repositories repositories;\r\n    \r\n    \t@Override\r\n    \tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n    \t\tthis.repositories.iterator().forEachRemaining(r -&gt; {\r\n    \t\t\tconfig.exposeIdsFor(r);\r\n    \t\t});\r\n    \t}\r\n    }","title":"Expose all IDs when using Spring Data Rest","body":"<p>Here is a short solution to expose all ids using only things from springframework:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.repository.support.Repositories;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestConfigurer;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\n\n@Configuration\npublic class MyRepositoryRestConfigurer implements RepositoryRestConfigurer {\n    @Autowired\n    private Repositories repositories;\n\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        this.repositories.iterator().forEachRemaining(r -&gt; {\n            config.exposeIdsFor(r);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6366980,"reputation":535,"user_id":4940680,"accept_rate":56,"display_name":"Baiteman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33104,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":33171702,"answer_count":15,"score":39,"last_activity_date":1671276990,"creation_date":1434623217,"question_id":30912826,"body_markdown":"I&#39;d like to expose all IDs using a Spring Rest interface.\r\n\r\nI know that per default an ID like this will not be exposed via the rest interface:\r\n\r\n        @Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \t@Column(unique=true, nullable=false)\r\n    \tprivate Long id;\r\n\r\n\r\n\r\nI&#39;m aware that I can use this to expose the ID for `User`:\r\n\r\n    @Configuration\r\n    public class RepositoryConfig extends RepositoryRestMvcConfiguration {\r\n        @Override\r\n        protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n            config.exposeIdsFor(User.class);\r\n        }\r\n    }\r\n\r\nBut is there an easy way to expose all IDs without manually maintaining a list in this `configureRepositoryRestConfiguration` method?","title":"Expose all IDs when using Spring Data Rest","body":"<p>I'd like to expose all IDs using a Spring Rest interface.</p>\n\n<p>I know that per default an ID like this will not be exposed via the rest interface:</p>\n\n<pre><code>    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(unique=true, nullable=false)\n    private Long id;\n</code></pre>\n\n<p>I'm aware that I can use this to expose the ID for <code>User</code>:</p>\n\n<pre><code>@Configuration\npublic class RepositoryConfig extends RepositoryRestMvcConfiguration {\n    @Override\n    protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        config.exposeIdsFor(User.class);\n    }\n}\n</code></pre>\n\n<p>But is there an easy way to expose all IDs without manually maintaining a list in this <code>configureRepositoryRestConfiguration</code> method?</p>\n"},{"tags":["java","oracle","jdbc","callable-statement"],"comments":[{"owner":{"account_id":10958861,"reputation":514,"user_id":8052787,"display_name":"FredvN"},"score":2,"creation_date":1671212485,"post_id":74827729,"comment_id":132058106,"body_markdown":"Does this answer your question? [Oracle Stored Procedure JDBC call with named paramaters fails with &#39;Found Symbol &gt;&#39;](https://stackoverflow.com/questions/61667703/oracle-stored-procedure-jdbc-call-with-named-paramaters-fails-with-found-symbol)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61667703/oracle-stored-procedure-jdbc-call-with-named-paramaters-fails-with-found-symbol\">Oracle Stored Procedure JDBC call with named paramaters fails with &#39;Found Symbol &gt;&#39;</a>"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1671287064,"post_id":74827729,"comment_id":132069343,"body_markdown":"That does not answer this question, no. It shows someone using `=&gt;` incorrectly, and the answer is to not use it which isn’t the right (or only) answer here; and it doesn’t refer to skipping some default arguments.","body":"That does not answer this question, no. It shows someone using <code>=&gt;</code> incorrectly, and the answer is to not use it which isn’t the right (or only) answer here; and it doesn’t refer to skipping some default arguments."}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671214460,"creation_date":1671214460,"answer_id":74828323,"question_id":74827729,"body_markdown":"You can either use the `=&gt;` notation to specify which parameters you are passing, and use positional notation:\r\n\r\n```\r\nstmt = connection.prepareCall(&quot;CALL create_entity(p_name =&gt; ?, p_location =&gt; ?)&quot;);\r\nstmt.registerOutParameter(1, ...);\r\nstmt.registerOutParameter(2, ...);\r\n...\r\nstmt.execute();\r\nstmt.getString(1);\r\nstmt.getInt(2);\r\n```\r\n\r\nOr use named binding:\r\n\r\n```\r\nstmt = connection.prepareCall(&quot;CALL create_entity(?, ?)&quot;);\r\nstmt.registerOutParameter(&quot;P_NAME&quot;, ...);\r\nstmt.registerOutParameter(&quot;P_LOCATION&quot;, ...);\r\n...\r\nstmt.execute();\r\nstmt.getString(&quot;P_NAME&quot;);\r\nstmt.getInt(&quot;P_LOCATION&quot;);\r\n```\r\n\r\nBut don&#39;t mix them (as the question linked in a comment shows, that won&#39;t work); and your driver and version might affect what is allowed.\r\n\r\nIf you want to override any of the input parameters then you can add those to the argument list, and bind values for them, while leaving the rest to use their defaults.","title":"Getting output parameters of a procedure","body":"<p>You can either use the <code>=&gt;</code> notation to specify which parameters you are passing, and use positional notation:</p>\n<pre><code>stmt = connection.prepareCall(&quot;CALL create_entity(p_name =&gt; ?, p_location =&gt; ?)&quot;);\nstmt.registerOutParameter(1, ...);\nstmt.registerOutParameter(2, ...);\n...\nstmt.execute();\nstmt.getString(1);\nstmt.getInt(2);\n</code></pre>\n<p>Or use named binding:</p>\n<pre><code>stmt = connection.prepareCall(&quot;CALL create_entity(?, ?)&quot;);\nstmt.registerOutParameter(&quot;P_NAME&quot;, ...);\nstmt.registerOutParameter(&quot;P_LOCATION&quot;, ...);\n...\nstmt.execute();\nstmt.getString(&quot;P_NAME&quot;);\nstmt.getInt(&quot;P_LOCATION&quot;);\n</code></pre>\n<p>But don't mix them (as the question linked in a comment shows, that won't work); and your driver and version might affect what is allowed.</p>\n<p>If you want to override any of the input parameters then you can add those to the argument list, and bind values for them, while leaving the rest to use their defaults.</p>\n"}],"owner":{"account_id":7992105,"reputation":244,"user_id":6029661,"display_name":"Alex.K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74828323,"answer_count":1,"score":1,"last_activity_date":1671276870,"creation_date":1671211049,"question_id":74827729,"body_markdown":"I have a stored procedure with plenty of parameters, I need to call this procedure from Java. All of procedure&#39;s input parameters have defaults, like this:\r\n\r\n    PROCEDURE create_entity\r\n    (\r\n        p_id number deafult 1,\r\n        p_code number default 1,\r\n        p_uid number default 1,\r\n    \r\n        --......here comes about 50 of similar parameters with defaults set\r\n    \r\n        p_name out varchar2,\r\n        p_location out number\r\n    )\r\n\r\nMy goal is to call this procedure via JDBC without specifying any input arguments, and fetch `p_name`, `p_location` output parameter values.\r\nIn this case, do I need to specify all of 50 input parameters, even though I&#39;m fine with using their default values?\r\n\r\n    CallableStatement stmt = connection.prepareCall(&quot;CALL create_entity(?, ?, ?, ?, ?, ?, ? ......)&quot;)\r\n\r\nIs there any way to omit specifying those &#39;?&#39; in a call statement?\r\nHow can I get just the output parameters values in an easy way?\r\n","title":"Getting output parameters of a procedure","body":"<p>I have a stored procedure with plenty of parameters, I need to call this procedure from Java. All of procedure's input parameters have defaults, like this:</p>\n<pre><code>PROCEDURE create_entity\n(\n    p_id number deafult 1,\n    p_code number default 1,\n    p_uid number default 1,\n\n    --......here comes about 50 of similar parameters with defaults set\n\n    p_name out varchar2,\n    p_location out number\n)\n</code></pre>\n<p>My goal is to call this procedure via JDBC without specifying any input arguments, and fetch <code>p_name</code>, <code>p_location</code> output parameter values.\nIn this case, do I need to specify all of 50 input parameters, even though I'm fine with using their default values?</p>\n<pre><code>CallableStatement stmt = connection.prepareCall(&quot;CALL create_entity(?, ?, ?, ?, ?, ?, ? ......)&quot;)\n</code></pre>\n<p>Is there any way to omit specifying those '?' in a call statement?\nHow can I get just the output parameters values in an easy way?</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"answers":[{"comments":[{"owner":{"account_id":20346438,"reputation":5,"user_id":14924188,"display_name":"Azalen"},"score":0,"creation_date":1671226240,"post_id":74829801,"comment_id":132061636,"body_markdown":"Ahh thank you very much, I didn&#39;t know that, now I&#39;ve done it differently and it works. In the actual project, the variables are not fixed, I just took them out to make it easier to find the error.","body":"Ahh thank you very much, I didn&#39;t know that, now I&#39;ve done it differently and it works. In the actual project, the variables are not fixed, I just took them out to make it easier to find the error."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671225109,"creation_date":1671225109,"answer_id":74829801,"question_id":74829748,"body_markdown":"You can&#39;t bind obejct names (in this case, a column name), only values. \r\n\r\nHaving said that, since all the values here seem to be hard-coded, you really don&#39;t need a `PreparedStamtement`, and could just execute the statement directly:\r\n\r\n```java\r\ncon.executeUpdate(&quot;UPDATE member_ships SET Cyclone = 9 WHERE UUID = 316931131188576123l&quot;); \r\n```","title":"Java SQL Prepared Statement Update not working","body":"<p>You can't bind obejct names (in this case, a column name), only values.</p>\n<p>Having said that, since all the values here seem to be hard-coded, you really don't need a <code>PreparedStamtement</code>, and could just execute the statement directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>con.executeUpdate(&quot;UPDATE member_ships SET Cyclone = 9 WHERE UUID = 316931131188576123l&quot;); \n</code></pre>\n"}],"owner":{"account_id":20346438,"reputation":5,"user_id":14924188,"display_name":"Azalen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671276810,"accepted_answer_id":74829801,"answer_count":1,"score":0,"last_activity_date":1671276781,"creation_date":1671224688,"question_id":74829748,"body_markdown":"I have the problem that I just can&#39;t get the following code to run. I&#39;ve tried and changed all of them but I always get an error, maybe you have an idea where the error is?\r\n\r\n```java\r\npublic class TestCommand implements ServerCommand{\r\n\r\n    @Override\r\n    public void performcommand(SlashCommandInteractionEvent event, Member m, MessageChannelUnion channel,\r\n            VoiceChannel ec, VoiceChannel pub, TextChannel log, Guild guild) {\r\n\r\n\t\tConnection connection = null;\r\n\t\tPreparedStatement preparedStatement = null;\r\n\t\t\t\t\r\n\t\tString sql = (&quot;UPDATE member_ships SET?= ? WHERE UUID= ?&quot;); \r\n\t\t\r\n\t\ttry {\r\n    \t\tconnection = MySQL.getConnection();\r\n    \t\tpreparedStatement = connection.prepareStatement(sql);\r\n    \t\tpreparedStatement.setString(1,&quot;Cyclone&quot;);\r\n    \t\tpreparedStatement.setInt(2,9);\r\n    \t\tpreparedStatement.setLong(3,316931131188576123l);\r\n    \t\tpreparedStatement.executeUpdate();\r\n\t\t}   catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tMySQL.closePreparedStatement(preparedStatement);\r\n\t\t\tMySQL.closeConnection(connection);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThe MySQL class\r\n\r\n```java\r\npublic class MySQL {\r\n\r\n\tpublic static Connection getConnection() throws SQLException {\r\n\t\tConnection connection = DriverManager.getConnection(&quot;jdbc:mysql://*****&quot;,&quot;***&quot;,&quot;****&quot;);\r\n\t\tconnection.setAutoCommit(true);\r\n        System.out.println(&quot;Database connecion successful&quot;); //TODO Remove \r\n\t\treturn connection;\r\n\t}\r\n```\r\n\r\nAnd here the error stacktrace:\r\n\r\n```none\r\njava.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;&#39;Cyclone&#39;= 9 WHERE UUID= 316931131188576123&#39; at line 1\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n```\r\n","title":"Java SQL Prepared Statement Update not working","body":"<p>I have the problem that I just can't get the following code to run. I've tried and changed all of them but I always get an error, maybe you have an idea where the error is?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestCommand implements ServerCommand{\n\n    @Override\n    public void performcommand(SlashCommandInteractionEvent event, Member m, MessageChannelUnion channel,\n            VoiceChannel ec, VoiceChannel pub, TextChannel log, Guild guild) {\n\n        Connection connection = null;\n        PreparedStatement preparedStatement = null;\n                \n        String sql = (&quot;UPDATE member_ships SET?= ? WHERE UUID= ?&quot;); \n        \n        try {\n            connection = MySQL.getConnection();\n            preparedStatement = connection.prepareStatement(sql);\n            preparedStatement.setString(1,&quot;Cyclone&quot;);\n            preparedStatement.setInt(2,9);\n            preparedStatement.setLong(3,316931131188576123l);\n            preparedStatement.executeUpdate();\n        }   catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            MySQL.closePreparedStatement(preparedStatement);\n            MySQL.closeConnection(connection);\n        }\n    }\n}\n</code></pre>\n<p>The MySQL class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySQL {\n\n    public static Connection getConnection() throws SQLException {\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://*****&quot;,&quot;***&quot;,&quot;****&quot;);\n        connection.setAutoCommit(true);\n        System.out.println(&quot;Database connecion successful&quot;); //TODO Remove \n        return connection;\n    }\n</code></pre>\n<p>And here the error stacktrace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''Cyclone'= 9 WHERE UUID= 316931131188576123' at line 1\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n</code></pre>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1671264732,"post_id":74832608,"comment_id":132065981,"body_markdown":"Does your class include an import of the exception? Otherwise you have to fully classify it. If you dont know what I mean, please share the full code of the `InitialHandlerAndStorer` file.","body":"Does your class include an import of the exception? Otherwise you have to fully classify it. If you dont know what I mean, please share the full code of the <code>InitialHandlerAndStorer</code> file."},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1671265609,"post_id":74832608,"comment_id":132066062,"body_markdown":"Yessir, I have it imported, and the exception is recognized within the code but somehow not  by the javadoc","body":"Yessir, I have it imported, and the exception is recognized within the code but somehow not  by the javadoc"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1671266151,"post_id":74832608,"comment_id":132066131,"body_markdown":"Does it work for javadoc when you fully qualify it? I.e. `@throws pl.sydygaliev.java_journey.model.exception.WrongFormatException when there is unacceptable character for the keyword`?","body":"Does it work for javadoc when you fully qualify it? I.e. <code>@throws pl.sydygaliev.java_journey.model.exception.WrongFormatExcept&zwnj;&#8203;ion when there is unacceptable character for the keyword</code>?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1671266212,"post_id":74832608,"comment_id":132066141,"body_markdown":"How do you run the javadoc command? Maybe it is missing the file in its classpath arguments etc","body":"How do you run the javadoc command? Maybe it is missing the file in its classpath arguments etc"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1671266571,"post_id":74832608,"comment_id":132066171,"body_markdown":"Javadoc works fine, I generate it in netbeans, in the run section. If I remove throws tag, javadoc is generated without problems","body":"Javadoc works fine, I generate it in netbeans, in the run section. If I remove throws tag, javadoc is generated without problems"},{"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"score":0,"creation_date":1671266654,"post_id":74832608,"comment_id":132066180,"body_markdown":"I tried to fully qualify and it still has the same error complain","body":"I tried to fully qualify and it still has the same error complain"}],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671276438,"creation_date":1671276438,"answer_id":74833703,"question_id":74832608,"body_markdown":"It appears that the method must have the following syntax:\r\n\r\n    public String handleKeyword(String keyword) throws WrongFormatException{\r\n    ...\r\n\r\nBut since I had try and catch block within the function I couldn&#39;t create the above syntax. I removed try and catch block in the method and added the try and catch block elsewhere, where method was called","title":"Custom exception, Javadoc unknown throwable exception","body":"<p>It appears that the method must have the following syntax:</p>\n<pre><code>public String handleKeyword(String keyword) throws WrongFormatException{\n...\n</code></pre>\n<p>But since I had try and catch block within the function I couldn't create the above syntax. I removed try and catch block in the method and added the try and catch block elsewhere, where method was called</p>\n"}],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74833703,"answer_count":1,"score":0,"last_activity_date":1671276438,"creation_date":1671263982,"question_id":74832608,"body_markdown":"I have trouble with generating Javadoc, it complains \r\n\r\n&quot;Uknown throwable @throws pl.sydygaliev.java_journey.model.exception.WrongFormatException&quot;\r\n\r\nHere&#39;s the body of javadoc comment\r\n\r\n    /**\r\n     * The method that is used to handle given keyword.\r\n     * If keyword has illegal values, it returns null.\r\n     * @param keyword is used for keyword validation\r\n     * @return keyword with given value or null if keyword\r\n     * has unacceptable characters\r\n     * @throws WrongFormatException when there is unacceptable \r\n     * character for the keyword\r\n     */\r\n    public String handleKeyword(String keyword) {\r\n\r\nJavadoc\r\nBody of the custom exception\r\n\r\n    package pl.sydygaliev.java_journey.model.exception;\r\n    \r\n    \r\n    public class WrongFormatException extends Exception{\r\n    }\r\n\r\nInitialHandlerAndStorer class where javadoc trouble occured and subpackage of custom exceptions within that package\r\n[![InitialHandlerAndStorer class where javadoc trouble occured][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VWYno.png","title":"Custom exception, Javadoc unknown throwable exception","body":"<p>I have trouble with generating Javadoc, it complains</p>\n<p>&quot;Uknown throwable @throws pl.sydygaliev.java_journey.model.exception.WrongFormatException&quot;</p>\n<p>Here's the body of javadoc comment</p>\n<pre><code>/**\n * The method that is used to handle given keyword.\n * If keyword has illegal values, it returns null.\n * @param keyword is used for keyword validation\n * @return keyword with given value or null if keyword\n * has unacceptable characters\n * @throws WrongFormatException when there is unacceptable \n * character for the keyword\n */\npublic String handleKeyword(String keyword) {\n</code></pre>\n<p>Javadoc\nBody of the custom exception</p>\n<pre><code>package pl.sydygaliev.java_journey.model.exception;\n\n\npublic class WrongFormatException extends Exception{\n}\n</code></pre>\n<p>InitialHandlerAndStorer class where javadoc trouble occured and subpackage of custom exceptions within that package\n<a href=\"https://i.stack.imgur.com/VWYno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWYno.png\" alt=\"InitialHandlerAndStorer class where javadoc trouble occured\" /></a></p>\n"},{"tags":["java","spring-mvc","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":19135454,"reputation":17,"user_id":13976520,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671033713,"creation_date":1671033713,"answer_id":74801007,"question_id":74694006,"body_markdown":"Use the meta tag within the head element of your HTML as explained here:  https://www.geeksforgeeks.org/how-to-automatic-refresh-a-web-page-in-fixed-time/","title":"Refresh data from database constantly","body":"<p>Use the meta tag within the head element of your HTML as explained here:  <a href=\"https://www.geeksforgeeks.org/how-to-automatic-refresh-a-web-page-in-fixed-time/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-automatic-refresh-a-web-page-in-fixed-time/</a></p>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671191630,"creation_date":1671191630,"answer_id":74824094,"question_id":74694006,"body_markdown":"You did not explain, what your requirements exactly are. Does the data really change every 5 seconds? Or do you not want to miss one update?\r\n\r\nTo refresh your web-page use this head tag:\r\n\r\n```\r\n&lt;head&gt;\r\n  &lt;title&gt;Product Manager&lt;/title&gt;\r\n  &lt;meta charset=&quot;utf-8&quot;/&gt;\r\n&#160;&#160;&lt;meta http-equiv=&quot;refresh&quot; content=&quot;5&quot;&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nBut if the data only changes from time to time, I would use pushing (instead of pulling).\r\n\r\nFor example with HTML5 server-sent-events: \r\nhttps://www.w3schools.com/html/html5_serversentevents.asp\r\n\r\nYou can query the db table with a spring boot scheduler every 5 seconds, or you can use messaging on the server side whenever the data changes. (Which I would prefer. This could reduce the CPU load and bandwidth and be more sustainable.)","title":"Refresh data from database constantly","body":"<p>You did not explain, what your requirements exactly are. Does the data really change every 5 seconds? Or do you not want to miss one update?</p>\n<p>To refresh your web-page use this head tag:</p>\n<pre><code>&lt;head&gt;\n  &lt;title&gt;Product Manager&lt;/title&gt;\n  &lt;meta charset=&quot;utf-8&quot;/&gt;\n  &lt;meta http-equiv=&quot;refresh&quot; content=&quot;5&quot;&gt;\n&lt;/head&gt;\n</code></pre>\n<p>But if the data only changes from time to time, I would use pushing (instead of pulling).</p>\n<p>For example with HTML5 server-sent-events:\n<a href=\"https://www.w3schools.com/html/html5_serversentevents.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/html/html5_serversentevents.asp</a></p>\n<p>You can query the db table with a spring boot scheduler every 5 seconds, or you can use messaging on the server side whenever the data changes. (Which I would prefer. This could reduce the CPU load and bandwidth and be more sustainable.)</p>\n"},{"tags":[],"owner":{"account_id":20251223,"reputation":146,"user_id":16662014,"display_name":"Abu Hurairah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671263140,"creation_date":1671263140,"answer_id":74832538,"question_id":74694006,"body_markdown":"Make a while loop that sleeps for 5 seconds and then fetches data from the database and updates the DOM. Do it in javascript. ","title":"Refresh data from database constantly","body":"<p>Make a while loop that sleeps for 5 seconds and then fetches data from the database and updates the DOM. Do it in javascript.</p>\n"},{"tags":[],"owner":{"account_id":7235145,"reputation":1198,"user_id":5520677,"display_name":"Radu M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671269754,"creation_date":1671269754,"answer_id":74833073,"question_id":74694006,"body_markdown":"I think that what you try to do, is not possible without a different architecture, because you have here a server side rendered page which does not use websockets or something similar.\r\n\r\nIn a &quot;modern world&quot;, you would have a Websocket Client connected to your Backend, which gets informed in real time, when there are changes to your Database Table. (regardless of the reactive way you know that the data changed or by using &quot;primitive polling to your database table&quot; in your backend and then pushing the changes on the websocket)\r\n\r\nBut if you want to leave it the way you have it now, I see only two options:\r\n1. Try some AJAX, that updates this DOM Element periodically\r\n2. Refresh the Page with JavaScript every X seconds, which in turn will reload the data, by performing the Rest API Call again","title":"Refresh data from database constantly","body":"<p>I think that what you try to do, is not possible without a different architecture, because you have here a server side rendered page which does not use websockets or something similar.</p>\n<p>In a &quot;modern world&quot;, you would have a Websocket Client connected to your Backend, which gets informed in real time, when there are changes to your Database Table. (regardless of the reactive way you know that the data changed or by using &quot;primitive polling to your database table&quot; in your backend and then pushing the changes on the websocket)</p>\n<p>But if you want to leave it the way you have it now, I see only two options:</p>\n<ol>\n<li>Try some AJAX, that updates this DOM Element periodically</li>\n<li>Refresh the Page with JavaScript every X seconds, which in turn will reload the data, by performing the Rest API Call again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1130138,"reputation":2050,"user_id":1116434,"accept_rate":60,"display_name":"Anass Kartit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671276285,"creation_date":1671274598,"answer_id":74833539,"question_id":74694006,"body_markdown":"While you can still use javascript setInterval function to call the api like this:\r\n\r\n    setInterval(function() {\r\n      $.ajax({\r\n        url: &#39;http://yourserver.com/getproductlist&#39;,\r\n        type: &#39;GET&#39;,\r\n        success: function(data) {\r\n          // your code to refresh the table here\r\n        }\r\n      });\r\n    }, 5000);\r\n\r\nYour will : \r\n1. overloading the server, imagine thousands of people refreshing every 5 seconds.\r\n2. risk of displaying old data: data will be 5 seconds old (example product can be out of stock).\r\n\r\nA better choice would be to use real time solution using websocket and messaging using something like RabbitMQ:\r\n\r\nRabbitMQ will send updates to the client when the data in the database is changed (trigger could help). This way, the client only receives updates when there is new data, rather than constantly polling the server for updates.\r\nif you are hosting your solution in azure you can use azure storage queues or service bus, in AWS you can use SQS.\r\na similar question is here: https://stackoverflow.com/questions/25947790/real-time-updates-from-database-using-jsf-java-ee","title":"Refresh data from database constantly","body":"<p>While you can still use javascript setInterval function to call the api like this:</p>\n<pre><code>setInterval(function() {\n  $.ajax({\n    url: 'http://yourserver.com/getproductlist',\n    type: 'GET',\n    success: function(data) {\n      // your code to refresh the table here\n    }\n  });\n}, 5000);\n</code></pre>\n<p>Your will :</p>\n<ol>\n<li>overloading the server, imagine thousands of people refreshing every 5 seconds.</li>\n<li>risk of displaying old data: data will be 5 seconds old (example product can be out of stock).</li>\n</ol>\n<p>A better choice would be to use real time solution using websocket and messaging using something like RabbitMQ:</p>\n<p>RabbitMQ will send updates to the client when the data in the database is changed (trigger could help). This way, the client only receives updates when there is new data, rather than constantly polling the server for updates.\nif you are hosting your solution in azure you can use azure storage queues or service bus, in AWS you can use SQS.\na similar question is here: <a href=\"https://stackoverflow.com/questions/25947790/real-time-updates-from-database-using-jsf-java-ee\">Real time updates from database using JSF/Java EE</a></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1671276285,"creation_date":1670271885,"question_id":74694006,"body_markdown":"I have this Spring VMC table which I would like to display:\r\n\r\n    @Controller\r\n    public class FileImportsController {\r\n    \r\n        private EntityImportRequestsService entityImportRequestsService;\r\n    \r\n        @Autowired\r\n        public FileImportsController(EntityImportRequestsService entityImportRequestsService) {\r\n            this.entityImportRequestsService = entityImportRequestsService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/imported_files&quot;)\r\n        public String viewHomePage(Model model) {\r\n            List&lt;EntityImportRequestsTable&gt; listProducts = entityImportRequestsService.findAll();\r\n            model.addAttribute(&quot;listProducts&quot;, listProducts);\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n    }\r\n\r\npage:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;utf-8&quot;/&gt;\r\n      &lt;title&gt;Product Manager&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n      &lt;h1&gt;Product List&lt;/h1&gt;\r\n      &lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n          &lt;th&gt;Product ID&lt;/th&gt;\r\n          &lt;th&gt;Name&lt;/th&gt;\r\n          &lt;th&gt;Brand&lt;/th&gt;\r\n          &lt;th&gt;Made In&lt;/th&gt;\r\n          &lt;th&gt;Price&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr th:each=&quot;product : ${listProducts}&quot;&gt;\r\n          &lt;td th:text=&quot;${product.requestId}&quot;&gt;Product ID&lt;/td&gt;\r\n          &lt;td th:text=&quot;${product.name}&quot;&gt;Name&lt;/td&gt;\r\n          &lt;td th:text=&quot;${product.brand}&quot;&gt;Brand&lt;/td&gt;\r\n          &lt;td th:text=&quot;${product.madein}&quot;&gt;Made in&lt;/td&gt;\r\n          &lt;td th:text=&quot;${product.price}&quot;&gt;Price&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHow I can pull database table data every 5 seconds and refresh the table data?","title":"Refresh data from database constantly","body":"<p>I have this Spring VMC table which I would like to display:</p>\n<pre><code>@Controller\npublic class FileImportsController {\n\n    private EntityImportRequestsService entityImportRequestsService;\n\n    @Autowired\n    public FileImportsController(EntityImportRequestsService entityImportRequestsService) {\n        this.entityImportRequestsService = entityImportRequestsService;\n    }\n\n    @GetMapping(&quot;/imported_files&quot;)\n    public String viewHomePage(Model model) {\n        List&lt;EntityImportRequestsTable&gt; listProducts = entityImportRequestsService.findAll();\n        model.addAttribute(&quot;listProducts&quot;, listProducts);\n        return &quot;index&quot;;\n    }\n\n}\n</code></pre>\n<p>page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;utf-8&quot;/&gt;\n  &lt;title&gt;Product Manager&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=&quot;center&quot;&gt;\n  &lt;h1&gt;Product List&lt;/h1&gt;\n  &lt;table border=&quot;1&quot; cellpadding=&quot;10&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Product ID&lt;/th&gt;\n      &lt;th&gt;Name&lt;/th&gt;\n      &lt;th&gt;Brand&lt;/th&gt;\n      &lt;th&gt;Made In&lt;/th&gt;\n      &lt;th&gt;Price&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr th:each=&quot;product : ${listProducts}&quot;&gt;\n      &lt;td th:text=&quot;${product.requestId}&quot;&gt;Product ID&lt;/td&gt;\n      &lt;td th:text=&quot;${product.name}&quot;&gt;Name&lt;/td&gt;\n      &lt;td th:text=&quot;${product.brand}&quot;&gt;Brand&lt;/td&gt;\n      &lt;td th:text=&quot;${product.madein}&quot;&gt;Made in&lt;/td&gt;\n      &lt;td th:text=&quot;${product.price}&quot;&gt;Price&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>How I can pull database table data every 5 seconds and refresh the table data?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9422,"page":801,"page_size":100}
