{"items":[{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1444925466,"post_id":33153271,"comment_id":54116241,"body_markdown":"I don&#39;t think there is a way to bypass this behavior other than writing your own method. Or just rename the field to `fooin` maybe without the uppercase ?","body":"I don&#39;t think there is a way to bypass this behavior other than writing your own method. Or just rename the field to <code>fooin</code> maybe without the uppercase ?"}],"answers":[{"tags":[],"owner":{"account_id":2777930,"reputation":2390,"user_id":2391110,"display_name":"Ben M."},"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1445025398,"creation_date":1445025398,"answer_id":33178614,"question_id":33153271,"body_markdown":"To overcome this problem, I&#39;ve defined the query manually using the `@Query` annotation.  I&#39;ll happily accept anyone else&#39;s answer if they find a solution that doesn&#39;t require a manual query.\r\n\r\n    public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\r\n        \r\n        @Query(&quot;SELECT t FROM Thing t WHERE t.fooIn = ?1 AND t.bar = ?2&quot;)\r\n        ThingEntity findByFooInAndBar(String fooIn, String bar);\r\n    }","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>To overcome this problem, I've defined the query manually using the <code>@Query</code> annotation.  I'll happily accept anyone else's answer if they find a solution that doesn't require a manual query.</p>\n\n<pre><code>public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\n\n    @Query(\"SELECT t FROM Thing t WHERE t.fooIn = ?1 AND t.bar = ?2\")\n    ThingEntity findByFooInAndBar(String fooIn, String bar);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9501435,"reputation":121,"user_id":7062370,"display_name":"Oscar E. Rodr&#237;guez G&#243;mez"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1609457808,"creation_date":1477276341,"answer_id":40209934,"question_id":33153271,"body_markdown":"Spring is parsing &#39;In&#39; in your method to create the query. Check the link for create your query: you should change the name of the variable `fooIn` to `fooin` or something like that...\r\n\r\n - [Query creation][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Spring is parsing 'In' in your method to create the query. Check the link for create your query: you should change the name of the variable <code>fooIn</code> to <code>fooin</code> or something like that...</p>\n<ul>\n<li><a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">Query creation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16107556,"reputation":11,"user_id":11626689,"display_name":"Rog Tebs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560186625,"creation_date":1560184892,"answer_id":56530326,"question_id":33153271,"body_markdown":"I observed the code kindly and notice your return is not a `list` but an `object`.   \r\nChange that part to `List&lt;ThingEntity&gt;`.","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>I observed the code kindly and notice your return is not a <code>list</code> but an <code>object</code>.<br>\nChange that part to <code>List&lt;ThingEntity&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":19862995,"reputation":1,"user_id":14550979,"display_name":"Jayesh Ghare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677910308,"creation_date":1677910308,"answer_id":75633993,"question_id":33153271,"body_markdown":"Instead you can use native sql query which is more easier to use.\r\n**here &#39;?&#39; stands for the parameter that you are passing**.\r\n\r\n\r\n\r\n    @Repository\r\n    public interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\r\n    \t\t @Query(value = &quot;SELECT * FROM user WHERE username=?&quot;,nativeQuery = true)\r\n    \t\t public User findByUsername(String username);\r\n    }\r\n\r\n","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Instead you can use native sql query which is more easier to use.\n<strong>here '?' stands for the parameter that you are passing</strong>.</p>\n<pre><code>@Repository\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt;{\n         @Query(value = &quot;SELECT * FROM user WHERE username=?&quot;,nativeQuery = true)\n         public User findByUsername(String username);\n}\n</code></pre>\n"}],"owner":{"account_id":2777930,"reputation":2390,"user_id":2391110,"display_name":"Ben M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145907,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":33178614,"answer_count":4,"score":43,"last_activity_date":1677910308,"creation_date":1444924828,"question_id":33153271,"body_markdown":"Here is a simplified example of my problem.  I have this repository and entity class.\r\n\r\n    public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\r\n        ThingEntity findByFooInAndBar(String fooIn, String bar);\r\n    }\r\n\r\n    @Entity\r\n    public class ThingEntity {\r\n        @Column(name=&quot;FOO_IN&quot;, nullable=false, length=1)\r\n        private String fooIn;\r\n\r\n        public String getFooIn() {\r\n            return fooIn;\r\n        }\r\n\r\n        public setFooIn(String fooIn) {\r\n            this.fooIn = fooIn;\r\n        }\r\n\r\n        /* not including bar property for brevity&#39;s sake */\r\n    }\r\n\r\nSpring is throwing the following exception.\r\n\r\n    org.springframework.data.mapping.PropertyReferenceException: No property foo found for type ThingEntity!\r\n\r\nIt looks like Spring is taking the method `findByFooInAndBar` and thinks that `foo` is my property name and `in` is a keyword for matching values within a collection.\r\n\r\nHow do I get it to understand that the property name is `fooIn`, not `foo`?","title":"How do you create a Spring JPA repository findBy query using a property that contains a keyword?","body":"<p>Here is a simplified example of my problem.  I have this repository and entity class.</p>\n\n<pre><code>public interface ThingRepository extends JpaRepository&lt;ThingEntity, Long&gt; {\n    ThingEntity findByFooInAndBar(String fooIn, String bar);\n}\n\n@Entity\npublic class ThingEntity {\n    @Column(name=\"FOO_IN\", nullable=false, length=1)\n    private String fooIn;\n\n    public String getFooIn() {\n        return fooIn;\n    }\n\n    public setFooIn(String fooIn) {\n        this.fooIn = fooIn;\n    }\n\n    /* not including bar property for brevity's sake */\n}\n</code></pre>\n\n<p>Spring is throwing the following exception.</p>\n\n<pre><code>org.springframework.data.mapping.PropertyReferenceException: No property foo found for type ThingEntity!\n</code></pre>\n\n<p>It looks like Spring is taking the method <code>findByFooInAndBar</code> and thinks that <code>foo</code> is my property name and <code>in</code> is a keyword for matching values within a collection.</p>\n\n<p>How do I get it to understand that the property name is <code>fooIn</code>, not <code>foo</code>?</p>\n"},{"tags":["java","android-studio","android-debug","voice-recording"],"owner":{"account_id":27449488,"reputation":1,"user_id":20942005,"display_name":"Talha Waris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677909483,"creation_date":1677909483,"question_id":75633943,"body_markdown":"**RecordFragment**\r\nI build a voice recording app Problem is that i give every permissions but when i install my app and click on the record Button Neither the dialogue permission box is open for asking to users and nor the button is changed on clicking the record button for recording. I have checked all my mobile setting for permission but there is no any issue. \r\n\r\n `private NavController navController;\r\n\r\n    // listImage view on record fragment\r\n    private ImageButton list_btn;\r\n    private ImageButton record_btn;\r\n    private boolean isRecording = false;\r\n    private static final String recordPermissions = Manifest.permission.RECORD_AUDIO;\r\n    private static final int PERMISSION_CODE = 210;\r\n    public RecordFragment(){\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState){\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_record, container, false);\r\n    }\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        navController = Navigation.findNavController(view);\r\n        list_btn = view.findViewById(R.id.list_btn);\r\n        record_btn = view.findViewById(R.id.record_btn);\r\n\r\n        list_btn.setOnClickListener(this);\r\n        record_btn.setOnClickListener(this);\r\n    }\r\n    @Override\r\n    public void onClick(View view){\r\n        switch (view.getId()){\r\n            case R.id.list_btn:\r\n                navController.navigate(R.id.action_recordFragment_to_audioListFragment);\r\n                break;\r\n\r\n            case R.id.record_btn:\r\n                if (isRecording){\r\n                    // stop Recording\r\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red, null));\r\n                    isRecording = false;\r\n                } else{\r\n                    // start Recording\r\n                    if (checkPermissions()){\r\n                        record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_re, null));\r\n                        isRecording = true;\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n  `  private boolean checkPermissions(){\r\n        // if we have permissions to record\r\n        Log.d(&quot;RecordFragment&quot;, &quot;checkPermissions() called&quot;);\r\n        if (ActivityCompat.checkSelfPermission(getContext(), recordPermissions) == PackageManager.PERMISSION_GRANTED){\r\n            return true;\r\n        } else{\r\n            ActivityCompat.requestPermissions(getActivity(), new String[]{recordPermissions}, PERMISSION_CODE);\r\n            return false;\r\n        }\r\n    }`\r\n\r\n    `@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults){\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode){\r\n            case PERMISSION_CODE:\r\n                if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // permission granted, start recording\r\n                    Log.d(&quot;RecordFragment&quot;, &quot;mic_re drawable ID: &quot; + R.drawable.mic_red);\r\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red,               null));\r\n                    isRecording = true;\r\n                } else{\r\n                    // permission denied, show message\r\n                    Toast.makeText(getContext(), &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n}``\r\n\r\n\r\n**AndriodManifest.xml**\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    `&lt;uses-permission android:name=&quot;android.Manifest.permissions.RECORD_AUDIO&quot;/&gt;`\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.VoiceRecording&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;`","title":"unable to open android.permission.RECORD_AUDIO permissions dialogue box and change record Button on clicking for recording","body":"<p><strong>RecordFragment</strong>\nI build a voice recording app Problem is that i give every permissions but when i install my app and click on the record Button Neither the dialogue permission box is open for asking to users and nor the button is changed on clicking the record button for recording. I have checked all my mobile setting for permission but there is no any issue.</p>\n<p>`private NavController navController;</p>\n<pre><code>// listImage view on record fragment\nprivate ImageButton list_btn;\nprivate ImageButton record_btn;\nprivate boolean isRecording = false;\nprivate static final String recordPermissions = Manifest.permission.RECORD_AUDIO;\nprivate static final int PERMISSION_CODE = 210;\npublic RecordFragment(){\n    // Required empty public constructor\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState){\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_record, container, false);\n}\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    navController = Navigation.findNavController(view);\n    list_btn = view.findViewById(R.id.list_btn);\n    record_btn = view.findViewById(R.id.record_btn);\n\n    list_btn.setOnClickListener(this);\n    record_btn.setOnClickListener(this);\n}\n@Override\npublic void onClick(View view){\n    switch (view.getId()){\n        case R.id.list_btn:\n            navController.navigate(R.id.action_recordFragment_to_audioListFragment);\n            break;\n\n        case R.id.record_btn:\n            if (isRecording){\n                // stop Recording\n                record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red, null));\n                isRecording = false;\n            } else{\n                // start Recording\n                if (checkPermissions()){\n                    record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_re, null));\n                    isRecording = true;\n                }\n            }\n            break;\n    }\n\n}\n</code></pre>\n<p><code>  private boolean checkPermissions(){ // if we have permissions to record Log.d(&quot;RecordFragment&quot;, &quot;checkPermissions() called&quot;); if (ActivityCompat.checkSelfPermission(getContext(), recordPermissions) == PackageManager.PERMISSION_GRANTED){ return true; } else{ ActivityCompat.requestPermissions(getActivity(), new String[]{recordPermissions}, PERMISSION_CODE); return false; } }</code></p>\n<pre><code>`@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults){\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode){\n        case PERMISSION_CODE:\n            if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // permission granted, start recording\n                Log.d(&quot;RecordFragment&quot;, &quot;mic_re drawable ID: &quot; + R.drawable.mic_red);\n                record_btn.setImageDrawable(getResources().getDrawable(R.drawable.mic_red,               null));\n                isRecording = true;\n            } else{\n                // permission denied, show message\n                Toast.makeText(getContext(), &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            break;\n    }\n}\n</code></pre>\n<p>}``</p>\n<p><strong>AndriodManifest.xml</strong>\n`\n</p>\n<pre><code>`&lt;uses-permission android:name=&quot;android.Manifest.permissions.RECORD_AUDIO&quot;/&gt;`\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.VoiceRecording&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.app.lib_name&quot;\n            android:value=&quot;&quot; /&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","themes","codenameone","blogs","android-theme"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677909305,"creation_date":1677909305,"answer_id":75633934,"question_id":75631240,"body_markdown":"The class `AjoutBlogForm` expects an object of type `Blog` in the constructor. Notice that `theme` is defined in `MyApplication` as a `Resources` type. Those are separate classes that have no common ancestor as `Blog` is a class you defined with a distinct purpose. \r\n\r\nFrom the code you posted I don&#39;t understand why you pass `blog` in the constructor since it doesn&#39;t seem like you&#39;re using it at all. I suggest removing the entry from the constructor and changing the call to pass no arguments.","title":"Codename one &quot;theme&quot; passed on parameter doesnt work","body":"<p>The class <code>AjoutBlogForm</code> expects an object of type <code>Blog</code> in the constructor. Notice that <code>theme</code> is defined in <code>MyApplication</code> as a <code>Resources</code> type. Those are separate classes that have no common ancestor as <code>Blog</code> is a class you defined with a distinct purpose.</p>\n<p>From the code you posted I don't understand why you pass <code>blog</code> in the constructor since it doesn't seem like you're using it at all. I suggest removing the entry from the constructor and changing the call to pass no arguments.</p>\n"}],"owner":{"account_id":22856871,"reputation":11,"user_id":17001598,"display_name":"Ons kh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677909305,"creation_date":1677872300,"question_id":75631240,"body_markdown":"i have in package `com.mycompany.myapp` this file `MyApplication.java` that has a start function like this \r\n```\r\npublic void start() {\r\n        if(current != null){\r\n            current.show();\r\n            return;\r\n        }\r\n        new AjoutBlogForm(theme).show();\r\n    }\r\n```\r\nbut the `theme` passed in parameter doesnt want to work it shows &#39;incompatible types: recources cannot be converted to Blog&#39;\r\n\r\nin my class `AjoutBlogForm` i have this :\r\n\r\n```\r\npublic class AjoutBlogForm extends BaseForm {\r\n\r\n    Form current;\r\n    public AjoutBlogForm(Blog blog) {\r\n        super(&quot;Newsfeed&quot;,BoxLayout.y()); //herigate men Newsfeed w l formulaire vertical\r\n    \r\n        Toolbar tb = new Toolbar(true);\r\n        current = this ;\r\n        setToolbar(tb);\r\n        getTitleArea().setUIID(&quot;Container&quot;);\r\n        setTitle(&quot;Ajout Blog&quot;);\r\n        getContentPane().setScrollVisible(false);\r\n        \r\n        //\r\n\r\n        TextField titre = new TextField(&quot;&quot;, &quot;entrer Titre!!&quot;);\r\n        titre.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;titre&quot;,titre);\r\n        \r\n        TextField contenu = new TextField(&quot;&quot;, &quot;entrer contenu!!&quot;);\r\n        contenu.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;contenu&quot;,contenu);\r\n\r\n        TextField imageBlog = new TextField(&quot;&quot;, &quot;entrer image!!&quot;);\r\n        imageBlog.setUIID(&quot;TextFieldBlack&quot;);\r\n        addStringValue(&quot;imageBlog&quot;,imageBlog);\r\n        \r\n        \r\n        Button btnAjouter = new Button(&quot;Ajouter&quot;);\r\n        addStringValue(&quot;&quot;, btnAjouter);\r\n        \r\n        \r\n        //onclick button event \r\n        btnAjouter.addActionListener((e) -&gt; {\r\n            try {\r\n                \r\n                if(titre.getText().equals(&quot;&quot;) || contenu.getText().equals(&quot;&quot;) || imageBlog.getText().equals(&quot;&quot;)) {\r\n                    Dialog.show(&quot;Veuillez v&#233;rifier les donn&#233;es&quot;,&quot;&quot;,&quot;Annuler&quot;, &quot;OK&quot;);\r\n                }\r\n                \r\n                else {\r\n                    InfiniteProgress ip = new InfiniteProgress();; //Loading  after insert data\r\n                    final Dialog iDialog = ip.showInfiniteBlocking();\r\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                    \r\n                    //njibo iduser men session (current user)\r\n                    Blog b = new Blog(\r\n                                  String.valueOf(titre.getText()).toString(),\r\n                                  String.valueOf(contenu.getText()).toString(),\r\n                                  format.format(new Date()),\r\n                                  format.format(new Date()),\r\n                                  String.valueOf(imageBlog.getText()).toString(),\r\n                                  0);\r\n                    \r\n                    System.out.println(&quot;data  blog == &quot;+b);\r\n\r\n \r\n                    ServicesBlog.getInstance().ajoutBlog(b);\r\n                    \r\n                    iDialog.dispose();\r\n\r\n                    refreshTheme();//Actualisation\r\n                }\r\n            }catch(Exception ex ) {\r\n                ex.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void addStringValue(String s, Component v) {\r\n        add(BorderLayout.west(new Label(s,&quot;PaddedLabel&quot;))\r\n        .add(BorderLayout.CENTER,v));\r\n        add(createLineSeparator(0xeeeeee));\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nand in my entity is this :\r\n\r\n```\r\npublic class Blog {\r\n\r\n    private int id;\r\n    private String titre, contenu;\r\n    private String dateCreation,dateModification;\r\n    private String imageBlog;\r\n    private int etat;\r\n\r\n    public Blog() {\r\n    }\r\n\r\n    public Blog(String titre, String contenu) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n    }\r\n\r\n    public Blog(String titre, String contenu, String imageBlog, int etat) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public Blog(String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.dateCreation = dateCreation;\r\n        this.dateModification = dateModification;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public Blog(int id, String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\r\n        this.id = id;\r\n        this.titre = titre;\r\n        this.contenu = contenu;\r\n        this.dateCreation = dateCreation;\r\n        this.dateModification = dateModification;\r\n        this.imageBlog = imageBlog;\r\n        this.etat = etat;\r\n    }\r\n\r\n    public String getImageBlog() {\r\n        return imageBlog;\r\n    }\r\n\r\n    public void setImageBlog(String imageBlog) {\r\n        this.imageBlog = imageBlog;\r\n    }\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getTitre() {\r\n        return titre;\r\n    }\r\n\r\n    public String getContenu() {\r\n        return contenu;\r\n    }\r\n\r\n    public String getDateCreation() {\r\n        return dateCreation;\r\n    }\r\n\r\n    public String getDateModification() {\r\n        return dateModification;\r\n    }\r\n\r\n    public int getEtat() {\r\n        return etat;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setTitre(String titre) {\r\n        this.titre = titre;\r\n    }\r\n\r\n    public void setContenu(String contenu) {\r\n        this.contenu = contenu;\r\n    }\r\n\r\n    public void setDateCreation(String dateCreation) {\r\n        this.dateCreation = dateCreation;\r\n    }\r\n\r\n    public void setDateModification(String dateModification) {\r\n        this.dateModification = dateModification;\r\n    }\r\n\r\n    public void setEtat(int etat) {\r\n        this.etat = etat;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni tried rebuilding the project multiple times, it works for other functions of the templates just it doesnt work for AjoutBlogForm.\r\ni was expecting the theme to work and to be able to add the blog.","title":"Codename one &quot;theme&quot; passed on parameter doesnt work","body":"<p>i have in package <code>com.mycompany.myapp</code> this file <code>MyApplication.java</code> that has a start function like this</p>\n<pre><code>public void start() {\n        if(current != null){\n            current.show();\n            return;\n        }\n        new AjoutBlogForm(theme).show();\n    }\n</code></pre>\n<p>but the <code>theme</code> passed in parameter doesnt want to work it shows 'incompatible types: recources cannot be converted to Blog'</p>\n<p>in my class <code>AjoutBlogForm</code> i have this :</p>\n<pre><code>public class AjoutBlogForm extends BaseForm {\n\n    Form current;\n    public AjoutBlogForm(Blog blog) {\n        super(&quot;Newsfeed&quot;,BoxLayout.y()); //herigate men Newsfeed w l formulaire vertical\n    \n        Toolbar tb = new Toolbar(true);\n        current = this ;\n        setToolbar(tb);\n        getTitleArea().setUIID(&quot;Container&quot;);\n        setTitle(&quot;Ajout Blog&quot;);\n        getContentPane().setScrollVisible(false);\n        \n        //\n\n        TextField titre = new TextField(&quot;&quot;, &quot;entrer Titre!!&quot;);\n        titre.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;titre&quot;,titre);\n        \n        TextField contenu = new TextField(&quot;&quot;, &quot;entrer contenu!!&quot;);\n        contenu.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;contenu&quot;,contenu);\n\n        TextField imageBlog = new TextField(&quot;&quot;, &quot;entrer image!!&quot;);\n        imageBlog.setUIID(&quot;TextFieldBlack&quot;);\n        addStringValue(&quot;imageBlog&quot;,imageBlog);\n        \n        \n        Button btnAjouter = new Button(&quot;Ajouter&quot;);\n        addStringValue(&quot;&quot;, btnAjouter);\n        \n        \n        //onclick button event \n        btnAjouter.addActionListener((e) -&gt; {\n            try {\n                \n                if(titre.getText().equals(&quot;&quot;) || contenu.getText().equals(&quot;&quot;) || imageBlog.getText().equals(&quot;&quot;)) {\n                    Dialog.show(&quot;Veuillez vérifier les données&quot;,&quot;&quot;,&quot;Annuler&quot;, &quot;OK&quot;);\n                }\n                \n                else {\n                    InfiniteProgress ip = new InfiniteProgress();; //Loading  after insert data\n                    final Dialog iDialog = ip.showInfiniteBlocking();\n                    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n                    \n                    //njibo iduser men session (current user)\n                    Blog b = new Blog(\n                                  String.valueOf(titre.getText()).toString(),\n                                  String.valueOf(contenu.getText()).toString(),\n                                  format.format(new Date()),\n                                  format.format(new Date()),\n                                  String.valueOf(imageBlog.getText()).toString(),\n                                  0);\n                    \n                    System.out.println(&quot;data  blog == &quot;+b);\n\n \n                    ServicesBlog.getInstance().ajoutBlog(b);\n                    \n                    iDialog.dispose();\n\n                    refreshTheme();//Actualisation\n                }\n            }catch(Exception ex ) {\n                ex.printStackTrace();\n            }\n        });\n    }\n\n\n    private void addStringValue(String s, Component v) {\n        add(BorderLayout.west(new Label(s,&quot;PaddedLabel&quot;))\n        .add(BorderLayout.CENTER,v));\n        add(createLineSeparator(0xeeeeee));\n    }\n    \n}\n\n</code></pre>\n<p>and in my entity is this :</p>\n<pre><code>public class Blog {\n\n    private int id;\n    private String titre, contenu;\n    private String dateCreation,dateModification;\n    private String imageBlog;\n    private int etat;\n\n    public Blog() {\n    }\n\n    public Blog(String titre, String contenu) {\n        this.titre = titre;\n        this.contenu = contenu;\n    }\n\n    public Blog(String titre, String contenu, String imageBlog, int etat) {\n        this.titre = titre;\n        this.contenu = contenu;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public Blog(String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\n        this.titre = titre;\n        this.contenu = contenu;\n        this.dateCreation = dateCreation;\n        this.dateModification = dateModification;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public Blog(int id, String titre, String contenu, String dateCreation, String dateModification, String imageBlog, int etat) {\n        this.id = id;\n        this.titre = titre;\n        this.contenu = contenu;\n        this.dateCreation = dateCreation;\n        this.dateModification = dateModification;\n        this.imageBlog = imageBlog;\n        this.etat = etat;\n    }\n\n    public String getImageBlog() {\n        return imageBlog;\n    }\n\n    public void setImageBlog(String imageBlog) {\n        this.imageBlog = imageBlog;\n    }\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getTitre() {\n        return titre;\n    }\n\n    public String getContenu() {\n        return contenu;\n    }\n\n    public String getDateCreation() {\n        return dateCreation;\n    }\n\n    public String getDateModification() {\n        return dateModification;\n    }\n\n    public int getEtat() {\n        return etat;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setTitre(String titre) {\n        this.titre = titre;\n    }\n\n    public void setContenu(String contenu) {\n        this.contenu = contenu;\n    }\n\n    public void setDateCreation(String dateCreation) {\n        this.dateCreation = dateCreation;\n    }\n\n    public void setDateModification(String dateModification) {\n        this.dateModification = dateModification;\n    }\n\n    public void setEtat(int etat) {\n        this.etat = etat;\n    }\n}\n</code></pre>\n<p>i tried rebuilding the project multiple times, it works for other functions of the templates just it doesnt work for AjoutBlogForm.\ni was expecting the theme to work and to be able to add the blog.</p>\n"},{"tags":["java","spring-boot","jakarta-mail","sendmail","send"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1677929989,"post_id":75633889,"comment_id":133436753,"body_markdown":"Is there an antivirus software involved? Sometimes they interfere by setting up a transparent proxy and this might explain the delay.","body":"Is there an antivirus software involved? Sometimes they interfere by setting up a transparent proxy and this might explain the delay."}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677908643,"creation_date":1677908643,"question_id":75633889,"body_markdown":"After sending an email I am storing it into a folder using java mail API. The folder.appendMessages takes 8 to 10.005 seconds to store a single message with attachment of 3.26MB.\r\n\r\nBelow is the code,\r\n\r\n```\r\n\tFolder folder = store.getFolder(&quot;Sent&quot;);\r\n\t\tfolder.open(Folder.READ_WRITE);\r\n\t\tmsg.setFlag(Flag.SEEN, true);\r\n\t\tlong previousTime3 = System.currentTimeMillis();\r\n\t\tfolder.appendMessages(new Message[] { msg });\r\n\t\tlong currentTime3 = System.currentTimeMillis();\r\n\r\n\t\tdouble elapsedTime3 = (currentTime3 - previousTime3) / 1000.0;\r\n\t\tSystem.out.println(&quot;Time in seconds--folder.appendMessages :&quot; + elapsedTime3);\r\n```\r\nHow can I reduce this time?","title":"folder.appendMessages takes more time in java mail api while sending email","body":"<p>After sending an email I am storing it into a folder using java mail API. The folder.appendMessages takes 8 to 10.005 seconds to store a single message with attachment of 3.26MB.</p>\n<p>Below is the code,</p>\n<pre><code>    Folder folder = store.getFolder(&quot;Sent&quot;);\n        folder.open(Folder.READ_WRITE);\n        msg.setFlag(Flag.SEEN, true);\n        long previousTime3 = System.currentTimeMillis();\n        folder.appendMessages(new Message[] { msg });\n        long currentTime3 = System.currentTimeMillis();\n\n        double elapsedTime3 = (currentTime3 - previousTime3) / 1000.0;\n        System.out.println(&quot;Time in seconds--folder.appendMessages :&quot; + elapsedTime3);\n</code></pre>\n<p>How can I reduce this time?</p>\n"},{"tags":["java","android"],"owner":{"account_id":27129691,"reputation":1,"user_id":20672071,"display_name":"Gen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677908460,"creation_date":1677908460,"question_id":75633875,"body_markdown":"Is there anyone konw how to fix OpenAiService duplication?\r\nI used gpt-3.5-turbo by OpenAI API and currently OpenAiService works.\r\n`OpenAiService service = new OpenAiService(&quot;API_KEY&quot;);`\r\n\r\nThanks,\r\n\r\nMessage is below.\r\nCreates a new OpenAiService that wraps OpenAiApi\r\nBut I don&#39;t konw how to fix this.","title":"OpenAiService duplicated","body":"<p>Is there anyone konw how to fix OpenAiService duplication?\nI used gpt-3.5-turbo by OpenAI API and currently OpenAiService works.\n<code>OpenAiService service = new OpenAiService(&quot;API_KEY&quot;);</code></p>\n<p>Thanks,</p>\n<p>Message is below.\nCreates a new OpenAiService that wraps OpenAiApi\nBut I don't konw how to fix this.</p>\n"},{"tags":["java","spring-boot","elasticsearch","amazon-ec2","ssl-certificate"],"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677906683,"creation_date":1677774387,"question_id":75618238,"body_markdown":"I have elasticsearch and springboot jar in a single AWS-ec2 box\r\n\r\nI am pushing data from a springboot application to elasticsearch\r\nBoth springboot jar and elastisearch have self generated ssl certificates\r\n\r\nAll restendpoints in the SB-jar works fine with Https call, but the api calls which push data to elasticsearch throws the below error\r\n```\r\njava.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI have imported certificates to trust store using the below commands\r\n\r\n```\r\nkeytool -genkeypair -alias localhost:9200 -keyalg RSA -validity 1000 -keysize 2048 -keystore /home/ec2-user/mycert.jks\r\n\r\nkeytool -export -alias localhost:9200 -keystore /home/ec2-user/mycert.jks -rfc -file /home/ec2-user/mycert1.jks\r\n\r\nkeytool -import -noprompt -trustcacerts -alias localhost:9200 -file /home/ec2-user/mycert1.jks -keystore /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.amzn2.0.1.x86_64/jre/lib/security/cacerts -file mycert1.jks\r\n```\r\nBut still the certificate issue persists. Please let me know what certificate I am missing to add\r\n\r\nVersions used: \r\njava 8 &amp;\r\nelasticsearch 7.16.2","title":"java SSLHandshakeException and elasticsearch","body":"<p>I have elasticsearch and springboot jar in a single AWS-ec2 box</p>\n<p>I am pushing data from a springboot application to elasticsearch\nBoth springboot jar and elastisearch have self generated ssl certificates</p>\n<p>All restendpoints in the SB-jar works fine with Https call, but the api calls which push data to elasticsearch throws the below error</p>\n<pre><code>java.util.concurrent.ExecutionException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I have imported certificates to trust store using the below commands</p>\n<pre><code>keytool -genkeypair -alias localhost:9200 -keyalg RSA -validity 1000 -keysize 2048 -keystore /home/ec2-user/mycert.jks\n\nkeytool -export -alias localhost:9200 -keystore /home/ec2-user/mycert.jks -rfc -file /home/ec2-user/mycert1.jks\n\nkeytool -import -noprompt -trustcacerts -alias localhost:9200 -file /home/ec2-user/mycert1.jks -keystore /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.362.b08-1.amzn2.0.1.x86_64/jre/lib/security/cacerts -file mycert1.jks\n</code></pre>\n<p>But still the certificate issue persists. Please let me know what certificate I am missing to add</p>\n<p>Versions used:\njava 8 &amp;\nelasticsearch 7.16.2</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1677897287,"post_id":75633300,"comment_id":133433605,"body_markdown":"Why is `parameter` optional here?","body":"Why is <code>parameter</code> optional here?"},{"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"score":0,"creation_date":1677898712,"post_id":75633300,"comment_id":133433690,"body_markdown":"I want use CASE expression but I dont&#39;t know where I difine the parameter for that.","body":"I want use CASE expression but I dont&#39;t know where I difine the parameter for that."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677906328,"creation_date":1677899412,"answer_id":75633421,"question_id":75633300,"body_markdown":"I believe you could use-\r\n\r\n    @Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\r\n    &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\r\n    &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\r\n    &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\r\n    &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;)\r\n    List&lt;Word&gt; findWord(int childId, int parameter);\r\n\r\ni.e. : to indicate where the parameter value is to be used (bound). Room knows to bind the same value multiple times\r\n\r\n\r\n**Additional re the comment:-**\r\n\r\n&gt; I partially recant my comment, the query might run, but it is not what the OP intends. The OP&#39;s intended logic is to order by just one column in ascending or descending order. Your answer (and the OP&#39;s original query) are ordering by four columns.\r\n\r\nUsing slightly adapted Query (to not take into account the childId column (to simplify/reduce insertions to suit)) as per:-\r\n\r\n    @Query(\r\n        &quot;SELECT * FROM words /*WHERE childId = :childId*/ ORDER BY &quot; +\r\n                &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\r\n                &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\r\n                &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\r\n                &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;\r\n    )\r\n    fun findWord(/*childId: Int,*/ parameter: Int): List&lt;Words&gt;\r\n\r\nand then using the following code in an activity (allowMainThreadQueries for brevity):-\r\n\r\n        daoDB1.insert(Words(wordName = &quot;C&quot;, datetime = (System.currentTimeMillis() / 1000) - (10 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;Z&quot;, datetime = (System.currentTimeMillis() / 1000) + (8 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;A&quot;, datetime = (System.currentTimeMillis() / 1000) - (7 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;B&quot;, datetime = (System.currentTimeMillis() / 1000) - (8 * onedayAsLong)))\r\n        daoDB1.insert(Words(wordName = &quot;Y&quot;, datetime = (System.currentTimeMillis() / 1000) + (10 * onedayAsLong)))\r\n\r\n\r\n        for (w in daoDB1.findWord(0)) {\r\n            Log.d(&quot;DBINFO_RSLT1&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(1)) {\r\n            Log.d(&quot;DBINFO_RSLT2&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(2)) {\r\n            Log.d(&quot;DBINFO_RSLT3&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(3)) {\r\n            Log.d(&quot;DBINFO_RSLT4&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n        for (w in daoDB1.findWord(99 /*&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; OOOPS??? &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;*/)) {\r\n            Log.d(&quot;DBINFO_RSLT5&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\r\n        }\r\n\r\n\r\nThen the result in the log is:-\r\n\r\n\r\n    2023-03-04 15:42:56.237 D/DBINFO_RSLT1: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is C DateTime is 1669264976 ID is 1\r\n\r\n\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Y DateTime is 1686544976 ID is 5\r\n    \r\n    \r\n    2023-03-04 15:42:56.245 D/DBINFO_RSLT3: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is A DateTime is 1671856976 ID is 3\r\n    \r\n    \r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is Y DateTime is 1686544976 ID is 5\r\n    2023-03-04 15:42:56.250 D/DBINFO_RSLT4: Word is Z DateTime is 1684816976 ID is 2\r\n    \r\n    \r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is C DateTime is 1669264976 ID is 1\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Z DateTime is 1684816976 ID is 2\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is A DateTime is 1671856976 ID is 3\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is B DateTime is 1670992976 ID is 4\r\n    2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Y DateTime is 1686544976 ID is 5\r\n\r\n- i.e. all appear to be sorted as probably expected (last set RSLT5 purposefully not meeting any of the CASE conditions).","title":"ROOM ORDER BY CASE: Where Can I define the optional parameter?","body":"<p>I believe you could use-</p>\n<pre><code>@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\n&quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\n&quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\n&quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\n&quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;)\nList&lt;Word&gt; findWord(int childId, int parameter);\n</code></pre>\n<p>i.e. : to indicate where the parameter value is to be used (bound). Room knows to bind the same value multiple times</p>\n<p><strong>Additional re the comment:-</strong></p>\n<blockquote>\n<p>I partially recant my comment, the query might run, but it is not what the OP intends. The OP's intended logic is to order by just one column in ascending or descending order. Your answer (and the OP's original query) are ordering by four columns.</p>\n</blockquote>\n<p>Using slightly adapted Query (to not take into account the childId column (to simplify/reduce insertions to suit)) as per:-</p>\n<pre><code>@Query(\n    &quot;SELECT * FROM words /*WHERE childId = :childId*/ ORDER BY &quot; +\n            &quot;CASE WHEN :parameter = 0 THEN dateTime END DESC, &quot; +\n            &quot;CASE WHEN :parameter = 1 THEN dateTime END ASC, &quot; +\n            &quot;CASE WHEN :parameter = 2 THEN wordName END DESC, &quot; +\n            &quot;CASE WHEN :parameter = 3 THEN wordName END ASC&quot;\n)\nfun findWord(/*childId: Int,*/ parameter: Int): List&lt;Words&gt;\n</code></pre>\n<p>and then using the following code in an activity (allowMainThreadQueries for brevity):-</p>\n<pre><code>    daoDB1.insert(Words(wordName = &quot;C&quot;, datetime = (System.currentTimeMillis() / 1000) - (10 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;Z&quot;, datetime = (System.currentTimeMillis() / 1000) + (8 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;A&quot;, datetime = (System.currentTimeMillis() / 1000) - (7 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;B&quot;, datetime = (System.currentTimeMillis() / 1000) - (8 * onedayAsLong)))\n    daoDB1.insert(Words(wordName = &quot;Y&quot;, datetime = (System.currentTimeMillis() / 1000) + (10 * onedayAsLong)))\n\n\n    for (w in daoDB1.findWord(0)) {\n        Log.d(&quot;DBINFO_RSLT1&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(1)) {\n        Log.d(&quot;DBINFO_RSLT2&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(2)) {\n        Log.d(&quot;DBINFO_RSLT3&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(3)) {\n        Log.d(&quot;DBINFO_RSLT4&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n    for (w in daoDB1.findWord(99 /*&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; OOOPS??? &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;*/)) {\n        Log.d(&quot;DBINFO_RSLT5&quot;,&quot;Word is ${w.wordName} DateTime is ${w.datetime} ID is ${w.childId}&quot;)\n    }\n</code></pre>\n<p>Then the result in the log is:-</p>\n<pre><code>2023-03-04 15:42:56.237 D/DBINFO_RSLT1: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.238 D/DBINFO_RSLT1: Word is C DateTime is 1669264976 ID is 1\n\n\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.243 D/DBINFO_RSLT2: Word is Y DateTime is 1686544976 ID is 5\n\n\n2023-03-04 15:42:56.245 D/DBINFO_RSLT3: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.246 D/DBINFO_RSLT3: Word is A DateTime is 1671856976 ID is 3\n\n\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.249 D/DBINFO_RSLT4: Word is Y DateTime is 1686544976 ID is 5\n2023-03-04 15:42:56.250 D/DBINFO_RSLT4: Word is Z DateTime is 1684816976 ID is 2\n\n\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is C DateTime is 1669264976 ID is 1\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Z DateTime is 1684816976 ID is 2\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is A DateTime is 1671856976 ID is 3\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is B DateTime is 1670992976 ID is 4\n2023-03-04 15:42:56.251 D/DBINFO_RSLT5: Word is Y DateTime is 1686544976 ID is 5\n</code></pre>\n<ul>\n<li>i.e. all appear to be sorted as probably expected (last set RSLT5 purposefully not meeting any of the CASE conditions).</li>\n</ul>\n"}],"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75633421,"answer_count":1,"score":0,"last_activity_date":1677906328,"creation_date":1677897171,"question_id":75633300,"body_markdown":"&gt; I would like insert the Query in DAO interface like below.\r\n\r\n```\r\n@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\r\n&quot;CASE WHEN parameter = 0 THEN dateTime END DESC, &quot; +\r\n&quot;CASE WHEN parameter = 1 THEN dateTime END ASC, &quot; +\r\n&quot;CASE WHEN parameter = 2 THEN wordName END DESC, &quot; +\r\n&quot;CASE WHEN parameter = 3 THEN wordName END ASC&quot;)\r\nList&lt;Word&gt; findWord(int childId, int parameter);\r\n```\r\n\r\nBut I can&#39;t figure out where and how define the optional parameter used after CASE WHEN(below).\r\n\r\n```\r\nprivate int parameter;\r\n```\r\n\r\nHow can I get it?\r\nThank you.","title":"ROOM ORDER BY CASE: Where Can I define the optional parameter?","body":"<blockquote>\n<p>I would like insert the Query in DAO interface like below.</p>\n</blockquote>\n<pre><code>@Query(&quot;SELECT * FROM words WHERE childId = :childId ORDER BY &quot; +\n&quot;CASE WHEN parameter = 0 THEN dateTime END DESC, &quot; +\n&quot;CASE WHEN parameter = 1 THEN dateTime END ASC, &quot; +\n&quot;CASE WHEN parameter = 2 THEN wordName END DESC, &quot; +\n&quot;CASE WHEN parameter = 3 THEN wordName END ASC&quot;)\nList&lt;Word&gt; findWord(int childId, int parameter);\n</code></pre>\n<p>But I can't figure out where and how define the optional parameter used after CASE WHEN(below).</p>\n<pre><code>private int parameter;\n</code></pre>\n<p>How can I get it?\nThank you.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1328576770,"creation_date":1328576770,"answer_id":9169693,"question_id":9169673,"body_markdown":"The for loop needs to be in a method, a constructor, or at a bare minimum, between a pair of `{}` brackets.  But probably a constructor.","title":"Illegal start of type for a for loop?","body":"<p>The for loop needs to be in a method, a constructor, or at a bare minimum, between a pair of <code>{}</code> brackets.  But probably a constructor.</p>\n"},{"tags":[],"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328576811,"creation_date":1328576811,"answer_id":9169695,"question_id":9169673,"body_markdown":"It needs to be within a method in the Class. Also the array should be declared like this:\r\n\r\n`Lab3Label[] label = new Lab3Label[9];`","title":"Illegal start of type for a for loop?","body":"<p>It needs to be within a method in the Class. Also the array should be declared like this:</p>\n\n<p><code>Lab3Label[] label = new Lab3Label[9];</code></p>\n"},{"tags":[],"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328576839,"creation_date":1328576839,"answer_id":9169699,"question_id":9169673,"body_markdown":"Your loop code is perfectly legal, but it needs to be inside a method for it to actually be interpreted as code and run. Currently its just sitting inside the class declaration along with the line before it, so the poor compiler has no idea what you want to do with that code or when you want it to run. :D","title":"Illegal start of type for a for loop?","body":"<p>Your loop code is perfectly legal, but it needs to be inside a method for it to actually be interpreted as code and run. Currently its just sitting inside the class declaration along with the line before it, so the poor compiler has no idea what you want to do with that code or when you want it to run. :D</p>\n"},{"tags":[],"owner":{"account_id":96649,"reputation":466,"user_id":262603,"accept_rate":80,"display_name":"warbio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328577136,"creation_date":1328577136,"answer_id":9169730,"question_id":9169673,"body_markdown":"As many already pointed out you need to run the loop from a method. Here is an example:\r\n\r\n    Class Lab3Panel extends JPanel{\r\n\r\n    Lab3Panel () {\r\n\r\n        setLayout(new GridLayout(3,3));\r\n    }\r\n\r\n\r\n    Lab3Label[] label = new Lab3Label[9];\r\n   \r\n    newlabels();\r\n\r\n    public void newlabels()\r\n    {\r\n\r\n      for(int i = 0; i &lt; 9; i++){\r\n\r\n        label[i] = new Lab3Label();\r\n        add(label[i]);\r\n      }\r\n    }\r\n","title":"Illegal start of type for a for loop?","body":"<p>As many already pointed out you need to run the loop from a method. Here is an example:</p>\n\n<pre><code>Class Lab3Panel extends JPanel{\n\nLab3Panel () {\n\n    setLayout(new GridLayout(3,3));\n}\n\n\nLab3Label[] label = new Lab3Label[9];\n\nnewlabels();\n\npublic void newlabels()\n{\n\n  for(int i = 0; i &lt; 9; i++){\n\n    label[i] = new Lab3Label();\n    add(label[i]);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":241834,"reputation":4336,"user_id":512915,"accept_rate":96,"display_name":"Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14469,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":9169693,"answer_count":4,"score":4,"last_activity_date":1677905220,"creation_date":1328576639,"question_id":9169673,"body_markdown":" Why am I getting the error :java:16: error: illegal start of type\r\n\t\t\r\n    for(int i = 0; i &lt; 9; i++){\r\n\r\nI have checked old labs and this is the correct usage of it I thought.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n\r\n    class Lab3Panel extends JPanel {\r\n\r\n\t\tLab3Panel() {\r\n\t\t\tsetLayout(new GridLayout(3,3));\r\n\t\t}\r\n\r\n\t\tLab3Label label[] = new Lab3Label[9];\r\n\r\n\t\tfor (int i = 0; i &lt; 9; i++) {\r\n\t\t\tlabel[i] = new Lab3Label();\r\n\t\t\tadd(label[i]);\r\n\t\t}\r\n\r\n        // ...\r\n    }","title":"Illegal start of type for a for loop?","body":"<p>Why am I getting the error :java:16: error: illegal start of type</p>\n<pre><code>for(int i = 0; i &lt; 9; i++){\n</code></pre>\n<p>I have checked old labs and this is the correct usage of it I thought.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n\nclass Lab3Panel extends JPanel {\n\n    Lab3Panel() {\n        setLayout(new GridLayout(3,3));\n    }\n\n    Lab3Label label[] = new Lab3Label[9];\n\n    for (int i = 0; i &lt; 9; i++) {\n        label[i] = new Lab3Label();\n        add(label[i]);\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":["java","android","string","android-studio"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1677784950,"post_id":75619946,"comment_id":133410934,"body_markdown":"Afaik there&#39;s no such standard API for that, so you will have to code it yourself.","body":"Afaik there&#39;s no such standard API for that, so you will have to code it yourself."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677784966,"post_id":75619946,"comment_id":133410938,"body_markdown":"I put on my examples numbers like 1.1 which i need to be 1.10000 etc.","body":"I put on my examples numbers like 1.1 which i need to be 1.10000 etc."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677785554,"post_id":75619946,"comment_id":133411077,"body_markdown":"%.6f on a number like: 1234 will give a result of 1234.000000 which is now 10 digits. However you have an idea, can you tell me how to check if there is excess digits amd how to cut them?","body":"%.6f on a number like: 1234 will give a result of 1234.000000 which is now 10 digits. However you have an idea, can you tell me how to check if there is excess digits amd how to cut them?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1677785986,"post_id":75619946,"comment_id":133411187,"body_markdown":"( some caution needed for numbers greater than or equal 100_000 or negatives )","body":"( some caution needed for numbers greater than or equal 100_000 or negatives )"},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677786035,"post_id":75619946,"comment_id":133411195,"body_markdown":"&quot;0.01234000&quot;.substring(0, 6) does it count the &#39;.&#39;  also to return 0.0123, or I should use (0, 7) if the &#39;.&#39; has effect also.","body":"&quot;0.01234000&quot;.substring(0, 6) does it count the &#39;.&#39;  also to return 0.0123, or I should use (0, 7) if the &#39;.&#39; has effect also."},{"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"score":0,"creation_date":1677786418,"post_id":75619946,"comment_id":133411282,"body_markdown":"If i use (0, 7) what if the number is 123456.0, it will return a result like 123456. The &#39;.&#39; Included at the end","body":"If i use (0, 7) what if the number is 123456.0, it will return a result like 123456. The &#39;.&#39; Included at the end"}],"answers":[{"tags":[],"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677787333,"creation_date":1677787333,"answer_id":75620307,"question_id":75619946,"body_markdown":"You could use the [DecimalFormat][1] class to format your numbers, then maybe switch on the length of your number and play with the ```setMinimumFractionDigits```, ```setMaximumFractionDigits```, ```setMinimumIntegerDigits``` and ```setMaximumIntegerDigits``` methods to format your number with the number of leading and trailing zeros you want.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>You could use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a> class to format your numbers, then maybe switch on the length of your number and play with the <code>setMinimumFractionDigits</code>, <code>setMaximumFractionDigits</code>, <code>setMinimumIntegerDigits</code> and <code>setMaximumIntegerDigits</code> methods to format your number with the number of leading and trailing zeros you want.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677805322,"creation_date":1677787445,"answer_id":75620325,"question_id":75619946,"body_markdown":"You can use `Math.log10(double)` to discover how many digits are in the number.  Create a variable format specifier using the result:\r\n  \r\n    public static String digitsDemo (double x) {\r\n        int digits = (int) Math.log10 (x);\r\n        String form = &quot;%.&quot; + ( 6 - digits - 1) + &quot;f&quot;;\r\n        return String.format (form, x);\r\n    }\r\n    \r\n    public static void testDigitsDemo () {\r\n        double [] a = { 1.01234, 10.1234, 101.234, 1012.34, 10123.4, 101234\r\n                      ,1.10000, 1.33000, 100.0, 1.0, 0.5, 0.25, .000000789\r\n                      ,0.00000567, 1.0000567, 999_999, 0.000900, 1.987999999\r\n                      };\r\n        for (double b : a) { \r\n            System.out.println (digitsDemo (b));\r\n        }\r\n        System.out.println ();\r\n    }\r\n\r\nResults:     \r\n\r\n      1.01234\r\n      10.1234\r\n      101.234\r\n      1012.34\r\n      10123.4\r\n      101234\r\n      1.10000\r\n      1.33000\r\n      100.000\r\n      1.00000\r\n      0.50000\r\n      0.25000\r\n      0.00000078900\r\n      0.0000056700\r\n      1.00006\r\n      999999\r\n      0.00090000\r\n      1.98800\r\n\r\n\r\nThis code has some known shortcomings:\r\n\r\n 1. It will throw a `NumberFormatException` if the value is `1_000_000.0` or greater or  is zero.\r\n 2. If the number is too small, it can ignore the format and show excess digits to the right of the decimal point. This is shown in the test run results. \r\n 3. Negative numbers have not been considered. ","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>You can use <code>Math.log10(double)</code> to discover how many digits are in the number.  Create a variable format specifier using the result:</p>\n<pre><code>public static String digitsDemo (double x) {\n    int digits = (int) Math.log10 (x);\n    String form = &quot;%.&quot; + ( 6 - digits - 1) + &quot;f&quot;;\n    return String.format (form, x);\n}\n\npublic static void testDigitsDemo () {\n    double [] a = { 1.01234, 10.1234, 101.234, 1012.34, 10123.4, 101234\n                  ,1.10000, 1.33000, 100.0, 1.0, 0.5, 0.25, .000000789\n                  ,0.00000567, 1.0000567, 999_999, 0.000900, 1.987999999\n                  };\n    for (double b : a) { \n        System.out.println (digitsDemo (b));\n    }\n    System.out.println ();\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>  1.01234\n  10.1234\n  101.234\n  1012.34\n  10123.4\n  101234\n  1.10000\n  1.33000\n  100.000\n  1.00000\n  0.50000\n  0.25000\n  0.00000078900\n  0.0000056700\n  1.00006\n  999999\n  0.00090000\n  1.98800\n</code></pre>\n<p>This code has some known shortcomings:</p>\n<ol>\n<li>It will throw a <code>NumberFormatException</code> if the value is <code>1_000_000.0</code> or greater or  is zero.</li>\n<li>If the number is too small, it can ignore the format and show excess digits to the right of the decimal point. This is shown in the test run results.</li>\n<li>Negative numbers have not been considered.</li>\n</ol>\n"}],"owner":{"account_id":27853309,"reputation":3,"user_id":21267377,"display_name":"Elitte Mayera"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75620325,"answer_count":2,"score":0,"last_activity_date":1677904513,"creation_date":1677784710,"question_id":75619946,"body_markdown":"I have different types of numbers of type float and/or double.\r\n\r\nI want to set these numbers to a specific format of 6 digits.\r\n\r\nExamples:\r\n```\r\n1.01234\r\n10.1234\r\n101.234\r\n1012.34\r\n10123.4\r\n101234\r\n1.10000\r\n1.33000\r\n```\r\nRegardless of how a number looks, whether is has a a decimal or it doesn&#39;t, I want it to be 6 digits.\r\n\r\nSo I have:\r\n```\r\nString s = &quot;123.4&quot;;\r\n```\r\n\r\nI want printout to look like: `123.400`\r\n\r\nI know I can use `String.format(&quot;%.3f&quot;, s)` to get result of type xxx.xxx\r\n\r\nBut what if have a different number?\r\n\r\nCheck the examples below and required results:\r\n```none\r\n123456 to 123456\r\n1.2    to 1.20000\r\n0.56   to 0.56000\r\n0.001  to 0.00100\r\n```\r\nNote that the required result has 6 digits.","title":"How can a number be formatted so the position of the decimal point varies with magnitude?","body":"<p>I have different types of numbers of type float and/or double.</p>\n<p>I want to set these numbers to a specific format of 6 digits.</p>\n<p>Examples:</p>\n<pre><code>1.01234\n10.1234\n101.234\n1012.34\n10123.4\n101234\n1.10000\n1.33000\n</code></pre>\n<p>Regardless of how a number looks, whether is has a a decimal or it doesn't, I want it to be 6 digits.</p>\n<p>So I have:</p>\n<pre><code>String s = &quot;123.4&quot;;\n</code></pre>\n<p>I want printout to look like: <code>123.400</code></p>\n<p>I know I can use <code>String.format(&quot;%.3f&quot;, s)</code> to get result of type xxx.xxx</p>\n<p>But what if have a different number?</p>\n<p>Check the examples below and required results:</p>\n<pre class=\"lang-none prettyprint-override\"><code>123456 to 123456\n1.2    to 1.20000\n0.56   to 0.56000\n0.001  to 0.00100\n</code></pre>\n<p>Note that the required result has 6 digits.</p>\n"},{"tags":["java","functional-programming","reactive-programming"],"comments":[{"owner":{"account_id":5505304,"reputation":211,"user_id":4373302,"display_name":"Daniel Stiefel"},"score":0,"creation_date":1510144934,"post_id":47179937,"comment_id":81308835,"body_markdown":"could you explain to me what Mono is?","body":"could you explain to me what Mono is?"},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":1,"creation_date":1510145234,"post_id":47179937,"comment_id":81309055,"body_markdown":"check -&gt; http://musigma.org/java/2016/11/21/reactor.html","body":"check -&gt; <a href=\"http://musigma.org/java/2016/11/21/reactor.html\" rel=\"nofollow noreferrer\">musigma.org/java/2016/11/21/reactor.html</a>"},{"owner":{"account_id":2573644,"reputation":140,"user_id":2231829,"display_name":"indranil32"},"score":1,"creation_date":1510145428,"post_id":47179937,"comment_id":81309190,"body_markdown":"If you use the block(Duration timeout) with zero duration -\n https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block-java.time.Duration-","body":"If you use the block(Duration timeout) with zero duration -  <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block-java.time.Duration-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1510145463,"creation_date":1510145046,"answer_id":47180085,"question_id":47179937,"body_markdown":"According to the [doc][1] you can do:\r\n\r\n\r\n    String getValue(Mono&lt;String&gt; mono) {\r\n        return mono.block();\r\n    }\r\n\r\n\r\nbe aware of the blocking call\r\n\r\n\r\n  [1]: http://musigma.org/java/2016/11/21/reactor.html","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>According to the <a href=\"http://musigma.org/java/2016/11/21/reactor.html\" rel=\"noreferrer\">doc</a> you can do:</p>\n\n<pre><code>String getValue(Mono&lt;String&gt; mono) {\n    return mono.block();\n}\n</code></pre>\n\n<p>be aware of the blocking call</p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1652193260,"creation_date":1510146576,"answer_id":47180610,"question_id":47179937,"body_markdown":"Getting a `String` from a `Mono&lt;String&gt;` without a blocking call isn&#39;t easy, it&#39;s impossible. By definition. If the `String` isn&#39;t available yet (which `Mono&lt;String&gt;` allows), you can&#39;t get it except by waiting until it comes in and that&#39;s exactly what blocking is.\r\n\r\nInstead of &quot;getting a `String`&quot; you `subscribe` to the `Mono` and the `Subscriber` you pass will get the `String` when it becomes available (maybe immediately). E.g.\r\n\r\n    myMono.subscribe(\r\n      value -&gt; System.out.println(value), \r\n      error -&gt; error.printStackTrace(), \r\n      () -&gt; System.out.println(&quot;completed without a value&quot;)\r\n    )\r\n\r\nwill print the value or error produced by `myMono` (type of `value` is `String`, type of `error` is `Throwable`). At https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html you can see other variants of `subscribe` too.","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Getting a <code>String</code> from a <code>Mono&lt;String&gt;</code> without a blocking call isn't easy, it's impossible. By definition. If the <code>String</code> isn't available yet (which <code>Mono&lt;String&gt;</code> allows), you can't get it except by waiting until it comes in and that's exactly what blocking is.</p>\n<p>Instead of &quot;getting a <code>String</code>&quot; you <code>subscribe</code> to the <code>Mono</code> and the <code>Subscriber</code> you pass will get the <code>String</code> when it becomes available (maybe immediately). E.g.</p>\n<pre><code>myMono.subscribe(\n  value -&gt; System.out.println(value), \n  error -&gt; error.printStackTrace(), \n  () -&gt; System.out.println(&quot;completed without a value&quot;)\n)\n</code></pre>\n<p>will print the value or error produced by <code>myMono</code> (type of <code>value</code> is <code>String</code>, type of <code>error</code> is <code>Throwable</code>). At <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html</a> you can see other variants of <code>subscribe</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1521742601,"creation_date":1510203161,"answer_id":47194133,"question_id":47179937,"body_markdown":"Finally what worked for me is calling flatMap method like below:\r\n\r\n    public void getValue(Mono&lt;String&gt; monoString)\r\n    {\r\n       monoString.flatMap(this::print);\r\n    }\r\n","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Finally what worked for me is calling flatMap method like below:</p>\n\n<pre><code>public void getValue(Mono&lt;String&gt; monoString)\n{\n   monoString.flatMap(this::print);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8012569,"reputation":360,"user_id":6043812,"display_name":"AjCodez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521738060,"creation_date":1521738060,"answer_id":49434412,"question_id":47179937,"body_markdown":"What worked for me was the following:\r\n\r\n`monoString.subscribe(this::print);`","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>What worked for me was the following:</p>\n\n<p><code>monoString.subscribe(this::print);</code></p>\n"},{"tags":[],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1543607170,"creation_date":1543607170,"answer_id":53563949,"question_id":47179937,"body_markdown":"Better\r\n\r\n    monoUser.map(User::getId) ","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Better</p>\n\n<pre><code>monoUser.map(User::getId) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591116530,"creation_date":1591116530,"answer_id":62157113,"question_id":47179937,"body_markdown":"Simplest answer is:\r\n\r\n     String returnVal = mono.block();","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>Simplest answer is:</p>\n\n<pre><code> String returnVal = mono.block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6404433,"reputation":623,"user_id":4966135,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614624829,"creation_date":1614624829,"answer_id":66427946,"question_id":47179937,"body_markdown":"This should work\r\n\r\n    String str = monoString.toProcessor().block();","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>This should work</p>\n<pre><code>String str = monoString.toProcessor().block();\n</code></pre>\n"}],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143361,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":47194133,"answer_count":7,"score":50,"last_activity_date":1677904227,"creation_date":1510144674,"question_id":47179937,"body_markdown":"I have a method which accepts Mono&lt;String&gt; as a param.\r\nAll I want is to get the actual String from it. Googled but didn&#39;t find answer except calling block() over Mono object but it will make a blocking call **so want to avoid using block(). Please suggest other way if possible.**\r\nThe reason why I need this String is because inside this method I need to call another method say print() with the actual String value.\r\nI understand this is easy but I am new to reactive programming.\r\n\r\nCode:\r\n\r\n    public String getValue(Mono&lt;String&gt; monoString) {\r\n        // How to get actual String from param monoString\r\n        // and call print(String) method\r\n    }\r\n\r\n    public void print(String str) {\r\n        System.out.println(str);\r\n    }\r\n","title":"How to get String from Mono&lt;String&gt; in reactive java","body":"<p>I have a method which accepts Mono as a param.\nAll I want is to get the actual String from it. Googled but didn't find answer except calling block() over Mono object but it will make a blocking call <strong>so want to avoid using block(). Please suggest other way if possible.</strong>\nThe reason why I need this String is because inside this method I need to call another method say print() with the actual String value.\nI understand this is easy but I am new to reactive programming.</p>\n<p>Code:</p>\n<pre><code>public String getValue(Mono&lt;String&gt; monoString) {\n    // How to get actual String from param monoString\n    // and call print(String) method\n}\n\npublic void print(String str) {\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677804334,"creation_date":1677804334,"answer_id":75622223,"question_id":75622097,"body_markdown":"You don&#39;t really have to test your configuration class. But if you really want to test it, you should test it by loading the context, but not using the mocking.\r\n\r\n    @SpringBootTest\r\n    @Import(RestConfiguration.class)\r\n    class RestConfigurationTest {\r\n    \r\n    }\r\n\r\nThis will load your configuration class and test your values.","title":"Unit Test a function inside @Configuration - SpringBoot","body":"<p>You don't really have to test your configuration class. But if you really want to test it, you should test it by loading the context, but not using the mocking.</p>\n<pre><code>@SpringBootTest\n@Import(RestConfiguration.class)\nclass RestConfigurationTest {\n\n}\n</code></pre>\n<p>This will load your configuration class and test your values.</p>\n"}],"owner":{"account_id":14599431,"reputation":1,"user_id":10544101,"display_name":"dp101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677904069,"creation_date":1677803001,"question_id":75622097,"body_markdown":"I have added an x-correlation-id in request header inside the restTemplate function shown below. I want to write a unit test to verify if x-correlation-id is attached to the request header. I am not a Java developer and this is a one off task. Please help me unit test the part where &quot;x-correlation-id&quot; - X_CORRELATION_ID is in the request header\r\n```\r\n@Configuration\r\npublic class RestConfiguration {\r\n    private static final Logger log = LoggerFactory.getLogger(RestConfiguration.class);\r\n\r\n    @Bean @Primary\r\n    public RestTemplate restTemplate(\r\n            CorrelationComponent correlationComponent,\r\n            CloudTokener cloudTokener,\r\n            @Value(&quot;${tokens.aad.role-app.resource}&quot;) String resourceId,\r\n            RestTemplateBuilder restTemplateBuilder,\r\n            @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout,\r\n            @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout\r\n    ) {\r\n        log.trace(&quot;restTemplate() start&quot;);\r\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = Arrays.asList((request, body, execution) -&gt; {\r\n            // add correlation ID header\r\n            \r\n            request.getHeaders().set(Constants.X_CORRELATION_ID, correlationComponent.getCorrelationId());\r\n            return execution.execute(request, body);\r\n        });\r\n        RestTemplate bean = restTemplateBuilder\r\n                .setConnectTimeout(Duration.ofMillis(connectTimeout))\r\n                .setReadTimeout(Duration.ofMillis(readTimeout))\r\n                .interceptors(interceptors)\r\n                .build();\r\n        log.trace(&quot;restTemplate() end&quot;);\r\n        return bean;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI know I am doing this wrong. Please help me write the correct unit test specifically in SpringBoot Java.\r\n```\r\n\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.web.client.RestTemplateBuilder;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\nimport static org.mockito.Mockito.mock;\r\n\r\nclass RestConfigurationTest {\r\n    RestConfiguration restConfiguration;\r\n    @Value(&quot;${tokens.abc.role-app.resource}&quot;) String resourceId;\r\n    @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout;\r\n    @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout;\r\n    @BeforeEach\r\n    void setUp() {\r\n        restConfiguration = new RestConfiguration();\r\n    }\r\n    @Test\r\n    public void testRestTemplate() {\r\n        CorrelationComponent correlationComponent = mock(CorrelationComponent.class);\r\n        CloudTokener cloudTokener = mock(CloudTokener.class);\r\n        RestTemplateBuilder restTemplateBuilder = mock(RestTemplateBuilder.class);\r\n        RestTemplate restTemplate = restConfiguration.restTemplate(correlationComponent,azureTokener, resourceId, restTemplateBuilder, connectTimeout, readTimeout );\r\n        \r\n    }\r\n    @AfterEach\r\n    void tearDown() {\r\n    }\r\n\r\n}\r\n```\r\n","title":"Unit Test a function inside @Configuration - SpringBoot","body":"<p>I have added an x-correlation-id in request header inside the restTemplate function shown below. I want to write a unit test to verify if x-correlation-id is attached to the request header. I am not a Java developer and this is a one off task. Please help me unit test the part where &quot;x-correlation-id&quot; - X_CORRELATION_ID is in the request header</p>\n<pre><code>@Configuration\npublic class RestConfiguration {\n    private static final Logger log = LoggerFactory.getLogger(RestConfiguration.class);\n\n    @Bean @Primary\n    public RestTemplate restTemplate(\n            CorrelationComponent correlationComponent,\n            CloudTokener cloudTokener,\n            @Value(&quot;${tokens.aad.role-app.resource}&quot;) String resourceId,\n            RestTemplateBuilder restTemplateBuilder,\n            @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout,\n            @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout\n    ) {\n        log.trace(&quot;restTemplate() start&quot;);\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = Arrays.asList((request, body, execution) -&gt; {\n            // add correlation ID header\n            \n            request.getHeaders().set(Constants.X_CORRELATION_ID, correlationComponent.getCorrelationId());\n            return execution.execute(request, body);\n        });\n        RestTemplate bean = restTemplateBuilder\n                .setConnectTimeout(Duration.ofMillis(connectTimeout))\n                .setReadTimeout(Duration.ofMillis(readTimeout))\n                .interceptors(interceptors)\n                .build();\n        log.trace(&quot;restTemplate() end&quot;);\n        return bean;\n    }\n}\n</code></pre>\n<p>I know I am doing this wrong. Please help me write the correct unit test specifically in SpringBoot Java.</p>\n<pre><code>\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.web.client.RestTemplateBuilder;\nimport org.springframework.web.client.RestTemplate;\n\nimport static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.Mockito.mock;\n\nclass RestConfigurationTest {\n    RestConfiguration restConfiguration;\n    @Value(&quot;${tokens.abc.role-app.resource}&quot;) String resourceId;\n    @Value(&quot;${rest.connect-timeout}&quot;) Long connectTimeout;\n    @Value(&quot;${rest.read-timeout}&quot;) Long readTimeout;\n    @BeforeEach\n    void setUp() {\n        restConfiguration = new RestConfiguration();\n    }\n    @Test\n    public void testRestTemplate() {\n        CorrelationComponent correlationComponent = mock(CorrelationComponent.class);\n        CloudTokener cloudTokener = mock(CloudTokener.class);\n        RestTemplateBuilder restTemplateBuilder = mock(RestTemplateBuilder.class);\n        RestTemplate restTemplate = restConfiguration.restTemplate(correlationComponent,azureTokener, resourceId, restTemplateBuilder, connectTimeout, readTimeout );\n        \n    }\n    @AfterEach\n    void tearDown() {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","permissions","android-permissions","user-permissions"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1677893300,"post_id":75632946,"comment_id":133433290,"body_markdown":"Picking a photo is [exactly the example directly from the docs](https://developer.android.com/training/basics/intents/result). You don&#39;t need any of that permission code or anything version specific. Why do you think any of that is necessary?","body":"Picking a photo is <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">exactly the example directly from the docs</a>. You don&#39;t need any of that permission code or anything version specific. Why do you think any of that is necessary?"}],"answers":[{"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677902899,"creation_date":1677902899,"answer_id":75633591,"question_id":75632946,"body_markdown":"The `maxSdkVersion` attribute which you have given in the manifest file will not provide the permission level above 29. So, for that you need to remove it and make a small change in that: \r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;`\r\n\r\n\r\n","title":"Pick Image Files From Gallery In Android 11 and Above Or Below in Android Studio","body":"<p>The <code>maxSdkVersion</code> attribute which you have given in the manifest file will not provide the permission level above 29. So, for that you need to remove it and make a small change in that:</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;</code></p>\n"}],"owner":{"account_id":27717283,"reputation":1,"user_id":21329158,"display_name":"Ezequiel Guazai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677902899,"creation_date":1677890237,"question_id":75632946,"body_markdown":"I have a problem, I want to get images on devices with android versions lower and higher than 10, but it only takes those from lower than 10, how could I solve this problem?\r\n\r\nI tried this...\r\n\r\nXML\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot;/&gt;\r\n```\r\n\r\nMy Class\r\n```\r\nlayoutMiscellaneous.findViewById(R.id.laoutAddImage).setOnClickListener(view -&gt; {\r\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n            if (ContextCompat.checkSelfPermission(\r\n                    getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\r\n            ) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(\r\n                        CreateNoteActivity.this,\r\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                        REQUEST_CODE_STORAGE_PERMISSION\r\n                );\r\n            } else {\r\n                selectImage();\r\n            }\r\n        });\r\n\r\nprivate void selectImage() {\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        if (intent.resolveActivity(getPackageManager())  != null) {\r\n            startActivityForResult(intent, REQUEST_CODE_SELECTED_IMAGE);\r\n        }\r\n    }\r\n\r\n@Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                selectImage();\r\n            } else {\r\n                Toast.makeText(this, R.string.permissao_recusada, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSo What can i do?\r\n","title":"Pick Image Files From Gallery In Android 11 and Above Or Below in Android Studio","body":"<p>I have a problem, I want to get images on devices with android versions lower and higher than 10, but it only takes those from lower than 10, how could I solve this problem?</p>\n<p>I tried this...</p>\n<p>XML</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot;/&gt;\n</code></pre>\n<p>My Class</p>\n<pre><code>layoutMiscellaneous.findViewById(R.id.laoutAddImage).setOnClickListener(view -&gt; {\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n            if (ContextCompat.checkSelfPermission(\n                    getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\n            ) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(\n                        CreateNoteActivity.this,\n                        new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                        REQUEST_CODE_STORAGE_PERMISSION\n                );\n            } else {\n                selectImage();\n            }\n        });\n\nprivate void selectImage() {\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        if (intent.resolveActivity(getPackageManager())  != null) {\n            startActivityForResult(intent, REQUEST_CODE_SELECTED_IMAGE);\n        }\n    }\n\n@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                selectImage();\n            } else {\n                Toast.makeText(this, R.string.permissao_recusada, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>So What can i do?</p>\n"},{"tags":["java","maven","dependency-management","maven-enforcer-plugin"],"answers":[{"tags":[],"owner":{"account_id":128351,"reputation":1497,"user_id":326120,"accept_rate":50,"display_name":"Andreas Krueger"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1366641989,"creation_date":1366641989,"answer_id":16150014,"question_id":16100315,"body_markdown":"If JUnit as an artifact is coming through as a dependency in compile scope, it is a bug of one of your libraries, here: ca.juliusdavies.\r\n\r\nJUnit should always be included in test scope. Thus, it is **not** packed into the produced .jar, .war or .ear file, on successful build.\r\n\r\nGenerally speaking, there is no harm in excluding already included dependencies, as when library 1 and library 2 share one common dependency.\r\n\r\nThe only problem, of course, that can occur, is when library 1 and library 2 include different versions of the same dependent artifact. **This can cause run-time errors**, when the features of the library have changed.\r\nFortunately, this is not often the case, unless the difference in the version numbers is great. In general, it is advisable to include the latest dependency version and exlude the older one. This is most of the time viable.\r\n\r\nIf not, check wheter there are updates to the first-level dependencies of your project.","title":"Solving Maven dependency convergence issues","body":"<p>If JUnit as an artifact is coming through as a dependency in compile scope, it is a bug of one of your libraries, here: ca.juliusdavies.</p>\n\n<p>JUnit should always be included in test scope. Thus, it is <strong>not</strong> packed into the produced .jar, .war or .ear file, on successful build.</p>\n\n<p>Generally speaking, there is no harm in excluding already included dependencies, as when library 1 and library 2 share one common dependency.</p>\n\n<p>The only problem, of course, that can occur, is when library 1 and library 2 include different versions of the same dependent artifact. <strong>This can cause run-time errors</strong>, when the features of the library have changed.\nFortunately, this is not often the case, unless the difference in the version numbers is great. In general, it is advisable to include the latest dependency version and exlude the older one. This is most of the time viable.</p>\n\n<p>If not, check wheter there are updates to the first-level dependencies of your project.</p>\n"},{"tags":[],"owner":{"display_name":"user2015707"},"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1366989279,"creation_date":1366988312,"answer_id":16239482,"question_id":16100315,"body_markdown":"We all agree that JUnit should never be set to another scope than `test`. Generally speaking I don&#39;t think either that there is another solution than excluding the unwanted dependency, so we all agree that your are right to do it.\r\n\r\n**A SIMPLE CASE :**\r\n\r\n\r\nAs Andreas Krueger says, there may be a risk with versions (I actually encountered it). Let say that the project&#39;s dependencies are the following:\r\n\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-group1:projectA:2.0\r\n    \t +-group2:projectB:3.8.1\r\n      +-group2:projectB:4.11\r\n\r\nNote that it is only a mere simplification of your case. Seeing this dependency tree, you would exclude the dependency projectB given by projectA :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;group1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;group2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 3.8.1. Everything would be fine and the project would run without encountering any problem at all.\r\n\r\nThen, a while after, let say that you decide to upgrade to the next version of project A, version 3.0 which adds new great features :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;group1&lt;/groupId&gt;\r\n      &lt;artifactId&gt;projectA&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;group2&lt;/groupId&gt;\r\n          &lt;artifactId&gt;projectB&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe problem is that **you are not aware yet** that projectA version 3.0 also have upgraded its dependency projectB to version 5.0 :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-group1:projectA:3.0\r\n    \t +-group2:projectB:5.0\r\n      +-group2:projectB:4.11\r\n\t   \r\nIn that case, the exclusion you would have made a while ago excludes projectB version 5.0. \r\n\r\n\r\nHowever, **projectA version 3.0 needs the improvements from project B version 5.0**. Because of the exclusion, after packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 5.0. At the moment you use any of projectA&#39;s new features, the program wouldn&#39;t run correctly.\r\n\r\n**WHAT WAS THE SOLUTION ?**\r\n\r\nI encountered this problem in a Java-EE project.\r\n\r\nA team developped database services. They packaged it as projectA. Each time they updated the services, they also updated a file listing all their current dependencies and the current versions.\r\n\r\nProjectA was a dependency for the Java-EE project I was working on. Each time the service-team updated ProjectA, I also checked the versions&#39; updates.\r\n\r\n**In fact, there is no harm in excluding a dependency.** But each time you update a dependency where an exclusion has been set, You have to check :\r\n\r\n - if this exclusion still makes sense.\r\n - if you need to upgrade the version of the excluded dependency in your own project.\r\n\r\nI guess maven exclusions are like kitchen knifes. It&#39;s sharp, cuts vegetables with no effort, but requires care when handling it...","title":"Solving Maven dependency convergence issues","body":"<p>We all agree that JUnit should never be set to another scope than <code>test</code>. Generally speaking I don't think either that there is another solution than excluding the unwanted dependency, so we all agree that your are right to do it.</p>\n\n<p><strong>A SIMPLE CASE :</strong></p>\n\n<p>As Andreas Krueger says, there may be a risk with versions (I actually encountered it). Let say that the project's dependencies are the following:</p>\n\n<pre><code>+-foo:bar:1.0-SNAPSHOT\n  +-group1:projectA:2.0\n     +-group2:projectB:3.8.1\n  +-group2:projectB:4.11\n</code></pre>\n\n<p>Note that it is only a mere simplification of your case. Seeing this dependency tree, you would exclude the dependency projectB given by projectA :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;group1&lt;/groupId&gt;\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n  &lt;version&gt;2.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;group2&lt;/groupId&gt;\n      &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 3.8.1. Everything would be fine and the project would run without encountering any problem at all.</p>\n\n<p>Then, a while after, let say that you decide to upgrade to the next version of project A, version 3.0 which adds new great features :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;group1&lt;/groupId&gt;\n  &lt;artifactId&gt;projectA&lt;/artifactId&gt;\n  &lt;version&gt;3.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;group2&lt;/groupId&gt;\n      &lt;artifactId&gt;projectB&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The problem is that <strong>you are not aware yet</strong> that projectA version 3.0 also have upgraded its dependency projectB to version 5.0 :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>+-foo:bar:1.0-SNAPSHOT\n  +-group1:projectA:3.0\n     +-group2:projectB:5.0\n  +-group2:projectB:4.11\n</code></pre>\n\n<p>In that case, the exclusion you would have made a while ago excludes projectB version 5.0. </p>\n\n<p>However, <strong>projectA version 3.0 needs the improvements from project B version 5.0</strong>. Because of the exclusion, after packaging the project with maven, the remaining dependency would be group2-someProjectB-4.11.jar, version 4.11 and not 5.0. At the moment you use any of projectA's new features, the program wouldn't run correctly.</p>\n\n<p><strong>WHAT WAS THE SOLUTION ?</strong></p>\n\n<p>I encountered this problem in a Java-EE project.</p>\n\n<p>A team developped database services. They packaged it as projectA. Each time they updated the services, they also updated a file listing all their current dependencies and the current versions.</p>\n\n<p>ProjectA was a dependency for the Java-EE project I was working on. Each time the service-team updated ProjectA, I also checked the versions' updates.</p>\n\n<p><strong>In fact, there is no harm in excluding a dependency.</strong> But each time you update a dependency where an exclusion has been set, You have to check :</p>\n\n<ul>\n<li>if this exclusion still makes sense.</li>\n<li>if you need to upgrade the version of the excluded dependency in your own project.</li>\n</ul>\n\n<p>I guess maven exclusions are like kitchen knifes. It's sharp, cuts vegetables with no effort, but requires care when handling it...</p>\n"},{"tags":[],"owner":{"account_id":6419769,"reputation":502,"user_id":4976790,"display_name":"Gaurav Tanwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677902008,"creation_date":1677902008,"answer_id":75633540,"question_id":16100315,"body_markdown":"Best way to solve this dependency issue while using enforcer in project,\r\nOne should add error causing dependency in dependency management i.e pom.xml\r\nlike in this junit is causing the problem, so picking the higher version and add as dependency in pom.xml\r\n\r\n                &lt;dependency&gt;&lt;groupId&gt;junit_or_group_id_error_causing_dependency&lt;/groupId&gt;&lt;artifactId&gt;Junit_or_artifact_id_group_id_error_causing_dependency&lt;/artifactId&gt;&lt;version&gt;4.11_or_higher_version_of_error_causing_dependency&lt;/version&gt;&lt;/dependency&gt;\r\n\r\nExclusion can be other solution,but I found it more cleaner way of doing the same.","title":"Solving Maven dependency convergence issues","body":"<p>Best way to solve this dependency issue while using enforcer in project,\nOne should add error causing dependency in dependency management i.e pom.xml\nlike in this junit is causing the problem, so picking the higher version and add as dependency in pom.xml</p>\n<pre><code>            &lt;dependency&gt;&lt;groupId&gt;junit_or_group_id_error_causing_dependency&lt;/groupId&gt;&lt;artifactId&gt;Junit_or_artifact_id_group_id_error_causing_dependency&lt;/artifactId&gt;&lt;version&gt;4.11_or_higher_version_of_error_causing_dependency&lt;/version&gt;&lt;/dependency&gt;\n</code></pre>\n<p>Exclusion can be other solution,but I found it more cleaner way of doing the same.</p>\n"}],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48037,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":16239482,"answer_count":3,"score":47,"last_activity_date":1677902008,"creation_date":1366359685,"question_id":16100315,"body_markdown":"I use the maven-enforcer-plugin to check for dependency convergence issues. A typical output would be:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    [WARNING] Rule 1: org.apache.maven.plugins.enforcer.DependencyConvergence failed \r\n      with message:\r\n    Failed while enforcing releasability the error(s) are [\r\n    Dependency convergence error for junit:junit:3.8.1 paths to dependency are:\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-ca.juliusdavies:not-yet-commons-ssl:0.3.9\r\n        +-commons-httpclient:commons-httpclient:3.0\r\n          +-junit:junit:3.8.1\r\n    and\r\n    +-foo:bar:1.0-SNAPSHOT\r\n      +-junit:junit:4.11\r\n    ]\r\n\r\nSeeing this message, I would normally &quot;solve&quot; it by excluding the transitive dependency, e.g.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\r\n      &lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\r\n      &lt;version&gt;0.3.9&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;!-- This artifact links to another artifact which stupidly includes \r\n          junit in compile scope --&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;d like to understand whether this is truly a fix and the risks involved in excluding libraries in this fashion. As I see it:\r\n\r\n - The &quot;fix&quot; is normally safe, provided I&#39;m choosing to use the newer version. This relies on the library authors maintaining backwards compatibility.\r\n\r\n - There is typically no impact on the Maven build (since the nearer definition wins), however by excluding the dependency I&#39;m telling Maven that I know about this problem and thus appeasing the maven-enforcer-plugin.\r\n\r\nAre my thoughts correct and is there an alternative way of handling this issue? I&#39;m interested in answers that focus on the general case - I realise the `junit` example above is a little strange.","title":"Solving Maven dependency convergence issues","body":"<p>I use the maven-enforcer-plugin to check for dependency convergence issues. A typical output would be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[WARNING] Rule 1: org.apache.maven.plugins.enforcer.DependencyConvergence failed \n  with message:\nFailed while enforcing releasability the error(s) are [\nDependency convergence error for junit:junit:3.8.1 paths to dependency are:\n+-foo:bar:1.0-SNAPSHOT\n  +-ca.juliusdavies:not-yet-commons-ssl:0.3.9\n    +-commons-httpclient:commons-httpclient:3.0\n      +-junit:junit:3.8.1\nand\n+-foo:bar:1.0-SNAPSHOT\n  +-junit:junit:4.11\n]\n</code></pre>\n\n<p>Seeing this message, I would normally \"solve\" it by excluding the transitive dependency, e.g.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;ca.juliusdavies&lt;/groupId&gt;\n  &lt;artifactId&gt;not-yet-commons-ssl&lt;/artifactId&gt;\n  &lt;version&gt;0.3.9&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;!-- This artifact links to another artifact which stupidly includes \n      junit in compile scope --&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'd like to understand whether this is truly a fix and the risks involved in excluding libraries in this fashion. As I see it:</p>\n\n<ul>\n<li><p>The \"fix\" is normally safe, provided I'm choosing to use the newer version. This relies on the library authors maintaining backwards compatibility.</p></li>\n<li><p>There is typically no impact on the Maven build (since the nearer definition wins), however by excluding the dependency I'm telling Maven that I know about this problem and thus appeasing the maven-enforcer-plugin.</p></li>\n</ul>\n\n<p>Are my thoughts correct and is there an alternative way of handling this issue? I'm interested in answers that focus on the general case - I realise the <code>junit</code> example above is a little strange.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4748150,"reputation":3816,"user_id":3838901,"display_name":"Farid Haq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549254682,"creation_date":1549254682,"answer_id":54510167,"question_id":54510081,"body_markdown":"Not clear your question since you did not submitted full code, i think it may work for you.\r\n\r\n       textViews.setOnClickListener(new OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n           registerForContextMenu(color);\r\n           registerForContextMenu(size);\r\n        }\r\n    });","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Not clear your question since you did not submitted full code, i think it may work for you.</p>\n\n<pre><code>   textViews.setOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n       registerForContextMenu(color);\n       registerForContextMenu(size);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549256308,"creation_date":1549256308,"answer_id":54510342,"question_id":54510081,"body_markdown":"after clicking TextView I should use method openContextMenu(View v); following code is working in my case \r\n       \r\n  \r\n\r\n      color = (TextView)findViewById(R.id.color);\r\n        size = (TextView)findViewById(R.id.size);\r\n        registerForContextMenu(color);\r\n        registerForContextMenu(size);\r\n        color.setOnClickListener(v -&gt; {\r\n                openContextMenu(color);\r\n        });\r\n        size.setOnClickListener(v -&gt; {\r\n            openContextMenu(size);\r\n        });\r\n\r\n","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>after clicking TextView I should use method openContextMenu(View v); following code is working in my case </p>\n\n<pre><code>  color = (TextView)findViewById(R.id.color);\n    size = (TextView)findViewById(R.id.size);\n    registerForContextMenu(color);\n    registerForContextMenu(size);\n    color.setOnClickListener(v -&gt; {\n            openContextMenu(color);\n    });\n    size.setOnClickListener(v -&gt; {\n        openContextMenu(size);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13692468,"reputation":71,"user_id":9879923,"display_name":"storytellerF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677901630,"creation_date":1677901630,"answer_id":75633527,"question_id":54510081,"body_markdown":"Should use &quot;long click&quot; to invoke **ContextMenu**","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Should use &quot;long click&quot; to invoke <strong>ContextMenu</strong></p>\n"}],"owner":{"account_id":9714454,"reputation":460,"user_id":7205323,"display_name":"Jahongir  Sabirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677901630,"creation_date":1549253885,"question_id":54510081,"body_markdown":"Created two `TextView` and call method `registerForContextMenu` method, called @override method `onCreateContextMenu` but when I clicked into `textViews` it doesn&#39;t work following procedure.what might be reason for it ?\r\n\r\n    TextView color,size;\r\n    \r\n        final int COLOR_RED = 1;\r\n        final int COLOR_BLUE = 2;\r\n    \r\n        final int SIZE_26 = 26;\r\n        final int SIZE_30 = 30;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            color = (TextView)findViewById(R.id.color);\r\n            size = (TextView)findViewById(R.id.size);\r\n            Log.d(&quot;nimae&quot;,&quot;ishla&quot;);\r\n            registerForContextMenu(color);\r\n            registerForContextMenu(size);\r\n  \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)\r\n        {\r\n           \r\n                switch (v.getId()){\r\n                    case R.id.color:\r\n                        menu.add(0,COLOR_RED,0,&quot;Qizil&quot;);\r\n                        menu.add(0,COLOR_BLUE,0,&quot;Ko`k&quot;);\r\n                        break;\r\n                    case R.id.size:\r\n                        menu.add(0,SIZE_26,0,&quot;26 size&quot;);\r\n                        menu.add(0,SIZE_30,0,&quot;30 size&quot;);\r\n                        break;\r\n                }\r\n    \r\n    \r\n        }","title":"Doesn&#39;t work onCreateContextMenu in Android","body":"<p>Created two <code>TextView</code> and call method <code>registerForContextMenu</code> method, called @override method <code>onCreateContextMenu</code> but when I clicked into <code>textViews</code> it doesn't work following procedure.what might be reason for it ?</p>\n\n<pre><code>TextView color,size;\n\n    final int COLOR_RED = 1;\n    final int COLOR_BLUE = 2;\n\n    final int SIZE_26 = 26;\n    final int SIZE_30 = 30;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        color = (TextView)findViewById(R.id.color);\n        size = (TextView)findViewById(R.id.size);\n        Log.d(\"nimae\",\"ishla\");\n        registerForContextMenu(color);\n        registerForContextMenu(size);\n\n\n    }\n\n    @Override\n    public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo)\n    {\n\n            switch (v.getId()){\n                case R.id.color:\n                    menu.add(0,COLOR_RED,0,\"Qizil\");\n                    menu.add(0,COLOR_BLUE,0,\"Ko`k\");\n                    break;\n                case R.id.size:\n                    menu.add(0,SIZE_26,0,\"26 size\");\n                    menu.add(0,SIZE_30,0,\"30 size\");\n                    break;\n            }\n\n\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"score":1,"creation_date":1677900216,"post_id":75633434,"comment_id":133433793,"body_markdown":"Move your project to vscode, has better management of dependencies.","body":"Move your project to vscode, has better management of dependencies."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1677900482,"post_id":75633434,"comment_id":133433813,"body_markdown":"@PepeNO can I debug my code from within VSCode? Thanks","body":"@PepeNO can I debug my code from within VSCode? Thanks"},{"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"score":1,"creation_date":1677900553,"post_id":75633434,"comment_id":133433825,"body_markdown":"Of course, step by step and step over. Even visual studio is  more powerful.","body":"Of course, step by step and step over. Even visual studio is  more powerful."},{"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"score":0,"creation_date":1677900746,"post_id":75633434,"comment_id":133433839,"body_markdown":"I&#39;m already using VSCode for other things (bash scripts). I might try if it works better for me. Thanks a lot for the suggestion! @PepeNO","body":"I&#39;m already using VSCode for other things (bash scripts). I might try if it works better for me. Thanks a lot for the suggestion! @PepeNO"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678091101,"post_id":75633434,"comment_id":133459198,"body_markdown":"Try IDE main menu `File | Invalidate Caches | Invalidate and Restart` to see if it helps. If still not, you may report this issue in IDEA issue tracker: https://youtrack.jetbrains.com/issues/IDEA","body":"Try IDE main menu <code>File | Invalidate Caches | Invalidate and Restart</code> to see if it helps. If still not, you may report this issue in IDEA issue tracker: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>"}],"owner":{"account_id":1999161,"reputation":2268,"user_id":1790598,"accept_rate":59,"display_name":"mrjayviper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677900554,"creation_date":1677899746,"question_id":75633434,"body_markdown":"might be best explain with an example:\r\n\r\n- I have 2 maven projects (projectA and projectB)\r\n- In projectB classes, I can use any of projectA public functions/features.\r\n- I created a new function (let&#39;s call it functionX) inside of one of projectA&#39;s classes.\r\n- I&#39;ve build projectA already and I can see the new build inside $HOME\\\\.m2\\repository\\whatever\r\n- I want to use functionX in projectB but it&#39;s not auto-showing. But I can see other public functions of the class.\r\n- Building the project from within IntelliJ results in an error (because I&#39;m using a function it cannot identify).\r\n- Building the same project in terminal and using &quot;mvn clean install&quot; does not produce an error.\r\n- I tried &quot;Reload all Maven projects&quot; multiple times.\r\n- I&#39;ve closed and reopen IntelliJ multiple times.\r\n- I&#39;m using version 2022.2.3 CE.\r\n\r\nAny ideas on how to fix/force a refresh? Thanks\r\n\r\n---\r\n\r\nsample snippet of my pom.xml in projectB\r\n\r\n    &lt;projectA.version&gt;(0.0,)&lt;/projectA.version&gt;\r\n    ..\r\n    ..\r\n    ..\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.myhost.projectA&lt;/groupId&gt;\r\n        &lt;artifactId&gt;projectA.core&lt;/artifactId&gt;\r\n        &lt;version&gt;${projectA.version}&lt;/version&gt;    \r\n    &lt;/dependency&gt;","title":"Java/IntelliJ/maven: so I made a change in a package and my other package can&#39;t see the updates?","body":"<p>might be best explain with an example:</p>\n<ul>\n<li>I have 2 maven projects (projectA and projectB)</li>\n<li>In projectB classes, I can use any of projectA public functions/features.</li>\n<li>I created a new function (let's call it functionX) inside of one of projectA's classes.</li>\n<li>I've build projectA already and I can see the new build inside $HOME\\.m2\\repository\\whatever</li>\n<li>I want to use functionX in projectB but it's not auto-showing. But I can see other public functions of the class.</li>\n<li>Building the project from within IntelliJ results in an error (because I'm using a function it cannot identify).</li>\n<li>Building the same project in terminal and using &quot;mvn clean install&quot; does not produce an error.</li>\n<li>I tried &quot;Reload all Maven projects&quot; multiple times.</li>\n<li>I've closed and reopen IntelliJ multiple times.</li>\n<li>I'm using version 2022.2.3 CE.</li>\n</ul>\n<p>Any ideas on how to fix/force a refresh? Thanks</p>\n<hr />\n<p>sample snippet of my pom.xml in projectB</p>\n<pre><code>&lt;projectA.version&gt;(0.0,)&lt;/projectA.version&gt;\n..\n..\n..\n&lt;dependency&gt;\n    &lt;groupId&gt;com.myhost.projectA&lt;/groupId&gt;\n    &lt;artifactId&gt;projectA.core&lt;/artifactId&gt;\n    &lt;version&gt;${projectA.version}&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","eclipse","javafx"],"owner":{"account_id":27931463,"reputation":1,"user_id":21329368,"display_name":"Pia Br&#252;ckner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677898001,"answer_count":0,"score":0,"last_activity_date":1677900507,"creation_date":1677895491,"question_id":75633226,"body_markdown":"So, I tried to create my first JavaFX project and everything went fine until I tried to add a new &quot;JavaFX Document&quot;.\r\n\r\nWhen I try to create one I get this message:\r\n\r\n```lang-none\r\nAn error has occurred. See error log for more details.\r\norg/eclipse/jface/databinding/swt/WidgetProperties\r\n```\r\n\r\nLog:\r\n\r\n```lang-none\r\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\r\n\tat org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\r\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\r\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\r\n\tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\r\n\tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\r\n\tat org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\r\n\tat org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\r\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\r\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\r\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\r\n\tat org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.8.0.202204150904\r\n\t... 68 more\r\n```\r\n\r\n\r\nIn the added picture you can see that I added a databinding jar with a WidgetProperties.class in it. I have no idea what I have to change.\r\n\r\nI hope you can help me!\r\n\r\nThanks\r\nAip\r\n\r\n\r\nTried to create a new &quot;JavaFX Document&quot; -&gt; Got nothing","title":"JavaFX: java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"<p>So, I tried to create my first JavaFX project and everything went fine until I tried to add a new &quot;JavaFX Document&quot;.</p>\n<p>When I try to create one I get this message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>An error has occurred. See error log for more details.\norg/eclipse/jface/databinding/swt/WidgetProperties\n</code></pre>\n<p>Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\n    at org.eclipse.fx.ide.ui.wizards.AbstractJDTElementPage.createControl(AbstractJDTElementPage.java:109)\n    at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:178)\n    at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:744)\n    at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1182)\n    at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1235)\n    at org.eclipse.jface.wizard.WizardDialog.lambda$3(WizardDialog.java:1223)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1223)\n    at org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)\n    at org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)\n    at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1542)\n    at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1211)\n    at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:263)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:142)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n    at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.ui_3.8.0.202204150904\n    ... 68 more\n</code></pre>\n<p>In the added picture you can see that I added a databinding jar with a WidgetProperties.class in it. I have no idea what I have to change.</p>\n<p>I hope you can help me!</p>\n<p>Thanks\nAip</p>\n<p>Tried to create a new &quot;JavaFX Document&quot; -&gt; Got nothing</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902248,"post_id":75633410,"comment_id":133433957,"body_markdown":"The imports are `import java.io.File; import android.os.Environment;`.   You can look them up via the Android javadocs: use Google to find them.","body":"The imports are <code>import java.io.File; import android.os.Environment;</code>.   You can look them up via the Android javadocs: use Google to find them."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902482,"post_id":75633410,"comment_id":133433975,"body_markdown":"And to diagnose problems with android studio not being able to find imports read https://stackoverflow.com/questions/21100688.","body":"And to diagnose problems with android studio not being able to find imports read <a href=\"https://stackoverflow.com/questions/21100688\">stackoverflow.com/questions/21100688</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677902682,"post_id":75633410,"comment_id":133433991,"body_markdown":"&quot;How am I supposed to know this?&quot; - Googling for &quot;android javadoc file&quot; gives me https://developer.android.com/reference/java/io/File as the first search result.   So maybe the trick is to improve your searching technique ...","body":"&quot;How am I supposed to know this?&quot; - Googling for &quot;android javadoc file&quot; gives me <a href=\"https://developer.android.com/reference/java/io/File\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/io/File</a> as the first search result.   So maybe the trick is to improve your searching technique ..."}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677899257,"creation_date":1677899257,"question_id":75633410,"body_markdown":"I am trying to add a line of code to get the path to external storage directory\r\n`File extStore = Environment.getExternalStorageDirectory();`\r\n\r\nHowever, I cannot figure out what I need to Import to get the `File` and `Environment` objects\r\n\r\nAndroid studio is not automatically adding it as I expected\r\n\r\nSearching online, I cannot find anywhere what I need to import\r\n\r\nHow am I supposed to know this? \r\n\r\nStack Overflow answers like this do not provide the required Imports to make it work \r\n\r\nhttps://stackoverflow.com/questions/5858107/how-to-get-file-path-from-sd-card-in-android","title":"Android Studio not adding Imports, cannot find Import for File class","body":"<p>I am trying to add a line of code to get the path to external storage directory\n<code>File extStore = Environment.getExternalStorageDirectory();</code></p>\n<p>However, I cannot figure out what I need to Import to get the <code>File</code> and <code>Environment</code> objects</p>\n<p>Android studio is not automatically adding it as I expected</p>\n<p>Searching online, I cannot find anywhere what I need to import</p>\n<p>How am I supposed to know this?</p>\n<p>Stack Overflow answers like this do not provide the required Imports to make it work</p>\n<p><a href=\"https://stackoverflow.com/questions/5858107/how-to-get-file-path-from-sd-card-in-android\">how to get file path from sd card in android</a></p>\n"},{"tags":["java","spring-boot","maven","jpa","push-notification"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677898729,"creation_date":1677898729,"answer_id":75633384,"question_id":75633366,"body_markdown":"You can use the `@Scheduled` annotation.\r\n\r\nIn your main application class, you need to first enable scheduling.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class MyApplication {\r\n    // ...\r\n}\r\n```\r\n\r\nThen, add `@Scheduled` to a method of one of your components.\r\n\r\n```java\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport java.util.concurrent.TimeUnit;\r\n@Component \r\npublic class MyTask {\r\n    @Scheduled(fixedDelay = 5, timeUnit = TimeUnit.MINUTES)\r\n    public void run() {\r\n        // execute periodic task\r\n    }\r\n}\r\n```","title":"Having a method run at application start continuously","body":"<p>You can use the <code>@Scheduled</code> annotation.</p>\n<p>In your main application class, you need to first enable scheduling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class MyApplication {\n    // ...\n}\n</code></pre>\n<p>Then, add <code>@Scheduled</code> to a method of one of your components.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Component;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport java.util.concurrent.TimeUnit;\n@Component \npublic class MyTask {\n    @Scheduled(fixedDelay = 5, timeUnit = TimeUnit.MINUTES)\n    public void run() {\n        // execute periodic task\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18322198,"reputation":137,"user_id":13342723,"display_name":"abdcg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75633384,"answer_count":1,"score":1,"last_activity_date":1677898729,"creation_date":1677898376,"question_id":75633366,"body_markdown":"I am having a little bit of trouble with something I am trying to pull off. I have an application that uses Java 19 and Springboot that is being hosted locally (but will eventually be hosted elsewhere). I have an SQL database setup on the same. I want to be able to send users an email, based on the due date of an event they are participating in. I have a few methods that allow me to query using JPA to find these emails, the issue I am having is actually calling these methods. I want these methods to run on intervals of 5 minutes always (that is to say, I want the methods to query the DB every 5 minutes of so). Is there a way to do this? As of now any call to a repository is triggered by events on the front-end, and I am uncertain as to how I could call these methods continuously? Please find below the methods: \r\n```\r\nmport java.util.Timer;\r\n\r\n//Main class\r\npublic class SchedulerMain {\r\n\t\r\n    \r\n    \r\n    \r\n    //Timer for 7 days\r\n    public static Boolean sevenDays() throws InterruptedException {\r\n\r\n\t\tTimer time = new Timer(); // Instantiate Timer Object\r\n\t\tScheduledTaskSevenDays st = new ScheduledTaskSevenDays(); // Instantiate SheduledTask class\r\n\t\ttime.schedule(st, 0, 300000); // Create Repetitively task for every 5 minutes\r\n        \r\n        return true;\r\n\t\r\n\t}\r\n}\r\n\r\n\r\npublic class ScheduledTaskSevenDays extends TimerTask {\r\n\r\n\r\n\t@Autowired\r\n\tprivate AdminService adminService;\r\n\r\n\t// To run for 7 days\r\n\tpublic void run() {\r\n\t\t//Going to call on method here to gather participants and send email\r\n\t\tadminService.SevenDayNotification();\r\n\t}\r\n}\r\n\r\n public boolean SevenDayNotification() { \r\n        System.out.println(&quot;Start of email Method&quot;);\r\n         try {\r\n             \r\n             \r\n             //Get Survey Participation from DB\r\n             List&lt;String&gt; surveyParticipation;\r\n             surveyParticipation = surveyParticipationRepository.findAllParticipantEmailSevenDays();\r\n             System.out.println(&quot;we have a list of participants&quot;);\r\n \r\n             //send emails to all participants in the survey\r\n             for(int i = 0; i&lt;surveyParticipation.size(); i++)\r\n             {\r\n                 System.out.println(&quot;im in the loop&quot;);\r\n                 emailService.sendMessage(surveyParticipation.get(i), &quot;Notice: Survey will end soon&quot;, &quot;This survey is set to end in 7 days, please be sure to complete and submit it before the due date.&quot; );\r\n             }\r\n             System.out.println(&quot;we are returning true&quot;);\r\n             //return true if successful\r\n             return true;\r\n            \r\n         }\r\n         catch(Exception e){\r\n             //return false if unsuccessful\r\n             System.out.println(&quot;I have failed at sending email&quot;);\r\n             System.out.println(e.getMessage());\r\n             return false;\r\n         }\r\n     }\r\n```\r\n ","title":"Having a method run at application start continuously","body":"<p>I am having a little bit of trouble with something I am trying to pull off. I have an application that uses Java 19 and Springboot that is being hosted locally (but will eventually be hosted elsewhere). I have an SQL database setup on the same. I want to be able to send users an email, based on the due date of an event they are participating in. I have a few methods that allow me to query using JPA to find these emails, the issue I am having is actually calling these methods. I want these methods to run on intervals of 5 minutes always (that is to say, I want the methods to query the DB every 5 minutes of so). Is there a way to do this? As of now any call to a repository is triggered by events on the front-end, and I am uncertain as to how I could call these methods continuously? Please find below the methods:</p>\n<pre><code>mport java.util.Timer;\n\n//Main class\npublic class SchedulerMain {\n    \n    \n    \n    \n    //Timer for 7 days\n    public static Boolean sevenDays() throws InterruptedException {\n\n        Timer time = new Timer(); // Instantiate Timer Object\n        ScheduledTaskSevenDays st = new ScheduledTaskSevenDays(); // Instantiate SheduledTask class\n        time.schedule(st, 0, 300000); // Create Repetitively task for every 5 minutes\n        \n        return true;\n    \n    }\n}\n\n\npublic class ScheduledTaskSevenDays extends TimerTask {\n\n\n    @Autowired\n    private AdminService adminService;\n\n    // To run for 7 days\n    public void run() {\n        //Going to call on method here to gather participants and send email\n        adminService.SevenDayNotification();\n    }\n}\n\n public boolean SevenDayNotification() { \n        System.out.println(&quot;Start of email Method&quot;);\n         try {\n             \n             \n             //Get Survey Participation from DB\n             List&lt;String&gt; surveyParticipation;\n             surveyParticipation = surveyParticipationRepository.findAllParticipantEmailSevenDays();\n             System.out.println(&quot;we have a list of participants&quot;);\n \n             //send emails to all participants in the survey\n             for(int i = 0; i&lt;surveyParticipation.size(); i++)\n             {\n                 System.out.println(&quot;im in the loop&quot;);\n                 emailService.sendMessage(surveyParticipation.get(i), &quot;Notice: Survey will end soon&quot;, &quot;This survey is set to end in 7 days, please be sure to complete and submit it before the due date.&quot; );\n             }\n             System.out.println(&quot;we are returning true&quot;);\n             //return true if successful\n             return true;\n            \n         }\n         catch(Exception e){\n             //return false if unsuccessful\n             System.out.println(&quot;I have failed at sending email&quot;);\n             System.out.println(e.getMessage());\n             return false;\n         }\n     }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","liquibase"],"answers":[{"tags":[],"owner":{"account_id":5509485,"reputation":1,"user_id":4376280,"display_name":"Opeoluwa Odu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677898461,"creation_date":1677898461,"answer_id":75633374,"question_id":74831142,"body_markdown":"Maven timestamp by default produces an incompatible file name: **2022-12-17T01:09:39Z**\r\n\r\nTo change this you would have to add to your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n            &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"Liquibase maven plugin fails to create change log in version 4.17.0 or later","body":"<p>Maven timestamp by default produces an incompatible file name: <strong>2022-12-17T01:09:39Z</strong></p>\n<p>To change this you would have to add to your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.build.timestamp.format&gt;yyyyMMddHHmmss&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677898461,"creation_date":1671239711,"question_id":74831142,"body_markdown":"I upgraded liquibase from 4.16.1 to 4.18.0. When I run command\r\n\r\n    mvn liquibase:diff -Pdev -Dliquibase.url=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.username=&quot;db-admin&quot; -Dliquibase.password=&quot;PASSWORD&quot; -Dliquibase.referenceUrl=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.referenceUsername=&quot;sa&quot; -Dliquibase.referencePassword=&quot;PASSWORD&quot;\r\n\r\nI get the error\r\n\r\n    [ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.18.0:diff (default-cli) on project pres: \r\n    [ERROR] Error setting up or running Liquibase:\r\n    [ERROR] liquibase.exception.CommandExecutionException: java.io.IOException: Cannot parse resource location: &#39;src/main/resources/db/changelog/dev/2022-12-17T01:09:39Z_changelog.xml\r\n\r\n**pom.xml**\r\n```\r\n            &lt;!-- Liquibase plugin--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                    &lt;outputChangeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/outputChangeLogFile&gt;\r\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/changeLogFile&gt;\r\n                    &lt;diffChangeLogFile&gt;\r\n                        src/main/resources/db/changelog/${activeProfile}/${maven.build.timestamp}_changelog.xml\r\n                    &lt;/diffChangeLogFile&gt;\r\n                    &lt;logging&gt;info&lt;/logging&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;!-- Liquibase dependencies--&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase-core.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nIn 4.16.x or before liquibase creates change log file if not present and now it’s not creating it. Anything changed?\r\n","title":"Liquibase maven plugin fails to create change log in version 4.17.0 or later","body":"<p>I upgraded liquibase from 4.16.1 to 4.18.0. When I run command</p>\n<pre><code>mvn liquibase:diff -Pdev -Dliquibase.url=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.username=&quot;db-admin&quot; -Dliquibase.password=&quot;PASSWORD&quot; -Dliquibase.referenceUrl=&quot;jdbc:sqlserver://URL;encrypt=false&quot; -Dliquibase.referenceUsername=&quot;sa&quot; -Dliquibase.referencePassword=&quot;PASSWORD&quot;\n</code></pre>\n<p>I get the error</p>\n<pre><code>[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:4.18.0:diff (default-cli) on project pres: \n[ERROR] Error setting up or running Liquibase:\n[ERROR] liquibase.exception.CommandExecutionException: java.io.IOException: Cannot parse resource location: 'src/main/resources/db/changelog/dev/2022-12-17T01:09:39Z_changelog.xml\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>            &lt;!-- Liquibase plugin--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${liquibase-maven-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                    &lt;outputChangeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/outputChangeLogFile&gt;\n                    &lt;changeLogFile&gt;src/main/resources/db/db.changelog-${activeProfile}.xml&lt;/changeLogFile&gt;\n                    &lt;diffChangeLogFile&gt;\n                        src/main/resources/db/changelog/${activeProfile}/${maven.build.timestamp}_changelog.xml\n                    &lt;/diffChangeLogFile&gt;\n                    &lt;logging&gt;info&lt;/logging&gt;\n                &lt;/configuration&gt;\n\n                &lt;!-- Liquibase dependencies--&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-core.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                        &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                        &lt;version&gt;${liquibase-hibernate5.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n                        &lt;version&gt;${validation-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                        &lt;version&gt;${javassist.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                        &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>In 4.16.x or before liquibase creates change log file if not present and now it’s not creating it. Anything changed?</p>\n"},{"tags":["java","android","button"],"answers":[{"tags":[],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677896174,"creation_date":1677896174,"answer_id":75633249,"question_id":75600174,"body_markdown":"Well after a few days and more research i find a way to help me get what I want. It&#39;s actually funny, it&#39;s also quite simple.\r\n\r\nWhat you need is to call the layout containing the button, remove the child view (button) from that layout and add another layout.\r\n\r\nfirst you create 2 layouts in xml, in my case i need 3:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/one&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/two&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/men&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Mens&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/women&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Womens&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/boys&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Boys&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/girl&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Girls&quot;\r\n            &gt;&lt;/Button&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n```\r\nafter that you call and use the removeView, addView:\r\n```\r\n    package com.example.pushbutton;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button men,women,boy,girl;\r\n    LinearLayout one,two;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        men = findViewById(R.id.men);\r\n        women = findViewById(R.id.women);\r\n        boy = findViewById(R.id.boys);\r\n        girl = findViewById(R.id.girl);\r\n        one = findViewById(R.id.one);\r\n        two = findViewById(R.id.two);\r\n\r\n        men.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                two.removeView(men);\r\n                one.addView(men);\r\n            }\r\n        });\r\n\r\n    }\r\n    }\r\n```","title":"android studio: Automatic push/organize button when click","body":"<p>Well after a few days and more research i find a way to help me get what I want. It's actually funny, it's also quite simple.</p>\n<p>What you need is to call the layout containing the button, remove the child view (button) from that layout and add another layout.</p>\n<p>first you create 2 layouts in xml, in my case i need 3:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot; &gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/one&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/two&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/men&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Mens&quot;\n            &gt;&lt;/Button&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/women&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Womens&quot;\n            &gt;&lt;/Button&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/boys&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Boys&quot;\n            &gt;&lt;/Button&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/girl&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Girls&quot;\n            &gt;&lt;/Button&gt;\n\n    &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>after that you call and use the removeView, addView:</p>\n<pre><code>    package com.example.pushbutton;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.LinearLayout;\n\n    public class MainActivity extends AppCompatActivity {\n    Button men,women,boy,girl;\n    LinearLayout one,two;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        men = findViewById(R.id.men);\n        women = findViewById(R.id.women);\n        boy = findViewById(R.id.boys);\n        girl = findViewById(R.id.girl);\n        one = findViewById(R.id.one);\n        two = findViewById(R.id.two);\n\n        men.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                two.removeView(men);\n                one.addView(men);\n            }\n        });\n\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677896174,"creation_date":1677651588,"question_id":75600174,"body_markdown":"I&#39;m currently working on a small project for my semester when I run into a problem while designing the figma, preparing for implementation.\r\nThe problem is simple, that when the user presses one of the 4 buttons, the button pressed will be pushed up and if the user presses it again to cancel, it will return to the original position.\r\n\r\nImage example:\r\nhttps://i.stack.imgur.com/CiOBL.jpg\r\n\r\nI did try using 3 listview for this question, 2 contain other buttons and 1 only appear when  there is a button been pressed but fail due to my lack of knowledge and to confess it confuse me a lot.\r\n\r\nSo i am really gratefull if someone can help me with this, thank you in advance.  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CiOBL.jpg","title":"android studio: Automatic push/organize button when click","body":"<p>I'm currently working on a small project for my semester when I run into a problem while designing the figma, preparing for implementation.\nThe problem is simple, that when the user presses one of the 4 buttons, the button pressed will be pushed up and if the user presses it again to cancel, it will return to the original position.</p>\n<p>Image example:\n<a href=\"https://i.stack.imgur.com/CiOBL.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CiOBL.jpg</a></p>\n<p>I did try using 3 listview for this question, 2 contain other buttons and 1 only appear when  there is a button been pressed but fail due to my lack of knowledge and to confess it confuse me a lot.</p>\n<p>So i am really gratefull if someone can help me with this, thank you in advance.</p>\n"},{"tags":["java","command-line","classpath"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1571758377,"post_id":58507668,"comment_id":103343365,"body_markdown":"If you&#39;re using that path in an ant script, couldn&#39;t you let the script pick up those paths (e.g. configure them via properties) and let it expand them to the actual jar paths?","body":"If you&#39;re using that path in an ant script, couldn&#39;t you let the script pick up those paths (e.g. configure them via properties) and let it expand them to the actual jar paths?"},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":1,"creation_date":1571759557,"post_id":58507668,"comment_id":103344054,"body_markdown":"can you double check your command line- the should be `-classpath folder\\*` . That is, dont&#39;t forget the slash before `*`","body":"can you double check your command line- the should be <code>-classpath folder\\*</code> . That is, dont&#39;t forget the slash before <code>*</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1571763127,"post_id":58507668,"comment_id":103345771,"body_markdown":"Remove all spaces after each `;`.  Whitespace is not ignored in a classpath.  (And put a directory separator before each asterisk, as Daniele said.)","body":"Remove all spaces after each <code>;</code>.  Whitespace is not ignored in a classpath.  (And put a directory separator before each asterisk, as Daniele said.)"},{"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"score":0,"creation_date":1571779273,"post_id":58507668,"comment_id":103352328,"body_markdown":"yes the stackoverflow editor was not displaying the slash before the * if I use a single backslash \\\\* in the path, I have updated the question to use \\\\\\* and to display it as expected","body":"yes the stackoverflow editor was not displaying the slash before the * if I use a single backslash \\* in the path, I have updated the question to use \\\\* and to display it as expected"}],"answers":[{"tags":[],"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677895888,"creation_date":1571778973,"answer_id":58512423,"question_id":58507668,"body_markdown":"Here is the solution that finally worked as expected. When the &#39;*&#39; character is used in the classpath for my specific scenario, it skipped everything after the first path. Using the double quotes (&quot;) for each path separately and then using &quot;;&quot; as the delimiter is the solution.\r\n\r\nHaving any space before or after the semi-colon &quot;;&quot; will also not work\r\n\r\n```shell\r\njavac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\core\\locale\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\ext\\\\*&quot; testClass.java\r\n```","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>Here is the solution that finally worked as expected. When the '*' character is used in the classpath for my specific scenario, it skipped everything after the first path. Using the double quotes (&quot;) for each path separately and then using &quot;;&quot; as the delimiter is the solution.</p>\n<p>Having any space before or after the semi-colon &quot;;&quot; will also not work</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\core\\locale\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\\\*&quot;;&quot;C:\\Program Files\\lib\\java\\modules\\ext\\\\*&quot; testClass.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606306026,"creation_date":1606306026,"answer_id":65004401,"question_id":58507668,"body_markdown":"If you have jars in different directories, you need to set class path to all of this directory. \r\n\r\nWindows\r\n\r\n    java -cp ./folder1/*;./folder2/*;./folder3/* com.xyz.MainClass\r\n\r\nLinux ( ; is changed to :)\r\n\r\n    java -cp ./folder1/*:./folder2/*:./folder3/* com.xyz.MainClass","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>If you have jars in different directories, you need to set class path to all of this directory.</p>\n<p>Windows</p>\n<pre><code>java -cp ./folder1/*;./folder2/*;./folder3/* com.xyz.MainClass\n</code></pre>\n<p>Linux ( ; is changed to :)</p>\n<pre><code>java -cp ./folder1/*:./folder2/*:./folder3/* com.xyz.MainClass\n</code></pre>\n"}],"owner":{"account_id":9771678,"reputation":21,"user_id":7243336,"display_name":"Srinivas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10063,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58512423,"answer_count":2,"score":1,"last_activity_date":1677895888,"creation_date":1571758189,"question_id":58507668,"body_markdown":"I am trying to run a simple java class using Windows command line. I have set JAVA_HOME and added it to the System path variable.\r\n\r\nI have multiple jars in different folders and I am trying to add all of them using classpath using the below command. However when &quot;*&quot; is used, only the first path is picked by classpath and it is ignoring the remaining paths though I am using the &quot;;&quot; character. It does not work if the path uses the &quot;/&quot; separator. \r\nIs it possible to specify paths to multiple folders that have jar files and compile from a command line\r\n\r\n\r\njavac -verbose -classpath &quot;C:\\Program Files\\lib\\java\\core\\\\*; C:\\Program Files\\lib\\java\\core\\locale\\\\*; C:\\Program Files\\lib\\java\\modules\\\\*; C:\\Program Files\\lib\\java\\modules\\ext\\\\*;&quot; testClass.java\r\n\r\nUltimately I want to use this classpath setup in an ant script in netbeans project properties to simplify the setup.","title":"set java classpath to multiple folders that have jar files and run from command line","body":"<p>I am trying to run a simple java class using Windows command line. I have set JAVA_HOME and added it to the System path variable.</p>\n\n<p>I have multiple jars in different folders and I am trying to add all of them using classpath using the below command. However when \"*\" is used, only the first path is picked by classpath and it is ignoring the remaining paths though I am using the \";\" character. It does not work if the path uses the \"/\" separator. \nIs it possible to specify paths to multiple folders that have jar files and compile from a command line</p>\n\n<p>javac -verbose -classpath \"C:\\Program Files\\lib\\java\\core\\*; C:\\Program Files\\lib\\java\\core\\locale\\*; C:\\Program Files\\lib\\java\\modules\\*; C:\\Program Files\\lib\\java\\modules\\ext\\*;\" testClass.java</p>\n\n<p>Ultimately I want to use this classpath setup in an ant script in netbeans project properties to simplify the setup.</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677887017,"post_id":75632662,"comment_id":133432589,"body_markdown":"Why is `randValues` a `Comparable[]` instead of `Integer[]`?","body":"Why is <code>randValues</code> a <code>Comparable[]</code> instead of <code>Integer[]</code>?"},{"owner":{"account_id":26996044,"reputation":11,"user_id":20558135,"display_name":"Jael"},"score":0,"creation_date":1677887192,"post_id":75632662,"comment_id":133432610,"body_markdown":"So I could run it through my mergesort method","body":"So I could run it through my mergesort method"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1677887265,"post_id":75632662,"comment_id":133432624,"body_markdown":"You can still pass it. `Integer[]` is a subclass of `Comparable[]`. (Plus it&#39;s not a [raw type](https://stackoverflow.com/q/2770321/1553851).)","body":"You can still pass it. <code>Integer[]</code> is a subclass of <code>Comparable[]</code>. (Plus it&#39;s not a <a href=\"https://stackoverflow.com/q/2770321/1553851\">raw type</a>.)"}],"answers":[{"tags":[],"owner":{"account_id":195169,"reputation":2946,"user_id":1128593,"display_name":"David Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677888611,"creation_date":1677888611,"answer_id":75632843,"question_id":75632662,"body_markdown":"You can achieve this using the built-in sorting capabilities and the [Comparator][1] interface.\r\n\r\n    import java.util.Random;\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    String[] names = {&quot;James&quot;, &quot;Oliver&quot;, &quot;Liam&quot;, &quot;Noah&quot;, &quot;Ethan&quot;, &quot;Lucas&quot;, &quot;Henry&quot;, &quot;Owen&quot;, &quot;Leo&quot;, &quot;Mason&quot;};\r\n    Random rand = new Random();\r\n\r\n    Arrays.sort(names, comparing(s -&gt; rand.nextInt()));\r\n\r\nThe static `Comparators.comparing` function creates a `Comparator` from a given lambda function that, in this case, merely needs to return some random number.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html","title":"Shuffling array according to assigned random values","body":"<p>You can achieve this using the built-in sorting capabilities and the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> interface.</p>\n<pre><code>import java.util.Random;\nimport static java.util.stream.Collectors.*;\n\nString[] names = {&quot;James&quot;, &quot;Oliver&quot;, &quot;Liam&quot;, &quot;Noah&quot;, &quot;Ethan&quot;, &quot;Lucas&quot;, &quot;Henry&quot;, &quot;Owen&quot;, &quot;Leo&quot;, &quot;Mason&quot;};\nRandom rand = new Random();\n\nArrays.sort(names, comparing(s -&gt; rand.nextInt()));\n</code></pre>\n<p>The static <code>Comparators.comparing</code> function creates a <code>Comparator</code> from a given lambda function that, in this case, merely needs to return some random number.</p>\n"}],"owner":{"account_id":26996044,"reputation":11,"user_id":20558135,"display_name":"Jael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677894908,"creation_date":1677885891,"question_id":75632662,"body_markdown":"I watched a [video disscussing a shuffling algorithm that runs at O(nlogn)](https://youtu.be/4zx5bM2OcvA?t=111)\r\nThe following python code is given:\r\n```\r\ndef shuffle(arr):\r\n      rand_values = [random.random() for i in range(len(arr))]\r\n      rand_indexes = [i for i in range(len(arr))]\r\n      rand_indexes.sort(key=lambda i: rand_values[i])\r\n      arr = [arr[i] for i in rand_indexes]\r\n```\r\nIn the method an array of random values is created eg `[57,12,84,5,71]`\r\nAn array of index is created eg `[0,1,2,3,4]`\r\nThen the index array is sorted accroing to the rand values eg `[3,1,0,4,2]`\r\nFinally the array is shuffled using the random indexes array eg if arr = `[H,o,w,d,y]` it would be shuffled as `[d,o,H,y,w]`\r\n\r\nI am trying to get the same algrothim working in Java so it still runs in O(nlogn) without using any packages besides Random\r\n\r\nWhat I have at the moment: \r\n\r\n```\r\npublic void shuffle(Object[] a) {\r\n    \tif (a.length &lt; 2) {\r\n    \t\treturn;\r\n    \t}\r\n\r\n    \tint size = a.length;\r\n    \tRandom rand = new Random();\r\n    \tComparable[] randValues = new Comparable[size];\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\trandValues[i] = rand.nextInt(Integer.MAX_VALUE);\r\n    \t}\r\n    \t\r\n    \tObject randIndex[] = new Object[a.length];\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\trandIndex[i] = i;\r\n    \t}\r\n    \t\r\n    \tComparable[] sortedArr = mergesort(randValues);\r\n        //mergesort is a seperate sorting method with param Comparable[] a\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\t\trandIndex[i] = sortedArr[i];\r\n    \t\t}\r\n    \t\r\n    \tfor (int i = 0; i &lt; size; i++) {\r\n    \t\tint index = (int) randIndex[i];\r\n    \t\ta[i] =  a[index];\r\n    \t}\r\n    \t\r\n    }\r\n```\r\nCurrently, I am stuck trying to sort the `randIndex` array based of the random values.","title":"Shuffling array according to assigned random values","body":"<p>I watched a <a href=\"https://youtu.be/4zx5bM2OcvA?t=111\" rel=\"nofollow noreferrer\">video disscussing a shuffling algorithm that runs at O(nlogn)</a>\nThe following python code is given:</p>\n<pre><code>def shuffle(arr):\n      rand_values = [random.random() for i in range(len(arr))]\n      rand_indexes = [i for i in range(len(arr))]\n      rand_indexes.sort(key=lambda i: rand_values[i])\n      arr = [arr[i] for i in rand_indexes]\n</code></pre>\n<p>In the method an array of random values is created eg <code>[57,12,84,5,71]</code>\nAn array of index is created eg <code>[0,1,2,3,4]</code>\nThen the index array is sorted accroing to the rand values eg <code>[3,1,0,4,2]</code>\nFinally the array is shuffled using the random indexes array eg if arr = <code>[H,o,w,d,y]</code> it would be shuffled as <code>[d,o,H,y,w]</code></p>\n<p>I am trying to get the same algrothim working in Java so it still runs in O(nlogn) without using any packages besides Random</p>\n<p>What I have at the moment:</p>\n<pre><code>public void shuffle(Object[] a) {\n        if (a.length &lt; 2) {\n            return;\n        }\n\n        int size = a.length;\n        Random rand = new Random();\n        Comparable[] randValues = new Comparable[size];\n        for (int i = 0; i &lt; size; i++) {\n            randValues[i] = rand.nextInt(Integer.MAX_VALUE);\n        }\n        \n        Object randIndex[] = new Object[a.length];\n        for (int i = 0; i &lt; size; i++) {\n            randIndex[i] = i;\n        }\n        \n        Comparable[] sortedArr = mergesort(randValues);\n        //mergesort is a seperate sorting method with param Comparable[] a\n        for (int i = 0; i &lt; size; i++) {\n                randIndex[i] = sortedArr[i];\n            }\n        \n        for (int i = 0; i &lt; size; i++) {\n            int index = (int) randIndex[i];\n            a[i] =  a[index];\n        }\n        \n    }\n</code></pre>\n<p>Currently, I am stuck trying to sort the <code>randIndex</code> array based of the random values.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4998538,"reputation":11306,"user_id":4018207,"accept_rate":81,"display_name":"AndiGeeky"},"score":0,"creation_date":1444308891,"post_id":33016327,"comment_id":53855745,"body_markdown":"Simple use `Volley` or `Retrofit`..!!","body":"Simple use <code>Volley</code> or <code>Retrofit</code>..!!"},{"owner":{"account_id":321908,"reputation":5944,"user_id":641020,"accept_rate":75,"display_name":"J.G.Sebring"},"score":0,"creation_date":1444309143,"post_id":33016327,"comment_id":53855965,"body_markdown":"This is because the package `org.apache.http` is no longer included in sdk 23+ - http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client","body":"This is because the package <code>org.apache.http</code> is no longer included in sdk 23+ - <a href=\"http://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-apache-http-client\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/marshmallow/&hellip;</a>"},{"owner":{"account_id":5056228,"reputation":45,"user_id":4059396,"accept_rate":22,"display_name":"Ryan Scollard"},"score":0,"creation_date":1444311420,"post_id":33016327,"comment_id":53857800,"body_markdown":"How do I replace my existing code so I can use Retrofit?...Is there no new library I can call in that will call in these methods?","body":"How do I replace my existing code so I can use Retrofit?...Is there no new library I can call in that will call in these methods?"}],"answers":[{"tags":[],"owner":{"account_id":4495789,"reputation":329,"user_id":3655609,"display_name":"Wael Galal El Deen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447576932,"creation_date":1447576932,"answer_id":33717859,"question_id":33016327,"body_markdown":"Apache HTTP Client Removal\r\nAndroid 6.0 release removes support for the Apache HTTP client. If your app is using this client and targets Android 2.3 (API level 9) or higher, use the HttpURLConnection class instead. This API is more efficient because it reduces network use through transparent compression and response caching, and minimizes power consumption. \r\n\r\nHere is an example to use the new class:\r\n\r\n    URL url = new URL(&quot;http://www.android.com/&quot;);\r\n       HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n       try {\r\n         InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n         readStream(in);\r\n        finally {\r\n         urlConnection.disconnect();\r\n       }\r\n    }\r\n\r\nTo continue using the Apache HTTP APIs, you must first declare the following compile-time dependency in your build.gradle file:\r\n\r\n    android {\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n    }\r\n\r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>Apache HTTP Client Removal\nAndroid 6.0 release removes support for the Apache HTTP client. If your app is using this client and targets Android 2.3 (API level 9) or higher, use the HttpURLConnection class instead. This API is more efficient because it reduces network use through transparent compression and response caching, and minimizes power consumption. </p>\n\n<p>Here is an example to use the new class:</p>\n\n<pre><code>URL url = new URL(\"http://www.android.com/\");\n   HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n   try {\n     InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n     readStream(in);\n    finally {\n     urlConnection.disconnect();\n   }\n}\n</code></pre>\n\n<p>To continue using the Apache HTTP APIs, you must first declare the following compile-time dependency in your build.gradle file:</p>\n\n<pre><code>android {\n    useLibrary 'org.apache.http.legacy'\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1581412"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456389883,"creation_date":1456389883,"answer_id":35622299,"question_id":33016327,"body_markdown":"You have to add the dependencies of HttpClient in your build.gradle file:\r\n\r\nandroid {\r\n\r\n    compileSdkVersion 23\r\n\r\n    buildToolsVersion &quot;22.0.1&quot;\r\n\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n\r\n    ...\r\n\r\n}","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>You have to add the dependencies of HttpClient in your build.gradle file:</p>\n\n<p>android {</p>\n\n<pre><code>compileSdkVersion 23\n\nbuildToolsVersion \"22.0.1\"\n\nuseLibrary 'org.apache.http.legacy'\n\n...\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3846747,"reputation":1146,"user_id":6223139,"display_name":"Vaishakh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461050929,"creation_date":1461050929,"answer_id":36711419,"question_id":33016327,"body_markdown":"The Apache httpclient module that contains `NameValuePair`,`DefaultHttpClient`,`HttpParams` etc are deprecated from Android Api level 22 Lollipop 5.1 onwards, if you still want to use these deprecated classes in your project then add a line `useLibrary &#39;org.apache.http.legacy&#39;` in your app&#39;s build.gradle file inside the android block as shown below and sync project\r\n    \r\n    android {\r\n    compileSdkVersion 23\r\n    buildToolsVersion &quot;23.0.3&quot;\r\n    useLibrary &#39;org.apache.http.legacy&#39;","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>The Apache httpclient module that contains <code>NameValuePair</code>,<code>DefaultHttpClient</code>,<code>HttpParams</code> etc are deprecated from Android Api level 22 Lollipop 5.1 onwards, if you still want to use these deprecated classes in your project then add a line <code>useLibrary 'org.apache.http.legacy'</code> in your app's build.gradle file inside the android block as shown below and sync project</p>\n\n<pre><code>android {\ncompileSdkVersion 23\nbuildToolsVersion \"23.0.3\"\nuseLibrary 'org.apache.http.legacy'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11127352,"reputation":67,"user_id":8168420,"display_name":"kader hussain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664794767,"creation_date":1664794767,"answer_id":73934456,"question_id":33016327,"body_markdown":" \r\nimplementation &#39;com.google.http-client:google-http-client-android:+&#39;\r\n\r\n   implementation &#39;com.google.api-client:google-api-client-android:+&#39;\r\n\r\n   implementation &#39;com.google.http-client:google-http-client-gson:+&#39;\r\n  \r\nadd this 3 in Gradle file\r\n\r\n`android {\r\n    useLibrary &#39;org.apache.http.legacy&#39; //add this one\r\n}`\r\n\r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>implementation 'com.google.http-client:google-http-client-android:+'</p>\n<p>implementation 'com.google.api-client:google-api-client-android:+'</p>\n<p>implementation 'com.google.http-client:google-http-client-gson:+'</p>\n<p>add this 3 in Gradle file</p>\n<p><code>android { useLibrary 'org.apache.http.legacy' //add this one }</code></p>\n"}],"owner":{"account_id":5056228,"reputation":45,"user_id":4059396,"accept_rate":22,"display_name":"Ryan Scollard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7864,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1677891755,"creation_date":1444308544,"question_id":33016327,"body_markdown":"I am currently developing a login and registration page using Android Studio. I am having issues with HttpParams and NameValuePair being deprecated. It&#39;s Android Studio 1.4. Is there libraries I can import for this?\r\n\r\n    @Override\r\n        protected Void doInBackground(Void... params) {\r\n            ArrayList&lt;NameValuePair&gt; dataToSend = new ArrayList&lt;&gt;();\r\n            dataToSend.add(new BasicNameValuerPair(&quot;name&quot;, user.name));\r\n            dataToSend.add(new BasicNameValuerPair(&quot;username&quot;, user.username));\r\n            dataToSend.add(new BasicNameValuerPair(&quot;password&quot;, user.password));\r\n\r\n            HttpParams httpRequestParams = new BasicHttpParams();\r\n            HttpConnectionParams.setConnectionTimeout(httpRequestParams, CONNECTION_TIMEOUT);\r\n\r\n \r\n","title":"HttpParams &amp; NameValuePair deprecated in Android Studio","body":"<p>I am currently developing a login and registration page using Android Studio. I am having issues with HttpParams and NameValuePair being deprecated. It's Android Studio 1.4. Is there libraries I can import for this?</p>\n\n<pre><code>@Override\n    protected Void doInBackground(Void... params) {\n        ArrayList&lt;NameValuePair&gt; dataToSend = new ArrayList&lt;&gt;();\n        dataToSend.add(new BasicNameValuerPair(\"name\", user.name));\n        dataToSend.add(new BasicNameValuerPair(\"username\", user.username));\n        dataToSend.add(new BasicNameValuerPair(\"password\", user.password));\n\n        HttpParams httpRequestParams = new BasicHttpParams();\n        HttpConnectionParams.setConnectionTimeout(httpRequestParams, CONNECTION_TIMEOUT);\n</code></pre>\n"},{"tags":["java","rest","cryptography","ssl-certificate","truststore"],"owner":{"account_id":27376582,"reputation":1,"user_id":20881825,"display_name":"user20881825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677891568,"creation_date":1677868296,"question_id":75630682,"body_markdown":"I have java program which contains the RestAPI calls. I got root certificate from server side which contains one immediate certificate. I need to import this root certificate at client side to provide HTTPS SSL support. To do that, I need to store the public key of immediate certificate into the java trust store on local side. For that, I exported the immediate key form root certs via keystore explorer tool and imported that cacerts with keytool and my web service ran successfully. But I don&#39;t want to do this manual step so is there any way if I can import the root certificate(p12) into the java truststore and it automatically can pick immediate public key when required. Or if we can get all the immediate certificates from root and can load that into the keystore. \r\n\r\nOr is there any way to get the all immediate keys from root certificate and can load that into the TrustManager through java?\r\n\r\nI know there are multiple solutions provided on the internal regarding this but nothing worked for me.\r\n\r\nI want a solution to import immediate certs form the root certificate into the cacerts.","title":"Getting issue unable to find valid certification path to requested target when using root certificate containing immediate certificate","body":"<p>I have java program which contains the RestAPI calls. I got root certificate from server side which contains one immediate certificate. I need to import this root certificate at client side to provide HTTPS SSL support. To do that, I need to store the public key of immediate certificate into the java trust store on local side. For that, I exported the immediate key form root certs via keystore explorer tool and imported that cacerts with keytool and my web service ran successfully. But I don't want to do this manual step so is there any way if I can import the root certificate(p12) into the java truststore and it automatically can pick immediate public key when required. Or if we can get all the immediate certificates from root and can load that into the keystore.</p>\n<p>Or is there any way to get the all immediate keys from root certificate and can load that into the TrustManager through java?</p>\n<p>I know there are multiple solutions provided on the internal regarding this but nothing worked for me.</p>\n<p>I want a solution to import immediate certs form the root certificate into the cacerts.</p>\n"},{"tags":["java","android","storage","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1597173762,"post_id":63364476,"comment_id":112046249,"body_markdown":"Indeed. That is only for Android Q.","body":"Indeed. That is only for Android Q."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1597173825,"post_id":63364476,"comment_id":112046287,"body_markdown":"`Some of the files in the download directories were not listing`. I think that not a single file is listed.","body":"<code>Some of the files in the download directories were not listing</code>. I think that not a single file is listed."},{"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"score":0,"creation_date":1597203575,"post_id":63364476,"comment_id":112053774,"body_markdown":"Yes, that is true","body":"Yes, that is true"}],"answers":[{"tags":[],"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1618998019,"creation_date":1597174824,"answer_id":63365276,"question_id":63364476,"body_markdown":"&gt; But now when I targetSdkVersion 30, this no longer seems to work\r\n\r\nThat is correct.  Android 11 (API 30+)  `requestLegacyExternalStorage=true` does nothing and you can no longer &quot;opt-out&quot;.  It was available in Android 10 to give developers a transition/grace period to be able to migrate to the scoped storage model.\r\n\r\nOption 1: Migrate data in your app whilst still targeting API 29, then once you&#39;re migrated data is compatible with scoped storage you should be able to release an update targetting API 30 - https://developer.android.com/training/data-storage/use-cases\r\n\r\nThis can come with its own problems if users skip this version and updates directly from a previous version to the latest and you&#39;re stuck with un-migrated data you can&#39;t access.\r\n\r\nOption 2: It seems that Google sees this obvious caveat and has included a `preserveLegacyExternalStorage=true` option when targetting API 30 to allow you to migrate data. https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\r\n\r\nGoing forward you can reference this table for deciding what storage &quot;framework&quot; to use based on the use-case: https://developer.android.com/training/data-storage\r\n\r\nThere is a potential that some apps simply won&#39;t be able to successfully migrate, based on how they interacted with the `File` API as Google&#39;s solution will not encompass all current use-cases and there might not be a migration path. \r\n\r\nFor instance, I released an app a couple of years ago that allowed users to update album artwork using `MediaStore` and `ContentResolver` to update the data for the album artwork image - this was stored in shared storage. Having looked at the Android 10+ AOSP `MediaProvider` source code it seems that apps that used to use `MediaStore` to update album artwork to point to a data file no longer works, simply because the `MediaProvider` internally creates its own artwork in a hidden `.thumbnails` folder looking directly at the mp3&#39;s and using a `MediaExtractor`, and never references the `ContentValues` that were inserted to reference the artwork.  So even though you can update the artwork yourself, query the `MediaStore` for it and see it, other apps have to use `ContentResolver#loadThumbnail` in API 29+ that does not reference your updated values and either creates an artwork lazily, or picks the already generated file in the `.thumbnails` folder.  Obviously, none of this is documented, and I got a massive backlash to my app with negative reviews, yet these changes were breaking changes and completely out of my control and took me looking through AOSP source code to find that Android had fundamentally changed behaviour.  \r\n\r\n(This wasn&#39;t a rant, but an example of how these changes offered no migration path because of fundamental undocumented behaviour to AOSP).\r\n\r\n","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<blockquote>\n<p>But now when I targetSdkVersion 30, this no longer seems to work</p>\n</blockquote>\n<p>That is correct.  Android 11 (API 30+)  <code>requestLegacyExternalStorage=true</code> does nothing and you can no longer &quot;opt-out&quot;.  It was available in Android 10 to give developers a transition/grace period to be able to migrate to the scoped storage model.</p>\n<p>Option 1: Migrate data in your app whilst still targeting API 29, then once you're migrated data is compatible with scoped storage you should be able to release an update targetting API 30 - <a href=\"https://developer.android.com/training/data-storage/use-cases\" rel=\"noreferrer\">https://developer.android.com/training/data-storage/use-cases</a></p>\n<p>This can come with its own problems if users skip this version and updates directly from a previous version to the latest and you're stuck with un-migrated data you can't access.</p>\n<p>Option 2: It seems that Google sees this obvious caveat and has included a <code>preserveLegacyExternalStorage=true</code> option when targetting API 30 to allow you to migrate data. <a href=\"https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\" rel=\"noreferrer\">https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage</a></p>\n<p>Going forward you can reference this table for deciding what storage &quot;framework&quot; to use based on the use-case: <a href=\"https://developer.android.com/training/data-storage\" rel=\"noreferrer\">https://developer.android.com/training/data-storage</a></p>\n<p>There is a potential that some apps simply won't be able to successfully migrate, based on how they interacted with the <code>File</code> API as Google's solution will not encompass all current use-cases and there might not be a migration path.</p>\n<p>For instance, I released an app a couple of years ago that allowed users to update album artwork using <code>MediaStore</code> and <code>ContentResolver</code> to update the data for the album artwork image - this was stored in shared storage. Having looked at the Android 10+ AOSP <code>MediaProvider</code> source code it seems that apps that used to use <code>MediaStore</code> to update album artwork to point to a data file no longer works, simply because the <code>MediaProvider</code> internally creates its own artwork in a hidden <code>.thumbnails</code> folder looking directly at the mp3's and using a <code>MediaExtractor</code>, and never references the <code>ContentValues</code> that were inserted to reference the artwork.  So even though you can update the artwork yourself, query the <code>MediaStore</code> for it and see it, other apps have to use <code>ContentResolver#loadThumbnail</code> in API 29+ that does not reference your updated values and either creates an artwork lazily, or picks the already generated file in the <code>.thumbnails</code> folder.  Obviously, none of this is documented, and I got a massive backlash to my app with negative reviews, yet these changes were breaking changes and completely out of my control and took me looking through AOSP source code to find that Android had fundamentally changed behaviour.</p>\n<p>(This wasn't a rant, but an example of how these changes offered no migration path because of fundamental undocumented behaviour to AOSP).</p>\n"},{"tags":[],"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1632617568,"creation_date":1597175100,"answer_id":63365334,"question_id":63364476,"body_markdown":"As stated in https://developer.android.com/about/versions/11/privacy/storage there are some changes regarding storage on Android 11:\r\n\r\n- Android 10 devices\r\n  - `requestLegacyExternalStorage` will continue to work regardless of target sdk\r\n- Android 11 devices\r\n  - new installation targetting sdk 29: `requestLegacyExternalStorage` value is respected \r\n  - new installation targetting sdk 30: `requestLegacyExternalStorage` is always `false`\r\n  - upgrade from targetting sdk 29 to 30: if [`preserveLegacyExternalStorage`][1] is set then `requestLegacyExternalStorage` is `true` (this is pure migration case and this state won&#39;t be preserved should user uninstall/reinstall the app)\r\n\r\nYou&#39;re pretty much forced to implement scoped storage at this point. Unless you&#39;re ready to migrate just keep targetting sdk 29 as there&#39;s no way to enforce legacy storage on Android 11 devices with target sdk 30.\r\n\r\n*update: play store requires target sdk 30 as of August 2021*\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>As stated in <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a> there are some changes regarding storage on Android 11:</p>\n<ul>\n<li>Android 10 devices\n<ul>\n<li><code>requestLegacyExternalStorage</code> will continue to work regardless of target sdk</li>\n</ul>\n</li>\n<li>Android 11 devices\n<ul>\n<li>new installation targetting sdk 29: <code>requestLegacyExternalStorage</code> value is respected</li>\n<li>new installation targetting sdk 30: <code>requestLegacyExternalStorage</code> is always <code>false</code></li>\n<li>upgrade from targetting sdk 29 to 30: if <a href=\"https://developer.android.com/reference/android/R.attr#preserveLegacyExternalStorage\" rel=\"noreferrer\"><code>preserveLegacyExternalStorage</code></a> is set then <code>requestLegacyExternalStorage</code> is <code>true</code> (this is pure migration case and this state won't be preserved should user uninstall/reinstall the app)</li>\n</ul>\n</li>\n</ul>\n<p>You're pretty much forced to implement scoped storage at this point. Unless you're ready to migrate just keep targetting sdk 29 as there's no way to enforce legacy storage on Android 11 devices with target sdk 30.</p>\n<p><em>update: play store requires target sdk 30 as of August 2021</em></p>\n"},{"tags":[],"owner":{"account_id":18360968,"reputation":425,"user_id":13373095,"display_name":"Rituraj Shakti"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608468930,"creation_date":1608468930,"answer_id":65380083,"question_id":63364476,"body_markdown":"Don&#39;t do this until early 2021 (said by google):-\r\n\r\nIf you want to target to android 11, you should use the MANAGE_EXTERNAL_STORAGE permission.\r\n\r\nVisit this page for more details: https://developer.android.com/training/data-storage/manage-all-files","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Don't do this until early 2021 (said by google):-</p>\n<p>If you want to target to android 11, you should use the MANAGE_EXTERNAL_STORAGE permission.</p>\n<p>Visit this page for more details: <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/manage-all-files</a></p>\n"},{"tags":[],"owner":{"account_id":3385111,"reputation":718,"user_id":2841217,"display_name":"Ajay Prajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622131268,"creation_date":1622131268,"answer_id":67725873,"question_id":63364476,"body_markdown":"Applications that run on Android 11 but target Android 10 (API level 29) can still request the requestLegacyExternalStorage attribute. This flag allows applications to temporarily opt out of the changes associated with scoped storage, such as granting access to different directories and different types of media files. \r\n**After updating application to target Android 11, the system ignores the requestLegacyExternalStorage flag.**","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Applications that run on Android 11 but target Android 10 (API level 29) can still request the requestLegacyExternalStorage attribute. This flag allows applications to temporarily opt out of the changes associated with scoped storage, such as granting access to different directories and different types of media files.\n<strong>After updating application to target Android 11, the system ignores the requestLegacyExternalStorage flag.</strong></p>\n"},{"tags":[],"owner":{"account_id":4185789,"reputation":24,"user_id":3429579,"display_name":"Hesam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635799536,"creation_date":1635799124,"answer_id":69802544,"question_id":63364476,"body_markdown":"No need to call &quot;requestLegacyExternalStorage=true&quot; which is not working for Android 11+.\r\n\r\nThere is a new update in https://github.com/apache/cordova-plugin-media to cover the saving file path issue for android 11+.\r\n\r\nIf you update &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioHandler.java&quot; and &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioPlayer.java&quot; in your project, then it should be working. \r\n\r\nhttps://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java\r\n\r\n\r\nhttps://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java\r\n\r\n\r\n","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>No need to call &quot;requestLegacyExternalStorage=true&quot; which is not working for Android 11+.</p>\n<p>There is a new update in <a href=\"https://github.com/apache/cordova-plugin-media\" rel=\"nofollow noreferrer\">https://github.com/apache/cordova-plugin-media</a> to cover the saving file path issue for android 11+.</p>\n<p>If you update &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioHandler.java&quot; and &quot;/platforms/android/app/src/main/java/org/apache/cordova/media/AudioPlayer.java&quot; in your project, then it should be working.</p>\n<p><a href=\"https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioHandler.java</a></p>\n<p><a href=\"https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/apache/cordova-plugin-media/4093f7e14fe65f94ffbef072ed188a0205e78a59/src/android/AudioPlayer.java</a></p>\n"}],"owner":{"account_id":7717943,"reputation":2840,"user_id":5845024,"accept_rate":75,"display_name":"Ebin Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95104,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":63365276,"answer_count":5,"score":48,"last_activity_date":1677889873,"creation_date":1597171381,"question_id":63364476,"body_markdown":"Google has introduced some changes recently related to storage APIs in API 29 like scoped storage and we opted out by adding &#39;requestLegacyExternalStorage=true&#39; in Manifest. But now when I targetSdkVersion 30, this no longer seems to work. Some of the files in the download directories were not listing (File.listFiles) after this change.","title":"requestLegacyExternalStorage is not working in Android 11 - API 30","body":"<p>Google has introduced some changes recently related to storage APIs in API 29 like scoped storage and we opted out by adding 'requestLegacyExternalStorage=true' in Manifest. But now when I targetSdkVersion 30, this no longer seems to work. Some of the files in the download directories were not listing (File.listFiles) after this change.</p>\n"},{"tags":["java","jlink","jdeps"],"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677888799,"creation_date":1677888799,"question_id":75632855,"body_markdown":"I am working on a JAVA project with ECLIPSE.\r\nI would like to use XSLT3.\r\nFor that, I need to import a package called SAXON.HE.jar\r\n\r\nMy Java Version is 14.\r\n\r\nWhen I use jdeps to get the SAXON.HE.jar dependencies, I get :\r\n\r\n       net.sf.saxon.trans  -&gt; org.apache.xml.resolver  **not found**\r\n       net.sf.saxon.trans  -&gt; org.apache.xml.resolver.helpers  **not found**\r\n    \r\n       net.sf.saxon.gizmo   -&gt; jline.console     **not found**\r\n       net.sf.saxon.gizmo   -&gt; jline.console.completer       **not found**\r\n       net.sf.saxon.gizmo   -&gt; jline.internal            **not found**\r\n\r\nSo I am not able to create my custom JRE with JLink because I have an error because of this not found objects.\r\n\r\nHow can I solve that ?","title":"Get a fuctionnal jar with jlink","body":"<p>I am working on a JAVA project with ECLIPSE.\nI would like to use XSLT3.\nFor that, I need to import a package called SAXON.HE.jar</p>\n<p>My Java Version is 14.</p>\n<p>When I use jdeps to get the SAXON.HE.jar dependencies, I get :</p>\n<pre><code>   net.sf.saxon.trans  -&gt; org.apache.xml.resolver  **not found**\n   net.sf.saxon.trans  -&gt; org.apache.xml.resolver.helpers  **not found**\n\n   net.sf.saxon.gizmo   -&gt; jline.console     **not found**\n   net.sf.saxon.gizmo   -&gt; jline.console.completer       **not found**\n   net.sf.saxon.gizmo   -&gt; jline.internal            **not found**\n</code></pre>\n<p>So I am not able to create my custom JRE with JLink because I have an error because of this not found objects.</p>\n<p>How can I solve that ?</p>\n"},{"tags":["java","spring-boot","maven","google-secret-manager","spring-starter"],"comments":[{"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"score":0,"creation_date":1682514975,"post_id":75632802,"comment_id":134228048,"body_markdown":"Same problem here. It was working fine until recently, and I don&#39;t know why. Dis you find any solution ?","body":"Same problem here. It was working fine until recently, and I don&#39;t know why. Dis you find any solution ?"}],"owner":{"account_id":15171388,"reputation":39,"user_id":10947324,"display_name":"Gunni Saggu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677887904,"creation_date":1677887904,"question_id":75632802,"body_markdown":"Receiving this error while using secrets from GCP secret manager. It works fine when the service is deployed in cloud. But running on local machine throws DEADLINE_EXCEEDED.\r\n\r\nDependencies I am using\r\n\r\n```\r\nspring boot version = 2.3.6.RELEASE\r\n&lt;spring-cloud-gcp.version&gt;1.2.8.RELEASE&lt;/spring-cloud-gcp.version&gt;\r\n&lt;spring-boot-release.version&gt;2.3.4.RELEASE&lt;/spring-boot-release.version&gt;\r\n&lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\r\n &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nusing secrets like this in application.yaml\r\nId: ${sm://projects/{project-id}/secrets/clientid}\r\n\r\nalready tried with different version of dependencies but no luck","title":"com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED while using spring-cloud-gcp-starter-secretmanager","body":"<p>Receiving this error while using secrets from GCP secret manager. It works fine when the service is deployed in cloud. But running on local machine throws DEADLINE_EXCEEDED.</p>\n<p>Dependencies I am using</p>\n<pre><code>spring boot version = 2.3.6.RELEASE\n&lt;spring-cloud-gcp.version&gt;1.2.8.RELEASE&lt;/spring-cloud-gcp.version&gt;\n&lt;spring-boot-release.version&gt;2.3.4.RELEASE&lt;/spring-boot-release.version&gt;\n&lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;\n &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>using secrets like this in application.yaml\nId: ${sm://projects/{project-id}/secrets/clientid}</p>\n<p>already tried with different version of dependencies but no luck</p>\n"},{"tags":["java","wav","playback","javasound"],"answers":[{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1317072664,"creation_date":1235401740,"answer_id":577926,"question_id":577724,"body_markdown":"I&#39;m not sure why the second approach you linked to starts another thread; I believe the audio will be played in its own thread anyway. Is the problem that your application finishes before the clip has finished playing?\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.sound.sampled.LineEvent.Type;\r\n\r\n    private static void playClip(File clipFile) throws IOException, \r\n      UnsupportedAudioFileException, LineUnavailableException, InterruptedException {\r\n      class AudioListener implements LineListener {\r\n        private boolean done = false;\r\n        @Override public synchronized void update(LineEvent event) {\r\n          Type eventType = event.getType();\r\n          if (eventType == Type.STOP || eventType == Type.CLOSE) {\r\n            done = true;\r\n            notifyAll();\r\n          }\r\n        }\r\n        public synchronized void waitUntilDone() throws InterruptedException {\r\n          while (!done) { wait(); }\r\n        }\r\n      }\r\n      AudioListener listener = new AudioListener();\r\n      AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(clipFile);\r\n      try {\r\n        Clip clip = AudioSystem.getClip();\r\n        clip.addLineListener(listener);\r\n        clip.open(audioInputStream);\r\n        try {\r\n          clip.start();\r\n          listener.waitUntilDone();\r\n        } finally {\r\n          clip.close();\r\n        }\r\n      } finally {\r\n        audioInputStream.close();\r\n      }\r\n    }","title":"Trouble playing wav in Java","body":"<p>I'm not sure why the second approach you linked to starts another thread; I believe the audio will be played in its own thread anyway. Is the problem that your application finishes before the clip has finished playing?</p>\n\n<pre><code>import javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.sound.sampled.LineEvent.Type;\n\nprivate static void playClip(File clipFile) throws IOException, \n  UnsupportedAudioFileException, LineUnavailableException, InterruptedException {\n  class AudioListener implements LineListener {\n    private boolean done = false;\n    @Override public synchronized void update(LineEvent event) {\n      Type eventType = event.getType();\n      if (eventType == Type.STOP || eventType == Type.CLOSE) {\n        done = true;\n        notifyAll();\n      }\n    }\n    public synchronized void waitUntilDone() throws InterruptedException {\n      while (!done) { wait(); }\n    }\n  }\n  AudioListener listener = new AudioListener();\n  AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(clipFile);\n  try {\n    Clip clip = AudioSystem.getClip();\n    clip.addLineListener(listener);\n    clip.open(audioInputStream);\n    try {\n      clip.start();\n      listener.waitUntilDone();\n    } finally {\n      clip.close();\n    }\n  } finally {\n    audioInputStream.close();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21938,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":577926,"answer_count":1,"score":10,"last_activity_date":1677887774,"creation_date":1235397727,"question_id":577724,"body_markdown":"I&#39;m trying to play a\r\n\r\n    PCM_UNSIGNED 11025.0 Hz, 8 bit, mono, 1 bytes/frame\r\n\r\nfile as described [here (1)][1] and [here(2)][2].\r\n\r\nThe first approach works, but I don&#39;t want to depend on `sun.*` stuff. The second results in just some leading frames being played, that sounds more like a click. Can&#39;t be an IO issue as I&#39;m playing from a ByteArrayInputStream.\r\n\r\nWhy might this happen?\r\n\r\n  [1]: https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26311#26311\r\n  [2]: https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26318#26318","title":"Trouble playing wav in Java","body":"<p>I'm trying to play a</p>\n<pre><code>PCM_UNSIGNED 11025.0 Hz, 8 bit, mono, 1 bytes/frame\n</code></pre>\n<p>file as described <a href=\"https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26311#26311\">here (1)</a> and <a href=\"https://stackoverflow.com/questions/26305/how-can-i-play-sound-in-java/26318#26318\">here(2)</a>.</p>\n<p>The first approach works, but I don't want to depend on <code>sun.*</code> stuff. The second results in just some leading frames being played, that sounds more like a click. Can't be an IO issue as I'm playing from a ByteArrayInputStream.</p>\n<p>Why might this happen?</p>\n"},{"tags":["java","json","encoding"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1677887450,"post_id":75632756,"comment_id":133432645,"body_markdown":"JSON is defined to be UTF-8. If you see `Gon&#195;&#167;alves`, you received UTF-8 but parsed it as ISO-8859-1. Remove `;charset=` (or if you must, UTF_8`). You&#39;re converting a string to bytes back to a string, that&#39;s never a good idea.","body":"JSON is defined to be UTF-8. If you see <code>Gon&#195;&#167;alves</code>, you received UTF-8 but parsed it as ISO-8859-1. Remove <code>;charset=</code> (or if you must, UTF_8`). You&#39;re converting a string to bytes back to a string, that&#39;s never a good idea."},{"owner":{"account_id":11196114,"reputation":31,"user_id":8214699,"display_name":"RJA"},"score":0,"creation_date":1677964626,"post_id":75632756,"comment_id":133442494,"body_markdown":"I tried to put UTF-8, but it doesn&#39;t work: i got Ces&#195;ƒ&#194;&#161;rio instead of Ces&#225;rio: `Accept: application/json;charset=UTF-8;  String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8));`         I have also tried &#39;byte[] fn=`destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8);                        String destination_name =  new String(fn, StandardCharsets.UTF_8)`;                                                                   I have also tried remove the charset from the request but it also didn&#39;t work.","body":"I tried to put UTF-8, but it doesn&#39;t work: i got Ces&#195;ƒ&#194;&#161;rio instead of Ces&#225;rio: <code>Accept: application&#47;json;charset=UTF-8;  String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(Sta&zwnj;&#8203;ndardCharsets.UTF_8)&zwnj;&#8203;);</code>         I have also tried &#39;byte[] fn=<code>destination.get(&quot;first_name&quot;).toString().getBytes(Standar&zwnj;&#8203;dCharsets.UTF_8);                        String destination_name =  new String(fn, StandardCharsets.UTF_8)</code>;                                                                   I have also tried remove the charset from the request but it also didn&#39;t work."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677967152,"post_id":75632756,"comment_id":133442925,"body_markdown":"_String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(StandardCharsets.UTF_8))_ this still converts a string to bytes and back again with undefined encodings, you should NEVER write that code. It&#39;s clear you don&#39;t understand how this works. you can&#39;t convert from bytes to characters or vice versa without specifying an encoding, so calling `new String(byteArr)` should be something you&#39;d never do. But you are, which - indicates you might need to take a step back and fully grok what&#39;s happening here before continuing to try random stuff and praying.","body":"<i>String destination_name = new String(destination.get(&quot;first_name&quot;).toString().getBytes(Sta&zwnj;&#8203;ndardCharsets.UTF_8)&zwnj;&#8203;)</i> this still converts a string to bytes and back again with undefined encodings, you should NEVER write that code. It&#39;s clear you don&#39;t understand how this works. you can&#39;t convert from bytes to characters or vice versa without specifying an encoding, so calling <code>new String(byteArr)</code> should be something you&#39;d never do. But you are, which - indicates you might need to take a step back and fully grok what&#39;s happening here before continuing to try random stuff and praying."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1677967193,"post_id":75632756,"comment_id":133442936,"body_markdown":"It&#39;s possible/likely that the data you get is already hosed and thus there&#39;s nothing you can do other than send a ticket to whatever gave you this JSON, or if it&#39;s you / your company, look at the code that made it.","body":"It&#39;s possible/likely that the data you get is already hosed and thus there&#39;s nothing you can do other than send a ticket to whatever gave you this JSON, or if it&#39;s you / your company, look at the code that made it."}],"owner":{"account_id":11196114,"reputation":31,"user_id":8214699,"display_name":"RJA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677887251,"creation_date":1677887251,"question_id":75632756,"body_markdown":"I&#39;m using curl to get the content of my Shopify store in a java application:\r\n\r\n\r\n    curl --ssl-no-revoke -sb -X GET &quot;myshopiy_url&quot; -H &quot;X-Shopify-Access-Token: token&quot; -H &quot;Accept: application/json;charset=ISO-8859-1&quot;\r\n\r\n\r\nI have tried many alternatives:\r\n\r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;); \r\n    \r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;); \r\n    \r\n    String destination_name = \r\n                new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;) \r\n                + &quot; &quot; + \r\n                new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;); \r\n\r\nBut i&#39;m always getting wierd characters:\r\n\r\n    Instead of N&#250;mero, i get N&#195;&#186;mero, instead of Gon&#231;alves i get Gon&#195;&#167;alves\r\n\r\nAnother wierd thing is that in my Pc, the characters appear like they should be, but in another Pc they don&#39;t, same OS (win 10), same language, etc..\r\n\r\nDoes anyone has any idea on how to fix this?\r\n\r\n","title":"How to encode json with ISO-8859-1 in java aplication?","body":"<p>I'm using curl to get the content of my Shopify store in a java application:</p>\n<pre><code>curl --ssl-no-revoke -sb -X GET &quot;myshopiy_url&quot; -H &quot;X-Shopify-Access-Token: token&quot; -H &quot;Accept: application/json;charset=ISO-8859-1&quot;\n</code></pre>\n<p>I have tried many alternatives:</p>\n<pre><code>String destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;ISO-8859-1&quot; ), &quot;ISO-8859-1&quot;); \n\nString destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-8&quot; ), &quot;ISO-8859-1&quot;); \n\nString destination_name = \n            new String(destination.get(&quot;first_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;) \n            + &quot; &quot; + \n            new String(destination.get(&quot;last_name&quot;).toString().getBytes( &quot;UTF-16&quot; ), &quot;ISO-8859-1&quot;); \n</code></pre>\n<p>But i'm always getting wierd characters:</p>\n<pre><code>Instead of Número, i get NÃºmero, instead of Gonçalves i get GonÃ§alves\n</code></pre>\n<p>Another wierd thing is that in my Pc, the characters appear like they should be, but in another Pc they don't, same OS (win 10), same language, etc..</p>\n<p>Does anyone has any idea on how to fix this?</p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":6654102,"reputation":414,"user_id":5135249,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652244166,"creation_date":1652244166,"answer_id":72195516,"question_id":72194502,"body_markdown":"After modifying **build.gradle** code like below, not getting same error.\r\n\r\n```\r\ntasks.named(&quot;bootJar&quot;) {\r\n    launchScript {\r\n        properties &#39;mode&#39;: &#39;service&#39;\r\n        properties &#39;logFolder&#39;: &#39;logs/&#39;\r\n        properties &#39;logFilename&#39;: &#39;stdout&#39;\r\n        properties &#39;pidFolder&#39;: &#39;run/&#39;\r\n        properties &#39;pidFilename&#39;: &quot;${archiveBaseName.get()}.pid&quot;\r\n    }\r\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\r\n    mainClass = &#39;jp.co.rakuten.english.ReduBatchApplication&#39;\r\n}\r\n```","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>After modifying <strong>build.gradle</strong> code like below, not getting same error.</p>\n<pre><code>tasks.named(&quot;bootJar&quot;) {\n    launchScript {\n        properties 'mode': 'service'\n        properties 'logFolder': 'logs/'\n        properties 'logFilename': 'stdout'\n        properties 'pidFolder': 'run/'\n        properties 'pidFilename': &quot;${archiveBaseName.get()}.pid&quot;\n    }\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\n    mainClass = 'jp.co.rakuten.english.ReduBatchApplication'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16443760,"reputation":372,"user_id":11879205,"display_name":"t7e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677886713,"creation_date":1677886713,"answer_id":75632725,"question_id":72194502,"body_markdown":"An addition to @Sam&#39;s answer. I did it this way:\r\n\r\n```\r\nbootJar {\r\n    mainClass = &quot;jp.co.abc.BatchApplication&quot;\r\n}\r\n```","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>An addition to @Sam's answer. I did it this way:</p>\n<pre><code>bootJar {\n    mainClass = &quot;jp.co.abc.BatchApplication&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6654102,"reputation":414,"user_id":5135249,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677886713,"creation_date":1652232902,"question_id":72194502,"body_markdown":"I am upgrading spring boot and gradle version in spring boot batch application as below,\r\n\r\n**spring boot** - 2.3.3.RELEASE to 2.6.7\r\n\r\n**gradle** - 6.6 to 7.4.2\r\n\r\nwhile building project getting below error\r\n```\r\nBuild file &#39;/Users/abcuser/Documents/PROJECT/newbatch/build.gradle&#39; line: 29\r\n\r\nA problem occurred evaluating root project &#39;newbatch&#39;.\r\n&gt; No signature of method: build_8555gqf06rjal4kabfn0v4b5b.bootJar() is applicable for argument types: (build_8555gqf06rjal4kabfn0v4b5b$_run_closure2) values: [build_8555gqf06rjal4kabfn0v4b5b$_run_closure2@3a423977]\r\n\r\n```\r\n\r\n**build.gradle** is as below \r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;2.6.7&#39;\r\n    }\r\n}\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;${springBootVersion}&quot;\r\n}\r\n\r\nbootJar {\r\n    launchScript {\r\n        properties &#39;mode&#39;: &#39;service&#39;\r\n        properties &#39;logFolder&#39;: &#39;logs/&#39;\r\n        properties &#39;logFilename&#39;: &#39;stdout&#39;\r\n        properties &#39;pidFolder&#39;: &#39;run/&#39;\r\n        properties &#39;pidFilename&#39;: &quot;${archiveBaseName.get()}.pid&quot;\r\n    }\r\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\r\n    mainClassName(&#39;jp.co.abc.BatchApplication&#39;)\r\n}\r\n```\r\n\r\n**gradle-wrapper.properties** is as below \r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```\r\n","title":"Spring boot gradle - getting No signature of method: .bootJar() is applicable for argument types","body":"<p>I am upgrading spring boot and gradle version in spring boot batch application as below,</p>\n<p><strong>spring boot</strong> - 2.3.3.RELEASE to 2.6.7</p>\n<p><strong>gradle</strong> - 6.6 to 7.4.2</p>\n<p>while building project getting below error</p>\n<pre><code>Build file '/Users/abcuser/Documents/PROJECT/newbatch/build.gradle' line: 29\n\nA problem occurred evaluating root project 'newbatch'.\n&gt; No signature of method: build_8555gqf06rjal4kabfn0v4b5b.bootJar() is applicable for argument types: (build_8555gqf06rjal4kabfn0v4b5b$_run_closure2) values: [build_8555gqf06rjal4kabfn0v4b5b$_run_closure2@3a423977]\n\n</code></pre>\n<p><strong>build.gradle</strong> is as below</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.6.7'\n    }\n}\nplugins {\n    id 'org.springframework.boot' version &quot;${springBootVersion}&quot;\n}\n\nbootJar {\n    launchScript {\n        properties 'mode': 'service'\n        properties 'logFolder': 'logs/'\n        properties 'logFilename': 'stdout'\n        properties 'pidFolder': 'run/'\n        properties 'pidFilename': &quot;${archiveBaseName.get()}.pid&quot;\n    }\n    archiveFileName = &quot;${archiveBaseName.get()}.${archiveExtension.get()}&quot;\n    mainClassName('jp.co.abc.BatchApplication')\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong> is as below</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":57027,"reputation":53987,"user_id":170842,"accept_rate":87,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1459192921,"creation_date":1459192921,"answer_id":36269526,"question_id":36269488,"body_markdown":"I believe it must be `&#39;\\u0000&#39;`. Please visit this [page][1] for more information.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/basic-types.html#characters","title":"How do I make a Null character in Kotlin","body":"<p>I believe it must be <code>'\\u0000'</code>. Please visit this <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\">page</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":2527365,"reputation":142481,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1677886363,"creation_date":1459193287,"answer_id":36269616,"question_id":36269488,"body_markdown":"These options will work:\r\n\r\n* `&#39;\\u0000&#39;` (Unicode escape syntax, as described in the [docs][1])\r\n* `0.toChar()` ([conversions][2] are optimized and have no function call overhead)\r\n* `import java.lang.Character.MIN_VALUE as nullChar`, then use `nullChar` ([renaming import][3])\r\n\r\nStarting from Kotlin 1.3, this seems to be the straightforward option:\r\n\r\n* [`Char.MIN_VALUE`][4]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/basic-types.html#characters\r\n  [2]: https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\r\n  [3]: https://kotlinlang.org/docs/reference/packages.html#imports\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/-m-i-n_-v-a-l-u-e.html","title":"How do I make a Null character in Kotlin","body":"<p>These options will work:</p>\n<ul>\n<li><code>'\\u0000'</code> (Unicode escape syntax, as described in the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#characters\" rel=\"noreferrer\">docs</a>)</li>\n<li><code>0.toChar()</code> (<a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">conversions</a> are optimized and have no function call overhead)</li>\n<li><code>import java.lang.Character.MIN_VALUE as nullChar</code>, then use <code>nullChar</code> (<a href=\"https://kotlinlang.org/docs/reference/packages.html#imports\" rel=\"noreferrer\">renaming import</a>)</li>\n</ul>\n<p>Starting from Kotlin 1.3, this seems to be the straightforward option:</p>\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/-m-i-n_-v-a-l-u-e.html\" rel=\"noreferrer\"><code>Char.MIN_VALUE</code></a></li>\n</ul>\n"}],"owner":{"account_id":2409048,"reputation":811,"user_id":2104648,"accept_rate":86,"display_name":"Caelum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10477,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":36269616,"answer_count":2,"score":38,"last_activity_date":1677886363,"creation_date":1459192786,"question_id":36269488,"body_markdown":"In Java, one can use the escape sequence `\\0` to represent the [Null character][1]\r\n\r\n`\\0` and `\\0000` are not valid escape sequences in Kotlin, so I&#39;ve been using a static java char and accessing that from Kotlin.\r\n\r\n    public class StringUtils{\r\n      public static char escapeChar = &#39;\\0&#39;;\r\n    }\r\n\r\nIs there a Null character literal, or a better way of doing this in Kotlin?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Null_character","title":"How do I make a Null character in Kotlin","body":"<p>In Java, one can use the escape sequence <code>\\0</code> to represent the <a href=\"https://en.wikipedia.org/wiki/Null_character\" rel=\"noreferrer\">Null character</a></p>\n\n<p><code>\\0</code> and <code>\\0000</code> are not valid escape sequences in Kotlin, so I've been using a static java char and accessing that from Kotlin.</p>\n\n<pre><code>public class StringUtils{\n  public static char escapeChar = '\\0';\n}\n</code></pre>\n\n<p>Is there a Null character literal, or a better way of doing this in Kotlin?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1677873450,"post_id":75631043,"comment_id":133429997,"body_markdown":"`Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}`","body":"<code>Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}</code>"},{"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"score":0,"creation_date":1677873754,"post_id":75631043,"comment_id":133430072,"body_markdown":"@JimGarrison Do you know why it would search by css selector when I don&#39;t have it in my code?","body":"@JimGarrison Do you know why it would search by css selector when I don&#39;t have it in my code?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1677884077,"post_id":75631043,"comment_id":133432172,"body_markdown":"Try `btnK` instead of `ntnK`.","body":"Try <code>btnK</code> instead of <code>ntnK</code>."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677885854,"creation_date":1677885854,"answer_id":75632657,"question_id":75631043,"body_markdown":"Once you invoke an url through _`get()`_ and then immediately try to invoke _`sendKeys()`_ within the _username_ field, the _username_ field may not have completely [rendered](https://stackoverflow.com/a/47237075/7429447).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nIdeally, to send a character sequence within an _Username_ field you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _id_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;))).sendKeys(&quot;jetswept&quot;);\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#username&quot;))).sendKeys(&quot;jetswept&quot;);\r\n\t\r\n- Using _xpath_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=&#39;username&#39;]&quot;))).sendKeys(&quot;jetswept&quot;);","title":"I cant get my automation testcase to run past the &quot;first&quot; line","body":"<p>Once you invoke an url through <em><code>get()</code></em> and then immediately try to invoke <em><code>sendKeys()</code></em> within the <em>username</em> field, the <em>username</em> field may not have completely <a href=\"https://stackoverflow.com/a/47237075/7429447\">rendered</a>.</p>\n<hr />\n<h2>Solution</h2>\n<p>Ideally, to send a character sequence within an <em>Username</em> field you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>id</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.id(&quot;username&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;#username&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id='username']&quot;))).sendKeys(&quot;jetswept&quot;);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27929831,"reputation":13,"user_id":21328133,"display_name":"jetswept"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75632657,"answer_count":1,"score":1,"last_activity_date":1677885854,"creation_date":1677870944,"question_id":75631043,"body_markdown":"I&#39;m creating an automated test suite for my job and currently I can&#39;t get it to run past the first line i.e \r\n```\r\n&quot;driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;example&quot;);\r\n```\r\n\r\nI decided to try google to see if i could make any headway and this is the code i started out with \r\n\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n\r\npublic class fgiLogin {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.setProperty(&quot;webDriver.chrome.driver&quot;,\r\n&quot;C:\\\\Users\\\\examplefolder\\\\Documents\\\\examplefolder\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://google.com&quot;);\r\n\r\n        driver.manage().window().maximize();\r\n\r\n        Thread.sleep(5000);\r\n\r\n\r\n        driver.findElement(By.className(&quot;gLFyf&quot;)).sendKeys(&quot;fruit&quot;);\r\n        driver.findElement(By.name(&quot;ntnK&quot;)).click();\r\n\r\n        driver.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAfter the word fruit is placed into the google search bar thats where the test is failing.\r\n\r\nthis is the error set i get in intellij\r\n\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 10097\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1677870261.213][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;ntnK&#39;]&quot;}\r\n  (Session info: chrome=110.0.5481.178)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [2937306020c9aa7bccf03e80ec05305a, findElement {using=name, value=ntnK}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.178, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:50557}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:50557/devtoo..., se:cdpVersion: 110.0.5481.178, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 2937306020c9aa7bccf03e80ec05305a\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\r\n\tat fgiLogin.main(fgiLogin.java:20)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nHow can i get the code to work past the initial line of sending the keys to the search bar?\r\n\r\n\r\n\r\nTried to change the driver.get to id, classname, name, and etc. I want the google search button to click and the driver to close as expected. The search bar will enter fruit and the automation breaks.","title":"I cant get my automation testcase to run past the &quot;first&quot; line","body":"<p>I'm creating an automated test suite for my job and currently I can't get it to run past the first line i.e</p>\n<pre><code>&quot;driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;example&quot;);\n</code></pre>\n<p>I decided to try google to see if i could make any headway and this is the code i started out with</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\n\npublic class fgiLogin {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        System.setProperty(&quot;webDriver.chrome.driver&quot;,\n&quot;C:\\\\Users\\\\examplefolder\\\\Documents\\\\examplefolder\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n\n        driver.manage().window().maximize();\n\n        Thread.sleep(5000);\n\n\n        driver.findElement(By.className(&quot;gLFyf&quot;)).sendKeys(&quot;fruit&quot;);\n        driver.findElement(By.name(&quot;ntnK&quot;)).click();\n\n        driver.close();\n    }\n\n}\n</code></pre>\n<p>After the word fruit is placed into the google search bar thats where the test is failing.</p>\n<p>this is the error set i get in intellij</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 10097\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1677870261.213][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='ntnK']&quot;}\n  (Session info: chrome=110.0.5481.178)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [2937306020c9aa7bccf03e80ec05305a, findElement {using=name, value=ntnK}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 110.0.5481.178, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\ne1723\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:50557}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:50557/devtoo..., se:cdpVersion: 110.0.5481.178, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 2937306020c9aa7bccf03e80ec05305a\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:66)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:352)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:344)\n    at fgiLogin.main(fgiLogin.java:20)\n\nProcess finished with exit code 1\n</code></pre>\n<p>How can i get the code to work past the initial line of sending the keys to the search bar?</p>\n<p>Tried to change the driver.get to id, classname, name, and etc. I want the google search button to click and the driver to close as expected. The search bar will enter fruit and the automation breaks.</p>\n"},{"tags":["java","android","memory"],"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677885703,"creation_date":1677885703,"question_id":75632647,"body_markdown":"So this will provide a rough estimate on the Java memory usage: `Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()`\r\n\r\nIs there an equivalent for the amount of graphics memory? Used up from loaded Textures and such?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SmWkp.png","title":"How to track graphics memory usage in Android app?","body":"<p>So this will provide a rough estimate on the Java memory usage: <code>Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()</code></p>\n<p>Is there an equivalent for the amount of graphics memory? Used up from loaded Textures and such?</p>\n<p><a href=\"https://i.stack.imgur.com/SmWkp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SmWkp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","rest","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1677881491,"post_id":75629488,"comment_id":133431729,"body_markdown":"This isn&#39;t valid Java code. Please make sure that code that you&#39;re using in a question is syntactically valid (except where the question is specifically about syntax). As a hint: you should not be mocking the method that you&#39;re trying to test.","body":"This isn&#39;t valid Java code. Please make sure that code that you&#39;re using in a question is syntactically valid (except where the question is specifically about syntax). As a hint: you should not be mocking the method that you&#39;re trying to test."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677885057,"creation_date":1677885057,"answer_id":75632599,"question_id":75629488,"body_markdown":"The key idea with using mocks to test is that you should never mock what is being tested, only other methods or classes that are used incidentally. In this case, the `createFromDtos` method should not be mocked, but the `createFrom` method that it uses can be.\r\n\r\nFor example:\r\n\r\n```java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Spy;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.mockito.Mockito.when;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class XYZConverterTest {\r\n\r\n    @Spy\r\n    XYZConverter&lt;DomainClass, EntityClass&gt; converter;\r\n\r\n    @Mock\r\n    DomainClass domainClass;\r\n\r\n    @Mock\r\n    EntityClass entityClass;\r\n\r\n    @Test\r\n    public void createFromDtos() {\r\n        when(converter.createFrom(domainClass)).thenReturn(entityClass);\r\n        List&lt;EntityClass&gt; converted = converter.createFromDtos(List.of(domainClass));\r\n        assertEquals(List.of(entityClass), converted);\r\n    }\r\n}\r\n```","title":"Writing Test case for Generic interface with default method","body":"<p>The key idea with using mocks to test is that you should never mock what is being tested, only other methods or classes that are used incidentally. In this case, the <code>createFromDtos</code> method should not be mocked, but the <code>createFrom</code> method that it uses can be.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.Spy;\nimport org.mockito.junit.MockitoJUnitRunner;\n\nimport java.util.List;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class XYZConverterTest {\n\n    @Spy\n    XYZConverter&lt;DomainClass, EntityClass&gt; converter;\n\n    @Mock\n    DomainClass domainClass;\n\n    @Mock\n    EntityClass entityClass;\n\n    @Test\n    public void createFromDtos() {\n        when(converter.createFrom(domainClass)).thenReturn(entityClass);\n        List&lt;EntityClass&gt; converted = converter.createFromDtos(List.of(domainClass));\n        assertEquals(List.of(entityClass), converted);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21091366,"reputation":31,"user_id":15503193,"display_name":"MAYANK DEVRANI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677885057,"creation_date":1677860263,"question_id":75629488,"body_markdown":"I&#39;m trying to write test cases for the interface with default method\r\n Interface:\r\n\r\n    public interface XYZConverter &lt;D extends DomainClass, E Extends EntityClass&gt;{\r\n       E createFrom(D dto);\r\n       E updateEntity(E entity, D dto);\r\n       \r\n       default dtos.stream().map(this::createFrom).collect(Collectors.toList());\r\n    }\r\n\r\nand my test class be like:\r\n\r\n    public class XYZConverterTest&lt;D,E&gt;{\r\n    \r\n        XYZConverter converter = spy(XYZConverter.class);\r\n        \r\n    @Mock\r\n    DomainClass domainClass;\r\n    \r\n    @Mock\r\n    EntityClass entityClass;\r\n    \r\n    @BeforeEach\r\n    void setUp(){\r\n      MockitoAnnotations.openMocks(this);\r\n      domainClass = getDomainClass();\r\n    entityClass = getEntityClass();\r\n     \r\n    }\r\n    \r\n    @Test\r\n    void createFromDtos(){\r\n      EntityClass = getEntityClass();\r\n      domainClass = getDomainClass();\r\n      Mockito.when(converter.createFromDtos(Collection&lt;D&gt; domainClass)).thenReturn(List.of(entityClass));\r\n    }\r\n    }\r\n\r\nI tried to create test cases but had no luck if anyone can help me with writing test cases? ","title":"Writing Test case for Generic interface with default method","body":"<p>I'm trying to write test cases for the interface with default method\nInterface:</p>\n<pre><code>public interface XYZConverter &lt;D extends DomainClass, E Extends EntityClass&gt;{\n   E createFrom(D dto);\n   E updateEntity(E entity, D dto);\n   \n   default dtos.stream().map(this::createFrom).collect(Collectors.toList());\n}\n</code></pre>\n<p>and my test class be like:</p>\n<pre><code>public class XYZConverterTest&lt;D,E&gt;{\n\n    XYZConverter converter = spy(XYZConverter.class);\n    \n@Mock\nDomainClass domainClass;\n\n@Mock\nEntityClass entityClass;\n\n@BeforeEach\nvoid setUp(){\n  MockitoAnnotations.openMocks(this);\n  domainClass = getDomainClass();\nentityClass = getEntityClass();\n \n}\n\n@Test\nvoid createFromDtos(){\n  EntityClass = getEntityClass();\n  domainClass = getDomainClass();\n  Mockito.when(converter.createFromDtos(Collection&lt;D&gt; domainClass)).thenReturn(List.of(entityClass));\n}\n}\n</code></pre>\n<p>I tried to create test cases but had no luck if anyone can help me with writing test cases?</p>\n"},{"tags":["java","apache-commons"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1677845093,"post_id":75625163,"comment_id":133421997,"body_markdown":"Can&#39;t you switch to NIO/2 and its `WatchService`?","body":"Can&#39;t you switch to NIO/2 and its <code>WatchService</code>?"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1678091066,"post_id":75625163,"comment_id":133459188,"body_markdown":"`WatchService` works, but I can&#39;t use it in my application for other reasons...","body":"<code>WatchService</code> works, but I can&#39;t use it in my application for other reasons..."}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677883471,"creation_date":1677835206,"answer_id":75625209,"question_id":75625163,"body_markdown":"make use of `onFileChange` hook provided by `FileAlterationListener`\r\n```\r\n@Override\r\npublic void onFileChange(File file) {\r\n    System.out.println(&quot;File got changed &quot;+ file);\r\n}\r\n```","title":"Is it possible to detect file overwriting using Apache Commons IO?","body":"<p>make use of <code>onFileChange</code> hook provided by <code>FileAlterationListener</code></p>\n<pre><code>@Override\npublic void onFileChange(File file) {\n    System.out.println(&quot;File got changed &quot;+ file);\n}\n</code></pre>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677883471,"creation_date":1677834892,"question_id":75625163,"body_markdown":"I&#39;m using Apache&#39;s `FileAlterationMonitor` to monitor a specific directory in my project, and I was wondering if there is a way to monitor file overwriting too, since otherwise I&#39;d have to delete a file, wait the monitor to perform a check to detect the file was deleted, and then write the file again to behave correctly","title":"Is it possible to detect file overwriting using Apache Commons IO?","body":"<p>I'm using Apache's <code>FileAlterationMonitor</code> to monitor a specific directory in my project, and I was wondering if there is a way to monitor file overwriting too, since otherwise I'd have to delete a file, wait the monitor to perform a check to detect the file was deleted, and then write the file again to behave correctly</p>\n"},{"tags":["java","spring-boot","spring-profiles","spring-properties"],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1605223570,"creation_date":1605223570,"answer_id":64813309,"question_id":64812810,"body_markdown":"To activate a profile via annotations you need `@ActiveProfile(&quot;profileName&quot;)`. The `@Profile` annotation is used to label an object as being a member of the profile.","title":"spring.profiles.active is not working in springboot application","body":"<p>To activate a profile via annotations you need <code>@ActiveProfile(&quot;profileName&quot;)</code>. The <code>@Profile</code> annotation is used to label an object as being a member of the profile.</p>\n"},{"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605257217,"creation_date":1605257217,"answer_id":64817843,"question_id":64812810,"body_markdown":"you can also try to run the application and pass them as command line args\r\n\r\n    java -jar -Dspring.profiles.active={your_profile_name} application.jar\r\n\r\nor if you run the app via maven:\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.profiles={your_profile_name}\r\n\r\nHere is an nice example I found on the internet with all the ways you can set the spring profile, it should help : https://www.baeldung.com/spring-profiles","title":"spring.profiles.active is not working in springboot application","body":"<p>you can also try to run the application and pass them as command line args</p>\n<pre><code>java -jar -Dspring.profiles.active={your_profile_name} application.jar\n</code></pre>\n<p>or if you run the app via maven:</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.profiles={your_profile_name}\n</code></pre>\n<p>Here is an nice example I found on the internet with all the ways you can set the spring profile, it should help : <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-profiles</a></p>\n"},{"tags":[],"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664312471,"creation_date":1664312471,"answer_id":73873773,"question_id":64812810,"body_markdown":"I encountered a similar issue where SpringBoot wasn&#39;t activating the profiles set in the spring.profiles.active application property.  \r\n\r\nThe issue was the result of the code base using a non standard name and location for the application property file (not my doing).  Once I specified the location via the command line arg- `--spring.config.location=/non/standard/location/acme.properties`- the profile was activated.","title":"spring.profiles.active is not working in springboot application","body":"<p>I encountered a similar issue where SpringBoot wasn't activating the profiles set in the spring.profiles.active application property.</p>\n<p>The issue was the result of the code base using a non standard name and location for the application property file (not my doing).  Once I specified the location via the command line arg- <code>--spring.config.location=/non/standard/location/acme.properties</code>- the profile was activated.</p>\n"},{"tags":[],"owner":{"account_id":27586394,"reputation":79,"user_id":21054492,"display_name":"ZoltanB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677883010,"creation_date":1677883010,"answer_id":75632414,"question_id":64812810,"body_markdown":"Hint: for IntellyJ fans&lt;br&gt;\r\nDo not forget to select &quot;Add VM Options&quot; in &quot;Modify Options&quot; dropdown of Edit Configurations dialog and **then** enter &lt;br&gt;\r\n-Dspring.profiles.active=...","title":"spring.profiles.active is not working in springboot application","body":"<p>Hint: for IntellyJ fans<br>\nDo not forget to select &quot;Add VM Options&quot; in &quot;Modify Options&quot; dropdown of Edit Configurations dialog and <strong>then</strong> enter <br>\n-Dspring.profiles.active=...</p>\n"}],"owner":{"account_id":2039459,"reputation":999,"user_id":1821020,"accept_rate":30,"display_name":"Sunil Rk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32290,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1677883010,"creation_date":1605220378,"question_id":64812810,"body_markdown":"I have created Profiles in Java class like this,\r\n\r\n````\r\n@Profile(value = &quot;cache&quot;)\r\npublic class MapCache {\r\n....\r\n}\r\n`````\r\nThese profiles are not getting activated when **spring.profiles.active** used, but if i use **spring.profiles.include** profiles are working fine. \n\nI would like activate profiles through properties which are added in application.properties\r\n\r\nNote: application is running in independent jetty instance.\r\n\r\nAny tip would be great on this.","title":"spring.profiles.active is not working in springboot application","body":"<p>I have created Profiles in Java class like this,</p>\n<pre><code>@Profile(value = &quot;cache&quot;)\npublic class MapCache {\n....\n}\n</code></pre>\n<p>These profiles are not getting activated when <strong>spring.profiles.active</strong> used, but if i use <strong>spring.profiles.include</strong> profiles are working fine.</p>\n<p>I would like activate profiles through properties which are added in application.properties</p>\n<p>Note: application is running in independent jetty instance.</p>\n<p>Any tip would be great on this.</p>\n"},{"tags":["java","augmented-reality","arcore","hittest","sceneform"],"owner":{"account_id":20762182,"reputation":1,"user_id":18822181,"display_name":"Karan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677882991,"creation_date":1677832467,"question_id":75624802,"body_markdown":"After detecting a HitTest how to create a trackable at that place\r\n\r\nI tried detecting trackables by \r\n```java\r\nCollection &lt;AugmentedImage&gt; trackables  = getArSceneView().getArFrame().getUpdatedTrackables(AugmentedImage.class);\r\n```\r\n\r\nBut after printing size of trackables which are formed by ARCore through Toast it is most of the time zero. Actaually I want a trackable so that I can attach it to anchor node so that it doesn&#39;t shake or move when I move the camera.\r\nBut so far I am not able to place a trackable at the location of HitTest or the AnchorNode at hit test.","title":"How do I create a trackable plane and attach it to an AnchorNode placed at the position of HitTest in ARCore?","body":"<p>After detecting a HitTest how to create a trackable at that place</p>\n<p>I tried detecting trackables by</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection &lt;AugmentedImage&gt; trackables  = getArSceneView().getArFrame().getUpdatedTrackables(AugmentedImage.class);\n</code></pre>\n<p>But after printing size of trackables which are formed by ARCore through Toast it is most of the time zero. Actaually I want a trackable so that I can attach it to anchor node so that it doesn't shake or move when I move the camera.\nBut so far I am not able to place a trackable at the location of HitTest or the AnchorNode at hit test.</p>\n"},{"tags":["java","quarkus","minio"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677836183,"post_id":75619349,"comment_id":133419704,"body_markdown":"I don&#39;t see how a preview is being served in the snippet you posted","body":"I don&#39;t see how a preview is being served in the snippet you posted"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677836431,"post_id":75619349,"comment_id":133419779,"body_markdown":"the snippet is an example of I get the InputStream from MinIO... I asked for the implementation of how it can be served indeed.","body":"the snippet is an example of I get the InputStream from MinIO... I asked for the implementation of how it can be served indeed."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677836829,"post_id":75619349,"comment_id":133419875,"body_markdown":"You can use `InputStream` in Quarkus if you need to","body":"You can use <code>InputStream</code> in Quarkus if you need to"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677837552,"post_id":75619349,"comment_id":133420057,"body_markdown":"question edited, maybe it&#39;s more clear and understandable","body":"question edited, maybe it&#39;s more clear and understandable"},{"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"score":0,"creation_date":1677848023,"post_id":75619349,"comment_id":133422746,"body_markdown":"@geoand a sort of [this](https://stackoverflow.com/questions/69161606/how-to-stream-response-body-in-quarkus-with-kotlin)","body":"@geoand a sort of <a href=\"https://stackoverflow.com/questions/69161606/how-to-stream-response-body-in-quarkus-with-kotlin\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677881850,"creation_date":1677850418,"answer_id":75627740,"question_id":75619349,"body_markdown":"Thanks to [this](https://github.com/quarkusio/quarkus/issues/18444)\r\n\r\nI was able to solve in this way:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public CompletionStage&lt;Response&gt; downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx,\r\n                                                  @QueryParam(&quot;preview&quot;) boolean preview, @HeaderParam(&quot;Range&quot;) String range) {\r\n\r\n        ResFile resFile;\r\n        try {\r\n            resFile = resFileService.getResFile(fileId, ctx);\r\n        } catch (NotFoundException e) {\r\n            return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n        }\r\n\r\n\r\n        if (preview) {\r\n\r\n            if (range == null) {\r\n\r\n                String contentType = resFile.getMimeType();\r\n\r\n                return CompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        return resFileService.loadFileAsResource(fileId, ctx);\r\n                    } catch (MinIOException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build());\r\n                    } catch (NotFoundException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                    }\r\n                }).thenApplyAsync(file -&gt; {\r\n                    try {\r\n                        return Response.ok((StreamingOutput) output -&gt; {\r\n                                    try (final InputStream is = (InputStream) file) {\r\n                                        IOUtils.copyLarge(is, output);\r\n                                    }\r\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(HttpHeaders.CONTENT_LENGTH, resFile.getSize())\r\n                                .status(HttpStatus.SC_PARTIAL_CONTENT).build();\r\n                    } catch (NotFoundException e) {\r\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                    }\r\n                }).handleAsync((r, e) -&gt; {\r\n                    if (e != null) {\r\n                        log.error(&quot;Error&quot;, e);\r\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                    }\r\n                    return r;\r\n                });\r\n\r\n            } else {\r\n\r\n                String[] ranges = range.split(&quot;-&quot;);\r\n                long rangeStart = Long.parseLong(ranges[0].substring(6));\r\n                long rangeEnd;\r\n                if (ranges.length &gt; 1) {\r\n                    rangeEnd = Long.parseLong(ranges[1]);\r\n                } else {\r\n                    rangeEnd = rangeStart + chunkSize;\r\n                }\r\n\r\n                log.info(&quot;@@@Range: {} - {}&quot;, rangeStart, rangeEnd);\r\n\r\n                String contentType = resFile.getMimeType();\r\n\r\n                rangeEnd = Math.min(rangeEnd, resFile.getSize() - 1);\r\n                final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\r\n                long finalRangeEnd = rangeEnd;\r\n\r\n                return CompletableFuture.supplyAsync(() -&gt; {\r\n                    try {\r\n                        return resFileService.loadFileAsResource(fileId, ctx);\r\n                    } catch (MinIOException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\r\n                    } catch (NotFoundException e) {\r\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                    }\r\n                }).thenApplyAsync(file -&gt; {\r\n                    try {\r\n                        return Response.ok((StreamingOutput) output -&gt; {\r\n                                    try (final InputStream is = (InputStream) file) {\r\n                                        long byets = IOUtils.copyLarge(is, output, rangeStart, finalRangeEnd);\r\n                                        log.info(&quot;@@@Bytes: {}&quot;, byets);\r\n                                    }\r\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(HttpHeaders.CONTENT_LENGTH, contentLength)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + finalRangeEnd + &quot;/&quot; + resFile.getSize())\r\n                                .status(HttpStatus.SC_PARTIAL_CONTENT)\r\n                                .build();\r\n                    } catch (NotFoundException e) {\r\n                        log.error(&quot;File not found&quot;, e);\r\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                    }\r\n                }).handleAsync((r, e) -&gt; {\r\n                    if (e != null) {\r\n                        log.error(&quot;Error&quot;, e);\r\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                    }\r\n                    return r;\r\n                });\r\n            }\r\n        } else {\r\n\r\n            String contentType = resFile.getMimeType();\r\n\r\n            return CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    return resFileService.loadFileAsResource(fileId, ctx);\r\n                } catch (MinIOException e) {\r\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\r\n                } catch (NotFoundException e) {\r\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\r\n                }\r\n            }).thenApplyAsync(file -&gt; {\r\n                try {\r\n                    return Response.ok((StreamingOutput) output -&gt; {\r\n                                try (final InputStream is = (InputStream) file) {\r\n                                    IOUtils.copyLarge(is, output);\r\n                                }\r\n                            }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                            .header(HttpHeaders.CONTENT_TYPE, contentType).build();\r\n                } catch (NotFoundException e) {\r\n                    return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n                }\r\n            }).handleAsync((r, e) -&gt; {\r\n                if (e != null) {\r\n                    log.error(&quot;Error&quot;, e);\r\n                    return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\r\n                }\r\n                return r;\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nNo `Uni` and `AsyncFile` needed.\r\n\r\n","title":"How to use Uni and AsyncFile in Quarkus for serve a preview of large file?","body":"<p>Thanks to <a href=\"https://github.com/quarkusio/quarkus/issues/18444\" rel=\"nofollow noreferrer\">this</a></p>\n<p>I was able to solve in this way:</p>\n<pre><code>    @GET\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public CompletionStage&lt;Response&gt; downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx,\n                                                  @QueryParam(&quot;preview&quot;) boolean preview, @HeaderParam(&quot;Range&quot;) String range) {\n\n        ResFile resFile;\n        try {\n            resFile = resFileService.getResFile(fileId, ctx);\n        } catch (NotFoundException e) {\n            return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n        }\n\n\n        if (preview) {\n\n            if (range == null) {\n\n                String contentType = resFile.getMimeType();\n\n                return CompletableFuture.supplyAsync(() -&gt; {\n                    try {\n                        return resFileService.loadFileAsResource(fileId, ctx);\n                    } catch (MinIOException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build());\n                    } catch (NotFoundException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                    }\n                }).thenApplyAsync(file -&gt; {\n                    try {\n                        return Response.ok((StreamingOutput) output -&gt; {\n                                    try (final InputStream is = (InputStream) file) {\n                                        IOUtils.copyLarge(is, output);\n                                    }\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(HttpHeaders.CONTENT_LENGTH, resFile.getSize())\n                                .status(HttpStatus.SC_PARTIAL_CONTENT).build();\n                    } catch (NotFoundException e) {\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                    }\n                }).handleAsync((r, e) -&gt; {\n                    if (e != null) {\n                        log.error(&quot;Error&quot;, e);\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                    }\n                    return r;\n                });\n\n            } else {\n\n                String[] ranges = range.split(&quot;-&quot;);\n                long rangeStart = Long.parseLong(ranges[0].substring(6));\n                long rangeEnd;\n                if (ranges.length &gt; 1) {\n                    rangeEnd = Long.parseLong(ranges[1]);\n                } else {\n                    rangeEnd = rangeStart + chunkSize;\n                }\n\n                log.info(&quot;@@@Range: {} - {}&quot;, rangeStart, rangeEnd);\n\n                String contentType = resFile.getMimeType();\n\n                rangeEnd = Math.min(rangeEnd, resFile.getSize() - 1);\n                final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\n                long finalRangeEnd = rangeEnd;\n\n                return CompletableFuture.supplyAsync(() -&gt; {\n                    try {\n                        return resFileService.loadFileAsResource(fileId, ctx);\n                    } catch (MinIOException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\n                    } catch (NotFoundException e) {\n                        return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                    }\n                }).thenApplyAsync(file -&gt; {\n                    try {\n                        return Response.ok((StreamingOutput) output -&gt; {\n                                    try (final InputStream is = (InputStream) file) {\n                                        long byets = IOUtils.copyLarge(is, output, rangeStart, finalRangeEnd);\n                                        log.info(&quot;@@@Bytes: {}&quot;, byets);\n                                    }\n                                }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(HttpHeaders.CONTENT_LENGTH, contentLength)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + finalRangeEnd + &quot;/&quot; + resFile.getSize())\n                                .status(HttpStatus.SC_PARTIAL_CONTENT)\n                                .build();\n                    } catch (NotFoundException e) {\n                        log.error(&quot;File not found&quot;, e);\n                        return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                    }\n                }).handleAsync((r, e) -&gt; {\n                    if (e != null) {\n                        log.error(&quot;Error&quot;, e);\n                        return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                    }\n                    return r;\n                });\n            }\n        } else {\n\n            String contentType = resFile.getMimeType();\n\n            return CompletableFuture.supplyAsync(() -&gt; {\n                try {\n                    return resFileService.loadFileAsResource(fileId, ctx);\n                } catch (MinIOException e) {\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e)).build());\n                } catch (NotFoundException e) {\n                    return CompletableFuture.supplyAsync(() -&gt; Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build());\n                }\n            }).thenApplyAsync(file -&gt; {\n                try {\n                    return Response.ok((StreamingOutput) output -&gt; {\n                                try (final InputStream is = (InputStream) file) {\n                                    IOUtils.copyLarge(is, output);\n                                }\n                            }).header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                            .header(HttpHeaders.CONTENT_TYPE, contentType).build();\n                } catch (NotFoundException e) {\n                    return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n                }\n            }).handleAsync((r, e) -&gt; {\n                if (e != null) {\n                    log.error(&quot;Error&quot;, e);\n                    return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(SERVER_EXCEPTION, e)).build();\n                }\n                return r;\n            });\n        }\n    }\n</code></pre>\n<p>No <code>Uni</code> and <code>AsyncFile</code> needed.</p>\n"}],"owner":{"account_id":5666154,"reputation":533,"user_id":11621071,"display_name":"Kambei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75627740,"answer_count":1,"score":2,"last_activity_date":1677881850,"creation_date":1677780691,"question_id":75619349,"body_markdown":"How to use `Uni` and `AsyncFile` in Quarkus for serve a preview of a large file as, for example, a `video/mp4` file, while reading it from minio?\r\n\r\nI tried to implement this with `Response` class, following [this](https://github.com/saravanastar/video-streaming), but without success:\r\n```\r\n    @GET\r\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\r\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\r\n    public Response downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx, @QueryParam(&quot;preview&quot;) boolean preview,\r\n                                 @HeaderParam(value = &quot;Range&quot;) String httpRangeList) {\r\n        try {\r\n\r\n            ResFile resFile = resFileService.getResFile(fileId, ctx);\r\n            String contentType = resFile.getMimeType();\r\n            Long size = resFile.getSize();\r\n\r\n            long rangeStart = 0;\r\n            long rangeEnd = size - 1;\r\n\r\n            if (preview) {\r\n\r\n                if (httpRangeList == null) {\r\n                    return Response.status(Response.Status.OK)\r\n                            .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                            .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                            .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                            .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                            .header(&quot;Content-Length&quot;, String.valueOf(size))\r\n                            .entity(resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, size)).build();\r\n                } else {\r\n\r\n                    String[] ranges = httpRangeList.split(&quot;-&quot;);\r\n                    rangeStart = Long.parseLong(ranges[0].substring(6));\r\n                    if (ranges.length &gt; 1) {\r\n                        rangeEnd = Long.parseLong(ranges[1]);\r\n                    } else {\r\n                        rangeEnd = rangeStart + chunkSize;\r\n                    }\r\n\r\n                    rangeEnd = Math.min(rangeEnd, size - 1);\r\n                    final byte[] data = resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, rangeEnd).readAllBytes();\r\n\r\n                    log.info(&quot;data size: {}&quot;, data.length);\r\n\r\n                    final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\r\n\r\n                    if (rangeEnd &gt;= size) {\r\n                        return Response.status(Response.Status.OK)\r\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                                .header(&quot;Content-Length&quot;, contentLength)\r\n                                .entity(data).build();\r\n                    }\r\n                    else {\r\n                        return Response.status(Response.Status.PARTIAL_CONTENT)\r\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\r\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\r\n                                .header(&quot;Content-Length&quot;, contentLength)\r\n                                .entity(data).build();\r\n                    }\r\n                }\r\n\r\n            } else {\r\n\r\n                return Response.status(Response.Status.OK)\r\n                        .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\r\n                        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\r\n                        .header(HttpHeaders.CONTENT_TYPE, contentType)\r\n                        .entity(resFileService.loadFileAsResource(fileId, ctx)).build();\r\n            }\r\n        } catch (NotFoundException e) {\r\n            return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\r\n        } catch (IOException | MinIOException e) {\r\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e.getMessage())).build();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n    public InputStream loadFileAsResource(UUID uuid, String ctx) throws MinIOException, NotFoundException {\r\n\r\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(uuid, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, uuid)));\r\n        return minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath());\r\n    }\r\n\r\n    public ByteArrayInputStream loadFileAsResourceRange(UUID fileId, String ctx, Long rangeStart, Long rangeEnd) throws MinIOException, NotFoundException, IOException {\r\n\r\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(fileId, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, fileId)));\r\n\r\n        Files.copy(minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath()),\r\n                Paths.get(&quot;/tmp/&quot; + resFile.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n\r\n        return new ByteArrayInputStream(IOUtils.toByteArray(new FileInputStream(&quot;/tmp/&quot; + resFile.getFileName())), rangeStart.intValue(), rangeEnd.intValue());\r\n    }\r\n```\r\n\r\n```\r\n    public InputStream downloadFile(String bucket, String filename) throws MinIOException {\r\n        try {\r\n            if(minioClient == null)\r\n                initializeMinIOClient();\r\n            // Get the object from bucket\r\n            return minioClient.getObject(GetObjectArgs.builder().bucket(bucket).object(filename).build());\r\n        } catch (Exception e) {\r\n            throw new MinIOException(String.format(&quot;Error occurred while downloading file &#39;%s&#39; | &quot;, filename), e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd from [this](https://stackoverflow.com/a/72524030/11621071) I read about `Uni` and `AsyncFile`.\r\n\r\nBut I don&#39;t know how to implement it.\r\n\r\nNOTE: Preferably I would like to return dirrectly reading the InputStream without saving the file as I take it from MinIO","title":"How to use Uni and AsyncFile in Quarkus for serve a preview of large file?","body":"<p>How to use <code>Uni</code> and <code>AsyncFile</code> in Quarkus for serve a preview of a large file as, for example, a <code>video/mp4</code> file, while reading it from minio?</p>\n<p>I tried to implement this with <code>Response</code> class, following <a href=\"https://github.com/saravanastar/video-streaming\" rel=\"nofollow noreferrer\">this</a>, but without success:</p>\n<pre><code>    @GET\n    @Path(&quot;/download/{id}/ctx/{ctx}&quot;)\n    @Produces(MediaType.APPLICATION_OCTET_STREAM)\n    public Response downloadFile(@PathParam(&quot;id&quot;) UUID fileId, @PathParam(&quot;ctx&quot;) String ctx, @QueryParam(&quot;preview&quot;) boolean preview,\n                                 @HeaderParam(value = &quot;Range&quot;) String httpRangeList) {\n        try {\n\n            ResFile resFile = resFileService.getResFile(fileId, ctx);\n            String contentType = resFile.getMimeType();\n            Long size = resFile.getSize();\n\n            long rangeStart = 0;\n            long rangeEnd = size - 1;\n\n            if (preview) {\n\n                if (httpRangeList == null) {\n                    return Response.status(Response.Status.OK)\n                            .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                            .header(HttpHeaders.CONTENT_TYPE, contentType)\n                            .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                            .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                            .header(&quot;Content-Length&quot;, String.valueOf(size))\n                            .entity(resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, size)).build();\n                } else {\n\n                    String[] ranges = httpRangeList.split(&quot;-&quot;);\n                    rangeStart = Long.parseLong(ranges[0].substring(6));\n                    if (ranges.length &gt; 1) {\n                        rangeEnd = Long.parseLong(ranges[1]);\n                    } else {\n                        rangeEnd = rangeStart + chunkSize;\n                    }\n\n                    rangeEnd = Math.min(rangeEnd, size - 1);\n                    final byte[] data = resFileService.loadFileAsResourceRange(fileId, ctx, rangeStart, rangeEnd).readAllBytes();\n\n                    log.info(&quot;data size: {}&quot;, data.length);\n\n                    final String contentLength = String.valueOf((rangeEnd - rangeStart) + 1);\n\n                    if (rangeEnd &gt;= size) {\n                        return Response.status(Response.Status.OK)\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                                .header(&quot;Content-Length&quot;, contentLength)\n                                .entity(data).build();\n                    }\n                    else {\n                        return Response.status(Response.Status.PARTIAL_CONTENT)\n                                .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                                .header(HttpHeaders.CONTENT_TYPE, contentType)\n                                .header(&quot;Accept-Ranges&quot;, &quot;bytes&quot;)\n                                .header(&quot;Content-Range&quot;, &quot;bytes &quot; + rangeStart + &quot;-&quot; + rangeEnd + &quot;/&quot; + size)\n                                .header(&quot;Content-Length&quot;, contentLength)\n                                .entity(data).build();\n                    }\n                }\n\n            } else {\n\n                return Response.status(Response.Status.OK)\n                        .header(&quot;Access-Control-Expose-Headers&quot;, HttpHeaders.CONTENT_DISPOSITION)\n                        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + resFileService.getResFile(fileId, ctx).getFileName() + &quot;\\&quot;&quot;)\n                        .header(HttpHeaders.CONTENT_TYPE, contentType)\n                        .entity(resFileService.loadFileAsResource(fileId, ctx)).build();\n            }\n        } catch (NotFoundException e) {\n            return Response.status(Response.Status.NOT_FOUND).entity(String.format(FILE_NOT_FOUND, fileId)).build();\n        } catch (IOException | MinIOException e) {\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(String.format(MINIO_EXCEPTION, e.getMessage())).build();\n        }\n    }\n</code></pre>\n<pre><code>    public InputStream loadFileAsResource(UUID uuid, String ctx) throws MinIOException, NotFoundException {\n\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(uuid, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, uuid)));\n        return minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath());\n    }\n\n    public ByteArrayInputStream loadFileAsResourceRange(UUID fileId, String ctx, Long rangeStart, Long rangeEnd) throws MinIOException, NotFoundException, IOException {\n\n        ResFile resFile = resFileRepository.findByResourceIdAndCtx(fileId, ctx).orElseThrow(() -&gt; new NotFoundException(String.format(RESFILE_NOT_FOUND, fileId)));\n\n        Files.copy(minIOService.downloadFile(Buckets.FILES.name().toLowerCase(), resFile.getPath()),\n                Paths.get(&quot;/tmp/&quot; + resFile.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n\n        return new ByteArrayInputStream(IOUtils.toByteArray(new FileInputStream(&quot;/tmp/&quot; + resFile.getFileName())), rangeStart.intValue(), rangeEnd.intValue());\n    }\n</code></pre>\n<pre><code>    public InputStream downloadFile(String bucket, String filename) throws MinIOException {\n        try {\n            if(minioClient == null)\n                initializeMinIOClient();\n            // Get the object from bucket\n            return minioClient.getObject(GetObjectArgs.builder().bucket(bucket).object(filename).build());\n        } catch (Exception e) {\n            throw new MinIOException(String.format(&quot;Error occurred while downloading file '%s' | &quot;, filename), e);\n        }\n    }\n</code></pre>\n<p>And from <a href=\"https://stackoverflow.com/a/72524030/11621071\">this</a> I read about <code>Uni</code> and <code>AsyncFile</code>.</p>\n<p>But I don't know how to implement it.</p>\n<p>NOTE: Preferably I would like to return dirrectly reading the InputStream without saving the file as I take it from MinIO</p>\n"},{"tags":["java","spring-boot","instanceof","java-19"],"comments":[{"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"score":1,"creation_date":1672773493,"post_id":74997594,"comment_id":132348513,"body_markdown":"I cannot reproduce your problem. `rec1 instanceof Interface1` returned true, as expected, when I tried it.","body":"I cannot reproduce your problem. <code>rec1 instanceof Interface1</code> returned true, as expected, when I tried it."},{"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"score":0,"creation_date":1672774122,"post_id":74997594,"comment_id":132348674,"body_markdown":"@Hoopje thanks a lot for your efforts. You are completely correct. The behavior was a side effect of spring-boot-devtools and was not related to what I thought it could be o.0 Added answer... Thanks again","body":"@Hoopje thanks a lot for your efforts. You are completely correct. The behavior was a side effect of spring-boot-devtools and was not related to what I thought it could be o.0 Added answer... Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672773677,"creation_date":1672773677,"answer_id":74997802,"question_id":74997594,"body_markdown":"Found the root cause to the problem here: https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\r\n\r\nIt is not related to Records or other new Java features.\r\n\r\nThe problem is caused by Spring Boot, or more specifically, the `spring-boot-devtools` dependency present in my project. It introduces an additional class loader to the project. When a class is loaded by different class loaders, they will not be treated as of the same class, although, their canonical class name is in fact the same.\r\n\r\nIn the linked question this led to `ClassCastException`s which look confusing, like:\r\n\r\n    com.pack.Class1 cannot be cast to com.pack.Class1\r\n\r\nIn addition to the failing class casts described in the linked question, the wrong result of the `instanceof` operator is another symptom of the underlying class loader problem.\r\n\r\nHowever, in both cases, the solution is to remove the `spring-boot-devtools` \r\ndependency or configure it specifically to your needs, see http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload","title":"Record implementing Interface returns false when checked using instanceof (spring-boot, Java 19)","body":"<p>Found the root cause to the problem here: <a href=\"https://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\">ClassCastException when casting to the same class</a></p>\n<p>It is not related to Records or other new Java features.</p>\n<p>The problem is caused by Spring Boot, or more specifically, the <code>spring-boot-devtools</code> dependency present in my project. It introduces an additional class loader to the project. When a class is loaded by different class loaders, they will not be treated as of the same class, although, their canonical class name is in fact the same.</p>\n<p>In the linked question this led to <code>ClassCastException</code>s which look confusing, like:</p>\n<pre><code>com.pack.Class1 cannot be cast to com.pack.Class1\n</code></pre>\n<p>In addition to the failing class casts described in the linked question, the wrong result of the <code>instanceof</code> operator is another symptom of the underlying class loader problem.</p>\n<p>However, in both cases, the solution is to remove the <code>spring-boot-devtools</code>\ndependency or configure it specifically to your needs, see <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-customizing-classload</a></p>\n"}],"owner":{"account_id":1476884,"reputation":536,"user_id":5474918,"display_name":"martinspielmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74997802,"answer_count":1,"score":1,"last_activity_date":1677881319,"creation_date":1672772265,"question_id":74997594,"body_markdown":"Code example is below.\r\n\r\nI have a Record that implements an Interface.\r\nWhen I check if an object of type Record is an `instanceof` the Interface, the result is `false`.\r\n\r\nIs there any special Java behavior with the combination of Records/Interfaces/instanceof?\r\n\r\nThe following example results illustrates the problem. `isInstanceOf` stays `false`, but I would expect that the condition and thus the variable evaluates to `true`.\r\n\r\n```java\r\ninterface Interface1 {}\r\n\r\nrecord Record1(String foo) implements Interface1 {}\r\n\r\n...\r\n\r\nRecord1 rec1 = new Record1(&quot;foo&quot;);\r\nboolean isInstanceOf = false;\r\n\r\nif (rec1 instanceof Interface1){\r\n    isInstanceOf = true;\r\n}\r\n\r\n// isInstanceOf is still false\r\n```","title":"Record implementing Interface returns false when checked using instanceof (spring-boot, Java 19)","body":"<p>Code example is below.</p>\n<p>I have a Record that implements an Interface.\nWhen I check if an object of type Record is an <code>instanceof</code> the Interface, the result is <code>false</code>.</p>\n<p>Is there any special Java behavior with the combination of Records/Interfaces/instanceof?</p>\n<p>The following example results illustrates the problem. <code>isInstanceOf</code> stays <code>false</code>, but I would expect that the condition and thus the variable evaluates to <code>true</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Interface1 {}\n\nrecord Record1(String foo) implements Interface1 {}\n\n...\n\nRecord1 rec1 = new Record1(&quot;foo&quot;);\nboolean isInstanceOf = false;\n\nif (rec1 instanceof Interface1){\n    isInstanceOf = true;\n}\n\n// isInstanceOf is still false\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677880933,"creation_date":1677866086,"answer_id":75630382,"question_id":75630276,"body_markdown":"For this use case, try using Postman and configure it to pass JSON to the API Gateway endpoint. The API Gateway endpoint passes the JSON to the Lambda function. So in my example here, I have configured an API Gateway endpoint that accepts a PUT request and accepts JSON that specifies a file name. \r\n\r\nThe Lambda function generates a presigned URL and returns it, as shown at bottom of screen shot.\r\n\r\nSee Postman sending the request: \r\n\r\n[![enter image description here][1]][1] \r\n\r\nThe Lambda function gets the value like this within the Lambda handler. No need for input streams or anything like that. Notice the string value you specify within **event.get()** matches the value in JSON. \r\n\r\n    public class UploadHandler implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\r\n    \r\n        @Override\r\n        public String handleRequest(Map&lt;String, String&gt; event, Context context) {\r\n            LambdaLogger logger = context.getLogger();\r\n            String fileName = event.get(&quot;filename&quot;);\r\n    \r\n    ...\r\n\r\nOf course, you have to setup your API gateway endpoint to use that specific Lambda function. Once you do - you can make requests, pass the JSON and the Lambda function can get the value(s). \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SL95Q.png","title":"Pass JSON file to a Java AWS Lambda Function via API Gateway","body":"<p>For this use case, try using Postman and configure it to pass JSON to the API Gateway endpoint. The API Gateway endpoint passes the JSON to the Lambda function. So in my example here, I have configured an API Gateway endpoint that accepts a PUT request and accepts JSON that specifies a file name.</p>\n<p>The Lambda function generates a presigned URL and returns it, as shown at bottom of screen shot.</p>\n<p>See Postman sending the request:</p>\n<p><a href=\"https://i.stack.imgur.com/SL95Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SL95Q.png\" alt=\"enter image description here\" /></a></p>\n<p>The Lambda function gets the value like this within the Lambda handler. No need for input streams or anything like that. Notice the string value you specify within <strong>event.get()</strong> matches the value in JSON.</p>\n<pre><code>public class UploadHandler implements RequestHandler&lt;Map&lt;String, String&gt;, String&gt; {\n\n    @Override\n    public String handleRequest(Map&lt;String, String&gt; event, Context context) {\n        LambdaLogger logger = context.getLogger();\n        String fileName = event.get(&quot;filename&quot;);\n\n...\n</code></pre>\n<p>Of course, you have to setup your API gateway endpoint to use that specific Lambda function. Once you do - you can make requests, pass the JSON and the Lambda function can get the value(s).</p>\n"}],"owner":{"account_id":27929273,"reputation":1,"user_id":21327713,"display_name":"Fabian Misch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677880988,"creation_date":1677865340,"question_id":75630276,"body_markdown":"I am testing a bit with AWS lambda functions and API Gateway and by now, I can not answer the following question to myself:\r\nWhat is the best practice to parse a JSON Body of a Request via an AWS API Gateway to a Lambda Function?\r\n\r\nI have written several Request Handlers, that parse a JSON Input using a map of String or even a default Java Class. This works quiet well when testing it and just passing the JSON definition to my Lambda function. But when it comes to the part, where I am using curl, the JSON data is, of course, in the request body and my Function is not extracting it. So I am wondering, what is the best way to parse JSON data that is in a Request Body via a Java Method? \r\n\r\nIs there a way to just pass the body through the AWS API Gateway? Or do I just have to use an inputStream in my Java Method and extract the JSON data on my own?\r\n\r\nThanks in advance!","title":"Pass JSON file to a Java AWS Lambda Function via API Gateway","body":"<p>I am testing a bit with AWS lambda functions and API Gateway and by now, I can not answer the following question to myself:\nWhat is the best practice to parse a JSON Body of a Request via an AWS API Gateway to a Lambda Function?</p>\n<p>I have written several Request Handlers, that parse a JSON Input using a map of String or even a default Java Class. This works quiet well when testing it and just passing the JSON definition to my Lambda function. But when it comes to the part, where I am using curl, the JSON data is, of course, in the request body and my Function is not extracting it. So I am wondering, what is the best way to parse JSON data that is in a Request Body via a Java Method?</p>\n<p>Is there a way to just pass the body through the AWS API Gateway? Or do I just have to use an inputStream in my Java Method and extract the JSON data on my own?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":1068225,"reputation":5449,"user_id":1068167,"accept_rate":97,"display_name":"span"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1524463373,"creation_date":1524463373,"answer_id":49974344,"question_id":49974306,"body_markdown":"You can use java Faker:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n        &lt;version&gt;0.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nExample usage:\r\n\r\n    Faker faker = new Faker();\r\n    \r\n    String name = faker.name().fullName(); // Miss Samanta Schmidt\r\n    String firstName = faker.name().firstName(); // Emory\r\n    String lastName = faker.name().lastName(); // Barton\r\n    \r\n    String streetAddress = faker.address().streetAddress(); // 60018 Sawayn Brooks Suite 449\r\n\r\nProject site: http://dius.github.io/java-faker/","title":"How to create object with fake data in java?","body":"<p>You can use java Faker:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;0.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Faker faker = new Faker();\n\nString name = faker.name().fullName(); // Miss Samanta Schmidt\nString firstName = faker.name().firstName(); // Emory\nString lastName = faker.name().lastName(); // Barton\n\nString streetAddress = faker.address().streetAddress(); // 60018 Sawayn Brooks Suite 449\n</code></pre>\n\n<p>Project site: <a href=\"http://dius.github.io/java-faker/\" rel=\"nofollow noreferrer\">http://dius.github.io/java-faker/</a></p>\n"},{"tags":[],"owner":{"account_id":4548446,"reputation":3727,"user_id":3694269,"display_name":"Shanu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524463406,"creation_date":1524463406,"answer_id":49974351,"question_id":49974306,"body_markdown":"You need not create `Parties` data if you are focussing on `Person` in your tests. You can always write like this:\r\n\r\n    Mockito.doReturn(new ArrayList()).when(your-mocked-person-object.getParties());","title":"How to create object with fake data in java?","body":"<p>You need not create <code>Parties</code> data if you are focussing on <code>Person</code> in your tests. You can always write like this:</p>\n\n<pre><code>Mockito.doReturn(new ArrayList()).when(your-mocked-person-object.getParties());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524464441,"creation_date":1524464441,"answer_id":49974570,"question_id":49974306,"body_markdown":"Here are some tricks that are often used for quick test data:\r\n\r\n1) Create one person object as a base (manually). Various tests need only to modify parts of the data, such as on change the last name, etc.\r\n\r\n2) Create a data generation utility, such as FakePersonCreator. It can use a combination of fixed strings and random data. Write a function that generates a person and have the tests use it.\r\n\r\n3) Use real data as your test data. You can record it from a real program run, and export it into a file. Then you have two options: \r\n\r\n - Read your test data from the file, on test run\r\n   \r\n - Write a utility that generates java code which builds the test\r\n   data  (person ) according to your data file\r\n\r\n4) Keep most of your test data (person) empty. Have each test only set the fields that it needs to check.\r\n\r\n5) Use a mocking framework (e.g. Mockito) to mock the test data. Create mock objects that only return the fields actually needed for testing.","title":"How to create object with fake data in java?","body":"<p>Here are some tricks that are often used for quick test data:</p>\n\n<p>1) Create one person object as a base (manually). Various tests need only to modify parts of the data, such as on change the last name, etc.</p>\n\n<p>2) Create a data generation utility, such as FakePersonCreator. It can use a combination of fixed strings and random data. Write a function that generates a person and have the tests use it.</p>\n\n<p>3) Use real data as your test data. You can record it from a real program run, and export it into a file. Then you have two options: </p>\n\n<ul>\n<li><p>Read your test data from the file, on test run</p></li>\n<li><p>Write a utility that generates java code which builds the test\ndata  (person ) according to your data file</p></li>\n</ul>\n\n<p>4) Keep most of your test data (person) empty. Have each test only set the fields that it needs to check.</p>\n\n<p>5) Use a mocking framework (e.g. Mockito) to mock the test data. Create mock objects that only return the fields actually needed for testing.</p>\n"},{"tags":[],"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1524482460,"creation_date":1524482460,"answer_id":49979862,"question_id":49974306,"body_markdown":"Finally, I found a solution for fake the object data from the class by using PODAM library in Java without the manual interaction.\r\n\r\nWe can use Podam library to fake data for object.\r\n\r\n**Dependency**\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;podam&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.1.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**Code**\r\n\r\n    PodamFactory factory = new PodamFactoryImpl();\r\n\tPerson myPojo = factory.manufacturePojo(Person.class);\r\n\r\nRef: [PODAM][1]\r\n\r\n\r\n  [1]: http://mtedone.github.io/podam/index.html","title":"How to create object with fake data in java?","body":"<p>Finally, I found a solution for fake the object data from the class by using PODAM library in Java without the manual interaction.</p>\n\n<p>We can use Podam library to fake data for object.</p>\n\n<p><strong>Dependency</strong></p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\n        &lt;artifactId&gt;podam&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>PodamFactory factory = new PodamFactoryImpl();\nPerson myPojo = factory.manufacturePojo(Person.class);\n</code></pre>\n\n<p>Ref: <a href=\"http://mtedone.github.io/podam/index.html\" rel=\"noreferrer\">PODAM</a></p>\n"},{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677880239,"creation_date":1656046975,"answer_id":72739191,"question_id":49974306,"body_markdown":"You can do this with a one-liner using **Instancio**:\r\n\r\n```java\r\nPerson person = Instancio.create(Person.class);\r\n```\r\n\r\nThis returns a populated person including nested objects and collections. You can also use the builder API to customise generated values:\r\n\r\n```java\r\nPerson person = Instancio.of(Person.class)\r\n    .generate(field(&quot;age&quot;), gen -&gt; gen.ints().range(18, 65))\r\n    .create();\r\n```\r\n\r\nIf you use JUnit 5, you can also use it with `@ParameterizedTest`s:\r\n\r\n```java\r\n@ExtendWith(InstancioExtension.class)\r\nclass ExampleTest {\r\n\r\n    @ParameterizedTest\r\n    @InstancioSource\r\n    void example(Person person) {\r\n        // snip...\r\n    }\r\n}\r\n```\r\n\r\nYou can find more examples in the [Instancio user guide][1].\r\n\r\nhttps://www.github.com/instancio/instancio\r\n\r\nDisclaimer: I&#39;m the author of this library.\r\n\r\n  [1]: https://www.instancio.org","title":"How to create object with fake data in java?","body":"<p>You can do this with a one-liner using <strong>Instancio</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.create(Person.class);\n</code></pre>\n<p>This returns a populated person including nested objects and collections. You can also use the builder API to customise generated values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = Instancio.of(Person.class)\n    .generate(field(&quot;age&quot;), gen -&gt; gen.ints().range(18, 65))\n    .create();\n</code></pre>\n<p>If you use JUnit 5, you can also use it with <code>@ParameterizedTest</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(InstancioExtension.class)\nclass ExampleTest {\n\n    @ParameterizedTest\n    @InstancioSource\n    void example(Person person) {\n        // snip...\n    }\n}\n</code></pre>\n<p>You can find more examples in the <a href=\"https://www.instancio.org\" rel=\"nofollow noreferrer\">Instancio user guide</a>.</p>\n<p><a href=\"https://www.github.com/instancio/instancio\" rel=\"nofollow noreferrer\">https://www.github.com/instancio/instancio</a></p>\n<p>Disclaimer: I'm the author of this library.</p>\n"}],"owner":{"account_id":5479459,"reputation":1180,"user_id":4356398,"display_name":"BALA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14325,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"answer_count":5,"score":6,"last_activity_date":1677880239,"creation_date":1524463199,"question_id":49974306,"body_markdown":"Suppose if I want to create an object with fake data for `Person` class, manually It&#39;ll take too much time, And `Person` class internally contains `Parties` class. \r\nIs there any simple ways to create Object with fake data. \r\nBy using mockito we can create object, but again manually faking data is difficult.\r\n\r\n    class Person {\r\n    \tint age;\r\n    \tArrayList&lt;Parties&gt; parties;\r\n    \r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n    \r\n    \tpublic ArrayList&lt;Parties&gt; getParties() {\r\n    \t\treturn parties;\r\n    \t}\r\n    \r\n    \tpublic void setParties(ArrayList&lt;Parties&gt; parties) {\r\n    \t\tthis.parties = parties;\r\n    \t}\r\n    }\r\n\r\n\r\n    class Parties {\r\n    \tprivate int date, month, year;\r\n    \r\n    \tpublic int getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(int date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic int getMonth() {\r\n    \t\treturn month;\r\n    \t}\r\n    \r\n    \tpublic void setMonth(int month) {\r\n    \t\tthis.month = month;\r\n    \t}\r\n    \r\n    \tpublic int getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(int year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create object with fake data in java?","body":"<p>Suppose if I want to create an object with fake data for <code>Person</code> class, manually It'll take too much time, And <code>Person</code> class internally contains <code>Parties</code> class. \nIs there any simple ways to create Object with fake data. \nBy using mockito we can create object, but again manually faking data is difficult.</p>\n\n<pre><code>class Person {\n    int age;\n    ArrayList&lt;Parties&gt; parties;\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public ArrayList&lt;Parties&gt; getParties() {\n        return parties;\n    }\n\n    public void setParties(ArrayList&lt;Parties&gt; parties) {\n        this.parties = parties;\n    }\n}\n\n\nclass Parties {\n    private int date, month, year;\n\n    public int getDate() {\n        return date;\n    }\n\n    public void setDate(int date) {\n        this.date = date;\n    }\n\n    public int getMonth() {\n        return month;\n    }\n\n    public void setMonth(int month) {\n        this.month = month;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1677880120,"post_id":75625901,"comment_id":133431445,"body_markdown":"Why do you want to use multiple security filter chains? You could use only one filter chain.","body":"Why do you want to use multiple security filter chains? You could use only one filter chain."},{"owner":{"account_id":2412143,"reputation":813,"user_id":2106997,"accept_rate":75,"display_name":"Ole K"},"score":0,"creation_date":1678012076,"post_id":75625901,"comment_id":133447307,"body_markdown":"Project is build up modular. So a module may provide additional `requestMatcher`","body":"Project is build up modular. So a module may provide additional <code>requestMatcher</code>"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1678012353,"post_id":75625901,"comment_id":133447344,"body_markdown":"As dmitriys already wrote, there is no way to merge it out of the box, you have to implement it by yourself. dmitriys&#39; answer is a nivce workaround. Every module needs its own  URL sub path.","body":"As dmitriys already wrote, there is no way to merge it out of the box, you have to implement it by yourself. dmitriys&#39; answer is a nivce workaround. Every module needs its own  URL sub path."}],"answers":[{"tags":[],"owner":{"account_id":4927037,"reputation":36,"user_id":3968018,"display_name":"dmitriys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677880234,"creation_date":1677876452,"answer_id":75631735,"question_id":75625901,"body_markdown":"As I understand. `SecurityFilterChain` beans do not merge `requestMatchers` they just execute matched filters.\r\n\r\nOption that may work (didn&#39;t check):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .securityMatcher(&quot;/api/core/**&quot;)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(&quot;/api/core/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n            );\r\n        \r\n        return http.build();\r\n    }\r\n    @Bean\r\n    public SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\r\n        http\r\n            .securityMatcher(&quot;/api/module2/**&quot;)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n        );\r\n    \r\n        return http.build();\r\n    }","title":"How to add additional requestMatchers in multiple SecurityFilterChain?","body":"<p>As I understand. <code>SecurityFilterChain</code> beans do not merge <code>requestMatchers</code> they just execute matched filters.</p>\n<p>Option that may work (didn't check):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .securityMatcher(&quot;/api/core/**&quot;)\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(&quot;/api/core/**&quot;).permitAll()\n            .anyRequest().authenticated()\n        );\n    \n    return http.build();\n}\n@Bean\npublic SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\n    http\n        .securityMatcher(&quot;/api/module2/**&quot;)\n        .authorizeHttpRequests(auth -&gt; auth\n            .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\n            .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":2412143,"reputation":813,"user_id":2106997,"accept_rate":75,"display_name":"Ole K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631735,"answer_count":1,"score":0,"last_activity_date":1677880234,"creation_date":1677839357,"question_id":75625901,"body_markdown":"Lets assume I am adding some security in Spring Boot 3 using the `SecurityFilterChain` `@Bean` multiple times.\r\n\r\nThe first `@Bean` looks as follow:\r\n\r\n&lt;!-- laguage: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t.requestMatchers(&quot;/api/core/**&quot;).permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nWhile the second `@Bean` is supposed to add **additional `requestMatchers`**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeHttpRequests(auth -&gt; auth\r\n\t\t\t.requestMatchers(&quot;/api/module2/**&quot;).permitAll()\r\n\t\t\t.anyRequest().authenticated()\r\n\t\t);\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nUnfortunately, the second method `filterChainAdditional` is correctly called in the expected order.\r\n**But it does not extend the `requestMatchers`**.\r\n\r\nEven more curious in the second bean all `requestMatchers` seem to be unavailable in the `HttpSecurity` context.\r\n\r\nAnyone has an idea how to solve this probably?","title":"How to add additional requestMatchers in multiple SecurityFilterChain?","body":"<p>Lets assume I am adding some security in Spring Boot 3 using the <code>SecurityFilterChain</code> <code>@Bean</code> multiple times.</p>\n<p>The first <code>@Bean</code> looks as follow:</p>\n\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(&quot;/api/core/**&quot;).permitAll()\n        .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n<p>While the second <code>@Bean</code> is supposed to add <strong>additional <code>requestMatchers</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChainAdditional(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(auth -&gt; auth\n        .requestMatchers(&quot;/api/module2/**&quot;).permitAll()\n        .anyRequest().authenticated()\n    );\n\n    return http.build();\n}\n</code></pre>\n<p>Unfortunately, the second method <code>filterChainAdditional</code> is correctly called in the expected order.\n<strong>But it does not extend the <code>requestMatchers</code></strong>.</p>\n<p>Even more curious in the second bean all <code>requestMatchers</code> seem to be unavailable in the <code>HttpSecurity</code> context.</p>\n<p>Anyone has an idea how to solve this probably?</p>\n"},{"tags":["java","weblogic","consul","spring-cloud-consul","sidecar"],"owner":{"account_id":19360818,"reputation":1,"user_id":14156095,"display_name":"Angelo G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677879820,"creation_date":1677879820,"question_id":75632130,"body_markdown":"I am trying to register all the manage servers running in WebLogic 12 in Consul Discovery Server. In order do do that, I create a war project with **spring-cloud-consul** dependency. This is a spring-boot application. application run with each manage server in WebLogic server.\r\n\r\nHere is the pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nweblogic.xml\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n...\r\n\t&lt;container-descriptor&gt;\r\n\t\t&lt;gzip-compression&gt;\r\n\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t&lt;min-content-length&gt;4096&lt;/min-content-length&gt;\r\n\t\t\t&lt;content-type&gt;text/html&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/xml&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/json&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/x-javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;application/javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/x-javascript&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/x-json&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/css&lt;/content-type&gt;\r\n\t\t\t&lt;content-type&gt;text/plain&lt;/content-type&gt;\r\n\t\t&lt;/gzip-compression&gt;\r\n\t\t&lt;servlet-reload-check-secs&gt;-1&lt;/servlet-reload-check-secs&gt;\r\n\t\t&lt;prefer-application-packages&gt;\r\n\t\t\t&lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.springframework.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;com.ecwid.consul.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- jsr311 --&gt;\r\n\t\t\t&lt;package-name&gt;javax.ws.rs.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- javassist --&gt;\r\n\t\t\t&lt;package-name&gt;javassist.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- aop repackaged --&gt;\r\n\t\t\t&lt;package-name&gt;org.aopalliance.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- jersey 2 --&gt;\r\n\t\t\t&lt;package-name&gt;jersey.repackaged.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.glassfish.jersey.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;com.sun.research.ws.wadl.*&lt;/package-name&gt;\r\n\t\t\t&lt;!-- hk2 --&gt;\r\n\t\t\t&lt;package-name&gt;org.glassfish.hk2.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.jvnet.hk2.*&lt;/package-name&gt;\r\n\t\t\t&lt;package-name&gt;org.jvnet.tiger_types.*&lt;/package-name&gt;\r\n\t\t&lt;/prefer-application-packages&gt;\r\n\r\n\t\t&lt;prefer-application-resources&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/javax.servlet.ServletContainerInitializer&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/javax.ws.rs.ext.RuntimeDelegate&lt;/resource-name&gt;\r\n\t\t\t&lt;!-- jersey --&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;org.glassfish.jersey.*&lt;/resource-name&gt;\r\n\t\t\t&lt;resource-name&gt;jersey.repackaged.*&lt;/resource-name&gt;\r\n\t\t\t&lt;!-- hk2 --&gt;\r\n\t\t\t&lt;resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/resource-name&gt;\r\n\t\t&lt;/prefer-application-resources&gt;\r\n\t&lt;/container-descriptor&gt;\r\n\t&lt;jsp-descriptor&gt;\r\n\t\t&lt;page-check-seconds&gt;-1&lt;/page-check-seconds&gt;\r\n\t&lt;/jsp-descriptor&gt;\r\n&lt;/weblogic-web-app&gt;\r\n```\r\n\r\nWhen I run the consul client as a standalone app it run and register to the consul server fine. But when the consul client run with weblogic with each manage server, the application starts fine but it never get register into the consul server. I don&#39;t see any exception in the logs that can explain the root cause.\r\n\r\nWhen I run the client as a standalone I can see in the logs how it get register into the server.\r\n\r\nI also tried to shutdown the consul server in order to see what happens. The result is that I get an exception telling me that the client cannot reach the server. So it tells me that the client is trying to get to the server in some way.\r\n\r\nAny idea why this is happening? Once I tried to do the same with eureka and had no issues.\r\n\r\nThanks,","title":"Failed to run spring-boot-consul client in weblogic","body":"<p>I am trying to register all the manage servers running in WebLogic 12 in Consul Discovery Server. In order do do that, I create a war project with <strong>spring-cloud-consul</strong> dependency. This is a spring-boot application. application run with each manage server in WebLogic server.</p>\n<p>Here is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>weblogic.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n...\n    &lt;container-descriptor&gt;\n        &lt;gzip-compression&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;min-content-length&gt;4096&lt;/min-content-length&gt;\n            &lt;content-type&gt;text/html&lt;/content-type&gt;\n            &lt;content-type&gt;text/xml&lt;/content-type&gt;\n            &lt;content-type&gt;application/json&lt;/content-type&gt;\n            &lt;content-type&gt;application/x-javascript&lt;/content-type&gt;\n            &lt;content-type&gt;application/javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/x-javascript&lt;/content-type&gt;\n            &lt;content-type&gt;text/x-json&lt;/content-type&gt;\n            &lt;content-type&gt;text/css&lt;/content-type&gt;\n            &lt;content-type&gt;text/plain&lt;/content-type&gt;\n        &lt;/gzip-compression&gt;\n        &lt;servlet-reload-check-secs&gt;-1&lt;/servlet-reload-check-secs&gt;\n        &lt;prefer-application-packages&gt;\n            &lt;package-name&gt;org.slf4j.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.springframework.*&lt;/package-name&gt;\n            &lt;package-name&gt;com.ecwid.consul.*&lt;/package-name&gt;\n            &lt;!-- jsr311 --&gt;\n            &lt;package-name&gt;javax.ws.rs.*&lt;/package-name&gt;\n            &lt;!-- javassist --&gt;\n            &lt;package-name&gt;javassist.*&lt;/package-name&gt;\n            &lt;!-- aop repackaged --&gt;\n            &lt;package-name&gt;org.aopalliance.*&lt;/package-name&gt;\n            &lt;!-- jersey 2 --&gt;\n            &lt;package-name&gt;jersey.repackaged.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.glassfish.jersey.*&lt;/package-name&gt;\n            &lt;package-name&gt;com.sun.research.ws.wadl.*&lt;/package-name&gt;\n            &lt;!-- hk2 --&gt;\n            &lt;package-name&gt;org.glassfish.hk2.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.jvnet.hk2.*&lt;/package-name&gt;\n            &lt;package-name&gt;org.jvnet.tiger_types.*&lt;/package-name&gt;\n        &lt;/prefer-application-packages&gt;\n\n        &lt;prefer-application-resources&gt;\n            &lt;resource-name&gt;META-INF/services/javax.servlet.ServletContainerInitializer&lt;/resource-name&gt;\n            &lt;resource-name&gt;META-INF/services/javax.ws.rs.ext.RuntimeDelegate&lt;/resource-name&gt;\n            &lt;!-- jersey --&gt;\n            &lt;resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/resource-name&gt;\n            &lt;resource-name&gt;org.glassfish.jersey.*&lt;/resource-name&gt;\n            &lt;resource-name&gt;jersey.repackaged.*&lt;/resource-name&gt;\n            &lt;!-- hk2 --&gt;\n            &lt;resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/resource-name&gt;\n        &lt;/prefer-application-resources&gt;\n    &lt;/container-descriptor&gt;\n    &lt;jsp-descriptor&gt;\n        &lt;page-check-seconds&gt;-1&lt;/page-check-seconds&gt;\n    &lt;/jsp-descriptor&gt;\n&lt;/weblogic-web-app&gt;\n</code></pre>\n<p>When I run the consul client as a standalone app it run and register to the consul server fine. But when the consul client run with weblogic with each manage server, the application starts fine but it never get register into the consul server. I don't see any exception in the logs that can explain the root cause.</p>\n<p>When I run the client as a standalone I can see in the logs how it get register into the server.</p>\n<p>I also tried to shutdown the consul server in order to see what happens. The result is that I get an exception telling me that the client cannot reach the server. So it tells me that the client is trying to get to the server in some way.</p>\n<p>Any idea why this is happening? Once I tried to do the same with eureka and had no issues.</p>\n<p>Thanks,</p>\n"},{"tags":["java","kotlin","google-drive-api","android-jetpack-compose"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1677896087,"post_id":75632121,"comment_id":133433532,"body_markdown":"&quot;Is that a Java pratice to wrap everything in class ?&quot; Yes, Java requires that everything be wrapped in a class.  Kotlin hides that implementation detail from you, although it still happens in the bytecode.","body":"&quot;Is that a Java pratice to wrap everything in class ?&quot; Yes, Java requires that everything be wrapped in a class.  Kotlin hides that implementation detail from you, although it still happens in the bytecode."},{"owner":{"account_id":18265720,"reputation":109,"user_id":13297517,"display_name":"Tessan"},"score":0,"creation_date":1677938052,"post_id":75632121,"comment_id":133437896,"body_markdown":"ok I see! Do you know what&#39;s wrong with the import ?","body":"ok I see! Do you know what&#39;s wrong with the import ?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1677979046,"post_id":75632121,"comment_id":133444204,"body_markdown":"I&#39;m not sure.  I&#39;m guessing here, but [this page](https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.http.HttpCredentialsAdapter) suggests that at least `HttpCredentialsAdapter` is part of [google-auth-library](https://github.com/googleapis/google-auth-library-java), so try adding that dependency.","body":"I&#39;m not sure.  I&#39;m guessing here, but <a href=\"https://cloud.google.com/java/docs/reference/google-auth-library/latest/com.google.auth.http.HttpCredentialsAdapter\" rel=\"nofollow noreferrer\">this page</a> suggests that at least <code>HttpCredentialsAdapter</code> is part of <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">google-auth-library</a>, so try adding that dependency."}],"owner":{"account_id":18265720,"reputation":109,"user_id":13297517,"display_name":"Tessan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677879721,"creation_date":1677879721,"question_id":75632121,"body_markdown":"Firstly, I don&#39;t know if it&#39;s important to specify it but I&#39;m using Jetpack compose and I&#39;m a beginner in Android development. \r\n\r\nI&#39;m building an app that should communicate with Google Drive in order to upload and download light datas. For that, I tried to add these dependencies in the build.gradle file of my app (as recommended in this [doc page][1]):\r\n\r\n```Gradle\r\ndependencies {\r\n    implementation &#39;com.google.api-client:google-api-client:2.0.0&#39;\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.34.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0&#39;\r\n}\r\n```\r\n\r\nThen I just copy-pasted [this][2] Java sample code in my project and I used the &quot;convert Java to Kotlin&quot; feature of android studio to convert the sample to kotlin code. You can see the result of this conversion here:\r\n\r\n```Kotlin\r\nimport com.google.api.client.googleapis.json.GoogleJsonResponseException\r\nimport com.google.api.client.http.HttpRequestInitializer\r\nimport com.google.api.client.http.javanet.NetHttpTransport\r\nimport com.google.api.client.json.gson.GsonFactory\r\nimport com.google.api.services.drive.Drive\r\nimport com.google.api.services.drive.DriveScopes\r\nimport com.google.auth.http.HttpCredentialsAdapter\r\nimport com.google.auth.oauth2.GoogleCredentials\r\nimport java.io.ByteArrayOutputStream\r\nimport java.io.IOException\r\nimport java.io.OutputStream\r\nimport java.util.*\r\n\r\n/* Class to demonstrate use-case of drive&#39;s download file. */\r\nobject DownloadFile {\r\n    /**\r\n     * Download a Document file in PDF format.\r\n     *\r\n     * @param realFileId file ID of any workspace document format file.\r\n     * @return byte array stream if successful, `null` otherwise.\r\n     * @throws IOException if service account credentials file not found.\r\n     */\r\n    @Throws(IOException::class)\r\n    fun downloadFile(realFileId: String?): ByteArrayOutputStream {\r\n        /* Load pre-authorized user credentials from the environment.\r\n           TODO(developer) - See https://developers.google.com/identity for\r\n          guides on implementing OAuth2 for your application.*/\r\n        val credentials: GoogleCredentials = GoogleCredentials.getApplicationDefault()\r\n            .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE))\r\n        val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(\r\n            credentials\r\n        )\r\n\r\n        // Build a new authorized API client service.\r\n        val service = Drive.Builder(\r\n            NetHttpTransport(),\r\n            GsonFactory.getDefaultInstance(),\r\n            requestInitializer\r\n        )\r\n            .setApplicationName(&quot;Drive samples&quot;)\r\n            .build()\r\n        return try {\r\n            val outputStream: OutputStream = ByteArrayOutputStream()\r\n            service.files()[realFileId]\r\n                .executeMediaAndDownloadTo(outputStream)\r\n            outputStream as ByteArrayOutputStream\r\n        } catch (e: GoogleJsonResponseException) {\r\n            // TODO(developer) - handle error appropriately\r\n            System.err.println(&quot;Unable to move file: &quot; + e.details)\r\n            throw e\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nBefore being able to run this code I have 2 importation issues. I can&#39;t import HttpCredentialsAdapter and GoogleCredentials. It seems that com.google.auth can&#39;t be found to import `com.google.auth.http.HttpCredentialsAdapter` and `com.google.auth.oauth2.GoogleCredentials`. What is the correct way to import these modules ?\r\n\r\nFurethermore, I find the sample code a little weird. Why not just create a function downloadFile(Id) directly rather than wrap it in a class DownloadFile? Is that a Java pratice to wrap everything in class ?\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/quickstart/java\r\n  [2]: https://developers.google.com/drive/api/guides/manage-uploads","title":"Communication between google drive API and jetpack compose app","body":"<p>Firstly, I don't know if it's important to specify it but I'm using Jetpack compose and I'm a beginner in Android development.</p>\n<p>I'm building an app that should communicate with Google Drive in order to upload and download light datas. For that, I tried to add these dependencies in the build.gradle file of my app (as recommended in this <a href=\"https://developers.google.com/drive/api/quickstart/java\" rel=\"nofollow noreferrer\">doc page</a>):</p>\n<pre><code>dependencies {\n    implementation 'com.google.api-client:google-api-client:2.0.0'\n    implementation 'com.google.oauth-client:google-oauth-client-jetty:1.34.1'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20220815-2.0.0'\n}\n</code></pre>\n<p>Then I just copy-pasted <a href=\"https://developers.google.com/drive/api/guides/manage-uploads\" rel=\"nofollow noreferrer\">this</a> Java sample code in my project and I used the &quot;convert Java to Kotlin&quot; feature of android studio to convert the sample to kotlin code. You can see the result of this conversion here:</p>\n<pre><code>import com.google.api.client.googleapis.json.GoogleJsonResponseException\nimport com.google.api.client.http.HttpRequestInitializer\nimport com.google.api.client.http.javanet.NetHttpTransport\nimport com.google.api.client.json.gson.GsonFactory\nimport com.google.api.services.drive.Drive\nimport com.google.api.services.drive.DriveScopes\nimport com.google.auth.http.HttpCredentialsAdapter\nimport com.google.auth.oauth2.GoogleCredentials\nimport java.io.ByteArrayOutputStream\nimport java.io.IOException\nimport java.io.OutputStream\nimport java.util.*\n\n/* Class to demonstrate use-case of drive's download file. */\nobject DownloadFile {\n    /**\n     * Download a Document file in PDF format.\n     *\n     * @param realFileId file ID of any workspace document format file.\n     * @return byte array stream if successful, `null` otherwise.\n     * @throws IOException if service account credentials file not found.\n     */\n    @Throws(IOException::class)\n    fun downloadFile(realFileId: String?): ByteArrayOutputStream {\n        /* Load pre-authorized user credentials from the environment.\n           TODO(developer) - See https://developers.google.com/identity for\n          guides on implementing OAuth2 for your application.*/\n        val credentials: GoogleCredentials = GoogleCredentials.getApplicationDefault()\n            .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE))\n        val requestInitializer: HttpRequestInitializer = HttpCredentialsAdapter(\n            credentials\n        )\n\n        // Build a new authorized API client service.\n        val service = Drive.Builder(\n            NetHttpTransport(),\n            GsonFactory.getDefaultInstance(),\n            requestInitializer\n        )\n            .setApplicationName(&quot;Drive samples&quot;)\n            .build()\n        return try {\n            val outputStream: OutputStream = ByteArrayOutputStream()\n            service.files()[realFileId]\n                .executeMediaAndDownloadTo(outputStream)\n            outputStream as ByteArrayOutputStream\n        } catch (e: GoogleJsonResponseException) {\n            // TODO(developer) - handle error appropriately\n            System.err.println(&quot;Unable to move file: &quot; + e.details)\n            throw e\n        }\n    }\n}\n\n</code></pre>\n<p>Before being able to run this code I have 2 importation issues. I can't import HttpCredentialsAdapter and GoogleCredentials. It seems that com.google.auth can't be found to import <code>com.google.auth.http.HttpCredentialsAdapter</code> and <code>com.google.auth.oauth2.GoogleCredentials</code>. What is the correct way to import these modules ?</p>\n<p>Furethermore, I find the sample code a little weird. Why not just create a function downloadFile(Id) directly rather than wrap it in a class DownloadFile? Is that a Java pratice to wrap everything in class ?</p>\n"},{"tags":["java","spring","proxy","annotations"],"comments":[{"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"score":0,"creation_date":1550525601,"post_id":54755339,"comment_id":96292886,"body_markdown":"Possibly because when someone implements an interface, they can use whatever parameter names they want to (they don&#39;t have to match the interface definition).","body":"Possibly because when someone implements an interface, they can use whatever parameter names they want to (they don&#39;t have to match the interface definition)."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":1,"creation_date":1550529038,"post_id":54755339,"comment_id":96294120,"body_markdown":"[This answer](https://stackoverflow.com/a/41357607/3591528) has some details, but basically there isn&#39;t enough debug info on interfaces for Spring to discover the parameter name by reflection (unless you jump through some hoops).","body":"<a href=\"https://stackoverflow.com/a/41357607/3591528\">This answer</a> has some details, but basically there isn&#39;t enough debug info on interfaces for Spring to discover the parameter name by reflection (unless you jump through some hoops)."}],"owner":{"account_id":13016118,"reputation":21,"user_id":9407292,"display_name":"Khalanirek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677879643,"creation_date":1550523929,"question_id":54755339,"body_markdown":"I have interface `UserController` and class `UserControllerImpl`.\r\nWhen I add `@RequestMapping` and `@PathVariable` in `UserControllerImpl` and I am using proxy based on class I am able to get user using this URL:\r\n\r\nGET: `http://localhost:8080/company-control/users/25`\r\n\r\nWhen I change proxy to based on interface and add `@RequestMapping` and `@PatyVariable` to interface I am not able to get it and I receive following error:\r\n\r\n&gt; Request processing failed; nested exception is java.lang.IllegalArgumentException: Name for argument type [int] not available, and parameter name information not found in class file either.\r\n\r\nI am able to solve this issue adding `userId` to `@PathVariable`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public User getUser(@PathVariable(&quot;userId&quot;) int userId);\r\n\r\nCould someone explain me why I have to add `userId` to `@PathVariable` if I use the same variable name?\r\n\r\nIs it connected with proxy?","title":"@PathVariable annotation works different with proxy based on Interface/Class","body":"<p>I have interface <code>UserController</code> and class <code>UserControllerImpl</code>.\nWhen I add <code>@RequestMapping</code> and <code>@PathVariable</code> in <code>UserControllerImpl</code> and I am using proxy based on class I am able to get user using this URL:</p>\n<p>GET: <code>http://localhost:8080/company-control/users/25</code></p>\n<p>When I change proxy to based on interface and add <code>@RequestMapping</code> and <code>@PatyVariable</code> to interface I am not able to get it and I receive following error:</p>\n<blockquote>\n<p>Request processing failed; nested exception is java.lang.IllegalArgumentException: Name for argument type [int] not available, and parameter name information not found in class file either.</p>\n</blockquote>\n<p>I am able to solve this issue adding <code>userId</code> to <code>@PathVariable</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/{userId}&quot;)\npublic User getUser(@PathVariable(&quot;userId&quot;) int userId);\n</code></pre>\n<p>Could someone explain me why I have to add <code>userId</code> to <code>@PathVariable</code> if I use the same variable name?</p>\n<p>Is it connected with proxy?</p>\n"},{"tags":["java","spring-mvc","httpclient","inputstream","closeablehttpresponse"],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677879581,"creation_date":1677879581,"answer_id":75632113,"question_id":75632079,"body_markdown":"You can always create a copy of the InputStream obtained from the HttpEntity and use the copy to create the InputStreamResource that is returned in the ResponseEntity. This way, the original InputStream obtained from the HttpEntity can be safely closed before the ResponseEntity is returned.\r\n\r\n    InputStream inputStream = entity.getContent();\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    IOUtils.copy(inputStream, outputStream);\r\n    byte[] contentBytes = outputStream.toByteArray();\r\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\r\n    InputStreamResource inputStreamResource = new InputStreamResource(byteArrayInputStream);\r\n\r\n\r\nOr save use the byte[] and use it to return `ByteArrayResource` instead of `InputStreamResource`","title":"Close CloseableHttpResponse after returning InputStream Spring MVC","body":"<p>You can always create a copy of the InputStream obtained from the HttpEntity and use the copy to create the InputStreamResource that is returned in the ResponseEntity. This way, the original InputStream obtained from the HttpEntity can be safely closed before the ResponseEntity is returned.</p>\n<pre><code>InputStream inputStream = entity.getContent();\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\nIOUtils.copy(inputStream, outputStream);\nbyte[] contentBytes = outputStream.toByteArray();\nByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(contentBytes);\nInputStreamResource inputStreamResource = new InputStreamResource(byteArrayInputStream);\n</code></pre>\n<p>Or save use the byte[] and use it to return <code>ByteArrayResource</code> instead of <code>InputStreamResource</code></p>\n"}],"owner":{"account_id":20621069,"reputation":53,"user_id":15138087,"display_name":"Evgenia Rubanova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677879581,"creation_date":1677879285,"question_id":75632079,"body_markdown":"My controller method returns InputStreamResource in response body. I&#39;am getting InputStream from the CloseableHttpResponse in the TRY block and I close CloseableHttpResponse in FINALLY block. \r\n\r\n*The problem is that finally is called before the return and there is no chance to create InputStreamResource from the InputStream because CloseableHttpResponse is already closed*. \r\n\r\nWhat could be a possible solution in this case? Can I somehow close CloseableHttpResponse after returning InputStreamResource? I really need to use **CloseableHttpClient** and the method should return some **stream**.\r\n\r\n```\r\n    public ResponseEntity&lt;InputStreamResource&gt; getFileAsStream(@PathVariable(&quot;uuid&quot;) String uuid) throws IOException, InterruptedException {\r\n        CloseableHttpResponse response = fileService.importFileByUuid(uuid);\r\n        try {\r\n            HttpEntity entity = response.getEntity();\r\n            HttpHeaders responseHeaders = new HttpHeaders();\r\n            responseHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(entity.getContentLength()));\r\n            responseHeaders.add(HttpHeaders.CONTENT_TYPE, entity.getContentType().getValue());\r\n            responseHeaders.add(HttpHeaders.CONTENT_DISPOSITION, response.getFirstHeader(HttpHeaders.CONTENT_DISPOSITION).getValue());\r\n\r\n            if (entity != null) {\r\n                InputStream inputStream = entity.getContent();\r\n                InputStreamResource inputStreamResource = new InputStreamResource(inputStream);\r\n                return ResponseEntity.ok()\r\n                            .headers(responseHeaders)\r\n                            .body(inputStreamResource);\r\n            }\r\n            throw new IllegalStateException(String.format(\r\n                    &quot;Error during stream downloading, uuid = %s&quot;, uuid));\r\n        } finally {\r\n            response.close();\r\n        }\r\n    } \r\n```","title":"Close CloseableHttpResponse after returning InputStream Spring MVC","body":"<p>My controller method returns InputStreamResource in response body. I'am getting InputStream from the CloseableHttpResponse in the TRY block and I close CloseableHttpResponse in FINALLY block.</p>\n<p><em>The problem is that finally is called before the return and there is no chance to create InputStreamResource from the InputStream because CloseableHttpResponse is already closed</em>.</p>\n<p>What could be a possible solution in this case? Can I somehow close CloseableHttpResponse after returning InputStreamResource? I really need to use <strong>CloseableHttpClient</strong> and the method should return some <strong>stream</strong>.</p>\n<pre><code>    public ResponseEntity&lt;InputStreamResource&gt; getFileAsStream(@PathVariable(&quot;uuid&quot;) String uuid) throws IOException, InterruptedException {\n        CloseableHttpResponse response = fileService.importFileByUuid(uuid);\n        try {\n            HttpEntity entity = response.getEntity();\n            HttpHeaders responseHeaders = new HttpHeaders();\n            responseHeaders.add(HttpHeaders.CONTENT_LENGTH, String.valueOf(entity.getContentLength()));\n            responseHeaders.add(HttpHeaders.CONTENT_TYPE, entity.getContentType().getValue());\n            responseHeaders.add(HttpHeaders.CONTENT_DISPOSITION, response.getFirstHeader(HttpHeaders.CONTENT_DISPOSITION).getValue());\n\n            if (entity != null) {\n                InputStream inputStream = entity.getContent();\n                InputStreamResource inputStreamResource = new InputStreamResource(inputStream);\n                return ResponseEntity.ok()\n                            .headers(responseHeaders)\n                            .body(inputStreamResource);\n            }\n            throw new IllegalStateException(String.format(\n                    &quot;Error during stream downloading, uuid = %s&quot;, uuid));\n        } finally {\n            response.close();\n        }\n    } \n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5167849,"reputation":323,"user_id":4137300,"accept_rate":50,"display_name":"Aleksey Kurkov"},"score":0,"creation_date":1601505708,"post_id":64146396,"comment_id":113433100,"body_markdown":"Where user is logged in? To java application? To spring application? Or to postgres?","body":"Where user is logged in? To java application? To spring application? Or to postgres?"},{"owner":{"account_id":15184804,"reputation":223,"user_id":10957904,"display_name":"Blacit"},"score":0,"creation_date":1601505878,"post_id":64146396,"comment_id":113433143,"body_markdown":"I&#39;m sorry, I forgot to add. Yes. the application is on spring-boot and hibernate, I want to make logs in the table.","body":"I&#39;m sorry, I forgot to add. Yes. the application is on spring-boot and hibernate, I want to make logs in the table."}],"answers":[{"tags":[],"owner":{"account_id":5167849,"reputation":323,"user_id":4137300,"accept_rate":50,"display_name":"Aleksey Kurkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601509273,"creation_date":1601506806,"answer_id":64146890,"question_id":64146396,"body_markdown":"My plan of implementing your example.\r\n\r\n1) Create login page (login, password) with url mapping `/login`. When user writes his credentials, a controller redirects him from `/login` to `/success-login` page. \r\n\r\n2) Create controller with get mapping `/success-login`. When user gets to this page, it means that he is logged in. So here you can write an sql query to postgres table, something like `id=&quot;1&quot;, user=&quot;user1&quot;, event=&quot;log in&quot;`\r\n\r\nModel:\r\n\r\n    @Entity\r\n    public class Log {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        String user;\r\n        String event;\r\n    \r\n    // getters, setters, equals, hashcode ...\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface LogRepository extends CrudRepository&lt;Log, Long&gt; {\r\n    }\r\n\r\nController:\r\n\r\n    @Controller\r\n    public class LoginController {\r\n        @Autowired\r\n        LogRepository logRepository;\r\n    \r\n        @GetMapping(&quot;/login-success&quot;)\r\n        public String loginSuccess() {\r\n            Log log = new Log();\r\n            log.setUser(&quot;user1&quot;);\r\n            log.setEvent(&quot;log in&quot;);\r\n            logRepository.save(log);\r\n            return &quot;login-success&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How to write Springboot application logs to a postgresql database","body":"<p>My plan of implementing your example.</p>\n<ol>\n<li><p>Create login page (login, password) with url mapping <code>/login</code>. When user writes his credentials, a controller redirects him from <code>/login</code> to <code>/success-login</code> page.</p>\n</li>\n<li><p>Create controller with get mapping <code>/success-login</code>. When user gets to this page, it means that he is logged in. So here you can write an sql query to postgres table, something like <code>id=&quot;1&quot;, user=&quot;user1&quot;, event=&quot;log in&quot;</code></p>\n</li>\n</ol>\n<p>Model:</p>\n<pre><code>@Entity\npublic class Log {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    String user;\n    String event;\n\n// getters, setters, equals, hashcode ...\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface LogRepository extends CrudRepository&lt;Log, Long&gt; {\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class LoginController {\n    @Autowired\n    LogRepository logRepository;\n\n    @GetMapping(&quot;/login-success&quot;)\n    public String loginSuccess() {\n        Log log = new Log();\n        log.setUser(&quot;user1&quot;);\n        log.setEvent(&quot;log in&quot;);\n        logRepository.save(log);\n        return &quot;login-success&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15184804,"reputation":223,"user_id":10957904,"display_name":"Blacit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1601542637,"accepted_answer_id":64146890,"answer_count":1,"score":0,"last_activity_date":1677878885,"creation_date":1601503506,"question_id":64146396,"body_markdown":"How you can implement transactions in the database, like logging? For example, the user is logged in and this is immediately written to the table.","title":"How to write Springboot application logs to a postgresql database","body":"<p>How you can implement transactions in the database, like logging? For example, the user is logged in and this is immediately written to the table.</p>\n"},{"tags":["java","json","spring","controller"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876245,"post_id":75631690,"comment_id":133430636,"body_markdown":"Do you have the `spring-boot-starter-thymeleaf` dependency?","body":"Do you have the <code>spring-boot-starter-thymeleaf</code> dependency?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876299,"post_id":75631690,"comment_id":133430647,"body_markdown":"no, why I need it?","body":"no, why I need it?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876323,"post_id":75631690,"comment_id":133430657,"body_markdown":"Well what type of views are you using? If you&#39;re using resources/templates, you should probably be using Thymeleaf.","body":"Well what type of views are you using? If you&#39;re using resources/templates, you should probably be using Thymeleaf."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876418,"post_id":75631690,"comment_id":133430668,"body_markdown":"No one, in my HTML page is just a Hello World","body":"No one, in my HTML page is just a Hello World"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876471,"post_id":75631690,"comment_id":133430677,"body_markdown":"Did you configure any view resolver?","body":"Did you configure any view resolver?"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1677876500,"post_id":75631690,"comment_id":133430686,"body_markdown":"In any case, adding `spring-boot-starter-thymeleaf` should allow it to work since your structure is exactly that of a Thymeleaf project.","body":"In any case, adding <code>spring-boot-starter-thymeleaf</code> should allow it to work since your structure is exactly that of a Thymeleaf project."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1677876501,"post_id":75631690,"comment_id":133430687,"body_markdown":"I try to configure it, but It gives me the same error...","body":"I try to configure it, but It gives me the same error..."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677876906,"creation_date":1677876906,"answer_id":75631788,"question_id":75631690,"body_markdown":"Add the `spring-boot-starter-thymeleaf` dependency. This automatically registers a view resolver for HTML files in src/main/resources/templates.","title":"Is there any possible way to use Controller and RestController annotations in one Spring Boot application?","body":"<p>Add the <code>spring-boot-starter-thymeleaf</code> dependency. This automatically registers a view resolver for HTML files in src/main/resources/templates.</p>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75631788,"answer_count":1,"score":0,"last_activity_date":1677876906,"creation_date":1677876025,"question_id":75631690,"body_markdown":"I have my application, which is running on Spring Boot. In my application, I have two controllers, @RestController and @Controller. &lt;br&gt;\r\nRest is for returning JSON data and Controller is for HTML pages. When I try to use these two boys in my one project, it always gives me an error code: &lt;br&gt;\r\n **Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [index]: would dispatch back to the current handler URL [/index] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause** &lt;br&gt;\r\nMy HTML page is located in **resources:/templates**. &lt;br&gt;\r\nRequestMappingClass:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/api/&quot;)\r\npublic class PageRestController {\r\n    @GetMapping(value = &quot;/getUserData&quot;)\r\n    public ResponseEntity&lt;User&gt; getUser() {\r\n        User user = new User();\r\n\r\n        user.setName(&quot;Nika&quot;);\r\n        user.setSurname(&quot;Beridze&quot;);\r\n        user.setAge(19);\r\n\r\n        return ResponseEntity.ok().body(user);\r\n    }\r\n}\r\n```\r\nController:\r\n```java\r\n@Controller\r\npublic class PageController {\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String index() {\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n```","title":"Is there any possible way to use Controller and RestController annotations in one Spring Boot application?","body":"<p>I have my application, which is running on Spring Boot. In my application, I have two controllers, @RestController and @Controller. <br>\nRest is for returning JSON data and Controller is for HTML pages. When I try to use these two boys in my one project, it always gives me an error code: <br>\n<strong>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [index]: would dispatch back to the current handler URL [/index] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause</strong> <br>\nMy HTML page is located in <strong>resources:/templates</strong>. <br>\nRequestMappingClass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/api/&quot;)\npublic class PageRestController {\n    @GetMapping(value = &quot;/getUserData&quot;)\n    public ResponseEntity&lt;User&gt; getUser() {\n        User user = new User();\n\n        user.setName(&quot;Nika&quot;);\n        user.setSurname(&quot;Beridze&quot;);\n        user.setAge(19);\n\n        return ResponseEntity.ok().body(user);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class PageController {\n    @GetMapping(&quot;/index&quot;)\n    public String index() {\n        return &quot;index&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1651560537,"post_id":72041322,"comment_id":127386535,"body_markdown":"I think that you might add more details in  your question, to allow answers that better fit your need, or at least that can provide you with good insight of what is or is not possible for your case. The answer from @ricard-kollcaku is good in the specific cases of a random generator source, but to shuffle an existing data source, you&#39;ll need buffering in some way, and also be cautious about the consequences on the thoughput (for example: the first snippet from ricard answer might behave very differently depending on subscription demand, flatMap concurrency, other intermediate operators, etc.)","body":"I think that you might add more details in  your question, to allow answers that better fit your need, or at least that can provide you with good insight of what is or is not possible for your case. The answer from @ricard-kollcaku is good in the specific cases of a random generator source, but to shuffle an existing data source, you&#39;ll need buffering in some way, and also be cautious about the consequences on the thoughput (for example: the first snippet from ricard answer might behave very differently depending on subscription demand, flatMap concurrency, other intermediate operators, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":14976113,"reputation":1632,"user_id":10811516,"display_name":"Ricard Kollcaku"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677876372,"creation_date":1651142828,"answer_id":72042326,"question_id":72041322,"body_markdown":"I don&#39;t think Reactor has a function that shuffles for you but there is one workaround you can do.\r\nIf you want to keep the upper stream as it is,\r\n\r\n    Random random = new Random();\r\n    Flux.range(1,256)\r\n        .flatMap(integer -&gt; Flux.just(integer).delayElements(Duration.ofMillis(random.nextInt(256))))\r\n        .subscribe(System.out::println);\r\n  }\r\n\r\nIf you need random elements: \r\n\r\n    Flux.range(1,256)\r\n            .map(integer -&gt; random.nextInt(256))\r\n            .subscribe(System.out::println)","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>I don't think Reactor has a function that shuffles for you but there is one workaround you can do.\nIf you want to keep the upper stream as it is,</p>\n<pre><code>Random random = new Random();\nFlux.range(1,256)\n    .flatMap(integer -&gt; Flux.just(integer).delayElements(Duration.ofMillis(random.nextInt(256))))\n    .subscribe(System.out::println);\n</code></pre>\n<p>}</p>\n<p>If you need random elements:</p>\n<pre><code>Flux.range(1,256)\n        .map(integer -&gt; random.nextInt(256))\n        .subscribe(System.out::println)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677876697,"creation_date":1677876647,"answer_id":75631763,"question_id":72041322,"body_markdown":"Another more elegant way is to use `Flux.generate()` to emit a random value:\r\n\r\n    Random random = new Random();\r\n    \r\n    Flux.generate(sink -&gt; sink.next(random.nextInt(256)))\r\n            .subscribe(System.out::println);","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>Another more elegant way is to use <code>Flux.generate()</code> to emit a random value:</p>\n<pre><code>Random random = new Random();\n\nFlux.generate(sink -&gt; sink.next(random.nextInt(256)))\n        .subscribe(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72042326,"answer_count":2,"score":0,"last_activity_date":1677876697,"creation_date":1651138388,"question_id":72041322,"body_markdown":"I have a `Flux` and I would like to shuffle its emissions.\r\n\r\nSo for emissions: \r\n```\r\n1, 2, 3, ...\r\n```\r\nI would like to have:\r\n```\r\n32, 5, 9, ...\r\n```\r\n\r\nIs it possible in Reactor?","title":"Shuffle emissions of a Flux in Reactor?","body":"<p>I have a <code>Flux</code> and I would like to shuffle its emissions.</p>\n<p>So for emissions:</p>\n<pre><code>1, 2, 3, ...\n</code></pre>\n<p>I would like to have:</p>\n<pre><code>32, 5, 9, ...\n</code></pre>\n<p>Is it possible in Reactor?</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1677880640,"post_id":75631611,"comment_id":133431546,"body_markdown":"The best option is probably to implement the API yourself. Or consider using something more robust like **fs2**. Or, if you don&#39;t care about the lazy nature of `Source` then yeah, just read everything in memory.","body":"The best option is probably to implement the API yourself. Or consider using something more robust like <b>fs2</b>. Or, if you don&#39;t care about the lazy nature of <code>Source</code> then yeah, just read everything in memory."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":2,"creation_date":1677882742,"post_id":75631611,"comment_id":133431932,"body_markdown":"`Thread.currentThread.getContextClassLoader.getResourceAsStream(&quot;keystore.jks&quot;)`","body":"<code>Thread.currentThread.getContextClassLoader.getResourceAsStre&zwnj;&#8203;am(&quot;keystore.jks&quot;)</code>"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1677918865,"post_id":75631611,"comment_id":133435445,"body_markdown":"Just read it directly as `InputStream`","body":"Just read it directly as <code>InputStream</code>"}],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1677876512,"creation_date":1677876512,"answer_id":75631743,"question_id":75631611,"body_markdown":"You can convert a BufferedSource to `byte[]` and put it ByteArrayInputStream: something like this will work:\r\n\r\n    import scala.io.Source\r\n    import java.io.InputStream\r\n    \r\n    val bufferedSource: Source = Source.fromResource(&quot;keystore.jks&quot;)\r\n    val inputStream: InputStream = new java.io.ByteArrayInputStream(bufferedSource.getLines().mkString(&quot;\\n&quot;).getBytes(java.nio.charset.StandardCharsets.UTF_8))\r\n\r\n","title":"How to covert a BufferedSource in scala to InputStream?","body":"<p>You can convert a BufferedSource to <code>byte[]</code> and put it ByteArrayInputStream: something like this will work:</p>\n<pre><code>import scala.io.Source\nimport java.io.InputStream\n\nval bufferedSource: Source = Source.fromResource(&quot;keystore.jks&quot;)\nval inputStream: InputStream = new java.io.ByteArrayInputStream(bufferedSource.getLines().mkString(&quot;\\n&quot;).getBytes(java.nio.charset.StandardCharsets.UTF_8))\n</code></pre>\n"}],"owner":{"account_id":2040025,"reputation":159,"user_id":1821469,"accept_rate":75,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75631743,"answer_count":1,"score":1,"last_activity_date":1677876512,"creation_date":1677875374,"question_id":75631611,"body_markdown":"I was reading a file from classpath in scala using scala.io.Source using fromResources which provides with a BufferedSource. How can I convert it to an InputStream as a java method invoked expects inputstream.\r\n\r\n```\r\nscala.io.Source.fromResource(&quot;keystore.jks&quot;)\r\n```","title":"How to covert a BufferedSource in scala to InputStream?","body":"<p>I was reading a file from classpath in scala using scala.io.Source using fromResources which provides with a BufferedSource. How can I convert it to an InputStream as a java method invoked expects inputstream.</p>\n<pre><code>scala.io.Source.fromResource(&quot;keystore.jks&quot;)\n</code></pre>\n"},{"tags":["java","android","image-classification","tflite","videosdk.live"],"owner":{"account_id":22987292,"reputation":3,"user_id":17113316,"display_name":"TryingMeBest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875689,"creation_date":1677875689,"question_id":75631653,"body_markdown":"I am currently doing a medical app whereby live meetings are implemented using a third-party SDK &quot;videosdk&quot;, and that we do classification on the patient&#39;s emotions during the live meeting. What I am trying to do here is that I want to extract a video frame of the participant during the live meeting, pass that video frame for pre-processing into a bitmap, and pass the bitmap into a tflite model for emotion classification. However, I am stuck towards how we should extract video frames from the current implementation. The following code shows the participant adapter java file from this website: \r\n\r\nhttps://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start\r\n\r\n\r\n```\r\nimport android.graphics.Bitmap;\r\nimport android.os.Build;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport org.webrtc.EglRenderer;\r\nimport org.webrtc.VideoFrame;\r\nimport org.webrtc.VideoSink;\r\nimport org.webrtc.VideoTrack;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport live.videosdk.rtc.android.Meeting;\r\nimport live.videosdk.rtc.android.Participant;\r\nimport live.videosdk.rtc.android.Stream;\r\nimport live.videosdk.rtc.android.VideoView;\r\nimport live.videosdk.rtc.android.listeners.MeetingEventListener;\r\nimport live.videosdk.rtc.android.listeners.ParticipantEventListener;\r\n\r\n\r\npublic class ParticipantAdapter extends RecyclerView.Adapter&lt;ParticipantAdapter.PeerViewHolder&gt; {\r\n\r\n    private int containerHeight;\r\n    // creating a empty list which will store all participants\r\n    private final List&lt;Participant&gt; participants = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public PeerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        containerHeight = parent.getHeight();\r\n        return new PeerViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_remote_peer, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PeerViewHolder holder, int position) {\r\n        Participant participant = participants.get(position);\r\n\r\n        ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n        layoutParams.height = containerHeight / 3;\r\n        holder.itemView.setLayoutParams(layoutParams);\r\n\r\n        holder.tvName.setText(participant.getDisplayName());\r\n\r\n        int count = 0;\r\n\r\n        // adding the initial video stream for the participant into the &#39;VideoView&#39;\r\n        for (Map.Entry&lt;String, Stream&gt; entry : participant.getStreams().entrySet()) {\r\n            Stream stream = entry.getValue();\r\n            if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                holder.participantView.setVisibility(View.VISIBLE);\r\n                VideoTrack videoTrack = (VideoTrack) stream.getTrack();\r\n                holder.participantView.addTrack(videoTrack);\r\n                break;\r\n            }\r\n            ++count;\r\n            Log.d(&quot;Something count: &quot;, String.valueOf(count));\r\n        }\r\n\r\n\r\n        // add Listener to the participant which will update start or stop the video stream of that participant\r\n        participant.addEventListener(new ParticipantEventListener() {\r\n            @Override\r\n            public void onStreamEnabled(Stream stream) {\r\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                    holder.participantView.setVisibility(View.VISIBLE);\r\n                    VideoTrack videoTrack = (VideoTrack) stream.getTrack();\r\n                    holder.participantView.addTrack(videoTrack);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onStreamDisabled(Stream stream) {\r\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\r\n                    holder.participantView.removeTrack();\r\n                    holder.participantView.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // this method returns the size of total number of participants\r\n    @Override\r\n    public int getItemCount() {\r\n        return participants.size();\r\n    }\r\n\r\n    static class PeerViewHolder extends RecyclerView.ViewHolder {\r\n        // &#39;VideoView&#39; to show Video Stream\r\n        public VideoView participantView;\r\n        public TextView tvName;\r\n        public View itemView;\r\n\r\n        PeerViewHolder(@NonNull View view) {\r\n            super(view);\r\n            itemView = view;\r\n            tvName = view.findViewById(R.id.tvName);\r\n            participantView = view.findViewById(R.id.participantView);\r\n        }\r\n    }\r\n\r\n\r\n    public ParticipantAdapter(Meeting meeting) {\r\n        // adding the local participant(You) to the list\r\n        participants.add(meeting.getLocalParticipant());\r\n\r\n        // adding Meeting Event listener to get the participant join/leave event in the meeting.\r\n        meeting.addEventListener(new MeetingEventListener() {\r\n            @Override\r\n            public void onParticipantJoined(Participant participant) {\r\n                // add participant to the list\r\n                participants.add(participant);\r\n                notifyItemInserted(participants.size() - 1);\r\n            }\r\n\r\n            @Override\r\n            public void onParticipantLeft(Participant participant) {\r\n                int pos = -1;\r\n                for (int i = 0; i &lt; participants.size(); i++) {\r\n                    if (participants.get(i).getId().equals(participant.getId())) {\r\n                        pos = i;\r\n                        break;\r\n                    }\r\n                }\r\n                // remove participant from the list\r\n                participants.remove(participant);\r\n\r\n                if (pos &gt;= 0) {\r\n                    notifyItemRemoved(pos);\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have already tried methods like VideoSink, and have already attempted to try and use VideoFrame to get the buffer, to get the buffer in i420 and doing the conversion process, but all has failed so far. Can anyone help with this?","title":"How to extract a video frame of a participant using videosdk?","body":"<p>I am currently doing a medical app whereby live meetings are implemented using a third-party SDK &quot;videosdk&quot;, and that we do classification on the patient's emotions during the live meeting. What I am trying to do here is that I want to extract a video frame of the participant during the live meeting, pass that video frame for pre-processing into a bitmap, and pass the bitmap into a tflite model for emotion classification. However, I am stuck towards how we should extract video frames from the current implementation. The following code shows the participant adapter java file from this website:</p>\n<p><a href=\"https://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start\" rel=\"nofollow noreferrer\">https://docs.videosdk.live/android/guide/video-and-audio-calling-api-sdk/quick-start</a></p>\n<pre><code>import android.graphics.Bitmap;\nimport android.os.Build;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport org.webrtc.EglRenderer;\nimport org.webrtc.VideoFrame;\nimport org.webrtc.VideoSink;\nimport org.webrtc.VideoTrack;\n\nimport java.nio.ByteBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport live.videosdk.rtc.android.Meeting;\nimport live.videosdk.rtc.android.Participant;\nimport live.videosdk.rtc.android.Stream;\nimport live.videosdk.rtc.android.VideoView;\nimport live.videosdk.rtc.android.listeners.MeetingEventListener;\nimport live.videosdk.rtc.android.listeners.ParticipantEventListener;\n\n\npublic class ParticipantAdapter extends RecyclerView.Adapter&lt;ParticipantAdapter.PeerViewHolder&gt; {\n\n    private int containerHeight;\n    // creating a empty list which will store all participants\n    private final List&lt;Participant&gt; participants = new ArrayList&lt;&gt;();\n\n\n    @NonNull\n    @Override\n    public PeerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        containerHeight = parent.getHeight();\n        return new PeerViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.item_remote_peer, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PeerViewHolder holder, int position) {\n        Participant participant = participants.get(position);\n\n        ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n        layoutParams.height = containerHeight / 3;\n        holder.itemView.setLayoutParams(layoutParams);\n\n        holder.tvName.setText(participant.getDisplayName());\n\n        int count = 0;\n\n        // adding the initial video stream for the participant into the 'VideoView'\n        for (Map.Entry&lt;String, Stream&gt; entry : participant.getStreams().entrySet()) {\n            Stream stream = entry.getValue();\n            if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                holder.participantView.setVisibility(View.VISIBLE);\n                VideoTrack videoTrack = (VideoTrack) stream.getTrack();\n                holder.participantView.addTrack(videoTrack);\n                break;\n            }\n            ++count;\n            Log.d(&quot;Something count: &quot;, String.valueOf(count));\n        }\n\n\n        // add Listener to the participant which will update start or stop the video stream of that participant\n        participant.addEventListener(new ParticipantEventListener() {\n            @Override\n            public void onStreamEnabled(Stream stream) {\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                    holder.participantView.setVisibility(View.VISIBLE);\n                    VideoTrack videoTrack = (VideoTrack) stream.getTrack();\n                    holder.participantView.addTrack(videoTrack);\n                }\n            }\n\n            @Override\n            public void onStreamDisabled(Stream stream) {\n                if (stream.getKind().equalsIgnoreCase(&quot;video&quot;)) {\n                    holder.participantView.removeTrack();\n                    holder.participantView.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n\n    // this method returns the size of total number of participants\n    @Override\n    public int getItemCount() {\n        return participants.size();\n    }\n\n    static class PeerViewHolder extends RecyclerView.ViewHolder {\n        // 'VideoView' to show Video Stream\n        public VideoView participantView;\n        public TextView tvName;\n        public View itemView;\n\n        PeerViewHolder(@NonNull View view) {\n            super(view);\n            itemView = view;\n            tvName = view.findViewById(R.id.tvName);\n            participantView = view.findViewById(R.id.participantView);\n        }\n    }\n\n\n    public ParticipantAdapter(Meeting meeting) {\n        // adding the local participant(You) to the list\n        participants.add(meeting.getLocalParticipant());\n\n        // adding Meeting Event listener to get the participant join/leave event in the meeting.\n        meeting.addEventListener(new MeetingEventListener() {\n            @Override\n            public void onParticipantJoined(Participant participant) {\n                // add participant to the list\n                participants.add(participant);\n                notifyItemInserted(participants.size() - 1);\n            }\n\n            @Override\n            public void onParticipantLeft(Participant participant) {\n                int pos = -1;\n                for (int i = 0; i &lt; participants.size(); i++) {\n                    if (participants.get(i).getId().equals(participant.getId())) {\n                        pos = i;\n                        break;\n                    }\n                }\n                // remove participant from the list\n                participants.remove(participant);\n\n                if (pos &gt;= 0) {\n                    notifyItemRemoved(pos);\n                }\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>I have already tried methods like VideoSink, and have already attempted to try and use VideoFrame to get the buffer, to get the buffer in i420 and doing the conversion process, but all has failed so far. Can anyone help with this?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":4883421,"reputation":337,"user_id":3936513,"display_name":"VG P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875658,"creation_date":1677817111,"question_id":75623121,"body_markdown":"```\r\nimport java.io.ByteArrayOutputStream;\r\n\r\n@Controller\r\n@RestController\r\n@RequestMapping\r\npublic class SplitPDFBySizeController {\r\n@RequestMapping(value = &quot;/upload/single/pdf/for/split/by/size&quot;, method = RequestMethod.POST)\r\n\tpublic void uploadFiles(HttpServletRequest request, HttpServletResponse response,\r\n\t\t\t@RequestParam(&quot;splitFile&quot;) MultipartFile splitFile) {\r\n\r\n\t\ttry {\r\n\t\t\tInputStream source = splitFile.getInputStream();\r\n\r\n\t\t\tList&lt;ByteArrayOutputStream&gt; mergedFileStream = splitFileBySize(source);\r\n\r\n\t\t\tresponse.setHeader(&quot;Expires&quot;, &quot;0&quot;);\r\n\t\t\tresponse.setContentType(&quot;application/zip&quot;);\r\n\t\t\t//response.setContentType(&quot;octate-stream&quot;);\r\n\t\t\tresponse.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=pdfsplit.zip&quot;);\r\n\r\n\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tfor (ByteArrayOutputStream outputStream : mergedFileStream) {\r\n\t\t\t\tbaos.write(outputStream.toByteArray());\r\n\t\t\t}\r\n\r\n\t\t\tbyte[] totalBytes = baos.toByteArray(); // The concatenated byte array, ready to use\r\n\t\t\t\r\n\t\t     \r\n\t\t\tresponse.setContentLength(totalBytes.length);\r\n\t\t\tresponseOutputStream.write(totalBytes);\r\n\t\t\tresponseOutputStream.flush();\r\n\t\t\t//responseOutputStream.close();\r\n\t\t\tSystem.out.println(&quot;process completed&quot;);\r\n\t\t} catch (Exception exception) {\r\n\t\t\texception.printStackTrace();\r\n\t\t}\r\n\t}\r\n        \r\n\t\tprivate List&lt;ByteArrayOutputStream&gt; splitFileBySize(InputStream srcPdfFile) {\r\n\t\t\tList&lt;ByteArrayOutputStream&gt; files = new ArrayList&lt;&gt;(); \r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\t PdfDocument pdfDoc = new PdfDocument(new PdfReader(srcPdfFile));\r\n\r\n\t\t\t        List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc) {\r\n\t\t\t            @Override\r\n\t\t\t            protected PdfWriter getNextPdfWriter(PageRange documentPageRange) {\r\n\t\t\t            \tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\t            \tPdfWriter pdfWriter = new PdfWriter(byteArrayOutputStream);\r\n\t\t\t            \tfiles.add(byteArrayOutputStream);\r\n\t\t\t                return pdfWriter;\r\n\t\t\t            }\r\n\t\t\t        }.splitBySize(2000);\r\n\t\t\t        \r\n\t\t\t      \r\n\t\t\t        for (PdfDocument doc : splitDocuments) {\r\n\t\t\t            doc.close();\r\n\t\t\t        }\r\n\r\n\t\t\t        pdfDoc.close();\r\n\t\t\t\t\r\n\t\t\t\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn files;\r\n\t\t}\r\n}\r\n```\r\n\r\nUsing Itext7 pdf file is splitted in to multiple files which is working fine and output received as ByteArrayOutputStream for each splitted file.I have combained all ByteArrayOutputStream to one ByteArrayOutputStream in list and Zip is coming as response, but I am not able to open zip as it reported as cannot open zip archive, Is not archive. How to send it as valid zip response?\r\n\r\n","title":"How to return zip file in spring boot as a response using ByteArrayOutputStream","body":"<pre><code>import java.io.ByteArrayOutputStream;\n\n@Controller\n@RestController\n@RequestMapping\npublic class SplitPDFBySizeController {\n@RequestMapping(value = &quot;/upload/single/pdf/for/split/by/size&quot;, method = RequestMethod.POST)\n    public void uploadFiles(HttpServletRequest request, HttpServletResponse response,\n            @RequestParam(&quot;splitFile&quot;) MultipartFile splitFile) {\n\n        try {\n            InputStream source = splitFile.getInputStream();\n\n            List&lt;ByteArrayOutputStream&gt; mergedFileStream = splitFileBySize(source);\n\n            response.setHeader(&quot;Expires&quot;, &quot;0&quot;);\n            response.setContentType(&quot;application/zip&quot;);\n            //response.setContentType(&quot;octate-stream&quot;);\n            response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=pdfsplit.zip&quot;);\n\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            for (ByteArrayOutputStream outputStream : mergedFileStream) {\n                baos.write(outputStream.toByteArray());\n            }\n\n            byte[] totalBytes = baos.toByteArray(); // The concatenated byte array, ready to use\n            \n             \n            response.setContentLength(totalBytes.length);\n            responseOutputStream.write(totalBytes);\n            responseOutputStream.flush();\n            //responseOutputStream.close();\n            System.out.println(&quot;process completed&quot;);\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n        \n        private List&lt;ByteArrayOutputStream&gt; splitFileBySize(InputStream srcPdfFile) {\n            List&lt;ByteArrayOutputStream&gt; files = new ArrayList&lt;&gt;(); \n            try {\n                \n                 PdfDocument pdfDoc = new PdfDocument(new PdfReader(srcPdfFile));\n\n                    List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc) {\n                        @Override\n                        protected PdfWriter getNextPdfWriter(PageRange documentPageRange) {\n                            ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                            PdfWriter pdfWriter = new PdfWriter(byteArrayOutputStream);\n                            files.add(byteArrayOutputStream);\n                            return pdfWriter;\n                        }\n                    }.splitBySize(2000);\n                    \n                  \n                    for (PdfDocument doc : splitDocuments) {\n                        doc.close();\n                    }\n\n                    pdfDoc.close();\n                \n            \n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return files;\n        }\n}\n</code></pre>\n<p>Using Itext7 pdf file is splitted in to multiple files which is working fine and output received as ByteArrayOutputStream for each splitted file.I have combained all ByteArrayOutputStream to one ByteArrayOutputStream in list and Zip is coming as response, but I am not able to open zip as it reported as cannot open zip archive, Is not archive. How to send it as valid zip response?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1677856316,"post_id":75628673,"comment_id":133425279,"body_markdown":"What restrictions are on the weights? If none, set w[0] = ex / p[0] and set all other weights to 0.0 (which is ridiculous).","body":"What restrictions are on the weights? If none, set w[0] = ex / p[0] and set all other weights to 0.0 (which is ridiculous)."},{"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"score":0,"creation_date":1677856848,"post_id":75628673,"comment_id":133425452,"body_markdown":"Right now there are no restrictions but that would not be the best solution. I would like to keep the weights somewhat relative to its price.","body":"Right now there are no restrictions but that would not be the best solution. I would like to keep the weights somewhat relative to its price."},{"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"score":0,"creation_date":1677857229,"post_id":75628673,"comment_id":133425562,"body_markdown":"The only restrictions i have right now is that the weight should not be below 0, which is quite trivial, because probability cannot be negative","body":"The only restrictions i have right now is that the weight should not be below 0, which is quite trivial, because probability cannot be negative"}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677875642,"creation_date":1677875642,"answer_id":75631643,"question_id":75628673,"body_markdown":"There are literally an infinite number of ways to do this.  It all depends on how you want your weights to be distributed.\r\n\r\nFor example you can decide that your weights have to follow a rule like this:\r\n\r\n    weight is proportional to Math.exp((price - k)*(price - k))\r\n\r\nNow as `k` goes to - infinity, the average price goes to the bottom price in your list.  Given `k` you can easily calculate what the average price should be.  As `k` goes to + infinity, the average price goes to the top price\r\n\r\nThere is no analytical way to figure out what `k` should be, but you can easily search with something like this untested code.\r\n\r\n    double k0 = 0.0;\r\n    double k1 = 1.0;\r\n    double epsilon = 0.00001;\r\n    while (averagePrice(k1) &lt; desiredPrice) {\r\n        k0 = k1;\r\n        k1 += k1;\r\n    }\r\n    if (desiredPrice &lt; averagePrice(k0)) {\r\n        k0 = -1;\r\n        k1 = 0;\r\n        while (desiredPrice &lt; averagePrice(k0)) {\r\n            k1 = k0;\r\n            k0 -= k0;\r\n        }\r\n    }\r\n    while (k0 + epsilon) {\r\n        kMid = (k0 + k1)/2;\r\n        double averageMid = averagePrice(kMid);\r\n        if (averageMid &lt; desiredPrice) {\r\n            k0 = kMid;\r\n        } else if (desiredPrice &lt; averageMid) {\r\n            k1 = kMid;\r\n        } else {\r\n            return weightsFor(kMid);\r\n        }\r\n    }\r\n    ... average out weightsFor(k0) and weightsFor(k1) to get desiredAverage\r\n\r\nIf you have a lot of prices fairly evenly distributed around your desired one, this will give weights that look a lot like a normal curve averaging near your desired one.\r\n\r\nBut you can literally choose any family of shapes that you want for the prices and the same idea will work.  And if you&#39;re tolerant of changing the shape, making `epsilon` larger will cut the search faster at the cost of having the final distribution a little less perfectly the ideal that you chose.","title":"How can I re distribute my weight such that expected outcome is the same","body":"<p>There are literally an infinite number of ways to do this.  It all depends on how you want your weights to be distributed.</p>\n<p>For example you can decide that your weights have to follow a rule like this:</p>\n<pre><code>weight is proportional to Math.exp((price - k)*(price - k))\n</code></pre>\n<p>Now as <code>k</code> goes to - infinity, the average price goes to the bottom price in your list.  Given <code>k</code> you can easily calculate what the average price should be.  As <code>k</code> goes to + infinity, the average price goes to the top price</p>\n<p>There is no analytical way to figure out what <code>k</code> should be, but you can easily search with something like this untested code.</p>\n<pre><code>double k0 = 0.0;\ndouble k1 = 1.0;\ndouble epsilon = 0.00001;\nwhile (averagePrice(k1) &lt; desiredPrice) {\n    k0 = k1;\n    k1 += k1;\n}\nif (desiredPrice &lt; averagePrice(k0)) {\n    k0 = -1;\n    k1 = 0;\n    while (desiredPrice &lt; averagePrice(k0)) {\n        k1 = k0;\n        k0 -= k0;\n    }\n}\nwhile (k0 + epsilon) {\n    kMid = (k0 + k1)/2;\n    double averageMid = averagePrice(kMid);\n    if (averageMid &lt; desiredPrice) {\n        k0 = kMid;\n    } else if (desiredPrice &lt; averageMid) {\n        k1 = kMid;\n    } else {\n        return weightsFor(kMid);\n    }\n}\n... average out weightsFor(k0) and weightsFor(k1) to get desiredAverage\n</code></pre>\n<p>If you have a lot of prices fairly evenly distributed around your desired one, this will give weights that look a lot like a normal curve averaging near your desired one.</p>\n<p>But you can literally choose any family of shapes that you want for the prices and the same idea will work.  And if you're tolerant of changing the shape, making <code>epsilon</code> larger will cut the search faster at the cost of having the final distribution a little less perfectly the ideal that you chose.</p>\n"}],"owner":{"account_id":26936914,"reputation":3,"user_id":20508410,"display_name":"Duy Pham Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631643,"answer_count":1,"score":0,"last_activity_date":1677875642,"creation_date":1677855706,"question_id":75628673,"body_markdown":"I want to calculate expected outcome after resting a price, I tried using scaling matrix but it did not work. Appreciate any help.\r\n\r\n```\r\ndouble originalPrice = {5, 8, 18, 58, 80, 49.399167162403300}\r\n\r\ndouble originalWeight = {0.34146341463414637, 0.3902439024390244, 0.14634146341463414, 0.024390243902439025, 0.024390243902439025, 0.07317073170731707}\r\n```\r\nafter some iterations iterations my new prices and new weights are now,\r\n\r\n```\r\ndouble newPrices1 = [7.0, 8.0, 20.0, 58.0, 81.0, 49.3991671624033]\r\ndouble newWeight1 =  [0.3575704958570497, 0.3902439024390244, 0.15629694702450886, 0.024390243902439025, 0.024390243902439025, 0.04710816687453892]\r\n````\r\nnote: the EX (expected value) of originalPrice and newPrice1 is the same, you calculate by taking the product of respective price to respective weight and then take the total sum of it.\r\n\r\nin the next iteration the first price returns to its original value e.g we call it newPrices2\r\n```\r\ndouble newPrices2 = [5.0, 8.0, 20.0, 58.0, 82.0, 49.3991671624033]\r\n```\r\nI want to find new weights, that would keep my expected outcome the same\r\n\r\n```\r\ndouble newWeight2 = [x1,x2,x3,x4,x5,x6]\r\n```\r\n\r\nI tried scaling the vectors but it did not help, here is the code algorithm i tried. \r\n\r\n```\r\npublic static double[] redistributeWeight(double[] prices, \r\n double[] weights, double[] originalWeights) {\r\n        double totalOriginalPrice = 0.0;\r\n        double totalCurrentPrice = 0.0;\r\n\r\n        // Calculate the total original price and current price\r\n        for (int i = 0; i &lt; prices.length; i++) {\r\n            totalOriginalPrice += originalWeights[i] * prices[i];\r\n            totalCurrentPrice += weights[i] * prices[i];\r\n        }\r\n\r\n        // Calculate the scaling factor\r\n        double scaleFactor = totalOriginalPrice / totalCurrentPrice;\r\n\r\n        // Redistribute the weights based on the scaling factor\r\n        for (int i = 0; i &lt; weights.length; i++) {\r\n            weights[i] *= scaleFactor;\r\n        }\r\n\r\n        return weights;\r\n    }","title":"How can I re distribute my weight such that expected outcome is the same","body":"<p>I want to calculate expected outcome after resting a price, I tried using scaling matrix but it did not work. Appreciate any help.</p>\n<pre><code>double originalPrice = {5, 8, 18, 58, 80, 49.399167162403300}\n\ndouble originalWeight = {0.34146341463414637, 0.3902439024390244, 0.14634146341463414, 0.024390243902439025, 0.024390243902439025, 0.07317073170731707}\n</code></pre>\n<p>after some iterations iterations my new prices and new weights are now,</p>\n<pre><code>double newPrices1 = [7.0, 8.0, 20.0, 58.0, 81.0, 49.3991671624033]\ndouble newWeight1 =  [0.3575704958570497, 0.3902439024390244, 0.15629694702450886, 0.024390243902439025, 0.024390243902439025, 0.04710816687453892]\n</code></pre>\n<p>note: the EX (expected value) of originalPrice and newPrice1 is the same, you calculate by taking the product of respective price to respective weight and then take the total sum of it.</p>\n<p>in the next iteration the first price returns to its original value e.g we call it newPrices2</p>\n<pre><code>double newPrices2 = [5.0, 8.0, 20.0, 58.0, 82.0, 49.3991671624033]\n</code></pre>\n<p>I want to find new weights, that would keep my expected outcome the same</p>\n<pre><code>double newWeight2 = [x1,x2,x3,x4,x5,x6]\n</code></pre>\n<p>I tried scaling the vectors but it did not help, here is the code algorithm i tried.</p>\n<pre><code>public static double[] redistributeWeight(double[] prices, \n double[] weights, double[] originalWeights) {\n        double totalOriginalPrice = 0.0;\n        double totalCurrentPrice = 0.0;\n\n        // Calculate the total original price and current price\n        for (int i = 0; i &lt; prices.length; i++) {\n            totalOriginalPrice += originalWeights[i] * prices[i];\n            totalCurrentPrice += weights[i] * prices[i];\n        }\n\n        // Calculate the scaling factor\n        double scaleFactor = totalOriginalPrice / totalCurrentPrice;\n\n        // Redistribute the weights based on the scaling factor\n        for (int i = 0; i &lt; weights.length; i++) {\n            weights[i] *= scaleFactor;\n        }\n\n        return weights;\n    }\n</code></pre>\n"},{"tags":["java","facebook-graph-api"],"owner":{"account_id":27656254,"reputation":1,"user_id":21110062,"display_name":"denisa ungurean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677875629,"creation_date":1675077262,"question_id":75283616,"body_markdown":"type here\r\n\r\nHello! I am tring to run my android app and login into facebook account but when i run it i get 2 errors and i can&#39;t find a way to solve them.\r\nThe errors i get are: \r\n1. E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post request. Object with ID &#39;1234&#39; does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at https://developers.facebook.com/docs/graph-api}\r\n2. E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 190, subErrorCode: -1, errorType: OAuthException, errorMessage: Error validating application. Cannot get application info due to a system error.}\r\n\r\nI am using the latest android studio version for this and for Facebook sign in i am using this  code: \r\n\r\n\r\n```\r\npackage com.example.whatarewegoingtoeattoday;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Toast;\r\n\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class FacebookSignInActivity extends LoginActivity {\r\n\r\n    CallbackManager callbackManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        //FacebookSdk.sdkInitialize(getApplicationContext());\r\n\r\n        //mAuth = FirebaseAuth.getInstance();\r\n\r\n        callbackManager = CallbackManager.Factory.create();\r\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(&quot;public_profile&quot;));\r\n\r\n\r\n        LoginManager.getInstance().registerCallback(callbackManager,\r\n                new FacebookCallback&lt;LoginResult&gt;() {\r\n                    @Override\r\n                    public void onSuccess(LoginResult loginResult) {\r\n                        handleFacebookAccessToken(loginResult.getAccessToken());\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancel() {\r\n                        // App code\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(FacebookException exception) {\r\n                        // App code\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // Pass the activity result back to the Facebook SDK\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void handleFacebookAccessToken(AccessToken token) {\r\n\r\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            updateUI(user);\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(FacebookSignInActivity.this, &quot;&quot; +task.getException(), Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void updateUI(FirebaseUser user) {\r\n        Intent intent = new Intent(FacebookSignInActivity.this, LoginActivity.class);\r\n        //intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI watched many tutorials on youtube and i did the same as them, but my code it is still not working. \r\nPlease help me! :)","title":"E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post","body":"<p>type here</p>\n<p>Hello! I am tring to run my android app and login into facebook account but when i run it i get 2 errors and i can't find a way to solve them.\nThe errors i get are:</p>\n<ol>\n<li>E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 100, subErrorCode: 33, errorType: GraphMethodException, errorMessage: Unsupported post request. Object with ID '1234' does not exist, cannot be loaded due to missing permissions, or does not support this operation. Please read the Graph API documentation at <a href=\"https://developers.facebook.com/docs/graph-api%7D\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/graph-api}</a></li>\n<li>E/com.facebook.GraphResponse: {HttpStatus: 400, errorCode: 190, subErrorCode: -1, errorType: OAuthException, errorMessage: Error validating application. Cannot get application info due to a system error.}</li>\n</ol>\n<p>I am using the latest android studio version for this and for Facebook sign in i am using this  code:</p>\n<pre><code>package com.example.whatarewegoingtoeattoday;\n\nimport androidx.annotation.NonNull;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport com.facebook.AccessToken;\nimport com.facebook.CallbackManager;\nimport com.facebook.FacebookCallback;\nimport com.facebook.FacebookException;\nimport com.facebook.FacebookSdk;\nimport com.facebook.login.LoginManager;\nimport com.facebook.login.LoginResult;\nimport com.google.firebase.auth.AuthCredential;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FacebookAuthProvider;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\nimport java.util.Arrays;\n\npublic class FacebookSignInActivity extends LoginActivity {\n\n    CallbackManager callbackManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        //FacebookSdk.sdkInitialize(getApplicationContext());\n\n        //mAuth = FirebaseAuth.getInstance();\n\n        callbackManager = CallbackManager.Factory.create();\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(&quot;public_profile&quot;));\n\n\n        LoginManager.getInstance().registerCallback(callbackManager,\n                new FacebookCallback&lt;LoginResult&gt;() {\n                    @Override\n                    public void onSuccess(LoginResult loginResult) {\n                        handleFacebookAccessToken(loginResult.getAccessToken());\n                    }\n\n                    @Override\n                    public void onCancel() {\n                        // App code\n                    }\n\n                    @Override\n                    public void onError(FacebookException exception) {\n                        // App code\n                    }\n                });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        // Pass the activity result back to the Facebook SDK\n        callbackManager.onActivityResult(requestCode, resultCode, data);\n    }\n\n\n    private void handleFacebookAccessToken(AccessToken token) {\n\n        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(FacebookSignInActivity.this, &quot;&quot; +task.getException(), Toast.LENGTH_SHORT).show();\n\n                        }\n                    }\n                });\n    }\n\n    private void updateUI(FirebaseUser user) {\n        Intent intent = new Intent(FacebookSignInActivity.this, LoginActivity.class);\n        //intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>I watched many tutorials on youtube and i did the same as them, but my code it is still not working.\nPlease help me! :)</p>\n"},{"tags":["java","mockito","amazon-kinesis"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1686950592,"post_id":75631402,"comment_id":134874242,"body_markdown":"You cannot do `when(client.putRecord(any()).get())`, you can only do `when(client.putRecord(any()))`","body":"You cannot do <code>when(client.putRecord(any()).get())</code>, you can only do <code>when(client.putRecord(any()))</code>"}],"answers":[{"tags":[],"owner":{"account_id":2423876,"reputation":802,"user_id":2116248,"accept_rate":45,"display_name":"Luiz Rossi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677875369,"creation_date":1677874564,"answer_id":75631519,"question_id":75631402,"body_markdown":"The reason for this error is that the thenReturn method expects a PutRecordResponse object, but you are passing in a PutRecordResult object.\r\n\r\nTo fix this error, you should create a PutRecordResponse object and set its sequenceNumber and shardId fields to appropriate values, then use it in the thenReturn method like this:\r\n\r\n    KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\n    PutRecordResponse res = mock(PutRecordResponse.class);\r\n    when(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);\r\n    when(res.getShardId()).thenReturn(&quot;shard-12345&quot;);\r\n    when(kinesisClient.putRecord(any())).thenReturn([PutRecordResponse type]);\r\n\r\n    // Call the method that uses the mocked KinesisAsyncClient\r\n\r\nHere, we are mocking the PutRecordResponse object and setting its sequenceNumber and shardId fields to appropriate values. Then, we are using the thenReturn method to return a CompletableFuture that completes with the mocked PutRecordResponse object when the putRecord method is called on the mocked KinesisAsyncClient.","title":"No suitable method found for thenReturn","body":"<p>The reason for this error is that the thenReturn method expects a PutRecordResponse object, but you are passing in a PutRecordResult object.</p>\n<p>To fix this error, you should create a PutRecordResponse object and set its sequenceNumber and shardId fields to appropriate values, then use it in the thenReturn method like this:</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nPutRecordResponse res = mock(PutRecordResponse.class);\nwhen(res.getSequenceNumber()).thenReturn(&quot;12345&quot;);\nwhen(res.getShardId()).thenReturn(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any())).thenReturn([PutRecordResponse type]);\n\n// Call the method that uses the mocked KinesisAsyncClient\n</code></pre>\n<p>Here, we are mocking the PutRecordResponse object and setting its sequenceNumber and shardId fields to appropriate values. Then, we are using the thenReturn method to return a CompletableFuture that completes with the mocked PutRecordResponse object when the putRecord method is called on the mocked KinesisAsyncClient.</p>\n"}],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677875369,"creation_date":1677873567,"question_id":75631402,"body_markdown":"I am new to java and mockito, trying to mock my \r\n```\r\n//kinesisClient is of type KinesisAsyncClient\r\nPutRecordResponse result = kinesisClient.putRecord(putRecordRequest).get();\r\n```\r\nlike below:\r\n```\r\nKinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\nPutRecordResult res = mock(PutRecordResult.class);\r\nres.setShardId(&quot;shard-12345&quot;);\r\nwhen(kinesisClient.putRecord(any()).get())\r\n                .thenReturn(res);\r\n```\r\nit&#39;s giving \r\n```\r\nerror: no suitable method found for thenReturn(PutRecordResult)\r\n.thenReturn(res);\r\n```\r\nI tried \r\n```\r\nKinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\r\nfinal PutRecordResult res = new PutRecordResult();\r\nres.setShardId(&quot;shard-12345&quot;);\r\nwhen(kinesisClient.putRecord(any()).get())\r\n                .thenReturn(res);\r\n```\r\nbut same error. I am not sure what I am doing wrong here. Can anyone help me on this?","title":"No suitable method found for thenReturn","body":"<p>I am new to java and mockito, trying to mock my</p>\n<pre><code>//kinesisClient is of type KinesisAsyncClient\nPutRecordResponse result = kinesisClient.putRecord(putRecordRequest).get();\n</code></pre>\n<p>like below:</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nPutRecordResult res = mock(PutRecordResult.class);\nres.setShardId(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any()).get())\n                .thenReturn(res);\n</code></pre>\n<p>it's giving</p>\n<pre><code>error: no suitable method found for thenReturn(PutRecordResult)\n.thenReturn(res);\n</code></pre>\n<p>I tried</p>\n<pre><code>KinesisAsyncClient kinesisClient = mock(KinesisAsyncClient.class);\nfinal PutRecordResult res = new PutRecordResult();\nres.setShardId(&quot;shard-12345&quot;);\nwhen(kinesisClient.putRecord(any()).get())\n                .thenReturn(res);\n</code></pre>\n<p>but same error. I am not sure what I am doing wrong here. Can anyone help me on this?</p>\n"},{"tags":["java","google-cloud-firestore","server","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":1656903,"reputation":196,"user_id":1526201,"display_name":"Lahiru Maramba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677874006,"creation_date":1677873215,"answer_id":75631357,"question_id":75616698,"body_markdown":"You need `com.google.cloud:google-cloud-firestore` library to access `Firestore` from your server project. `google-cloud-firestore` is a dependency of `firebase-admin` ([ref][1]) and should install it as a dependency when you add Firebase Admin Java SDK to your project (unless you exclude it in your build file).\r\n\r\nRemove the line `implementation &#39;com.google.firebase:firebase-firestore:24.4.3&#39;` from your build.gradle and access Firestore through Firebase Admin SDK. You can refer to the [official docs][2] for code samples.\r\n\r\n\r\n  [1]: https://github.com/firebase/firebase-admin-java/blob/95e542790e1b22a26258a10f7edff3a5a29c86d4/pom.xml#L428\r\n  [2]: https://firebase.google.com/docs/firestore/query-data/get-data#java_1","title":"Cannot add Firestore to Server","body":"<p>You need <code>com.google.cloud:google-cloud-firestore</code> library to access <code>Firestore</code> from your server project. <code>google-cloud-firestore</code> is a dependency of <code>firebase-admin</code> (<a href=\"https://github.com/firebase/firebase-admin-java/blob/95e542790e1b22a26258a10f7edff3a5a29c86d4/pom.xml#L428\" rel=\"nofollow noreferrer\">ref</a>) and should install it as a dependency when you add Firebase Admin Java SDK to your project (unless you exclude it in your build file).</p>\n<p>Remove the line <code>implementation 'com.google.firebase:firebase-firestore:24.4.3'</code> from your build.gradle and access Firestore through Firebase Admin SDK. You can refer to the <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#java_1\" rel=\"nofollow noreferrer\">official docs</a> for code samples.</p>\n"}],"owner":{"account_id":27445149,"reputation":21,"user_id":20939081,"display_name":"Mira&#231; Buğra &#214;zkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677874006,"creation_date":1677766716,"question_id":75616698,"body_markdown":"I am working on a server project where I want to user firebase firestore dependecies.\r\n\r\nI use the firebase-admin but when I try to add firestore sdk it says that it could not find it, and yes when I looked at that site there where nothing about firestore package.\r\n\r\nmy build.grade:\r\n\r\n```\r\nplugins {\r\nid &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\nmavenCentral()\r\n}\r\n\r\ndependencies {\r\n// Firebase Admin SDK dependency\r\nimplementation &#39;com.google.firebase:firebase-admin:9.1.1&#39;\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n    \r\n    // Declare the dependency for the Cloud Firestore library\r\n    // When NOT using the BoM, you must specify versions in Firebase library dependencies\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.3&#39;\r\n    \r\n    implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\r\n\r\n}\r\ntest {\r\nuseJUnitPlatform()\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nserver:main: Could not find com.google.firebase:firebase-firestore:24.4.3.\r\nSearched in the following locations:\r\n\r\n- https://repo.maven.apache.org/maven2/com/google/firebase/firebase-firestore/24.4.3/firebase-firestore-24.4.3.pom\r\n  If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n  Required by:\r\n  project :\r\n\r\nPossible solution:\r\n\r\n- Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html%60\r\n```\r\n\r\nI tried to look at the sites that the error code gave me but I couldnt perform anything since I dont know whether I can do this with firestore or not.","title":"Cannot add Firestore to Server","body":"<p>I am working on a server project where I want to user firebase firestore dependecies.</p>\n<p>I use the firebase-admin but when I try to add firestore sdk it says that it could not find it, and yes when I looked at that site there where nothing about firestore package.</p>\n<p>my build.grade:</p>\n<pre><code>plugins {\nid 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\n// Firebase Admin SDK dependency\nimplementation 'com.google.firebase:firebase-admin:9.1.1'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    \n    // Declare the dependency for the Cloud Firestore library\n    // When NOT using the BoM, you must specify versions in Firebase library dependencies\n    implementation 'com.google.firebase:firebase-firestore:24.4.3'\n    \n    implementation &quot;org.slf4j:slf4j-simple:1.7.9&quot;\n\n}\ntest {\nuseJUnitPlatform()\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>server:main: Could not find com.google.firebase:firebase-firestore:24.4.3.\nSearched in the following locations:\n\n- https://repo.maven.apache.org/maven2/com/google/firebase/firebase-firestore/24.4.3/firebase-firestore-24.4.3.pom\n  If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to adjust the 'metadataSources { ... }' of the repository declaration.\n  Required by:\n  project :\n\nPossible solution:\n\n- Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html%60\n</code></pre>\n<p>I tried to look at the sites that the error code gave me but I couldnt perform anything since I dont know whether I can do this with firestore or not.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","passwords"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677872719,"creation_date":1677857720,"answer_id":75629067,"question_id":75628635,"body_markdown":"I don&#39;t think you should really care about the size of the password because you don&#39;t know how the encryption algorithm will generate the password for you. API Keys for instance or crypted password can be very length (I have seen for instance some encrypted API key that have almost 900 chars).\r\n\r\nThe computers, the languages, the databases and the network in this modern world are adapted for this kind of situation.\r\nAlso, for security issue, your password have to be very strong.\r\n\r\n - For Java, use `String` it can support **2,147,483,647** characters. IMO you can use **120** or **128** chars for the password size.\r\n - For your database, [MySQL][1] for example (or any database) use **Text** types and its associated sub types.\r\n\r\n&gt; Spring Security may create proper data properties, but even so, I want\r\n&gt; to know the algorithm and the length for password field.\r\n\r\nYou can define a custom encryption in **Spring Security** with a bean, in you configuration file. The following is the [list][2] of all the algorithms supported by **Spring Security**: *NoOpPasswordEncoder*, *StandardPasswordEncoder*, *Pbkdf2PasswordEncoder*, *BCryptPasswordEncoder*, *SCryptPasswordEncoder*\r\n\r\n    @Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nTake in consideration that you have 2 sides when managing your security and applying encryption: the user side password and the encrypted password stored in the database. When the user issue an authentication process, the user type his password, not the encrypted password. The verification is made in a `AuthenticationProvider` that you define.\r\nSee an example bellow:\r\n\r\n\r\n    @Service\r\n    public class UserAuthenticationService implements AuthenticationProvider {\r\n    \r\n        private UserDetailsService service;\r\n        private PasswordEncoder encoder;\r\n    \r\n        public UserAuthenticationService(UserDetailsService service, PasswordEncoder encoder) {\r\n            this.service = service;\r\n            this.encoder = encoder;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            var username = authentication.getName();\r\n            var password = authentication.getCredentials().toString();\r\n            var user = service.loadUserByUsername(username);\r\n            // You make this comparison here, between both password the user and the encrypted one in the database\r\n            if (!encoder.matches(password, user.getPassword())) {\r\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n            }\r\n            return new UsernamePasswordAuthenticationToken(\r\n                user.getUsername(),\r\n                user.getPassword(),\r\n                user.getAuthorities()\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/string-types.html\r\n  [2]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html","title":"What should be password field length in dB when using Spring Security?","body":"<p>I don't think you should really care about the size of the password because you don't know how the encryption algorithm will generate the password for you. API Keys for instance or crypted password can be very length (I have seen for instance some encrypted API key that have almost 900 chars).</p>\n<p>The computers, the languages, the databases and the network in this modern world are adapted for this kind of situation.\nAlso, for security issue, your password have to be very strong.</p>\n<ul>\n<li>For Java, use <code>String</code> it can support <strong>2,147,483,647</strong> characters. IMO you can use <strong>120</strong> or <strong>128</strong> chars for the password size.</li>\n<li>For your database, <a href=\"https://dev.mysql.com/doc/refman/8.0/en/string-types.html\" rel=\"nofollow noreferrer\">MySQL</a> for example (or any database) use <strong>Text</strong> types and its associated sub types.</li>\n</ul>\n<blockquote>\n<p>Spring Security may create proper data properties, but even so, I want\nto know the algorithm and the length for password field.</p>\n</blockquote>\n<p>You can define a custom encryption in <strong>Spring Security</strong> with a bean, in you configuration file. The following is the <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html\" rel=\"nofollow noreferrer\">list</a> of all the algorithms supported by <strong>Spring Security</strong>: <em>NoOpPasswordEncoder</em>, <em>StandardPasswordEncoder</em>, <em>Pbkdf2PasswordEncoder</em>, <em>BCryptPasswordEncoder</em>, <em>SCryptPasswordEncoder</em></p>\n<pre><code>@Bean\npublic PasswordEncoder bCryptPasswordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>Take in consideration that you have 2 sides when managing your security and applying encryption: the user side password and the encrypted password stored in the database. When the user issue an authentication process, the user type his password, not the encrypted password. The verification is made in a <code>AuthenticationProvider</code> that you define.\nSee an example bellow:</p>\n<pre><code>@Service\npublic class UserAuthenticationService implements AuthenticationProvider {\n\n    private UserDetailsService service;\n    private PasswordEncoder encoder;\n\n    public UserAuthenticationService(UserDetailsService service, PasswordEncoder encoder) {\n        this.service = service;\n        this.encoder = encoder;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        var username = authentication.getName();\n        var password = authentication.getCredentials().toString();\n        var user = service.loadUserByUsername(username);\n        // You make this comparison here, between both password the user and the encrypted one in the database\n        if (!encoder.matches(password, user.getPassword())) {\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n        return new UsernamePasswordAuthenticationToken(\n            user.getUsername(),\n            user.getPassword(),\n            user.getAuthorities()\n        );\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677866862,"creation_date":1677863739,"answer_id":75630059,"question_id":75628635,"body_markdown":"If you use spring security &#39;s suggestion which use [`DelegatingPasswordEncoder`][1] , it will always use `BCrypt` to encode a new password.\r\n\r\nAnd from this [answer][2] , the total length of a `BCrypt` hashed password is always about 60 bytes no matter how many characters does the password has. The hashed password also needed to be prefixed with `{bcrypt}` which is 8 bytes in order for `DelegatingPasswordEncoder` can decode it.  We give it some extra bytes for buffer and so make its column to be `varchar(80)` or so should be more than enough.\r\n\r\nFor the maximum length of the password that an user can use ,it depends on your business requirement. Just judge it by common sense and give it enough buffer should be okay.  For example, do you think it is common for a person to set his login password to be 200 characters ? If you think it does not make sense , most probably you need to choose the maximum length to a smaller value until you find a maximum value that make sense to you and then give it some buffer.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\r\n  [2]: https://stackoverflow.com/a/5882472/339637","title":"What should be password field length in dB when using Spring Security?","body":"<p>If you use spring security 's suggestion which use <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\" rel=\"nofollow noreferrer\"><code>DelegatingPasswordEncoder</code></a> , it will always use <code>BCrypt</code> to encode a new password.</p>\n<p>And from this <a href=\"https://stackoverflow.com/a/5882472/339637\">answer</a> , the total length of a <code>BCrypt</code> hashed password is always about 60 bytes no matter how many characters does the password has. The hashed password also needed to be prefixed with <code>{bcrypt}</code> which is 8 bytes in order for <code>DelegatingPasswordEncoder</code> can decode it.  We give it some extra bytes for buffer and so make its column to be <code>varchar(80)</code> or so should be more than enough.</p>\n<p>For the maximum length of the password that an user can use ,it depends on your business requirement. Just judge it by common sense and give it enough buffer should be okay.  For example, do you think it is common for a person to set his login password to be 200 characters ? If you think it does not make sense , most probably you need to choose the maximum length to a smaller value until you find a maximum value that make sense to you and then give it some buffer.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75630059,"answer_count":2,"score":0,"last_activity_date":1677872719,"creation_date":1677855526,"question_id":75628635,"body_markdown":"I want to create my User table and set a proper size for password field used for signup request.\r\n\r\n```\r\n@Entity\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class User extends Person {\r\n\r\n    @Column(length = 50, nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(length = 120, nullable = false)\r\n    private String password;\r\n}\r\n```\r\n\r\nBut in here, I should think the length of the encrypted password. I made a search but could not found a solution. So, when using Spring Security, what is the password length in the User table (encrypted) and max length for password field while registering user? \r\n\r\nSpring Security may create proper data properties, but even so, I want to know the algorithm and the length for password field. \r\n\r\nAny help would be appreciated. ","title":"What should be password field length in dB when using Spring Security?","body":"<p>I want to create my User table and set a proper size for password field used for signup request.</p>\n<pre><code>@Entity\n@EqualsAndHashCode(callSuper = true)\npublic class User extends Person {\n\n    @Column(length = 50, nullable = false, unique = true)\n    private String username;\n\n    @Column(length = 120, nullable = false)\n    private String password;\n}\n</code></pre>\n<p>But in here, I should think the length of the encrypted password. I made a search but could not found a solution. So, when using Spring Security, what is the password length in the User table (encrypted) and max length for password field while registering user?</p>\n<p>Spring Security may create proper data properties, but even so, I want to know the algorithm and the length for password field.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1677782289,"post_id":75619526,"comment_id":133410272,"body_markdown":"`Vector`? `SimpleDate`? Looks legacy to me.","body":"<code>Vector</code>? <code>SimpleDate</code>? Looks legacy to me."},{"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"score":0,"creation_date":1677782617,"post_id":75619526,"comment_id":133410348,"body_markdown":"@MCEmperor Do you mean its old?","body":"@MCEmperor Do you mean its old?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677782821,"post_id":75619526,"comment_id":133410396,"body_markdown":"You&#39;re declaring the Vector inside the if statement which means it has local scope. It will disappear after the if statement and new one created again on the next tie. Probably not what you intended...","body":"You&#39;re declaring the Vector inside the if statement which means it has local scope. It will disappear after the if statement and new one created again on the next tie. Probably not what you intended..."},{"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"score":0,"creation_date":1677783066,"post_id":75619526,"comment_id":133410442,"body_markdown":"@Idle_Mind Thanks for your reply, I fixed that but what I am looking for is how to return a day from a changing vector.","body":"@Idle_Mind Thanks for your reply, I fixed that but what I am looking for is how to return a day from a changing vector."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677785339,"post_id":75619526,"comment_id":133411020,"body_markdown":"Update your code above so we can see your current incarnation.","body":"Update your code above so we can see your current incarnation."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677785647,"post_id":75619526,"comment_id":133411099,"body_markdown":"The modern classes to use are `LocalDate` for a date, `DayOfWeek` for -- what the name says -- and `ArrayList` instead of `Vector`. I recommend them all.","body":"The modern classes to use are <code>LocalDate</code> for a date, <code>DayOfWeek</code> for -- what the name says -- and <code>ArrayList</code> instead of <code>Vector</code>. I recommend them all."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677785747,"post_id":75619526,"comment_id":133411122,"body_markdown":"In the `count == maxcount` case you need to determine whether `freqDay` or `dayOfWeek(dates[i])` is earlier in the week. Which is easy with `DayOfWeek`, not quite so easy with strings, but still doable if you insist.","body":"In the <code>count == maxcount</code> case you need to determine whether <code>freqDay</code> or <code>dayOfWeek(dates[i])</code> is earlier in the week. Which is easy with <code>DayOfWeek</code>, not quite so easy with strings, but still doable if you insist."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1677786473,"post_id":75619526,"comment_id":133411300,"body_markdown":"Also show us `dayOfWeek()` as well please.","body":"Also show us <code>dayOfWeek()</code> as well please."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677797759,"post_id":75619526,"comment_id":133413828,"body_markdown":"@EbrahimAl-Aghbari https://en.wikipedia.org/wiki/Legacy_system","body":"@EbrahimAl-Aghbari <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Legacy_system</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677797789,"post_id":75619526,"comment_id":133413836,"body_markdown":"Explain the class `SimpleDate`. I cannot find that class bundled with Java.","body":"Explain the class <code>SimpleDate</code>. I cannot find that class bundled with Java."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677818850,"post_id":75619526,"comment_id":133416394,"body_markdown":"Not what you asked, your algorithm looks over-complicated to me. If there are 3 Tuesdays in the array, you count them 3 times. And 5000 times if there are 5000 Tuesdays. Once should suffice. Also determining the day of week of a given date is built into Java (the `LocalDate` class mentioned, for example), you had not needed code it yourself. And keeping the day as a string is impractical.","body":"Not what you asked, your algorithm looks over-complicated to me. If there are 3 Tuesdays in the array, you count them 3 times. And 5000 times if there are 5000 Tuesdays. Once should suffice. Also determining the day of week of a given date is built into Java (the <code>LocalDate</code> class mentioned, for example), you had not needed code it yourself. And keeping the day as a string is impractical."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677819166,"post_id":75619526,"comment_id":133416433,"body_markdown":"What I would have done: If the array has length 0, return the empty string. Use an `EnumMap&lt;DayOfWeek, Integer&gt;` for the counts (or an array of `&#236;nt`). Initialize all counts to 0. Iterate once through the date array and for each day of week increment the corresponding count. Then iterate once through the counts form Monday to Sunday to find the first highest count. So when I find the same count again, ignore it because we already know it’s later in the week. Only when finding a strictly higher count, record it as the max. Done.","body":"What I would have done: If the array has length 0, return the empty string. Use an <code>EnumMap&lt;DayOfWeek, Integer&gt;</code> for the counts (or an array of <code>&#236;nt</code>). Initialize all counts to 0. Iterate once through the date array and for each day of week increment the corresponding count. Then iterate once through the counts form Monday to Sunday to find the first highest count. So when I find the same count again, ignore it because we already know it’s later in the week. Only when finding a strictly higher count, record it as the max. Done."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677872151,"creation_date":1677787603,"answer_id":75620337,"question_id":75619526,"body_markdown":"Assuming `dayOfWeek()` returns only one of these values:\r\n\r\n    { &quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot; }\r\n\r\nYou could use a `List` to determine the order of them:\r\n\r\n      public static String mostFrequentDayOfWeek(SimpleDate[] dates ) {\r\n          int maxCount = 0;\r\n          int maxIndex = 0;\r\n          String freqDay = &quot;&quot;;\r\n    \r\n          List&lt;String&gt; days = Arrays.asList(&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;);\r\n          for(SimpleDate d1 : dates) {\r\n            int count = 0;\r\n            String day1 = dayOfWeek(d1);\r\n            for(SimpleDate d2 : dates) {\r\n              String day2 = dayOfWeek(d2);\r\n              if (day1.equals(day2)) {\r\n                count++;\r\n              }      \r\n            }\r\n            \r\n            if (count &gt; maxCount) {\r\n              maxCount = count;\r\n              maxIndex = days.indexOf(day1);\r\n              freqDay = day1;\r\n            }\r\n            else if (count == maxCount) {\r\n              int newIndex = days.indexOf(day1);\r\n              if (newIndex &lt; maxIndex) {\r\n                maxIndex = newIndex;\r\n                freqDay = day1;\r\n              }\r\n            }\r\n          }  \r\n        \r\n          return freqDay;\r\n      }\r\n\r\n","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>Assuming <code>dayOfWeek()</code> returns only one of these values:</p>\n<pre><code>{ &quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot; }\n</code></pre>\n<p>You could use a <code>List</code> to determine the order of them:</p>\n<pre><code>  public static String mostFrequentDayOfWeek(SimpleDate[] dates ) {\n      int maxCount = 0;\n      int maxIndex = 0;\n      String freqDay = &quot;&quot;;\n\n      List&lt;String&gt; days = Arrays.asList(&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;);\n      for(SimpleDate d1 : dates) {\n        int count = 0;\n        String day1 = dayOfWeek(d1);\n        for(SimpleDate d2 : dates) {\n          String day2 = dayOfWeek(d2);\n          if (day1.equals(day2)) {\n            count++;\n          }      \n        }\n        \n        if (count &gt; maxCount) {\n          maxCount = count;\n          maxIndex = days.indexOf(day1);\n          freqDay = day1;\n        }\n        else if (count == maxCount) {\n          int newIndex = days.indexOf(day1);\n          if (newIndex &lt; maxIndex) {\n            maxIndex = newIndex;\n            freqDay = day1;\n          }\n        }\n      }  \n    \n      return freqDay;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677792971,"creation_date":1677792971,"answer_id":75621048,"question_id":75619526,"body_markdown":"to solve the problem modify `else if` block\r\n\r\n    else if (count == maxcount) {\r\n        days.add(dayOfWeek(dates[i]));\r\n        if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\r\n            freqDay = dayOfWeek(dates[i]);\r\n        }\r\n    }\r\n\r\nmodified code as below:\r\n\r\n    public static String mostFrequentDayOfWeek(SimpleDate[] dates) {\r\n        int maxcount = 0;\r\n        String freqDay = &quot;&quot;;\r\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\r\n    \r\n        for (int i = 0; i &lt; dates.length; i++) {\r\n    \r\n            int count = 0;\r\n            for (int j = 0; j &lt; dates.length; j++) {\r\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\r\n                    count++;\r\n                }\r\n            }\r\n    \r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                freqDay = dayOfWeek(dates[i]);\r\n            } else if (count == maxcount) {\r\n                days.add(dayOfWeek(dates[i]));\r\n                if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\r\n                    freqDay = dayOfWeek(dates[i]);\r\n                }\r\n            }\r\n        }\r\n        return freqDay;\r\n    }\r\n\r\n","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>to solve the problem modify <code>else if</code> block</p>\n<pre><code>else if (count == maxcount) {\n    days.add(dayOfWeek(dates[i]));\n    if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\n        freqDay = dayOfWeek(dates[i]);\n    }\n}\n</code></pre>\n<p>modified code as below:</p>\n<pre><code>public static String mostFrequentDayOfWeek(SimpleDate[] dates) {\n    int maxcount = 0;\n    String freqDay = &quot;&quot;;\n    Vector&lt;String&gt; days = new Vector&lt;String&gt;();\n\n    for (int i = 0; i &lt; dates.length; i++) {\n\n        int count = 0;\n        for (int j = 0; j &lt; dates.length; j++) {\n            if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\n                count++;\n            }\n        }\n\n        if (count &gt; maxcount) {\n            maxcount = count;\n            freqDay = dayOfWeek(dates[i]);\n        } else if (count == maxcount) {\n            days.add(dayOfWeek(dates[i]));\n            if (days.indexOf(dayOfWeek(dates[i])) &lt; days.indexOf(freqDay)) {\n                freqDay = dayOfWeek(dates[i]);\n            }\n        }\n    }\n    return freqDay;\n}\n</code></pre>\n"}],"owner":{"account_id":27819274,"reputation":11,"user_id":21240013,"display_name":"Ebrahim Al-Aghbari"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75620337,"answer_count":2,"score":0,"last_activity_date":1677872151,"creation_date":1677781855,"question_id":75619526,"body_markdown":"This method takes a list of dates and it returns the most frequent day within the dates. It returns correctly; however, in case of tie between the days, the earliest day should be returned. For example, if there was a tie between Tuesday and Friday, the method should return &quot;Tue&quot;. However, I could not figure out how to do it. I figured out how to return in case of tie but not the earliest day. \r\n\r\n```\r\npublic static String mostFrequentDayOfWeek( SimpleDate[] dates ) {\r\n        int maxcount = 0;\r\n        String freqDay = &quot;&quot;;\r\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\r\n\r\n        for (int i = 0; i &lt; dates.length; i++) {\r\n\r\n            int count = 0;\r\n            for (int j = 0; j &lt; dates.length; j++) {\r\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\r\n                    count++;\r\n                }\r\n            }\r\n\r\n            if (count &gt; maxcount) {\r\n                maxcount = count;\r\n                freqDay = dayOfWeek(dates[i]);\r\n            }\r\n\r\n            else if (count == maxcount) {\r\n                Vector&lt;String&gt; days;\r\n                days = new Vector&lt;String&gt;();\r\n                days.add(dayOfWeek(dates[i]));\r\n                freqDay = days.get(i);\r\n                \r\n            }\r\n        }\r\n        return freqDay;\r\n    }\r\n```\r\n\r\nThis is the bit where im stuck on:\r\n\r\n```\r\nelse if (count == maxcount) {\r\n                \r\n                \r\n                days.add(dayOfWeek(dates[i]));\r\n                freqDay = days.get(i);\r\n                \r\n            }\r\n```\r\nIt&#39;s not completed but im asking if you could demonstrate a way to do it.\r\n\r\n\r\n\r\nThe code should return the earliest most frequent day in case of tie only.\r\n\r\nThis is dayOfWeeks method as requested:\r\n\r\n    public static String dayOfWeek( SimpleDate date ) {\r\n            // declared vairables to utilise the getters of day, month and year in SimpleDate\r\n            int day = date.getDay();     \r\n            int month = date.getMonth(); \r\n            int year = date.getYear();   \r\n            int Z, X, Y, W, C, D;\r\n            String nameofday = &quot;&quot;; // a variable that will be returned by the method \r\n    \r\n            if(month &lt; 3){\r\n                month = month + 12;\r\n                year = year - 1;\r\n            }\r\n            C = year % 100;\r\n            D = year / 100;\r\n            W = 13*( month + 1 )/5;\r\n            X = C / 4;\r\n            Y = D / 4;\r\n            Z = W + X + Y + day + C - 2 * D;\r\n            day = Z % 7;\r\n    \r\n            if(day&lt;0){\r\n                day =+ 7;\r\n            }\r\n                    // switch-case statement to switch whatever the value of &#39;day&#39; to its corresponce abbreaviation\r\n            switch(day){\r\n                case 0 : nameofday = &quot;Sat&quot;;break;\r\n                case 1 : nameofday = &quot;Sun&quot;;break;\r\n                case 2 : nameofday = &quot;Mon&quot;;break;\r\n                case 3 : nameofday = &quot;Tue&quot;;break;\r\n                case 4 : nameofday = &quot;Wed&quot;;break;\r\n                case 5 : nameofday = &quot;Thu&quot;;break;\r\n                case 6 : nameofday = &quot;Fri&quot;;break;\r\n            }\r\n            return nameofday;\r\n        }","title":"How to choose the earliest day in a Vector (from &quot;Mon&quot; to &quot;Sun&quot;)","body":"<p>This method takes a list of dates and it returns the most frequent day within the dates. It returns correctly; however, in case of tie between the days, the earliest day should be returned. For example, if there was a tie between Tuesday and Friday, the method should return &quot;Tue&quot;. However, I could not figure out how to do it. I figured out how to return in case of tie but not the earliest day.</p>\n<pre><code>public static String mostFrequentDayOfWeek( SimpleDate[] dates ) {\n        int maxcount = 0;\n        String freqDay = &quot;&quot;;\n        Vector&lt;String&gt; days = new Vector&lt;String&gt;();\n\n        for (int i = 0; i &lt; dates.length; i++) {\n\n            int count = 0;\n            for (int j = 0; j &lt; dates.length; j++) {\n                if (dayOfWeek(dates[i]).equals(dayOfWeek(dates[j]))) {\n                    count++;\n                }\n            }\n\n            if (count &gt; maxcount) {\n                maxcount = count;\n                freqDay = dayOfWeek(dates[i]);\n            }\n\n            else if (count == maxcount) {\n                Vector&lt;String&gt; days;\n                days = new Vector&lt;String&gt;();\n                days.add(dayOfWeek(dates[i]));\n                freqDay = days.get(i);\n                \n            }\n        }\n        return freqDay;\n    }\n</code></pre>\n<p>This is the bit where im stuck on:</p>\n<pre><code>else if (count == maxcount) {\n                \n                \n                days.add(dayOfWeek(dates[i]));\n                freqDay = days.get(i);\n                \n            }\n</code></pre>\n<p>It's not completed but im asking if you could demonstrate a way to do it.</p>\n<p>The code should return the earliest most frequent day in case of tie only.</p>\n<p>This is dayOfWeeks method as requested:</p>\n<pre><code>public static String dayOfWeek( SimpleDate date ) {\n        // declared vairables to utilise the getters of day, month and year in SimpleDate\n        int day = date.getDay();     \n        int month = date.getMonth(); \n        int year = date.getYear();   \n        int Z, X, Y, W, C, D;\n        String nameofday = &quot;&quot;; // a variable that will be returned by the method \n\n        if(month &lt; 3){\n            month = month + 12;\n            year = year - 1;\n        }\n        C = year % 100;\n        D = year / 100;\n        W = 13*( month + 1 )/5;\n        X = C / 4;\n        Y = D / 4;\n        Z = W + X + Y + day + C - 2 * D;\n        day = Z % 7;\n\n        if(day&lt;0){\n            day =+ 7;\n        }\n                // switch-case statement to switch whatever the value of 'day' to its corresponce abbreaviation\n        switch(day){\n            case 0 : nameofday = &quot;Sat&quot;;break;\n            case 1 : nameofday = &quot;Sun&quot;;break;\n            case 2 : nameofday = &quot;Mon&quot;;break;\n            case 3 : nameofday = &quot;Tue&quot;;break;\n            case 4 : nameofday = &quot;Wed&quot;;break;\n            case 5 : nameofday = &quot;Thu&quot;;break;\n            case 6 : nameofday = &quot;Fri&quot;;break;\n        }\n        return nameofday;\n    }\n</code></pre>\n"},{"tags":["java","spring","logging","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533714850,"creation_date":1498208807,"answer_id":44717428,"question_id":44552747,"body_markdown":"I don&#39;t think it&#39;s possible to override all child logger levels where a child logger level has already been explicitly set. \r\n\r\nSpring Boot&#39;s `LoggingEndpoint` delegates to `ch.qos.logback.classic.Logger.handleParentLevelChange()` and that method has a conditional block on `if(this.level == null) { }` so when the recursive call (which walks over all loggers) arrives at &quot;com.parent.child&quot; it will do nothing because &quot;com.parent.child&quot; already has an assigned level.\r\n\r\nYou can, of course, set a configuredLevel on a specific logger since that calls `ch.qos.logback.classic.Logger.setLevel()` and hence is not subject to the conditional block in `handleParentLevelChange()`.","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>I don't think it's possible to override all child logger levels where a child logger level has already been explicitly set. </p>\n\n<p>Spring Boot's <code>LoggingEndpoint</code> delegates to <code>ch.qos.logback.classic.Logger.handleParentLevelChange()</code> and that method has a conditional block on <code>if(this.level == null) { }</code> so when the recursive call (which walks over all loggers) arrives at \"com.parent.child\" it will do nothing because \"com.parent.child\" already has an assigned level.</p>\n\n<p>You can, of course, set a configuredLevel on a specific logger since that calls <code>ch.qos.logback.classic.Logger.setLevel()</code> and hence is not subject to the conditional block in <code>handleParentLevelChange()</code>.</p>\n"},{"tags":[],"owner":{"account_id":27930001,"reputation":1,"user_id":21328258,"display_name":"RichardL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677872150,"creation_date":1677872150,"answer_id":75631224,"question_id":44552747,"body_markdown":"Looking for this led me to a property that you might find useful.  Using curl, you can post the desired logging level as &quot;&quot; (zero length string) which has the effect of setting the configuredLevel to null.  This can be done for the child or parent in the hierarchy and then allows you dynamically set and unset from either the parent or the child class logging levels.","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>Looking for this led me to a property that you might find useful.  Using curl, you can post the desired logging level as &quot;&quot; (zero length string) which has the effect of setting the configuredLevel to null.  This can be done for the child or parent in the hierarchy and then allows you dynamically set and unset from either the parent or the child class logging levels.</p>\n"}],"owner":{"account_id":374969,"reputation":1404,"user_id":1522753,"accept_rate":36,"display_name":"Bartek Maraszek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1677872150,"creation_date":1497467058,"question_id":44552747,"body_markdown":"In my Spring Boot application, I&#39;ve enabled the Actuators, and I can see all my loggers at: `localhost:8080/loggers` like this:\r\n\r\n    \r\n    &quot;com.parent&quot;:{&quot;configuredLevel&quot;:&quot;INFO&quot;,&quot;effectiveLevel&quot;:&quot;INFO&quot;},\r\n    &quot;com.parent.child&quot;:{&quot;configuredLevel&quot;:&quot;TRACE&quot;,&quot;effectiveLevel&quot;:&quot;TRACE&quot;}\r\n    [...]\r\n\r\nNow I change the logging level by sending a request:\r\n\r\n    curl -i -X POST -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;configuredLevel&quot;: &quot;DEBUG&quot;}&#39; http://localhost:8080/loggers/com.parent\r\n\r\nHad the `configuredLevel` of `com.parent.child` not been set, changing the `com.parent`&#39;s logging level would have changed `com.parent.child`&#39;s  `effectiveLevel`.\r\n\r\nIs there a way to override all children&#39;s logger level in a single request even though the `configuredLevel` has already been set?\r\n\r\nI&#39;ve tried using `*` as a wildcard symbol, but it didn&#39;t work. Is what I&#39;m trying to do possible, or I have to reset the `configuredLevel` of all children separately?\r\n","title":"Spring Boot Actuator: can I change the logger level for entire package in one go?","body":"<p>In my Spring Boot application, I've enabled the Actuators, and I can see all my loggers at: <code>localhost:8080/loggers</code> like this:</p>\n\n<pre><code>\"com.parent\":{\"configuredLevel\":\"INFO\",\"effectiveLevel\":\"INFO\"},\n\"com.parent.child\":{\"configuredLevel\":\"TRACE\",\"effectiveLevel\":\"TRACE\"}\n[...]\n</code></pre>\n\n<p>Now I change the logging level by sending a request:</p>\n\n<pre><code>curl -i -X POST -H 'Content-Type: application/json' -d '{\"configuredLevel\": \"DEBUG\"}' http://localhost:8080/loggers/com.parent\n</code></pre>\n\n<p>Had the <code>configuredLevel</code> of <code>com.parent.child</code> not been set, changing the <code>com.parent</code>'s logging level would have changed <code>com.parent.child</code>'s  <code>effectiveLevel</code>.</p>\n\n<p>Is there a way to override all children's logger level in a single request even though the <code>configuredLevel</code> has already been set?</p>\n\n<p>I've tried using <code>*</code> as a wildcard symbol, but it didn't work. Is what I'm trying to do possible, or I have to reset the <code>configuredLevel</code> of all children separately?</p>\n"},{"tags":["java","android","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18775293,"reputation":581,"user_id":13691187,"display_name":"Ammar Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677872142,"creation_date":1677872142,"answer_id":75631222,"question_id":75631113,"body_markdown":"Found an answer [here][1]\r\nYou just need to copy the contents of jbr folder to jre folder and it works\r\n\r\n  [1]: https://stackoverflow.com/questions/68569430/unable-to-find-bundled-java-version-with-flutter-doctor-after-updating-android","title":"Android Studio after update Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;","body":"<p>Found an answer <a href=\"https://stackoverflow.com/questions/68569430/unable-to-find-bundled-java-version-with-flutter-doctor-after-updating-android\">here</a>\nYou just need to copy the contents of jbr folder to jre folder and it works</p>\n"}],"owner":{"account_id":18775293,"reputation":581,"user_id":13691187,"display_name":"Ammar Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75631222,"answer_count":1,"score":1,"last_activity_date":1677872142,"creation_date":1677871372,"question_id":75631113,"body_markdown":"After updating Android Studio to Electric Eel version, I try to build an apk from a Flutter project it gives the message \r\n```\r\nError: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;\r\n```\r\nI noticed that ```Program Files\\Android``` contained two Android Studio folders with the other named as ```Android Studio1``` and it contains the correct folders, while the other contained only this ```jre``` folder  and the file ```jvm.cfg``` doesn&#39;t exist, is there something I can do other than deleting the whole thing and re installing?","title":"Android Studio after update Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg&#39;","body":"<p>After updating Android Studio to Electric Eel version, I try to build an apk from a Flutter project it gives the message</p>\n<pre><code>Error: could not open `C:\\Program Files\\Android\\Android Studio\\jre\\lib\\jvm.cfg'\n</code></pre>\n<p>I noticed that <code>Program Files\\Android</code> contained two Android Studio folders with the other named as <code>Android Studio1</code> and it contains the correct folders, while the other contained only this <code>jre</code> folder  and the file <code>jvm.cfg</code> doesn't exist, is there something I can do other than deleting the whole thing and re installing?</p>\n"},{"tags":["java","mocking","mockito","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":3,"creation_date":1663653355,"post_id":73778856,"comment_id":130284060,"body_markdown":"That version of Quarkus is quite old actually... It&#39;s hard to know what&#39;s going on, but my guess is that you are seeing a bug that has already been fixed in newer Quarkus versions","body":"That version of Quarkus is quite old actually... It&#39;s hard to know what&#39;s going on, but my guess is that you are seeing a bug that has already been fixed in newer Quarkus versions"}],"answers":[{"tags":[],"owner":{"account_id":9333948,"reputation":331,"user_id":6928778,"display_name":"Lbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672327164,"creation_date":1672327164,"answer_id":74952911,"question_id":73778856,"body_markdown":"Maybe too late but someone might be interested ...\r\n\r\nChange your application.properties like this :\r\n`%test.RESTCLIENT-1.0/mp-rest/scope=javax.enterprise.context.ApplicationScoped` where you may have `RESTCLIENT-1.0/mp-rest/scope=javax.inject.Singleton`.\r\nIn other word replace `javax.inject.Singleton` by `javax.enterprise.context.ApplicationScoped` for the test profile.","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>Maybe too late but someone might be interested ...</p>\n<p>Change your application.properties like this :\n<code>%test.RESTCLIENT-1.0/mp-rest/scope=javax.enterprise.context.ApplicationScoped</code> where you may have <code>RESTCLIENT-1.0/mp-rest/scope=javax.inject.Singleton</code>.\nIn other word replace <code>javax.inject.Singleton</code> by <code>javax.enterprise.context.ApplicationScoped</code> for the test profile.</p>\n"},{"tags":[],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677871797,"creation_date":1677871797,"answer_id":75631181,"question_id":73778856,"body_markdown":"From quarkus.io guide -\r\n\r\n&gt; By default, the @InjectMock annotation can be used for any normal CDI scoped bean (e.g. @ApplicationScoped, @RequestScoped). Mocking @Singleton beans can be performed by setting the `convertScopes` property to true (such as @InjectMock(convertScopes = true). This will convert the @Singleton bean to an @ApplicationScoped bean for the test.\r\n\r\n    @InjectMock(convertScopes = true)\r\n    @RestClient\r\n    MyRestService service;\r\n\r\nThis pretty much worked for me after researching for long hours\r\n\r\nhttps://quarkus.io/guides/getting-started-testing","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>From quarkus.io guide -</p>\n<blockquote>\n<p>By default, the @InjectMock annotation can be used for any normal CDI scoped bean (e.g. @ApplicationScoped, @RequestScoped). Mocking @Singleton beans can be performed by setting the <code>convertScopes</code> property to true (such as @InjectMock(convertScopes = true). This will convert the @Singleton bean to an @ApplicationScoped bean for the test.</p>\n</blockquote>\n<pre><code>@InjectMock(convertScopes = true)\n@RestClient\nMyRestService service;\n</code></pre>\n<p>This pretty much worked for me after researching for long hours</p>\n<p><a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing</a></p>\n"}],"owner":{"account_id":24815272,"reputation":3,"user_id":18696174,"display_name":"devs4wl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631181,"answer_count":2,"score":0,"last_activity_date":1677871797,"creation_date":1663618822,"question_id":73778856,"body_markdown":"Following quakus guide for mocking: https://quarkus.io/blog/mocking. The client is working fine in my **api**, but when I try to mock my **Rest Client**, it returns a error.\r\n\r\nMy test class:\r\n--------------\r\n\r\n    @InjectMock\r\n    @RestClient\r\n    CustomClient customClient;\r\n\r\nMy Rest Client:\r\n---------------\r\n\r\n    @Path(&quot;/clientes&quot;)\r\n    @ApplicationScoped\r\n    @RegisterRestClient\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public interface CustomClient {\r\n\r\n      @GET\r\n      Object findById(@QueryParam(&quot;id&quot;) String id);\r\n    }\r\n\r\nStack trace:\r\n------------\r\n\r\n    org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\r\n\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.initTestState(QuarkusTestExtension.java:823)\r\n\tat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:787)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n  \r\n\r\n    Caused by: org.mockito.exceptions.base.MockitoException: \r\n    Cannot mock/spy class com.sun.proxy.$Proxy90\r\n    Mockito cannot mock/spy because :\r\n    -final class\r\n\r\n    at io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.createMockAndSetTestField(CreateMockitoMocksCallback.java:54)\r\n\tat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.afterConstruct(CreateMockitoMocksCallback.java:29)\r\n\t... 66 more\r\n\r\nIt seems `mockito` not injecting rest client. I&#39;m using **Quarkus** **1.13.1 Final**, due to organizational policies.","title":"Quarkus Mockito Not Inject Mock with Rest Client","body":"<p>Following quakus guide for mocking: <a href=\"https://quarkus.io/blog/mocking\" rel=\"nofollow noreferrer\">https://quarkus.io/blog/mocking</a>. The client is working fine in my <strong>api</strong>, but when I try to mock my <strong>Rest Client</strong>, it returns a error.</p>\n<h2>My test class:</h2>\n<pre><code>@InjectMock\n@RestClient\nCustomClient customClient;\n</code></pre>\n<h2>My Rest Client:</h2>\n<pre><code>@Path(&quot;/clientes&quot;)\n@ApplicationScoped\n@RegisterRestClient\n@Produces(MediaType.APPLICATION_JSON)\npublic interface CustomClient {\n\n  @GET\n  Object findById(@QueryParam(&quot;id&quot;) String id);\n}\n</code></pre>\n<h2>Stack trace:</h2>\n<pre><code>org.junit.jupiter.api.extension.TestInstantiationException: Failed to create test instance\n\nat io.quarkus.test.junit.QuarkusTestExtension.initTestState(QuarkusTestExtension.java:823)\nat io.quarkus.test.junit.QuarkusTestExtension.interceptTestClassConstructor(QuarkusTestExtension.java:787)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.api.extension.InvocationInterceptor.interceptTestClassConstructor(InvocationInterceptor.java:72)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:77)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:342)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:289)\nat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:267)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\nat java.base/java.util.Optional.orElseGet(Optional.java:369)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n\nCaused by: org.mockito.exceptions.base.MockitoException: \nCannot mock/spy class com.sun.proxy.$Proxy90\nMockito cannot mock/spy because :\n-final class\n\nat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.createMockAndSetTestField(CreateMockitoMocksCallback.java:54)\nat io.quarkus.test.junit.mockito.internal.CreateMockitoMocksCallback.afterConstruct(CreateMockitoMocksCallback.java:29)\n... 66 more\n</code></pre>\n<p>It seems <code>mockito</code> not injecting rest client. I'm using <strong>Quarkus</strong> <strong>1.13.1 Final</strong>, due to organizational policies.</p>\n"},{"tags":["java","maven","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":21061064,"reputation":517,"user_id":15479443,"display_name":"yaprak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617706123,"creation_date":1617633018,"answer_id":66954645,"question_id":66951167,"body_markdown":"in order to make use of it in runtime you must add below dependency in  nifi-decoder-processors-nar&#39;s pom file. type is nar\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n            &lt;type&gt;nar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\nas for compiler time add below in nifi-decoder-processors-processors &#39; pom file (I found it in Nar&#39;s pom.xml in repository, you may think NAR as collection of dependency)\r\n\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;nifi-lookup-service-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.13.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[see this post](https://community.cloudera.com/t5/Support-Questions/How-to-use-one-of-nifi-standard-services-like-DBCPService-in/td-p/179077) \r\n","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>in order to make use of it in runtime you must add below dependency in  nifi-decoder-processors-nar's pom file. type is nar</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\n        &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;type&gt;nar&lt;/type&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>as for compiler time add below in nifi-decoder-processors-processors ' pom file (I found it in Nar's pom.xml in repository, you may think NAR as collection of dependency)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n        &lt;artifactId&gt;nifi-lookup-service-api&lt;/artifactId&gt;\n        &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://community.cloudera.com/t5/Support-Questions/How-to-use-one-of-nifi-standard-services-like-DBCPService-in/td-p/179077\" rel=\"nofollow noreferrer\">see this post</a></p>\n"},{"tags":[],"owner":{"account_id":27445650,"reputation":1,"user_id":20939490,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677869950,"creation_date":1677869950,"answer_id":75630908,"question_id":66951167,"body_markdown":"Run the following maven command (replace 1.20.0 with your version):\r\n\r\n    dependency:get -Dartifact=org.apache.nifi:nifi-standard-services-api-nar:1.20.0\r\n\r\nThis will make sure everything the NAR Mojo needs is in your _local_ repository.","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>Run the following maven command (replace 1.20.0 with your version):</p>\n<pre><code>dependency:get -Dartifact=org.apache.nifi:nifi-standard-services-api-nar:1.20.0\n</code></pre>\n<p>This will make sure everything the NAR Mojo needs is in your <em>local</em> repository.</p>\n"}],"owner":{"account_id":1840430,"reputation":1299,"user_id":1669954,"display_name":"Tekz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66954645,"answer_count":2,"score":3,"last_activity_date":1677869950,"creation_date":1617616479,"question_id":66951167,"body_markdown":"I&#39;m implementing Custom NiFi Processor to decode some files. During the decode process I need to lookup external CSV record for certain data mapping. Note the this decoding process is complex so it has to be a custom processor. I know I can setup external CSVRecordLookupService and then within my CustomController I can define a property descriptor as below\r\n\r\n~~~java\r\n    public static final PropertyDescriptor CLIENT_LOOKUP_SERVICE =\r\n            new PropertyDescriptor.Builder()\r\n                    .name(&quot;Client CSV Lookup service&quot;)\r\n                    .identifiesControllerService(LookupService.class)\r\n                    .required(true)\r\n                    .build();\r\n~~~\r\n\r\nMy first problem is How to refer `LookupService.class`, which maven Jar package should I use. After bit of investigation I found this [https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0](https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0). So I added it to my `processors` `pom.xml` as below\r\n\r\n~~~xml\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n~~~\r\n\r\nNow I can compile my class and `LookupService` is visible to the code. However I cannot build the `nar` or run the maven as it gives `Cannot resolve org.apache.nifi:nifi-standard-services-api-nar:1.13.0` error\r\n\r\nin the IDEA it also shows the error \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UE6jD.png\r\n\r\nHow to solve this issue and use `org.apache.nifi.lookup.LookupService` in my custom processor.\r\n\r\nI believe it probably because it comes as `nar` instead of `jar`. But my question is how do I use LookupService at compile time only and use the NiFi provided classes at run time by solving this issue.\r\n\r\n\r\n&gt; UPDATE\r\n\r\nI&#39;d like to provide an update on this, but the issue is not fully resolved.\r\n\r\nI found a jar in [maven repo](https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api/1.13.0) which has the `LookupService`\r\n\r\n\r\n\r\nThis together with [org.apache.nifi.serialization.record.Record](https://mvnrepository.com/artifact/org.apache.nifi/nifi-record)&#160;I can compile and run the maven successfully.&#160;\r\n\r\n\r\n\r\nAccording to maven repo dependency both these should be declared with the scope `provided`. So I did that.\r\n\r\nNow the problem is I cannot package the nar. It doesn&#39;t like the I excluded the LookupService class. even if I remove provided scope it doesn&#39;t get included as well.\r\n\r\n~~~\r\n[INFO] Generating documentation for NiFi extensions in the NAR...\r\n[INFO] Found a dependency on version 1.13.0 of NiFi API\r\n[ERROR] Could not generate extensions&#39; documentation\r\njava.lang.NoClassDefFoundError: org/apache/nifi/lookup/LookupService\r\n\r\n...\r\n...\r\n\r\n[ERROR] Failed to execute goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar (default-nar) on project nifi-decoder-processors-nar: Execution default-nar of goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar failed: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar: org/apache/nifi/lookup/LookupService\r\n[ERROR] -----------------------------------------------------\r\n[ERROR] realm =    extension&gt;org.apache.nifi:nifi-nar-maven-plugin:1.3.1\r\n~~~\r\n\r\nSo how do we use this LookupService in our custom processors?\r\n","title":"Cannot resolve org.apache.nifi:nifi-standard-services-api-nar - How to use LookupService inside CustomProcessor","body":"<p>I'm implementing Custom NiFi Processor to decode some files. During the decode process I need to lookup external CSV record for certain data mapping. Note the this decoding process is complex so it has to be a custom processor. I know I can setup external CSVRecordLookupService and then within my CustomController I can define a property descriptor as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final PropertyDescriptor CLIENT_LOOKUP_SERVICE =\n            new PropertyDescriptor.Builder()\n                    .name(&quot;Client CSV Lookup service&quot;)\n                    .identifiesControllerService(LookupService.class)\n                    .required(true)\n                    .build();\n</code></pre>\n<p>My first problem is How to refer <code>LookupService.class</code>, which maven Jar package should I use. After bit of investigation I found this <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar/1.13.0</a>. So I added it to my <code>processors</code> <code>pom.xml</code> as below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;!-- https://mvnrepository.com/artifact/org.apache.nifi/nifi-standard-services-api-nar --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.nifi&lt;/groupId&gt;\n            &lt;artifactId&gt;nifi-standard-services-api-nar&lt;/artifactId&gt;\n            &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Now I can compile my class and <code>LookupService</code> is visible to the code. However I cannot build the <code>nar</code> or run the maven as it gives <code>Cannot resolve org.apache.nifi:nifi-standard-services-api-nar:1.13.0</code> error</p>\n<p>in the IDEA it also shows the error</p>\n<p><a href=\"https://i.stack.imgur.com/UE6jD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UE6jD.png\" alt=\"enter image description here\" /></a></p>\n<p>How to solve this issue and use <code>org.apache.nifi.lookup.LookupService</code> in my custom processor.</p>\n<p>I believe it probably because it comes as <code>nar</code> instead of <code>jar</code>. But my question is how do I use LookupService at compile time only and use the NiFi provided classes at run time by solving this issue.</p>\n<blockquote>\n<p>UPDATE</p>\n</blockquote>\n<p>I'd like to provide an update on this, but the issue is not fully resolved.</p>\n<p>I found a jar in <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-lookup-service-api/1.13.0\" rel=\"nofollow noreferrer\">maven repo</a> which has the <code>LookupService</code></p>\n<p>This together with <a href=\"https://mvnrepository.com/artifact/org.apache.nifi/nifi-record\" rel=\"nofollow noreferrer\">org.apache.nifi.serialization.record.Record</a> I can compile and run the maven successfully. </p>\n<p>According to maven repo dependency both these should be declared with the scope <code>provided</code>. So I did that.</p>\n<p>Now the problem is I cannot package the nar. It doesn't like the I excluded the LookupService class. even if I remove provided scope it doesn't get included as well.</p>\n<pre><code>[INFO] Generating documentation for NiFi extensions in the NAR...\n[INFO] Found a dependency on version 1.13.0 of NiFi API\n[ERROR] Could not generate extensions' documentation\njava.lang.NoClassDefFoundError: org/apache/nifi/lookup/LookupService\n\n...\n...\n\n[ERROR] Failed to execute goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar (default-nar) on project nifi-decoder-processors-nar: Execution default-nar of goal org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar failed: A required class was missing while executing org.apache.nifi:nifi-nar-maven-plugin:1.3.1:nar: org/apache/nifi/lookup/LookupService\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    extension&gt;org.apache.nifi:nifi-nar-maven-plugin:1.3.1\n</code></pre>\n<p>So how do we use this LookupService in our custom processors?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677869601,"creation_date":1677869601,"answer_id":75630862,"question_id":75626593,"body_markdown":"Because you want to encapsulate a polymorphic value into the `Object`field of your `Field` class the task can be solved with a custom [`StdDeserializer`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html) deserializer distinguishing the three cases you indicated (string, array, and map). So if you take a simplified version of your classes like below:\r\n\r\n~~~\r\n@Data\r\npublic class Field {\r\n    @JsonDeserialize(using = OptionDeserializer.class)\r\n    private Object option;\r\n}\r\n\r\n@Data\r\npublic class DetFieldOption {\r\n    private String value;\r\n    private String label;\r\n}\r\n~~~\r\n\r\nYou can define a custom `stdDeserializer` that can return a different object in the three cases you indicated checking if the `JsonNode` option is a string, an array, or an object:\r\n\r\n~~~\r\npublic class OptionDeserializer extends StdDeserializer&lt;Object&gt; {\r\n\r\n    public OptionDeserializer() {\r\n        super(Object.class);\r\n    }\r\n\r\n    @Override\r\n    public Object deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        ObjectCodec codec = jp.getCodec();\r\n        JsonNode node = codec.readTree(jp);\r\n        //jsonnode is an array so it will be converted to DetFieldOption[]\r\n        if (node.isArray()) {\r\n            return codec.treeToValue(node, DetFieldOption[].class);\r\n        }\r\n        //jsonnode is a pojo so to convert it to a Map&lt;String, String&gt;\r\n        //it is necessary to define a new TypeReference\r\n        //no key as Integer because in a json keys are always string\r\n        //but you can convert them to integer if you need\r\n        if (node.isObject()) {\r\n            TypeReference typeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;(){};\r\n            Map&lt;String, String&gt; map = codec.readValue(codec.treeAsTokens(node),\r\n                    dc.getTypeFactory().constructType(typeRef));\r\n            return map;\r\n        }\r\n        //default case node is a string\r\n        return node.asText();\r\n    }\r\n}\r\n~~~\r\nThen you can convert json strings like the following below to `Field` objects:\r\n\r\n~~~\r\nString json3 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: &quot;myString&quot;}\r\n              &quot;&quot;&quot;;\r\n\r\nString json2 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: [{&quot;value&quot;: &quot;myValue&quot;}]}\r\n               &quot;&quot;&quot;;\r\nString json3 = &quot;&quot;&quot;\r\n                    {&quot;option&quot;: {&quot;1&quot;: &quot;myString1&quot;}}\r\n               &quot;&quot;&quot;;\r\nField field1 = mapper.readValue(json1, Field.class);\r\nField field2 = mapper.readValue(json2, Field.class);\r\nField field3 = mapper.readValue(json3, Field.class);\r\n~~~\r\n\r\n\r\n","title":"Mapping Typescript dynamic types into Java Object&#39;s subclasses","body":"<p>Because you want to encapsulate a polymorphic value into the <code>Object</code>field of your <code>Field</code> class the task can be solved with a custom <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/deser/std/StdDeserializer.html\" rel=\"nofollow noreferrer\"><code>StdDeserializer</code></a> deserializer distinguishing the three cases you indicated (string, array, and map). So if you take a simplified version of your classes like below:</p>\n<pre><code>@Data\npublic class Field {\n    @JsonDeserialize(using = OptionDeserializer.class)\n    private Object option;\n}\n\n@Data\npublic class DetFieldOption {\n    private String value;\n    private String label;\n}\n</code></pre>\n<p>You can define a custom <code>stdDeserializer</code> that can return a different object in the three cases you indicated checking if the <code>JsonNode</code> option is a string, an array, or an object:</p>\n<pre><code>public class OptionDeserializer extends StdDeserializer&lt;Object&gt; {\n\n    public OptionDeserializer() {\n        super(Object.class);\n    }\n\n    @Override\n    public Object deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        ObjectCodec codec = jp.getCodec();\n        JsonNode node = codec.readTree(jp);\n        //jsonnode is an array so it will be converted to DetFieldOption[]\n        if (node.isArray()) {\n            return codec.treeToValue(node, DetFieldOption[].class);\n        }\n        //jsonnode is a pojo so to convert it to a Map&lt;String, String&gt;\n        //it is necessary to define a new TypeReference\n        //no key as Integer because in a json keys are always string\n        //but you can convert them to integer if you need\n        if (node.isObject()) {\n            TypeReference typeRef = new TypeReference&lt;Map&lt;String, String&gt;&gt;(){};\n            Map&lt;String, String&gt; map = codec.readValue(codec.treeAsTokens(node),\n                    dc.getTypeFactory().constructType(typeRef));\n            return map;\n        }\n        //default case node is a string\n        return node.asText();\n    }\n}\n</code></pre>\n<p>Then you can convert json strings like the following below to <code>Field</code> objects:</p>\n<pre><code>String json3 = &quot;&quot;&quot;\n                    {&quot;option&quot;: &quot;myString&quot;}\n              &quot;&quot;&quot;;\n\nString json2 = &quot;&quot;&quot;\n                    {&quot;option&quot;: [{&quot;value&quot;: &quot;myValue&quot;}]}\n               &quot;&quot;&quot;;\nString json3 = &quot;&quot;&quot;\n                    {&quot;option&quot;: {&quot;1&quot;: &quot;myString1&quot;}}\n               &quot;&quot;&quot;;\nField field1 = mapper.readValue(json1, Field.class);\nField field2 = mapper.readValue(json2, Field.class);\nField field3 = mapper.readValue(json3, Field.class);\n</code></pre>\n"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ΕΨΗΕΛΩΝ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75630862,"answer_count":1,"score":2,"last_activity_date":1677869601,"creation_date":1677843394,"question_id":75626593,"body_markdown":"I have a Typescript model being sent as JSON request to my back end server. I can&#39;t change the model into a more engineered format, so I have to use what the client is going to send me.\r\n\r\nThe Typescript interface uses the pipe to perform polymorphism as shown below:\r\n\r\n```typescript\r\nexport interface Field {\r\n  align: &#39;center&#39; | &#39;left&#39;; // css property that does not work  disabled: boolean;\r\n  label: string;\r\n  readonly: boolean;\r\n  ref: string; // unique identifier  size: string; // css width  type: FIELD_TYPES;\r\n  value: string;\r\n  required: boolean;\r\n  visible: string; // &#39;true&#39; | &#39;plugin:...&#39;  \r\n  invisible: &#39;true&#39; | &#39;false&#39;; // never used  \r\n  optional: string; // just in 3 fields, never used \r\n  option:\r\n    | string // &#39;plugin:...&#39;    \r\n    | { value: string; label: string; disable?: string; labelEng?: string, valueOfAnswerInInterestType?: string }[] //FieldOption\r\n    | { 1?: string; 2?: string; 3?: string; 4?: string; 5?: string; 6?: string };  //Map&lt;Integer,String&gt;\r\n}\r\n```\r\n\r\nAs you can see, `option` can either be `String` or an array, or a plain POJO.\r\n\r\nWhat I need to achieve is to create a Jackson mapping and use Java&#39;s powerful `instanceof` operator to work on the deserialized class.\r\n\r\nLook at this target model:\r\n\r\n```java\r\n@Data\r\npublic class Field {    \r\n    private DetFieldAlignment align; // css property that does not work  disabled: boolean;    \r\n    ....\r\n    private String optional;//  just in 3 fields, never used    \r\n   \r\n    private Object option; // &#39;plugin:...&#39; | [{ value: 1, label: &#39;my value&#39; }, ...] | { &quot;1&quot;: &quot;Option one ...&quot;}\r\n}\r\n\r\n@Data\r\npublic class DetFieldOption {\r\n    private String value;\r\n    private String label;\r\n    private String disable;\r\n    ....\r\n}\r\n\r\n```\r\n\r\nI need to instruct Jackson about polymorphic serialization for the possible subclasses of `Object`, but I am having difficulty.\r\nI wrote JUnit tests to validate the result (`option instanceof String` vs check that every item in list is `instanceof FieldOption`) but obviously it&#39;s not working.\r\n\r\nWith the above model, a `String` is recognized in my test payload, but the array of `FieldOption` translated into an array of `LinkedHashMap`s\r\n\r\nWithout yet working on the case of `Map&lt;Integer,String&gt;`, I have tried to add the following polymorphic annotations to `Object option` field\r\n\r\n```java\r\n @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)    \r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(String.class),            \r\n        @JsonSubTypes.Type(FieldOption.class)     \r\n    })    \r\n```\r\n\r\nIt does not work with the following exception\r\n```\r\nCaused by: java.lang.IllegalStateException: Subtypes java.lang.String and java.lang.Object have the same signature and cannot be uniquely deduced.\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.buildFingerprints(AsDeductionTypeDeserializer.java:89)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.&lt;init&gt;(AsDeductionTypeDeserializer.java:48)\r\n    at com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder.buildTypeDeserializer(StdTypeResolverBuilder.java:166)\r\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findPropertyTypeDeserializer(BasicDeserializerFactory.java:2022)\r\n    ... 89 more\r\n```\r\n\r\nI can&#39;t control the payload coming from the front end, which means I can&#39;t ask the FE developers to add a type indication in the payload, especially considering that the object could be a String.\r\n\r\n## Question\r\nHow can I define a polymorphic serialization that deserializes into either:\r\n\r\n- java.lang.String\r\n- java.util.Collection&lt;FieldOption&gt;\r\n- java.util.Map&lt;Integer,String&gt;\r\n\r\nOf course, I don&#39;t expect keys to be other than integers\r\n","title":"Mapping Typescript dynamic types into Java Object&#39;s subclasses","body":"<p>I have a Typescript model being sent as JSON request to my back end server. I can't change the model into a more engineered format, so I have to use what the client is going to send me.</p>\n<p>The Typescript interface uses the pipe to perform polymorphism as shown below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>export interface Field {\n  align: 'center' | 'left'; // css property that does not work  disabled: boolean;\n  label: string;\n  readonly: boolean;\n  ref: string; // unique identifier  size: string; // css width  type: FIELD_TYPES;\n  value: string;\n  required: boolean;\n  visible: string; // 'true' | 'plugin:...'  \n  invisible: 'true' | 'false'; // never used  \n  optional: string; // just in 3 fields, never used \n  option:\n    | string // 'plugin:...'    \n    | { value: string; label: string; disable?: string; labelEng?: string, valueOfAnswerInInterestType?: string }[] //FieldOption\n    | { 1?: string; 2?: string; 3?: string; 4?: string; 5?: string; 6?: string };  //Map&lt;Integer,String&gt;\n}\n</code></pre>\n<p>As you can see, <code>option</code> can either be <code>String</code> or an array, or a plain POJO.</p>\n<p>What I need to achieve is to create a Jackson mapping and use Java's powerful <code>instanceof</code> operator to work on the deserialized class.</p>\n<p>Look at this target model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Field {    \n    private DetFieldAlignment align; // css property that does not work  disabled: boolean;    \n    ....\n    private String optional;//  just in 3 fields, never used    \n   \n    private Object option; // 'plugin:...' | [{ value: 1, label: 'my value' }, ...] | { &quot;1&quot;: &quot;Option one ...&quot;}\n}\n\n@Data\npublic class DetFieldOption {\n    private String value;\n    private String label;\n    private String disable;\n    ....\n}\n\n</code></pre>\n<p>I need to instruct Jackson about polymorphic serialization for the possible subclasses of <code>Object</code>, but I am having difficulty.\nI wrote JUnit tests to validate the result (<code>option instanceof String</code> vs check that every item in list is <code>instanceof FieldOption</code>) but obviously it's not working.</p>\n<p>With the above model, a <code>String</code> is recognized in my test payload, but the array of <code>FieldOption</code> translated into an array of <code>LinkedHashMap</code>s</p>\n<p>Without yet working on the case of <code>Map&lt;Integer,String&gt;</code>, I have tried to add the following polymorphic annotations to <code>Object option</code> field</p>\n<pre class=\"lang-java prettyprint-override\"><code> @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)    \n    @JsonSubTypes({\n        @JsonSubTypes.Type(String.class),            \n        @JsonSubTypes.Type(FieldOption.class)     \n    })    \n</code></pre>\n<p>It does not work with the following exception</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Subtypes java.lang.String and java.lang.Object have the same signature and cannot be uniquely deduced.\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.buildFingerprints(AsDeductionTypeDeserializer.java:89)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsDeductionTypeDeserializer.&lt;init&gt;(AsDeductionTypeDeserializer.java:48)\n    at com.fasterxml.jackson.databind.jsontype.impl.StdTypeResolverBuilder.buildTypeDeserializer(StdTypeResolverBuilder.java:166)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findPropertyTypeDeserializer(BasicDeserializerFactory.java:2022)\n    ... 89 more\n</code></pre>\n<p>I can't control the payload coming from the front end, which means I can't ask the FE developers to add a type indication in the payload, especially considering that the object could be a String.</p>\n<h2>Question</h2>\n<p>How can I define a polymorphic serialization that deserializes into either:</p>\n<ul>\n<li>java.lang.String</li>\n<li>java.util.Collection</li>\n<li>java.util.Map&lt;Integer,String&gt;</li>\n</ul>\n<p>Of course, I don't expect keys to be other than integers</p>\n"},{"tags":["java","jupyter-notebook","jupyter"],"answers":[{"tags":[],"owner":{"account_id":14690937,"reputation":3398,"user_id":10609635,"display_name":"SpencerPark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567552211,"creation_date":1567552211,"answer_id":57779666,"question_id":57614916,"body_markdown":"The kernel should work out of the box with no configuration required.\r\n\r\nFirst check that the kernel is properly installed with `jupyter kernelspec list` which should show where the kernel is installed. If `java` is not in that list, rewind a bit in the installation instructions to see where the problem is.\r\n\r\n```bash\r\njupyter kernelspec list\r\nAvailable kernels:\r\n  java       ...\\jupyter\\kernels\\java\r\n  python3    ...\\jupyter\\kernels\\python3\r\n```\r\n\r\n&gt; Install instructions copied for reference:\r\n&gt;\r\n&gt; 1.  Download the release from the [releases tab](https://github.com/SpencerPark/IJava/releases). A prepackaged\r\n&gt; distribution will be in an artifact named `ijava-$version.zip`.\r\n&gt; \r\n&gt; 2.  Unzip it into a temporary location. It should have at least the `install.py` and `java` folder extracted in there.\r\n&gt; \r\n&gt; 3.  Run the installer with the same python command used to install jupyter. The installer is a python script and has the same options as\r\n&gt; `jupyter kernelspec install` but additionally supports configuring\r\n&gt; some of the kernel properties mentioned further below in the README.\r\n&gt; \r\n&gt;     ```bash\r\n&gt;     # Pass the -h option to see the help page\r\n&gt;     &gt; python3 install.py -h\r\n&gt; \r\n&gt;     # Otherwise a common install command is\r\n&gt;     &gt; python3 install.py --sys-prefix\r\n&gt;     ```\r\n&gt; \r\n&gt; 4.  Check that it installed with `jupyter kernelspec list` which should contain `java`.\r\n\r\nCheck that the `jupyter --paths` includes the installation location returned by running the installer in step 3. Particularly if installing to `--sys-prefix` and there are multiple python installations on the system, you might be installing under the `sys.prefix` of an installation different from the `jupyter` command in your PATH. \r\n\r\n\r\nTo address the specific sub questions about configuration:\r\n\r\n&gt; Do I need to create variables in the environment variable with the list of names in column &quot;Environment variable&quot; and values in column &quot;Default&quot; from the table &quot;list of options&quot; shown in the step &quot;Configuring&quot;.\r\n\r\nThe table outlines what you _could_ change if needed. If an environment variable is undefined, the default value from the table is used.\r\n\r\n&gt; What do I need to do for steps &quot;Simple glob syntax&quot; and &quot;Changing VM/compiler options&quot; in the step configuring.\r\n\r\nSome configuration options specified files or directories. To keep things easy to use these options allow specifying paths with that &quot;Simple glob syntax&quot; which is a subset of an actual glob implementation that was enough to get the job done. \r\n\r\nChanging VM and compiler options is again optional. \r\n\r\n&gt; Do I need to start the Jupyter Notebooks normally like we do for the Python or else do I need to use any special commands ?. Currently when I am opening Jupyter Notebook I am not observing the option to create a Java notebook\r\n\r\nYep, start with `jupyter notebook` as usual and if installed correctly, a `Java` option should appear when changing the kernel or creating a new notebook. ","title":"How do I configure the kernel while iJAVA to use jupyter notebook for java codes","body":"<p>The kernel should work out of the box with no configuration required.</p>\n\n<p>First check that the kernel is properly installed with <code>jupyter kernelspec list</code> which should show where the kernel is installed. If <code>java</code> is not in that list, rewind a bit in the installation instructions to see where the problem is.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>jupyter kernelspec list\nAvailable kernels:\n  java       ...\\jupyter\\kernels\\java\n  python3    ...\\jupyter\\kernels\\python3\n</code></pre>\n\n<blockquote>\n  <p>Install instructions copied for reference:</p>\n  \n  <ol>\n  <li><p>Download the release from the <a href=\"https://github.com/SpencerPark/IJava/releases\" rel=\"nofollow noreferrer\">releases tab</a>. A prepackaged\n  distribution will be in an artifact named <code>ijava-$version.zip</code>.</p></li>\n  <li><p>Unzip it into a temporary location. It should have at least the <code>install.py</code> and <code>java</code> folder extracted in there.</p></li>\n  <li><p>Run the installer with the same python command used to install jupyter. The installer is a python script and has the same options as\n  <code>jupyter kernelspec install</code> but additionally supports configuring\n  some of the kernel properties mentioned further below in the README.</p>\n  \n  <pre class=\"lang-sh prettyprint-override\"><code># Pass the -h option to see the help page\n&gt; python3 install.py -h\n\n# Otherwise a common install command is\n&gt; python3 install.py --sys-prefix\n</code></pre></li>\n  <li><p>Check that it installed with <code>jupyter kernelspec list</code> which should contain <code>java</code>.</p></li>\n  </ol>\n</blockquote>\n\n<p>Check that the <code>jupyter --paths</code> includes the installation location returned by running the installer in step 3. Particularly if installing to <code>--sys-prefix</code> and there are multiple python installations on the system, you might be installing under the <code>sys.prefix</code> of an installation different from the <code>jupyter</code> command in your PATH. </p>\n\n<p>To address the specific sub questions about configuration:</p>\n\n<blockquote>\n  <p>Do I need to create variables in the environment variable with the list of names in column \"Environment variable\" and values in column \"Default\" from the table \"list of options\" shown in the step \"Configuring\".</p>\n</blockquote>\n\n<p>The table outlines what you <em>could</em> change if needed. If an environment variable is undefined, the default value from the table is used.</p>\n\n<blockquote>\n  <p>What do I need to do for steps \"Simple glob syntax\" and \"Changing VM/compiler options\" in the step configuring.</p>\n</blockquote>\n\n<p>Some configuration options specified files or directories. To keep things easy to use these options allow specifying paths with that \"Simple glob syntax\" which is a subset of an actual glob implementation that was enough to get the job done. </p>\n\n<p>Changing VM and compiler options is again optional. </p>\n\n<blockquote>\n  <p>Do I need to start the Jupyter Notebooks normally like we do for the Python or else do I need to use any special commands ?. Currently when I am opening Jupyter Notebook I am not observing the option to create a Java notebook</p>\n</blockquote>\n\n<p>Yep, start with <code>jupyter notebook</code> as usual and if installed correctly, a <code>Java</code> option should appear when changing the kernel or creating a new notebook. </p>\n"},{"tags":[],"owner":{"account_id":14192160,"reputation":11,"user_id":10252438,"display_name":"per"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594569539,"creation_date":1594569539,"answer_id":62863313,"question_id":57614916,"body_markdown":"For me the issue came between steps 2 and 3 in the installation instructions. Here is the solution: \r\n\r\nAfter completing step 2, open the command prompt and navigate to the temporary installation folder. For me it was Downloads\\ijava-1.3.0.\r\n\r\nRun the command jupyter kernelspec install java\r\n\r\nCheck for successful installation by running the command jupyter kernelspec list","title":"How do I configure the kernel while iJAVA to use jupyter notebook for java codes","body":"<p>For me the issue came between steps 2 and 3 in the installation instructions. Here is the solution:</p>\n<p>After completing step 2, open the command prompt and navigate to the temporary installation folder. For me it was Downloads\\ijava-1.3.0.</p>\n<p>Run the command jupyter kernelspec install java</p>\n<p>Check for successful installation by running the command jupyter kernelspec list</p>\n"}],"owner":{"account_id":11255765,"reputation":181,"user_id":8255626,"display_name":"ibrahim rupawala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677868940,"creation_date":1566497229,"question_id":57614916,"body_markdown":"I am trying to install iJAVA kernel to use Jupyter Notebooks for JAVA codes. I I have completed all the steps till &quot;Installing&quot; from the link https://github.com/SpencerPark/IJava. However I am not able to understand the steps from &quot;Configuring&quot;. \r\n\r\n1. Do I need to create variables in the environment variable with the list of names in column &quot;Environment variable&quot; and values in column &quot;Default&quot; from the table &quot;list of options&quot; shown in the step &quot;Configuring&quot;. \r\n2. What do I need to do for steps &quot;Simple glob syntax&quot; and &quot;Changing VM/compiler options&quot; in  the step configuring.\r\n3. Do I need to start the Jupyter Notebooks normally like we do for the Python or else do I need to use any special commands ?. Currently when I am opening Jupyter Notebook I am not observing the option to create a Java notebook\r\n\r\n\r\n\r\nI have already tried creating environment variable with the list of names in column &quot;Environment variable&quot; and values in column &quot;Default&quot; from the table &quot;list of options&quot; shown in the step &quot;Configuring&quot;. \r\n\r\nI am using:\r\n\r\n* Jupyter Notebook: Version 6.0.1\r\n* Python: 3\r\n* Java: jdk-12.0.2\r\n* Operating System: Windows 10\r\n* iJAVA: 1.3.0\r\n\r\nPlease notice that my end goal is to use jupyter notebook with Java Kernel as shown in the image below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan anyone help with these steps ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ZLQt.png","title":"How do I configure the kernel while iJAVA to use jupyter notebook for java codes","body":"<p>I am trying to install iJAVA kernel to use Jupyter Notebooks for JAVA codes. I I have completed all the steps till \"Installing\" from the link <a href=\"https://github.com/SpencerPark/IJava\" rel=\"nofollow noreferrer\">https://github.com/SpencerPark/IJava</a>. However I am not able to understand the steps from \"Configuring\". </p>\n\n<ol>\n<li>Do I need to create variables in the environment variable with the list of names in column \"Environment variable\" and values in column \"Default\" from the table \"list of options\" shown in the step \"Configuring\". </li>\n<li>What do I need to do for steps \"Simple glob syntax\" and \"Changing VM/compiler options\" in  the step configuring.</li>\n<li>Do I need to start the Jupyter Notebooks normally like we do for the Python or else do I need to use any special commands ?. Currently when I am opening Jupyter Notebook I am not observing the option to create a Java notebook</li>\n</ol>\n\n<p>I have already tried creating environment variable with the list of names in column \"Environment variable\" and values in column \"Default\" from the table \"list of options\" shown in the step \"Configuring\". </p>\n\n<p>I am using:</p>\n\n<ul>\n<li>Jupyter Notebook: Version 6.0.1</li>\n<li>Python: 3</li>\n<li>Java: jdk-12.0.2</li>\n<li>Operating System: Windows 10</li>\n<li>iJAVA: 1.3.0</li>\n</ul>\n\n<p>Please notice that my end goal is to use jupyter notebook with Java Kernel as shown in the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4ZLQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ZLQt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help with these steps ?</p>\n"},{"tags":["java","java-me","midp","httpconnection","java-wireless-toolkit"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675520805,"post_id":75345526,"comment_id":132948778,"body_markdown":"Looks like a TLS version issue. What happens if called from postman?","body":"Looks like a TLS version issue. What happens if called from postman?"}],"owner":{"account_id":27702408,"reputation":1,"user_id":21146737,"display_name":"kelkeke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677868746,"creation_date":1675518635,"question_id":75345526,"body_markdown":"I have written a J2ME application using WTK 2.5.2 with JDK 1.8.0_361 and JDK \r\n1.5.0_22.\r\n\r\nThe following code snippet is used to connect to an HTTP server and it works as expected.\r\n\r\n    try{\r\n        http = (HttpConnection)Connector.open(url);\r\n        http.setRequestMethod(HttpConnection.POST);\r\n\r\n        OutputStream os = http.openOutputStream();\r\n    \r\n        String params = &quot;XXXXXXXX&quot;;\r\n        os.write(params.getBytes());\r\n            \r\n        respCode = http.getResponseCode();\r\n    }catch(Exception e){\r\n        System.out.println(e);\r\n    }\r\n\r\nHowever, when trying to connect to an HTTPS site, it throws one of these two errors:\r\n\r\nGoogle:\r\n\r\n    java.io.IOException: Bad record type (21) or version (3.1)\r\n\t    at com.sun.midp.ssl.Record.rdRec(+284)\r\n\t    at com.sun.midp.ssl.Record.rdRec(+5)\r\n\t    at com.sun.midp.ssl.Handshake.getNextMsg(+17)\r\n\t    at com.sun.midp.ssl.Handshake.rcvSrvrHello(+5)\r\n\t    at com.sun.midp.ssl.Handshake.doHandShake(+29)\r\n\t    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+173)\r\n\t    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+12)\r\n\t    at com.sun.midp.io.j2me.https.Protocol.connect(+214)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.streamConnect(+57)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.startRequest(+12)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+38)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+6)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.getResponseCode(+8)\r\n\t    at whatsapp.WhatsAppClass.startApp(+34)\r\n\t    at javax.microedition.midlet.MIDletProxy.startApp(+7)\r\n\t    at com.sun.midp.midlet.Scheduler.schedule(+270)\r\n\t    at com.sun.midp.main.Main.runLocalClass(+28)\r\n\t    at com.sun.midp.main.Main.main(+80)\r\n  \r\nWikipedia:\r\n\r\n    java.io.IOException: Alert (2,40)\r\n    \tat com.sun.midp.ssl.Record.rdRec(+228)\r\n\t    at com.sun.midp.ssl.Handshake.getNextMsg(+17)\r\n\t    at com.sun.midp.ssl.Handshake.rcvSrvrHello(+5)\r\n\t    at com.sun.midp.ssl.Handshake.doHandShake(+29)\r\n\t    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+173)\r\n\t    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+12)\r\n\t    at com.sun.midp.io.j2me.https.Protocol.connect(+214)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.streamConnect(+57)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.startRequest(+12)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+38)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+6)\r\n\t    at com.sun.midp.io.j2me.http.Protocol.getResponseCode(+8)\r\n\t    at whatsapp.WhatsAppClass.startApp(+34)\r\n\t    at javax.microedition.midlet.MIDletProxy.startApp(+7)\r\n\t    at com.sun.midp.midlet.Scheduler.schedule(+270)\r\n\t    at com.sun.midp.main.Main.runLocalClass(+28)\r\n\t    at com.sun.midp.main.Main.main(+80)\r\n\r\n\r\nI have tried using HttpsConnection and switching to another WTK and JRE version.\r\n\r\nExporting the application to device shows another error:\r\n\r\n    java.io.IOException: Alert (2, 70)\r\n\r\n\r\nThanks in advance.","title":"Connect J2ME to HTTPS Server","body":"<p>I have written a J2ME application using WTK 2.5.2 with JDK 1.8.0_361 and JDK\n1.5.0_22.</p>\n<p>The following code snippet is used to connect to an HTTP server and it works as expected.</p>\n<pre><code>try{\n    http = (HttpConnection)Connector.open(url);\n    http.setRequestMethod(HttpConnection.POST);\n\n    OutputStream os = http.openOutputStream();\n\n    String params = &quot;XXXXXXXX&quot;;\n    os.write(params.getBytes());\n        \n    respCode = http.getResponseCode();\n}catch(Exception e){\n    System.out.println(e);\n}\n</code></pre>\n<p>However, when trying to connect to an HTTPS site, it throws one of these two errors:</p>\n<p>Google:</p>\n<pre><code>java.io.IOException: Bad record type (21) or version (3.1)\n    at com.sun.midp.ssl.Record.rdRec(+284)\n    at com.sun.midp.ssl.Record.rdRec(+5)\n    at com.sun.midp.ssl.Handshake.getNextMsg(+17)\n    at com.sun.midp.ssl.Handshake.rcvSrvrHello(+5)\n    at com.sun.midp.ssl.Handshake.doHandShake(+29)\n    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+173)\n    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+12)\n    at com.sun.midp.io.j2me.https.Protocol.connect(+214)\n    at com.sun.midp.io.j2me.http.Protocol.streamConnect(+57)\n    at com.sun.midp.io.j2me.http.Protocol.startRequest(+12)\n    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+38)\n    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+6)\n    at com.sun.midp.io.j2me.http.Protocol.getResponseCode(+8)\n    at whatsapp.WhatsAppClass.startApp(+34)\n    at javax.microedition.midlet.MIDletProxy.startApp(+7)\n    at com.sun.midp.midlet.Scheduler.schedule(+270)\n    at com.sun.midp.main.Main.runLocalClass(+28)\n    at com.sun.midp.main.Main.main(+80)\n</code></pre>\n<p>Wikipedia:</p>\n<pre><code>java.io.IOException: Alert (2,40)\n    at com.sun.midp.ssl.Record.rdRec(+228)\n    at com.sun.midp.ssl.Handshake.getNextMsg(+17)\n    at com.sun.midp.ssl.Handshake.rcvSrvrHello(+5)\n    at com.sun.midp.ssl.Handshake.doHandShake(+29)\n    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+173)\n    at com.sun.midp.ssl.SSLStreamConnection.&lt;init&gt;(+12)\n    at com.sun.midp.io.j2me.https.Protocol.connect(+214)\n    at com.sun.midp.io.j2me.http.Protocol.streamConnect(+57)\n    at com.sun.midp.io.j2me.http.Protocol.startRequest(+12)\n    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+38)\n    at com.sun.midp.io.j2me.http.Protocol.sendRequest(+6)\n    at com.sun.midp.io.j2me.http.Protocol.getResponseCode(+8)\n    at whatsapp.WhatsAppClass.startApp(+34)\n    at javax.microedition.midlet.MIDletProxy.startApp(+7)\n    at com.sun.midp.midlet.Scheduler.schedule(+270)\n    at com.sun.midp.main.Main.runLocalClass(+28)\n    at com.sun.midp.main.Main.main(+80)\n</code></pre>\n<p>I have tried using HttpsConnection and switching to another WTK and JRE version.</p>\n<p>Exporting the application to device shows another error:</p>\n<pre><code>java.io.IOException: Alert (2, 70)\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oauth-2.0","automated-tests","openid-connect","pkce"],"answers":[{"tags":[],"owner":{"account_id":24899824,"reputation":207,"user_id":18770645,"display_name":"Victor Navarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654003067,"creation_date":1654003067,"answer_id":72448527,"question_id":72447453,"body_markdown":"You need to have users credentials. \r\n\r\nThe Authorize endpoints start the flow and redirect you to the login form, where your automated test will have to type a valid email/password of a registered user. Then, after a successful login, you&#39;ll get the AUTHORIZATION_CODE that can be exchanged server-side for a token that can call the userInfo endpoint. ","title":"Automated Tests: OIDC: Authorization Code Flow with PKCE: Login credentials","body":"<p>You need to have users credentials.</p>\n<p>The Authorize endpoints start the flow and redirect you to the login form, where your automated test will have to type a valid email/password of a registered user. Then, after a successful login, you'll get the AUTHORIZATION_CODE that can be exchanged server-side for a token that can call the userInfo endpoint.</p>\n"},{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654162299,"creation_date":1654023471,"answer_id":72452890,"question_id":72447453,"body_markdown":"OpenID Connect authentication workflows can involve multiple redirects, automated form posts and entry of multiple factors. Therefore only the start and end of the redirect are standardized HTTP requests.\r\n\r\n**UI TESTS**\r\n\r\nIt is common to use tools such as [Selenium with Java](https://www.browserstack.com/guide/selenium-with-java-for-automated-test) to automate logins for test users and get credentials needed for API calls. This just involves actions such as button clicks and populating text controls. If 2FA is involved then this would typically be disabled for an automated test stage of your pipeline.\r\n\r\n**API TESTS**\r\n\r\nIf instead your requirement is to get access tokens for test user accounts and call APIs, then one option when testing APIs is to mock the IdP infrastructure for an automated test stage of the pipeline, where the mock implementation achieves identical technical results.\r\n\r\nThis technique involves using a JWT library to issue mock access tokens that must be identical to the real ones, with the same JWT header values, scopes and claims. The only difference is that there is a different JSON Web Signature. \r\n\r\nFor an example, see [this code of mine](https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/IntegrationTests.java), which uses Wiremock to simulate the IdP and return a JSON Web Keyset for testing. The API under test will use this so that its signature verification still works.\r\n\r\n**SUMMARY**\r\n\r\nSo the answer depends on where you want to focus your test efforts. The first option is useful for proving that end to end apps work. The second option can be useful for testing each API in isolation.","title":"Automated Tests: OIDC: Authorization Code Flow with PKCE: Login credentials","body":"<p>OpenID Connect authentication workflows can involve multiple redirects, automated form posts and entry of multiple factors. Therefore only the start and end of the redirect are standardized HTTP requests.</p>\n<p><strong>UI TESTS</strong></p>\n<p>It is common to use tools such as <a href=\"https://www.browserstack.com/guide/selenium-with-java-for-automated-test\" rel=\"nofollow noreferrer\">Selenium with Java</a> to automate logins for test users and get credentials needed for API calls. This just involves actions such as button clicks and populating text controls. If 2FA is involved then this would typically be disabled for an automated test stage of your pipeline.</p>\n<p><strong>API TESTS</strong></p>\n<p>If instead your requirement is to get access tokens for test user accounts and call APIs, then one option when testing APIs is to mock the IdP infrastructure for an automated test stage of the pipeline, where the mock implementation achieves identical technical results.</p>\n<p>This technique involves using a JWT library to issue mock access tokens that must be identical to the real ones, with the same JWT header values, scopes and claims. The only difference is that there is a different JSON Web Signature.</p>\n<p>For an example, see <a href=\"https://github.com/gary-archer/oauth.apisample.javaspringboot/blob/master/src/test/java/com/mycompany/sample/tests/IntegrationTests.java\" rel=\"nofollow noreferrer\">this code of mine</a>, which uses Wiremock to simulate the IdP and return a JSON Web Keyset for testing. The API under test will use this so that its signature verification still works.</p>\n<p><strong>SUMMARY</strong></p>\n<p>So the answer depends on where you want to focus your test efforts. The first option is useful for proving that end to end apps work. The second option can be useful for testing each API in isolation.</p>\n"}],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677868733,"creation_date":1653998590,"question_id":72447453,"body_markdown":"What is the best way to login in Java based automated End-to-End API tests using the OAuth2 / OpenID Connect Authorization Code Flow with PKCE?\r\n\r\nOur company uses its custom IdP server, but we tried to follow the call documented at [OAuth0][1] assuming the calls and responses are standardised. (Is this assumption correct?) \r\n\r\nThe &quot;GET code&quot; call (Authorization) looks like this:\r\n\r\n    https://&lt;company-idp-server-auth-url&gt;?response_type=code&amp;code_challenge=&lt;Code Challenge&gt;&amp;code_challenge_method=S256&amp;client_id=&lt;CLIENT ID&gt;&amp;redirect_uri=&lt;URL-encoded REDIRECT URI&gt;&amp;scope=openid%20customer&amp;state=&lt;SOME STATE&gt;&amp;lang=en\r\n\r\nAccording to the mentioned documentation we would expect a response like:\r\n\r\n    HTTP/1.1 302 Found\r\n    Location: YOUR_CALLBACK_URL?code=AUTHORIZATION_CODE&amp;state=xyzABC123\r\n\r\nFrom the response we could then extract the AUTHORIZATION_CODE value required by the next call (Token).\r\n\r\nBefore we get this response, however, we get redirected first to the &quot;check_login&quot; page and then to the &quot;login&quot; page, which returns an HTML form for login.\r\n\r\nWe tried to reverse engineer the required calls to send this form, but after a cryptic redirect we get further redirected to the login page again. We never get a response containing the AUTHORIZATION_CODE.\r\n\r\nIs this really the only way to pass the credentials or is there an easier way to bypass this HTML form? Or is there even a good Java library for this task?\r\n\r\n  [1]: https://auth0.com/docs/get-started/authentication-and-authorization-flow/call-your-api-using-the-authorization-code-flow-with-pkce","title":"Automated Tests: OIDC: Authorization Code Flow with PKCE: Login credentials","body":"<p>What is the best way to login in Java based automated End-to-End API tests using the OAuth2 / OpenID Connect Authorization Code Flow with PKCE?</p>\n<p>Our company uses its custom IdP server, but we tried to follow the call documented at <a href=\"https://auth0.com/docs/get-started/authentication-and-authorization-flow/call-your-api-using-the-authorization-code-flow-with-pkce\" rel=\"nofollow noreferrer\">OAuth0</a> assuming the calls and responses are standardised. (Is this assumption correct?)</p>\n<p>The &quot;GET code&quot; call (Authorization) looks like this:</p>\n<pre><code>https://&lt;company-idp-server-auth-url&gt;?response_type=code&amp;code_challenge=&lt;Code Challenge&gt;&amp;code_challenge_method=S256&amp;client_id=&lt;CLIENT ID&gt;&amp;redirect_uri=&lt;URL-encoded REDIRECT URI&gt;&amp;scope=openid%20customer&amp;state=&lt;SOME STATE&gt;&amp;lang=en\n</code></pre>\n<p>According to the mentioned documentation we would expect a response like:</p>\n<pre><code>HTTP/1.1 302 Found\nLocation: YOUR_CALLBACK_URL?code=AUTHORIZATION_CODE&amp;state=xyzABC123\n</code></pre>\n<p>From the response we could then extract the AUTHORIZATION_CODE value required by the next call (Token).</p>\n<p>Before we get this response, however, we get redirected first to the &quot;check_login&quot; page and then to the &quot;login&quot; page, which returns an HTML form for login.</p>\n<p>We tried to reverse engineer the required calls to send this form, but after a cryptic redirect we get further redirected to the login page again. We never get a response containing the AUTHORIZATION_CODE.</p>\n<p>Is this really the only way to pass the credentials or is there an easier way to bypass this HTML form? Or is there even a good Java library for this task?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1578973646,"post_id":59606822,"comment_id":105604547,"body_markdown":"[1] Is the `nbjavac` plugin definitely activated? To check, go to **Tools &gt; Plugins &gt; Installed**, search for `nbjavac`, and then verify that the **Active** column for the displayed entry for _&quot;The nb-javac Java editing support library&quot;_ (under the _Java_ Category) shows a green circle with a white check mark. [2] If it not activated then try to activate it. [3] Finally, restart NetBeans, and then update your question to show the content of the NetBeans log (**View &gt; IDE Log**) immediately after the restart.","body":"[1] Is the <code>nbjavac</code> plugin definitely activated? To check, go to <b>Tools &gt; Plugins &gt; Installed</b>, search for <code>nbjavac</code>, and then verify that the <b>Active</b> column for the displayed entry for <i>&quot;The nb-javac Java editing support library&quot;</i> (under the <i>Java</i> Category) shows a green circle with a white check mark. [2] If it not activated then try to activate it. [3] Finally, restart NetBeans, and then update your question to show the content of the NetBeans log (<b>View &gt; IDE Log</b>) immediately after the restart."}],"answers":[{"tags":[],"owner":{"account_id":10066453,"reputation":478,"user_id":7530263,"display_name":"Mehdi Fracso"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1584183849,"creation_date":1582668988,"answer_id":60403991,"question_id":59606822,"body_markdown":"In my case, the error occurred when I was trying to install Hibernate library and activating it in NetBeans, what I did was:\r\n\r\n1. Go to: http://plugins.netbeans.org/plugin/73454/nb-javac-library and download the plugin corresponding to your NetBeans version\r\n\r\n2. Unzip the archive then go to NetBeans: Tools -&gt; Plugins -&gt; Downloaded (Tab) -&gt; Add plugins then select the .nbm files you&#39;ve just unzipped\r\n\r\n3. Uninstall the plugin you were trying to install, restart NetBeans then reinstall the plugin you&#39;re trying to install\r\n","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>In my case, the error occurred when I was trying to install Hibernate library and activating it in NetBeans, what I did was:</p>\n\n<ol>\n<li><p>Go to: <a href=\"http://plugins.netbeans.org/plugin/73454/nb-javac-library\" rel=\"nofollow noreferrer\">http://plugins.netbeans.org/plugin/73454/nb-javac-library</a> and download the plugin corresponding to your NetBeans version</p></li>\n<li><p>Unzip the archive then go to NetBeans: Tools -> Plugins -> Downloaded (Tab) -> Add plugins then select the .nbm files you've just unzipped</p></li>\n<li><p>Uninstall the plugin you were trying to install, restart NetBeans then reinstall the plugin you're trying to install</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8324917,"reputation":556,"user_id":6255270,"display_name":"Bence Szebedy"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1613141812,"creation_date":1585050716,"answer_id":60830514,"question_id":59606822,"body_markdown":"I solved the exact same problem by **reinstalling the nb-javac plugin** (2.0) in my NetBeans (11.3)\r\n\r\n 1. Open NetBeans\r\n 2. Go to **Tools &gt; Plugins &gt; Installed**\r\n 3. Enable checkbox **&quot;Show details&quot;**\r\n 4. Search for javac to find the line **&quot;The nb-javac Java editing support library&quot;**\r\n 5. Select and uninstall\r\n 6. Restart NetBeans\r\n 7. NetBeans will recommend installing nb-javac in an info box. Just click on the link and follow instructions\r\n\r\n**UPDATE for NetBeans 12.1 &amp; NetBeans 12.2**\r\nThis solves the error message &quot;Cannot enable the nb-javac plugin&quot;","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>I solved the exact same problem by <strong>reinstalling the nb-javac plugin</strong> (2.0) in my NetBeans (11.3)</p>\n<ol>\n<li>Open NetBeans</li>\n<li>Go to <strong>Tools &gt; Plugins &gt; Installed</strong></li>\n<li>Enable checkbox <strong>&quot;Show details&quot;</strong></li>\n<li>Search for javac to find the line <strong>&quot;The nb-javac Java editing support library&quot;</strong></li>\n<li>Select and uninstall</li>\n<li>Restart NetBeans</li>\n<li>NetBeans will recommend installing nb-javac in an info box. Just click on the link and follow instructions</li>\n</ol>\n<p><strong>UPDATE for NetBeans 12.1 &amp; NetBeans 12.2</strong>\nThis solves the error message &quot;Cannot enable the nb-javac plugin&quot;</p>\n"},{"tags":[],"owner":{"account_id":19085459,"reputation":31,"user_id":13936826,"display_name":"Able Software"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594837977,"creation_date":1594829024,"answer_id":62919069,"question_id":59606822,"body_markdown":"so i solved same issue by first going to `C:\\Users...\\AppData\\Roaming\\NetBeans\\11.2\\modules` folder and deleted `org-netbeans-modules-nbjavac.jar`. \r\n\r\nAfter, I restarted Netbeans IDE. Go to:\r\n&gt; Windows -&gt; IDE Tools -&gt; Notifications\r\n\r\n to open the Notification Window and click the ***&quot;It is recommended to install nb-javac Library to improve Java editing experience and enable compile on save&quot;*** to reinstall the `nb-javac` library. \r\n\r\nRestarted after and worked for me.","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>so i solved same issue by first going to <code>C:\\Users...\\AppData\\Roaming\\NetBeans\\11.2\\modules</code> folder and deleted <code>org-netbeans-modules-nbjavac.jar</code>.</p>\n<p>After, I restarted Netbeans IDE. Go to:</p>\n<blockquote>\n<p>Windows -&gt; IDE Tools -&gt; Notifications</p>\n</blockquote>\n<p>to open the Notification Window and click the <em><strong>&quot;It is recommended to install nb-javac Library to improve Java editing experience and enable compile on save&quot;</strong></em> to reinstall the <code>nb-javac</code> library.</p>\n<p>Restarted after and worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18206750,"reputation":3,"user_id":13250039,"display_name":"Ashutosh Purohit"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1649332238,"creation_date":1601821904,"answer_id":64195907,"question_id":59606822,"body_markdown":"In my case IDE 12.1\r\nI re-activated nb-Javac JAVA editing support library.\r\nAnd that NOT from File&gt;New Projects, \r\ninstead, from home page Activate Features.\r\nAnd then i clicked IDE log.\r\n.....it worked.......","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>In my case IDE 12.1\nI re-activated nb-Javac JAVA editing support library.\nAnd that NOT from File&gt;New Projects,\ninstead, from home page Activate Features.\nAnd then i clicked IDE log.\n.....it worked.......</p>\n"},{"tags":[],"owner":{"account_id":16104,"reputation":2382,"user_id":34768,"accept_rate":56,"display_name":"iberck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677867810,"creation_date":1677866465,"answer_id":75630441,"question_id":59606822,"body_markdown":"In my case (netbeans 11.0) the error occurs because the Plugin Portal repository does not work, what I did was:\r\n\r\nGoto to Tools -&gt; Plugins -&gt; Settings\r\n\r\nEdit the link of Plugin Portal to the correct URL as per your Netbeans installation from the following link:\r\n\r\nhttps://cwiki.apache.org/confluence/display/NETBEANS/Where+to+download+plugins+for+NetBeans+10.0+and+earlier\r\n\r\nFor Netbeans 11.0 it is: http://plugins.archive.librebeans.org/catalogue/11.0/catalog.xml\r\n\r\n1. Go to Tools &gt; Plugins &gt; Available Plugins and press check for newest\r\n2. Search for javac to find the line &quot;nb-javac Library&quot;\r\n3. Select and install\r\n4. Restart NetBeans\r\n","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>In my case (netbeans 11.0) the error occurs because the Plugin Portal repository does not work, what I did was:</p>\n<p>Goto to Tools -&gt; Plugins -&gt; Settings</p>\n<p>Edit the link of Plugin Portal to the correct URL as per your Netbeans installation from the following link:</p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/NETBEANS/Where+to+download+plugins+for+NetBeans+10.0+and+earlier\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/NETBEANS/Where+to+download+plugins+for+NetBeans+10.0+and+earlier</a></p>\n<p>For Netbeans 11.0 it is: <a href=\"http://plugins.archive.librebeans.org/catalogue/11.0/catalog.xml\" rel=\"nofollow noreferrer\">http://plugins.archive.librebeans.org/catalogue/11.0/catalog.xml</a></p>\n<ol>\n<li>Go to Tools &gt; Plugins &gt; Available Plugins and press check for newest</li>\n<li>Search for javac to find the line &quot;nb-javac Library&quot;</li>\n<li>Select and install</li>\n<li>Restart NetBeans</li>\n</ol>\n"}],"owner":{"account_id":1542966,"reputation":3283,"user_id":1437164,"accept_rate":82,"display_name":"PolGraphic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49201,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1677867810,"creation_date":1578286109,"question_id":59606822,"body_markdown":"While working with NetBeans I have an error:\r\n\r\n&gt; Not all requested modules can be enabled: [StandardModule:org.netbeans.modules.nbjavac jarFile: C:\\Users\\...\\AppData\\Roaming\\NetBeans\\11.2\\modules\\org-netbeans-modules-nbjavac.jar]\r\n\r\nI believe it&#39;s connected to my problem with NetBeans hints for Java not being showed.\r\n\r\nThe file exists in `C:\\Users\\...\\AppData\\Roaming\\NetBeans\\11.2\\modules\\org-netbeans-modules-nbjavac.jar`. \r\n\r\nIt&#39;s the only module noted as missed.\r\n\r\nI am aware of popular problem will multiple modules noted as not possible to be enabled due to wrong JDK path. My path to JDK seems to be about right:\r\n\r\n    netbeans_jdkhome=&quot;D:\\Program Files\\Java\\jdk1.8.0_231&quot;\r\n\r\nIf I comment it out (as suggested in some solutions), than hints are working but project does not start because of multiple errors on TomEE (which works perfectly fine with the JDK uncommented):\r\n\r\n&gt; WARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.openejb.loader.TomcatClassPath$3 (file:/D:/Programming/apache-tomee-webprofile-7.0.2/lib/openejb-loader-7.0.2.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.openejb.loader.TomcatClassPath$3\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n06-Jan-2020 06:24:23.213 INFO [main] org.apache.openejb.util.OptionsLog.info Using &#39;openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator&#39;\r\n06-Jan-2020 06:24:23.230 SEVERE [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Catalina.start\r\n org.apache.catalina.LifecycleException: Failed to initialize component [StandardServer[8005]]\r\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:606)\r\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:629)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)\r\n\r\n&gt; 06-Jan-2020 06:24:23.231 WARNING [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Calling stop() on failed component [StandardServer[8005]] to trigger clean-up did not complete.\r\n org.apache.catalina.LifecycleException: Failed to stop component [StandardServer[8005]]\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:238)\r\n\tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:659)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\r\nCaused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [StandardService[Catalina]] in state [INITIALIZED]\r\n\tat org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:402)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:213)\r\n\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:812)\r\n\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\r\n\t... 8 more\r\n\r\n\r\nIs there a way to use my JDK and use hints?\r\n","title":"Not all requested modules can be enabled - org-netbeans-modules-nbjavac.jar","body":"<p>While working with NetBeans I have an error:</p>\n\n<blockquote>\n  <p>Not all requested modules can be enabled: [StandardModule:org.netbeans.modules.nbjavac jarFile: C:\\Users...\\AppData\\Roaming\\NetBeans\\11.2\\modules\\org-netbeans-modules-nbjavac.jar]</p>\n</blockquote>\n\n<p>I believe it's connected to my problem with NetBeans hints for Java not being showed.</p>\n\n<p>The file exists in <code>C:\\Users\\...\\AppData\\Roaming\\NetBeans\\11.2\\modules\\org-netbeans-modules-nbjavac.jar</code>. </p>\n\n<p>It's the only module noted as missed.</p>\n\n<p>I am aware of popular problem will multiple modules noted as not possible to be enabled due to wrong JDK path. My path to JDK seems to be about right:</p>\n\n<pre><code>netbeans_jdkhome=\"D:\\Program Files\\Java\\jdk1.8.0_231\"\n</code></pre>\n\n<p>If I comment it out (as suggested in some solutions), than hints are working but project does not start because of multiple errors on TomEE (which works perfectly fine with the JDK uncommented):</p>\n\n<blockquote>\n  <p>WARNING: An illegal reflective access operation has occurred\n  WARNING: Illegal reflective access by org.apache.openejb.loader.TomcatClassPath$3 (file:/D:/Programming/apache-tomee-webprofile-7.0.2/lib/openejb-loader-7.0.2.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\n  WARNING: Please consider reporting this to the maintainers of org.apache.openejb.loader.TomcatClassPath$3\n  WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\n  WARNING: All illegal access operations will be denied in a future release\n  06-Jan-2020 06:24:23.213 INFO [main] org.apache.openejb.util.OptionsLog.info Using 'openejb.jdbc.datasource-creator=org.apache.tomee.jdbc.TomEEDataSourceCreator'\n  06-Jan-2020 06:24:23.230 SEVERE [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Catalina.start\n   org.apache.catalina.LifecycleException: Failed to initialize component [StandardServer[8005]]\n      at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:112)\n      at org.apache.catalina.startup.Catalina.load(Catalina.java:606)\n      at org.apache.catalina.startup.Catalina.load(Catalina.java:629)\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n      at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:311)\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:494)</p>\n  \n  <p>06-Jan-2020 06:24:23.231 WARNING [main] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Calling stop() on failed component [StandardServer[8005]] to trigger clean-up did not complete.\n   org.apache.catalina.LifecycleException: Failed to stop component [StandardServer[8005]]\n      at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:238)\n      at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\n      at org.apache.catalina.startup.Catalina.start(Catalina.java:659)\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n      at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n      at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:355)\n      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:495)\n  Caused by: org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [StandardService[Catalina]] in state [INITIALIZED]\n      at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:402)\n      at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:213)\n      at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:812)\n      at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\n      ... 8 more</p>\n</blockquote>\n\n<p>Is there a way to use my JDK and use hints?</p>\n"},{"tags":["java","reflection","inner-classes"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1677861918,"post_id":75629696,"comment_id":133427029,"body_markdown":"Those generated classes are basically an implementation detail of the inner class.  Personally I don&#39;t worry about those classes, except occasionally when they appear during debugging.  I&#39;m kind of curious myself about your question, but I also suspect that appearing and disappearing constructor parameters will depend on the version of Java used and how that compiler decides to optimize the generated classes.  The details could change at any time.","body":"Those generated classes are basically an implementation detail of the inner class.  Personally I don&#39;t worry about those classes, except occasionally when they appear during debugging.  I&#39;m kind of curious myself about your question, but I also suspect that appearing and disappearing constructor parameters will depend on the version of Java used and how that compiler decides to optimize the generated classes.  The details could change at any time."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677866650,"creation_date":1677866650,"answer_id":75630470,"question_id":75629696,"body_markdown":"&gt; Okay extra val$interval is properly added but where is extra param com.example.TalkingClock in the constructor for `TalkingClock.this.beep`?\r\n\r\nIt isn&#39;t there because that wouldn&#39;t make any sense. Imagine you wrote `TalkingClock.this.beep.toLowerCase()` (and beep was a string) - would you expect a field for that too?\r\n\r\nThe thing you are referring to that needs to be available to the inner class is just `TalkingClock.this`, __that is all__ - once you have that, the code can simply invoke the field lookup for `beep` on this. Yes, it&#39;s private, but that&#39;s why the compiler actually made it package private (or, if you&#39;re doing this on JDK17, why there&#39;s a nestmates section). Access control and making sure all the things the inner class needs are available to it are mostly separate concerns. `javac` needs to do some fancy footwork to accomodate the fact that at the class file level inner class do not exist - for both of those concepts.\r\n\r\n`this$0` __is__ `TalkingClock.this`. Thus, `TalkingClock.this.beep` in java code turns, at the class file level, into:\r\n\r\nload up the `this$0` variable. Then fetch the `beep` field from the object that variable is pointing at.\r\n\r\n&gt; On the other hand I have written a reflection code.\r\n\r\nYou didn&#39;t paste this code so there&#39;s not much to say here.\r\n","title":"Java Inner Classes (reflection, javap -private) JDK 17","body":"<blockquote>\n<p>Okay extra val$interval is properly added but where is extra param com.example.TalkingClock in the constructor for <code>TalkingClock.this.beep</code>?</p>\n</blockquote>\n<p>It isn't there because that wouldn't make any sense. Imagine you wrote <code>TalkingClock.this.beep.toLowerCase()</code> (and beep was a string) - would you expect a field for that too?</p>\n<p>The thing you are referring to that needs to be available to the inner class is just <code>TalkingClock.this</code>, <strong>that is all</strong> - once you have that, the code can simply invoke the field lookup for <code>beep</code> on this. Yes, it's private, but that's why the compiler actually made it package private (or, if you're doing this on JDK17, why there's a nestmates section). Access control and making sure all the things the inner class needs are available to it are mostly separate concerns. <code>javac</code> needs to do some fancy footwork to accomodate the fact that at the class file level inner class do not exist - for both of those concepts.</p>\n<p><code>this$0</code> <strong>is</strong> <code>TalkingClock.this</code>. Thus, <code>TalkingClock.this.beep</code> in java code turns, at the class file level, into:</p>\n<p>load up the <code>this$0</code> variable. Then fetch the <code>beep</code> field from the object that variable is pointing at.</p>\n<blockquote>\n<p>On the other hand I have written a reflection code.</p>\n</blockquote>\n<p>You didn't paste this code so there's not much to say here.</p>\n"}],"owner":{"account_id":27842488,"reputation":15,"user_id":21258697,"display_name":"JavaStudent001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75630470,"answer_count":1,"score":1,"last_activity_date":1677867701,"creation_date":1677861522,"question_id":75629696,"body_markdown":"I want to know how inner classes mechanism works (JDK 17). I&#39;m reading a book Java and I&#39;m learning about inner classes.\r\n\r\nFor example I have this:\r\n\r\n```\r\npackage com.example;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.time.Instant;\r\n\r\npublic class TalkingClock {\r\n\r\n    private int interval;\r\n    private  boolean beep;\r\n\r\n\r\n    public TalkingClock(int interval, boolean beep) {\r\n        this.interval = interval;\r\n        this.beep = beep;\r\n    }\r\n    public void start(int interval, boolean beep) {\r\n        class TimePrinter implements ActionListener {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent actionEvent) {\r\n                System.out.println(&quot;Kiedy uslyszysz dzwiek, bedzie godzina &quot; + Instant.ofEpochMilli(actionEvent.getWhen()));\r\n                if(TalkingClock.this.beep) Toolkit.getDefaultToolkit().beep();\r\n                //System.out.println(interval);\r\n            }\r\n        }\r\n\r\n        var listener = new TimePrinter();\r\n        var timer = new Timer(interval, listener);\r\n        timer.start();\r\n    }\r\n}\r\n```\r\n\r\nAnd this info showed after had compiled the code and typed command: `javap -private com.example.TalkingClock\\$1TimePrinter`:\r\n\r\n\r\n```\r\nCompiled from &quot;TalkingClock.java&quot;\r\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener {\r\n  final com.example.TalkingClock this$0;\r\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock);\r\n  public void actionPerformed(java.awt.event.ActionEvent);\r\n}\r\n\r\n```\r\nOkay I can see extra param `com.example.TalkingClock` in the constructor.\r\nbut when I will uncomment `//System.out.println(interval);` in start() method, I can see:\r\n\r\n\r\n```\r\nCompiled from &quot;TalkingClock.java&quot;\r\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener {\r\n  final int val$interval;\r\n  final com.example.TalkingClock this$0;\r\n  com.example.TalkingClock$1TimePrinter();\r\n  public void actionPerformed(java.awt.event.ActionEvent);\r\n}\r\n\r\n```\r\nOkay extra `val$interval` is properly added but where is extra param `com.example.TalkingClock` in the constructor for `TalkingClock.this.beep`?\r\n\r\n\r\n\r\n\r\nOn the other hand I have written a reflection code.\r\n\r\nIn the first case it shows:\r\n\r\n```\r\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener{\r\n\r\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock);\r\n\r\n  public void actionPerformed(java.awt.event.ActionEvent);\r\n\r\n  final com.example.TalkingClock this$0;\r\n}\r\n```\r\n\r\nin the other:\r\n\r\n```\r\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener{\r\n\r\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock, int);\r\n\r\n  public void actionPerformed(java.awt.event.ActionEvent);\r\n\r\n  final int val$interval;\r\n  final com.example.TalkingClock this$0;\r\n}\r\n```\r\n\r\nAnd this info is logically for me. But why the tool javap shows me something else?\r\n\r\nThank you for help!!\r\n\r\n//edit\r\n\r\nThe reflection code:\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n        String name = &quot;com.example.TalkingClock$1TimePrinter&quot;;\r\n        Class cl = Class.forName(name);\r\n\r\n        String modifiers = Modifier.toString(cl.getModifiers());\r\n\r\n        if(modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\r\n        if(cl.isSealed()) System.out.print(&quot;sealed &quot; + name);\r\n        if(cl.isEnum()) System.out.println(&quot;enum &quot; + name);\r\n        if(cl.isRecord()) System.out.println(&quot;record &quot; + name);\r\n        if(cl.isInterface()) System.out.println(&quot;interface &quot; + name);\r\n        else System.out.print(&quot;class &quot; + name);\r\n\r\n        Class supercl = cl.getSuperclass();\r\n\r\n        if(supercl != null &amp;&amp; supercl != Object.class) System.out.print(&quot; extends &quot; + supercl.getName());\r\n\r\n        printInterfaces(cl);\r\n        printPermittedSubclasses(cl);\r\n        System.out.println(&quot;{\\n&quot;);\r\n        printConstructors(cl);\r\n        System.out.println();\r\n        printMethods(cl);\r\n        System.out.println();\r\n        printFields(cl);\r\n        System.out.println(&quot;}\\n&quot;);\r\n\r\n    }\r\n\r\n    public static void printInterfaces(Class cl) {\r\n        Class&lt;?&gt;[] interfaces = cl.getInterfaces();\r\n\r\n        for (int i = 0; i &lt; interfaces.length; i++) {\r\n            if (i == 0) {\r\n                System.out.print(cl.isInterface() ? &quot; extends &quot; : &quot; implements &quot;);\r\n            } else\r\n                System.out.print(&quot;, &quot;);\r\n            System.out.print(interfaces[i].getName());\r\n        }\r\n    }\r\n\r\n    public static void printConstructors(Class cl) {\r\n        Constructor[] constructors = cl.getDeclaredConstructors();\r\n\r\n        for (Constructor c : constructors) {\r\n            String name = c.getName();\r\n            System.out.print(&quot;  &quot;);\r\n            String modifiers = Modifier.toString(c.getModifiers());\r\n            if (modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\r\n            System.out.print(name + &quot;(&quot;);\r\n\r\n            Class[] paramTypes = c.getParameterTypes();\r\n\r\n            for (int j = 0; j &lt; paramTypes.length; j++) {\r\n                if (j &gt; 0) System.out.print(&quot;, &quot;);\r\n                System.out.print(paramTypes[j].getName());\r\n            }\r\n            System.out.println(&quot;);&quot;);\r\n        }\r\n    }\r\n\r\n    public static void printMethods(Class cl) {\r\n        Method[] methods = cl.getDeclaredMethods();\r\n\r\n        for (Method m : methods) {\r\n            Class retType = m.getReturnType();\r\n            String name = m.getName();\r\n            System.out.print(&quot;  &quot;);\r\n\r\n            String modifiers = Modifier.toString(m.getModifiers());\r\n\r\n            if (modifiers.length() &gt; 0)\r\n                System.out.print(modifiers + &quot; &quot;);\r\n            System.out.print(retType.getName() + &quot; &quot; + name + &quot;(&quot;);\r\n\r\n            Class[] paramTypes = m.getParameterTypes();\r\n\r\n            for (int j = 0; j &lt; paramTypes.length; j++) {\r\n                if (j &gt; 0)\r\n                    System.out.print(&quot;, &quot;);\r\n                System.out.print(paramTypes[j].getName());\r\n            }\r\n            System.out.println(&quot;);&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    public static void printFields(Class cl) {\r\n        Field[] fields = cl.getDeclaredFields();\r\n\r\n        for (Field f : fields) {\r\n            Class type = f.getType();\r\n\r\n            String name = f.getName();\r\n            System.out.print(&quot;  &quot;);\r\n            String modifiers = Modifier.toString(f.getModifiers());\r\n\r\n            if (modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\r\n            System.out.println(type.getName() + &quot; &quot; + name + &quot;;&quot;);\r\n        }\r\n    }\r\n\r\n    public static void printPermittedSubclasses(Class cl) {\r\n        if (cl.isSealed()) {\r\n            Class&lt;?&gt;[] permittedSubclasses = cl.getPermittedSubclasses();\r\n\r\n            for (int i = 0; i &lt; permittedSubclasses.length; i++) {\r\n                if (i == 0)\r\n                    System.out.print(&quot; permits &quot;);\r\n                else\r\n                    System.out.print(&quot;, &quot;);\r\n                System.out.print(permittedSubclasses[i].getName());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Java Inner Classes (reflection, javap -private) JDK 17","body":"<p>I want to know how inner classes mechanism works (JDK 17). I'm reading a book Java and I'm learning about inner classes.</p>\n<p>For example I have this:</p>\n<pre><code>package com.example;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Instant;\n\npublic class TalkingClock {\n\n    private int interval;\n    private  boolean beep;\n\n\n    public TalkingClock(int interval, boolean beep) {\n        this.interval = interval;\n        this.beep = beep;\n    }\n    public void start(int interval, boolean beep) {\n        class TimePrinter implements ActionListener {\n\n            @Override\n            public void actionPerformed(ActionEvent actionEvent) {\n                System.out.println(&quot;Kiedy uslyszysz dzwiek, bedzie godzina &quot; + Instant.ofEpochMilli(actionEvent.getWhen()));\n                if(TalkingClock.this.beep) Toolkit.getDefaultToolkit().beep();\n                //System.out.println(interval);\n            }\n        }\n\n        var listener = new TimePrinter();\n        var timer = new Timer(interval, listener);\n        timer.start();\n    }\n}\n</code></pre>\n<p>And this info showed after had compiled the code and typed command: <code>javap -private com.example.TalkingClock\\$1TimePrinter</code>:</p>\n<pre><code>Compiled from &quot;TalkingClock.java&quot;\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener {\n  final com.example.TalkingClock this$0;\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock);\n  public void actionPerformed(java.awt.event.ActionEvent);\n}\n\n</code></pre>\n<p>Okay I can see extra param <code>com.example.TalkingClock</code> in the constructor.\nbut when I will uncomment <code>//System.out.println(interval);</code> in start() method, I can see:</p>\n<pre><code>Compiled from &quot;TalkingClock.java&quot;\nclass com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener {\n  final int val$interval;\n  final com.example.TalkingClock this$0;\n  com.example.TalkingClock$1TimePrinter();\n  public void actionPerformed(java.awt.event.ActionEvent);\n}\n\n</code></pre>\n<p>Okay extra <code>val$interval</code> is properly added but where is extra param <code>com.example.TalkingClock</code> in the constructor for <code>TalkingClock.this.beep</code>?</p>\n<p>On the other hand I have written a reflection code.</p>\n<p>In the first case it shows:</p>\n<pre><code>class com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener{\n\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock);\n\n  public void actionPerformed(java.awt.event.ActionEvent);\n\n  final com.example.TalkingClock this$0;\n}\n</code></pre>\n<p>in the other:</p>\n<pre><code>class com.example.TalkingClock$1TimePrinter implements java.awt.event.ActionListener{\n\n  com.example.TalkingClock$1TimePrinter(com.example.TalkingClock, int);\n\n  public void actionPerformed(java.awt.event.ActionEvent);\n\n  final int val$interval;\n  final com.example.TalkingClock this$0;\n}\n</code></pre>\n<p>And this info is logically for me. But why the tool javap shows me something else?</p>\n<p>Thank you for help!!</p>\n<p>//edit</p>\n<p>The reflection code:</p>\n<pre><code>public static void main(String[] args) throws ClassNotFoundException {\n\n    String name = &quot;com.example.TalkingClock$1TimePrinter&quot;;\n    Class cl = Class.forName(name);\n\n    String modifiers = Modifier.toString(cl.getModifiers());\n\n    if(modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\n    if(cl.isSealed()) System.out.print(&quot;sealed &quot; + name);\n    if(cl.isEnum()) System.out.println(&quot;enum &quot; + name);\n    if(cl.isRecord()) System.out.println(&quot;record &quot; + name);\n    if(cl.isInterface()) System.out.println(&quot;interface &quot; + name);\n    else System.out.print(&quot;class &quot; + name);\n\n    Class supercl = cl.getSuperclass();\n\n    if(supercl != null &amp;&amp; supercl != Object.class) System.out.print(&quot; extends &quot; + supercl.getName());\n\n    printInterfaces(cl);\n    printPermittedSubclasses(cl);\n    System.out.println(&quot;{\\n&quot;);\n    printConstructors(cl);\n    System.out.println();\n    printMethods(cl);\n    System.out.println();\n    printFields(cl);\n    System.out.println(&quot;}\\n&quot;);\n\n}\n\npublic static void printInterfaces(Class cl) {\n    Class&lt;?&gt;[] interfaces = cl.getInterfaces();\n\n    for (int i = 0; i &lt; interfaces.length; i++) {\n        if (i == 0) {\n            System.out.print(cl.isInterface() ? &quot; extends &quot; : &quot; implements &quot;);\n        } else\n            System.out.print(&quot;, &quot;);\n        System.out.print(interfaces[i].getName());\n    }\n}\n\npublic static void printConstructors(Class cl) {\n    Constructor[] constructors = cl.getDeclaredConstructors();\n\n    for (Constructor c : constructors) {\n        String name = c.getName();\n        System.out.print(&quot;  &quot;);\n        String modifiers = Modifier.toString(c.getModifiers());\n        if (modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\n        System.out.print(name + &quot;(&quot;);\n\n        Class[] paramTypes = c.getParameterTypes();\n\n        for (int j = 0; j &lt; paramTypes.length; j++) {\n            if (j &gt; 0) System.out.print(&quot;, &quot;);\n            System.out.print(paramTypes[j].getName());\n        }\n        System.out.println(&quot;);&quot;);\n    }\n}\n\npublic static void printMethods(Class cl) {\n    Method[] methods = cl.getDeclaredMethods();\n\n    for (Method m : methods) {\n        Class retType = m.getReturnType();\n        String name = m.getName();\n        System.out.print(&quot;  &quot;);\n\n        String modifiers = Modifier.toString(m.getModifiers());\n\n        if (modifiers.length() &gt; 0)\n            System.out.print(modifiers + &quot; &quot;);\n        System.out.print(retType.getName() + &quot; &quot; + name + &quot;(&quot;);\n\n        Class[] paramTypes = m.getParameterTypes();\n\n        for (int j = 0; j &lt; paramTypes.length; j++) {\n            if (j &gt; 0)\n                System.out.print(&quot;, &quot;);\n            System.out.print(paramTypes[j].getName());\n        }\n        System.out.println(&quot;);&quot;);\n\n    }\n}\n\npublic static void printFields(Class cl) {\n    Field[] fields = cl.getDeclaredFields();\n\n    for (Field f : fields) {\n        Class type = f.getType();\n\n        String name = f.getName();\n        System.out.print(&quot;  &quot;);\n        String modifiers = Modifier.toString(f.getModifiers());\n\n        if (modifiers.length() &gt; 0) System.out.print(modifiers + &quot; &quot;);\n        System.out.println(type.getName() + &quot; &quot; + name + &quot;;&quot;);\n    }\n}\n\npublic static void printPermittedSubclasses(Class cl) {\n    if (cl.isSealed()) {\n        Class&lt;?&gt;[] permittedSubclasses = cl.getPermittedSubclasses();\n\n        for (int i = 0; i &lt; permittedSubclasses.length; i++) {\n            if (i == 0)\n                System.out.print(&quot; permits &quot;);\n            else\n                System.out.print(&quot;, &quot;);\n            System.out.print(permittedSubclasses[i].getName());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","api","soapui"],"owner":{"account_id":2091239,"reputation":1003,"user_id":1861033,"accept_rate":50,"display_name":"shaiksha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677867678,"creation_date":1677867678,"question_id":75630602,"body_markdown":"I am trying to call a findAPI where I want to filterout the resulkts based on the field statementDate. But for some reason the filter is being ignored and returning 0 rows. when I remove the filter and call the api it returns rows which has the value I was setting in the filter.\r\nNote: when I call the same API from a java client it returns correct results. The old difference between the java client request and soap request is the filter type.\r\nIn java client I am setting DateEquals FilterCriteris but in Soap request there is no such filter\r\n\r\n1. what is the filed &lt;to_date&gt; used for and what value we can set here\r\n\r\nElement from the soap request\r\n============================\r\n  \r\n\r\n      &lt;statementDate&gt;\r\n              &lt;!--Optional:--&gt;\r\n              &lt;caseInsensitive&gt;?&lt;/caseInsensitive&gt;\r\n              &lt;!--Optional:--&gt;\r\n              &lt;fetch&gt;?&lt;/fetch&gt;\r\n              &lt;!--Optional:--&gt;\r\n              &lt;filters&gt;\r\n                 &lt;!--You have a CHOICE of the next 11 items at this level--&gt;\r\n                 &lt;Between&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                        &lt;lowerBound&gt;?&lt;/lowerBound&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                       &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                       &lt;upperBound&gt;?&lt;/upperBound&gt;\r\n                 &lt;/Between&gt;\r\n                 &lt;Equals&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    \r\n             &lt;orFilterGroupName&gt;com.comverse.api.framework.filter.DateEquals&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/Equals&gt;\r\n                 &lt;GreaterThanEquals&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/GreaterThanEquals&gt;\r\n                 &lt;GreaterThan&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/GreaterThan&gt;\r\n                 &lt;In&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Zero or more repetitions:--&gt;\r\n                    &lt;values&gt;?&lt;/values&gt;\r\n                 &lt;/In&gt;\r\n                 &lt;IsNull&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                 &lt;/IsNull&gt;\r\n                 &lt;LessThan&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/LessThan&gt;\r\n                 &lt;LessThanEquals&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/LessThanEquals&gt;\r\n                 &lt;Like&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/Like&gt;\r\n                 &lt;OuterJoin&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;value&gt;?&lt;/value&gt;\r\n                 &lt;/OuterJoin&gt;\r\n                 &lt;XPath&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;xml&gt;?&lt;/xml&gt;\r\n                    &lt;!--Optional:--&gt;\r\n                    &lt;xpath&gt;?&lt;/xpath&gt;\r\n                 &lt;/XPath&gt;\r\n              &lt;/filters&gt;\r\n              &lt;!--Optional:--&gt;\r\n              &lt;toDate&gt;?&lt;/toDate&gt;\r\n           &lt;/statementDate&gt;\r\n\r\nValues I am passing are as below\r\n=================================  \r\n            \r\n\r\n          &lt;statementDate&gt;\r\n                  &lt;caseInsensitive&gt;true&lt;/caseInsensitive&gt;\r\n              &lt;filters&gt;\r\n                 &lt;Equals&gt;\r\n                    &lt;negated&gt;false&lt;/negated&gt;\r\n                    &lt;value&gt;Wed Aug 28 00:00:00 AST 2013&lt;/value&gt;\r\n                 &lt;/Equals&gt;\r\n              &lt;/filters&gt;\r\n           &lt;/statementDate&gt;\r\n\r\n","title":"How to set Date filter in soap-xml request while calling an API","body":"<p>I am trying to call a findAPI where I want to filterout the resulkts based on the field statementDate. But for some reason the filter is being ignored and returning 0 rows. when I remove the filter and call the api it returns rows which has the value I was setting in the filter.\nNote: when I call the same API from a java client it returns correct results. The old difference between the java client request and soap request is the filter type.\nIn java client I am setting DateEquals FilterCriteris but in Soap request there is no such filter</p>\n<ol>\n<li>what is the filed &lt;to_date&gt; used for and what value we can set here</li>\n</ol>\n<h1>Element from the soap request</h1>\n<pre><code>  &lt;statementDate&gt;\n          &lt;!--Optional:--&gt;\n          &lt;caseInsensitive&gt;?&lt;/caseInsensitive&gt;\n          &lt;!--Optional:--&gt;\n          &lt;fetch&gt;?&lt;/fetch&gt;\n          &lt;!--Optional:--&gt;\n          &lt;filters&gt;\n             &lt;!--You have a CHOICE of the next 11 items at this level--&gt;\n             &lt;Between&gt;\n                &lt;!--Optional:--&gt;\n                    &lt;lowerBound&gt;?&lt;/lowerBound&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                   &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                   &lt;upperBound&gt;?&lt;/upperBound&gt;\n             &lt;/Between&gt;\n             &lt;Equals&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                \n         &lt;orFilterGroupName&gt;com.comverse.api.framework.filter.DateEquals&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/Equals&gt;\n             &lt;GreaterThanEquals&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/GreaterThanEquals&gt;\n             &lt;GreaterThan&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/GreaterThan&gt;\n             &lt;In&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Zero or more repetitions:--&gt;\n                &lt;values&gt;?&lt;/values&gt;\n             &lt;/In&gt;\n             &lt;IsNull&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n             &lt;/IsNull&gt;\n             &lt;LessThan&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/LessThan&gt;\n             &lt;LessThanEquals&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/LessThanEquals&gt;\n             &lt;Like&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/Like&gt;\n             &lt;OuterJoin&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;value&gt;?&lt;/value&gt;\n             &lt;/OuterJoin&gt;\n             &lt;XPath&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;!--Optional:--&gt;\n                &lt;orFilterGroupName&gt;?&lt;/orFilterGroupName&gt;\n                &lt;!--Optional:--&gt;\n                &lt;xml&gt;?&lt;/xml&gt;\n                &lt;!--Optional:--&gt;\n                &lt;xpath&gt;?&lt;/xpath&gt;\n             &lt;/XPath&gt;\n          &lt;/filters&gt;\n          &lt;!--Optional:--&gt;\n          &lt;toDate&gt;?&lt;/toDate&gt;\n       &lt;/statementDate&gt;\n</code></pre>\n<h1>Values I am passing are as below</h1>\n<pre><code>      &lt;statementDate&gt;\n              &lt;caseInsensitive&gt;true&lt;/caseInsensitive&gt;\n          &lt;filters&gt;\n             &lt;Equals&gt;\n                &lt;negated&gt;false&lt;/negated&gt;\n                &lt;value&gt;Wed Aug 28 00:00:00 AST 2013&lt;/value&gt;\n             &lt;/Equals&gt;\n          &lt;/filters&gt;\n       &lt;/statementDate&gt;\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":6410924,"reputation":33,"user_id":6242419,"display_name":"TheMathGeek_314"},"score":0,"creation_date":1574193122,"post_id":58941724,"comment_id":104142059,"body_markdown":"I was on the debug perspective. That fixed it, thank you!","body":"I was on the debug perspective. That fixed it, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":6078,"reputation":61187,"user_id":10077,"accept_rate":90,"display_name":"Fred Larson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574193196,"creation_date":1574193196,"answer_id":58941878,"question_id":58941724,"body_markdown":"Make sure you&#39;re in the right perspective. I see what you&#39;re looking for if I&#39;m in the &quot;Java&quot; perspective, but not in other perspectives, such as &quot;Java EE&quot; or &quot;Debug&quot;.\r\n\r\nA &quot;perspective&quot; in Eclipse is the set of panes, toolbars, menus, etc. for a particular purpose. There should be toolbar buttons all the way on the right for them.","title":"How to customize &#39;new&#39; option in Eclipse","body":"<p>Make sure you're in the right perspective. I see what you're looking for if I'm in the \"Java\" perspective, but not in other perspectives, such as \"Java EE\" or \"Debug\".</p>\n\n<p>A \"perspective\" in Eclipse is the set of panes, toolbars, menus, etc. for a particular purpose. There should be toolbar buttons all the way on the right for them.</p>\n"},{"tags":[],"owner":{"account_id":27880088,"reputation":11,"user_id":21288737,"display_name":"Ebad Zalmai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677867574,"creation_date":1677372669,"answer_id":75569365,"question_id":58941724,"body_markdown":"In order to customize new option in Eclipse, On  the top of Eclipse, click on `Window`, `Navigate to &gt; Perspective &gt; Customize Perspective &gt; Menu Visibility &gt; file &gt; new.`\r\nNow you can customize new option.","title":"How to customize &#39;new&#39; option in Eclipse","body":"<p>In order to customize new option in Eclipse, On  the top of Eclipse, click on <code>Window</code>, <code>Navigate to &gt; Perspective &gt; Customize Perspective &gt; Menu Visibility &gt; file &gt; new.</code>\nNow you can customize new option.</p>\n"}],"owner":{"account_id":6410924,"reputation":33,"user_id":6242419,"display_name":"TheMathGeek_314"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58941878,"answer_count":2,"score":1,"last_activity_date":1677867574,"creation_date":1574192464,"question_id":58941724,"body_markdown":"When I&#39;m using Eclipse to code in Java, I want to use the &#39;New&#39; button (located below File, Edit...) to create a new class. I know it&#39;s possible because I&#39;ve been able to use it like that on a different computer. However, the only options displayed are &quot;Project&quot;, &quot;Example&quot;, &quot;Other...&quot;. So I have to select other and go find &quot;Class&quot;.\r\n\r\nI want a way to modify this list to include Java Project, Class, and whatever else I need. It&#39;s the same story when I right-click the src folder in the package explorer. I want to make a class in that folder, but I have to click other, navigate the new window to class, etc.\r\n\r\nCan this be simplified?","title":"How to customize &#39;new&#39; option in Eclipse","body":"<p>When I'm using Eclipse to code in Java, I want to use the 'New' button (located below File, Edit...) to create a new class. I know it's possible because I've been able to use it like that on a different computer. However, the only options displayed are \"Project\", \"Example\", \"Other...\". So I have to select other and go find \"Class\".</p>\n\n<p>I want a way to modify this list to include Java Project, Class, and whatever else I need. It's the same story when I right-click the src folder in the package explorer. I want to make a class in that folder, but I have to click other, navigate the new window to class, etc.</p>\n\n<p>Can this be simplified?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1649752797,"post_id":71839329,"comment_id":126949693,"body_markdown":"what is version of Elasticsearch and highlevel client ?","body":"what is version of Elasticsearch and highlevel client ?"},{"owner":{"account_id":15363131,"reputation":45,"user_id":11083411,"display_name":"Aditya Pandey"},"score":0,"creation_date":1649753599,"post_id":71839329,"comment_id":126950004,"body_markdown":"Elasticsearch version is 7.9.2  other than that I am using spring-boot-starter-data-elasticsearch dependency with default version. Haven&#39;t added any dependency for highlevel client. Where can I check the version for the same?","body":"Elasticsearch version is 7.9.2  other than that I am using spring-boot-starter-data-elasticsearch dependency with default version. Haven&#39;t added any dependency for highlevel client. Where can I check the version for the same?"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1649754521,"post_id":71839329,"comment_id":126950338,"body_markdown":"Can you try to provide `version` for [spring-boot-starter-data-elasticsearch](https://docs.spring.io/spring-data/elasticsearch/docs/current-SNAPSHOT/reference/html/#reference) as `4.1` and try. because your elasticsearch version is 7.9.2 and as you are using default version for `spring-boot-starter-data-elasticsearch` it is using latest api of Elasticsearch. As mentioned [here](https://github.com/elastic/elasticsearch/issues/58468) `zero_terms_query` is supported in greater then 7.10 version.","body":"Can you try to provide <code>version</code> for <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current-SNAPSHOT/reference/html/#reference\" rel=\"nofollow noreferrer\">spring-boot-starter-data-elasticsearch</a> as <code>4.1</code> and try. because your elasticsearch version is 7.9.2 and as you are using default version for <code>spring-boot-starter-data-elasticsearch</code> it is using latest api of Elasticsearch. As mentioned <a href=\"https://github.com/elastic/elasticsearch/issues/58468\" rel=\"nofollow noreferrer\">here</a> <code>zero_terms_query</code> is supported in greater then 7.10 version."},{"owner":{"account_id":15363131,"reputation":45,"user_id":11083411,"display_name":"Aditya Pandey"},"score":0,"creation_date":1649755167,"post_id":71839329,"comment_id":126950540,"body_markdown":"spring-boot-starter-data-elasticsearch latest version is 2.6.6 checked from [here](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch) which is throwing the same exception.","body":"spring-boot-starter-data-elasticsearch latest version is 2.6.6 checked from <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch\" rel=\"nofollow noreferrer\">here</a> which is throwing the same exception."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1649755893,"post_id":71839329,"comment_id":126950806,"body_markdown":"Can you please try `2.4.13` version of `spring-boot-starter-data-elasticsearch` as it use internally `7.9.3` version of `elastic high level client`.","body":"Can you please try <code>2.4.13</code> version of <code>spring-boot-starter-data-elasticsearch</code> as it use internally <code>7.9.3</code> version of <code>elastic high level client</code>."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1649755986,"post_id":71839329,"comment_id":126950846,"body_markdown":"`spring-boot-starter-data-elasticsearch` 2.6.6 version use ES highlevel client 7.15.2 that why this issue.","body":"<code>spring-boot-starter-data-elasticsearch</code> 2.6.6 version use ES highlevel client 7.15.2 that why this issue."},{"owner":{"account_id":15363131,"reputation":45,"user_id":11083411,"display_name":"Aditya Pandey"},"score":0,"creation_date":1649757362,"post_id":71839329,"comment_id":126951357,"body_markdown":"tried with 2.4.13 version, still facing same issue","body":"tried with 2.4.13 version, still facing same issue"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1649758708,"post_id":71839329,"comment_id":126951826,"body_markdown":"Please check pom.xml file have proper depenandacy or not. can you do maven project update after updating pom.xml file. you can see my below updated answer and with version `2.4.13` it is not adding `zero_terms_query ` param in query.","body":"Please check pom.xml file have proper depenandacy or not. can you do maven project update after updating pom.xml file. you can see my below updated answer and with version <code>2.4.13</code> it is not adding <code>zero_terms_query </code> param in query."}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649758617,"creation_date":1649756241,"answer_id":71840348,"question_id":71839329,"body_markdown":"As i mentioned in comment, You can use `spring-boot-starter-data-elasticsearch` with `2.4.13`  version as it is use Elastic Java high level client with  `7.9.3` version.\r\n\r\nIf you used `spring-boot-starter-data-elasticsearch` which is using Elastic high level client version greater then 7.10 version then you will face this issue. As `match_phrase_prefix` support `zero_terms_query` after Elasticsearch 7.10 version as mentioned [here][1].\r\n\r\n**Update**\r\n\r\nI have added below depenadancy in pom.xml file as i suggsted:\r\n```xml\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\nbelow is query generation in Java:\r\n```java\r\nSearchRequest searchRequest = new SearchRequest(&quot;company&quot;);\r\n\t\tSearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\t\t\r\n\t\tsourceBuilder.query(QueryBuilders.matchPhrasePrefixQuery(&quot;field&quot;, &quot;sagar&quot;));\r\n\t\tSystem.out.println(sourceBuilder.toString());\r\n```\r\n\r\nOutput of query generated by Java (no `zero_terms_query` parameter)\r\n```json\r\n{\r\n\t&quot;query&quot;: {\r\n\t\t&quot;match_phrase_prefix&quot;: {\r\n\t\t\t&quot;field&quot;: {\r\n\t\t\t\t&quot;query&quot;: &quot;sagar&quot;,\r\n\t\t\t\t&quot;slop&quot;: 0,\r\n\t\t\t\t&quot;max_expansions&quot;: 50,\r\n\t\t\t\t&quot;boost&quot;: 1.0\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/issues/58468","title":"How to remove zero_terms_query in match_phrase_prefix in Elasticsearch from QueryBuilder in Springboot?","body":"<p>As i mentioned in comment, You can use <code>spring-boot-starter-data-elasticsearch</code> with <code>2.4.13</code>  version as it is use Elastic Java high level client with  <code>7.9.3</code> version.</p>\n<p>If you used <code>spring-boot-starter-data-elasticsearch</code> which is using Elastic high level client version greater then 7.10 version then you will face this issue. As <code>match_phrase_prefix</code> support <code>zero_terms_query</code> after Elasticsearch 7.10 version as mentioned <a href=\"https://github.com/elastic/elasticsearch/issues/58468\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Update</strong></p>\n<p>I have added below depenadancy in pom.xml file as i suggsted:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;2.4.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>below is query generation in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchRequest searchRequest = new SearchRequest(&quot;company&quot;);\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();      \n        sourceBuilder.query(QueryBuilders.matchPhrasePrefixQuery(&quot;field&quot;, &quot;sagar&quot;));\n        System.out.println(sourceBuilder.toString());\n</code></pre>\n<p>Output of query generated by Java (no <code>zero_terms_query</code> parameter)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;match_phrase_prefix&quot;: {\n            &quot;field&quot;: {\n                &quot;query&quot;: &quot;sagar&quot;,\n                &quot;slop&quot;: 0,\n                &quot;max_expansions&quot;: 50,\n                &quot;boost&quot;: 1.0\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18625411,"reputation":64,"user_id":13769625,"display_name":"harshit rathod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677867548,"creation_date":1677867548,"answer_id":75630586,"question_id":71839329,"body_markdown":"Well for the people who are working on existing codebases and cannot modify elastic version, here is trick to implement match_phrase_prefix query with elastic versions &lt; 7.10\r\n\r\nWe can implement MultimatchQuery with phrase_prefix type and run only on a single field\r\n\r\n    MultiMatchQueryBuilder multiMatchQueryBuilder = new MultiMatchQueryBuilder(query,fields);\r\n    multiMatchQueryBuilder.type(MultiMatchQueryBuilder.Type.PHRASE_PREFIX);","title":"How to remove zero_terms_query in match_phrase_prefix in Elasticsearch from QueryBuilder in Springboot?","body":"<p>Well for the people who are working on existing codebases and cannot modify elastic version, here is trick to implement match_phrase_prefix query with elastic versions &lt; 7.10</p>\n<p>We can implement MultimatchQuery with phrase_prefix type and run only on a single field</p>\n<pre><code>MultiMatchQueryBuilder multiMatchQueryBuilder = new MultiMatchQueryBuilder(query,fields);\nmultiMatchQueryBuilder.type(MultiMatchQueryBuilder.Type.PHRASE_PREFIX);\n</code></pre>\n"}],"owner":{"account_id":15363131,"reputation":45,"user_id":11083411,"display_name":"Aditya Pandey"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71840348,"answer_count":2,"score":1,"last_activity_date":1677867548,"creation_date":1649751826,"question_id":71839329,"body_markdown":"I am trying to implement Elasticsearch&#39;s match_phrase_prefix in Springboot. I am trying to build the following query in Springboot :-\r\n\r\n    {\r\n    &quot;query&quot;: {\r\n        &quot;match_phrase_prefix&quot;: {\r\n            &quot;parent_question_text&quot;: {\r\n                &quot;query&quot;: &quot;what is th&quot;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nI came up with the following code :- \r\n\r\n    QueryBuilders.matchPhrasePrefixQuery(&quot;parent_question_text&quot;,&quot;what is th&quot;);\r\n\r\nBut, when I run the code its throwing the following exception:-\r\n\r\n&lt;pre&gt; ElasticsearchStatusException[Elasticsearch exception [type=parsing_exception, reason=[match_phrase_prefix] query does not support [zero_terms_query]]]\r\n\tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:176)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1933)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1910)\r\n\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1667)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1624)\r\n\tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1594)\r\n\tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1110)\r\n\tat com.extramarks.questionMSA.services.QuestionElasticsearchServiceImpl.questionSearchByIdAndText(QuestionElasticsearchServiceImpl.java:112)\r\n\tat com.extramarks.questionMSA.controller.QuestionElasticsearchController.questionSearchByIdAndText(QuestionElasticsearchController.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat com.extramarks.questionMSA.filters.RequestCachingFilter.doFilterInternal(RequestCachingFilter.java:30)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: org.elasticsearch.client.ResponseException: method [POST], host [http://34.100.181.31:9200], URI [/question/_search?typed_keys=true&amp;max_concurrent_shard_requests=5&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;ignore_throttled=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512&amp;ccs_minimize_roundtrips=true], status line [HTTP/1.1 400 Bad Request]\r\n{&quot;error&quot;:{&quot;root_cause&quot;:[{&quot;type&quot;:&quot;parsing_exception&quot;,&quot;reason&quot;:&quot;[match_phrase_prefix] query does not support [zero_terms_query]&quot;,&quot;line&quot;:1,&quot;col&quot;:124}],&quot;type&quot;:&quot;parsing_exception&quot;,&quot;reason&quot;:&quot;[match_phrase_prefix] query does not support [zero_terms_query]&quot;,&quot;line&quot;:1,&quot;col&quot;:124},&quot;status&quot;:400}\r\n\t\tat org.elasticsearch.client.RestClient.convertResponse(RestClient.java:326)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:296)\r\n\t\tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:270)\r\n\t\tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1654)\r\n\t\t... 55 more\r\n&lt;/pre&gt;\r\n\r\nThe query that is generated with the following code is :- \r\n\r\n    {\r\n    &quot;match_phrase_prefix&quot;: {\r\n        &quot;parent_question_text&quot;: {\r\n            &quot;query&quot;: &quot;what is the&quot;,\r\n            &quot;slop&quot;: 0,\r\n            &quot;max_expansions&quot;: 50,\r\n            &quot;zero_terms_query&quot;: &quot;NONE&quot;,\r\n            &quot;boost&quot;: 1.0\r\n        }\r\n    }\r\n}\r\n\r\nI tired setting zero_terms_query to NONE,ALL, NULL in QueryBuilder but still getting same exception. \r\n\r\n\r\n ","title":"How to remove zero_terms_query in match_phrase_prefix in Elasticsearch from QueryBuilder in Springboot?","body":"<p>I am trying to implement Elasticsearch's match_phrase_prefix in Springboot. I am trying to build the following query in Springboot :-</p>\n<pre><code>{\n&quot;query&quot;: {\n    &quot;match_phrase_prefix&quot;: {\n        &quot;parent_question_text&quot;: {\n            &quot;query&quot;: &quot;what is th&quot;\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I came up with the following code :-</p>\n<pre><code>QueryBuilders.matchPhrasePrefixQuery(&quot;parent_question_text&quot;,&quot;what is th&quot;);\n</code></pre>\n<p>But, when I run the code its throwing the following exception:-</p>\n<pre> ElasticsearchStatusException[Elasticsearch exception [type=parsing_exception, reason=[match_phrase_prefix] query does not support [zero_terms_query]]]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:176)\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1933)\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1910)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1667)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1624)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1594)\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1110)\n    at com.extramarks.questionMSA.services.QuestionElasticsearchServiceImpl.questionSearchByIdAndText(QuestionElasticsearchServiceImpl.java:112)\n    at com.extramarks.questionMSA.controller.QuestionElasticsearchController.questionSearchByIdAndText(QuestionElasticsearchController.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at com.extramarks.questionMSA.filters.RequestCachingFilter.doFilterInternal(RequestCachingFilter.java:30)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: org.elasticsearch.client.ResponseException: method [POST], host [http://34.100.181.31:9200], URI [/question/_search?typed_keys=true&max_concurrent_shard_requests=5&ignore_unavailable=false&expand_wildcards=open&allow_no_indices=true&ignore_throttled=true&search_type=query_then_fetch&batched_reduce_size=512&ccs_minimize_roundtrips=true], status line [HTTP/1.1 400 Bad Request]\n{\"error\":{\"root_cause\":[{\"type\":\"parsing_exception\",\"reason\":\"[match_phrase_prefix] query does not support [zero_terms_query]\",\"line\":1,\"col\":124}],\"type\":\"parsing_exception\",\"reason\":\"[match_phrase_prefix] query does not support [zero_terms_query]\",\"line\":1,\"col\":124},\"status\":400}\n        at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:326)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:296)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:270)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1654)\n        ... 55 more\n</pre>\n<p>The query that is generated with the following code is :-</p>\n<pre><code>{\n&quot;match_phrase_prefix&quot;: {\n    &quot;parent_question_text&quot;: {\n        &quot;query&quot;: &quot;what is the&quot;,\n        &quot;slop&quot;: 0,\n        &quot;max_expansions&quot;: 50,\n        &quot;zero_terms_query&quot;: &quot;NONE&quot;,\n        &quot;boost&quot;: 1.0\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tired setting zero_terms_query to NONE,ALL, NULL in QueryBuilder but still getting same exception.</p>\n"},{"tags":["java","groovy","memory-leaks","classloader","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677866973,"creation_date":1677866973,"answer_id":75630512,"question_id":75629086,"body_markdown":"To fix the leak, we need to remove the associated value for all existing instances of `ClassValue` by calling `ClassValue#remove(Class)`.\r\n\r\nIn `Groovy`, the easiest way I found is by getting all the `ClassInfo` and calling `InvokerHelper.removeClass(Class)` on each underlying class when closing the `ClassLoader` as next:\r\n\r\n    for (ClassInfo ci : ClassInfo.getAllClassInfo()) {\r\n        InvokerHelper.removeClass(ci.getTheClass());\r\n    }\r\n\r\n\r\n","title":"How to prevent ClassLoader leaks when using ClassValue?","body":"<p>To fix the leak, we need to remove the associated value for all existing instances of <code>ClassValue</code> by calling <code>ClassValue#remove(Class)</code>.</p>\n<p>In <code>Groovy</code>, the easiest way I found is by getting all the <code>ClassInfo</code> and calling <code>InvokerHelper.removeClass(Class)</code> on each underlying class when closing the <code>ClassLoader</code> as next:</p>\n<pre><code>for (ClassInfo ci : ClassInfo.getAllClassInfo()) {\n    InvokerHelper.removeClass(ci.getTheClass());\n}\n</code></pre>\n"}],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75630512,"answer_count":1,"score":1,"last_activity_date":1677866973,"creation_date":1677857829,"question_id":75629086,"body_markdown":"For my tests, I&#39;m using rest-assured which is partially written in Groovy. \r\nIn my application, I use a custom `ClassLoader` to load rest-assured and Groovy classes, after each test, the `ClassLoader` is closed and ready to be collected by the GC. \r\n\r\nIn case, I launch my test with `-Dgroovy.use.classvalue=false`, the class `GroovyClassValuePreJava7` is used which is the Groovy implementation of `ClassValue`, the `ClassLoader`s are properly removed from the heap but when I launch my test with `-Dgroovy.use.classvalue=true`, the class `GroovyClassValueJava7` is used which is a subtype of `ClassValue`, I end up with an OOME.\r\n\r\nI can see thanks to my profiler that each `ClassLoader` is actually retained by a JNI Global Reference to each primitive class (`void.class`, `float.class`, `boolean.class`, `int.class`, `double.class`, `long.class`, `char.class`, `byte.class`).\r\n\r\n[![JNI Global References][1]][1]\r\n\r\nIf I naively call `InvokerHelper.removeClass(Class)` on each of these classes, to clear the `ClassValueMap`, my `ClassLoaders` don&#39;t have any GC root anymore but unfortunately, they are still in the heap.\r\n\r\nMy test class is the following:\r\n\r\n```\r\nclass ClassLoaderLeakTest {\r\n\r\n    ...\r\n\r\n    private CustomClassLoader cl;\r\n\r\n    @BeforeEach\r\n    void configure() {\r\n        cl = new CustomClassLoader();\r\n    }\r\n\r\n    @AfterEach\r\n    void clean() throws Exception {\r\n        cl.close();\r\n        cl = null;\r\n    }\r\n\r\n    @RepeatedTest(100)\r\n    void test() throws Exception {\r\n        cl.loadClass(&quot;org.example.Main&quot;).getMethod(&quot;callTest&quot;).invoke(null);\r\n    }\r\n}\r\n```\r\n\r\nThe `Main` class is a simple rest-assured test:\r\n\r\n```\r\npublic class Main {\r\n    public static void callTest() {\r\n        RestAssured.given()\r\n                .when().get(&quot;/hello&quot;)\r\n                .then()\r\n                .statusCode(200)\r\n                .body(is(&quot;hello&quot;));\r\n    }\r\n}\r\n```\r\n\r\nThe class `CustomClassLoader` is basically an `URLClassLoader` that loads jar files from a specific lib folder:\r\n\r\n```\r\npublic class CustomClassLoader extends URLClassLoader {\r\n\r\n    public CustomClassLoader() {\r\n        super(urls(), null);\r\n    }\r\n\r\n    private static URL[] urls() {\r\n        Function&lt;URI, URL&gt; toURL = uri -&gt; {\r\n            try {\r\n                return uri.toURL();\r\n            } catch (MalformedURLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n        List&lt;URL&gt; l = Arrays.stream(\r\n            Objects.requireNonNull(new File(&quot;./lib&quot;).listFiles())\r\n        )\r\n                .map(File::getAbsoluteFile)\r\n                .map(File::toURI)\r\n                .map(toURL).collect(Collectors.toList());\r\n        l.add(\r\n            toURL.apply(new File(&quot;./target/classes&quot;).getAbsoluteFile().toURI())\r\n        );\r\n        return l.toArray(URL[]::new);\r\n    }\r\n}\r\n```\r\n\r\nI created [a small project][2] to reproduce, any idea/help is more than welcome.\r\n\r\nWhat could be the root cause of this `ClassLoader` leak?\r\n\r\nI also tried to remove the soft, weak, and phantom references to the `ClassLoader`s but it did not change anything, I still have the `ClassLoader`s in the heap even without a path to GC roots whatever the type of reference.\r\n\r\n  [1]: https://i.stack.imgur.com/DQNw6.png\r\n  [2]: https://github.com/essobedo/testCLLeak","title":"How to prevent ClassLoader leaks when using ClassValue?","body":"<p>For my tests, I'm using rest-assured which is partially written in Groovy.\nIn my application, I use a custom <code>ClassLoader</code> to load rest-assured and Groovy classes, after each test, the <code>ClassLoader</code> is closed and ready to be collected by the GC.</p>\n<p>In case, I launch my test with <code>-Dgroovy.use.classvalue=false</code>, the class <code>GroovyClassValuePreJava7</code> is used which is the Groovy implementation of <code>ClassValue</code>, the <code>ClassLoader</code>s are properly removed from the heap but when I launch my test with <code>-Dgroovy.use.classvalue=true</code>, the class <code>GroovyClassValueJava7</code> is used which is a subtype of <code>ClassValue</code>, I end up with an OOME.</p>\n<p>I can see thanks to my profiler that each <code>ClassLoader</code> is actually retained by a JNI Global Reference to each primitive class (<code>void.class</code>, <code>float.class</code>, <code>boolean.class</code>, <code>int.class</code>, <code>double.class</code>, <code>long.class</code>, <code>char.class</code>, <code>byte.class</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/DQNw6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQNw6.png\" alt=\"JNI Global References\" /></a></p>\n<p>If I naively call <code>InvokerHelper.removeClass(Class)</code> on each of these classes, to clear the <code>ClassValueMap</code>, my <code>ClassLoaders</code> don't have any GC root anymore but unfortunately, they are still in the heap.</p>\n<p>My test class is the following:</p>\n<pre><code>class ClassLoaderLeakTest {\n\n    ...\n\n    private CustomClassLoader cl;\n\n    @BeforeEach\n    void configure() {\n        cl = new CustomClassLoader();\n    }\n\n    @AfterEach\n    void clean() throws Exception {\n        cl.close();\n        cl = null;\n    }\n\n    @RepeatedTest(100)\n    void test() throws Exception {\n        cl.loadClass(&quot;org.example.Main&quot;).getMethod(&quot;callTest&quot;).invoke(null);\n    }\n}\n</code></pre>\n<p>The <code>Main</code> class is a simple rest-assured test:</p>\n<pre><code>public class Main {\n    public static void callTest() {\n        RestAssured.given()\n                .when().get(&quot;/hello&quot;)\n                .then()\n                .statusCode(200)\n                .body(is(&quot;hello&quot;));\n    }\n}\n</code></pre>\n<p>The class <code>CustomClassLoader</code> is basically an <code>URLClassLoader</code> that loads jar files from a specific lib folder:</p>\n<pre><code>public class CustomClassLoader extends URLClassLoader {\n\n    public CustomClassLoader() {\n        super(urls(), null);\n    }\n\n    private static URL[] urls() {\n        Function&lt;URI, URL&gt; toURL = uri -&gt; {\n            try {\n                return uri.toURL();\n            } catch (MalformedURLException e) {\n                throw new RuntimeException(e);\n            }\n        };\n        List&lt;URL&gt; l = Arrays.stream(\n            Objects.requireNonNull(new File(&quot;./lib&quot;).listFiles())\n        )\n                .map(File::getAbsoluteFile)\n                .map(File::toURI)\n                .map(toURL).collect(Collectors.toList());\n        l.add(\n            toURL.apply(new File(&quot;./target/classes&quot;).getAbsoluteFile().toURI())\n        );\n        return l.toArray(URL[]::new);\n    }\n}\n</code></pre>\n<p>I created <a href=\"https://github.com/essobedo/testCLLeak\" rel=\"nofollow noreferrer\">a small project</a> to reproduce, any idea/help is more than welcome.</p>\n<p>What could be the root cause of this <code>ClassLoader</code> leak?</p>\n<p>I also tried to remove the soft, weak, and phantom references to the <code>ClassLoader</code>s but it did not change anything, I still have the <code>ClassLoader</code>s in the heap even without a path to GC roots whatever the type of reference.</p>\n"},{"tags":["java","spring","api","amazon-s3","multipart"],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677866644,"creation_date":1677866644,"question_id":75630469,"body_markdown":"I have a post in my products controller, I send requests by RequestBody from productDto and I send an image by file through my postman to be saved in amazon s3. But when I make the request, I get the error\r\n\r\n``` \r\n doesn&#39;t contain a multipart/form-data or multipart/mixed stream, content type header is application/json\r\n```\r\nHow can I resolve this? Would this be the best way to upload an image file?\r\n\r\nproductController\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.ProductDto;\r\nimport com.api.business_manager_api.Mappers.ProductMapper;\r\nimport com.api.business_manager_api.Models.CategoryModel;\r\nimport com.api.business_manager_api.Models.ProductModel;\r\nimport com.api.business_manager_api.Services.CategoryService;\r\nimport com.api.business_manager_api.Services.ProductService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    final ProductService productService;\r\n    final CategoryService categoryService;\r\n    final ProductMapper productMapper;\r\n    final S3Client s3Client;\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\r\n\r\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\r\n        this.productService = productService;\r\n        this.productMapper = productMapper;\r\n        this.categoryService = categoryService;\r\n        this.s3Client = s3Client;\r\n    }\r\n    @PostMapping()\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(&quot;file&quot;)MultipartFile file) {\r\n        try {\r\n            if (productService.existsByProduct(productDto.getProduct())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\r\n            }\r\n            ProductModel productModel = productMapper.toProductModel(productDto);\r\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\r\n            productModel.setProductCategory(categoryModel);\r\n\r\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\r\n\r\n            s3Client.putObject(PutObjectRequest\r\n                            .builder()\r\n                            .bucket(BUCKET_NAME)\r\n                            .key(fileName)\r\n                            .build(),\r\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\r\n        }\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts() {\r\n        return ResponseEntity.status(HttpStatus.OK).body(productService.findAll());\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found&quot;);\r\n        }\r\n        return ResponseEntity.status(HttpStatus.OK).body(productModelOptional.get());\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\r\n                                                @RequestBody @Valid ProductDto productDto) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\r\n        }\r\n        ProductModel productModel = productModelOptional.get();\r\n        productModel.setProduct(productDto.getProduct());\r\n        productModel.setDescription(productDto.getDescription());\r\n        productModel.setPrice(productDto.getPrice());\r\n        productModel.setExtraPrice(productDto.getExtraPrice());\r\n        productModel.setStock(productDto.getStock());\r\n        productModel.setProductCategory(productDto.getProductCategory());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(productService.save(productModel));\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\r\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\r\n        if (!productModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\r\n        }\r\n        productService.delete(productModelOptional.get());\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nMaybe it&#39;s bad practice to send a multipart file along with a requestBody?\r\n","title":"why am i getting the error the request doesn&#39;t contain a multipart/form-data or multipart/mixed stream, content type header is application/json?","body":"<p>I have a post in my products controller, I send requests by RequestBody from productDto and I send an image by file through my postman to be saved in amazon s3. But when I make the request, I get the error</p>\n<pre><code> doesn't contain a multipart/form-data or multipart/mixed stream, content type header is application/json\n</code></pre>\n<p>How can I resolve this? Would this be the best way to upload an image file?</p>\n<p>productController</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.ProductDto;\nimport com.api.business_manager_api.Mappers.ProductMapper;\nimport com.api.business_manager_api.Models.CategoryModel;\nimport com.api.business_manager_api.Models.ProductModel;\nimport com.api.business_manager_api.Services.CategoryService;\nimport com.api.business_manager_api.Services.ProductService;\nimport jakarta.validation.Valid;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.multipart.MultipartFile;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    final ProductService productService;\n    final CategoryService categoryService;\n    final ProductMapper productMapper;\n    final S3Client s3Client;\n\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\n\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\n        this.productService = productService;\n        this.productMapper = productMapper;\n        this.categoryService = categoryService;\n        this.s3Client = s3Client;\n    }\n    @PostMapping()\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(&quot;file&quot;)MultipartFile file) {\n        try {\n            if (productService.existsByProduct(productDto.getProduct())) {\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\n            }\n            ProductModel productModel = productMapper.toProductModel(productDto);\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\n            productModel.setProductCategory(categoryModel);\n\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\n\n            s3Client.putObject(PutObjectRequest\n                            .builder()\n                            .bucket(BUCKET_NAME)\n                            .key(fileName)\n                            .build(),\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\n        }\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts() {\n        return ResponseEntity.status(HttpStatus.OK).body(productService.findAll());\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found&quot;);\n        }\n        return ResponseEntity.status(HttpStatus.OK).body(productModelOptional.get());\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\n                                                @RequestBody @Valid ProductDto productDto) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\n        }\n        ProductModel productModel = productModelOptional.get();\n        productModel.setProduct(productDto.getProduct());\n        productModel.setDescription(productDto.getDescription());\n        productModel.setPrice(productDto.getPrice());\n        productModel.setExtraPrice(productDto.getExtraPrice());\n        productModel.setStock(productDto.getStock());\n        productModel.setProductCategory(productDto.getProductCategory());\n\n        return ResponseEntity.status(HttpStatus.OK).body(productService.save(productModel));\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id) {\n        Optional&lt;ProductModel&gt; productModelOptional = productService.findById(id);\n        if (!productModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product not found!&quot;);\n        }\n        productService.delete(productModelOptional.get());\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product deleted succesfully!&quot;);\n    }\n}\n\n</code></pre>\n<p>Maybe it's bad practice to send a multipart file along with a requestBody?</p>\n"},{"tags":["java","frequency","alphabet"],"answers":[{"tags":[],"owner":{"account_id":19720197,"reputation":483,"user_id":14438712,"display_name":"null_awe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677866644,"creation_date":1605832713,"answer_id":64922109,"question_id":64922058,"body_markdown":"Percentage is `ratio * 100` (`1/2 = 0.5 = (0.5 * 100)% = 50%`), and the ratio here is `lettersLabels[i] / totalLetters`. So, in order to find the percentage, you just use `lettersFrequency[i] = (double) lettersLabels[i] / (double) totalLetters * 100;`. So, you might need a variable `totalLetters` at the beginning to count the number of letters.\r\n\r\nYou have a mistake in your code, which is initializing arrays with `0`. You have already initialized the arrays with `int[] arr = new int[26];`, so you don&#39;t need those two lines, which will give an error since initializing arrays with an `int` is the wrong type. Also, when setting some part of `lettersFrequency` to something, you need to specify the index, like `lettersFrequency[i]`, and instead of using `characters` when its out of scope to get the characters, so instead you have to use the `letterLabels` array.","title":"I&#39;m trying to count the percentage of every letter in a document by using a scanner, but I can&#39;t figure out how to correctly compute and display it","body":"<p>Percentage is <code>ratio * 100</code> (<code>1/2 = 0.5 = (0.5 * 100)% = 50%</code>), and the ratio here is <code>lettersLabels[i] / totalLetters</code>. So, in order to find the percentage, you just use <code>lettersFrequency[i] = (double) lettersLabels[i] / (double) totalLetters * 100;</code>. So, you might need a variable <code>totalLetters</code> at the beginning to count the number of letters.</p>\n<p>You have a mistake in your code, which is initializing arrays with <code>0</code>. You have already initialized the arrays with <code>int[] arr = new int[26];</code>, so you don't need those two lines, which will give an error since initializing arrays with an <code>int</code> is the wrong type. Also, when setting some part of <code>lettersFrequency</code> to something, you need to specify the index, like <code>lettersFrequency[i]</code>, and instead of using <code>characters</code> when its out of scope to get the characters, so instead you have to use the <code>letterLabels</code> array.</p>\n"},{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605833903,"creation_date":1605833542,"answer_id":64922201,"question_id":64922058,"body_markdown":"Here I&#39;ve fix some of the errors with description see the code comments for explanation :\r\n```\r\n        int [ ]lettersLabels = new int [26];\r\n        int [ ]lettersFrequency = new int [26];\r\n        String line;\r\n        \r\n        int totalLetter =0; // needed to calculate %\r\n\r\n// No need to initialize, it&#39;s already initialized with 0 values.\r\n// remove those lines.\r\n//initialize arrays\r\n//        letterLabels = 0;\r\n//        lettersFrequency = 0;\r\n\r\n        Scanner sc = new Scanner(constitution);\r\n        \r\n         while(sc.hasNextLine())\r\n         {\r\n            line = sc.nextLine();\r\n            // need to lower case the current line\r\n            line = line.toLowerCase();\r\n            char[] characters = line.toCharArray();\r\n         \r\n            for (int i = 0; i&lt; characters.length ; i++) \r\n            {\r\n                if((characters[i] &gt;=&#39;a&#39;) &amp;&amp; (characters[i]&lt;=&#39;z&#39;))\r\n                {\r\n                     // lets count the letter frequency.\r\n                     totalLetter++;\r\n                     lettersFrequency[characters[i] -&#39;a&#39; ]++;\r\n                }\r\n            }\r\n         }\r\n\r\n         // get rid of divide by zero exception\r\n         if(totalLetter ==0) totalLetter =1;\r\n         \r\n         for (int i = 0; i &lt; 26; i++) \r\n         {\r\n          char ch = &#39;a&#39;+i;\r\n          // let&#39;s count the parentage of each letter.\r\n          double parcentage = (lettersFrequency[i]*100.00)/totalLetter;\r\n          System.out.println(&quot;parcentage of &quot;+ ch+ &quot; is: &quot; +lettersFrequency +&quot;%&quot;);\r\n         }\r\n```","title":"I&#39;m trying to count the percentage of every letter in a document by using a scanner, but I can&#39;t figure out how to correctly compute and display it","body":"<p>Here I've fix some of the errors with description see the code comments for explanation :</p>\n<pre><code>        int [ ]lettersLabels = new int [26];\n        int [ ]lettersFrequency = new int [26];\n        String line;\n        \n        int totalLetter =0; // needed to calculate %\n\n// No need to initialize, it's already initialized with 0 values.\n// remove those lines.\n//initialize arrays\n//        letterLabels = 0;\n//        lettersFrequency = 0;\n\n        Scanner sc = new Scanner(constitution);\n        \n         while(sc.hasNextLine())\n         {\n            line = sc.nextLine();\n            // need to lower case the current line\n            line = line.toLowerCase();\n            char[] characters = line.toCharArray();\n         \n            for (int i = 0; i&lt; characters.length ; i++) \n            {\n                if((characters[i] &gt;='a') &amp;&amp; (characters[i]&lt;='z'))\n                {\n                     // lets count the letter frequency.\n                     totalLetter++;\n                     lettersFrequency[characters[i] -'a' ]++;\n                }\n            }\n         }\n\n         // get rid of divide by zero exception\n         if(totalLetter ==0) totalLetter =1;\n         \n         for (int i = 0; i &lt; 26; i++) \n         {\n          char ch = 'a'+i;\n          // let's count the parentage of each letter.\n          double parcentage = (lettersFrequency[i]*100.00)/totalLetter;\n          System.out.println(&quot;parcentage of &quot;+ ch+ &quot; is: &quot; +lettersFrequency +&quot;%&quot;);\n         }\n</code></pre>\n"}],"owner":{"account_id":19574403,"reputation":67,"user_id":14324795,"display_name":"Anna M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677866644,"creation_date":1605832311,"question_id":64922058,"body_markdown":"First I uploaded the file I&#39;m using, the constitution. Then, I created two arrays, one for the length of the alphabet, the second to compute the frequency. I created a while loop to read every line in the document and count the frequency of every letter, I just can&#39;t figure out how to compute each as a percentage of each letter because after I&#39;m going to put it into a bar chart.\r\n\r\n```     File contitution = new File (&quot;Constitution.txt&quot;);\r\n        int [ ]lettersLabels = new int [26];\r\n        int [ ]lettersFrequency = new int [26];\r\n        String line;\r\n\r\n//initialize arrays\r\n        letterLabels = 0;\r\n        lettersFrequency = 0;\r\n\r\n        Scanner sc = new Scanner(constitution);\r\n\r\n         while(sc.hasNextLine())\r\n         {\r\n            line = sc.nextLine();\r\n            line = sc.toLowerCase();\r\n            char[] characters = line.toCharArray();\r\n         \r\n            for (int i = 0; i&lt; characters.length ; i++) \r\n            {\r\n                if((characters[i] &gt;=&#39;a&#39;) &amp;&amp; (characters[i]&lt;=&#39;z&#39;))\r\n                {\r\n                     lettersLabels[characters[i] -&#39;a&#39; ]++;\r\n                }\r\n            }\r\n         }\r\n         \r\n         for (int i = 0; i &lt; 26; i++) \r\n         {\r\n          lettersFrequency = &#39;a&#39; + [characters[i] -&#39;a&#39; ]++;\r\n          lettersFrequency = lettersFrequency / 100;\r\n          System.out.println(lettersFrequency);\r\n         }\r\n\r\n```","title":"I&#39;m trying to count the percentage of every letter in a document by using a scanner, but I can&#39;t figure out how to correctly compute and display it","body":"<p>First I uploaded the file I'm using, the constitution. Then, I created two arrays, one for the length of the alphabet, the second to compute the frequency. I created a while loop to read every line in the document and count the frequency of every letter, I just can't figure out how to compute each as a percentage of each letter because after I'm going to put it into a bar chart.</p>\n<pre><code>        int [ ]lettersLabels = new int [26];\n        int [ ]lettersFrequency = new int [26];\n        String line;\n\n//initialize arrays\n        letterLabels = 0;\n        lettersFrequency = 0;\n\n        Scanner sc = new Scanner(constitution);\n\n         while(sc.hasNextLine())\n         {\n            line = sc.nextLine();\n            line = sc.toLowerCase();\n            char[] characters = line.toCharArray();\n         \n            for (int i = 0; i&lt; characters.length ; i++) \n            {\n                if((characters[i] &gt;='a') &amp;&amp; (characters[i]&lt;='z'))\n                {\n                     lettersLabels[characters[i] -'a' ]++;\n                }\n            }\n         }\n         \n         for (int i = 0; i &lt; 26; i++) \n         {\n          lettersFrequency = 'a' + [characters[i] -'a' ]++;\n          lettersFrequency = lettersFrequency / 100;\n          System.out.println(lettersFrequency);\n         }\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":256027,"reputation":4511,"user_id":536466,"accept_rate":75,"display_name":"Julian Suarez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397662241,"creation_date":1397662241,"answer_id":23113860,"question_id":23113238,"body_markdown":"Store the picture on a file, save the filename of the file on a bundle and then when restored from a bundle get the filename, then get the picture from the file and put it on your imageView.\r\n\r\nBTW, Have you looked at http://square.github.io/picasso/, or https://github.com/koush/ion","title":"Any way to save the state of a imageView that show an image retrieved from url?","body":"<p>Store the picture on a file, save the filename of the file on a bundle and then when restored from a bundle get the filename, then get the picture from the file and put it on your imageView.</p>\n\n<p>BTW, Have you looked at <a href=\"http://square.github.io/picasso/\" rel=\"nofollow\">http://square.github.io/picasso/</a>, or <a href=\"https://github.com/koush/ion\" rel=\"nofollow\">https://github.com/koush/ion</a></p>\n"}],"owner":{"account_id":207926,"reputation":1576,"user_id":458097,"accept_rate":27,"display_name":"arpho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677866629,"creation_date":1397660647,"question_id":23113238,"body_markdown":"In my application I show a picture retrieved from url, but it is lost after the device is rotated, I save the state of the textview inmy application, using bundle, there is a way to save and recover the image?","title":"Any way to save the state of a imageView that show an image retrieved from url?","body":"<p>In my application I show a picture retrieved from url, but it is lost after the device is rotated, I save the state of the textview inmy application, using bundle, there is a way to save and recover the image?</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1677238746,"post_id":75556114,"comment_id":133302973,"body_markdown":"It intermittently, create issues with the list, as it internally uses hibernate, prefer to use native query in this case.","body":"It intermittently, create issues with the list, as it internally uses hibernate, prefer to use native query in this case."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1677278446,"post_id":75556114,"comment_id":133313138,"body_markdown":"What is the exact error message (the question title might have mangled it a little), and where is it thrown? It might also help to see your `Recipe` class.","body":"What is the exact error message (the question title might have mangled it a little), and where is it thrown? It might also help to see your <code>Recipe</code> class."},{"owner":{"account_id":16664048,"reputation":473,"user_id":12043263,"display_name":"Just A Question"},"score":0,"creation_date":1677344773,"post_id":75556114,"comment_id":133321069,"body_markdown":"I  added the error log. The recipe class is really basic, but I can add it too, if it would help you.","body":"I  added the error log. The recipe class is really basic, but I can add it too, if it would help you."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677833938,"post_id":75556114,"comment_id":133419088,"body_markdown":"you can log the generated sql and then try to execute it in sqldeveloper, maybe you&#39;ll find something related to the mapping. https://www.baeldung.com/sql-logging-spring-boot","body":"you can log the generated sql and then try to execute it in sqldeveloper, maybe you&#39;ll find something related to the mapping. <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/sql-logging-spring-boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1677866548,"creation_date":1677423275,"answer_id":75572804,"question_id":75556114,"body_markdown":"Since Hibernate team [completely redesigned query model in HBN6](https://vladmihalcea.com/hibernate-sqm-semantic-query-model/), that is expected something have stopped working, especially for cases like yours which actually looks like a hack/trick. Here I would suggest to ask a question on [HBN forum](https://discourse.hibernate.org/c/hibernate-orm/5).\r\n\r\n\r\nHowever, some workarounds do exist:\r\n\r\nI. idiomatic way to implement such queries is to use jpa specifications, something like:\r\n\r\n```java\r\npublic interface RecipeRepository extends JpaRepository&lt;Recipe, Long&gt;, JpaSpecificationExecutor&lt;Recipe&gt; {\r\n\r\n    default List&lt;Recipe&gt; findRecipesBy(List&lt;Long&gt; authorIds, List&lt;Long&gt; recipeIds) {\r\n        Specification&lt;Recipe&gt; specification = (root, cq, cb) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            if (authorIds != null &amp;&amp; !authorIds.isEmpty()) {\r\n                predicates.add(root.get(&quot;author&quot;).get(&quot;id&quot;).in(authorIds));\r\n            }\r\n            if (recipeIds != null &amp;&amp; !recipeIds.isEmpty()) {\r\n                predicates.add(root.get(&quot;id&quot;).in(recipeIds));\r\n            }\r\n            return cb.and(predicates.toArray(new Predicate[0]));\r\n        };\r\n        return findAll(specification);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nII. trick with `coalesce` - seems to be applicable for PostgreSQL only:\r\n\r\n```java\r\n@Query(&quot;SELECT r FROM Recipe r WHERE &quot;\r\n            + &quot;(coalesce(:authorIds) is null or r.author.id in (:authorIds)) &quot;\r\n            + &quot;and (coalesce(:recipeIds) is null or r.id in (:recipeIds)) &quot;\r\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\r\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\r\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\r\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\r\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\r\n            + &quot;and (coalesce(:categoryIds) is null or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\r\n    )\r\n```\r\n\r\nIII. trick with SpEL - delegate null checks to SpEL:\r\n\r\n```\r\n@Query(&quot;SELECT r FROM Recipe r WHERE &quot;\r\n            + &quot;(:#{#authorIds == null} = true or r.author.id in (:authorIds)) &quot;\r\n            + &quot;and (:#{#recipeIds == null} = true or r.id in (:recipeIds)) &quot;\r\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\r\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\r\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\r\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\r\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\r\n            + &quot;and (:#{#categoryIds == null} = true or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\r\n    )\r\n\r\n```","title":"Hibernate randomly throws error: Cannot coerce value `[]` [java.util.ArrayList] as Long","body":"<p>Since Hibernate team <a href=\"https://vladmihalcea.com/hibernate-sqm-semantic-query-model/\" rel=\"noreferrer\">completely redesigned query model in HBN6</a>, that is expected something have stopped working, especially for cases like yours which actually looks like a hack/trick. Here I would suggest to ask a question on <a href=\"https://discourse.hibernate.org/c/hibernate-orm/5\" rel=\"noreferrer\">HBN forum</a>.</p>\n<p>However, some workarounds do exist:</p>\n<p>I. idiomatic way to implement such queries is to use jpa specifications, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RecipeRepository extends JpaRepository&lt;Recipe, Long&gt;, JpaSpecificationExecutor&lt;Recipe&gt; {\n\n    default List&lt;Recipe&gt; findRecipesBy(List&lt;Long&gt; authorIds, List&lt;Long&gt; recipeIds) {\n        Specification&lt;Recipe&gt; specification = (root, cq, cb) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if (authorIds != null &amp;&amp; !authorIds.isEmpty()) {\n                predicates.add(root.get(&quot;author&quot;).get(&quot;id&quot;).in(authorIds));\n            }\n            if (recipeIds != null &amp;&amp; !recipeIds.isEmpty()) {\n                predicates.add(root.get(&quot;id&quot;).in(recipeIds));\n            }\n            return cb.and(predicates.toArray(new Predicate[0]));\n        };\n        return findAll(specification);\n    }\n    \n}\n</code></pre>\n<p>II. trick with <code>coalesce</code> - seems to be applicable for PostgreSQL only:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT r FROM Recipe r WHERE &quot;\n            + &quot;(coalesce(:authorIds) is null or r.author.id in (:authorIds)) &quot;\n            + &quot;and (coalesce(:recipeIds) is null or r.id in (:recipeIds)) &quot;\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\n            + &quot;and (coalesce(:categoryIds) is null or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\n    )\n</code></pre>\n<p>III. trick with SpEL - delegate null checks to SpEL:</p>\n<pre><code>@Query(&quot;SELECT r FROM Recipe r WHERE &quot;\n            + &quot;(:#{#authorIds == null} = true or r.author.id in (:authorIds)) &quot;\n            + &quot;and (:#{#recipeIds == null} = true or r.id in (:recipeIds)) &quot;\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\n            + &quot;and (:#{#categoryIds == null} = true or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\n    )\n\n</code></pre>\n"}],"owner":{"account_id":16664048,"reputation":473,"user_id":12043263,"display_name":"Just A Question"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3188,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":75572804,"answer_count":1,"score":7,"last_activity_date":1677866548,"creation_date":1677238666,"question_id":75556114,"body_markdown":"I&#39;m encountering unstable errors when using a parameter of type List with my repository methods. The issue seems to be related to the interoperability between Kotlin lists and Java. When I run my unit test, it fails randomly, and I suspect this has something to do with the MutableList returned by listOf() in Kotlin. More information can be found in this StackOverflow post: https://stackoverflow.com/questions/52580173/listof-returns-mutablelist.\r\n\r\nHere&#39;s an example of my unit test and repository method:\r\n```kotlin\r\n            @Test\r\n            fun `should return recipes with the specified author, locale and categories`() {\r\n                println(&quot;AuthorID: &quot; + author.id)\r\n\r\n                recipeRepo.findRecipesBy(\r\n                    locale = LanguageSelection.ENGLISH,\r\n                    authorIds = arrayListOf(44),\r\n                )\r\n                // it throws before reaching asserts\r\n            }\r\n\r\n```\r\n\r\nRepository:\r\n```kotlin\r\ninterface RecipeRepository : JpaRepository&lt;Recipe, Long&gt; {\r\n\r\n    @Query(&quot;SELECT r FROM Recipe r WHERE &quot;\r\n            + &quot;(:authorIds is null or r.author.id in (:authorIds)) &quot;\r\n            + &quot;and (:recipeIds is null or r.id in (:recipeIds)) &quot;\r\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\r\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\r\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\r\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\r\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\r\n            + &quot;and (:categoryIds is null or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\r\n    )\r\n\r\n    fun findRecipesBy(\r\n        @Param(&quot;authorIds&quot;) authorIds: ArrayList&lt;Long&gt;? = null,\r\n        @Param(&quot;recipeIds&quot;) recipeIds: ArrayList&lt;Long&gt;? = null,\r\n        @Param(&quot;minPrice&quot;) minPrice: Double? = null,\r\n        @Param(&quot;maxPrice&quot;) maxPrice: Double? = null,\r\n        @Param(&quot;beforeDate&quot;) beforeDate: Date? = null,\r\n        @Param(&quot;afterDate&quot;) afterDate: Date? = null,\r\n        @Param(&quot;minLikeCount&quot;) minLikeCount: Int? = null,\r\n        @Param(&quot;categoryIds&quot;) categoryIds: ArrayList&lt;Long&gt;? = null,\r\n        sort: Sort = Sort.by(Sort.Direction.ASC, &quot;createdAt&quot;),\r\n    ): List&lt;Recipe&gt;\r\n\r\n}\r\n```\r\n\r\nError:\r\n```\r\n\r\nParameter value [[44]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[44]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\n\tat app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy189.findRecipesBy(Unknown Source)\r\n\tat app//com.fittastetic.fittastetic_backend.shared.recipe.repository.RecipeRepository$DefaultImpls.findRecipesBy$default(RecipeRepository.kt:38)\r\n    ...\r\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[44]` [java.util.ArrayList] as Long\r\n\tat app//org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\r\n\tat app//org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\r\n\tat app//org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\r\n\tat app//org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\r\n\t... 141 more\r\n\r\n```","title":"Hibernate randomly throws error: Cannot coerce value `[]` [java.util.ArrayList] as Long","body":"<p>I'm encountering unstable errors when using a parameter of type List with my repository methods. The issue seems to be related to the interoperability between Kotlin lists and Java. When I run my unit test, it fails randomly, and I suspect this has something to do with the MutableList returned by listOf() in Kotlin. More information can be found in this StackOverflow post: <a href=\"https://stackoverflow.com/questions/52580173/listof-returns-mutablelist\">listOf() returns MutableList</a>.</p>\n<p>Here's an example of my unit test and repository method:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>            @Test\n            fun `should return recipes with the specified author, locale and categories`() {\n                println(&quot;AuthorID: &quot; + author.id)\n\n                recipeRepo.findRecipesBy(\n                    locale = LanguageSelection.ENGLISH,\n                    authorIds = arrayListOf(44),\n                )\n                // it throws before reaching asserts\n            }\n\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface RecipeRepository : JpaRepository&lt;Recipe, Long&gt; {\n\n    @Query(&quot;SELECT r FROM Recipe r WHERE &quot;\n            + &quot;(:authorIds is null or r.author.id in (:authorIds)) &quot;\n            + &quot;and (:recipeIds is null or r.id in (:recipeIds)) &quot;\n            + &quot;and (:minPrice is null or r.estimatedPrice &gt;= :minPrice) &quot;\n            + &quot;and (:maxPrice is null or r.estimatedPrice &lt;= :maxPrice) &quot;\n            + &quot;and ( cast(:beforeDate as timestamp) is null or r.createdAt &lt; cast(:beforeDate as timestamp)) &quot;\n            + &quot;and ( cast(:afterDate as timestamp) is null or r.createdAt &gt; cast(:afterDate as timestamp)) &quot;\n            + &quot;and (:minLikeCount is null or r.likeCount &gt;= :minLikeCount) &quot;\n            + &quot;and (:categoryIds is null or exists(select rc from r.categories rc where rc.id in (:categoryIds))) &quot;\n    )\n\n    fun findRecipesBy(\n        @Param(&quot;authorIds&quot;) authorIds: ArrayList&lt;Long&gt;? = null,\n        @Param(&quot;recipeIds&quot;) recipeIds: ArrayList&lt;Long&gt;? = null,\n        @Param(&quot;minPrice&quot;) minPrice: Double? = null,\n        @Param(&quot;maxPrice&quot;) maxPrice: Double? = null,\n        @Param(&quot;beforeDate&quot;) beforeDate: Date? = null,\n        @Param(&quot;afterDate&quot;) afterDate: Date? = null,\n        @Param(&quot;minLikeCount&quot;) minLikeCount: Int? = null,\n        @Param(&quot;categoryIds&quot;) categoryIds: ArrayList&lt;Long&gt;? = null,\n        sort: Sort = Sort.by(Sort.Direction.ASC, &quot;createdAt&quot;),\n    ): List&lt;Recipe&gt;\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>\nParameter value [[44]] did not match expected type [BasicSqmPathSource(id : Long) ]\norg.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[44]] did not match expected type [BasicSqmPathSource(id : Long) ]\n    at app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy189.findRecipesBy(Unknown Source)\n    at app//com.fittastetic.fittastetic_backend.shared.recipe.repository.RecipeRepository$DefaultImpls.findRecipesBy$default(RecipeRepository.kt:38)\n    ...\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[44]` [java.util.ArrayList] as Long\n    at app//org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\n    at app//org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\n    at app//org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\n    at app//org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\n    ... 141 more\n\n</code></pre>\n"},{"tags":["java","arrays","for-loop","if-statement"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677865927,"post_id":75630322,"comment_id":133428164,"body_markdown":"Time to use a debugger or sprinkle your code with `println` statements.  See where your calculations go wrong.","body":"Time to use a debugger or sprinkle your code with <code>println</code> statements.  See where your calculations go wrong."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1677866334,"post_id":75630322,"comment_id":133428271,"body_markdown":"Didn&#39;t downvote but https://idownvotedbecau.se/nodebugging/","body":"Didn&#39;t downvote but <a href=\"https://idownvotedbecau.se/nodebugging/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/nodebugging</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677866256,"creation_date":1677866256,"answer_id":75630406,"question_id":75630322,"body_markdown":"Your direct issue is simple: You have a field named `String[] grade;` in your `GradesAverage` class. Like all fields of non-primitive types that aren&#39;t initialized, its initial value is therefore `null`.\r\n\r\nYou never set it. There&#39;s a `setScore` which sets the `score` array, but no `setGrades`.\r\n\r\nLater in `computeResult`, you evaluate `grade[i]`. Array brackets &#39;dereference&#39;, they follow the pointer. `x[i]` where `x` is `null` thus gives you a `NullPointerException`.\r\n\r\nBut, you have an underlying problem.\r\n\r\nNB: Java has pointers; it&#39;s just that the official term is &#39;reference&#39;, just like java has functions but the official term is &#39;method&#39;. No matter what you care to call it, they point at things, it&#39;s like an address in an address book and not a house. `null` refers to a blank page in the address book, most things you can do with a reference are things you do to the house and not the page in the address book - `arr[idx]` is one such thing. Anytime you ask a reference to do something to the thing it refers to, and that reference is `null`, you get a NullPointerException. You can&#39;t very well walk over to the house listed in the address book on page 48 if page 48 is blank.\r\n\r\n## Debugging\r\n\r\nExperienced programmers can generally look at code like this and just see the problem. However, this &#39;crystal ball debugging&#39; (where you just look at it ever more intently until you go EUREKA!!!) is not reliable and not how real programmers operate.\r\n\r\nInstead, they debug. Debugging is very simple, you simply &#39;evaluate&#39; what your code is supposed to do, line by line, in your head. Then you compare what you think should happen, with what actually happens. Every time what actually happens diverges from what you thought would happen, you found a bug. Solve it, keep going, until the app does exactly what you wanted it to.\r\n\r\nYou can use debuggers, which make this easy by letting you inspect variables and execute code one line at a time (&#39;stepping through&#39;). However, if &#39;learning how to use the debugger&#39; is a bit too much of a learning curve issue right now, you can always toss a boatload of `System.out.println(&quot;DBG: Variable x is now &quot; + x);` style statements throughout the code as a poor and inefficient, but easy to learn alternative.\r\n","title":"Nesting an if statement inside an array loop","body":"<p>Your direct issue is simple: You have a field named <code>String[] grade;</code> in your <code>GradesAverage</code> class. Like all fields of non-primitive types that aren't initialized, its initial value is therefore <code>null</code>.</p>\n<p>You never set it. There's a <code>setScore</code> which sets the <code>score</code> array, but no <code>setGrades</code>.</p>\n<p>Later in <code>computeResult</code>, you evaluate <code>grade[i]</code>. Array brackets 'dereference', they follow the pointer. <code>x[i]</code> where <code>x</code> is <code>null</code> thus gives you a <code>NullPointerException</code>.</p>\n<p>But, you have an underlying problem.</p>\n<p>NB: Java has pointers; it's just that the official term is 'reference', just like java has functions but the official term is 'method'. No matter what you care to call it, they point at things, it's like an address in an address book and not a house. <code>null</code> refers to a blank page in the address book, most things you can do with a reference are things you do to the house and not the page in the address book - <code>arr[idx]</code> is one such thing. Anytime you ask a reference to do something to the thing it refers to, and that reference is <code>null</code>, you get a NullPointerException. You can't very well walk over to the house listed in the address book on page 48 if page 48 is blank.</p>\n<h2>Debugging</h2>\n<p>Experienced programmers can generally look at code like this and just see the problem. However, this 'crystal ball debugging' (where you just look at it ever more intently until you go EUREKA!!!) is not reliable and not how real programmers operate.</p>\n<p>Instead, they debug. Debugging is very simple, you simply 'evaluate' what your code is supposed to do, line by line, in your head. Then you compare what you think should happen, with what actually happens. Every time what actually happens diverges from what you thought would happen, you found a bug. Solve it, keep going, until the app does exactly what you wanted it to.</p>\n<p>You can use debuggers, which make this easy by letting you inspect variables and execute code one line at a time ('stepping through'). However, if 'learning how to use the debugger' is a bit too much of a learning curve issue right now, you can always toss a boatload of <code>System.out.println(&quot;DBG: Variable x is now &quot; + x);</code> style statements throughout the code as a poor and inefficient, but easy to learn alternative.</p>\n"}],"owner":{"account_id":27929303,"reputation":1,"user_id":21327736,"display_name":"Zaedriel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677866256,"creation_date":1677865704,"question_id":75630322,"body_markdown":"Trying to follow an exercise for college and completely lost. As an example app class and instan object challenge, we are tasked to create an app that asks a user for how many subjects they are taking (via scanner) and then using arrays to record each score they have for each subject (so if they took 5 subjects, they enter 5 scores between 1-100). The instantiable should then take those scores, assign a grade as a string to each entry in the array and then get the average score for the user. \r\n\r\ne.g. if I enter 4 subjects, I get prompted to enter 4 int values, then I should see the corresponding grade for each subject as a row, and another that calculated the average score of the 4 entered.\r\n\r\n\r\nInstantiable class object\r\n```\r\npublic class GradesAverage{\r\n//Data member declaration (variables, but instantiable class name) - always private\r\n\tprivate int subjects;\r\n\tprivate int[] score;\r\n\tString[] grade;\r\n\tprivate int avg;\r\n\tprivate\tint tally;\r\n\r\n//Constructor\r\n\tpublic GradesAverage(){\r\n\r\n\t}\r\n//Setters - inputs (pulling from App class)\r\n\tpublic void setSubjects(int subjects){\r\n\t\tthis.subjects=subjects;\r\n\t}\r\n\tpublic void setScore(int[] score){\r\n\t\tthis.score=score;\r\n\t}\r\n//Compute- process\r\n\tpublic void computeResults(){\r\n\t\tfor(int i=0;i&lt;subjects;i++){\r\n\t\t\tif(score[i]&gt;=90 &amp;&amp; score[i]&lt;=100){\r\n\t\t\t\tgrade[i]=&quot;A&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=80 &amp;&amp; score[i]&lt;90){\r\n\t\t\t\tgrade[i]=&quot;A-&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=70 &amp;&amp; score[i]&lt;80){\r\n\t\t\t\tgrade[i]=&quot;B&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=60 &amp;&amp; score[i]&lt;70){\r\n\t\t\t\tgrade[i]=&quot;B-&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=50 &amp;&amp; score[i]&lt;60){\r\n\t\t\t\tgrade[i]=&quot;C&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=40 &amp;&amp; score[i]&lt;50){\r\n\t\t\t\tgrade[i]=&quot;D&quot;;\r\n\t\t\t}\r\n\t\t\telse if(score[i]&gt;=0 &amp;&amp; score[i]&lt;40){\r\n\t\t\t\tgrade[i]=&quot;F&quot;;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tgrade[i]=&quot;ERROR&quot;;\r\n\t\t\t}\r\n\t\t\ttally=score[i-1]+score[i];\r\n\t\t}\r\n\r\n\t\tavg=tally/subjects;\r\n\t}\r\n//Getters - outputs (sent to App class)\r\n\tpublic int[] getScore(){\r\n\t\treturn score;\r\n\t}\r\n\tpublic String[] getGrade(){\r\n\t\treturn grade;\r\n\t}\r\n\tpublic int getAverage(){\r\n\t\treturn avg;\r\n\t}\r\n}\r\n```\r\nApp class object\r\n\r\n```\r\nimport java.util.*;\r\npublic class GradesAverageApp{\r\n\tpublic static void main(String[] args){\r\n//declare variables\r\n\t\tint subjects=0;\r\n\t\tint[] score=new int[10];\r\n\t\tint avg;\r\n\t\tString[] grade;\r\n\t\tint tally;\r\n//declare and create objects\r\n\t\tScanner keyboard=new Scanner(System.in);\r\n\t\tGradesAverage g=new GradesAverage();\r\n\r\n//inputs (pulling from user input e.g. scanner)\r\n\t\tSystem.out.println(&quot;Please enter how many subject you are taking&quot;);\r\n\t\tsubjects=keyboard.nextInt();\r\n\t\tfor(int i=0;i&lt;subjects;i++){\r\n\t\t\tSystem.out.println(&quot;Please enter the score (0-100) for subject #&quot;+(i+1));\r\n\t\t\tscore[i]=keyboard.nextInt();\r\n\t\t}\r\n//declare setters\r\n\t\tg.setSubjects(subjects);\r\n\t\tg.setScore(score);\r\n//compute process\r\n\t\tg.computeResults();\r\n//get results\r\n\t\tgrade=g.getGrade();\r\n\t\tavg=g.getAverage();\r\n//outputs (back to the user)\r\n\t\tfor(int i=0;i&lt;subjects;i++){\r\n\t\t\tSystem.out.println(&quot;You scored &quot;+score[i]+&quot; in subject #&quot;+(i+1)+&quot;, giving you a final grade of &quot;+grade[i]+&quot;.&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Your overall average score was &quot;+avg);\r\n\t}\r\n}\r\n```\r\nI&#39;m still very new to Java but I cannot figure out why the app won&#39;t finish the compute stage.\r\nExample of the error I get:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at GradesAverage.computeResults(GradesAverage.java:41)\r\n        at GradesAverageApp.main(GradesAverageApp.java:30)\r\n```\r\n","title":"Nesting an if statement inside an array loop","body":"<p>Trying to follow an exercise for college and completely lost. As an example app class and instan object challenge, we are tasked to create an app that asks a user for how many subjects they are taking (via scanner) and then using arrays to record each score they have for each subject (so if they took 5 subjects, they enter 5 scores between 1-100). The instantiable should then take those scores, assign a grade as a string to each entry in the array and then get the average score for the user.</p>\n<p>e.g. if I enter 4 subjects, I get prompted to enter 4 int values, then I should see the corresponding grade for each subject as a row, and another that calculated the average score of the 4 entered.</p>\n<p>Instantiable class object</p>\n<pre><code>public class GradesAverage{\n//Data member declaration (variables, but instantiable class name) - always private\n    private int subjects;\n    private int[] score;\n    String[] grade;\n    private int avg;\n    private int tally;\n\n//Constructor\n    public GradesAverage(){\n\n    }\n//Setters - inputs (pulling from App class)\n    public void setSubjects(int subjects){\n        this.subjects=subjects;\n    }\n    public void setScore(int[] score){\n        this.score=score;\n    }\n//Compute- process\n    public void computeResults(){\n        for(int i=0;i&lt;subjects;i++){\n            if(score[i]&gt;=90 &amp;&amp; score[i]&lt;=100){\n                grade[i]=&quot;A&quot;;\n            }\n            else if(score[i]&gt;=80 &amp;&amp; score[i]&lt;90){\n                grade[i]=&quot;A-&quot;;\n            }\n            else if(score[i]&gt;=70 &amp;&amp; score[i]&lt;80){\n                grade[i]=&quot;B&quot;;\n            }\n            else if(score[i]&gt;=60 &amp;&amp; score[i]&lt;70){\n                grade[i]=&quot;B-&quot;;\n            }\n            else if(score[i]&gt;=50 &amp;&amp; score[i]&lt;60){\n                grade[i]=&quot;C&quot;;\n            }\n            else if(score[i]&gt;=40 &amp;&amp; score[i]&lt;50){\n                grade[i]=&quot;D&quot;;\n            }\n            else if(score[i]&gt;=0 &amp;&amp; score[i]&lt;40){\n                grade[i]=&quot;F&quot;;\n            }\n            else{\n                grade[i]=&quot;ERROR&quot;;\n            }\n            tally=score[i-1]+score[i];\n        }\n\n        avg=tally/subjects;\n    }\n//Getters - outputs (sent to App class)\n    public int[] getScore(){\n        return score;\n    }\n    public String[] getGrade(){\n        return grade;\n    }\n    public int getAverage(){\n        return avg;\n    }\n}\n</code></pre>\n<p>App class object</p>\n<pre><code>import java.util.*;\npublic class GradesAverageApp{\n    public static void main(String[] args){\n//declare variables\n        int subjects=0;\n        int[] score=new int[10];\n        int avg;\n        String[] grade;\n        int tally;\n//declare and create objects\n        Scanner keyboard=new Scanner(System.in);\n        GradesAverage g=new GradesAverage();\n\n//inputs (pulling from user input e.g. scanner)\n        System.out.println(&quot;Please enter how many subject you are taking&quot;);\n        subjects=keyboard.nextInt();\n        for(int i=0;i&lt;subjects;i++){\n            System.out.println(&quot;Please enter the score (0-100) for subject #&quot;+(i+1));\n            score[i]=keyboard.nextInt();\n        }\n//declare setters\n        g.setSubjects(subjects);\n        g.setScore(score);\n//compute process\n        g.computeResults();\n//get results\n        grade=g.getGrade();\n        avg=g.getAverage();\n//outputs (back to the user)\n        for(int i=0;i&lt;subjects;i++){\n            System.out.println(&quot;You scored &quot;+score[i]+&quot; in subject #&quot;+(i+1)+&quot;, giving you a final grade of &quot;+grade[i]+&quot;.&quot;);\n        }\n        System.out.println(&quot;Your overall average score was &quot;+avg);\n    }\n}\n</code></pre>\n<p>I'm still very new to Java but I cannot figure out why the app won't finish the compute stage.\nExample of the error I get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n        at GradesAverage.computeResults(GradesAverage.java:41)\n        at GradesAverageApp.main(GradesAverageApp.java:30)\n</code></pre>\n"},{"tags":["java","jaxb","deserialization"],"owner":{"account_id":3707987,"reputation":55,"user_id":3085993,"display_name":"Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677865842,"creation_date":1677865842,"question_id":75630340,"body_markdown":"I have this xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \t&lt;soap:Header&gt;\r\n    \t\t&lt;MessageResponse GId=&quot;JPEF&quot; MId=&quot;65effb8f-2180-428c-9285-527fdc97fc7a&quot; MTs=&quot;2023-03-02T19:40:14.201518+01:00&quot; METs=&quot;2023-03-12T19:40:14.201518+01:00&quot; xmlns=&quot;urn:crif-message:2006-08-23&quot;&gt;\r\n    \t\t\t&lt;P SId=&quot;S18&quot; PId=&quot;EuriscAC&quot; PNs=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&gt;\r\n    \t\t\t\t&lt;R L=&quot;en-US&quot; C=&quot;urn:crif-messagegateway:2006-08-23:S&quot; D=&quot;Success.&quot; /&gt;\r\n    \t\t\t&lt;/P&gt;\r\n    \t\t\t&lt;Tx TxNs=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;\r\n    \t\t\t\t&lt;R L=&quot;en-US&quot; C=&quot;urn:crif-messagegateway:2006-08-23:S&quot; D=&quot;Success.&quot; /&gt;\r\n    \t\t\t&lt;/Tx&gt;\r\n    \t\t&lt;/MessageResponse&gt;\r\n    \t&lt;/soap:Header&gt;\r\n    \t&lt;soap:Body&gt;\r\n    \t\t&lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;&amp;lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&amp;gt;&amp;lt;EuriscACResponse xmlns=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&amp;gt;&amp;lt;CD CCC=&quot;163214729&quot; DRF=&quot;2023-02-27&quot; TO=&quot;FC&quot; FO=&quot;RC&quot; V=&quot;E&quot; ICR=&quot;5000&quot; /&amp;gt;&amp;lt;C CCC=&quot;163214729&quot; FO=&quot;RC&quot; V=&quot;E&quot; /&amp;gt;&amp;lt;/EuriscACResponse&amp;gt;&amp;lt;/MGResponse&amp;gt;&lt;/MGResponse&gt;\r\n    \t&lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nand I have 2 pojos, one for the header and the other for the body.\r\nwhilst I succeed in deserialize the header, the body gives me an headache.\r\n\r\nthe *header* pojo is\r\n\r\n    package generatedschema.header;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAnyAttribute;\r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import javax.xml.bind.annotation.adapters.CollapsedStringAdapter;\r\n    import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\r\n    import javax.xml.datatype.XMLGregorianCalendar;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;p&quot;,\r\n        &quot;tx&quot;,\r\n        &quot;any&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;MessageResponse&quot;)\r\n    public class MessageResponse\r\n        extends MessageAttributeSet\r\n    {\r\n    \r\n        @XmlElement(name = &quot;P&quot;, required = true)\r\n        protected List&lt;MessageResponse.P&gt; p;\r\n        @XmlElement(name = &quot;Tx&quot;, required = true)\r\n        protected MessageResponse.Tx tx;\r\n        @XmlAnyElement(lax = true)\r\n        protected List&lt;Object&gt; any;\r\n        @XmlAttribute(name = &quot;METs&quot;, required = true)\r\n        @XmlSchemaType(name = &quot;dateTime&quot;)\r\n        protected XMLGregorianCalendar meTs;\r\n    \r\n        public List&lt;MessageResponse.P&gt; getP() {\r\n            if (p == null) {\r\n                p = new ArrayList&lt;MessageResponse.P&gt;();\r\n            }\r\n            return this.p;\r\n        }\r\n    \r\n        public MessageResponse.Tx getTx() {\r\n            return tx;\r\n        }\r\n    \r\n        public void setTx(MessageResponse.Tx value) {\r\n            this.tx = value;\r\n        }\r\n    \r\n        public List&lt;Object&gt; getAny() {\r\n            if (any == null) {\r\n                any = new ArrayList&lt;Object&gt;();\r\n            }\r\n            return this.any;\r\n        }\r\n    \r\n        public XMLGregorianCalendar getMETs() {\r\n            return meTs;\r\n        }\r\n    \r\n        public void setMETs(XMLGregorianCalendar value) {\r\n            this.meTs = value;\r\n        }\r\n    \r\n    \r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;, propOrder = {\r\n            &quot;r&quot;,\r\n            &quot;any&quot;\r\n        })\r\n        public static class P {\r\n    \r\n            @XmlElement(name = &quot;R&quot;, required = true)\r\n            protected MessageResponse.P.R r;\r\n            @XmlAnyElement(lax = true)\r\n            protected List&lt;Object&gt; any;\r\n            @XmlAttribute(name = &quot;SId&quot;, required = true)\r\n            protected String sId;\r\n            @XmlAttribute(name = &quot;PId&quot;, required = true)\r\n            protected String pId;\r\n            @XmlAttribute(name = &quot;PNs&quot;, required = true)\r\n            protected String pNs;\r\n            @XmlAnyAttribute\r\n            private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\r\n    \r\n            public MessageResponse.P.R getR() {\r\n                return r;\r\n            }\r\n    \r\n            public void setR(MessageResponse.P.R value) {\r\n                this.r = value;\r\n            }\r\n    \r\n            public List&lt;Object&gt; getAny() {\r\n                if (any == null) {\r\n                    any = new ArrayList&lt;Object&gt;();\r\n                }\r\n                return this.any;\r\n            }\r\n    \r\n            public String getSId() {\r\n                return sId;\r\n            }\r\n    \r\n            public void setSId(String value) {\r\n                this.sId = value;\r\n            }\r\n    \r\n            public String getPId() {\r\n                return pId;\r\n            }\r\n    \r\n            public void setPId(String value) {\r\n                this.pId = value;\r\n            }\r\n    \r\n            public String getPNs() {\r\n                return pNs;\r\n            }\r\n    \r\n            public void setPNs(String value) {\r\n                this.pNs = value;\r\n            }\r\n    \r\n            public Map&lt;QName, String&gt; getOtherAttributes() {\r\n                return otherAttributes;\r\n            }\r\n    \r\n            @XmlAccessorType(XmlAccessType.FIELD)\r\n            @XmlType(name = &quot;&quot;)\r\n            public static class R {\r\n    \r\n                @XmlAttribute(name = &quot;L&quot;, required = true)\r\n                @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n                @XmlSchemaType(name = &quot;language&quot;)\r\n                protected String l;\r\n                @XmlAttribute(name = &quot;C&quot;, required = true)\r\n                @XmlSchemaType(name = &quot;anyURI&quot;)\r\n                protected String c;\r\n                @XmlAttribute(name = &quot;D&quot;, required = true)\r\n                protected String d;\r\n                @XmlAnyAttribute\r\n                private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\r\n    \r\n                public String getL() {\r\n                    return l;\r\n                }\r\n    \r\n                public void setL(String value) {\r\n                    this.l = value;\r\n                }\r\n    \r\n                public String getC() {\r\n                    return c;\r\n                }\r\n    \r\n                public void setC(String value) {\r\n                    this.c = value;\r\n                }\r\n    \r\n                public String getD() {\r\n                    return d;\r\n                }\r\n    \r\n                public void setD(String value) {\r\n                    this.d = value;\r\n                }\r\n    \r\n                public Map&lt;QName, String&gt; getOtherAttributes() {\r\n                    return otherAttributes;\r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;, propOrder = {\r\n            &quot;r&quot;,\r\n            &quot;any&quot;\r\n        })\r\n        public static class Tx {\r\n    \r\n            @XmlElement(name = &quot;R&quot;, required = true)\r\n            protected MessageResponse.Tx.R r;\r\n            @XmlAnyElement(lax = true)\r\n            protected List&lt;Object&gt; any;\r\n            @XmlAttribute(name = &quot;TxNs&quot;, required = true)\r\n            protected String txNs;\r\n            @XmlAnyAttribute\r\n            private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\r\n    \r\n            public MessageResponse.Tx.R getR() {\r\n                return r;\r\n            }\r\n    \r\n            public void setR(MessageResponse.Tx.R value) {\r\n                this.r = value;\r\n            }\r\n    \r\n            public List&lt;Object&gt; getAny() {\r\n                if (any == null) {\r\n                    any = new ArrayList&lt;Object&gt;();\r\n                }\r\n                return this.any;\r\n            }\r\n    \r\n            public String getTxNs() {\r\n                return txNs;\r\n            }\r\n    \r\n            public void setTxNs(String value) {\r\n                this.txNs = value;\r\n            }\r\n    \r\n            public Map&lt;QName, String&gt; getOtherAttributes() {\r\n                return otherAttributes;\r\n            }\r\n    \r\n            @XmlAccessorType(XmlAccessType.FIELD)\r\n            @XmlType(name = &quot;&quot;)\r\n            public static class R {\r\n    \r\n                @XmlAttribute(name = &quot;L&quot;, required = true)\r\n                @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n                @XmlSchemaType(name = &quot;language&quot;)\r\n                protected String l;\r\n                @XmlAttribute(name = &quot;C&quot;, required = true)\r\n                @XmlSchemaType(name = &quot;anyURI&quot;)\r\n                protected String c;\r\n                @XmlAttribute(name = &quot;D&quot;, required = true)\r\n                protected String d;\r\n                @XmlAnyAttribute\r\n                private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\r\n    \r\n                public String getL() {\r\n                    return l;\r\n                }\r\n    \r\n                public void setL(String value) {\r\n                    this.l = value;\r\n                }\r\n    \r\n                public String getC() {\r\n                    return c;\r\n                }\r\n    \r\n                public void setC(String value) {\r\n                    this.c = value;\r\n                }\r\n    \r\n                public String getD() {\r\n                    return d;\r\n                }\r\n    \r\n                public void setD(String value) {\r\n                    this.d = value;\r\n                }\r\n    \r\n                public Map&lt;QName, String&gt; getOtherAttributes() {\r\n                    return otherAttributes;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nand the pojo for the *body* in\r\n\r\n    package generatedschema.eurisc;\r\n    import java.math.BigInteger;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import javax.xml.datatype.XMLGregorianCalendar;\r\n    \r\n    @XmlRootElement(name = &quot;EuriscACResponse&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;cd&quot;,\r\n        &quot;c&quot;,\r\n        &quot;e&quot;\r\n    })\r\n    public class EuriscACResponse {\r\n        @XmlElement(name = &quot;CD&quot;)\r\n        protected EuriscACResponse.CD cd;\r\n        @XmlElement(name = &quot;C&quot;)\r\n        protected EuriscACResponse.C c;\r\n        @XmlElement(name = &quot;E&quot;)\r\n        protected List&lt;Errore&gt; e;\r\n        public EuriscACResponse.CD getCD() {\r\n            return cd;\r\n        }\r\n        public void setCD(EuriscACResponse.CD value) {\r\n            this.cd = value;\r\n        }\r\n        public EuriscACResponse.C getC() {\r\n            return c;\r\n        }\r\n        public void setC(EuriscACResponse.C value) {\r\n            this.c = value;\r\n        }\r\n        public List&lt;Errore&gt; getE() {\r\n            if (e == null) {\r\n                e = new ArrayList&lt;Errore&gt;();\r\n            }\r\n            return this.e;\r\n        }\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;)\r\n        public static class C {\r\n            @XmlAttribute(name = &quot;CCC&quot;)\r\n            protected String ccc;\r\n            @XmlAttribute(name = &quot;CCE&quot;)\r\n            protected String cce;\r\n            @XmlAttribute(name = &quot;CCT&quot;)\r\n            protected String cct;\r\n            @XmlAttribute(name = &quot;FO&quot;)\r\n            protected String fo;\r\n            @XmlAttribute(name = &quot;V&quot;)\r\n            protected String v;\r\n            @XmlAttribute(name = &quot;LUI&quot;)\r\n            protected Boolean lui;\r\n            @XmlAttribute(name = &quot;ICR&quot;)\r\n            protected BigInteger icr;\r\n            @XmlAttribute(name = &quot;IRM&quot;)\r\n            protected BigInteger irm;\r\n            @XmlAttribute(name = &quot;FAC&quot;)\r\n            protected String fac;\r\n            @XmlAttribute(name = &quot;S&quot;)\r\n            protected String s;\r\n            public String getCCC() {\r\n                return ccc;\r\n            }\r\n            public void setCCC(String value) {\r\n                this.ccc = value;\r\n            }\r\n            public String getCCE() {\r\n                return cce;\r\n            }\r\n            public void setCCE(String value) {\r\n                this.cce = value;\r\n            }\r\n            public String getCCT() {\r\n                return cct;\r\n            }\r\n            public void setCCT(String value) {\r\n                this.cct = value;\r\n            }\r\n            public String getFO() {\r\n                return fo;\r\n            }\r\n            public void setFO(String value) {\r\n                this.fo = value;\r\n            }\r\n            public String getV() {\r\n                return v;\r\n            }\r\n            public void setV(String value) {\r\n                this.v = value;\r\n            }\r\n            public Boolean isLUI() {\r\n                return lui;\r\n            }\r\n            public void setLUI(Boolean value) {\r\n                this.lui = value;\r\n            }\r\n            public BigInteger getICR() {\r\n                return icr;\r\n            }\r\n            public void setICR(BigInteger value) {\r\n                this.icr = value;\r\n            }\r\n            public BigInteger getIRM() {\r\n                return irm;\r\n            }\r\n            public void setIRM(BigInteger value) {\r\n                this.irm = value;\r\n            }\r\n            public String getFAC() {\r\n                return fac;\r\n            }\r\n            public void setFAC(String value) {\r\n                this.fac = value;\r\n            }\r\n            public String getS() {\r\n                return s;\r\n            }\r\n            public void setS(String value) {\r\n                this.s = value;\r\n            }\r\n        }\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;)\r\n        public static class CD {\r\n            @XmlAttribute(name = &quot;CCC&quot;, required = true)\r\n            protected String ccc;\r\n            @XmlAttribute(name = &quot;CCE&quot;)\r\n            protected String cce;\r\n            @XmlAttribute(name = &quot;CCT&quot;)\r\n            protected String cct;\r\n            @XmlAttribute(name = &quot;DRF&quot;)\r\n            @XmlSchemaType(name = &quot;date&quot;)\r\n            protected XMLGregorianCalendar drf;\r\n            @XmlAttribute(name = &quot;DIO&quot;)\r\n            @XmlSchemaType(name = &quot;date&quot;)\r\n            protected XMLGregorianCalendar dio;\r\n            @XmlAttribute(name = &quot;TO&quot;, required = true)\r\n            protected String to;\r\n            @XmlAttribute(name = &quot;FO&quot;)\r\n            protected String fo;\r\n            @XmlAttribute(name = &quot;V&quot;)\r\n            protected String v;\r\n            @XmlAttribute(name = &quot;ICR&quot;)\r\n            protected BigInteger icr;\r\n            @XmlAttribute(name = &quot;IRM&quot;)\r\n            protected BigInteger irm;\r\n            @XmlAttribute(name = &quot;NR&quot;)\r\n            protected Integer nr;\r\n            @XmlAttribute(name = &quot;PR&quot;)\r\n            protected String pr;\r\n            @XmlAttribute(name = &quot;LUI&quot;)\r\n            protected Boolean lui;\r\n            public String getCCC() {\r\n                return ccc;\r\n            }\r\n            public void setCCC(String value) {\r\n                this.ccc = value;\r\n            }\r\n            public String getCCE() {\r\n                return cce;\r\n            }\r\n            public void setCCE(String value) {\r\n                this.cce = value;\r\n            }\r\n            public String getCCT() {\r\n                return cct;\r\n            }\r\n            public void setCCT(String value) {\r\n                this.cct = value;\r\n            }\r\n            public XMLGregorianCalendar getDRF() {\r\n                return drf;\r\n            }\r\n            public void setDRF(XMLGregorianCalendar value) {\r\n                this.drf = value;\r\n            }\r\n            public XMLGregorianCalendar getDIO() {\r\n                return dio;\r\n            }\r\n            public void setDIO(XMLGregorianCalendar value) {\r\n                this.dio = value;\r\n            }\r\n            public String getTO() {\r\n                return to;\r\n            }\r\n            public void setTO(String value) {\r\n                this.to = value;\r\n            }\r\n            public String getFO() {\r\n                return fo;\r\n            }\r\n            public void setFO(String value) {\r\n                this.fo = value;\r\n            }\r\n            public String getV() {\r\n                return v;\r\n            }\r\n            public void setV(String value) {\r\n                this.v = value;\r\n            }\r\n            public BigInteger getICR() {\r\n                return icr;\r\n            }\r\n            public void setICR(BigInteger value) {\r\n                this.icr = value;\r\n            }\r\n            public BigInteger getIRM() {\r\n                return irm;\r\n            }\r\n            public void setIRM(BigInteger value) {\r\n                this.irm = value;\r\n            }\r\n            public Integer getNR() {\r\n                return nr;\r\n            }\r\n            public void setNR(Integer value) {\r\n                this.nr = value;\r\n            }\r\n            public String getPR() {\r\n                return pr;\r\n            }\r\n            public void setPR(String value) {\r\n                this.pr = value;\r\n            }\r\n            public Boolean isLUI() {\r\n                return lui;\r\n            }\r\n            public void setLUI(Boolean value) {\r\n                this.lui = value;\r\n            }\r\n        }\r\n    }\r\n\r\nthe snippet in which I try to deserialize is like this\r\n\r\n\t\tJAXBContext jaxbContext = JAXBContext.newInstance(MessageResponse.class, EuriscACResponse.class);\r\n\t\tUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n\r\n\t\tJAXBElement&lt;MessageResponse&gt; soapHead = unmarshaller.unmarshal(soapResponse.getSOAPHeader(), MessageResponse.class);\r\n\t\tList&lt;Object&gt; elementi = soapHead.getValue().getAny();\r\n\t\tMessageResponse result = (MessageResponse) elementi.get(0);\r\n\t\tList&lt;P&gt; risultatoFinaleHeader = result.getP();\r\n\t\tString descrizioneErroreHeader = risultatoFinaleHeader.get(0).getR().getD();\r\n\r\n\t\tif (!descrizioneErroreHeader.equals(&quot;Success.&quot;)) {\r\n\t\t\trispostaDto.setDescrErrore(&quot;Errore: &quot; + descrizioneErroreHeader);\r\n\t\t} else {\r\n\t\t\tJAXBElement&lt;EuriscACResponse&gt; soapBody = unmarshaller.unmarshal(soapResponse.getSOAPBody().getFirstChild().getFirstChild(), EuriscACResponse.class);\r\n\r\nbut it result in an error:\r\n\r\n    java.lang.IllegalArgumentException: Unexpected node type: [#text: &lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;&lt;EuriscACResponse xmlns=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&gt;&lt;CD CCC=&quot;163214729&quot; DRF=&quot;2023-02-27&quot; TO=&quot;FC&quot; FO=&quot;RC&quot; V=&quot;E&quot; ICR=&quot;5000&quot; /&gt;&lt;C CCC=&quot;163214729&quot; FO=&quot;RC&quot; V=&quot;E&quot; /&gt;&lt;/EuriscACResponse&gt;&lt;/MGResponse&gt;]\r\n\r\nwhere is my mistake?\r\nI&#39;m expecting that using the two getFirstChild lead me to the EuriscACResponse node, but obviously it&#39;s not so simple.\r\n","title":"nested body response with separate pojos","body":"<p>I have this xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;soap:Header&gt;\n        &lt;MessageResponse GId=&quot;JPEF&quot; MId=&quot;65effb8f-2180-428c-9285-527fdc97fc7a&quot; MTs=&quot;2023-03-02T19:40:14.201518+01:00&quot; METs=&quot;2023-03-12T19:40:14.201518+01:00&quot; xmlns=&quot;urn:crif-message:2006-08-23&quot;&gt;\n            &lt;P SId=&quot;S18&quot; PId=&quot;EuriscAC&quot; PNs=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&gt;\n                &lt;R L=&quot;en-US&quot; C=&quot;urn:crif-messagegateway:2006-08-23:S&quot; D=&quot;Success.&quot; /&gt;\n            &lt;/P&gt;\n            &lt;Tx TxNs=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;\n                &lt;R L=&quot;en-US&quot; C=&quot;urn:crif-messagegateway:2006-08-23:S&quot; D=&quot;Success.&quot; /&gt;\n            &lt;/Tx&gt;\n        &lt;/MessageResponse&gt;\n    &lt;/soap:Header&gt;\n    &lt;soap:Body&gt;\n        &lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;&amp;lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&amp;gt;&amp;lt;EuriscACResponse xmlns=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&amp;gt;&amp;lt;CD CCC=&quot;163214729&quot; DRF=&quot;2023-02-27&quot; TO=&quot;FC&quot; FO=&quot;RC&quot; V=&quot;E&quot; ICR=&quot;5000&quot; /&amp;gt;&amp;lt;C CCC=&quot;163214729&quot; FO=&quot;RC&quot; V=&quot;E&quot; /&amp;gt;&amp;lt;/EuriscACResponse&amp;gt;&amp;lt;/MGResponse&amp;gt;&lt;/MGResponse&gt;\n    &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>and I have 2 pojos, one for the header and the other for the body.\nwhilst I succeed in deserialize the header, the body gives me an headache.</p>\n<p>the <em>header</em> pojo is</p>\n<pre><code>package generatedschema.header;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAnyAttribute;\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.bind.annotation.adapters.CollapsedStringAdapter;\nimport javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\nimport javax.xml.datatype.XMLGregorianCalendar;\nimport javax.xml.namespace.QName;\n\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;p&quot;,\n    &quot;tx&quot;,\n    &quot;any&quot;\n})\n@XmlRootElement(name = &quot;MessageResponse&quot;)\npublic class MessageResponse\n    extends MessageAttributeSet\n{\n\n    @XmlElement(name = &quot;P&quot;, required = true)\n    protected List&lt;MessageResponse.P&gt; p;\n    @XmlElement(name = &quot;Tx&quot;, required = true)\n    protected MessageResponse.Tx tx;\n    @XmlAnyElement(lax = true)\n    protected List&lt;Object&gt; any;\n    @XmlAttribute(name = &quot;METs&quot;, required = true)\n    @XmlSchemaType(name = &quot;dateTime&quot;)\n    protected XMLGregorianCalendar meTs;\n\n    public List&lt;MessageResponse.P&gt; getP() {\n        if (p == null) {\n            p = new ArrayList&lt;MessageResponse.P&gt;();\n        }\n        return this.p;\n    }\n\n    public MessageResponse.Tx getTx() {\n        return tx;\n    }\n\n    public void setTx(MessageResponse.Tx value) {\n        this.tx = value;\n    }\n\n    public List&lt;Object&gt; getAny() {\n        if (any == null) {\n            any = new ArrayList&lt;Object&gt;();\n        }\n        return this.any;\n    }\n\n    public XMLGregorianCalendar getMETs() {\n        return meTs;\n    }\n\n    public void setMETs(XMLGregorianCalendar value) {\n        this.meTs = value;\n    }\n\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = {\n        &quot;r&quot;,\n        &quot;any&quot;\n    })\n    public static class P {\n\n        @XmlElement(name = &quot;R&quot;, required = true)\n        protected MessageResponse.P.R r;\n        @XmlAnyElement(lax = true)\n        protected List&lt;Object&gt; any;\n        @XmlAttribute(name = &quot;SId&quot;, required = true)\n        protected String sId;\n        @XmlAttribute(name = &quot;PId&quot;, required = true)\n        protected String pId;\n        @XmlAttribute(name = &quot;PNs&quot;, required = true)\n        protected String pNs;\n        @XmlAnyAttribute\n        private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n\n        public MessageResponse.P.R getR() {\n            return r;\n        }\n\n        public void setR(MessageResponse.P.R value) {\n            this.r = value;\n        }\n\n        public List&lt;Object&gt; getAny() {\n            if (any == null) {\n                any = new ArrayList&lt;Object&gt;();\n            }\n            return this.any;\n        }\n\n        public String getSId() {\n            return sId;\n        }\n\n        public void setSId(String value) {\n            this.sId = value;\n        }\n\n        public String getPId() {\n            return pId;\n        }\n\n        public void setPId(String value) {\n            this.pId = value;\n        }\n\n        public String getPNs() {\n            return pNs;\n        }\n\n        public void setPNs(String value) {\n            this.pNs = value;\n        }\n\n        public Map&lt;QName, String&gt; getOtherAttributes() {\n            return otherAttributes;\n        }\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = &quot;&quot;)\n        public static class R {\n\n            @XmlAttribute(name = &quot;L&quot;, required = true)\n            @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n            @XmlSchemaType(name = &quot;language&quot;)\n            protected String l;\n            @XmlAttribute(name = &quot;C&quot;, required = true)\n            @XmlSchemaType(name = &quot;anyURI&quot;)\n            protected String c;\n            @XmlAttribute(name = &quot;D&quot;, required = true)\n            protected String d;\n            @XmlAnyAttribute\n            private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n\n            public String getL() {\n                return l;\n            }\n\n            public void setL(String value) {\n                this.l = value;\n            }\n\n            public String getC() {\n                return c;\n            }\n\n            public void setC(String value) {\n                this.c = value;\n            }\n\n            public String getD() {\n                return d;\n            }\n\n            public void setD(String value) {\n                this.d = value;\n            }\n\n            public Map&lt;QName, String&gt; getOtherAttributes() {\n                return otherAttributes;\n            }\n\n        }\n\n    }\n\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;, propOrder = {\n        &quot;r&quot;,\n        &quot;any&quot;\n    })\n    public static class Tx {\n\n        @XmlElement(name = &quot;R&quot;, required = true)\n        protected MessageResponse.Tx.R r;\n        @XmlAnyElement(lax = true)\n        protected List&lt;Object&gt; any;\n        @XmlAttribute(name = &quot;TxNs&quot;, required = true)\n        protected String txNs;\n        @XmlAnyAttribute\n        private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n\n        public MessageResponse.Tx.R getR() {\n            return r;\n        }\n\n        public void setR(MessageResponse.Tx.R value) {\n            this.r = value;\n        }\n\n        public List&lt;Object&gt; getAny() {\n            if (any == null) {\n                any = new ArrayList&lt;Object&gt;();\n            }\n            return this.any;\n        }\n\n        public String getTxNs() {\n            return txNs;\n        }\n\n        public void setTxNs(String value) {\n            this.txNs = value;\n        }\n\n        public Map&lt;QName, String&gt; getOtherAttributes() {\n            return otherAttributes;\n        }\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = &quot;&quot;)\n        public static class R {\n\n            @XmlAttribute(name = &quot;L&quot;, required = true)\n            @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n            @XmlSchemaType(name = &quot;language&quot;)\n            protected String l;\n            @XmlAttribute(name = &quot;C&quot;, required = true)\n            @XmlSchemaType(name = &quot;anyURI&quot;)\n            protected String c;\n            @XmlAttribute(name = &quot;D&quot;, required = true)\n            protected String d;\n            @XmlAnyAttribute\n            private Map&lt;QName, String&gt; otherAttributes = new HashMap&lt;QName, String&gt;();\n\n            public String getL() {\n                return l;\n            }\n\n            public void setL(String value) {\n                this.l = value;\n            }\n\n            public String getC() {\n                return c;\n            }\n\n            public void setC(String value) {\n                this.c = value;\n            }\n\n            public String getD() {\n                return d;\n            }\n\n            public void setD(String value) {\n                this.d = value;\n            }\n\n            public Map&lt;QName, String&gt; getOtherAttributes() {\n                return otherAttributes;\n            }\n        }\n    }\n}\n</code></pre>\n<p>and the pojo for the <em>body</em> in</p>\n<pre><code>package generatedschema.eurisc;\nimport java.math.BigInteger;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.datatype.XMLGregorianCalendar;\n\n@XmlRootElement(name = &quot;EuriscACResponse&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;&quot;, propOrder = {\n    &quot;cd&quot;,\n    &quot;c&quot;,\n    &quot;e&quot;\n})\npublic class EuriscACResponse {\n    @XmlElement(name = &quot;CD&quot;)\n    protected EuriscACResponse.CD cd;\n    @XmlElement(name = &quot;C&quot;)\n    protected EuriscACResponse.C c;\n    @XmlElement(name = &quot;E&quot;)\n    protected List&lt;Errore&gt; e;\n    public EuriscACResponse.CD getCD() {\n        return cd;\n    }\n    public void setCD(EuriscACResponse.CD value) {\n        this.cd = value;\n    }\n    public EuriscACResponse.C getC() {\n        return c;\n    }\n    public void setC(EuriscACResponse.C value) {\n        this.c = value;\n    }\n    public List&lt;Errore&gt; getE() {\n        if (e == null) {\n            e = new ArrayList&lt;Errore&gt;();\n        }\n        return this.e;\n    }\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;)\n    public static class C {\n        @XmlAttribute(name = &quot;CCC&quot;)\n        protected String ccc;\n        @XmlAttribute(name = &quot;CCE&quot;)\n        protected String cce;\n        @XmlAttribute(name = &quot;CCT&quot;)\n        protected String cct;\n        @XmlAttribute(name = &quot;FO&quot;)\n        protected String fo;\n        @XmlAttribute(name = &quot;V&quot;)\n        protected String v;\n        @XmlAttribute(name = &quot;LUI&quot;)\n        protected Boolean lui;\n        @XmlAttribute(name = &quot;ICR&quot;)\n        protected BigInteger icr;\n        @XmlAttribute(name = &quot;IRM&quot;)\n        protected BigInteger irm;\n        @XmlAttribute(name = &quot;FAC&quot;)\n        protected String fac;\n        @XmlAttribute(name = &quot;S&quot;)\n        protected String s;\n        public String getCCC() {\n            return ccc;\n        }\n        public void setCCC(String value) {\n            this.ccc = value;\n        }\n        public String getCCE() {\n            return cce;\n        }\n        public void setCCE(String value) {\n            this.cce = value;\n        }\n        public String getCCT() {\n            return cct;\n        }\n        public void setCCT(String value) {\n            this.cct = value;\n        }\n        public String getFO() {\n            return fo;\n        }\n        public void setFO(String value) {\n            this.fo = value;\n        }\n        public String getV() {\n            return v;\n        }\n        public void setV(String value) {\n            this.v = value;\n        }\n        public Boolean isLUI() {\n            return lui;\n        }\n        public void setLUI(Boolean value) {\n            this.lui = value;\n        }\n        public BigInteger getICR() {\n            return icr;\n        }\n        public void setICR(BigInteger value) {\n            this.icr = value;\n        }\n        public BigInteger getIRM() {\n            return irm;\n        }\n        public void setIRM(BigInteger value) {\n            this.irm = value;\n        }\n        public String getFAC() {\n            return fac;\n        }\n        public void setFAC(String value) {\n            this.fac = value;\n        }\n        public String getS() {\n            return s;\n        }\n        public void setS(String value) {\n            this.s = value;\n        }\n    }\n    @XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;&quot;)\n    public static class CD {\n        @XmlAttribute(name = &quot;CCC&quot;, required = true)\n        protected String ccc;\n        @XmlAttribute(name = &quot;CCE&quot;)\n        protected String cce;\n        @XmlAttribute(name = &quot;CCT&quot;)\n        protected String cct;\n        @XmlAttribute(name = &quot;DRF&quot;)\n        @XmlSchemaType(name = &quot;date&quot;)\n        protected XMLGregorianCalendar drf;\n        @XmlAttribute(name = &quot;DIO&quot;)\n        @XmlSchemaType(name = &quot;date&quot;)\n        protected XMLGregorianCalendar dio;\n        @XmlAttribute(name = &quot;TO&quot;, required = true)\n        protected String to;\n        @XmlAttribute(name = &quot;FO&quot;)\n        protected String fo;\n        @XmlAttribute(name = &quot;V&quot;)\n        protected String v;\n        @XmlAttribute(name = &quot;ICR&quot;)\n        protected BigInteger icr;\n        @XmlAttribute(name = &quot;IRM&quot;)\n        protected BigInteger irm;\n        @XmlAttribute(name = &quot;NR&quot;)\n        protected Integer nr;\n        @XmlAttribute(name = &quot;PR&quot;)\n        protected String pr;\n        @XmlAttribute(name = &quot;LUI&quot;)\n        protected Boolean lui;\n        public String getCCC() {\n            return ccc;\n        }\n        public void setCCC(String value) {\n            this.ccc = value;\n        }\n        public String getCCE() {\n            return cce;\n        }\n        public void setCCE(String value) {\n            this.cce = value;\n        }\n        public String getCCT() {\n            return cct;\n        }\n        public void setCCT(String value) {\n            this.cct = value;\n        }\n        public XMLGregorianCalendar getDRF() {\n            return drf;\n        }\n        public void setDRF(XMLGregorianCalendar value) {\n            this.drf = value;\n        }\n        public XMLGregorianCalendar getDIO() {\n            return dio;\n        }\n        public void setDIO(XMLGregorianCalendar value) {\n            this.dio = value;\n        }\n        public String getTO() {\n            return to;\n        }\n        public void setTO(String value) {\n            this.to = value;\n        }\n        public String getFO() {\n            return fo;\n        }\n        public void setFO(String value) {\n            this.fo = value;\n        }\n        public String getV() {\n            return v;\n        }\n        public void setV(String value) {\n            this.v = value;\n        }\n        public BigInteger getICR() {\n            return icr;\n        }\n        public void setICR(BigInteger value) {\n            this.icr = value;\n        }\n        public BigInteger getIRM() {\n            return irm;\n        }\n        public void setIRM(BigInteger value) {\n            this.irm = value;\n        }\n        public Integer getNR() {\n            return nr;\n        }\n        public void setNR(Integer value) {\n            this.nr = value;\n        }\n        public String getPR() {\n            return pr;\n        }\n        public void setPR(String value) {\n            this.pr = value;\n        }\n        public Boolean isLUI() {\n            return lui;\n        }\n        public void setLUI(Boolean value) {\n            this.lui = value;\n        }\n    }\n}\n</code></pre>\n<p>the snippet in which I try to deserialize is like this</p>\n<pre><code>    JAXBContext jaxbContext = JAXBContext.newInstance(MessageResponse.class, EuriscACResponse.class);\n    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n\n    JAXBElement&lt;MessageResponse&gt; soapHead = unmarshaller.unmarshal(soapResponse.getSOAPHeader(), MessageResponse.class);\n    List&lt;Object&gt; elementi = soapHead.getValue().getAny();\n    MessageResponse result = (MessageResponse) elementi.get(0);\n    List&lt;P&gt; risultatoFinaleHeader = result.getP();\n    String descrizioneErroreHeader = risultatoFinaleHeader.get(0).getR().getD();\n\n    if (!descrizioneErroreHeader.equals(&quot;Success.&quot;)) {\n        rispostaDto.setDescrErrore(&quot;Errore: &quot; + descrizioneErroreHeader);\n    } else {\n        JAXBElement&lt;EuriscACResponse&gt; soapBody = unmarshaller.unmarshal(soapResponse.getSOAPBody().getFirstChild().getFirstChild(), EuriscACResponse.class);\n</code></pre>\n<p>but it result in an error:</p>\n<pre><code>java.lang.IllegalArgumentException: Unexpected node type: [#text: &lt;MGResponse xmlns=&quot;urn:crif-messagegateway:2006-08-23&quot;&gt;&lt;EuriscACResponse xmlns=&quot;urn:crif-anagraficaunica-eurisc:2006-11-28&quot;&gt;&lt;CD CCC=&quot;163214729&quot; DRF=&quot;2023-02-27&quot; TO=&quot;FC&quot; FO=&quot;RC&quot; V=&quot;E&quot; ICR=&quot;5000&quot; /&gt;&lt;C CCC=&quot;163214729&quot; FO=&quot;RC&quot; V=&quot;E&quot; /&gt;&lt;/EuriscACResponse&gt;&lt;/MGResponse&gt;]\n</code></pre>\n<p>where is my mistake?\nI'm expecting that using the two getFirstChild lead me to the EuriscACResponse node, but obviously it's not so simple.</p>\n"},{"tags":["java","input","java.util.scanner","nosuchelementexception"],"answers":[{"tags":[],"owner":{"display_name":"user1766873"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1351046827,"creation_date":1351045131,"answer_id":13042106,"question_id":13042008,"body_markdown":"The problem is\r\n\r\n&gt; When a Scanner is closed, it will close its input source if the source implements the Closeable interface.\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\r\n\r\nThus `scan.close()` closes `System.in`.\r\n\r\n\r\nTo fix it you can make\r\n\r\n`Scanner scan` `static`\r\nand do not close it in PromptCustomerQty.  Code below works.\r\n\r\n\r\n    public static void main (String[] args) {   \r\n\r\n    // Create a customer\r\n    // Future proofing the possabiltiies of multiple customers\r\n    Customer customer = new Customer(&quot;Will&quot;);\r\n\r\n    // Create object for each Product\r\n    // (Name,Code,Description,Price)\r\n    // Initalize Qty at 0\r\n    Product Computer = new Product(&quot;Computer&quot;,&quot;PC1003&quot;,&quot;Basic Computer&quot;,399.99); \r\n    Product Monitor = new Product(&quot;Monitor&quot;,&quot;MN1003&quot;,&quot;LCD Monitor&quot;,99.99);\r\n    Product Printer = new Product(&quot;Printer&quot;,&quot;PR1003x&quot;,&quot;Inkjet Printer&quot;,54.23);\r\n\r\n    // Define internal variables \r\n    // ## DONT CHANGE \r\n    ArrayList&lt;Product&gt; ProductList = new ArrayList&lt;Product&gt;(); // List to store Products\r\n    String formatString = &quot;%-15s %-10s %-20s %-10s %-10s %n&quot;; // Default format for output\r\n\r\n    // Add objects to list\r\n    ProductList.add(Computer);\r\n    ProductList.add(Monitor);\r\n    ProductList.add(Printer);\r\n\r\n    // Ask users for quantities \r\n    PromptCustomerQty(customer, ProductList);\r\n\r\n    // Ask user for payment method\r\n    PromptCustomerPayment(customer);\r\n\r\n    // Create the header\r\n    PrintHeader(customer, formatString);\r\n\r\n    // Create Body\r\n    PrintBody(ProductList, formatString);   \r\n    }\r\n\r\n    static Scanner scan;\r\n\r\n    public static void PromptCustomerQty(Customer customer, ArrayList&lt;Product&gt; ProductList)               {\r\n    // Initiate a Scanner\r\n    scan = new Scanner(System.in);\r\n\r\n    // **** VARIABLES ****\r\n    int qty = 0;\r\n\r\n    // Greet Customer\r\n    System.out.println(&quot;Hello &quot; + customer.getName());\r\n\r\n    // Loop through each item and ask for qty desired\r\n    for (Product p : ProductList) {\r\n\r\n        do {\r\n        // Ask user for qty\r\n        System.out.println(&quot;How many would you like for product: &quot; + p.name);\r\n        System.out.print(&quot;&gt; &quot;);\r\n\r\n        // Get input and set qty for the object\r\n        qty = scan.nextInt();\r\n\r\n        }\r\n        while (qty &lt; 0); // Validation\r\n\r\n        p.setQty(qty); // Set qty for object\r\n        qty = 0; // Reset count\r\n    }\r\n\r\n    // Cleanup\r\n\r\n    }\r\n\r\n    public static void PromptCustomerPayment (Customer customer) {\r\n    // Variables\r\n    String payment = &quot;&quot;;\r\n\r\n    // Prompt User\r\n    do {\r\n    System.out.println(&quot;Would you like to pay in full? [Yes/No]&quot;);\r\n    System.out.print(&quot;&gt; &quot;);\r\n\r\n    payment = scan.next();\r\n\r\n    } while ((!payment.toLowerCase().equals(&quot;yes&quot;)) &amp;&amp; (!payment.toLowerCase().equals(&quot;no&quot;)));\r\n\r\n    // Check/set result\r\n    if (payment.toLowerCase() == &quot;yes&quot;) {\r\n        customer.setPaidInFull(true);\r\n    }\r\n    else {\r\n        customer.setPaidInFull(false);\r\n    }\r\n    }\r\n\r\n\r\nOn a side note, you shouldn&#39;t use `==` for String comparision, use `.equals` instead.","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>The problem is</p>\n\n<blockquote>\n  <p>When a Scanner is closed, it will close its input source if the source implements the Closeable interface.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html</a></p>\n\n<p>Thus <code>scan.close()</code> closes <code>System.in</code>.</p>\n\n<p>To fix it you can make</p>\n\n<p><code>Scanner scan</code> <code>static</code>\nand do not close it in PromptCustomerQty.  Code below works.</p>\n\n<pre><code>public static void main (String[] args) {   \n\n// Create a customer\n// Future proofing the possabiltiies of multiple customers\nCustomer customer = new Customer(\"Will\");\n\n// Create object for each Product\n// (Name,Code,Description,Price)\n// Initalize Qty at 0\nProduct Computer = new Product(\"Computer\",\"PC1003\",\"Basic Computer\",399.99); \nProduct Monitor = new Product(\"Monitor\",\"MN1003\",\"LCD Monitor\",99.99);\nProduct Printer = new Product(\"Printer\",\"PR1003x\",\"Inkjet Printer\",54.23);\n\n// Define internal variables \n// ## DONT CHANGE \nArrayList&lt;Product&gt; ProductList = new ArrayList&lt;Product&gt;(); // List to store Products\nString formatString = \"%-15s %-10s %-20s %-10s %-10s %n\"; // Default format for output\n\n// Add objects to list\nProductList.add(Computer);\nProductList.add(Monitor);\nProductList.add(Printer);\n\n// Ask users for quantities \nPromptCustomerQty(customer, ProductList);\n\n// Ask user for payment method\nPromptCustomerPayment(customer);\n\n// Create the header\nPrintHeader(customer, formatString);\n\n// Create Body\nPrintBody(ProductList, formatString);   \n}\n\nstatic Scanner scan;\n\npublic static void PromptCustomerQty(Customer customer, ArrayList&lt;Product&gt; ProductList)               {\n// Initiate a Scanner\nscan = new Scanner(System.in);\n\n// **** VARIABLES ****\nint qty = 0;\n\n// Greet Customer\nSystem.out.println(\"Hello \" + customer.getName());\n\n// Loop through each item and ask for qty desired\nfor (Product p : ProductList) {\n\n    do {\n    // Ask user for qty\n    System.out.println(\"How many would you like for product: \" + p.name);\n    System.out.print(\"&gt; \");\n\n    // Get input and set qty for the object\n    qty = scan.nextInt();\n\n    }\n    while (qty &lt; 0); // Validation\n\n    p.setQty(qty); // Set qty for object\n    qty = 0; // Reset count\n}\n\n// Cleanup\n\n}\n\npublic static void PromptCustomerPayment (Customer customer) {\n// Variables\nString payment = \"\";\n\n// Prompt User\ndo {\nSystem.out.println(\"Would you like to pay in full? [Yes/No]\");\nSystem.out.print(\"&gt; \");\n\npayment = scan.next();\n\n} while ((!payment.toLowerCase().equals(\"yes\")) &amp;&amp; (!payment.toLowerCase().equals(\"no\")));\n\n// Check/set result\nif (payment.toLowerCase() == \"yes\") {\n    customer.setPaidInFull(true);\n}\nelse {\n    customer.setPaidInFull(false);\n}\n}\n</code></pre>\n\n<p>On a side note, you shouldn't use <code>==</code> for String comparision, use <code>.equals</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"down_vote_count":0,"up_vote_count":190,"is_accepted":true,"score":190,"last_activity_date":1469973276,"creation_date":1351046757,"answer_id":13042296,"question_id":13042008,"body_markdown":"**This has really puzzled me for a while but this is what I found in the end.**\r\n\r\nWhen you call, `sc.close()` in first method, it not only closes your scanner but closes your `System.in` input stream as well. You can verify it by printing its status at very top of the second method as :\r\n\r\n        System.out.println(System.in.available());\r\n\r\nSo, now when you re-instantiate, `Scanner` in second method, it doesn&#39;t find any open `System.in` stream and hence the exception.\r\n\r\nI doubt if there is any way out to reopen `System.in` because:\r\n\r\n`public void close() throws IOException --&gt; Closes this input stream and releases any system resources associated with this stream. The general contract of close is that it closes the input stream. A closed stream cannot perform input operations and **cannot be reopened.**`\r\n\r\nThe only good solution for your problem is to initiate the `Scanner` in your main method, pass that as argument in your two methods, and close it again in your main method e.g.:\r\n   \r\n`main` method related code block:\r\n\r\n    Scanner scanner = new Scanner(System.in);  \r\n    \r\n    // Ask users for quantities \r\n    PromptCustomerQty(customer, ProductList, scanner );\r\n\r\n    // Ask user for payment method\r\n    PromptCustomerPayment(customer, scanner );\r\n     \r\n    //close the scanner \r\n    scanner.close();\r\n\r\n\r\nYour Methods:\r\n\r\n     public static void PromptCustomerQty(Customer customer, \r\n                                 ArrayList&lt;Product&gt; ProductList, Scanner scanner) {\r\n\r\n        // no more scanner instantiation\r\n        ...\r\n        // no more scanner close\r\n     }\r\n\r\n\r\n     public static void PromptCustomerPayment (Customer customer, Scanner sc) {\r\n\r\n        // no more scanner instantiation\r\n        ...\r\n        // no more scanner close\r\n     }\r\n\r\nHope this gives you some insight about the failure and possible resolution.\r\n","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p><strong>This has really puzzled me for a while but this is what I found in the end.</strong></p>\n\n<p>When you call, <code>sc.close()</code> in first method, it not only closes your scanner but closes your <code>System.in</code> input stream as well. You can verify it by printing its status at very top of the second method as :</p>\n\n<pre><code>    System.out.println(System.in.available());\n</code></pre>\n\n<p>So, now when you re-instantiate, <code>Scanner</code> in second method, it doesn't find any open <code>System.in</code> stream and hence the exception.</p>\n\n<p>I doubt if there is any way out to reopen <code>System.in</code> because:</p>\n\n<p><code>public void close() throws IOException --&gt; Closes this input stream and releases any system resources associated with this stream. The general contract of close is that it closes the input stream. A closed stream cannot perform input operations and **cannot be reopened.**</code></p>\n\n<p>The only good solution for your problem is to initiate the <code>Scanner</code> in your main method, pass that as argument in your two methods, and close it again in your main method e.g.:</p>\n\n<p><code>main</code> method related code block:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);  \n\n// Ask users for quantities \nPromptCustomerQty(customer, ProductList, scanner );\n\n// Ask user for payment method\nPromptCustomerPayment(customer, scanner );\n\n//close the scanner \nscanner.close();\n</code></pre>\n\n<p>Your Methods:</p>\n\n<pre><code> public static void PromptCustomerQty(Customer customer, \n                             ArrayList&lt;Product&gt; ProductList, Scanner scanner) {\n\n    // no more scanner instantiation\n    ...\n    // no more scanner close\n }\n\n\n public static void PromptCustomerPayment (Customer customer, Scanner sc) {\n\n    // no more scanner instantiation\n    ...\n    // no more scanner close\n }\n</code></pre>\n\n<p>Hope this gives you some insight about the failure and possible resolution.</p>\n"},{"tags":[],"owner":{"account_id":19204643,"reputation":95,"user_id":14031802,"display_name":"Shady"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597743876,"creation_date":1597737687,"answer_id":63464274,"question_id":13042008,"body_markdown":"You need to remove the scanner closing lines: `scan.close();`\r\n\r\nIt happened to me before and that was the reason.\r\n\r\n\r\n\r\n","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>You need to remove the scanner closing lines: <code>scan.close();</code></p>\n<p>It happened to me before and that was the reason.</p>\n"},{"tags":[],"owner":{"account_id":19958834,"reputation":21,"user_id":14626924,"display_name":"Eduardo Salvadinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605195959,"creation_date":1605195959,"answer_id":64807117,"question_id":13042008,"body_markdown":"the reason of the exception has been explained already, however the suggested solution isn&#39;t really the best.\r\n\r\nYou should create a class that keeps a Scanner as private using Singleton Pattern, that makes that scanner unique on your code.\r\n\r\nThen you can implement the methods you need or you can create a getScanner ( not recommended ) and you can control it with a private boolean, something like alreadyClosed.\r\n\r\nIf you are not aware how to use Singleton Pattern, here&#39;s a example:\r\n\r\n```\r\npublic class Reader {\r\n\t\r\n\t\r\n\tprivate Scanner reader;\r\n\tprivate static Reader singleton = null;\r\n\tprivate boolean alreadyClosed;\r\n\t\r\n\tprivate Reader() {\r\n\t\talreadyClosed = false;\r\n\t\treader = new Scanner(System.in);\r\n\t}\r\n\t\r\n\tpublic static Reader getInstance() {\r\n\t\tif(singleton == null) {\r\n\t\t\tsingleton = new Reader();\r\n\t\t}\r\n\t\treturn singleton;\r\n\t}\r\n\t\r\n\tpublic int nextInt() throws AlreadyClosedException {\r\n\t\tif(!alreadyClosed) {\r\n\t\t\treturn reader.nextInt();\r\n\t\t}\r\n\t\tthrow new AlreadyClosedException(); //Custom exception\r\n\t}\r\n\t\r\n\tpublic double nextDouble() throws AlreadyClosedException {\r\n\t\tif(!alreadyClosed) {\r\n\t\t\treturn reader.nextDouble();\r\n\t\t}\r\n\t\tthrow new AlreadyClosedException();\r\n\t}\r\n\t\r\n\tpublic String nextLine() throws AlreadyClosedException {\r\n\t\tif(!alreadyClosed) {\r\n\t\t\treturn reader.nextLine();\r\n\t\t}\r\n\t\tthrow new AlreadyClosedException();\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\t\talreadyClosed = true;\r\n\t\treader.close();\r\n\t}\t\r\n}\r\n\r\n```\r\n","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>the reason of the exception has been explained already, however the suggested solution isn't really the best.</p>\n<p>You should create a class that keeps a Scanner as private using Singleton Pattern, that makes that scanner unique on your code.</p>\n<p>Then you can implement the methods you need or you can create a getScanner ( not recommended ) and you can control it with a private boolean, something like alreadyClosed.</p>\n<p>If you are not aware how to use Singleton Pattern, here's a example:</p>\n<pre><code>public class Reader {\n    \n    \n    private Scanner reader;\n    private static Reader singleton = null;\n    private boolean alreadyClosed;\n    \n    private Reader() {\n        alreadyClosed = false;\n        reader = new Scanner(System.in);\n    }\n    \n    public static Reader getInstance() {\n        if(singleton == null) {\n            singleton = new Reader();\n        }\n        return singleton;\n    }\n    \n    public int nextInt() throws AlreadyClosedException {\n        if(!alreadyClosed) {\n            return reader.nextInt();\n        }\n        throw new AlreadyClosedException(); //Custom exception\n    }\n    \n    public double nextDouble() throws AlreadyClosedException {\n        if(!alreadyClosed) {\n            return reader.nextDouble();\n        }\n        throw new AlreadyClosedException();\n    }\n    \n    public String nextLine() throws AlreadyClosedException {\n        if(!alreadyClosed) {\n            return reader.nextLine();\n        }\n        throw new AlreadyClosedException();\n    }\n    \n    public void close() {\n        alreadyClosed = true;\n        reader.close();\n    }   \n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14633071,"reputation":358,"user_id":10568210,"display_name":"Alex Ertl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647227770,"creation_date":1647227770,"answer_id":71462635,"question_id":13042008,"body_markdown":"For anyone who arrived here while taking an online exam on a site like HackerRank-\r\n\r\nYou might receive this if you are trying to test your (possibly) perfectly fine code by clicking the button to execute main() with custom input.\r\n\r\nIn this case, you need to be clicking the other button, something like &quot;Run Unit Tests&quot;. You&#39;re likely only being evaluated on whether the code passes the unit tests they wrote- not your ability to refactor code to fewer LOC or your coding style.","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>For anyone who arrived here while taking an online exam on a site like HackerRank-</p>\n<p>You might receive this if you are trying to test your (possibly) perfectly fine code by clicking the button to execute main() with custom input.</p>\n<p>In this case, you need to be clicking the other button, something like &quot;Run Unit Tests&quot;. You're likely only being evaluated on whether the code passes the unit tests they wrote- not your ability to refactor code to fewer LOC or your coding style.</p>\n"},{"tags":[],"owner":{"account_id":27929294,"reputation":1,"user_id":21327729,"display_name":"Maheeka Kossinna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677865299,"creation_date":1677865299,"answer_id":75630268,"question_id":13042008,"body_markdown":"Found this thread because I ran into the same problem. After finding the cause from here, a method I found to be useful was to use the separate scanner objects for the different uses (since it is otherwise buggy if taking multiple inputs with a single scanner objects), and then close all scanner objects when all scanner objects are finished being used. Made for clearer code and didn&#39;t run into any problems after that.","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>Found this thread because I ran into the same problem. After finding the cause from here, a method I found to be useful was to use the separate scanner objects for the different uses (since it is otherwise buggy if taking multiple inputs with a single scanner objects), and then close all scanner objects when all scanner objects are finished being used. Made for clearer code and didn't run into any problems after that.</p>\n"}],"owner":{"account_id":1971095,"reputation":1537,"user_id":1769999,"accept_rate":84,"display_name":"fortune"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156645,"favorite_count":0,"down_vote_count":1,"up_vote_count":91,"accepted_answer_id":13042296,"answer_count":6,"score":90,"last_activity_date":1677865299,"creation_date":1351044285,"question_id":13042008,"body_markdown":"I&#39;m new to using Java, but I have some previous experience with C#. The issue I&#39;m having comes with reading user input from console.\r\n\r\nI&#39;m running into the &quot;java.util.NoSuchElementException&quot; error with this portion of code:\r\n\r\n    payment = sc.next(); // PromptCustomerPayment function\r\n\r\nI have two functions that get user input:\r\n\r\n - PromptCustomerQty\r\n - PromptCustomerPayment\r\n\r\nIf I don&#39;t call PromptCustomerQty then I don&#39;t get this error, which leads me to believe I am doing something wrong with scanner. Below is my full code sample. I appreciate any help. \r\n\r\n    public static void main (String[] args) {\t\r\n\t\t\r\n\t\t// Create a customer\r\n\t\t// Future proofing the possabiltiies of multiple customers\r\n\t\tCustomer customer = new Customer(&quot;Will&quot;);\r\n\t\t\r\n\t\t// Create object for each Product\r\n\t\t// (Name,Code,Description,Price)\r\n\t\t// Initalize Qty at 0\r\n\t\tProduct Computer = new Product(&quot;Computer&quot;,&quot;PC1003&quot;,&quot;Basic Computer&quot;,399.99); \r\n\t\tProduct Monitor = new Product(&quot;Monitor&quot;,&quot;MN1003&quot;,&quot;LCD Monitor&quot;,99.99);\r\n\t\tProduct Printer = new Product(&quot;Printer&quot;,&quot;PR1003x&quot;,&quot;Inkjet Printer&quot;,54.23);\r\n\t\t\r\n\t\t// Define internal variables \r\n\t\t// ## DONT CHANGE \r\n\t\tArrayList&lt;Product&gt; ProductList = new ArrayList&lt;Product&gt;(); // List to store Products\r\n\t\tString formatString = &quot;%-15s %-10s %-20s %-10s %-10s %n&quot;; // Default format for output\r\n\r\n\t\t// Add objects to list\r\n\t\tProductList.add(Computer);\r\n\t\tProductList.add(Monitor);\r\n\t\tProductList.add(Printer);\r\n\t\t\r\n\t\t// Ask users for quantities \r\n\t\tPromptCustomerQty(customer, ProductList);\r\n\t\t\r\n\t\t// Ask user for payment method\r\n\t\tPromptCustomerPayment(customer);\r\n\t\t\r\n\t\t// Create the header\r\n\t\tPrintHeader(customer, formatString);\r\n\t\t\r\n\t\t// Create Body\r\n\t\tPrintBody(ProductList, formatString);\t\r\n\t}\r\n\t\r\n\tpublic static void PromptCustomerQty(Customer customer, ArrayList&lt;Product&gt; ProductList) {\r\n\t\t// Initiate a Scanner\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\t// **** VARIABLES ****\r\n\t\tint qty = 0;\r\n\t\t\r\n\t\t// Greet Customer\r\n\t\tSystem.out.println(&quot;Hello &quot; + customer.getName());\r\n\t\t\r\n\t\t// Loop through each item and ask for qty desired\r\n\t\tfor (Product p : ProductList) {\r\n\t\r\n\t\t\tdo {\r\n\t\t\t// Ask user for qty\r\n\t\t\tSystem.out.println(&quot;How many would you like for product: &quot; + p.name);\r\n\t\t\tSystem.out.print(&quot;&gt; &quot;);\r\n\t\t\t\r\n\t\t\t// Get input and set qty for the object\r\n\t\t\tqty = scan.nextInt();\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\twhile (qty &lt; 0); // Validation\r\n\t\t\t\r\n\t\t\tp.setQty(qty); // Set qty for object\r\n\t\t\tqty = 0; // Reset count\r\n\t\t}\r\n\t\t\r\n\t\t// Cleanup\r\n\t\tscan.close();\r\n\t}\r\n\t\r\n\tpublic static void PromptCustomerPayment (Customer customer) {\r\n\t\t// Initiate Scanner \r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\t// Variables\r\n\t\tString payment = &quot;&quot;;\r\n\r\n\t\t// Prompt User\r\n\t\tdo {\r\n\t\tSystem.out.println(&quot;Would you like to pay in full? [Yes/No]&quot;);\r\n\t\tSystem.out.print(&quot;&gt; &quot;);\r\n\t\t\r\n\t\tpayment = sc.next();\r\n\t\t\r\n\t\t} while ((!payment.toLowerCase().equals(&quot;yes&quot;)) &amp;&amp; (!payment.toLowerCase().equals(&quot;no&quot;)));\r\n\t\t\r\n\t\t// Check/set result\r\n\t\tif (payment.toLowerCase().equals(&quot;yes&quot;)) {\r\n\t\t\tcustomer.setPaidInFull(true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcustomer.setPaidInFull(false);\r\n\t\t}\r\n\t\t\r\n\t\t// Cleanup\r\n\t\tsc.close();\t\r\n\t}","title":"java.util.NoSuchElementException - Scanner reading user input","body":"<p>I'm new to using Java, but I have some previous experience with C#. The issue I'm having comes with reading user input from console.</p>\n<p>I'm running into the &quot;java.util.NoSuchElementException&quot; error with this portion of code:</p>\n<pre><code>payment = sc.next(); // PromptCustomerPayment function\n</code></pre>\n<p>I have two functions that get user input:</p>\n<ul>\n<li>PromptCustomerQty</li>\n<li>PromptCustomerPayment</li>\n</ul>\n<p>If I don't call PromptCustomerQty then I don't get this error, which leads me to believe I am doing something wrong with scanner. Below is my full code sample. I appreciate any help.</p>\n<pre><code>public static void main (String[] args) {   \n    \n    // Create a customer\n    // Future proofing the possabiltiies of multiple customers\n    Customer customer = new Customer(&quot;Will&quot;);\n    \n    // Create object for each Product\n    // (Name,Code,Description,Price)\n    // Initalize Qty at 0\n    Product Computer = new Product(&quot;Computer&quot;,&quot;PC1003&quot;,&quot;Basic Computer&quot;,399.99); \n    Product Monitor = new Product(&quot;Monitor&quot;,&quot;MN1003&quot;,&quot;LCD Monitor&quot;,99.99);\n    Product Printer = new Product(&quot;Printer&quot;,&quot;PR1003x&quot;,&quot;Inkjet Printer&quot;,54.23);\n    \n    // Define internal variables \n    // ## DONT CHANGE \n    ArrayList&lt;Product&gt; ProductList = new ArrayList&lt;Product&gt;(); // List to store Products\n    String formatString = &quot;%-15s %-10s %-20s %-10s %-10s %n&quot;; // Default format for output\n\n    // Add objects to list\n    ProductList.add(Computer);\n    ProductList.add(Monitor);\n    ProductList.add(Printer);\n    \n    // Ask users for quantities \n    PromptCustomerQty(customer, ProductList);\n    \n    // Ask user for payment method\n    PromptCustomerPayment(customer);\n    \n    // Create the header\n    PrintHeader(customer, formatString);\n    \n    // Create Body\n    PrintBody(ProductList, formatString);   \n}\n\npublic static void PromptCustomerQty(Customer customer, ArrayList&lt;Product&gt; ProductList) {\n    // Initiate a Scanner\n    Scanner scan = new Scanner(System.in);\n    \n    // **** VARIABLES ****\n    int qty = 0;\n    \n    // Greet Customer\n    System.out.println(&quot;Hello &quot; + customer.getName());\n    \n    // Loop through each item and ask for qty desired\n    for (Product p : ProductList) {\n\n        do {\n        // Ask user for qty\n        System.out.println(&quot;How many would you like for product: &quot; + p.name);\n        System.out.print(&quot;&gt; &quot;);\n        \n        // Get input and set qty for the object\n        qty = scan.nextInt();\n        \n        }\n        while (qty &lt; 0); // Validation\n        \n        p.setQty(qty); // Set qty for object\n        qty = 0; // Reset count\n    }\n    \n    // Cleanup\n    scan.close();\n}\n\npublic static void PromptCustomerPayment (Customer customer) {\n    // Initiate Scanner \n    Scanner sc = new Scanner(System.in);\n    \n    // Variables\n    String payment = &quot;&quot;;\n\n    // Prompt User\n    do {\n    System.out.println(&quot;Would you like to pay in full? [Yes/No]&quot;);\n    System.out.print(&quot;&gt; &quot;);\n    \n    payment = sc.next();\n    \n    } while ((!payment.toLowerCase().equals(&quot;yes&quot;)) &amp;&amp; (!payment.toLowerCase().equals(&quot;no&quot;)));\n    \n    // Check/set result\n    if (payment.toLowerCase().equals(&quot;yes&quot;)) {\n        customer.setPaidInFull(true);\n    }\n    else {\n        customer.setPaidInFull(false);\n    }\n    \n    // Cleanup\n    sc.close(); \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677862219,"post_id":75629684,"comment_id":133427127,"body_markdown":"Just to clarify, are you trying to print each transaction or just the total income/expense for each day?","body":"Just to clarify, are you trying to print each transaction or just the total income/expense for each day?"},{"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"score":0,"creation_date":1677862584,"post_id":75629684,"comment_id":133427230,"body_markdown":"No, I don&#39;t need to print every transaction, I just want to print total balance for each date where transactions are created, for example, if on `03/03/2023` user created three transactions and I want to print `income - expense` result. I think I gave a good example at the end of the questions about what expected output is. \n\nIf the user has transactions for 10 different dates, show `income - expense` result for every date","body":"No, I don&#39;t need to print every transaction, I just want to print total balance for each date where transactions are created, for example, if on <code>03&#47;03&#47;2023</code> user created three transactions and I want to print <code>income - expense</code> result. I think I gave a good example at the end of the questions about what expected output is.   If the user has transactions for 10 different dates, show <code>income - expense</code> result for every date"},{"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"score":0,"creation_date":1677862705,"post_id":75629684,"comment_id":133427272,"body_markdown":"See the example in question after `.... Imagine user have the next transactions.` and also I provided more examples at the end of the question.","body":"See the example in question after <code>.... Imagine user have the next transactions.</code> and also I provided more examples at the end of the question."}],"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677865083,"creation_date":1677861421,"question_id":75629684,"body_markdown":"I&#39;ll be direct.\r\n\r\nUser have wallets, on each wallet they can create a transaction, the transaction can be income or expense.\r\n\r\nWhen a user is creating a transaction he also picks a date when that transaction is created, then I have a controller to display all user transactions. And this is the format to display it. Imagine user have the next transactions.\r\n\r\n`Income: &gt; Amount: 50, Date: 03/03/2023`\r\n\r\n`Income: &gt; Amount: 50, Date: 03/03/2023`\r\n\r\n`Expense: &gt; Amount: 50, Date: 03/03/2023`\r\n\r\n`Income: &gt; Amount: 100, Date: 03/16/2023`\r\n\r\n`Expense: &gt; Amount: 15, Date: 03/16/2023`\r\n\r\nAnd on the page I would like to display:\r\n\r\n`Transaction: 03/03/2023/ Balance: 100` Because, that is `income - expense`\r\n\r\n`Transaction: 03/16/2023/ Balance: 85` Because, that is `income - expense`\r\n\r\nHow I tried and what are various outputs based on attempts:\r\n\r\n```\r\n@GetMapping(&quot;/userTransactions/{user_id}&quot;)\r\npublic String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n    long userId = user.getId();\r\n    model.addAttribute(&quot;userId&quot;, userId);\r\n\r\n    List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\r\n    List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\r\n    List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\r\n    boolean currDates = transactions.stream().findFirst().isPresent();\r\n\r\n    if (currDates) {\r\n        LocalDate currDate = transactions.get(0).getDate();\r\n\r\n        TransactionGroup transGroup = new TransactionGroup();\r\n\r\n        for (Transaction t : transactions) {\r\n            if (!currDate.isEqual(t.getDate())) {\r\n                transGroup.setDate(currDate);\r\n                transGroup.setTransactions(transOnSingleDate);\r\n                transactionByDate.add(transGroup);\r\n                transGroup = new TransactionGroup();\r\n                transOnSingleDate = new ArrayList&lt;&gt;();\r\n            }\r\n\r\n            transOnSingleDate.add(t);\r\n            currDate = t.getDate();\r\n        }\r\n        transGroup.setDate(currDate);\r\n        transGroup.setTransactions(transOnSingleDate);\r\n        transactionByDate.add(transGroup);\r\n\r\n\r\n        for (int i = 0; i &lt; transactionByDate.size(); i++) {\r\n            LocalDate date = transGroup.getDate();\r\n            transactions = transGroup.getTransactions();\r\n            double income = transactions.stream()\r\n                    .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;income&quot;))\r\n                    .mapToDouble(Transaction::getAmount)\r\n                    .sum();\r\n            double expense = transactions.stream()\r\n                    .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;expense&quot;))\r\n                    .mapToDouble(Transaction::getAmount)\r\n                    .sum();\r\n            double left = income - expense;\r\n            System.out.println(&quot;date:&quot; + date + &quot;,income:&quot; + income + &quot;,expense:&quot; + expense + &quot;,left:&quot; + left);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;Empty&quot;);\r\n    }\r\n\r\n\r\n    model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\r\n    return &quot;transactions&quot;;\r\n}\r\n```\r\n\r\nAnd that works fine, all transactions are displayed, but the problem is with looping through transaction dates.\r\n\r\nIf I loop through `transactions` like this\r\n\r\n```\r\nfor (int i = 0; i &lt; transactionByDate.size(); i++) {\r\n```\r\n\r\nthen this is the response:\r\n\r\n`date:2023-03-16,income:100.0,expense:15.0,left:85.0`\r\n\r\nas you can see, only one date is printed, instead of:\r\n\r\n```\r\ndate:2023-03-16,income:100.0,expense:15.0,left:85.0\r\n```\r\n\r\n```\r\ndate:2023-03-03,income:150.0,expense:50.0,left:50.0\r\n```\r\n\r\nIf I try to loop like this:\r\n\r\n```\r\nfor (int i = 0; i &lt; transactions.size(); i++) {\r\n```\r\n\r\nits same,\r\n\r\nIf I try to loop like this:\r\n\r\n```\r\nfor (int i = 0; i &lt; transGroup.getTransactions().size(); i++) {\r\n```\r\n\r\nit&#39;s also the same.  \r\n  \r\nSo my question is, how to loop through this list so actually I can get output like:\r\n\r\n```\r\ndate:2023-03-16,income:100.0,expense:15.0,left:85.0\r\n```\r\n\r\n```\r\ndate:2023-03-03,income:150.0,expense:50.0,left:50.0\r\n```\r\n\r\nBecause I have transactions on those two dates. Or for example if user have transactions on three different days, show him output like:\r\n\r\n```\r\ndate:2023-03-16,income:100.0,expense:15.0,left:85.0\r\n```\r\n\r\n```\r\ndate:2023-03-03,income:150.0,expense:50.0,left:50.0\r\n```\r\n\r\n```\r\ndate:2023-03-19,income:200.0,expense:50.0,left:150.0 &gt; new date\r\n```\r\n\r\n`Thymeleaf:`\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/transaction.css}&quot;/&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\r\n        &lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://kit.fontawesome.com/9ab80cc16b.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n        &lt;title&gt;Users&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;header&gt;\r\n        &lt;h1 class=&quot;logo&quot;&gt;Spender&lt;/h1&gt;\r\n        &lt;input type=&quot;checkbox&quot; class=&quot;nav-toggle&quot; id=&quot;nav-toggle&quot;&gt;\r\n        &lt;nav&gt;\r\n            &lt;ul&gt;\r\n                &lt;li&gt;&lt;a th:href=&quot;@{/api/test/homePage}&quot;&gt;Homepage&lt;/a&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;a id=&quot;wallets&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;&lt;/li&gt;\r\n                &lt;li&gt;&lt;a href=&quot;javascript: document.logoutForm.submit()&quot; role=&quot;menuitem&quot;&gt;Logout&lt;/a&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/nav&gt;\r\n        &lt;label for=&quot;nav-toggle&quot; class=&quot;nav-toggle-label&quot;&gt;\r\n            &lt;span&gt;&lt;/span&gt;\r\n        &lt;/label&gt;\r\n    &lt;/header&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;br&gt;\r\n    &lt;div class=&quot;date&quot; th:each=&quot;singleGroup : ${transactionGroup}&quot;&gt; &lt;h1 th:text=&quot;${singleGroup.date}&quot;&gt;&lt;/h1&gt;\r\n        &lt;h2 th:text=&quot;${balance}&quot;&gt;&lt;/h2&gt;\r\n        &lt;div class=&quot;transaction&quot; th:each=&quot;singleTrans : ${singleGroup.transactions}&quot;&gt;\r\n    &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n            &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n            &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/delete/{id}(id=${singleTrans.id})}&quot;\r\n               th:data-confirm-delete=&quot;|Are you sure you want to delete ${singleTrans.walletName} wallet?|&quot;\r\n               onclick=&quot;if (!confirm(this.getAttribute(&#39;data-confirm-delete&#39;))) return false&quot;&gt;Delete&lt;/a&gt;\r\n            &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/showFormForUpdate/{id}(id=${singleTrans.id})}&quot;&gt;Update&lt;/a&gt;\r\n            &lt;hr&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/div&gt;\r\n    &lt;div style=&quot;text-align:center&quot;\r\n         th:if=&quot;${#lists.isEmpty(transactionGroup)}&quot;&gt;&lt;h1&gt;You don&#39;t have any transaction&lt;/h1&gt;\r\n        &lt;a th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    \r\n    \r\n    &lt;form name=&quot;logoutForm&quot; th:action=&quot;@{/api/auth/signout}&quot; method=&quot;post&quot; th:hidden=&quot;true&quot;&gt;\r\n        &lt;input hidden type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;\r\n    &lt;/form&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;","title":"For loop to return all data recorded by date","body":"<p>I'll be direct.</p>\n<p>User have wallets, on each wallet they can create a transaction, the transaction can be income or expense.</p>\n<p>When a user is creating a transaction he also picks a date when that transaction is created, then I have a controller to display all user transactions. And this is the format to display it. Imagine user have the next transactions.</p>\n<p><code>Income: &gt; Amount: 50, Date: 03/03/2023</code></p>\n<p><code>Income: &gt; Amount: 50, Date: 03/03/2023</code></p>\n<p><code>Expense: &gt; Amount: 50, Date: 03/03/2023</code></p>\n<p><code>Income: &gt; Amount: 100, Date: 03/16/2023</code></p>\n<p><code>Expense: &gt; Amount: 15, Date: 03/16/2023</code></p>\n<p>And on the page I would like to display:</p>\n<p><code>Transaction: 03/03/2023/ Balance: 100</code> Because, that is <code>income - expense</code></p>\n<p><code>Transaction: 03/16/2023/ Balance: 85</code> Because, that is <code>income - expense</code></p>\n<p>How I tried and what are various outputs based on attempts:</p>\n<pre><code>@GetMapping(&quot;/userTransactions/{user_id}&quot;)\npublic String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n    model.addAttribute(&quot;userId&quot;, userId);\n\n    List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\n    List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\n    List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\n    boolean currDates = transactions.stream().findFirst().isPresent();\n\n    if (currDates) {\n        LocalDate currDate = transactions.get(0).getDate();\n\n        TransactionGroup transGroup = new TransactionGroup();\n\n        for (Transaction t : transactions) {\n            if (!currDate.isEqual(t.getDate())) {\n                transGroup.setDate(currDate);\n                transGroup.setTransactions(transOnSingleDate);\n                transactionByDate.add(transGroup);\n                transGroup = new TransactionGroup();\n                transOnSingleDate = new ArrayList&lt;&gt;();\n            }\n\n            transOnSingleDate.add(t);\n            currDate = t.getDate();\n        }\n        transGroup.setDate(currDate);\n        transGroup.setTransactions(transOnSingleDate);\n        transactionByDate.add(transGroup);\n\n\n        for (int i = 0; i &lt; transactionByDate.size(); i++) {\n            LocalDate date = transGroup.getDate();\n            transactions = transGroup.getTransactions();\n            double income = transactions.stream()\n                    .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;income&quot;))\n                    .mapToDouble(Transaction::getAmount)\n                    .sum();\n            double expense = transactions.stream()\n                    .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;expense&quot;))\n                    .mapToDouble(Transaction::getAmount)\n                    .sum();\n            double left = income - expense;\n            System.out.println(&quot;date:&quot; + date + &quot;,income:&quot; + income + &quot;,expense:&quot; + expense + &quot;,left:&quot; + left);\n        }\n    } else {\n        System.out.println(&quot;Empty&quot;);\n    }\n\n\n    model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\n    return &quot;transactions&quot;;\n}\n</code></pre>\n<p>And that works fine, all transactions are displayed, but the problem is with looping through transaction dates.</p>\n<p>If I loop through <code>transactions</code> like this</p>\n<pre><code>for (int i = 0; i &lt; transactionByDate.size(); i++) {\n</code></pre>\n<p>then this is the response:</p>\n<p><code>date:2023-03-16,income:100.0,expense:15.0,left:85.0</code></p>\n<p>as you can see, only one date is printed, instead of:</p>\n<pre><code>date:2023-03-16,income:100.0,expense:15.0,left:85.0\n</code></pre>\n<pre><code>date:2023-03-03,income:150.0,expense:50.0,left:50.0\n</code></pre>\n<p>If I try to loop like this:</p>\n<pre><code>for (int i = 0; i &lt; transactions.size(); i++) {\n</code></pre>\n<p>its same,</p>\n<p>If I try to loop like this:</p>\n<pre><code>for (int i = 0; i &lt; transGroup.getTransactions().size(); i++) {\n</code></pre>\n<p>it's also the same.</p>\n<p>So my question is, how to loop through this list so actually I can get output like:</p>\n<pre><code>date:2023-03-16,income:100.0,expense:15.0,left:85.0\n</code></pre>\n<pre><code>date:2023-03-03,income:150.0,expense:50.0,left:50.0\n</code></pre>\n<p>Because I have transactions on those two dates. Or for example if user have transactions on three different days, show him output like:</p>\n<pre><code>date:2023-03-16,income:100.0,expense:15.0,left:85.0\n</code></pre>\n<pre><code>date:2023-03-03,income:150.0,expense:50.0,left:50.0\n</code></pre>\n<pre><code>date:2023-03-19,income:200.0,expense:50.0,left:150.0 &gt; new date\n</code></pre>\n<p><code>Thymeleaf:</code></p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/transaction.css}&quot;/&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\n    &lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://kit.fontawesome.com/9ab80cc16b.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;title&gt;Users&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;header&gt;\n    &lt;h1 class=&quot;logo&quot;&gt;Spender&lt;/h1&gt;\n    &lt;input type=&quot;checkbox&quot; class=&quot;nav-toggle&quot; id=&quot;nav-toggle&quot;&gt;\n    &lt;nav&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a th:href=&quot;@{/api/test/homePage}&quot;&gt;Homepage&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a id=&quot;wallets&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;javascript: document.logoutForm.submit()&quot; role=&quot;menuitem&quot;&gt;Logout&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n    &lt;label for=&quot;nav-toggle&quot; class=&quot;nav-toggle-label&quot;&gt;\n        &lt;span&gt;&lt;/span&gt;\n    &lt;/label&gt;\n&lt;/header&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;div class=&quot;date&quot; th:each=&quot;singleGroup : ${transactionGroup}&quot;&gt; &lt;h1 th:text=&quot;${singleGroup.date}&quot;&gt;&lt;/h1&gt;\n    &lt;h2 th:text=&quot;${balance}&quot;&gt;&lt;/h2&gt;\n    &lt;div class=&quot;transaction&quot; th:each=&quot;singleTrans : ${singleGroup.transactions}&quot;&gt;\n&lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/delete/{id}(id=${singleTrans.id})}&quot;\n           th:data-confirm-delete=&quot;|Are you sure you want to delete ${singleTrans.walletName} wallet?|&quot;\n           onclick=&quot;if (!confirm(this.getAttribute('data-confirm-delete'))) return false&quot;&gt;Delete&lt;/a&gt;\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/showFormForUpdate/{id}(id=${singleTrans.id})}&quot;&gt;Update&lt;/a&gt;\n        &lt;hr&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;div style=&quot;text-align:center&quot;\n     th:if=&quot;${#lists.isEmpty(transactionGroup)}&quot;&gt;&lt;h1&gt;You don't have any transaction&lt;/h1&gt;\n    &lt;a th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;\n&lt;/div&gt;\n\n\n&lt;form name=&quot;logoutForm&quot; th:action=&quot;@{/api/auth/signout}&quot; method=&quot;post&quot; th:hidden=&quot;true&quot;&gt;\n    &lt;input hidden type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","spring","scala","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677864907,"creation_date":1677864907,"answer_id":75630211,"question_id":75629038,"body_markdown":"Scala libraries are compiled against a Scala version which is visible in the artifact name like `spark-sql_2.13` means it&#39;s `spark-sql` compiled for Scala 2.13.\r\n\r\nYou cannot have multiple Scala versions in the same project.\r\n\r\nIn your case, you have:\r\n- `scala-library`: 2.12\r\n- `spark-core`: 2.12\r\n- `spark.sql`: 2.13\r\n\r\nChoose a single version and stick to it. 2.13 if possible as it&#39;s more recent.","title":"Can&#39;t create SparkSession in Spring Boot","body":"<p>Scala libraries are compiled against a Scala version which is visible in the artifact name like <code>spark-sql_2.13</code> means it's <code>spark-sql</code> compiled for Scala 2.13.</p>\n<p>You cannot have multiple Scala versions in the same project.</p>\n<p>In your case, you have:</p>\n<ul>\n<li><code>scala-library</code>: 2.12</li>\n<li><code>spark-core</code>: 2.12</li>\n<li><code>spark.sql</code>: 2.13</li>\n</ul>\n<p>Choose a single version and stick to it. 2.13 if possible as it's more recent.</p>\n"}],"owner":{"account_id":27928104,"reputation":11,"user_id":21326776,"display_name":"dev-rev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677864907,"creation_date":1677857561,"question_id":75629038,"body_markdown":"I&#39;m trying to run Spark on Spring, the project itself runs without errors, but after I try to create a session, i get this error.\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;scala.collection.SeqOps scala.collection.mutable.Buffer$.empty()&#39;\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n    &lt;dependencies&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.thoughtworks.paranamer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;paranamer&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\ncontroller\r\n```\r\n@RestController\r\npublic class MainController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index() {\r\n        SparkSession spark = SparkSession\r\n                .builder()\r\n                .appName(&quot;AppSpark&quot;)\r\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\r\n                .getOrCreate();\r\n\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI tried to downgrade the versions in the pom file, but it did not help, only the error type changed.\r\n\r\nIf anyone has come across the same error, I would appreciate any help.","title":"Can&#39;t create SparkSession in Spring Boot","body":"<p>I'm trying to run Spark on Spring, the project itself runs without errors, but after I try to create a session, i get this error.</p>\n<pre><code>java.lang.NoSuchMethodError: 'scala.collection.SeqOps scala.collection.mutable.Buffer$.empty()'\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>    &lt;dependencies&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.thoughtworks.paranamer&lt;/groupId&gt;\n                &lt;artifactId&gt;paranamer&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;2.12.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>controller</p>\n<pre><code>@RestController\npublic class MainController {\n    @GetMapping(&quot;/&quot;)\n    public String index() {\n        SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;AppSpark&quot;)\n                .config(&quot;spark.master&quot;, &quot;local&quot;)\n                .getOrCreate();\n\n        return &quot;Hello World!&quot;;\n    }\n}\n</code></pre>\n<p>I tried to downgrade the versions in the pom file, but it did not help, only the error type changed.</p>\n<p>If anyone has come across the same error, I would appreciate any help.</p>\n"},{"tags":["java","postgresql","uuid","criteriabuilder"],"owner":{"account_id":2735926,"reputation":1,"user_id":2358604,"display_name":"user2358604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677864814,"creation_date":1677864704,"question_id":75630190,"body_markdown":"I have an entity\r\n\r\n    import jakarta.persistence.Entity\r\n\r\nI&#39;m using CriteriaBuilder\r\n\r\n    import jakarta.persistence.criteria.CriteriaBuilder\r\n\r\nUsing this line gives 1 result, as expected.\r\n\r\n    all.where(criteriaBuilder.equal(root.get(&quot;code&quot;), item.getCode()));\r\n\r\nUsing this line gives 0 results, as not expected.\r\n\r\n    all.where(criteriaBuilder.equal(root.get(&quot;uuid&quot;), item.getUuid()));\r\n\r\nThe field generated in Postgresql has data_type uuid (and contains values).\r\n\r\nThe hibernate query looks like this:\r\n    select\r\n        c1_0.uuid,\r\n        c1_0.code,\r\n        c1_0.created_time \r\n    from\r\n        case_o c1_0 \r\n    where\r\n        c1_0.uuid=?\r\n\r\nI have tried changing the dialect and the database-type but that does not seem to help.\r\n\r\nAny ideas on what the correct way to filter on uuid is?","title":"Cannot filter on UUID with CriteriaBuilder in Java using Postgresql","body":"<p>I have an entity</p>\n<pre><code>import jakarta.persistence.Entity\n</code></pre>\n<p>I'm using CriteriaBuilder</p>\n<pre><code>import jakarta.persistence.criteria.CriteriaBuilder\n</code></pre>\n<p>Using this line gives 1 result, as expected.</p>\n<pre><code>all.where(criteriaBuilder.equal(root.get(&quot;code&quot;), item.getCode()));\n</code></pre>\n<p>Using this line gives 0 results, as not expected.</p>\n<pre><code>all.where(criteriaBuilder.equal(root.get(&quot;uuid&quot;), item.getUuid()));\n</code></pre>\n<p>The field generated in Postgresql has data_type uuid (and contains values).</p>\n<p>The hibernate query looks like this:\nselect\nc1_0.uuid,\nc1_0.code,\nc1_0.created_time\nfrom\ncase_o c1_0\nwhere\nc1_0.uuid=?</p>\n<p>I have tried changing the dialect and the database-type but that does not seem to help.</p>\n<p>Any ideas on what the correct way to filter on uuid is?</p>\n"},{"tags":["java","design-patterns","decoupling","solid"],"owner":{"account_id":16506411,"reputation":1143,"user_id":11926338,"display_name":"Pavel Petrashov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677864497,"creation_date":1677864497,"question_id":75630164,"body_markdown":"I have a service that gets users from DB and creates a file from them. It can be different types of files (SCV, XML, etc).\r\n\r\n    import java.io.File;\r\n    import java.util.Iterator;\r\n    \r\n    public class MyService {\r\n    \r\n        private final EventsDao eventsDao;\r\n        private final UserDao userDao;\r\n    \r\n        public MyService(EventsDao eventsDao, UserDao userDao) {\r\n            this.eventsDao = eventsDao;\r\n            this.userDao = userDao;\r\n        }\r\n    \r\n        public void start() {\r\n            Iterator&lt;Event&gt; events = eventsDao.getEvents();\r\n    \r\n            FileBuilder fileBuilder = new CsvFileBuilder();\r\n    \r\n            while (events.hasNext()) {\r\n                Event event = events.next();\r\n    \r\n                User user = userDao.getUser(event.getUserId());\r\n    \r\n                if (user == null) {\r\n                    System.out.println(&quot;user is null and won&#39;t be included to the file&quot;);\r\n                    continue;\r\n                }\r\n    \r\n                fileBuilder.addLine(UserMapper.toViewableUser(user));\r\n            }\r\n    \r\n            File scvFile = fileBuilder.build();\r\n    \r\n            sendFile(scvFile);\r\n            deleteFile(scvFile);\r\n        }\r\n    \r\n        private void sendFile(File scvFile) {}\r\n        private void deleteFile(File scvFile) {}\r\n    }\r\n\r\nYou can notice the problem here: I create `new CsvFileBuilder()` in the service. It violates SOLID principles.  I am looking for how to refactor that and decouple service and builder implementation. I could pass `FileBuilder` in the service&#39;s constructor but after that, it will be a singleton and I don&#39;t know how to implement it correctly. Take a look at builder implementation: \r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CsvFileBuilder implements FileBuilder {\r\n    \r\n        private final File targetFile;\r\n        private final CSVWriter writer;\r\n    \r\n        public CsvFileBuilder() {\r\n            try {\r\n                this.targetFile = File.createTempFile(&quot;users&quot;, &quot;test.csv&quot;);\r\n                this.writer = new CSVWriter(new FileWriter(targetFile), &#39;|&#39;, CSVWriter.NO_QUOTE_CHARACTER);\r\n                addHeader();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        private void addHeader() {\r\n            List&lt;String&gt; headers = new ArrayList&lt;&gt;();\r\n            //....\r\n            writer.writeNext(headers.toArray(new String[0]));\r\n        }\r\n    \r\n        @Override\r\n        public void addLine(ViewableUser viewableUser) {\r\n            List&lt;String&gt; cells = new ArrayList&lt;&gt;();\r\n            //...\r\n            writer.writeNext(cells.toArray(new String[0]));\r\n        }\r\n    \r\n        @Override\r\n        public File build() {\r\n            try {\r\n                writer.flush();\r\n                writer.close();\r\n                return targetFile;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nIf I create it as singleton it will be mutable because I add a new line on every step and only in the end build file. \r\n\r\nIf I pass literature to the builder it looks bad because it is not the builder&#39;s responsibility to go to the DB, get user, map it. etc.\r\n\r\nSo, How can I move builder implementation creation from direct service?","title":"How to decouple service and class creation in that service?","body":"<p>I have a service that gets users from DB and creates a file from them. It can be different types of files (SCV, XML, etc).</p>\n<pre><code>import java.io.File;\nimport java.util.Iterator;\n\npublic class MyService {\n\n    private final EventsDao eventsDao;\n    private final UserDao userDao;\n\n    public MyService(EventsDao eventsDao, UserDao userDao) {\n        this.eventsDao = eventsDao;\n        this.userDao = userDao;\n    }\n\n    public void start() {\n        Iterator&lt;Event&gt; events = eventsDao.getEvents();\n\n        FileBuilder fileBuilder = new CsvFileBuilder();\n\n        while (events.hasNext()) {\n            Event event = events.next();\n\n            User user = userDao.getUser(event.getUserId());\n\n            if (user == null) {\n                System.out.println(&quot;user is null and won't be included to the file&quot;);\n                continue;\n            }\n\n            fileBuilder.addLine(UserMapper.toViewableUser(user));\n        }\n\n        File scvFile = fileBuilder.build();\n\n        sendFile(scvFile);\n        deleteFile(scvFile);\n    }\n\n    private void sendFile(File scvFile) {}\n    private void deleteFile(File scvFile) {}\n}\n</code></pre>\n<p>You can notice the problem here: I create <code>new CsvFileBuilder()</code> in the service. It violates SOLID principles.  I am looking for how to refactor that and decouple service and builder implementation. I could pass <code>FileBuilder</code> in the service's constructor but after that, it will be a singleton and I don't know how to implement it correctly. Take a look at builder implementation:</p>\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CsvFileBuilder implements FileBuilder {\n\n    private final File targetFile;\n    private final CSVWriter writer;\n\n    public CsvFileBuilder() {\n        try {\n            this.targetFile = File.createTempFile(&quot;users&quot;, &quot;test.csv&quot;);\n            this.writer = new CSVWriter(new FileWriter(targetFile), '|', CSVWriter.NO_QUOTE_CHARACTER);\n            addHeader();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void addHeader() {\n        List&lt;String&gt; headers = new ArrayList&lt;&gt;();\n        //....\n        writer.writeNext(headers.toArray(new String[0]));\n    }\n\n    @Override\n    public void addLine(ViewableUser viewableUser) {\n        List&lt;String&gt; cells = new ArrayList&lt;&gt;();\n        //...\n        writer.writeNext(cells.toArray(new String[0]));\n    }\n\n    @Override\n    public File build() {\n        try {\n            writer.flush();\n            writer.close();\n            return targetFile;\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>If I create it as singleton it will be mutable because I add a new line on every step and only in the end build file.</p>\n<p>If I pass literature to the builder it looks bad because it is not the builder's responsibility to go to the DB, get user, map it. etc.</p>\n<p>So, How can I move builder implementation creation from direct service?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1677940219,"post_id":75595943,"comment_id":133438239,"body_markdown":"Please post contents of your pom.xml","body":"Please post contents of your pom.xml"}],"owner":{"account_id":22179690,"reputation":1,"user_id":16423596,"display_name":"E Pabitra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677864420,"creation_date":1677608706,"question_id":75595943,"body_markdown":"I get this error when running my project as a Spring Boot App on STS, I am not able to run my web applications but if I run my standalone applications I don&#39;t get any error and my application executes successfully. I got this error when I am using spring-boot-starter-web and spring-boot-dev-tools dependencies.\r\n\r\nPlease Give a solution as soon as possible\r\n\r\n**Log Of The Application**\r\n\r\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n\r\n2023-02-28T23:03:26.954+05:30  INFO 2296 --- [  restartedMain] com.basu.Application                     : Starting Application using Java 17.0.6 with PID 2296 (C:\\Users\\epabi\\workspace-sts-3.9.6.RELEASE\\16_SB_Web_MVC_App-1\\target\\classes started by epabi in C:\\Users\\epabi\\workspace-sts-3.9.6.RELEASE\\16_SB_Web_MVC_App-1)\r\n2023-02-28T23:03:26.963+05:30  INFO 2296 --- [  restartedMain] com.basu.Application                     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-02-28T23:03:27.157+05:30  INFO 2296 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-02-28T23:03:27.158+05:30  INFO 2296 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-02-28T23:03:29.426+05:30  WARN 2296 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\r\n2023-02-28T23:03:29.442+05:30  INFO 2296 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-28T23:03:29.495+05:30 ERROR 2296 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.apache.tomcat.util.modeler.Registry.disableRegistry()&#39;\r\n\r\nThe calling method&#39;s class, org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/epabi/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\r\n\r\nThe called method&#39;s class, org.apache.tomcat.util.modeler.Registry, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/epabi/Downloads/spring-tool-suite-3.9.6.RELEASE-e4.9.0-win32-x86_64/sts-bundle/pivotal-tc-server/runtimes/tomcat-9.0.10.A.RELEASE/lib/tomcat-coyote.jar!/org/apache/tomcat/util/modeler/Registry.class\r\n    jar:file:/C:/Users/epabi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.5/tomcat-embed-core-10.1.5.jar!/org/apache/tomcat/util/modeler/Registry.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.apache.tomcat.util.modeler.Registry: file:/C:/Users/epabi/Downloads/spring-tool-suite-3.9.6.RELEASE-e4.9.0-win32-x86_64/sts-bundle/pivotal-tc-server/runtimes/tomcat-9.0.10.A.RELEASE/lib/tomcat-coyote.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory and org.apache.tomcat.util.modeler.Registry\r\n\r\n\r\n\r\n1. Before this error I am got an UnsupportedClassVersion error so for solving that I changed the JRE version to my current jdk17.\r\n2. Then I got this error and I am suffering for 5 days to solve this error.\r\n\r\nPlease someone, give a solution as soon as possible.","title":"Correct the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.web.embedded.tomcat","body":"<p>I get this error when running my project as a Spring Boot App on STS, I am not able to run my web applications but if I run my standalone applications I don't get any error and my application executes successfully. I got this error when I am using spring-boot-starter-web and spring-boot-dev-tools dependencies.</p>\n<p>Please Give a solution as soon as possible</p>\n<p><strong>Log Of The Application</strong></p>\n<p>Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.</p>\n<p>2023-02-28T23:03:26.954+05:30  INFO 2296 --- [  restartedMain] com.basu.Application                     : Starting Application using Java 17.0.6 with PID 2296 (C:\\Users\\epabi\\workspace-sts-3.9.6.RELEASE\\16_SB_Web_MVC_App-1\\target\\classes started by epabi in C:\\Users\\epabi\\workspace-sts-3.9.6.RELEASE\\16_SB_Web_MVC_App-1)\n2023-02-28T23:03:26.963+05:30  INFO 2296 --- [  restartedMain] com.basu.Application                     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-02-28T23:03:27.157+05:30  INFO 2296 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-02-28T23:03:27.158+05:30  INFO 2296 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-02-28T23:03:29.426+05:30  WARN 2296 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server\n2023-02-28T23:03:29.442+05:30  INFO 2296 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger :</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-28T23:03:29.495+05:30 ERROR 2296 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>An attempt was made to call a method that does not exist. The attempt was made from the following location:</p>\n<pre><code>org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:191)\n</code></pre>\n<p>The following method did not exist:</p>\n<pre><code>'void org.apache.tomcat.util.modeler.Registry.disableRegistry()'\n</code></pre>\n<p>The calling method's class, org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory, was loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/epabi/.m2/repository/org/springframework/boot/spring-boot/3.0.2/spring-boot-3.0.2.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\n</code></pre>\n<p>The called method's class, org.apache.tomcat.util.modeler.Registry, is available from the following locations:</p>\n<pre><code>jar:file:/C:/Users/epabi/Downloads/spring-tool-suite-3.9.6.RELEASE-e4.9.0-win32-x86_64/sts-bundle/pivotal-tc-server/runtimes/tomcat-9.0.10.A.RELEASE/lib/tomcat-coyote.jar!/org/apache/tomcat/util/modeler/Registry.class\njar:file:/C:/Users/epabi/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.5/tomcat-embed-core-10.1.5.jar!/org/apache/tomcat/util/modeler/Registry.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following locations:</p>\n<pre><code>org.apache.tomcat.util.modeler.Registry: file:/C:/Users/epabi/Downloads/spring-tool-suite-3.9.6.RELEASE-e4.9.0-win32-x86_64/sts-bundle/pivotal-tc-server/runtimes/tomcat-9.0.10.A.RELEASE/lib/tomcat-coyote.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains compatible versions of the classes org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory and org.apache.tomcat.util.modeler.Registry</p>\n<ol>\n<li>Before this error I am got an UnsupportedClassVersion error so for solving that I changed the JRE version to my current jdk17.</li>\n<li>Then I got this error and I am suffering for 5 days to solve this error.</li>\n</ol>\n<p>Please someone, give a solution as soon as possible.</p>\n"},{"tags":["java","android","bluetooth","usb","processing"],"comments":[{"owner":{"account_id":18245228,"reputation":380,"user_id":13281485,"display_name":"girraiffe"},"score":1,"creation_date":1677861328,"post_id":75629360,"comment_id":133426866,"body_markdown":"Possible duplicate of [ADB over Bluetooth Android](https://stackoverflow.com/questions/11129817/adb-over-bluetooth-android). If that doesn&#39;t work, simply googling your question yields many results.","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11129817/adb-over-bluetooth-android\">ADB over Bluetooth Android</a>. If that doesn&#39;t work, simply googling your question yields many results."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1677863402,"post_id":75629360,"comment_id":133427495,"body_markdown":"Why not wifi? https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi","body":"Why not wifi? <a href=\"https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi\" rel=\"nofollow noreferrer\">developer.android.com/studio/command-line/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19682641,"reputation":80,"user_id":14409408,"display_name":"Lookyus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677864016,"creation_date":1677864016,"answer_id":75630096,"question_id":75629360,"body_markdown":"You can do it over WiFi using adb. Your phone and PC have to be on the same network.\r\n\r\nJust enter this command in your cmd:\r\n`adb connect IP_ADDRESS_OF_YOUR_PHONE`\r\n\r\nYou have to be in the directory where your adb is for this to work.","title":"Can I debug apps using Bluetooth instead of USB?","body":"<p>You can do it over WiFi using adb. Your phone and PC have to be on the same network.</p>\n<p>Just enter this command in your cmd:\n<code>adb connect IP_ADDRESS_OF_YOUR_PHONE</code></p>\n<p>You have to be in the directory where your adb is for this to work.</p>\n"}],"owner":{"account_id":25065898,"reputation":1,"user_id":18920236,"display_name":"jjok13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677864016,"creation_date":1677859437,"question_id":75629360,"body_markdown":"Is it possible to debug apps on Android using Bluetooth?\r\n\r\nI am working with Processing 4.1.1 and I&#39;d like to run my apps on my Android phone. Processing allows to run apps on devices which are connected through USB debugging, but there is something wrong with my cable/device as it is constantly disconnecting.\r\n\r\n&gt; Other than using an emulator, could I debug through Bluetooth? If yes, how?","title":"Can I debug apps using Bluetooth instead of USB?","body":"<p>Is it possible to debug apps on Android using Bluetooth?</p>\n<p>I am working with Processing 4.1.1 and I'd like to run my apps on my Android phone. Processing allows to run apps on devices which are connected through USB debugging, but there is something wrong with my cable/device as it is constantly disconnecting.</p>\n<blockquote>\n<p>Other than using an emulator, could I debug through Bluetooth? If yes, how?</p>\n</blockquote>\n"},{"tags":["java","domain-driven-design"],"comments":[{"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"score":1,"creation_date":1673091053,"post_id":74616509,"comment_id":132422518,"body_markdown":"From the ddd perspective I would go with the 2nd option to have clearly visualised the models - one the `Token`, and the second `LocalizedToken` because as you already mentioned, it is a different conception","body":"From the ddd perspective I would go with the 2nd option to have clearly visualised the models - one the <code>Token</code>, and the second <code>LocalizedToken</code> because as you already mentioned, it is a different conception"}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677863938,"creation_date":1677863938,"answer_id":75630087,"question_id":74616509,"body_markdown":"I wouldn&#39;t recommend using an Enum for this. In general when using Enums you&#39;re tempted to switch over the Enum type to do some action or return a response. If you later decide another type of `Token` is an option, you need to update all the existing code. This violates the Open-Closed principle. ","title":"Java Generics in use case VS standard type with Enum","body":"<p>I wouldn't recommend using an Enum for this. In general when using Enums you're tempted to switch over the Enum type to do some action or return a response. If you later decide another type of <code>Token</code> is an option, you need to update all the existing code. This violates the Open-Closed principle.</p>\n"}],"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677863938,"creation_date":1669736056,"question_id":74616509,"body_markdown":"In a Java Spring Boot DDD project we have several APIs exposed.\r\n\r\nNow for only one of these APIs we need that the &quot;Token&quot; entity contains one more attribute: &quot;Locales&quot;.\r\n\r\nIn use cases that use &quot;Token&quot; without &quot;Locales&quot; I would not want the getter of that new attribute to be accessible.\r\nFor this I am considering two options:\r\n\r\n - Add &quot;Locales&quot; to the &quot;Token&quot; entity and also another &quot;Type&quot; attribute (an Enum)\r\n   that, depending on whether it is of one type or another, when\r\n   accessing the &quot;Locales&quot; getter, returns the elements or an\r\n   Optional.Empty (or an exception). This way only the use cases that are\r\n   for the &quot;LocalizedToken&quot; will get the &quot;Locales&quot;, but in my\r\n   opinion the interface is less clear and more errors could happen when\r\n   using attributes that are not really used in all APIs.\r\n - Extend &quot;Token&quot; with a &quot;LocalizedToken&quot; entity and make use cases that use each\r\n   exposed API only have access to the type it needs. For example, with\r\n   generics, create use case: `CreateTokens&lt;T extends Token&gt;`. This\r\n   option looks cleaner but requires a lot more modifications, as these\r\n   generics are spread throughout the domain, repositories, etc.\r\n\r\nIn your opinion, which is the best approach? Or any other suggestion?\r\n\r\nThanks!","title":"Java Generics in use case VS standard type with Enum","body":"<p>In a Java Spring Boot DDD project we have several APIs exposed.</p>\n<p>Now for only one of these APIs we need that the &quot;Token&quot; entity contains one more attribute: &quot;Locales&quot;.</p>\n<p>In use cases that use &quot;Token&quot; without &quot;Locales&quot; I would not want the getter of that new attribute to be accessible.\nFor this I am considering two options:</p>\n<ul>\n<li>Add &quot;Locales&quot; to the &quot;Token&quot; entity and also another &quot;Type&quot; attribute (an Enum)\nthat, depending on whether it is of one type or another, when\naccessing the &quot;Locales&quot; getter, returns the elements or an\nOptional.Empty (or an exception). This way only the use cases that are\nfor the &quot;LocalizedToken&quot; will get the &quot;Locales&quot;, but in my\nopinion the interface is less clear and more errors could happen when\nusing attributes that are not really used in all APIs.</li>\n<li>Extend &quot;Token&quot; with a &quot;LocalizedToken&quot; entity and make use cases that use each\nexposed API only have access to the type it needs. For example, with\ngenerics, create use case: <code>CreateTokens&lt;T extends Token&gt;</code>. This\noption looks cleaner but requires a lot more modifications, as these\ngenerics are spread throughout the domain, repositories, etc.</li>\n</ul>\n<p>In your opinion, which is the best approach? Or any other suggestion?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677783900,"post_id":75619756,"comment_id":133410665,"body_markdown":"So you mean you need it only in the swagger documentation?","body":"So you mean you need it only in the swagger documentation?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1677784015,"post_id":75619756,"comment_id":133410694,"body_markdown":"@Jens exactly, only in Swagger. I need to create custom Examples, like in the print that is on my question but only in Swagger.","body":"@Jens exactly, only in Swagger. I need to create custom Examples, like in the print that is on my question but only in Swagger."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677784441,"post_id":75619756,"comment_id":133410811,"body_markdown":"*my API has a lot of possible errors* But it is an example, so one should be enough?","body":"<i>my API has a lot of possible errors</i> But it is an example, so one should be enough?"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1677784810,"post_id":75619756,"comment_id":133410905,"body_markdown":"@Jens hmm, not exaclty a simple example. There&#39;s a requirement in which I need to show the possible errors that might occur. This is a requirement because the company has a service desk, and they would like to take look at the error our users are saying that are facing. So, for example, if there&#39;s a 409 http code and there&#39;s 3 possible ways this 409 is thrown I need to map theses 3 possible ways in swagger UI.","body":"@Jens hmm, not exaclty a simple example. There&#39;s a requirement in which I need to show the possible errors that might occur. This is a requirement because the company has a service desk, and they would like to take look at the error our users are saying that are facing. So, for example, if there&#39;s a 409 http code and there&#39;s 3 possible ways this 409 is thrown I need to map theses 3 possible ways in swagger UI."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677842564,"post_id":75619756,"comment_id":133421429,"body_markdown":"You can use @ApiResponse(code = 200, message = &quot;Successfully retrieved list&quot;) to your controller for describing","body":"You can use @ApiResponse(code = 200, message = &quot;Successfully retrieved list&quot;) to your controller for describing"},{"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"score":0,"creation_date":1677842869,"post_id":75619756,"comment_id":133421505,"body_markdown":"@Yeras_QazaQ I need to show examples. This suggestion only documents the http status and the description of it. I need to do something like in the print, but less verbose than writing all the possible responses hard coded.","body":"@Yeras_QazaQ I need to show examples. This suggestion only documents the http status and the description of it. I need to do something like in the print, but less verbose than writing all the possible responses hard coded."}],"answers":[{"tags":[],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677863788,"creation_date":1677854091,"answer_id":75628389,"question_id":75619756,"body_markdown":"**SOLVED**\r\n\r\n*Solution: Document the API programmatically.*\r\n\r\nSpring has a lib that you can manipulate the entire OpenAPI project.\r\n\r\nThere&#39;s my configuration class, which is the solution:\r\n\r\n```java\r\npackage br.orchestratorapi.config;\r\n\r\nimport br.com.dto.ErpResponseBodyDTO;\r\nimport br.com.exception.MessageError;\r\nimport br.com.exception.MyExceptionWrapperClassException;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.Operation;\r\nimport io.swagger.v3.oas.models.examples.Example;\r\nimport io.swagger.v3.oas.models.media.Content;\r\nimport io.swagger.v3.oas.models.media.MediaType;\r\nimport io.swagger.v3.oas.models.responses.ApiResponse;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport org.springdoc.core.customizers.OpenApiCustomiser;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.util.FileCopyUtils;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.io.UncheckedIOException;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Configuration\r\npublic class OpenAPIExamples {\r\n\r\n@Value(&quot;classpath:/swagger_examples.json&quot;)\r\n    private Resource swaggerExamples;\r\n\r\n    @Bean\r\n    public OpenApiCustomiser openApiCustomiser() {\r\n        return openAPI -&gt; buildExamplesFromJson().forEach(exampleValue -&gt; setExamplesOnEndpoints(openAPI, exampleValue, &quot;application/json&quot;));\r\n    }\r\n\r\n    private void setExamplesOnEndpoints(OpenAPI api, ExampleValue exampleValue, String bodyType) {\r\n        Optional.ofNullable(api.getPaths())\r\n                .map(paths -&gt; paths.get(exampleValue.getPath()))\r\n                .map(paths -&gt; getOperationForHttpMethod(exampleValue.getHttpMethod(), paths))\r\n                .ifPresent(operation -&gt; setExamplesOnEndpoints(exampleValue, bodyType, operation));\r\n    }\r\n\r\n    private void setExamplesOnEndpoints(ExampleValue exampleValue, String bodyType, Operation operation) {\r\n        ApiResponse response = operation.getResponses().get(String.valueOf(exampleValue.getHttpStatus()));\r\n        if(response == null)\r\n             response = new ApiResponse();\r\n\r\n        Content content = response.getContent();\r\n        if(content == null)\r\n             content = new Content();\r\n\r\n        MediaType mediaType = content.get(bodyType);\r\n\r\n        if(mediaType == null)\r\n            mediaType = new MediaType();\r\n\r\n        mediaType.addExamples(exampleValue.getExampleName(), exampleValue.getExample());\r\n\r\n        content.put(bodyType, mediaType);\r\n        response.setContent(content);\r\n\r\n        operation.getResponses().put(String.valueOf(exampleValue.getHttpStatus()), response);\r\n    }\r\n\r\n\r\n    private Operation getOperationForHttpMethod(String httpMethod, PathItem paths) {\r\n        switch (httpMethod) {\r\n            case &quot;POST&quot;:\r\n                return paths.getPost();\r\n            case &quot;PATCH&quot;:\r\n                return paths.getPatch();\r\n            case &quot;PUT&quot;:\r\n                return paths.getPut();\r\n            case &quot;DELETE&quot;:\r\n                return paths.getDelete();\r\n            case &quot;GET&quot;:\r\n                return paths.getGet();\r\n            case &quot;OPTIONS&quot;:\r\n                return paths.getOptions();\r\n            case &quot;HEAD&quot;:\r\n                return paths.getHead();\r\n            case &quot;TRACE&quot;:\r\n                return paths.getTrace();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    public List&lt;ExampleValue&gt; buildExamplesFromJson() {\r\n        List&lt;ExampleValue&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        JsonObject jsonObject = new Gson().fromJson(asString(swaggerExamples), JsonObject.class);\r\n        JsonArray endpoints = jsonObject.getAsJsonArray(&quot;endpoints&quot;);\r\n\r\n        endpoints.forEach(element -&gt; {\r\n            JsonObject path = element.getAsJsonObject();\r\n\r\n            String endpointPath = path.get(&quot;path&quot;).getAsString();\r\n            String method = path.get(&quot;method&quot;).getAsString();\r\n\r\n            path.get(&quot;responses&quot;).getAsJsonArray().forEach(response -&gt; {\r\n                JsonObject resp = response.getAsJsonObject();\r\n\r\n                int status = resp.get(&quot;status&quot;).getAsInt();\r\n\r\n                resp.getAsJsonArray(&quot;errors&quot;).forEach(error -&gt; {\r\n\r\n                    JsonObject errorObj = error.getAsJsonObject();\r\n                    String enumName = errorObj.get(&quot;enum&quot;).getAsString();\r\n\r\n\r\n                    Example example = new Example();\r\n                    example.description(errorObj.get(&quot;description&quot;).getAsString());\r\n                    example.value(ErpResponseBodyDTO.builder().error(new MyExceptionWrapperClassException(MessageError.valueOf(enumName)).getResponse().getError()).build());\r\n\r\n                    ExampleValue exampleValue = new ExampleValue(errorObj.get(&quot;exampleName&quot;).getAsString(), example, status, method, endpointPath);\r\n\r\n                    result.add(exampleValue);\r\n\r\n                });\r\n\r\n            });\r\n\r\n\r\n        });\r\n\r\n        return result;\r\n\r\n    }\r\n\r\n    public static String asString(Resource resource) {\r\n        try (Reader reader = new InputStreamReader(resource.getInputStream())) {\r\n            return FileCopyUtils.copyToString(reader);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    private class ExampleValue {\r\n        private String exampleName;\r\n        private Example example;\r\n        private int httpStatus;\r\n        private String httpMethod;\r\n        private String path;\r\n    }\r\n\r\n }\r\n\r\n```\r\n\r\nAs you can see, I read a Json file from resources:\r\n\r\n\r\n```\r\n{\r\n  &quot;endpoints&quot;: [\r\n\r\n\r\n    {\r\n      &quot;path&quot;:  &quot;/endpoint/that/{already}/{exists-in-swagger}&quot;,\r\n      &quot;method&quot;: &quot;POST&quot;,\r\n      &quot;responses&quot;: [\r\n\r\n        {\r\n          &quot;status&quot;:  401,\r\n          &quot;errors&quot;:[\r\n            {&quot;description&quot;:&quot;A description&quot;,&quot;enum&quot;: &quot;ENUM_THAT_I_HAVE_SO_PAY_ATTENTION&quot;, &quot;exampleName&quot;:  &quot;You have thrown an error&quot;}\r\n          ]\r\n        }\r\n\r\n      ]\r\n    }\r\n\r\n\r\n  ]\r\n}\r\n```","title":"Spring Boot Open API 3.0 - How to show custom examples without writing a Json Manually","body":"<p><strong>SOLVED</strong></p>\n<p><em>Solution: Document the API programmatically.</em></p>\n<p>Spring has a lib that you can manipulate the entire OpenAPI project.</p>\n<p>There's my configuration class, which is the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package br.orchestratorapi.config;\n\nimport br.com.dto.ErpResponseBodyDTO;\nimport br.com.exception.MessageError;\nimport br.com.exception.MyExceptionWrapperClassException;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.Operation;\nimport io.swagger.v3.oas.models.examples.Example;\nimport io.swagger.v3.oas.models.media.Content;\nimport io.swagger.v3.oas.models.media.MediaType;\nimport io.swagger.v3.oas.models.responses.ApiResponse;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport org.springdoc.core.customizers.OpenApiCustomiser;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.Resource;\nimport org.springframework.util.FileCopyUtils;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.io.UncheckedIOException;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Configuration\npublic class OpenAPIExamples {\n\n@Value(&quot;classpath:/swagger_examples.json&quot;)\n    private Resource swaggerExamples;\n\n    @Bean\n    public OpenApiCustomiser openApiCustomiser() {\n        return openAPI -&gt; buildExamplesFromJson().forEach(exampleValue -&gt; setExamplesOnEndpoints(openAPI, exampleValue, &quot;application/json&quot;));\n    }\n\n    private void setExamplesOnEndpoints(OpenAPI api, ExampleValue exampleValue, String bodyType) {\n        Optional.ofNullable(api.getPaths())\n                .map(paths -&gt; paths.get(exampleValue.getPath()))\n                .map(paths -&gt; getOperationForHttpMethod(exampleValue.getHttpMethod(), paths))\n                .ifPresent(operation -&gt; setExamplesOnEndpoints(exampleValue, bodyType, operation));\n    }\n\n    private void setExamplesOnEndpoints(ExampleValue exampleValue, String bodyType, Operation operation) {\n        ApiResponse response = operation.getResponses().get(String.valueOf(exampleValue.getHttpStatus()));\n        if(response == null)\n             response = new ApiResponse();\n\n        Content content = response.getContent();\n        if(content == null)\n             content = new Content();\n\n        MediaType mediaType = content.get(bodyType);\n\n        if(mediaType == null)\n            mediaType = new MediaType();\n\n        mediaType.addExamples(exampleValue.getExampleName(), exampleValue.getExample());\n\n        content.put(bodyType, mediaType);\n        response.setContent(content);\n\n        operation.getResponses().put(String.valueOf(exampleValue.getHttpStatus()), response);\n    }\n\n\n    private Operation getOperationForHttpMethod(String httpMethod, PathItem paths) {\n        switch (httpMethod) {\n            case &quot;POST&quot;:\n                return paths.getPost();\n            case &quot;PATCH&quot;:\n                return paths.getPatch();\n            case &quot;PUT&quot;:\n                return paths.getPut();\n            case &quot;DELETE&quot;:\n                return paths.getDelete();\n            case &quot;GET&quot;:\n                return paths.getGet();\n            case &quot;OPTIONS&quot;:\n                return paths.getOptions();\n            case &quot;HEAD&quot;:\n                return paths.getHead();\n            case &quot;TRACE&quot;:\n                return paths.getTrace();\n            default:\n                return null;\n        }\n    }\n\n    public List&lt;ExampleValue&gt; buildExamplesFromJson() {\n        List&lt;ExampleValue&gt; result = new ArrayList&lt;&gt;();\n\n        JsonObject jsonObject = new Gson().fromJson(asString(swaggerExamples), JsonObject.class);\n        JsonArray endpoints = jsonObject.getAsJsonArray(&quot;endpoints&quot;);\n\n        endpoints.forEach(element -&gt; {\n            JsonObject path = element.getAsJsonObject();\n\n            String endpointPath = path.get(&quot;path&quot;).getAsString();\n            String method = path.get(&quot;method&quot;).getAsString();\n\n            path.get(&quot;responses&quot;).getAsJsonArray().forEach(response -&gt; {\n                JsonObject resp = response.getAsJsonObject();\n\n                int status = resp.get(&quot;status&quot;).getAsInt();\n\n                resp.getAsJsonArray(&quot;errors&quot;).forEach(error -&gt; {\n\n                    JsonObject errorObj = error.getAsJsonObject();\n                    String enumName = errorObj.get(&quot;enum&quot;).getAsString();\n\n\n                    Example example = new Example();\n                    example.description(errorObj.get(&quot;description&quot;).getAsString());\n                    example.value(ErpResponseBodyDTO.builder().error(new MyExceptionWrapperClassException(MessageError.valueOf(enumName)).getResponse().getError()).build());\n\n                    ExampleValue exampleValue = new ExampleValue(errorObj.get(&quot;exampleName&quot;).getAsString(), example, status, method, endpointPath);\n\n                    result.add(exampleValue);\n\n                });\n\n            });\n\n\n        });\n\n        return result;\n\n    }\n\n    public static String asString(Resource resource) {\n        try (Reader reader = new InputStreamReader(resource.getInputStream())) {\n            return FileCopyUtils.copyToString(reader);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n\n    @Data\n    @AllArgsConstructor\n    private class ExampleValue {\n        private String exampleName;\n        private Example example;\n        private int httpStatus;\n        private String httpMethod;\n        private String path;\n    }\n\n }\n\n</code></pre>\n<p>As you can see, I read a Json file from resources:</p>\n<pre><code>{\n  &quot;endpoints&quot;: [\n\n\n    {\n      &quot;path&quot;:  &quot;/endpoint/that/{already}/{exists-in-swagger}&quot;,\n      &quot;method&quot;: &quot;POST&quot;,\n      &quot;responses&quot;: [\n\n        {\n          &quot;status&quot;:  401,\n          &quot;errors&quot;:[\n            {&quot;description&quot;:&quot;A description&quot;,&quot;enum&quot;: &quot;ENUM_THAT_I_HAVE_SO_PAY_ATTENTION&quot;, &quot;exampleName&quot;:  &quot;You have thrown an error&quot;}\n          ]\n        }\n\n      ]\n    }\n\n\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":18624324,"reputation":186,"user_id":13573784,"display_name":"Vitor Nilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1728,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677863788,"creation_date":1677783423,"question_id":75619756,"body_markdown":"I am working in a Spring Boot 2.5.2 + Java 8 project which has Open API 3.0:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI need to show some specific error bodies to the user like this:\r\n\r\nThis example comes from **another** Spring boot project where swagger is mapped with an yaml file.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yLXB.png\r\n\r\n\r\n\r\n---\r\n\r\n---\r\n\r\n---\r\n\r\nI need to show examples with a similar body but using annotations (because if a new endpoint is added it will be automatically mapped to the Swagger UI. We are facing an issue where developers are forgetting to map the endpoint in the yaml file, this action is trying to avoid this).\r\n\r\nHere are my mapping:\r\n\r\n```\r\n@ApiResponse(responseCode = &quot;401&quot;,\r\n                    description = &quot;Something is required.&quot;,\r\n                    content = {\r\n                            @Content(mediaType = &quot;application/json&quot;,\r\n\r\n                                    examples = {\r\n\r\n                                        //The problem lays here!!\r\n                                    }\r\n\r\n                            )\r\n\r\n                    })\r\n    })\r\n    public abstract ResponseEntity&lt;Mono&lt;Object&gt;&gt; queryLegacy(String query);\r\n```\r\n\r\nMy error class is `ErpResponseBodyDTO.class`.\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ErpResponseBodyDTO{\r\n  private Long code;\r\n  private String message;\r\n}\r\n```\r\n\r\nHow can I create a Instance of this class like `new ErpResponseBodyDTO(123, &quot;Error Message&quot;);` and use this instance as an Example?\r\n\r\nI mean, something like:\r\n\r\n```\r\n...\r\n@Content(mediaType = &quot;application/json&quot;,\r\n\r\nexamples = {\r\n\r\n    new ErpResponseBodyDTO(123, &quot;Error Message&quot;),\r\n    new ErpResponseBodyDTO(456, &quot;Error Message 2&quot;),\r\n    new ErpResponseBodyDTO(789, &quot;Error Message 3&quot;)\r\n}\r\n)\r\n...\r\n\r\n```\r\n\r\nI don&#39;t want to write manually a Json Example because my API has a lot of possible errors and writing it in the `@ExampleObject(value=&quot; \r\n {&quot;A&quot;:&quot;BIG&quot;, &quot;JSON&quot;:&quot;HERE&quot;}  &quot;)` will pollute the code. ","title":"Spring Boot Open API 3.0 - How to show custom examples without writing a Json Manually","body":"<p>I am working in a Spring Boot 2.5.2 + Java 8 project which has Open API 3.0:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I need to show some specific error bodies to the user like this:</p>\n<p>This example comes from <strong>another</strong> Spring boot project where swagger is mapped with an yaml file.\n<a href=\"https://i.stack.imgur.com/9yLXB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yLXB.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<hr />\n<hr />\n<p>I need to show examples with a similar body but using annotations (because if a new endpoint is added it will be automatically mapped to the Swagger UI. We are facing an issue where developers are forgetting to map the endpoint in the yaml file, this action is trying to avoid this).</p>\n<p>Here are my mapping:</p>\n<pre><code>@ApiResponse(responseCode = &quot;401&quot;,\n                    description = &quot;Something is required.&quot;,\n                    content = {\n                            @Content(mediaType = &quot;application/json&quot;,\n\n                                    examples = {\n\n                                        //The problem lays here!!\n                                    }\n\n                            )\n\n                    })\n    })\n    public abstract ResponseEntity&lt;Mono&lt;Object&gt;&gt; queryLegacy(String query);\n</code></pre>\n<p>My error class is <code>ErpResponseBodyDTO.class</code>.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ErpResponseBodyDTO{\n  private Long code;\n  private String message;\n}\n</code></pre>\n<p>How can I create a Instance of this class like <code>new ErpResponseBodyDTO(123, &quot;Error Message&quot;);</code> and use this instance as an Example?</p>\n<p>I mean, something like:</p>\n<pre><code>...\n@Content(mediaType = &quot;application/json&quot;,\n\nexamples = {\n\n    new ErpResponseBodyDTO(123, &quot;Error Message&quot;),\n    new ErpResponseBodyDTO(456, &quot;Error Message 2&quot;),\n    new ErpResponseBodyDTO(789, &quot;Error Message 3&quot;)\n}\n)\n...\n\n</code></pre>\n<p>I don't want to write manually a Json Example because my API has a lot of possible errors and writing it in the <code>@ExampleObject(value=&quot;  {&quot;A&quot;:&quot;BIG&quot;, &quot;JSON&quot;:&quot;HERE&quot;}  &quot;)</code> will pollute the code.</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":2,"creation_date":1677792301,"post_id":75620841,"comment_id":133412740,"body_markdown":"I doubt very much XSLT is the right tool for this.","body":"I doubt very much XSLT is the right tool for this."},{"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"score":0,"creation_date":1677792410,"post_id":75620841,"comment_id":133412773,"body_markdown":"Yes, xml unit must be more useful but i already use xslt to sort xml files. So i would like to use xslt again to show differences between the two files sorted.","body":"Yes, xml unit must be more useful but i already use xslt to sort xml files. So i would like to use xslt again to show differences between the two files sorted."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1677793308,"post_id":75620841,"comment_id":133412997,"body_markdown":"Well, it cannot work the way you imagine. And I am not sure it can work at all. You did not explain what are the rules for the comparison or even what is the expected result. If the 2 documents have *exactly* the same structure, and the only differences you are looking for are in the values of the `key` and `value` attributes of corresponding nodes, then it *might* be possible - but it won&#39;t be easy (esp. not in XSLT 1.0).","body":"Well, it cannot work the way you imagine. And I am not sure it can work at all. You did not explain what are the rules for the comparison or even what is the expected result. If the 2 documents have <i>exactly</i> the same structure, and the only differences you are looking for are in the values of the <code>key</code> and <code>value</code> attributes of corresponding nodes, then it <i>might</i> be possible - but it won&#39;t be easy (esp. not in XSLT 1.0)."},{"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"score":0,"creation_date":1677793446,"post_id":75620841,"comment_id":133413025,"body_markdown":"Yes, the structure is the same.","body":"Yes, the structure is the same."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1677794171,"post_id":75620841,"comment_id":133413187,"body_markdown":"Here is something quite similar that you could adapt to your situation. Though I would still advise against it. https://stackoverflow.com/a/32890764/3016153","body":"Here is something quite similar that you could adapt to your situation. Though I would still advise against it. <a href=\"https://stackoverflow.com/a/32890764/3016153\">stackoverflow.com/a/32890764/3016153</a>"},{"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"score":0,"creation_date":1677795662,"post_id":75620841,"comment_id":133413458,"body_markdown":"Thank you but I don&#39;t know how to do otherwise because with XMLUnit1 the result done is not clear for me and with java it seems difficult to make with hashmap .","body":"Thank you but I don&#39;t know how to do otherwise because with XMLUnit1 the result done is not clear for me and with java it seems difficult to make with hashmap ."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1677863522,"post_id":75620841,"comment_id":133427520,"body_markdown":"I rolled your question back to the original, after you have (quite correctly) posted a new one with the changed requirements.","body":"I rolled your question back to the original, after you have (quite correctly) posted a new one with the changed requirements."},{"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"score":0,"creation_date":1677864557,"post_id":75620841,"comment_id":133427774,"body_markdown":"Yes, i would like to better explain the problem. So i posted a new message but it has been deleted. How better explain because my edit has also been deleted.","body":"Yes, i would like to better explain the problem. So i posted a new message but it has been deleted. How better explain because my edit has also been deleted."},{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1677865295,"post_id":75620841,"comment_id":133427978,"body_markdown":"I have reopened your other question. But I must tell you that you are not explaining the logic very well (at least not well enough for me to understand it).","body":"I have reopened your other question. But I must tell you that you are not explaining the logic very well (at least not well enough for me to understand it)."},{"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"score":0,"creation_date":1677867000,"post_id":75620841,"comment_id":133428415,"body_markdown":"I edited it. I hope it is better now.","body":"I edited it. I hope it is better now."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677796422,"creation_date":1677796422,"answer_id":75621454,"question_id":75620841,"body_markdown":"As you are using Java it is usually possible to use Saxon HE (currently supported versions are 10, 11, 12) and XSLT 3:\r\n\r\n    &lt;xsl:stylesheet version=&quot;3.0&quot;\r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    \r\n    &lt;xsl:output method=&quot;text&quot;/&gt;\r\n    \r\n    &lt;xsl:key name=&quot;key&quot; match=&quot;*&quot; use=&quot;@key, @value&quot; composite=&quot;yes&quot; /&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n    &lt;xsl:text&gt;&quot;only in file1&quot;&amp;#10;&lt;/xsl:text&gt;\r\n    &lt;xsl:value-of select=&quot;//*[not(key(&#39;key&#39;, (@key, @value), $file2))]!(&#39;key: &#39; || @key || &#39; value : &#39; || @value)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n    &lt;xsl:text&gt;&amp;#10;&quot;only in file&quot;&amp;#10;&lt;/xsl:text&gt;\r\n    &lt;xsl:value-of select=&quot;$file2//*[not(key(&#39;key&#39;, (@key, @value), current()))]!(&#39;key: &#39; || @key || &#39; value : &#39; || @value)&quot; separator=&quot;&amp;#10;&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    \r\n    &lt;xsl:variable name=&quot;file2&quot; select=&quot;doc(&#39;file2.xml&#39;)&quot;/&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nResult\r\n\r\n    &quot;only in file1&quot;\r\n    key: B value : B1\r\n    key: Z value : Z1\r\n    key: Y value : \r\n    key: C value : C1\r\n    &quot;only in file&quot;\r\n    key: B value : O1\r\n    key: G value : Z1\r\n    key: Y2 value : \r\n    key: C1 value : C8","title":"Compare two xml files with XSLT","body":"<p>As you are using Java it is usually possible to use Saxon HE (currently supported versions are 10, 11, 12) and XSLT 3:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;3.0&quot;\nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n\n&lt;xsl:output method=&quot;text&quot;/&gt;\n\n&lt;xsl:key name=&quot;key&quot; match=&quot;*&quot; use=&quot;@key, @value&quot; composite=&quot;yes&quot; /&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n&lt;xsl:text&gt;&quot;only in file1&quot;&amp;#10;&lt;/xsl:text&gt;\n&lt;xsl:value-of select=&quot;//*[not(key('key', (@key, @value), $file2))]!('key: ' || @key || ' value : ' || @value)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n&lt;xsl:text&gt;&amp;#10;&quot;only in file&quot;&amp;#10;&lt;/xsl:text&gt;\n&lt;xsl:value-of select=&quot;$file2//*[not(key('key', (@key, @value), current()))]!('key: ' || @key || ' value : ' || @value)&quot; separator=&quot;&amp;#10;&quot;/&gt;\n&lt;/xsl:template&gt;\n\n\n&lt;xsl:variable name=&quot;file2&quot; select=&quot;doc('file2.xml')&quot;/&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Result</p>\n<pre><code>&quot;only in file1&quot;\nkey: B value : B1\nkey: Z value : Z1\nkey: Y value : \nkey: C value : C1\n&quot;only in file&quot;\nkey: B value : O1\nkey: G value : Z1\nkey: Y2 value : \nkey: C1 value : C8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677819461,"creation_date":1677819461,"answer_id":75623321,"question_id":75620841,"body_markdown":"Here is something relatively simple I managed to put together quickly. The result format is different from what you show - but I see no good reason to perform the same comparison twice. (If you want, you could put the result in a variable and then &quot;print&quot; it out twice, once for each side).\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    \r\n    &lt;xsl:variable name=&quot;v1&quot; select=&quot;//node&quot; /&gt;\r\n    &lt;xsl:variable name=&quot;v2&quot; select=&quot;document(&#39;file2.xml&#39;)//node&quot; /&gt;\r\n    \r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n    \t&lt;differences&gt;\r\n    \t\t&lt;xsl:for-each select=&quot;$v1&quot;&gt;\r\n    \t\t\t&lt;xsl:variable name=&quot;i&quot; select=&quot;position()&quot; /&gt;\r\n    \t\t\t&lt;xsl:variable name=&quot;n2&quot; select=&quot;$v2[$i]&quot; /&gt;\r\n    \t\t\t&lt;xsl:if test=&quot;@key != $n2/@key or @value != $n2/@value&quot;&gt;\r\n    \t\t\t\t&lt;diff key1=&quot;{@key}&quot; key2=&quot;{$n2/@key}&quot; value1=&quot;{@value}&quot; value2=&quot;{$n2/@value}&quot;/&gt;\r\n    \t\t\t&lt;/xsl:if&gt;\r\n    \t\t&lt;/xsl:for-each&gt;\r\n    \t&lt;/differences&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nApplied to your input example, the result will be:\r\n\r\n**Result**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;differences&gt;\r\n       &lt;diff key1=&quot;B&quot; key2=&quot;B&quot; value1=&quot;B1&quot; value2=&quot;O1&quot;/&gt;\r\n       &lt;diff key1=&quot;Z&quot; key2=&quot;G&quot; value1=&quot;Z1&quot; value2=&quot;Z1&quot;/&gt;\r\n       &lt;diff key1=&quot;Y&quot; key2=&quot;Y2&quot; value1=&quot;&quot; value2=&quot;&quot;/&gt;\r\n       &lt;diff key1=&quot;C&quot; key2=&quot;C1&quot; value1=&quot;C1&quot; value2=&quot;C8&quot;/&gt;\r\n    &lt;/differences&gt;\r\n\r\n","title":"Compare two xml files with XSLT","body":"<p>Here is something relatively simple I managed to put together quickly. The result format is different from what you show - but I see no good reason to perform the same comparison twice. (If you want, you could put the result in a variable and then &quot;print&quot; it out twice, once for each side).</p>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n&lt;xsl:variable name=&quot;v1&quot; select=&quot;//node&quot; /&gt;\n&lt;xsl:variable name=&quot;v2&quot; select=&quot;document('file2.xml')//node&quot; /&gt;\n\n&lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;differences&gt;\n        &lt;xsl:for-each select=&quot;$v1&quot;&gt;\n            &lt;xsl:variable name=&quot;i&quot; select=&quot;position()&quot; /&gt;\n            &lt;xsl:variable name=&quot;n2&quot; select=&quot;$v2[$i]&quot; /&gt;\n            &lt;xsl:if test=&quot;@key != $n2/@key or @value != $n2/@value&quot;&gt;\n                &lt;diff key1=&quot;{@key}&quot; key2=&quot;{$n2/@key}&quot; value1=&quot;{@value}&quot; value2=&quot;{$n2/@value}&quot;/&gt;\n            &lt;/xsl:if&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/differences&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Applied to your input example, the result will be:</p>\n<p><strong>Result</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;differences&gt;\n   &lt;diff key1=&quot;B&quot; key2=&quot;B&quot; value1=&quot;B1&quot; value2=&quot;O1&quot;/&gt;\n   &lt;diff key1=&quot;Z&quot; key2=&quot;G&quot; value1=&quot;Z1&quot; value2=&quot;Z1&quot;/&gt;\n   &lt;diff key1=&quot;Y&quot; key2=&quot;Y2&quot; value1=&quot;&quot; value2=&quot;&quot;/&gt;\n   &lt;diff key1=&quot;C&quot; key2=&quot;C1&quot; value1=&quot;C1&quot; value2=&quot;C8&quot;/&gt;\n&lt;/differences&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677844302,"creation_date":1677844302,"answer_id":75626733,"question_id":75620841,"body_markdown":"You asked:\r\n\r\n&gt; I have an synthax error with $file2/[not(@key=$key1)]\r\n\r\nWell, yes, that isn&#39;t a valid XPath expression. I can&#39;t offer an immediate correction, because I&#39;ve no idea what it was intended to do. And when I look at the rest of your stylesheet, it&#39;s full of similar errors that suggest you haven&#39;t mastered the basics. I&#39;m afraid my immediate reaction is, only someone with a much better knowledge of XPath should be attempting a task as complex as this.\r\n\r\nUnlike @michael.hor257k, I think that XSLT is a perfectly good tool for this job, especially later versions such as XSLT 3.0. However, there are two big jobs to do before you start coding: one is to define the requirements much more precisely, and the second is to learn XSLT. I would recommend writing some simpler XSLT stylesheets before you tackle a difficult one like this.","title":"Compare two xml files with XSLT","body":"<p>You asked:</p>\n<blockquote>\n<p>I have an synthax error with $file2/[not(@key=$key1)]</p>\n</blockquote>\n<p>Well, yes, that isn't a valid XPath expression. I can't offer an immediate correction, because I've no idea what it was intended to do. And when I look at the rest of your stylesheet, it's full of similar errors that suggest you haven't mastered the basics. I'm afraid my immediate reaction is, only someone with a much better knowledge of XPath should be attempting a task as complex as this.</p>\n<p>Unlike @michael.hor257k, I think that XSLT is a perfectly good tool for this job, especially later versions such as XSLT 3.0. However, there are two big jobs to do before you start coding: one is to define the requirements much more precisely, and the second is to learn XSLT. I would recommend writing some simpler XSLT stylesheets before you tackle a difficult one like this.</p>\n"}],"owner":{"account_id":26503505,"reputation":31,"user_id":20140051,"display_name":"pouce"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1677863428,"creation_date":1677791215,"question_id":75620841,"body_markdown":"I have two XML files, file1.xml and file2.xml.\r\nI want to compare these two files and write in the file3.txt the difference of contents.\r\n\r\nIt doesn&#39;t work because I have an synthax error with $file2/[not(@key=$key1)]\r\n\r\nHow can I solve that ?\r\n\r\n**File 1**\r\n\r\n\r\n```\r\n&lt;node key=&quot;U&quot;&gt;\r\n  &lt;node key=&quot;E&quot; value=&quot;E1&quot;/&gt;\r\n  &lt;node key=&quot;B&quot; value=&quot;B1&quot;/&gt;\r\n  &lt;node key=&quot;Z&quot; value=&quot;Z1&quot;/&gt;\r\n  &lt;node key=&quot;T&quot;&gt;\r\n    &lt;node key=&quot;Y&quot;&gt;\r\n      &lt;node key=&quot;H&quot; value=&quot;H1&quot;/&gt;\r\n      &lt;node key=&quot;C&quot; value=&quot;C1&quot;/&gt;\r\n      &lt;node key=&quot;P&quot; value=&quot;P1&quot;/&gt;\r\n    &lt;/node&gt;\r\n  &lt;/node&gt;\r\n&lt;/node&gt;\r\n```\r\n\r\n****File 2**** **\r\n\r\n\r\n```\r\n&lt;node key=&quot;U&quot;&gt;\r\n  &lt;node key=&quot;E&quot; value=&quot;E1&quot;/&gt;\r\n  &lt;node key=&quot;B&quot; value=&quot;O1&quot;/&gt;\r\n  &lt;node key=&quot;G&quot; value=&quot;Z1&quot;/&gt;\r\n  &lt;node key=&quot;T&quot;&gt;\r\n    &lt;node key=&quot;Y2&quot;&gt;\r\n      &lt;node key=&quot;H&quot; value=&quot;H1&quot;/&gt;\r\n      &lt;node key=&quot;C1&quot; value=&quot;C8&quot;/&gt;\r\n      &lt;node key=&quot;P&quot; value=&quot;P1&quot;/&gt;\r\n    &lt;/node&gt;\r\n  &lt;/node&gt;\r\n&lt;/node&gt;\r\n\r\n\r\n\r\n\r\n\r\n```\r\n**XSLT**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;1.0&quot;\r\nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n&lt;xsl:output method=&quot;xml&quot;  omit-xml-declaration=&quot;yes&quot; version=&quot;1.0&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot;/&gt;\r\n\r\n&lt;xsl:variable name=&quot;file2&quot; select=&quot;document(&#39;file2.xml&#39;)&quot; /&gt;\r\n\r\n&lt;xsl:variable name=&quot;key1&quot; select=&quot;@key&quot; /&gt;\r\n&lt;xsl:variable name=&quot;key2&quot; select=&quot;@key&quot; /&gt;\r\n\r\n&lt;xsl:template match=&quot;@* | node()&quot;&gt;\r\n\t&lt;xsl:comment&gt;&quot;only in file1&quot;&lt;/xsl:comment&gt;\r\n        &lt;xsl:apply-templates select=&quot;[not(@key=$key2)]&quot;/&gt;\r\n\t&lt;xsl:comment&gt;&quot;only in file2&quot;&lt;/xsl:comment&gt;\r\n        &lt;xsl:apply-templates select=&quot;$file2/[not(@key=$key1)]&quot;/&gt;\r\n&lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n\r\n```\r\n\r\n**Java Code**\r\n\r\n\r\n```\r\npackage XSLT;\r\n\r\nimport javax.xml.transform.*;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URISyntaxException;\r\n\r\npublic class MainCompare {\r\n    public static void main(String[] args) throws IOException, URISyntaxException, TransformerException {\r\n        TransformerFactory factory = TransformerFactory.newInstance();\r\n        Source xslt = new StreamSource(new File(&quot;transform2.xslt&quot;));\r\n        Transformer transformer = factory.newTransformer(xslt);\r\n\r\n        Source text = new StreamSource(new File(&quot;file1.xml&quot;));\r\n        transformer.transform(text, new StreamResult(new File(&quot;file3.txt&quot;)));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI would like to get differences between the two XML files.\r\n\r\nResult wanted\r\n\r\n&gt;     &quot;only in file1&quot;\r\n&gt;     \r\n&gt;      key=&quot;B&quot; value=&quot;B1&quot;\r\n&gt;      key=&quot;Z&quot; value=&quot;Z1&quot;\r\n&gt;      key=&quot;Y&quot;\r\n&gt;      key=&quot;C&quot; value=&quot;C1&quot;\r\n&gt;     \r\n&gt;     &quot;only in file2&quot;\r\n&gt;     \r\n&gt;       key=&quot;B&quot; value=&quot;O1&quot;\r\n&gt;       key=&quot;G&quot; value=&quot;Z1&quot;\r\n&gt;       key=&quot;Y2&quot;\r\n&gt;       key=&quot;C1&quot; value=&quot;C8&quot;","title":"Compare two xml files with XSLT","body":"<p>I have two XML files, file1.xml and file2.xml.\nI want to compare these two files and write in the file3.txt the difference of contents.</p>\n<p>It doesn't work because I have an synthax error with $file2/[not(@key=$key1)]</p>\n<p>How can I solve that ?</p>\n<p><strong>File 1</strong></p>\n<pre><code>&lt;node key=&quot;U&quot;&gt;\n  &lt;node key=&quot;E&quot; value=&quot;E1&quot;/&gt;\n  &lt;node key=&quot;B&quot; value=&quot;B1&quot;/&gt;\n  &lt;node key=&quot;Z&quot; value=&quot;Z1&quot;/&gt;\n  &lt;node key=&quot;T&quot;&gt;\n    &lt;node key=&quot;Y&quot;&gt;\n      &lt;node key=&quot;H&quot; value=&quot;H1&quot;/&gt;\n      &lt;node key=&quot;C&quot; value=&quot;C1&quot;/&gt;\n      &lt;node key=&quot;P&quot; value=&quot;P1&quot;/&gt;\n    &lt;/node&gt;\n  &lt;/node&gt;\n&lt;/node&gt;\n</code></pre>\n<p><strong><strong>File 2</strong></strong> **</p>\n<pre><code>&lt;node key=&quot;U&quot;&gt;\n  &lt;node key=&quot;E&quot; value=&quot;E1&quot;/&gt;\n  &lt;node key=&quot;B&quot; value=&quot;O1&quot;/&gt;\n  &lt;node key=&quot;G&quot; value=&quot;Z1&quot;/&gt;\n  &lt;node key=&quot;T&quot;&gt;\n    &lt;node key=&quot;Y2&quot;&gt;\n      &lt;node key=&quot;H&quot; value=&quot;H1&quot;/&gt;\n      &lt;node key=&quot;C1&quot; value=&quot;C8&quot;/&gt;\n      &lt;node key=&quot;P&quot; value=&quot;P1&quot;/&gt;\n    &lt;/node&gt;\n  &lt;/node&gt;\n&lt;/node&gt;\n\n\n\n\n\n</code></pre>\n<p><strong>XSLT</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;1.0&quot;\nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot;  omit-xml-declaration=&quot;yes&quot; version=&quot;1.0&quot; encoding=&quot;utf-8&quot; indent=&quot;yes&quot;/&gt;\n\n&lt;xsl:variable name=&quot;file2&quot; select=&quot;document('file2.xml')&quot; /&gt;\n\n&lt;xsl:variable name=&quot;key1&quot; select=&quot;@key&quot; /&gt;\n&lt;xsl:variable name=&quot;key2&quot; select=&quot;@key&quot; /&gt;\n\n&lt;xsl:template match=&quot;@* | node()&quot;&gt;\n    &lt;xsl:comment&gt;&quot;only in file1&quot;&lt;/xsl:comment&gt;\n        &lt;xsl:apply-templates select=&quot;[not(@key=$key2)]&quot;/&gt;\n    &lt;xsl:comment&gt;&quot;only in file2&quot;&lt;/xsl:comment&gt;\n        &lt;xsl:apply-templates select=&quot;$file2/[not(@key=$key1)]&quot;/&gt;\n&lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>package XSLT;\n\nimport javax.xml.transform.*;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\n\npublic class MainCompare {\n    public static void main(String[] args) throws IOException, URISyntaxException, TransformerException {\n        TransformerFactory factory = TransformerFactory.newInstance();\n        Source xslt = new StreamSource(new File(&quot;transform2.xslt&quot;));\n        Transformer transformer = factory.newTransformer(xslt);\n\n        Source text = new StreamSource(new File(&quot;file1.xml&quot;));\n        transformer.transform(text, new StreamResult(new File(&quot;file3.txt&quot;)));\n    }\n}\n</code></pre>\n<p>I would like to get differences between the two XML files.</p>\n<p>Result wanted</p>\n<blockquote>\n<pre><code>&quot;only in file1&quot;\n\n key=&quot;B&quot; value=&quot;B1&quot;\n key=&quot;Z&quot; value=&quot;Z1&quot;\n key=&quot;Y&quot;\n key=&quot;C&quot; value=&quot;C1&quot;\n\n&quot;only in file2&quot;\n\n  key=&quot;B&quot; value=&quot;O1&quot;\n  key=&quot;G&quot; value=&quot;Z1&quot;\n  key=&quot;Y2&quot;\n  key=&quot;C1&quot; value=&quot;C8&quot;\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","android-softkeyboard"],"comments":[{"owner":{"account_id":1060138,"reputation":15246,"user_id":1061944,"accept_rate":41,"display_name":"Murtaza Khursheed Hussain"},"score":0,"creation_date":1424344550,"post_id":28604932,"comment_id":45514463,"body_markdown":"what is in `android:keyBackground=&quot;@drawable/key_background&quot;` ?","body":"what is in <code>android:keyBackground=&quot;@drawable&#47;key_background&quot;</code> ?"},{"owner":{"account_id":2636880,"reputation":1485,"user_id":2281306,"accept_rate":88,"display_name":"Arvin Jayanake"},"score":0,"creation_date":1424344669,"post_id":28604932,"comment_id":45514542,"body_markdown":"that is shape drawable xml","body":"that is shape drawable xml"}],"answers":[{"tags":[],"owner":{"account_id":3401362,"reputation":3329,"user_id":2853423,"accept_rate":43,"display_name":"Born To Win"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1499303132,"creation_date":1424345210,"answer_id":28605168,"question_id":28604932,"body_markdown":"Please look into this you will get an idea for your problem.\r\nhttp://developer.android.com/reference/android/inputmethodservice/KeyboardView.html\r\n\r\n    android:keyTextColor=&quot;your color code&quot;","title":"I&#39;m developing a keyboard for android. How to change the text color of the keys?","body":"<p>Please look into this you will get an idea for your problem.\n<a href=\"http://developer.android.com/reference/android/inputmethodservice/KeyboardView.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/inputmethodservice/KeyboardView.html</a></p>\n\n<pre><code>android:keyTextColor=\"your color code\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490195,"reputation":3633,"user_id":2920079,"display_name":"user543"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424345249,"creation_date":1424345249,"answer_id":28605179,"question_id":28604932,"body_markdown":"U can use android:keyTextColor attribute: like\r\n\r\n    android:keyTextColor=&quot;@android:color/black&quot;","title":"I&#39;m developing a keyboard for android. How to change the text color of the keys?","body":"<p>U can use android:keyTextColor attribute: like</p>\n\n<pre><code>android:keyTextColor=\"@android:color/black\"\n</code></pre>\n"}],"owner":{"account_id":2636880,"reputation":1485,"user_id":2281306,"accept_rate":88,"display_name":"Arvin Jayanake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28605168,"answer_count":2,"score":1,"last_activity_date":1677863276,"creation_date":1424344500,"question_id":28604932,"body_markdown":"&lt;p&gt;How to change the text color of the keys?&lt;/p&gt;\r\n&lt;p&gt;Here is my keyboard layout.&lt;/p&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;android.inputmethodservice.KeyboardView \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/keyboard&quot;\r\n        android:keyBackground=&quot;@drawable/key_background&quot;\r\n        android:background=&quot;@color/keyboard_background&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:keyPreviewLayout=&quot;@layout/preview&quot; /&gt;\r\n\r\n\r\n**key_background.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    \r\n        &lt;!-- Bottom 2dp Shadow --&gt;\r\n        &lt;item android:top=&quot;4dp&quot;\r\n            android:left=&quot;2dp&quot;\r\n            android:right=&quot;2dp&quot;&gt; \r\n            &lt;shape android:shape=&quot;rectangle&quot; &gt;\r\n                &lt;solid android:color=&quot;@color/key_shadow&quot; /&gt;\r\n                &lt;corners android:radius=&quot;4dp&quot;/&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    \r\n        &lt;!-- White Top color --&gt;\r\n        &lt;item android:bottom=&quot;4px&quot; \r\n            android:top=&quot;4dp&quot;\r\n            android:left=&quot;2dp&quot;\r\n            android:right=&quot;2dp&quot;&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot; &gt;\r\n                &lt;solid android:color=&quot;@color/white&quot; /&gt;\r\n                &lt;corners android:radius=&quot;4dp&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    \r\n    &lt;/layer-list&gt;","title":"I&#39;m developing a keyboard for android. How to change the text color of the keys?","body":"<p>How to change the text color of the keys?</p>\n\n<p>Here is my keyboard layout.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;android.inputmethodservice.KeyboardView \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/keyboard\"\n    android:keyBackground=\"@drawable/key_background\"\n    android:background=\"@color/keyboard_background\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:keyPreviewLayout=\"@layout/preview\" /&gt;\n</code></pre>\n\n<p><strong>key_background.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n    &lt;!-- Bottom 2dp Shadow --&gt;\n    &lt;item android:top=\"4dp\"\n        android:left=\"2dp\"\n        android:right=\"2dp\"&gt; \n        &lt;shape android:shape=\"rectangle\" &gt;\n            &lt;solid android:color=\"@color/key_shadow\" /&gt;\n            &lt;corners android:radius=\"4dp\"/&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n\n    &lt;!-- White Top color --&gt;\n    &lt;item android:bottom=\"4px\" \n        android:top=\"4dp\"\n        android:left=\"2dp\"\n        android:right=\"2dp\"&gt;\n        &lt;shape android:shape=\"rectangle\" &gt;\n            &lt;solid android:color=\"@color/white\" /&gt;\n            &lt;corners android:radius=\"4dp\" /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n"},{"tags":["java","hibernate","transactions","wildfly","jta"],"comments":[{"owner":{"account_id":274743,"reputation":1993,"user_id":567162,"accept_rate":70,"display_name":"D-Klotz"},"score":3,"creation_date":1505748417,"post_id":43282331,"comment_id":79528987,"body_markdown":"Did you ever get an answer to this? I am also looking at using release_mode after_transaction on wildfly but unsure.","body":"Did you ever get an answer to this? I am also looking at using release_mode after_transaction on wildfly but unsure."},{"owner":{"account_id":5431088,"reputation":1748,"user_id":4321944,"display_name":"Martin Rauscher"},"score":4,"creation_date":1506326614,"post_id":43282331,"comment_id":79757691,"body_markdown":"Nope, looks like nobody understands this stuff :(","body":"Nope, looks like nobody understands this stuff :("},{"owner":{"account_id":938389,"reputation":896,"user_id":966914,"accept_rate":33,"display_name":"John"},"score":5,"creation_date":1511194312,"post_id":43282331,"comment_id":81745785,"body_markdown":"Have a look here: https://vladmihalcea.com/2015/12/22/hibernate-aggressive-connection-release/","body":"Have a look here: <a href=\"https://vladmihalcea.com/2015/12/22/hibernate-aggressive-connection-release/\" rel=\"nofollow noreferrer\">vladmihalcea.com/2015/12/22/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5976707,"reputation":107,"user_id":4697306,"display_name":"zaarour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665485359,"creation_date":1665485359,"answer_id":74026878,"question_id":43282331,"body_markdown":"Problems with connection pool management can occur at several levels, database, hibernate, application server. In order to facilitate this management, it is strongly recommended to use C3p0 which is a Java library that provides a convenient way for managing database connections.\r\nSee document [C3Po link][1]\r\n\r\nYou can then configure in your hibernate.cfg.xml file the release mode of JTA transactions. It is best to leave it at the default value: &quot;auto&quot;, as shown below: \r\n\r\n    &lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;&lt;!-- Release mode database connection- auto the default value --&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;0&lt;/property&gt; &lt;!--  Number of prepared statements will be cached. 0 no caching --&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;1000&lt;/property&gt; &lt;!-- Max connection pool size --&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;50&lt;/property&gt; &lt;!-- Min connection pool size --&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;550&lt;/property&gt; &lt;!-- Time in seconds before free a connection. 0 no expiration --&gt; \r\n    &lt;property name=&quot;hibernate.c3p0.idleConnectionTestPeriod&quot;&gt;1800&lt;/property&gt; &lt;!--  idle time in seconds before testing if a connection is valid - Setting a fairly long idleConnectionTestPeriod, and not testing on checkout and check-in at all is an excellent, high-performance approach. --&gt;\r\n    &lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot;&gt;SELECT 1;&lt;/property&gt;\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-c3p0\r\n\r\n","title":"Why is hibernate.connection.release_mode after_transaction not recommended for JTA?","body":"<p>Problems with connection pool management can occur at several levels, database, hibernate, application server. In order to facilitate this management, it is strongly recommended to use C3p0 which is a Java library that provides a convenient way for managing database connections.\nSee document <a href=\"https://www.baeldung.com/hibernate-c3p0\" rel=\"nofollow noreferrer\">C3Po link</a></p>\n<p>You can then configure in your hibernate.cfg.xml file the release mode of JTA transactions. It is best to leave it at the default value: &quot;auto&quot;, as shown below:</p>\n<pre><code>&lt;property name=&quot;hibernate.connection.release_mode&quot;&gt;auto&lt;/property&gt;&lt;!-- Release mode database connection- auto the default value --&gt;\n&lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;0&lt;/property&gt; &lt;!--  Number of prepared statements will be cached. 0 no caching --&gt;\n&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;1000&lt;/property&gt; &lt;!-- Max connection pool size --&gt;\n&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;50&lt;/property&gt; &lt;!-- Min connection pool size --&gt;\n&lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;550&lt;/property&gt; &lt;!-- Time in seconds before free a connection. 0 no expiration --&gt; \n&lt;property name=&quot;hibernate.c3p0.idleConnectionTestPeriod&quot;&gt;1800&lt;/property&gt; &lt;!--  idle time in seconds before testing if a connection is valid - Setting a fairly long idleConnectionTestPeriod, and not testing on checkout and check-in at all is an excellent, high-performance approach. --&gt;\n&lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot;&gt;SELECT 1;&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677863246,"creation_date":1677854540,"answer_id":75628478,"question_id":43282331,"body_markdown":"6 years later, but I hope this can help future readers.\r\n\r\n## Background \r\n\r\nFor a couple of years, we have encountered a production bug that kept exhausting the pooled connection in an Atomikos managed Hibernate (3.x.x) &amp; JTA integration.\r\n\r\nWith our Atomikos &quot;recovery strategy&quot; (i.e. force release all connections), this was fine until recent upscale with direct modern collaborators with multiple instances in K8S pushed the app&#39;s tipping point where we needed to address this issue.\r\n\r\nNavigating around, I found the following set:\r\n\r\n```java\r\nsetProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\r\n```\r\n\r\nWhich after research it led me to this question (and other multiple unclear/unanswered questions regarding this mode) \r\n\r\nSo here are the findings:\r\n\r\n## Origin of Flag\r\n\r\nIn 2005, it seems that a Hibernate JTA integration was causing issues, as a result [HHH-1287](https://hibernate.atlassian.net/browse/HHH-1287) was raised:\r\n\r\n&gt; It looks like the ExtendedJTATransaction is simply not available after the CMT completes and the WebSphereExtendedJTATransactionLookup class attempts to look it up at java:comp/websphere/ExtendedJTATransaction as part of the normal &#39;after completion&#39; callback.\r\n&gt;\r\n&gt; The problem occurs when the afterCompletion callback event fires and the ConnectionManager.isAggressiveRelease() method is called from ConnectionManager.afterTransaction(). This attempts to check to see if a transaction is in progress. This test in fact causes the transaction manager to be created (together with a look up of the current transaction) The lookup of the ExtendedJTATransaction fails and the an exception is thrown (see stack trace below).\r\n&gt; \r\n&gt; Although there may be an inconsistency in the way that a SSB and MDB operate, It seems fair to say that the transaction may not be available if it has completed. A workaround is therefore requested.\r\n\r\nAs a result a change was committed to circumvent the JTA transaction check in this scenario in the connection manager: (This has then gone though further improvements)\r\n\r\n```java\r\nprivate boolean isAggressiveReleaseNoTransactionCheck() {\r\n    if (releaseMode == ConnectionReleaseMode.AFTER_STATEMENT) {\r\n        return true;\r\n    }\r\n    else {\r\n        boolean inAutoCommitState;\r\n        try {\r\n            inAutoCommitState = isAutoCommit();\r\n        }\r\n        catch( SQLException e ) {\r\n            inAutoCommitState=true; // assume we are in an auto-commit state\r\n        }\r\n        return releaseMode == ConnectionReleaseMode.AFTER_TRANSACTION &amp;&amp; inAutoCommitState;\r\n    }\r\n}\r\n```\r\n\r\n## Feature Release  \r\n\r\nAfter verifying this works, it was released in the wild with the following documentation for 3.x.x:\r\n\r\n**Table&#160;3.4.&#160;Hibernate JDBC and Connection Properties**\r\n\r\n| Property name | Purpose |\r\n| ------------- | ------- |\r\n| hibernate.connection.release_mode\t| Specify when Hibernate should release JDBC connections. By default, a JDBC connection is held until the session is explicitly closed or disconnected. For an application server JTA datasource, you should use&#160;`after_statement`&#160;to aggressively release connections after every JDBC call. For a non-JTA connection, it often makes sense to release the connection at the end of each transaction, by using&#160;`after_transaction`.&#160;`auto`&#160;will choose&#160;`after_statement`&#160;for the JTA and CMT transaction strategies and&#160;`after_transaction`&#160;for the JDBC transaction strategy. **eg.**&#160;`auto`&#160;(default) /&#160;`on_close`&#160;/&#160;`after_transaction`&#160;/ `after_statement`\r\n\r\n&gt; For an application server JTA datasource, you should use&#160;`after_statement`&#160;to aggressively release connections after every JDBC call.\r\n\r\n## Given conclusion \r\n\r\nTherefore, this was work around certain containers (not just EE containers) that implement &quot;resource containment&quot; checks. \r\n\r\nThe Hibernate Session defers  getting a JDBC Connection until it actually needs one, which can lead to  cases like the following where 2 beans share a Session/EM:\r\n\r\n- Bean1: get&#160;Session, but don&#39;t use it yet in way that needs Connection  \r\n- Bean1: call Bean2...  \r\n- Bean2: get Session, do some work forcing Session to obtain Connection  \r\n- Bean2: return (Session still hold Connection)  \r\n  \r\nAt this point, these containers see this as a &quot;leaked&quot; Connection because  the handle was not released by the end of the scope in which it was  obtained. Hence, aggressive releasing. \r\n\r\nYou can read more about this in detail here: [[hibernate-dev] - Connection release modes](http://lists.jboss.org/pipermail/hibernate-dev/2006-December/000903.html)\r\n\r\n### Useful References and Resources:\r\n-   [Hibernate - 11.5. Connection Release Modes](https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/transactions-connection-release.html &quot;Follow link&quot;)\r\n-   [HHH-1287 - The issue that introduced the &quot;after_statement&quot; flag](https://hibernate.atlassian.net/browse/HHH-1287 &quot;Follow link&quot;)\r\n-   [&quot;after_transaction&quot; vs &quot;after_statement&quot; - Hibernate Aggressive Connection Release](https://vladmihalcea.com/hibernate-aggressive-connection-release/ &quot;Follow link&quot;)","title":"Why is hibernate.connection.release_mode after_transaction not recommended for JTA?","body":"<p>6 years later, but I hope this can help future readers.</p>\n<h2>Background</h2>\n<p>For a couple of years, we have encountered a production bug that kept exhausting the pooled connection in an Atomikos managed Hibernate (3.x.x) &amp; JTA integration.</p>\n<p>With our Atomikos &quot;recovery strategy&quot; (i.e. force release all connections), this was fine until recent upscale with direct modern collaborators with multiple instances in K8S pushed the app's tipping point where we needed to address this issue.</p>\n<p>Navigating around, I found the following set:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setProperty(&quot;hibernate.connection.release_mode&quot;, &quot;after_transaction&quot;);\n</code></pre>\n<p>Which after research it led me to this question (and other multiple unclear/unanswered questions regarding this mode)</p>\n<p>So here are the findings:</p>\n<h2>Origin of Flag</h2>\n<p>In 2005, it seems that a Hibernate JTA integration was causing issues, as a result <a href=\"https://hibernate.atlassian.net/browse/HHH-1287\" rel=\"noreferrer\">HHH-1287</a> was raised:</p>\n<blockquote>\n<p>It looks like the ExtendedJTATransaction is simply not available after the CMT completes and the WebSphereExtendedJTATransactionLookup class attempts to look it up at java:comp/websphere/ExtendedJTATransaction as part of the normal 'after completion' callback.</p>\n<p>The problem occurs when the afterCompletion callback event fires and the ConnectionManager.isAggressiveRelease() method is called from ConnectionManager.afterTransaction(). This attempts to check to see if a transaction is in progress. This test in fact causes the transaction manager to be created (together with a look up of the current transaction) The lookup of the ExtendedJTATransaction fails and the an exception is thrown (see stack trace below).</p>\n<p>Although there may be an inconsistency in the way that a SSB and MDB operate, It seems fair to say that the transaction may not be available if it has completed. A workaround is therefore requested.</p>\n</blockquote>\n<p>As a result a change was committed to circumvent the JTA transaction check in this scenario in the connection manager: (This has then gone though further improvements)</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isAggressiveReleaseNoTransactionCheck() {\n    if (releaseMode == ConnectionReleaseMode.AFTER_STATEMENT) {\n        return true;\n    }\n    else {\n        boolean inAutoCommitState;\n        try {\n            inAutoCommitState = isAutoCommit();\n        }\n        catch( SQLException e ) {\n            inAutoCommitState=true; // assume we are in an auto-commit state\n        }\n        return releaseMode == ConnectionReleaseMode.AFTER_TRANSACTION &amp;&amp; inAutoCommitState;\n    }\n}\n</code></pre>\n<h2>Feature Release</h2>\n<p>After verifying this works, it was released in the wild with the following documentation for 3.x.x:</p>\n<p><strong>Table 3.4. Hibernate JDBC and Connection Properties</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Property name</th>\n<th>Purpose</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>hibernate.connection.release_mode</td>\n<td>Specify when Hibernate should release JDBC connections. By default, a JDBC connection is held until the session is explicitly closed or disconnected. For an application server JTA datasource, you should use <code>after_statement</code> to aggressively release connections after every JDBC call. For a non-JTA connection, it often makes sense to release the connection at the end of each transaction, by using <code>after_transaction</code>. <code>auto</code> will choose <code>after_statement</code> for the JTA and CMT transaction strategies and <code>after_transaction</code> for the JDBC transaction strategy. <strong>eg.</strong> <code>auto</code> (default) / <code>on_close</code> / <code>after_transaction</code> / <code>after_statement</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>For an application server JTA datasource, you should use <code>after_statement</code> to aggressively release connections after every JDBC call.</p>\n</blockquote>\n<h2>Given conclusion</h2>\n<p>Therefore, this was work around certain containers (not just EE containers) that implement &quot;resource containment&quot; checks.</p>\n<p>The Hibernate Session defers  getting a JDBC Connection until it actually needs one, which can lead to  cases like the following where 2 beans share a Session/EM:</p>\n<ul>\n<li>Bean1: get Session, but don't use it yet in way that needs Connection</li>\n<li>Bean1: call Bean2...</li>\n<li>Bean2: get Session, do some work forcing Session to obtain Connection</li>\n<li>Bean2: return (Session still hold Connection)</li>\n</ul>\n<p>At this point, these containers see this as a &quot;leaked&quot; Connection because  the handle was not released by the end of the scope in which it was  obtained. Hence, aggressive releasing.</p>\n<p>You can read more about this in detail here: <a href=\"http://lists.jboss.org/pipermail/hibernate-dev/2006-December/000903.html\" rel=\"noreferrer\">[hibernate-dev] - Connection release modes</a></p>\n<h3>Useful References and Resources:</h3>\n<ul>\n<li><a href=\"https://docs.jboss.org/hibernate/stable/core.old/reference/en/html/transactions-connection-release.html\" rel=\"noreferrer\" title=\"Follow link\">Hibernate - 11.5. Connection Release Modes</a></li>\n<li><a href=\"https://hibernate.atlassian.net/browse/HHH-1287\" rel=\"noreferrer\" title=\"Follow link\">HHH-1287 - The issue that introduced the &quot;after_statement&quot; flag</a></li>\n<li><a href=\"https://vladmihalcea.com/hibernate-aggressive-connection-release/\" rel=\"noreferrer\" title=\"Follow link\">&quot;after_transaction&quot; vs &quot;after_statement&quot; - Hibernate Aggressive Connection Release</a></li>\n</ul>\n"}],"owner":{"account_id":5431088,"reputation":1748,"user_id":4321944,"display_name":"Martin Rauscher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8331,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1677863246,"creation_date":1491580222,"question_id":43282331,"body_markdown":"While analyzing some performance problems in Wildfly 10.1 in high pressure scenarios I came to the conclusion, that sometimes parallel HTTP threads block each other. \r\n\r\nThe reason seemed to be that in some HTTP requests we execute two JPQL Queries (actually a delete and a select) and sometimes the second of the two simply didn&#39;t get a JDBC connection from the pool. (We use IBM DB2, if that is important...) That seemed rather ridiculous as the first statement already got a connection.\r\n\r\nAfter reading the Hibernate docs, I see that the default for `hibernate.connection.release_mode` is `after_statement` and that `after_transaction` is not recommended for JTA apps...\r\n\r\nSo... I have a few questions now:\r\n\r\n* Why does `after_statement` ever make sense? (unless you have auto_comit on of course...)\r\n* Why shouldn&#39;t I use `after_transaction` in JTA apps?\r\n* Is my assumption correct that `after_transaction` should fix the described issue?\r\n\r\nAny help is appreciated!","title":"Why is hibernate.connection.release_mode after_transaction not recommended for JTA?","body":"<p>While analyzing some performance problems in Wildfly 10.1 in high pressure scenarios I came to the conclusion, that sometimes parallel HTTP threads block each other. </p>\n\n<p>The reason seemed to be that in some HTTP requests we execute two JPQL Queries (actually a delete and a select) and sometimes the second of the two simply didn't get a JDBC connection from the pool. (We use IBM DB2, if that is important...) That seemed rather ridiculous as the first statement already got a connection.</p>\n\n<p>After reading the Hibernate docs, I see that the default for <code>hibernate.connection.release_mode</code> is <code>after_statement</code> and that <code>after_transaction</code> is not recommended for JTA apps...</p>\n\n<p>So... I have a few questions now:</p>\n\n<ul>\n<li>Why does <code>after_statement</code> ever make sense? (unless you have auto_comit on of course...)</li>\n<li>Why shouldn't I use <code>after_transaction</code> in JTA apps?</li>\n<li>Is my assumption correct that <code>after_transaction</code> should fix the described issue?</li>\n</ul>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","android","apk"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1677805849,"post_id":75622234,"comment_id":133415020,"body_markdown":"Please [edit] your post and add the exact text of the error message, and also a compilable version of the code. (And please also fix the formatting)","body":"Please <a href=\"https://stackoverflow.com/posts/75622234/edit\">edit</a> your post and add the exact text of the error message, and also a compilable version of the code. (And please also fix the formatting)"},{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1677817707,"post_id":75622234,"comment_id":133416246,"body_markdown":"Have you added &lt;intent-filter&gt;&lt;intent-filter&gt; in the manifest file?","body":"Have you added &lt;intent-filter&gt;&lt;intent-filter&gt; in the manifest file?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677832422,"post_id":75622234,"comment_id":133418740,"body_markdown":"On command-line execute `./gradlew assemble` (Linux/Mac) or `gradlew asemble` (Windows) and you will get output including error messages`.","body":"On command-line execute <code>.&#47;gradlew assemble</code> (Linux/Mac) or <code>gradlew asemble</code> (Windows) and you will get output including error messages`."}],"owner":{"account_id":26530206,"reputation":11,"user_id":20162526,"display_name":"dankatapich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677863217,"creation_date":1677804500,"question_id":75622234,"body_markdown":"Hi so recently I had some issues with really stupid and simple code for a testing out an android app the code is below if somebody can tell me where I make a mistake? \r\n\r\nThat is what&#39;s in the manifest file:\r\n\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;example.myapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.KILL_BACKGROUND_PROCESSES&quot; /&gt;\r\n\r\n    &lt;!-- other manifest declarations here --&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n```java\r\nimport android.app.*;\r\nimport android.content.*;\r\nimport android.net.*;\r\nimport android.os.*;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class BootReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Intent serviceIntent = new Intent(context, InternetCheckService.class);\r\n        context.startService(serviceIntent);\r\n    }\r\n}\r\n\r\npublic class InternetCheckService extends Service {\r\n    private static final String WEBHOOK_URL = &quot;https://discord.com/api/webhooks/1234567890/abcdefghijklmnopqrstuvwxyz&quot;;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();\r\n        if (networkInfo != null &amp;&amp; networkInfo.isConnected()) {\r\n            try {\r\n                String publicIpAddress = getPublicIpAddress();\r\n                String serialNumber = Build.getSerial();\r\n                boolean isRooted = isDeviceRooted();\r\n                float cpuUsage = getCpuUsage();\r\n                float ramUsage = getRamUsage();\r\n                String message = String.format(&quot;Device %s is online with IP address %s\\n\\nSystem Information:\\nRooted: %s\\nCPU Usage: %s%%\\nRAM Usage: %s%%&quot;, serialNumber, publicIpAddress, isRooted ? &quot;Yes&quot; : &quot;No&quot;, cpuUsage, ramUsage);\r\n                sendWebhookMessage(WEBHOOK_URL, message);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startActivity(intent);\r\n        }\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private String getPublicIpAddress() throws IOException {\r\n        URL url = new URL(&quot;https://api.ipify.org&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        String line = reader.readLine();\r\n        reader.close();\r\n        return line;\r\n    }\r\n\r\n    private boolean isDeviceRooted() {\r\n        return checkRootMethod1() || checkRootMethod2() || checkRootMethod3();\r\n    }\r\n\r\n    private boolean checkRootMethod1() {\r\n        String buildTags = android.os.Build.TAGS;\r\n        return buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;);\r\n    }\r\n\r\n    private boolean checkRootMethod2() {\r\n        String[] paths = {&quot;/system/app/Superuser.apk&quot;, &quot;/sbin/su&quot;, &quot;/system/bin/su&quot;, &quot;/system/xbin/su&quot;, &quot;/data/local/xbin/su&quot;, &quot;/data/local/bin/su&quot;, &quot;/system/sd/xbin/su&quot;, &quot;/system/bin/failsafe/su&quot;, &quot;/data/local/su&quot;};\r\n        for (String path : paths) {\r\n            if (new File(path).exists()) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean checkRootMethod3() {\r\n        Process process = null;\r\n        try {\r\n            process = Runtime.getRuntime().exec(new String[]{&quot;su&quot;, &quot;-c&quot;, &quot;id&quot;});\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String output = reader.readLine();\r\n            reader.close();\r\n            return output != null &amp;&amp; output.contains(&quot;uid=0&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (process != null) {\r\n                process.destroy();\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private float getCpuUsage() {\r\n        try {\r\n            RandomAccessFile reader = new RandomAccessFile\r\n```\r\n\r\nI can&#39;t figure it out.\r\n\r\nI tried to compile it several times with other variants of the same code and nothing.","title":"Android app will not compile and dosent give any specific error","body":"<p>Hi so recently I had some issues with really stupid and simple code for a testing out an android app the code is below if somebody can tell me where I make a mistake?</p>\n<p>That is what's in the manifest file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;example.myapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.KILL_BACKGROUND_PROCESSES&quot; /&gt;\n\n    &lt;!-- other manifest declarations here --&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.*;\nimport android.content.*;\nimport android.net.*;\nimport android.os.*;\nimport java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class BootReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent serviceIntent = new Intent(context, InternetCheckService.class);\n        context.startService(serviceIntent);\n    }\n}\n\npublic class InternetCheckService extends Service {\n    private static final String WEBHOOK_URL = &quot;https://discord.com/api/webhooks/1234567890/abcdefghijklmnopqrstuvwxyz&quot;;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();\n        if (networkInfo != null &amp;&amp; networkInfo.isConnected()) {\n            try {\n                String publicIpAddress = getPublicIpAddress();\n                String serialNumber = Build.getSerial();\n                boolean isRooted = isDeviceRooted();\n                float cpuUsage = getCpuUsage();\n                float ramUsage = getRamUsage();\n                String message = String.format(&quot;Device %s is online with IP address %s\\n\\nSystem Information:\\nRooted: %s\\nCPU Usage: %s%%\\nRAM Usage: %s%%&quot;, serialNumber, publicIpAddress, isRooted ? &quot;Yes&quot; : &quot;No&quot;, cpuUsage, ramUsage);\n                sendWebhookMessage(WEBHOOK_URL, message);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            Intent intent = new Intent(this, MainActivity.class);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n        }\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private String getPublicIpAddress() throws IOException {\n        URL url = new URL(&quot;https://api.ipify.org&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        String line = reader.readLine();\n        reader.close();\n        return line;\n    }\n\n    private boolean isDeviceRooted() {\n        return checkRootMethod1() || checkRootMethod2() || checkRootMethod3();\n    }\n\n    private boolean checkRootMethod1() {\n        String buildTags = android.os.Build.TAGS;\n        return buildTags != null &amp;&amp; buildTags.contains(&quot;test-keys&quot;);\n    }\n\n    private boolean checkRootMethod2() {\n        String[] paths = {&quot;/system/app/Superuser.apk&quot;, &quot;/sbin/su&quot;, &quot;/system/bin/su&quot;, &quot;/system/xbin/su&quot;, &quot;/data/local/xbin/su&quot;, &quot;/data/local/bin/su&quot;, &quot;/system/sd/xbin/su&quot;, &quot;/system/bin/failsafe/su&quot;, &quot;/data/local/su&quot;};\n        for (String path : paths) {\n            if (new File(path).exists()) return true;\n        }\n        return false;\n    }\n\n    private boolean checkRootMethod3() {\n        Process process = null;\n        try {\n            process = Runtime.getRuntime().exec(new String[]{&quot;su&quot;, &quot;-c&quot;, &quot;id&quot;});\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String output = reader.readLine();\n            reader.close();\n            return output != null &amp;&amp; output.contains(&quot;uid=0&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (process != null) {\n                process.destroy();\n            }\n        }\n        return false;\n    }\n\n    private float getCpuUsage() {\n        try {\n            RandomAccessFile reader = new RandomAccessFile\n</code></pre>\n<p>I can't figure it out.</p>\n<p>I tried to compile it several times with other variants of the same code and nothing.</p>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1677771274,"post_id":75617327,"comment_id":133407012,"body_markdown":"On a side note, if you&#39;re doing excessive horizontal scrolling, that&#39;s usually a sign of either a lack of abstraction or poorly-formatted code. 80 or 120 characters should be an ideal limit for the size of your lines in most projects I&#39;ve worked on.","body":"On a side note, if you&#39;re doing excessive horizontal scrolling, that&#39;s usually a sign of either a lack of abstraction or poorly-formatted code. 80 or 120 characters should be an ideal limit for the size of your lines in most projects I&#39;ve worked on."},{"owner":{"account_id":13438592,"reputation":327,"user_id":14891347,"display_name":"nightwolf555"},"score":0,"creation_date":1677774218,"post_id":75617327,"comment_id":133407990,"body_markdown":"Even something like 90-100 characters will cause excessive scrolling on any normal sized screen with all the spacing and extra details and line numbers shown by intellj","body":"Even something like 90-100 characters will cause excessive scrolling on any normal sized screen with all the spacing and extra details and line numbers shown by intellj"}],"answers":[{"tags":[],"owner":{"account_id":17081761,"reputation":2089,"user_id":12360005,"display_name":"Ruslan Kuleshov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677862849,"creation_date":1677862849,"answer_id":75629917,"question_id":75617327,"body_markdown":"There are some requests to redesign merge dialog window, please feel free to vote:\r\n\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it","title":"Change Layout for IntellJ Git Merge/ Resolve conflicts to 1 page vertical view","body":"<p>There are some requests to redesign merge dialog window, please feel free to vote:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it</a></p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-66552/Merge-dialog-should-not-be-modal-as-well-as-side-diffs-invoked-from-it</a></p>\n"}],"owner":{"account_id":13438592,"reputation":327,"user_id":14891347,"display_name":"nightwolf555"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677862849,"creation_date":1677769658,"question_id":75617327,"body_markdown":"When I merge java code in intellj it seperate things into 3 tab vertical window with a tab for local changes, result and develop. This uses up a huge amount of screen real estate and is impossible to see all the code at once. It would be much preferable to have a 1 screen vertical layout, with the options then choose which change to select, by clicking accept to code stacked on top of eachother. \r\n\r\nThis is much more readable and usable by user and doesnt require constant horizontal scrolling and window size adjusting, when I&#39;m writing angular code in vscode it gives me a layout like this. is there a way to achieve a similar layout and functionality in intellj?","title":"Change Layout for IntellJ Git Merge/ Resolve conflicts to 1 page vertical view","body":"<p>When I merge java code in intellj it seperate things into 3 tab vertical window with a tab for local changes, result and develop. This uses up a huge amount of screen real estate and is impossible to see all the code at once. It would be much preferable to have a 1 screen vertical layout, with the options then choose which change to select, by clicking accept to code stacked on top of eachother.</p>\n<p>This is much more readable and usable by user and doesnt require constant horizontal scrolling and window size adjusting, when I'm writing angular code in vscode it gives me a layout like this. is there a way to achieve a similar layout and functionality in intellj?</p>\n"},{"tags":["java","spark-java"],"comments":[{"owner":{"account_id":3544299,"reputation":1351,"user_id":2960660,"accept_rate":100,"display_name":"Laercio Metzner"},"score":0,"creation_date":1483523021,"post_id":41452156,"comment_id":70126810,"body_markdown":"Prrobably those instances are using the same port number. When you start a spark instance it has to run on its own port","body":"Prrobably those instances are using the same port number. When you start a spark instance it has to run on its own port"},{"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"score":1,"creation_date":1483566774,"post_id":41452156,"comment_id":70153527,"body_markdown":"No, it happens when you try to initialize a second one regardless of the port being the same or not. The first initialization sets a flag to true and from that point on most of the configuration methods get locked down.","body":"No, it happens when you try to initialize a second one regardless of the port being the same or not. The first initialization sets a flag to true and from that point on most of the configuration methods get locked down."},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":0,"creation_date":1514368422,"post_id":41452156,"comment_id":82948210,"body_markdown":"I had the same issue when running integration tests with sparkjava. As a workaround make sure to set forkCount=1/reuseForks=false for maven failsafe plugin to execute each test class in its own JVM process (see http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html)","body":"I had the same issue when running integration tests with sparkjava. As a workaround make sure to set forkCount=1/reuseForks=false for maven failsafe plugin to execute each test class in its own JVM process (see <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484774883,"creation_date":1484774883,"answer_id":41729764,"question_id":41452156,"body_markdown":"The trick is to ignore the external static shell around Spark implemented in `spark.Spark` and directly work with the internal `spark.webserver.SparkServer`. There are some obstackles in the code that require workaround, e.g. `spark.webserver.JettyHandler` is not public, so you can&#39;t instantiate it from your code, but you can extend that with your own class placed into that package and turn it public.\r\n\r\nSo the solution is along these lines:\r\n\r\n    SimpleRouteMatcher routeMatcher1 = new SimpleRouteMatcher();\r\n    routeMatcher1.parseValidateAddRoute(&quot;get &#39;/foo&#39;&quot;, &quot;*/*&quot;, wrap(&quot;/foo&quot;, &quot;*/*&quot;, (req, res) -&gt; &quot;Hello World 1&quot;));\r\n    \t\t\r\n    MatcherFilter matcherFilter1 = new MatcherFilter(routeMatcher1, false, false);\r\n    matcherFilter1.init(null);\r\n    PublicJettyHandler handler1 = new PublicJettyHandler(matcherFilter1);\r\n    SparkServer server1 = new SparkServer(handler1);\r\n    \t\t\r\n    new Thread(() -&gt; {\r\n    \t\t\tserver1.ignite(&quot;0.0.0.0&quot;, 4567, null, null, null, null, &quot;/META-INF/resources/&quot;, null, new CountDownLatch(1),\r\n    \t\t\t\t\t-1, -1, -1);\r\n    \t\t}).start();\r\n\r\nAnd need to duplicate the wrap method in your codebase:\r\n\r\n    protected RouteImpl wrap(final String path, String acceptType, final Route route) {\r\n            if (acceptType == null) {\r\n                acceptType = &quot;*/*&quot;;\r\n            }\r\n            RouteImpl impl = new RouteImpl(path, acceptType) {\r\n                @Override\r\n                public Object handle(Request request, Response response) throws Exception {\r\n                    return route.handle(request, response);\r\n                }\r\n            };\r\n            return impl;\r\n        }\r\n\r\nThis seems to be a viable workaround if you need multiple Spark servers in your app.","title":"Multiple Spark servers in a single JVM","body":"<p>The trick is to ignore the external static shell around Spark implemented in <code>spark.Spark</code> and directly work with the internal <code>spark.webserver.SparkServer</code>. There are some obstackles in the code that require workaround, e.g. <code>spark.webserver.JettyHandler</code> is not public, so you can't instantiate it from your code, but you can extend that with your own class placed into that package and turn it public.</p>\n\n<p>So the solution is along these lines:</p>\n\n<pre><code>SimpleRouteMatcher routeMatcher1 = new SimpleRouteMatcher();\nrouteMatcher1.parseValidateAddRoute(\"get '/foo'\", \"*/*\", wrap(\"/foo\", \"*/*\", (req, res) -&gt; \"Hello World 1\"));\n\nMatcherFilter matcherFilter1 = new MatcherFilter(routeMatcher1, false, false);\nmatcherFilter1.init(null);\nPublicJettyHandler handler1 = new PublicJettyHandler(matcherFilter1);\nSparkServer server1 = new SparkServer(handler1);\n\nnew Thread(() -&gt; {\n            server1.ignite(\"0.0.0.0\", 4567, null, null, null, null, \"/META-INF/resources/\", null, new CountDownLatch(1),\n                    -1, -1, -1);\n        }).start();\n</code></pre>\n\n<p>And need to duplicate the wrap method in your codebase:</p>\n\n<pre><code>protected RouteImpl wrap(final String path, String acceptType, final Route route) {\n        if (acceptType == null) {\n            acceptType = \"*/*\";\n        }\n        RouteImpl impl = new RouteImpl(path, acceptType) {\n            @Override\n            public Object handle(Request request, Response response) throws Exception {\n                return route.handle(request, response);\n            }\n        };\n        return impl;\n    }\n</code></pre>\n\n<p>This seems to be a viable workaround if you need multiple Spark servers in your app.</p>\n"},{"tags":[],"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1491192915,"creation_date":1491192915,"answer_id":43176400,"question_id":41452156,"body_markdown":"From Spark 2.5 you can use `ignite()`:\r\n\r\nhttp://sparkjava.com/news.html#spark25released\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n        igniteFirstSpark();\r\n        igniteSecondSpark();\r\n    }\r\n    \r\n    static void igniteSecondSpark() {\r\n        Service http = ignite();\r\n    \r\n        http.get(&quot;/basicHello&quot;, (q, a) -&gt; &quot;Hello from port 4567!&quot;);\r\n    }\r\n    \r\n    static void igniteFirstSpark() {\r\n        Service http = ignite()\r\n                          .port(8080)\r\n                          .threadPool(20);\r\n    \r\n        http.get(&quot;/configuredHello&quot;, (q, a) -&gt; &quot;Hello from port 8080!&quot;);\r\n    }\r\n\r\nI personally initialize them something like this:\r\n\r\n    import spark.Service\r\n    \r\n    public static void main(String[] args) {\r\n        Service service1 = Service.ignite().port(8080).threadPool(20)\r\n        Service service2 = Service.ignite().port(8081).threadPool(10)\r\n    }\r\n\r\nI recommend to read about [how to use those services outside your main method](https://stackoverflow.com/questions/34976459/sparkjava-do-routes-have-to-be-in-main-method), which I think would be a great use here.\r\n\r\n","title":"Multiple Spark servers in a single JVM","body":"<p>From Spark 2.5 you can use <code>ignite()</code>:</p>\n\n<p><a href=\"http://sparkjava.com/news.html#spark25released\" rel=\"noreferrer\">http://sparkjava.com/news.html#spark25released</a></p>\n\n<p>Example:</p>\n\n<pre><code>public static void main(String[] args) {\n    igniteFirstSpark();\n    igniteSecondSpark();\n}\n\nstatic void igniteSecondSpark() {\n    Service http = ignite();\n\n    http.get(\"/basicHello\", (q, a) -&gt; \"Hello from port 4567!\");\n}\n\nstatic void igniteFirstSpark() {\n    Service http = ignite()\n                      .port(8080)\n                      .threadPool(20);\n\n    http.get(\"/configuredHello\", (q, a) -&gt; \"Hello from port 8080!\");\n}\n</code></pre>\n\n<p>I personally initialize them something like this:</p>\n\n<pre><code>import spark.Service\n\npublic static void main(String[] args) {\n    Service service1 = Service.ignite().port(8080).threadPool(20)\n    Service service2 = Service.ignite().port(8081).threadPool(10)\n}\n</code></pre>\n\n<p>I recommend to read about <a href=\"https://stackoverflow.com/questions/34976459/sparkjava-do-routes-have-to-be-in-main-method\">how to use those services outside your main method</a>, which I think would be a great use here.</p>\n"},{"tags":[],"owner":{"account_id":13294590,"reputation":11,"user_id":9598040,"display_name":"Agu-GC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528907385,"creation_date":1528897936,"answer_id":50838983,"question_id":41452156,"body_markdown":"I have this problem running unit tests with Spark, to fix it I modify the `pom.xml` file.\r\n\r\n`forkCount=1\r\nreuseForks=false`\r\n\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;","title":"Multiple Spark servers in a single JVM","body":"<p>I have this problem running unit tests with Spark, to fix it I modify the <code>pom.xml</code> file.</p>\n\n<p><code>forkCount=1\nreuseForks=false</code></p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire.version}&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;forkCount&gt;1&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n</code></pre>\n"}],"owner":{"account_id":226469,"reputation":12047,"user_id":487534,"accept_rate":90,"display_name":"jabal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5109,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":43176400,"answer_count":3,"score":10,"last_activity_date":1677862356,"creation_date":1483476747,"question_id":41452156,"body_markdown":"Is there any way to run multiple instances of Sparkjava server in the same JVM? I am using it in a &quot;plugin&quot; software and based on external circumstances multiple instances of my plugin might be started up which then cause\r\n\r\n    java.lang.IllegalStateException: This must be done before route mapping has begun\r\n    at spark.SparkBase.throwBeforeRouteMappingException(SparkBase.java:256)\r\n    at spark.SparkBase.port(SparkBase.java:101)\r\n    at com.foo.bar.a(SourceFile:59)\r\n\r\nIt seems to me by looking at the code that it is heavily built around static fields in the code, so I am thinking about a classloader trick or working with `SparkServerFactory` somehow eliminating `SparkBase`.","title":"Multiple Spark servers in a single JVM","body":"<p>Is there any way to run multiple instances of Sparkjava server in the same JVM? I am using it in a \"plugin\" software and based on external circumstances multiple instances of my plugin might be started up which then cause</p>\n\n<pre><code>java.lang.IllegalStateException: This must be done before route mapping has begun\nat spark.SparkBase.throwBeforeRouteMappingException(SparkBase.java:256)\nat spark.SparkBase.port(SparkBase.java:101)\nat com.foo.bar.a(SourceFile:59)\n</code></pre>\n\n<p>It seems to me by looking at the code that it is heavily built around static fields in the code, so I am thinking about a classloader trick or working with <code>SparkServerFactory</code> somehow eliminating <code>SparkBase</code>.</p>\n"},{"tags":["java","intellij-idea","dead-code"],"comments":[{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1395283132,"post_id":22522013,"comment_id":34271277,"body_markdown":"Just run inspection click right button and see this in the menu list.","body":"Just run inspection click right button and see this in the menu list."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1395330433,"post_id":22522013,"comment_id":34299029,"body_markdown":"That&#39;s two questions -- they would be better as separate questions. Also serialVersionXXX is a bad idea for most projects.","body":"That&#39;s two questions -- they would be better as separate questions. Also serialVersionXXX is a bad idea for most projects."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":2,"creation_date":1395596373,"post_id":22522013,"comment_id":34399219,"body_markdown":"It&#39;s a bad idea because very few developers know what it&#39;s for, and it is almost always misused. It is extremely rare in java to use the serialization mechanism to read and write objects at the byte level, and if you do the default serial version is usually sufficient to provide safety. A hard coded serialVersion must be updated manually every time the interface of a class changes, and every time the field list changes -- invariably, developers do not do this because they simply don&#39;t understand what the serialVersion is for. The main reason you see it in code is because of eclipse.","body":"It&#39;s a bad idea because very few developers know what it&#39;s for, and it is almost always misused. It is extremely rare in java to use the serialization mechanism to read and write objects at the byte level, and if you do the default serial version is usually sufficient to provide safety. A hard coded serialVersion must be updated manually every time the interface of a class changes, and every time the field list changes -- invariably, developers do not do this because they simply don&#39;t understand what the serialVersion is for. The main reason you see it in code is because of eclipse."}],"answers":[{"tags":[],"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395304762,"creation_date":1395304762,"answer_id":22527505,"question_id":22522013,"body_markdown":"Maybe you should look into the `Unused Symbol` inspection with the following settings:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/t3zFX.png","title":"How find all unused classes in Intellij Idea?","body":"<p>Maybe you should look into the <code>Unused Symbol</code> inspection with the following settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/t3zFX.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6189696,"reputation":303,"user_id":4822716,"display_name":"sunny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429773570,"creation_date":1429773570,"answer_id":29816357,"question_id":22522013,"body_markdown":"I am not sure if this will answer your question but I used a tool in past as Fortify to run code review rules on the project, that precisely points to the unused imports, dead code, unused classes etc. It is a paid software but I am sure there will be some free plugins/software will be available for same.\r\n\r\n","title":"How find all unused classes in Intellij Idea?","body":"<p>I am not sure if this will answer your question but I used a tool in past as Fortify to run code review rules on the project, that precisely points to the unused imports, dead code, unused classes etc. It is a paid software but I am sure there will be some free plugins/software will be available for same.</p>\n"},{"tags":[],"owner":{"account_id":37073,"reputation":23568,"user_id":105904,"display_name":"Andrew Janke"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1430282616,"creation_date":1430282616,"answer_id":29934536,"question_id":22522013,"body_markdown":"I don&#39;t think this is doable. I suspect this feature is intentionally left out of IDEs because it can&#39;t be used safely the way that other &quot;remove unused XXX&quot; refactorings can.\r\n\r\nThe unused declarations IDEA (and AFAIK, NetBeans) looks for are for private members and local variables: things that are not accessible, even dynamically, from outside that class or scope. (Well, at least without doing things with Reflection or JVM hacking that you&#39;re not supposed to.) No matter what outside code does with your library, it won&#39;t cause those things to be used, because their scope is limited and the IDE can see all of it. The compiler can determine this by looking at just your code.\r\n\r\nFor classes, even if they don&#39;t have `public` access, they can be referenced dynamically with `Class.forName()`, and this actually happens in live code. So even if they&#39;re not apparently used within the code of your project, they might be used depending on what you or external code using your library runs. So the IDE can&#39;t guarantee that removing those classes won&#39;t change externally observable behavior.\r\n\r\nWhich is why I think IDEA just doesn&#39;t provide this behavior: it might give users false expectations of safety, and removing them is not a safe refactoring.","title":"How find all unused classes in Intellij Idea?","body":"<p>I don't think this is doable. I suspect this feature is intentionally left out of IDEs because it can't be used safely the way that other \"remove unused XXX\" refactorings can.</p>\n\n<p>The unused declarations IDEA (and AFAIK, NetBeans) looks for are for private members and local variables: things that are not accessible, even dynamically, from outside that class or scope. (Well, at least without doing things with Reflection or JVM hacking that you're not supposed to.) No matter what outside code does with your library, it won't cause those things to be used, because their scope is limited and the IDE can see all of it. The compiler can determine this by looking at just your code.</p>\n\n<p>For classes, even if they don't have <code>public</code> access, they can be referenced dynamically with <code>Class.forName()</code>, and this actually happens in live code. So even if they're not apparently used within the code of your project, they might be used depending on what you or external code using your library runs. So the IDE can't guarantee that removing those classes won't change externally observable behavior.</p>\n\n<p>Which is why I think IDEA just doesn't provide this behavior: it might give users false expectations of safety, and removing them is not a safe refactoring.</p>\n"},{"tags":[],"owner":{"account_id":5696978,"reputation":4019,"user_id":4503189,"display_name":"BlondCode"},"down_vote_count":5,"up_vote_count":267,"is_accepted":false,"score":262,"last_activity_date":1563363395,"creation_date":1467889980,"answer_id":38244028,"question_id":22522013,"body_markdown":"- Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt; (in Mac &lt;kbd&gt;Command&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;)\r\n- Enter &quot;unused declar&quot;\r\n- Double-click on &quot;Unused declaration&quot;\r\n\r\nSettings will pop up\r\n\r\n- Click on Java/Declaration redundancy/Unused declaration\r\n- on the right bottom select &quot;On the fly editor settings&quot;\r\n- untick check fields, ..., check parameters. Only Check Classes should be ticked.\r\n- Press OK\r\n\r\nSettings closes\r\n\r\n- On the menu bar, click on Analyze / Run Inspection by Name (or &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt; - in Mac &lt;kbd&gt;Command&lt;/kbd&gt;+&lt;kbd&gt;Option&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt;)\r\n- Insert text &quot;Unused decla&quot;\r\n- Select &quot;Unused declaration   Java|Declaration redundancy&quot;\r\n\r\nSearch starts\r\n\r\n- Check the job state on bottom of Idea, when finished: enjoy the results and the great feeling of cleaning up the messed code. :)\r\n\r\n","title":"How find all unused classes in Intellij Idea?","body":"<ul>\n<li>Press <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd> (in Mac <kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd>)</li>\n<li>Enter \"unused declar\"</li>\n<li>Double-click on \"Unused declaration\"</li>\n</ul>\n\n<p>Settings will pop up</p>\n\n<ul>\n<li>Click on Java/Declaration redundancy/Unused declaration</li>\n<li>on the right bottom select \"On the fly editor settings\"</li>\n<li>untick check fields, ..., check parameters. Only Check Classes should be ticked.</li>\n<li>Press OK</li>\n</ul>\n\n<p>Settings closes</p>\n\n<ul>\n<li>On the menu bar, click on Analyze / Run Inspection by Name (or <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd> - in Mac <kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd>)</li>\n<li>Insert text \"Unused decla\"</li>\n<li>Select \"Unused declaration   Java|Declaration redundancy\"</li>\n</ul>\n\n<p>Search starts</p>\n\n<ul>\n<li>Check the job state on bottom of Idea, when finished: enjoy the results and the great feeling of cleaning up the messed code. :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1677861988,"creation_date":1636469394,"answer_id":69900235,"question_id":22522013,"body_markdown":"Update 2023:\r\n\r\nctrl + alt + shift + I \r\n\r\n[![enter image description here][1]][1]\r\n\r\nClick on highlighted &quot;Unused declaration&quot; \r\n\r\n[![enter image description here][2]][2]\r\n\r\nSelect the options you care about.  In this case, I chose only &quot;Classes&quot; to find unused classes.\r\n\r\n**BE CAREFUL WITH THIS THOUGH**  I&#39;ve found that classes that are used inherently by reference, for example through hibernate, will say they&#39;re unused but right clicking class and doing Find Usages shows otherwise.  This only checks if constructor is called explicitly.  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gujcL.png\r\n  [2]: https://i.stack.imgur.com/LO1YB.png\r\n  [3]: https://i.stack.imgur.com/SVYUZ.gif","title":"How find all unused classes in Intellij Idea?","body":"<p>Update 2023:</p>\n<p>ctrl + alt + shift + I</p>\n<p><a href=\"https://i.stack.imgur.com/gujcL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gujcL.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on highlighted &quot;Unused declaration&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/LO1YB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LO1YB.png\" alt=\"enter image description here\" /></a></p>\n<p>Select the options you care about.  In this case, I chose only &quot;Classes&quot; to find unused classes.</p>\n<p><strong>BE CAREFUL WITH THIS THOUGH</strong>  I've found that classes that are used inherently by reference, for example through hibernate, will say they're unused but right clicking class and doing Find Usages shows otherwise.  This only checks if constructor is called explicitly.</p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670576052,"creation_date":1670576052,"answer_id":74740759,"question_id":22522013,"body_markdown":"Press Ctrl + Shift + A, in action tab choose Analyze -&gt; Run Inspection by Name...-&gt; Unused declaration -&gt; Show popup -&gt; Click OK\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XMNp1.png","title":"How find all unused classes in Intellij Idea?","body":"<p>Press Ctrl + Shift + A, in action tab choose Analyze -&gt; Run Inspection by Name...-&gt; Unused declaration -&gt; Show popup -&gt; Click OK\n<a href=\"https://i.stack.imgur.com/XMNp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMNp1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672086416,"creation_date":1672086416,"answer_id":74923759,"question_id":22522013,"body_markdown":"\r\n- Go to the **code tab, analyze code**,  and **run inspection by name**. \r\n\r\n[![navigation][1]][1]\r\n\r\n- Select class checkbox ✅\r\n\r\n[![settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TDln4.png\r\n  [2]: https://i.stack.imgur.com/V0AsS.png","title":"How find all unused classes in Intellij Idea?","body":"<ul>\n<li>Go to the <strong>code tab, analyze code</strong>,  and <strong>run inspection by name</strong>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/TDln4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TDln4.png\" alt=\"navigation\" /></a></p>\n<ul>\n<li>Select class checkbox ✅</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/V0AsS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V0AsS.png\" alt=\"settings\" /></a></p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89054,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"answer_count":7,"score":166,"last_activity_date":1677861988,"creation_date":1395281030,"question_id":22522013,"body_markdown":"There is an inspection &quot;Unused declaration&quot; which can find all unused code in Intellij Idea. (see https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code)\r\nBut I want to find all unused classes, **not** methods, variables etc. **Only** classes. (it is difficult to find only classes in 3000 result list). How I can do that?\r\n","title":"How find all unused classes in Intellij Idea?","body":"<p>There is an inspection &quot;Unused declaration&quot; which can find all unused code in Intellij Idea. (see <a href=\"https://stackoverflow.com/questions/6587729/how-to-use-intellij-idea-to-find-all-unused-code\">How to use IntelliJ IDEA to find all unused code?</a>)\nBut I want to find all unused classes, <strong>not</strong> methods, variables etc. <strong>Only</strong> classes. (it is difficult to find only classes in 3000 result list). How I can do that?</p>\n"},{"tags":["java","spring-boot","spring-security","authorization","shiro"],"comments":[{"owner":{"account_id":6993865,"reputation":58,"user_id":5362116,"display_name":"Shubham"},"score":0,"creation_date":1675710858,"post_id":75359869,"comment_id":132983710,"body_markdown":"Assigning static roles that are applicable on all resources will not be helpful. \nI can have John and Jane as admins for Resource1, and Alice and Bob as admins for Resource2.\nAnd there can be N Number of these resources","body":"Assigning static roles that are applicable on all resources will not be helpful.  I can have John and Jane as admins for Resource1, and Alice and Bob as admins for Resource2. And there can be N Number of these resources"},{"owner":{"account_id":6993865,"reputation":58,"user_id":5362116,"display_name":"Shubham"},"score":0,"creation_date":1675715262,"post_id":75359869,"comment_id":132984910,"body_markdown":"Currently we using a request filter to intercept call there we check the user, also in a database we are storing user -&gt; urls mapping. Like john -&gt; /resources/R1. I am looking for a better and straight forward way to achieve this.","body":"Currently we using a request filter to intercept call there we check the user, also in a database we are storing user -&gt; urls mapping. Like john -&gt; /resources/R1. I am looking for a better and straight forward way to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675683649,"creation_date":1675683649,"answer_id":75360845,"question_id":75359869,"body_markdown":"You could use Spring Security for this use case.\r\nAs a general practice it is recommended to assign roles for users for maintability. \r\nFor example assign admin role to - john.doe@company.com, jane.doe@company.com then manage the access using the role.\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \t// Roles for users\r\n    \tprivate static final String ROLE_1 = &quot;ADMIN&quot;;\r\n    \tprivate static final String ROLE_2 = &quot;USER&quot;;\r\n    \t\r\n    \t// In-memory users with roles\r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\t\t\r\n    \t\tauth.inMemoryAuthentication()\r\n    \t\t\t\t.withUser(&quot;john.doe@company.com&quot;)\r\n    \t\t\t\t.password(passwordEncoder().encode(&quot;admin@123&quot;))\r\n    \t\t\t\t.roles(ROLE_1)\r\n                    .and()\r\n    \t\t\t\t.withUser(&quot;jane.doe@company.com&quot;)\r\n    \t\t\t\t.password(passwordEncoder().encode(&quot;admin@12345&quot;))\r\n    \t\t\t\t.roles(ROLE_1)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.withUser(&quot;user&quot;)\r\n    \t\t\t\t.password(passwordEncoder().encode(&quot;user@123&quot;))\r\n    \t\t\t\t.roles(ROLE_2);\r\n    \t}\r\n    \t\r\n    \t// Password encoding\r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \r\n    \t// Authorized the request based on role\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.authorizeRequests()\r\n    \t\t\t\t.antMatchers(&quot;/resources/**&quot;).hasRole(ROLE_1)\r\n    \t\t\t\t.antMatchers(&quot;/all&quot;).permitAll()\r\n    \t\t\t\t.and().formLogin();\r\n    \t}\r\n    }","title":"Achieve Dynamic REST Resource specific Authorization","body":"<p>You could use Spring Security for this use case.\nAs a general practice it is recommended to assign roles for users for maintability.\nFor example assign admin role to - john.doe@company.com, jane.doe@company.com then manage the access using the role.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    // Roles for users\n    private static final String ROLE_1 = &quot;ADMIN&quot;;\n    private static final String ROLE_2 = &quot;USER&quot;;\n    \n    // In-memory users with roles\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {      \n        auth.inMemoryAuthentication()\n                .withUser(&quot;john.doe@company.com&quot;)\n                .password(passwordEncoder().encode(&quot;admin@123&quot;))\n                .roles(ROLE_1)\n                .and()\n                .withUser(&quot;jane.doe@company.com&quot;)\n                .password(passwordEncoder().encode(&quot;admin@12345&quot;))\n                .roles(ROLE_1)\n                .and()\n                .withUser(&quot;user&quot;)\n                .password(passwordEncoder().encode(&quot;user@123&quot;))\n                .roles(ROLE_2);\n    }\n    \n    // Password encoding\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    // Authorized the request based on role\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/resources/**&quot;).hasRole(ROLE_1)\n                .antMatchers(&quot;/all&quot;).permitAll()\n                .and().formLogin();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9881954,"reputation":96,"user_id":7317761,"display_name":"Sakshi Sachdeva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677861604,"creation_date":1677861207,"answer_id":75629651,"question_id":75359869,"body_markdown":"This can be achieved using a method level security from SpringBoot.\r\n\r\nFirst enable Method Level Security by annotating a Config class like -\r\n```\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class GlobalMethodConfig extends GlobalMethodSecurityConfiguration\r\n```\r\n\r\nThen provide an implementation of `PermissionEvaluator` class like -\r\n```\r\n@Override\r\npublic boolean hasPermission(Authentication authentication, Serializable targetId, Object permission) {\r\n  if (permission.equals(&quot;RESOURCE_WRITE_AUTHORITY&quot;)) {\r\n    Resource res = resourceRepository.getResourceById((String) targetId);\r\n    if(env != null) {\r\n      return env.getAdmins().contains(authentication.getName());\r\n    }\r\n  }\r\n  return false;\r\n}\r\n```\r\n\r\nAfter which you can annotate your PUT method in controller or the corresponding method in the service, to use PermissionEvaluator, like \r\n\r\n```\r\n@PreAuthorize(&quot;hasPermission(#resourceName, &#39;RESOURCE_WRITE_AUTHORITY&#39;)&quot;)\r\npublic Environment updateResource(String resourceName)\r\n```\r\n\r\nReferences -\r\nhttps://docs.spring.io/spring-security/site/docs/3.0.x/reference/el-access.html#:~:text=15.3.1%C2%A0%40Pre%20and%20%40Post%20Annotations","title":"Achieve Dynamic REST Resource specific Authorization","body":"<p>This can be achieved using a method level security from SpringBoot.</p>\n<p>First enable Method Level Security by annotating a Config class like -</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class GlobalMethodConfig extends GlobalMethodSecurityConfiguration\n</code></pre>\n<p>Then provide an implementation of <code>PermissionEvaluator</code> class like -</p>\n<pre><code>@Override\npublic boolean hasPermission(Authentication authentication, Serializable targetId, Object permission) {\n  if (permission.equals(&quot;RESOURCE_WRITE_AUTHORITY&quot;)) {\n    Resource res = resourceRepository.getResourceById((String) targetId);\n    if(env != null) {\n      return env.getAdmins().contains(authentication.getName());\n    }\n  }\n  return false;\n}\n</code></pre>\n<p>After which you can annotate your PUT method in controller or the corresponding method in the service, to use PermissionEvaluator, like</p>\n<pre><code>@PreAuthorize(&quot;hasPermission(#resourceName, 'RESOURCE_WRITE_AUTHORITY')&quot;)\npublic Environment updateResource(String resourceName)\n</code></pre>\n<p>References -\n<a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/reference/el-access.html#:%7E:text=15.3.1%C2%A0%40Pre%20and%20%40Post%20Annotations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/3.0.x/reference/el-access.html#:~:text=15.3.1%C2%A0%40Pre%20and%20%40Post%20Annotations</a></p>\n"}],"owner":{"account_id":6993865,"reputation":58,"user_id":5362116,"display_name":"Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75629651,"answer_count":2,"score":-1,"last_activity_date":1677861604,"creation_date":1675678019,"question_id":75359869,"body_markdown":"We have a SpringBoot based module, we have REST APIs which allow creating resources with Params like\r\n\r\n#### Request \r\n**POST** /resources\r\n```\r\n{\r\n  &quot;resourceName&quot;: &quot;Res1&quot;,\r\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;]\r\n}\r\n```\r\n\r\n#### Response\r\n```\r\n{\r\n  &quot;id&quot;: &quot;R1&quot;\r\n  &quot;resourceName&quot;: &quot;Res1&quot;,\r\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;]\r\n}\r\n```\r\n\r\n#### Request \r\n**POST** /resources\r\n```\r\n{\r\n  &quot;resourceName&quot;: &quot;Res2&quot;,\r\n  &quot;admins&quot;: [&quot;alice@company.com&quot;, &quot;bob@company.com&quot;]\r\n}\r\n```\r\n\r\n#### Response\r\n```\r\n{\r\n  &quot;id&quot;: &quot;R2&quot;\r\n  &quot;resourceName&quot;: &quot;Res2&quot;,\r\n  &quot;admins&quot;: [&quot;alice@company.com&quot;, &quot;bob@company.com&quot;]\r\n}\r\n```\r\n\r\n\r\nFor `R1` update API should only be accesible by John/Jane\r\n\r\n\r\n#### Request \r\n**PUT** /resources/R1\r\n```\r\n{\r\n  &quot;resourceName&quot;: &quot;Resource1&quot;,\r\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;, &quot;jacob@company.com&quot;]\r\n}\r\n```\r\n\r\n#### Response\r\nFor John / Jane the response should be:\r\n```\r\n{\r\n  &quot;id&quot;: &quot;R1&quot;\r\n  &quot;resourceName&quot;: &quot;Resource1&quot;,\r\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;, &quot;jacob@company.com&quot;]\r\n}\r\n```\r\n\r\nWhen Alice / Bob user are updating `R1` this response should be `403 Forbidden`\r\n\r\nSimilarly For `R2` update API should only be accesible by Alice / Bob.\r\n\r\nWhen John / Jane are updating `R2` this response should be `403 Forbidden`\r\n\r\nPlease suggest which framework can be used to achieve this, preferably with less boiler plate\r\n\r\nCurrently we have a system where resource access is in for of RoleBasedAccessControl. \r\nWe achieve restriction by storing permissions. The RBAC config is saved in DB.\r\n\r\nBut now we need more fine grained control per resource which can be managed directly by existing admins","title":"Achieve Dynamic REST Resource specific Authorization","body":"<p>We have a SpringBoot based module, we have REST APIs which allow creating resources with Params like</p>\n<h4>Request</h4>\n<p><strong>POST</strong> /resources</p>\n<pre><code>{\n  &quot;resourceName&quot;: &quot;Res1&quot;,\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;]\n}\n</code></pre>\n<h4>Response</h4>\n<pre><code>{\n  &quot;id&quot;: &quot;R1&quot;\n  &quot;resourceName&quot;: &quot;Res1&quot;,\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;]\n}\n</code></pre>\n<h4>Request</h4>\n<p><strong>POST</strong> /resources</p>\n<pre><code>{\n  &quot;resourceName&quot;: &quot;Res2&quot;,\n  &quot;admins&quot;: [&quot;alice@company.com&quot;, &quot;bob@company.com&quot;]\n}\n</code></pre>\n<h4>Response</h4>\n<pre><code>{\n  &quot;id&quot;: &quot;R2&quot;\n  &quot;resourceName&quot;: &quot;Res2&quot;,\n  &quot;admins&quot;: [&quot;alice@company.com&quot;, &quot;bob@company.com&quot;]\n}\n</code></pre>\n<p>For <code>R1</code> update API should only be accesible by John/Jane</p>\n<h4>Request</h4>\n<p><strong>PUT</strong> /resources/R1</p>\n<pre><code>{\n  &quot;resourceName&quot;: &quot;Resource1&quot;,\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;, &quot;jacob@company.com&quot;]\n}\n</code></pre>\n<h4>Response</h4>\n<p>For John / Jane the response should be:</p>\n<pre><code>{\n  &quot;id&quot;: &quot;R1&quot;\n  &quot;resourceName&quot;: &quot;Resource1&quot;,\n  &quot;admins&quot;: [&quot;john.doe@company.com&quot;, &quot;jane.doe@company.com&quot;, &quot;jacob@company.com&quot;]\n}\n</code></pre>\n<p>When Alice / Bob user are updating <code>R1</code> this response should be <code>403 Forbidden</code></p>\n<p>Similarly For <code>R2</code> update API should only be accesible by Alice / Bob.</p>\n<p>When John / Jane are updating <code>R2</code> this response should be <code>403 Forbidden</code></p>\n<p>Please suggest which framework can be used to achieve this, preferably with less boiler plate</p>\n<p>Currently we have a system where resource access is in for of RoleBasedAccessControl.\nWe achieve restriction by storing permissions. The RBAC config is saved in DB.</p>\n<p>But now we need more fine grained control per resource which can be managed directly by existing admins</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1677856569,"post_id":75628677,"comment_id":133425350,"body_markdown":"there is no other option. Effectively gridfs simply split a big message on smaller chunks. It&#39;s the only way to store bigger documents. If you don&#39;t want using gridfs, you can do the same splitting logic somehow on your end.","body":"there is no other option. Effectively gridfs simply split a big message on smaller chunks. It&#39;s the only way to store bigger documents. If you don&#39;t want using gridfs, you can do the same splitting logic somehow on your end."}],"answers":[{"tags":[],"owner":{"account_id":959814,"reputation":8884,"user_id":984422,"display_name":"Wahyu Kristianto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677861461,"creation_date":1677856922,"answer_id":75628913,"question_id":75628677,"body_markdown":"Store metadata in a separate collection. By storing the metadata associated with the GridFS files in a separate collection, you can use the full range of MongoDB aggregation and sorting features. [Official docs](https://www.mongodb.com/docs/manual/core/gridfs/#std-label-gridfs-files-collection).","title":"MongDB-JSON document size &gt;16MB throws error when saving","body":"<p>Store metadata in a separate collection. By storing the metadata associated with the GridFS files in a separate collection, you can use the full range of MongoDB aggregation and sorting features. <a href=\"https://www.mongodb.com/docs/manual/core/gridfs/#std-label-gridfs-files-collection\" rel=\"nofollow noreferrer\">Official docs</a>.</p>\n"}],"owner":{"account_id":27928105,"reputation":1,"user_id":21326777,"display_name":"Kapila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677861461,"creation_date":1677855717,"question_id":75628677,"body_markdown":"We have few JSON Documents those are greater than 16 MB when saving to MongoDB, iam getting **&quot;Payload document size is larger than maximum of 16MB&quot;** as an error.Is there an approach to store this documents along with documents that are less than 16MB  in the same collection,so that my queries will be seamless.I have explored GridFS option provided by mongodb,but i have queries that need to support aggregation pipelines,but GridFS doesn&#39;t support Aggregation and sort by etc.Can someone help here.\r\n\r\n\r\nI tried using GridFS,but GridFS doen&#39;t seems to support Aggregation and sort by.I want better approach to store documents &gt;16MB in the same collection without much complexity.\r\n","title":"MongDB-JSON document size &gt;16MB throws error when saving","body":"<p>We have few JSON Documents those are greater than 16 MB when saving to MongoDB, iam getting <strong>&quot;Payload document size is larger than maximum of 16MB&quot;</strong> as an error.Is there an approach to store this documents along with documents that are less than 16MB  in the same collection,so that my queries will be seamless.I have explored GridFS option provided by mongodb,but i have queries that need to support aggregation pipelines,but GridFS doesn't support Aggregation and sort by etc.Can someone help here.</p>\n<p>I tried using GridFS,but GridFS doen't seems to support Aggregation and sort by.I want better approach to store documents &gt;16MB in the same collection without much complexity.</p>\n"},{"tags":["java","spring-boot","selenium-webdriver","gradle"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677861011,"creation_date":1677861011,"answer_id":75629624,"question_id":75629623,"body_markdown":"I again got tricked by Spring Boot dependency management, which is most of the time super useful, but sometimes confusing like here...\r\n\r\nAs documented in Spring boot 2.6 , Selenium is managed by the BOM (I was not aware of this), and what a surprise : `v3.141.59` is defined there - so this is where it&#39;s coming from, without me defining it anywhere. \r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.6.6/reference/html/dependency-versions.html#appendix.dependency-versions.properties \r\n\r\n[![enter image description here][1]][1] \r\n\r\nSo the solution is quite simple : we simply need to override the version in the gradle build file \r\n\r\n    ext[&#39;selenium.version&#39;] = &#39;4.6.0&#39;\r\n\r\n    dependencies {\r\n\r\n        testImplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39; \r\n        ...\r\n    }\r\n\r\nand all the &quot;right&quot; dependencies versions are now coming. \r\n\r\n  [1]: https://i.stack.imgur.com/p8I3X.png","title":"gradle - unexplainable dependency version coming","body":"<p>I again got tricked by Spring Boot dependency management, which is most of the time super useful, but sometimes confusing like here...</p>\n<p>As documented in Spring boot 2.6 , Selenium is managed by the BOM (I was not aware of this), and what a surprise : <code>v3.141.59</code> is defined there - so this is where it's coming from, without me defining it anywhere.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/dependency-versions.html#appendix.dependency-versions.properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.6/reference/html/dependency-versions.html#appendix.dependency-versions.properties</a></p>\n<p><a href=\"https://i.stack.imgur.com/p8I3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p8I3X.png\" alt=\"enter image description here\" /></a></p>\n<p>So the solution is quite simple : we simply need to override the version in the gradle build file</p>\n<pre><code>ext['selenium.version'] = '4.6.0'\n\ndependencies {\n\n    testImplementation group: 'org.seleniumhq.selenium', name: 'selenium-java' \n    ...\n}\n</code></pre>\n<p>and all the &quot;right&quot; dependencies versions are now coming.</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75629624,"answer_count":1,"score":1,"last_activity_date":1677861011,"creation_date":1677861011,"question_id":75629623,"body_markdown":"I have a Spring Boot 2.6.1 application for which I use Selenium during my tests. \r\n\r\nI am using `selenium-java` `4.6.0` \r\n\r\n    testImplementation group: &#39;org.seleniumhq.selenium&#39;, name: &#39;selenium-java&#39;, version: &#39;4.6.0&#39;\r\n\r\nbut the transitive dependencies that are pulled are all older versions (mostly 3.141.59), which leads to some issue at runtime, with classes not found etc : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can override all these dependencies manually, but that doesn&#39;t look like the right way.. \r\n\r\nanyway, where are these versions coming from ? I am not defining them anywhere, so I would expect all the versions showed in https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.6.0 to be pulled. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0PwDh.png","title":"gradle - unexplainable dependency version coming","body":"<p>I have a Spring Boot 2.6.1 application for which I use Selenium during my tests.</p>\n<p>I am using <code>selenium-java</code> <code>4.6.0</code></p>\n<pre><code>testImplementation group: 'org.seleniumhq.selenium', name: 'selenium-java', version: '4.6.0'\n</code></pre>\n<p>but the transitive dependencies that are pulled are all older versions (mostly 3.141.59), which leads to some issue at runtime, with classes not found etc :</p>\n<p><a href=\"https://i.stack.imgur.com/0PwDh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0PwDh.png\" alt=\"enter image description here\" /></a></p>\n<p>I can override all these dependencies manually, but that doesn't look like the right way..</p>\n<p>anyway, where are these versions coming from ? I am not defining them anywhere, so I would expect all the versions showed in <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.6.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.6.0</a> to be pulled.</p>\n"},{"tags":["python","java","pdf","metadata","pdf2htmlex"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1677861430,"post_id":75629621,"comment_id":133426890,"body_markdown":"Has the modification been stored as an incremental update or not? If not, you have no chance unless you also have the original.","body":"Has the modification been stored as an incremental update or not? If not, you have no chance unless you also have the original."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1677863364,"post_id":75629621,"comment_id":133427478,"body_markdown":"https://www.startpage.com/sp/search?query=pdfdiff&amp;cat=web&amp;pl=opensearch&amp;language=english","body":"<a href=\"https://www.startpage.com/sp/search?query=pdfdiff&amp;cat=web&amp;pl=opensearch&amp;language=english\" rel=\"nofollow noreferrer\">startpage.com/sp/&hellip;</a>"}],"owner":{"account_id":18652597,"reputation":1,"user_id":13965682,"display_name":"Syhaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677861002,"creation_date":1677861002,"question_id":75629621,"body_markdown":"Now I have a pdf file which I see the creation time and the modification time.\r\nIs there a way to know which part (e.g. tables/figures/text) are modified in the metadata? \r\n\r\nIn other words, how could I identify the difference between the initial pdf file the current one.\r\n\r\nI tried PyPDF and Pdf2htmlEX which do not help.","title":"How to identify the modified content in a pdf file?","body":"<p>Now I have a pdf file which I see the creation time and the modification time.\nIs there a way to know which part (e.g. tables/figures/text) are modified in the metadata?</p>\n<p>In other words, how could I identify the difference between the initial pdf file the current one.</p>\n<p>I tried PyPDF and Pdf2htmlEX which do not help.</p>\n"},{"tags":["java","arrays","syntax","processing","visualization"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677005281,"post_id":75524611,"comment_id":133250476,"body_markdown":"Are you sure it&#39;s Java? Can you give a bit more complete code, like at least a method where this code resides in? Where do `size()`, `background()`, `smooth()`, `stroke()`, `strokeWeight()`, `ellipse()` come from? what type is `color` exactly? where does `height` come from? Just soooo many possibilities for syntax errors...","body":"Are you sure it&#39;s Java? Can you give a bit more complete code, like at least a method where this code resides in? Where do <code>size()</code>, <code>background()</code>, <code>smooth()</code>, <code>stroke()</code>, <code>strokeWeight()</code>, <code>ellipse()</code> come from? what type is <code>color</code> exactly? where does <code>height</code> come from? Just soooo many possibilities for syntax errors..."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1677005519,"post_id":75524611,"comment_id":133250552,"body_markdown":"You probably meant `for(int i = 0; i &lt; fibonacci.length; i++) {`. (I.e. `=` instead of `&lt;`.)","body":"You probably meant <code>for(int i = 0; i &lt; fibonacci.length; i++) {</code>. (I.e. <code>=</code> instead of <code>&lt;</code>.)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1677005639,"post_id":75524611,"comment_id":133250583,"body_markdown":"@Jens @cyberbrain this is about [Processing](https://processing.org/), `color` is a valid type, `#xxxxxx` is the right way to specify colors and `size`, `background` etc. are defined.","body":"@Jens @cyberbrain this is about <a href=\"https://processing.org/\" rel=\"nofollow noreferrer\">Processing</a>, <code>color</code> is a valid type, <code>#xxxxxx</code> is the right way to specify colors and <code>size</code>, <code>background</code> etc. are defined."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677005849,"post_id":75524611,"comment_id":133250658,"body_markdown":"@Jules are you sure arrays are defined with normal parens instead of braces, like you&#39;re doing in the first line? Where are you getting that error? What tutorial are you following?","body":"@Jules are you sure arrays are defined with normal parens instead of braces, like you&#39;re doing in the first line? Where are you getting that error? What tutorial are you following?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677006011,"post_id":75524611,"comment_id":133250703,"body_markdown":"Also, you mispelled &quot;palette&quot; in the declaration.","body":"Also, you mispelled &quot;palette&quot; in the declaration."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677006105,"post_id":75524611,"comment_id":133250739,"body_markdown":"Once you fixed those issues (including the one pointed out by aioobe in another comment) you should be able to run the example and see what you probably expect to see (circles further and further apart).","body":"Once you fixed those issues (including the one pointed out by aioobe in another comment) you should be able to run the example and see what you probably expect to see (circles further and further apart)."}],"answers":[{"tags":[],"owner":{"account_id":25065898,"reputation":1,"user_id":18920236,"display_name":"jjok13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677860831,"creation_date":1677860831,"answer_id":75629597,"question_id":75524611,"body_markdown":"A few things:\r\n\r\n 1. Processing works with `setup()` and `draw()` methods, which are both missing from your snippet.\r\n 2. To make a copy of an array, you will have to use the `arrayCopy()` method\r\n 3. The `for` loop declaration is incorrect. Instead of `for(int i &lt; 0; ...` you should place `for(int i = 0; ...`\r\n\r\nI also removed the `pallete` array, as it does not serve any purpose in the current snippet.\r\n\r\nWith these changes, the snippet was able to launch and successfully run:\r\n\r\n    color[] dessert = {#9F9694, #791F33, #BA3D49, #F1E6D4, #E2E1DC};\r\n    \r\n    void setup(){\r\n      size(600,200);\r\n      background(dessert[0]);\r\n      smooth();\r\n    }\r\n    \r\n    void draw(){\r\n      int[] fibonacci = {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377};\r\n      for(int i = 0; i &lt; fibonacci.length; i++) { \r\n        stroke(dessert[1]);\r\n        strokeWeight(2);\r\n        float x = fibonacci[i];\r\n        ellipse(x, height/2, 20, 20);\r\n      }\r\n    }","title":"Processing is giving a &quot;bad identifier&quot; error. I&#39;m not quite sure what that means","body":"<p>A few things:</p>\n<ol>\n<li>Processing works with <code>setup()</code> and <code>draw()</code> methods, which are both missing from your snippet.</li>\n<li>To make a copy of an array, you will have to use the <code>arrayCopy()</code> method</li>\n<li>The <code>for</code> loop declaration is incorrect. Instead of <code>for(int i &lt; 0; ...</code> you should place <code>for(int i = 0; ...</code></li>\n</ol>\n<p>I also removed the <code>pallete</code> array, as it does not serve any purpose in the current snippet.</p>\n<p>With these changes, the snippet was able to launch and successfully run:</p>\n<pre><code>color[] dessert = {#9F9694, #791F33, #BA3D49, #F1E6D4, #E2E1DC};\n\nvoid setup(){\n  size(600,200);\n  background(dessert[0]);\n  smooth();\n}\n\nvoid draw(){\n  int[] fibonacci = {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377};\n  for(int i = 0; i &lt; fibonacci.length; i++) { \n    stroke(dessert[1]);\n    strokeWeight(2);\n    float x = fibonacci[i];\n    ellipse(x, height/2, 20, 20);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27844488,"reputation":11,"user_id":21260270,"display_name":"Jules"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677860831,"creation_date":1677004713,"question_id":75524611,"body_markdown":"I am trying to make a simple data visualization chart. This code is supposed to result in a small dot graph.\r\n\r\nHowever, processing is giving me a &#39;bad identifier&#39; syntax error. It&#39;s saying that maybe I forgot a variable or something.\r\n\r\nIt doesn&#39;t make sense to me, because I am following a tutorial and coded the exact same thing so. I&#39;m not sure where the error is coming from. \r\n\r\n\r\n\r\n    color[] dessert = (#9F9694, #791F33, #BA3D49, #F1E6D4, #E2E1DC);\r\n    color[] pallette = dessert;\r\n\r\n    size(600,200);\r\n    background(palette[0]);\r\n    smooth();\r\n\r\n    int[] fibonacci = {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377};\r\n    for(int i &lt; 0; i &lt; fibonacci.length; i++) { \r\n      stroke(palette[1]);\r\n      strokeWeight(2);\r\n      float x = fibonacci[i];\r\n      ellipse(x, height/2, 20, 20);\r\n    }\r\n    ","title":"Processing is giving a &quot;bad identifier&quot; error. I&#39;m not quite sure what that means","body":"<p>I am trying to make a simple data visualization chart. This code is supposed to result in a small dot graph.</p>\n<p>However, processing is giving me a 'bad identifier' syntax error. It's saying that maybe I forgot a variable or something.</p>\n<p>It doesn't make sense to me, because I am following a tutorial and coded the exact same thing so. I'm not sure where the error is coming from.</p>\n<pre><code>color[] dessert = (#9F9694, #791F33, #BA3D49, #F1E6D4, #E2E1DC);\ncolor[] pallette = dessert;\n\nsize(600,200);\nbackground(palette[0]);\nsmooth();\n\nint[] fibonacci = {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377};\nfor(int i &lt; 0; i &lt; fibonacci.length; i++) { \n  stroke(palette[1]);\n  strokeWeight(2);\n  float x = fibonacci[i];\n  ellipse(x, height/2, 20, 20);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1677881233,"post_id":75629579,"comment_id":133431674,"body_markdown":"try to print sql query so you can start searching from that `logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE`","body":"try to print sql query so you can start searching from that <code>logging.level.org.hibernate.SQL=DEBUG logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>"},{"owner":{"account_id":17915945,"reputation":35,"user_id":13016907,"display_name":"NANB"},"score":0,"creation_date":1677894779,"post_id":75629579,"comment_id":133433437,"body_markdown":"thank you for your reply I have added it to the application.properties but can&#39;t understand why I am getting a null value in person in phonenumber entity","body":"thank you for your reply I have added it to the application.properties but can&#39;t understand why I am getting a null value in person in phonenumber entity"},{"owner":{"account_id":7861285,"reputation":181,"user_id":5941624,"display_name":"fatemeakbari"},"score":0,"creation_date":1686660642,"post_id":75629579,"comment_id":134827142,"body_markdown":"you&#39;ve set fetch type lazy so until you don&#39;t call getPerson(), person not loaded. notice it&#39;s better because if you call it, person call getphonenumber and they fall into the loop and you give out of memory exception. for test you can set getPerson in toString() method of phoneNumber","body":"you&#39;ve set fetch type lazy so until you don&#39;t call getPerson(), person not loaded. notice it&#39;s better because if you call it, person call getphonenumber and they fall into the loop and you give out of memory exception. for test you can set getPerson in toString() method of phoneNumber"}],"owner":{"account_id":17915945,"reputation":35,"user_id":13016907,"display_name":"NANB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677860764,"creation_date":1677860764,"question_id":75629579,"body_markdown":"I am trying to create two tables person and phonenumber using a model in spring-boot. Person table has an attribute name, age, and person_id where person_id is the primary_key and in the table, phonenumber has an attribute number,person_id where person_id is the primary key and foreign key refers to the person table person_id. and passing the JSON data as a post request to the controller but getting a null value in the phonenumber&#39;s person variable of person type.\r\n\r\nbelow are the codes:-\r\nperson.java\r\n```\r\npackage com.BitGeekTalks.JanShayog.model;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;person_id&quot;)\r\n    private long person_id;\r\n    @Column(name =&quot;firstname&quot;)\r\n    private String firstName;\r\n    @Column(name =&quot;age&quot;)\r\n    private long age;\r\n    @OneToOne(mappedBy = &quot;person&quot;,cascade = CascadeType.ALL)\r\n    private PhoneNumber phoneNumber;\r\n\r\n    public Person(String firstName, long age, PhoneNumber phoneNumber) {\r\n        this.firstName = firstName;\r\n        this.age = age;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person{&quot; +\r\n                &quot;person_id=&quot; + person_id +\r\n                &quot;, firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, phoneNumber=&quot; + phoneNumber +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public Person() {\r\n    }\r\n\r\n    public long getPerson_id() {\r\n        return person_id;\r\n    }\r\n\r\n    public void setPerson_id(long person_id) {\r\n        this.person_id = person_id;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public long getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(long age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public PhoneNumber getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(PhoneNumber phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n}\r\n\r\n```\r\nphonenumber.java\r\n\r\n```\r\npackage com.BitGeekTalks.JanShayog.model;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;PhoneNumber&quot;)\r\npublic class PhoneNumber {\r\n    @Column(name = &quot;number&quot;)\r\n    private String number;\r\n    @Id\r\n    @Column(name = &quot;phone_number_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long phoneNumberId;\r\n    @OneToOne(cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;person_id&quot;)\r\n    private Person person;\r\n\r\n\r\n    public Long getPhoneNumberId() {\r\n        return phoneNumberId;\r\n    }\r\n\r\n    public void setPhoneNumberId(Long phoneNumberId) {\r\n        this.phoneNumberId = phoneNumberId;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PhoneNumber{&quot; +\r\n                &quot;number=&#39;&quot; + number + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumberId=&quot; + phoneNumberId +\r\n                &quot;, person=&quot; + person +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public PhoneNumber(String number, Person person) {\r\n        this.number = number;\r\n        this.person = person;\r\n        person.setPhoneNumber(this);\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public void setNumber(String number) {\r\n        this.number = number;\r\n    }\r\n\r\n    public Person getPerson() {\r\n        return person;\r\n    }\r\n\r\n    public void setPerson(Person person) {\r\n        this.person = person;\r\n    }\r\n\r\n    public PhoneNumber() {\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\npersonservice.java\r\n```package com.BitGeekTalks.JanShayog.service;\r\n\r\nimport com.BitGeekTalks.JanShayog.model.Person;\r\nimport com.BitGeekTalks.JanShayog.repository.PersonRepo;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class PersonService {\r\n    @Autowired\r\n    private PersonRepo personRepo;\r\n    public Person addPerson(Person person) {\r\n        return personRepo.save(person);\r\n    }\r\n}\r\n```\r\npersonrepo.java\r\n```package com.BitGeekTalks.JanShayog.repository;\r\n\r\nimport com.BitGeekTalks.JanShayog.model.Person;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface PersonRepo extends CrudRepository&lt;Person,Integer&gt; {\r\n}\r\n```\r\npersoncontroller.java\r\n```\r\npackage com.BitGeekTalks.JanShayog.controller;\r\n\r\nimport com.BitGeekTalks.JanShayog.model.Person;\r\nimport com.BitGeekTalks.JanShayog.service.PersonService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class PersonController {\r\n\r\n    @Autowired\r\n    private PersonService personService;\r\n    @PostMapping(&quot;/person&quot;)\r\n    public String addPerson(@RequestBody Person person){\r\n        //System.out.println(person);\r\n        Person person1 = personService.addPerson(person);\r\n        return person1.toString();\r\n    }\r\n}\r\n\r\n```\r\njson data i am passing \r\n```\r\n{\r\n  &quot;firstName&quot;: &quot;John&quot;,\r\n  &quot;age&quot;: 30,\r\n  &quot;phoneNumber&quot;: {\r\n    &quot;number&quot;: &quot;123-456-7890&quot;\r\n  }\r\n}\r\n```\r\noutput i am getting as\r\n```Person{person_id=8, firstName=&#39;John&#39;, age=30, phoneNumber=PhoneNumber{number=&#39;123-456-7890&#39;, phoneNumberId=8, person=null}}```\r\n\r\ntable should be as below\r\n``` \r\nperson(person_id(pk),name,age)\r\nphonenumber(person_id(pk)(fk refer to person.person_id),number)\r\n```\r\n\r\nhelp me out so that i can learn ahead.","title":"getting null value in nested bidirectional oneToOne relation","body":"<p>I am trying to create two tables person and phonenumber using a model in spring-boot. Person table has an attribute name, age, and person_id where person_id is the primary_key and in the table, phonenumber has an attribute number,person_id where person_id is the primary key and foreign key refers to the person table person_id. and passing the JSON data as a post request to the controller but getting a null value in the phonenumber's person variable of person type.</p>\n<p>below are the codes:-\nperson.java</p>\n<pre><code>package com.BitGeekTalks.JanShayog.model;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;person_id&quot;)\n    private long person_id;\n    @Column(name =&quot;firstname&quot;)\n    private String firstName;\n    @Column(name =&quot;age&quot;)\n    private long age;\n    @OneToOne(mappedBy = &quot;person&quot;,cascade = CascadeType.ALL)\n    private PhoneNumber phoneNumber;\n\n    public Person(String firstName, long age, PhoneNumber phoneNumber) {\n        this.firstName = firstName;\n        this.age = age;\n        this.phoneNumber = phoneNumber;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person{&quot; +\n                &quot;person_id=&quot; + person_id +\n                &quot;, firstName='&quot; + firstName + '\\'' +\n                &quot;, age=&quot; + age +\n                &quot;, phoneNumber=&quot; + phoneNumber +\n                '}';\n    }\n\n    public Person() {\n    }\n\n    public long getPerson_id() {\n        return person_id;\n    }\n\n    public void setPerson_id(long person_id) {\n        this.person_id = person_id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public long getAge() {\n        return age;\n    }\n\n    public void setAge(long age) {\n        this.age = age;\n    }\n\n    public PhoneNumber getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(PhoneNumber phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n}\n\n</code></pre>\n<p>phonenumber.java</p>\n<pre><code>package com.BitGeekTalks.JanShayog.model;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name = &quot;PhoneNumber&quot;)\npublic class PhoneNumber {\n    @Column(name = &quot;number&quot;)\n    private String number;\n    @Id\n    @Column(name = &quot;phone_number_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long phoneNumberId;\n    @OneToOne(cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;person_id&quot;)\n    private Person person;\n\n\n    public Long getPhoneNumberId() {\n        return phoneNumberId;\n    }\n\n    public void setPhoneNumberId(Long phoneNumberId) {\n        this.phoneNumberId = phoneNumberId;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PhoneNumber{&quot; +\n                &quot;number='&quot; + number + '\\'' +\n                &quot;, phoneNumberId=&quot; + phoneNumberId +\n                &quot;, person=&quot; + person +\n                '}';\n    }\n\n    public PhoneNumber(String number, Person person) {\n        this.number = number;\n        this.person = person;\n        person.setPhoneNumber(this);\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public void setPerson(Person person) {\n        this.person = person;\n    }\n\n    public PhoneNumber() {\n    }\n\n\n}\n\n</code></pre>\n<p>personservice.java</p>\n<pre><code>\nimport com.BitGeekTalks.JanShayog.model.Person;\nimport com.BitGeekTalks.JanShayog.repository.PersonRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class PersonService {\n    @Autowired\n    private PersonRepo personRepo;\n    public Person addPerson(Person person) {\n        return personRepo.save(person);\n    }\n}\n</code></pre>\n<p>personrepo.java</p>\n<pre><code>\nimport com.BitGeekTalks.JanShayog.model.Person;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface PersonRepo extends CrudRepository&lt;Person,Integer&gt; {\n}\n</code></pre>\n<p>personcontroller.java</p>\n<pre><code>package com.BitGeekTalks.JanShayog.controller;\n\nimport com.BitGeekTalks.JanShayog.model.Person;\nimport com.BitGeekTalks.JanShayog.service.PersonService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class PersonController {\n\n    @Autowired\n    private PersonService personService;\n    @PostMapping(&quot;/person&quot;)\n    public String addPerson(@RequestBody Person person){\n        //System.out.println(person);\n        Person person1 = personService.addPerson(person);\n        return person1.toString();\n    }\n}\n\n</code></pre>\n<p>json data i am passing</p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;John&quot;,\n  &quot;age&quot;: 30,\n  &quot;phoneNumber&quot;: {\n    &quot;number&quot;: &quot;123-456-7890&quot;\n  }\n}\n</code></pre>\n<p>output i am getting as\n<code>Person{person_id=8, firstName='John', age=30, phoneNumber=PhoneNumber{number='123-456-7890', phoneNumberId=8, person=null}}</code></p>\n<p>table should be as below</p>\n<pre><code>person(person_id(pk),name,age)\nphonenumber(person_id(pk)(fk refer to person.person_id),number)\n</code></pre>\n<p>help me out so that i can learn ahead.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9390,"page":602,"page_size":100}
