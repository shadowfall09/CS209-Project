{"items":[{"tags":["java","ssl","keystore","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1570183095,"post_id":58232636,"comment_id":102841444,"body_markdown":"For truststore purposes the alias means nothing. It just searches the truststore for a signer of the incoming peer certificate.","body":"For truststore purposes the alias means nothing. It just searches the truststore for a signer of the incoming peer certificate."}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1570194512,"post_id":58233005,"comment_id":102846948,"body_markdown":"This is backwards, and could not work for the overwhelmingly common case where the server cert is issued by a &#39;real&#39; CA and you don&#39;t know which until you receive that cert in the handshake.","body":"This is backwards, and could not work for the overwhelmingly common case where the server cert is issued by a &#39;real&#39; CA and you don&#39;t know which until you receive that cert in the handshake."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1681481626,"post_id":58233005,"comment_id":134068018,"body_markdown":"subject alternative name != DNS name. Two completely seperate fields ... even though &quot;many&quot; implementations simply paste the same value into both","body":"subject alternative name != DNS name. Two completely seperate fields ... even though &quot;many&quot; implementations simply paste the same value into both"}],"tags":[],"owner":{"account_id":13430076,"reputation":527,"user_id":9690151,"display_name":"Avinash Sagar"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1570179188,"creation_date":1570179188,"answer_id":58233005,"question_id":58232636,"body_markdown":"Alias is a way to directly access the certificate but your keystore has other information regarding the certificate as well. X.509 certificates have a field called SAN (Subject Alternative name) which contains the DNS information of the certificate. When you try to connect to a specific URL, the keystore is looked up for the corresponding DNS name in SAN and correct certificate is picked up. \r\n\r\nI hope it clarifies your doubt about java not asking for the alias. Rest assured, there is nothing random in this process.","title":"How to handle alias in TrustStore","body":"<p>Alias is a way to directly access the certificate but your keystore has other information regarding the certificate as well. X.509 certificates have a field called SAN (Subject Alternative name) which contains the DNS information of the certificate. When you try to connect to a specific URL, the keystore is looked up for the corresponding DNS name in SAN and correct certificate is picked up. </p>\n\n<p>I hope it clarifies your doubt about java not asking for the alias. Rest assured, there is nothing random in this process.</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1677773961,"post_id":58237080,"comment_id":133407897,"body_markdown":"While this is a thorough and useful explanation of the process, it doesn’t answer the question:  namely, what is the significance of the aliases in the KeyStores used to initialize a TrustManagerFactory.","body":"While this is a thorough and useful explanation of the process, it doesn’t answer the question:  namely, what is the significance of the aliases in the KeyStores used to initialize a TrustManagerFactory."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1677988935,"post_id":58237080,"comment_id":133445090,"body_markdown":"@VGR: see addition.","body":"@VGR: see addition."},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1681481437,"post_id":58237080,"comment_id":134067959,"body_markdown":"adding the inherent security issues of custom, invalidly operating TrustManagers is a nice touch. We need to spread the truth otherwise it will get lost","body":"adding the inherent security issues of custom, invalidly operating TrustManagers is a nice touch. We need to spread the truth otherwise it will get lost"}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677988852,"creation_date":1570194453,"answer_id":58237080,"question_id":58232636,"body_markdown":"user207421 is nearly correct. To be more exact:\r\n\r\nWhen you as client open an SSL/TLS connection to a server, as part of the handshake the server sends its certificate &#39;chain&#39; containing its own cert, plus usually one or more linked CA (Certificate Authority) certificates ending with a &#39;root&#39; CA that should be trusted. See the neighboring Stack https://security.stackexchange.com/questions/20803/how-does-ssl-work/ for an epically complete explanation. Public servers normally use a cert issued and signed by a public CA like Digicert, GoDaddy, LetsEncrypt/ISRG which are already in the standard default truststore (for Java in the file `JRE/lib/security/cacerts`) so no action is needed. If a server uses a cert from a off-brand or private CA, or a self-signed cert (from no CA at all), then (for Java) _some_ cert in the chain must be added to the client truststore, or otherwise overridden; this is only required to be the _server_ cert in the case where the server cert is self-signed (which is a chain by itself and has no relevant CA certs). \r\n\r\nJava/JSSE implements this through an `SSLContext` which contains among other things a `TrustManager`, more specifically an `X509ExtendedTrustManager`, which is _initialized_ from a truststore. You can create an `SSLContext` explicitly in code from any set of trusted certs (which doesn&#39;t even need to be from a file), or use the default context which uses the default truststore file, which defaults to the filename above unless overridden by a system property. \r\n\r\nWhen the server cert chain is received it is passed to the context&#39;s TrustManager for validation; among (many!) other checks, at each level of a normal chain, or the single level of a self-signed cert, the JSSE TrustManager looks for an anchor cert (edit) which either _is_ the desired cert (same Subject and (Subject)PublicKey) or is the signer of that cert (Subject equals Issuer), and if such an anchor is found it is used validate the cert chain. Note that a normal (CA-issued) leaf cert can have Subject empty if Subject Alternative Name is used instead -- see rfc5280 and rfc2818 -- but a self-signed cert cannot, because it has Subject = Issuer and Issuer must _not_ be empty. Certs for different entities (e.g. different servers) normally are expected to have different keys, although a single entity can have multiple certs with either the same key or different keys, and might correspond to multiple server names and/or addresses.\r\n\r\n(added) This anchor lookup does not use the alias, and neither does anything else in the validation process, which is why the alias is not and does not need to be specified, and the aliases that are needed for (some) other purposes in a KeyStore file or object have no significance for this purpose.\r\n\r\nIf the certificate is determined valid in general, for _some_ TLS applications (notably HTTPS) the validator _also_ checks it is for the correct server, specifically that the CommonName attribute in the Subject field, or an entry in the Subject Alternative Name extension if present (which for public CAs it always is and has been for at least a decade it is) matches the host DNS name or IP adddress in the URL. In older versions of Java (through 6 IIRC) this was not done in JSSE but rather in the calling application(s) or library, such as `HttpsURLConnection`, which as a legacy still has the option to use its own `HostnameVerifier` instead.\r\n\r\nAll of this can be altered by using a custom `TrustManager` in place of the standard one, and some things like Apache `HttpClient` do so validly, but you will find (too many) answers here and some other Stacks recommending you &#39;solve&#39; TLS errors by using a neutered `TrustManager` that just accepts any cert, regardless of whether it is actually valid and correct, and thus happily connects and sends sensitive data to, or accepts changes from, any attacker who manages to intercept the IP traffic, which is often pretty easy nowadays.","title":"How to handle alias in TrustStore","body":"<p>user207421 is nearly correct. To be more exact:</p>\n<p>When you as client open an SSL/TLS connection to a server, as part of the handshake the server sends its certificate 'chain' containing its own cert, plus usually one or more linked CA (Certificate Authority) certificates ending with a 'root' CA that should be trusted. See the neighboring Stack <a href=\"https://security.stackexchange.com/questions/20803/how-does-ssl-work/\">https://security.stackexchange.com/questions/20803/how-does-ssl-work/</a> for an epically complete explanation. Public servers normally use a cert issued and signed by a public CA like Digicert, GoDaddy, LetsEncrypt/ISRG which are already in the standard default truststore (for Java in the file <code>JRE/lib/security/cacerts</code>) so no action is needed. If a server uses a cert from a off-brand or private CA, or a self-signed cert (from no CA at all), then (for Java) <em>some</em> cert in the chain must be added to the client truststore, or otherwise overridden; this is only required to be the <em>server</em> cert in the case where the server cert is self-signed (which is a chain by itself and has no relevant CA certs).</p>\n<p>Java/JSSE implements this through an <code>SSLContext</code> which contains among other things a <code>TrustManager</code>, more specifically an <code>X509ExtendedTrustManager</code>, which is <em>initialized</em> from a truststore. You can create an <code>SSLContext</code> explicitly in code from any set of trusted certs (which doesn't even need to be from a file), or use the default context which uses the default truststore file, which defaults to the filename above unless overridden by a system property.</p>\n<p>When the server cert chain is received it is passed to the context's TrustManager for validation; among (many!) other checks, at each level of a normal chain, or the single level of a self-signed cert, the JSSE TrustManager looks for an anchor cert (edit) which either <em>is</em> the desired cert (same Subject and (Subject)PublicKey) or is the signer of that cert (Subject equals Issuer), and if such an anchor is found it is used validate the cert chain. Note that a normal (CA-issued) leaf cert can have Subject empty if Subject Alternative Name is used instead -- see rfc5280 and rfc2818 -- but a self-signed cert cannot, because it has Subject = Issuer and Issuer must <em>not</em> be empty. Certs for different entities (e.g. different servers) normally are expected to have different keys, although a single entity can have multiple certs with either the same key or different keys, and might correspond to multiple server names and/or addresses.</p>\n<p>(added) This anchor lookup does not use the alias, and neither does anything else in the validation process, which is why the alias is not and does not need to be specified, and the aliases that are needed for (some) other purposes in a KeyStore file or object have no significance for this purpose.</p>\n<p>If the certificate is determined valid in general, for <em>some</em> TLS applications (notably HTTPS) the validator <em>also</em> checks it is for the correct server, specifically that the CommonName attribute in the Subject field, or an entry in the Subject Alternative Name extension if present (which for public CAs it always is and has been for at least a decade it is) matches the host DNS name or IP adddress in the URL. In older versions of Java (through 6 IIRC) this was not done in JSSE but rather in the calling application(s) or library, such as <code>HttpsURLConnection</code>, which as a legacy still has the option to use its own <code>HostnameVerifier</code> instead.</p>\n<p>All of this can be altered by using a custom <code>TrustManager</code> in place of the standard one, and some things like Apache <code>HttpClient</code> do so validly, but you will find (too many) answers here and some other Stacks recommending you 'solve' TLS errors by using a neutered <code>TrustManager</code> that just accepts any cert, regardless of whether it is actually valid and correct, and thus happily connects and sends sensitive data to, or accepts changes from, any attacker who manages to intercept the IP traffic, which is often pretty easy nowadays.</p>\n"}],"owner":{"account_id":1817339,"reputation":1048,"user_id":1652183,"accept_rate":89,"display_name":"ashokhein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58237080,"answer_count":2,"score":3,"last_activity_date":1677988852,"creation_date":1570177882,"question_id":58232636,"body_markdown":"I am running the Java process (Microservice) and trustStore configured in the JVM parameter. If the Microservice needs to connect the external URL which required the cert to be imported in trustStore.\r\n\r\n    Example: \r\n    example.co.uk -&gt; examplecouk as alias in trustStore\r\n    example.com -&gt; examplecom as alias in trustStore\r\n    example.in  -&gt; examplein as alias in trustStore\r\n\r\nHow does Java know that which certs and alias to be picked from the trustStore for the particular endpoint as I don&#39;t pass/mention the alias in the JVM params? Is it pick randomly? \r\n\r\n\r\n","title":"How to handle alias in TrustStore","body":"<p>I am running the Java process (Microservice) and trustStore configured in the JVM parameter. If the Microservice needs to connect the external URL which required the cert to be imported in trustStore.</p>\n\n<pre><code>Example: \nexample.co.uk -&gt; examplecouk as alias in trustStore\nexample.com -&gt; examplecom as alias in trustStore\nexample.in  -&gt; examplein as alias in trustStore\n</code></pre>\n\n<p>How does Java know that which certs and alias to be picked from the trustStore for the particular endpoint as I don't pass/mention the alias in the JVM params? Is it pick randomly? </p>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1677963424,"post_id":75638545,"comment_id":133442283,"body_markdown":"public **static** synchronized void func - you are modifying class field","body":"public <b>static</b> synchronized void func - you are modifying class field"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1677964411,"post_id":75638545,"comment_id":133442459,"body_markdown":"@AndreyB.Panfilov That&#39;s right. Post it in answer. I will upvote.","body":"@AndreyB.Panfilov That&#39;s right. Post it in answer. I will upvote."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1677964546,"post_id":75638545,"comment_id":133442482,"body_markdown":"@AndreyB.Panfilov and also please explain how static is doing that.","body":"@AndreyB.Panfilov and also please explain how static is doing that."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677973367,"creation_date":1677973367,"answer_id":75639368,"question_id":75638545,"body_markdown":"In order to create the needed _happens-before_ relationship when modifying shared state, you have to synchronize on the same object each time&lt;sup&gt;**1**&lt;/sup&gt;. Your `cnt` field is static, which means it&#39;s shared between all instances of `Runner`. Yet your `func()` method is an instance method. Making an instance method `synchronized` is the same as doing:\r\n\r\n```lang-java\r\npublic void func() {\r\n  synchronized (this) {\r\n    // method body...\r\n  }\r\n}\r\n```\r\n\r\nWhere `this` refers to the instance of the class the method was invoked on. Since you create two instances of `Runner`, your threads are synchronizing on two different objects while reading and writing `cnt`. Thus, you get &quot;unexpected&quot; output due to race conditions and other concurrency issues.\r\n\r\nIn your case, one solution is to make `func()` static. Making a static method `synchronized` is the same as doing:\r\n\r\n```lang-java\r\npublic static void func() {\r\n  synchronized (EnclosingClass.class) {\r\n    // method body...\r\n  }\r\n}\r\n```\r\n\r\nWhere `EnclosingClass` is the class where the method is declared (e.g., `Runner`, in your case). The class literal returns an instance of `java.lang.Class` representing the class, which is a singleton&lt;sup&gt;**2**&lt;/sup&gt;, meaning you end up synchronizing on the same object.\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** This is &quot;per state&quot;. In other words, different state can be guarded by different objects, so long as the threads synchronize on the correct object when interacting with particular state. For instance, making `cnt` non-static instead of making `func()` static would also make your code correct, at least from a concurrency perspective (you&#39;d have to change some things to demonstrate multiple threads accessing the same state).&lt;/sup&gt;\r\n\r\n&lt;sup&gt;**2.** There is actually one instance of `java.lang.Class` per class. So, two calls to `Foo.class` will give the same instance, but `Foo.class` and `Bar.class` will give two different instances. And even that is simplifying things (the `ClassLoader` that loaded the class is part of its identity, but that&#39;s beyond the scope of this answer).&lt;/sup&gt;","title":"Synchronized keyword in not giving expected result in java","body":"<p>In order to create the needed <em>happens-before</em> relationship when modifying shared state, you have to synchronize on the same object each time<sup><strong>1</strong></sup>. Your <code>cnt</code> field is static, which means it's shared between all instances of <code>Runner</code>. Yet your <code>func()</code> method is an instance method. Making an instance method <code>synchronized</code> is the same as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void func() {\n  synchronized (this) {\n    // method body...\n  }\n}\n</code></pre>\n<p>Where <code>this</code> refers to the instance of the class the method was invoked on. Since you create two instances of <code>Runner</code>, your threads are synchronizing on two different objects while reading and writing <code>cnt</code>. Thus, you get &quot;unexpected&quot; output due to race conditions and other concurrency issues.</p>\n<p>In your case, one solution is to make <code>func()</code> static. Making a static method <code>synchronized</code> is the same as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void func() {\n  synchronized (EnclosingClass.class) {\n    // method body...\n  }\n}\n</code></pre>\n<p>Where <code>EnclosingClass</code> is the class where the method is declared (e.g., <code>Runner</code>, in your case). The class literal returns an instance of <code>java.lang.Class</code> representing the class, which is a singleton<sup><strong>2</strong></sup>, meaning you end up synchronizing on the same object.</p>\n<hr />\n<p><sup><strong>1.</strong> This is &quot;per state&quot;. In other words, different state can be guarded by different objects, so long as the threads synchronize on the correct object when interacting with particular state. For instance, making <code>cnt</code> non-static instead of making <code>func()</code> static would also make your code correct, at least from a concurrency perspective (you'd have to change some things to demonstrate multiple threads accessing the same state).</sup></p>\n<p><sup><strong>2.</strong> There is actually one instance of <code>java.lang.Class</code> per class. So, two calls to <code>Foo.class</code> will give the same instance, but <code>Foo.class</code> and <code>Bar.class</code> will give two different instances. And even that is simplifying things (the <code>ClassLoader</code> that loaded the class is part of its identity, but that's beyond the scope of this answer).</sup></p>\n"},{"comments":[{"owner":{"account_id":27936483,"reputation":3,"user_id":21333387,"display_name":"Rohit Godara"},"score":0,"creation_date":1677999973,"post_id":75640031,"comment_id":133445928,"body_markdown":"Thank you for the explanation. It was a big help.","body":"Thank you for the explanation. It was a big help."}],"tags":[],"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677986878,"creation_date":1677986878,"answer_id":75640031,"question_id":75638545,"body_markdown":"The answer by @Slaw is correct and goes into the arcane details making java multithreading challenging.\r\n\r\nThe fundamental problem with synchronization as defined by java is the fact that the shared object should be implemented as a class which controls access to its data members rather than forcing the synchronization calls on the threads accessing the shared data. It should be simple to share data across different thread classes without needing to deal with the arcane details of synchronization in each thread class. \r\n\r\nThe Ada programming language has accomplished these goals.\r\n\r\nAn Ada solution to the extremely simple problem the author of this question is attempting to solve demonstrates these principles very well.\r\n\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with Ada.Text_IO; use Ada.Text_IO;\r\n    \r\n    procedure Main is\r\n       protected counter is\r\n          procedure incr;\r\n          function report return Natural;\r\n       private\r\n          count : Natural := 0;\r\n       end counter;\r\n    \r\n       protected body counter is\r\n          procedure incr is\r\n          begin\r\n             count := count + 1;\r\n          end incr;\r\n    \r\n          function report return Natural is\r\n          begin\r\n             return count;\r\n          end report;\r\n       end counter;\r\n    \r\n       task type countem;\r\n    \r\n       task body countem is\r\n       begin\r\n          for I in 1 .. 10_000 loop\r\n             counter.incr;\r\n          end loop;\r\n       end countem;\r\n    \r\n    begin\r\n       declare\r\n          runners : array (1 .. 14) of countem;\r\n       begin\r\n          null;\r\n       end;\r\n       Put_Line (Natural&#39;Image (counter.report));\r\n    end Main;\r\n\r\nAda allows the definition of what it calls protected objects. A protected object is protected against race conditions and unsynchronized access.\r\n\r\nProtected objects can have three kinds of methods. Protected procedures implicitly control an unconditional exclusive read-write lock on the protected object. Protected entries implicitly control a conditional exclusive read-write lock on the protected object. Protected functions implicitly control an unconditional shared read lock on the protected object. Protected functions are prohibited from modifying the protected object, hence the read-only lock.\r\n\r\nThe example above declares a protected object using one protected procedure with no parameters and one protected function with no parameters. The single data member of this protected object is declared in the private part of the protected object specification. The implementations of the protected procedure and the protected function are found in the protected body. Unlike java, Ada separates interface definitions of an object or type from implementation. \r\n\r\nThe protected body is very simple. All synchronization is implicit and therefore is not seen in the source code. The incr procedure simply increments the count data member declared in the private part of the protected object specification. The function report simply reads and returns the value of count.\r\n\r\nAda tasks are equivalent to java threads. Tasks can be defined as individual task objects or as task types. This example defines a task type with no API beyond the name of the task. The body of the task type definition simply calls counter.incr 10_000 times.\r\n\r\nAda does not have a &quot;join&quot; reserved word. Instead a nested block is declared. In that nested block an array of countem tasks is declared. This example declares an array containing 14 instances of the countem task type. All 14 tasks start as soon as execution passes to the &quot;begin&quot; reserved word in the nested block. The rest of the nested block does nothing, thus its only command is &quot;null;&quot;, which indicates that the block intentionally does nothing other than start the 14 tasks. The nested block does not complete until all 14 of the tasks complete, thereby achieving the same behavior as if a programmer joined 14 threads in java.\r\n\r\nFollowing the end of the nested block, and therefore the completion of the 14 tasks, the value of the count is displayed by calling counter.report.\r\n\r\nThe output of this program is:\r\n\r\n    D:\\Ada\\Stack_Overflow\\simple_synchronization\\obj\\main.exe\r\n     140000\r\n    [2023-03-04 20:25:09] process terminated successfully, elapsed time: 00.85s\r\n\r\nAll synchronization is implicitly performed by the protected object. The tasks simply call the protected procedure incr without calling any synchronization primitives directly.","title":"Synchronized keyword in not giving expected result in java","body":"<p>The answer by @Slaw is correct and goes into the arcane details making java multithreading challenging.</p>\n<p>The fundamental problem with synchronization as defined by java is the fact that the shared object should be implemented as a class which controls access to its data members rather than forcing the synchronization calls on the threads accessing the shared data. It should be simple to share data across different thread classes without needing to deal with the arcane details of synchronization in each thread class.</p>\n<p>The Ada programming language has accomplished these goals.</p>\n<p>An Ada solution to the extremely simple problem the author of this question is attempting to solve demonstrates these principles very well.</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Ada.Text_IO; use Ada.Text_IO;\n\nprocedure Main is\n   protected counter is\n      procedure incr;\n      function report return Natural;\n   private\n      count : Natural := 0;\n   end counter;\n\n   protected body counter is\n      procedure incr is\n      begin\n         count := count + 1;\n      end incr;\n\n      function report return Natural is\n      begin\n         return count;\n      end report;\n   end counter;\n\n   task type countem;\n\n   task body countem is\n   begin\n      for I in 1 .. 10_000 loop\n         counter.incr;\n      end loop;\n   end countem;\n\nbegin\n   declare\n      runners : array (1 .. 14) of countem;\n   begin\n      null;\n   end;\n   Put_Line (Natural'Image (counter.report));\nend Main;\n</code></pre>\n<p>Ada allows the definition of what it calls protected objects. A protected object is protected against race conditions and unsynchronized access.</p>\n<p>Protected objects can have three kinds of methods. Protected procedures implicitly control an unconditional exclusive read-write lock on the protected object. Protected entries implicitly control a conditional exclusive read-write lock on the protected object. Protected functions implicitly control an unconditional shared read lock on the protected object. Protected functions are prohibited from modifying the protected object, hence the read-only lock.</p>\n<p>The example above declares a protected object using one protected procedure with no parameters and one protected function with no parameters. The single data member of this protected object is declared in the private part of the protected object specification. The implementations of the protected procedure and the protected function are found in the protected body. Unlike java, Ada separates interface definitions of an object or type from implementation.</p>\n<p>The protected body is very simple. All synchronization is implicit and therefore is not seen in the source code. The incr procedure simply increments the count data member declared in the private part of the protected object specification. The function report simply reads and returns the value of count.</p>\n<p>Ada tasks are equivalent to java threads. Tasks can be defined as individual task objects or as task types. This example defines a task type with no API beyond the name of the task. The body of the task type definition simply calls counter.incr 10_000 times.</p>\n<p>Ada does not have a &quot;join&quot; reserved word. Instead a nested block is declared. In that nested block an array of countem tasks is declared. This example declares an array containing 14 instances of the countem task type. All 14 tasks start as soon as execution passes to the &quot;begin&quot; reserved word in the nested block. The rest of the nested block does nothing, thus its only command is &quot;null;&quot;, which indicates that the block intentionally does nothing other than start the 14 tasks. The nested block does not complete until all 14 of the tasks complete, thereby achieving the same behavior as if a programmer joined 14 threads in java.</p>\n<p>Following the end of the nested block, and therefore the completion of the 14 tasks, the value of the count is displayed by calling counter.report.</p>\n<p>The output of this program is:</p>\n<pre><code>D:\\Ada\\Stack_Overflow\\simple_synchronization\\obj\\main.exe\n 140000\n[2023-03-04 20:25:09] process terminated successfully, elapsed time: 00.85s\n</code></pre>\n<p>All synchronization is implicitly performed by the protected object. The tasks simply call the protected procedure incr without calling any synchronization primitives directly.</p>\n"}],"owner":{"account_id":27936483,"reputation":3,"user_id":21333387,"display_name":"Rohit Godara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639368,"answer_count":2,"score":0,"last_activity_date":1677986878,"creation_date":1677962581,"question_id":75638545,"body_markdown":"Not getting expected output by using the synchronized keyword in java\r\n\r\n\r\n\r\nI tried to implement thread synchronization using synchronized keyword in java but am not getting the expected output. The final value of variable cnt should be 20,000 but it&#39;s not the case.\r\n\r\n\r\n```lang-java\r\npackage MultiThreading;\r\n\r\n\r\nclass Runner extends Thread {\r\n\t\r\n\tprivate static int cnt=0;\r\n\t\r\n\tpublic synchronized void func() {\r\n\t\tcnt++;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tfor(int i=0; i&lt;10000; i++) {\r\n\t\t\tfunc();\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic void print() {\r\n\t\tSystem.out.println(cnt);\r\n\t}\r\n}\r\n\r\n\r\npublic class Synchronization {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\tRunner r1 = new Runner();\r\n\t\tRunner r2 = new Runner();\r\n\t\t\r\n\t\tr1.start();\r\n\t\tr2.start();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tr1.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tr2.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tr1.print();\r\n\t\t\t\t\r\n\t}\t\r\n\t\r\n}\r\n```","title":"Synchronized keyword in not giving expected result in java","body":"<p>Not getting expected output by using the synchronized keyword in java</p>\n<p>I tried to implement thread synchronization using synchronized keyword in java but am not getting the expected output. The final value of variable cnt should be 20,000 but it's not the case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package MultiThreading;\n\n\nclass Runner extends Thread {\n    \n    private static int cnt=0;\n    \n    public synchronized void func() {\n        cnt++;\n    }\n    \n    public void run() {\n        for(int i=0; i&lt;10000; i++) {\n            func();\n        }\n    }   \n    \n    public void print() {\n        System.out.println(cnt);\n    }\n}\n\n\npublic class Synchronization {\n    \n    public static void main(String[] args) {\n            \n        Runner r1 = new Runner();\n        Runner r2 = new Runner();\n        \n        r1.start();\n        r2.start();\n        \n        try {\n            r1.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n            \n        try {\n            r2.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        r1.print();\n                \n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677985977,"creation_date":1677985977,"question_id":75639994,"body_markdown":"I have a custom spring validator to validates a role DTO class but when I called it using @Valid annotation or by any other means (like data binder validation or calling validate method) nothing happens. I didn&#39;t understand if i&#39;m doing something wrong, i have spring validation starter as dependency like so:\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n````\r\nBut when i added the Hibernate Validator it started to validate normally but why? wasn&#39;t supposed to spring-boot-starter-validation solve that as it related to spring ?\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nDTO\r\n```\r\n@Getter @Setter\r\npublic class UserRegistrationDTO {\r\n    private String username;\r\n    private String password;\r\n    private String confirmPassword;\r\n    private String email;\r\n}\r\n```\r\n\r\nValidator\r\n\r\n```\r\n@Component(value = &quot;userRegistrationValidator&quot;)\r\npublic class UserRegistrationValidator implements Validator {\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; clazz) {\r\n        return UserRegistrationDTO.class.isAssignableFrom(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        UserRegistrationDTO userRegistrationDTO = (UserRegistrationDTO) target;\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;password&quot;, &quot;password.empty&quot;, &quot;The password must not be empty&quot;);\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;confirmPassword&quot;, &quot;cpassword.empty&quot;, &quot;You have to confirm you password&quot;);\r\n\r\n        if (userRegistrationDTO.getPassword() != null) {\r\n            if (userRegistrationDTO.getPassword().length() &lt; 5 || userRegistrationDTO.getPassword().length() &gt; 25)\r\n                errors.rejectValue(&quot;password&quot;, &quot;password.size&quot;, &quot;The password size must be between 5 to 25&quot;);\r\n\r\n            if (userRegistrationDTO.getConfirmPassword() != null &amp;&amp; !userRegistrationDTO.getPassword().equals(userRegistrationDTO.getConfirmPassword()))\r\n                errors.rejectValue(&quot;confirmPassword&quot;, &quot;password.not_equals&quot;, &quot;The password is not equals&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nController\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/register&quot;)\r\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class RegisterController {\r\n\r\n    @Qualifier(&quot;userRegistrationValidator&quot;)\r\n    private final Validator validator;\r\n\r\n    @PostMapping\r\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\r\n        \r\n        ValidationUtils.invokeValidator(validator, userRegistrationDTO, bindingResult);\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;login/signup&quot;;\r\n        }\r\n\r\n        // ... \r\n\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMy first attempt was setting the validator directly to the data binder. Therefore, i would not need to call the validator. Nothing happens.\r\n\r\n````\r\n@Qualifier(&quot;userRegistrationValidator&quot;)\r\nprivate final Validator validator;\r\n\r\n@InitBinder\r\npublic void initBinder(WebDataBinder webDataBinder) {\r\n    webDataBinder.addValidators(validator);\r\n}\r\n````\r\n\r\nMy second attempt was call the validate method but it still doesn&#39;t work.\r\n````\r\n@PostMapping\r\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\r\n        validator.validate(userRegistrationDTO, bindingResult);\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;login/signup&quot;;\r\n        }\r\n    // ...\r\n}\r\n````\r\n\r\n","title":"Why do i need Hibernate Validator to run a Custom Spring Validator?","body":"<p>I have a custom spring validator to validates a role DTO class but when I called it using @Valid annotation or by any other means (like data binder validation or calling validate method) nothing happens. I didn't understand if i'm doing something wrong, i have spring validation starter as dependency like so:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But when i added the Hibernate Validator it started to validate normally but why? wasn't supposed to spring-boot-starter-validation solve that as it related to spring ?</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter @Setter\npublic class UserRegistrationDTO {\n    private String username;\n    private String password;\n    private String confirmPassword;\n    private String email;\n}\n</code></pre>\n<p>Validator</p>\n<pre><code>@Component(value = &quot;userRegistrationValidator&quot;)\npublic class UserRegistrationValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return UserRegistrationDTO.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        UserRegistrationDTO userRegistrationDTO = (UserRegistrationDTO) target;\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;password&quot;, &quot;password.empty&quot;, &quot;The password must not be empty&quot;);\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;confirmPassword&quot;, &quot;cpassword.empty&quot;, &quot;You have to confirm you password&quot;);\n\n        if (userRegistrationDTO.getPassword() != null) {\n            if (userRegistrationDTO.getPassword().length() &lt; 5 || userRegistrationDTO.getPassword().length() &gt; 25)\n                errors.rejectValue(&quot;password&quot;, &quot;password.size&quot;, &quot;The password size must be between 5 to 25&quot;);\n\n            if (userRegistrationDTO.getConfirmPassword() != null &amp;&amp; !userRegistrationDTO.getPassword().equals(userRegistrationDTO.getConfirmPassword()))\n                errors.rejectValue(&quot;confirmPassword&quot;, &quot;password.not_equals&quot;, &quot;The password is not equals&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/register&quot;)\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\npublic class RegisterController {\n\n    @Qualifier(&quot;userRegistrationValidator&quot;)\n    private final Validator validator;\n\n    @PostMapping\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\n        \n        ValidationUtils.invokeValidator(validator, userRegistrationDTO, bindingResult);\n\n        if (bindingResult.hasErrors()) {\n            return &quot;login/signup&quot;;\n        }\n\n        // ... \n\n        return &quot;redirect:/login&quot;;\n    }\n}\n</code></pre>\n<p>My first attempt was setting the validator directly to the data binder. Therefore, i would not need to call the validator. Nothing happens.</p>\n<pre><code>@Qualifier(&quot;userRegistrationValidator&quot;)\nprivate final Validator validator;\n\n@InitBinder\npublic void initBinder(WebDataBinder webDataBinder) {\n    webDataBinder.addValidators(validator);\n}\n</code></pre>\n<p>My second attempt was call the validate method but it still doesn't work.</p>\n<pre><code>@PostMapping\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\n        validator.validate(userRegistrationDTO, bindingResult);\n        if (bindingResult.hasErrors()) {\n            return &quot;login/signup&quot;;\n        }\n    // ...\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":3341028,"reputation":1164,"user_id":2807311,"accept_rate":17,"display_name":"voliveira89"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551945353,"creation_date":1551945353,"answer_id":55038694,"question_id":55038593,"body_markdown":"You can use Spring Boot Admin: https://github.com/codecentric/spring-boot-admin\r\n\r\nThe logs appear like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RcF5T.png\r\n\r\nYou can use https://start.spring.io/ to include de Admin Client and Server in your project. Check the tutorial here: http://codecentric.github.io/spring-boot-admin/current/#getting-started","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>You can use Spring Boot Admin: <a href=\"https://github.com/codecentric/spring-boot-admin\" rel=\"nofollow noreferrer\">https://github.com/codecentric/spring-boot-admin</a></p>\n\n<p>The logs appear like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RcF5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcF5T.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> to include de Admin Client and Server in your project. Check the tutorial here: <a href=\"http://codecentric.github.io/spring-boot-admin/current/#getting-started\" rel=\"nofollow noreferrer\">http://codecentric.github.io/spring-boot-admin/current/#getting-started</a></p>\n"},{"tags":[],"owner":{"account_id":5181486,"reputation":700,"user_id":4147073,"display_name":"Šime Tokić"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610889860,"creation_date":1610889860,"answer_id":65761144,"question_id":55038593,"body_markdown":"By default, the following Spring Boot Actuator endpoints are enabled (JMX/WEB):\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints\r\n\r\nTo enable specific endpoints write the following in Spring Boot `application.properties` file:\r\n\r\n    management.endpoints.web.exposure.include = info, health, logfile\r\n\r\nor to disable write:\r\n\r\n    management.endpoints.web.exposure.exclude = env,beans","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>By default, the following Spring Boot Actuator endpoints are enabled (JMX/WEB):</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints</a></p>\n<p>To enable specific endpoints write the following in Spring Boot <code>application.properties</code> file:</p>\n<pre><code>management.endpoints.web.exposure.include = info, health, logfile\n</code></pre>\n<p>or to disable write:</p>\n<pre><code>management.endpoints.web.exposure.exclude = env,beans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17055889,"reputation":119,"user_id":12340440,"display_name":"Nacho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677984232,"creation_date":1677984232,"answer_id":75639923,"question_id":55038593,"body_markdown":"**Logs in the browser:** \r\n\r\nOne way to expose the logs from a Spring Boot application in the browser is by using the built-in Actuator endpoints.\r\n\r\nActuator is a tool that provides production-ready features to help you monitor and manage your Spring Boot application. It includes a variety of endpoints, including one for viewing the application logs.\r\n\r\nTo enable the Actuator endpoints, you need to add the spring-boot-starter-actuator dependency to your project&#39;s pom.xml file:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOnce the dependency is added, you can access the log endpoint at `http://localhost:8080/actuator/logfile`.\r\n\r\nTo expose the logs in the browser, you can create a custom endpoint that reads the log file and returns its contents. Here&#39;s an example:\r\n\r\n```\r\n@RestController\r\npublic class LogController {\r\n\r\n    @GetMapping(&quot;/logs&quot;)\r\n    public ResponseEntity&lt;String&gt; getLogs() throws IOException {\r\n        Path logFile = Paths.get(System.getProperty(&quot;logging.file.name&quot;));\r\n        String logs = new String(Files.readAllBytes(logFile));\r\n        return ResponseEntity.ok(logs);\r\n    }\r\n}\r\n```\r\n\r\nMake sure the application is configured to write logs into a file, by adding the following to the `application.properties` or `application.yml` file:\r\n\r\n```\r\nlogging.file.name=mylog.log\r\nlogging.level.root=INFO\r\n```\r\n\r\n\r\nThis code creates a new endpoint at `http://localhost:8080/logs` that returns the contents of the log file as a string.\r\n\r\nNote that **this approach may not be suitable for production environments** as it exposes potentially sensitive information. It is recommended to restrict access to the log endpoint using appropriate security measures.\r\n\r\n","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p><strong>Logs in the browser:</strong></p>\n<p>One way to expose the logs from a Spring Boot application in the browser is by using the built-in Actuator endpoints.</p>\n<p>Actuator is a tool that provides production-ready features to help you monitor and manage your Spring Boot application. It includes a variety of endpoints, including one for viewing the application logs.</p>\n<p>To enable the Actuator endpoints, you need to add the spring-boot-starter-actuator dependency to your project's pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once the dependency is added, you can access the log endpoint at <code>http://localhost:8080/actuator/logfile</code>.</p>\n<p>To expose the logs in the browser, you can create a custom endpoint that reads the log file and returns its contents. Here's an example:</p>\n<pre><code>@RestController\npublic class LogController {\n\n    @GetMapping(&quot;/logs&quot;)\n    public ResponseEntity&lt;String&gt; getLogs() throws IOException {\n        Path logFile = Paths.get(System.getProperty(&quot;logging.file.name&quot;));\n        String logs = new String(Files.readAllBytes(logFile));\n        return ResponseEntity.ok(logs);\n    }\n}\n</code></pre>\n<p>Make sure the application is configured to write logs into a file, by adding the following to the <code>application.properties</code> or <code>application.yml</code> file:</p>\n<pre><code>logging.file.name=mylog.log\nlogging.level.root=INFO\n</code></pre>\n<p>This code creates a new endpoint at <code>http://localhost:8080/logs</code> that returns the contents of the log file as a string.</p>\n<p>Note that <strong>this approach may not be suitable for production environments</strong> as it exposes potentially sensitive information. It is recommended to restrict access to the log endpoint using appropriate security measures.</p>\n"}],"owner":{"account_id":12535152,"reputation":155,"user_id":9122020,"display_name":"Pradeep Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677984232,"creation_date":1551944986,"question_id":55038593,"body_markdown":"I&#39;m trying to show the contents of a logger file in the browser screen , so that when the application is running in production in external server, i don&#39;t need to login every time into the server to fetch the logs. I&#39;m trying to achieve this using Spring Boot Actuator. I have configured the log file path and log info level in my properties file, and logs are being written in that file, but how to stream the contents of the file in browser window. below is my properties file contents\r\n\r\n      management.security.enabled=false\r\n      endpoints.env.enabled=false\r\n      endpoints.configprops.enabled=false\r\n      endpoints.autoconfig.enabled=false\r\n      endpoints.beans.enabled=false\r\n      endpoints.dump.enabled=true\r\n      endpoints.heapdump.enabled=true\r\n      logging.level.root=info\r\n      logging.file=target/app.log\r\n\r\nThanks for the help in advance !!!!","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>I'm trying to show the contents of a logger file in the browser screen , so that when the application is running in production in external server, i don't need to login every time into the server to fetch the logs. I'm trying to achieve this using Spring Boot Actuator. I have configured the log file path and log info level in my properties file, and logs are being written in that file, but how to stream the contents of the file in browser window. below is my properties file contents</p>\n\n<pre><code>  management.security.enabled=false\n  endpoints.env.enabled=false\n  endpoints.configprops.enabled=false\n  endpoints.autoconfig.enabled=false\n  endpoints.beans.enabled=false\n  endpoints.dump.enabled=true\n  endpoints.heapdump.enabled=true\n  logging.level.root=info\n  logging.file=target/app.log\n</code></pre>\n\n<p>Thanks for the help in advance !!!!</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":24514735,"reputation":720,"user_id":18428659,"display_name":"Victor Pieper"},"score":0,"creation_date":1677067923,"post_id":75532366,"comment_id":133263336,"body_markdown":"Make sure you have the right version of java! Do you have java 17 installed? There is also a line that says your plugin might be out of date. So make sure your plugin is for that fabric version you are running.","body":"Make sure you have the right version of java! Do you have java 17 installed? There is also a line that says your plugin might be out of date. So make sure your plugin is for that fabric version you are running."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1677117249,"post_id":75532366,"comment_id":133276471,"body_markdown":"Make sure you have the right version of *Minecraft*, it has to match Fabric Loader, Fabric API and your mod.","body":"Make sure you have the right version of <i>Minecraft</i>, it has to match Fabric Loader, Fabric API and your mod."}],"answers":[{"tags":[],"owner":{"account_id":27804000,"reputation":1,"user_id":21227880,"display_name":"Esyuran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677073125,"creation_date":1677073071,"answer_id":75533492,"question_id":75532366,"body_markdown":"Ok Someone told me the answerer. Shadow dose some wired things. You can just use looms `include implementation(&quot;yourDependencyHere&quot;);`\r\nUpdated build.grandle :\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\narchivesBaseName = project.archives_base_name\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\r\n\tinclude implementation( &quot;org.jsoup:jsoup:1.15.4&quot;)\r\n\tinclude implementation( &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;)\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n```","title":"Fabric 1.19.3 Mod crashes in Minecraft Launcher but not in IDE","body":"<p>Ok Someone told me the answerer. Shadow dose some wired things. You can just use looms <code>include implementation(&quot;yourDependencyHere&quot;);</code>\nUpdated build.grandle :</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\narchivesBaseName = project.archives_base_name\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n\n    include implementation( &quot;org.jsoup:jsoup:1.15.4&quot;)\n    include implementation( &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;)\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":27804000,"reputation":1,"user_id":21227880,"display_name":"Esyuran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677983044,"creation_date":1677066936,"question_id":75532366,"body_markdown":"I have a minecraft mod that implements selenium and jsoup. It works perfectly fine when working in my IDE but when I export it as a shadowJar and ad it to my mod folder Minecraft crashes with exit code 1. I am new to Fabric mod development, so I would appreciate it if someone could help me out.\r\n\r\nHow I implemented the selenium and jsoup in my build.grandle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n\tid &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\narchivesBaseName = project.archives_base_name\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.jsoup:jsoup:1.15.4&quot;\r\n\timplementation &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n```\r\nThe error Minecraft gives me:\r\n\r\n```\r\nError loading companion plugin class [net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin] for mixin config [fabric-renderer-indigo.mixins.json]. The plugin may be out of date: ClassCastException:class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader &#39;app&#39;)\r\njava.lang.ClassCastException: class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader &#39;app&#39;)\r\n\tat org.spongepowered.asm.mixin.transformer.PluginHandle.&lt;init&gt;(PluginHandle.java:97)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinConfig.onSelect(MixinConfig.java:708)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.selectConfigs(MixinProcessor.java:498)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.select(MixinProcessor.java:460)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.checkSelect(MixinProcessor.java:438)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:290)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:454)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n12:36:54.465\r\nMixin apply for mod fabric-crash-report-info-v1 failed fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 -&gt; net.minecraft.util.SystemDetails: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\r\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:436)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:412)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:340)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:299)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\r\n\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\r\n\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat net.minecraft.util.crash.CrashReport.&lt;init&gt;(CrashReport.java:41)\r\n\tat net.minecraft.util.crash.CrashReport.initCrashReport(CrashReport.java:227)\r\n\tat net.minecraft.client.main.Main.main(Main.java:152)\r\n\tat net.minecraft.client.main.Main.main(Main.java:56)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n```\r\n\r\n","title":"Fabric 1.19.3 Mod crashes in Minecraft Launcher but not in IDE","body":"<p>I have a minecraft mod that implements selenium and jsoup. It works perfectly fine when working in my IDE but when I export it as a shadowJar and ad it to my mod folder Minecraft crashes with exit code 1. I am new to Fabric mod development, so I would appreciate it if someone could help me out.</p>\n<p>How I implemented the selenium and jsoup in my build.grandle:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\narchivesBaseName = project.archives_base_name\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n    implementation &quot;org.jsoup:jsoup:1.15.4&quot;\n    implementation &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n</code></pre>\n<p>The error Minecraft gives me:</p>\n<pre><code>Error loading companion plugin class [net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin] for mixin config [fabric-renderer-indigo.mixins.json]. The plugin may be out of date: ClassCastException:class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader 'app')\njava.lang.ClassCastException: class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader 'app')\n    at org.spongepowered.asm.mixin.transformer.PluginHandle.&lt;init&gt;(PluginHandle.java:97)\n    at org.spongepowered.asm.mixin.transformer.MixinConfig.onSelect(MixinConfig.java:708)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.selectConfigs(MixinProcessor.java:498)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.select(MixinProcessor.java:460)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.checkSelect(MixinProcessor.java:438)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:290)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:454)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n12:36:54.465\nMixin apply for mod fabric-crash-report-info-v1 failed fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 -&gt; net.minecraft.util.SystemDetails: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:436)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:412)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:340)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:299)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\n    at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.minecraft.util.crash.CrashReport.&lt;init&gt;(CrashReport.java:41)\n    at net.minecraft.util.crash.CrashReport.initCrashReport(CrashReport.java:227)\n    at net.minecraft.client.main.Main.main(Main.java:152)\n    at net.minecraft.client.main.Main.main(Main.java:56)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":27855138,"reputation":1,"user_id":21268807,"display_name":"Gabriel Snow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677983026,"creation_date":1677104276,"question_id":75538701,"body_markdown":"I am currently working on a Minecraft bot because I want to learn Java as a student but I can&#39;t seem to find the specific code I am looking for to make this happen.\r\n\r\nMy code:\r\n\r\n```java\r\n    \tnew Thread(() -&gt; {\r\n        \tif(StartStop) {\r\n            \tMinecraft minecraft = Minecraft.getInstance();\r\n            \tminecraft.player.setXRot(0);\r\n            \tminecraft.player.setYRot(90);\r\n            \tint x = (int) minecraft.player.getX();\r\n            \tint z = (int) minecraft.player.getZ();\r\n            \tBaritoneAPI.getSettings().allowSprint.value = true;\r\n            \tBaritoneAPI.getSettings().primaryTimeoutMS.value = 2000L;\r\n            \tICustomGoalProcess customGoalProcess = BaritoneAPI.getProvider().getPrimaryBaritone().getCustomGoalProcess();\r\n            \tcustomGoalProcess.setGoalAndPath(new GoalXZ(x + 20, z + 20));\r\n            \twhile (customGoalProcess.isActive() &amp;&amp; StartStop) {\r\n            \t\t//start holding attack button\r\n            \t}\r\n            \tminecraft.player.setYRot(-90);\r\n            \tminecraft.options.keyAttack.setDown(false);\r\n        \t}\r\n    \t}).start();\r\n```\r\n\r\n\r\nI tried using minecraft.gameOptions but that doesn&#39;t seem to work, I&#39;m not sure why, maybe because I&#39;m using forge for 1.18.1. I tried minecraft.options.keyAttack.setDown(true); but that just seems to deactivate the button.","title":"How to make a Minecraft mod that will hold the attack button (usually left mouse click) when &quot;///start&quot; is typed in chat?","body":"<p>I am currently working on a Minecraft bot because I want to learn Java as a student but I can't seem to find the specific code I am looking for to make this happen.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        new Thread(() -&gt; {\n            if(StartStop) {\n                Minecraft minecraft = Minecraft.getInstance();\n                minecraft.player.setXRot(0);\n                minecraft.player.setYRot(90);\n                int x = (int) minecraft.player.getX();\n                int z = (int) minecraft.player.getZ();\n                BaritoneAPI.getSettings().allowSprint.value = true;\n                BaritoneAPI.getSettings().primaryTimeoutMS.value = 2000L;\n                ICustomGoalProcess customGoalProcess = BaritoneAPI.getProvider().getPrimaryBaritone().getCustomGoalProcess();\n                customGoalProcess.setGoalAndPath(new GoalXZ(x + 20, z + 20));\n                while (customGoalProcess.isActive() &amp;&amp; StartStop) {\n                    //start holding attack button\n                }\n                minecraft.player.setYRot(-90);\n                minecraft.options.keyAttack.setDown(false);\n            }\n        }).start();\n</code></pre>\n<p>I tried using minecraft.gameOptions but that doesn't seem to work, I'm not sure why, maybe because I'm using forge for 1.18.1. I tried minecraft.options.keyAttack.setDown(true); but that just seems to deactivate the button.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":9599911,"reputation":335,"user_id":7127837,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677982825,"creation_date":1677920802,"question_id":75634644,"body_markdown":"I am developing a Minecraft Fabric mod with custom player stats.\r\nHere is how I created a custom player stat: \r\n\r\n```java\r\npublic class ModStats {\r\n    public static final Identifier MINING_STAT = new Identifier(ExampleMod.MOD_ID, &quot;mining_stat&quot;);\r\n\r\n    public static void registerModStats() {\r\n        Registry.register(Registries.CUSTOM_STAT, &quot;mining_stat&quot;, MINING_STAT);\r\n        Stats.CUSTOM.getOrCreateStat(MINING_STAT, StatFormatter.DEFAULT);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n`registerModStats()` is called in the Mod main class.\r\nI increase the stat using a `MiningToolItemMixin`: \r\n\r\n```java\r\n@Mixin(MiningToolItem.class)\r\npublic class MiningToolItemMixin {\r\n    @Inject(at = @At(&quot;TAIL&quot;), method = &quot;postMine&quot;)\r\n    private void postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner,\r\n            CallbackInfoReturnable&lt;Boolean&gt; info) {\r\n        if (miner instanceof PlayerEntity player) {\r\n            player.incrementStat(ModStats.MINING_STAT);\r\n        }\r\n        System.out.println(&quot;MiningToolItemMixin&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nEverything works finde but **how can I get the stat value in other parts of the code?** \r\n\r\nI tired to get the stat via the `PlayerEntitiy` object but there are only methods to increase stats and to retreive stats.","title":"How to get the value of a player statistic?","body":"<p>I am developing a Minecraft Fabric mod with custom player stats.\nHere is how I created a custom player stat:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ModStats {\n    public static final Identifier MINING_STAT = new Identifier(ExampleMod.MOD_ID, &quot;mining_stat&quot;);\n\n    public static void registerModStats() {\n        Registry.register(Registries.CUSTOM_STAT, &quot;mining_stat&quot;, MINING_STAT);\n        Stats.CUSTOM.getOrCreateStat(MINING_STAT, StatFormatter.DEFAULT);\n    }\n\n}\n\n</code></pre>\n<p><code>registerModStats()</code> is called in the Mod main class.\nI increase the stat using a <code>MiningToolItemMixin</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mixin(MiningToolItem.class)\npublic class MiningToolItemMixin {\n    @Inject(at = @At(&quot;TAIL&quot;), method = &quot;postMine&quot;)\n    private void postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner,\n            CallbackInfoReturnable&lt;Boolean&gt; info) {\n        if (miner instanceof PlayerEntity player) {\n            player.incrementStat(ModStats.MINING_STAT);\n        }\n        System.out.println(&quot;MiningToolItemMixin&quot;);\n    }\n}\n\n</code></pre>\n<p>Everything works finde but <strong>how can I get the stat value in other parts of the code?</strong></p>\n<p>I tired to get the stat via the <code>PlayerEntitiy</code> object but there are only methods to increase stats and to retreive stats.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1677978945,"post_id":75639653,"comment_id":133444190,"body_markdown":"But [there is no best practice](https://www.satisfice.com/blog/archives/5164).  You should stop asking for &quot;best practice&quot; advice.  And tell your friends / teachers / colleagues to stop telling you that XYZ is &quot;best practice&quot;.","body":"But <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">there is no best practice</a>.  You should stop asking for &quot;best practice&quot; advice.  And tell your friends / teachers / colleagues to stop telling you that XYZ is &quot;best practice&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677979208,"post_id":75639653,"comment_id":133444218,"body_markdown":"API 21 is Lollipop 5.0.  That was released in 2015.  Maybe it is time to not support it anymore.  See also https://endoflife.date/android.  You shouldn&#39;t be encouraging users to continue using a platform that is EOL.  It is bad for &gt;their&lt; security.","body":"API 21 is Lollipop 5.0.  That was released in 2015.  Maybe it is time to not support it anymore.  See also <a href=\"https://endoflife.date/android\" rel=\"nofollow noreferrer\">endoflife.date/android</a>.  You shouldn&#39;t be encouraging users to continue using a platform that is EOL.  It is bad for &gt;their&lt; security."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":1,"creation_date":1677980817,"post_id":75639653,"comment_id":133444400,"body_markdown":"@StephenC While that may be true, the percentage of Android phones with a version older than 7.0 (which I believe introduced Java 8 &amp; Optionals) is around~6%, which is significant percentage that you still want to reach.","body":"@StephenC While that may be true, the percentage of Android phones with a version older than 7.0 (which I believe introduced Java 8 &amp; Optionals) is around~6%, which is significant percentage that you still want to reach."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677982430,"post_id":75639653,"comment_id":133444546,"body_markdown":"Yea ... no.  You have 94% of your market.  Don&#39;t be **greedy**.  It is not in your customer&#39;s interests to be encouraging them to use a woefully out-dated and (probably) insecure phone.  Ethics.","body":"Yea ... no.  You have 94% of your market.  Don&#39;t be <b>greedy</b>.  It is not in your customer&#39;s interests to be encouraging them to use a woefully out-dated and (probably) insecure phone.  Ethics."}],"answers":[{"comments":[{"owner":{"account_id":9663139,"reputation":3,"user_id":7170469,"display_name":"Daniel Choi"},"score":0,"creation_date":1677979397,"post_id":75639687,"comment_id":133444240,"body_markdown":"Thanks, but I checked and my build.gradle already contains these lines.","body":"Thanks, but I checked and my build.gradle already contains these lines."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1677979736,"post_id":75639687,"comment_id":133444269,"body_markdown":"My bad, I put the wrong build.gradle on the answer (the one that allows Lambdas but not optionals). Try the updated one instead.","body":"My bad, I put the wrong build.gradle on the answer (the one that allows Lambdas but not optionals). Try the updated one instead."}],"tags":[],"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677982553,"creation_date":1677979158,"answer_id":75639687,"question_id":75639653,"body_markdown":"You _can_ use Java&#39;s Optional, even with an older min SDK level. The key is to add this to your &#39;build.gradle&#39;:\r\n\r\n```groovy\r\nandroid {\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled true\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Use version 1.1.5 if you have Gradle older than 7.3.0\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.2.2&#39;\r\n}\r\n```\r\n\r\nThis will instruct Gradle to compile your Java 8 code using Optionals, even lambdas and more to Java 7 bytecode using some tricks. Note that you need Gradle version 4.0.0 or later for those to work. You can find more information on what other features you can use by doing this on the official [Android Developer website][1], but most notable are:\r\n- lambdas\r\n- Streams\r\n- newer collections\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"What is the best alternative to Java&#39;s Optional if it isn&#39;t supported by earlier Android API versions?","body":"<p>You <em>can</em> use Java's Optional, even with an older min SDK level. The key is to add this to your 'build.gradle':</p>\n<pre><code>android {\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    // Use version 1.1.5 if you have Gradle older than 7.3.0\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.2.2'\n}\n</code></pre>\n<p>This will instruct Gradle to compile your Java 8 code using Optionals, even lambdas and more to Java 7 bytecode using some tricks. Note that you need Gradle version 4.0.0 or later for those to work. You can find more information on what other features you can use by doing this on the official <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">Android Developer website</a>, but most notable are:</p>\n<ul>\n<li>lambdas</li>\n<li>Streams</li>\n<li>newer collections</li>\n</ul>\n"}],"owner":{"account_id":9663139,"reputation":3,"user_id":7170469,"display_name":"Daniel Choi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639687,"answer_count":1,"score":0,"last_activity_date":1677982553,"creation_date":1677978463,"question_id":75639653,"body_markdown":"When I attempt to use `Optional.empty()`, my IDE warns me that `Call requires API level 24 (current min is 21): java.util.Optional#empty`.\r\n\r\nI&#39;m assuming I cannot use Optional. Should I use `null`? Is there a best-practice alternative?","title":"What is the best alternative to Java&#39;s Optional if it isn&#39;t supported by earlier Android API versions?","body":"<p>When I attempt to use <code>Optional.empty()</code>, my IDE warns me that <code>Call requires API level 24 (current min is 21): java.util.Optional#empty</code>.</p>\n<p>I'm assuming I cannot use Optional. Should I use <code>null</code>? Is there a best-practice alternative?</p>\n"},{"tags":["java","android","security"],"comments":[{"owner":{"account_id":15456111,"reputation":319,"user_id":11300553,"display_name":"Sir Muffington"},"score":1,"creation_date":1677933016,"post_id":75636961,"comment_id":133439346,"body_markdown":"Welcome to the community. I&#39;m afraid this is a programming question and is off-topic here. I&#39;ve flagged it for migration though","body":"Welcome to the community. I&#39;m afraid this is a programming question and is off-topic here. I&#39;ve flagged it for migration though"},{"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"score":0,"creation_date":1682504404,"post_id":75636961,"comment_id":134225462,"body_markdown":"If someone sends an intent to your app he can put there anything he wants. Then without any validation, your app will run this intent using YOUR app permissions(e.g. accessing your app&#39;s private files or doing anything else your app was granted permission to.)\nRegarding your sample, someone can start other (non-exported) services that your app contains and send the action to be taken to them(what will happen next depends on the service&#39;s code)","body":"If someone sends an intent to your app he can put there anything he wants. Then without any validation, your app will run this intent using YOUR app permissions(e.g. accessing your app&#39;s private files or doing anything else your app was granted permission to.) Regarding your sample, someone can start other (non-exported) services that your app contains and send the action to be taken to them(what will happen next depends on the service&#39;s code)"},{"owner":{"account_id":27867437,"reputation":1,"user_id":21278687,"display_name":"anonmer"},"score":0,"creation_date":1682593697,"post_id":75636961,"comment_id":134242004,"body_markdown":"@bmaciejm Does it only happen with `getParcelableExtra` method or other methods such as `getStringExtra` etc?","body":"@bmaciejm Does it only happen with <code>getParcelableExtra</code> method or other methods such as <code>getStringExtra</code> etc?"},{"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"score":0,"creation_date":1682677895,"post_id":75636961,"comment_id":134256958,"body_markdown":"Depends on your implementation, if you are using the String obtained from e.g. `getStringExtra` as for example URL to load into webview, or a path to some data accessed by the content provider then yes. You need to consider all data that comes from outside of your application to any of your exported components as untrusted.","body":"Depends on your implementation, if you are using the String obtained from e.g. <code>getStringExtra</code> as for example URL to load into webview, or a path to some data accessed by the content provider then yes. You need to consider all data that comes from outside of your application to any of your exported components as untrusted."}],"owner":{"account_id":27867437,"reputation":1,"user_id":21278687,"display_name":"anonmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677982432,"creation_date":1677932329,"question_id":75636961,"body_markdown":"What are the security implications of an Android app that exports an activity and accepts a parcelable intent as an extra to start a service? Specifically, in the code sample provided below, how can this vulnerability be exploited to redirect intents and start arbitrary components?\r\n\r\n```protected void onResume() {\r\n    // ...\r\n    handleIntentExtras(getIntent()); \r\n}\r\n\r\nprivate void handleIntentExtras(Intent intent) {\r\n    // ...\r\n    Intent deeplinkIntent = (Intent) intent.getParcelableExtra(&quot;extra_deep_link_intent&quot;);\r\n    //  ...\r\n    if (!(deeplinkIntent == null || this.consumedDeeplinkIntent)) {\r\n        // ...\r\n        startService(deeplinkIntent); \r\n        // ...\r\n    }\r\n    // ...\r\n}\r\n```\r\n","title":"Intent Redirection If The Activity Is Exported","body":"<p>What are the security implications of an Android app that exports an activity and accepts a parcelable intent as an extra to start a service? Specifically, in the code sample provided below, how can this vulnerability be exploited to redirect intents and start arbitrary components?</p>\n<pre><code>    // ...\n    handleIntentExtras(getIntent()); \n}\n\nprivate void handleIntentExtras(Intent intent) {\n    // ...\n    Intent deeplinkIntent = (Intent) intent.getParcelableExtra(&quot;extra_deep_link_intent&quot;);\n    //  ...\n    if (!(deeplinkIntent == null || this.consumedDeeplinkIntent)) {\n        // ...\n        startService(deeplinkIntent); \n        // ...\n    }\n    // ...\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist","variable-assignment"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677921534,"post_id":75634604,"comment_id":133435708,"body_markdown":"You could just do `int[] Vars = new int[12];`. Or do you want the variable names also? In that case using a CSV reader can potentially save some typing.","body":"You could just do <code>int[] Vars = new int[12];</code>. Or do you want the variable names also? In that case using a CSV reader can potentially save some typing."},{"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"score":0,"creation_date":1677929260,"post_id":75634604,"comment_id":133436680,"body_markdown":"Yeah, I&#39;d like to keep the variable names for readability purposes.","body":"Yeah, I&#39;d like to keep the variable names for readability purposes."}],"answers":[{"comments":[{"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"score":0,"creation_date":1677980607,"post_id":75635036,"comment_id":133444369,"body_markdown":"Whoops, while writing out how I didn&#39;t understand what you meant, I started to understand what you meant. While that for statement is a bit odd and I think it has a typo, I get what you&#39;re saying. Instead of using a String as an index, using a int variable that&#39;s NAMED what I want it to be with a matching value to point to the right index, so I could use Scores[TrueTies], as an example, and it would be easy to understand at a quick glance. I think I&#39;ll go with this approach. Also, thank you for bringing up Maps, I think I&#39;ll be learning that next.","body":"Whoops, while writing out how I didn&#39;t understand what you meant, I started to understand what you meant. While that for statement is a bit odd and I think it has a typo, I get what you&#39;re saying. Instead of using a String as an index, using a int variable that&#39;s NAMED what I want it to be with a matching value to point to the right index, so I could use Scores[TrueTies], as an example, and it would be easy to understand at a quick glance. I think I&#39;ll go with this approach. Also, thank you for bringing up Maps, I think I&#39;ll be learning that next."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677981786,"post_id":75635036,"comment_id":133444489,"body_markdown":"Yea ... there was a typo.  Fixed it.","body":"Yea ... there was a typo.  Fixed it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677981918,"post_id":75635036,"comment_id":133444501,"body_markdown":"I also fixed some style errors ...","body":"I also fixed some style errors ..."},{"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"score":0,"creation_date":1677982050,"post_id":75635036,"comment_id":133444507,"body_markdown":"Also, I had no idea what a CSV was, I ended up on commas because whitespace separated made it confusing to read with my eyes and my preferred symbol | wasn&#39;t being split apart correctly by the string function, so thanks for bringing that up as well.","body":"Also, I had no idea what a CSV was, I ended up on commas because whitespace separated made it confusing to read with my eyes and my preferred symbol | wasn&#39;t being split apart correctly by the string function, so thanks for bringing that up as well."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677981758,"creation_date":1677925381,"answer_id":75635036,"question_id":75634604,"body_markdown":"Fleshing out @Sweeper&#39;s comment:\r\n\r\n    final int WINS = 0;\r\n    final int LOSSES = 1;\r\n    final int TIES = 2;\r\n    final int TRUE_TIES = 3;\r\n    final int P1_WINS = 4;\r\n    final int P1_LOSSES = 5;\r\n    final int P1_TIES = 6;\r\n    final int P1_TRUE_TIES = 7;\r\n    final int P2_WINS = 8;\r\n    final int P2_LOSSES = 9;\r\n    final int P2_TIES = 10;\r\n    final int P2_TRUE_TIES = 11;\r\n    \r\n    String[] grabbedLine = grabber.nextLine().split(&quot;,&quot;);\r\n    for (int i = WINS; i &lt;= P2_TRUE_TIES; i++) {\r\n        scores[i] = Integer.parseInt(grabbedLine[i]);\r\n    }\r\n\r\nOr you could use a `Map` with either `int` values (`WINS`, `LOSSES`, etc) as above) or `String` values (`&quot;wins&quot;`, `&quot;losses&quot;`, etc) as the keys.\r\n\r\nFinally, if the CSV&#39;s first row gives the column name (or even not), you could do something clever with reflection, assuming that the variables are actually object fields.\r\n\r\nBut there is no good way to put each score into a distinct (local) Java variable in the way you envisaged.  And you can&#39;t do C / C++ tricks like incrementing the addresses of variables.\r\n\r\n----------------------\r\n\r\nIf your criterion for efficiency is CPU time or Memory used, then your original approach cannot be improved on. AFAIK.","title":"Is there a more efficient way to quickly edit many variables with corresponding values from a table in Java?","body":"<p>Fleshing out @Sweeper's comment:</p>\n<pre><code>final int WINS = 0;\nfinal int LOSSES = 1;\nfinal int TIES = 2;\nfinal int TRUE_TIES = 3;\nfinal int P1_WINS = 4;\nfinal int P1_LOSSES = 5;\nfinal int P1_TIES = 6;\nfinal int P1_TRUE_TIES = 7;\nfinal int P2_WINS = 8;\nfinal int P2_LOSSES = 9;\nfinal int P2_TIES = 10;\nfinal int P2_TRUE_TIES = 11;\n\nString[] grabbedLine = grabber.nextLine().split(&quot;,&quot;);\nfor (int i = WINS; i &lt;= P2_TRUE_TIES; i++) {\n    scores[i] = Integer.parseInt(grabbedLine[i]);\n}\n</code></pre>\n<p>Or you could use a <code>Map</code> with either <code>int</code> values (<code>WINS</code>, <code>LOSSES</code>, etc) as above) or <code>String</code> values (<code>&quot;wins&quot;</code>, <code>&quot;losses&quot;</code>, etc) as the keys.</p>\n<p>Finally, if the CSV's first row gives the column name (or even not), you could do something clever with reflection, assuming that the variables are actually object fields.</p>\n<p>But there is no good way to put each score into a distinct (local) Java variable in the way you envisaged.  And you can't do C / C++ tricks like incrementing the addresses of variables.</p>\n<hr />\n<p>If your criterion for efficiency is CPU time or Memory used, then your original approach cannot be improved on. AFAIK.</p>\n"}],"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75635036,"answer_count":1,"score":0,"last_activity_date":1677981758,"creation_date":1677920208,"question_id":75634604,"body_markdown":"Here is my current code snippet, without posting all the other information, assume that everything works correctly. There is nothing wrong with the code. As an example, I am reading a text document with Grabber, a Scanner object, with one line of text that will look like this:\r\n`5,4,6,1,10,10,10,10,0,0,0,0,`\r\nThere will never be more or less than 12 numbers on this first line, so there will never be an issue with out of bounds. Also, all variables getting an integer value are int types.\r\n\r\n```\r\nString[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \r\nWins = Integer.parseInt(Grabbed_Line[0]);\r\nLosses = Integer.parseInt(Grabbed_Line[1]);\r\nTies = Integer.parseInt(Grabbed_Line[2]);\r\nTrueTies = Integer.parseInt(Grabbed_Line[3]);\r\nP1Wins = Integer.parseInt(Grabbed_Line[4]);\r\nP1Losses = Integer.parseInt(Grabbed_Line[5]);\r\nP1Ties = Integer.parseInt(Grabbed_Line[6]);\r\nP1TrueTies = Integer.parseInt(Grabbed_Line[7]);\r\nP2Wins = Integer.parseInt(Grabbed_Line[8]);\r\nP2Losses = Integer.parseInt(Grabbed_Line[9]);\r\nP2Ties = Integer.parseInt(Grabbed_Line[10]);\r\nP2TrueTies = Integer.parseInt(Grabbed_Line[11]);\r\n```\r\n\r\nIdeally, I&#39;d rather put all these variables into a table/array/arraylist and use a for statement to assign them, something like\r\n\r\n```\r\nString[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \r\nint[] Vars = {Wins,Losses,Ties,TrueTies,P1Wins,P1Losses,P1Ties,P1TrueTies,P2Wins,P2Losses,P2Ties,P2TrueTies};\r\nfor(int Counter = 0; Counter &lt; 12; Counter++)\r\n      Vars[Counter] = Integer.parseInt(Grabbed_Line[Counter]);\r\n```\r\n\r\nObviously, I know this wouldn&#39;t work (I mean it would but not in the way I want); I&#39;m just passing int values into a table, it&#39;s not going to actually affect the variables. In C++, I&#39;d use pointers and addresses to do something like this, but from what I&#39;ve read, Java doesn&#39;t do this. I guess it&#39;d be different if they were references and not primitives, buuuut I&#39;m not sure how to go about this because I&#39;m dumb.\r\n\r\nOne thing I would have liked to try would have been to reference the variables by strings, as dumb as that sounds. I know some languages, tables/arrays can have strings as indexes, so I&#39;d be able to do that. Now that I think about it, does ArrayList support that? No, it doesn&#39;t look like it does. I could cheat by making an array of 12 integers at the beginning, and any time I would have normally changed one of those variables, I could just change the appropriate spot in the array, but then it would have become confusing to remember which index corresponds to what I want to save, like\r\n\r\n```\r\nint[12] Multiple_Vars; // Initialized at the beginning\r\nfor(int Counter=0;Counter&lt;12;Counter++)\r\n     Multiple_Vars[Counter] = 0;\r\n...\r\n... // later on in the code somewhere\r\nif(Your_Attack&gt;Their_Defense)\r\n     Multiple_Vars[7]+=1; // Was it the 8th or 3rd index that keeps track of points?\r\n...\r\n...\r\n```\r\n\r\nAm I missing something obvious or am I just going to have to bite the bullet and edit all the variables like the way I described in the beginning? I guess I could technically save typing space by making a function to save time on typing Integer.parseInt() over and over, but other than that, I can&#39;t think of any way.","title":"Is there a more efficient way to quickly edit many variables with corresponding values from a table in Java?","body":"<p>Here is my current code snippet, without posting all the other information, assume that everything works correctly. There is nothing wrong with the code. As an example, I am reading a text document with Grabber, a Scanner object, with one line of text that will look like this:\n<code>5,4,6,1,10,10,10,10,0,0,0,0,</code>\nThere will never be more or less than 12 numbers on this first line, so there will never be an issue with out of bounds. Also, all variables getting an integer value are int types.</p>\n<pre><code>String[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \nWins = Integer.parseInt(Grabbed_Line[0]);\nLosses = Integer.parseInt(Grabbed_Line[1]);\nTies = Integer.parseInt(Grabbed_Line[2]);\nTrueTies = Integer.parseInt(Grabbed_Line[3]);\nP1Wins = Integer.parseInt(Grabbed_Line[4]);\nP1Losses = Integer.parseInt(Grabbed_Line[5]);\nP1Ties = Integer.parseInt(Grabbed_Line[6]);\nP1TrueTies = Integer.parseInt(Grabbed_Line[7]);\nP2Wins = Integer.parseInt(Grabbed_Line[8]);\nP2Losses = Integer.parseInt(Grabbed_Line[9]);\nP2Ties = Integer.parseInt(Grabbed_Line[10]);\nP2TrueTies = Integer.parseInt(Grabbed_Line[11]);\n</code></pre>\n<p>Ideally, I'd rather put all these variables into a table/array/arraylist and use a for statement to assign them, something like</p>\n<pre><code>String[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \nint[] Vars = {Wins,Losses,Ties,TrueTies,P1Wins,P1Losses,P1Ties,P1TrueTies,P2Wins,P2Losses,P2Ties,P2TrueTies};\nfor(int Counter = 0; Counter &lt; 12; Counter++)\n      Vars[Counter] = Integer.parseInt(Grabbed_Line[Counter]);\n</code></pre>\n<p>Obviously, I know this wouldn't work (I mean it would but not in the way I want); I'm just passing int values into a table, it's not going to actually affect the variables. In C++, I'd use pointers and addresses to do something like this, but from what I've read, Java doesn't do this. I guess it'd be different if they were references and not primitives, buuuut I'm not sure how to go about this because I'm dumb.</p>\n<p>One thing I would have liked to try would have been to reference the variables by strings, as dumb as that sounds. I know some languages, tables/arrays can have strings as indexes, so I'd be able to do that. Now that I think about it, does ArrayList support that? No, it doesn't look like it does. I could cheat by making an array of 12 integers at the beginning, and any time I would have normally changed one of those variables, I could just change the appropriate spot in the array, but then it would have become confusing to remember which index corresponds to what I want to save, like</p>\n<pre><code>int[12] Multiple_Vars; // Initialized at the beginning\nfor(int Counter=0;Counter&lt;12;Counter++)\n     Multiple_Vars[Counter] = 0;\n...\n... // later on in the code somewhere\nif(Your_Attack&gt;Their_Defense)\n     Multiple_Vars[7]+=1; // Was it the 8th or 3rd index that keeps track of points?\n...\n...\n</code></pre>\n<p>Am I missing something obvious or am I just going to have to bite the bullet and edit all the variables like the way I described in the beginning? I guess I could technically save typing space by making a function to save time on typing Integer.parseInt() over and over, but other than that, I can't think of any way.</p>\n"},{"tags":["java","base64","aes"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1490066617,"post_id":42917768,"comment_id":72934363,"body_markdown":"What is value of `encryptEmail`? Does it by any chance have a space in it?","body":"What is value of <code>encryptEmail</code>? Does it by any chance have a space in it?"},{"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"score":0,"creation_date":1490067604,"post_id":42917768,"comment_id":72934641,"body_markdown":"yes, the &quot;+&quot; appears in the encrypted code get converted to space from spring controller","body":"yes, the &quot;+&quot; appears in the encrypted code get converted to space from spring controller"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1490067903,"post_id":42917768,"comment_id":72934720,"body_markdown":"Because you forgot to URL Encode the Base64 string, so the `+` would have been `%2B`.","body":"Because you forgot to URL Encode the Base64 string, so the <code>+</code> would have been <code>%2B</code>."},{"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"score":0,"creation_date":1490068787,"post_id":42917768,"comment_id":72934967,"body_markdown":"any suggestion to resolve the issue/","body":"any suggestion to resolve the issue/"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1490071165,"post_id":42917768,"comment_id":72935666,"body_markdown":"Yes, **URL Encode the Base64 string** *(I already told you that you forgot to do that)* before sending it to the web server, aka Spring controller.","body":"Yes, <b>URL Encode the Base64 string</b> <i>(I already told you that you forgot to do that)</i> before sending it to the web server, aka Spring controller."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1490077839,"post_id":42917768,"comment_id":72937839,"body_markdown":"The other issue is that `decValue.toString()` should be `new String(decValue)`. But this can lead to wrong results, because you&#39;re not specifying the charset during encryption and decryption. It will use the platform default and it might be different during encryption and decryption.","body":"The other issue is that <code>decValue.toString()</code> should be <code>new String(decValue)</code>. But this can lead to wrong results, because you&#39;re not specifying the charset during encryption and decryption. It will use the platform default and it might be different during encryption and decryption."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1490077848,"post_id":42917768,"comment_id":72937842,"body_markdown":"**Never use [ECB mode](http://crypto.stackexchange.com/q/14487/13022)**. It&#39;s deterministic and therefore not semantically secure. You should at the very least use a randomized mode like [CBC](http://crypto.stackexchange.com/q/22260/13022) or [CTR](http://crypto.stackexchange.com/a/2378/13022). It is better to authenticate your ciphertexts so that attacks like a [padding oracle attack](http://crypto.stackexchange.com/q/18185/13022) are not possible. This can be done with authenticated modes like GCM or EAX, or with an [encrypt-then-MAC](http://crypto.stackexchange.com/q/202/13022) scheme.","body":"<b>Never use <a href=\"http://crypto.stackexchange.com/q/14487/13022\">ECB mode</a></b>. It&#39;s deterministic and therefore not semantically secure. You should at the very least use a randomized mode like <a href=\"http://crypto.stackexchange.com/q/22260/13022\">CBC</a> or <a href=\"http://crypto.stackexchange.com/a/2378/13022\">CTR</a>. It is better to authenticate your ciphertexts so that attacks like a <a href=\"http://crypto.stackexchange.com/q/18185/13022\">padding oracle attack</a> are not possible. This can be done with authenticated modes like GCM or EAX, or with an <a href=\"http://crypto.stackexchange.com/q/202/13022\">encrypt-then-MAC</a> scheme."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1677982175,"post_id":42917768,"comment_id":133444521,"body_markdown":"Does this answer your question? [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"}],"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16982,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1677984054,"answer_count":0,"score":5,"last_activity_date":1677981750,"creation_date":1490065978,"question_id":42917768,"body_markdown":"I am encryption and decryption using following code, while decryption I am getting a error while running. error message is &#39;Illegal base64 character 20&#39;\r\n\r\nEncryption code:\r\n    \r\n    String secretValue = &quot;sazhwsxplokmeroo&quot;;\r\n\tkeyValue = secretValue.getBytes();\r\n\tKey generatedKey = generateKey();\r\n\tCipher c = Cipher.getInstance(ALGO);\r\n\tc.init(Cipher.ENCRYPT_MODE, generatedKey);\r\n\tbyte[] encValue = c.doFinal(userEmail.getBytes());\r\n\tString encryptedValue = Base64.getEncoder().encodeToString(encValue);\r\n\r\nsecretKey:\r\n\r\n     private Key generateKey() {\r\n\t     Key secretKey = new SecretKeySpec(keyValue, ALGO);\r\n\t     return secretKey;\r\n\t}\r\n\r\nDecryption code:\r\n\r\n\r\n    String secretValue = &quot;sazhwsxplokmeroo&quot;;\r\n\tkeyValue = secretValue.getBytes();\r\n\tKey generatedKey = generateKey();\r\n\tCipher c = Cipher.getInstance(ALGO);\r\n\tc.init(Cipher.DECRYPT_MODE, generatedKey);\r\n\tbyte[] decodedValue = Base64.getDecoder().decode(encryptEmail.getBytes()); //error throws from this line as illegal base64 character 20\r\n\tbyte[] decValue = c.doFinal(decodedValue);\r\n\tString decryptedValue = decValue.toString();\r\n\r\nhow can I decrypt the encrypted value without error\r\n\r\n\r\nencrypted value = 3aW0qv4pN+y3Tj8raXDHtos95ChpLu2JzEnfW+KfgEE=\r\n\r\n\r\nthis value appears in the spring controller as = 3aW0qv4pN y3Tj8raXDHtos95ChpLu2JzEnfW KfgEE= \r\n\r\n\r\nit shows two spaces &quot;+&quot; get converted to &quot;(space)&quot;\r\n\r\nNow I have changed my secret key as &#39;sa278asabmnbmnbm&#39;\r\n\r\nI am getting encrypt value as 40SRNEe9PgaxEeprPyqlyeP08hBHq00Ow9WWBgP6ZTM=\r\n\r\nWhile  decrypt I am getting [B@75141845 as decrypted Value\r\n\r\nexpected : shamith@alraislabs.in \r\n","title":"console error &#39;Illegal base64 character 20&#39;","body":"<p>I am encryption and decryption using following code, while decryption I am getting a error while running. error message is 'Illegal base64 character 20'</p>\n\n<p>Encryption code:</p>\n\n<pre><code>String secretValue = \"sazhwsxplokmeroo\";\nkeyValue = secretValue.getBytes();\nKey generatedKey = generateKey();\nCipher c = Cipher.getInstance(ALGO);\nc.init(Cipher.ENCRYPT_MODE, generatedKey);\nbyte[] encValue = c.doFinal(userEmail.getBytes());\nString encryptedValue = Base64.getEncoder().encodeToString(encValue);\n</code></pre>\n\n<p>secretKey:</p>\n\n<pre><code> private Key generateKey() {\n     Key secretKey = new SecretKeySpec(keyValue, ALGO);\n     return secretKey;\n}\n</code></pre>\n\n<p>Decryption code:</p>\n\n<pre><code>String secretValue = \"sazhwsxplokmeroo\";\nkeyValue = secretValue.getBytes();\nKey generatedKey = generateKey();\nCipher c = Cipher.getInstance(ALGO);\nc.init(Cipher.DECRYPT_MODE, generatedKey);\nbyte[] decodedValue = Base64.getDecoder().decode(encryptEmail.getBytes()); //error throws from this line as illegal base64 character 20\nbyte[] decValue = c.doFinal(decodedValue);\nString decryptedValue = decValue.toString();\n</code></pre>\n\n<p>how can I decrypt the encrypted value without error</p>\n\n<p>encrypted value = 3aW0qv4pN+y3Tj8raXDHtos95ChpLu2JzEnfW+KfgEE=</p>\n\n<p>this value appears in the spring controller as = 3aW0qv4pN y3Tj8raXDHtos95ChpLu2JzEnfW KfgEE= </p>\n\n<p>it shows two spaces \"+\" get converted to \"(space)\"</p>\n\n<p>Now I have changed my secret key as 'sa278asabmnbmnbm'</p>\n\n<p>I am getting encrypt value as 40SRNEe9PgaxEeprPyqlyeP08hBHq00Ow9WWBgP6ZTM=</p>\n\n<p>While  decrypt I am getting [B@75141845 as decrypted Value</p>\n\n<p>expected : shamith@alraislabs.in </p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677981292,"creation_date":1677981292,"answer_id":75639795,"question_id":75639641,"body_markdown":"You seem to be overthinking this - you can just do a simple one-pass for-loop over the array, store the max value, and then return it at the end: \r\n\r\n    public int getLargest(int[] arr)\r\n    {\r\n      int max = Integer.MIN_VALUE;\r\n      for (int i = 0; i &lt; arr.length; i++)\r\n      {\r\n        max = arr[i] &gt; max ? arr[i] : max;\r\n      }\r\n      return max;\r\n    }\r\n\r\nIf I were doing this for an interview, I might also ask about edge cases like &quot;what if the array is empty&quot; or &quot;do we need to extend this to other comparable data types, like strings&quot;?  But for the scope of your question, something like this is fine.  \r\n\r\nSorting and PriorityQueues are both non-ideal for this simple of an algorithm because both of them will run in O(nlog(n)) time, and potentially O(n) space as well.  A simple loop will run in O(n) time and O(1) space, which is much better.  \r\n\r\nNow, if you wanted to find the K largest numbers, then sorting or a PQ will be very appropriate.  ","title":"Largest Number in Array via Priority Queue and Break Out of Program?","body":"<p>You seem to be overthinking this - you can just do a simple one-pass for-loop over the array, store the max value, and then return it at the end:</p>\n<pre><code>public int getLargest(int[] arr)\n{\n  int max = Integer.MIN_VALUE;\n  for (int i = 0; i &lt; arr.length; i++)\n  {\n    max = arr[i] &gt; max ? arr[i] : max;\n  }\n  return max;\n}\n</code></pre>\n<p>If I were doing this for an interview, I might also ask about edge cases like &quot;what if the array is empty&quot; or &quot;do we need to extend this to other comparable data types, like strings&quot;?  But for the scope of your question, something like this is fine.</p>\n<p>Sorting and PriorityQueues are both non-ideal for this simple of an algorithm because both of them will run in O(nlog(n)) time, and potentially O(n) space as well.  A simple loop will run in O(n) time and O(1) space, which is much better.</p>\n<p>Now, if you wanted to find the K largest numbers, then sorting or a PQ will be very appropriate.</p>\n"}],"owner":{"account_id":27937348,"reputation":1,"user_id":21334047,"display_name":"programmer0x06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677981292,"creation_date":1677978284,"question_id":75639641,"body_markdown":"The other day a recruiter asked me the following question:\r\n\r\n&gt; When asked to find the largest number in an array would you use sort or a for loop (keeping time efficiency of executing a priority on very large arrays). The program should end after finding the largest element, so nothing needs to be done with the array or elements after.\r\n\r\n\r\n\r\nAm new to these type of coding puzzles (e.g. asking about priority on very large arrays) so my initial pass is this:\r\n\r\n\r\n```java\r\npublic class Solution {\r\n    public static int getLargestNumber(int[] array) {\r\n        Arrays.sort(array);\r\n        return array[array.length-1];\r\n    }\r\n}\r\n```\r\n\r\nUnit test:\r\n\r\n```java\r\n@Test\r\npublic void largestNumber() {\r\n    int [] array = new int [] {17, 21, 3, 6, 9, 3, 15};\r\n    int largestNumber = Solution.getLargestNumber(array);\r\n    assertEquals(21, largestNumber);\r\n}\r\n```\r\n\r\nBased on this question, however, is this seeking something else like a priority queue and what does it mean to end as soon as the largest number is obtained?","title":"Largest Number in Array via Priority Queue and Break Out of Program?","body":"<p>The other day a recruiter asked me the following question:</p>\n<blockquote>\n<p>When asked to find the largest number in an array would you use sort or a for loop (keeping time efficiency of executing a priority on very large arrays). The program should end after finding the largest element, so nothing needs to be done with the array or elements after.</p>\n</blockquote>\n<p>Am new to these type of coding puzzles (e.g. asking about priority on very large arrays) so my initial pass is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static int getLargestNumber(int[] array) {\n        Arrays.sort(array);\n        return array[array.length-1];\n    }\n}\n</code></pre>\n<p>Unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void largestNumber() {\n    int [] array = new int [] {17, 21, 3, 6, 9, 3, 15};\n    int largestNumber = Solution.getLargestNumber(array);\n    assertEquals(21, largestNumber);\n}\n</code></pre>\n<p>Based on this question, however, is this seeking something else like a priority queue and what does it mean to end as soon as the largest number is obtained?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677981511,"post_id":75639763,"comment_id":133444463,"body_markdown":"Similar question: [How can I use the (OpenCV) files in the project files?](https://stackoverflow.com/q/61545861/295004)","body":"Similar question: <a href=\"https://stackoverflow.com/q/61545861/295004\">How can I use the (OpenCV) files in the project files?</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677980638,"creation_date":1677980638,"question_id":75639763,"body_markdown":"I need to call the OpenCV function `readNetFromDarknet` but I am getting the data from an Asset&#39;s `InputStream` as shown in the code below\r\n\r\nI am able to correctly parse the class names from the `coco.names` asset using `BufferedReader`, \r\nHowever, I cannot explicitly pass the &quot;yolov4-tiny.cfg&quot; and &quot;yolov4-tiny.weights&quot; `InputStream`s to the `readNetFromDarknet` function.\r\n\r\nHow can I appropriately call this function? \r\nIs there a path to these assets that I can use?\r\nOr do I need to first export the assets as files onto the android device from the input stream and then call the function?\r\n\r\n    public DNN(Context m_context){\r\n\r\n        AssetManager assetManager = m_context.getAssets();\r\n\r\n        try {\r\n            InputStream ims1 = assetManager.open(&quot;coco.names&quot;);\r\n            InputStream ims2 = assetManager.open(&quot;yolov4-tiny.cfg&quot;);\r\n            InputStream ims3 = assetManager.open(&quot;yolov4-tiny.weights&quot;);\r\n            classes = new BufferedReader(new InputStreamReader(ims1, StandardCharsets.UTF_8)).lines().collect(Collectors.toList());\r\n        }\r\n        catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        net = Dnn.readNetFromDarknet(&quot;yolov4-tiny.cfg&quot;, &quot;yolov4-tiny.weights&quot;);\r\n    }","title":"Using OpenCV ReadNet on Asset InputStream in Java on Android","body":"<p>I need to call the OpenCV function <code>readNetFromDarknet</code> but I am getting the data from an Asset's <code>InputStream</code> as shown in the code below</p>\n<p>I am able to correctly parse the class names from the <code>coco.names</code> asset using <code>BufferedReader</code>,\nHowever, I cannot explicitly pass the &quot;yolov4-tiny.cfg&quot; and &quot;yolov4-tiny.weights&quot; <code>InputStream</code>s to the <code>readNetFromDarknet</code> function.</p>\n<p>How can I appropriately call this function?\nIs there a path to these assets that I can use?\nOr do I need to first export the assets as files onto the android device from the input stream and then call the function?</p>\n<pre><code>public DNN(Context m_context){\n\n    AssetManager assetManager = m_context.getAssets();\n\n    try {\n        InputStream ims1 = assetManager.open(&quot;coco.names&quot;);\n        InputStream ims2 = assetManager.open(&quot;yolov4-tiny.cfg&quot;);\n        InputStream ims3 = assetManager.open(&quot;yolov4-tiny.weights&quot;);\n        classes = new BufferedReader(new InputStreamReader(ims1, StandardCharsets.UTF_8)).lines().collect(Collectors.toList());\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n    }\n\n    net = Dnn.readNetFromDarknet(&quot;yolov4-tiny.cfg&quot;, &quot;yolov4-tiny.weights&quot;);\n}\n</code></pre>\n"},{"tags":["java","logging","logback"],"answers":[{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1518165341,"post_id":14199642,"comment_id":84401749,"body_markdown":"See [AndreLDM&#39;s answer](https://stackoverflow.com/a/36707798/384674), this configuration logs `SizeAndTimeBasedFNATP is deprecated.` with `debug=true` option in `logback.xml`","body":"See <a href=\"https://stackoverflow.com/a/36707798/384674\">AndreLDM&#39;s answer</a>, this configuration logs <code>SizeAndTimeBasedFNATP is deprecated.</code> with <code>debug=true</code> option in <code>logback.xml</code>"},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1518173456,"post_id":14199642,"comment_id":84406666,"body_markdown":"According to my test `maxHistory` is not number of days, but number of files, so if you have more files per day, you will have less days...","body":"According to my test <code>maxHistory</code> is not number of days, but number of files, so if you have more files per day, you will have less days..."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1518439802,"post_id":14199642,"comment_id":84493590,"body_markdown":"Ok, I tested more and it seems like number of periods, which for `yyyy-MM-dd` is number of days, for `yyyy-MM-dd-HH` it is number of hours and works ok with several files in period.","body":"Ok, I tested more and it seems like number of periods, which for <code>yyyy-MM-dd</code> is number of days, for <code>yyyy-MM-dd-HH</code> it is number of hours and works ok with several files in period."}],"tags":[],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"comment_count":3,"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1452096113,"creation_date":1357574900,"answer_id":14199642,"question_id":2602415,"body_markdown":"Although this is an old question, I felt that a working answer is appropriate to help anyone who requires this kind of implementation. \r\n\r\nI use the following logback configuration to provide an HTML log, rolled over by date and filesize, as well as logging to console for debugging output. \r\n\r\nLogfiles are stored in a `logs` directory with a name of `logFile.html` while its active, and `logFile.2013-mm-dd.i.html` when it rolls over, where i is the number of 50MB log files. For instance `logFile.2013-01-07.0.html`.\r\n\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- encoders are assigned the type\r\n   \t\t\t ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n        &lt;encoder&gt;\r\n          &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{35}) - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;logs\\logFile.html&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;!-- daily rollover --&gt;\r\n          &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n              class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n              &lt;!-- or whenever the file size reaches 50MB --&gt;\r\n            &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n          &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n          &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n          &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n          &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\r\n          &lt;/layout&gt;\t\t\t\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt; \r\n      \r\n      &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\t\t\r\n      &lt;/root&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Rolling logback logs on filesize and time","body":"<p>Although this is an old question, I felt that a working answer is appropriate to help anyone who requires this kind of implementation. </p>\n\n<p>I use the following logback configuration to provide an HTML log, rolled over by date and filesize, as well as logging to console for debugging output. </p>\n\n<p>Logfiles are stored in a <code>logs</code> directory with a name of <code>logFile.html</code> while its active, and <code>logFile.2013-mm-dd.i.html</code> when it rolls over, where i is the number of 50MB log files. For instance <code>logFile.2013-01-07.0.html</code>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n  &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;!-- encoders are assigned the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{35}) - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;logs\\logFile.html&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n      &lt;!-- daily rollover --&gt;\n      &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n          class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n          &lt;!-- or whenever the file size reaches 50MB --&gt;\n        &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;!-- keep 30 days' worth of history --&gt;\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;layout class=\"ch.qos.logback.classic.html.HTMLLayout\"&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\n      &lt;/layout&gt;         \n    &lt;/encoder&gt;\n  &lt;/appender&gt; \n\n  &lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;     \n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1518173468,"post_id":36707798,"comment_id":84406674,"body_markdown":"According to my test `maxHistory` is not number of days, but number of files, so if you have more files per day, you will have less days...","body":"According to my test <code>maxHistory</code> is not number of days, but number of files, so if you have more files per day, you will have less days..."},{"owner":{"account_id":3739783,"reputation":2117,"user_id":3109776,"display_name":"AndreLDM"},"score":1,"creation_date":1518186411,"post_id":36707798,"comment_id":84414594,"body_markdown":"Unless it&#39;s a bug, the [documentation](https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy) is clear about `maxHistory` being the number of days (notice the xml comment).","body":"Unless it&#39;s a bug, the <a href=\"https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy\" rel=\"nofollow noreferrer\">documentation</a> is clear about <code>maxHistory</code> being the number of days (notice the xml comment)."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":1,"creation_date":1518187020,"post_id":36707798,"comment_id":84415006,"body_markdown":"Not really, [documentation](https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory) reads &quot;The optional maxHistory property controls the maximum number of archive files to keep...&quot;, their example of monthly rollover is a bit confusing and comment in XML is really wrong. I&#39;ll drop them an e-mail and I&#39;ll let you know.","body":"Not really, <a href=\"https://logback.qos.ch/manual/appenders.html#tbrpMaxHistory\" rel=\"nofollow noreferrer\">documentation</a> reads &quot;The optional maxHistory property controls the maximum number of archive files to keep...&quot;, their example of monthly rollover is a bit confusing and comment in XML is really wrong. I&#39;ll drop them an e-mail and I&#39;ll let you know."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":7,"creation_date":1518439794,"post_id":36707798,"comment_id":84493585,"body_markdown":"Ok, I tested more and it seems like number of periods, which for `yyyy-MM-dd` is number of days, for `yyyy-MM-dd-HH` it is number of hours and works ok with several files in period.","body":"Ok, I tested more and it seems like number of periods, which for <code>yyyy-MM-dd</code> is number of days, for <code>yyyy-MM-dd-HH</code> it is number of hours and works ok with several files in period."},{"owner":{"account_id":8177584,"reputation":107,"user_id":6155869,"display_name":"niedomnie"},"score":0,"creation_date":1696580406,"post_id":36707798,"comment_id":136174114,"body_markdown":"unfortunately for 1.2.12 is buggy - generates .tmp files instead of .gz and never clean up them","body":"unfortunately for 1.2.12 is buggy - generates .tmp files instead of .gz and never clean up them"}],"tags":[],"owner":{"account_id":3739783,"reputation":2117,"user_id":3109776,"display_name":"AndreLDM"},"comment_count":5,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1623687122,"creation_date":1461035152,"answer_id":36707798,"question_id":2602415,"body_markdown":"Since logback 1.1.7 (released March 2016) a new policy called `SizeAndTimeBasedRollingPolicy` is available that dramatically simplifies what you need to do:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;app.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;app-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;    \r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nSee [here][1] for further info.\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy","title":"Rolling logback logs on filesize and time","body":"<p>Since logback 1.1.7 (released March 2016) a new policy called <code>SizeAndTimeBasedRollingPolicy</code> is available that dramatically simplifies what you need to do:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;app.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;app-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;    \n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>See <a href=\"http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy\" rel=\"noreferrer\">here</a> for further info.</p>\n"}],"owner":{"account_id":44027,"reputation":88500,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120628,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":14199642,"answer_count":2,"score":65,"last_activity_date":1677980324,"creation_date":1270751015,"question_id":2602415,"body_markdown":"I&#39;ve been trying to set up a simple logback project to roll my log files by date and by filesize, and so far I have been unable to get my appender to roll over to another file. Instead, it writes to the log specified by the `&lt;file/&gt;` tag.\r\n\r\nHere is my `logback.xml` configuration file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n        &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;milliroller&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;log/output.log&lt;/file&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;log/mylog-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\r\n                &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                    &lt;maxFileSize&gt;1KB&lt;/maxFileSize&gt;\r\n                &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.tkassembled.logback&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAt first glance, it looks like it should work, right? Is there something I&#39;m doing wrong? My entire, buildable project is available in a zip here: http://www.mediafire.com/file/2bxokkdyz2i/logback.zip ","title":"Rolling logback logs on filesize and time","body":"<p>I've been trying to set up a simple logback project to roll my log files by date and by filesize, and so far I have been unable to get my appender to roll over to another file. Instead, it writes to the log specified by the <code>&lt;file/&gt;</code> tag.</p>\n<p>Here is my <code>logback.xml</code> configuration file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;milliroller&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;log/output.log&lt;/file&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;log/mylog-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;1KB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n        &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.tkassembled.logback&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>At first glance, it looks like it should work, right? Is there something I'm doing wrong? My entire, buildable project is available in a zip here: <a href=\"http://www.mediafire.com/file/2bxokkdyz2i/logback.zip\" rel=\"nofollow noreferrer\">http://www.mediafire.com/file/2bxokkdyz2i/logback.zip</a></p>\n"},{"tags":["java","logging","logback","rollingfileappender"],"answers":[{"comments":[{"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"score":0,"creation_date":1394095575,"post_id":22192200,"comment_id":33735831,"body_markdown":"That&#39;s informative.  Thank you for that.  Would there be a way/config to have it time-triggered not logging-event-triggered?","body":"That&#39;s informative.  Thank you for that.  Would there be a way/config to have it time-triggered not logging-event-triggered?"},{"owner":{"account_id":2521457,"reputation":3774,"user_id":2191746,"display_name":"sheltem"},"score":0,"creation_date":1394096417,"post_id":22192200,"comment_id":33736342,"body_markdown":"To my knowledge, there is no way to configure logback to create empty log files (that is what would happen). Rolling always happens on the next logging event after the cutoff time/size. A workaround might be possible with a scheduler sending a dummy log-event at the start of every minute to force creation of a new log file without a true log event, but I wouldn&#39;t like such behaviour in one of my applications. Why do you want empty log files any way? If there were no logging events for a few minutes I wouldn&#39;t expect log files for that time either.","body":"To my knowledge, there is no way to configure logback to create empty log files (that is what would happen). Rolling always happens on the next logging event after the cutoff time/size. A workaround might be possible with a scheduler sending a dummy log-event at the start of every minute to force creation of a new log file without a true log event, but I wouldn&#39;t like such behaviour in one of my applications. Why do you want empty log files any way? If there were no logging events for a few minutes I wouldn&#39;t expect log files for that time either."},{"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"score":0,"creation_date":1394096813,"post_id":22192200,"comment_id":33736584,"body_markdown":"No, I do not want empty log files, too.  The behavior that I&#39;m after is for log files for the day to be created exactly at midnight, not when a new log file arrived.","body":"No, I do not want empty log files, too.  The behavior that I&#39;m after is for log files for the day to be created exactly at midnight, not when a new log file arrived."},{"owner":{"account_id":2521457,"reputation":3774,"user_id":2191746,"display_name":"sheltem"},"score":0,"creation_date":1394098276,"post_id":22192200,"comment_id":33737551,"body_markdown":"In logback that is only possible by having an event arrive exactly at midnight. If it&#39;s vitally important, you could try the dummy-event approach.","body":"In logback that is only possible by having an event arrive exactly at midnight. If it&#39;s vitally important, you could try the dummy-event approach."}],"tags":[],"owner":{"account_id":2521457,"reputation":3774,"user_id":2191746,"display_name":"sheltem"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1394007732,"creation_date":1394007732,"answer_id":22192200,"question_id":22188936,"body_markdown":"Scroll down further in the section of the documentation you linked and you will find this:\r\n\r\n&gt; For various technical reasons, rollovers are not clock-driven but depend on the arrival of logging events. For example, on 8th of March 2002, assuming the fileNamePattern is set to yyyy-MM-dd (daily rollover), the arrival of the first event after midnight will trigger a rollover. If there are no logging events during, say 23 minutes and 47 seconds after midnight, then rollover will actually occur at 00:23&#39;47 AM on March 9th and not at 0:00 AM. Thus, depending on the arrival rate of events, rollovers might be triggered with some latency. However, regardless of the delay, the rollover algorithm is known to be correct, in the sense that all logging events generated during a certain period will be output in the correct file delimiting that period.\r\n\r\nShort version: It&#39;s not time-triggered, but logging-event-triggered. No logging events means no rollover. In a configuration set to rollover each minute that means there will be no files for any minute for which no logging-events arrive.","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>Scroll down further in the section of the documentation you linked and you will find this:</p>\n\n<blockquote>\n  <p>For various technical reasons, rollovers are not clock-driven but depend on the arrival of logging events. For example, on 8th of March 2002, assuming the fileNamePattern is set to yyyy-MM-dd (daily rollover), the arrival of the first event after midnight will trigger a rollover. If there are no logging events during, say 23 minutes and 47 seconds after midnight, then rollover will actually occur at 00:23'47 AM on March 9th and not at 0:00 AM. Thus, depending on the arrival rate of events, rollovers might be triggered with some latency. However, regardless of the delay, the rollover algorithm is known to be correct, in the sense that all logging events generated during a certain period will be output in the correct file delimiting that period.</p>\n</blockquote>\n\n<p>Short version: It's not time-triggered, but logging-event-triggered. No logging events means no rollover. In a configuration set to rollover each minute that means there will be no files for any minute for which no logging-events arrive.</p>\n"},{"tags":[],"owner":{"account_id":5850505,"reputation":51,"user_id":4609292,"display_name":"jake"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424960993,"creation_date":1424939309,"answer_id":28737591,"question_id":22188936,"body_markdown":"You don&#39;t need input &amp;lt;file&amp;gt; properties.\r\n\r\nIf you omit that, you can solve your problems\r\n\r\n\r\n&gt; Note that the file property in RollingFileAppender (the parent of\r\n&gt; TimeBasedRollingPolicy) can be either set or omitted. By setting the\r\n&gt; file property of the containing FileAppender, you can decouple the\r\n&gt; location of the active log file and the location of the archived log\r\n&gt; files. The current logs will be always targeted at the file specified\r\n&gt; by the file property. It follows that the name of the currently active\r\n&gt; log file will not change over time. However, if you choose to omit the\r\n&gt; file property, then the active file will be computed anew for each\r\n&gt; period based on the value of fileNamePattern. The examples below\r\n&gt; should clarify this point.","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>You don't need input &lt;file&gt; properties.</p>\n\n<p>If you omit that, you can solve your problems</p>\n\n<blockquote>\n  <p>Note that the file property in RollingFileAppender (the parent of\n  TimeBasedRollingPolicy) can be either set or omitted. By setting the\n  file property of the containing FileAppender, you can decouple the\n  location of the active log file and the location of the archived log\n  files. The current logs will be always targeted at the file specified\n  by the file property. It follows that the name of the currently active\n  log file will not change over time. However, if you choose to omit the\n  file property, then the active file will be computed anew for each\n  period based on the value of fileNamePattern. The examples below\n  should clarify this point.</p>\n</blockquote>\n"}],"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17357,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":22192200,"answer_count":2,"score":16,"last_activity_date":1677980005,"creation_date":1393995492,"question_id":22188936,"body_markdown":"Here&#39;s my config:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;appender name=&quot;myAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;file&gt;mylogs.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- daily rollover --&gt;\r\n            &lt;fileNamePattern&gt;mylogs-%d{yyyy-MM-dd_HH-mm}.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} [%thread] - %M:%L - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\nAccording to the logback&#39;s document found here [TimeBasedRollingPolicy](http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy) , file will be rollover every minute based on my `%d{yyyy-MM-dd_HH-mm}` fileNamePattern.  \r\n\r\nI observed how this works and here are my findings:  \r\n\r\n - It doesn&#39;t create a log file very minute.\r\n - It only create a log file for the previous minute when the a new log arrives.  (e.g. I have a log on 11:53pm, and it&#39;s now 11:55pm, it doesn&#39;t create a new log file immediately for the 11:53pm when it hits 11:54pm, but when a new log came later, say at 11:56pm, it now creates the file for 11:53pm.)\r\n\r\nAm I missing something, I thought it will create a log file every minute?\r\n","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>Here's my config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;myAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;file&gt;mylogs.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;mylogs-%d{yyyy-MM-dd_HH-mm}.log&lt;/fileNamePattern&gt;\n\n        &lt;!-- keep 30 days' worth of history --&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} [%thread] - %M:%L - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>According to the logback's document found here <a href=\"http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy\" rel=\"nofollow noreferrer\">TimeBasedRollingPolicy</a> , file will be rollover every minute based on my <code>%d{yyyy-MM-dd_HH-mm}</code> fileNamePattern.</p>\n<p>I observed how this works and here are my findings:</p>\n<ul>\n<li>It doesn't create a log file very minute.</li>\n<li>It only create a log file for the previous minute when the a new log arrives.  (e.g. I have a log on 11:53pm, and it's now 11:55pm, it doesn't create a new log file immediately for the 11:53pm when it hits 11:54pm, but when a new log came later, say at 11:56pm, it now creates the file for 11:53pm.)</li>\n</ul>\n<p>Am I missing something, I thought it will create a log file every minute?</p>\n"},{"tags":["java","image","png","jpeg"],"comments":[{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":1,"creation_date":1514530863,"post_id":48009317,"comment_id":83006453,"body_markdown":"Are you sure this isn&#39;t just because of jpeg compression? Try saving it as a `.png` and see that.","body":"Are you sure this isn&#39;t just because of jpeg compression? Try saving it as a <code>.png</code> and see that."},{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":1,"creation_date":1514531398,"post_id":48009317,"comment_id":83006656,"body_markdown":"This is almost certainly due to compression. [What is the least JPG-compressible pattern?](https://dsp.stackexchange.com/questions/2010/what-is-the-least-jpg-compressible-pattern-camera-shooting-piece-of-cloth-sca). JPEG doesn&#39;t seem to like tiny details.","body":"This is almost certainly due to compression. <a href=\"https://dsp.stackexchange.com/questions/2010/what-is-the-least-jpg-compressible-pattern-camera-shooting-piece-of-cloth-sca\">What is the least JPG-compressible pattern?</a>. JPEG doesn&#39;t seem to like tiny details."},{"owner":{"account_id":11633608,"reputation":592,"user_id":8520798,"display_name":"Dhyey Shah"},"score":0,"creation_date":1514532118,"post_id":48009317,"comment_id":83006920,"body_markdown":"Yeah, I saved it as png and it worked ! Thanks guys","body":"Yeah, I saved it as png and it worked ! Thanks guys"}],"answers":[{"comments":[{"owner":{"account_id":11633608,"reputation":592,"user_id":8520798,"display_name":"Dhyey Shah"},"score":0,"creation_date":1514473860,"post_id":48009421,"comment_id":82988017,"body_markdown":"Can you tell me about how to find threshold? what shall i do after finding rgb value of each pixel of image?","body":"Can you tell me about how to find threshold? what shall i do after finding rgb value of each pixel of image?"},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1514474068,"post_id":48009421,"comment_id":82988113,"body_markdown":"@DHS The threshold is any value that captures all of the white tiles, I would start with something like 240. After you find the RGB values all you have to do is change it&#39;s color to be pure white or `0xFFFFFF`.","body":"@DHS The threshold is any value that captures all of the white tiles, I would start with something like 240. After you find the RGB values all you have to do is change it&#39;s color to be pure white or <code>0xFFFFFF</code>."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635487374,"post_id":48009421,"comment_id":123316392,"body_markdown":"What is the pixel class?","body":"What is the pixel class?"},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1635513423,"post_id":48009421,"comment_id":123325586,"body_markdown":"@JFan I believe I was using it as a more expressive pseudo-class than the arbitrary integers Image normally returns. In practice it would be a terrible idea to use classes, but it makes it easier to explain what is going on sometimes.","body":"@JFan I believe I was using it as a more expressive pseudo-class than the arbitrary integers Image normally returns. In practice it would be a terrible idea to use classes, but it makes it easier to explain what is going on sometimes."}],"tags":[],"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1514472589,"creation_date":1514471962,"answer_id":48009421,"question_id":48009317,"body_markdown":"You can go through each pixel in the image and determine if it is above a certain threshold, if it is set its value to pure white. You can also do the same for the darker areas if needed.\r\n\r\nExample:\r\n\r\n    public Image thresholdWhite(Image in, int threshold)\r\n    {\r\n        Pixel[][] pixels = in.getPixels();\r\n        for(int i = 0; i &lt; pixels.length; ++i)\r\n        {\r\n            for(int j = 0; j &lt; pixels[i].length; ++j)\r\n            {\r\n                byte red = pixels[i][j].getRed();\r\n                byte green = pixels[i][j].getGreen();\r\n                byte blue = pixels[i][j].getBlue();\r\n                /* In case it isn&#39;t a grayscale image, if it is grayscale this if can be removed (the block is still needed though) */\r\n                if(Math.abs(red - green) &gt;= 16 &amp;&amp; Math.abs(red - blue) &gt;= 16 &amp;&amp; Math.abs(blue- green) &gt;= 16)\r\n                {\r\n                    if(red &gt;= threshold || blue &gt;= threshold || green &gt;= threshold)\r\n                    {\r\n                        pixels[i][j] = new Pixel(Colors.WHITE);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return new Image(pixels);\r\n    }","title":"How to threshold any image (for black and white color seperation) in java?","body":"<p>You can go through each pixel in the image and determine if it is above a certain threshold, if it is set its value to pure white. You can also do the same for the darker areas if needed.</p>\n\n<p>Example:</p>\n\n<pre><code>public Image thresholdWhite(Image in, int threshold)\n{\n    Pixel[][] pixels = in.getPixels();\n    for(int i = 0; i &lt; pixels.length; ++i)\n    {\n        for(int j = 0; j &lt; pixels[i].length; ++j)\n        {\n            byte red = pixels[i][j].getRed();\n            byte green = pixels[i][j].getGreen();\n            byte blue = pixels[i][j].getBlue();\n            /* In case it isn't a grayscale image, if it is grayscale this if can be removed (the block is still needed though) */\n            if(Math.abs(red - green) &gt;= 16 &amp;&amp; Math.abs(red - blue) &gt;= 16 &amp;&amp; Math.abs(blue- green) &gt;= 16)\n            {\n                if(red &gt;= threshold || blue &gt;= threshold || green &gt;= threshold)\n                {\n                    pixels[i][j] = new Pixel(Colors.WHITE);\n                }\n            }\n        }\n    }\n    return new Image(pixels);\n}\n</code></pre>\n"}],"owner":{"account_id":11633608,"reputation":592,"user_id":8520798,"display_name":"Dhyey Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48009421,"answer_count":1,"score":1,"last_activity_date":1677979997,"creation_date":1514471504,"question_id":48009317,"body_markdown":"**SOLVED** : Issue was &quot;jpeg compression&quot;. Saving as &quot;.png&quot; worked.\r\n\r\nI had detected edges of an image using a canny filter program in java.\r\nAfter applying filter ... \r\n\r\n[This is my image][1]\r\nIf zoomed in ... \r\n[Zoomed][2]\r\n\r\nAll have different shades of black and white.&lt;br/&gt;\r\nI want all my edge pixels as pure white(#FFFFFF) and the remaining portion black.\r\n\r\nNote: Different pixels may have different shades apart from the one above(#F7F7F7). The zoomed image above is just an example.  \r\n \r\nEdit:\r\nI had written this code to take effect on image ...\r\n\r\n    public void convert(){\r\n\t\ttry{\r\n\t\t\tBufferedImage img = ImageIO.read(new File(&quot;input.jpg&quot;));\r\n\t\t\tint rgb;\r\n            int height = img.getHeight();\r\n\t\t\tint width = img.getWidth();\r\n\t\t\tFile f = new File(&quot;newThreshold.jpg&quot;);\r\n\t\t\tColor white = new Color(255,255,255);\r\n\t\t\tint wh = white.getRGB();\r\n\t\t\t\r\n\t\t\tfor (int h = 0; h&lt;height; h++){\r\n\t\t\t\tfor (int w = 0; w&lt;width; w++){\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\trgb = img.getRGB(w, h);\r\n\t\t\t\t\tred = (rgb &amp; 0x00ff0000) &gt;&gt; 16;\r\n\t\t\t\t\tgreen = (rgb &amp; 0x0000ff00) &gt;&gt; 8;\r\n\t\t\t\t\tblue  =  rgb &amp; 0x000000ff;\r\n\t\t\t\t\tif(red &gt;= 200 || blue &gt;= 200 || green &gt;= 200){\r\n\t\t\t\t         img.setRGB(w,h,wh);\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tImageIO.write(img,&quot;jpg&quot;,f);\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t}\r\n    }\r\n\r\nEven after running the code, there is no change in my image.&lt;br/&gt;\r\nEven if the red, green and blue values are above 200, my image is not changing.\r\n  [1]: https://i.stack.imgur.com/zY9Rr.jpg\r\n  [2]: https://i.stack.imgur.com/98g7v.jpg\r\n&lt;br/&gt;\r\n\r\n**UPDATE**: Saving the image as &quot;.png&quot; rather than &quot;.jpg&quot; worked! &lt;br/&gt;\r\n","title":"How to threshold any image (for black and white color seperation) in java?","body":"<p><strong>SOLVED</strong> : Issue was \"jpeg compression\". Saving as \".png\" worked.</p>\n\n<p>I had detected edges of an image using a canny filter program in java.\nAfter applying filter ... </p>\n\n<p><a href=\"https://i.stack.imgur.com/zY9Rr.jpg\" rel=\"nofollow noreferrer\">This is my image</a>\nIf zoomed in ... \n<a href=\"https://i.stack.imgur.com/98g7v.jpg\" rel=\"nofollow noreferrer\">Zoomed</a></p>\n\n<p>All have different shades of black and white.<br/>\nI want all my edge pixels as pure white(#FFFFFF) and the remaining portion black.</p>\n\n<p>Note: Different pixels may have different shades apart from the one above(#F7F7F7). The zoomed image above is just an example.  </p>\n\n<p>Edit:\nI had written this code to take effect on image ...</p>\n\n<pre><code>public void convert(){\n    try{\n        BufferedImage img = ImageIO.read(new File(\"input.jpg\"));\n        int rgb;\n        int height = img.getHeight();\n        int width = img.getWidth();\n        File f = new File(\"newThreshold.jpg\");\n        Color white = new Color(255,255,255);\n        int wh = white.getRGB();\n\n        for (int h = 0; h&lt;height; h++){\n            for (int w = 0; w&lt;width; w++){  \n\n                rgb = img.getRGB(w, h);\n                red = (rgb &amp; 0x00ff0000) &gt;&gt; 16;\n                green = (rgb &amp; 0x0000ff00) &gt;&gt; 8;\n                blue  =  rgb &amp; 0x000000ff;\n                if(red &gt;= 200 || blue &gt;= 200 || green &gt;= 200){\n                     img.setRGB(w,h,wh);\n                }\n            }\n        }\n\n        ImageIO.write(img,\"jpg\",f);\n    }\n    catch(Exception e){\n    }\n}\n</code></pre>\n\n<p>Even after running the code, there is no change in my image.<br/>\nEven if the red, green and blue values are above 200, my image is not changing.\n<br/></p>\n\n<p><strong>UPDATE</strong>: Saving the image as \".png\" rather than \".jpg\" worked! <br/></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677970777,"post_id":75639087,"comment_id":133443432,"body_markdown":"Maybe helpful: [Android How to read an asset from outside of main activity](https://stackoverflow.com/q/4126387/295004) ,[What is the difference between Activity and Context?](https://stackoverflow.com/q/6518206/295004) Generally avoid calling any Android APIs outside of a Application/Activity/Service class or method without taking into consideration the lifecycle.","body":"Maybe helpful: <a href=\"https://stackoverflow.com/q/4126387/295004\">Android How to read an asset from outside of main activity</a> ,<a href=\"https://stackoverflow.com/q/6518206/295004\">What is the difference between Activity and Context?</a> Generally avoid calling any Android APIs outside of a Application/Activity/Service class or method without taking into consideration the lifecycle."}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677979464,"creation_date":1677969196,"question_id":75639087,"body_markdown":"Every answer on this question is incomplete, and I get a lot of errors when trying to use the code. \r\n\r\nExample: https://stackoverflow.com/questions/9544737/read-file-from-assets\r\n\r\n    AssetManager am = MainActivity.getAssets();\r\n    InputStream is = am.open(&quot;book.txt&quot;);\r\n\r\n\r\nI get errors:\r\n\r\n1. Non-static method &#39;getAssets()&#39; cannot be referenced from a static context\r\n2. Cannot resolve Symbol &quot;AssetManager&quot;, which Import do I need for this?\r\n3. context.getAssets(); context is undefined, what context do I need? MainActivity?\r\nwhat function do I use to get the Context of MainActivity? What imports do I need to make this work?\r\n3. Do I need to add something to Gradle files? And what?","title":"How to get Context and Read from Assets folder in Android","body":"<p>Every answer on this question is incomplete, and I get a lot of errors when trying to use the code.</p>\n<p>Example: <a href=\"https://stackoverflow.com/questions/9544737/read-file-from-assets\">read file from assets</a></p>\n<pre><code>AssetManager am = MainActivity.getAssets();\nInputStream is = am.open(&quot;book.txt&quot;);\n</code></pre>\n<p>I get errors:</p>\n<ol>\n<li>Non-static method 'getAssets()' cannot be referenced from a static context</li>\n<li>Cannot resolve Symbol &quot;AssetManager&quot;, which Import do I need for this?</li>\n<li>context.getAssets(); context is undefined, what context do I need? MainActivity?\nwhat function do I use to get the Context of MainActivity? What imports do I need to make this work?</li>\n<li>Do I need to add something to Gradle files? And what?</li>\n</ol>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677951501,"post_id":75636975,"comment_id":133440203,"body_markdown":"Can you edit your question to show a representative snippet of the data under `posts` in your database (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"Can you edit your question to show a representative snippet of the data under <code>posts</code> in your database (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1677974670,"post_id":75636975,"comment_id":133443818,"body_markdown":"https://hello-writer-2db52-default-rtdb.firebaseio.com/.json  this is my database json url. Can you please check?","body":"<a href=\"https://hello-writer-2db52-default-rtdb.firebaseio.com/.json\" rel=\"nofollow noreferrer\">hello-writer-2db52-default-rtdb.firebaseio.com/.json</a>  this is my database json url. Can you please check?"}],"answers":[{"comments":[{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1677980888,"post_id":75639634,"comment_id":133444409,"body_markdown":"If i do that it show : No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter     why is this value 10843. it is the name of child.","body":"If i do that it show : No setter/field for 10843 found on class com.hello.writer.postAdapter.PostGeter     why is this value 10843. it is the name of child."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1677983347,"post_id":75639634,"comment_id":133444629,"body_markdown":"Yeah, so that sounds like you&#39;re calling `getValue(PostGeter.class)` one level too high - which doesn&#39;t seem too likely. I&#39;m scanning for typos in the code in my answer, but don&#39;t see any at first gance.  I recommend setting breakpoints on each line of the code I shared, stepping through it in a debugger, and checking the key and valuye to see if they match with what you expect and the code requires.","body":"Yeah, so that sounds like you&#39;re calling <code>getValue(PostGeter.class)</code> one level too high - which doesn&#39;t seem too likely. I&#39;m scanning for typos in the code in my answer, but don&#39;t see any at first gance.  I recommend setting breakpoints on each line of the code I shared, stepping through it in a debugger, and checking the key and valuye to see if they match with what you expect and the code requires."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677977948,"creation_date":1677977948,"answer_id":75639634,"question_id":75636975,"body_markdown":"I **strongly** recommend giving your variables meaningful names going forward, as doing so makes the problem much easier to spot.\r\n\r\nIf we do that with your code, we get:\r\n```\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\r\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // &#128072; key=userId \r\n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // &#128072; key=10843\r\n                for (DataSnapshot bodyTitleSnapshot : postSnapshot.getChildren()){ // &#128072; key=body, and then title\r\n                    System.out.println(dataSnapshot);\r\n                    //PostGeter msg = bodyTitleSnapshot.getValue(PostGeter.class);\r\n                    //list.add( msg);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; never ignore errors\r\n    }\r\n});\r\n```\r\n\r\nIf you look at the third nested loop you have, that is iterating over the children of `10843, so the `bodyTitleSnapshot points to `body` in its first iteration and `title` in its second. Since neither of this is a valid, complete `PostGeter` object, you get an error.\r\n\r\nYou actually only need two loops: one for the userId level in your JSON, and another one for the post ID (10843 in the JSON). So:\r\n\r\n```\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\r\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // userId \r\n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // e.g. 10843\r\n                PostGeter msg = postSnapshot.getValue(PostGeter.class);\r\n                list.add( msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; never ignore errors\r\n    }\r\n});\r\n```\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter in Android Java","body":"<p>I <strong>strongly</strong> recommend giving your variables meaningful names going forward, as doing so makes the problem much easier to spot.</p>\n<p>If we do that with your code, we get:</p>\n<pre><code>reference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // 👈 key=userId \n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // 👈 key=10843\n                for (DataSnapshot bodyTitleSnapshot : postSnapshot.getChildren()){ // 👈 key=body, and then title\n                    System.out.println(dataSnapshot);\n                    //PostGeter msg = bodyTitleSnapshot.getValue(PostGeter.class);\n                    //list.add( msg);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 never ignore errors\n    }\n});\n</code></pre>\n<p>If you look at the third nested loop you have, that is iterating over the children of <code>10843, so the </code>bodyTitleSnapshot points to <code>body</code> in its first iteration and <code>title</code> in its second. Since neither of this is a valid, complete <code>PostGeter</code> object, you get an error.</p>\n<p>You actually only need two loops: one for the userId level in your JSON, and another one for the post ID (10843 in the JSON). So:</p>\n<pre><code>reference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // userId \n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // e.g. 10843\n                PostGeter msg = postSnapshot.getValue(PostGeter.class);\n                list.add( msg);\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 never ignore errors\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639634,"answer_count":1,"score":0,"last_activity_date":1677977948,"creation_date":1677946867,"question_id":75636975,"body_markdown":"I am trying to get Data from firebase realtime database. \r\n```lang-json\r\n{\r\n  &quot;posts&quot; : {\r\n    &quot;userId&quot; : {\r\n      &quot;10843&quot; : {\r\n        &quot;body&quot; : &quot;fasiaufsuie&quot;,\r\n        &quot;title&quot; : &quot;ddddj&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt show this error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.hello.writer, PID: 21625\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.hello.writer.ui.home.HomeFragment$1.onDataChange(HomeFragment.java:61)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:254)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8243)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\n\r\n```\r\nMy Home Fragmet code is:\r\n\r\n\r\n```\r\nRecyclerView recyclerView = binding.postView;\r\n\r\nrecyclerView.setHasFixedSize(true);\r\nLinearLayoutManager manager = new LinearLayoutManager(getContext());\r\nrecyclerView.setLayoutManager(manager);\r\nArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\r\npostAdapter customAdapter = new postAdapter(getContext(), list);\r\nrecyclerView.setAdapter(customAdapter);\r\n\r\ndatabase = FirebaseDatabase.getInstance();\r\n\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        for (DataSnapshot ds : snapshot.getChildren()){\r\n            for (DataSnapshot data : ds.getChildren()){\r\n                for (DataSnapshot dataSnapshot : data.getChildren()){\r\n\r\n                    PostGeter msg = dataSnapshot.getValue(PostGeter.class);\r\n                    list.add( msg);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nModelView class for firebase Data manage:\r\n\r\n```\r\npublic class PostGeter {\r\n    private String title;\r\n    private String body;\r\n    private String date;\r\n    private String userId;\r\n    private String status;\r\n    private String id;\r\n    private String image;\r\n    private String reaction;\r\n\r\n    public PostGeter() {}\r\n    public PostGeter(String title, String body, String date, String userId, String status, String id, String image, String reaction) {\r\n        this.title = title;\r\n        this.body = body;\r\n        this.date = date;\r\n        this.userId = userId;\r\n        this.status = status;\r\n        this.id = id;\r\n        this.image = image;\r\n        this.reaction = reaction;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getReaction() {\r\n        return reaction;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public void setReaction(String reaction) {\r\n        this.reaction = reaction;\r\n    }\r\n}\r\n\r\n```\r\n\r\nadapter class:\r\n\r\n\r\n```\r\npublic class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;PostGeter&gt; list;\r\n\r\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\r\n        PostGeter geter = list.get(position);\r\n        holder.title.setText(geter.getTitle());\r\n        holder.content.setText(geter.getBody());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView img; TextView title,content;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            img = itemView.findViewById(R.id.postImageView);\r\n            title = itemView.findViewById(R.id.post_view_title);\r\n            content = itemView.findViewById(R.id.post_view_content);\r\n        }\r\n    }\r\n}\r\n```\r\nmy data stracture like: \r\n\r\npost &gt; user &gt; postid &gt; data here\r\n\r\n\r\n\r\nIf i don&#39;t use modelView class it work file show all data.\r\ni user this code for see it show these\r\n\r\n\r\n```\r\nRecyclerView recyclerView = binding.postView;\r\n        recyclerView.setHasFixedSize(true);\r\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(manager);\r\n        ArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\r\n        postAdapter customAdapter = new postAdapter(getContext(), list);\r\n        recyclerView.setAdapter(customAdapter);\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n        reference = database.getReference().child(&quot;posts&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()){\r\n                    for (DataSnapshot data : ds.getChildren()){\r\n                        for (DataSnapshot dataSnapshot : data.getChildren()){\r\n                            System.out.println(dataSnapshot);\r\n                            //PostGeter msg = dataSnapshot.getValue(PostGeter.class);\r\n                            //list.add( msg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nthis show these type of log:\r\n\r\n\r\n\r\n```\r\nI/System.out: DataSnapshot { key = body, value = fasiaufsuie }\r\nI/System.out: DataSnapshot { key = title, value = ddddj }\r\n```\r\n\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter in Android Java","body":"<p>I am trying to get Data from firebase realtime database.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;posts&quot; : {\n    &quot;userId&quot; : {\n      &quot;10843&quot; : {\n        &quot;body&quot; : &quot;fasiaufsuie&quot;,\n        &quot;title&quot; : &quot;ddddj&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>It show this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.hello.writer, PID: 21625\n    com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.hello.writer.ui.home.HomeFragment$1.onDataChange(HomeFragment.java:61)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:254)\n        at android.app.ActivityThread.main(ActivityThread.java:8243)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\n\n</code></pre>\n<p>My Home Fragmet code is:</p>\n<pre><code>RecyclerView recyclerView = binding.postView;\n\nrecyclerView.setHasFixedSize(true);\nLinearLayoutManager manager = new LinearLayoutManager(getContext());\nrecyclerView.setLayoutManager(manager);\nArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\npostAdapter customAdapter = new postAdapter(getContext(), list);\nrecyclerView.setAdapter(customAdapter);\n\ndatabase = FirebaseDatabase.getInstance();\n\nreference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot ds : snapshot.getChildren()){\n            for (DataSnapshot data : ds.getChildren()){\n                for (DataSnapshot dataSnapshot : data.getChildren()){\n\n                    PostGeter msg = dataSnapshot.getValue(PostGeter.class);\n                    list.add( msg);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>ModelView class for firebase Data manage:</p>\n<pre><code>public class PostGeter {\n    private String title;\n    private String body;\n    private String date;\n    private String userId;\n    private String status;\n    private String id;\n    private String image;\n    private String reaction;\n\n    public PostGeter() {}\n    public PostGeter(String title, String body, String date, String userId, String status, String id, String image, String reaction) {\n        this.title = title;\n        this.body = body;\n        this.date = date;\n        this.userId = userId;\n        this.status = status;\n        this.id = id;\n        this.image = image;\n        this.reaction = reaction;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getReaction() {\n        return reaction;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public void setReaction(String reaction) {\n        this.reaction = reaction;\n    }\n}\n\n</code></pre>\n<p>adapter class:</p>\n<pre><code>public class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\n    Context context;\n    ArrayList&lt;PostGeter&gt; list;\n\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\n        PostGeter geter = list.get(position);\n        holder.title.setText(geter.getTitle());\n        holder.content.setText(geter.getBody());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView img; TextView title,content;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img = itemView.findViewById(R.id.postImageView);\n            title = itemView.findViewById(R.id.post_view_title);\n            content = itemView.findViewById(R.id.post_view_content);\n        }\n    }\n}\n</code></pre>\n<p>my data stracture like:</p>\n<p>post &gt; user &gt; postid &gt; data here</p>\n<p>If i don't use modelView class it work file show all data.\ni user this code for see it show these</p>\n<pre><code>RecyclerView recyclerView = binding.postView;\n        recyclerView.setHasFixedSize(true);\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(manager);\n        ArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\n        postAdapter customAdapter = new postAdapter(getContext(), list);\n        recyclerView.setAdapter(customAdapter);\n\n        database = FirebaseDatabase.getInstance();\n\n        reference = database.getReference().child(&quot;posts&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot ds : snapshot.getChildren()){\n                    for (DataSnapshot data : ds.getChildren()){\n                        for (DataSnapshot dataSnapshot : data.getChildren()){\n                            System.out.println(dataSnapshot);\n                            //PostGeter msg = dataSnapshot.getValue(PostGeter.class);\n                            //list.add( msg);\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>this show these type of log:</p>\n<pre><code>I/System.out: DataSnapshot { key = body, value = fasiaufsuie }\nI/System.out: DataSnapshot { key = title, value = ddddj }\n</code></pre>\n"},{"tags":["java","spring-mvc","jpa"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1677980541,"post_id":75639499,"comment_id":133444358,"body_markdown":"It is unlikely that your MySQL server is listening on port 80. Try the default MySQL port instead (3306): `spring.datasource.url=jdbc:mysql://localhost:3306/pgi_db`. Let us know if that changes the error message. This change may be necessary - but not sufficient.","body":"It is unlikely that your MySQL server is listening on port 80. Try the default MySQL port instead (3306): <code>spring.datasource.url=jdbc:mysql:&#47;&#47;localhost:3306&#47;pgi_db</code>. Let us know if that changes the error message. This change may be necessary - but not sufficient."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1677980599,"post_id":75639499,"comment_id":133444367,"body_markdown":"(Also I recommend not showing us any of your passwords in your questions. Change any passwords that you do show us - even for personal databases.)","body":"(Also I recommend not showing us any of your passwords in your questions. Change any passwords that you do show us - even for personal databases.)"},{"owner":{"account_id":17380833,"reputation":9,"user_id":12593099,"display_name":"ettalha0x"},"score":0,"creation_date":1678031879,"post_id":75639499,"comment_id":133450369,"body_markdown":"thank you, about the password don&#39;t worry it&#39;s not the real password it just a random txt for demonstration.","body":"thank you, about the password don&#39;t worry it&#39;s not the real password it just a random txt for demonstration."}],"owner":{"account_id":17380833,"reputation":9,"user_id":12593099,"display_name":"ettalha0x"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677975324,"creation_date":1677975324,"question_id":75639499,"body_markdown":"```\r\nRROR 15877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\nERROR 15877 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\r\n\r\nERROR 15877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\r\nERROR 15877 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n```\r\n\r\n\r\nI have these errors above in spring web app with jpa\r\nhere is my application.properties file\r\n\r\n```\r\nserver.port=1337\r\n# Configurations de la connexion &#224; la base de donn&#233;es MySQL\r\nspring.datasource.url=jdbc:mysql://localhost:80/pgi_db\r\nspring.datasource.username=root\r\nspring.datasource.password=r68Mc72Ls7rmkJE\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n# Configurations JPA\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\n```\r\n\r\n","title":"Error : HikariPool-1 - Exception during pool initialization. spring web app with jpa","body":"<pre><code>RROR 15877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\nERROR 15877 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\n\nERROR 15877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n\nERROR 15877 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n<p>I have these errors above in spring web app with jpa\nhere is my application.properties file</p>\n<pre><code>server.port=1337\n# Configurations de la connexion à la base de données MySQL\nspring.datasource.url=jdbc:mysql://localhost:80/pgi_db\nspring.datasource.username=root\nspring.datasource.password=r68Mc72Ls7rmkJE\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Configurations JPA\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\n</code></pre>\n"},{"tags":["java","maven","apache-karaf","osgi-bundle","karaf"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1538830851,"post_id":52678771,"comment_id":92287281,"body_markdown":"Earlier in the log file, there should be an exception stacktrace that explains *why* it can&#39;t initialize `javax.xml.bind.DatatypeConverterImpl`","body":"Earlier in the log file, there should be an exception stacktrace that explains <i>why</i> it can&#39;t initialize <code>javax.xml.bind.DatatypeConverterImpl</code>"},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1539240477,"post_id":52678771,"comment_id":92431129,"body_markdown":"https://dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/resolving-classnotfoundexception-and-noclassdeffounderror-in-osgi-bundles   As mentioned in this link it works as expected. But unable to login karaf is strange. We are using public private key authentication in karaf.","body":"<a href=\"https://dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/resolving-classnotfoundexception-and-noclassdeffounderror-in-osgi-bundles\" rel=\"nofollow noreferrer\">dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/&hellip;</a>   As mentioned in this link it works as expected. But unable to login karaf is strange. We are using public private key authentication in karaf."},{"owner":{"account_id":1109910,"reputation":619,"user_id":1100575,"display_name":"Cs&#225;k&#225;ny R&#243;bert"},"score":0,"creation_date":1541965419,"post_id":52678771,"comment_id":93389666,"body_markdown":"What is the version of Java? Becase XML Api have changes in Java releases time to time.","body":"What is the version of Java? Becase XML Api have changes in Java releases time to time."},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1542118503,"post_id":52678771,"comment_id":93447549,"body_markdown":"We are using Java8 with KARAF 4.x","body":"We are using Java8 with KARAF 4.x"},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1542803499,"post_id":52678771,"comment_id":93698838,"body_markdown":"Now application is working after adding it to bootdelegation with *. But not sure why it is blocking karaf login. Observed that keys are added after the first login which is not happening after the error comes.","body":"Now application is working after adding it to bootdelegation with *. But not sure why it is blocking karaf login. Observed that keys are added after the first login which is not happening after the error comes."}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677974650,"creation_date":1677974650,"answer_id":75639454,"question_id":52678771,"body_markdown":"Try to add the following dependency to your project and reload maven project:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unable to login karaf after the exception: Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl","body":"<p>Try to add the following dependency to your project and reload maven project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677974650,"creation_date":1538826686,"question_id":52678771,"body_markdown":"We have created a karaf instance on which i am writing a sample bundle and successfully deployed.\r\nI am getting Runtime Error which is not reproducible. Strange thing is after this error i am not able to login to karaf which is asking credentials to login to karaf. default password karaf is not working after this.\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl\r\n            at javax.xml.bind.DatatypeConverter.initConverter(DatatypeConverter.java:155)\r\n            at javax.xml.bind.DatatypeConverter.parseHexBinary(DatatypeConverter.java:371)\r\n\r\n\r\n&gt; Env details: Karaf 4.1.4  OS RHEL 7.x\r\n\r\nCode:\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Map;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    import org.apache.felix.scr.annotations.Activate;\r\n    import org.apache.felix.scr.annotations.Component;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    @Component (name = &quot;TestBinder&quot;, ds = true, immediate = true, metatype = false)\r\n    public class SampleBinder\r\n    {\r\n        private static final Logger LOG = LoggerFactory.getLogger(SampleBinder.class);\r\n    \r\n        @Activate\r\n        public void activate(final Map&lt;String, Object&gt; properties)\r\n        {\r\n            // Testing DatatypeConverter.printHexBinary\r\n            String s2 = &quot;Testing  DatatypeConverter.printHexBinary&quot;;\r\n            String encodeds2 = DatatypeConverter.printHexBinary(s2.getBytes());\r\n            LOG.error(&quot; &gt;&gt;&gt;&gt;&gt;&gt;&gt;  printHexBinary  = &quot; + encodeds2);\r\n            byte[] decodeds2 = DatatypeConverter.parseHexBinary(encodeds2);\r\n            LOG.error(&quot; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  parseHexBinary - decodes2   = &quot; + new String(decodeds2));\r\n    \r\n            // Lexical representation of date time\r\n            LOG.error(DatatypeConverter.printDateTime(Calendar.getInstance()));\r\n        }\r\n    }\r\n\r\nPom.xml\r\n--------\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.test.common&lt;/groupId&gt;\r\n            &lt;artifactId&gt;compile&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath&gt;../compile&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n        &lt;artifactId&gt;binder&lt;/artifactId&gt;\r\n        &lt;name&gt;com.test.binder&lt;/name&gt;\r\n        &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;instructions&gt;\r\n                            &lt;Bundle-SymbolicName&gt;${project.groupId}.${project.artifactId}&lt;/Bundle-SymbolicName&gt;\r\n                            &lt;Bundle-Name&gt;${project.Name}&lt;/Bundle-Name&gt;\r\n                            &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\r\n                            &lt;Export-Package&gt;com.test.java*&lt;/Export-Package&gt;\r\n                            &lt;Import-Package&gt;javax.xml.bind;version=!,\r\n                         *&lt;/Import-Package&gt;\r\n                        &lt;/instructions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Unable to login karaf after the exception: Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl","body":"<p>We have created a karaf instance on which i am writing a sample bundle and successfully deployed.\nI am getting Runtime Error which is not reproducible. Strange thing is after this error i am not able to login to karaf which is asking credentials to login to karaf. default password karaf is not working after this.</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl\n        at javax.xml.bind.DatatypeConverter.initConverter(DatatypeConverter.java:155)\n        at javax.xml.bind.DatatypeConverter.parseHexBinary(DatatypeConverter.java:371)\n</code></pre>\n\n<blockquote>\n  <p>Env details: Karaf 4.1.4  OS RHEL 7.x</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Map;\n\nimport javax.xml.bind.DatatypeConverter;\n\nimport org.apache.felix.scr.annotations.Activate;\nimport org.apache.felix.scr.annotations.Component;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Component (name = \"TestBinder\", ds = true, immediate = true, metatype = false)\npublic class SampleBinder\n{\n    private static final Logger LOG = LoggerFactory.getLogger(SampleBinder.class);\n\n    @Activate\n    public void activate(final Map&lt;String, Object&gt; properties)\n    {\n        // Testing DatatypeConverter.printHexBinary\n        String s2 = \"Testing  DatatypeConverter.printHexBinary\";\n        String encodeds2 = DatatypeConverter.printHexBinary(s2.getBytes());\n        LOG.error(\" &gt;&gt;&gt;&gt;&gt;&gt;&gt;  printHexBinary  = \" + encodeds2);\n        byte[] decodeds2 = DatatypeConverter.parseHexBinary(encodeds2);\n        LOG.error(\" &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  parseHexBinary - decodes2   = \" + new String(decodeds2));\n\n        // Lexical representation of date time\n        LOG.error(DatatypeConverter.printDateTime(Calendar.getInstance()));\n    }\n}\n</code></pre>\n\n<h2>Pom.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.test.common&lt;/groupId&gt;\n        &lt;artifactId&gt;compile&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../compile&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;binder&lt;/artifactId&gt;\n    &lt;name&gt;com.test.binder&lt;/name&gt;\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-SymbolicName&gt;${project.groupId}.${project.artifactId}&lt;/Bundle-SymbolicName&gt;\n                        &lt;Bundle-Name&gt;${project.Name}&lt;/Bundle-Name&gt;\n                        &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\n                        &lt;Export-Package&gt;com.test.java*&lt;/Export-Package&gt;\n                        &lt;Import-Package&gt;javax.xml.bind;version=!,\n                     *&lt;/Import-Package&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","apk"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677973852,"post_id":75639305,"comment_id":133443741,"body_markdown":"Regarding your error, see [&quot;Non-static method cannot be referenced from a static context&quot; error](https://stackoverflow.com/q/4922145/6395627).","body":"Regarding your error, see <a href=\"https://stackoverflow.com/q/4922145/6395627\">&quot;Non-static method cannot be referenced from a static context&quot; error</a>."}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677973462,"creation_date":1677973462,"answer_id":75639376,"question_id":75639305,"body_markdown":"Simply use `getAssets()` method when you are calling inside the Activity class.\r\n\r\nIf you calling this method in non-Activity class then you need to call this method from Context which is passed from Activity class. So below is the line by you can access the method.\r\n\r\n    ContextInstance.getAssets();\r\n\r\n`ContextInstance` may be passed as this of Activity class.","title":"MainActivity.getAssets(); Non-static method &#39;getAssets()&#39; cannot be referenced from a static context","body":"<p>Simply use <code>getAssets()</code> method when you are calling inside the Activity class.</p>\n<p>If you calling this method in non-Activity class then you need to call this method from Context which is passed from Activity class. So below is the line by you can access the method.</p>\n<pre><code>ContextInstance.getAssets();\n</code></pre>\n<p><code>ContextInstance</code> may be passed as this of Activity class.</p>\n"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677973855,"creation_date":1677972341,"question_id":75639305,"body_markdown":"I am trying to load assets from the `assets` folder into my Android application using Android Studio and Java\r\n\r\nThe code is simple, but it does not work\r\n\r\n    AssetManager assetManager = MainActivity.getAssets();\r\n    InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);   \r\n\r\nThe error is `Non-static method &#39;getAssets()&#39; cannot be referenced from a static context`\r\n\r\nThere is no word `static` anywhere in MainActivity class, was it statically instantiated? \r\nHGow can I get around this? Where do I need to read the assets?\r\nAnd how can I properly get assets if this is incorrect?\r\nAdditionally what imports do I need for AssetManager, I cannot find this","title":"MainActivity.getAssets(); Non-static method &#39;getAssets()&#39; cannot be referenced from a static context","body":"<p>I am trying to load assets from the <code>assets</code> folder into my Android application using Android Studio and Java</p>\n<p>The code is simple, but it does not work</p>\n<pre><code>AssetManager assetManager = MainActivity.getAssets();\nInputStream ims = assetManager.open(&quot;helloworld.txt&quot;);   \n</code></pre>\n<p>The error is <code>Non-static method 'getAssets()' cannot be referenced from a static context</code></p>\n<p>There is no word <code>static</code> anywhere in MainActivity class, was it statically instantiated?\nHGow can I get around this? Where do I need to read the assets?\nAnd how can I properly get assets if this is incorrect?\nAdditionally what imports do I need for AssetManager, I cannot find this</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677973509,"creation_date":1677973509,"answer_id":75639381,"question_id":75639254,"body_markdown":"Looking at the docs: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-\r\n\r\n&gt; Use `getGeneratedSourceOutputDirectory().set()` instead. This method will be removed in Gradle 9.0. \r\n","title":"Upgrading Gradle version","body":"<p>Looking at the docs: <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-</a></p>\n<blockquote>\n<p>Use <code>getGeneratedSourceOutputDirectory().set()</code> instead. This method will be removed in Gradle 9.0.</p>\n</blockquote>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75639381,"answer_count":1,"score":-1,"last_activity_date":1677973509,"creation_date":1677971638,"question_id":75639254,"body_markdown":"I am upgrading Gradle version from 5.6.4 to 7.6.1.\r\n\r\n```\r\next {\r\n    generated = &#39;src/main/generated&#39;\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.annotationProcessorGeneratedSourcesDirectory = file(generated)\r\n}\r\n```\r\n\r\nThe `setAnnotationProcessorGeneratedSourcesDirectory` method in deprecated the new version\r\n[![Gradle sources][1]][1]\r\n\r\n```\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.setAnnotationProcessorGeneratedSourcesDirectory(?) // where ? - Provider&lt;File&gt; file\r\n}\r\n```\r\n\r\nHow can I do this in the new Gradle version without using the deprecated method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2MTWO.png","title":"Upgrading Gradle version","body":"<p>I am upgrading Gradle version from 5.6.4 to 7.6.1.</p>\n<pre><code>ext {\n    generated = 'src/main/generated'\n}\n\ntasks.withType(JavaCompile).configureEach {\n    options.annotationProcessorGeneratedSourcesDirectory = file(generated)\n}\n</code></pre>\n<p>The <code>setAnnotationProcessorGeneratedSourcesDirectory</code> method in deprecated the new version\n<a href=\"https://i.stack.imgur.com/2MTWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2MTWO.png\" alt=\"Gradle sources\" /></a></p>\n<pre><code>tasks.withType(JavaCompile).configureEach {\n    options.setAnnotationProcessorGeneratedSourcesDirectory(?) // where ? - Provider&lt;File&gt; file\n}\n</code></pre>\n<p>How can I do this in the new Gradle version without using the deprecated method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1633784400,"post_id":69506815,"comment_id":122855493,"body_markdown":"&quot;but breaks for&quot; can you explain how it breaks?","body":"&quot;but breaks for&quot; can you explain how it breaks?"},{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1633786540,"post_id":69506815,"comment_id":122855927,"body_markdown":"If `N = 90`, then `X` is at least `9999999999` or greater.  But you have only tested up to `90 &#215; 9999 = 899910`.","body":"If <code>N = 90</code>, then <code>X</code> is at least <code>9999999999</code> or greater.  But you have only tested up to <code>90 &#215; 9999 = 899910</code>."}],"answers":[{"tags":[],"owner":{"account_id":22535731,"reputation":1,"user_id":16727062,"display_name":"Bvm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654459468,"creation_date":1654446497,"answer_id":72509152,"question_id":69506815,"body_markdown":"I think you need to add the actual check on the condition `(i % input1 == 0)` to check the divisibility. \r\n\r\n\r\n    public static int getSmallestNumber (int input1) {\r\n        int res = 0;\r\n        for (int i = input1; i &lt; 10000; i++) {\r\n            if (getSum(i) == input1 &amp;&amp; i % input1 == 0) {\r\n            res = i;\r\n                break;\r\n            }\r\n                \r\n        }\r\n        return res;\r\n    }\r\n    \r\n    static int getSum (int n) {    \r\n        int sum = 0;\r\n        while (n != 0) {\r\n            sum = sum + n % 10;\r\n            n = n/10;\r\n        }\r\n        return sum;\r\n    }\r\n","title":"find smallest number divisible by N with sum of digits as N","body":"<p>I think you need to add the actual check on the condition <code>(i % input1 == 0)</code> to check the divisibility.</p>\n<pre><code>public static int getSmallestNumber (int input1) {\n    int res = 0;\n    for (int i = input1; i &lt; 10000; i++) {\n        if (getSum(i) == input1 &amp;&amp; i % input1 == 0) {\n        res = i;\n            break;\n        }\n            \n    }\n    return res;\n}\n\nstatic int getSum (int n) {    \n    int sum = 0;\n    while (n != 0) {\n        sum = sum + n % 10;\n        n = n/10;\n    }\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":21310487,"reputation":11,"user_id":15684947,"display_name":"Aditya Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677972849,"creation_date":1633783253,"question_id":69506815,"body_markdown":"For a given number N(0&lt;N&lt;=100) find out the minimum positive integer X divisible by N, where the sum of digits of X is equal to N, and X is not equal to N.\r\n\r\n```java\r\npublic static int getSmallestNumber(int input1) {\r\n    int res =0;\r\n\tfor(int i=2;i&lt;10000;i++) {\r\n\t\tif(getSum(input1*i) == input1) {\r\n\t\tres = input1*i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nstatic int getSum(int n) {    \r\n    int sum = 0;\r\n    while (n != 0) {\r\n        sum = sum + n % 10;\r\n        n = n/10;\r\n    }\r\n    return sum;\r\n}\r\n```\r\nExample: Input: 9 \r\noutput: 18\r\nExplanation: 1+8 is 9 and 18 is divisible by 9\r\n\r\nExample2: Input: 10\r\noutput: 190\r\nExplanation: 1+9+0 is 10 and 190 is divisible by 10\r\n\r\nMy solution works for smaller integer but breaks for larger numbers like 98, 99 or 100.","title":"find smallest number divisible by N with sum of digits as N","body":"<p>For a given number N(0&lt;N&lt;=100) find out the minimum positive integer X divisible by N, where the sum of digits of X is equal to N, and X is not equal to N.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getSmallestNumber(int input1) {\n    int res =0;\n    for(int i=2;i&lt;10000;i++) {\n        if(getSum(input1*i) == input1) {\n        res = input1*i;\n            break;\n        }\n            \n    }\n    return res;\n}\n\nstatic int getSum(int n) {    \n    int sum = 0;\n    while (n != 0) {\n        sum = sum + n % 10;\n        n = n/10;\n    }\n    return sum;\n}\n</code></pre>\n<p>Example: Input: 9\noutput: 18\nExplanation: 1+8 is 9 and 18 is divisible by 9</p>\n<p>Example2: Input: 10\noutput: 190\nExplanation: 1+9+0 is 10 and 190 is divisible by 10</p>\n<p>My solution works for smaller integer but breaks for larger numbers like 98, 99 or 100.</p>\n"},{"tags":["java","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635575116,"creation_date":1635574768,"answer_id":69777238,"question_id":68179304,"body_markdown":"You can use the `CalendarDatePicker` widget. Here&#39;s a complete example:\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    \r\n    void main() =&gt; runApp(const MyApp());\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      const MyApp({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Custom Date Picker&#39;,\r\n          theme: ThemeData(\r\n            primarySwatch: Colors.blue,\r\n          ),\r\n          home: const MyHomePage(),\r\n        );\r\n      }\r\n    }\r\n    \r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      _MyHomePageState createState() {\r\n        return _MyHomePageState();\r\n      }\r\n    }\r\n    \r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      DateTime _selectedDate = DateTime.now();\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: const Text(&#39;Custom Date Picker&#39;),\r\n          ),\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\r\n              children: [\r\n                Text(\r\n                  _selectedDate.toString().split(&#39; &#39;).first,\r\n                  style: Theme.of(context).textTheme.headline4,\r\n                ),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    final result = (await Navigator.push(\r\n                      context,\r\n                      MaterialPageRoute&lt;DateTime&gt;(builder: (context) =&gt; DatePicker(initialDate: _selectedDate)),\r\n                    ))!;\r\n                    setState(() {\r\n                      _selectedDate = result;\r\n                    });\r\n                  },\r\n                  child: const Text(&quot;Pick Date&quot;),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n    \r\n    class DatePicker extends StatelessWidget {\r\n      final DateTime initialDate;\r\n    \r\n      const DatePicker({required this.initialDate, Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: const Text(&quot;Pick Date&quot;),\r\n            leading: IconButton(\r\n              icon: const Icon(Icons.arrow_back),\r\n              onPressed: () =&gt; Navigator.pop&lt;DateTime&gt;(context, initialDate),\r\n            ),\r\n          ),\r\n          body: Center(\r\n            child: Container(\r\n              color: Colors.blue[50],\r\n              margin: const EdgeInsets.all(10.0),\r\n              padding: const EdgeInsets.all(10.0),\r\n              child: CalendarDatePicker(\r\n                initialDate: initialDate,\r\n                firstDate: DateTime(2021),\r\n                lastDate: DateTime(2025),\r\n                onDateChanged: (DateTime selectedDate) {\r\n                  Navigator.pop&lt;DateTime&gt;(context, selectedDate);\r\n                },\r\n              ),\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>You can use the <code>CalendarDatePicker</code> widget. Here's a complete example:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Custom Date Picker',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() {\n    return _MyHomePageState();\n  }\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  DateTime _selectedDate = DateTime.now();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Custom Date Picker'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            Text(\n              _selectedDate.toString().split(' ').first,\n              style: Theme.of(context).textTheme.headline4,\n            ),\n            ElevatedButton(\n              onPressed: () async {\n                final result = (await Navigator.push(\n                  context,\n                  MaterialPageRoute&lt;DateTime&gt;(builder: (context) =&gt; DatePicker(initialDate: _selectedDate)),\n                ))!;\n                setState(() {\n                  _selectedDate = result;\n                });\n              },\n              child: const Text(&quot;Pick Date&quot;),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass DatePicker extends StatelessWidget {\n  final DateTime initialDate;\n\n  const DatePicker({required this.initialDate, Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(&quot;Pick Date&quot;),\n        leading: IconButton(\n          icon: const Icon(Icons.arrow_back),\n          onPressed: () =&gt; Navigator.pop&lt;DateTime&gt;(context, initialDate),\n        ),\n      ),\n      body: Center(\n        child: Container(\n          color: Colors.blue[50],\n          margin: const EdgeInsets.all(10.0),\n          padding: const EdgeInsets.all(10.0),\n          child: CalendarDatePicker(\n            initialDate: initialDate,\n            firstDate: DateTime(2021),\n            lastDate: DateTime(2025),\n            onDateChanged: (DateTime selectedDate) {\n              Navigator.pop&lt;DateTime&gt;(context, selectedDate);\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":142928,"reputation":2401,"user_id":350937,"display_name":"Denis Ryzhkov"},"score":0,"creation_date":1678034584,"post_id":75639308,"comment_id":133450839,"body_markdown":"I wanted to create a PR for Flutter to enable this feature with `quickPick: true`, but found a similar PR already done and closed as not in line with guidelines, etc - https://github.com/flutter/flutter/pull/102750#issuecomment-1145624190","body":"I wanted to create a PR for Flutter to enable this feature with <code>quickPick: true</code>, but found a similar PR already done and closed as not in line with guidelines, etc - <a href=\"https://github.com/flutter/flutter/pull/102750#issuecomment-1145624190\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/pull/102750#issuecomment-11456241&zwnj;&#8203;90</a>"}],"tags":[],"owner":{"account_id":142928,"reputation":2401,"user_id":350937,"display_name":"Denis Ryzhkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677972741,"creation_date":1677972399,"answer_id":75639308,"question_id":68179304,"body_markdown":"If you just want `showDatePicker` without re-implementing it from `CalendarDatePicker`,  \r\nthen you can get a copy of source code, patch it, and use it:\r\n\r\n - `bin/patch`\r\n    ```bash\r\n    #!/usr/bin/env bash\r\n    set -eu\r\n\r\n    VERSION=$(flutter --version | head -n 1 | cut -d &#39; &#39; -f 2)\r\n\r\n    curl https://raw.githubusercontent.com/flutter/flutter/$VERSION/packages/flutter/lib/src/material/date_picker.dart \\\r\n      | perl -0777 -pe &quot;s/import &#39;package:flutter\\/widgets.dart&#39;.+&#39;theme.dart&#39;;/import &#39;package:flutter\\/material.dart&#39;;\\n\\/\\/ ignore_for_file: unnecessary_null_comparison/s&quot; \\\r\n      | perl -pe &quot;s/onDateChanged: _handleDateChanged,/onDateChanged: (date) {_handleDateChanged(date); _handleOk();},/&quot; \\\r\n      &gt; lib/patched/date_picker.dart\r\n    ```\r\n\r\n - `lib/main.dart`\r\n    ```dart\r\n    import &quot;package:flutter/material.dart&quot; hide showDatePicker;\r\n    import &quot;package:your/patched/date_picker.dart&quot; show showDatePicker;\r\n    ```\r\nThis patched `showDatePicker` saves a user from an extra click.\r\n\r\nTested for Flutter 3.7.6.  \r\nIf a newer version becomes incompatible, you can easily update the patching script and re-run it.","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>If you just want <code>showDatePicker</code> without re-implementing it from <code>CalendarDatePicker</code>,<br />\nthen you can get a copy of source code, patch it, and use it:</p>\n<ul>\n<li><p><code>bin/patch</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\nset -eu\n\nVERSION=$(flutter --version | head -n 1 | cut -d ' ' -f 2)\n\ncurl https://raw.githubusercontent.com/flutter/flutter/$VERSION/packages/flutter/lib/src/material/date_picker.dart \\\n  | perl -0777 -pe &quot;s/import 'package:flutter\\/widgets.dart'.+'theme.dart';/import 'package:flutter\\/material.dart';\\n\\/\\/ ignore_for_file: unnecessary_null_comparison/s&quot; \\\n  | perl -pe &quot;s/onDateChanged: _handleDateChanged,/onDateChanged: (date) {_handleDateChanged(date); _handleOk();},/&quot; \\\n  &gt; lib/patched/date_picker.dart\n</code></pre>\n</li>\n<li><p><code>lib/main.dart</code></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import &quot;package:flutter/material.dart&quot; hide showDatePicker;\nimport &quot;package:your/patched/date_picker.dart&quot; show showDatePicker;\n</code></pre>\n</li>\n</ul>\n<p>This patched <code>showDatePicker</code> saves a user from an extra click.</p>\n<p>Tested for Flutter 3.7.6.<br />\nIf a newer version becomes incompatible, you can easily update the patching script and re-run it.</p>\n"}],"owner":{"account_id":2866168,"reputation":99,"user_id":2460455,"accept_rate":50,"display_name":"Exyu Portal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677972741,"creation_date":1624972011,"question_id":68179304,"body_markdown":"Is it possible for a flutter datepicker to close as soon as a date is pressed? something like a jquery datepicker ...\r\n\r\n      Future&lt;void&gt; _selectDate(BuildContext context) async {\r\n        final DateTime? picked = await showDatePicker(\r\n            context: context,\r\n            initialDate: selectedDate,\r\n            firstDate: DateTime(2015, 8),\r\n            lastDate: DateTime(2101)\r\n        );\r\n        if (picked != null &amp;&amp; picked != selectedDate)\r\n          setState(() {\r\n            selectedDate = picked;\r\n            selectedDateF = &quot;${selectedDate.toLocal()}&quot;.split(&#39; &#39;)[0];\r\n          });\r\n      }","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>Is it possible for a flutter datepicker to close as soon as a date is pressed? something like a jquery datepicker ...</p>\n<pre><code>  Future&lt;void&gt; _selectDate(BuildContext context) async {\n    final DateTime? picked = await showDatePicker(\n        context: context,\n        initialDate: selectedDate,\n        firstDate: DateTime(2015, 8),\n        lastDate: DateTime(2101)\n    );\n    if (picked != null &amp;&amp; picked != selectedDate)\n      setState(() {\n        selectedDate = picked;\n        selectedDateF = &quot;${selectedDate.toLocal()}&quot;.split(' ')[0];\n      });\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","prototype-scope"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677972454,"creation_date":1677972454,"answer_id":75639311,"question_id":75638598,"body_markdown":"Your tests are reusing the application context, to make them independent from one another you should use [`@DirtiesContext`][1] annotation:\r\n\r\n&gt; `@DirtiesContext` indicates that the underlying Spring\r\n&gt; `ApplicationContext` has been dirtied during the execution of a test\r\n&gt; (that is, the test modified or corrupted it in some manner — for\r\n&gt; example, by changing the state of a singleton bean) and should be\r\n&gt; closed. When an application context is marked as dirty, it is removed\r\n&gt; from the testing framework’s cache and closed. As a consequence, the\r\n&gt; underlying Spring container is rebuilt for any subsequent test that\r\n&gt; requires a context with the same configuration metadata.\r\n\r\nFor example, you can annotate the test class as follows:\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\n@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class DealershipServiceIT {\r\n//..\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-dirtiescontext","title":"How to make a SpringBootTest treat the autowired instance as a prototype?","body":"<p>Your tests are reusing the application context, to make them independent from one another you should use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-dirtiescontext\" rel=\"nofollow noreferrer\"><code>@DirtiesContext</code></a> annotation:</p>\n<blockquote>\n<p><code>@DirtiesContext</code> indicates that the underlying Spring\n<code>ApplicationContext</code> has been dirtied during the execution of a test\n(that is, the test modified or corrupted it in some manner — for\nexample, by changing the state of a singleton bean) and should be\nclosed. When an application context is marked as dirty, it is removed\nfrom the testing framework’s cache and closed. As a consequence, the\nunderlying Spring container is rebuilt for any subsequent test that\nrequires a context with the same configuration metadata.</p>\n</blockquote>\n<p>For example, you can annotate the test class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\n@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\npublic class DealershipServiceIT {\n//..\n}\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75639311,"answer_count":1,"score":0,"last_activity_date":1677972454,"creation_date":1677963230,"question_id":75638598,"body_markdown":"New to Spring / SpringBoot. I have this interface that represents a toy car dealership:\r\n\r\n```java\r\n\r\npublic interface DealershipService {\r\n\r\n  Long getRevenue();\r\n\r\n  void sell(Car car);\r\n\r\n  void buy(Car car);\r\n\r\n  List&lt;Car&gt; findByMake(String make);\r\n\r\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\r\n\r\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\r\n\r\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\r\n\r\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\r\n}\r\n```\r\n\r\nAnd its implementation, for which only the `buy()` and `sell()` methods are really the only relevant ones:\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  @Value(&quot;${revenue}&quot;)\r\n  private Long revenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(CarRepository carRepository) {\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n  @Override\r\n  public void sell(Car car) {\r\n    carRepository.removeFromRepository(car.getVin());\r\n    revenue += car.getCostInUSD();\r\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\r\n  }\r\n\r\n  @Override\r\n  public void buy(Car car) {\r\n    if (revenue &gt;= car.getCostInUSD()) {\r\n      carRepository.addToRepository(car);\r\n      revenue -= car.getCostInUSD();\r\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\r\n    } else {\r\n      log.warn(&quot;Unable to buy car {}; we&#39;re broke!&quot;, car);\r\n      throw new InsufficientRevenueException();\r\n    }\r\n  }\r\n.\r\n.\r\n.\r\n```\r\n\r\nBuying a car reduces the available revenue, and selling one increases it. The value of `revenue` is at `1_000_000L` (one million USD, supposedly) in my `application.properties` files (under both `main` and `test`).\r\n\r\nIn trying to test this implementation, I have written the following:\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\npublic class DealershipServiceIT {\r\n\r\n    @Autowired\r\n    private  DealershipService dealershipService;\r\n\r\n    @Test\r\n    public void whenNoTransactions_TotalRevenueIsAMil(){\r\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\r\n    }\r\n\r\n    @Test\r\n    public void whenMakingTransactions_revenueIsAffected(){\r\n        Car car = Car.builder().year(2006).vin(&quot;1234&quot;).costInUSD(10_000L).make(&quot;Nissan&quot;).model(&quot;Sentra&quot;).build();\r\n        dealershipService.buy(car);\r\n        assertThat(dealershipService.getRevenue(), is(990_000L));\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the action of `whenMakingTransactions_revenueIsAffected()` affects the singleton field `dealershipService` injected into the class. Consequently, when I run all the tests of the class and this test is run first (I don&#39;t know why the tests aren&#39;t run in the order written), this test succeeds and `whenNoTransactions_TotalRevenueIsAMil()` fails. This is because the revenue falls by 10k and then the first test sees the same singleton instance of `dealershipService`.\r\n\r\nThis is solved if I make my `DealershipServiceImpl` a prototype bean by adding `@Scope(&quot;prototype&quot;)`above `DealershipServiceImpl`, but I&#39;m not quite certain that this is good Spring design; there&#39;s a reason why Beans are singletons by default. \r\n\r\nSo I&#39;m looking to find a way to treat the injected `DealershipService` in my test as a prototype _for the purposes of testing_, if at all possible. Effectively, whenever entering a new test, I&#39;d need a new `DealershipService` being injected into the test. Is making my original `DealershipService`a prototype the only possibility?","title":"How to make a SpringBootTest treat the autowired instance as a prototype?","body":"<p>New to Spring / SpringBoot. I have this interface that represents a toy car dealership:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface DealershipService {\n\n  Long getRevenue();\n\n  void sell(Car car);\n\n  void buy(Car car);\n\n  List&lt;Car&gt; findByMake(String make);\n\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\n\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\n\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\n\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\n}\n</code></pre>\n<p>And its implementation, for which only the <code>buy()</code> and <code>sell()</code> methods are really the only relevant ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  @Value(&quot;${revenue}&quot;)\n  private Long revenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(CarRepository carRepository) {\n    this.carRepository = carRepository;\n  }\n\n  @Override\n  public void sell(Car car) {\n    carRepository.removeFromRepository(car.getVin());\n    revenue += car.getCostInUSD();\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\n  }\n\n  @Override\n  public void buy(Car car) {\n    if (revenue &gt;= car.getCostInUSD()) {\n      carRepository.addToRepository(car);\n      revenue -= car.getCostInUSD();\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\n    } else {\n      log.warn(&quot;Unable to buy car {}; we're broke!&quot;, car);\n      throw new InsufficientRevenueException();\n    }\n  }\n.\n.\n.\n</code></pre>\n<p>Buying a car reduces the available revenue, and selling one increases it. The value of <code>revenue</code> is at <code>1_000_000L</code> (one million USD, supposedly) in my <code>application.properties</code> files (under both <code>main</code> and <code>test</code>).</p>\n<p>In trying to test this implementation, I have written the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\npublic class DealershipServiceIT {\n\n    @Autowired\n    private  DealershipService dealershipService;\n\n    @Test\n    public void whenNoTransactions_TotalRevenueIsAMil(){\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\n    }\n\n    @Test\n    public void whenMakingTransactions_revenueIsAffected(){\n        Car car = Car.builder().year(2006).vin(&quot;1234&quot;).costInUSD(10_000L).make(&quot;Nissan&quot;).model(&quot;Sentra&quot;).build();\n        dealershipService.buy(car);\n        assertThat(dealershipService.getRevenue(), is(990_000L));\n    }\n}\n</code></pre>\n<p>The problem is that the action of <code>whenMakingTransactions_revenueIsAffected()</code> affects the singleton field <code>dealershipService</code> injected into the class. Consequently, when I run all the tests of the class and this test is run first (I don't know why the tests aren't run in the order written), this test succeeds and <code>whenNoTransactions_TotalRevenueIsAMil()</code> fails. This is because the revenue falls by 10k and then the first test sees the same singleton instance of <code>dealershipService</code>.</p>\n<p>This is solved if I make my <code>DealershipServiceImpl</code> a prototype bean by adding <code>@Scope(&quot;prototype&quot;)</code>above <code>DealershipServiceImpl</code>, but I'm not quite certain that this is good Spring design; there's a reason why Beans are singletons by default.</p>\n<p>So I'm looking to find a way to treat the injected <code>DealershipService</code> in my test as a prototype <em>for the purposes of testing</em>, if at all possible. Effectively, whenever entering a new test, I'd need a new <code>DealershipService</code> being injected into the test. Is making my original <code>DealershipService</code>a prototype the only possibility?</p>\n"},{"tags":["java","eclipse","servlets"],"comments":[{"owner":{"account_id":652217,"reputation":4941,"user_id":453821,"accept_rate":96,"display_name":"tom"},"score":0,"creation_date":1288692661,"post_id":4076601,"comment_id":4382057,"body_markdown":"im trying to run a simple hello word type servlet, normally if i wanted to make a gui i would import java......swing.*; i cant find the right import for a servlet","body":"im trying to run a simple hello word type servlet, normally if i wanted to make a gui i would import java......swing.*; i cant find the right import for a servlet"}],"answers":[{"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1288692691,"creation_date":1288692359,"answer_id":4076610,"question_id":4076601,"body_markdown":"From [wikipedia](http://en.wikipedia.org/wiki/Java_Servlet).\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n     \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n     \r\n    public class HelloWorld extends HttpServlet {\r\n      public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n          throws ServletException, IOException {\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;!DOCTYPE HTML PUBLIC \\&quot;-//W3C//DTD HTML 4.0 &quot; +\r\n                    &quot;Transitional//EN\\&quot;&gt;\\n&quot; +\r\n                    &quot;&lt;html&gt;\\n&quot; +\r\n                    &quot;&lt;head&gt;&lt;title&gt;Hello WWW&lt;/title&gt;&lt;/head&gt;\\n&quot; +\r\n                    &quot;&lt;body&gt;\\n&quot; +\r\n                    &quot;&lt;h1&gt;Hello WWW&lt;/h1&gt;\\n&quot; +\r\n                    &quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n      }\r\n    }\r\n\r\n\r\n This, of course, works only if you have added the `servlet-api.jar` to Eclipse build path. Typically your application server (e.g [Tomcat](http://tomcat.apache.org/)) will have the right jar file. ","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>From <a href=\"http://en.wikipedia.org/wiki/Java_Servlet\" rel=\"nofollow\">wikipedia</a>.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class HelloWorld extends HttpServlet {\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws ServletException, IOException {\n    PrintWriter out = response.getWriter();\n    out.println(\"&lt;!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.0 \" +\n                \"Transitional//EN\\\"&gt;\\n\" +\n                \"&lt;html&gt;\\n\" +\n                \"&lt;head&gt;&lt;title&gt;Hello WWW&lt;/title&gt;&lt;/head&gt;\\n\" +\n                \"&lt;body&gt;\\n\" +\n                \"&lt;h1&gt;Hello WWW&lt;/h1&gt;\\n\" +\n                \"&lt;/body&gt;&lt;/html&gt;\");\n  }\n}\n</code></pre>\n\n<p>This, of course, works only if you have added the <code>servlet-api.jar</code> to Eclipse build path. Typically your application server (e.g <a href=\"http://tomcat.apache.org/\" rel=\"nofollow\">Tomcat</a>) will have the right jar file. </p>\n"},{"comments":[{"owner":{"account_id":1864108,"reputation":685,"user_id":1688059,"accept_rate":63,"display_name":"kaustav datta"},"score":4,"creation_date":1371136404,"post_id":4076706,"comment_id":24721398,"body_markdown":"@BalusC If I am using Apache Ant to build my project, how do I include the /lib(servlet-api.jar &amp; jsp-api.jar) folder of servlet container dynamically ? Or do I need to hard code the path to the /lib folder like - `&lt;property name=&quot;tomcat.home&quot; value=&quot;D:\\\\Program Files\\\\Apache Software Foundation\\\\apache-tomcat-6.0.36&quot;/&gt;` etc","body":"@BalusC If I am using Apache Ant to build my project, how do I include the /lib(servlet-api.jar &amp; jsp-api.jar) folder of servlet container dynamically ? Or do I need to hard code the path to the /lib folder like - <code>&lt;property name=&quot;tomcat.home&quot; value=&quot;D:\\\\Program Files\\\\Apache Software Foundation\\\\apache-tomcat-6.0.36&quot;&#47;&gt;</code> etc"},{"owner":{"account_id":1405869,"reputation":10755,"user_id":1333610,"accept_rate":86,"display_name":"arun"},"score":2,"creation_date":1411192575,"post_id":4076706,"comment_id":40620110,"body_markdown":"@BalusC why are maven projects created with archetype `maven-archetype-webapp` not including the servlet-api JAR as a dependency? The project has an index.jsp with compile error. (Eclipse Luna Build id: 20140612-0600, JDK 8, M2eclipse)","body":"@BalusC why are maven projects created with archetype <code>maven-archetype-webapp</code> not including the servlet-api JAR as a dependency? The project has an index.jsp with compile error. (Eclipse Luna Build id: 20140612-0600, JDK 8, M2eclipse)"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":1,"creation_date":1443000445,"post_id":4076706,"comment_id":53312273,"body_markdown":"@arun `servlet-api` dependencies are provided by the Servlet runtime environments like Tomcat, Wildfly, Glassfish, etc.,. Don&#39;t ever include it as part of your app, as there&#39;s a good possibility of it clashing with the environment&#39;s.","body":"@arun <code>servlet-api</code> dependencies are provided by the Servlet runtime environments like Tomcat, Wildfly, Glassfish, etc.,. Don&#39;t ever include it as part of your app, as there&#39;s a good possibility of it clashing with the environment&#39;s."},{"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"score":0,"creation_date":1477653785,"post_id":4076706,"comment_id":67865050,"body_markdown":"@BalusC, 1) Is javax.servlet-api-3.1.0.jar equal to tomcat8/lib/servlet-api.jar? I decompile the two jars, then find moust of the classes/interfaces are the same. 2) Is javax.servlet-api-3.1.0.jar container-neutral(not servletcontainer-specific libraries)?","body":"@BalusC, 1) Is javax.servlet-api-3.1.0.jar equal to tomcat8/lib/servlet-api.jar? I decompile the two jars, then find moust of the classes/interfaces are the same. 2) Is javax.servlet-api-3.1.0.jar container-neutral(not servletcontainer-specific libraries)?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1477655019,"post_id":4076706,"comment_id":67865659,"body_markdown":"@gfan: technical problem is not whether container-provided libraries are &quot;container neutral&quot; but classloading precedence and ordering. If container-provided libraries are loaded by the wrong classloader (e.g. via webapp classloader), things may go havoc, even if it&#39;s &quot;coincidentally&quot; exactly the same version. Just do not provide container-provided libraries from duplicate places outside container. Period.","body":"@gfan: technical problem is not whether container-provided libraries are &quot;container neutral&quot; but classloading precedence and ordering. If container-provided libraries are loaded by the wrong classloader (e.g. via webapp classloader), things may go havoc, even if it&#39;s &quot;coincidentally&quot; exactly the same version. Just do not provide container-provided libraries from duplicate places outside container. Period."},{"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"score":1,"creation_date":1477659542,"post_id":4076706,"comment_id":67868338,"body_markdown":"@BalusC, What you saying is some kind of abstract for me. I am new to Java. Maybe I still don&#39;t understand some concept of Java. So, could you please give me a feedback of the previous commnet of my questions. And I would like to append some clarification for my question: From my thinking, JCP(or Oracle) will provide a jar, which only contains interfaces of Servlet, for example the jar of javax.servlet-api-3.1.0.jar. The other vendors who want to deliever their own Servlet should implement the interfaces(another choice is they follow the JCP doc, then give their own interface and implement)","body":"@BalusC, What you saying is some kind of abstract for me. I am new to Java. Maybe I still don&#39;t understand some concept of Java. So, could you please give me a feedback of the previous commnet of my questions. And I would like to append some clarification for my question: From my thinking, JCP(or Oracle) will provide a jar, which only contains interfaces of Servlet, for example the jar of javax.servlet-api-3.1.0.jar. The other vendors who want to deliever their own Servlet should implement the interfaces(another choice is they follow the JCP doc, then give their own interface and implement)"},{"owner":{"account_id":2976959,"reputation":1037,"user_id":2527825,"accept_rate":53,"display_name":"gfan"},"score":0,"creation_date":1477659927,"post_id":4076706,"comment_id":67868545,"body_markdown":"We should always using APIs in projects, If we want to run the projects we shoud use Reference Implementation. APIs like a shell, It&#39;s empty inside. but the refererence Implementation is concrete. javax.servlet-api-3.1.0.jar is just the shell, when code is running, we have to fill it with staffs, tomcat&#39;s servlet-api is a shell and a staff. Am I right?","body":"We should always using APIs in projects, If we want to run the projects we shoud use Reference Implementation. APIs like a shell, It&#39;s empty inside. but the refererence Implementation is concrete. javax.servlet-api-3.1.0.jar is just the shell, when code is running, we have to fill it with staffs, tomcat&#39;s servlet-api is a shell and a staff. Am I right?"},{"owner":{"account_id":108205,"reputation":27809,"user_id":287316,"accept_rate":87,"display_name":"The Student"},"score":0,"creation_date":1647715033,"post_id":4076706,"comment_id":126442387,"body_markdown":"Converting the project to maven project (in Eclipse, right click on project -&gt; Configure -&gt; Convert to maven project) solved.","body":"Converting the project to maven project (in Eclipse, right click on project -&gt; Configure -&gt; Convert to maven project) solved."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":8,"down_vote_count":2,"up_vote_count":457,"is_accepted":true,"score":455,"last_activity_date":1669335135,"creation_date":1288693072,"answer_id":4076706,"question_id":4076601,"body_markdown":"# Ensure you&#39;ve the right Eclipse and Server version\r\n\r\nEnsure that you&#39;re using at least [Eclipse IDE for **Enterprise** Java (and Web) developers][1] (with the **Enterprise**). It contains development tools to create dynamic web projects and easily integrate servletcontainers (those tools are part of Web Tools Platform, WTP). In case you already had Eclipse IDE for Java (without Enterprise), and manually installed some related plugins, then chances are that it wasn&#39;t done properly. You&#39;d best trash it and grab the real Eclipse IDE for Enterprise Java one.\r\n\r\nYou also need to ensure that you already have a servletcontainer installed on your machine which implements at least the same Servlet API version as the servletcontainer in the production environment, for example [Apache Tomcat][2], [RedHat WildFly][4], [Eclipse GlassFish][3], etc. Usually, just downloading the ZIP file and extracting it is sufficient. In case of Tomcat, do *not* download the EXE format, that&#39;s only for Windows based production environments. See also a.o. https://stackoverflow.com/questions/5064733.\r\n\r\nA servletcontainer is a concrete implementation of the Servlet API. Also note that for example WildFly and GlassFish are *more* than just a servletcontainer, they also support JSF (Faces), EJB (Enterprise Beans), JPA (Persistence) and all other Jakarta EE fanciness. See also a.o. https://stackoverflow.com/questions/7295096\r\n\r\n\r\n# Ensure that you&#39;re using the right Servlet package\r\n\r\nThe `javax.*` package has been renamed to `jakarta.*` package since Servlet API version 5.0 which is part of Jakarta EE 9 (Tomcat 10, TomEE 9, WildFly 22 Preview, GlassFish 6, Payara 6, Liberty 22, etc). So if you&#39;re targeting these server versions or newer, then you need to replace\r\n```java\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n```\r\nby\r\n```java\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\n```\r\nin order to get it to compile, else you might risk to face this build error \r\n\r\n&gt; The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path\r\n\r\n# Integrate Server in Eclipse and associate it with Project\r\n\r\nOnce having installed both Eclipse for Enterprise Java and a servletcontainer on your machine, do the following steps in Eclipse:\r\n\r\n1. **Integrate servletcontainer in Eclipse**\r\n\r\n    a. **Via Servers view**\r\n\r\n    - Open the *Servers* view in the bottom box.\r\n    - Rightclick there and choose *New &gt; Server*.\r\n    - Pick the appropriate servletcontainer make and version and walk through the wizard.\r\n\r\n        [![enter image description here][6]][7]\r\n\r\n    b. **Or, via Eclipse preferences**\r\n\r\n    - Open *Window &gt; Preferences &gt; Server &gt; Runtime Environments*.\r\n    - You can *Add*, *Edit* and *Remove* servers here.\r\n\r\n        [![enter image description here][8]][9]\r\n\r\n2. **Associate server with project**\r\n\r\n    a. **In new project**\r\n\r\n    - Open the *Project Navigator/Explorer* on the left hand side.\r\n    - Rightclick there and choose *New &gt; Project* and then in menu *Web &gt; Dynamic Web Project*.\r\n    - In the wizard, set the *Target Runtime* to the integrated server.\r\n\r\n        [![enter image description here][10]][11]\r\n\r\n    b. **Or, in existing project**\r\n\r\n    - Rightclick project and choose *Properties*.\r\n    - In *Targeted Runtimes* section, select the integrated server.\r\n\r\n        [![enter image description here][12]][13]\r\n\r\n    Either way, Eclipse will then automatically take the servletcontainer&#39;s libraries in the build path. This way you&#39;ll be able to import and use the Servlet API.\r\n\r\n\r\n# Never carry around loose server-specific JAR files\r\n\r\nYou should in any case not have the need to fiddle around in the *Build Path* property of the project. You should above all **never** manually copy/download/move/include the individual servletcontainer-specific libraries like `servlet-api.jar`, `jsp-api.jar`, `el-api.jar`, `j2ee.jar`, `javaee.jar`, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles, because your webapp would not work when it&#39;s deployed to a servletcontainer of a different make/version than where those libraries are originally obtained from.\r\n\r\nIn case you&#39;re using Maven, you need to make absolutely sure that servletcontainer-specific libraries which are already provided by the target runtime are marked as `&lt;scope&gt;provided&lt;/scope&gt;`. You can find examples of proper `pom.xml` dependency declarations for Tomcat 10+, Tomcat 9-, JEE 9+ and JEE 8- in this answer: https://stackoverflow.com/questions/65703840/tomcat-9-casting-servlets-to-javax-servlet-servlet-instead-of-jakarta-servlet-ht/65704617#65704617\r\n\r\nHere are some typical exceptions which you can get when you litter the `/WEB-INF/lib` or even `/JRE/lib`, `/JRE/lib/ext`, etc with servletcontainer-specific libraries in a careless attempt to fix the compilation errors:\r\n\r\n- [java.lang.NullPointerException at org.apache.jsp.index_jsp._jspInit][14]\r\n- [java.lang.NoClassDefFoundError: javax/el/ELResolver][15]\r\n- [java.lang.NoSuchFieldError: IS_DIR][16]\r\n- [java.lang.NoSuchMethodError: javax.servlet.jsp.PageContext.getELContext()Ljavax/el/ELContext;][17]\r\n- [java.lang.AbstractMethodError: javax.servlet.jsp.JspFactory.getJspApplicationContext(Ljavax/servlet/ServletContext;)Ljavax/servlet/jsp/JspApplicationContext;][18]\r\n- [org.apache.jasper.JasperException: The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory][19]\r\n- [java.lang.VerifyError: (class: org/apache/jasper/runtime/JspApplicationContextImpl, method: createELResolver signature: ()Ljavax/el/ELResolver;) Incompatible argument to function][20]\r\n- [jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class][21]\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/\r\n  [2]: https://tomcat.apache.org/\r\n  [3]: https://glassfish.org/\r\n  [4]: https://wildfly.org\r\n  [5]: http://www.oracle.com/technetwork/java/javaee/downloads/index.html\r\n  [6]: http://i.stack.imgur.com/99Li8m.png\r\n  [7]: http://i.stack.imgur.com/99Li8.png\r\n  [8]: http://i.stack.imgur.com/hf9Gom.png\r\n  [9]: http://i.stack.imgur.com/hf9Go.png\r\n  [10]: http://i.stack.imgur.com/M259Em.png\r\n  [11]: http://i.stack.imgur.com/M259E.png\r\n  [12]: http://i.stack.imgur.com/jcY3Mm.png\r\n  [13]: http://i.stack.imgur.com/jcY3M.png\r\n  [14]: https://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception\r\n  [15]: https://stackoverflow.com/questions/6360121/java-lang-noclassdeffounderror-javax-el-elresolver-when-running-simplehellobyent\r\n  [16]: https://stackoverflow.com/questions/4214826/error-java-lang-nosuchfielderror-is-dir-while-starting-apache-tomcat-from-ecli\r\n  [17]: https://stackoverflow.com/questions/7274675/getting-error-while-accessing-the-map-from-spring-controller-to-jsp-using-jstl/7274928#7274928\r\n  [18]: https://stackoverflow.com/questions/6998747/tomcat-6-http-authentication\r\n  [19]: https://stackoverflow.com/questions/2327118/howto-solve-jasper-exception-problem\r\n  [20]: https://stackoverflow.com/questions/7310968/web-app-working-in-eclipse-gives-verify-el-error-org-apache-catalina-core-standar\r\n  [21]: https://stackoverflow.com/questions/2641338/how-to-resolve-error-listenerstart-when-deploying-web-app-in-tomcat-5-5","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<h1>Ensure you've the right Eclipse and Server version</h1>\n<p>Ensure that you're using at least <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"noreferrer\">Eclipse IDE for <strong>Enterprise</strong> Java (and Web) developers</a> (with the <strong>Enterprise</strong>). It contains development tools to create dynamic web projects and easily integrate servletcontainers (those tools are part of Web Tools Platform, WTP). In case you already had Eclipse IDE for Java (without Enterprise), and manually installed some related plugins, then chances are that it wasn't done properly. You'd best trash it and grab the real Eclipse IDE for Enterprise Java one.</p>\n<p>You also need to ensure that you already have a servletcontainer installed on your machine which implements at least the same Servlet API version as the servletcontainer in the production environment, for example <a href=\"https://tomcat.apache.org/\" rel=\"noreferrer\">Apache Tomcat</a>, <a href=\"https://wildfly.org\" rel=\"noreferrer\">RedHat WildFly</a>, <a href=\"https://glassfish.org/\" rel=\"noreferrer\">Eclipse GlassFish</a>, etc. Usually, just downloading the ZIP file and extracting it is sufficient. In case of Tomcat, do <em>not</em> download the EXE format, that's only for Windows based production environments. See also a.o. <a href=\"https://stackoverflow.com/questions/5064733\">Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use</a>.</p>\n<p>A servletcontainer is a concrete implementation of the Servlet API. Also note that for example WildFly and GlassFish are <em>more</em> than just a servletcontainer, they also support JSF (Faces), EJB (Enterprise Beans), JPA (Persistence) and all other Jakarta EE fanciness. See also a.o. <a href=\"https://stackoverflow.com/questions/7295096\">What exactly is Java EE?</a></p>\n<h1>Ensure that you're using the right Servlet package</h1>\n<p>The <code>javax.*</code> package has been renamed to <code>jakarta.*</code> package since Servlet API version 5.0 which is part of Jakarta EE 9 (Tomcat 10, TomEE 9, WildFly 22 Preview, GlassFish 6, Payara 6, Liberty 22, etc). So if you're targeting these server versions or newer, then you need to replace</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.*;\nimport javax.servlet.http.*;\n</code></pre>\n<p>by</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.*;\nimport jakarta.servlet.http.*;\n</code></pre>\n<p>in order to get it to compile, else you might risk to face this build error</p>\n<blockquote>\n<p>The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path</p>\n</blockquote>\n<h1>Integrate Server in Eclipse and associate it with Project</h1>\n<p>Once having installed both Eclipse for Enterprise Java and a servletcontainer on your machine, do the following steps in Eclipse:</p>\n<ol>\n<li><p><strong>Integrate servletcontainer in Eclipse</strong></p>\n<p>a. <strong>Via Servers view</strong></p>\n<ul>\n<li><p>Open the <em>Servers</em> view in the bottom box.</p>\n</li>\n<li><p>Rightclick there and choose <em>New &gt; Server</em>.</p>\n</li>\n<li><p>Pick the appropriate servletcontainer make and version and walk through the wizard.</p>\n<p><a href=\"https://i.stack.imgur.com/99Li8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/99Li8m.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>b. <strong>Or, via Eclipse preferences</strong></p>\n<ul>\n<li><p>Open <em>Window &gt; Preferences &gt; Server &gt; Runtime Environments</em>.</p>\n</li>\n<li><p>You can <em>Add</em>, <em>Edit</em> and <em>Remove</em> servers here.</p>\n<p><a href=\"https://i.stack.imgur.com/hf9Go.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hf9Gom.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n</li>\n<li><p><strong>Associate server with project</strong></p>\n<p>a. <strong>In new project</strong></p>\n<ul>\n<li><p>Open the <em>Project Navigator/Explorer</em> on the left hand side.</p>\n</li>\n<li><p>Rightclick there and choose <em>New &gt; Project</em> and then in menu <em>Web &gt; Dynamic Web Project</em>.</p>\n</li>\n<li><p>In the wizard, set the <em>Target Runtime</em> to the integrated server.</p>\n<p><a href=\"https://i.stack.imgur.com/M259E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/M259Em.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>b. <strong>Or, in existing project</strong></p>\n<ul>\n<li><p>Rightclick project and choose <em>Properties</em>.</p>\n</li>\n<li><p>In <em>Targeted Runtimes</em> section, select the integrated server.</p>\n<p><a href=\"https://i.stack.imgur.com/jcY3M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jcY3Mm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>Either way, Eclipse will then automatically take the servletcontainer's libraries in the build path. This way you'll be able to import and use the Servlet API.</p>\n</li>\n</ol>\n<h1>Never carry around loose server-specific JAR files</h1>\n<p>You should in any case not have the need to fiddle around in the <em>Build Path</em> property of the project. You should above all <strong>never</strong> manually copy/download/move/include the individual servletcontainer-specific libraries like <code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.jar</code>, <code>j2ee.jar</code>, <code>javaee.jar</code>, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles, because your webapp would not work when it's deployed to a servletcontainer of a different make/version than where those libraries are originally obtained from.</p>\n<p>In case you're using Maven, you need to make absolutely sure that servletcontainer-specific libraries which are already provided by the target runtime are marked as <code>&lt;scope&gt;provided&lt;/scope&gt;</code>. You can find examples of proper <code>pom.xml</code> dependency declarations for Tomcat 10+, Tomcat 9-, JEE 9+ and JEE 8- in this answer: <a href=\"https://stackoverflow.com/questions/65703840/tomcat-9-casting-servlets-to-javax-servlet-servlet-instead-of-jakarta-servlet-ht/65704617#65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat?</a></p>\n<p>Here are some typical exceptions which you can get when you litter the <code>/WEB-INF/lib</code> or even <code>/JRE/lib</code>, <code>/JRE/lib/ext</code>, etc with servletcontainer-specific libraries in a careless attempt to fix the compilation errors:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception\">java.lang.NullPointerException at org.apache.jsp.index_jsp._jspInit</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6360121/java-lang-noclassdeffounderror-javax-el-elresolver-when-running-simplehellobyent\">java.lang.NoClassDefFoundError: javax/el/ELResolver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4214826/error-java-lang-nosuchfielderror-is-dir-while-starting-apache-tomcat-from-ecli\">java.lang.NoSuchFieldError: IS_DIR</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7274675/getting-error-while-accessing-the-map-from-spring-controller-to-jsp-using-jstl/7274928#7274928\">java.lang.NoSuchMethodError: javax.servlet.jsp.PageContext.getELContext()Ljavax/el/ELContext;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6998747/tomcat-6-http-authentication\">java.lang.AbstractMethodError: javax.servlet.jsp.JspFactory.getJspApplicationContext(Ljavax/servlet/ServletContext;)Ljavax/servlet/jsp/JspApplicationContext;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2327118/howto-solve-jasper-exception-problem\">org.apache.jasper.JasperException: The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7310968/web-app-working-in-eclipse-gives-verify-el-error-org-apache-catalina-core-standar\">java.lang.VerifyError: (class: org/apache/jasper/runtime/JspApplicationContextImpl, method: createELResolver signature: ()Ljavax/el/ELResolver;) Incompatible argument to function</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2641338/how-to-resolve-error-listenerstart-when-deploying-web-app-in-tomcat-5-5\">jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1068225,"reputation":5459,"user_id":1068167,"accept_rate":97,"display_name":"span"},"score":2,"creation_date":1389965723,"post_id":9287149,"comment_id":31900298,"body_markdown":"Helped me add my JBOSS runtime. My list was empty.","body":"Helped me add my JBOSS runtime. My list was empty."},{"owner":{"account_id":319074,"reputation":3350,"user_id":636641,"accept_rate":67,"display_name":"Paul"},"score":2,"creation_date":1395138558,"post_id":9287149,"comment_id":34190399,"body_markdown":"This was the solution for me. \n\nI had set tomcat 6.0 as my deployment enviournment(as a server in eclipse), but neglected to specify it as my runtime enviournment... I&#39;m guessing that means it could find the .jars in my tomcat/lib folder at runtime, but not at compile time.","body":"This was the solution for me.   I had set tomcat 6.0 as my deployment enviournment(as a server in eclipse), but neglected to specify it as my runtime enviournment... I&#39;m guessing that means it could find the .jars in my tomcat/lib folder at runtime, but not at compile time."},{"owner":{"account_id":4798302,"reputation":251,"user_id":3883258,"accept_rate":94,"display_name":"Robben"},"score":0,"creation_date":1432601792,"post_id":9287149,"comment_id":48977530,"body_markdown":"Thanks! But how can I delete copies of mu servers? I have Apache Tomcat v7.0 (2) and (3) that I want to delete. Anyone knows how?","body":"Thanks! But how can I delete copies of mu servers? I have Apache Tomcat v7.0 (2) and (3) that I want to delete. Anyone knows how?"},{"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"score":0,"creation_date":1492776489,"post_id":9287149,"comment_id":74136412,"body_markdown":"Not helped me to solve problem with `The import javax.servlet cannot be resolved`.","body":"Not helped me to solve problem with <code>The import javax.servlet cannot be resolved</code>."},{"owner":{"account_id":470600,"reputation":1163,"user_id":877880,"accept_rate":100,"display_name":"Freddie Fabregas"},"score":1,"creation_date":1493680677,"post_id":9287149,"comment_id":74499463,"body_markdown":"This works! Thanks, @mrgloom, you may want to remove the server and create a new server in your localhost","body":"This works! Thanks, @mrgloom, you may want to remove the server and create a new server in your localhost"},{"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"score":0,"creation_date":1505816350,"post_id":9287149,"comment_id":79557822,"body_markdown":"What if I can&#39;t see tomcat in this list?","body":"What if I can&#39;t see tomcat in this list?"}],"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"comment_count":6,"down_vote_count":0,"up_vote_count":231,"is_accepted":false,"score":231,"last_activity_date":1368339574,"creation_date":1329273321,"answer_id":9287149,"question_id":4076601,"body_markdown":"![import javax.servlet][1]\r\n\r\n&lt;h2&gt;STEP 1&lt;/h2&gt;  \r\nGo to **properties** of your project ( with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; or righ-click )\r\n\r\n&lt;h2&gt;STEP 2&lt;/h2&gt;\r\ncheck on _Apache Tomcat v7.0_ under **Targeted Runtime** and it works.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4QFXL.png","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p><img src=\"https://i.stack.imgur.com/4QFXL.png\" alt=\"import javax.servlet\"></p>\n\n<h2>STEP 1</h2>  \n\n<p>Go to <strong>properties</strong> of your project ( with <kbd>Alt</kbd>+<kbd>Enter</kbd> or righ-click )</p>\n\n<h2>STEP 2</h2>\n\n<p>check on <em>Apache Tomcat v7.0</em> under <strong>Targeted Runtime</strong> and it works.</p>\n"},{"comments":[{"owner":{"account_id":1021804,"reputation":12885,"user_id":1031945,"accept_rate":83,"display_name":"Aniket Kulkarni"},"score":14,"creation_date":1360167451,"post_id":10118791,"comment_id":20614378,"body_markdown":"With reference to above BalusC post    never manually copy/download/move/include the individual servletcontainer-specific libraries like `servlet-api.jar`, `jsp-api.jar`, `el-api.ja`r, `j2ee.jar`, `javaee.jar`, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles.","body":"With reference to above BalusC post    never manually copy/download/move/include the individual servletcontainer-specific libraries like <code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.ja</code>r, <code>j2ee.jar</code>, <code>javaee.jar</code>, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles."}],"tags":[],"owner":{"account_id":464676,"reputation":822,"user_id":868339,"accept_rate":100,"display_name":"Hari Gudigundla"},"comment_count":1,"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1334213568,"creation_date":1334213568,"answer_id":10118791,"question_id":4076601,"body_markdown":"Quick Fix- This worked in Eclipse - Right Click on project -&gt; Properties -&gt; Java Build Path (Tab) -&gt; Add External JARs -&gt; locate the servlet api jar implementation (if Tomcat - its named servlet-api.jar) -&gt; click OK. That&#39;s it !!","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Quick Fix- This worked in Eclipse - Right Click on project -> Properties -> Java Build Path (Tab) -> Add External JARs -> locate the servlet api jar implementation (if Tomcat - its named servlet-api.jar) -> click OK. That's it !!</p>\n"},{"comments":[{"owner":{"account_id":1992556,"reputation":622,"user_id":1786257,"display_name":"Sandeep Pattanaik"},"score":3,"creation_date":1449729832,"post_id":10953422,"comment_id":56136437,"body_markdown":"Hi ivanLam, Apache Tomcat is not showing after Server Runtime? What to do now!","body":"Hi ivanLam, Apache Tomcat is not showing after Server Runtime? What to do now!"}],"tags":[],"owner":{"account_id":1553204,"reputation":859,"user_id":1445120,"display_name":"ivanLam"},"comment_count":1,"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1469695193,"creation_date":1339176602,"answer_id":10953422,"question_id":4076601,"body_markdown":"Little bit difference from Hari:\r\n\r\n&gt; Right click on project ---&gt; Properties ---&gt; Java Build Path ---&gt; Add Library...  ---&gt;  Server Runtime ---&gt; Apache Tomcat ----&gt; Finish.\r\n\r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Little bit difference from Hari:</p>\n\n<blockquote>\n  <p>Right click on project ---> Properties ---> Java Build Path ---> Add Library...  --->  Server Runtime ---> Apache Tomcat ----> Finish.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"score":0,"creation_date":1665930580,"post_id":15906385,"comment_id":130809508,"body_markdown":"To add to this, for Tomcat 10.x, I changed Project Facet setting for the &quot;Dynamic Web Module&quot; to a newer one.  In my case, this changed to version 5.0 after which the index.jsp file no longer showed an issue on the html tag.  Prior to this it was configured to 2.3 (i.e. pre-jakarata) which was not applicable for Tomcat 10.x which leverages the jakarta namespace instead of the java namespace.","body":"To add to this, for Tomcat 10.x, I changed Project Facet setting for the &quot;Dynamic Web Module&quot; to a newer one.  In my case, this changed to version 5.0 after which the index.jsp file no longer showed an issue on the html tag.  Prior to this it was configured to 2.3 (i.e. pre-jakarata) which was not applicable for Tomcat 10.x which leverages the jakarta namespace instead of the java namespace."}],"tags":[],"owner":{"account_id":17722,"reputation":9569,"user_id":39974,"accept_rate":75,"display_name":"Ivan Vučica"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365522067,"creation_date":1365522067,"answer_id":15906385,"question_id":4076601,"body_markdown":"I was getting a null pointer exception during project creation related to &quot;Dynamic Web Module&quot;. \r\n\r\nTo get the project to compile (that is, to `javax.servlet` to import successfully) I had to go to project&#39;s _Properties_, pick _Project Facets_ in the sidebar, tick __Dynamic Web Module__ and click _Apply_.\r\n\r\nSurprisingly, this time &quot;Dynamic Web Module&quot; facet installed correctly, and import started to work.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I was getting a null pointer exception during project creation related to \"Dynamic Web Module\". </p>\n\n<p>To get the project to compile (that is, to <code>javax.servlet</code> to import successfully) I had to go to project's <em>Properties</em>, pick <em>Project Facets</em> in the sidebar, tick <strong>Dynamic Web Module</strong> and click <em>Apply</em>.</p>\n\n<p>Surprisingly, this time \"Dynamic Web Module\" facet installed correctly, and import started to work.</p>\n"},{"comments":[{"owner":{"account_id":543029,"reputation":1303,"user_id":912046,"display_name":"el-teedee"},"score":0,"creation_date":1536435265,"post_id":21642111,"comment_id":91426018,"body_markdown":"Downvoting, with reference to above BalusC post and  Aniket Kulkarni comment, never manually copy/download/move/include the individual servletcontainer-specific libraries like `servlet-api.jar`, `jsp-api.jar`, `javaee.jar`, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles.","body":"Downvoting, with reference to above BalusC post and  Aniket Kulkarni comment, never manually copy/download/move/include the individual servletcontainer-specific libraries like <code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>javaee.jar</code>, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles."}],"tags":[],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"comment_count":1,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1391835437,"creation_date":1391835437,"answer_id":21642111,"question_id":4076601,"body_markdown":"you can simply copy the `servlet-api.jar` and copy that jar files into lib folder, which is in WEB-INF.\r\nthen just clean and built your project, your errors will be solved.\r\n\r\n      **OR**\r\n\r\nyou can directly add jar files to library by using following steps.\r\n\r\n 1. Right click on project. \r\n 2. Go To Properties.\r\n 3. Go to Java Build Path.\r\n 4. Select Add Library option from tabs.\r\n 5. Add Jar Files\r\n 6. give path of your `servlet-api.jar` file.\r\n 7. Clean and build your project.\r\n ","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>you can simply copy the <code>servlet-api.jar</code> and copy that jar files into lib folder, which is in WEB-INF.\nthen just clean and built your project, your errors will be solved.</p>\n\n<pre><code>  **OR**\n</code></pre>\n\n<p>you can directly add jar files to library by using following steps.</p>\n\n<ol>\n<li>Right click on project. </li>\n<li>Go To Properties.</li>\n<li>Go to Java Build Path.</li>\n<li>Select Add Library option from tabs.</li>\n<li>Add Jar Files</li>\n<li>give path of your <code>servlet-api.jar</code> file.</li>\n<li>Clean and build your project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8695,"reputation":1603,"user_id":15789,"accept_rate":75,"display_name":"RuntimeException"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401380618,"creation_date":1401380618,"answer_id":23938092,"question_id":4076601,"body_markdown":"&gt;&gt; You should above all never manually copy/download/move/include the individual servletcontainer-specific libraries like servlet-api.jar\r\n\r\n@BalusC,\r\n\r\nI would prefer to use the exact classes that my application is going to use rather than one provided by Eclipse (when I am feeling like a paranoid developer). \r\n\r\nAnother solution would be to use Eclipse &quot;Configure Build Path&quot; &gt; Libraries &gt; Add External Jars, and add servlet api of whatever Container one chooses to use.\r\n\r\nAnd follow @kaustav datta&#39;s solution when using ant to build - have a property like tomcat.home or weblogic.home. \r\nHowever it introduces another constraint that the developer must install Weblogic on his/her local machine if weblogic is being used ! \r\nAny other cleaner solution? \r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<blockquote>\n  <blockquote>\n    <p>You should above all never manually copy/download/move/include the individual servletcontainer-specific libraries like servlet-api.jar</p>\n  </blockquote>\n</blockquote>\n\n<p>@BalusC,</p>\n\n<p>I would prefer to use the exact classes that my application is going to use rather than one provided by Eclipse (when I am feeling like a paranoid developer). </p>\n\n<p>Another solution would be to use Eclipse \"Configure Build Path\" > Libraries > Add External Jars, and add servlet api of whatever Container one chooses to use.</p>\n\n<p>And follow @kaustav datta's solution when using ant to build - have a property like tomcat.home or weblogic.home. \nHowever it introduces another constraint that the developer must install Weblogic on his/her local machine if weblogic is being used ! \nAny other cleaner solution? </p>\n"},{"comments":[{"owner":{"account_id":9833768,"reputation":673,"user_id":7284784,"display_name":"Maya Mohite"},"score":1,"creation_date":1490435353,"post_id":25904909,"comment_id":73118463,"body_markdown":"Solution is not working for me still getting below error\nA child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/messenger]]","body":"Solution is not working for me still getting below error A child container failed during start java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardCo&zwnj;&#8203;ntext[/messenger]]"}],"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1411018641,"creation_date":1411018641,"answer_id":25904909,"question_id":4076601,"body_markdown":"**Include servlet-api.jar from your server lib folder.**![enter image description here][1]\r\n\r\n\r\n**Do this step**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yR8bv.png\r\n  [2]: http://i.stack.imgur.com/xhPzu.png","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p><strong>Include servlet-api.jar from your server lib folder.</strong><img src=\"https://i.stack.imgur.com/yR8bv.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Do this step</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/xhPzu.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422702844,"creation_date":1422702844,"answer_id":28250944,"question_id":4076601,"body_markdown":"In my case, when I went to the **Targetted Runtimes**, screen, Tomcat 7 was not listed (disabled) despite being installed.\r\n\r\nTo fix, I had to go to **Preferences-&gt;Server-&gt;Runtime Environments** then uninstall and reinstall Tomcat 7.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>In my case, when I went to the <strong>Targetted Runtimes</strong>, screen, Tomcat 7 was not listed (disabled) despite being installed.</p>\n\n<p>To fix, I had to go to <strong>Preferences->Server->Runtime Environments</strong> then uninstall and reinstall Tomcat 7.</p>\n"},{"tags":[],"owner":{"account_id":2191632,"reputation":1891,"user_id":2232851,"display_name":"Zeeshan Akhter"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1434621593,"creation_date":1434621593,"answer_id":30912254,"question_id":4076601,"body_markdown":"Add javax.servlet dependency in pom.xml. Your problem will be resolved.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Add javax.servlet dependency in pom.xml. Your problem will be resolved.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186587,"reputation":315,"user_id":6162224,"accept_rate":78,"display_name":"PKU"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471623627,"creation_date":1471623627,"answer_id":39043678,"question_id":4076601,"body_markdown":"I know this is an old post. However, I observed another instance where in the project already has Tomcat added but we still get this error. Did this to resolve that:\r\n&lt;br&gt;\r\n&lt;em&gt;Alt&lt;/em&gt; + &lt;em&gt;Enter&lt;/em&gt;\r\n&lt;br&gt;Project Facets\r\n&lt;br&gt;On the right, next to details, is another tab &quot;Runtimes&quot;.\r\nThe installed tomcat server will be listed there. Select it.\r\n&lt;br&gt;\r\nSave the configuration and DONE!\r\n\r\nHope this helps someone.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I know this is an old post. However, I observed another instance where in the project already has Tomcat added but we still get this error. Did this to resolve that:\n<br>\n<em>Alt</em> + <em>Enter</em>\n<br>Project Facets\n<br>On the right, next to details, is another tab \"Runtimes\".\nThe installed tomcat server will be listed there. Select it.\n<br>\nSave the configuration and DONE!</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2695789,"reputation":3222,"user_id":2327879,"accept_rate":78,"display_name":"Erica Kane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506698078,"creation_date":1506698078,"answer_id":46491923,"question_id":4076601,"body_markdown":"Many of us develop in Eclipse via a Maven project. If so,\r\nyou can include Tomcat dependencies in Maven via the `tomcat-servlet-api` and `tomcat-jsp-api` jars. One exists for each version of Tomcat. Usually adding these with scope `provided` to your POM is sufficient. This will keep your build more portable.\r\n\r\nIf you upgrade Tomcat in the future, you simply update the version of these jars as well.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Many of us develop in Eclipse via a Maven project. If so,\nyou can include Tomcat dependencies in Maven via the <code>tomcat-servlet-api</code> and <code>tomcat-jsp-api</code> jars. One exists for each version of Tomcat. Usually adding these with scope <code>provided</code> to your POM is sufficient. This will keep your build more portable.</p>\n\n<p>If you upgrade Tomcat in the future, you simply update the version of these jars as well.</p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522505357,"creation_date":1522505357,"answer_id":49588649,"question_id":4076601,"body_markdown":"For maven projects add following dependancy :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Reference][1]\r\n\r\nFor gradle projects:\r\n\r\n    dependencies {\r\n    providedCompile group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;3.0.1&#39;\r\n    }\r\n\r\nor download `javax.servlet.jar` and add to your project.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=0L9yTE_zFM0","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>For maven projects add following dependancy :</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://www.youtube.com/watch?v=0L9yTE_zFM0\" rel=\"noreferrer\">Reference</a></p>\n\n<p>For gradle projects:</p>\n\n<pre><code>dependencies {\nprovidedCompile group: 'javax.servlet', name: 'javax.servlet-api', version: '3.0.1'\n}\n</code></pre>\n\n<p>or download <code>javax.servlet.jar</code> and add to your project.</p>\n"},{"tags":[],"owner":{"account_id":7507798,"reputation":883,"user_id":5703813,"accept_rate":62,"display_name":"Muhammad Usman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565351761,"creation_date":1565351761,"answer_id":57429575,"question_id":4076601,"body_markdown":"This could be also the reason. i have come up with following `pom.xml`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe unresolved issue was due to exclusion of `spring-boot-starter-tomcat`. Just remove `&lt;exclusions&gt;...&lt;/exclusions&gt;` dependency it will ressolve issue, but **make sure** doing this will also exclude the embedded tomcat server.\r\n\r\nIf you need embedded tomcat server too you can add same dependency with `compile scope`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>This could be also the reason. i have come up with following <code>pom.xml</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The unresolved issue was due to exclusion of <code>spring-boot-starter-tomcat</code>. Just remove <code>&lt;exclusions&gt;...&lt;/exclusions&gt;</code> dependency it will ressolve issue, but <strong>make sure</strong> doing this will also exclude the embedded tomcat server.</p>\n\n<p>If you need embedded tomcat server too you can add same dependency with <code>compile scope</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654772576,"creation_date":1654772576,"answer_id":72559173,"question_id":4076601,"body_markdown":"Assume a simple dynamic Web Project. Ensure Tomcat is present on the project&#39;s build path.\r\n\r\nFirst get the local tomcat instance downloaded/installed on your machine. Assume we installed tomcat v8.5.\r\n\r\nNow configure the Eclipse Global Server Run time Environment\r\n\r\n    Windows &gt; Preferences &gt; Server &gt; Runtime Environments &gt; Add &gt; Apache &gt; Apache Tomcat v8.5 &gt; Next &gt; Browse Tomcat Installation directory &gt; Next &gt; Finish.\r\n\r\nNow create your dynamic web project and we see the import javax.servlet cannot be resolved issue. Resolve this by following below.\r\n\r\n    Right Click On Project &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add Library &gt; Server Runtime &gt; Select your Apache Tomcat instance &gt; Finish &gt; Apply and Close.\r\n\r\nAll Errors will be gone.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Assume a simple dynamic Web Project. Ensure Tomcat is present on the project's build path.</p>\n<p>First get the local tomcat instance downloaded/installed on your machine. Assume we installed tomcat v8.5.</p>\n<p>Now configure the Eclipse Global Server Run time Environment</p>\n<pre><code>Windows &gt; Preferences &gt; Server &gt; Runtime Environments &gt; Add &gt; Apache &gt; Apache Tomcat v8.5 &gt; Next &gt; Browse Tomcat Installation directory &gt; Next &gt; Finish.\n</code></pre>\n<p>Now create your dynamic web project and we see the import javax.servlet cannot be resolved issue. Resolve this by following below.</p>\n<pre><code>Right Click On Project &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add Library &gt; Server Runtime &gt; Select your Apache Tomcat instance &gt; Finish &gt; Apply and Close.\n</code></pre>\n<p>All Errors will be gone.</p>\n"}],"owner":{"account_id":652217,"reputation":4941,"user_id":453821,"accept_rate":96,"display_name":"tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756361,"favorite_count":0,"down_vote_count":0,"up_vote_count":356,"accepted_answer_id":4076706,"answer_count":16,"score":356,"last_activity_date":1677971663,"creation_date":1288692267,"question_id":4076601,"body_markdown":"I want to develop with Servlets in Eclipse, but it says that the package `javax.servlet` / `jakarta.servlet` cannot be resolved. How can I add `javax.servlet` / `jakarta.servlet` package to my Eclipse project?\r\n\r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I want to develop with Servlets in Eclipse, but it says that the package <code>javax.servlet</code> / <code>jakarta.servlet</code> cannot be resolved. How can I add <code>javax.servlet</code> / <code>jakarta.servlet</code> package to my Eclipse project?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1677971638,"post_id":75639226,"comment_id":133443542,"body_markdown":"tl;dr: Spring-boot switched from JavaEE to JakartaEE in version 3.0.0. Just use `jakarta.ws.rs.core.Configuration`.","body":"tl;dr: Spring-boot switched from JavaEE to JakartaEE in version 3.0.0. Just use <code>jakarta.ws.rs.core.Configuration</code>."}],"owner":{"account_id":3184506,"reputation":49,"user_id":2690538,"accept_rate":75,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677971506,"answer_count":0,"score":0,"last_activity_date":1677971570,"creation_date":1677971336,"question_id":75639226,"body_markdown":"I am trying to connect to Docker Daemon using docker-java client api in a spring-boot application (version 3.1.0-SNAPSHOT) by following this tutorial -\r\nhttps://www.baeldung.com/docker-java-api. But I am getting below exception. \r\n\r\n````\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.dockerjava.api.DockerClient]: Factory method &#39;dockerClient&#39; threw exception with message: javax/ws/rs/core/Configuration\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration\r\n\tat com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124) ~[docker-java-transport-jersey-3.3.0.jar:na]\r\n\tat com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106) ~[docker-java-3.3.0.jar:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit.dockerClient(DockerClientInit.java:18) ~[classes/:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.CGLIB$dockerClient$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.dockerClient(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 48 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.core.Configuration\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 61 common frames omitted\r\n````\r\n\r\n**If I include below dependency**\r\n\r\n````\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\nthen I get below exception -\r\n\r\n````\r\nCaused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/Users/vivek/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.0.1/javax.ws.rs-api-2.0.1\r\n````\r\n\r\n\r\n\r\n\r\n\r\nI am kind of stuck with this error for days and I am not sure how to resolve this. It seems like Jakarta and Javax has some conflicts. Any help would be appreciated. Thanks in Advance\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPOM content - \r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.danfoss.exercise.docker.simulation&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Simulation-Exercise&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Simulation-Exercise&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\n\r\nOutput of mvn dependency:tree\r\n\r\n````\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ Simulation-Exercise ---\r\n[INFO] com.danfoss.exercise.docker.simulation:Simulation-Exercise:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.5:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.5:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.0:runtime\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:runtime\r\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:runtime\r\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\r\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:runtime\r\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:compile\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.0-M2:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.0-M2:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.5:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.5:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-jersey:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.5:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.0-M1:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.0-M1:compile\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:compile\r\n[INFO] |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n[INFO] |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:compile\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.1:compile\r\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] |  +- org.glassfish.jersey.ext:jersey-bean-validation:jar:3.1.1:compile\r\n[INFO] |  +- org.glassfish.jersey.ext:jersey-spring6:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\r\n[INFO] |  |  |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\r\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:compile\r\n[INFO] |  |  +- org.glassfish.hk2:hk2:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-core:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-runlevel:jar:3.0.3:compile\r\n[INFO] |  |  |  \\- org.glassfish.hk2:class-model:jar:3.0.3:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-analysis:jar:9.2:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-commons:jar:9.2:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-tree:jar:9.2:compile\r\n[INFO] |  |  |     \\- org.ow2.asm:asm-util:jar:9.2:compile\r\n[INFO] |  |  \\- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\r\n[INFO] |  \\- org.glassfish.jersey.media:jersey-media-json-jackson:jar:3.1.1:compile\r\n[INFO] |     +- org.glassfish.jersey.ext:jersey-entity-filtering:jar:3.1.1:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.14.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.5:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.5:compile\r\n[INFO] +- com.github.docker-java:docker-java:jar:3.3.0:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-core:jar:3.3.0:compile\r\n[INFO] |  |  +- com.github.docker-java:docker-java-api:jar:3.3.0:compile\r\n[INFO] |  |  +- com.github.docker-java:docker-java-transport:jar:3.3.0:compile\r\n[INFO] |  |  +- commons-io:commons-io:jar:2.6:compile\r\n[INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\r\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |  +- com.google.guava:guava:jar:19.0:compile\r\n[INFO] |  |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.64:compile\r\n[INFO] |  |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.64:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-transport-jersey:jar:3.3.0:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.14.2:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\r\n[INFO] |  |  +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.1:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\r\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  |  +- com.kohlschutter.junixsocket:junixsocket-common:jar:2.6.1:compile\r\n[INFO] |  |  \\- com.kohlschutter.junixsocket:junixsocket-native-common:jar:2.6.1:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-transport-netty:jar:3.3.0:compile\r\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-transport:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.89.Final:compile\r\n[INFO] |  |  \\- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.89.Final:compile\r\n[INFO] |  |     \\- io.netty:netty-transport-classes-kqueue:jar:4.1.89.Final:compile\r\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.26:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.11.0:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.0:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.11.0:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.5:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.5:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.5:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.686 s\r\n[INFO] Finished at: 2023-03-04T23:56:43+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n````\r\n\r\n\r\n","title":"Caused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration","body":"<p>I am trying to connect to Docker Daemon using docker-java client api in a spring-boot application (version 3.1.0-SNAPSHOT) by following this tutorial -\n<a href=\"https://www.baeldung.com/docker-java-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/docker-java-api</a>. But I am getting below exception.</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.dockerjava.api.DockerClient]: Factory method 'dockerClient' threw exception with message: javax/ws/rs/core/Configuration\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 47 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration\n    at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124) ~[docker-java-transport-jersey-3.3.0.jar:na]\n    at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106) ~[docker-java-3.3.0.jar:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit.dockerClient(DockerClientInit.java:18) ~[classes/:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.CGLIB$dockerClient$0(&lt;generated&gt;) ~[classes/:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.5.jar:6.0.5]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.dockerClient(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.core.Configuration\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 61 common frames omitted\n</code></pre>\n<p><strong>If I include below dependency</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then I get below exception -</p>\n<pre><code>Caused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/Users/vivek/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.0.1/javax.ws.rs-api-2.0.1\n</code></pre>\n<p>I am kind of stuck with this error for days and I am not sure how to resolve this. It seems like Jakarta and Javax has some conflicts. Any help would be appreciated. Thanks in Advance</p>\n<p>POM content -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.danfoss.exercise.docker.simulation&lt;/groupId&gt;\n    &lt;artifactId&gt;Simulation-Exercise&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Simulation-Exercise&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Output of mvn dependency:tree</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ Simulation-Exercise ---\n[INFO] com.danfoss.exercise.docker.simulation:Simulation-Exercise:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.5:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.5:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.0:runtime\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:runtime\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:runtime\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:runtime\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:compile\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.0-M2:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.0-M2:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.5:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.5:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-jersey:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.5:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.0-M1:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.0-M1:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:compile\n[INFO] |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.1:compile\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  +- org.glassfish.jersey.ext:jersey-bean-validation:jar:3.1.1:compile\n[INFO] |  +- org.glassfish.jersey.ext:jersey-spring6:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:compile\n[INFO] |  |  +- org.glassfish.hk2:hk2:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-core:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-runlevel:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.glassfish.hk2:class-model:jar:3.0.3:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-analysis:jar:9.2:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-commons:jar:9.2:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-tree:jar:9.2:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm-util:jar:9.2:compile\n[INFO] |  |  \\- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\n[INFO] |  \\- org.glassfish.jersey.media:jersey-media-json-jackson:jar:3.1.1:compile\n[INFO] |     +- org.glassfish.jersey.ext:jersey-entity-filtering:jar:3.1.1:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.14.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.5:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.5:compile\n[INFO] +- com.github.docker-java:docker-java:jar:3.3.0:compile\n[INFO] |  +- com.github.docker-java:docker-java-core:jar:3.3.0:compile\n[INFO] |  |  +- com.github.docker-java:docker-java-api:jar:3.3.0:compile\n[INFO] |  |  +- com.github.docker-java:docker-java-transport:jar:3.3.0:compile\n[INFO] |  |  +- commons-io:commons-io:jar:2.6:compile\n[INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |  +- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.64:compile\n[INFO] |  |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.64:compile\n[INFO] |  +- com.github.docker-java:docker-java-transport-jersey:jar:3.3.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.14.2:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\n[INFO] |  |  +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.1:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  +- com.kohlschutter.junixsocket:junixsocket-common:jar:2.6.1:compile\n[INFO] |  |  \\- com.kohlschutter.junixsocket:junixsocket-native-common:jar:2.6.1:compile\n[INFO] |  +- com.github.docker-java:docker-java-transport-netty:jar:3.3.0:compile\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-transport:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.89.Final:compile\n[INFO] |  |  \\- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.89.Final:compile\n[INFO] |  |     \\- io.netty:netty-transport-classes-kqueue:jar:4.1.89.Final:compile\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.26:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.11.0:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.0:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.11.0:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.5:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.5:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.5:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.686 s\n[INFO] Finished at: 2023-03-04T23:56:43+01:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","kotlin","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"score":0,"creation_date":1582799975,"post_id":60382494,"comment_id":106905181,"body_markdown":"So is there a particular Port that I should be using? \n\nI&#39;ll check the code samples now, thank you for leaving the link.","body":"So is there a particular Port that I should be using?   I&#39;ll check the code samples now, thank you for leaving the link."},{"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"score":0,"creation_date":1582921653,"post_id":60382494,"comment_id":106956225,"body_markdown":"Usually a mobile app uses a private use URI scheme - not a loopback web server - I doubt you&#39;ll get loopback working reliably for a mobile app","body":"Usually a mobile app uses a private use URI scheme - not a loopback web server - I doubt you&#39;ll get loopback working reliably for a mobile app"}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582571433,"creation_date":1582571433,"answer_id":60382494,"question_id":60345664,"body_markdown":"Hmm - looks like you are running a loopback web server on port 8888, which is more of a desktop solution than a mobile one.\r\n\r\nYou are likely to get a more user friendly and reliable solution by logging in via a Chrome Custom Tab and using Google AppAuth libraries. It is not easy though.\r\n\r\nMaybe have a look at my [Tutorial + Code Sample](https://authguidance.com/2019/09/13/android-code-sample-overview/) which may at least give you something to compare against.\r\n\r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>Hmm - looks like you are running a loopback web server on port 8888, which is more of a desktop solution than a mobile one.</p>\n\n<p>You are likely to get a more user friendly and reliable solution by logging in via a Chrome Custom Tab and using Google AppAuth libraries. It is not easy though.</p>\n\n<p>Maybe have a look at my <a href=\"https://authguidance.com/2019/09/13/android-code-sample-overview/\" rel=\"nofollow noreferrer\">Tutorial + Code Sample</a> which may at least give you something to compare against.</p>\n"},{"comments":[{"owner":{"account_id":14646821,"reputation":553,"user_id":10577926,"display_name":"Adnan haider"},"score":0,"creation_date":1635590018,"post_id":60432827,"comment_id":123342555,"body_markdown":"after  implement same at all i got error about oAuth not implemented @Marc Freeman","body":"after  implement same at all i got error about oAuth not implemented @Marc Freeman"},{"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"score":0,"creation_date":1640375961,"post_id":60432827,"comment_id":124580641,"body_markdown":"Hi, unfortunately I have no idea if the API has changed in the year and 10 months since I ran into this problem and I no longer develop Android with Kotlin.","body":"Hi, unfortunately I have no idea if the API has changed in the year and 10 months since I ran into this problem and I no longer develop Android with Kotlin."}],"tags":[],"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1582805017,"creation_date":1582805017,"answer_id":60432827,"question_id":60345664,"body_markdown":"I copied [dnsiv&#39;s](https://stackoverflow.com/questions/52850911/java-awt-desktop-class) answer and overridden ```AuthorizationCodeInstalledApp``` and I now have the following code: \r\n\r\n```\r\nprivate fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\r\n\r\n        val inputStream: InputStream = getCredentialsAsInputStream()\r\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\r\n\r\n        createTokenFolderIfMissing()\r\n\r\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\r\n\r\n        val ab: AuthorizationCodeInstalledApp =\r\n            object : AuthorizationCodeInstalledApp(authorisationFlow, LocalServerReceiver()) {\r\n                @Throws(IOException::class)\r\n                override fun onAuthorization(authorizationUrl: AuthorizationCodeRequestUrl) {\r\n                    val url = authorizationUrl.build()\r\n                    val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\r\n                    context.startActivity(browserIntent)\r\n                }\r\n            }\r\n\r\n        return ab.authorize(&quot;user&quot;).setAccessToken(&quot;user&quot;)\r\n```","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I copied <a href=\"https://stackoverflow.com/questions/52850911/java-awt-desktop-class\">dnsiv's</a> answer and overridden <code>AuthorizationCodeInstalledApp</code> and I now have the following code: </p>\n\n<pre><code>private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\n\n        val inputStream: InputStream = getCredentialsAsInputStream()\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\n\n        createTokenFolderIfMissing()\n\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\n\n        val ab: AuthorizationCodeInstalledApp =\n            object : AuthorizationCodeInstalledApp(authorisationFlow, LocalServerReceiver()) {\n                @Throws(IOException::class)\n                override fun onAuthorization(authorizationUrl: AuthorizationCodeRequestUrl) {\n                    val url = authorizationUrl.build()\n                    val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\n                    context.startActivity(browserIntent)\n                }\n            }\n\n        return ab.authorize(\"user\").setAccessToken(\"user\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27884730,"reputation":24,"user_id":21292471,"display_name":"etunnel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677971381,"creation_date":1677971381,"answer_id":75639230,"question_id":60345664,"body_markdown":"I&#39;ve gone through many learning curves including reading and implementing the idea from this posting. I finally figured this problem out and described my finding: https://stackoverflow.com/questions/74512198/use-google-sign-in-to-connect-to-google-sheets-api/75575824#75575824\r\n\r\nThe key is to follow the example from https://github.com/googlesamples/google-services/tree/master/android/signin to create a GoogleSignInAccount obj. Then, create a GoogleAccountCredential obj. to be used as the credential to Sheets.Builder.\r\n\r\nCode skeleton\r\n```\r\nGoogleSignInAccount signedInAccount = GoogleSignIn.getLastSignedInAccount(this);\r\nAccount account = signedInAccount.getAccount();\r\nGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\r\n                                context,\r\n                                Collections.singleton(&quot;https://www.googleapis.com/auth/spreadsheets&quot;));\r\ncredential.setSelectedAccount(account);\r\n\r\nSheets service =\r\n\tnew Sheets.Builder(httpTransport, GsonFactory.getDefaultInstance(), credential)\r\n\t\t\t.setApplicationName(&quot;Google Sheets API&quot;)\r\n\t\t\t.build();\r\n```\r\n*NOTE*: &quot;https://www.googleapis.com/auth/spreadsheets&quot; is the SCOPE for the sheets API.\r\n\r\nI hope that saves the reader time in the future. What I learned along this journey is that this authentication method changes. Pay attention to the date. Let me know when my finding is no longer valid.\r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I've gone through many learning curves including reading and implementing the idea from this posting. I finally figured this problem out and described my finding: <a href=\"https://stackoverflow.com/questions/74512198/use-google-sign-in-to-connect-to-google-sheets-api/75575824#75575824\">use google sign in to connect to google sheets api</a></p>\n<p>The key is to follow the example from <a href=\"https://github.com/googlesamples/google-services/tree/master/android/signin\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/google-services/tree/master/android/signin</a> to create a GoogleSignInAccount obj. Then, create a GoogleAccountCredential obj. to be used as the credential to Sheets.Builder.</p>\n<p>Code skeleton</p>\n<pre><code>GoogleSignInAccount signedInAccount = GoogleSignIn.getLastSignedInAccount(this);\nAccount account = signedInAccount.getAccount();\nGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\n                                context,\n                                Collections.singleton(&quot;https://www.googleapis.com/auth/spreadsheets&quot;));\ncredential.setSelectedAccount(account);\n\nSheets service =\n    new Sheets.Builder(httpTransport, GsonFactory.getDefaultInstance(), credential)\n            .setApplicationName(&quot;Google Sheets API&quot;)\n            .build();\n</code></pre>\n<p><em>NOTE</em>: &quot;https://www.googleapis.com/auth/spreadsheets&quot; is the SCOPE for the sheets API.</p>\n<p>I hope that saves the reader time in the future. What I learned along this journey is that this authentication method changes. Pay attention to the date. Let me know when my finding is no longer valid.</p>\n"}],"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60432827,"answer_count":3,"score":2,"last_activity_date":1677971381,"creation_date":1582316133,"question_id":60345664,"body_markdown":"I&#39;m trying to Authenticate into Google Oauth with Android, I successfully authenticate, store my credentials and auth token but then there&#39;s one particular piece of code that I am falling over at; returning an instance of ```AuthorizationCodeInstalledApp```. The problem seems to be that this API is made for Java desktop applications and is trying to load a browser instance. Here is my ```GoogleCredentialsUtilityModule```, a slightly refactored version of the code that is shown in the Android developer docs: \r\n\r\n```package com.example.bluelightlite.modules\r\n\r\nimport android.content.Context\r\nimport android.os.AsyncTask\r\nimport com.example.bluelightlite.constants.CREDENTIALS_FILE_PATH\r\nimport com.example.bluelightlite.constants.JSON_FACTORY\r\nimport com.example.bluelightlite.constants.SCOPES\r\nimport com.example.bluelightlite.constants.TOKENS_DIRECTORY_PATH\r\nimport com.google.api.client.auth.oauth2.Credential\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets\r\nimport com.google.api.client.http.javanet.NetHttpTransport\r\nimport com.google.api.client.util.store.FileDataStoreFactory\r\nimport java.io.File\r\nimport java.io.FileNotFoundException\r\nimport java.io.InputStream\r\nimport java.io.InputStreamReader\r\n\r\n\r\nclass GoogleCredentialsUtilityModule constructor(private val context: Context): AsyncTask&lt;NetHttpTransport, Void, Credential&gt;() {\r\n\r\n    /**\r\n     * Starts getting credentials on a different thread by implementing\r\n     * AsyncTask&lt;&gt;()\r\n     * @param params: a list of parameters\r\n     * @return Google Credentials that come from this.getCredentials()\r\n     */\r\n    override fun doInBackground(vararg params: NetHttpTransport): Credential {\r\n        return this.getCredentials(params[0])\r\n    }\r\n\r\n    /**\r\n     * Creates an authorized Credential object.\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws java.io.IOException If the credentials.json file cannot be found.\r\n     */\r\n    private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\r\n\r\n        val inputStream: InputStream = getCredentialsAsInputStream()\r\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\r\n\r\n        createTokenFolderIfMissing()\r\n\r\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\r\n        val receiver: LocalServerReceiver = LocalServerReceiver.Builder()\r\n            .setPort(8888)\r\n            .build()\r\n\r\n        return AuthorizationCodeInstalledApp(authorisationFlow, receiver).authorize(&quot;user&quot;) //falls over here\r\n    }\r\n\r\n    /**\r\n     * Gets the /credentials.json file\r\n     * @return InputStream\r\n     */\r\n    private fun getCredentialsAsInputStream(): InputStream {\r\n        return this.javaClass.getResourceAsStream(CREDENTIALS_FILE_PATH)\r\n            ?: throw FileNotFoundException(&quot;Resource Not found: $CREDENTIALS_FILE_PATH&quot;)\r\n    }\r\n\r\n    /**\r\n     * Creates the Tokens Folder for Google Authentication\r\n     * Uses the current context for the folder path from\r\n     * Context.getExternalFilesDir()\r\n     */\r\n    private fun createTokenFolderIfMissing() {\r\n        val tokenFolder = getTokenFolder()\r\n        if (!tokenFolder.exists()) {\r\n            tokenFolder.mkdir()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets External storage directory from the\r\n     * current context\r\n     * @return File\r\n     */\r\n    private fun getTokenFolder(): File {\r\n        return File(this.context.getExternalFilesDir(&quot;&quot;)?.absolutePath + TOKENS_DIRECTORY_PATH)\r\n    }\r\n\r\n    /**\r\n     * Gets authorisation flow so that the application can authenticate into Google Calendars\r\n     * @param HTTP_TRANSPORT allows the app to use HTTP connections\r\n     * @param clientSecrets secrets for authentication into Google\r\n     * @return GoogleAuthorizationCodeFlow\r\n     */\r\n    private fun getAuthorisationFlow(HTTP_TRANSPORT: NetHttpTransport, clientSecrets: GoogleClientSecrets): GoogleAuthorizationCodeFlow {\r\n        return GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n            .setDataStoreFactory(FileDataStoreFactory(getTokenFolder()))\r\n            .setAccessType(&quot;offline&quot;)\r\n            .build()\r\n    }\r\n}\r\n```\r\n\r\nHere is my error message:\r\n\r\n\r\n```\r\n02/21 20:04:33: Launching &#39;app&#39; on Pixel 3 XL API 29.\r\n$ adb shell am start -n &quot;com.example.bluelightlite/com.example.bluelightlite.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 9795 on device &#39;Pixel_3_XL_API_29 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nD/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\nW/RenderThread: type=1400 audit(0.0:48): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6831 scontext=u:r:untrusted_app:s0:c133,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.example.bluelightlite\r\nW/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\nW/System.err: 2020-02-21 20:04:39.683:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\r\n    2020-02-21 20:04:39.684:INFO::jetty-0.0\r\nW/System.err: 2020-02-21 20:04:39.805:INFO::Started SocketConnector@localhost:8888\r\nI/System.out: Please open the following address in your browser:\r\n      https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=475059597551-bugt3i0nnfe7unsoqt8ghu2ovm7dfrqg.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8888/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.readonly\r\nW/System.err: 2020-02-21 20:04:39.823:INFO::Stopped SocketConnector@localhost:8888\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.bluelightlite, PID: 9795\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.bluelightlite/com.example.bluelightlite.MainActivity}: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n        at android.os.AsyncTask.get(AsyncTask.java:602)\r\n        at com.example.bluelightlite.models.GoogleCalenderCredentials.&lt;init&gt;(GoogleCalanderCredentials.kt:15)\r\n        at com.example.bluelightlite.modules.GoogleCalendarsServiceModule.&lt;init&gt;(GoogleCalendarsServiceModule.kt:11)\r\n        at com.example.bluelightlite.MainActivity.onCreate(MainActivity.kt:25)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.awt.Desktop&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)&#160;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)&#160;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)&#160;\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)&#160;\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\nI/Process: Sending signal. PID: 9795 SIG: 9\r\n```\r\n\r\nI can&#39;t seem to find any alternative to ```AuthorizationCodeInstalledApp```. Any advice? Should I write my own Authentication code? Is there an Android version of AuthorizationCodeInstalledApp that I can use? I&#39;m finding the documentation so vague and hard to read. \r\n\r\nDeveloping on API 29 using a Google Pixel 3 XL. \r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I'm trying to Authenticate into Google Oauth with Android, I successfully authenticate, store my credentials and auth token but then there's one particular piece of code that I am falling over at; returning an instance of <code>AuthorizationCodeInstalledApp</code>. The problem seems to be that this API is made for Java desktop applications and is trying to load a browser instance. Here is my <code>GoogleCredentialsUtilityModule</code>, a slightly refactored version of the code that is shown in the Android developer docs: </p>\n\n<pre><code>\nimport android.content.Context\nimport android.os.AsyncTask\nimport com.example.bluelightlite.constants.CREDENTIALS_FILE_PATH\nimport com.example.bluelightlite.constants.JSON_FACTORY\nimport com.example.bluelightlite.constants.SCOPES\nimport com.example.bluelightlite.constants.TOKENS_DIRECTORY_PATH\nimport com.google.api.client.auth.oauth2.Credential\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets\nimport com.google.api.client.http.javanet.NetHttpTransport\nimport com.google.api.client.util.store.FileDataStoreFactory\nimport java.io.File\nimport java.io.FileNotFoundException\nimport java.io.InputStream\nimport java.io.InputStreamReader\n\n\nclass GoogleCredentialsUtilityModule constructor(private val context: Context): AsyncTask&lt;NetHttpTransport, Void, Credential&gt;() {\n\n    /**\n     * Starts getting credentials on a different thread by implementing\n     * AsyncTask&lt;&gt;()\n     * @param params: a list of parameters\n     * @return Google Credentials that come from this.getCredentials()\n     */\n    override fun doInBackground(vararg params: NetHttpTransport): Credential {\n        return this.getCredentials(params[0])\n    }\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws java.io.IOException If the credentials.json file cannot be found.\n     */\n    private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\n\n        val inputStream: InputStream = getCredentialsAsInputStream()\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\n\n        createTokenFolderIfMissing()\n\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\n        val receiver: LocalServerReceiver = LocalServerReceiver.Builder()\n            .setPort(8888)\n            .build()\n\n        return AuthorizationCodeInstalledApp(authorisationFlow, receiver).authorize(\"user\") //falls over here\n    }\n\n    /**\n     * Gets the /credentials.json file\n     * @return InputStream\n     */\n    private fun getCredentialsAsInputStream(): InputStream {\n        return this.javaClass.getResourceAsStream(CREDENTIALS_FILE_PATH)\n            ?: throw FileNotFoundException(\"Resource Not found: $CREDENTIALS_FILE_PATH\")\n    }\n\n    /**\n     * Creates the Tokens Folder for Google Authentication\n     * Uses the current context for the folder path from\n     * Context.getExternalFilesDir()\n     */\n    private fun createTokenFolderIfMissing() {\n        val tokenFolder = getTokenFolder()\n        if (!tokenFolder.exists()) {\n            tokenFolder.mkdir()\n        }\n    }\n\n    /**\n     * gets External storage directory from the\n     * current context\n     * @return File\n     */\n    private fun getTokenFolder(): File {\n        return File(this.context.getExternalFilesDir(\"\")?.absolutePath + TOKENS_DIRECTORY_PATH)\n    }\n\n    /**\n     * Gets authorisation flow so that the application can authenticate into Google Calendars\n     * @param HTTP_TRANSPORT allows the app to use HTTP connections\n     * @param clientSecrets secrets for authentication into Google\n     * @return GoogleAuthorizationCodeFlow\n     */\n    private fun getAuthorisationFlow(HTTP_TRANSPORT: NetHttpTransport, clientSecrets: GoogleClientSecrets): GoogleAuthorizationCodeFlow {\n        return GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(FileDataStoreFactory(getTokenFolder()))\n            .setAccessType(\"offline\")\n            .build()\n    }\n}\n</code></pre>\n\n<p>Here is my error message:</p>\n\n<pre><code>02/21 20:04:33: Launching 'app' on Pixel 3 XL API 29.\n$ adb shell am start -n \"com.example.bluelightlite/com.example.bluelightlite.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 9795 on device 'Pixel_3_XL_API_29 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nD/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\nW/RenderThread: type=1400 audit(0.0:48): avc: denied { write } for name=\"property_service\" dev=\"tmpfs\" ino=6831 scontext=u:r:untrusted_app:s0:c133,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.example.bluelightlite\nW/libc: Unable to set property \"qemu.gles\" to \"1\": connection failed; errno=13 (Permission denied)\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\nW/System.err: 2020-02-21 20:04:39.683:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\n    2020-02-21 20:04:39.684:INFO::jetty-0.0\nW/System.err: 2020-02-21 20:04:39.805:INFO::Started SocketConnector@localhost:8888\nI/System.out: Please open the following address in your browser:\n      https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=475059597551-bugt3i0nnfe7unsoqt8ghu2ovm7dfrqg.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8888/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.readonly\nW/System.err: 2020-02-21 20:04:39.823:INFO::Stopped SocketConnector@localhost:8888\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.bluelightlite, PID: 9795\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.bluelightlite/com.example.bluelightlite.MainActivity}: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n        at android.os.AsyncTask.get(AsyncTask.java:602)\n        at com.example.bluelightlite.models.GoogleCalenderCredentials.&lt;init&gt;(GoogleCalanderCredentials.kt:15)\n        at com.example.bluelightlite.modules.GoogleCalendarsServiceModule.&lt;init&gt;(GoogleCalendarsServiceModule.kt:11)\n        at com.example.bluelightlite.MainActivity.onCreate(MainActivity.kt:25)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:919)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"java.awt.Desktop\" on path: DexPathList[[zip file \"/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/base.apk\"],nativeLibraryDirectories=[/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129) \n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113) \n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22) \n        at android.os.AsyncTask$3.call(AsyncTask.java:378) \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:919) \nI/Process: Sending signal. PID: 9795 SIG: 9\n</code></pre>\n\n<p>I can't seem to find any alternative to <code>AuthorizationCodeInstalledApp</code>. Any advice? Should I write my own Authentication code? Is there an Android version of AuthorizationCodeInstalledApp that I can use? I'm finding the documentation so vague and hard to read. </p>\n\n<p>Developing on API 29 using a Google Pixel 3 XL. </p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677797847,"post_id":75597205,"comment_id":133413844,"body_markdown":"what  Internal_API_For_Secrets() does?","body":"what  Internal_API_For_Secrets() does?"},{"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"score":0,"creation_date":1677849035,"post_id":75597205,"comment_id":133423032,"body_markdown":"Its an internal java package for retrieving username and password from a third party vault.","body":"Its an internal java package for retrieving username and password from a third party vault."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677852215,"post_id":75597205,"comment_id":133423963,"body_markdown":"take a look at the answer, let me know if it helps","body":"take a look at the answer, let me know if it helps"}],"answers":[{"comments":[{"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"score":0,"creation_date":1678128842,"post_id":75621555,"comment_id":133470029,"body_markdown":"The second method with the modifications to SecretImpl works for my case, thank you very much.","body":"The second method with the modifications to SecretImpl works for my case, thank you very much."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1678141453,"post_id":75621555,"comment_id":133472927,"body_markdown":"You are very welcome @SVill. I am very happy to hear that the answer was helpful.","body":"You are very welcome @SVill. I am very happy to hear that the answer was helpful."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677970489,"creation_date":1677797350,"answer_id":75621555,"question_id":75597205,"body_markdown":"Probably the best way to go would be using [SpEL expressions](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions) for accessing either system properties or system environment variables with your credentials configuration.\r\n\r\nThe approach is described in the [Spring documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-beandef-xml-based).\r\n\r\nFor example, you can define system properties like this when running your program:\r\n\r\n```\r\n-Dmongo_username=your_username -Dmongo_password=your_password\r\n```\r\n\r\nand then reference those properties in your XML configuration like this:\r\n\r\n```xml\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemProperties[&#39;mongo_username&#39;]}:#{systemProperties[&#39;mongo_password&#39;]}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nOr preferably, you can define the same information using environment variables. For example, in Linux or Unix based systems:\r\n\r\n```\r\nexport MONGO_USERNAME=your_username\r\nexport MONGO_PASSWORD=your_password\r\n```\r\n\r\nand use those variables like this:\r\n\r\n```xml\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemEnvironment[&#39;MONGO_USERNAME&#39;]}:#{systemEnvironment[&#39;MONGO_PASSWORD&#39;]}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nI am not sure if it will work, because it highly depends on how you are obtaining the credentials, but you could define a bean corresponding to a slightly modified version of your `SecretImpl` class:\r\n\r\n```java\r\npublic class SecretImpl {\r\n\r\n    Secret secret = Internal_API_For_Secrets();\r\n\r\n    public String getUsername() {\r\n        return secret.getUsername();\r\n    }\r\n\r\n    public String getPassword() {\r\n        return secret.getUsername();\r\n    }\r\n}\r\n```\r\n\r\nin your XML file and reference the corresponding properties in your Mongo configuration, using SpEL again:\r\n\r\n```xml\r\n&lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot; /&gt;\r\n\r\n&lt;mongo:db-factory\r\n  id=&quot;mongo_connection&quot;\r\n  client-uri=&quot;mongodb://#{secretImpl.username}:#{secretImpl.password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nFinally, you could try providing a modified version of the `MongoDatabaseFactory` for taking into account the API for obtaining the credentials. It is unclear in your question the version of the Spring Data library for Mongo that you are using, but assuming the most recent, the `MongoDatabaseFactory` abstraction is implemented in [`SimpleMongoClientDatabaseFactory`](https://github.com/spring-projects/spring-data-mongodb/blob/fbf4d1baa8473cf97ce892c14bad807d8f960657/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoClientDatabaseFactory.java). The proposed solution will then consist of defining a class that, for example, extends that class providing the necessary artifacts for dealing with your API for obtaining the required credentials, something like (please, excuse the simplicity of the code):\r\n\r\n```java\r\npublic class MyCredentialVaultMongoClientDatabaseFactory\r\n  extends SimpleMongoClientDatabaseFactory {\r\n\r\n  // For instance, you can keep a reference to the class required\r\n  // for obtaining your credentials for separation of concerns\r\n  // or use this factory class itself for fetching the credentials\r\n  // private SecretImpl secretImpl;\r\n\r\n  public MyCredentialVaultMongoClientDatabaseFactory(String connectionStringPattern, SecretImpl secretImpl) {\r\n    super(\r\n      connectionStringPattern.format(\r\n        secretImpl.getUsername(),\r\n        secretImpl.getPassword()\r\n      )\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nYour XML configuration could look similar to this (based for instance on [this](https://github.com/spring-projects/spring-data-mongodb/blob/f088c94548142fbb0d598a814b9bfc6c8f35a0dc/spring-data-mongodb/src/test/resources/infrastructure.xml)):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot;&gt;\r\n\t\t&lt;!-- properties for accessing your vault --&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mongoDbFactory&quot; class=&quot;your.pkg.MyCredentialVaultMongoClientDatabaseFactory&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;connectionStringPattern&quot; value=&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;/&gt;\r\n\t\t&lt;constructor-arg name=&quot;secretImpl&quot; ref=&quot;secretImpl&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot;/&gt;\r\n\t\t&lt;property name=&quot;writeConcern&quot; value=&quot;majority&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>Probably the best way to go would be using <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL expressions</a> for accessing either system properties or system environment variables with your credentials configuration.</p>\n<p>The approach is described in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-beandef-xml-based\" rel=\"nofollow noreferrer\">Spring documentation</a>.</p>\n<p>For example, you can define system properties like this when running your program:</p>\n<pre><code>-Dmongo_username=your_username -Dmongo_password=your_password\n</code></pre>\n<p>and then reference those properties in your XML configuration like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemProperties['mongo_username']}:#{systemProperties['mongo_password']}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>Or preferably, you can define the same information using environment variables. For example, in Linux or Unix based systems:</p>\n<pre><code>export MONGO_USERNAME=your_username\nexport MONGO_PASSWORD=your_password\n</code></pre>\n<p>and use those variables like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemEnvironment['MONGO_USERNAME']}:#{systemEnvironment['MONGO_PASSWORD']}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>I am not sure if it will work, because it highly depends on how you are obtaining the credentials, but you could define a bean corresponding to a slightly modified version of your <code>SecretImpl</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecretImpl {\n\n    Secret secret = Internal_API_For_Secrets();\n\n    public String getUsername() {\n        return secret.getUsername();\n    }\n\n    public String getPassword() {\n        return secret.getUsername();\n    }\n}\n</code></pre>\n<p>in your XML file and reference the corresponding properties in your Mongo configuration, using SpEL again:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot; /&gt;\n\n&lt;mongo:db-factory\n  id=&quot;mongo_connection&quot;\n  client-uri=&quot;mongodb://#{secretImpl.username}:#{secretImpl.password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>Finally, you could try providing a modified version of the <code>MongoDatabaseFactory</code> for taking into account the API for obtaining the credentials. It is unclear in your question the version of the Spring Data library for Mongo that you are using, but assuming the most recent, the <code>MongoDatabaseFactory</code> abstraction is implemented in <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/fbf4d1baa8473cf97ce892c14bad807d8f960657/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoClientDatabaseFactory.java\" rel=\"nofollow noreferrer\"><code>SimpleMongoClientDatabaseFactory</code></a>. The proposed solution will then consist of defining a class that, for example, extends that class providing the necessary artifacts for dealing with your API for obtaining the required credentials, something like (please, excuse the simplicity of the code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCredentialVaultMongoClientDatabaseFactory\n  extends SimpleMongoClientDatabaseFactory {\n\n  // For instance, you can keep a reference to the class required\n  // for obtaining your credentials for separation of concerns\n  // or use this factory class itself for fetching the credentials\n  // private SecretImpl secretImpl;\n\n  public MyCredentialVaultMongoClientDatabaseFactory(String connectionStringPattern, SecretImpl secretImpl) {\n    super(\n      connectionStringPattern.format(\n        secretImpl.getUsername(),\n        secretImpl.getPassword()\n      )\n    );\n  }\n}\n</code></pre>\n<p>Your XML configuration could look similar to this (based for instance on <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/f088c94548142fbb0d598a814b9bfc6c8f35a0dc/spring-data-mongodb/src/test/resources/infrastructure.xml\" rel=\"nofollow noreferrer\">this</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n\n    &lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot;&gt;\n        &lt;!-- properties for accessing your vault --&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mongoDbFactory&quot; class=&quot;your.pkg.MyCredentialVaultMongoClientDatabaseFactory&quot;&gt;\n        &lt;constructor-arg name=&quot;connectionStringPattern&quot; value=&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;/&gt;\n        &lt;constructor-arg name=&quot;secretImpl&quot; ref=&quot;secretImpl&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\n        &lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot;/&gt;\n        &lt;property name=&quot;writeConcern&quot; value=&quot;majority&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677852813,"creation_date":1677799524,"answer_id":75621781,"question_id":75597205,"body_markdown":"Actually it is not clear what `Secret secret = Internal_API_For_Secrets();` does.\r\n\r\nBut you could register your own properties on application startup in `ConfigurableEnvironment`\r\n\r\n# First option\r\n\r\nYou can achieve it the following way:\r\n\r\nImplement your own `EnvironmentPostProcessor`:\r\n\r\n    public class MongoPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n    \r\n        @Override\r\n        public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n            // I don&#39;t know where you get these credentials here from, adapt this to your needs\r\n            String user = &quot;user&quot;; \r\n            String password = &quot;qwerty&quot;;\r\n    \r\n            String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\r\n                    user, password);\r\n            Map&lt;String, Object&gt; mongoProperties = Map.of(&quot;mongo-url&quot;, url);\r\n            environment.getPropertySources()\r\n                    .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\r\n        }\r\n    }\r\n\r\nRegister that post processor with `spring.factories` file. Create this file in `META-INF` directory. By maven conventions it should be `main/java/resources/META-INF/spring.factories`\r\n\r\nThere you specify the class name with package\r\n    \r\n    org.springframework.boot.env.EnvironmentPostProcessor=com.example.config.MongoPropertiesEnvironmentPostProcessor\r\n\r\nSo, during startup your property `mongo-url` will be registered in `Environment` and will be also accessible with the placeholder. \r\n\r\nFrom Java code:\r\n\r\n    @Value(&quot;${mongo-url}&quot;)\r\n    private String mongoUrl;\r\n\r\nIn xml:\r\n\r\n    &lt;mongo:db-factory id=&quot;devMongoConnection&quot; client-uri=&quot;${mongo-url}&quot;/&gt;\r\n\r\n----------\r\n\r\n# Second option\r\n\r\nAnother option if you want to inject some bean that makes a call to the external API:\r\n\r\nDeclare an `ApplicationListener&lt;ContextRefreshedEvent&gt;`:\r\n\r\n    @Service\r\n    class MongoPropertyInjector implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    \r\n        @Autowired\r\n        private ConfigurableEnvironment configurableEnvironment;\r\n    \r\n        @Override\r\n        public void onApplicationEvent(ContextRefreshedEvent event) {\r\n            // I don&#39;t know where you get these credentials here, adapt this to your needs, you can autowire a bean that makes a call to external API and make a call here\r\n            String user = &quot;user&quot;;\r\n            String password = &quot;qwerty&quot;;\r\n    \r\n            String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\r\n                    user, password);\r\n            Map&lt;String, Object&gt; mongoProperties = Map.of(\r\n                    &quot;mongo-url&quot;, url\r\n            );\r\n            configurableEnvironment.getPropertySources()\r\n                    .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\r\n        }\r\n    }\r\n\r\nAfter this you can use the placeholder `${mongo-url}` both in your Java configs and in XML configs, just like in the example above.\r\n","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>Actually it is not clear what <code>Secret secret = Internal_API_For_Secrets();</code> does.</p>\n<p>But you could register your own properties on application startup in <code>ConfigurableEnvironment</code></p>\n<h1>First option</h1>\n<p>You can achieve it the following way:</p>\n<p>Implement your own <code>EnvironmentPostProcessor</code>:</p>\n<pre><code>public class MongoPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        // I don't know where you get these credentials here from, adapt this to your needs\n        String user = &quot;user&quot;; \n        String password = &quot;qwerty&quot;;\n\n        String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\n                user, password);\n        Map&lt;String, Object&gt; mongoProperties = Map.of(&quot;mongo-url&quot;, url);\n        environment.getPropertySources()\n                .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\n    }\n}\n</code></pre>\n<p>Register that post processor with <code>spring.factories</code> file. Create this file in <code>META-INF</code> directory. By maven conventions it should be <code>main/java/resources/META-INF/spring.factories</code></p>\n<p>There you specify the class name with package</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=com.example.config.MongoPropertiesEnvironmentPostProcessor\n</code></pre>\n<p>So, during startup your property <code>mongo-url</code> will be registered in <code>Environment</code> and will be also accessible with the placeholder.</p>\n<p>From Java code:</p>\n<pre><code>@Value(&quot;${mongo-url}&quot;)\nprivate String mongoUrl;\n</code></pre>\n<p>In xml:</p>\n<pre><code>&lt;mongo:db-factory id=&quot;devMongoConnection&quot; client-uri=&quot;${mongo-url}&quot;/&gt;\n</code></pre>\n<hr />\n<h1>Second option</h1>\n<p>Another option if you want to inject some bean that makes a call to the external API:</p>\n<p>Declare an <code>ApplicationListener&lt;ContextRefreshedEvent&gt;</code>:</p>\n<pre><code>@Service\nclass MongoPropertyInjector implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    @Autowired\n    private ConfigurableEnvironment configurableEnvironment;\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        // I don't know where you get these credentials here, adapt this to your needs, you can autowire a bean that makes a call to external API and make a call here\n        String user = &quot;user&quot;;\n        String password = &quot;qwerty&quot;;\n\n        String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\n                user, password);\n        Map&lt;String, Object&gt; mongoProperties = Map.of(\n                &quot;mongo-url&quot;, url\n        );\n        configurableEnvironment.getPropertySources()\n                .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\n    }\n}\n</code></pre>\n<p>After this you can use the placeholder <code>${mongo-url}</code> both in your Java configs and in XML configs, just like in the example above.</p>\n"}],"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75621555,"answer_count":2,"score":0,"last_activity_date":1677970489,"creation_date":1677617713,"question_id":75597205,"body_markdown":"I&#39;m trying to make some modifications to our Spring config file, for connecting to mongo.  Right now, we simply define the URL \r\n\r\n```\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nI&#39;m now setting up authentication on the mongo server, which would change the connection string to `mongodb://username:password@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test`.  However, I can&#39;t hardcode these into the XML; they will come from a different API on startup.  \r\n\r\nI know how to setup the URL in a seperate Java file:\r\n\r\n```\r\npublic class MongoConstructor {\r\n\r\n    String username = secret_username;\r\n    String password = secret_password;\r\n    String db = &quot;db_name&quot;\r\n    String rs = &quot;test&quot;\r\n\r\n    //uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;\r\n\r\n    public String getMongoConstructor() {\r\n        return &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@server_1:27000,server_2:27000,server_3:27000/&quot; + db + &quot;?replicaSet=&quot; + rs;\r\n    }\r\n}\r\n```\r\n\r\nIs there anyway for me to create that value before the bean is registered, and pass that value into the config file?  If not, is there anyway for me to override the config in the xml file later on?\r\n\r\nEDIT: Having done more research, I&#39;ve discovered plaveholders for Spring, which seems to be what I&#39;m looking for.  However, I&#39;m still struggling.  So far, I&#39;ve made the change in the XML file:\r\n\r\n```\r\n&lt;beans&gt;\r\n&lt;mongo:db-factory id=&quot;devMongoConnection&quot;\r\n                          client-uri=&quot;mongodb://{username}:{password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nSince I can&#39;t use a properties file to store the credential information, I&#39;ve made a Java file to initialize the username and password:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class SecretImpl {\r\n\r\n    Secret secret = Internal_API_For_Secrets();\r\n\r\n    public SecretImpl(String username, String password) {\r\n    }\r\n\r\n    @Bean(name=&quot;username&quot;)\r\n    public String username() {\r\n        return secret.getUsername();\r\n    }\r\n\r\n    @Bean(name=&quot;password&quot;)\r\n    public String password() {\r\n        return secret.getUsername();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I&#39;m struggling with is getting these secrets into the xml file. All the documentation I&#39;ve seen so far seems to assume that I would use either xml or Java, not a mix.  They also seem to assume that the password can be placed in a properties files as plain text.","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>I'm trying to make some modifications to our Spring config file, for connecting to mongo.  Right now, we simply define the URL</p>\n<pre><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>I'm now setting up authentication on the mongo server, which would change the connection string to <code>mongodb://username:password@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test</code>.  However, I can't hardcode these into the XML; they will come from a different API on startup.</p>\n<p>I know how to setup the URL in a seperate Java file:</p>\n<pre><code>public class MongoConstructor {\n\n    String username = secret_username;\n    String password = secret_password;\n    String db = &quot;db_name&quot;\n    String rs = &quot;test&quot;\n\n    //uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;\n\n    public String getMongoConstructor() {\n        return &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@server_1:27000,server_2:27000,server_3:27000/&quot; + db + &quot;?replicaSet=&quot; + rs;\n    }\n}\n</code></pre>\n<p>Is there anyway for me to create that value before the bean is registered, and pass that value into the config file?  If not, is there anyway for me to override the config in the xml file later on?</p>\n<p>EDIT: Having done more research, I've discovered plaveholders for Spring, which seems to be what I'm looking for.  However, I'm still struggling.  So far, I've made the change in the XML file:</p>\n<pre><code>&lt;beans&gt;\n&lt;mongo:db-factory id=&quot;devMongoConnection&quot;\n                          client-uri=&quot;mongodb://{username}:{password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Since I can't use a properties file to store the credential information, I've made a Java file to initialize the username and password:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SecretImpl {\n\n    Secret secret = Internal_API_For_Secrets();\n\n    public SecretImpl(String username, String password) {\n    }\n\n    @Bean(name=&quot;username&quot;)\n    public String username() {\n        return secret.getUsername();\n    }\n\n    @Bean(name=&quot;password&quot;)\n    public String password() {\n        return secret.getUsername();\n    }\n}\n\n</code></pre>\n<p>What I'm struggling with is getting these secrets into the xml file. All the documentation I've seen so far seems to assume that I would use either xml or Java, not a mix.  They also seem to assume that the password can be placed in a properties files as plain text.</p>\n"},{"tags":["java","servlets"],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1386878466,"post_id":20550801,"comment_id":30736724,"body_markdown":"Posted before I was finished :|. The HTTP spec says that a GET can have a body, but an HTTP server is not required to read it.","body":"Posted before I was finished :|. The HTTP spec says that a GET can have a body, but an HTTP server is not required to read it."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386879106,"post_id":20550801,"comment_id":30737077,"body_markdown":"For now, just other SO questions: http://stackoverflow.com/questions/978061/http-get-with-request-body","body":"For now, just other SO questions: <a href=\"http://stackoverflow.com/questions/978061/http-get-with-request-body\" title=\"http get with request body\">stackoverflow.com/questions/978061/http-get-with-request-bod&zwnj;&#8203;y</a>"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386879689,"post_id":20550801,"comment_id":30737421,"body_markdown":"Nono, I mean the HTTP specification doesn&#39;t say anything against putting content in the body of an HTTP request. Take a look at [Dave Durbin&#39;s answer](http://stackoverflow.com/a/15656884/438154). The server is of no importance.","body":"Nono, I mean the HTTP specification doesn&#39;t say anything against putting content in the body of an HTTP request. Take a look at <a href=\"http://stackoverflow.com/a/15656884/438154\">Dave Durbin&#39;s answer</a>. The server is of no importance."},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1386879763,"post_id":20550801,"comment_id":30737471,"body_markdown":"Even HTTP spec does not mention about it. If you program to send body along with GET, does standard server like Tomcat, jBoss, IIS understand the body? and parse the body?","body":"Even HTTP spec does not mention about it. If you program to send body along with GET, does standard server like Tomcat, jBoss, IIS understand the body? and parse the body?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386879804,"post_id":20550801,"comment_id":30737497,"body_markdown":"That&#39;s what I mean. It doesn&#39;t have to, but the Spec doesn&#39;t prevent you from sending it.","body":"That&#39;s what I mean. It doesn&#39;t have to, but the Spec doesn&#39;t prevent you from sending it."},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1386879927,"post_id":20550801,"comment_id":30737555,"body_markdown":"Yes. so what is why I say I am talking about standard http servers and you talking about non-standard http servers. Anyway. Thank you for your notes. I didn&#39;t know Http GET can have body before. :)","body":"Yes. so what is why I say I am talking about standard http servers and you talking about non-standard http servers. Anyway. Thank you for your notes. I didn&#39;t know Http GET can have body before. :)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386880175,"post_id":20550801,"comment_id":30737680,"body_markdown":"For a server to be called an HTTP server, it has to comply with the HTTP specification. The spec says that a resource requested through a GET can be identified with the Request-Uri without ever needing to check the request body. If the server _does_ check the request body, that doesn&#39;t make it any less of a compliant server.","body":"For a server to be called an HTTP server, it has to comply with the HTTP specification. The spec says that a resource requested through a GET can be identified with the Request-Uri without ever needing to check the request body. If the server <i>does</i> check the request body, that doesn&#39;t make it any less of a compliant server."},{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":0,"creation_date":1386880243,"post_id":20550801,"comment_id":30737717,"body_markdown":"Absolutely agree with you.","body":"Absolutely agree with you."},{"owner":{"account_id":15417009,"reputation":1352,"user_id":11122164,"display_name":"Jan"},"score":2,"creation_date":1629784911,"post_id":20550801,"comment_id":121771356,"body_markdown":"This is old and outdated badly, new spec is fine with GET having a body. What if the query string is way too long? Are you going to POST/PUT instead when its not creating/updating anything?\n2014 Spec: A payload within a GET request message has no defined semantics; sending a payload body on a GET request might cause some existing implementations to reject the request.","body":"This is old and outdated badly, new spec is fine with GET having a body. What if the query string is way too long? Are you going to POST/PUT instead when its not creating/updating anything? 2014 Spec: A payload within a GET request message has no defined semantics; sending a payload body on a GET request might cause some existing implementations to reject the request."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1646746739,"post_id":20550801,"comment_id":126196146,"body_markdown":"I&#39;ve downvoted this. You can say that a GET method should never have a body, but that doesn&#39;t stop people implementing this (ElasticSearch - I&#39;m looking at you!) and so a means of querying these services is required","body":"I&#39;ve downvoted this. You can say that a GET method should never have a body, but that doesn&#39;t stop people implementing this (ElasticSearch - I&#39;m looking at you!) and so a means of querying these services is required"}],"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":10,"down_vote_count":5,"up_vote_count":8,"is_accepted":true,"score":3,"last_activity_date":1530124565,"creation_date":1386871213,"answer_id":20550801,"question_id":20550746,"body_markdown":"HTTP GET method should NEVER have a body section. You can pass your parameters using URL query string or HTTP headers.\r\n\r\nIf you want to have a BODY section. Use POST or other methods.","title":"How do I send an HTTP GET with a body?","body":"<p>HTTP GET method should NEVER have a body section. You can pass your parameters using URL query string or HTTP headers.</p>\n\n<p>If you want to have a BODY section. Use POST or other methods.</p>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1646758660,"post_id":20551415,"comment_id":126201068,"body_markdown":"I found this worked nicely, but unfortunately I had to bin my earlier Jersey implementation in favour of HttpClient (I don&#39;t have an issue with HttpClient, but it was a bit of a pain to have gone halfway down the Jersey route and to then backtrack)","body":"I found this worked nicely, but unfortunately I had to bin my earlier Jersey implementation in favour of HttpClient (I don&#39;t have an issue with HttpClient, but it was a bit of a pain to have gone halfway down the Jersey route and to then backtrack)"}],"tags":[],"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644382139,"creation_date":1386873131,"answer_id":20551415,"question_id":20550746,"body_markdown":"You can extends the HttpEntityEnclosingRequestBase class to override the inherited [org.apache.http.client.methods.HttpRequestBase.getMethod()][1] but by fact HTTP GET does not support body request and maybe you will experience trouble with some HTTP servers, use at your own risk :)\r\n\r\n    public class MyHttpGetWithEntity extends HttpEntityEnclosingRequestBase {\r\n        public final static String GET_METHOD = &quot;GET&quot;;\r\n        \r\n        public MyHttpGetWithEntity(final URI uri) {\r\n            super();\r\n            setURI(uri);\r\n        }\r\n        \r\n        public MyHttpGetWithEntity(final String uri) {\r\n            super();\r\n            setURI(URI.create(uri));\r\n        }\r\n    \r\n        @Override\r\n        public String getMethod() {\r\n            return GET_METHOD;\r\n        }\r\n    }\r\n    \r\n    then\r\n    \r\n    \r\n        import org.apache.commons.io.IOUtils;\r\n        import org.apache.http.HttpResponse;\r\n        import org.apache.http.client.HttpClient;\r\n        import org.apache.http.entity.StringEntity;\r\n        import org.apache.http.impl.client.DefaultHttpClient;\r\n        \r\n        public class HttpEntityGet {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\tHttpClient client = new DefaultHttpClient();\r\n        \t\t\tMyHttpGetWithEntity e = new MyHttpGetWithEntity(&quot;http://....&quot;);\r\n        \t\t\te.setEntity(new StringEntity(&quot;mystringentity&quot;));\r\n        \t\t\tHttpResponse response = client.execute(e);\r\n        \t\t\tSystem.out.println(IOUtils.toString(response.getEntity().getContent()));\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.err.println(e);\r\n        \t\t}\r\n        \t}\r\n        } \r\n    \r\n      \r\n\t\t\t\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/HttpRequestBase.html#getMethod%28%29\r\n","title":"How do I send an HTTP GET with a body?","body":"<p>You can extends the HttpEntityEnclosingRequestBase class to override the inherited <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/HttpRequestBase.html#getMethod%28%29\" rel=\"nofollow noreferrer\">org.apache.http.client.methods.HttpRequestBase.getMethod()</a> but by fact HTTP GET does not support body request and maybe you will experience trouble with some HTTP servers, use at your own risk :)</p>\n<pre><code>public class MyHttpGetWithEntity extends HttpEntityEnclosingRequestBase {\n    public final static String GET_METHOD = &quot;GET&quot;;\n    \n    public MyHttpGetWithEntity(final URI uri) {\n        super();\n        setURI(uri);\n    }\n    \n    public MyHttpGetWithEntity(final String uri) {\n        super();\n        setURI(URI.create(uri));\n    }\n\n    @Override\n    public String getMethod() {\n        return GET_METHOD;\n    }\n}\n\nthen\n\n\n    import org.apache.commons.io.IOUtils;\n    import org.apache.http.HttpResponse;\n    import org.apache.http.client.HttpClient;\n    import org.apache.http.entity.StringEntity;\n    import org.apache.http.impl.client.DefaultHttpClient;\n    \n    public class HttpEntityGet {\n    \n        public static void main(String[] args) {\n            \n            try {\n                HttpClient client = new DefaultHttpClient();\n                MyHttpGetWithEntity e = new MyHttpGetWithEntity(&quot;http://....&quot;);\n                e.setEntity(new StringEntity(&quot;mystringentity&quot;));\n                HttpResponse response = client.execute(e);\n                System.out.println(IOUtils.toString(response.getEntity().getContent()));\n            } catch (Exception e) {\n                System.err.println(e);\n            }\n        }\n    } \n\n  \n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677970130,"creation_date":1677970130,"answer_id":75639158,"question_id":20550746,"body_markdown":"Using `java.net.http.HttpRequest`, when building one with a RequestBuilder instead of using the `.GET()` method that doesn&#39;t take paramenters, user the `.method(method, bodyPublisher)`\r\n\r\n    HttpClient clientFwd = HttpClient.newHttpClient();\r\n    HttpRequest get = HttpRequest.newBuilder()\r\n        \t\t.uri(URI.create(YOURURI))\r\n                //GET, POST, PUT,..\r\n        \t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.ofString(bodyGet))\r\n        \t\t.header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        \t\t.header(&quot;Authorization&quot;, &quot;Bearer &quot;+TOKEN)\r\n        \t\t.build();\r\n\r\nThen `get.send()` your HttpRequest to get your response.","title":"How do I send an HTTP GET with a body?","body":"<p>Using <code>java.net.http.HttpRequest</code>, when building one with a RequestBuilder instead of using the <code>.GET()</code> method that doesn't take paramenters, user the <code>.method(method, bodyPublisher)</code></p>\n<pre><code>HttpClient clientFwd = HttpClient.newHttpClient();\nHttpRequest get = HttpRequest.newBuilder()\n            .uri(URI.create(YOURURI))\n            //GET, POST, PUT,..\n            .method(&quot;GET&quot;, HttpRequest.BodyPublishers.ofString(bodyGet))\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot;+TOKEN)\n            .build();\n</code></pre>\n<p>Then <code>get.send()</code> your HttpRequest to get your response.</p>\n"}],"owner":{"account_id":24553,"reputation":15108,"user_id":62539,"accept_rate":88,"display_name":"MedicineMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14703,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20550801,"answer_count":3,"score":8,"last_activity_date":1677970130,"creation_date":1386871018,"question_id":20550746,"body_markdown":"Boss wants us to send a HTTP GET with parameters in the body.  I can&#39;t figure out how to do this using org.apache.commons.httpclient.methods.GetMethod or java.net.HttpURLConnection;.  \r\n\r\nGetMethod doesn&#39;t seem to take any parameters, and I&#39;m not sure how to use HttpURLConnection for this.","title":"How do I send an HTTP GET with a body?","body":"<p>Boss wants us to send a HTTP GET with parameters in the body.  I can't figure out how to do this using org.apache.commons.httpclient.methods.GetMethod or java.net.HttpURLConnection;.  </p>\n\n<p>GetMethod doesn't seem to take any parameters, and I'm not sure how to use HttpURLConnection for this.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":2,"creation_date":1435251657,"post_id":31056215,"comment_id":50134046,"body_markdown":"Not a duplicate, but probably worth reading: https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson. The `BeanSerializerModifier` part seems to apply to serialization, too.","body":"Not a duplicate, but probably worth reading: <a href=\"https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson\" title=\"how do i call the default deserializer from a custom deserializer in jackson\">stackoverflow.com/questions/18313323/&hellip;</a>. The <code>BeanSerializerModifier</code> part seems to apply to serialization, too."},{"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"score":0,"creation_date":1641712245,"post_id":31056215,"comment_id":124873712,"body_markdown":"Worth reading: https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer  , for why `BeanSerializerModifier` is necessary.","body":"Worth reading: <a href=\"https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>  , for why <code>BeanSerializerModifier</code> is necessary."}],"answers":[{"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":3,"creation_date":1435257744,"post_id":31057934,"comment_id":50137635,"body_markdown":"This removes the need for `@JsonSerialize` on the class.","body":"This removes the need for <code>@JsonSerialize</code> on the class."},{"owner":{"account_id":219909,"reputation":697,"user_id":477055,"accept_rate":38,"display_name":"Billybong"},"score":1,"creation_date":1470057362,"post_id":31057934,"comment_id":64777578,"body_markdown":"Is this solution still valid? I tried with both Jackson 2.5.0 and 2.8.1 and get:\n...JsonMappingException: Class dto.ResponseSerializer has no default (no arg) constructor\n\tat com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:282)\n\tat com.fasterxml.jackson.databind.SerializerProvider.mappingException(SerializerProvider.java:1123)\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportMappingProblem(SerializerProvider.java:1145)\n\tat com.fasterxml.jackson.databind.SerializerProvider._createAndCacheUntypedSerializer(SerializerProvider.java:1227)","body":"Is this solution still valid? I tried with both Jackson 2.5.0 and 2.8.1 and get: ...JsonMappingException: Class dto.ResponseSerializer has no default (no arg) constructor \tat com.fasterxml.jackson.databind.JsonMappingException.from(Jso&zwnj;&#8203;nMappingException.ja&zwnj;&#8203;va:282) \tat com.fasterxml.jackson.databind.SerializerProvider.mappingExc&zwnj;&#8203;eption(SerializerPro&zwnj;&#8203;vider.java:1123) \tat com.fasterxml.jackson.databind.SerializerProvider.reportMapp&zwnj;&#8203;ingProblem(Serialize&zwnj;&#8203;rProvider.java:1145) \tat com.fasterxml.jackson.databind.SerializerProvider._createAnd&zwnj;&#8203;CacheUntypedSerializ&zwnj;&#8203;er(SerializerProvide&zwnj;&#8203;r.java:1227)"},{"owner":{"account_id":1723325,"reputation":2701,"user_id":1578559,"display_name":"maxhuang"},"score":0,"creation_date":1476431833,"post_id":31057934,"comment_id":67351929,"body_markdown":"@Billybong, remove the @JsonSerialize(using = MyClassSerializer.class) annotation from your class.","body":"@Billybong, remove the @JsonSerialize(using = MyClassSerializer.class) annotation from your class."},{"owner":{"account_id":3836171,"reputation":557,"user_id":3180396,"accept_rate":12,"display_name":"brownfox"},"score":0,"creation_date":1507703645,"post_id":31057934,"comment_id":80310311,"body_markdown":"@SamB.hi, am using the first approach described in the answer.\nI get a compilation error saying checkNotNull is not resolvable.\nI added custom serializer for a specific type. But custom serializer cannot get access to default serializer instance. it is null!\nCould you help me how to get access.\n return jacksonObjectMapperBuilder -&gt; jacksonObjectMapperBuilder.serializerByType(TreeNode.class, new TreeNodeJsonSerializer());","body":"@SamB.hi, am using the first approach described in the answer. I get a compilation error saying checkNotNull is not resolvable. I added custom serializer for a specific type. But custom serializer cannot get access to default serializer instance. it is null! Could you help me how to get access.  return jacksonObjectMapperBuilder -&gt; jacksonObjectMapperBuilder.serializerByType(TreeNode.class, new TreeNodeJsonSerializer());"},{"owner":{"account_id":7618795,"reputation":419,"user_id":5777370,"accept_rate":0,"display_name":"OwlR"},"score":2,"creation_date":1545829857,"post_id":31057934,"comment_id":94705412,"body_markdown":"This is not working for me. Although custom-serializer&#39;s serialize() method and setAttribute() within it are getting called,  added (or modified) attribute is not reflected in final json output. (By the way, can setAttribute() add some extra field or only modify existing one?)","body":"This is not working for me. Although custom-serializer&#39;s serialize() method and setAttribute() within it are getting called,  added (or modified) attribute is not reflected in final json output. (By the way, can setAttribute() add some extra field or only modify existing one?)"},{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1545920105,"post_id":31057934,"comment_id":94731257,"body_markdown":"@OwlR Hm, perhaps consider asking a new question so that you are able to provide more details of your specific problem?","body":"@OwlR Hm, perhaps consider asking a new question so that you are able to provide more details of your specific problem?"},{"owner":{"account_id":6851803,"reputation":1326,"user_id":5268774,"display_name":"devstructor"},"score":0,"creation_date":1599830725,"post_id":31057934,"comment_id":112904534,"body_markdown":"it&#39;s not working for me either - I mean adding new properties to result json. The only thing that worked is in this answer: https://stackoverflow.com/a/25360636/5268774","body":"it&#39;s not working for me either - I mean adding new properties to result json. The only thing that worked is in this answer: <a href=\"https://stackoverflow.com/a/25360636/5268774\">stackoverflow.com/a/25360636/5268774</a>"},{"owner":{"account_id":6320131,"reputation":1438,"user_id":4908529,"display_name":"kami"},"score":0,"creation_date":1649999013,"post_id":31057934,"comment_id":127019383,"body_markdown":"Very simple and useful answer. I know its too late, but IDEA now highlight `(JsonSerializer&lt;Object&gt;) serializer` as unchecked cast. Any workaround?","body":"Very simple and useful answer. I know its too late, but IDEA now highlight <code>(JsonSerializer&lt;Object&gt;) serializer</code> as unchecked cast. Any workaround?"},{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":0,"creation_date":1650314704,"post_id":31057934,"comment_id":127081437,"body_markdown":"@kami you can try alt/option + enter then select &quot;Suppress for statement&quot; or the appropriate selection. This sometimes works. Do alt + enter on the highlight and see the options it gives you. I get annoyed with the highlights too.","body":"@kami you can try alt/option + enter then select &quot;Suppress for statement&quot; or the appropriate selection. This sometimes works. Do alt + enter on the highlight and see the options it gives you. I get annoyed with the highlights too."}],"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"comment_count":9,"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1448413724,"creation_date":1435256593,"answer_id":31057934,"question_id":31056215,"body_markdown":"A **`BeanSerializerModifier`** will provide you access to the default serialization.\r\n\r\n## Inject a default serializer into the custom serializer\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n        private final JsonSerializer&lt;Object&gt; defaultSerializer;\r\n    \r\n        public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\r\n            this.defaultSerializer = checkNotNull(defaultSerializer);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            if (myclass.getSomeProperty() == true) {\r\n                provider.setAttribute(&quot;special&quot;, true);\r\n            }\r\n            defaultSerializer.serialize(myclass, gen, provider);\r\n        }\r\n    }\r\n\r\n\r\n## Create a `BeanSerializerModifier` for `MyClass`\r\n\r\n    public class MyClassSerializerModifier extends BeanSerializerModifier {\r\n        @Override\r\n        public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n            if (beanDesc.getBeanClass() == MySpecificClass.class) {\r\n                return new MyClassSerializer((JsonSerializer&lt;Object&gt;) serializer);\r\n            }\r\n            return serializer;\r\n        }\r\n    }\r\n\r\n## Register the serializer modifier\r\n\r\n    ObjectMapper om = new ObjectMapper()\r\n            .registerModule(new SimpleModule()\r\n                    .setSerializerModifier(new MyClassSerializerModifier()));\r\n","title":"How to access default jackson serialization in a custom serializer","body":"<p>A <strong><code>BeanSerializerModifier</code></strong> will provide you access to the default serialization.</p>\n\n<h2>Inject a default serializer into the custom serializer</h2>\n\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    private final JsonSerializer&lt;Object&gt; defaultSerializer;\n\n    public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\n        this.defaultSerializer = checkNotNull(defaultSerializer);\n    }\n\n    @Override\n    public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (myclass.getSomeProperty() == true) {\n            provider.setAttribute(\"special\", true);\n        }\n        defaultSerializer.serialize(myclass, gen, provider);\n    }\n}\n</code></pre>\n\n<h2>Create a <code>BeanSerializerModifier</code> for <code>MyClass</code></h2>\n\n<pre><code>public class MyClassSerializerModifier extends BeanSerializerModifier {\n    @Override\n    public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n        if (beanDesc.getBeanClass() == MySpecificClass.class) {\n            return new MyClassSerializer((JsonSerializer&lt;Object&gt;) serializer);\n        }\n        return serializer;\n    }\n}\n</code></pre>\n\n<h2>Register the serializer modifier</h2>\n\n<pre><code>ObjectMapper om = new ObjectMapper()\n        .registerModule(new SimpleModule()\n                .setSerializerModifier(new MyClassSerializerModifier()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12534122,"reputation":542,"user_id":9121293,"display_name":"Pranjal Gore"},"score":3,"creation_date":1540384745,"post_id":47819105,"comment_id":92844609,"body_markdown":"will this not return a stackOverflowError ?","body":"will this not return a stackOverflowError ?"},{"owner":{"account_id":4539241,"reputation":186,"user_id":3687590,"display_name":"LawrenceMouarkach"},"score":0,"creation_date":1540390215,"post_id":47819105,"comment_id":92848579,"body_markdown":"@PranjalGore no why would you think that?","body":"@PranjalGore no why would you think that?"},{"owner":{"account_id":12534122,"reputation":542,"user_id":9121293,"display_name":"Pranjal Gore"},"score":6,"creation_date":1540394673,"post_id":47819105,"comment_id":92851767,"body_markdown":"You are calling provider.defaultSerializer() for serialization of an object of MyClass which uses MyClassSerialzer for serialization. Now is it not possible that the default jackson serializer encounters @JsonSerialize annotation on the class and calls serialize method of MyClassSerialzer? This may form an unending loop.","body":"You are calling provider.defaultSerializer() for serialization of an object of MyClass which uses MyClassSerialzer for serialization. Now is it not possible that the default jackson serializer encounters @JsonSerialize annotation on the class and calls serialize method of MyClassSerialzer? This may form an unending loop."},{"owner":{"account_id":4539241,"reputation":186,"user_id":3687590,"display_name":"LawrenceMouarkach"},"score":0,"creation_date":1540398072,"post_id":47819105,"comment_id":92853902,"body_markdown":"No I am calling provider.defaultSerializeValue() which is not the same as defaultSerializer(), this just checks if there&#39;s a condition then do something special , otherwise do the default in terms of serializing the value! It doesn&#39;t form an unending loop try it!","body":"No I am calling provider.defaultSerializeValue() which is not the same as defaultSerializer(), this just checks if there&#39;s a condition then do something special , otherwise do the default in terms of serializing the value! It doesn&#39;t form an unending loop try it!"},{"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"score":11,"creation_date":1549291977,"post_id":47819105,"comment_id":95840198,"body_markdown":"This indeed throws a StackOverfliwError","body":"This indeed throws a StackOverfliwError"},{"owner":{"account_id":4539241,"reputation":186,"user_id":3687590,"display_name":"LawrenceMouarkach"},"score":0,"creation_date":1549376862,"post_id":47819105,"comment_id":95874553,"body_markdown":"@SergioLeone what version of jackson are you using? are you using the provider.defaultSerializeValue() method not defaultSerializer()? thanks","body":"@SergioLeone what version of jackson are you using? are you using the provider.defaultSerializeValue() method not defaultSerializer()? thanks"},{"owner":{"account_id":7826003,"reputation":734,"user_id":5917497,"accept_rate":62,"display_name":"SergioLeone"},"score":0,"creation_date":1549377670,"post_id":47819105,"comment_id":95875032,"body_markdown":"@LawrenceMouarkach I&#39;m using 2.9.7 and yes, I&#39;m calling `provider.defaultSerializeValue()`","body":"@LawrenceMouarkach I&#39;m using 2.9.7 and yes, I&#39;m calling <code>provider.defaultSerializeValue()</code>"},{"owner":{"account_id":4539241,"reputation":186,"user_id":3687590,"display_name":"LawrenceMouarkach"},"score":0,"creation_date":1549377829,"post_id":47819105,"comment_id":95875148,"body_markdown":"@SergioLeone could I see a code snippet please? I&#39;ve never had an issue with this and would like to see the problem yourself and others are experiencing.","body":"@SergioLeone could I see a code snippet please? I&#39;ve never had an issue with this and would like to see the problem yourself and others are experiencing."}],"tags":[],"owner":{"account_id":4539241,"reputation":186,"user_id":3687590,"display_name":"LawrenceMouarkach"},"comment_count":8,"down_vote_count":7,"up_vote_count":10,"is_accepted":false,"score":3,"last_activity_date":1639390211,"creation_date":1513272813,"answer_id":47819105,"question_id":31056215,"body_markdown":"    @JsonSerialize(using = MyClassSerializer.class)\r\n    public class MyClass {\r\n    ...\r\n    }\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n        @Override\r\n         public void serialize(MyClass myClass, JsonGenerator generator, \r\n                          SerializerProvider provider) \r\n            throws JsonGenerationException, IOException {\r\n            if (myClass.getSomeProperty() == someCalculationResult) {\r\n                provider.setAttribute(&quot;special&quot;, true);\r\n            } else {\r\n                provider.defaultSerializeValue(myClass, generator);\r\n            }\r\n        }  \r\n    }\r\n\r\nif you are just writing an object as normal use the above","title":"How to access default jackson serialization in a custom serializer","body":"<pre><code>@JsonSerialize(using = MyClassSerializer.class)\npublic class MyClass {\n...\n}\n\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n     public void serialize(MyClass myClass, JsonGenerator generator, \n                      SerializerProvider provider) \n        throws JsonGenerationException, IOException {\n        if (myClass.getSomeProperty() == someCalculationResult) {\n            provider.setAttribute(&quot;special&quot;, true);\n        } else {\n            provider.defaultSerializeValue(myClass, generator);\n        }\n    }  \n}\n</code></pre>\n<p>if you are just writing an object as normal use the above</p>\n"},{"comments":[{"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"score":0,"creation_date":1547147439,"post_id":52557969,"comment_id":95102296,"body_markdown":"Thanks, @Alex, but I was setting an attribute flag to access during a later step of serialization.  It wasn&#39;t the flag itself I was trying to serialize.","body":"Thanks, @Alex, but I was setting an attribute flag to access during a later step of serialization.  It wasn&#39;t the flag itself I was trying to serialize."}],"tags":[],"owner":{"account_id":2107258,"reputation":21,"user_id":1873314,"display_name":"Alex Block"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538146659,"creation_date":1538146659,"answer_id":52557969,"question_id":31056215,"body_markdown":"You can use @JsonGetter instead of using a custom serializer if that&#39;s the only change you want to make.\r\n\r\n\tpublic class MyClass{\r\n\t    \r\n\t    @JsonGetter(&quot;special&quot;)\r\n\t    protected boolean getSpecialForJackson() {\r\n\t    \treturn myClass.getSomeProperty() == someCalculationResult;\r\n        }\r\n\r\n\t}\r\n\r\n","title":"How to access default jackson serialization in a custom serializer","body":"<p>You can use @JsonGetter instead of using a custom serializer if that's the only change you want to make.</p>\n\n<pre><code>public class MyClass{\n\n    @JsonGetter(\"special\")\n    protected boolean getSpecialForJackson() {\n        return myClass.getSomeProperty() == someCalculationResult;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677969743,"creation_date":1549694634,"answer_id":54603921,"question_id":31056215,"body_markdown":"To add to the chosen answer, the serializer implementation may also have to implement `ContextualSerializer` and `ResolvableSerializer` interfaces. Please take a look at a related issue here \r\nhttps://github.com/FasterXML/jackson-dataformat-xml/issues/259\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt;\r\n        implements ContextualSerializer, ResolvableSerializer {\r\n    private final JsonSerializer&lt;Object&gt; defaultSerializer;\r\n\r\n    public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\r\n        this.defaultSerializer = checkNotNull(defaultSerializer);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider)\r\n            throws IOException {\r\n        if (myclass.getSomeProperty() == true) {\r\n            provider.setAttribute(&quot;special&quot;, true);\r\n        }\r\n        defaultSerializer.serialize(myclass, gen, provider);\r\n    }\r\n\r\n    @Override\r\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property)\r\n            throws JsonMappingException {\r\n        if (defaultSerializer instanceof ContextualSerializer) {\r\n            JsonSerializer&lt;?&gt; contextual = ((ContextualSerializer)defaultSerializer).createContextual(prov, property);\r\n            return new MyClassSerializer((JsonSerializer&lt;Object&gt;)contextual);\r\n        }\r\n        return new MyClassSerializer(defaultSerializer);\r\n    }\r\n\r\n    @Override\r\n    public void resolve(SerializerProvider provider) throws JsonMappingException {\r\n        if (defaultSerializer instanceof ResolvableSerializer) {\r\n            ((ResolvableSerializer)defaultSerializer).resolve(provider);\r\n        }\r\n    }\r\n}\r\n\r\nAlso, if you are using Spring Boot, adding a Jackson module is as simple as \r\n\r\n    @Component\r\n    public class MyModule extends SimpleModule {\r\n    \r\n        @Override\r\n        public void setupModule(SetupContext context) {\r\n            context.addBeanSerializerModifier(new MyBeanSerializerModifier());\r\n            super.setupModule(context);\r\n        }\r\n    }","title":"How to access default jackson serialization in a custom serializer","body":"<p>To add to the chosen answer, the serializer implementation may also have to implement <code>ContextualSerializer</code> and <code>ResolvableSerializer</code> interfaces. Please take a look at a related issue here\n<a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/259\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml/issues/259</a></p>\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt;\n    implements ContextualSerializer, ResolvableSerializer {\nprivate final JsonSerializer&lt;Object&gt; defaultSerializer;\n\npublic MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\n    this.defaultSerializer = checkNotNull(defaultSerializer);\n}\n\n@Override\npublic void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider)\n        throws IOException {\n    if (myclass.getSomeProperty() == true) {\n        provider.setAttribute(&quot;special&quot;, true);\n    }\n    defaultSerializer.serialize(myclass, gen, provider);\n}\n\n@Override\npublic JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property)\n        throws JsonMappingException {\n    if (defaultSerializer instanceof ContextualSerializer) {\n        JsonSerializer&lt;?&gt; contextual = ((ContextualSerializer)defaultSerializer).createContextual(prov, property);\n        return new MyClassSerializer((JsonSerializer&lt;Object&gt;)contextual);\n    }\n    return new MyClassSerializer(defaultSerializer);\n}\n\n@Override\npublic void resolve(SerializerProvider provider) throws JsonMappingException {\n    if (defaultSerializer instanceof ResolvableSerializer) {\n        ((ResolvableSerializer)defaultSerializer).resolve(provider);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Also, if you are using Spring Boot, adding a Jackson module is as simple as</p>\n<pre><code>@Component\npublic class MyModule extends SimpleModule {\n\n    @Override\n    public void setupModule(SetupContext context) {\n        context.addBeanSerializerModifier(new MyBeanSerializerModifier());\n        super.setupModule(context);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26735,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":31057934,"answer_count":4,"score":33,"last_activity_date":1677969743,"creation_date":1435250961,"question_id":31056215,"body_markdown":"I want to create a custom serializer which does a tiny bit of work and then leaves the rest for default serialization. \r\n\r\nFor example:\r\n\r\n    @JsonSerialize(using = MyClassSerializer.class)\r\n    public class MyClass {\r\n      ...\r\n    }\r\n    \r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n    \t@Override\r\n    \tpublic void serialize(MyClass myClass, JsonGenerator generator, \r\n    \t\t\t              SerializerProvider provider) \r\n    \t\t\tthrows JsonGenerationException, IOException {\r\n            if (myClass.getSomeProperty() == someCalculationResult) {\r\n    \t\t\tprovider.setAttribute(&quot;special&quot;, true);\r\n            }\r\n    \t\tgenerator.writeObject(myClass);\r\n    \t}  \r\n    }\r\n\r\nWith the idea of creating other custom serializers for aggregated objects which behave differently based on the &#39;special&#39; attribute value.  However, the above code does not work, as it unsurprisingly goes into an infinite recursion.\r\n\r\nIs there a way to tell jackson to use default serialization once I have set the attribute?  I don&#39;t really want enumerate all the properties like many custom serializers as the class is fairly complex and I don&#39;t want to have to do dual maintenance with the serializer every time I change the class.","title":"How to access default jackson serialization in a custom serializer","body":"<p>I want to create a custom serializer which does a tiny bit of work and then leaves the rest for default serialization. </p>\n\n<p>For example:</p>\n\n<pre><code>@JsonSerialize(using = MyClassSerializer.class)\npublic class MyClass {\n  ...\n}\n\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n    public void serialize(MyClass myClass, JsonGenerator generator, \n                          SerializerProvider provider) \n            throws JsonGenerationException, IOException {\n        if (myClass.getSomeProperty() == someCalculationResult) {\n            provider.setAttribute(\"special\", true);\n        }\n        generator.writeObject(myClass);\n    }  \n}\n</code></pre>\n\n<p>With the idea of creating other custom serializers for aggregated objects which behave differently based on the 'special' attribute value.  However, the above code does not work, as it unsurprisingly goes into an infinite recursion.</p>\n\n<p>Is there a way to tell jackson to use default serialization once I have set the attribute?  I don't really want enumerate all the properties like many custom serializers as the class is fairly complex and I don't want to have to do dual maintenance with the serializer every time I change the class.</p>\n"},{"tags":["java","executable-jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677969778,"post_id":75639094,"comment_id":133443293,"body_markdown":"That error means your code, or code you depend on, was compiled with `--enable-preview`. As [preview features](https://openjdk.org/jeps/12) are subject to change and exist for a specific major version of Java, they are opt-in at both compile-time and run-time. Thus, you must run your JAR file with the `--enable-preview` option if you want it to work. There&#39;s really no way around that (other than removing any reliance on preview features from your code and/or removing any dependencies that use preview features). Note Java 19 has [multiple preview features](https://openjdk.org/projects/jdk/19/).","body":"That error means your code, or code you depend on, was compiled with <code>--enable-preview</code>. As <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview features</a> are subject to change and exist for a specific major version of Java, they are opt-in at both compile-time and run-time. Thus, you must run your JAR file with the <code>--enable-preview</code> option if you want it to work. There&#39;s really no way around that (other than removing any reliance on preview features from your code and/or removing any dependencies that use preview features). Note Java 19 has <a href=\"https://openjdk.org/projects/jdk/19/\" rel=\"nofollow noreferrer\">multiple preview features</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677969982,"post_id":75639094,"comment_id":133443321,"body_markdown":"Also, note that, according to the error, you need Java 19 at run-time (the class file version is `16.XX`, which [corresponds to Java 19](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)). Code compiled with newer versions of Java cannot be executed by older versions of Java. The JDK includes a JRE, but if you&#39;re looking for a JRE-only package, then I recommend looking elsewhere than Oracle (e.g., [Adoptium](https://adoptium.net/temurin/releases/)).","body":"Also, note that, according to the error, you need Java 19 at run-time (the class file version is <code>16.XX</code>, which <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">corresponds to Java 19</a>). Code compiled with newer versions of Java cannot be executed by older versions of Java. The JDK includes a JRE, but if you&#39;re looking for a JRE-only package, then I recommend looking elsewhere than Oracle (e.g., <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Adoptium</a>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677970114,"post_id":75639094,"comment_id":133443337,"body_markdown":"That all said, is your question more about what a `*.bat` file is and how to use one to solve your problem?","body":"That all said, is your question more about what a <code>*.bat</code> file is and how to use one to solve your problem?"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064407,"post_id":75639094,"comment_id":133455499,"body_markdown":"I really just want to fix my problem and I was thinking of how I could use a .bat file to do so, if it works, so I&#39;d say it&#39;s the second option","body":"I really just want to fix my problem and I was thinking of how I could use a .bat file to do so, if it works, so I&#39;d say it&#39;s the second option"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064635,"post_id":75639094,"comment_id":133455528,"body_markdown":"also about the JDK, I heard it has a JRE built in, so I tried installing my java 8 JRE which I also had, and I still  got the same problem, and other java relian applications/games won&#39;t run now.\n\nSo it seems I&#39;m compiling and running with the same version, but I don&#39;t know how to or if I even can make the other applications use the java 19 jdk instead of the other jre I had","body":"also about the JDK, I heard it has a JRE built in, so I tried installing my java 8 JRE which I also had, and I still  got the same problem, and other java relian applications/games won&#39;t run now.  So it seems I&#39;m compiling and running with the same version, but I don&#39;t know how to or if I even can make the other applications use the java 19 jdk instead of the other jre I had"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064705,"post_id":75639094,"comment_id":133455539,"body_markdown":"about the preview features, how can I opt-out from them at run time, and how could I check which features rely on it?","body":"about the preview features, how can I opt-out from them at run time, and how could I check which features rely on it?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678074073,"post_id":75639094,"comment_id":133456585,"body_markdown":"As I mentioned, preview features are opt-in. You &quot;opt-out&quot; of them by not opting in. And code compiled using preview features cannot be executed without enabling preview features. That&#39;s just how preview features work. Note the error talks about `Aula3` specifically. Given the lack of a package name, I can only assume this code was not written by any &quot;official&quot; entity. In other words, I assume this code was written by you. What happens when you try to _compile_ **without** `--enable-preview`. Do you get any errors?","body":"As I mentioned, preview features are opt-in. You &quot;opt-out&quot; of them by not opting in. And code compiled using preview features cannot be executed without enabling preview features. That&#39;s just how preview features work. Note the error talks about <code>Aula3</code> specifically. Given the lack of a package name, I can only assume this code was not written by any &quot;official&quot; entity. In other words, I assume this code was written by you. What happens when you try to <i>compile</i> <b>without</b> <code>--enable-preview</code>. Do you get any errors?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678074334,"post_id":75639094,"comment_id":133456629,"body_markdown":"And the reason I brought up Java versions is because I find it strange you have a JRE 8 installed in the first place. Therefore, I guessed it was because you were told you need a &quot;JDK at compile time&quot; and a &quot;JRE at run time&quot;. I just wanted to point out that a JDK is basically a JRE with development tools included (e.g., `javac`). And then I assumed you didn&#39;t have a Java 19 JRE because you couldn&#39;t find a download of one from Oracle. They don&#39;t ship JRE-only packages anymore for newer versions of Java. Hence the link to another vendor (Adoptium).","body":"And the reason I brought up Java versions is because I find it strange you have a JRE 8 installed in the first place. Therefore, I guessed it was because you were told you need a &quot;JDK at compile time&quot; and a &quot;JRE at run time&quot;. I just wanted to point out that a JDK is basically a JRE with development tools included (e.g., <code>javac</code>). And then I assumed you didn&#39;t have a Java 19 JRE because you couldn&#39;t find a download of one from Oracle. They don&#39;t ship JRE-only packages anymore for newer versions of Java. Hence the link to another vendor (Adoptium)."},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678231988,"post_id":75639094,"comment_id":133492781,"body_markdown":"The error I get when running without `--enable-preview` is described on the post :\n\n`Error: LinkageError occurred while loading main class Aula3 java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;`","body":"The error I get when running without <code>--enable-preview</code> is described on the post :  <code>Error: LinkageError occurred while loading main class Aula3 java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678232085,"post_id":75639094,"comment_id":133492798,"body_markdown":"That&#39;s the error you get when you try to run the already-compiled program. I&#39;m asking if you get any errors if you **compile** without `--enable-preview`. Specifically, when you compile the `Aula3` class.","body":"That&#39;s the error you get when you try to run the already-compiled program. I&#39;m asking if you get any errors if you <b>compile</b> without <code>--enable-preview</code>. Specifically, when you compile the <code>Aula3</code> class."},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232266,"post_id":75639094,"comment_id":133492818,"body_markdown":"the reason I had both a JRE and a JDK in the first place is because I had the JRE first for games and such which require it, then added the JDK and uninstalled the JRE, now with only the JDK the games don&#39;t seem to be able to run without that specific JRE so I reinstalled it. I don&#39;t know how to make the games recognize the newer java version","body":"the reason I had both a JRE and a JDK in the first place is because I had the JRE first for games and such which require it, then added the JDK and uninstalled the JRE, now with only the JDK the games don&#39;t seem to be able to run without that specific JRE so I reinstalled it. I don&#39;t know how to make the games recognize the newer java version"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232496,"post_id":75639094,"comment_id":133492849,"body_markdown":"Compiled code runs without any errors, with or without `--enable-preview` (I in fact never compiled manually using that option). The problem is that the command that&#39;s supposed to turn my .class into a .jar isn&#39;t recognized by the console (which is another problem I haven&#39;t been able to fix), so I&#39;m forced to resort to VSCode&#39;s &quot;export to jar&quot; option, which creates the jar file directly from your uncompiled code. That jar file then has this issue","body":"Compiled code runs without any errors, with or without <code>--enable-preview</code> (I in fact never compiled manually using that option). The problem is that the command that&#39;s supposed to turn my .class into a .jar isn&#39;t recognized by the console (which is another problem I haven&#39;t been able to fix), so I&#39;m forced to resort to VSCode&#39;s &quot;export to jar&quot; option, which creates the jar file directly from your uncompiled code. That jar file then has this issue"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678232585,"post_id":75639094,"comment_id":133492864,"body_markdown":"Then perhaps this can help: https://github.com/microsoft/vscode-java-debug/issues/1130","body":"Then perhaps this can help: <a href=\"https://github.com/microsoft/vscode-java-debug/issues/1130\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug/issues/1130</a>"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232628,"post_id":75639094,"comment_id":133492870,"body_markdown":"Also I just realized I didn&#39;t quite answer your question, but yes, no errors when I try to compile the code either (without `--enable-preview`)","body":"Also I just realized I didn&#39;t quite answer your question, but yes, no errors when I try to compile the code either (without <code>--enable-preview</code>)"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678233156,"post_id":75639094,"comment_id":133492949,"body_markdown":"I&#39;m sorry, I added the folder and the file described on the link but I still get the same error :/","body":"I&#39;m sorry, I added the folder and the file described on the link but I still get the same error :/"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678236615,"post_id":75639094,"comment_id":133493447,"body_markdown":"Odd. It worked for me. Before I added it, running `java -jar foo.jar` failed with the expected `LinkageError` (running it with `java --enable-preview -jar foo.jar` works, obviously). After adding that file and preference, running `java -jar foo.jar` worked as expected (no preview feature problem). You said you added the folder and file, but just to make sure, did you add `org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled` inside the file?","body":"Odd. It worked for me. Before I added it, running <code>java -jar foo.jar</code> failed with the expected <code>LinkageError</code> (running it with <code>java --enable-preview -jar foo.jar</code> works, obviously). After adding that file and preference, running <code>java -jar foo.jar</code> worked as expected (no preview feature problem). You said you added the folder and file, but just to make sure, did you add <code>org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=&zwnj;&#8203;disabled</code> inside the file?"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678654148,"post_id":75639094,"comment_id":133571136,"body_markdown":"I did add it in the file, tho the settings folder didn&#39;t exist and I had to create it","body":"I did add it in the file, tho the settings folder didn&#39;t exist and I had to create it"}],"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677969255,"creation_date":1677969255,"question_id":75639094,"body_markdown":"My system is a Windows 10\r\n\r\nI&#39;m using java jdk 19 with no build tools\r\n\r\nI&#39;m trying to run a .jar file generated from my code using vscode &quot;export jar&quot; option, but double clicking the resulting file doesn&#39;t do anything.\r\n\r\nTrying to run the file from the terminal returns this error\r\n\r\n&gt; Error: LinkageError occurred while loading main class Aula3\r\n&gt; java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;\r\n\r\n\r\n\r\nI&#39;ve looked all over the internet but no one seems to have an answer, I did find another post here about the same error, but the solution only says\r\n\r\n&gt; SO basically I had to create a .bat file with java --enable-preview -jar &lt;filename&gt;.jar\r\n&gt; \r\n&gt; this resolved my issue.\r\n\r\nI don&#39;t know exactly what this means or how should I even begin to try it, and having made my account today I don&#39;t have enough reputation to ask him with a comment, so I was hoping someone else could shed  a light on this for me.\r\n\r\nAny help is appreciated as I&#39;ve been trying to fix this for days now.\r\n\r\nAlso I&#39;ve checked my path variables, they&#39;re set propperly, and tried updating java, both the jdk and jre (which left me with versions 19 and 1.8 respectively)","title":"Java LinkageError when trying to run .jar file, asks to run with --enable preview","body":"<p>My system is a Windows 10</p>\n<p>I'm using java jdk 19 with no build tools</p>\n<p>I'm trying to run a .jar file generated from my code using vscode &quot;export jar&quot; option, but double clicking the resulting file doesn't do anything.</p>\n<p>Trying to run the file from the terminal returns this error</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class Aula3\njava.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with '--enable-preview'</p>\n</blockquote>\n<p>I've looked all over the internet but no one seems to have an answer, I did find another post here about the same error, but the solution only says</p>\n<blockquote>\n<p>SO basically I had to create a .bat file with java --enable-preview -jar .jar</p>\n<p>this resolved my issue.</p>\n</blockquote>\n<p>I don't know exactly what this means or how should I even begin to try it, and having made my account today I don't have enough reputation to ask him with a comment, so I was hoping someone else could shed  a light on this for me.</p>\n<p>Any help is appreciated as I've been trying to fix this for days now.</p>\n<p>Also I've checked my path variables, they're set propperly, and tried updating java, both the jdk and jre (which left me with versions 19 and 1.8 respectively)</p>\n"},{"tags":["java","android"],"owner":{"account_id":27936902,"reputation":1,"user_id":21333711,"display_name":"Norok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677968849,"creation_date":1677968849,"question_id":75639061,"body_markdown":"I am very knew to java, and android development in general, and want to make a pill alarm app. I have made everything work, except the alarm won&#39;t sound in the backround! This is my code:\r\n\r\n    private EditText mEditTextInput;\r\n    private TextView mTextViewCountDown;\r\n    private Button mButtonSet;\r\n    private Button mButtonAnotherPill;\r\n    private Button mButtonFirstPill;\r\n\r\n    private CountDownTimer mCountDownTimer;\r\n\r\n    private boolean mTimerRunning;\r\n    private boolean mTimerInitialized;\r\n\r\n    private long mStartTimeInMillis;\r\n    private long mTimeLeftInMillis;\r\n    private long mEndTime;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTimerInitialized = false;\r\n        mEditTextInput = findViewById(R.id.editTextTextPersonName3);\r\n        mTextViewCountDown = findViewById(R.id.chronometer);\r\n\r\n        mButtonSet = findViewById(R.id.set);\r\n        mButtonAnotherPill = findViewById(R.id.reset);\r\n        mButtonFirstPill = findViewById(R.id.button);\r\n\r\n        mButtonSet.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String input = mEditTextInput.getText().toString();\r\n                if (input.length() == 0) {\r\n                    Toast.makeText(MainActivity.this, &quot;Field can&#39;t be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                long millisInput = Long.parseLong(input) * 60000;\r\n                if (millisInput == 0) {\r\n                    Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                setTime(millisInput);\r\n                mEditTextInput.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        mButtonFirstPill.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!mTimerInitialized) {\r\n                    startTimer();\r\n                    mTimerInitialized = true;\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        mButtonAnotherPill.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mTimerInitialized) {\r\n                    pauseTimer();\r\n                    resetTimer();\r\n                    startTimer();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void setTime(long milliseconds) {\r\n        mStartTimeInMillis = milliseconds;\r\n        resetTimer();\r\n        closeKeyboard();\r\n    }\r\n\r\n    private void startTimer() {\r\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n\r\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                mTimeLeftInMillis = millisUntilFinished;\r\n                updateCountDownText();\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                mTimerRunning = false;\r\n                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\r\n                mp.start();\r\n            }\r\n        }.start();\r\n\r\n        mTimerRunning = true;\r\n    }\r\n\r\n    private void pauseTimer() {\r\n        mCountDownTimer.cancel();\r\n        mTimerRunning = false;\r\n    }\r\n\r\n    private void resetTimer() {\r\n        mTimeLeftInMillis = mStartTimeInMillis;\r\n        updateCountDownText();\r\n    }\r\n\r\n    private void updateCountDownText() {\r\n        int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\r\n        int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\r\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n\r\n        String timeLeftFormatted;\r\n        if (hours &gt; 0) {\r\n            timeLeftFormatted = String.format(Locale.getDefault(),\r\n                    &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\r\n        } else {\r\n            timeLeftFormatted = String.format(Locale.getDefault(),\r\n                    &quot;%02d:%02d&quot;, minutes, seconds);\r\n        }\r\n\r\n        mTextViewCountDown.setText(timeLeftFormatted);\r\n    }\r\n\r\n\r\n    private void closeKeyboard() {\r\n        View view = this.getCurrentFocus();\r\n        if (view != null) {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n\r\n        editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\r\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n        editor.putLong(&quot;endTime&quot;, mEndTime);\r\n\r\n        editor.apply();\r\n\r\n        if (mCountDownTimer != null) {\r\n            mCountDownTimer.cancel();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n\r\n        mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\r\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\r\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n\r\n        updateCountDownText();\r\n\r\n        if (mTimerRunning) {\r\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n\r\n            if (mTimeLeftInMillis &lt; 0) {\r\n                mTimeLeftInMillis = 0;\r\n                mTimerRunning = false;\r\n                updateCountDownText();\r\n//                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\r\n//                mp.start();\r\n\r\n            } else {\r\n                startTimer();\r\n            }\r\n        }\r\n    }\r\n\r\nI tried figuring out how to make a foreground service but I couldn&#39;t, any help would be appreciated.`","title":"I don&#39;t know how to make a foreground function for my app","body":"<p>I am very knew to java, and android development in general, and want to make a pill alarm app. I have made everything work, except the alarm won't sound in the backround! This is my code:</p>\n<pre><code>private EditText mEditTextInput;\nprivate TextView mTextViewCountDown;\nprivate Button mButtonSet;\nprivate Button mButtonAnotherPill;\nprivate Button mButtonFirstPill;\n\nprivate CountDownTimer mCountDownTimer;\n\nprivate boolean mTimerRunning;\nprivate boolean mTimerInitialized;\n\nprivate long mStartTimeInMillis;\nprivate long mTimeLeftInMillis;\nprivate long mEndTime;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTimerInitialized = false;\n    mEditTextInput = findViewById(R.id.editTextTextPersonName3);\n    mTextViewCountDown = findViewById(R.id.chronometer);\n\n    mButtonSet = findViewById(R.id.set);\n    mButtonAnotherPill = findViewById(R.id.reset);\n    mButtonFirstPill = findViewById(R.id.button);\n\n    mButtonSet.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String input = mEditTextInput.getText().toString();\n            if (input.length() == 0) {\n                Toast.makeText(MainActivity.this, &quot;Field can't be empty&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            long millisInput = Long.parseLong(input) * 60000;\n            if (millisInput == 0) {\n                Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            setTime(millisInput);\n            mEditTextInput.setText(&quot;&quot;);\n        }\n    });\n\n    mButtonFirstPill.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (!mTimerInitialized) {\n                startTimer();\n                mTimerInitialized = true;\n            }\n\n        }\n    });\n\n    mButtonAnotherPill.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (mTimerInitialized) {\n                pauseTimer();\n                resetTimer();\n                startTimer();\n            }\n\n        }\n    });\n\n\n}\n\nprivate void setTime(long milliseconds) {\n    mStartTimeInMillis = milliseconds;\n    resetTimer();\n    closeKeyboard();\n}\n\nprivate void startTimer() {\n    mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n    mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            mTimeLeftInMillis = millisUntilFinished;\n            updateCountDownText();\n        }\n\n        @Override\n        public void onFinish() {\n            mTimerRunning = false;\n            final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\n            mp.start();\n        }\n    }.start();\n\n    mTimerRunning = true;\n}\n\nprivate void pauseTimer() {\n    mCountDownTimer.cancel();\n    mTimerRunning = false;\n}\n\nprivate void resetTimer() {\n    mTimeLeftInMillis = mStartTimeInMillis;\n    updateCountDownText();\n}\n\nprivate void updateCountDownText() {\n    int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\n    int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\n    int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n    String timeLeftFormatted;\n    if (hours &gt; 0) {\n        timeLeftFormatted = String.format(Locale.getDefault(),\n                &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\n    } else {\n        timeLeftFormatted = String.format(Locale.getDefault(),\n                &quot;%02d:%02d&quot;, minutes, seconds);\n    }\n\n    mTextViewCountDown.setText(timeLeftFormatted);\n}\n\n\nprivate void closeKeyboard() {\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n    SharedPreferences.Editor editor = prefs.edit();\n\n    editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\n    editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n    editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n    editor.putLong(&quot;endTime&quot;, mEndTime);\n\n    editor.apply();\n\n    if (mCountDownTimer != null) {\n        mCountDownTimer.cancel();\n    }\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n    mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\n    mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\n    mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n    updateCountDownText();\n\n    if (mTimerRunning) {\n        mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n        mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n        if (mTimeLeftInMillis &lt; 0) {\n            mTimeLeftInMillis = 0;\n            mTimerRunning = false;\n            updateCountDownText();\n</code></pre>\n<p>//                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\n//                mp.start();</p>\n<pre><code>        } else {\n            startTimer();\n        }\n    }\n}\n</code></pre>\n<p>I tried figuring out how to make a foreground service but I couldn't, any help would be appreciated.`</p>\n"},{"tags":["java","lwjgl"],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677968415,"creation_date":1677968415,"question_id":75639031,"body_markdown":"I am creating a image processing tool, where you can draw to various lighting related textures.\r\nAnd It would be very helpful to combine all the edited &quot;channels&quot; (like specular, emissive, depth, color) in one single file, so that the user won&#39;t need to load and save each of them separately.\r\n\r\nNow I am using LWJGL and the [STB][1] library provided to save and load .png&#39;s.\r\nI can interleave single channel images into one single png, where each channel can take up the red, green, and blue colors. But I am always left with 2 png&#39;s. The color image and the interleaved &quot;lighting&quot; image.\r\n\r\nWith java there are ways to write your own [custom file format][2]. But i would need the compressed png-formated data.\r\nUsing STB I am familiar with the &quot;stbi_write_png()&quot; function. It compresses the raw image and writes to it to a png. \r\n\r\n**Can you compress the image/texture without writing it to a png directly using STB?\r\nI basically need a (Heap allocated?) Bytebuffer or byte[] with compressed image data.**\r\n\r\n\r\n\r\n  [1]: https://github.com/nothings/stb\r\n  [2]: https://stackoverflow.com/questions/5995899/creating-and-reading-from-a-custom-file-type-in-java","title":"Multiple .png files into one single compressed file using LWJGL - (STB library)","body":"<p>I am creating a image processing tool, where you can draw to various lighting related textures.\nAnd It would be very helpful to combine all the edited &quot;channels&quot; (like specular, emissive, depth, color) in one single file, so that the user won't need to load and save each of them separately.</p>\n<p>Now I am using LWJGL and the <a href=\"https://github.com/nothings/stb\" rel=\"nofollow noreferrer\">STB</a> library provided to save and load .png's.\nI can interleave single channel images into one single png, where each channel can take up the red, green, and blue colors. But I am always left with 2 png's. The color image and the interleaved &quot;lighting&quot; image.</p>\n<p>With java there are ways to write your own <a href=\"https://stackoverflow.com/questions/5995899/creating-and-reading-from-a-custom-file-type-in-java\">custom file format</a>. But i would need the compressed png-formated data.\nUsing STB I am familiar with the &quot;stbi_write_png()&quot; function. It compresses the raw image and writes to it to a png.</p>\n<p><strong>Can you compress the image/texture without writing it to a png directly using STB?\nI basically need a (Heap allocated?) Bytebuffer or byte[] with compressed image data.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":1,"creation_date":1506692241,"post_id":46488346,"comment_id":79934477,"body_markdown":"Just a comment, the usage of direct access to Databases over internet is discouraged on Android, this will open full access to any malware to your data. The usual solution is exposes WebAPIs as Services so you can validate server side.","body":"Just a comment, the usage of direct access to Databases over internet is discouraged on Android, this will open full access to any malware to your data. The usual solution is exposes WebAPIs as Services so you can validate server side."},{"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"score":0,"creation_date":1506694717,"post_id":46488346,"comment_id":79936009,"body_markdown":"currently im trying to get the code of the previous owner working on my pc. i tried to ask help of them but they said they were to busy with their study. this is for my internship ;(","body":"currently im trying to get the code of the previous owner working on my pc. i tried to ask help of them but they said they were to busy with their study. this is for my internship ;("},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1506695564,"post_id":46488346,"comment_id":79936548,"body_markdown":"This is a Android question or Java SE/EE? For Java you need to add the jndi.jar","body":"This is a Android question or Java SE/EE? For Java you need to add the jndi.jar"},{"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"score":0,"creation_date":1506935264,"post_id":46488346,"comment_id":79999090,"body_markdown":"i have added jndi.jar, but i still get the same error","body":"i have added jndi.jar, but i still get the same error"}],"answers":[{"tags":[],"owner":{"account_id":13611000,"reputation":1818,"user_id":9818506,"display_name":"Rene Knop"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1677967971,"creation_date":1527516402,"answer_id":50568217,"question_id":46488346,"body_markdown":"I got the same error (on Java 9 or above). For me the problem was due to a missing `requires java.naming;` directive in the `module-info.java` of my module (the module, that accesses Referenceable). Adding this directive fixed it:\r\n\r\n```java\r\nmodule MyModule {\r\n   requires java.naming;  // Java Naming and Directory Interface (JNDI) API.\r\n   …\r\n}\r\n```\r\n\r\nThis module is for [Java Naming and Directory Interface (JNDI)][1] [API][2], as explained in the Javadoc for [*Module java.naming*][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [2]: https://en.wikipedia.org/wiki/API\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.naming/module-summary.html","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>I got the same error (on Java 9 or above). For me the problem was due to a missing <code>requires java.naming;</code> directive in the <code>module-info.java</code> of my module (the module, that accesses Referenceable). Adding this directive fixed it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module MyModule {\n   requires java.naming;  // Java Naming and Directory Interface (JNDI) API.\n   …\n}\n</code></pre>\n<p>This module is for <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">Java Naming and Directory Interface (JNDI)</a> <a href=\"https://en.wikipedia.org/wiki/API\" rel=\"nofollow noreferrer\">API</a>, as explained in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.naming/module-summary.html\" rel=\"nofollow noreferrer\"><em>Module java.naming</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":467165,"reputation":3823,"user_id":872351,"accept_rate":72,"display_name":"machinery"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560930456,"creation_date":1560930456,"answer_id":56662583,"question_id":46488346,"body_markdown":"As explained by Sander Mak [here][1] this usually happens when your code depends on something that does not have a module descriptor and this dependency&#39;s dependency is unresolved (e.g. you&#39;re using Hibernate which has no module descriptor but it requires java.naming).\r\n\r\nIn this case, rather than polluting your own module descriptor with the transitive dependency, Sander suggests to add the transitive dependency to your module graph using\r\n\r\n    --add-modules java.naming\r\n\r\nThis way when Hibernate in the future gets its own module descriptor you can just remove the above line and have only your direct dependencies in your module-info.java.\r\n\r\n  [1]: https://vimeo.com/241923744#t=1565s","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>As explained by Sander Mak <a href=\"https://vimeo.com/241923744#t=1565s\" rel=\"nofollow noreferrer\">here</a> this usually happens when your code depends on something that does not have a module descriptor and this dependency's dependency is unresolved (e.g. you're using Hibernate which has no module descriptor but it requires java.naming).</p>\n\n<p>In this case, rather than polluting your own module descriptor with the transitive dependency, Sander suggests to add the transitive dependency to your module graph using</p>\n\n<pre><code>--add-modules java.naming\n</code></pre>\n\n<p>This way when Hibernate in the future gets its own module descriptor you can just remove the above line and have only your direct dependencies in your module-info.java.</p>\n"}],"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6703,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677967971,"creation_date":1506686267,"question_id":46488346,"body_markdown":"i got the error above and below is my code what am i doin wrong?\r\nthe error reference to the datasource.\r\nwhat is the problem?\r\n\r\n    public class DBConnector {\r\n\tprivate Connection dbConn = null;\r\n\tprivate FileLogger fileLogger = new FileLogger(&quot;./logs/logfile.txt&quot;);\r\n\tprivate ConfigurationReader conf = new ConfigurationReader(&quot;./config.sys&quot;);\r\n\tprivate Logger logger = fileLogger.getLogger();\r\n\t\r\n\t/**\r\n\t * Attempts to establish a connection with a test MySQL database.\r\n\t */\r\n\tpublic DBConnector() {\r\n\r\n\r\n\t\tMysqlDataSource dataSource = new MysqlDataSource();\r\n\t\tdataSource.setUser(conf.getConfigString(&quot;username&quot;));\r\n\t\tdataSource.setPassword(conf.getConfigString(&quot;password&quot;));\r\n\t\tdataSource.setServerName(conf.getConfigString(&quot;dbhost&quot;));\r\n\t\tdataSource.setDatabaseName(conf.getConfigString(&quot;dbname&quot;));\r\n\t    dataSource.setPort(conf.getConfigInt(&quot;dbport&quot;));\r\n\r\n\t\ttry {\r\n\t\t\tdbConn = dataSource.getConnection();\r\n\r\n\t\t\tlogger.info(&quot;Succesful connection with database!&quot;);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.info(&quot;Error: DBConnector(): problem creating database connection&quot;);\r\n\t\t}\r\n\t\tlogger.info(&quot;Database connection = &quot; + dbConn);\r\n\t}\r\n\r\n","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>i got the error above and below is my code what am i doin wrong?\nthe error reference to the datasource.\nwhat is the problem?</p>\n\n<pre><code>public class DBConnector {\nprivate Connection dbConn = null;\nprivate FileLogger fileLogger = new FileLogger(\"./logs/logfile.txt\");\nprivate ConfigurationReader conf = new ConfigurationReader(\"./config.sys\");\nprivate Logger logger = fileLogger.getLogger();\n\n/**\n * Attempts to establish a connection with a test MySQL database.\n */\npublic DBConnector() {\n\n\n    MysqlDataSource dataSource = new MysqlDataSource();\n    dataSource.setUser(conf.getConfigString(\"username\"));\n    dataSource.setPassword(conf.getConfigString(\"password\"));\n    dataSource.setServerName(conf.getConfigString(\"dbhost\"));\n    dataSource.setDatabaseName(conf.getConfigString(\"dbname\"));\n    dataSource.setPort(conf.getConfigInt(\"dbport\"));\n\n    try {\n        dbConn = dataSource.getConnection();\n\n        logger.info(\"Succesful connection with database!\");\n    } catch (Exception ex) {\n        logger.info(\"Error: DBConnector(): problem creating database connection\");\n    }\n    logger.info(\"Database connection = \" + dbConn);\n}\n</code></pre>\n"},{"tags":["java","string","char"],"answers":[{"tags":[],"owner":{"account_id":23411053,"reputation":26,"user_id":17472730,"display_name":"Leppy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677964763,"creation_date":1677964763,"answer_id":75638731,"question_id":75638646,"body_markdown":"You are on the right track! Here&#39;s how you can modify your code to shift the letters forward as specified in the assignment:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n            \r\n            Scanner input;\r\n            FileInputStream inputFile = null;\r\n            FileOutputStream outputFile = null;\r\n            PrintWriter outPrint = null;\r\n            \r\n            inputFile = new FileInputStream(&quot;input2.in&quot;);\r\n            outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\r\n            outPrint = new PrintWriter(outputFile);\r\n            input = new Scanner(inputFile);\r\n            \r\n            while (input.hasNext()) {\r\n                String lineReader = null;\r\n                lineReader = input.nextLine();\r\n                if (lineReader.length() % 2 == 0) {\r\n                    // even length word\r\n                    String evenWord = lineReader;\r\n                    String shiftedWord = evenWord.substring(evenWord.length()/2) + evenWord.substring(0, evenWord.length()/2);\r\n                    System.out.print(evenWord + &quot; &quot;);\r\n                    System.out.print(shiftedWord.toUpperCase());\r\n                    System.out.println();\r\n                    outPrint.print(evenWord + &quot;    &quot;);\r\n                    outPrint.println(shiftedWord.toUpperCase());\r\n                }\r\n                else if (lineReader.length() % 2 != 0){\r\n                    // odd length word\r\n                    String oddWord = lineReader;\r\n                    String shiftedWord = oddWord.substring((oddWord.length()+1)/2) + oddWord.substring(0, (oddWord.length()+1)/2);\r\n                    System.out.print(oddWord + &quot;  &quot;);\r\n                    System.out.println(shiftedWord.toUpperCase());\r\n                    outPrint.print(oddWord + &quot;    &quot;);\r\n                    outPrint.println(shiftedWord.toUpperCase());\r\n                }\r\n            }\r\n            inputFile.close();\r\n            outPrint.close();\r\n            input.close();\r\n        }\r\n\r\nIn the code above, for even length words, we split the word at the middle, swap the two halves and concatenate them back together. For odd length words, we add 1 to the length of the word, split it at the middle, swap the two halves and concatenate them back together.\r\n\r\nNote that I have also modified the print statements to match the output format specified in the assignment.\r\n\r\n","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>You are on the right track! Here's how you can modify your code to shift the letters forward as specified in the assignment:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        \n        Scanner input;\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n        PrintWriter outPrint = null;\n        \n        inputFile = new FileInputStream(&quot;input2.in&quot;);\n        outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\n        outPrint = new PrintWriter(outputFile);\n        input = new Scanner(inputFile);\n        \n        while (input.hasNext()) {\n            String lineReader = null;\n            lineReader = input.nextLine();\n            if (lineReader.length() % 2 == 0) {\n                // even length word\n                String evenWord = lineReader;\n                String shiftedWord = evenWord.substring(evenWord.length()/2) + evenWord.substring(0, evenWord.length()/2);\n                System.out.print(evenWord + &quot; &quot;);\n                System.out.print(shiftedWord.toUpperCase());\n                System.out.println();\n                outPrint.print(evenWord + &quot;    &quot;);\n                outPrint.println(shiftedWord.toUpperCase());\n            }\n            else if (lineReader.length() % 2 != 0){\n                // odd length word\n                String oddWord = lineReader;\n                String shiftedWord = oddWord.substring((oddWord.length()+1)/2) + oddWord.substring(0, (oddWord.length()+1)/2);\n                System.out.print(oddWord + &quot;  &quot;);\n                System.out.println(shiftedWord.toUpperCase());\n                outPrint.print(oddWord + &quot;    &quot;);\n                outPrint.println(shiftedWord.toUpperCase());\n            }\n        }\n        inputFile.close();\n        outPrint.close();\n        input.close();\n    }\n</code></pre>\n<p>In the code above, for even length words, we split the word at the middle, swap the two halves and concatenate them back together. For odd length words, we add 1 to the length of the word, split it at the middle, swap the two halves and concatenate them back together.</p>\n<p>Note that I have also modified the print statements to match the output format specified in the assignment.</p>\n"},{"tags":[],"owner":{"account_id":25316015,"reputation":19,"user_id":19138128,"display_name":"ScrapsOfDevelopment"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677967215,"creation_date":1677966679,"answer_id":75638889,"question_id":75638646,"body_markdown":"An alternative way to calculate this (w/out the extra code) is to use the the fact that an `int` is always a whole number.  \r\nSo, by adding one and dividing by two will get you the length of the string to move.  \r\n`(7+1)/2 = 4` stays `4` when stored as an `int`.  \r\n`(6+1)/2 = 3.5` becomes `3` when stored as an `int`.\r\n\r\n```\r\n        while (input.hasNext()) {\r\n            //Remove the &quot;= null&quot; part. It&#39;s redundant\r\n            String line = input.nextLine();\r\n            int charactersToMove = (line.length() + 1) / 2;\r\n            String shiftedWord = line.substring(charactersToMove)\r\n                               + line.substring(0, charactersToMove);\r\n            System.out.println(line + &quot; &quot; + shiftedWord.toUpperCase());\r\n            outPrint.println(evenWord + &quot;    &quot; + shiftedWord.toUpperCase());\r\n        }\r\n```\r\n\r\nYou could also use % to calculate the offset on a single line, too:\r\n```\r\nint charactersToMove = (line.length()/2) + (line.length() % 2);\r\nor\r\nint charactersToMove = ((line.length() + (line.length() % 2)) / 2);\r\n```\r\nIn this case `(line.length() % 2)` is always `1` for odd numbers and `0` for even numbers.","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>An alternative way to calculate this (w/out the extra code) is to use the the fact that an <code>int</code> is always a whole number.<br />\nSo, by adding one and dividing by two will get you the length of the string to move.<br />\n<code>(7+1)/2 = 4</code> stays <code>4</code> when stored as an <code>int</code>.<br />\n<code>(6+1)/2 = 3.5</code> becomes <code>3</code> when stored as an <code>int</code>.</p>\n<pre><code>        while (input.hasNext()) {\n            //Remove the &quot;= null&quot; part. It's redundant\n            String line = input.nextLine();\n            int charactersToMove = (line.length() + 1) / 2;\n            String shiftedWord = line.substring(charactersToMove)\n                               + line.substring(0, charactersToMove);\n            System.out.println(line + &quot; &quot; + shiftedWord.toUpperCase());\n            outPrint.println(evenWord + &quot;    &quot; + shiftedWord.toUpperCase());\n        }\n</code></pre>\n<p>You could also use % to calculate the offset on a single line, too:</p>\n<pre><code>int charactersToMove = (line.length()/2) + (line.length() % 2);\nor\nint charactersToMove = ((line.length() + (line.length() % 2)) / 2);\n</code></pre>\n<p>In this case <code>(line.length() % 2)</code> is always <code>1</code> for odd numbers and <code>0</code> for even numbers.</p>\n"}],"owner":{"account_id":27936464,"reputation":3,"user_id":21333371,"display_name":"vert4848"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75638731,"answer_count":2,"score":0,"last_activity_date":1677967215,"creation_date":1677963756,"question_id":75638646,"body_markdown":"I&#39;m new to coding, and need some help completing an assignment. It specifies that we need to take strings from a file, and shift the letters forward a certain amount. This is the part I&#39;m struggling with:\r\n\r\nIf a word has n letters, where n is an odd number, move the first (n+1)/2 letters to the end of the word.  For example: ‘kitchen’ becomes ‘henkitc’.\r\n\r\nIf a word has n letters, where n is an even number, move the first n/2 letters to the end of the word.  For example, ‘before’ becomes ‘orebef’.\r\n\r\nInput files will look like this:\r\n\r\nBefore\r\n\r\nKitchen\r\n\r\nOutputs like this:\r\n\r\nBefore OREBEF\r\n\r\nKitchen HENKITC\r\n\r\nApologies if this is a stupid question.\r\n\r\nHere&#39;s what I have so far:\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tScanner input;\r\n\t\tFileInputStream inputFile = null;\r\n\t\tFileOutputStream outputFile = null;\r\n\t\tPrintWriter outPrint = null;\r\n\t\t\r\n\t\tinputFile = new FileInputStream(&quot;input2.in&quot;);\r\n\t\toutputFile = new FileOutputStream(&quot;results.out.txt&quot;);\r\n\t\toutPrint = new PrintWriter(outputFile);\r\n\t\tinput = new Scanner(inputFile);\r\n\t\t\r\n\t\twhile (input.hasNext()) {\r\n\t\t\tString lineReader = null;\r\n\t\t\tlineReader = input.nextLine();\r\n\t\t\tif (lineReader.length() % 2 == 0) {\r\n\t\t\t\tString evenWord = lineReader;\r\n\t\t\t\tString flippedEvenWord = null;\r\n\t\t\t\tSystem.out.print(evenWord);\r\n\t\t\t\tSystem.out.print(&quot;\t&quot;);\r\n\t\t\t\tSystem.out.println(evenWord.toUpperCase());\r\n\t\t\t\toutPrint.print(evenWord);\r\n\t\t\t\toutPrint.print(&quot;\t&quot;);\r\n\t\t\t\toutPrint.println(evenWord.toUpperCase());\r\n\t\t\t}\r\n\t\t\telse if (lineReader.length() % 2 != 0){\r\n\t\t\t\tString oddWord = lineReader;\r\n\t\t\t\tSystem.out.print(oddWord);\r\n\t\t\t\toutPrint.print(oddWord);\r\n\t\t\t\toutPrint.print(&quot;\t&quot;);\r\n\t\t\t\tSystem.out.print(&quot;\t&quot;);\r\n\t\t\t\tString flippedOddWord = oddWord;\r\n\t\t\t\tSystem.out.println(flippedOddWord.toUpperCase());\r\n\t\t\t\toutPrint.println(oddWord.toUpperCase());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinputFile.close();\r\n\t\toutPrint.close();\r\n\t\tinput.close();\r\n\t}\r\n\r\n\t}\r\n```","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>I'm new to coding, and need some help completing an assignment. It specifies that we need to take strings from a file, and shift the letters forward a certain amount. This is the part I'm struggling with:</p>\n<p>If a word has n letters, where n is an odd number, move the first (n+1)/2 letters to the end of the word.  For example: ‘kitchen’ becomes ‘henkitc’.</p>\n<p>If a word has n letters, where n is an even number, move the first n/2 letters to the end of the word.  For example, ‘before’ becomes ‘orebef’.</p>\n<p>Input files will look like this:</p>\n<p>Before</p>\n<p>Kitchen</p>\n<p>Outputs like this:</p>\n<p>Before OREBEF</p>\n<p>Kitchen HENKITC</p>\n<p>Apologies if this is a stupid question.</p>\n<p>Here's what I have so far:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        \n        Scanner input;\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n        PrintWriter outPrint = null;\n        \n        inputFile = new FileInputStream(&quot;input2.in&quot;);\n        outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\n        outPrint = new PrintWriter(outputFile);\n        input = new Scanner(inputFile);\n        \n        while (input.hasNext()) {\n            String lineReader = null;\n            lineReader = input.nextLine();\n            if (lineReader.length() % 2 == 0) {\n                String evenWord = lineReader;\n                String flippedEvenWord = null;\n                System.out.print(evenWord);\n                System.out.print(&quot;  &quot;);\n                System.out.println(evenWord.toUpperCase());\n                outPrint.print(evenWord);\n                outPrint.print(&quot;    &quot;);\n                outPrint.println(evenWord.toUpperCase());\n            }\n            else if (lineReader.length() % 2 != 0){\n                String oddWord = lineReader;\n                System.out.print(oddWord);\n                outPrint.print(oddWord);\n                outPrint.print(&quot;    &quot;);\n                System.out.print(&quot;  &quot;);\n                String flippedOddWord = oddWord;\n                System.out.println(flippedOddWord.toUpperCase());\n                outPrint.println(oddWord.toUpperCase());\n            }\n            else {\n                break;\n            }\n        }\n        inputFile.close();\n        outPrint.close();\n        input.close();\n    }\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677503585,"post_id":75580920,"comment_id":133344438,"body_markdown":"Please share your entity too.","body":"Please share your entity too."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677504866,"post_id":75580920,"comment_id":133344867,"body_markdown":"The entity is huge. Which parts are interesting for you?","body":"The entity is huge. Which parts are interesting for you?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677505987,"post_id":75580920,"comment_id":133345260,"body_markdown":"The column/property names you refer in the method name","body":"The column/property names you refer in the method name"},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677509828,"post_id":75580920,"comment_id":133346532,"body_markdown":"@Jens I added the column definition","body":"@Jens I added the column definition"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677515565,"post_id":75580920,"comment_id":133348639,"body_markdown":"This is a Spring method problem, not JPA. And it just won&#39;t work in spring if you are going to let Spring define the queries for you - change your property name or specify the query you want with the @Query annotation instead.","body":"This is a Spring method problem, not JPA. And it just won&#39;t work in spring if you are going to let Spring define the queries for you - change your property name or specify the query you want with the @Query annotation instead."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1677517168,"post_id":75580920,"comment_id":133349186,"body_markdown":"Call it &quot;estimationdatetime&quot;  and the problem goes away.","body":"Call it &quot;estimationdatetime&quot;  and the problem goes away."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677580277,"post_id":75580920,"comment_id":133361719,"body_markdown":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name","body":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name"}],"answers":[{"comments":[{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677580290,"post_id":75583358,"comment_id":133361724,"body_markdown":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name. If I write a deticated query, it does not properly handle NULL values which would be done with a query generated by method name.","body":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name. If I write a deticated query, it does not properly handle NULL values which would be done with a query generated by method name."}],"tags":[],"owner":{"account_id":24772032,"reputation":1,"user_id":18655717,"display_name":"maitri sheth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677966876,"creation_date":1677516944,"answer_id":75583358,"question_id":75580920,"body_markdown":"This happens due to the `PropertyPath` class. It only takes property before. In your case it only takes date (to verify you can put a debug point) and then it is unable to find date as a property in the entity, thus it throws an error.\r\n\r\nTo avoid this error, there are two ways: -\r\n 1. You can change column name in SQL and in entity as variable.\r\n 2. You can write JPQL/Native query for the same `findAllByDateAndTimeOfEstimation()`.\r\n\r\n\r\n\r\n\r\n","title":"JPA Repository use reserved word in column name for method name","body":"<p>This happens due to the <code>PropertyPath</code> class. It only takes property before. In your case it only takes date (to verify you can put a debug point) and then it is unable to find date as a property in the entity, thus it throws an error.</p>\n<p>To avoid this error, there are two ways: -</p>\n<ol>\n<li>You can change column name in SQL and in entity as variable.</li>\n<li>You can write JPQL/Native query for the same <code>findAllByDateAndTimeOfEstimation()</code>.</li>\n</ol>\n"}],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677966876,"creation_date":1677503495,"question_id":75580920,"body_markdown":"My entity property is called &quot;dateAndTimeOfEstimation&quot;:\r\n\r\n```\r\n  @Column(nullable = true)\r\n  private LocalDateTime dateAndTimeOfEstimation;\r\n```\r\n\r\nIf I use it as part of a method name of a JPA repository, it does not work because the &quot;And&quot; is recognized as a query key word.\r\nExample method name:\r\n`findAllByDateAndTimeOfEstimation`. How can I make clear that the &quot;And&quot; should not be treated as query key word but as part of the column name?","title":"JPA Repository use reserved word in column name for method name","body":"<p>My entity property is called &quot;dateAndTimeOfEstimation&quot;:</p>\n<pre><code>  @Column(nullable = true)\n  private LocalDateTime dateAndTimeOfEstimation;\n</code></pre>\n<p>If I use it as part of a method name of a JPA repository, it does not work because the &quot;And&quot; is recognized as a query key word.\nExample method name:\n<code>findAllByDateAndTimeOfEstimation</code>. How can I make clear that the &quot;And&quot; should not be treated as query key word but as part of the column name?</p>\n"},{"tags":["java","concurrency","uml","invariants"],"comments":[{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":0,"creation_date":1553542495,"post_id":11331964,"comment_id":97415190,"body_markdown":"Also Assume when Unit Test and Given in BDD are examples of real world use of pre-conditions, and Assert &amp; BDD Then clauses are examples of post-conditions.","body":"Also Assume when Unit Test and Given in BDD are examples of real world use of pre-conditions, and Assert &amp; BDD Then clauses are examples of post-conditions."}],"answers":[{"comments":[{"owner":{"account_id":27543,"reputation":7198,"user_id":72810,"accept_rate":61,"display_name":"lexicalscope"},"score":2,"creation_date":1354621428,"post_id":11332027,"comment_id":18815957,"body_markdown":"http://en.wikipedia.org/wiki/Hoare_logic","body":"<a href=\"http://en.wikipedia.org/wiki/Hoare_logic\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Hoare_logic</a>"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1491457592,"post_id":11332027,"comment_id":73562699,"body_markdown":"So, when I&#39;m writing a method with certain pre-conditions, would I check to see if those pre-conditions are satisfied, or am I to assume that the client is smart enough to not violate the pre-condition?","body":"So, when I&#39;m writing a method with certain pre-conditions, would I check to see if those pre-conditions are satisfied, or am I to assume that the client is smart enough to not violate the pre-condition?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1491463610,"post_id":11332027,"comment_id":73566094,"body_markdown":"Your choice, but the whole idea is to validate and prevent errors. Ask yourself how consumers will know your contract.","body":"Your choice, but the whole idea is to validate and prevent errors. Ask yourself how consumers will know your contract."},{"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"score":0,"creation_date":1629351724,"post_id":11332027,"comment_id":121664862,"body_markdown":"I got here by reading https://stackoverflow.com/q/77127/845117 regarding &#39;When to throw an Exception&#39;. The 3 Terms of Pre-, Postconditions and Invariants do sound clearly logic to me. And I would throw an Exception if any of these cannot be met by &#39;my&#39; executing function. For me then, an Exception is a marker telling me execution did not terminate as expected/as declared - watch out!","body":"I got here by reading <a href=\"https://stackoverflow.com/q/77127/845117\">stackoverflow.com/q/77127/845117</a> regarding &#39;When to throw an Exception&#39;. The 3 Terms of Pre-, Postconditions and Invariants do sound clearly logic to me. And I would throw an Exception if any of these cannot be met by &#39;my&#39; executing function. For me then, an Exception is a marker telling me execution did not terminate as expected/as declared - watch out!"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":4,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1677964560,"creation_date":1341416069,"answer_id":11332027,"question_id":11331964,"body_markdown":"You&#39;ll have a lot of problems writing Java, especially multi-threaded code, if you can&#39;t understand these simple ideas: \r\n\r\n 1. Pre-conditions are the things that must be true before a method is called.  The method tells clients &quot;this is what I expect from you&quot;.\r\n 2. Post-conditions are the things that must be true after the method is complete.  The method tells clients &quot;this is what I promise to do for you&quot;.\r\n 3. Invariants are the things that are always true and won&#39;t change.  The method tells clients &quot;if this was true before you called me, I promise it&#39;ll still be true when I&#39;m done&quot;.\r\n\r\nThey&#39;re all part of an idea called &quot;programming by contract&quot;.  It was invented by a guy named [C.A.R. Hoare][1].  Bertrand Meyer built an object oriented language called [Eiffel][2] around it.  No one uses it much, but he had a day in the sun because of it.\r\n\r\nEiffel isn&#39;t very popular.  There are over four million questions on SO as I write this, but only 32 of them are tagged &quot;eiffel&quot;.\r\n\r\nUpdate: There were 11,966,392 question on SO on 29-Jun-2016.  Only 92 of them were tagged &quot;eiffel&quot;.  The percentage of Eiffel questions is staying roughly constant at ~0.00077%.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hoare_logic\r\n  [2]: http://archive.eiffel.com/eiffel/nutshell.html","title":"What are the differences pre condition ,post condition and invariant in computer terminology","body":"<p>You'll have a lot of problems writing Java, especially multi-threaded code, if you can't understand these simple ideas:</p>\n<ol>\n<li>Pre-conditions are the things that must be true before a method is called.  The method tells clients &quot;this is what I expect from you&quot;.</li>\n<li>Post-conditions are the things that must be true after the method is complete.  The method tells clients &quot;this is what I promise to do for you&quot;.</li>\n<li>Invariants are the things that are always true and won't change.  The method tells clients &quot;if this was true before you called me, I promise it'll still be true when I'm done&quot;.</li>\n</ol>\n<p>They're all part of an idea called &quot;programming by contract&quot;.  It was invented by a guy named <a href=\"http://en.wikipedia.org/wiki/Hoare_logic\" rel=\"nofollow noreferrer\">C.A.R. Hoare</a>.  Bertrand Meyer built an object oriented language called <a href=\"http://archive.eiffel.com/eiffel/nutshell.html\" rel=\"nofollow noreferrer\">Eiffel</a> around it.  No one uses it much, but he had a day in the sun because of it.</p>\n<p>Eiffel isn't very popular.  There are over four million questions on SO as I write this, but only 32 of them are tagged &quot;eiffel&quot;.</p>\n<p>Update: There were 11,966,392 question on SO on 29-Jun-2016.  Only 92 of them were tagged &quot;eiffel&quot;.  The percentage of Eiffel questions is staying roughly constant at ~0.00077%.</p>\n"}],"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48237,"favorite_count":0,"down_vote_count":5,"up_vote_count":47,"closed_date":1341417712,"accepted_answer_id":11332027,"answer_count":1,"score":42,"last_activity_date":1677964560,"creation_date":1341415806,"question_id":11331964,"body_markdown":"I am reading the book [Java Concurrency in Practice][1] and getting a little bit confused with these terms:\r\n\r\n 1. *Pre condition*\r\n 2. *Post condition*\r\n 3. *Invariants*\r\n\r\nCan someone please explain me them (with an example, if it&#39;s possible)?\r\n\r\n[1]:http://jcip.net/","title":"What are the differences pre condition ,post condition and invariant in computer terminology","body":"<p>I am reading the book <a href=\"http://jcip.net/\" rel=\"noreferrer\">Java Concurrency in Practice</a> and getting a little bit confused with these terms:</p>\n\n<ol>\n<li><em>Pre condition</em></li>\n<li><em>Post condition</em></li>\n<li><em>Invariants</em></li>\n</ol>\n\n<p>Can someone please explain me them (with an example, if it's possible)?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":1315853,"reputation":6642,"user_id":1262753,"accept_rate":70,"display_name":"Jos de Jong"},"score":0,"creation_date":1334214279,"post_id":10114129,"comment_id":12967441,"body_markdown":"Indeed, that is one of the things that makes readValue usable in amore situations than readTree, so why ever choose readTree over readValue?","body":"Indeed, that is one of the things that makes readValue usable in amore situations than readTree, so why ever choose readTree over readValue?"},{"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"score":1,"creation_date":1334243960,"post_id":10114129,"comment_id":12978935,"body_markdown":"readTree you may choose when you do not no exact type of the object. while readValue - when you know the object type for sure.","body":"readTree you may choose when you do not no exact type of the object. while readValue - when you know the object type for sure."}],"tags":[],"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1546415233,"creation_date":1334179015,"answer_id":10114129,"question_id":10113512,"body_markdown":"Read value can be used for your own java classes: \r\n\r\n    public class Foo {\r\n       private int a;\r\n       private String b;\r\n       private double[] c;\r\n    \r\n       // getters/setters\r\n    }\r\n    \r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Foo foo = mapper.readValue(json, Foo.class);\r\n\r\ni.e. You may choose `readTree` when you do not know exact type of the Object, and `readValue` when you know the Object type for sure.","title":"readValue and readTree in Jackson: when to use which?","body":"<p>Read value can be used for your own java classes: </p>\n\n<pre><code>public class Foo {\n   private int a;\n   private String b;\n   private double[] c;\n\n   // getters/setters\n}\n\nString json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nFoo foo = mapper.readValue(json, Foo.class);\n</code></pre>\n\n<p>i.e. You may choose <code>readTree</code> when you do not know exact type of the Object, and <code>readValue</code> when you know the Object type for sure.</p>\n"},{"comments":[{"owner":{"account_id":1315853,"reputation":6642,"user_id":1262753,"accept_rate":70,"display_name":"Jos de Jong"},"score":0,"creation_date":1334564025,"post_id":10131396,"comment_id":13049376,"body_markdown":"thanks, this is useful information. I assumed that convertValue was smart enough to just cast to the correct type when possible and that it would be safer than casting myself...","body":"thanks, this is useful information. I assumed that convertValue was smart enough to just cast to the correct type when possible and that it would be safer than casting myself..."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1334687532,"post_id":10131396,"comment_id":13091792,"body_markdown":"That&#39;s an interesting idea -- maybe such code could be added? Name &#39;convert&#39; is meant to convey conversion; not simply cast, but I guess it&#39;s not unreasonable expectation. I&#39;ll file an improvement issue for this.","body":"That&#39;s an interesting idea -- maybe such code could be added? Name &#39;convert&#39; is meant to convey conversion; not simply cast, but I guess it&#39;s not unreasonable expectation. I&#39;ll file an improvement issue for this."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1334262958,"creation_date":1334262958,"answer_id":10131396,"question_id":10113512,"body_markdown":"readValue() can be used for any and all types, including `JsonNode`. readTree() only works for `JsonNode` (tree model); and is added for convenience.\r\n\r\nNote that you NEVER want to use your first example: it is equivalent to writing out your node as JSON, then reading it back -- just cast it.\r\n","title":"readValue and readTree in Jackson: when to use which?","body":"<p>readValue() can be used for any and all types, including <code>JsonNode</code>. readTree() only works for <code>JsonNode</code> (tree model); and is added for convenience.</p>\n\n<p>Note that you NEVER want to use your first example: it is equivalent to writing out your node as JSON, then reading it back -- just cast it.</p>\n"},{"tags":[],"owner":{"account_id":19434800,"reputation":101,"user_id":14214496,"display_name":"Evgeny Umansky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677963648,"creation_date":1677324118,"answer_id":75565044,"question_id":10113512,"body_markdown":"These methods have different **runtime** when you are parsing (deserializing, unmarshalling) same JSON.\r\n\r\nThe **fastest** way is using **readValue()** with **type reference HashMap**:\r\n\r\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef= new TypeReference&lt;&gt;() {};\r\n    \r\n    HashMap&lt;String, Object&gt; parsedJson = objectMapper.readValue(json,typeRef);\r\n\r\nUsing **readTree**() and writing manual parser with JsonNode objects also wiil give you **fast runtime**.\r\n\r\nAdditional benefit of using **readTree**(): you can use **stream parallel** when parsing ArrayNode objects, which will boost runtime on multicore processors.\r\n\r\nOn the other hand, you can use **Jackson Streaming API** (JsonParser class) to get similar runtime as **stream parallel**.\r\n\r\nThe **slowest** way is using **readValue()** with **POJO** class:\r\n\r\n    YourPOJO parsedJson = objectMapper.readValue(json, YourPOJO.class);\r\n\r\nFinally, you can combine **readValue()** with **POJO** and **Jackson Streaming API** to get a good runtime.\r\n\r\nHere is a cool example how to use Jackson Streaming API for both the cases: [Jackson Streaming API][1].\r\n\r\n\r\nThis is approximate runtime of each parsing (deserializing, unmarshalling) way on same JSON:\r\n\r\n    Auto parsing raw map with ObjectMapper readValue() runtime: 34 ms\r\n    Auto parsing type reference map with ObjectMapper readValue() runtime: 6 ms\r\n    Auto parsing POJO with ObjectMapper readValue() runtime: 51 ms\r\n    Manual sequential parsing with ObjectMapper readTree() runtime: 18 ms\r\n    Manual stream parallel parsing with ObjectMapper readTree() runtime: 10 ms\r\n    Jackson Streaming API manual parsing with JsonParser runtime: 8 ms\r\n    Jackson Streaming API combining ObjectMapper readTree() runtime: 14 ms\r\n\r\nI have done my example and tests here:\r\n\r\n&gt; [https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java][2]\r\n\r\nAnother tests here:\r\n\r\n&gt; [https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44][3]\r\n\r\n\r\n  [1]: https://cassiomolin.com/2019/08/19/combining-jackson-streaming-api-with-objectmapper-for-parsing-json/\r\n  [2]: https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java\r\n  [3]: https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44","title":"readValue and readTree in Jackson: when to use which?","body":"<p>These methods have different <strong>runtime</strong> when you are parsing (deserializing, unmarshalling) same JSON.</p>\n<p>The <strong>fastest</strong> way is using <strong>readValue()</strong> with <strong>type reference HashMap</strong>:</p>\n<pre><code>TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef= new TypeReference&lt;&gt;() {};\n\nHashMap&lt;String, Object&gt; parsedJson = objectMapper.readValue(json,typeRef);\n</code></pre>\n<p>Using <strong>readTree</strong>() and writing manual parser with JsonNode objects also wiil give you <strong>fast runtime</strong>.</p>\n<p>Additional benefit of using <strong>readTree</strong>(): you can use <strong>stream parallel</strong> when parsing ArrayNode objects, which will boost runtime on multicore processors.</p>\n<p>On the other hand, you can use <strong>Jackson Streaming API</strong> (JsonParser class) to get similar runtime as <strong>stream parallel</strong>.</p>\n<p>The <strong>slowest</strong> way is using <strong>readValue()</strong> with <strong>POJO</strong> class:</p>\n<pre><code>YourPOJO parsedJson = objectMapper.readValue(json, YourPOJO.class);\n</code></pre>\n<p>Finally, you can combine <strong>readValue()</strong> with <strong>POJO</strong> and <strong>Jackson Streaming API</strong> to get a good runtime.</p>\n<p>Here is a cool example how to use Jackson Streaming API for both the cases: <a href=\"https://cassiomolin.com/2019/08/19/combining-jackson-streaming-api-with-objectmapper-for-parsing-json/\" rel=\"nofollow noreferrer\">Jackson Streaming API</a>.</p>\n<p>This is approximate runtime of each parsing (deserializing, unmarshalling) way on same JSON:</p>\n<pre><code>Auto parsing raw map with ObjectMapper readValue() runtime: 34 ms\nAuto parsing type reference map with ObjectMapper readValue() runtime: 6 ms\nAuto parsing POJO with ObjectMapper readValue() runtime: 51 ms\nManual sequential parsing with ObjectMapper readTree() runtime: 18 ms\nManual stream parallel parsing with ObjectMapper readTree() runtime: 10 ms\nJackson Streaming API manual parsing with JsonParser runtime: 8 ms\nJackson Streaming API combining ObjectMapper readTree() runtime: 14 ms\n</code></pre>\n<p>I have done my example and tests here:</p>\n<blockquote>\n<p><a href=\"https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java\" rel=\"nofollow noreferrer\">https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java</a></p>\n</blockquote>\n<p>Another tests here:</p>\n<blockquote>\n<p><a href=\"https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44\" rel=\"nofollow noreferrer\">https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44</a></p>\n</blockquote>\n"}],"owner":{"account_id":1315853,"reputation":6642,"user_id":1262753,"accept_rate":70,"display_name":"Jos de Jong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86533,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10131396,"answer_count":3,"score":36,"last_activity_date":1677963648,"creation_date":1334176435,"question_id":10113512,"body_markdown":"I&#39;m just starting using the Jackson JSON library. Jackson is a very powerful library, but it has a terribly extensive API. A lot of things can be done in multiple ways. This makes it hard to find your way in Jackson - how to know what is the correct/best way of doing things?\r\n\r\nWhy would I use this solution:\r\n\r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readValue(json, JsonNode.class);\r\n    if (node.isObject()) {\r\n        ObjectNode obj = mapper.convertValue(node, ObjectNode.class);\r\n        if (obj.has(&quot;a&quot;)) {\r\n            System.out.println(&quot;a=&quot; + obj.get(&quot;a&quot;).asDouble());\r\n        }\r\n    }\r\n\r\nOver a solution like this:\r\n\r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(json);\r\n    if (node.isObject()) {\r\n        ObjectNode obj = (ObjectNode) node;\r\n        if (obj.has(&quot;a&quot;)) {\r\n            System.out.println(&quot;a=&quot; + obj.get(&quot;a&quot;).asDouble());\r\n        }\r\n    }\t  \r\n\r\nOr over solutions that I came across using JsonFactory and JsonParser and maybe even more options...\r\n\r\nIt seems to mee that mapper.readValue is most generic and can be used in a lot of cases: read to JsonNode, ObjectNode, ArrayNode, PoJo, etc. So why would I want to use mapper.readTree? \r\n\r\nAnd what is the best way to convert a JsonNode to an ObjectNode? Just cast to ObjectNode? Or use something like mapper.convertValue?","title":"readValue and readTree in Jackson: when to use which?","body":"<p>I'm just starting using the Jackson JSON library. Jackson is a very powerful library, but it has a terribly extensive API. A lot of things can be done in multiple ways. This makes it hard to find your way in Jackson - how to know what is the correct/best way of doing things?</p>\n\n<p>Why would I use this solution:</p>\n\n<pre><code>String json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readValue(json, JsonNode.class);\nif (node.isObject()) {\n    ObjectNode obj = mapper.convertValue(node, ObjectNode.class);\n    if (obj.has(\"a\")) {\n        System.out.println(\"a=\" + obj.get(\"a\").asDouble());\n    }\n}\n</code></pre>\n\n<p>Over a solution like this:</p>\n\n<pre><code>String json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(json);\nif (node.isObject()) {\n    ObjectNode obj = (ObjectNode) node;\n    if (obj.has(\"a\")) {\n        System.out.println(\"a=\" + obj.get(\"a\").asDouble());\n    }\n}     \n</code></pre>\n\n<p>Or over solutions that I came across using JsonFactory and JsonParser and maybe even more options...</p>\n\n<p>It seems to mee that mapper.readValue is most generic and can be used in a lot of cases: read to JsonNode, ObjectNode, ArrayNode, PoJo, etc. So why would I want to use mapper.readTree? </p>\n\n<p>And what is the best way to convert a JsonNode to an ObjectNode? Just cast to ObjectNode? Or use something like mapper.convertValue?</p>\n"},{"tags":["java","constants"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1677854143,"post_id":75628336,"comment_id":133424642,"body_markdown":"put them in a List and use contains: `Arrays.asList(UserRole.ADMIN, UserRole.SELLER, UserRole.BIGGER).contains(input)` - Note however that I see huge problems with your plan on checking if `input.toLower()` (which i assume means the lowercase conversion of your input) equals a couple of Strings of which not a single one is all lower case.","body":"put them in a List and use contains: <code>Arrays.asList(UserRole.ADMIN, UserRole.SELLER, UserRole.BIGGER).contains(input)</code> - Note however that I see huge problems with your plan on checking if <code>input.toLower()</code> (which i assume means the lowercase conversion of your input) equals a couple of Strings of which not a single one is all lower case."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1677854285,"post_id":75628336,"comment_id":133424682,"body_markdown":"A `Set` would be a bit more efficient if there are many roles. With three roles, a `List` (as @OHGODSPIDERS suggested) is fine, and may even be more efficient (I&#39;m not sure).","body":"A <code>Set</code> would be a bit more efficient if there are many roles. With three roles, a <code>List</code> (as @OHGODSPIDERS suggested) is fine, and may even be more efficient (I&#39;m not sure)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1677854730,"post_id":75628336,"comment_id":133424795,"body_markdown":"sounds like an ideal use case for an `enum` since you can iterate over the constants and compare their names.","body":"sounds like an ideal use case for an <code>enum</code> since you can iterate over the constants and compare their names."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1677854909,"post_id":75628336,"comment_id":133424867,"body_markdown":"@pasta64 how would `eval()` work for this question?","body":"@pasta64 how would <code>eval()</code> work for this question?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677856306,"post_id":75628336,"comment_id":133425277,"body_markdown":"`enum` (`String`s are not type safe) then `UserRole.valueOf(u.toUpperCase());` An exception will be thrown if not valid.","body":"<code>enum</code> (<code>String</code>s are not type safe) then <code>UserRole.valueOf(u.toUpperCase());</code> An exception will be thrown if not valid."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677857621,"post_id":75628336,"comment_id":133425702,"body_markdown":"`boolean matches = switch(input.toLower()) { case ADMIN, SELLER, BIDDER -&gt; true; default -&gt; false; };` but as @OHGODSPIDERS already said, there will never be a match as long as your constant strings contain uppercase characters.","body":"<code>boolean matches = switch(input.toLower()) { case ADMIN, SELLER, BIDDER -&gt; true; default -&gt; false; };</code> but as @OHGODSPIDERS already said, there will never be a match as long as your constant strings contain uppercase characters."}],"answers":[{"tags":[],"owner":{"account_id":1175258,"reputation":346,"user_id":1151412,"accept_rate":22,"display_name":"Hushen Savani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677855774,"creation_date":1677855774,"answer_id":75628691,"question_id":75628336,"body_markdown":"It is not a good idea to match the input against the constants fields. You could use map to match such data. However, still if you want to do it, here is the class.\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    public class ConstantCheckerUtil {\r\n        public static boolean checkConstant(String input) {\r\n            boolean hasAnyMatch = false;\r\n    \r\n            try {\r\n                Class&lt;UserRole&gt; userRoleClass = UserRole.class;\r\n                Field[] userRoleClassDeclaredFields = userRoleClass.getDeclaredFields();\r\n                for (Field userRoleClassDeclaredField : userRoleClassDeclaredFields) {\r\n                    if(userRoleClassDeclaredField.get(userRoleClassDeclaredField.toString()).toString().toLowerCase().equals(input)) {\r\n                        hasAnyMatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace(); //You can enhance the logging part\r\n            }\r\n    \r\n            return hasAnyMatch;\r\n        }\r\n    \r\n        public static void main(String[] args) { //Testing\r\n            System.out.println(ConstantCheckerUtil.checkConstant(&quot;Admin&quot;.toLowerCase()));\r\n        }\r\n    }\r\n\r\n","title":"Java | Use constant and check if a value equals one of them","body":"<p>It is not a good idea to match the input against the constants fields. You could use map to match such data. However, still if you want to do it, here is the class.</p>\n<pre><code>import java.lang.reflect.Field;\n\npublic class ConstantCheckerUtil {\n    public static boolean checkConstant(String input) {\n        boolean hasAnyMatch = false;\n\n        try {\n            Class&lt;UserRole&gt; userRoleClass = UserRole.class;\n            Field[] userRoleClassDeclaredFields = userRoleClass.getDeclaredFields();\n            for (Field userRoleClassDeclaredField : userRoleClassDeclaredFields) {\n                if(userRoleClassDeclaredField.get(userRoleClassDeclaredField.toString()).toString().toLowerCase().equals(input)) {\n                    hasAnyMatch = true;\n                    break;\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace(); //You can enhance the logging part\n        }\n\n        return hasAnyMatch;\n    }\n\n    public static void main(String[] args) { //Testing\n        System.out.println(ConstantCheckerUtil.checkConstant(&quot;Admin&quot;.toLowerCase()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677962433,"creation_date":1677861907,"answer_id":75629759,"question_id":75628336,"body_markdown":"# Enum\r\n\r\n&gt; I gonna use a lot of constants in my code and that w&#39;d probably produce a more elegant code that easier to debug and read.\r\n\r\nFor constants known at compile time, an [enum][1] is often the best approach. The enum facility in Java is more powerful and flexible than you may have seen in other languages. \r\n\r\nIn Java, each enum object is named in all-uppercase, by convention. \r\n\r\n```java\r\nenum UserRole\r\n{\r\n    ADMIN ,\r\n    SELLER , \r\n    BIDDER ;\r\n }\r\n```\r\n\r\nFetch by constant name.\r\n\r\n```java\r\nUserRole userRole = UserRole.valueOf( UserRole.class , &quot;seller&quot;.toUpperCase() ) ;\r\n```\r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n&gt;userRole.toString() = SELLER\r\n\r\nOr, you may want to add a display name for presentation to the users. \r\n\r\nAdd a private member field to the enum class. Write a constructor that takes the text of each enum object’s display name. Add a getter method. And write a `static` method to look for the enum matching an expected display name.\r\n\r\n```java\r\nenum UserRole\r\n{\r\n    ADMIN ( &quot;Admin&quot; ) ,\r\n    SELLER ( &quot;Seller&quot; ) , \r\n    BIDDER ( &quot;Bidder&quot; ) ;\r\n\r\n    private final String displayName ;\r\n\r\n    // Constructor \r\n    UserRole ( String displayName ) \r\n    {\r\n        this.displayName = displayName ;\r\n    }\r\n\r\n    public String getDisplayName() \r\n    { \r\n        return this.displayName ; \r\n    }\r\n\r\n    public static UserRole forDisplayNameIgnoreCase ( final String desiredDisplayName ) \r\n    {\r\n        for ( UserRole userRole : UserRole.values() )\r\n        {\r\n            if ( userRole.getDisplayName().equalsIgnoreCase( desiredDisplayName ) )\r\n            {\r\n                return userRole ;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException( &quot;Unknown display name&quot; ) ;  // Or return an `Optional&lt; UserRole &gt;`. The Optional would be my preference. \r\n    }\r\n\r\n}\r\n```\r\n\r\nFetch by display name. \r\n\r\n    UserRole userRole = UserRole.forDisplayNameIgnoreCase ( &quot;seller&quot; ) ;\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\n&gt;userRole.toString() = SELLER\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\r\n  [2]: https://ideone.com/452Z2R\r\n  [3]: https://ideone.com/OGBpRo","title":"Java | Use constant and check if a value equals one of them","body":"<h1>Enum</h1>\n<blockquote>\n<p>I gonna use a lot of constants in my code and that w'd probably produce a more elegant code that easier to debug and read.</p>\n</blockquote>\n<p>For constants known at compile time, an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">enum</a> is often the best approach. The enum facility in Java is more powerful and flexible than you may have seen in other languages.</p>\n<p>In Java, each enum object is named in all-uppercase, by convention.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum UserRole\n{\n    ADMIN ,\n    SELLER , \n    BIDDER ;\n }\n</code></pre>\n<p>Fetch by constant name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserRole userRole = UserRole.valueOf( UserRole.class , &quot;seller&quot;.toUpperCase() ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/452Z2R\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>userRole.toString() = SELLER</p>\n</blockquote>\n<p>Or, you may want to add a display name for presentation to the users.</p>\n<p>Add a private member field to the enum class. Write a constructor that takes the text of each enum object’s display name. Add a getter method. And write a <code>static</code> method to look for the enum matching an expected display name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum UserRole\n{\n    ADMIN ( &quot;Admin&quot; ) ,\n    SELLER ( &quot;Seller&quot; ) , \n    BIDDER ( &quot;Bidder&quot; ) ;\n\n    private final String displayName ;\n\n    // Constructor \n    UserRole ( String displayName ) \n    {\n        this.displayName = displayName ;\n    }\n\n    public String getDisplayName() \n    { \n        return this.displayName ; \n    }\n\n    public static UserRole forDisplayNameIgnoreCase ( final String desiredDisplayName ) \n    {\n        for ( UserRole userRole : UserRole.values() )\n        {\n            if ( userRole.getDisplayName().equalsIgnoreCase( desiredDisplayName ) )\n            {\n                return userRole ;\n            }\n        }\n        throw new IllegalArgumentException( &quot;Unknown display name&quot; ) ;  // Or return an `Optional&lt; UserRole &gt;`. The Optional would be my preference. \n    }\n\n}\n</code></pre>\n<p>Fetch by display name.</p>\n<pre><code>UserRole userRole = UserRole.forDisplayNameIgnoreCase ( &quot;seller&quot; ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/OGBpRo\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>userRole.toString() = SELLER</p>\n</blockquote>\n"}],"owner":{"account_id":27060161,"reputation":79,"user_id":20612285,"display_name":"danwgh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75629759,"answer_count":2,"score":2,"last_activity_date":1677962433,"creation_date":1677853787,"question_id":75628336,"body_markdown":"I have this class to hold my constants:\r\n```\r\npublic class UserRole {\r\n    static final String ADMIN = &quot;Admin&quot;;\r\n    static final String SELLER = &quot;Seller&quot;;\r\n    static final String BIDDER = &quot;Bidder&quot;; \r\n}\r\n```\r\nWhen Im getting input from the user I want to check that `input.toLower()` equals to one of this constants.&lt;br/&gt; (I want the class to provide such a method)\r\nI can do it with multiple `if`s of course but i want it to be more elegant. I gonna use a lot of constants in my code and that w&#39;d probably produce a more elegant code that easier to debug and read.\r\nIm coming from the C++ world where i can use x-macros or something similar and i&#39;d like to know what is a good way to achieve this task in Java.","title":"Java | Use constant and check if a value equals one of them","body":"<p>I have this class to hold my constants:</p>\n<pre><code>public class UserRole {\n    static final String ADMIN = &quot;Admin&quot;;\n    static final String SELLER = &quot;Seller&quot;;\n    static final String BIDDER = &quot;Bidder&quot;; \n}\n</code></pre>\n<p>When Im getting input from the user I want to check that <code>input.toLower()</code> equals to one of this constants.<br/> (I want the class to provide such a method)\nI can do it with multiple <code>if</code>s of course but i want it to be more elegant. I gonna use a lot of constants in my code and that w'd probably produce a more elegant code that easier to debug and read.\nIm coming from the C++ world where i can use x-macros or something similar and i'd like to know what is a good way to achieve this task in Java.</p>\n"},{"tags":["java","maven","plugins","netbeans","war"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677941029,"post_id":75634726,"comment_id":133438366,"body_markdown":"Show us the `pom.xml`","body":"Show us the <code>pom.xml</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677962123,"post_id":75634726,"comment_id":133442075,"body_markdown":"Please follow the guidelines in [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) so that you can improve your question.","body":"Please follow the guidelines in <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> so that you can improve your question."}],"owner":{"account_id":22664964,"reputation":13,"user_id":16837466,"display_name":"Reda Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678015716,"answer_count":0,"score":0,"last_activity_date":1677962026,"creation_date":1677921666,"question_id":75634726,"body_markdown":"&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on\r\n&gt; project Gestion_pfe: Execution default-war of goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.1.1:war failed: Unable to\r\n&gt; load the mojo &#39;war&#39; in the plugin\r\n&gt; &#39;org.apache.maven.plugins:maven-war-plugin:2.1.1&#39; due to an API\r\n&gt; incompatibility:\r\n&gt; org.codehaus.plexus.component.repository.exception.ComponentLookupException:\r\n&gt; Cannot access defaults field of Properties\r\n\r\nI haven&#39;t done anything yet in the code. I just try to run the project before I start coding.","title":"ComponentLookupException in Maven project","body":"<blockquote>\n<p>Failed to execute goal\norg.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on\nproject Gestion_pfe: Execution default-war of goal\norg.apache.maven.plugins:maven-war-plugin:2.1.1:war failed: Unable to\nload the mojo 'war' in the plugin\n'org.apache.maven.plugins:maven-war-plugin:2.1.1' due to an API\nincompatibility:\norg.codehaus.plexus.component.repository.exception.ComponentLookupException:\nCannot access defaults field of Properties</p>\n</blockquote>\n<p>I haven't done anything yet in the code. I just try to run the project before I start coding.</p>\n"},{"tags":["java","node.js","hosting","vercel","stateless"],"owner":{"account_id":27785875,"reputation":11,"user_id":21213332,"display_name":"Mohit Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677961061,"creation_date":1677961061,"question_id":75638419,"body_markdown":"I am getting error while hosting node.js server on vercel\r\n\r\nI was expecting the node.js server to be hosted successfully\r\n\r\n\r\n[![I went to link/_logs and this is what it displayed](https://i.stack.imgur.com/oAqYo.png)](https://i.stack.imgur.com/oAqYo.png)","title":"Serverless Function Invocation Failed Vercel Error Error Code: 500","body":"<p>I am getting error while hosting node.js server on vercel</p>\n<p>I was expecting the node.js server to be hosted successfully</p>\n<p><a href=\"https://i.stack.imgur.com/oAqYo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oAqYo.png\" alt=\"I went to link/_logs and this is what it displayed\" /></a></p>\n"},{"tags":["java","spring","spring-boot","oop","design-patterns"],"comments":[{"owner":{"account_id":15467626,"reputation":51,"user_id":11158542,"display_name":"Cheatr01"},"score":0,"creation_date":1677970955,"post_id":75638389,"comment_id":133443457,"body_markdown":"Visitor is probably right approche for this. Java NIO api use it for walking by nodes in filesystem&#39;s dir structure.","body":"Visitor is probably right approche for this. Java NIO api use it for walking by nodes in filesystem&#39;s dir structure."}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677960647,"creation_date":1677960647,"question_id":75638389,"body_markdown":"I am looking for the cleanest way to validate complex hierarchies of objects. \r\n\r\nI have a master class names `Container`. `Constainer` consists of some string fields and `ContainerProp`. `ContainerProp` is abstract class with many subclasses like `PropA`, `PropB` etc. `PropA` has a `Constraint` which is albo an abstract class with many subclasses like `ConstraintA`, `ConstraintB`... Additionally, `ConstraintA` has a `Rating` object. The structure may go even deeper, but lets stay with that.\r\n\r\nBit complex, I know, but I can&#39;t modify this structure.\r\n\r\n\r\nWhen it comes to code, it looks like this:\r\n\r\n```\r\npublic class Container {\r\n    //some fields, constructors and methods\r\n    private ContainerProp containerProp;\r\n}\r\n```\r\n\r\n```\r\npublic abstract class ContainerProp {\r\n    //some fields, constructors and abstract methods\r\n}\r\n```\r\n\r\n```\r\npublic class PropA extends ContainerProp {\r\n    //some fields, constructors and methods\r\n    private Constraint constraint;\r\n}\r\n```\r\n\r\n```\r\npublic abstract class Constraint {\r\n    //some fields, constructors and abstract methods\r\n}\r\n```\r\n\r\n```\r\npublic class ConstraintA extends Constraint {\r\n    //some fields, constructors and methods\r\n    private Rating rating;\r\n}\r\n```\r\n```\r\n\r\npublic class Rating {\r\n    private String x;\r\n    private String y;\r\n}\r\n```\r\n\r\nI am thinking of some clean and elegant way to validate the whole structure just by using `container.validate()` or something like this. The first idea that I had was using `visitor pattern`. It would work perfectly for single superclass-subclass level, but I am not really sure if using visitor for the whole structure is the right approach, as it seems a little bit too wide.\r\nDo you know some clean way to solve this problem? Thanks in advance\r\n\r\n","title":"Clean validation of complex object hierarchy","body":"<p>I am looking for the cleanest way to validate complex hierarchies of objects.</p>\n<p>I have a master class names <code>Container</code>. <code>Constainer</code> consists of some string fields and <code>ContainerProp</code>. <code>ContainerProp</code> is abstract class with many subclasses like <code>PropA</code>, <code>PropB</code> etc. <code>PropA</code> has a <code>Constraint</code> which is albo an abstract class with many subclasses like <code>ConstraintA</code>, <code>ConstraintB</code>... Additionally, <code>ConstraintA</code> has a <code>Rating</code> object. The structure may go even deeper, but lets stay with that.</p>\n<p>Bit complex, I know, but I can't modify this structure.</p>\n<p>When it comes to code, it looks like this:</p>\n<pre><code>public class Container {\n    //some fields, constructors and methods\n    private ContainerProp containerProp;\n}\n</code></pre>\n<pre><code>public abstract class ContainerProp {\n    //some fields, constructors and abstract methods\n}\n</code></pre>\n<pre><code>public class PropA extends ContainerProp {\n    //some fields, constructors and methods\n    private Constraint constraint;\n}\n</code></pre>\n<pre><code>public abstract class Constraint {\n    //some fields, constructors and abstract methods\n}\n</code></pre>\n<pre><code>public class ConstraintA extends Constraint {\n    //some fields, constructors and methods\n    private Rating rating;\n}\n</code></pre>\n<pre><code>\npublic class Rating {\n    private String x;\n    private String y;\n}\n</code></pre>\n<p>I am thinking of some clean and elegant way to validate the whole structure just by using <code>container.validate()</code> or something like this. The first idea that I had was using <code>visitor pattern</code>. It would work perfectly for single superclass-subclass level, but I am not really sure if using visitor for the whole structure is the right approach, as it seems a little bit too wide.\nDo you know some clean way to solve this problem? Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1675608480,"post_id":75351853,"comment_id":132961671,"body_markdown":"Are you sure that is what happens, and it is not another exception that is caught? The `throw new HopelessAccountException()` should not be caught by the third catch block, because it is not inside the `try` block","body":"Are you sure that is what happens, and it is not another exception that is caught? The <code>throw new HopelessAccountException()</code> should not be caught by the third catch block, because it is not inside the <code>try</code> block"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675614162,"creation_date":1675598807,"answer_id":75352089,"question_id":75351853,"body_markdown":"You can always modify your `Exception` block to rethrow `e` if it is an instance of `HopelessAccountException`:\r\n\r\n    } catch (Exception e) {\r\n\r\n        if (e instanceof HopelessAccountException) throw e;  // preserves original stack trace\r\n\r\n        // Mustn&#39;t be here.\r\n        loggingService.timeMark(&quot;findElementByXpath&quot;, e.getMessage());\r\n        driver.quit();\r\n        System.out.println(&quot;QUIT!&quot;);\r\n        System.exit(0);\r\n    }\r\n\r\nHowever as @fishinear indicates, in your posted code the `Exception` block would not be reached as a result of the throw of `throw new HopelessAccountException()` - if your actual code looked more like:\r\n\r\n        try {\r\n            try {\r\n                System.out.println(&quot;In A()&quot;);\r\n                // do something to cause an exception E3 (e.g. UnhandledAlertException)\r\n                throw new E3();\r\n            } catch (E3 e3) {  // UnhandledAlertException\r\n                System.out.println(&quot;In E3 catch&quot;);\r\n                throw new E1(); // HopelessAccountException\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;In Exception catch&quot;);\r\n            if (e instanceof E1) throw e; // rethrow HopelessAccountException\r\n            System.out.println(&quot;e: &quot;+e);\r\n        }\r\n\r\nThen the test-and-rethrow is possible.\r\n\r\nThen when you rip out your debugging &quot;try block&quot; your code would behave the same (for the HopelessAcountException).\r\n","title":"Throw new Exception and have a block where one catches any exception","body":"<p>You can always modify your <code>Exception</code> block to rethrow <code>e</code> if it is an instance of <code>HopelessAccountException</code>:</p>\n<pre><code>} catch (Exception e) {\n\n    if (e instanceof HopelessAccountException) throw e;  // preserves original stack trace\n\n    // Mustn't be here.\n    loggingService.timeMark(&quot;findElementByXpath&quot;, e.getMessage());\n    driver.quit();\n    System.out.println(&quot;QUIT!&quot;);\n    System.exit(0);\n}\n</code></pre>\n<p>However as @fishinear indicates, in your posted code the <code>Exception</code> block would not be reached as a result of the throw of <code>throw new HopelessAccountException()</code> - if your actual code looked more like:</p>\n<pre><code>    try {\n        try {\n            System.out.println(&quot;In A()&quot;);\n            // do something to cause an exception E3 (e.g. UnhandledAlertException)\n            throw new E3();\n        } catch (E3 e3) {  // UnhandledAlertException\n            System.out.println(&quot;In E3 catch&quot;);\n            throw new E1(); // HopelessAccountException\n        }\n    } catch (Exception e) {\n        System.out.println(&quot;In Exception catch&quot;);\n        if (e instanceof E1) throw e; // rethrow HopelessAccountException\n        System.out.println(&quot;e: &quot;+e);\n    }\n</code></pre>\n<p>Then the test-and-rethrow is possible.</p>\n<p>Then when you rip out your debugging &quot;try block&quot; your code would behave the same (for the HopelessAcountException).</p>\n"},{"tags":[],"owner":{"account_id":9535390,"reputation":624,"user_id":7085739,"display_name":"jml"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675598951,"creation_date":1675598951,"answer_id":75352106,"question_id":75351853,"body_markdown":"in your code that calls findElementByXpath(…) you could catch the broad Exception type there. This means in your findElementByXpath(…) method you could just handle the known exceptions and anything else could be captured in calling code","title":"Throw new Exception and have a block where one catches any exception","body":"<p>in your code that calls findElementByXpath(…) you could catch the broad Exception type there. This means in your findElementByXpath(…) method you could just handle the known exceptions and anything else could be captured in calling code</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75352089,"answer_count":2,"score":0,"last_activity_date":1677960647,"creation_date":1675596159,"question_id":75351853,"body_markdown":"    private WebElement findElementByXpath(WebDriver driver, String xpath) throws WebElementNotFoundException, HopelessAccountException {\r\n    \r\n        WebElement element = null;\r\n    \r\n        try {\r\n            element = new WebDriverWait(driver, Duration.ofSeconds(dirationInSeconds))\r\n                    .until(ExpectedConditions.elementToBeClickable(By.xpath(xpath)));\r\n        } catch (TimeoutException timeoutException) {\r\n            loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;TimeoutException&quot;);\r\n            throw new WebElementNotFoundException();\r\n        } catch (UnhandledAlertException alertException) {\r\n            loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;alertException&quot;);\r\n    \r\n            final String LIMITS_EXHAUSTED_MESSAGE = &quot;Not enough limits!&quot;;\r\n            String message = alertException.getMessage();\r\n    \r\n            if (message.contains(LIMITS_EXHAUSTED_MESSAGE)){\r\n                throw new HopelessAccountException(); // Attention.\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            // Mustn&#39;t be here.\r\n            loggingService.timeMark(&quot;findElementByXpath&quot;, e.getMessage());\r\n            driver.quit();\r\n            System.out.println(&quot;QUIT!&quot;);\r\n            System.exit(0);\r\n        }\r\n    \r\n    \r\n        loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;end. Xpath: &quot; + xpath);\r\n    \r\n        return element;\r\n    }\r\n\r\nSee the line that I commented as &quot;Attention&quot;.\r\n\r\nI have caught the exception where there is not enough limits any more. And I throw the exception that the account is hopeless.\r\n\r\nBut it is immediately caught by just after the next few lines. Namely where I commented &quot;Mustn&#39;t be here&quot;.\r\n\r\nI would like to preserve this catching any exception. At least for debugging purpose. \r\n\r\nCan I both throw HopelessAccountException and preserve the &quot;catch Exception&quot; block?\r\n","title":"Throw new Exception and have a block where one catches any exception","body":"<pre><code>private WebElement findElementByXpath(WebDriver driver, String xpath) throws WebElementNotFoundException, HopelessAccountException {\n\n    WebElement element = null;\n\n    try {\n        element = new WebDriverWait(driver, Duration.ofSeconds(dirationInSeconds))\n                .until(ExpectedConditions.elementToBeClickable(By.xpath(xpath)));\n    } catch (TimeoutException timeoutException) {\n        loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;TimeoutException&quot;);\n        throw new WebElementNotFoundException();\n    } catch (UnhandledAlertException alertException) {\n        loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;alertException&quot;);\n\n        final String LIMITS_EXHAUSTED_MESSAGE = &quot;Not enough limits!&quot;;\n        String message = alertException.getMessage();\n\n        if (message.contains(LIMITS_EXHAUSTED_MESSAGE)){\n            throw new HopelessAccountException(); // Attention.\n        }\n\n    } catch (Exception e) {\n        // Mustn't be here.\n        loggingService.timeMark(&quot;findElementByXpath&quot;, e.getMessage());\n        driver.quit();\n        System.out.println(&quot;QUIT!&quot;);\n        System.exit(0);\n    }\n\n\n    loggingService.timeMark(&quot;findElementByXpath&quot;, &quot;end. Xpath: &quot; + xpath);\n\n    return element;\n}\n</code></pre>\n<p>See the line that I commented as &quot;Attention&quot;.</p>\n<p>I have caught the exception where there is not enough limits any more. And I throw the exception that the account is hopeless.</p>\n<p>But it is immediately caught by just after the next few lines. Namely where I commented &quot;Mustn't be here&quot;.</p>\n<p>I would like to preserve this catching any exception. At least for debugging purpose.</p>\n<p>Can I both throw HopelessAccountException and preserve the &quot;catch Exception&quot; block?</p>\n"},{"tags":["java","scala","scala-reflect","binary-compatibility"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1677947779,"post_id":75562485,"comment_id":133439526,"body_markdown":"*&quot;My code compiles against scala 2.12.10 but has to run on scala 2.12.15&quot;* Why do you need this? Why can&#39;t you upgrade the dependencies?","body":"<i>&quot;My code compiles against scala 2.12.10 but has to run on scala 2.12.15&quot;</i> Why do you need this? Why can&#39;t you upgrade the dependencies?"}],"answers":[{"comments":[{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1678142931,"post_id":75637992,"comment_id":133473170,"body_markdown":"I&#39;m trying the runtime compilation solution:\n\n```\nobject Reflector {\n  // same as App in your post\n  val Filter = tq&quot;$catalyst.plans.logical.Filter&quot;\n  val sym = tb.define(\n    q&quot;&quot;&quot;\n      case class MyClass(delegate: $Filter) extends $LeafNode with $PredicateHelper {\n        // class details\n      }\n    &quot;&quot;&quot;.asInstanceOf[ClassDef]\n   ).asClass\n}\n```\n\nand I&#39;m trying to use it like so:\n\n```\ndef doWork(filter: Filter): LogicalPlan = {\n  val result = Reflector.tb.eval(q&quot;${Reflector.sym}($filter)&quot;).asInstanceOf[LeafNode]\n}\n```\n\nbut","body":"I&#39;m trying the runtime compilation solution:  ``` object Reflector {   // same as App in your post   val Filter = tq&quot;$catalyst.plans.logical.Filter&quot;   val sym = tb.define(     q&quot;&quot;&quot;       case class MyClass(delegate: $Filter) extends $LeafNode with $PredicateHelper {         // class details       }     &quot;&quot;&quot;.asInstanceOf[ClassDef]    ).asClass } ```  and I&#39;m trying to use it like so:  ``` def doWork(filter: Filter): LogicalPlan = {   val result = Reflector.tb.eval(q&quot;${Reflector.sym}($filter)&quot;).asInstanceOf&zwnj;&#8203;[LeafNode] } ```  but"},{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1678143323,"post_id":75637992,"comment_id":133473233,"body_markdown":"I don&#39;t understand how `filter` is passed as a parameter to the `MyClass` constructor. I run into exception `Can&#39;t unquote org.apache.spark.sql.catalyst.plans.logical.Filter, consider providing an implicit instance of Liftable[org.apache.spark.sql.catalyst.plans.logical.Filter]`","body":"I don&#39;t understand how <code>filter</code> is passed as a parameter to the <code>MyClass</code> constructor. I run into exception <code>Can&#39;t unquote org.apache.spark.sql.catalyst.plans.logical.Filter, consider providing an implicit instance of Liftable[org.apache.spark.sql.catalyst.plans.logical.Filter]</code>"},{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":0,"creation_date":1678143396,"post_id":75637992,"comment_id":133473253,"body_markdown":"I tried defining an implicit `implicit val liftableFilter: universe.Liftable[Filter] = Liftable[Filter] { filter =&gt;\n                q&quot;_root_.org.apache.spark.sql.catalyst.plans.logical.Filter(${filter.condition}, ${filter.child})&quot;\n              }` but the `filter` being used to get `condition` and `child` isn&#39;t the same as the one being passed to `doWork(filter: Filter)`...how do I use that one?","body":"I tried defining an implicit <code>implicit val liftableFilter: universe.Liftable[Filter] = Liftable[Filter] { filter =&gt;                 q&quot;_root_.org.apache.spark.sql.catalyst.plans.logical.Filter(&zwnj;&#8203;${filter.condition}, ${filter.child})&quot;               }</code> but the <code>filter</code> being used to get <code>condition</code> and <code>child</code> isn&#39;t the same as the one being passed to <code>doWork(filter: Filter)</code>...how do I use that one?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1678196137,"post_id":75637992,"comment_id":133483205,"body_markdown":"@stackoverflowflowflwofjlw In order to instantiate runtime-generated `MyClass` you can use either ordinary runtime reflection\nhttps://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/1 https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/2 or runtime compilation (toolbox) once again https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/3 https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/4","body":"@stackoverflowflowflwofjlw In order to instantiate runtime-generated <code>MyClass</code> you can use either ordinary runtime reflection <a href=\"https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/1\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/1</a> <a href=\"https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/2\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/2</a> or runtime compilation (toolbox) once again <a href=\"https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/3\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/3</a> <a href=\"https://scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/4\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/DmytroMitin/KKHN7MPfQxOb7sOzrX6DNQ/4</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1678196145,"post_id":75637992,"comment_id":133483206,"body_markdown":"@stackoverflowflowflwofjlw You can splice (`${...}`) only trees (symbols, types) into trees (`q&quot;...&quot;`). You can&#39;t splice actual values (`filter` in `def doWork(filter: Filter)`). They exist at different stages, trees at compile time (the toolbox compile time inside runtime), values at runtime.","body":"@stackoverflowflowflwofjlw You can splice (<code>${...}</code>) only trees (symbols, types) into trees (<code>q&quot;...&quot;</code>). You can&#39;t splice actual values (<code>filter</code> in <code>def doWork(filter: Filter)</code>). They exist at different stages, trees at compile time (the toolbox compile time inside runtime), values at runtime."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1678196336,"post_id":75637992,"comment_id":133483259,"body_markdown":"@stackoverflowflowflwofjlw Please don&#39;t post big amount of code in comments. It&#39;s better to undelete your deleted question or edit current or open a new one and post the code with proper indentation.","body":"@stackoverflowflowflwofjlw Please don&#39;t post big amount of code in comments. It&#39;s better to undelete your deleted question or edit current or open a new one and post the code with proper indentation."},{"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"score":1,"creation_date":1678220307,"post_id":75637992,"comment_id":133490300,"body_markdown":"New question https://stackoverflow.com/questions/75666717/how-to-runtime-compile-with-reflection-for-a-class","body":"New question <a href=\"https://stackoverflow.com/questions/75666717/how-to-runtime-compile-with-reflection-for-a-class\" title=\"how to runtime compile with reflection for a class\">stackoverflow.com/questions/75666717/&hellip;</a>"}],"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677960274,"creation_date":1677956544,"answer_id":75637992,"question_id":75562485,"body_markdown":"Yeah, runtime reflection works both in Scala 2.12.10 and 2.12.15.\r\n\r\nYou can replace\r\n```\r\nsettings.usejavacp.value = false\r\n```\r\nwith\r\n```\r\nimport scala.reflect.runtime\r\nimport scala.reflect.runtime.universe._\r\n\r\nval rm = runtime.currentMirror\r\nval method = typeOf[MutableSettings].member(TermName(&quot;usejavacp&quot;)).asMethod\r\nrm.reflect(settings).reflectMethod(method)().asInstanceOf[settings.BooleanSetting].value = false\r\n```\r\n\r\nhttps://stackoverflow.com/questions/75621915/reflection-to-call-method-that-had-its-name-changed-in-an-upgrade\r\n\r\n---\r\n\r\nBy the way, regarding your deleted question [IncompatibleClassChangeError: org.apache.spark.sql.catalyst.plans.logical.LeafNode](https://stackoverflow.com/questions/75609223/incompatibleclasschangeerror-org-apache-spark-sql-catalyst-plans-logical-leafno)\r\n\r\nYou can try runtime compilation. It seems to work both in Spark 3.1.2 and 3.3.0.\r\n\r\n```\r\n// Spark 3.1.2\r\n\r\nimport scala.reflect.runtime.universe._\r\nimport scala.reflect.runtime\r\nimport scala.tools.reflect.ToolBox // libraryDependencies += scalaOrganization.value % &quot;scala-compiler&quot; % scalaVersion.value exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.12&quot;)\r\n\r\nobject App {\r\n  val rm = runtime.currentMirror\r\n  val tb = rm.mkToolBox()\r\n  val catalyst        = q&quot;org.apache.spark.sql.catalyst&quot;\r\n  val Attribute       = tq&quot;$catalyst.expressions.Attribute&quot;\r\n  val PredicateHelper = tq&quot;$catalyst.expressions.PredicateHelper&quot;\r\n  val LeafNode        = tq&quot;$catalyst.plans.logical.LeafNode&quot;\r\n  val sym = tb.define(\r\n    q&quot;&quot;&quot;\r\n      case class MyClass() extends $LeafNode with $PredicateHelper {\r\n        override def output: Seq[$Attribute] = Seq()\r\n      }\r\n    &quot;&quot;&quot;.asInstanceOf[ClassDef]\r\n  ).asClass\r\n}\r\n```\r\n```\r\n// Spark 3.3.0\r\n\r\nimport scala.reflect.runtime.universe._\r\n\r\nobject Main {\r\n  def main(args: Array[String]): Unit = {\r\n    println(App.tb.eval(q&quot;new ${App.sym}()&quot;)) // MyClass\r\n  }\r\n}\r\n```","title":"NoSuchMethodError: scala.tools.nsc.Settings.usejavacp()Lscala/tools/nsc/settings/AbsSettings$AbsSetting;","body":"<p>Yeah, runtime reflection works both in Scala 2.12.10 and 2.12.15.</p>\n<p>You can replace</p>\n<pre><code>settings.usejavacp.value = false\n</code></pre>\n<p>with</p>\n<pre><code>import scala.reflect.runtime\nimport scala.reflect.runtime.universe._\n\nval rm = runtime.currentMirror\nval method = typeOf[MutableSettings].member(TermName(&quot;usejavacp&quot;)).asMethod\nrm.reflect(settings).reflectMethod(method)().asInstanceOf[settings.BooleanSetting].value = false\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/75621915/reflection-to-call-method-that-had-its-name-changed-in-an-upgrade\">Reflection to call method that had its name changed in an upgrade?</a></p>\n<hr />\n<p>By the way, regarding your deleted question <a href=\"https://stackoverflow.com/questions/75609223/incompatibleclasschangeerror-org-apache-spark-sql-catalyst-plans-logical-leafno\">IncompatibleClassChangeError: org.apache.spark.sql.catalyst.plans.logical.LeafNode</a></p>\n<p>You can try runtime compilation. It seems to work both in Spark 3.1.2 and 3.3.0.</p>\n<pre><code>// Spark 3.1.2\n\nimport scala.reflect.runtime.universe._\nimport scala.reflect.runtime\nimport scala.tools.reflect.ToolBox // libraryDependencies += scalaOrganization.value % &quot;scala-compiler&quot; % scalaVersion.value exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.12&quot;)\n\nobject App {\n  val rm = runtime.currentMirror\n  val tb = rm.mkToolBox()\n  val catalyst        = q&quot;org.apache.spark.sql.catalyst&quot;\n  val Attribute       = tq&quot;$catalyst.expressions.Attribute&quot;\n  val PredicateHelper = tq&quot;$catalyst.expressions.PredicateHelper&quot;\n  val LeafNode        = tq&quot;$catalyst.plans.logical.LeafNode&quot;\n  val sym = tb.define(\n    q&quot;&quot;&quot;\n      case class MyClass() extends $LeafNode with $PredicateHelper {\n        override def output: Seq[$Attribute] = Seq()\n      }\n    &quot;&quot;&quot;.asInstanceOf[ClassDef]\n  ).asClass\n}\n</code></pre>\n<pre><code>// Spark 3.3.0\n\nimport scala.reflect.runtime.universe._\n\nobject Main {\n  def main(args: Array[String]): Unit = {\n    println(App.tb.eval(q&quot;new ${App.sym}()&quot;)) // MyClass\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22145558,"reputation":141,"user_id":16394869,"display_name":"stackoverflowflowflwofjlw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75637992,"answer_count":1,"score":0,"last_activity_date":1677960423,"creation_date":1677284077,"question_id":75562485,"body_markdown":"My code compiles against scala 2.12.10 but has to run on scala 2.12.15. My code:\r\n\r\n```\r\nimport import scala.tools.nsc.Settings\r\n\r\nval settings = new Settings\r\nsettings.usejavacp.value = false\r\n```\r\n\r\n`usejavacp` is throwing \r\n\r\n```\r\njava.lang.NoSuchMethodError: scala.tools.nsc.Settings.usejavacp()Lscala/tools/nsc/settings/AbsSettings$AbsSetting;\r\n```\r\n\r\nbecause `Settings` is a `StandardScalaSettings` where the definition of the class changed like so (only including relevant API):\r\n\r\n2.12.10:\r\n```\r\npublic interface scala.tools.nsc.settings.StandardScalaSettings {\r\n  // other APIs\r\n  public abstract scala.tools.nsc.settings.MutableSettings$BooleanSetting usejavacp();\r\n}\r\n```\r\n\r\nto\r\n\r\n2.12.15:\r\n```\r\npublic interface scala.tools.nsc.settings.StandardScalaSettings {\r\n  // other APIs\r\n  public abstract scala.tools.nsc.settings.AbsSettings$AbsSetting usejavacp();\r\n}\r\n```\r\n\r\nIs there any way I can make this work without upgrading my dependencies? Can I use reflection?","title":"NoSuchMethodError: scala.tools.nsc.Settings.usejavacp()Lscala/tools/nsc/settings/AbsSettings$AbsSetting;","body":"<p>My code compiles against scala 2.12.10 but has to run on scala 2.12.15. My code:</p>\n<pre><code>import import scala.tools.nsc.Settings\n\nval settings = new Settings\nsettings.usejavacp.value = false\n</code></pre>\n<p><code>usejavacp</code> is throwing</p>\n<pre><code>java.lang.NoSuchMethodError: scala.tools.nsc.Settings.usejavacp()Lscala/tools/nsc/settings/AbsSettings$AbsSetting;\n</code></pre>\n<p>because <code>Settings</code> is a <code>StandardScalaSettings</code> where the definition of the class changed like so (only including relevant API):</p>\n<p>2.12.10:</p>\n<pre><code>public interface scala.tools.nsc.settings.StandardScalaSettings {\n  // other APIs\n  public abstract scala.tools.nsc.settings.MutableSettings$BooleanSetting usejavacp();\n}\n</code></pre>\n<p>to</p>\n<p>2.12.15:</p>\n<pre><code>public interface scala.tools.nsc.settings.StandardScalaSettings {\n  // other APIs\n  public abstract scala.tools.nsc.settings.AbsSettings$AbsSetting usejavacp();\n}\n</code></pre>\n<p>Is there any way I can make this work without upgrading my dependencies? Can I use reflection?</p>\n"},{"tags":["java","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1372596502,"post_id":17388608,"comment_id":25247076,"body_markdown":"Thanks for your explanation. I now created specific validator classes for `create, update, delete` which call a static validation method with the operation type as parameter.","body":"Thanks for your explanation. I now created specific validator classes for <code>create, update, delete</code> which call a static validation method with the operation type as parameter."},{"owner":{"account_id":1580105,"reputation":1275,"user_id":1465635,"accept_rate":50,"display_name":"Mauro Molinari"},"score":0,"creation_date":1483613329,"post_id":17388608,"comment_id":70170930,"body_markdown":"There are cases, indeed, where this ability would be extremely useful. After all, I&#39;m expecting this to be part of the ConstraintValidationContext, which should give information about the context in which the validation takes place...","body":"There are cases, indeed, where this ability would be extremely useful. After all, I&#39;m expecting this to be part of the ConstraintValidationContext, which should give information about the context in which the validation takes place..."}],"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372582436,"creation_date":1372581316,"answer_id":17388608,"question_id":17385256,"body_markdown":"In case you are asking how to determine the currently validated constraints within a custom constrain (ConstraintValidator implementation), the answer is you cannot.\r\n\r\nThe concepts of groups and constraint are orthogonal. A constraint should not behave differently depending on the group which gets validated. \r\n\r\nIn this context, think about users of constraints. How would they know what their constraint does if the validation is conditional?","title":"bean validation get validation groups","body":"<p>In case you are asking how to determine the currently validated constraints within a custom constrain (ConstraintValidator implementation), the answer is you cannot.</p>\n\n<p>The concepts of groups and constraint are orthogonal. A constraint should not behave differently depending on the group which gets validated. </p>\n\n<p>In this context, think about users of constraints. How would they know what their constraint does if the validation is conditional?</p>\n"},{"tags":[],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677960375,"creation_date":1677960375,"answer_id":75638360,"question_id":17385256,"body_markdown":"As @hardy stated in his answer its not possible to retrieve the validation groups  at runtime within the validator implementation. But it can be done using a workaround creating a different annotation and specifying the group or using repeating annotations.\r\n\r\n**Example:**\r\n\r\n*Bean*\r\n\r\n\t@ValidFoo\r\n\t@ValidFoo(bar = true, groups =\r\n\t{\r\n\t\tFooBarGroup.class\r\n\t})\r\n\tpublic class Foo \r\n\t{\r\n\t\tprivate Bar bar;\r\n\t}\r\n\r\n*Annotation*\r\n\t\r\n\t@Repeatable(ValidFoo.List.class)\r\n\tpublic @interface ValidFoo\r\n\t{\r\n\t\tpublic String message() default &quot;{package.ValidFoo.message}&quot;;\r\n\t\r\n\t\tClass&lt;?&gt;[] groups() default {};\r\n\t\r\n\t\tClass&lt;? extends Payload&gt;[] payload() default {};\r\n\t\t\r\n\t\t/*\r\n\t\t * toggle bar validation\r\n\t\t */\r\n\t\tpublic boolean bar() default false;\r\n\r\n\t\tpublic @interface List\r\n\t\t{\r\n\t\t\tValidOrderCost[] value();\r\n\t\t}\r\n\t}\r\n\r\n*Implementation*\r\n\r\n\tpublic class FooValidator implements ConstraintValidator&lt;ValidFoo, Foo&gt;\r\n\t{\r\n\t\tprivate boolean bar;\r\n\r\n\t\t@Override\r\n\t\tpublic void initialize(final ValidFooconstraintAnnotation)\r\n\t\t{\r\n\t\t\tthis.bar = constraintAnnotation.bar();\r\n\t\t}\r\n\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean isValid(final Foo foo, final ConstraintValidatorContext context)\r\n\t\t{\r\n\t\t\t// 1. default validations\r\n\t\t\t\r\n\t\t\t// 2. toggle bar specific validation\r\n\t\t\tif (this.bar)\r\n\t\t\t{\r\n\t\t\t\t// validate bar\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}","title":"bean validation get validation groups","body":"<p>As @hardy stated in his answer its not possible to retrieve the validation groups  at runtime within the validator implementation. But it can be done using a workaround creating a different annotation and specifying the group or using repeating annotations.</p>\n<p><strong>Example:</strong></p>\n<p><em>Bean</em></p>\n<pre><code>@ValidFoo\n@ValidFoo(bar = true, groups =\n{\n    FooBarGroup.class\n})\npublic class Foo \n{\n    private Bar bar;\n}\n</code></pre>\n<p><em>Annotation</em></p>\n<pre><code>@Repeatable(ValidFoo.List.class)\npublic @interface ValidFoo\n{\n    public String message() default &quot;{package.ValidFoo.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    \n    /*\n     * toggle bar validation\n     */\n    public boolean bar() default false;\n\n    public @interface List\n    {\n        ValidOrderCost[] value();\n    }\n}\n</code></pre>\n<p><em>Implementation</em></p>\n<pre><code>public class FooValidator implements ConstraintValidator&lt;ValidFoo, Foo&gt;\n{\n    private boolean bar;\n\n    @Override\n    public void initialize(final ValidFooconstraintAnnotation)\n    {\n        this.bar = constraintAnnotation.bar();\n    }\n\n    \n    @Override\n    public boolean isValid(final Foo foo, final ConstraintValidatorContext context)\n    {\n        // 1. default validations\n        \n        // 2. toggle bar specific validation\n        if (this.bar)\n        {\n            // validate bar\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17388608,"answer_count":2,"score":2,"last_activity_date":1677960375,"creation_date":1372544709,"question_id":17385256,"body_markdown":"Is it possible to get the groups within the validator the validation method is invoked with?\r\n\r\nI have multiple groups (Create, Update, Delete) which most result in similar validation for the one bean.  \r\nInstead of providing multiple almost identical validators (and create utility functions to externalize same validation code) I would prefer to have a single Validator which handles the validation regarding the groups the validation was invoked with.  \r\n\r\n*In worst case I have 3 times `n` single Validators and `n` utility classes for shared code instead of just n validators.*\r\n\r\n\tValidator.validate(Object, Class&lt;?&gt; ... groups)\r\n\r\nHow do I get those groups within my Validator to do something pseudo-like? \r\n\r\n\r\n\tif (groups.contains(Create.class)) // validate create stuff","title":"bean validation get validation groups","body":"<p>Is it possible to get the groups within the validator the validation method is invoked with?</p>\n\n<p>I have multiple groups (Create, Update, Delete) which most result in similar validation for the one bean.<br>\nInstead of providing multiple almost identical validators (and create utility functions to externalize same validation code) I would prefer to have a single Validator which handles the validation regarding the groups the validation was invoked with.  </p>\n\n<p><em>In worst case I have 3 times <code>n</code> single Validators and <code>n</code> utility classes for shared code instead of just n validators.</em></p>\n\n<pre><code>Validator.validate(Object, Class&lt;?&gt; ... groups)\n</code></pre>\n\n<p>How do I get those groups within my Validator to do something pseudo-like? </p>\n\n<pre><code>if (groups.contains(Create.class)) // validate create stuff\n</code></pre>\n"},{"tags":["java","netbeans","project","netbeans-15"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677933216,"post_id":75635572,"comment_id":133437216,"body_markdown":"It is not related to your error, but using Java 13 is generally not recommended, because it is not supported since March 2020 (with the exception of the version distributed by Azul). Currently supported versions are Java 8 (until 2026~2030), Java 11 (until 2024~2026), Java 17 (until 2027~2029) (LTS), and Java 19 (until the release of Java 20, later this month).","body":"It is not related to your error, but using Java 13 is generally not recommended, because it is not supported since March 2020 (with the exception of the version distributed by Azul). Currently supported versions are Java 8 (until 2026~2030), Java 11 (until 2024~2026), Java 17 (until 2027~2029) (LTS), and Java 19 (until the release of Java 20, later this month)."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1677958145,"post_id":75635572,"comment_id":133441447,"body_markdown":"@MarkRotteveel It&#39;s not just a matter of using a supported version of Java; you should also use a version of Java supported by your IDE. In this specific case _&quot;[The Apache NetBeans 15 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17](https://netbeans.apache.org/download/nb15/)&quot;_, so the OP would be wise to use either Java 11 or Java 17. Other versions of Java may or may not work, but none of them are supported.","body":"@MarkRotteveel It&#39;s not just a matter of using a supported version of Java; you should also use a version of Java supported by your IDE. In this specific case <i>&quot;<a href=\"https://netbeans.apache.org/download/nb15/\" rel=\"nofollow noreferrer\">The Apache NetBeans 15 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17</a>&quot;</i>, so the OP would be wise to use either Java 11 or Java 17. Other versions of Java may or may not work, but none of them are supported."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677958273,"post_id":75635572,"comment_id":133441471,"body_markdown":"@David Review [the answers to existing questions on this error](https://stackoverflow.com/search?q=%5Bnetbeans%5D+%22Project+Folder+already+exists+and+is+not+empty%22).","body":"@David Review <a href=\"https://stackoverflow.com/search?q=%5Bnetbeans%5D+%22Project+Folder+already+exists+and+is+not+empty%22\">the answers to existing questions on this error</a>."}],"owner":{"account_id":26559721,"reputation":1,"user_id":20187755,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677958381,"creation_date":1677931776,"question_id":75635572,"body_markdown":"I install JDK-13 with NetBeans-15 but after installation during creating a project I faced a problem that it shows the following message   **Project&#160;Folder&#160;already&#160;exists&#160;and&#160;is&#160;not&#160;empty.** \r\n\r\n\r\nWhen I am facing that particular issue then I don&#39;t switch the path folder and set it on C: drive and also create a new folder in that drive but the same message shows. ","title":"When i create new project in Apache NetBeans IDE 15 with simple (Java with Ant) than it shows me an error","body":"<p>I install JDK-13 with NetBeans-15 but after installation during creating a project I faced a problem that it shows the following message   <strong>Project Folder already exists and is not empty.</strong></p>\n<p>When I am facing that particular issue then I don't switch the path folder and set it on C: drive and also create a new folder in that drive but the same message shows.</p>\n"},{"tags":["java","azure","maven","azure-functions","serverless"],"answers":[{"tags":[],"owner":{"account_id":19066065,"reputation":941,"user_id":13921185,"display_name":"JayaChatterjee-MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601982118,"creation_date":1601982118,"answer_id":64224464,"question_id":64032219,"body_markdown":"You may try &quot;Remote Development&quot; in VS code as a quicker and easier option. Please refer to the [tutorial here][1]\r\n\r\nHere is one example of [java dev environment ][2]\r\nYou will have to install Remote Development extension and would suggest Remote-Container. Try sample for Java.\r\n\r\nhttps://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers&amp;WT.mc_id=azurespringcloud-github-judubois\r\n\r\nhttps://github.com/microsoft/azure-spring-cloud-training/blob/master/00-setup-your-environment/AlternateSetup.md#preparing-visual-studio-code\r\n\r\nhttps://code.visualstudio.com/docs/remote/faq#_remote-containers\r\n\r\n  [1]: https://code.visualstudio.com/docs/remote/containers-tutorial\r\n  [2]: https://medium.com/@brunoborges/java-dev-environments-with-containers-66d6797b2753","title":"Azure Function in Java does not work locally","body":"<p>You may try &quot;Remote Development&quot; in VS code as a quicker and easier option. Please refer to the <a href=\"https://code.visualstudio.com/docs/remote/containers-tutorial\" rel=\"nofollow noreferrer\">tutorial here</a></p>\n<p>Here is one example of <a href=\"https://medium.com/@brunoborges/java-dev-environments-with-containers-66d6797b2753\" rel=\"nofollow noreferrer\">java dev environment </a>\nYou will have to install Remote Development extension and would suggest Remote-Container. Try sample for Java.</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers&amp;WT.mc_id=azurespringcloud-github-judubois\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers&amp;WT.mc_id=azurespringcloud-github-judubois</a></p>\n<p><a href=\"https://github.com/microsoft/azure-spring-cloud-training/blob/master/00-setup-your-environment/AlternateSetup.md#preparing-visual-studio-code\" rel=\"nofollow noreferrer\">https://github.com/microsoft/azure-spring-cloud-training/blob/master/00-setup-your-environment/AlternateSetup.md#preparing-visual-studio-code</a></p>\n<p><a href=\"https://code.visualstudio.com/docs/remote/faq#_remote-containers\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/remote/faq#_remote-containers</a></p>\n"},{"tags":[],"owner":{"account_id":1467119,"reputation":141,"user_id":1379670,"accept_rate":50,"display_name":"nsivaram90"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604425779,"creation_date":1604425779,"answer_id":64667960,"question_id":64032219,"body_markdown":"I am using windows 10 professional and using azure function using IntelliJ IDEA 2020.2.3 (Community Edition) Build #IC-202.7660.26, built on October 6, 2020. I ran into the same issue . \r\n\r\nApparently it is looking for environment variable JAVA_HOME. I have added the in windows environment variables ![EnvironmentVariable][1]. After setting this up I was able to run the java function locally.\r\n[![working][2]][2]\r\n\r\nGenerally  %JAVA_HOME% notation is used for windows operating system. It might be a bug or try setting JAVA_HOME at profile level and make sure it points to right JDK . \r\n\r\nThis was just a fluke , somehow it worked . Hope it works for you too .  \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BbP1x.png\r\n  [2]: https://i.stack.imgur.com/nIjcT.png","title":"Azure Function in Java does not work locally","body":"<p>I am using windows 10 professional and using azure function using IntelliJ IDEA 2020.2.3 (Community Edition) Build #IC-202.7660.26, built on October 6, 2020. I ran into the same issue .</p>\n<p>Apparently it is looking for environment variable JAVA_HOME. I have added the in windows environment variables <img src=\"https://i.stack.imgur.com/BbP1x.png\" alt=\"EnvironmentVariable\" />. After setting this up I was able to run the java function locally.\n<a href=\"https://i.stack.imgur.com/nIjcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nIjcT.png\" alt=\"working\" /></a></p>\n<p>Generally  %JAVA_HOME% notation is used for windows operating system. It might be a bug or try setting JAVA_HOME at profile level and make sure it points to right JDK .</p>\n<p>This was just a fluke , somehow it worked . Hope it works for you too .</p>\n"},{"tags":[],"owner":{"account_id":17837237,"reputation":11,"user_id":12955960,"display_name":"ZeretBird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604491853,"creation_date":1604491853,"answer_id":64679817,"question_id":64032219,"body_markdown":"Solution for macOS\r\n\r\n1) Confirm the jvms installed, execute this in a terminal\r\n\r\n/usr/libexec/java_home -V\r\n\r\n2) Go to Run, then Edit Configurations.  Edit the Run Function in Azure Functions.  In App Settings add JAVA_HOME as key and the path to the JVM obtained in 1)","title":"Azure Function in Java does not work locally","body":"<p>Solution for macOS</p>\n<ol>\n<li>Confirm the jvms installed, execute this in a terminal</li>\n</ol>\n<p>/usr/libexec/java_home -V</p>\n<ol start=\"2\">\n<li>Go to Run, then Edit Configurations.  Edit the Run Function in Azure Functions.  In App Settings add JAVA_HOME as key and the path to the JVM obtained in 1)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19902456,"reputation":31,"user_id":14582179,"display_name":"hu qianghui"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1604568952,"creation_date":1604563989,"answer_id":64693396,"question_id":64032219,"body_markdown":"In macOS, the variable name is `$JAVA_HOME`, but azure function still find the window format of `%JAVA_HOME%`. So it cannot find any java executive file in path.\r\n\r\nSo add `JAVA_HOME` in application run config setting.","title":"Azure Function in Java does not work locally","body":"<p>In macOS, the variable name is <code>$JAVA_HOME</code>, but azure function still find the window format of <code>%JAVA_HOME%</code>. So it cannot find any java executive file in path.</p>\n<p>So add <code>JAVA_HOME</code> in application run config setting.</p>\n"},{"comments":[{"owner":{"account_id":449860,"reputation":5594,"user_id":844890,"accept_rate":61,"display_name":"shaunthomas999"},"score":4,"creation_date":1614386567,"post_id":64704084,"comment_id":117378553,"body_markdown":"Exact location of `worker.config.json` file in mac `/usr/local/Cellar/azure-functions-core-tools@3/&lt;version&gt;/workers/java`. Replace &lt;version&gt; with the exact version of `azure-functions-core-tools@3` installed in your system.","body":"Exact location of <code>worker.config.json</code> file in mac <code>&#47;usr&#47;local&#47;Cellar&#47;azure-functions-core-tools@3&#47;&lt;version&gt;&#47;wor&zwnj;&#8203;kers&#47;java</code>. Replace &lt;version&gt; with the exact version of <code>azure-functions-core-tools@3</code> installed in your system."},{"owner":{"account_id":203967,"reputation":4189,"user_id":2393559,"accept_rate":55,"display_name":"Matthias G&#252;ntert"},"score":0,"creation_date":1651001660,"post_id":64704084,"comment_id":127256683,"body_markdown":"For Windows and version `4.0.x` its `c:\\Program Files\\microsoft\\Azure Functions Core Tools\\workers\\java\\worker.config.json`","body":"For Windows and version <code>4.0.x</code> its <code>c:\\Program Files\\microsoft\\Azure Functions Core Tools\\workers\\java\\worker.config.json</code>"},{"owner":{"account_id":1049017,"reputation":623,"user_id":1053362,"accept_rate":100,"display_name":"Antoine Dahan"},"score":2,"creation_date":1652926375,"post_id":64704084,"comment_id":127727729,"body_markdown":"On Ubuntu 20.04 the location was at `usr/lib/azure-functions-core-tools-4/workers/java/worker.config.json` after installing via msft&#39;s [install instructions for linux](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-linux?pivots=apt).","body":"On Ubuntu 20.04 the location was at <code>usr&#47;lib&#47;azure-functions-core-tools-4&#47;workers&#47;java&#47;worker.con&zwnj;&#8203;fig.json</code> after installing via msft&#39;s <a href=\"https://learn.microsoft.com/en-us/cli/azure/install-azure-cli-linux?pivots=apt\" rel=\"nofollow noreferrer\">install instructions for linux</a>."}],"tags":[],"owner":{"account_id":8068714,"reputation":443,"user_id":6082094,"display_name":"M&#225;rio Jaroš"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1616633999,"creation_date":1604604546,"answer_id":64704084,"question_id":64032219,"body_markdown":"Path to Java for language worker java is set in configuration file `worker.config.json` in the installation directory `azure-function-core-tools@3/%version/workers/java` \r\n\r\n    {\r\n        &quot;description&quot;: {\r\n            &quot;language&quot;: &quot;java&quot;,\r\n            &quot;extensions&quot;: [&quot;.jar&quot;],\r\n            &quot;defaultExecutablePath&quot;: &quot;/usr/bin/java&quot;,\r\n            &quot;defaultWorkerPath&quot;: &quot;azure-functions-java-worker.jar&quot;,\r\n            &quot;arguments&quot;: [&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -noverify -Djava.net.preferIPv4Stack=true -jar&quot;, &quot;%JAVA_OPTS%&quot;]\r\n        }\r\n    }\r\n\r\nYou need to change **defaultExecutablePath** from `&quot;%JAVA_HOME%/bin/java` to the absolute path of your java executable (e.g. `/usr/bin/java`). \r\n\r\nYou can find the installation directory with `readlink -f $(which func)`","title":"Azure Function in Java does not work locally","body":"<p>Path to Java for language worker java is set in configuration file <code>worker.config.json</code> in the installation directory <code>azure-function-core-tools@3/%version/workers/java</code></p>\n<pre><code>{\n    &quot;description&quot;: {\n        &quot;language&quot;: &quot;java&quot;,\n        &quot;extensions&quot;: [&quot;.jar&quot;],\n        &quot;defaultExecutablePath&quot;: &quot;/usr/bin/java&quot;,\n        &quot;defaultWorkerPath&quot;: &quot;azure-functions-java-worker.jar&quot;,\n        &quot;arguments&quot;: [&quot;-XX:+TieredCompilation -XX:TieredStopAtLevel=1 -noverify -Djava.net.preferIPv4Stack=true -jar&quot;, &quot;%JAVA_OPTS%&quot;]\n    }\n}\n</code></pre>\n<p>You need to change <strong>defaultExecutablePath</strong> from <code>&quot;%JAVA_HOME%/bin/java</code> to the absolute path of your java executable (e.g. <code>/usr/bin/java</code>).</p>\n<p>You can find the installation directory with <code>readlink -f $(which func)</code></p>\n"},{"comments":[{"owner":{"account_id":10577425,"reputation":1286,"user_id":7792357,"display_name":"Shrirang"},"score":0,"creation_date":1633452638,"post_id":65577872,"comment_id":122761747,"body_markdown":"worked for me on mac","body":"worked for me on mac"}],"tags":[],"owner":{"account_id":20372099,"reputation":91,"user_id":14944105,"display_name":"adam"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1609845595,"creation_date":1609845595,"answer_id":65577872,"question_id":64032219,"body_markdown":"i had this issue and found the solution provided by zeretbird almost worked for me. but i had to put JAVA_HOME and the path in my local.setting.json like so.\r\n\r\n    {\r\n      &quot;IsEncrypted&quot;: false,\r\n      &quot;Values&quot;: {\r\n        &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,\r\n        &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n        &quot;StoreServiceendpoint&quot;: &quot;blabla&quot;,\r\n        &quot;StoreServiceKey&quot;: &quot;blabla&quot;,\r\n        &quot;JAVA_HOME&quot;: &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home&quot;\r\n      }\r\n    }\r\n\r\n","title":"Azure Function in Java does not work locally","body":"<p>i had this issue and found the solution provided by zeretbird almost worked for me. but i had to put JAVA_HOME and the path in my local.setting.json like so.</p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;UseDevelopmentStorage=true&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n    &quot;StoreServiceendpoint&quot;: &quot;blabla&quot;,\n    &quot;StoreServiceKey&quot;: &quot;blabla&quot;,\n    &quot;JAVA_HOME&quot;: &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home&quot;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3010903,"reputation":1091,"user_id":2554459,"display_name":"hylander0"},"score":0,"creation_date":1701881474,"post_id":66450578,"comment_id":136830589,"body_markdown":"I feel like this should be the accepted answer.   However setting the Env Var in the project vs changing the reference in the `worker.config.json` will get your there.  If you upgrade the function tools then you will need to change it again.","body":"I feel like this should be the accepted answer.   However setting the Env Var in the project vs changing the reference in the <code>worker.config.json</code> will get your there.  If you upgrade the function tools then you will need to change it again."}],"tags":[],"owner":{"account_id":274955,"reputation":750,"user_id":7293142,"display_name":"CajunCoding"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1614743932,"creation_date":1614743932,"answer_id":66450578,"question_id":64032219,"body_markdown":"I started receiving this error after installing the latest versions of IDEA IntelliJ w/ Azure Toolkit for IntelliJ plugin, &amp; Azure Core Tools v3 with and existing project on a new laptop.\r\n\r\nThe first error in the console when running the Azure Functions locally was:  \r\n`Failed to start Worker Channel. Process fileName: %JAVA_HOME%/bin/java`\r\n\r\nSo, for anyone getting this error using IntelliJ with Azure Functions, the JAVA_HOME can be set in the Run/Debug configuration for the `Run Functions` configuration.\r\n\r\nJust add it to the App Settings, pointing to the correct location for Java root folder.\r\n\r\nFor example, on Windows if you&#39;ve installed the Azure Supported SDK v11 (LTS version) (aka Zulu v11 for Azure) then it is installed into the Home path \r\n`C:\\Program Files\\Zulu\\zulu-11` whereby `java.exe` is located in the fully qualified path `C:\\Program Files\\Zulu\\zulu-11\\bin\\java.exe`\r\n\r\nSo you would add the Key Value Pair:\r\nKey= &quot;JAVA_HOME&quot;\r\nValue = &quot;C:\\Program Files\\Zulu\\zulu-11&quot;\r\n\r\nAs shown here:\r\n[![IntelliJ IDEA Run Configuration for JAVA_HOME variable][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zUdmU.png","title":"Azure Function in Java does not work locally","body":"<p>I started receiving this error after installing the latest versions of IDEA IntelliJ w/ Azure Toolkit for IntelliJ plugin, &amp; Azure Core Tools v3 with and existing project on a new laptop.</p>\n<p>The first error in the console when running the Azure Functions locally was:<br />\n<code>Failed to start Worker Channel. Process fileName: %JAVA_HOME%/bin/java</code></p>\n<p>So, for anyone getting this error using IntelliJ with Azure Functions, the JAVA_HOME can be set in the Run/Debug configuration for the <code>Run Functions</code> configuration.</p>\n<p>Just add it to the App Settings, pointing to the correct location for Java root folder.</p>\n<p>For example, on Windows if you've installed the Azure Supported SDK v11 (LTS version) (aka Zulu v11 for Azure) then it is installed into the Home path\n<code>C:\\Program Files\\Zulu\\zulu-11</code> whereby <code>java.exe</code> is located in the fully qualified path <code>C:\\Program Files\\Zulu\\zulu-11\\bin\\java.exe</code></p>\n<p>So you would add the Key Value Pair:\nKey= &quot;JAVA_HOME&quot;\nValue = &quot;C:\\Program Files\\Zulu\\zulu-11&quot;</p>\n<p>As shown here:\n<a href=\"https://i.stack.imgur.com/zUdmU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zUdmU.png\" alt=\"IntelliJ IDEA Run Configuration for JAVA_HOME variable\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2460283,"reputation":31,"user_id":2144607,"display_name":"thorben.heins"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617284965,"creation_date":1617281138,"answer_id":66904785,"question_id":64032219,"body_markdown":"If your are using core-tool@3 on a Mac you can also put the JAVA_HOME as App Setting in the intellij run configuration. https://i.stack.imgur.com/ED3YQ.png\r\n\r\nAlso: Using the `which func` does not work, you have to use the path of the actual binary located next to the wrapper that is found by `which`. It is located here (if you installed using npm): `/usr/local/lib/node_modules/azure-functions-core-tools/bin/func`","title":"Azure Function in Java does not work locally","body":"<p>If your are using core-tool@3 on a Mac you can also put the JAVA_HOME as App Setting in the intellij run configuration. <a href=\"https://i.stack.imgur.com/ED3YQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ED3YQ.png</a></p>\n<p>Also: Using the <code>which func</code> does not work, you have to use the path of the actual binary located next to the wrapper that is found by <code>which</code>. It is located here (if you installed using npm): <code>/usr/local/lib/node_modules/azure-functions-core-tools/bin/func</code></p>\n"},{"tags":[],"owner":{"account_id":4305505,"reputation":71,"user_id":3517977,"display_name":"Yeongseon Choe"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1619308636,"creation_date":1618916866,"answer_id":67177711,"question_id":64032219,"body_markdown":"You can add JAVA_HOME in local.settings.json in the VS Code.\r\n\r\nHere is an example.\r\nOS: WSL Ubuntu-20.04\r\nCode editor: VS Code\r\n\r\n    {\r\n      {\r\n         &quot;IsEncrypted&quot;: false,\r\n         &quot;Values&quot;: {\r\n           &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\r\n           &quot;JAVA_HOME&quot;: &quot;/usr&quot;\r\n      }\r\n    }","title":"Azure Function in Java does not work locally","body":"<p>You can add JAVA_HOME in local.settings.json in the VS Code.</p>\n<p>Here is an example.\nOS: WSL Ubuntu-20.04\nCode editor: VS Code</p>\n<pre><code>{\n  {\n     &quot;IsEncrypted&quot;: false,\n     &quot;Values&quot;: {\n       &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;,\n       &quot;JAVA_HOME&quot;: &quot;/usr&quot;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2132628,"reputation":91,"user_id":1893093,"display_name":"PaulYuk_MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677957975,"creation_date":1677957975,"answer_id":75638159,"question_id":64032219,"body_markdown":"A fix is being worked on.  Details are tracked here:\r\nhttps://github.com/Azure/azure-functions-core-tools/issues/3294\r\n\r\nSetting JAVA_HOME in localsettings.host.json is recommended over altering worker.config.json (which is still technically valid).\r\n\r\nThe trick is that currently an alias in /usr/bin/java will not work and that&#39;s why a workaround like `adam` shows will work where you point to the actual Library/install folder of the java binary instead.\r\n","title":"Azure Function in Java does not work locally","body":"<p>A fix is being worked on.  Details are tracked here:\n<a href=\"https://github.com/Azure/azure-functions-core-tools/issues/3294\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-functions-core-tools/issues/3294</a></p>\n<p>Setting JAVA_HOME in localsettings.host.json is recommended over altering worker.config.json (which is still technically valid).</p>\n<p>The trick is that currently an alias in /usr/bin/java will not work and that's why a workaround like <code>adam</code> shows will work where you point to the actual Library/install folder of the java binary instead.</p>\n"}],"owner":{"account_id":8068714,"reputation":443,"user_id":6082094,"display_name":"M&#225;rio Jaroš"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17534,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":64704084,"answer_count":10,"score":15,"last_activity_date":1677957975,"creation_date":1600878009,"question_id":64032219,"body_markdown":"I am trying to run Azure function locally on my mac with IntelliJ. I did everything, step by step in this tutorial: https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij but when I start the project console show me error that\r\n \r\n\r\n    `Azure Functions Core Tools (3.0.2912 Commit hash: bfcbbe48ed6fdacdf9b309261ecc8093df3b83f2)\r\n    Function Runtime Version: 3.0.14287.0\r\n    Failed to start Worker Channel. Process fileName: %JAVA_HOME%/bin/java\r\n    System.Diagnostics.Process: No such file or directory.\r\n    Failed to start language worker process for runtime: (null). workerId:9c6a8dfb-6dcc-4e3c-82a6-0ce0c6949991\r\n    No job functions found. Try making your job classes and methods public. If you&#39;re using binding extensions (e.g. Azure Storage, ServiceBus, Timers, etc.) make sure you&#39;ve called the registration method for the extension(s) in your startup code (e.g. builder.AddAzureStorage(), builder.AddServiceBus(), builder.AddTimers(), etc.).\r\n    For detailed output, run func with --verbose flag.\r\n    Hosting environment: Production\r\n    Content root path: /Users/mariojaros/Library/Mobile Documents/com~apple~CloudDocs/azure-function-examples\r\n    Now listening on: http://0.0.0.0:7071\r\n    Application started. Press Ctrl+C to shut down.\r\n    Host lock lease acquired by instance ID &#39;00000000000000000000000086CB0170&#39;.\r\n    ^CApplication is shutting down...\r\n\r\n`\r\nI think that problem is with language worker. \r\n\r\nJAVA_HOME: \r\n\r\n    which java\r\n    /usr/bin/java\r\n\r\nI was trying func start too and it was same result and finally I tried it with Visual studio code and the same error.\r\n\r\nOnly way how I can run Azure Function locally in java is when I generate project with archetype `mvn archetype:generate -DarchetypeGroupId=com.microsoft.azure -DarchetypeArtifactId=azure-functions-archetype -DjavaVersion=8\r\n`\r\nand then `mvn package` `mvn azurefunctions:run` \r\n\r\n   \r\n\r\n     [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ----------------------&lt; sk.devy:rendering-skuska &gt;----------------------\r\n    [INFO] Building Azure Java Functions 1.0.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- azure-functions-maven-plugin:1.4.0:run (default-cli) @ rendering-skuska ---\r\n    [WARNING] Azure Functions only support JDK 8, which is lower than local JDK version 14.0.1\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by com.microsoft.applicationinsights.core.dependencies.xstream.core.util.Fields (file:/Users/mariojaros/.m2/repository/com/microsoft/azure/applicationinsights-core/2.5.1-BETA/applicationinsights-core-2.5.1-BETA.jar) to field java.util.TreeMap.comparator\r\n    WARNING: Please consider reporting this to the maintainers of com.microsoft.applicationinsights.core.dependencies.xstream.core.util.Fields\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    [INFO] Azure Function App&#39;s staging directory found at: /Users/mariojaros/rendering-skuska/target/azure-functions/rendering-skuska-1600871852849\r\n    [INFO] Azure Functions Core Tools found.\r\n    Azure Functions Core Tools (3.0.2912 Commit hash: bfcbbe48ed6fdacdf9b309261ecc8093df3b83f2)\r\n    Function Runtime Version: 3.0.14287.0\r\n    Worker process started and initialized.\r\n    OpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    \r\n    Functions:\r\n    \r\n    HttpTrigger-Java: [GET,POST] http://localhost:7071/api/HttpTrigger-Java\r\n    \r\n    For detailed output, run func with --verbose flag.\r\n    Hosting environment: Production\r\n    Content root path: /Users/mariojaros/rendering-skuska/target/azure-functions/rendering-skuska-1600871852849\r\n    Now listening on: http://0.0.0.0:7071\r\n    Application started. Press Ctrl+C to shut down.\r\n    Host lock lease acquired by instance ID &#39;000000\r\n    \r\n   \r\n\r\nHas anybody relative problem ? Is func start working for java\r\nfunctions ?\r\n\r\n\r\n\r\n\r\n","title":"Azure Function in Java does not work locally","body":"<p>I am trying to run Azure function locally on my mac with IntelliJ. I did everything, step by step in this tutorial: <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij</a> but when I start the project console show me error that</p>\n<pre><code>`Azure Functions Core Tools (3.0.2912 Commit hash: bfcbbe48ed6fdacdf9b309261ecc8093df3b83f2)\nFunction Runtime Version: 3.0.14287.0\nFailed to start Worker Channel. Process fileName: %JAVA_HOME%/bin/java\nSystem.Diagnostics.Process: No such file or directory.\nFailed to start language worker process for runtime: (null). workerId:9c6a8dfb-6dcc-4e3c-82a6-0ce0c6949991\nNo job functions found. Try making your job classes and methods public. If you're using binding extensions (e.g. Azure Storage, ServiceBus, Timers, etc.) make sure you've called the registration method for the extension(s) in your startup code (e.g. builder.AddAzureStorage(), builder.AddServiceBus(), builder.AddTimers(), etc.).\nFor detailed output, run func with --verbose flag.\nHosting environment: Production\nContent root path: /Users/mariojaros/Library/Mobile Documents/com~apple~CloudDocs/azure-function-examples\nNow listening on: http://0.0.0.0:7071\nApplication started. Press Ctrl+C to shut down.\nHost lock lease acquired by instance ID '00000000000000000000000086CB0170'.\n^CApplication is shutting down...\n</code></pre>\n<p>`\nI think that problem is with language worker.</p>\n<p>JAVA_HOME:</p>\n<pre><code>which java\n/usr/bin/java\n</code></pre>\n<p>I was trying func start too and it was same result and finally I tried it with Visual studio code and the same error.</p>\n<p>Only way how I can run Azure Function locally in java is when I generate project with archetype <code>mvn archetype:generate -DarchetypeGroupId=com.microsoft.azure -DarchetypeArtifactId=azure-functions-archetype -DjavaVersion=8 </code>\nand then <code>mvn package</code> <code>mvn azurefunctions:run</code></p>\n<pre><code> [INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------&lt; sk.devy:rendering-skuska &gt;----------------------\n[INFO] Building Azure Java Functions 1.0.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- azure-functions-maven-plugin:1.4.0:run (default-cli) @ rendering-skuska ---\n[WARNING] Azure Functions only support JDK 8, which is lower than local JDK version 14.0.1\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.microsoft.applicationinsights.core.dependencies.xstream.core.util.Fields (file:/Users/mariojaros/.m2/repository/com/microsoft/azure/applicationinsights-core/2.5.1-BETA/applicationinsights-core-2.5.1-BETA.jar) to field java.util.TreeMap.comparator\nWARNING: Please consider reporting this to the maintainers of com.microsoft.applicationinsights.core.dependencies.xstream.core.util.Fields\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] Azure Function App's staging directory found at: /Users/mariojaros/rendering-skuska/target/azure-functions/rendering-skuska-1600871852849\n[INFO] Azure Functions Core Tools found.\nAzure Functions Core Tools (3.0.2912 Commit hash: bfcbbe48ed6fdacdf9b309261ecc8093df3b83f2)\nFunction Runtime Version: 3.0.14287.0\nWorker process started and initialized.\nOpenJDK 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\nFunctions:\n\nHttpTrigger-Java: [GET,POST] http://localhost:7071/api/HttpTrigger-Java\n\nFor detailed output, run func with --verbose flag.\nHosting environment: Production\nContent root path: /Users/mariojaros/rendering-skuska/target/azure-functions/rendering-skuska-1600871852849\nNow listening on: http://0.0.0.0:7071\nApplication started. Press Ctrl+C to shut down.\nHost lock lease acquired by instance ID '000000\n</code></pre>\n<p>Has anybody relative problem ? Is func start working for java\nfunctions ?</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1677960422,"post_id":75636697,"comment_id":133441807,"body_markdown":"The `@SpringBootTest` annotation worked! Thank you very much.","body":"The <code>@SpringBootTest</code> annotation worked! Thank you very much."}],"tags":[],"owner":{"account_id":9444927,"reputation":1735,"user_id":7024049,"display_name":"pcsutar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677944029,"creation_date":1677944029,"answer_id":75636697,"question_id":75636607,"body_markdown":"Few things you can check:\r\n\r\n 1. There is a separate application.properties file for test cases. The\r\n    &quot;revenue&quot; property should be present in that file as well. \r\n 2. You can also use &quot;@SpringBootTest&quot; annotation for test class.","title":"Spring test cannot resolve @Value placeholder despite IDE even auto-completing it","body":"<p>Few things you can check:</p>\n<ol>\n<li>There is a separate application.properties file for test cases. The\n&quot;revenue&quot; property should be present in that file as well.</li>\n<li>You can also use &quot;@SpringBootTest&quot; annotation for test class.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"score":0,"creation_date":1677960530,"post_id":75638033,"comment_id":133441829,"body_markdown":"`@SpringBootTest`, in conjunction with having another `application.properties` under `src/test/resources`, worked! Thanks.","body":"<code>@SpringBootTest</code>, in conjunction with having another <code>application.properties</code> under <code>src&#47;test&#47;resources</code>, worked! Thanks."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677957212,"creation_date":1677956843,"answer_id":75638033,"question_id":75636607,"body_markdown":"Because using `@SpringJUnitConfig` will just start the spring context in a traditional way but not in the spring-boot way. And those externalise properties to the `application.properties` feature is the spring-boot feature and hence it does not work when the test is started in the non-boot way. \r\n\r\nTo fix the problem , you can add `ConfigDataApplicationContextInitializer` in `@SpringJUnitConfig` : \r\n\r\n``` java\r\n@SpringJUnitConfig(classes = TestConfig.class,initializers={ConfigDataApplicationContextInitializer.class})\r\npublic class DealershipServiceIT {\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nOr start the test in spring-boot way : \r\n``` java\r\n@SpringBootTest(classes = TestConfig.class)\r\npublic class DealershipServiceIT {\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"Spring test cannot resolve @Value placeholder despite IDE even auto-completing it","body":"<p>Because using <code>@SpringJUnitConfig</code> will just start the spring context in a traditional way but not in the spring-boot way. And those externalise properties to the <code>application.properties</code> feature is the spring-boot feature and hence it does not work when the test is started in the non-boot way.</p>\n<p>To fix the problem , you can add <code>ConfigDataApplicationContextInitializer</code> in <code>@SpringJUnitConfig</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(classes = TestConfig.class,initializers={ConfigDataApplicationContextInitializer.class})\npublic class DealershipServiceIT {\n\n\n\n}\n</code></pre>\n<p>Or start the test in spring-boot way :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = TestConfig.class)\npublic class DealershipServiceIT {\n\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75636697,"answer_count":2,"score":0,"last_activity_date":1677957212,"creation_date":1677943156,"question_id":75636607,"body_markdown":"New to Spring, I am building a toy application that represents a car dealership. Here&#39;s my interface for this service:\r\n\r\n```java\r\npublic interface DealershipService {\r\n\r\n  Long getRevenue();\r\n\r\n  void sell(Car car);\r\n\r\n  void buy(Car car);\r\n\r\n  List&lt;Car&gt; findByMake(String make);\r\n\r\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\r\n\r\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\r\n\r\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\r\n\r\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\r\n}\r\n```\r\n\r\nAnd here is a small part of the implementation (really all we need is the field `revenue`).\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  @Value(&quot;${revenue}&quot;)\r\n  private Long revenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(CarRepository carRepository) {\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n  @Override\r\n  public void sell(Car car) {\r\n    carRepository.addToRepository(car);\r\n    revenue += car.getCostInUSD();\r\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\r\n  }\r\n\r\n.\r\n.\r\n.\r\n```\r\n\r\nThe `revenue` variable is in my `application.properties` as:\r\n\r\nrevenue = 1000000\r\n\r\nBecause I want the default revenue for this car dealership to be 1000000 USD. Now I&#39;m trying to write a test. \r\n\r\n```java\r\n@SpringJUnitConfig(classes = TestConfig.class)\r\npublic class DealershipServiceIT {\r\n\r\n    @Autowired\r\n    private  DealershipService dealershipService;\r\n\r\n    @Test\r\n    public void whenNoTransactions_TotalRevenueIsAMil(){\r\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\r\n    }\r\n}\r\n```\r\n\r\nThe `TestConfig` class that the above unit test class points to:\r\n\r\n\r\n```java\r\n@Configuration\r\n@ComponentScan(&quot;com.jason.cardealership&quot;)\r\npublic class TestConfig {\r\n}\r\n```\r\n\r\nMy class&#39; central `@SpringBootApplication` class is this, and **the context loads just fine when I run it:**\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class CarDealershipApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(CarDealershipApplication.class, args);\r\n  }\r\n}\r\n```\r\n\r\nBut when I run the test method `whenNoTransactions_TotalRevenueIsAMil()` I get a sequence of exceptions, the bottom one of which is:\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;revenue&#39; in value &quot;${revenue}&quot;\r\n\tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)\r\n\tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\r\n\tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)\r\n\tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\r\n\tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:920)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\r\n\t... 87 common frames omitted\r\n```\r\n\r\nI also added `@PropertySource(&quot;classpath:application.properties&quot;)` on top of my testing class after consulting [this post][1], but without success. \r\n\r\nHow can I read the value of that variable from within my test?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33256702/value-could-not-resolve-placeholder-in-spring-boot-test","title":"Spring test cannot resolve @Value placeholder despite IDE even auto-completing it","body":"<p>New to Spring, I am building a toy application that represents a car dealership. Here's my interface for this service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DealershipService {\n\n  Long getRevenue();\n\n  void sell(Car car);\n\n  void buy(Car car);\n\n  List&lt;Car&gt; findByMake(String make);\n\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\n\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\n\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\n\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\n}\n</code></pre>\n<p>And here is a small part of the implementation (really all we need is the field <code>revenue</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  @Value(&quot;${revenue}&quot;)\n  private Long revenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(CarRepository carRepository) {\n    this.carRepository = carRepository;\n  }\n\n  @Override\n  public void sell(Car car) {\n    carRepository.addToRepository(car);\n    revenue += car.getCostInUSD();\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\n  }\n\n.\n.\n.\n</code></pre>\n<p>The <code>revenue</code> variable is in my <code>application.properties</code> as:</p>\n<p>revenue = 1000000</p>\n<p>Because I want the default revenue for this car dealership to be 1000000 USD. Now I'm trying to write a test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringJUnitConfig(classes = TestConfig.class)\npublic class DealershipServiceIT {\n\n    @Autowired\n    private  DealershipService dealershipService;\n\n    @Test\n    public void whenNoTransactions_TotalRevenueIsAMil(){\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\n    }\n}\n</code></pre>\n<p>The <code>TestConfig</code> class that the above unit test class points to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(&quot;com.jason.cardealership&quot;)\npublic class TestConfig {\n}\n</code></pre>\n<p>My class' central <code>@SpringBootApplication</code> class is this, and <strong>the context loads just fine when I run it:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class CarDealershipApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(CarDealershipApplication.class, args);\n  }\n}\n</code></pre>\n<p>But when I run the test method <code>whenNoTransactions_TotalRevenueIsAMil()</code> I get a sequence of exceptions, the bottom one of which is:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'revenue' in value &quot;${revenue}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180)\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239)\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:920)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1346)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)\n    ... 87 common frames omitted\n</code></pre>\n<p>I also added <code>@PropertySource(&quot;classpath:application.properties&quot;)</code> on top of my testing class after consulting <a href=\"https://stackoverflow.com/questions/33256702/value-could-not-resolve-placeholder-in-spring-boot-test\">this post</a>, but without success.</p>\n<p>How can I read the value of that variable from within my test?</p>\n"},{"tags":["java","spring-boot","post"],"comments":[{"owner":{"account_id":11336024,"reputation":122,"user_id":8311849,"display_name":"Yusuf Erdoğan"},"score":0,"creation_date":1655653738,"post_id":72678198,"comment_id":128377938,"body_markdown":"Your Id strategy is auto.Can you try send post request without id ?","body":"Your Id strategy is auto.Can you try send post request without id ?"},{"owner":{"account_id":25242118,"reputation":11,"user_id":19075859,"display_name":"Tania Smith"},"score":0,"creation_date":1655654125,"post_id":72678198,"comment_id":128378016,"body_markdown":"I have tried this. Does&#39;n work as well","body":"I have tried this. Does&#39;n work as well"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1655659456,"post_id":72678198,"comment_id":128379095,"body_markdown":"Can you please share the SQL script that is used to create the table initially?","body":"Can you please share the SQL script that is used to create the table initially?"},{"owner":{"account_id":25242118,"reputation":11,"user_id":19075859,"display_name":"Tania Smith"},"score":0,"creation_date":1655663572,"post_id":72678198,"comment_id":128379976,"body_markdown":"CREATE TABLE IF NOT EXISTS store\n(\n    id bigint NOT NULL,\n    store_name character varying(50) COLLATE pg_catalog.&quot;default&quot;,\n    address character varying(50) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT store_pkey PRIMARY KEY (id)\n    )\n\n    TABLESPACE pg_default;\n\nALTER TABLE IF EXISTS  store\n    OWNER to postgres;\nINSERT INTO store(id, store_name, address) VALUES(1, &#39;Store 1&#39;, &#39;Tula&#39;);\nINSERT INTO store(id, store_name, address) VALUES(2, &#39;Store 2&#39;, &#39;Moscow&#39;);","body":"CREATE TABLE IF NOT EXISTS store (     id bigint NOT NULL,     store_name character varying(50) COLLATE pg_catalog.&quot;default&quot;,     address character varying(50) COLLATE pg_catalog.&quot;default&quot;,     CONSTRAINT store_pkey PRIMARY KEY (id)     )      TABLESPACE pg_default;  ALTER TABLE IF EXISTS  store     OWNER to postgres; INSERT INTO store(id, store_name, address) VALUES(1, &#39;Store 1&#39;, &#39;Tula&#39;); INSERT INTO store(id, store_name, address) VALUES(2, &#39;Store 2&#39;, &#39;Moscow&#39;);"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1655677633,"post_id":72678198,"comment_id":128382489,"body_markdown":"here is your problem `PSQLException: ОШИБКА: значение NULL в столбце \\&quot;id\\&quot; отношения \\&quot;store\\&quot; нарушает ограничение NOT NULL\\n  Подробности: Ошибочная строка содержит (null, null, Moscow)` i dont read russian but i dont think it likes the null values","body":"here is your problem <code>PSQLException: ОШИБКА: значение NULL в столбце \\&quot;id\\&quot; отношения \\&quot;store\\&quot; нарушает ограничение NOT NULL\\n  Подробности: Ошибочная строка содержит (null, null, Moscow)</code> i dont read russian but i dont think it likes the null values"}],"answers":[{"tags":[],"owner":{"account_id":19397303,"reputation":9,"user_id":14184694,"display_name":"&#199;ağrı Kart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677935919,"creation_date":1677529503,"answer_id":75585219,"question_id":72678198,"body_markdown":"I also faced this problem. I changed generated type identity to auto or sequence which solved my problem. However auto gave a random id.","title":"Post mapping doesn&#39;t work (message&quot;: &quot;could not execute statement)","body":"<p>I also faced this problem. I changed generated type identity to auto or sequence which solved my problem. However auto gave a random id.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677957068,"creation_date":1677957068,"answer_id":75638061,"question_id":72678198,"body_markdown":"You have not provided Postgres with instructions on how to populate the id column for new records. It needs to be declared as a [SERIAL][1] column:\r\n\r\nCreate your table as follows:\r\n\r\n    CREATE TABLE store ( \r\n        id SERIAL, \r\n        store_name character varying(50) COLLATE pg_catalog.&quot;default&quot;,\r\n        address character varying(50) COLLATE pg_catalog.&quot;default&quot;,\r\n        CONSTRAINT store_pkey PRIMARY KEY (id) \r\n      ) TABLESPACE pg_default; \r\n    ALTER TABLE IF EXISTS store OWNER to postgres;\r\n\r\nNow test that an insert without the id works:\r\n\r\n    INSERT INTO store(store_name, address) VALUES(&#39;Store 1&#39;, &#39;Tula&#39;);\r\n    INSERT INTO store(store_name, address) VALUES(&#39;Store 2&#39;, &#39;Moscow&#39;);\r\n\r\nI believe that if the above works you should (must) be able to do an addStore without an id.\r\n\r\nThere may be other issues - comment and we will resolve.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/8.1/static/datatype.html#DATATYPE-SERIAL","title":"Post mapping doesn&#39;t work (message&quot;: &quot;could not execute statement)","body":"<p>You have not provided Postgres with instructions on how to populate the id column for new records. It needs to be declared as a <a href=\"https://www.postgresql.org/docs/8.1/static/datatype.html#DATATYPE-SERIAL\" rel=\"nofollow noreferrer\">SERIAL</a> column:</p>\n<p>Create your table as follows:</p>\n<pre><code>CREATE TABLE store ( \n    id SERIAL, \n    store_name character varying(50) COLLATE pg_catalog.&quot;default&quot;,\n    address character varying(50) COLLATE pg_catalog.&quot;default&quot;,\n    CONSTRAINT store_pkey PRIMARY KEY (id) \n  ) TABLESPACE pg_default; \nALTER TABLE IF EXISTS store OWNER to postgres;\n</code></pre>\n<p>Now test that an insert without the id works:</p>\n<pre><code>INSERT INTO store(store_name, address) VALUES('Store 1', 'Tula');\nINSERT INTO store(store_name, address) VALUES('Store 2', 'Moscow');\n</code></pre>\n<p>I believe that if the above works you should (must) be able to do an addStore without an id.</p>\n<p>There may be other issues - comment and we will resolve.</p>\n"}],"owner":{"account_id":25242118,"reputation":11,"user_id":19075859,"display_name":"Tania Smith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1677957068,"creation_date":1655652903,"question_id":72678198,"body_markdown":"I am trying to create simple Rest project. When Post request is generated there is an error:\r\n\r\n    HTTP/1.1 500 \r\n    Content-Type: application/json\r\n    Transfer-Encoding: chunked\r\n    Date: Sun, 19 Jun 2022 14:33:09 GMT\r\n    Connection: close\r\n    \r\n    {\r\n      &quot;timestamp&quot;: &quot;2022-06-19T14:33:09.368+00:00&quot;,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy103.save(Unknown Source)\\r\\n\\tat com.example.service.StoreService.addStore(StoreService.java:19)\\r\\n\\tat com.example.controller.StoreController.addStore(StoreController.java:20)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\\r\\n\\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\\r\\n\\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\\r\\n\\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy99.merge(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy99.merge(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:650)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 57 more\\r\\nCaused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце \\&quot;id\\&quot; отношения \\&quot;store\\&quot; нарушает ограничение NOT NULL\\n  Подробности: Ошибочная строка содержит (null, null, Moscow).\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 106 more\\r\\n&quot;,\r\n      &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\r\n      &quot;path&quot;: &quot;/api/addStore&quot;\r\n    }\r\n    \r\n    Response code: 500; Time: 46ms; Content length: 14227 bytes\r\n\r\nStore entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;store&quot;)\r\n    public class Store {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        protected Integer id;\r\n    \r\n        @Column(name = &quot;store_name&quot;)\r\n        private String storeName;\r\n    \r\n    \r\n        @Column(name = &quot;address&quot;)\r\n        private String address;\r\n    \r\n        public Store() {\r\n        }\r\n    \r\n        public Store(Integer id, String storeName, String address) {\r\n            this.id = id;\r\n            this.storeName = storeName;\r\n            this.address = address;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getStoreName() {\r\n            return storeName;\r\n        }\r\n    \r\n        public void setStoreName(String storeName) {\r\n            this.storeName = storeName;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Store store = (Store) o;\r\n            return id.equals(store.id) &amp;&amp; storeName.equals(store.storeName) &amp;&amp; address.equals(store.address);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(id, storeName, address);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Store{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, storeName=&#39;&quot; + storeName + &#39;\\&#39;&#39; +\r\n                    &quot;, address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nStore service:\r\n\r\n    @Service\r\n    public class StoreService implements IService {\r\n    \r\n        @Autowired\r\n        private StoreRepository storeRepository;\r\n    \r\n        @Override\r\n        public void addStore(Store store) {\r\n            storeRepository.save(store);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Store&gt; saveStores(List&lt;Store&gt; stores) {\r\n            return storeRepository.saveAll(stores);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Store&gt; getStores() {\r\n            return storeRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public Store getStoreById(int id) {\r\n            return storeRepository.findById(id).orElse(null);\r\n        }\r\n    \r\n        @Override\r\n        public Store getStoreByName(String name) {\r\n            return storeRepository.findByStoreName(name);\r\n        }\r\n    \r\n        public String deleteStore(int id) {\r\n            storeRepository.deleteById(id);\r\n            return &quot;Store removed !! &quot; + id;\r\n        }\r\n    \r\n        @Override\r\n        public Store updateStore(Store Store) {\r\n            Store existingStore = storeRepository.findById(Store.getId()).orElse(null);\r\n            existingStore.setStoreName(Store.getStoreName());\r\n            existingStore.setAddress(Store.getAddress());\r\n            return storeRepository.save(existingStore);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nStore controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class StoreController {\r\n    \r\n        @Autowired\r\n        private StoreService storeService;\r\n    \r\n        @PostMapping(&quot;/addStore&quot;)\r\n        public void addStore(@RequestBody Store store) {\r\n            storeService.addStore(store);\r\n        }\r\n    \r\n        @PostMapping(&quot;/addStores&quot;)\r\n        public List&lt;Store&gt; addStores(@RequestBody List&lt;Store&gt; Stores) {\r\n            return storeService.saveStores(Stores);\r\n        }\r\n    \r\n        @GetMapping(&quot;/stores&quot;)\r\n        public List&lt;Store&gt; findAllStores() {\r\n            return storeService.getStores();\r\n        }\r\n    \r\n        @GetMapping(&quot;/storeById/{id}&quot;)\r\n        public Store findStoreById(@PathVariable int id) {\r\n            return storeService.getStoreById(id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/store/{name}&quot;)\r\n        public Store findStoreByName(@PathVariable String name) {\r\n            return storeService.getStoreByName(name);\r\n        }\r\n    \r\n        @PutMapping(&quot;/update&quot;)\r\n        public Store updateStore(@RequestBody Store Store) {\r\n            return storeService.updateStore(Store);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public String deleteStore(@PathVariable int id) {\r\n            return storeService.deleteStore(id);\r\n        }\r\n    }\r\n\r\napplication.properties:\r\n\r\n    # ===============================\r\n    # DATABASE\r\n    # ===============================\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=1234\r\n    # ===============================\r\n    # JPA / HIBERNATE\r\n    # ===============================\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.open-in-view = true\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.database=postgresql\r\n    #spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    #spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\r\n    # ===============================\r\n    # LIQUIBASE\r\n    # ===============================\r\n    spring.liquibase.change-log =classpath:/db/changelog/db.changelog-master.xml\r\n    spring.liquibase.enabled = false\r\n\r\nOther HTTP request (`GET`, `UPDATE`, `DELETE`) work correctly. When I try to use `POST`, for example, there are an error:\r\n\r\n```\r\nPOST http://localhost:8080/api/addStore\r\nContent-Type: application/json\r\n\r\n{\r\n  &quot;id&quot; : 2,\r\n  &quot;store_name&quot; : &quot;Store 2&quot;,\r\n  &quot;address&quot; : &quot;Moscow&quot;\r\n}\r\n```","title":"Post mapping doesn&#39;t work (message&quot;: &quot;could not execute statement)","body":"<p>I am trying to create simple Rest project. When Post request is generated there is an error:</p>\n<pre><code>HTTP/1.1 500 \nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Sun, 19 Jun 2022 14:33:09 GMT\nConnection: close\n\n{\n  &quot;timestamp&quot;: &quot;2022-06-19T14:33:09.368+00:00&quot;,\n  &quot;status&quot;: 500,\n  &quot;error&quot;: &quot;Internal Server Error&quot;,\n  &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy103.save(Unknown Source)\\r\\n\\tat com.example.service.StoreService.addStore(StoreService.java:19)\\r\\n\\tat com.example.controller.StoreController.addStore(StoreController.java:20)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\\r\\n\\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\\r\\n\\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:271)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:243)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:318)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172)\\r\\n\\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\\r\\n\\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:829)\\r\\n\\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy99.merge(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy4/jdk.proxy4.$Proxy99.merge(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:650)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 57 more\\r\\nCaused by: org.postgresql.util.PSQLException: ОШИБКА: значение NULL в столбце \\&quot;id\\&quot; отношения \\&quot;store\\&quot; нарушает ограничение NOT NULL\\n  Подробности: Ошибочная строка содержит (null, null, Moscow).\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:167)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:135)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 106 more\\r\\n&quot;,\n  &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\n  &quot;path&quot;: &quot;/api/addStore&quot;\n}\n\nResponse code: 500; Time: 46ms; Content length: 14227 bytes\n</code></pre>\n<p>Store entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;store&quot;)\npublic class Store {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    protected Integer id;\n\n    @Column(name = &quot;store_name&quot;)\n    private String storeName;\n\n\n    @Column(name = &quot;address&quot;)\n    private String address;\n\n    public Store() {\n    }\n\n    public Store(Integer id, String storeName, String address) {\n        this.id = id;\n        this.storeName = storeName;\n        this.address = address;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getStoreName() {\n        return storeName;\n    }\n\n    public void setStoreName(String storeName) {\n        this.storeName = storeName;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Store store = (Store) o;\n        return id.equals(store.id) &amp;&amp; storeName.equals(store.storeName) &amp;&amp; address.equals(store.address);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, storeName, address);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Store{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, storeName='&quot; + storeName + '\\'' +\n                &quot;, address='&quot; + address + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Store service:</p>\n<pre><code>@Service\npublic class StoreService implements IService {\n\n    @Autowired\n    private StoreRepository storeRepository;\n\n    @Override\n    public void addStore(Store store) {\n        storeRepository.save(store);\n    }\n\n    @Override\n    public List&lt;Store&gt; saveStores(List&lt;Store&gt; stores) {\n        return storeRepository.saveAll(stores);\n    }\n\n    @Override\n    public List&lt;Store&gt; getStores() {\n        return storeRepository.findAll();\n    }\n\n    @Override\n    public Store getStoreById(int id) {\n        return storeRepository.findById(id).orElse(null);\n    }\n\n    @Override\n    public Store getStoreByName(String name) {\n        return storeRepository.findByStoreName(name);\n    }\n\n    public String deleteStore(int id) {\n        storeRepository.deleteById(id);\n        return &quot;Store removed !! &quot; + id;\n    }\n\n    @Override\n    public Store updateStore(Store Store) {\n        Store existingStore = storeRepository.findById(Store.getId()).orElse(null);\n        existingStore.setStoreName(Store.getStoreName());\n        existingStore.setAddress(Store.getAddress());\n        return storeRepository.save(existingStore);\n    }\n\n\n}\n</code></pre>\n<p>Store controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class StoreController {\n\n    @Autowired\n    private StoreService storeService;\n\n    @PostMapping(&quot;/addStore&quot;)\n    public void addStore(@RequestBody Store store) {\n        storeService.addStore(store);\n    }\n\n    @PostMapping(&quot;/addStores&quot;)\n    public List&lt;Store&gt; addStores(@RequestBody List&lt;Store&gt; Stores) {\n        return storeService.saveStores(Stores);\n    }\n\n    @GetMapping(&quot;/stores&quot;)\n    public List&lt;Store&gt; findAllStores() {\n        return storeService.getStores();\n    }\n\n    @GetMapping(&quot;/storeById/{id}&quot;)\n    public Store findStoreById(@PathVariable int id) {\n        return storeService.getStoreById(id);\n    }\n\n    @GetMapping(&quot;/store/{name}&quot;)\n    public Store findStoreByName(@PathVariable String name) {\n        return storeService.getStoreByName(name);\n    }\n\n    @PutMapping(&quot;/update&quot;)\n    public Store updateStore(@RequestBody Store Store) {\n        return storeService.updateStore(Store);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public String deleteStore(@PathVariable int id) {\n        return storeService.deleteStore(id);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code># ===============================\n# DATABASE\n# ===============================\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=1234\n# ===============================\n# JPA / HIBERNATE\n# ===============================\nspring.jpa.show-sql=true\nspring.jpa.open-in-view = true\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.database=postgresql\n#spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n#spring.jpa.properties.hibernate.current_session_context_class=org.springframework.orm.hibernate5.SpringSessionContext\n# ===============================\n# LIQUIBASE\n# ===============================\nspring.liquibase.change-log =classpath:/db/changelog/db.changelog-master.xml\nspring.liquibase.enabled = false\n</code></pre>\n<p>Other HTTP request (<code>GET</code>, <code>UPDATE</code>, <code>DELETE</code>) work correctly. When I try to use <code>POST</code>, for example, there are an error:</p>\n<pre><code>POST http://localhost:8080/api/addStore\nContent-Type: application/json\n\n{\n  &quot;id&quot; : 2,\n  &quot;store_name&quot; : &quot;Store 2&quot;,\n  &quot;address&quot; : &quot;Moscow&quot;\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","rest","authorization"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1591285769,"post_id":62144379,"comment_id":110004483,"body_markdown":"AWS exposes many Strongly typed Java APIs. Why are you not invoking the services using the Service clients","body":"AWS exposes many Strongly typed Java APIs. Why are you not invoking the services using the Service clients"},{"owner":{"account_id":71369,"reputation":554,"user_id":206494,"accept_rate":75,"display_name":"AlexV"},"score":0,"creation_date":1591392254,"post_id":62144379,"comment_id":110049632,"body_markdown":"@smac2020 If you are talking about official [AWS SDK v1](https://github.com/aws/aws-sdk-java), or [v2](https://github.com/aws/aws-sdk-java-v2), I have tried that. They are awesome for a bit more serious tasks to perform with AWS. I wanted a solution which would involve minimum new dependencies, or ultimately no dependencies. Code like signature generation is usually quite static (does not require much of a maintenance), so copying just the source (one file) into my project seemed to be a good compromise.\n\nCan help in other orgs with too much bureaucracy when it comes to new dependencies...","body":"@smac2020 If you are talking about official <a href=\"https://github.com/aws/aws-sdk-java\" rel=\"nofollow noreferrer\">AWS SDK v1</a>, or <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">v2</a>, I have tried that. They are awesome for a bit more serious tasks to perform with AWS. I wanted a solution which would involve minimum new dependencies, or ultimately no dependencies. Code like signature generation is usually quite static (does not require much of a maintenance), so copying just the source (one file) into my project seemed to be a good compromise.  Can help in other orgs with too much bureaucracy when it comes to new dependencies..."}],"answers":[{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1677630635,"post_id":62144380,"comment_id":133375335,"body_markdown":"Fixed a couple of bugs in your code with my answer @AlexV.  Thanks for the code!","body":"Fixed a couple of bugs in your code with my answer @AlexV.  Thanks for the code!"},{"owner":{"account_id":71369,"reputation":554,"user_id":206494,"accept_rate":75,"display_name":"AlexV"},"score":0,"creation_date":1677802289,"post_id":62144380,"comment_id":133414531,"body_markdown":"Thank you @Gray, I&#39;ve updated the GitHub repo with the headers sorting. As for the rest of your changes, I aimed for readability and not the performance, so perhaps I would leave it as is. But you can create a PR or branch if you wish. Cheers.","body":"Thank you @Gray, I&#39;ve updated the GitHub repo with the headers sorting. As for the rest of your changes, I aimed for readability and not the performance, so perhaps I would leave it as is. But you can create a PR or branch if you wish. Cheers."}],"tags":[],"owner":{"account_id":71369,"reputation":554,"user_id":206494,"accept_rate":75,"display_name":"AlexV"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677802524,"creation_date":1591068956,"answer_id":62144380,"question_id":62144379,"body_markdown":"Not saying that this is a complete list, but I would consider using established libraries like:\r\n\r\n - Official [AWS SDK v1](https://github.com/aws/aws-sdk-java), or [v2](https://github.com/aws/aws-sdk-java-v2) - current and comprehensive but depends on [netty.io](https://netty.io) and many other jars.\r\n - [Apache JClouds](https://jclouds.apache.org/guides/aws/) - depends on JAXB which is not longer a part of JDK but now available at maven central separately.\r\n\r\nBut sometimes, all you want is to make a simple call, and you don&#39;t want to bring many dependencies into your application. You may want to implement the rest call yourself. Generating the right AWS Authorization header is the hardest bit to implement.\r\n\r\nHere is the code to do that in pure java OpenJDK with no external dependencies.\r\n\r\nIt implements **Amazon AWS API Signature Version 4** signing process.\r\n\r\n&lt;details&gt;&lt;summary&gt;AmazonRequestSignatureV4Utils.java&lt;/summary&gt;\r\n\r\n```java\r\npackage com.frusal.amazonsig4;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.util.*;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\n/**\r\n * Copyright 2020 Alex Vasiliev, licensed under the Apache 2.0 license: https://opensource.org/licenses/Apache-2.0\r\n */\r\npublic class AmazonRequestSignatureV4Utils {\r\n\r\n    /**\r\n     * Generates signing headers for HTTP request in accordance with Amazon AWS API Signature version 4 process.\r\n     * &lt;p&gt;\r\n     * Following steps outlined here: &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;docs.aws.amazon.com&lt;/a&gt;\r\n     * &lt;p&gt;\r\n     * Simple usage example is here: {@link AmazonRequestSignatureV4Example}\r\n     * &lt;p&gt;\r\n     * This method takes many arguments as read-only, but adds necessary headers to @{code headers} argument, which is a map.\r\n     * The caller should make sure those parameters are copied to the actual request object.\r\n     * &lt;p&gt;\r\n     * The ISO8601 date parameter can be created by making a call to:&lt;br&gt;\r\n     * - {@code java.time.format.DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;).format(ZonedDateTime.now(ZoneOffset.UTC))}&lt;br&gt;\r\n     * or, if you prefer joda:&lt;br&gt;\r\n     * - {@code org.joda.time.format.ISODateTimeFormat.basicDateTimeNoMillis().print(DateTime.now().withZone(DateTimeZone.UTC))}\r\n     *\r\n     * @param method - HTTP request method, (GET|POST|DELETE|PUT|...), e.g., {@link java.net.HttpURLConnection#getRequestMethod()}\r\n     * @param host - URL host, e.g., {@link java.net.URL#getHost()}.\r\n     * @param path - URL path, e.g., {@link java.net.URL#getPath()}.\r\n     * @param query - URL query, (parameters in sorted order, see the AWS spec) e.g., {@link java.net.URL#getQuery()}.\r\n     * @param headers - HTTP request header map. This map is going to have entries added to it by this method. Initially populated with\r\n     *     headers to be included in the signature. Like often compulsory &#39;Host&#39; header. e.g., {@link java.net.HttpURLConnection#getRequestProperties()}.\r\n     * @param body - The binary request body, for requests like POST.\r\n     * @param isoDateTime - The time and date of the request in ISO8601 basic format, see comment above.\r\n     * @param awsIdentity - AWS Identity, e.g., &quot;AKIAJTOUYS27JPVRDUYQ&quot;\r\n     * @param awsSecret - AWS Secret Key, e.g., &quot;I8Q2hY819e+7KzBnkXj66n1GI9piV+0p3dHglAzQ&quot;\r\n     * @param awsRegion - AWS Region, e.g., &quot;us-east-1&quot;\r\n     * @param awsService - AWS Service, e.g., &quot;route53&quot;\r\n     */\r\n    public static void calculateAuthorizationHeaders(\r\n            String method, String host, String path, String query, Map&lt;String, String&gt; headers,\r\n            byte[] body,\r\n            String isoDateTime,\r\n            String awsIdentity, String awsSecret, String awsRegion, String awsService\r\n    ) {\r\n        try {\r\n            String bodySha256 = hex(sha256(body));\r\n            String isoJustDate = isoDateTime.substring(0, 8); // Cut the date portion of a string like &#39;20150830T123600Z&#39;;\r\n\r\n            headers.put(&quot;Host&quot;, host);\r\n            headers.put(&quot;X-Amz-Content-Sha256&quot;, bodySha256);\r\n            headers.put(&quot;X-Amz-Date&quot;, isoDateTime);\r\n\r\n            // (1) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\r\n            List&lt;String&gt; canonicalRequestLines = new ArrayList&lt;&gt;();\r\n            canonicalRequestLines.add(method);\r\n            canonicalRequestLines.add(path);\r\n            canonicalRequestLines.add(query);\r\n            List&lt;String&gt; hashedHeaders = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; headerKeysSorted = headers.keySet().stream().sorted(Comparator.comparing(e -&gt; e.toLowerCase(Locale.US))).collect(Collectors.toList());\r\n            for (String key : headerKeysSorted) {\r\n                hashedHeaders.add(key.toLowerCase(Locale.US));\r\n                canonicalRequestLines.add(key.toLowerCase(Locale.US) + &quot;:&quot; + normalizeSpaces(headers.get(key)));\r\n            }\r\n            canonicalRequestLines.add(null); // new line required after headers\r\n            String signedHeaders = hashedHeaders.stream().collect(Collectors.joining(&quot;;&quot;));\r\n            canonicalRequestLines.add(signedHeaders);\r\n            canonicalRequestLines.add(bodySha256);\r\n            String canonicalRequestBody = canonicalRequestLines.stream().map(line -&gt; line == null ? &quot;&quot; : line).collect(Collectors.joining(&quot;\\n&quot;));\r\n            String canonicalRequestHash = hex(sha256(canonicalRequestBody.getBytes(StandardCharsets.UTF_8)));\r\n\r\n            // (2) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\r\n            List&lt;String&gt; stringToSignLines = new ArrayList&lt;&gt;();\r\n            stringToSignLines.add(&quot;AWS4-HMAC-SHA256&quot;);\r\n            stringToSignLines.add(isoDateTime);\r\n            String credentialScope = isoJustDate + &quot;/&quot; + awsRegion + &quot;/&quot; + awsService + &quot;/aws4_request&quot;;\r\n            stringToSignLines.add(credentialScope);\r\n            stringToSignLines.add(canonicalRequestHash);\r\n            String stringToSign = stringToSignLines.stream().collect(Collectors.joining(&quot;\\n&quot;));\r\n\r\n            // (3) https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\r\n            byte[] kDate = hmac((&quot;AWS4&quot; + awsSecret).getBytes(StandardCharsets.UTF_8), isoJustDate);\r\n            byte[] kRegion = hmac(kDate, awsRegion);\r\n            byte[] kService = hmac(kRegion, awsService);\r\n            byte[] kSigning = hmac(kService, &quot;aws4_request&quot;);\r\n            String signature = hex(hmac(kSigning, stringToSign));\r\n\r\n            String authParameter = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsIdentity + &quot;/&quot; + credentialScope + &quot;, SignedHeaders=&quot; + signedHeaders + &quot;, Signature=&quot; + signature;\r\n            headers.put(&quot;Authorization&quot;, authParameter);\r\n\r\n        } catch (Exception e) {\r\n            if (e instanceof RuntimeException) {\r\n                throw (RuntimeException) e;\r\n            } else {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String normalizeSpaces(String value) {\r\n        return value.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim();\r\n    }\r\n\r\n    public static String hex(byte[] a) {\r\n        StringBuilder sb = new StringBuilder(a.length * 2);\r\n        for(byte b: a) {\r\n            sb.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        return sb.toString();\r\n     }\r\n\r\n    private static byte[] sha256(byte[] bytes) throws Exception {\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        digest.update(bytes);\r\n        return digest.digest();\r\n    }\r\n\r\n    public static byte[] hmac(byte[] key, String msg) throws Exception {\r\n        Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n        mac.init(new SecretKeySpec(key, &quot;HmacSHA256&quot;));\r\n        return mac.doFinal(msg.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n}\r\n```\r\n\r\n&lt;/details&gt;\r\n\r\nAnd the usage example:\r\n\r\n&lt;details&gt;&lt;summary&gt;AmazonRequestSignatureV4Utils.java&lt;/summary&gt;\r\n\r\n```java\r\npackage com.frusal.amazonsig4;\r\n\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.time.ZoneOffset;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class AmazonRequestSignatureV4Example {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String route53HostedZoneId = &quot;Z08118721NNU878C4PBNA&quot;;\r\n        String awsIdentity = &quot;AKIAJTOUYS27JPVRDUYQ&quot;;\r\n        String awsSecret = &quot;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&quot;;\r\n        String awsRegion = &quot;us-east-1&quot;;\r\n        String awsService = &quot;route53&quot;;\r\n\r\n        URL url = new URL(&quot;https://route53.amazonaws.com/2013-04-01/hostedzone/&quot; + route53HostedZoneId + &quot;/rrset&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;POST&quot;);\r\n        System.out.println(connection.getRequestMethod() + &quot; &quot; + url);\r\n\r\n        String body = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\r\n                &quot;&lt;ChangeResourceRecordSetsRequest xmlns=\\&quot;https://route53.amazonaws.com/doc/2013-04-01/\\&quot;&gt;\\n&quot; +\r\n                &quot;&lt;ChangeBatch&gt;\\n&quot; +\r\n                // &quot; &lt;Comment&gt;optional comment about the changes in this change batch request&lt;/Comment&gt;\\n&quot; +\r\n                &quot;   &lt;Changes&gt;\\n&quot; +\r\n                &quot;      &lt;Change&gt;\\n&quot; +\r\n                &quot;         &lt;Action&gt;UPSERT&lt;/Action&gt;\\n&quot; +\r\n                &quot;         &lt;ResourceRecordSet&gt;\\n&quot; +\r\n                &quot;            &lt;Name&gt;c001cxxx.frusal.com.&lt;/Name&gt;\\n&quot; +\r\n                &quot;            &lt;Type&gt;A&lt;/Type&gt;\\n&quot; +\r\n                &quot;            &lt;TTL&gt;300&lt;/TTL&gt;\\n&quot; +\r\n                &quot;            &lt;ResourceRecords&gt;\\n&quot; +\r\n                &quot;               &lt;ResourceRecord&gt;\\n&quot; +\r\n                &quot;                  &lt;Value&gt;157.245.232.185&lt;/Value&gt;\\n&quot; +\r\n                &quot;               &lt;/ResourceRecord&gt;\\n&quot; +\r\n                &quot;            &lt;/ResourceRecords&gt;\\n&quot; +\r\n                // &quot; &lt;HealthCheckId&gt;optional ID of a Route 53 health check&lt;/HealthCheckId&gt;\\n&quot; +\r\n                &quot;         &lt;/ResourceRecordSet&gt;\\n&quot; +\r\n                &quot;      &lt;/Change&gt;\\n&quot; +\r\n                &quot;   &lt;/Changes&gt;\\n&quot; +\r\n                &quot;&lt;/ChangeBatch&gt;\\n&quot; +\r\n                &quot;&lt;/ChangeResourceRecordSetsRequest&gt;&quot;;\r\n        byte[] bodyBytes = body.getBytes(StandardCharsets.UTF_8);\r\n\r\n        Map&lt;String, String&gt; headers = new LinkedHashMap&lt;&gt;();\r\n        String isoDate = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;).format(ZonedDateTime.now(ZoneOffset.UTC));\r\n        AmazonRequestSignatureV4Utils.calculateAuthorizationHeaders(\r\n                connection.getRequestMethod(),\r\n                connection.getURL().getHost(),\r\n                connection.getURL().getPath(),\r\n                connection.getURL().getQuery(),\r\n                headers,\r\n                bodyBytes,\r\n                isoDate,\r\n                awsIdentity,\r\n                awsSecret,\r\n                awsRegion,\r\n                awsService);\r\n\r\n        // Unsigned headers\r\n        headers.put(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;); // I guess it get modified somewhere on the way... Let&#39;s just leave it out of the signature.\r\n\r\n        // Log headers and body\r\n        System.out.println(headers.entrySet().stream().map(e -&gt; e.getKey() + &quot;: &quot; + e.getValue()).collect(Collectors.joining(&quot;\\n&quot;)));\r\n        System.out.println(body);\r\n\r\n        // Send\r\n        headers.forEach((key, val) -&gt; connection.setRequestProperty(key, val));\r\n        connection.setDoOutput(true);\r\n        connection.getOutputStream().write(bodyBytes);\r\n        connection.getOutputStream().flush();\r\n\r\n        int responseCode = connection.getResponseCode();\r\n        System.out.println(&quot;connection.getResponseCode()=&quot; + responseCode);\r\n\r\n        String responseContentType = connection.getHeaderField(&quot;Content-Type&quot;);\r\n        System.out.println(&quot;responseContentType=&quot; + responseContentType);\r\n\r\n        System.out.println(&quot;Response BODY:&quot;);\r\n        if (connection.getErrorStream() != null) {\r\n            System.out.println(new String(connection.getErrorStream().readAllBytes(), StandardCharsets.UTF_8));\r\n        } else {\r\n            System.out.println(new String(connection.getInputStream().readAllBytes(), StandardCharsets.UTF_8));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&lt;/details&gt;\r\n\r\n&lt;details&gt;&lt;summary&gt;And the trace it would generate:&lt;/summary&gt;\r\n\r\n```http\r\nPOST https://route53.amazonaws.com/2013-04-01/hostedzone/Z08118721NNU878C4PBNA/rrset\r\nHost: route53.amazonaws.com\r\nX-Amz-Content-Sha256: 46c7521da55bcf9e99fa6e12ec83997fab53128b5df0fb12018a6b76fb2bf891\r\nX-Amz-Date: 20200602T035618Z\r\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJTOUYS27JPVRDUYQ/20200602/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=6a59090f837cf71fa228d2650e9b82e9769e0ec13e9864e40bd2f81c682ef8cb\r\nContent-Type: text/xml; charset=utf-8\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ChangeResourceRecordSetsRequest xmlns=&quot;https://route53.amazonaws.com/doc/2013-04-01/&quot;&gt;\r\n&lt;ChangeBatch&gt;\r\n   &lt;Changes&gt;\r\n      &lt;Change&gt;\r\n         &lt;Action&gt;UPSERT&lt;/Action&gt;\r\n         &lt;ResourceRecordSet&gt;\r\n            &lt;Name&gt;c001cxxx.frusal.com.&lt;/Name&gt;\r\n            &lt;Type&gt;A&lt;/Type&gt;\r\n            &lt;TTL&gt;300&lt;/TTL&gt;\r\n            &lt;ResourceRecords&gt;\r\n               &lt;ResourceRecord&gt;\r\n                  &lt;Value&gt;157.245.232.185&lt;/Value&gt;\r\n               &lt;/ResourceRecord&gt;\r\n            &lt;/ResourceRecords&gt;\r\n         &lt;/ResourceRecordSet&gt;\r\n      &lt;/Change&gt;\r\n   &lt;/Changes&gt;\r\n&lt;/ChangeBatch&gt;\r\n&lt;/ChangeResourceRecordSetsRequest&gt;\r\nconnection.getResponseCode()=200\r\nresponseContentType=text/xml\r\nResponse BODY:\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;ChangeResourceRecordSetsResponse xmlns=&quot;https://route53.amazonaws.com/doc/2013-04-01/&quot;&gt;&lt;ChangeInfo&gt;&lt;Id&gt;/change/C011827119UYGF04GVIP6&lt;/Id&gt;&lt;Status&gt;PENDING&lt;/Status&gt;&lt;SubmittedAt&gt;2020-06-02T03:56:25.822Z&lt;/SubmittedAt&gt;&lt;/ChangeInfo&gt;&lt;/ChangeResourceRecordSetsResponse&gt;\r\n```\r\n\r\n&lt;/details&gt;\r\n\r\nEdit: Updated to sort the headers. Thanks @Gray for the find!\r\n\r\nFor the latest version of this code, please see [java-amazon-request-signature-v4](https://github.com/frusal/java-amazon-request-signature-v4) repository at GitHub.","title":"How to make Amazon AWS API call from Java?","body":"<p>Not saying that this is a complete list, but I would consider using established libraries like:</p>\n<ul>\n<li>Official <a href=\"https://github.com/aws/aws-sdk-java\" rel=\"nofollow noreferrer\">AWS SDK v1</a>, or <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">v2</a> - current and comprehensive but depends on <a href=\"https://netty.io\" rel=\"nofollow noreferrer\">netty.io</a> and many other jars.</li>\n<li><a href=\"https://jclouds.apache.org/guides/aws/\" rel=\"nofollow noreferrer\">Apache JClouds</a> - depends on JAXB which is not longer a part of JDK but now available at maven central separately.</li>\n</ul>\n<p>But sometimes, all you want is to make a simple call, and you don't want to bring many dependencies into your application. You may want to implement the rest call yourself. Generating the right AWS Authorization header is the hardest bit to implement.</p>\n<p>Here is the code to do that in pure java OpenJDK with no external dependencies.</p>\n<p>It implements <strong>Amazon AWS API Signature Version 4</strong> signing process.</p>\nAmazonRequestSignatureV4Utils.java\n<pre class=\"lang-java prettyprint-override\"><code>package com.frusal.amazonsig4;\n\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.util.*;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\n/**\n * Copyright 2020 Alex Vasiliev, licensed under the Apache 2.0 license: https://opensource.org/licenses/Apache-2.0\n */\npublic class AmazonRequestSignatureV4Utils {\n\n    /**\n     * Generates signing headers for HTTP request in accordance with Amazon AWS API Signature version 4 process.\n     * &lt;p&gt;\n     * Following steps outlined here: &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;docs.aws.amazon.com&lt;/a&gt;\n     * &lt;p&gt;\n     * Simple usage example is here: {@link AmazonRequestSignatureV4Example}\n     * &lt;p&gt;\n     * This method takes many arguments as read-only, but adds necessary headers to @{code headers} argument, which is a map.\n     * The caller should make sure those parameters are copied to the actual request object.\n     * &lt;p&gt;\n     * The ISO8601 date parameter can be created by making a call to:&lt;br&gt;\n     * - {@code java.time.format.DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;).format(ZonedDateTime.now(ZoneOffset.UTC))}&lt;br&gt;\n     * or, if you prefer joda:&lt;br&gt;\n     * - {@code org.joda.time.format.ISODateTimeFormat.basicDateTimeNoMillis().print(DateTime.now().withZone(DateTimeZone.UTC))}\n     *\n     * @param method - HTTP request method, (GET|POST|DELETE|PUT|...), e.g., {@link java.net.HttpURLConnection#getRequestMethod()}\n     * @param host - URL host, e.g., {@link java.net.URL#getHost()}.\n     * @param path - URL path, e.g., {@link java.net.URL#getPath()}.\n     * @param query - URL query, (parameters in sorted order, see the AWS spec) e.g., {@link java.net.URL#getQuery()}.\n     * @param headers - HTTP request header map. This map is going to have entries added to it by this method. Initially populated with\n     *     headers to be included in the signature. Like often compulsory 'Host' header. e.g., {@link java.net.HttpURLConnection#getRequestProperties()}.\n     * @param body - The binary request body, for requests like POST.\n     * @param isoDateTime - The time and date of the request in ISO8601 basic format, see comment above.\n     * @param awsIdentity - AWS Identity, e.g., &quot;AKIAJTOUYS27JPVRDUYQ&quot;\n     * @param awsSecret - AWS Secret Key, e.g., &quot;I8Q2hY819e+7KzBnkXj66n1GI9piV+0p3dHglAzQ&quot;\n     * @param awsRegion - AWS Region, e.g., &quot;us-east-1&quot;\n     * @param awsService - AWS Service, e.g., &quot;route53&quot;\n     */\n    public static void calculateAuthorizationHeaders(\n            String method, String host, String path, String query, Map&lt;String, String&gt; headers,\n            byte[] body,\n            String isoDateTime,\n            String awsIdentity, String awsSecret, String awsRegion, String awsService\n    ) {\n        try {\n            String bodySha256 = hex(sha256(body));\n            String isoJustDate = isoDateTime.substring(0, 8); // Cut the date portion of a string like '20150830T123600Z';\n\n            headers.put(&quot;Host&quot;, host);\n            headers.put(&quot;X-Amz-Content-Sha256&quot;, bodySha256);\n            headers.put(&quot;X-Amz-Date&quot;, isoDateTime);\n\n            // (1) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n            List&lt;String&gt; canonicalRequestLines = new ArrayList&lt;&gt;();\n            canonicalRequestLines.add(method);\n            canonicalRequestLines.add(path);\n            canonicalRequestLines.add(query);\n            List&lt;String&gt; hashedHeaders = new ArrayList&lt;&gt;();\n            List&lt;String&gt; headerKeysSorted = headers.keySet().stream().sorted(Comparator.comparing(e -&gt; e.toLowerCase(Locale.US))).collect(Collectors.toList());\n            for (String key : headerKeysSorted) {\n                hashedHeaders.add(key.toLowerCase(Locale.US));\n                canonicalRequestLines.add(key.toLowerCase(Locale.US) + &quot;:&quot; + normalizeSpaces(headers.get(key)));\n            }\n            canonicalRequestLines.add(null); // new line required after headers\n            String signedHeaders = hashedHeaders.stream().collect(Collectors.joining(&quot;;&quot;));\n            canonicalRequestLines.add(signedHeaders);\n            canonicalRequestLines.add(bodySha256);\n            String canonicalRequestBody = canonicalRequestLines.stream().map(line -&gt; line == null ? &quot;&quot; : line).collect(Collectors.joining(&quot;\\n&quot;));\n            String canonicalRequestHash = hex(sha256(canonicalRequestBody.getBytes(StandardCharsets.UTF_8)));\n\n            // (2) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n            List&lt;String&gt; stringToSignLines = new ArrayList&lt;&gt;();\n            stringToSignLines.add(&quot;AWS4-HMAC-SHA256&quot;);\n            stringToSignLines.add(isoDateTime);\n            String credentialScope = isoJustDate + &quot;/&quot; + awsRegion + &quot;/&quot; + awsService + &quot;/aws4_request&quot;;\n            stringToSignLines.add(credentialScope);\n            stringToSignLines.add(canonicalRequestHash);\n            String stringToSign = stringToSignLines.stream().collect(Collectors.joining(&quot;\\n&quot;));\n\n            // (3) https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n            byte[] kDate = hmac((&quot;AWS4&quot; + awsSecret).getBytes(StandardCharsets.UTF_8), isoJustDate);\n            byte[] kRegion = hmac(kDate, awsRegion);\n            byte[] kService = hmac(kRegion, awsService);\n            byte[] kSigning = hmac(kService, &quot;aws4_request&quot;);\n            String signature = hex(hmac(kSigning, stringToSign));\n\n            String authParameter = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsIdentity + &quot;/&quot; + credentialScope + &quot;, SignedHeaders=&quot; + signedHeaders + &quot;, Signature=&quot; + signature;\n            headers.put(&quot;Authorization&quot;, authParameter);\n\n        } catch (Exception e) {\n            if (e instanceof RuntimeException) {\n                throw (RuntimeException) e;\n            } else {\n                throw new IllegalStateException(e);\n            }\n        }\n    }\n\n    private static String normalizeSpaces(String value) {\n        return value.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim();\n    }\n\n    public static String hex(byte[] a) {\n        StringBuilder sb = new StringBuilder(a.length * 2);\n        for(byte b: a) {\n            sb.append(String.format(&quot;%02x&quot;, b));\n        }\n        return sb.toString();\n     }\n\n    private static byte[] sha256(byte[] bytes) throws Exception {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        digest.update(bytes);\n        return digest.digest();\n    }\n\n    public static byte[] hmac(byte[] key, String msg) throws Exception {\n        Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n        mac.init(new SecretKeySpec(key, &quot;HmacSHA256&quot;));\n        return mac.doFinal(msg.getBytes(StandardCharsets.UTF_8));\n    }\n\n}\n</code></pre>\n\n<p>And the usage example:</p>\nAmazonRequestSignatureV4Utils.java\n<pre class=\"lang-java prettyprint-override\"><code>package com.frusal.amazonsig4;\n\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class AmazonRequestSignatureV4Example {\n\n    public static void main(String[] args) throws Exception {\n        String route53HostedZoneId = &quot;Z08118721NNU878C4PBNA&quot;;\n        String awsIdentity = &quot;AKIAJTOUYS27JPVRDUYQ&quot;;\n        String awsSecret = &quot;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&quot;;\n        String awsRegion = &quot;us-east-1&quot;;\n        String awsService = &quot;route53&quot;;\n\n        URL url = new URL(&quot;https://route53.amazonaws.com/2013-04-01/hostedzone/&quot; + route53HostedZoneId + &quot;/rrset&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;POST&quot;);\n        System.out.println(connection.getRequestMethod() + &quot; &quot; + url);\n\n        String body = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n                &quot;&lt;ChangeResourceRecordSetsRequest xmlns=\\&quot;https://route53.amazonaws.com/doc/2013-04-01/\\&quot;&gt;\\n&quot; +\n                &quot;&lt;ChangeBatch&gt;\\n&quot; +\n                // &quot; &lt;Comment&gt;optional comment about the changes in this change batch request&lt;/Comment&gt;\\n&quot; +\n                &quot;   &lt;Changes&gt;\\n&quot; +\n                &quot;      &lt;Change&gt;\\n&quot; +\n                &quot;         &lt;Action&gt;UPSERT&lt;/Action&gt;\\n&quot; +\n                &quot;         &lt;ResourceRecordSet&gt;\\n&quot; +\n                &quot;            &lt;Name&gt;c001cxxx.frusal.com.&lt;/Name&gt;\\n&quot; +\n                &quot;            &lt;Type&gt;A&lt;/Type&gt;\\n&quot; +\n                &quot;            &lt;TTL&gt;300&lt;/TTL&gt;\\n&quot; +\n                &quot;            &lt;ResourceRecords&gt;\\n&quot; +\n                &quot;               &lt;ResourceRecord&gt;\\n&quot; +\n                &quot;                  &lt;Value&gt;157.245.232.185&lt;/Value&gt;\\n&quot; +\n                &quot;               &lt;/ResourceRecord&gt;\\n&quot; +\n                &quot;            &lt;/ResourceRecords&gt;\\n&quot; +\n                // &quot; &lt;HealthCheckId&gt;optional ID of a Route 53 health check&lt;/HealthCheckId&gt;\\n&quot; +\n                &quot;         &lt;/ResourceRecordSet&gt;\\n&quot; +\n                &quot;      &lt;/Change&gt;\\n&quot; +\n                &quot;   &lt;/Changes&gt;\\n&quot; +\n                &quot;&lt;/ChangeBatch&gt;\\n&quot; +\n                &quot;&lt;/ChangeResourceRecordSetsRequest&gt;&quot;;\n        byte[] bodyBytes = body.getBytes(StandardCharsets.UTF_8);\n\n        Map&lt;String, String&gt; headers = new LinkedHashMap&lt;&gt;();\n        String isoDate = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;).format(ZonedDateTime.now(ZoneOffset.UTC));\n        AmazonRequestSignatureV4Utils.calculateAuthorizationHeaders(\n                connection.getRequestMethod(),\n                connection.getURL().getHost(),\n                connection.getURL().getPath(),\n                connection.getURL().getQuery(),\n                headers,\n                bodyBytes,\n                isoDate,\n                awsIdentity,\n                awsSecret,\n                awsRegion,\n                awsService);\n\n        // Unsigned headers\n        headers.put(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;); // I guess it get modified somewhere on the way... Let's just leave it out of the signature.\n\n        // Log headers and body\n        System.out.println(headers.entrySet().stream().map(e -&gt; e.getKey() + &quot;: &quot; + e.getValue()).collect(Collectors.joining(&quot;\\n&quot;)));\n        System.out.println(body);\n\n        // Send\n        headers.forEach((key, val) -&gt; connection.setRequestProperty(key, val));\n        connection.setDoOutput(true);\n        connection.getOutputStream().write(bodyBytes);\n        connection.getOutputStream().flush();\n\n        int responseCode = connection.getResponseCode();\n        System.out.println(&quot;connection.getResponseCode()=&quot; + responseCode);\n\n        String responseContentType = connection.getHeaderField(&quot;Content-Type&quot;);\n        System.out.println(&quot;responseContentType=&quot; + responseContentType);\n\n        System.out.println(&quot;Response BODY:&quot;);\n        if (connection.getErrorStream() != null) {\n            System.out.println(new String(connection.getErrorStream().readAllBytes(), StandardCharsets.UTF_8));\n        } else {\n            System.out.println(new String(connection.getInputStream().readAllBytes(), StandardCharsets.UTF_8));\n        }\n    }\n}\n</code></pre>\n\nAnd the trace it would generate:\n<pre class=\"lang-http prettyprint-override\"><code>POST https://route53.amazonaws.com/2013-04-01/hostedzone/Z08118721NNU878C4PBNA/rrset\nHost: route53.amazonaws.com\nX-Amz-Content-Sha256: 46c7521da55bcf9e99fa6e12ec83997fab53128b5df0fb12018a6b76fb2bf891\nX-Amz-Date: 20200602T035618Z\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJTOUYS27JPVRDUYQ/20200602/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=6a59090f837cf71fa228d2650e9b82e9769e0ec13e9864e40bd2f81c682ef8cb\nContent-Type: text/xml; charset=utf-8\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ChangeResourceRecordSetsRequest xmlns=&quot;https://route53.amazonaws.com/doc/2013-04-01/&quot;&gt;\n&lt;ChangeBatch&gt;\n   &lt;Changes&gt;\n      &lt;Change&gt;\n         &lt;Action&gt;UPSERT&lt;/Action&gt;\n         &lt;ResourceRecordSet&gt;\n            &lt;Name&gt;c001cxxx.frusal.com.&lt;/Name&gt;\n            &lt;Type&gt;A&lt;/Type&gt;\n            &lt;TTL&gt;300&lt;/TTL&gt;\n            &lt;ResourceRecords&gt;\n               &lt;ResourceRecord&gt;\n                  &lt;Value&gt;157.245.232.185&lt;/Value&gt;\n               &lt;/ResourceRecord&gt;\n            &lt;/ResourceRecords&gt;\n         &lt;/ResourceRecordSet&gt;\n      &lt;/Change&gt;\n   &lt;/Changes&gt;\n&lt;/ChangeBatch&gt;\n&lt;/ChangeResourceRecordSetsRequest&gt;\nconnection.getResponseCode()=200\nresponseContentType=text/xml\nResponse BODY:\n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;ChangeResourceRecordSetsResponse xmlns=&quot;https://route53.amazonaws.com/doc/2013-04-01/&quot;&gt;&lt;ChangeInfo&gt;&lt;Id&gt;/change/C011827119UYGF04GVIP6&lt;/Id&gt;&lt;Status&gt;PENDING&lt;/Status&gt;&lt;SubmittedAt&gt;2020-06-02T03:56:25.822Z&lt;/SubmittedAt&gt;&lt;/ChangeInfo&gt;&lt;/ChangeResourceRecordSetsResponse&gt;\n</code></pre>\n\n<p>Edit: Updated to sort the headers. Thanks @Gray for the find!</p>\n<p>For the latest version of this code, please see <a href=\"https://github.com/frusal/java-amazon-request-signature-v4\" rel=\"nofollow noreferrer\">java-amazon-request-signature-v4</a> repository at GitHub.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677956933,"creation_date":1677630415,"answer_id":75598570,"question_id":62144379,"body_markdown":"&gt; How to make Amazon AWS API call from Java?\r\n\r\nI took the answer from @AlexV and then fixed a couple of problems with the code.  The headers need to be sorted (case insensitively) otherwise the signature won&#39;t match.  I think I fixed a couple other issues maybe?  I also improved some of the other methods by removing unnecessary collections and optimizing the hex and trim methods.  I also changed the calculate method to return a linked hash-map of the headers so they can be put appropriately into the request.\r\n\r\nThis code matches the AWS signature documentation examples (finally) and I&#39;ve successfully authenticated requests with S3.  Haven&#39;t tried other AWS services yet...\r\n    \r\n    public class AmazonRequestSignatureV4Utils {\r\n    \r\n    \t/**\r\n    \t * Generates signing headers for HTTP request in accordance with Amazon AWS API Signature version 4 process.\r\n    \t * &lt;p&gt;\r\n    \t * Following steps outlined here:\r\n    \t * &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;docs.aws.amazon.com&lt;/a&gt;\r\n    \t * &lt;p&gt;\r\n    \t * The ISO8601 date parameter should look like &#39;20150830T123600Z&#39; and can be created by making a call to:\r\n    \t * \r\n    \t * &lt;pre&gt;\r\n    \t * java.time.format.DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;).format(ZonedDateTime.now(ZoneOffset.UTC))}\r\n    \t * &lt;/pre&gt;\r\n    \t * \r\n    \t * or, if you prefer joda:\r\n    \t * \r\n    \t * &lt;pre&gt;\r\n    \t * {@code org.joda.time.format.ISODateTimeFormat.basicDateTimeNoMillis().print(DateTime.now().withZone(DateTimeZone.UTC))}\r\n    \t * &lt;/pre&gt;\r\n    \t *\r\n    \t * @param method\r\n    \t *            HTTP request method, (GET|POST|DELETE|PUT|...), e.g.,\r\n    \t *            {@link java.net.HttpURLConnection#getRequestMethod()}\r\n    \t * @param host\r\n    \t *            URL host, e.g., {@link java.net.URL#getHost()}.\r\n    \t * @param path\r\n    \t *            URL path, e.g., {@link java.net.URL#getPath()}.\r\n    \t * @param query\r\n    \t *            URL query, (parameters in sorted order, see the AWS spec) e.g., {@link java.net.URL#getQuery()}.\r\n    \t * @param headerMap\r\n    \t *            HTTP request header map. The returned map should be used in the request.\r\n    \t * @param body\r\n    \t *            The binary request body, for requests like POST or PUT. If null then new byte[0] will be used.\r\n    \t * @param isoDateTime\r\n    \t *            The time and date of the request in ISO8601 basic format like &#39;20150830T123600Z&#39;, see comment above.\r\n    \t * @param awsAccessKeyId\r\n    \t *            AWS Identity, e.g., &quot;AKIAJTOUY...&quot;\r\n    \t * @param awsSecretAccessKey\r\n    \t *            AWS Secret Key, e.g., &quot;I8Q2hY819e+7KzB...&quot;\r\n    \t * @param awsRegion\r\n    \t *            AWS Region, e.g., &quot;us-east-1&quot;\r\n    \t * @param awsService\r\n    \t *            AWS Service, e.g., &quot;route53&quot;\r\n         * @return Linked map of properties that should be set on the http request with no other headers.\r\n    \t */\r\n    \tpublic static Map&lt;String, String&gt; calculateAuthorizationHeaders(String method, String host, String path,\r\n    \t\t\tString query, Map&lt;String, String&gt; headerMap, byte[] body, String isoDateTime, String awsAccessKeyId,\r\n    \t\t\tString awsSecretAccessKey, String awsRegion, String awsService)\r\n    \t\t\tthrows GeneralSecurityException {\r\n    \r\n    \t\tif (body == null) {\r\n    \t\t\tbody = new byte[0];\r\n    \t\t}\r\n    \t\tString bodySha256 = hex(sha256(body));\r\n    \t\tString isoJustDate = isoDateTime.substring(0, 8); // Cut the date portion of a string like &#39;20150830T123600Z&#39;;\r\n    \r\n    \t\tMap&lt;String, String&gt; resultHeaderMap = new LinkedHashMap&lt;&gt;();\r\n    \r\n    \t\t// (1) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\r\n    \t\tStringBuilder canonicalRequestSb = new StringBuilder();\r\n    \t\tappendOptionalString(canonicalRequestSb, method);\r\n    \t\tappendOptionalString(canonicalRequestSb, path);\r\n    \t\tappendOptionalString(canonicalRequestSb, query);\r\n    \r\n    \t\tfinal String HOST_HEADER = &quot;Host&quot;;\r\n    \t\tfinal String AMAZON_DATE_HEADER = &quot;X-Amz-Date&quot;;\r\n    \t\tfinal String AMAZON_CONTENT_HASH_HEADER = &quot;X-Amz-Content-Sha256&quot;;\r\n    \r\n    \t\t// need to order the headers to match the AWS docs but may not be necessary for the request\r\n    \t\tList&lt;String&gt; headerList = new ArrayList&lt;&gt;(headerMap.keySet());\r\n    \t\theaderList.add(HOST_HEADER);\r\n    \t\theaderList.add(AMAZON_CONTENT_HASH_HEADER);\r\n    \t\theaderList.add(AMAZON_DATE_HEADER);\r\n    \t\tCollections.sort(headerList, String.CASE_INSENSITIVE_ORDER);\r\n    \t\tStringBuilder hashedHeadersSb = new StringBuilder();\r\n    \t\tfor (String header : headerList) {\r\n    \t\t\tString value = headerMap.get(header);\r\n    \t\t\tif (header.equals(HOST_HEADER)) {\r\n    \t\t\t\tvalue = host;\r\n    \t\t\t} else if (header.equals(AMAZON_CONTENT_HASH_HEADER)) {\r\n    \t\t\t\tvalue = bodySha256;\r\n    \t\t\t} else if (header.equals(AMAZON_DATE_HEADER)) {\r\n    \t\t\t\tvalue = isoDateTime;\r\n    \t\t\t}\r\n    \t\t\tresultHeaderMap.put(header, value);\r\n    \t\t\tString headerLower = header.toLowerCase();\r\n    \t\t\tif (hashedHeadersSb.length() &gt; 0) {\r\n    \t\t\t\thashedHeadersSb.append(&#39;;&#39;);\r\n    \t\t\t}\r\n    \t\t\thashedHeadersSb.append(headerLower);\r\n    \t\t\tString cannonicalValue = headerLower + &quot;:&quot; + normalizeSpaces(value);\r\n    \t\t\tappendOptionalString(canonicalRequestSb, cannonicalValue);\r\n    \t\t}\r\n    \t\tcanonicalRequestSb.append(&#39;\\n&#39;); // new line required after headers\r\n    \r\n    \t\t// names of the headers, lowercase, separated by &#39;;&#39;\r\n    \t\tString signedHeaders = hashedHeadersSb.toString();\r\n    \t\tappendOptionalString(canonicalRequestSb, signedHeaders);\r\n    \t\tappendOptionalString(canonicalRequestSb, bodySha256);\r\n    \t\t// trim off the last newline\r\n    \t\tcanonicalRequestSb.setLength(canonicalRequestSb.length() - 1);\r\n    \t\tString canonicalRequestBody = canonicalRequestSb.toString();\r\n    \t\tString canonicalRequestHash = hex(sha256(canonicalRequestBody.getBytes(StandardCharsets.UTF_8)));\r\n    \r\n    \t\tfinal String AWS_ENCRYPTION_ALGORITHM = &quot;AWS4-HMAC-SHA256&quot;;\r\n    \r\n    \t\t// (2) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\r\n    \t\tStringBuilder stringToSignSb = new StringBuilder();\r\n    \t\tstringToSignSb.append(AWS_ENCRYPTION_ALGORITHM).append(&#39;\\n&#39;);\r\n    \t\tstringToSignSb.append(isoDateTime).append(&#39;\\n&#39;);\r\n    \t\tString requestType = &quot;aws4_request&quot;;\r\n    \t\tString credentialScope = isoJustDate + &quot;/&quot; + awsRegion + &quot;/&quot; + awsService + &quot;/&quot; + requestType;\r\n    \t\tstringToSignSb.append(credentialScope).append(&#39;\\n&#39;);\r\n    \t\tstringToSignSb.append(canonicalRequestHash);\r\n    \t\tString stringToSign = stringToSignSb.toString();\r\n    \r\n    \t\t// (3) https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\r\n    \t\tbyte[] keySecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\r\n    \t\tbyte[] keyDate = hmac(keySecret, isoJustDate);\r\n    \t\tbyte[] keyRegion = hmac(keyDate, awsRegion);\r\n    \t\tbyte[] keyService = hmac(keyRegion, awsService);\r\n    \t\tbyte[] keySigning = hmac(keyService, requestType);\r\n    \t\tString signature = hex(hmac(keySigning, stringToSign));\r\n    \r\n    \t\t// finally we can build our Authorization header\r\n    \t\tString authParameter = AWS_ENCRYPTION_ALGORITHM + &quot; Credential=&quot; + awsAccessKeyId + &quot;/&quot; + credentialScope\r\n    \t\t\t\t+ &quot;,SignedHeaders=&quot; + signedHeaders + &quot;,Signature=&quot; + signature;\r\n    \t\tresultHeaderMap.put(&quot;Authorization&quot;, authParameter);\r\n    \t\treturn resultHeaderMap;\r\n    \t}\r\n    \r\n    \tprivate static void appendOptionalString(StringBuilder sb, String str) {\r\n    \t\tif (str != null) {\r\n    \t\t\tsb.append(str);\r\n    \t\t}\r\n    \t\tsb.append(&#39;\\n&#39;);\r\n    \t}\r\n    \r\n    \t/** replaces multiple whitespace character blocks into a single space, removes whitespace from the front and end */\r\n    \tprivate static String normalizeSpaces(String value) {\r\n    \t\tStringBuilder sb = new StringBuilder(value.length());\r\n    \t\tboolean prevSpace = false;\r\n    \t\tfor (int i = 0; i &lt; value.length(); i++) {\r\n    \t\t\tchar ch = value.charAt(i);\r\n    \t\t\tif (Character.isWhitespace(ch)) {\r\n    \t\t\t\tif (sb.length() == 0) {\r\n    \t\t\t\t\t// skip spaces at the start\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// note that we saw a space which reduces multiples and ignores spaces\r\n    \t\t\t\t\t// this filters whitespace at the end of the string because they only emitted before the next char\r\n    \t\t\t\t\tprevSpace = true;\r\n    \t\t\t\t}\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\tif (prevSpace) {\r\n    \t\t\t\t// this changes all whitespace into a space\r\n    \t\t\t\tsb.append(&#39; &#39;);\r\n    \t\t\t\tprevSpace = false;\r\n    \t\t\t}\r\n    \t\t\tsb.append(ch);\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tprivate static String hex(byte[] bytes) {\r\n    \t\tfinal String HEX_CHARACTERS = &quot;0123456789abcdef&quot;;\r\n    \t\tStringBuilder sb = new StringBuilder(bytes.length * 2);\r\n    \t\tfor (int i = 0; i &lt; bytes.length; i++) {\r\n    \t\t\tint val = (bytes[i] &amp; 0xFF);\r\n    \t\t\tsb.append(HEX_CHARACTERS.charAt(val &gt;&gt;&gt; 4));\r\n    \t\t\tsb.append(HEX_CHARACTERS.charAt(val &amp; 0x0F));\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t}\r\n    \r\n    \tprivate static byte[] sha256(byte[] bytes) throws NoSuchAlgorithmException {\r\n    \t\tMessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n    \t\tdigest.update(bytes);\r\n    \t\treturn digest.digest();\r\n    \t}\r\n    \r\n    \tprivate static byte[] hmac(byte[] key, String input) throws GeneralSecurityException {\r\n    \t\tMac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n    \t\tmac.init(new SecretKeySpec(key, &quot;HmacSHA256&quot;));\r\n    \t\treturn mac.doFinal(input.getBytes(StandardCharsets.UTF_8));\r\n    \t}\r\n    }\r\n\r\nHere&#39;s a usage example which shows the actual HTTP request being made using Apache HttpClient version 4.5.13:\r\n\r\n\tString method = &quot;GET&quot;;\r\n\tString host = &quot;somebucket.s3.amazonaws.com&quot;;\r\n\tString path = &quot;/somepath.txt&quot;;\r\n\tString query = null;\r\n\t// probably should come from a file or something if doing a PUT or POST\r\n\tString body = null;\r\n\tString awsIdentity = &quot;AKIA...&quot;;\r\n\tString awsSecret = &quot;s1Zpk...&quot;;\r\n\tString awsRegion = &quot;us-west-2&quot;;\r\n\tString awsService = &quot;s3&quot;;\r\n\r\n\t// optional headers\r\n\tMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\r\n\tZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneOffset.UTC);\r\n\tString dateHeader = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss &#39;UTC&#39;&quot;).format(zonedDateTime);\r\n\theaders.put(&quot;Date&quot;, dateHeader);\r\n\tString isoDateTime = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;).format(zonedDateTime);\r\n\r\n\t// this is a linked hashmap and the headers must be in a specific order\r\n\tMap&lt;String, String&gt; requestHeaders =\r\n\t\t\t\tAmazonRequestSignatureV4Utils.calculateAuthorizationHeaders(method, host, path, query, headers,\r\n\t\t\t\t\t\tbody.getBytes(), isoDateTime, awsIdentity, awsSecret, awsRegion, awsService);\r\n\ttry (CloseableHttpClient httpClient = HttpClients.createDefault();) {\r\n\t\tHttpGet request = new HttpGet(&quot;https://&quot; + host + path);\r\n\t\tList&lt;Header&gt; finalHeaders = new ArrayList&lt;&gt;(requestHeaders.size());\r\n\t\t// these must be in a specific order\r\n\t\tfor (Entry&lt;String, String&gt; entry : requestHeaders.entrySet()) {\r\n\t\t\tfinalHeaders.add(new BasicHeader(entry.getKey(), entry.getValue()));\r\n\t\t}\r\n\t\t// this overrides any previous headers specified\r\n\t\trequest.setHeaders(finalHeaders.toArray(new Header[requestHeaders.size()]));\r\n\t\ttry (CloseableHttpResponse response = httpClient.execute(request);) {\r\n\t\t\tSystem.out.println(&quot;response status: &quot; + response.getStatusLine());\r\n\t\t\tSystem.out.println(&quot;response body:&quot;);\r\n\t\t\tSystem.out.println(IOUtils.toString(response.getEntity().getContent()));\r\n\t\t}\r\n\t}\r\n","title":"How to make Amazon AWS API call from Java?","body":"<blockquote>\n<p>How to make Amazon AWS API call from Java?</p>\n</blockquote>\n<p>I took the answer from @AlexV and then fixed a couple of problems with the code.  The headers need to be sorted (case insensitively) otherwise the signature won't match.  I think I fixed a couple other issues maybe?  I also improved some of the other methods by removing unnecessary collections and optimizing the hex and trim methods.  I also changed the calculate method to return a linked hash-map of the headers so they can be put appropriately into the request.</p>\n<p>This code matches the AWS signature documentation examples (finally) and I've successfully authenticated requests with S3.  Haven't tried other AWS services yet...</p>\n<pre><code>public class AmazonRequestSignatureV4Utils {\n\n    /**\n     * Generates signing headers for HTTP request in accordance with Amazon AWS API Signature version 4 process.\n     * &lt;p&gt;\n     * Following steps outlined here:\n     * &lt;a href=&quot;https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html&quot;&gt;docs.aws.amazon.com&lt;/a&gt;\n     * &lt;p&gt;\n     * The ISO8601 date parameter should look like '20150830T123600Z' and can be created by making a call to:\n     * \n     * &lt;pre&gt;\n     * java.time.format.DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;).format(ZonedDateTime.now(ZoneOffset.UTC))}\n     * &lt;/pre&gt;\n     * \n     * or, if you prefer joda:\n     * \n     * &lt;pre&gt;\n     * {@code org.joda.time.format.ISODateTimeFormat.basicDateTimeNoMillis().print(DateTime.now().withZone(DateTimeZone.UTC))}\n     * &lt;/pre&gt;\n     *\n     * @param method\n     *            HTTP request method, (GET|POST|DELETE|PUT|...), e.g.,\n     *            {@link java.net.HttpURLConnection#getRequestMethod()}\n     * @param host\n     *            URL host, e.g., {@link java.net.URL#getHost()}.\n     * @param path\n     *            URL path, e.g., {@link java.net.URL#getPath()}.\n     * @param query\n     *            URL query, (parameters in sorted order, see the AWS spec) e.g., {@link java.net.URL#getQuery()}.\n     * @param headerMap\n     *            HTTP request header map. The returned map should be used in the request.\n     * @param body\n     *            The binary request body, for requests like POST or PUT. If null then new byte[0] will be used.\n     * @param isoDateTime\n     *            The time and date of the request in ISO8601 basic format like '20150830T123600Z', see comment above.\n     * @param awsAccessKeyId\n     *            AWS Identity, e.g., &quot;AKIAJTOUY...&quot;\n     * @param awsSecretAccessKey\n     *            AWS Secret Key, e.g., &quot;I8Q2hY819e+7KzB...&quot;\n     * @param awsRegion\n     *            AWS Region, e.g., &quot;us-east-1&quot;\n     * @param awsService\n     *            AWS Service, e.g., &quot;route53&quot;\n     * @return Linked map of properties that should be set on the http request with no other headers.\n     */\n    public static Map&lt;String, String&gt; calculateAuthorizationHeaders(String method, String host, String path,\n            String query, Map&lt;String, String&gt; headerMap, byte[] body, String isoDateTime, String awsAccessKeyId,\n            String awsSecretAccessKey, String awsRegion, String awsService)\n            throws GeneralSecurityException {\n\n        if (body == null) {\n            body = new byte[0];\n        }\n        String bodySha256 = hex(sha256(body));\n        String isoJustDate = isoDateTime.substring(0, 8); // Cut the date portion of a string like '20150830T123600Z';\n\n        Map&lt;String, String&gt; resultHeaderMap = new LinkedHashMap&lt;&gt;();\n\n        // (1) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n        StringBuilder canonicalRequestSb = new StringBuilder();\n        appendOptionalString(canonicalRequestSb, method);\n        appendOptionalString(canonicalRequestSb, path);\n        appendOptionalString(canonicalRequestSb, query);\n\n        final String HOST_HEADER = &quot;Host&quot;;\n        final String AMAZON_DATE_HEADER = &quot;X-Amz-Date&quot;;\n        final String AMAZON_CONTENT_HASH_HEADER = &quot;X-Amz-Content-Sha256&quot;;\n\n        // need to order the headers to match the AWS docs but may not be necessary for the request\n        List&lt;String&gt; headerList = new ArrayList&lt;&gt;(headerMap.keySet());\n        headerList.add(HOST_HEADER);\n        headerList.add(AMAZON_CONTENT_HASH_HEADER);\n        headerList.add(AMAZON_DATE_HEADER);\n        Collections.sort(headerList, String.CASE_INSENSITIVE_ORDER);\n        StringBuilder hashedHeadersSb = new StringBuilder();\n        for (String header : headerList) {\n            String value = headerMap.get(header);\n            if (header.equals(HOST_HEADER)) {\n                value = host;\n            } else if (header.equals(AMAZON_CONTENT_HASH_HEADER)) {\n                value = bodySha256;\n            } else if (header.equals(AMAZON_DATE_HEADER)) {\n                value = isoDateTime;\n            }\n            resultHeaderMap.put(header, value);\n            String headerLower = header.toLowerCase();\n            if (hashedHeadersSb.length() &gt; 0) {\n                hashedHeadersSb.append(';');\n            }\n            hashedHeadersSb.append(headerLower);\n            String cannonicalValue = headerLower + &quot;:&quot; + normalizeSpaces(value);\n            appendOptionalString(canonicalRequestSb, cannonicalValue);\n        }\n        canonicalRequestSb.append('\\n'); // new line required after headers\n\n        // names of the headers, lowercase, separated by ';'\n        String signedHeaders = hashedHeadersSb.toString();\n        appendOptionalString(canonicalRequestSb, signedHeaders);\n        appendOptionalString(canonicalRequestSb, bodySha256);\n        // trim off the last newline\n        canonicalRequestSb.setLength(canonicalRequestSb.length() - 1);\n        String canonicalRequestBody = canonicalRequestSb.toString();\n        String canonicalRequestHash = hex(sha256(canonicalRequestBody.getBytes(StandardCharsets.UTF_8)));\n\n        final String AWS_ENCRYPTION_ALGORITHM = &quot;AWS4-HMAC-SHA256&quot;;\n\n        // (2) https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n        StringBuilder stringToSignSb = new StringBuilder();\n        stringToSignSb.append(AWS_ENCRYPTION_ALGORITHM).append('\\n');\n        stringToSignSb.append(isoDateTime).append('\\n');\n        String requestType = &quot;aws4_request&quot;;\n        String credentialScope = isoJustDate + &quot;/&quot; + awsRegion + &quot;/&quot; + awsService + &quot;/&quot; + requestType;\n        stringToSignSb.append(credentialScope).append('\\n');\n        stringToSignSb.append(canonicalRequestHash);\n        String stringToSign = stringToSignSb.toString();\n\n        // (3) https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n        byte[] keySecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\n        byte[] keyDate = hmac(keySecret, isoJustDate);\n        byte[] keyRegion = hmac(keyDate, awsRegion);\n        byte[] keyService = hmac(keyRegion, awsService);\n        byte[] keySigning = hmac(keyService, requestType);\n        String signature = hex(hmac(keySigning, stringToSign));\n\n        // finally we can build our Authorization header\n        String authParameter = AWS_ENCRYPTION_ALGORITHM + &quot; Credential=&quot; + awsAccessKeyId + &quot;/&quot; + credentialScope\n                + &quot;,SignedHeaders=&quot; + signedHeaders + &quot;,Signature=&quot; + signature;\n        resultHeaderMap.put(&quot;Authorization&quot;, authParameter);\n        return resultHeaderMap;\n    }\n\n    private static void appendOptionalString(StringBuilder sb, String str) {\n        if (str != null) {\n            sb.append(str);\n        }\n        sb.append('\\n');\n    }\n\n    /** replaces multiple whitespace character blocks into a single space, removes whitespace from the front and end */\n    private static String normalizeSpaces(String value) {\n        StringBuilder sb = new StringBuilder(value.length());\n        boolean prevSpace = false;\n        for (int i = 0; i &lt; value.length(); i++) {\n            char ch = value.charAt(i);\n            if (Character.isWhitespace(ch)) {\n                if (sb.length() == 0) {\n                    // skip spaces at the start\n                } else {\n                    // note that we saw a space which reduces multiples and ignores spaces\n                    // this filters whitespace at the end of the string because they only emitted before the next char\n                    prevSpace = true;\n                }\n                continue;\n            }\n            if (prevSpace) {\n                // this changes all whitespace into a space\n                sb.append(' ');\n                prevSpace = false;\n            }\n            sb.append(ch);\n        }\n        return sb.toString();\n    }\n\n    private static String hex(byte[] bytes) {\n        final String HEX_CHARACTERS = &quot;0123456789abcdef&quot;;\n        StringBuilder sb = new StringBuilder(bytes.length * 2);\n        for (int i = 0; i &lt; bytes.length; i++) {\n            int val = (bytes[i] &amp; 0xFF);\n            sb.append(HEX_CHARACTERS.charAt(val &gt;&gt;&gt; 4));\n            sb.append(HEX_CHARACTERS.charAt(val &amp; 0x0F));\n        }\n        return sb.toString();\n    }\n\n    private static byte[] sha256(byte[] bytes) throws NoSuchAlgorithmException {\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        digest.update(bytes);\n        return digest.digest();\n    }\n\n    private static byte[] hmac(byte[] key, String input) throws GeneralSecurityException {\n        Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n        mac.init(new SecretKeySpec(key, &quot;HmacSHA256&quot;));\n        return mac.doFinal(input.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>Here's a usage example which shows the actual HTTP request being made using Apache HttpClient version 4.5.13:</p>\n<pre><code>String method = &quot;GET&quot;;\nString host = &quot;somebucket.s3.amazonaws.com&quot;;\nString path = &quot;/somepath.txt&quot;;\nString query = null;\n// probably should come from a file or something if doing a PUT or POST\nString body = null;\nString awsIdentity = &quot;AKIA...&quot;;\nString awsSecret = &quot;s1Zpk...&quot;;\nString awsRegion = &quot;us-west-2&quot;;\nString awsService = &quot;s3&quot;;\n\n// optional headers\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n\nZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneOffset.UTC);\nString dateHeader = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss 'UTC'&quot;).format(zonedDateTime);\nheaders.put(&quot;Date&quot;, dateHeader);\nString isoDateTime = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;).format(zonedDateTime);\n\n// this is a linked hashmap and the headers must be in a specific order\nMap&lt;String, String&gt; requestHeaders =\n            AmazonRequestSignatureV4Utils.calculateAuthorizationHeaders(method, host, path, query, headers,\n                    body.getBytes(), isoDateTime, awsIdentity, awsSecret, awsRegion, awsService);\ntry (CloseableHttpClient httpClient = HttpClients.createDefault();) {\n    HttpGet request = new HttpGet(&quot;https://&quot; + host + path);\n    List&lt;Header&gt; finalHeaders = new ArrayList&lt;&gt;(requestHeaders.size());\n    // these must be in a specific order\n    for (Entry&lt;String, String&gt; entry : requestHeaders.entrySet()) {\n        finalHeaders.add(new BasicHeader(entry.getKey(), entry.getValue()));\n    }\n    // this overrides any previous headers specified\n    request.setHeaders(finalHeaders.toArray(new Header[requestHeaders.size()]));\n    try (CloseableHttpResponse response = httpClient.execute(request);) {\n        System.out.println(&quot;response status: &quot; + response.getStatusLine());\n        System.out.println(&quot;response body:&quot;);\n        System.out.println(IOUtils.toString(response.getEntity().getContent()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":71369,"reputation":554,"user_id":206494,"accept_rate":75,"display_name":"AlexV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3231,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62144380,"answer_count":2,"score":3,"last_activity_date":1677956933,"creation_date":1591068956,"question_id":62144379,"body_markdown":"What are my options if I want to make a call to Amazon AWS Rest API from Java.\r\n\r\nWhen implementing my own request, generating the `AWS4-HMAC-SHA256` Authorization header would be the hardest.\r\n\r\nEssentially, this is the header I need to generate:\r\n\r\n```http\r\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJTOUYS27JPVRDUYQ/20200602/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ba85affa19fa4a8735ce952e50d41c8c93406a11d22b88cc98b109b529bcc15e\r\n```","title":"How to make Amazon AWS API call from Java?","body":"<p>What are my options if I want to make a call to Amazon AWS Rest API from Java.</p>\n\n<p>When implementing my own request, generating the <code>AWS4-HMAC-SHA256</code> Authorization header would be the hardest.</p>\n\n<p>Essentially, this is the header I need to generate:</p>\n\n<pre><code>Authorization: AWS4-HMAC-SHA256 Credential=AKIAJTOUYS27JPVRDUYQ/20200602/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ba85affa19fa4a8735ce952e50d41c8c93406a11d22b88cc98b109b529bcc15e\n</code></pre>\n"},{"tags":["java","apache","intellij-idea","apache-poi","data-driven-tests"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1508235004,"post_id":46769322,"comment_id":80521436,"body_markdown":"What version of Apache POI are you using? If not the latest, what happens when you upgrade?","body":"What version of Apache POI are you using? If not the latest, what happens when you upgrade?"},{"owner":{"account_id":11049468,"reputation":296,"user_id":8114429,"display_name":"Pawana"},"score":0,"creation_date":1508235187,"post_id":46769322,"comment_id":80521548,"body_markdown":"I used 3.17 ... thats where the error occured ... then I also tried to downgrade to 3.10.1 but the error was still there","body":"I used 3.17 ... thats where the error occured ... then I also tried to downgrade to 3.10.1 but the error was still there"},{"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"score":0,"creation_date":1562888821,"post_id":46769322,"comment_id":100530763,"body_markdown":"@Pawana could you accept my answer (below) as the correct one?","body":"@Pawana could you accept my answer (below) as the correct one?"}],"answers":[{"tags":[],"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1509026315,"creation_date":1509026007,"answer_id":46956241,"question_id":46769322,"body_markdown":"Replace your `Row.CREATE_NULL_AS_BLANK` with `Row.MissingCellPolicy.CREATE_NULL_AS_BLANK`.\r\n\r\nAnd use your &quot;regular&quot; `Row` import (for example: `import org.apache.poi.ss.usermodel.Row;`)\r\n\r\nI was using v3.14, updated it to v3.17 and got the same error. Somewhere between these versions the CREATE_NULL_AS_BLANK was packed inside a MissingCellPolicy enum, hence the error.","title":"Apache POI, CREATE_NULL_AS_BLANK is causing errors","body":"<p>Replace your <code>Row.CREATE_NULL_AS_BLANK</code> with <code>Row.MissingCellPolicy.CREATE_NULL_AS_BLANK</code>.</p>\n\n<p>And use your \"regular\" <code>Row</code> import (for example: <code>import org.apache.poi.ss.usermodel.Row;</code>)</p>\n\n<p>I was using v3.14, updated it to v3.17 and got the same error. Somewhere between these versions the CREATE_NULL_AS_BLANK was packed inside a MissingCellPolicy enum, hence the error.</p>\n"}],"owner":{"account_id":11049468,"reputation":296,"user_id":8114429,"display_name":"Pawana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677956800,"creation_date":1508153543,"question_id":46769322,"body_markdown":"Right now I&#39;m following a tutorial for writing Data Driven Tests in Java. My IDE is IntelliJ Community Edition and following is my code\r\n\r\n    package utility;\r\n    \r\n    import config.Constants;\r\n    import executionEngine.DriverScript;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    public class ExcelUtils {\r\n        private static XSSFSheet ExcelWSheet;\r\n        private static XSSFWorkbook ExcelWBook;\r\n        private static XSSFCell Cell;\r\n        private static XSSFRow Row;\r\n    \r\n        //This method is to set the File path and to open the Excel File\r\n        //Pass Excel Path and Sheet Name as Arguments to this method\r\n        public static void setExcelFile(String Path) throws Exception {\r\n            try {\r\n                FileInputStream ExcelFile = new FileInputStream(Path);\r\n                ExcelWBook = new XSSFWorkbook(ExcelFile);\r\n            }catch(Exception e){\r\n                Log.error(&quot;Class Utils | Method setExcelFile | Exception desc: &quot; + e.getMessage());\r\n                DriverScript.bResult = false;\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;static-access&quot;)\r\n        //This method is used to write value in the excel sheet\r\n        //This method accepts four arguments (Result, Row Number, Column Number, Sheet Name)\r\n        public static void setCellData(String Result, int RowNum, int ColNum, String SheetName) throws Exception{\r\n            try{\r\n                ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n                Row = ExcelWSheet.getRow(RowNum);\r\n    \r\n                // CHECK IF ERRORS HAPPEN AFTER THIS!!!!!!!!!!!!!!!!\r\n                Cell = Row.getCell(ColNum, Row.CREATE_NULL_AS_BLANK);\r\n    \r\n    \r\n                if(Cell == null){\r\n                    Cell = Row.createCell(ColNum);\r\n                    Cell.setCellValue(Result);\r\n                }else{\r\n                    Cell.setCellValue(Result);\r\n                }\r\n                //Constant variables Test Data path and Test Data file name\r\n                FileOutputStream fileOut = new FileOutputStream(Constants.Path_TestData);\r\n                ExcelWBook.write(fileOut);\r\n                //fielOut.flush();\r\n                fileOut.close();\r\n                ExcelWBook = new XSSFWorkbook(new FileInputStream(Constants.Path_TestData));\r\n            }catch(Exception e){\r\n                DriverScript.bResult = false;\r\n            }\r\n        }\r\n    \r\n        //This method is to read the test data from the Excel cell\r\n        //In this we are passing Arguments as Row Num, Col Num &amp; Sheet Name\r\n        public static String getCellData(int RowNum, int ColNum, String SheetName) throws Exception{\r\n            try{\r\n                ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n                Cell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\r\n                String CellData = Cell.getStringCellValue();\r\n                return CellData;\r\n            }catch(Exception e){\r\n                Log.error(&quot;Class Utils | Method getCellData | Exception desc: &quot; + e.getMessage());\r\n                DriverScript.bResult = false;\r\n                return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        //This method id to get the row count used of the excel sheet\r\n        public static int getRowCount(String SheetName){\r\n            int iNumber = 0;\r\n            try {\r\n                ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n                iNumber = ExcelWSheet.getLastRowNum()+1;\r\n            }catch(Exception e){\r\n                Log.error(&quot;Class Utils | Method getRowCount | Exception desc: &quot; + e.getMessage());\r\n                DriverScript.bResult = false;\r\n            }\r\n            return iNumber;\r\n        }\r\n    \r\n        //This method is to get the Row number of the test case\r\n        //This method takes three arguments(Test Case Name, Column Number &amp; Sheet name)\r\n        public static int getRowContains(String sTestCaseName, int colNum, String SheetName) throws Exception{\r\n            int iRowNum = 0;\r\n            try{\r\n                //ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n                int rowCount = ExcelUtils.getRowCount(SheetName);\r\n                for(; iRowNum&lt;rowCount; iRowNum++){\r\n                    if(ExcelUtils.getCellData(iRowNum, colNum, SheetName).equalsIgnoreCase(sTestCaseName)){\r\n                        break;\r\n                    }\r\n                }\r\n            }catch(Exception e){\r\n                Log.error(&quot;Class Utils | Method getRowContains | Exception desc: &quot; + e.getMessage());\r\n                DriverScript.bResult = false;\r\n            }\r\n            return iRowNum;\r\n        }\r\n    \r\n        //This method is to get the count of the test steps of test case\r\n        //This method takes three arguments (Sheet name, Test Case ID &amp; Test case row number)\r\n        public static int getTestStepsCount(String SheetName, String sTestCaseID, int iTestCaseStart) throws Exception{\r\n            try{\r\n                for(int i=iTestCaseStart; i&lt;=ExcelUtils.getRowCount(SheetName); i++){\r\n                    if(!sTestCaseID.equals(ExcelUtils.getCellData(i, Constants.Col_TestCaseID, SheetName))){\r\n                        int number = i;\r\n                        return number;\r\n                    }\r\n                }\r\n                ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n                int number = ExcelWSheet.getLastRowNum()+1;\r\n                return number;\r\n            }catch(Exception e){\r\n                Log.error(&quot;Class Utils | Method getTestStepsCount | Exception desc: &quot; + e.getMessage());\r\n                DriverScript.bResult = false;\r\n                return 0;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nMy problem now is the following part:\r\n\r\n\r\n    public static void setCellData(String Result, int RowNum, int ColNum, String SheetName) throws Exception{\r\n        try{\r\n            ExcelWSheet = ExcelWBook.getSheet(SheetName);\r\n            Row = ExcelWSheet.getRow(RowNum);\r\n\r\n            // CHECK IF ERRORS HAPPEN AFTER THIS!!!!!!!!!!!!!!!!\r\n            Cell = Row.getCell(ColNum, Row.CREATE_NULL_AS_BLANK);\r\n\r\n\r\nI don&#39;t know what to do now ... CREATE_NULL_AS_BLANK is marked red and says &quot;Cannot resolve symbol&quot; and every step from my data driven framework is failing. \r\n\r\nI tried to use it with \r\n\r\n    org.apache.poi.ss.usermodel.Row.MissingCellPolicy.CREATE_NULL_AS_BLANK;\r\n\r\nWith this code I can execute my code, but my Framework does only the first step before crushing\r\n\r\nHere is my Log\r\n\r\n    2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \r\n    2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \r\n    2017-10-16 13:19:50,093 INFO  [Log] $$$$$$$$$$$$$$$$$$$$$                 Wikipedia_01       $$$$$$$$$$$$$$$$$$$$$$$$$ \r\n    2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \r\n    2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \r\n    2017-10-16 13:19:50,094 ERROR [Log] Class Utils | Method getCellData | Exception desc: null \r\n    2017-10-16 13:19:50,094 INFO  [Log] Opening Browser \r\n    2017-10-16 13:19:53,388 INFO  [Log] Closing the browser \r\n    2017-10-16 13:19:54,069 INFO  [Log] XXXXXXXXXXXXXXXXXXXXXXX             -E---N---D-             XXXXXXXXXXXXXXXXXXXXXX \r\n    2017-10-16 13:19:54,069 INFO  [Log] X \r\n    2017-10-16 13:19:54,069 INFO  [Log] X \r\n    2017-10-16 13:19:54,069 INFO  [Log] X \r\n    2017-10-16 13:19:54,069 INFO  [Log] X \r\n\r\n\r\n\r\nI hope someone can help me solve this problem, cause it is driving me nuts.\r\n\r\n\r\nEdit: Before I added the &quot;setCellData&quot; part, the framework worked totally fine and every step was executed flawlessly. The error happend directly after that","title":"Apache POI, CREATE_NULL_AS_BLANK is causing errors","body":"<p>Right now I'm following a tutorial for writing Data Driven Tests in Java. My IDE is IntelliJ Community Edition and following is my code</p>\n\n<pre><code>package utility;\n\nimport config.Constants;\nimport executionEngine.DriverScript;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\npublic class ExcelUtils {\n    private static XSSFSheet ExcelWSheet;\n    private static XSSFWorkbook ExcelWBook;\n    private static XSSFCell Cell;\n    private static XSSFRow Row;\n\n    //This method is to set the File path and to open the Excel File\n    //Pass Excel Path and Sheet Name as Arguments to this method\n    public static void setExcelFile(String Path) throws Exception {\n        try {\n            FileInputStream ExcelFile = new FileInputStream(Path);\n            ExcelWBook = new XSSFWorkbook(ExcelFile);\n        }catch(Exception e){\n            Log.error(\"Class Utils | Method setExcelFile | Exception desc: \" + e.getMessage());\n            DriverScript.bResult = false;\n        }\n    }\n\n    @SuppressWarnings(\"static-access\")\n    //This method is used to write value in the excel sheet\n    //This method accepts four arguments (Result, Row Number, Column Number, Sheet Name)\n    public static void setCellData(String Result, int RowNum, int ColNum, String SheetName) throws Exception{\n        try{\n            ExcelWSheet = ExcelWBook.getSheet(SheetName);\n            Row = ExcelWSheet.getRow(RowNum);\n\n            // CHECK IF ERRORS HAPPEN AFTER THIS!!!!!!!!!!!!!!!!\n            Cell = Row.getCell(ColNum, Row.CREATE_NULL_AS_BLANK);\n\n\n            if(Cell == null){\n                Cell = Row.createCell(ColNum);\n                Cell.setCellValue(Result);\n            }else{\n                Cell.setCellValue(Result);\n            }\n            //Constant variables Test Data path and Test Data file name\n            FileOutputStream fileOut = new FileOutputStream(Constants.Path_TestData);\n            ExcelWBook.write(fileOut);\n            //fielOut.flush();\n            fileOut.close();\n            ExcelWBook = new XSSFWorkbook(new FileInputStream(Constants.Path_TestData));\n        }catch(Exception e){\n            DriverScript.bResult = false;\n        }\n    }\n\n    //This method is to read the test data from the Excel cell\n    //In this we are passing Arguments as Row Num, Col Num &amp; Sheet Name\n    public static String getCellData(int RowNum, int ColNum, String SheetName) throws Exception{\n        try{\n            ExcelWSheet = ExcelWBook.getSheet(SheetName);\n            Cell = ExcelWSheet.getRow(RowNum).getCell(ColNum);\n            String CellData = Cell.getStringCellValue();\n            return CellData;\n        }catch(Exception e){\n            Log.error(\"Class Utils | Method getCellData | Exception desc: \" + e.getMessage());\n            DriverScript.bResult = false;\n            return \"\";\n        }\n    }\n\n    //This method id to get the row count used of the excel sheet\n    public static int getRowCount(String SheetName){\n        int iNumber = 0;\n        try {\n            ExcelWSheet = ExcelWBook.getSheet(SheetName);\n            iNumber = ExcelWSheet.getLastRowNum()+1;\n        }catch(Exception e){\n            Log.error(\"Class Utils | Method getRowCount | Exception desc: \" + e.getMessage());\n            DriverScript.bResult = false;\n        }\n        return iNumber;\n    }\n\n    //This method is to get the Row number of the test case\n    //This method takes three arguments(Test Case Name, Column Number &amp; Sheet name)\n    public static int getRowContains(String sTestCaseName, int colNum, String SheetName) throws Exception{\n        int iRowNum = 0;\n        try{\n            //ExcelWSheet = ExcelWBook.getSheet(SheetName);\n            int rowCount = ExcelUtils.getRowCount(SheetName);\n            for(; iRowNum&lt;rowCount; iRowNum++){\n                if(ExcelUtils.getCellData(iRowNum, colNum, SheetName).equalsIgnoreCase(sTestCaseName)){\n                    break;\n                }\n            }\n        }catch(Exception e){\n            Log.error(\"Class Utils | Method getRowContains | Exception desc: \" + e.getMessage());\n            DriverScript.bResult = false;\n        }\n        return iRowNum;\n    }\n\n    //This method is to get the count of the test steps of test case\n    //This method takes three arguments (Sheet name, Test Case ID &amp; Test case row number)\n    public static int getTestStepsCount(String SheetName, String sTestCaseID, int iTestCaseStart) throws Exception{\n        try{\n            for(int i=iTestCaseStart; i&lt;=ExcelUtils.getRowCount(SheetName); i++){\n                if(!sTestCaseID.equals(ExcelUtils.getCellData(i, Constants.Col_TestCaseID, SheetName))){\n                    int number = i;\n                    return number;\n                }\n            }\n            ExcelWSheet = ExcelWBook.getSheet(SheetName);\n            int number = ExcelWSheet.getLastRowNum()+1;\n            return number;\n        }catch(Exception e){\n            Log.error(\"Class Utils | Method getTestStepsCount | Exception desc: \" + e.getMessage());\n            DriverScript.bResult = false;\n            return 0;\n        }\n    }\n}\n</code></pre>\n\n<p>My problem now is the following part:</p>\n\n<pre><code>public static void setCellData(String Result, int RowNum, int ColNum, String SheetName) throws Exception{\n    try{\n        ExcelWSheet = ExcelWBook.getSheet(SheetName);\n        Row = ExcelWSheet.getRow(RowNum);\n\n        // CHECK IF ERRORS HAPPEN AFTER THIS!!!!!!!!!!!!!!!!\n        Cell = Row.getCell(ColNum, Row.CREATE_NULL_AS_BLANK);\n</code></pre>\n\n<p>I don't know what to do now ... CREATE_NULL_AS_BLANK is marked red and says \"Cannot resolve symbol\" and every step from my data driven framework is failing. </p>\n\n<p>I tried to use it with </p>\n\n<pre><code>org.apache.poi.ss.usermodel.Row.MissingCellPolicy.CREATE_NULL_AS_BLANK;\n</code></pre>\n\n<p>With this code I can execute my code, but my Framework does only the first step before crushing</p>\n\n<p>Here is my Log</p>\n\n<pre><code>2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \n2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \n2017-10-16 13:19:50,093 INFO  [Log] $$$$$$$$$$$$$$$$$$$$$                 Wikipedia_01       $$$$$$$$$$$$$$$$$$$$$$$$$ \n2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \n2017-10-16 13:19:50,093 INFO  [Log] **************************************************************************************** \n2017-10-16 13:19:50,094 ERROR [Log] Class Utils | Method getCellData | Exception desc: null \n2017-10-16 13:19:50,094 INFO  [Log] Opening Browser \n2017-10-16 13:19:53,388 INFO  [Log] Closing the browser \n2017-10-16 13:19:54,069 INFO  [Log] XXXXXXXXXXXXXXXXXXXXXXX             -E---N---D-             XXXXXXXXXXXXXXXXXXXXXX \n2017-10-16 13:19:54,069 INFO  [Log] X \n2017-10-16 13:19:54,069 INFO  [Log] X \n2017-10-16 13:19:54,069 INFO  [Log] X \n2017-10-16 13:19:54,069 INFO  [Log] X \n</code></pre>\n\n<p>I hope someone can help me solve this problem, cause it is driving me nuts.</p>\n\n<p>Edit: Before I added the \"setCellData\" part, the framework worked totally fine and every step was executed flawlessly. The error happend directly after that</p>\n"},{"tags":["java"],"owner":{"account_id":27884652,"reputation":1,"user_id":21292405,"display_name":"dawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677956441,"creation_date":1677896848,"question_id":75633286,"body_markdown":"Because I need to get the HttpServletRequest object in thread of thread-pool，So I code like this\r\n```java\r\nServletRequestAttributes servletRequestAttributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\r\nRequestContextHolder.setRequestAttributes(servletRequestAttributes,true);\r\n\r\n// get the HttpServletRequest\r\nRequestAttributes attributes = RequestContextHolder.getRequestAttributes();\r\nHttpServletRequest request = attributes.getRequest();\r\n```\r\n\r\n\r\n\r\nThe result is as expected when I&#39;m in local development environment. It can acquire the HttpServletRequest. But in product environment. There are many java project running on multiple servers.We use nginx to forward the front-end request. The above code is unexpected. When I get the \r\nHttpServletRequest Object, it always null.  \r\n\r\nDo you know why?","title":"In springboot project, use RequestContextHolder.getRequestAttributes().getRequest() to get the HttpServletRequest Object but it is null","body":"<p>Because I need to get the HttpServletRequest object in thread of thread-pool，So I code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServletRequestAttributes servletRequestAttributes = (ServletRequestAttributes) RequestContextHolder.getRequestAttributes();\nRequestContextHolder.setRequestAttributes(servletRequestAttributes,true);\n\n// get the HttpServletRequest\nRequestAttributes attributes = RequestContextHolder.getRequestAttributes();\nHttpServletRequest request = attributes.getRequest();\n</code></pre>\n<p>The result is as expected when I'm in local development environment. It can acquire the HttpServletRequest. But in product environment. There are many java project running on multiple servers.We use nginx to forward the front-end request. The above code is unexpected. When I get the\nHttpServletRequest Object, it always null.</p>\n<p>Do you know why?</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1677376156,"post_id":75569555,"comment_id":133325492,"body_markdown":"I would run a periodic task to check for expirations between now and the last checked time. Run it once (or twice) an hour. Why make it more complicated than that?","body":"I would run a periodic task to check for expirations between now and the last checked time. Run it once (or twice) an hour. Why make it more complicated than that?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1677377513,"post_id":75569555,"comment_id":133325615,"body_markdown":"We know little about your code, or your database tables. Without that, we can only guess. The quality of such guesses can range from useful to totally useless and way off-base.","body":"We know little about your code, or your database tables. Without that, we can only guess. The quality of such guesses can range from useful to totally useless and way off-base."},{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1677381093,"post_id":75569555,"comment_id":133325882,"body_markdown":"@OldDogProgrammer, it&#39;s not about code. I can get all of my users in Page easily, but is a best way to do ? It&#39;s more about how to design this correctly. if you have 10 millions of users, are you going to loads them all to check each day ?","body":"@OldDogProgrammer, it&#39;s not about code. I can get all of my users in Page easily, but is a best way to do ? It&#39;s more about how to design this correctly. if you have 10 millions of users, are you going to loads them all to check each day ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677384063,"post_id":75569555,"comment_id":133326126,"body_markdown":"The point is, we have far too little to go on. As it stands, the question might be out of bounds for Stack Overflow. https://stackoverflow.com/help/on-topic","body":"The point is, we have far too little to go on. As it stands, the question might be out of bounds for Stack Overflow. <a href=\"https://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1677384317,"post_id":75569555,"comment_id":133326147,"body_markdown":"Could you use an indexed file? The file can have IDs and pass expiration times. If pass expiration times are indexed, the file can be read as if pass expiration times were kept in sorted order.","body":"Could you use an indexed file? The file can have IDs and pass expiration times. If pass expiration times are indexed, the file can be read as if pass expiration times were kept in sorted order."},{"owner":{"account_id":14787039,"reputation":5673,"user_id":10678955,"display_name":"root"},"score":1,"creation_date":1677385368,"post_id":75569555,"comment_id":133326207,"body_markdown":"Perhaps a persistent version of a [hierarchical timing wheel](https://blog.acolyer.org/2015/11/23/hashed-and-hierarchical-timing-wheels/) is what you need ([link with visuals](https://www.slideshare.net/supperniu/timing-wheels)).","body":"Perhaps a persistent version of a <a href=\"https://blog.acolyer.org/2015/11/23/hashed-and-hierarchical-timing-wheels/\" rel=\"nofollow noreferrer\">hierarchical timing wheel</a> is what you need (<a href=\"https://www.slideshare.net/supperniu/timing-wheels\" rel=\"nofollow noreferrer\">link with visuals</a>)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1677390150,"post_id":75569555,"comment_id":133326489,"body_markdown":"If the expiration date is registered in the database, build a non-unique index on that column and every day retrieve the passes that expire on the day only.","body":"If the expiration date is registered in the database, build a non-unique index on that column and every day retrieve the passes that expire on the day only."},{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1677433393,"post_id":75569555,"comment_id":133332547,"body_markdown":"@OleV.V. i&#39;m going to try this. Thanks","body":"@OleV.V. i&#39;m going to try this. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677956252,"creation_date":1677956252,"answer_id":75637961,"question_id":75569555,"body_markdown":"Finally i use aws Dynamodb database and activate TTL (Time to live).\r\nWhen I create a new subscription, I add also the end date of the suscription. \r\nDynamodb deletes when this date is reached...\r\nI added a trigger to detect when the row is deleted and then from a lambda I send the message.\r\n\r\nThis is fully scalable, and I don&#39;t have to iterate each day over all data in database.","title":"How to calculate end date of subscription of many users without loading them all each day?","body":"<p>Finally i use aws Dynamodb database and activate TTL (Time to live).\nWhen I create a new subscription, I add also the end date of the suscription.\nDynamodb deletes when this date is reached...\nI added a trigger to detect when the row is deleted and then from a lambda I send the message.</p>\n<p>This is fully scalable, and I don't have to iterate each day over all data in database.</p>\n"}],"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75637961,"answer_count":1,"score":0,"last_activity_date":1677956252,"creation_date":1677376071,"question_id":75569555,"body_markdown":"This is my use case:\r\n- users subscribe for a pass. It can be day, weelk or a month pass.\r\n- when the end of the pass is reached, i want to set the status of the pass to inactive and send sms to my users.\r\n\t\r\n\r\n&gt;     private String id;\r\n&gt;     private String name;\t\r\n&gt;     private String description;\r\n&gt;     private int nbBook;\r\n&gt;     private int nbGame;\r\n&gt;     private BigDecimal price;\t\r\n&gt;     private Boolean status = true;\r\n&gt;     private Currency currency;\t\r\n&gt;     private PassValitidyPeriod validityTime;\r\n\r\nI&#39;m looking for a modern and intelligent way to check when a pass reached the end of subscription.\r\n\r\n**WAY 1**\r\nI can use `@Scheduled()` each day, to start a method in which i can get all the users and check the pass status.\r\ncons: When i reach million of users, this can become dangerous for the system. We are going to loads all users, just to check the end date.\r\n\r\nPlease, is it possible to have directly in the database a trigger calling the java code when the end date is reached ? Or a kind of trigger ? Or what is a good way to do it instead of loading all users each day to check ? \r\n\r\nThanks in advance.\r\n\r\n","title":"How to calculate end date of subscription of many users without loading them all each day?","body":"<p>This is my use case:</p>\n<ul>\n<li>users subscribe for a pass. It can be day, weelk or a month pass.</li>\n<li>when the end of the pass is reached, i want to set the status of the pass to inactive and send sms to my users.</li>\n</ul>\n<blockquote>\n<pre><code>private String id;\nprivate String name;  \nprivate String description;\nprivate int nbBook;\nprivate int nbGame;\nprivate BigDecimal price; \nprivate Boolean status = true;\nprivate Currency currency;    \nprivate PassValitidyPeriod validityTime;\n</code></pre>\n</blockquote>\n<p>I'm looking for a modern and intelligent way to check when a pass reached the end of subscription.</p>\n<p><strong>WAY 1</strong>\nI can use <code>@Scheduled()</code> each day, to start a method in which i can get all the users and check the pass status.\ncons: When i reach million of users, this can become dangerous for the system. We are going to loads all users, just to check the end date.</p>\n<p>Please, is it possible to have directly in the database a trigger calling the java code when the end date is reached ? Or a kind of trigger ? Or what is a good way to do it instead of loading all users each day to check ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","openai-api"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1677871039,"post_id":75630689,"comment_id":133429465,"body_markdown":"On a related note: [*Java time-based map/cache with expiring keys*](https://stackoverflow.com/q/3802370/642706)","body":"On a related note: <a href=\"https://stackoverflow.com/q/3802370/642706\"><i>Java time-based map/cache with expiring keys</i></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677871426,"post_id":75630689,"comment_id":133429572,"body_markdown":"Do you want to clear the entire map, or clear the “conversation” list? Edit your Question to clarify.","body":"Do you want to clear the entire map, or clear the “conversation” list? Edit your Question to clarify."},{"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"score":0,"creation_date":1677871908,"post_id":75630689,"comment_id":133429688,"body_markdown":"I&#39;ve updated the title. I don&#39;t want to clear the entire map, just the entry containing the list of chat messages.","body":"I&#39;ve updated the title. I don&#39;t want to clear the entire map, just the entry containing the list of chat messages."},{"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"score":0,"creation_date":1677872730,"post_id":75630689,"comment_id":133429855,"body_markdown":"I looked at the link you sent and found Guava. It has a HashMap like object named CacheBuilder that has time-based expiration of entries measured since last access or write. I think this might be an option.","body":"I looked at the link you sent and found Guava. It has a HashMap like object named CacheBuilder that has time-based expiration of entries measured since last access or write. I think this might be an option."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677874687,"post_id":75630689,"comment_id":133430277,"body_markdown":"If the Guava `CacheBuilder` solves your issue, know that on Stack Overflow you are welcome and encouraged to post and accept an Answer to your own Question.","body":"If the Guava <code>CacheBuilder</code> solves your issue, know that on Stack Overflow you are welcome and encouraged to post and accept an Answer to your own Question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677874803,"post_id":75630689,"comment_id":133430306,"body_markdown":"I changed your title and body to use the more general `Map` rather than `HashMap`. Unless your code requires the specific features of a concrete class such as `HashMap`, use the more general superclass or interface.","body":"I changed your title and body to use the more general <code>Map</code> rather than <code>HashMap</code>. Unless your code requires the specific features of a concrete class such as <code>HashMap</code>, use the more general superclass or interface."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1677876887,"post_id":75630689,"comment_id":133430791,"body_markdown":"This is a solved problem: You *actually* want a cache with expiry. There are libraries for this.","body":"This is a solved problem: You <i>actually</i> want a cache with expiry. There are libraries for this."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677910889,"post_id":75630689,"comment_id":133434687,"body_markdown":"You must use a local datetime object because of midnight ! Use date-time variable to update as the very last line of activity input code of an activity action. Use  first lines of activity  input code to obtain that last updated stored date-time object (one common reference) and use java.time.temporal Period to add 2 minutes then use compare() method by casting the LocalDateTime to java.time.temporal. TemporalAccessor and use the static ChronoLocalDateTime? .from( ) method to convert that time and compare the later one as a chronodate","body":"You must use a local datetime object because of midnight ! Use date-time variable to update as the very last line of activity input code of an activity action. Use  first lines of activity  input code to obtain that last updated stored date-time object (one common reference) and use java.time.temporal Period to add 2 minutes then use compare() method by casting the LocalDateTime to java.time.temporal. TemporalAccessor and use the static ChronoLocalDateTime? .from( ) method to convert that time and compare the later one as a chronodate"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677911216,"post_id":75630689,"comment_id":133434717,"body_markdown":"Plenty of java.time info and IANA time zone java update info.    https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk","body":"Plenty of java.time info and IANA time zone java update info.    <a href=\"https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=drivesdk\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"score":0,"creation_date":1677869629,"post_id":75630766,"comment_id":133429095,"body_markdown":"Can you explain in more detail, I don&#39;t know the full extent of Threads. I mainly use them for running tasks that otherwise would cause the execution to hang.","body":"Can you explain in more detail, I don&#39;t know the full extent of Threads. I mainly use them for running tasks that otherwise would cause the execution to hang."},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1677870641,"post_id":75630766,"comment_id":133429376,"body_markdown":"You could use an SortedMap to track userId-&gt;timeLastActive.  You could then use a thread to iterate over that data and purge user ids from conversations.","body":"You could use an SortedMap to track userId-&gt;timeLastActive.  You could then use a thread to iterate over that data and purge user ids from conversations."}],"tags":[],"owner":{"account_id":25640544,"reputation":24,"user_id":19409530,"display_name":"Ftoy"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677868933,"creation_date":1677868904,"answer_id":75630766,"question_id":75630689,"body_markdown":"How about a thread ? Check if there are changes , and if not for an amount of time to clear it ?","title":"How to clear Map entry after certain time of inactivity","body":"<p>How about a thread ? Check if there are changes , and if not for an amount of time to clear it ?</p>\n"},{"comments":[{"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"score":0,"creation_date":1677922371,"post_id":75634654,"comment_id":133435816,"body_markdown":"I can&#39;t accept my own answer until tomorrow. But I can confirm that this works the way I need it to.","body":"I can&#39;t accept my own answer until tomorrow. But I can confirm that this works the way I need it to."},{"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"score":0,"creation_date":1677955136,"post_id":75634654,"comment_id":133440868,"body_markdown":"I already answered my own question before the site was like, &quot;Nah, there&#39;s already answers for this question in another post&quot;, even though my answer provides the implementation rather than just an explanation. I can&#39;t accept the answer yet because I submitted it at like 4 AM. Gotta love it here.","body":"I already answered my own question before the site was like, &quot;Nah, there&#39;s already answers for this question in another post&quot;, even though my answer provides the implementation rather than just an explanation. I can&#39;t accept the answer yet because I submitted it at like 4 AM. Gotta love it here."}],"tags":[],"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677920926,"creation_date":1677920926,"answer_id":75634654,"question_id":75630689,"body_markdown":"I&#39;ve added Guava to my project and replaced the Map with a LoadingCache object. It takes the same type of parameters and allows me to easily set the time before expiration.\r\n\r\n```\r\nprivate static LoadingCache&lt;String, List&lt;ChatMessage&gt;&gt; conversations;\r\n\r\npublic static void initializeOpenAi() {\r\n\tservice = new OpenAiService(Settings.OPENAI_ACCESS_KEY);\r\n\t\t\r\n\tconversations = CacheBuilder.newBuilder()\r\n\t\t\t.maximumSize(10000)\r\n\t\t\t.expireAfterWrite(2, TimeUnit.MINUTES)\r\n\t\t\t.build(\r\n\t\t\t    new CacheLoader&lt;String, List&lt;ChatMessage&gt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic List&lt;ChatMessage&gt; load(String key) throws Exception {\r\n\t\t\t\t\t\treturn conversations.get(key);\r\n\t\t\t\t\t}\r\n\t\t\t    });\r\n}\r\n\r\npublic static String generateChatResponse(User user, String prompt) {\r\n\tList&lt;ChatMessage&gt; conversation = conversations.getIfPresent(user.getId());\r\n\t\t\r\n\tif (conversation == null) {\r\n\t\tconversation = new ArrayList&lt;ChatMessage&gt;();\r\n\t\t\t\r\n\t\tChatMessage system = new ChatMessage();\r\n\t\tsystem.setRole(&quot;system&quot;);\r\n\t\tsystem.setContent(&quot;Omnis is a chatbot with sarcasm&quot;);\r\n\t\t\t\r\n\t\tconversation.add(system);\r\n\t}\r\n\r\n\t// Remaining code is unchanged\r\n}\r\n```","title":"How to clear Map entry after certain time of inactivity","body":"<p>I've added Guava to my project and replaced the Map with a LoadingCache object. It takes the same type of parameters and allows me to easily set the time before expiration.</p>\n<pre><code>private static LoadingCache&lt;String, List&lt;ChatMessage&gt;&gt; conversations;\n\npublic static void initializeOpenAi() {\n    service = new OpenAiService(Settings.OPENAI_ACCESS_KEY);\n        \n    conversations = CacheBuilder.newBuilder()\n            .maximumSize(10000)\n            .expireAfterWrite(2, TimeUnit.MINUTES)\n            .build(\n                new CacheLoader&lt;String, List&lt;ChatMessage&gt;&gt;() {\n                    @Override\n                    public List&lt;ChatMessage&gt; load(String key) throws Exception {\n                        return conversations.get(key);\n                    }\n                });\n}\n\npublic static String generateChatResponse(User user, String prompt) {\n    List&lt;ChatMessage&gt; conversation = conversations.getIfPresent(user.getId());\n        \n    if (conversation == null) {\n        conversation = new ArrayList&lt;ChatMessage&gt;();\n            \n        ChatMessage system = new ChatMessage();\n        system.setRole(&quot;system&quot;);\n        system.setContent(&quot;Omnis is a chatbot with sarcasm&quot;);\n            \n        conversation.add(system);\n    }\n\n    // Remaining code is unchanged\n}\n</code></pre>\n"}],"owner":{"account_id":11061002,"reputation":61,"user_id":10844972,"display_name":"Dylan Wedman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1677922861,"accepted_answer_id":75634654,"answer_count":2,"score":2,"last_activity_date":1677955488,"creation_date":1677868336,"question_id":75630689,"body_markdown":"I&#39;m working on a chatbot powered by OpenAI. I&#39;m using the new gpt-3.5-turbo model with ChatCompletion requests. I&#39;ve already come up with a way for the bot to remember conversations for each individual user using a HashMap and it all works. The bot is able to remember all the previous responses and generate a new response using the history as context. However, the more responses in the query, the more tokens that it&#39;ll use, increasing costs. I want make it where if there is a certain amount of inactivity (like 2 minutes of not talking to the bot), it&#39;ll clear the history and start a fresh new conversation to save on tokens. What would be the best way to accomplish this?\r\n\r\nHere is my code:\r\n\r\n```\r\nprivate static OpenAiService service;\r\n\t\r\nprivate static Map&lt;String, List&lt;ChatMessage&gt;&gt; conversations = new HashMap&lt;String, List&lt;ChatMessage&gt;&gt;();\r\n\t\t\t\r\npublic static void initializeOpenAi() {\r\n\tservice = new OpenAiService(Settings.OPENAI_ACCESS_KEY);\r\n}\r\n\r\npublic static String generateChatResponse(User user, String prompt) {\r\n\tList&lt;ChatMessage&gt; conversation;\r\n\t\t\r\n\tif (conversations.containsKey(user.getId())) {\r\n\t\tconversation = conversations.get(user.getId());\r\n\t} else {\r\n\t\tconversation = new ArrayList&lt;ChatMessage&gt;();\r\n\t}\r\n\t\t\r\n\tif (conversation.size() &lt; 1) {\r\n\t\tChatMessage system = new ChatMessage();\r\n\t\tsystem.setRole(&quot;system&quot;);\r\n\t\tsystem.setContent(&quot;Omnis is a chatbot with sarcasm&quot;);\r\n\t\tconversation.add(system);\r\n\t}\r\n\t\t\r\n\tChatMessage userPrompt = new ChatMessage();\r\n\tuserPrompt.setRole(&quot;user&quot;);\r\n\tuserPrompt.setContent(prompt);\r\n\tconversation.add(userPrompt);\r\n\t\t\r\n\tChatCompletionRequest chatRequest = ChatCompletionRequest.builder()\r\n\t\t\t.model(&quot;gpt-3.5-turbo&quot;)\r\n\t\t\t.maxTokens(1000)\r\n\t\t\t.temperature(0.9)\r\n\t\t\t.topP(0.3)\r\n\t\t\t.frequencyPenalty(0.9)\r\n\t\t\t.presencePenalty(0.0)\r\n\t\t\t.messages(conversation)\r\n\t\t\t.build();\r\n\t\t\r\n\tChatCompletionResult chatResult = null;\r\n\t\t\r\n\ttry {\r\n\t\tchatResult = service.createChatCompletion(chatRequest);\r\n\t} catch (Exception e) {\r\n\t\tSystem.out.println(&quot;An OpenAI request failed!&quot;);\r\n\t\t\t\r\n\t\tif (e.getMessage().contains(&quot;timeout&quot;)) {\r\n\t\t\treturn &quot;Your request timed out. Please try again after a breif wait for try a different request.&quot;;\r\n\t\t}\r\n\t\t\t\r\n\t\tif (e.getMessage().contains(&quot;Rate limit&quot;)) {\r\n\t\t\treturn &quot;Rate limit for chat requests has been reached!&quot;;\r\n\t\t}\r\n\t\t\t\r\n\t\treturn &quot;Something went wrong with your request. Cause of error is &quot; + e.getMessage();\r\n\t}\r\n\t\t\r\n\tif (chatResult != null) {\r\n\t\tSystem.out.println(&quot;Created chat completion request that used &quot; + chatResult.getUsage().getTotalTokens() + &quot; tokens with &quot; + chatResult.getModel());\r\n\t}\r\n\t\t\r\n\tString response = chatResult.getChoices().get(0).getMessage().getContent();\r\n\t\t\r\n\tChatMessage assistantPrompt = new ChatMessage();\r\n\tassistantPrompt.setRole(&quot;assistant&quot;);\r\n\tassistantPrompt.setContent(response);\r\n\tconversation.add(assistantPrompt);\r\n\t\t\r\n\tconversations.put(user.getId(), conversation);\r\n\t\t\r\n\treturn response;\r\n}\r\n```\r\nThe &quot;generateChatResonse&quot; method gets called each time a message is sent by a user. It get&#39;s the user&#39;s ID and pulls the conversation from the HashMap if it exists, if not it creates a new conversation.\r\n\r\nI don&#39;t know what to try.\r\n\r\nI don&#39;t want to clear the entire HashMap, just the entry associated with the inactive user.","title":"How to clear Map entry after certain time of inactivity","body":"<p>I'm working on a chatbot powered by OpenAI. I'm using the new gpt-3.5-turbo model with ChatCompletion requests. I've already come up with a way for the bot to remember conversations for each individual user using a HashMap and it all works. The bot is able to remember all the previous responses and generate a new response using the history as context. However, the more responses in the query, the more tokens that it'll use, increasing costs. I want make it where if there is a certain amount of inactivity (like 2 minutes of not talking to the bot), it'll clear the history and start a fresh new conversation to save on tokens. What would be the best way to accomplish this?</p>\n<p>Here is my code:</p>\n<pre><code>private static OpenAiService service;\n    \nprivate static Map&lt;String, List&lt;ChatMessage&gt;&gt; conversations = new HashMap&lt;String, List&lt;ChatMessage&gt;&gt;();\n            \npublic static void initializeOpenAi() {\n    service = new OpenAiService(Settings.OPENAI_ACCESS_KEY);\n}\n\npublic static String generateChatResponse(User user, String prompt) {\n    List&lt;ChatMessage&gt; conversation;\n        \n    if (conversations.containsKey(user.getId())) {\n        conversation = conversations.get(user.getId());\n    } else {\n        conversation = new ArrayList&lt;ChatMessage&gt;();\n    }\n        \n    if (conversation.size() &lt; 1) {\n        ChatMessage system = new ChatMessage();\n        system.setRole(&quot;system&quot;);\n        system.setContent(&quot;Omnis is a chatbot with sarcasm&quot;);\n        conversation.add(system);\n    }\n        \n    ChatMessage userPrompt = new ChatMessage();\n    userPrompt.setRole(&quot;user&quot;);\n    userPrompt.setContent(prompt);\n    conversation.add(userPrompt);\n        \n    ChatCompletionRequest chatRequest = ChatCompletionRequest.builder()\n            .model(&quot;gpt-3.5-turbo&quot;)\n            .maxTokens(1000)\n            .temperature(0.9)\n            .topP(0.3)\n            .frequencyPenalty(0.9)\n            .presencePenalty(0.0)\n            .messages(conversation)\n            .build();\n        \n    ChatCompletionResult chatResult = null;\n        \n    try {\n        chatResult = service.createChatCompletion(chatRequest);\n    } catch (Exception e) {\n        System.out.println(&quot;An OpenAI request failed!&quot;);\n            \n        if (e.getMessage().contains(&quot;timeout&quot;)) {\n            return &quot;Your request timed out. Please try again after a breif wait for try a different request.&quot;;\n        }\n            \n        if (e.getMessage().contains(&quot;Rate limit&quot;)) {\n            return &quot;Rate limit for chat requests has been reached!&quot;;\n        }\n            \n        return &quot;Something went wrong with your request. Cause of error is &quot; + e.getMessage();\n    }\n        \n    if (chatResult != null) {\n        System.out.println(&quot;Created chat completion request that used &quot; + chatResult.getUsage().getTotalTokens() + &quot; tokens with &quot; + chatResult.getModel());\n    }\n        \n    String response = chatResult.getChoices().get(0).getMessage().getContent();\n        \n    ChatMessage assistantPrompt = new ChatMessage();\n    assistantPrompt.setRole(&quot;assistant&quot;);\n    assistantPrompt.setContent(response);\n    conversation.add(assistantPrompt);\n        \n    conversations.put(user.getId(), conversation);\n        \n    return response;\n}\n</code></pre>\n<p>The &quot;generateChatResonse&quot; method gets called each time a message is sent by a user. It get's the user's ID and pulls the conversation from the HashMap if it exists, if not it creates a new conversation.</p>\n<p>I don't know what to try.</p>\n<p>I don't want to clear the entire HashMap, just the entry associated with the inactive user.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1677955680,"post_id":75637866,"comment_id":133440972,"body_markdown":"ok, can you show me code for solution, please?","body":"ok, can you show me code for solution, please?"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677955452,"creation_date":1677955452,"answer_id":75637866,"question_id":75637667,"body_markdown":"You are not asking Java to limit anything with regards to your check.\r\n\r\n    if (doc.indexOf(phrase) != -1) {\r\n\r\nYou are currently only asking it there is a simple match for the sting, substring or not, &quot;aus&quot; is even in p&#39;aus&#39;e.\r\n\r\nYou also have to check for it being at the end of the line or being followed by a delimiter (something like a &quot;,&quot; &quot;.&quot; or a space &quot; &quot;).","title":"Match whole words in a java list","body":"<p>You are not asking Java to limit anything with regards to your check.</p>\n<pre><code>if (doc.indexOf(phrase) != -1) {\n</code></pre>\n<p>You are currently only asking it there is a simple match for the sting, substring or not, &quot;aus&quot; is even in p'aus'e.</p>\n<p>You also have to check for it being at the end of the line or being followed by a delimiter (something like a &quot;,&quot; &quot;.&quot; or a space &quot; &quot;).</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677955452,"creation_date":1677953599,"question_id":75637667,"body_markdown":"I have this PostgreSQL table for storing words:\r\n\r\n    CREATE TABLE IF NOT EXISTS words\r\n    (\r\n        id bigint NOT NULL DEFAULT nextval(&#39;processed_words_id_seq&#39;::regclass),\r\n        keyword character varying(300) COLLATE pg_catalog.&quot;default&quot;,\r\n    );\r\n    \r\n    insert into words (keyword)\r\n    VALUES (&#39;while swam is interesting&#39;, \r\n            &#39;ibm is a company like bmw&#39;);\r\n    \r\n    CREATE TABLE IF NOT EXISTS trademarks\r\n    (\r\n       id bigint NOT NULL DEFAULT nextval(&#39;trademarks_id_seq&#39;::regclass),\r\n       trademark character varying(300) COLLATE pg_catalog.&quot;default&quot;,\r\n    );\r\n\r\n    insert into words (trademarks)\r\n    VALUES (&#39;while swam&#39;, \r\n            &#39;ibm&#39;,\r\n            &#39;bmw&#39;);\r\n\r\nInto table `trademarks` I will have thousands of registered trademarks names.\r\nI want to compare words stored into `words` table keyword, do they match not only for a words but also for word which is in a group of words. For example:\r\n\r\nI have a keyword `boonah qld australia` stored into `words.keyword`. I also have a trademark `aus` located in `trademarks.trademark` like `ibm` I have a word match, so I want to detect this using Java code. \r\n\r\nFirst I want to select all blacklisted keywords convert them in for example List and compare `ibm is a company like bmw` with elements from the list. How I can do this not only for one word but also for a expressions?\r\n\r\nsomething like this?\r\n\r\n    @Override\r\n    public void execute(JobExecutionContext context) {\r\n\r\n        Optional&lt;ProcessedWords&gt; keywords = processedWordsService.findRandomKeywordWhereTrademarkBlacklistedIsEmpty();\r\n\r\n        if(keywords.isPresent())\r\n        {\r\n            List&lt;BlacklistedWords&gt; blacklistedWords = blacklistedWordsService.findAll();\r\n            List&lt;String&gt; blacklistedWordslist = new ArrayList&lt;&gt;();\r\n            for(BlacklistedWords item:  blacklistedWords)\r\n            {\r\n                blacklistedWordslist.add(item.getKeyword());\r\n            }\r\n\r\n            ProcessedWords processedWords = keywords.get();\r\n            String keyword = processedWords.getKeyword();\r\n\r\n            System.out.println(&quot;Checking keyword: &quot; + keyword);\r\n\r\n            List&lt;String&gt; phrasesInDocument = findPhrasesInDocument(keyword, blacklistedWordslist);\r\n\r\n            if(!phrasesInDocument.isEmpty())\r\n            {\r\n                System.out.println(&quot;Found blacklisted word in keyword: &quot; + String.join(&quot;, &quot;, phrasesInDocument));\r\n\r\n                processedWordsService.updateTrademarkBlacklistedById(processedWords.getId(), String.join(&quot;, &quot;, phrasesInDocument));\r\n            }\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; findPhrasesInDocument(String doc, List&lt;String&gt; phrases) {\r\n        List&lt;String&gt; foundPhrases = new ArrayList&lt;&gt;();\r\n        for (String phrase : phrases) {\r\n            if (doc.indexOf(phrase) != -1) {\r\n                foundPhrases.add(phrase);\r\n            }\r\n        }\r\n        return foundPhrases;\r\n    }\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;trademarks&quot;)\r\n    public class BlacklistedWords implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;trademark&quot;, length = 200, unique = true)\r\n        private String keyword;\r\n    }\r\n\r\nAs a result from the above code I get this incorrect result:\r\n\r\nblacklisted word: `aus`. words to check: `boonah qld australia`. I get positive match which is incorrect. I don&#39;t want to match partial word. I need the whole words to match.\r\n\r\nCan you guide me how this can be implemented?\r\n\r\n","title":"Match whole words in a java list","body":"<p>I have this PostgreSQL table for storing words:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS words\n(\n    id bigint NOT NULL DEFAULT nextval('processed_words_id_seq'::regclass),\n    keyword character varying(300) COLLATE pg_catalog.&quot;default&quot;,\n);\n\ninsert into words (keyword)\nVALUES ('while swam is interesting', \n        'ibm is a company like bmw');\n\nCREATE TABLE IF NOT EXISTS trademarks\n(\n   id bigint NOT NULL DEFAULT nextval('trademarks_id_seq'::regclass),\n   trademark character varying(300) COLLATE pg_catalog.&quot;default&quot;,\n);\n\ninsert into words (trademarks)\nVALUES ('while swam', \n        'ibm',\n        'bmw');\n</code></pre>\n<p>Into table <code>trademarks</code> I will have thousands of registered trademarks names.\nI want to compare words stored into <code>words</code> table keyword, do they match not only for a words but also for word which is in a group of words. For example:</p>\n<p>I have a keyword <code>boonah qld australia</code> stored into <code>words.keyword</code>. I also have a trademark <code>aus</code> located in <code>trademarks.trademark</code> like <code>ibm</code> I have a word match, so I want to detect this using Java code.</p>\n<p>First I want to select all blacklisted keywords convert them in for example List and compare <code>ibm is a company like bmw</code> with elements from the list. How I can do this not only for one word but also for a expressions?</p>\n<p>something like this?</p>\n<pre><code>@Override\npublic void execute(JobExecutionContext context) {\n\n    Optional&lt;ProcessedWords&gt; keywords = processedWordsService.findRandomKeywordWhereTrademarkBlacklistedIsEmpty();\n\n    if(keywords.isPresent())\n    {\n        List&lt;BlacklistedWords&gt; blacklistedWords = blacklistedWordsService.findAll();\n        List&lt;String&gt; blacklistedWordslist = new ArrayList&lt;&gt;();\n        for(BlacklistedWords item:  blacklistedWords)\n        {\n            blacklistedWordslist.add(item.getKeyword());\n        }\n\n        ProcessedWords processedWords = keywords.get();\n        String keyword = processedWords.getKeyword();\n\n        System.out.println(&quot;Checking keyword: &quot; + keyword);\n\n        List&lt;String&gt; phrasesInDocument = findPhrasesInDocument(keyword, blacklistedWordslist);\n\n        if(!phrasesInDocument.isEmpty())\n        {\n            System.out.println(&quot;Found blacklisted word in keyword: &quot; + String.join(&quot;, &quot;, phrasesInDocument));\n\n            processedWordsService.updateTrademarkBlacklistedById(processedWords.getId(), String.join(&quot;, &quot;, phrasesInDocument));\n        }\n    }\n}\n\nList&lt;String&gt; findPhrasesInDocument(String doc, List&lt;String&gt; phrases) {\n    List&lt;String&gt; foundPhrases = new ArrayList&lt;&gt;();\n    for (String phrase : phrases) {\n        if (doc.indexOf(phrase) != -1) {\n            foundPhrases.add(phrase);\n        }\n    }\n    return foundPhrases;\n}\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@Entity\n@Table(name = &quot;trademarks&quot;)\npublic class BlacklistedWords implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, updatable = false, nullable = false)\n    private long id;\n\n    @Column(name = &quot;trademark&quot;, length = 200, unique = true)\n    private String keyword;\n}\n</code></pre>\n<p>As a result from the above code I get this incorrect result:</p>\n<p>blacklisted word: <code>aus</code>. words to check: <code>boonah qld australia</code>. I get positive match which is incorrect. I don't want to match partial word. I need the whole words to match.</p>\n<p>Can you guide me how this can be implemented?</p>\n"},{"tags":["java","oracle","spring-boot","stored-procedures"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":3,"creation_date":1677963439,"post_id":75637862,"comment_id":133442291,"body_markdown":"How to you compare the execution time? Are you sure you don&#39;t include the connection time when measuring the Spring version?","body":"How to you compare the execution time? Are you sure you don&#39;t include the connection time when measuring the Spring version?"},{"owner":{"account_id":4386989,"reputation":91,"user_id":3576813,"accept_rate":100,"display_name":"Brett"},"score":0,"creation_date":1677966613,"post_id":75637862,"comment_id":133442830,"body_markdown":"@p3consulting I am simply using Spring StopWatch to see how long it takes to run saveOrUpdate in ExampleRepository. I am also running it a few times, to ensure the app has already made a connection. It gets triggered from an API call, so I am not including the time it takes to start up the app. And maybe this is where I am confused, but I thought by setting the connection pool, that it would hold the connection. Please let me know if this is not the case and if I am missing something","body":"@p3consulting I am simply using Spring StopWatch to see how long it takes to run saveOrUpdate in ExampleRepository. I am also running it a few times, to ensure the app has already made a connection. It gets triggered from an API call, so I am not including the time it takes to start up the app. And maybe this is where I am confused, but I thought by setting the connection pool, that it would hold the connection. Please let me know if this is not the case and if I am missing something"},{"owner":{"account_id":9956609,"reputation":10676,"user_id":7367293,"display_name":"Connor McDonald"},"score":2,"creation_date":1678073793,"post_id":75637862,"comment_id":133456547,"body_markdown":"Some connection pool managers wont setup the pool until you make the first call, so perhaps measure first, second, etc calls to see if connection is indeed playing a part.","body":"Some connection pool managers wont setup the pool until you make the first call, so perhaps measure first, second, etc calls to see if connection is indeed playing a part."},{"owner":{"account_id":9956609,"reputation":10676,"user_id":7367293,"display_name":"Connor McDonald"},"score":1,"creation_date":1678073959,"post_id":75637862,"comment_id":133456567,"body_markdown":"Also, I know its just sample code, but if the &quot;check if exists, then insert or update&quot; template is truly representative of your code, then be aware that your code is still at risk if two or more instances of the program both run the code with a non-existent value. They&#39;ll both see &quot;no existing row&quot; and both insert the same non-PK values, each one now having a new sequence ID.","body":"Also, I know its just sample code, but if the &quot;check if exists, then insert or update&quot; template is truly representative of your code, then be aware that your code is still at risk if two or more instances of the program both run the code with a non-existent value. They&#39;ll both see &quot;no existing row&quot; and both insert the same non-PK values, each one now having a new sequence ID."},{"owner":{"account_id":9956609,"reputation":10676,"user_id":7367293,"display_name":"Connor McDonald"},"score":1,"creation_date":1678074033,"post_id":75637862,"comment_id":133456580,"body_markdown":"Also, &quot;set row&quot; for an update (whilst convenient) will also set the PK columns to itself, which has implications if your table is a parent table in a parent-child foreign key.  You might consider looking at a MERGE command to make the routine a LOT smaller","body":"Also, &quot;set row&quot; for an update (whilst convenient) will also set the PK columns to itself, which has implications if your table is a parent table in a parent-child foreign key.  You might consider looking at a MERGE command to make the routine a LOT smaller"},{"owner":{"account_id":9956609,"reputation":10676,"user_id":7367293,"display_name":"Connor McDonald"},"score":1,"creation_date":1678074101,"post_id":75637862,"comment_id":133456591,"body_markdown":"And if you can eliminate connection time (and its still slow), throw a sql trace on the executions. It might be the driver doing something querying the dictionary to validate the stored proc parameters etc","body":"And if you can eliminate connection time (and its still slow), throw a sql trace on the executions. It might be the driver doing something querying the dictionary to validate the stored proc parameters etc"},{"owner":{"account_id":1685330,"reputation":61,"user_id":1548760,"display_name":"rotimislaw"},"score":0,"creation_date":1679158594,"post_id":75637862,"comment_id":133673116,"body_markdown":"Which jdk you use with your SQL Developer? Maybe it differs from SpringBoot ojdbc11?","body":"Which jdk you use with your SQL Developer? Maybe it differs from SpringBoot ojdbc11?"}],"owner":{"account_id":4386989,"reputation":91,"user_id":3576813,"accept_rate":100,"display_name":"Brett"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677955404,"creation_date":1677955404,"question_id":75637862,"body_markdown":"I have several stored procedures, doing a simple insert or update, that runs almost instantly when ran from Oracle SQLdeveloper, but when calling the same stored procedures from a Spring Boot application, it can take about 2 seconds or more. \r\n\r\nWhat could my issue be within my Spring Boot application, causing it to run so much slower than when called by Oracle SQLdeveloper?\r\n\r\nUsing ojdbc11-production.\r\n\r\nExample below of a stored procedure.\r\n\r\n    create or replace PACKAGE BODY EXAMPLE_PACKAGE AS\r\n    \r\n    CURSOR c_readexisting(i_id NUMBER) \t\t\t\t\t\t\r\n            RETURN EXAMPLE%ROWTYPE is\t\t\t\t\t\t\r\n            SELECT * FROM EXAMPLE\t\t\t\t\t\t\r\n            where id = i_id\t\t\t\t\r\n            for update;\r\n    \r\n    PROCEDURE saveOrUpdate(\r\n        i_id NUMBER,\r\n    \ti_name varchar2,\r\n        i_numbertest BINARY_DOUBLE,\r\n        i_prompted NUMBER,\r\n        i_captured NUMBER,\r\n        out_id OUT number) is\r\n          v_new EXAMPLE%ROWTYPE;\r\n          v_existing EXAMPLE%ROWTYPE;\r\n    \r\n        BEGIN\r\n    \r\n        open c_readexisting (i_id);\t\t\t\t\t\t\r\n          fetch c_readexisting into v_existing;\t\t\t\t\t\t\t\t\r\n    \r\n        if c_readexisting%notfound then\r\n    \r\n            v_new.id := HIBERNATE_SEQUENCE.nextval;\r\n            v_new.version := 0;\r\n            v_new.name := i_name;\r\n    \t\tv_new.numbertest := i_numbertest;\r\n    \t\tv_new.prompted := i_prompted;\r\n    \t\tv_new.captured := i_captured;\r\n    \r\n          insert into EXAMPLE values v_new;\r\n    \r\n          out_id := v_new.id;\r\n    \r\n          close c_readexisting;\r\n    \r\n        else\r\n    \r\n          v_existing.version := v_existing.version + 1;\r\n    \t  v_existing.name := i_name;\r\n    \t  v_existing.numbertest := i_numbertest;\r\n    \t  v_existing.prompted := i_prompted;\r\n    \t  v_existing.captured := i_captured;\r\n    \r\n          update EXAMPLE set row = v_existing where id = v_existing.id;\r\n    \r\n          out_id := v_existing.id;\r\n    \r\n          close c_readexisting;\t\t\t\t\t\t\r\n    \r\n        end if;\r\n    \r\n        EXCEPTION\t\t\t\t\t\t\r\n    \r\n          WHEN OTHERS THEN\t\t\t\t\t\t\r\n    \r\n            IF c_readexisting%ISOPEN THEN\t\t\t\t\t\t\r\n              CLOSE c_readexisting;\t\t\t\t\t\t\r\n            END IF;\t\t\t\t\t\t\r\n              dbms_output.put_line(DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);\t\t\t\t\t\t\r\n            RAISE;\t\r\n    \r\n        END;\r\n    \r\n    END EXAMPLE_PACKAGE;\r\n\r\nCurrent datasource in my application.yml\r\n\r\n    datasource:\r\n        url: URL\r\n        username: USER\r\n        password: PASSWORD\r\n        driver-class-name: oracle.jdbc.driver.OracleDriver\r\n        type: oracle.ucp.jdbc.PoolDataSource\r\n        oracleucp:\r\n          connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\r\n          min-pool-size: 20\r\n          max-pool-size: 20\r\n          max-idle-time: 300000\r\n          initial-pool-size: 20\r\n          fast-connection-failover-enabled: true\r\n\r\nAnd Repository class.\r\n\r\n    @Repository\r\n    public class ExampleRepository {\r\n    \r\n        private final JdbcTemplate jdbcTemplate;\r\n    \r\n        @Autowired\r\n        public ExampleRepository(DataSource dataSource) {\r\n            this.jdbcTemplate = new JdbcTemplate(dataSource);\r\n            jdbcTemplate.setResultsMapCaseInsensitive(true);\r\n        } \r\n     \r\n        public Long saveOrUpdate(Example example) {\r\n    \r\n                SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\r\n                    .withCatalogName(&quot;EXAMPLE_PACKAGE&quot;)\r\n                    .withProcedureName(&quot;saveOrUpdate&quot;);\r\n    \r\n                SqlParameterSource mapSqlParameter = new MapSqlParameterSource(example.getMapForProcedure());\r\n                \r\n                Map&lt;String, Object&gt; out = simpleJdbcCall.execute(mapSqlParameter);\r\n    \r\n                var stopId = (BigDecimal)out.get(&quot;out_id&quot;);\r\n    \r\n                return stopId.longValue();\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Stored Procedure Fast in Oracle SQLdeveloper, But Slow in Java Spring Boot","body":"<p>I have several stored procedures, doing a simple insert or update, that runs almost instantly when ran from Oracle SQLdeveloper, but when calling the same stored procedures from a Spring Boot application, it can take about 2 seconds or more.</p>\n<p>What could my issue be within my Spring Boot application, causing it to run so much slower than when called by Oracle SQLdeveloper?</p>\n<p>Using ojdbc11-production.</p>\n<p>Example below of a stored procedure.</p>\n<pre><code>create or replace PACKAGE BODY EXAMPLE_PACKAGE AS\n\nCURSOR c_readexisting(i_id NUMBER)                      \n        RETURN EXAMPLE%ROWTYPE is                       \n        SELECT * FROM EXAMPLE                       \n        where id = i_id             \n        for update;\n\nPROCEDURE saveOrUpdate(\n    i_id NUMBER,\n    i_name varchar2,\n    i_numbertest BINARY_DOUBLE,\n    i_prompted NUMBER,\n    i_captured NUMBER,\n    out_id OUT number) is\n      v_new EXAMPLE%ROWTYPE;\n      v_existing EXAMPLE%ROWTYPE;\n\n    BEGIN\n\n    open c_readexisting (i_id);                     \n      fetch c_readexisting into v_existing;                             \n\n    if c_readexisting%notfound then\n\n        v_new.id := HIBERNATE_SEQUENCE.nextval;\n        v_new.version := 0;\n        v_new.name := i_name;\n        v_new.numbertest := i_numbertest;\n        v_new.prompted := i_prompted;\n        v_new.captured := i_captured;\n\n      insert into EXAMPLE values v_new;\n\n      out_id := v_new.id;\n\n      close c_readexisting;\n\n    else\n\n      v_existing.version := v_existing.version + 1;\n      v_existing.name := i_name;\n      v_existing.numbertest := i_numbertest;\n      v_existing.prompted := i_prompted;\n      v_existing.captured := i_captured;\n\n      update EXAMPLE set row = v_existing where id = v_existing.id;\n\n      out_id := v_existing.id;\n\n      close c_readexisting;                     \n\n    end if;\n\n    EXCEPTION                       \n\n      WHEN OTHERS THEN                      \n\n        IF c_readexisting%ISOPEN THEN                       \n          CLOSE c_readexisting;                     \n        END IF;                     \n          dbms_output.put_line(DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);                        \n        RAISE;  \n\n    END;\n\nEND EXAMPLE_PACKAGE;\n</code></pre>\n<p>Current datasource in my application.yml</p>\n<pre><code>datasource:\n    url: URL\n    username: USER\n    password: PASSWORD\n    driver-class-name: oracle.jdbc.driver.OracleDriver\n    type: oracle.ucp.jdbc.PoolDataSource\n    oracleucp:\n      connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\n      min-pool-size: 20\n      max-pool-size: 20\n      max-idle-time: 300000\n      initial-pool-size: 20\n      fast-connection-failover-enabled: true\n</code></pre>\n<p>And Repository class.</p>\n<pre><code>@Repository\npublic class ExampleRepository {\n\n    private final JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public ExampleRepository(DataSource dataSource) {\n        this.jdbcTemplate = new JdbcTemplate(dataSource);\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\n    } \n \n    public Long saveOrUpdate(Example example) {\n\n            SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate)\n                .withCatalogName(&quot;EXAMPLE_PACKAGE&quot;)\n                .withProcedureName(&quot;saveOrUpdate&quot;);\n\n            SqlParameterSource mapSqlParameter = new MapSqlParameterSource(example.getMapForProcedure());\n            \n            Map&lt;String, Object&gt; out = simpleJdbcCall.execute(mapSqlParameter);\n\n            var stopId = (BigDecimal)out.get(&quot;out_id&quot;);\n\n            return stopId.longValue();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","architecture","horizontal-scaling"],"comments":[{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":0,"creation_date":1564327298,"post_id":57242227,"comment_id":100985564,"body_markdown":"As far as I know, MySQL can be run in a cluster as well. What about that?","body":"As far as I know, MySQL can be run in a cluster as well. What about that?"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1564327367,"post_id":57242227,"comment_id":100985578,"body_markdown":"Mysql is used everywhere like youtube, fb etc. Why do you think its a bottleneck?","body":"Mysql is used everywhere like youtube, fb etc. Why do you think its a bottleneck?"},{"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"score":0,"creation_date":1564327654,"post_id":57242227,"comment_id":100985644,"body_markdown":"@SMA In my design,it starts becoming a bottleneck, this is why i have mentioned a proposed design approach . Like i can use a single table which maintains lets say a common key for each request in db and then using select for update to lock the row, so that if another request from other server comes, it  can see that a request is currently on going .","body":"@SMA In my design,it starts becoming a bottleneck, this is why i have mentioned a proposed design approach . Like i can use a single table which maintains lets say a common key for each request in db and then using select for update to lock the row, so that if another request from other server comes, it  can see that a request is currently on going ."},{"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"score":0,"creation_date":1564327715,"post_id":57242227,"comment_id":100985669,"body_markdown":"@Glains I will check out Mysql cluster although i am looking for more of a combined java and db design approach solution","body":"@Glains I will check out Mysql cluster although i am looking for more of a combined java and db design approach solution"}],"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677955258,"creation_date":1564327056,"question_id":57242227,"body_markdown":"&gt; What class and database design approach should I take to make\r\n&gt; horizontally scalable Spring Java Mysql application ?\r\n\r\n**Background**  : I have been developing projects in Spring java Mysql db from a long time. One thing i always start stumbling upon is when i have to design my application such that it can be scaled up in a horizontal manner. ’N’ number of servers having a common database ,maintaining transactions using data using common db . The problem with this is DB becomes a bottleneck and at this point, Mysql really goes out of options. Kindly help or guide me for improving this\r\n","title":"Class and Database Design for Horizontal Scaling","body":"<blockquote>\n  <p>What class and database design approach should I take to make\n  horizontally scalable Spring Java Mysql application ?</p>\n</blockquote>\n\n<p><strong>Background</strong>  : I have been developing projects in Spring java Mysql db from a long time. One thing i always start stumbling upon is when i have to design my application such that it can be scaled up in a horizontal manner. ’N’ number of servers having a common database ,maintaining transactions using data using common db . The problem with this is DB becomes a bottleneck and at this point, Mysql really goes out of options. Kindly help or guide me for improving this</p>\n"},{"tags":["java","android","android-activity","fragment"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":3,"creation_date":1351163404,"post_id":13067033,"comment_id":17748926,"body_markdown":"my 2 cents: static Context field is bad, mkay ... and name convetion ... try to not use only small letters in class names &#39;tabsmain&#39; =&gt; &#39;TabsMain&#39; ... it ok to name var (like: `TabsMain tabsmain = null;`) but when you wana use this class like in David M answer it&#39;s hard to know if tabsmain is class name or var ... look t Android SDK classes, java classes they always use first upper","body":"my 2 cents: static Context field is bad, mkay ... and name convetion ... try to not use only small letters in class names &#39;tabsmain&#39; =&gt; &#39;TabsMain&#39; ... it ok to name var (like: <code>TabsMain tabsmain = null;</code>) but when you wana use this class like in David M answer it&#39;s hard to know if tabsmain is class name or var ... look t Android SDK classes, java classes they always use first upper"},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":2,"creation_date":1481711565,"post_id":13067033,"comment_id":69483394,"body_markdown":"I hope you&#39;ve been to one or two variable naming conventions since you posted this :)","body":"I hope you&#39;ve been to one or two variable naming conventions since you posted this :)"},{"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"score":0,"creation_date":1539253059,"post_id":13067033,"comment_id":92438378,"body_markdown":"I agree with Selvin. Java world is very particular about naming convention. Please see https://www.javatpoint.com/java-naming-conventions. Thanks for the answer.","body":"I agree with Selvin. Java world is very particular about naming convention. Please see <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a>. Thanks for the answer."}],"answers":[{"comments":[{"owner":{"account_id":261146,"reputation":6032,"user_id":545132,"accept_rate":81,"display_name":"Syntax_Error"},"score":0,"creation_date":1351172089,"post_id":13067109,"comment_id":17753101,"body_markdown":"this will only help in reading the variables for the object xxx. However, if I want to read the same variables in the other fragment it wont work.","body":"this will only help in reading the variables for the object xxx. However, if I want to read the same variables in the other fragment it wont work."},{"owner":{"account_id":293854,"reputation":439,"user_id":597409,"accept_rate":25,"display_name":"Arjun Bora"},"score":0,"creation_date":1404835330,"post_id":13067109,"comment_id":38184475,"body_markdown":"i could change it as well.\nimprovement : you can you directly as tabsmain.lf_ch\nyou can change as tabsmain.lf_ch=new_value","body":"i could change it as well. improvement : you can you directly as tabsmain.lf_ch you can change as tabsmain.lf_ch=new_value"}],"tags":[],"owner":{"account_id":1465622,"reputation":2511,"user_id":1378549,"display_name":"David M"},"comment_count":2,"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1351163183,"creation_date":1351162715,"answer_id":13067109,"question_id":13067033,"body_markdown":"Try this:\r\n\r\n    public View onCreateView(...){\r\n      tabsmain xxx = (tabsmain)getActivity();\r\n      lc.setChecked(xxx.lf_ch);\r\n    }","title":"How to access Activity Variables from a fragment Android","body":"<p>Try this:</p>\n\n<pre><code>public View onCreateView(...){\n  tabsmain xxx = (tabsmain)getActivity();\n  lc.setChecked(xxx.lf_ch);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314869,"reputation":2785,"user_id":630313,"accept_rate":53,"display_name":"Sumant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351162858,"creation_date":1351162858,"answer_id":13067161,"question_id":13067033,"body_markdown":"try `tabsmain.appContext.lf_ch` will give u value of that variable.\r\n\r\nAlso in that activity set `appContext = this`","title":"How to access Activity Variables from a fragment Android","body":"<p>try <code>tabsmain.appContext.lf_ch</code> will give u value of that variable.</p>\n\n<p>Also in that activity set <code>appContext = this</code></p>\n"},{"comments":[{"owner":{"account_id":2132725,"reputation":11844,"user_id":1893164,"accept_rate":57,"display_name":"Al Sweigart"},"score":0,"creation_date":1426443195,"post_id":16971683,"comment_id":46364494,"body_markdown":"I&#39;m not sure I follow. If lf_ch isn&#39;t in the tabsmain class, where is it?","body":"I&#39;m not sure I follow. If lf_ch isn&#39;t in the tabsmain class, where is it?"}],"tags":[],"owner":{"account_id":2867222,"reputation":1,"user_id":2461300,"display_name":"luchito"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370552411,"creation_date":1370550897,"answer_id":16971683,"question_id":13067033,"body_markdown":"try this\r\n\r\n\r\n    public boolean lf_ch=false;\r\n    public class tabsmain extends Activity{\r\n \r\n        public static Context appContext;\r\n        public void onCreate(Bundle savedInstanceState){","title":"How to access Activity Variables from a fragment Android","body":"<p>try this</p>\n\n<pre><code>public boolean lf_ch=false;\npublic class tabsmain extends Activity{\n\n    public static Context appContext;\n    public void onCreate(Bundle savedInstanceState){\n</code></pre>\n"},{"comments":[{"owner":{"account_id":559000,"reputation":374,"user_id":720930,"accept_rate":70,"display_name":"Hidde"},"score":4,"creation_date":1408791538,"post_id":17559091,"comment_id":39731164,"body_markdown":"Do not just switch variables from non-static to static, only with a valid reason.","body":"Do not just switch variables from non-static to static, only with a valid reason."}],"tags":[],"owner":{"account_id":3026384,"reputation":55,"user_id":2566302,"display_name":"stalker"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1373408006,"creation_date":1373407407,"answer_id":17559091,"question_id":13067033,"body_markdown":"Change:\r\n`public boolean lf_ch=false;` to: `public static boolean lf_ch=false;`\r\nYou can access/change the value with: `tabsmain.lf_ch` ","title":"How to access Activity Variables from a fragment Android","body":"<p>Change:\n<code>public boolean lf_ch=false;</code> to: <code>public static boolean lf_ch=false;</code>\nYou can access/change the value with: <code>tabsmain.lf_ch</code> </p>\n"},{"tags":[],"owner":{"account_id":3692244,"reputation":747,"user_id":3074579,"display_name":"Vigneshwaran Murugesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1392788795,"creation_date":1392788795,"answer_id":21872123,"question_id":13067033,"body_markdown":"You could try the following method:\r\n\r\n    lc.setChecked(((yourpackagename)getActivity()).lf_ch);\r\n\r\n","title":"How to access Activity Variables from a fragment Android","body":"<p>You could try the following method:</p>\n\n<pre><code>lc.setChecked(((yourpackagename)getActivity()).lf_ch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3826709,"reputation":2943,"user_id":3173384,"display_name":"Penzzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1438868155,"creation_date":1438868155,"answer_id":31857264,"question_id":13067033,"body_markdown":"Another way to get data from activity is to access activity&#39;s intent via:\r\n\r\n    getActivity.getIntent().getExtras();\r\n\r\nand etc.\r\n\r\nIt can be useful if you starts activity with fragment in xml, and would like to control somehow fragment&#39;s onCreate() behavior.\r\n\r\nPS: of cause you should firstly put something to intent \r\n\r\n ","title":"How to access Activity Variables from a fragment Android","body":"<p>Another way to get data from activity is to access activity's intent via:</p>\n\n<pre><code>getActivity.getIntent().getExtras();\n</code></pre>\n\n<p>and etc.</p>\n\n<p>It can be useful if you starts activity with fragment in xml, and would like to control somehow fragment's onCreate() behavior.</p>\n\n<p>PS: of cause you should firstly put something to intent </p>\n"},{"comments":[{"owner":{"account_id":6711296,"reputation":501,"user_id":5174638,"display_name":"Mark Dail"},"score":0,"creation_date":1458745320,"post_id":36139523,"comment_id":59998582,"body_markdown":"No problem. Glad to help. If it wasn&#39;t for the help I&#39;ve gotten here I never would have finished any projects. Just thought I would give back since I could.","body":"No problem. Glad to help. If it wasn&#39;t for the help I&#39;ve gotten here I never would have finished any projects. Just thought I would give back since I could."},{"owner":{"account_id":6939736,"reputation":1514,"user_id":5326518,"accept_rate":25,"display_name":"S bruce"},"score":3,"creation_date":1458769169,"post_id":36139523,"comment_id":60013550,"body_markdown":"...so true! :D ...Thumbs up to stackoverflow team and every one who take the time to give back to the community! :D","body":"...so true! :D ...Thumbs up to stackoverflow team and every one who take the time to give back to the community! :D"},{"owner":{"account_id":5334382,"reputation":2337,"user_id":4253952,"display_name":"Aba"},"score":1,"creation_date":1506389743,"post_id":36139523,"comment_id":79790796,"body_markdown":"I&#39;ve been using the same method and it seems to work fine. But as I see a lot of recommendations to use an interface between activity &amp; fragments, I&#39;ve been wondering if this is really &quot;okay&quot; to do, knowing that my fragments are really meant to only be used with that one activity.","body":"I&#39;ve been using the same method and it seems to work fine. But as I see a lot of recommendations to use an interface between activity &amp; fragments, I&#39;ve been wondering if this is really &quot;okay&quot; to do, knowing that my fragments are really meant to only be used with that one activity."},{"owner":{"account_id":6711296,"reputation":501,"user_id":5174638,"display_name":"Mark Dail"},"score":2,"creation_date":1506611171,"post_id":36139523,"comment_id":79899961,"body_markdown":"I&#39;ve had an app in the app store that uses this method. The app has been there for a year now and I have seen no failures that have been caused by doing it this way. As with yours my fragments are used with one activity. I guess if you wanted to use a fragment with more than one activity or visa versa using an interface would be the way to go, in fact to do it this way you have to know exactly what activity the fragment is in. If you tried to use this method putting a fragment into with more than one activity it wouldn&#39;t work.","body":"I&#39;ve had an app in the app store that uses this method. The app has been there for a year now and I have seen no failures that have been caused by doing it this way. As with yours my fragments are used with one activity. I guess if you wanted to use a fragment with more than one activity or visa versa using an interface would be the way to go, in fact to do it this way you have to know exactly what activity the fragment is in. If you tried to use this method putting a fragment into with more than one activity it wouldn&#39;t work."}],"tags":[],"owner":{"account_id":6711296,"reputation":501,"user_id":5174638,"display_name":"Mark Dail"},"comment_count":4,"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1677955030,"creation_date":1458587079,"answer_id":36139523,"question_id":13067033,"body_markdown":"I know this is an old question, however here is an easier answer that work without jumping through any hoops. In your `Fragment`, define a variable that would reference the parent `Activity`. Then in the `Fragment`&#39;s `onCreateView`, connect the variable to the `Activity` and then you have a reference that you can use to get any public variable in the `MainActivity`. I had forgotten it when I ended up here. It&#39;s a little hard to do the other way as you need to find the exact fragment that is showing. However with this you shouldn&#39;t need to do it the other way, because you can easily pass things back and forth. I hope this help anyone that comes across it. \r\n\r\n    public Quiz_Avtivity mainQuiz;\r\n    @Override\r\n\tpublic View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\r\n    ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_quiz, container, false);\r\n    \r\n    mainQuiz = (Quiz_Avtivity) getActivity();\r\n    //Below is where you get a variable from the main activity\r\n    mainQuiz.AnyPublicVariable = whatEver;\r\n    //also\r\n    whatEver = mainQuiz.AnyPublicVariable\r\n\r\n\r\n","title":"How to access Activity Variables from a fragment Android","body":"<p>I know this is an old question, however here is an easier answer that work without jumping through any hoops. In your <code>Fragment</code>, define a variable that would reference the parent <code>Activity</code>. Then in the <code>Fragment</code>'s <code>onCreateView</code>, connect the variable to the <code>Activity</code> and then you have a reference that you can use to get any public variable in the <code>MainActivity</code>. I had forgotten it when I ended up here. It's a little hard to do the other way as you need to find the exact fragment that is showing. However with this you shouldn't need to do it the other way, because you can easily pass things back and forth. I hope this help anyone that comes across it.</p>\n<pre><code>public Quiz_Avtivity mainQuiz;\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {\nViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_quiz, container, false);\n\nmainQuiz = (Quiz_Avtivity) getActivity();\n//Below is where you get a variable from the main activity\nmainQuiz.AnyPublicVariable = whatEver;\n//also\nwhatEver = mainQuiz.AnyPublicVariable\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5334382,"reputation":2337,"user_id":4253952,"display_name":"Aba"},"score":0,"creation_date":1506389786,"post_id":44280246,"comment_id":79790808,"body_markdown":"That would work if you&#39;re looking to get the views from activity&#39;s layout.","body":"That would work if you&#39;re looking to get the views from activity&#39;s layout."}],"tags":[],"owner":{"account_id":5801564,"reputation":737,"user_id":4575580,"display_name":"Ashish Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496221317,"creation_date":1496221317,"answer_id":44280246,"question_id":13067033,"body_markdown":"Try Something like this:\r\n\r\n        ViewPager mViewPager = (ViewPager) getActivity().findViewById(R.id.m_view_pager);","title":"How to access Activity Variables from a fragment Android","body":"<p>Try Something like this:</p>\n\n<pre><code>    ViewPager mViewPager = (ViewPager) getActivity().findViewById(R.id.m_view_pager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932091,"reputation":191,"user_id":5321270,"display_name":"Sanjay Goswami"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531825902,"creation_date":1531825902,"answer_id":51379973,"question_id":13067033,"body_markdown":"take Activity value in fragment.\r\n\r\n((MainActivity) getActivity()).mGoogleApiClient;","title":"How to access Activity Variables from a fragment Android","body":"<p>take Activity value in fragment.</p>\n\n<p>((MainActivity) getActivity()).mGoogleApiClient;</p>\n"},{"comments":[{"owner":{"account_id":10945532,"reputation":4337,"user_id":8043806,"display_name":"Giddy Naya"},"score":3,"creation_date":1584453928,"post_id":54389354,"comment_id":107437272,"body_markdown":"This is the best and safest approach and should have been the accepted answer. The other answers doesn&#39;t follow android guidelines which states &quot;Fragments are meant to be re-usable and having to cast `getActivity` to a specific activity class is a bad practice because it limits it&#39;s usage to that activity and will throw NPE of any other&quot;.","body":"This is the best and safest approach and should have been the accepted answer. The other answers doesn&#39;t follow android guidelines which states &quot;Fragments are meant to be re-usable and having to cast <code>getActivity</code> to a specific activity class is a bad practice because it limits it&#39;s usage to that activity and will throw NPE of any other&quot;."},{"owner":{"account_id":2689662,"reputation":435,"user_id":2323252,"display_name":"Fer B."},"score":0,"creation_date":1591451227,"post_id":54389354,"comment_id":110063482,"body_markdown":"Excellent response! One question: Doesn&#39;t need tabsmain Activity to add &quot;Implements MyResultReceiver&quot; to implement it? because it actually define the getResult() method, but I can&#39;t see why says @Override if the interface is not implemented...\nI just ask because I&#39;m learning Java, and I&#39;m not sure if it is correct what I&#39;m saying.","body":"Excellent response! One question: Doesn&#39;t need tabsmain Activity to add &quot;Implements MyResultReceiver&quot; to implement it? because it actually define the getResult() method, but I can&#39;t see why says @Override if the interface is not implemented... I just ask because I&#39;m learning Java, and I&#39;m not sure if it is correct what I&#39;m saying."},{"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"score":1,"creation_date":1591461088,"post_id":54389354,"comment_id":110067107,"body_markdown":"Yes, the activity should implement it. Good catch @FerB. Updated my code","body":"Yes, the activity should implement it. Good catch @FerB. Updated my code"}],"tags":[],"owner":{"account_id":5981137,"reputation":17327,"user_id":4700156,"accept_rate":64,"display_name":"Rohit Singh"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591461020,"creation_date":1548600349,"answer_id":54389354,"question_id":13067033,"body_markdown":"#Make a generic Result receiver\r\n[![enter image description here][1]][1]         \r\n\r\nYou can create an interface for this task which would fetch a String data from any Activity to your Fragment. Follow these steps.\r\n\r\n  \r\n**Create an interface**       \r\n\r\n    public interface MyResultReceiver{\r\n\r\n          public String getResult();     \r\n\r\n    } \r\n \r\n**Make `MyResultReceiver` a member of your Fragment** \r\n\r\n    public class tabquests extends Fragment{ \r\n\r\n        public CheckBox lc;\r\n        public MyResultReceiver resultreceiver;\r\n\r\n        @Override\r\n        public void onAttach(Context context){\r\n             super.onAttach(cotext);\r\n             resultreceiver = (MyResultReceiver)context;\r\n        }\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)//onCreateView\r\n        { \r\n              \r\n               YourFragment code code\r\n               \r\n               Boolean result = resultreceiver.getResult();\r\n               lc.setChecked(result);\r\n\r\n         }\r\n\r\n    }\r\n\r\n**Implement `MyResultReceiver` in the Activity and override the method**\r\n\r\n    public class tabsmain extends Activity implements MyResultReceiver{\r\n    \r\n            public boolean lf_ch=false;\r\n\r\n            // Activity code\r\n\r\n\r\n            @Override\r\n            public boolean getResult(){\r\n                 return lf_ch;\r\n            }\r\n\r\n     }\r\n\r\n##Disclaimer:\r\nYou might find it a bit lengthy for this case. But the plus point of this approach is that if you want to reuse this code for another activity. You will not have to write the same logic again. Just implement the `MyResultReceiver` in your activity , override the method and your will be good to go.         \r\n  \r\n**TIP:** To be able to get any kind of data, change the method definition in the interface          \r\n**from** `public String getResult();` **to**   `public Object getResult();`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uXZ1s.png","title":"How to access Activity Variables from a fragment Android","body":"<h1>Make a generic Result receiver</h1>\n\n<p><a href=\"https://i.stack.imgur.com/uXZ1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXZ1s.png\" alt=\"enter image description here\"></a>         </p>\n\n<p>You can create an interface for this task which would fetch a String data from any Activity to your Fragment. Follow these steps.</p>\n\n<p><strong>Create an interface</strong>       </p>\n\n<pre><code>public interface MyResultReceiver{\n\n      public String getResult();     \n\n} \n</code></pre>\n\n<p><strong>Make <code>MyResultReceiver</code> a member of your Fragment</strong> </p>\n\n<pre><code>public class tabquests extends Fragment{ \n\n    public CheckBox lc;\n    public MyResultReceiver resultreceiver;\n\n    @Override\n    public void onAttach(Context context){\n         super.onAttach(cotext);\n         resultreceiver = (MyResultReceiver)context;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)//onCreateView\n    { \n\n           YourFragment code code\n\n           Boolean result = resultreceiver.getResult();\n           lc.setChecked(result);\n\n     }\n\n}\n</code></pre>\n\n<p><strong>Implement <code>MyResultReceiver</code> in the Activity and override the method</strong></p>\n\n<pre><code>public class tabsmain extends Activity implements MyResultReceiver{\n\n        public boolean lf_ch=false;\n\n        // Activity code\n\n\n        @Override\n        public boolean getResult(){\n             return lf_ch;\n        }\n\n }\n</code></pre>\n\n<h2>Disclaimer:</h2>\n\n<p>You might find it a bit lengthy for this case. But the plus point of this approach is that if you want to reuse this code for another activity. You will not have to write the same logic again. Just implement the <code>MyResultReceiver</code> in your activity , override the method and your will be good to go.         </p>\n\n<p><strong>TIP:</strong> To be able to get any kind of data, change the method definition in the interface<br>\n<strong>from</strong> <code>public String getResult();</code> <strong>to</strong>   <code>public Object getResult();</code></p>\n"},{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548765904,"creation_date":1548765904,"answer_id":54421416,"question_id":13067033,"body_markdown":"Access Activity variables in fragment to use static keyword like this:\r\n\r\n**MainActvity.java**\r\n \r\n\r\n    public static boolean lf_ch=false;\r\n\r\n**tabquestsFragment.java**\r\n\r\n    boolean if_value=MainActvity.lf_ch;\r\n\r\nI hope it helps you","title":"How to access Activity Variables from a fragment Android","body":"<p>Access Activity variables in fragment to use static keyword like this:</p>\n\n<p><strong>MainActvity.java</strong></p>\n\n<pre><code>public static boolean lf_ch=false;\n</code></pre>\n\n<p><strong>tabquestsFragment.java</strong></p>\n\n<pre><code>boolean if_value=MainActvity.lf_ch;\n</code></pre>\n\n<p>I hope it helps you</p>\n"},{"tags":[],"owner":{"account_id":7375776,"reputation":1,"user_id":6351222,"display_name":"The Godfather"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548856179,"creation_date":1548856179,"answer_id":54442100,"question_id":13067033,"body_markdown":"note that your fragment loads before the activity. so, you have to call the \r\n\r\n    tabsmain tabsm=(tabsmain) getActivity();\r\nline in `onActivityCreated()` method","title":"How to access Activity Variables from a fragment Android","body":"<p>note that your fragment loads before the activity. so, you have to call the </p>\n\n<pre><code>tabsmain tabsm=(tabsmain) getActivity();\n</code></pre>\n\n<p>line in <code>onActivityCreated()</code> method</p>\n"},{"comments":[{"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"score":0,"creation_date":1665545127,"post_id":59675868,"comment_id":130723273,"body_markdown":"working great ,,,","body":"working great ,,,"}],"tags":[],"owner":{"account_id":5919457,"reputation":535,"user_id":4657161,"display_name":"Shubham"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1578633547,"creation_date":1578633547,"answer_id":59675868,"question_id":13067033,"body_markdown":"if you are using Java, you can use\r\n\r\n    ((YourActivityName)getActivity()).variableName\r\n\r\nto access, and if you are using Kotlin, you can use\r\n\r\n    (activity as YourActivityName).variableName\r\n\r\n\r\n\r\nIf the variable is defined as null in kotlin, you have to try each of these method as well:-\r\n\r\n    (activity as? YourActivityName).variableName\r\n\r\n    (activity as? YourActivityName)!!.variableName\r\n\r\nor have to use let block, if possible.\r\n\r\nChoose the correct one for you!\r\n\r\nHope, It will help.\r\n\r\n","title":"How to access Activity Variables from a fragment Android","body":"<p>if you are using Java, you can use</p>\n\n<pre><code>((YourActivityName)getActivity()).variableName\n</code></pre>\n\n<p>to access, and if you are using Kotlin, you can use</p>\n\n<pre><code>(activity as YourActivityName).variableName\n</code></pre>\n\n<p>If the variable is defined as null in kotlin, you have to try each of these method as well:-</p>\n\n<pre><code>(activity as? YourActivityName).variableName\n\n(activity as? YourActivityName)!!.variableName\n</code></pre>\n\n<p>or have to use let block, if possible.</p>\n\n<p>Choose the correct one for you!</p>\n\n<p>Hope, It will help.</p>\n"},{"tags":[],"owner":{"account_id":18419044,"reputation":1,"user_id":13417182,"display_name":"SmithaShree Ramaswamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588922057,"creation_date":1588921642,"answer_id":61673846,"question_id":13067033,"body_markdown":"Solution : You can try this.\r\n\r\nIn tabquests Fragment use this,\r\n\r\n    public class tabquests extends Fragment{ \r\n        private tabsmain tabsmainActivity;\r\n        public CheckBox lc;\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup \r\n             container,Bundle savedInstanceState)//onCreateView\r\n        { \r\n            tabsmainActivity = (tabsmain)getActivity; //typecasting \r\n            //now you can access the variables of tabsmain activity and make \r\n            //sure you give them public access in the activity`\r\n            tabsmainActivity.lf_ch; //or do whatever operation you want here.\r\n            lc.setChecked(//set it to lf_ch);\r\n        }","title":"How to access Activity Variables from a fragment Android","body":"<p>Solution : You can try this.</p>\n\n<p>In tabquests Fragment use this,</p>\n\n<pre><code>public class tabquests extends Fragment{ \n    private tabsmain tabsmainActivity;\n    public CheckBox lc;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup \n         container,Bundle savedInstanceState)//onCreateView\n    { \n        tabsmainActivity = (tabsmain)getActivity; //typecasting \n        //now you can access the variables of tabsmain activity and make \n        //sure you give them public access in the activity`\n        tabsmainActivity.lf_ch; //or do whatever operation you want here.\n        lc.setChecked(//set it to lf_ch);\n    }\n</code></pre>\n"}],"owner":{"account_id":261146,"reputation":6032,"user_id":545132,"accept_rate":81,"display_name":"Syntax_Error"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94690,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"answer_count":14,"score":75,"last_activity_date":1677955030,"creation_date":1351162467,"question_id":13067033,"body_markdown":"In the Activity I have :\r\n\r\n    public class tabsmain extends Activity{\r\n    \tpublic static Context appContext;\r\n    \t\r\n    \tpublic boolean lf_ch=false;\r\n    \t\t\r\n    \tpublic void onCreate(Bundle savedInstanceState){\r\n\r\nI would like to access and possibly change lf_ch from a fragment inside tabsmain;\r\n\r\n    public class tabquests extends Fragment{ \r\n    \tpublic CheckBox lc;\r\n    @Override\r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)//onCreateView\r\n    \t{ \r\n    lc.setChecked(//set it to lf_ch);\r\n\r\n\r\n\r\nHowever, I can&#39;t seem to access the value of lf_ch.\r\n\r\n","title":"How to access Activity Variables from a fragment Android","body":"<p>In the Activity I have :</p>\n\n<pre><code>public class tabsmain extends Activity{\n    public static Context appContext;\n\n    public boolean lf_ch=false;\n\n    public void onCreate(Bundle savedInstanceState){\n</code></pre>\n\n<p>I would like to access and possibly change lf_ch from a fragment inside tabsmain;</p>\n\n<pre><code>public class tabquests extends Fragment{ \n    public CheckBox lc;\n@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)//onCreateView\n    { \nlc.setChecked(//set it to lf_ch);\n</code></pre>\n\n<p>However, I can't seem to access the value of lf_ch.</p>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":27831375,"reputation":3,"user_id":21249728,"display_name":"L&#252;c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677954253,"creation_date":1677933391,"question_id":75635698,"body_markdown":"I&#39;ve built the following function to execute a CardTerminal for reading the ICCID of a SIM Cards.\r\n\r\nGoal:\r\n- Terminal Polling and wait for a CardTerminal connect\r\n- Card Polling and wait for a Card connect\r\n- if terminal &amp; card connected *read out iccid and write to file* *(already implemented)*\r\n- if terminal or card has been removed go back to initial point and wait for connections (infinite loop) \r\n\r\n\r\nThis is my code. When a terminal is not connected, it waits. After a terminal is connected it waits until a card is present. After a card is present It reads the iccid and write it to a file but only once (goal is that it will loop inifinite until application stop). When I remove the card or the terminal is disconnected the application stops (which is not desired).\r\n```\r\n public void run() {\r\n        Mono.defer(cardTerminalFactory::getTerminal)\r\n                .retry()\r\n                .doOnSuccess(t -&gt; {\r\n                            System.out.println(&quot;connected with terminal: &quot; + t.getName());\r\n                            Mono.defer(() -&gt; cardTerminalFactory.waitForCard(t))\r\n                                    .doOnSuccess(x -&gt; {\r\n                                        System.out.println(&quot;connected with card&quot;);\r\n                                        try {\r\n                                            // wait for card insert\r\n                                            if (t.waitForCardPresent(0)) {\r\n                                                // just some logic here (read out iccid and print to file)\r\n                                                var iccid = cardTerminalFactory.readIccid(x.getBasicChannel()).blockOptional();\r\n                                                iccid.ifPresent(bigInteger -&gt; Writer.write(bigInteger.toString()));\r\n                                                //continue when a card removed\r\n                                                t.waitForCardAbsent(0);\r\n                                            }\r\n                                        } catch (CardException e) {\r\n                                            Mono.error(Exception::new);\r\n                                        }\r\n                                    }).block();\r\n                        }\r\n                )\r\n                .onErrorResume(error -&gt; Mono.empty())\r\n                .block();\r\n    }\r\n```\r\n\r\nCan you help me?\r\n","title":"Java card polling reader with reactor","body":"<p>I've built the following function to execute a CardTerminal for reading the ICCID of a SIM Cards.</p>\n<p>Goal:</p>\n<ul>\n<li>Terminal Polling and wait for a CardTerminal connect</li>\n<li>Card Polling and wait for a Card connect</li>\n<li>if terminal &amp; card connected <em>read out iccid and write to file</em> <em>(already implemented)</em></li>\n<li>if terminal or card has been removed go back to initial point and wait for connections (infinite loop)</li>\n</ul>\n<p>This is my code. When a terminal is not connected, it waits. After a terminal is connected it waits until a card is present. After a card is present It reads the iccid and write it to a file but only once (goal is that it will loop inifinite until application stop). When I remove the card or the terminal is disconnected the application stops (which is not desired).</p>\n<pre><code> public void run() {\n        Mono.defer(cardTerminalFactory::getTerminal)\n                .retry()\n                .doOnSuccess(t -&gt; {\n                            System.out.println(&quot;connected with terminal: &quot; + t.getName());\n                            Mono.defer(() -&gt; cardTerminalFactory.waitForCard(t))\n                                    .doOnSuccess(x -&gt; {\n                                        System.out.println(&quot;connected with card&quot;);\n                                        try {\n                                            // wait for card insert\n                                            if (t.waitForCardPresent(0)) {\n                                                // just some logic here (read out iccid and print to file)\n                                                var iccid = cardTerminalFactory.readIccid(x.getBasicChannel()).blockOptional();\n                                                iccid.ifPresent(bigInteger -&gt; Writer.write(bigInteger.toString()));\n                                                //continue when a card removed\n                                                t.waitForCardAbsent(0);\n                                            }\n                                        } catch (CardException e) {\n                                            Mono.error(Exception::new);\n                                        }\n                                    }).block();\n                        }\n                )\n                .onErrorResume(error -&gt; Mono.empty())\n                .block();\n    }\n</code></pre>\n<p>Can you help me?</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1677955730,"post_id":75637648,"comment_id":133440980,"body_markdown":"Are you wanting to output something from java to send it?\n\nOr are you  wanting to call curl from in Java? Java can also call URLs and post data, so that makes little sense to start and external process for this.","body":"Are you wanting to output something from java to send it?  Or are you  wanting to call curl from in Java? Java can also call URLs and post data, so that makes little sense to start and external process for this."},{"owner":{"account_id":27935727,"reputation":1,"user_id":21332786,"display_name":"121810403015 D TANUJA"},"score":0,"creation_date":1678795424,"post_id":75637648,"comment_id":133599073,"body_markdown":"Our attempt to run the URL was unsuccessful as it necessitates a file to operate. Our objective is to exclusively execute the curl command using Java.","body":"Our attempt to run the URL was unsuccessful as it necessitates a file to operate. Our objective is to exclusively execute the curl command using Java."}],"owner":{"account_id":27935727,"reputation":1,"user_id":21332786,"display_name":"121810403015 D TANUJA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677953392,"creation_date":1677953392,"question_id":75637648,"body_markdown":"I am trying to run a curl command while sending a file as an input to the url\r\n\r\n\r\n\r\nFor example \r\n\r\nI have a curl command :\r\n\r\n```\r\n\r\n`curl -s -X POST &quot;dummy/url&quot;\r\n\r\n-H Content-Type:text/xml\r\n\r\n --data-binary @dummy.xml`\r\n\r\n```\r\n\r\nHow do I run this command through Java and sent the file as an input to the command","title":"Trying to run a curl command through Java - How to tag a file as an input through the command","body":"<p>I am trying to run a curl command while sending a file as an input to the url</p>\n<p>For example</p>\n<p>I have a curl command :</p>\n<pre><code>\n`curl -s -X POST &quot;dummy/url&quot;\n\n-H Content-Type:text/xml\n\n --data-binary @dummy.xml`\n\n</code></pre>\n<p>How do I run this command through Java and sent the file as an input to the command</p>\n"},{"tags":["java","algorithm","sorting","mergesort"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1677952633,"post_id":75637518,"comment_id":133440430,"body_markdown":"Let me make sure that I understand your question. You have an array of `Ball` objects and you want to sort that array by the `weight` attribute and if two `Ball`s have the same `weight` then you want to sort them by the `color` attribute. If that is correct, then you want to compare the `color` as a string. In other words &quot;green&quot; comes before &quot;red&quot; which comes before &quot;white&quot;. Is that correct?","body":"Let me make sure that I understand your question. You have an array of <code>Ball</code> objects and you want to sort that array by the <code>weight</code> attribute and if two <code>Ball</code>s have the same <code>weight</code> then you want to sort them by the <code>color</code> attribute. If that is correct, then you want to compare the <code>color</code> as a string. In other words &quot;green&quot; comes before &quot;red&quot; which comes before &quot;white&quot;. Is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677952658,"creation_date":1677952658,"answer_id":75637563,"question_id":75637518,"body_markdown":"First, add a `Comparator` parameter to the merge sort functions.\r\n\r\n```java\r\npublic static Ball[] mergeSort(Ball[] list, Comparator&lt;Ball&gt; comp){\r\n    Ball[] buffer1 = Arrays.copyOf(list, list.length);\r\n    Ball[] buffer2 = new Ball[list.length];\r\n    Ball[] result = mergeSortInner(buffer1, buffer2, 0, list.length, comp);\r\n    return result;\r\n}\r\npublic static Ball[] mergeSortInner(Ball[] buffer1, Ball[] buffer2, int startIndex, int endIndex, Comparator&lt;Ball&gt; comp) {\r\n    if (startIndex &gt;= endIndex - 1) {\r\n        return buffer1;\r\n    }\r\n    int middle = startIndex + (endIndex - startIndex) / 2;\r\n    Ball[] sorted1 = mergeSortInner(buffer1, buffer2, startIndex, middle, comp); \r\n    Ball[] sorted2 = mergeSortInner(buffer1, buffer2, middle, endIndex, comp);\r\n    // ...\r\n}\r\n```\r\n\r\nThen, use `Comparator#compare` to find the relative ordering inside `mergeSortInner`.\r\n\r\n```java\r\nwhile (index1 &lt; middle &amp;&amp; index2 &lt; endIndex) {\r\n    result[destIndex++] = comp.compare(sorted1[index1], sorted2[index2]) &lt; 0 ? sorted1[index1++] : sorted2[index2++];\r\n}\r\n```\r\n\r\nFinally, create an instance of your custom `Comparator` when calling `mergeSort`.\r\n\r\n```java\r\nBall[] sorted = mergeSort(arr, new SortByWeight());\r\n// this sorts the array by the weight field of each Ball\r\n```\r\n\r\nYou could also use the `Comparator.comparing` methods to define custom `Comparator`s more succinctly.\r\n\r\n```java\r\nBall[] sorted = mergeSort(arr, Comparator.comparingInt(Ball::getWeight));\r\n```","title":"java array sort() manual realization","body":"<p>First, add a <code>Comparator</code> parameter to the merge sort functions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Ball[] mergeSort(Ball[] list, Comparator&lt;Ball&gt; comp){\n    Ball[] buffer1 = Arrays.copyOf(list, list.length);\n    Ball[] buffer2 = new Ball[list.length];\n    Ball[] result = mergeSortInner(buffer1, buffer2, 0, list.length, comp);\n    return result;\n}\npublic static Ball[] mergeSortInner(Ball[] buffer1, Ball[] buffer2, int startIndex, int endIndex, Comparator&lt;Ball&gt; comp) {\n    if (startIndex &gt;= endIndex - 1) {\n        return buffer1;\n    }\n    int middle = startIndex + (endIndex - startIndex) / 2;\n    Ball[] sorted1 = mergeSortInner(buffer1, buffer2, startIndex, middle, comp); \n    Ball[] sorted2 = mergeSortInner(buffer1, buffer2, middle, endIndex, comp);\n    // ...\n}\n</code></pre>\n<p>Then, use <code>Comparator#compare</code> to find the relative ordering inside <code>mergeSortInner</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (index1 &lt; middle &amp;&amp; index2 &lt; endIndex) {\n    result[destIndex++] = comp.compare(sorted1[index1], sorted2[index2]) &lt; 0 ? sorted1[index1++] : sorted2[index2++];\n}\n</code></pre>\n<p>Finally, create an instance of your custom <code>Comparator</code> when calling <code>mergeSort</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Ball[] sorted = mergeSort(arr, new SortByWeight());\n// this sorts the array by the weight field of each Ball\n</code></pre>\n<p>You could also use the <code>Comparator.comparing</code> methods to define custom <code>Comparator</code>s more succinctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Ball[] sorted = mergeSort(arr, Comparator.comparingInt(Ball::getWeight));\n</code></pre>\n"}],"owner":{"account_id":26227348,"reputation":1,"user_id":19903849,"display_name":"Anton Kolb"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"closed_date":1678004067,"accepted_answer_id":75637563,"answer_count":1,"score":-6,"last_activity_date":1677952658,"creation_date":1677952210,"question_id":75637518,"body_markdown":"I have an array of objects, which have to be sorted by their fields. Sorting algorithm must be written manually. I&#39;ve chosen merge sort, but can&#39;t understand, how to compare by different fields. Made classes with Comparator implementation, but don&#39;t understand, how to select which one has to be called.\r\n\r\n\r\nObject class:\r\n``` lang-java\r\npublic class Ball{\r\n    private int size;\r\n    private int weight;\r\n    private String color;\r\n\r\n    public Ball(int size, int weight, String color) {\r\n        this.size = size;\r\n        this.weight = weight;\r\n        this.color = color;\r\n    }\r\n\r\n    public int getSize() {\r\n        return size;\r\n    }\r\n\r\n    public int getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public String getColor() {\r\n        return color;\r\n    }\r\n\r\n}\r\n```\r\nComparator classes:\r\n\r\n``` lang-java\r\nimport java.util.Comparator;\r\n\r\npublic class SortByWeight implements Comparator&lt;Ball&gt; {\r\n\r\n    @Override\r\n    public int compare(Ball o1, Ball o2) {\r\n        if(o1.getWeight()&lt;o2.getWeight()){\r\n            return -1;\r\n        }\r\n        if(o1.getWeight()==o2.getWeight()){\r\n            return 0;\r\n        }\r\n        return 1;\r\n    }\r\n}\r\n```\r\n\r\n``` lang-java\r\nimport java.util.Comparator;\r\n\r\npublic class SortByColor implements Comparator&lt;Ball&gt; {\r\n\r\n    @Override\r\n    public int compare(Ball o1, Ball o2) {\r\n        return o1.getColor().compareTo(o2.getColor());\r\n    }\r\n}\r\n```\r\nSorting algorithm class:\r\n\r\n``` lang-java\r\nimport java.util.Arrays;\r\n\r\npublic class TypeMergeSort {\r\n    public static Ball[] mergeSort(Ball[] list){\r\n        Ball[] buffer1 = Arrays.copyOf(list, list.length);\r\n        Ball[] buffer2 = new Ball[list.length];\r\n        Ball[] result = mergeSortInner(buffer1, buffer2, 0, list.length);\r\n        return result;\r\n    }\r\n    public static Ball[] mergeSortInner(Ball[] buffer1, Ball[] buffer2, int startIndex, int endIndex) {\r\n        if (startIndex &gt;= endIndex - 1) {\r\n            return buffer1;\r\n        }\r\n\r\n        //already sorted\r\n        int middle = startIndex + (endIndex - startIndex) / 2;  //middle index\r\n        Ball[] sorted1 = mergeSortInner(buffer1, buffer2, startIndex, middle);  //left part mergeSort recursion\r\n        Ball[] sorted2 = mergeSortInner(buffer1, buffer2, middle, endIndex);    //right part mergeSort recursion\r\n\r\n        //merge\r\n        int index1 = startIndex;\r\n        int index2 = middle;\r\n        int destIndex = startIndex;\r\n\r\n        Ball[] result = sorted1 == buffer1 ? buffer2 : buffer1;\r\n\r\n        //in origin it was a code for int comparrison\r\n        //select value to push\r\n        while (index1 &lt; middle &amp;&amp; index2 &lt; endIndex) {\r\n            result[destIndex++] = sorted1[index1] &lt; sorted2[index2]\r\n                    ? sorted1[index1++] : sorted2[index2++];\r\n        }\r\n        //move left index\r\n        while (index1 &lt; middle) {\r\n            result[destIndex++] = sorted1[index1++];\r\n        }\r\n        //move right index\r\n        while (index2 &lt; endIndex) {\r\n            result[destIndex++] = sorted2[index2++];\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\nHow should I fix it? Thx in advance","title":"java array sort() manual realization","body":"<p>I have an array of objects, which have to be sorted by their fields. Sorting algorithm must be written manually. I've chosen merge sort, but can't understand, how to compare by different fields. Made classes with Comparator implementation, but don't understand, how to select which one has to be called.</p>\n<p>Object class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ball{\n    private int size;\n    private int weight;\n    private String color;\n\n    public Ball(int size, int weight, String color) {\n        this.size = size;\n        this.weight = weight;\n        this.color = color;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public int getWeight() {\n        return weight;\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n}\n</code></pre>\n<p>Comparator classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\n\npublic class SortByWeight implements Comparator&lt;Ball&gt; {\n\n    @Override\n    public int compare(Ball o1, Ball o2) {\n        if(o1.getWeight()&lt;o2.getWeight()){\n            return -1;\n        }\n        if(o1.getWeight()==o2.getWeight()){\n            return 0;\n        }\n        return 1;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\n\npublic class SortByColor implements Comparator&lt;Ball&gt; {\n\n    @Override\n    public int compare(Ball o1, Ball o2) {\n        return o1.getColor().compareTo(o2.getColor());\n    }\n}\n</code></pre>\n<p>Sorting algorithm class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class TypeMergeSort {\n    public static Ball[] mergeSort(Ball[] list){\n        Ball[] buffer1 = Arrays.copyOf(list, list.length);\n        Ball[] buffer2 = new Ball[list.length];\n        Ball[] result = mergeSortInner(buffer1, buffer2, 0, list.length);\n        return result;\n    }\n    public static Ball[] mergeSortInner(Ball[] buffer1, Ball[] buffer2, int startIndex, int endIndex) {\n        if (startIndex &gt;= endIndex - 1) {\n            return buffer1;\n        }\n\n        //already sorted\n        int middle = startIndex + (endIndex - startIndex) / 2;  //middle index\n        Ball[] sorted1 = mergeSortInner(buffer1, buffer2, startIndex, middle);  //left part mergeSort recursion\n        Ball[] sorted2 = mergeSortInner(buffer1, buffer2, middle, endIndex);    //right part mergeSort recursion\n\n        //merge\n        int index1 = startIndex;\n        int index2 = middle;\n        int destIndex = startIndex;\n\n        Ball[] result = sorted1 == buffer1 ? buffer2 : buffer1;\n\n        //in origin it was a code for int comparrison\n        //select value to push\n        while (index1 &lt; middle &amp;&amp; index2 &lt; endIndex) {\n            result[destIndex++] = sorted1[index1] &lt; sorted2[index2]\n                    ? sorted1[index1++] : sorted2[index2++];\n        }\n        //move left index\n        while (index1 &lt; middle) {\n            result[destIndex++] = sorted1[index1++];\n        }\n        //move right index\n        while (index2 &lt; endIndex) {\n            result[destIndex++] = sorted2[index2++];\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p>How should I fix it? Thx in advance</p>\n"},{"tags":["java","maven","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":1856533,"reputation":376,"user_id":1681974,"display_name":"deadzg_devil"},"score":1,"creation_date":1680900240,"post_id":74366986,"comment_id":133978628,"body_markdown":"Did you manage to get this working?","body":"Did you manage to get this working?"}],"answers":[{"comments":[{"owner":{"account_id":340961,"reputation":2914,"user_id":671282,"display_name":"Samuel &#197;slund"},"score":0,"creation_date":1702284173,"post_id":75029889,"comment_id":136872943,"body_markdown":"He says that he have both 11 and 8 installed and needs 8 in the build! I have the same situation and would really need a solution to this.","body":"He says that he have both 11 and 8 installed and needs 8 in the build! I have the same situation and would really need a solution to this."}],"tags":[],"owner":{"account_id":14818534,"reputation":1,"user_id":10701658,"display_name":"Hưng Nguyễn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673008105,"creation_date":1673001752,"answer_id":75029889,"question_id":74366986,"body_markdown":"SonarQube 9.8 has stopped supporting Scanner tool 3.9.1 for Java 8 version. So you need to use SonarQube version 8.9 or below for analysis. Or you can refer to the following but may still not work with the new Scanner tool version:\r\n\r\n    mvn sonar:sonar \r\n    -Dsonar.login=xxxxxxxxxxxxx\r\n    -Dsonar.host.url=http://localhost:9001/sonarqube 1\r\n    -Dsonar.java.jdkHome=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home\r\n\r\nReference from: https://community.sonarsource.com/t/java-versions-in-sonarqube/67551","title":"org/sonar/batch/bootstrapper/EnvironmentInformation compiled by more recent version (55), this version of Java recognises class file versions up to 52","body":"<p>SonarQube 9.8 has stopped supporting Scanner tool 3.9.1 for Java 8 version. So you need to use SonarQube version 8.9 or below for analysis. Or you can refer to the following but may still not work with the new Scanner tool version:</p>\n<pre><code>mvn sonar:sonar \n-Dsonar.login=xxxxxxxxxxxxx\n-Dsonar.host.url=http://localhost:9001/sonarqube 1\n-Dsonar.java.jdkHome=/Library/Java/JavaVirtualMachines/jdk1.8.0_301.jdk/Contents/Home\n</code></pre>\n<p>Reference from: <a href=\"https://community.sonarsource.com/t/java-versions-in-sonarqube/67551\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/java-versions-in-sonarqube/67551</a></p>\n"},{"comments":[{"owner":{"account_id":340961,"reputation":2914,"user_id":671282,"display_name":"Samuel &#197;slund"},"score":0,"creation_date":1702284124,"post_id":75637312,"comment_id":136872932,"body_markdown":"He says that he have both 11 and 8 installed and needs 8 in the build!  I have the same situation and would realy need a solution to this.","body":"He says that he have both 11 and 8 installed and needs 8 in the build!  I have the same situation and would realy need a solution to this."}],"tags":[],"owner":{"account_id":18503223,"reputation":11926,"user_id":13488990,"display_name":"Ahmed Sbai"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677950206,"creation_date":1677950206,"answer_id":75637312,"question_id":74366986,"body_markdown":"&gt;Java used to run SonarScanner - Java 8 in SonarQube 8.9, Java 11 in SonarQube 9.0 and higher\r\n\r\nEither upgrade your JDK to JDK11 or downgrade SonarQube to 8.9","title":"org/sonar/batch/bootstrapper/EnvironmentInformation compiled by more recent version (55), this version of Java recognises class file versions up to 52","body":"<blockquote>\n<p>Java used to run SonarScanner - Java 8 in SonarQube 8.9, Java 11 in SonarQube 9.0 and higher</p>\n</blockquote>\n<p>Either upgrade your JDK to JDK11 or downgrade SonarQube to 8.9</p>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14933,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677950206,"creation_date":1667940405,"question_id":74366986,"body_markdown":"I have installed sonar locally to run it on my java project code. My this code is using java 8. My environment variable is also set to java 8 but I have installed Java 11 on my machine and set a environment variable SONAR_JAVA_PATH in my machine which is pointing to java 11. Here are my environment variables.\r\n\r\n    export SONAR_HOME=/opt/homebrew/Cellar/sonar-scanner/4.7.0.2747/libexec\r\n    export SONAR=$SONAR_HOME/bin\r\n    export PATH=$SONAR:$PATH\r\n    \r\n    export SONAR_JAVA_PATH=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/bin/java\r\n    export PATH=$SONAR_JAVA_PATH:$PATH\r\n    \r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\r\n    export PATH=${JAVA_HOME}/bin:${PATH}\r\n    export PATH\r\n\r\nWhen I run following command in my root directory\r\n\r\n       mvn clean verify sonar:sonar \\\r\n      -Dsonar.projectKey=tirebattery-orderprocessing-svcs \\\r\n      -Dsonar.host.url=http://localhost:9000 \\\r\n      -Dsonar.login=sqp_17296fe6fac85ebd5f0c0f0490b78216b5ea7140\r\n\r\nIt throws following error\r\n\r\n&gt; Execution default-cli of goal\r\n&gt; org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar\r\n&gt; failed: An API incompatibility was encountered while executing\r\n&gt; org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar:\r\n&gt; java.lang.UnsupportedClassVersionError:\r\n&gt; org/sonar/batch/bootstrapper/EnvironmentInformation has been compiled\r\n&gt; by a more recent version of the Java Runtime (class file version\r\n&gt; 55.0), this version of the Java Runtime only recognises class file versions up to 52.0\r\n\r\nI am very confused about this error. In my IntelliJ how can i build code in Java 8 and run sonar on java 11 ? In few previous answers I red to edit wrapper.conf file but in MAC there is no such file created after installation of sonar through Brew.\r\nCan anyOne kindly explain me in simple words that why this issue is happening, What is the root cause and what changes I have to make to my POM to resolve this issue. Here is my POM.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.sams.clubops.orderprocessing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tbcorderprocessing&lt;/artifactId&gt;\r\n    &lt;version&gt;1.8.3&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;tbcorderprocessing&lt;/name&gt;\r\n    &lt;description&gt;Purchase order processing services&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;azure.version&gt;2.0.5&lt;/azure.version&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;camel.version&gt;2.20.1&lt;/camel.version&gt;\r\n        &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\r\n        &lt;swagger2.version&gt;2.9.2&lt;/swagger2.version&gt;\r\n        &lt;tbc-common.version&gt;1.8.4-SNAPSHOT&lt;/tbc-common.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;pangaea_releases&lt;/id&gt;\r\n            &lt;name&gt;xyz Releases&lt;/name&gt;\r\n            &lt;url&gt;http://gec-maven-nexus.xyz.com/nexus/content/repositories/pangaea_releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;pangaea_snapshots&lt;/id&gt;\r\n            &lt;name&gt;xyz Snapshots&lt;/name&gt;\r\n            &lt;url&gt;http://gec-maven-nexus.xyz.com/nexus/content/repositories/pangaea_snapshots&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\r\n            &lt;version&gt;3.25.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Added for SQL Server Connection 12/07 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.retry/spring-retry --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sams.event.horizon&lt;/groupId&gt;\r\n            &lt;artifactId&gt;evclient&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.60&lt;/version&gt;\r\n          &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n       &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.197&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger2.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger2.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--TBC Commons dependency--&gt;\r\n        &lt;dependency&gt;\r\n\r\n            &lt;groupId&gt;com.sams.clubops.tbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tbc-common&lt;/artifactId&gt;\r\n            &lt;version&gt;${tbc-common.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--\t\tEVENT HUB EVENT PROCESSOR--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-eventhubs&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-eventhubs-eph&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sams.mth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-keyvault-secrets-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${basedir}/target&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;Dockerfile&lt;/include&gt;\r\n                                        &lt;include&gt;sshd_config&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;startup.sh&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;proxy-intranet-ref-app.conf&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/keystore&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;stage-extes-replenishment.crt&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;stage-event-horizon-eus.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;stage-event-horizon-wus.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;stage-event-horizon-station.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;event-horizon-eus.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;event-horizon-wus.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;event-horizon-station.cld.samsclub.com.cer&lt;/include&gt;\r\n                                        &lt;include&gt;stage-extes-replenishment.wal-mart.com.cer&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.coveo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;displayLimit&gt;10&lt;/displayLimit&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;com/sams/clubops/orderprocessing/object/**/*&lt;/exclude&gt;\r\n                                &lt;exclude&gt;com/sams/clubops/orderprocessing/repository/document/*&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/*EventConsumerManager.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/*EventProcessHostObjFactory.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/*DotComOrdersPoLogRepo.class&lt;/exclude&gt;\r\n                                &lt;exclude&gt;**/*OrderProcessingCosmosConfig.class&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;!--CHange it back to 80--&gt;\r\n                                            &lt;minimum&gt;0.83&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"org/sonar/batch/bootstrapper/EnvironmentInformation compiled by more recent version (55), this version of Java recognises class file versions up to 52","body":"<p>I have installed sonar locally to run it on my java project code. My this code is using java 8. My environment variable is also set to java 8 but I have installed Java 11 on my machine and set a environment variable SONAR_JAVA_PATH in my machine which is pointing to java 11. Here are my environment variables.</p>\n<pre><code>export SONAR_HOME=/opt/homebrew/Cellar/sonar-scanner/4.7.0.2747/libexec\nexport SONAR=$SONAR_HOME/bin\nexport PATH=$SONAR:$PATH\n\nexport SONAR_JAVA_PATH=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/bin/java\nexport PATH=$SONAR_JAVA_PATH:$PATH\n\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\nexport PATH=${JAVA_HOME}/bin:${PATH}\nexport PATH\n</code></pre>\n<p>When I run following command in my root directory</p>\n<pre><code>   mvn clean verify sonar:sonar \\\n  -Dsonar.projectKey=tirebattery-orderprocessing-svcs \\\n  -Dsonar.host.url=http://localhost:9000 \\\n  -Dsonar.login=sqp_17296fe6fac85ebd5f0c0f0490b78216b5ea7140\n</code></pre>\n<p>It throws following error</p>\n<blockquote>\n<p>Execution default-cli of goal\norg.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar\nfailed: An API incompatibility was encountered while executing\norg.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar:\njava.lang.UnsupportedClassVersionError:\norg/sonar/batch/bootstrapper/EnvironmentInformation has been compiled\nby a more recent version of the Java Runtime (class file version\n55.0), this version of the Java Runtime only recognises class file versions up to 52.0</p>\n</blockquote>\n<p>I am very confused about this error. In my IntelliJ how can i build code in Java 8 and run sonar on java 11 ? In few previous answers I red to edit wrapper.conf file but in MAC there is no such file created after installation of sonar through Brew.\nCan anyOne kindly explain me in simple words that why this issue is happening, What is the root cause and what changes I have to make to my POM to resolve this issue. Here is my POM.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.sams.clubops.orderprocessing&lt;/groupId&gt;\n&lt;artifactId&gt;tbcorderprocessing&lt;/artifactId&gt;\n&lt;version&gt;1.8.3&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;tbcorderprocessing&lt;/name&gt;\n&lt;description&gt;Purchase order processing services&lt;/description&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;azure.version&gt;2.0.5&lt;/azure.version&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;camel.version&gt;2.20.1&lt;/camel.version&gt;\n    &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\n    &lt;swagger2.version&gt;2.9.2&lt;/swagger2.version&gt;\n    &lt;tbc-common.version&gt;1.8.4-SNAPSHOT&lt;/tbc-common.version&gt;\n&lt;/properties&gt;\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n        &lt;id&gt;pangaea_releases&lt;/id&gt;\n        &lt;name&gt;xyz Releases&lt;/name&gt;\n        &lt;url&gt;http://gec-maven-nexus.xyz.com/nexus/content/repositories/pangaea_releases&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;pangaea_snapshots&lt;/id&gt;\n        &lt;name&gt;xyz Snapshots&lt;/name&gt;\n        &lt;url&gt;http://gec-maven-nexus.xyz.com/nexus/content/repositories/pangaea_snapshots&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n&lt;/distributionManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-data-cosmos&lt;/artifactId&gt;\n        &lt;version&gt;3.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Added for SQL Server Connection 12/07 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.retry/spring-retry --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.2.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n        &lt;groupId&gt;com.sams.event.horizon&lt;/groupId&gt;\n        &lt;artifactId&gt;evclient&lt;/artifactId&gt;\n        &lt;version&gt;0.0.60&lt;/version&gt;\n      &lt;exclusions&gt;\n          &lt;exclusion&gt;\n              &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n              &lt;artifactId&gt;gson&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n   &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.197&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${swagger2.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${swagger2.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--TBC Commons dependency--&gt;\n    &lt;dependency&gt;\n\n        &lt;groupId&gt;com.sams.clubops.tbc&lt;/groupId&gt;\n        &lt;artifactId&gt;tbc-common&lt;/artifactId&gt;\n        &lt;version&gt;${tbc-common.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--        EVENT HUB EVENT PROCESSOR--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-eventhubs&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-eventhubs-eph&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;1.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n        &lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-logging-logback&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sams.mth&lt;/groupId&gt;\n        &lt;artifactId&gt;common&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-keyvault-secrets-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${basedir}/target&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;Dockerfile&lt;/include&gt;\n                                    &lt;include&gt;sshd_config&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;startup.sh&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;proxy-intranet-ref-app.conf&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/keystore&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;stage-extes-replenishment.crt&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;stage-event-horizon-eus.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;stage-event-horizon-wus.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;stage-event-horizon-station.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;event-horizon-eus.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;event-horizon-wus.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;event-horizon-station.cld.samsclub.com.cer&lt;/include&gt;\n                                    &lt;include&gt;stage-extes-replenishment.wal-mart.com.cer&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.coveo&lt;/groupId&gt;\n            &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.9&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;displayLimit&gt;10&lt;/displayLimit&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;jacoco-check&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;check&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;com/sams/clubops/orderprocessing/object/**/*&lt;/exclude&gt;\n                            &lt;exclude&gt;com/sams/clubops/orderprocessing/repository/document/*&lt;/exclude&gt;\n                            &lt;exclude&gt;**/*EventConsumerManager.class&lt;/exclude&gt;\n                            &lt;exclude&gt;**/*EventProcessHostObjFactory.class&lt;/exclude&gt;\n                            &lt;exclude&gt;**/*DotComOrdersPoLogRepo.class&lt;/exclude&gt;\n                            &lt;exclude&gt;**/*OrderProcessingCosmosConfig.class&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;rules&gt;\n                            &lt;rule&gt;\n                                &lt;element&gt;BUNDLE&lt;/element&gt;\n                                &lt;limits&gt;\n                                    &lt;limit&gt;\n                                        &lt;counter&gt;LINE&lt;/counter&gt;\n                                        &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                        &lt;!--CHange it back to 80--&gt;\n                                        &lt;minimum&gt;0.83&lt;/minimum&gt;\n                                    &lt;/limit&gt;\n                                &lt;/limits&gt;\n                            &lt;/rule&gt;\n                        &lt;/rules&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677950685,"post_id":75637253,"comment_id":133440064,"body_markdown":"Java Web Start is [independently supported](https://openwebstart.com/) now","body":"Java Web Start is <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\">independently supported</a> now"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677951465,"post_id":75637253,"comment_id":133440196,"body_markdown":"@g00se but unfortunately only for Java 8 or 11: FAQ [Which Java versions can be used to run my JNLP applications?](https://openwebstart.com/docs/FAQ.html#_which_java_versions_can_be_used_to_run_my_jnlp_applications) says: &quot;Your JNLP applications can be run with either Java 8 and 11.&quot;","body":"@g00se but unfortunately only for Java 8 or 11: FAQ <a href=\"https://openwebstart.com/docs/FAQ.html#_which_java_versions_can_be_used_to_run_my_jnlp_applications\" rel=\"nofollow noreferrer\">Which Java versions can be used to run my JNLP applications?</a> says: &quot;Your JNLP applications can be run with either Java 8 and 11.&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1677951525,"post_id":75637253,"comment_id":133440208,"body_markdown":"But why are you planning to run such an ancient JRE anyway?","body":"But why are you planning to run such an ancient JRE anyway?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1677952063,"post_id":75637253,"comment_id":133440325,"body_markdown":"where did you get your Java installer from?","body":"where did you get your Java installer from?"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1677955002,"post_id":75637253,"comment_id":133440840,"body_markdown":"Java Web Start for Windows x64 was only added to Java 6u12: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4802695, so you need at least that.","body":"Java Web Start for Windows x64 was only added to Java 6u12: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4802695\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=4802695</a>, so you need at least that."},{"owner":{"account_id":24207203,"reputation":11,"user_id":18164229,"display_name":"Haptic_Lazier"},"score":0,"creation_date":1678049882,"post_id":75637253,"comment_id":133453589,"body_markdown":"@PetrJaneček That was it. Didn&#39;t realize that they didn&#39;t add it to the x64&#39;s until 6u12. This fixed it!","body":"@PetrJaneček That was it. Didn&#39;t realize that they didn&#39;t add it to the x64&#39;s until 6u12. This fixed it!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678059998,"post_id":75637253,"comment_id":133455006,"body_markdown":"[Java Web Start was distributed as part of the Java Platform until being removed in Java SE 11, following its deprecation in Java SE 9.](https://en.m.wikipedia.org/wiki/Java_Web_Start) so the point is there&#39;s no future in standard JDK support. You need to use the independent version","body":"<a href=\"https://en.m.wikipedia.org/wiki/Java_Web_Start\" rel=\"nofollow noreferrer\">Java Web Start was distributed as part of the Java Platform until being removed in Java SE 11, following its deprecation in Java SE 9.</a> so the point is there&#39;s no future in standard JDK support. You need to use the independent version"},{"owner":{"account_id":24207203,"reputation":11,"user_id":18164229,"display_name":"Haptic_Lazier"},"score":0,"creation_date":1678148091,"post_id":75637253,"comment_id":133474016,"body_markdown":"@g00se, The solution was to download 6u12 x64 AMD supported.","body":"@g00se, The solution was to download 6u12 x64 AMD supported."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678149106,"post_id":75637253,"comment_id":133474158,"body_markdown":"*That* version (which more than likely has vulns btw) might support it but you can&#39;t move forward. Support has ceased in standard Java","body":"<i>That</i> version (which more than likely has vulns btw) might support it but you can&#39;t move forward. Support has ceased in standard Java"}],"owner":{"account_id":24207203,"reputation":11,"user_id":18164229,"display_name":"Haptic_Lazier"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677950119,"creation_date":1677949685,"question_id":75637253,"body_markdown":"I&#39;m currently building a SAN into my file server currently. In order to log in to set everything up it downloads a JNPL file. I understand to open this you need Java&#39;s `javaws.exe` program normally installed by default. But When I download the java versions that should have it, the .exe isn&#39;t there.\r\n\r\nTo specify the SAN requires `Java RE 5.0` or `6.0`, I am running a windows server 2012 R2 with an AMD processor.\r\n\r\n\r\nI have tried:   \r\n`jdk-1_5_0_22-windows-amd64`  \r\n`jre-1_5_0_12-windows-amd64`  \r\n`jre-6u3-windows-amd64`  \r\n`Adoptium`  \r\n(As well as a few others that I forgot to document).","title":"Javaws.exe missing from JRE 5.0","body":"<p>I'm currently building a SAN into my file server currently. In order to log in to set everything up it downloads a JNPL file. I understand to open this you need Java's <code>javaws.exe</code> program normally installed by default. But When I download the java versions that should have it, the .exe isn't there.</p>\n<p>To specify the SAN requires <code>Java RE 5.0</code> or <code>6.0</code>, I am running a windows server 2012 R2 with an AMD processor.</p>\n<p>I have tried:<br />\n<code>jdk-1_5_0_22-windows-amd64</code><br />\n<code>jre-1_5_0_12-windows-amd64</code><br />\n<code>jre-6u3-windows-amd64</code><br />\n<code>Adoptium</code><br />\n(As well as a few others that I forgot to document).</p>\n"},{"tags":["java","xml","database","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10412239,"reputation":3333,"user_id":7677308,"accept_rate":100,"display_name":"SilverNak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1489604933,"creation_date":1489604933,"answer_id":42818666,"question_id":42818570,"body_markdown":"You can not use the method `docBuilder.parse()` in your case. This method is used when you already have an XML file and want to get a Java representation (`Document`) of that XML.\r\n\r\nSince you want to create a new file, you should go with this code:\r\n\r\n    Document doc = docBuilder.newDocument();","title":"How to save ArrayList as XML","body":"<p>You can not use the method <code>docBuilder.parse()</code> in your case. This method is used when you already have an XML file and want to get a Java representation (<code>Document</code>) of that XML.</p>\n\n<p>Since you want to create a new file, you should go with this code:</p>\n\n<pre><code>Document doc = docBuilder.newDocument();\n</code></pre>\n"}],"owner":{"account_id":9325270,"reputation":85,"user_id":6922789,"accept_rate":22,"display_name":"ckorvee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":42818666,"answer_count":1,"score":0,"last_activity_date":1677948427,"creation_date":1489604607,"question_id":42818570,"body_markdown":"I have arrayList of objects that each include the following elements:\r\n\r\n - Jersey Number\r\n - First Name\r\n - Last Name\r\n - Preferred Position\r\n - Goals\r\n - Assists\r\n\r\nCode:\r\n\r\n    ArrayList &lt;blackTeam&gt; blackTeam = new ArrayList &lt;blackTeam&gt;();\r\n\r\n    ...\r\n\r\n    public class blackTeam {\r\n\r\n        int goals, assists;\r\n        String jerseyNum, firstName, lastName, prefPosition;\r\n        \r\n        blackTeam (String _jerseyNum, String _firstName, String _lastName, String _prefPosition, int _goals, int _assists) {\r\n            jerseyNum = _jerseyNum;\r\n            firstName = _firstName;\r\n            lastName = _lastName;\r\n            prefPosition = _prefPosition;\r\n            goals = _goals;\r\n            assists = _assists;\r\n        }\r\n    }\r\n\r\nThis is my code for saving the data as XML:\r\n\r\n            try {\r\n                    String filepath = &quot;blackTeam.xml&quot;;\r\n                     DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\r\n                     DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\r\n                     Document doc = docBuilder.parse(filepath);\r\n\r\n                    Element root = doc.createElement(&quot;BlackTeam&quot;);\r\n                    doc.appendChild(root);\r\n\r\n                    for (int i = 0; i &lt; blackTeam.size(); i++) {\r\n                        Element player = doc.createElement(&quot;Player&quot;);\r\n                        root.appendChild(player);\r\n\r\n                        Element jerseyNum = doc.createElement(&quot;JerseyNum&quot;);\r\n                        jerseyNum.appendChild(doc.createTextNode(blackTeam.get(i).jerseyNum));\r\n                        player.appendChild(jerseyNum);\r\n\r\n                        Element firstName = doc.createElement(&quot;FirstName&quot;);\r\n                        firstName.appendChild(doc.createTextNode(blackTeam.get(i).firstName));\r\n                        player.appendChild(firstName);\r\n\r\n                        Element lastName = doc.createElement(&quot;LastName&quot;);\r\n                        lastName.appendChild(doc.createTextNode(blackTeam.get(i).lastName));\r\n                        player.appendChild(lastName);\r\n\r\n                        Element prefPosition = doc.createElement(&quot;PreferredPosition&quot;);\r\n                        prefPosition.appendChild(doc.createTextNode(blackTeam.get(i).lastName));\r\n                        player.appendChild(prefPosition);\r\n\r\n                        Element goals = doc.createElement(&quot;Goals&quot;);\r\n                        goals.appendChild(doc.createTextNode(String.valueOf(blackTeam.get(i).goals)));\r\n                        player.appendChild(goals);\r\n\r\n                        Element assists = doc.createElement(&quot;Assists&quot;);\r\n                        assists.appendChild(doc.createTextNode(String.valueOf(blackTeam.get(i).assists)));\r\n                        player.appendChild(assists);\r\n                    }\r\n\r\n                    //write the content into xml file\r\n                    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                    Transformer transformer = transformerFactory.newTransformer();\r\n                    DOMSource source = new DOMSource(doc);\r\n                    StreamResult result =  new StreamResult(new File(filepath));\r\n                    transformer.transform(source, result);\r\n\r\n                    System.out.println(&quot;Done&quot;);\r\n\r\n                }catch(ParserConfigurationException pce){\r\n                      pce.printStackTrace();\r\n                }catch(TransformerException tfe){\r\n                      tfe.printStackTrace();\r\n                }catch(IOException ioe){\r\n                      ioe.printStackTrace();\r\n                }catch(SAXException sae){\r\n                      sae.printStackTrace();\r\n                }\r\n\r\nI want the outputted XML to look like this example:\r\n\r\n    &lt;blackTeam&gt;\r\n    \t&lt;player&gt;\r\n    \t\t&lt;jerseyNumber&gt;56&lt;/jerseyNumber&gt;\r\n    \t\t&lt;firstName&gt;John&lt;/firstName&gt;\r\n    \t\t&lt;lastName&gt;Smith&lt;/lastName&gt;\r\n    \t\t&lt;preferredPosition&gt;Center&lt;/preferredPosition&gt;\r\n    \t\t&lt;goals&gt;45&lt;/goals&gt;\r\n    \t\t&lt;assists&gt;13&lt;/assists&gt;\r\n    \t&lt;/player&gt;\r\n    \t&lt;player&gt;\r\n    \t\t&lt;jerseyNumber&gt;43&lt;/jerseyNumber&gt;\r\n    \t\t&lt;firstName&gt;Bill&lt;/firstName&gt;\r\n    \t\t&lt;lastName&gt;Jones&lt;/lastName&gt;\r\n    \t\t&lt;preferredPosition&gt;Defense&lt;/preferredPosition&gt;\r\n    \t\t&lt;goals&gt;12&lt;/goals&gt;\r\n    \t\t&lt;assists&gt;27&lt;/assists&gt;\r\n    \t&lt;/player&gt;\r\n    &lt;blackTeam&gt;\r\n\r\nWhen I run my code I get:\r\n\r\n[Fatal Error] blackTeam.xml:1:1: Premature end of file.\r\norg.xml.sax.SAXParseException; systemId: file:///D:/Computer%20Science%2012/League_Database/blackTeam.xml; lineNumber: 1; columnNumber: 1; Premature end of file. \r\n\r\nI quite sure that this line is causing an error:\r\n                 \r\n\r\n    Document doc = docBuilder.parse(filepath);\r\n\r\n\t\r\n\r\nCan someone explain to me why my code is not working and provide a solution?\r\n","title":"How to save ArrayList as XML","body":"<p>I have arrayList of objects that each include the following elements:</p>\n<ul>\n<li>Jersey Number</li>\n<li>First Name</li>\n<li>Last Name</li>\n<li>Preferred Position</li>\n<li>Goals</li>\n<li>Assists</li>\n</ul>\n<p>Code:</p>\n<pre><code>ArrayList &lt;blackTeam&gt; blackTeam = new ArrayList &lt;blackTeam&gt;();\n\n...\n\npublic class blackTeam {\n\n    int goals, assists;\n    String jerseyNum, firstName, lastName, prefPosition;\n    \n    blackTeam (String _jerseyNum, String _firstName, String _lastName, String _prefPosition, int _goals, int _assists) {\n        jerseyNum = _jerseyNum;\n        firstName = _firstName;\n        lastName = _lastName;\n        prefPosition = _prefPosition;\n        goals = _goals;\n        assists = _assists;\n    }\n}\n</code></pre>\n<p>This is my code for saving the data as XML:</p>\n<pre><code>        try {\n                String filepath = &quot;blackTeam.xml&quot;;\n                 DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\n                 DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n                 Document doc = docBuilder.parse(filepath);\n\n                Element root = doc.createElement(&quot;BlackTeam&quot;);\n                doc.appendChild(root);\n\n                for (int i = 0; i &lt; blackTeam.size(); i++) {\n                    Element player = doc.createElement(&quot;Player&quot;);\n                    root.appendChild(player);\n\n                    Element jerseyNum = doc.createElement(&quot;JerseyNum&quot;);\n                    jerseyNum.appendChild(doc.createTextNode(blackTeam.get(i).jerseyNum));\n                    player.appendChild(jerseyNum);\n\n                    Element firstName = doc.createElement(&quot;FirstName&quot;);\n                    firstName.appendChild(doc.createTextNode(blackTeam.get(i).firstName));\n                    player.appendChild(firstName);\n\n                    Element lastName = doc.createElement(&quot;LastName&quot;);\n                    lastName.appendChild(doc.createTextNode(blackTeam.get(i).lastName));\n                    player.appendChild(lastName);\n\n                    Element prefPosition = doc.createElement(&quot;PreferredPosition&quot;);\n                    prefPosition.appendChild(doc.createTextNode(blackTeam.get(i).lastName));\n                    player.appendChild(prefPosition);\n\n                    Element goals = doc.createElement(&quot;Goals&quot;);\n                    goals.appendChild(doc.createTextNode(String.valueOf(blackTeam.get(i).goals)));\n                    player.appendChild(goals);\n\n                    Element assists = doc.createElement(&quot;Assists&quot;);\n                    assists.appendChild(doc.createTextNode(String.valueOf(blackTeam.get(i).assists)));\n                    player.appendChild(assists);\n                }\n\n                //write the content into xml file\n                TransformerFactory transformerFactory = TransformerFactory.newInstance();\n                Transformer transformer = transformerFactory.newTransformer();\n                DOMSource source = new DOMSource(doc);\n                StreamResult result =  new StreamResult(new File(filepath));\n                transformer.transform(source, result);\n\n                System.out.println(&quot;Done&quot;);\n\n            }catch(ParserConfigurationException pce){\n                  pce.printStackTrace();\n            }catch(TransformerException tfe){\n                  tfe.printStackTrace();\n            }catch(IOException ioe){\n                  ioe.printStackTrace();\n            }catch(SAXException sae){\n                  sae.printStackTrace();\n            }\n</code></pre>\n<p>I want the outputted XML to look like this example:</p>\n<pre><code>&lt;blackTeam&gt;\n    &lt;player&gt;\n        &lt;jerseyNumber&gt;56&lt;/jerseyNumber&gt;\n        &lt;firstName&gt;John&lt;/firstName&gt;\n        &lt;lastName&gt;Smith&lt;/lastName&gt;\n        &lt;preferredPosition&gt;Center&lt;/preferredPosition&gt;\n        &lt;goals&gt;45&lt;/goals&gt;\n        &lt;assists&gt;13&lt;/assists&gt;\n    &lt;/player&gt;\n    &lt;player&gt;\n        &lt;jerseyNumber&gt;43&lt;/jerseyNumber&gt;\n        &lt;firstName&gt;Bill&lt;/firstName&gt;\n        &lt;lastName&gt;Jones&lt;/lastName&gt;\n        &lt;preferredPosition&gt;Defense&lt;/preferredPosition&gt;\n        &lt;goals&gt;12&lt;/goals&gt;\n        &lt;assists&gt;27&lt;/assists&gt;\n    &lt;/player&gt;\n&lt;blackTeam&gt;\n</code></pre>\n<p>When I run my code I get:</p>\n<p>[Fatal Error] blackTeam.xml:1:1: Premature end of file.\norg.xml.sax.SAXParseException; systemId: file:///D:/Computer%20Science%2012/League_Database/blackTeam.xml; lineNumber: 1; columnNumber: 1; Premature end of file.</p>\n<p>I quite sure that this line is causing an error:</p>\n<pre><code>Document doc = docBuilder.parse(filepath);\n</code></pre>\n<p>Can someone explain to me why my code is not working and provide a solution?</p>\n"},{"tags":["java","spring","spring-boot","jackson","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677069571,"creation_date":1677069571,"answer_id":75532798,"question_id":75526046,"body_markdown":"I found the problem. It was a @EnableWebMvc adnotation im my WebMvcConfig class.\r\nAfter removing it API returns Date in proper DateTime format !\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc &lt;--- \r\npublic class WebConfig implements WebMvcConfigurer {\r\n   @Override\r\n    public void addCorsMappings(CorsRegistry registry) {        \r\n     registry.addMapping(&quot;/**&quot;);    }\r\n}\r\n```","title":"Spring Boot OAS3 API returns EPOCH not DateTime format","body":"<p>I found the problem. It was a @EnableWebMvc adnotation im my WebMvcConfig class.\nAfter removing it API returns Date in proper DateTime format !</p>\n<pre><code>@Configuration\n@EnableWebMvc &lt;--- \npublic class WebConfig implements WebMvcConfigurer {\n   @Override\n    public void addCorsMappings(CorsRegistry registry) {        \n     registry.addMapping(&quot;/**&quot;);    }\n}\n</code></pre>\n"}],"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677948089,"creation_date":1677014687,"question_id":75526046,"body_markdown":"I unable to get Date-Time format in my Spring Boot 3 API (OAS3) response. \r\n\r\nI want to have Time Stamp Format but it returns an EPOCH time. \r\nAPI was generated by openapi-generator-maven-plugin.\r\n\r\nSome custom Jackson date mappers works but default serialization for object in controller not !\r\n\r\nI try to \r\n- set preferences in application.yaml  \r\n- set custom @Bean in SpringBootApplication to override mappings  \r\n- set custom formating on mapped object\r\n\r\nbut all without success.\r\n\r\nDefined schema field in `api.yaml` contract\r\n```\r\n        sentDate:\r\n          type: string\r\n          format: date-time\r\n```\r\nGenerated java\r\n```\r\n@JsonProperty(&quot;sentDate&quot;)\r\n    @DateTimeFormat(\r\n        iso = ISO.DATE_TIME\r\n    )\r\n    private OffsetDateTime sentDate;\r\n```\r\n\r\nand response in EPOCH\r\n```\r\n        &quot;sentDate&quot;: 1675435210.336232,\r\n```","title":"Spring Boot OAS3 API returns EPOCH not DateTime format","body":"<p>I unable to get Date-Time format in my Spring Boot 3 API (OAS3) response.</p>\n<p>I want to have Time Stamp Format but it returns an EPOCH time.\nAPI was generated by openapi-generator-maven-plugin.</p>\n<p>Some custom Jackson date mappers works but default serialization for object in controller not !</p>\n<p>I try to</p>\n<ul>\n<li>set preferences in application.yaml</li>\n<li>set custom @Bean in SpringBootApplication to override mappings</li>\n<li>set custom formating on mapped object</li>\n</ul>\n<p>but all without success.</p>\n<p>Defined schema field in <code>api.yaml</code> contract</p>\n<pre><code>        sentDate:\n          type: string\n          format: date-time\n</code></pre>\n<p>Generated java</p>\n<pre><code>@JsonProperty(&quot;sentDate&quot;)\n    @DateTimeFormat(\n        iso = ISO.DATE_TIME\n    )\n    private OffsetDateTime sentDate;\n</code></pre>\n<p>and response in EPOCH</p>\n<pre><code>        &quot;sentDate&quot;: 1675435210.336232,\n</code></pre>\n"},{"tags":["java","multithreading","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":2765431,"reputation":2095,"user_id":2381269,"accept_rate":83,"display_name":"kartik"},"score":0,"creation_date":1423304706,"post_id":28338075,"comment_id":45100919,"body_markdown":"can use storm topologies, can set different degree of parallelism(N executors) for bolts to do fast processing. It support distributed computing/fault tolerant/guaranteed message processing as well. very easy to implement. existing java code will be reuse there.","body":"can use storm topologies, can set different degree of parallelism(N executors) for bolts to do fast processing. It support distributed computing/fault tolerant/guaranteed message processing as well. very easy to implement. existing java code will be reuse there."},{"owner":{"account_id":2765431,"reputation":2095,"user_id":2381269,"accept_rate":83,"display_name":"kartik"},"score":0,"creation_date":1423305259,"post_id":28338075,"comment_id":45101082,"body_markdown":"What about Spring thread pool executors for each logical steps ?","body":"What about Spring thread pool executors for each logical steps ?"}],"answers":[{"tags":[],"owner":{"account_id":1810904,"reputation":2972,"user_id":1646996,"accept_rate":84,"display_name":"qqibrow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423121076,"creation_date":1423121076,"answer_id":28338339,"question_id":28338075,"body_markdown":"you need a single-producer multiple-consumer thread-safe queue. Take a look at [LMAX disruptor](http://lmax-exchange.github.io/disruptor/), that&#39;s the best suit for you.\r\n\r\nLMAX Disruptor is a High Performance Inter-Thread Messaging Library and it&#39;s the default messaging system for Intra-worker communication in [Apache Storm](https://storm.apache.org/) The underlying data structure is a lock-free ring buffer. To make it fast, it use [a lot of tricks to reduce false sharing](https://stackoverflow.com/a/28181831/1646996)\r\n\r\nfollow the [get started tutorial](https://github.com/LMAX-Exchange/disruptor/wiki/Getting-Started), there is a very simple example you could refer to.\r\n","title":"How to persist entities using multiple processing threads with JPA and Hibernate","body":"<p>you need a single-producer multiple-consumer thread-safe queue. Take a look at <a href=\"http://lmax-exchange.github.io/disruptor/\" rel=\"nofollow noreferrer\">LMAX disruptor</a>, that's the best suit for you.</p>\n\n<p>LMAX Disruptor is a High Performance Inter-Thread Messaging Library and it's the default messaging system for Intra-worker communication in <a href=\"https://storm.apache.org/\" rel=\"nofollow noreferrer\">Apache Storm</a> The underlying data structure is a lock-free ring buffer. To make it fast, it use <a href=\"https://stackoverflow.com/a/28181831/1646996\">a lot of tricks to reduce false sharing</a></p>\n\n<p>follow the <a href=\"https://github.com/LMAX-Exchange/disruptor/wiki/Getting-Started\" rel=\"nofollow noreferrer\">get started tutorial</a>, there is a very simple example you could refer to.</p>\n"},{"comments":[{"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"score":0,"creation_date":1423125065,"post_id":28338738,"comment_id":45023878,"body_markdown":"before insertion, I have to validate and populate something on model object. And that too I want to have it multithreaded. so inside run I have to call processAcc(model) and processAcc(model) internally call .save. So here processAcc(model) my model cannot be final..now what to do","body":"before insertion, I have to validate and populate something on model object. And that too I want to have it multithreaded. so inside run I have to call processAcc(model) and processAcc(model) internally call .save. So here processAcc(model) my model cannot be final..now what to do"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1423125485,"post_id":28338738,"comment_id":45024094,"body_markdown":"Do the validation phase in a synchronized block in the processing phase, because of the concurrent environment.","body":"Do the validation phase in a synchronized block in the processing phase, because of the concurrent environment."},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1680603357,"post_id":28338738,"comment_id":133922436,"body_markdown":"@Vlad- is it okay to submit() the `insertService#save` for execution in another thread and at the same time have the `@Transactional` over that functionality? I myself avoid scenarios where I would execute the `@Transactional`-annotated method in thread different to one where I got the service from Spring (injected it). I mean that there are scenarios where the `@Transactional` functionality is kind of `ThreadLocal` construct and this might not work. I would in this case probably submit() a factory method to retrieve the `insertService` bean in the executor thread. What do you think?","body":"@Vlad- is it okay to submit() the <code>insertService#save</code> for execution in another thread and at the same time have the <code>@Transactional</code> over that functionality? I myself avoid scenarios where I would execute the <code>@Transactional</code>-annotated method in thread different to one where I got the service from Spring (injected it). I mean that there are scenarios where the <code>@Transactional</code> functionality is kind of <code>ThreadLocal</code> construct and this might not work. I would in this case probably submit() a factory method to retrieve the <code>insertService</code> bean in the executor thread. What do you think?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1680604287,"post_id":28338738,"comment_id":133922668,"body_markdown":"@Michal The `@Transactional` annotation is on the service method, so the transaction will execute the batch insert in its own transaction. It doesn&#39;t matter whether the main thread is transactional or not since the worker thread will define its own transaction and the entities you are passing will either be New or Detached, in which case `persist` or `merge` is called on them from the other transaction.","body":"@Michal The <code>@Transactional</code> annotation is on the service method, so the transaction will execute the batch insert in its own transaction. It doesn&#39;t matter whether the main thread is transactional or not since the worker thread will define its own transaction and the entities you are passing will either be New or Detached, in which case <code>persist</code> or <code>merge</code> is called on them from the other transaction."},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":0,"creation_date":1680620866,"post_id":28338738,"comment_id":133927128,"body_markdown":"@Vlad - thanks for answering that to me. I re-read on the subject and now my understanding is that those `ThreadLocal`-ised data are created first when the `@Transactional` method execution starts (and not at the bean creation time, as I assumed before) and therefore the above-described scenario shall work. In another words, those ThreadLocal data are bound to the execution thread, not to bean creation thread.  Thank you for clarifying that to me, that is a useful scenario I was no aware of )","body":"@Vlad - thanks for answering that to me. I re-read on the subject and now my understanding is that those <code>ThreadLocal</code>-ised data are created first when the <code>@Transactional</code> method execution starts (and not at the bean creation time, as I assumed before) and therefore the above-described scenario shall work. In another words, those ThreadLocal data are bound to the execution thread, not to bean creation thread.  Thank you for clarifying that to me, that is a useful scenario I was no aware of )"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1677948014,"creation_date":1423122578,"answer_id":28338738,"question_id":28338075,"body_markdown":"You can do it like this:\r\n\r\n1. Define an ExecutorService:\r\n\r\n        ExecutorService executorService = Executors.newFixedThreadPool(threadPoolSize);\r\n\r\n2. Each `for` iteration should simply submit a new batch of objects to be inserted:\r\n\r\n        final List&lt;RecordDTO&gt; records = ...;\r\n        executorService.submit(() -&gt; \r\n            insertService.save(records);\r\n        );\r\n\r\n3. The `insertService` will have a `@Transactional` `save` method.\r\n4. The connection pool size should be greater or equal to the number of workers.\r\n\r\nInstead of sending just one entity to the worker thread, it&#39;s more efficient to send a batch of several `List&lt;RecordDTO&gt;` so that they are all inserted using a single database call. For that, you&#39;d need to [enable Hibernate JDBC batch inserts](https://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/).","title":"How to persist entities using multiple processing threads with JPA and Hibernate","body":"<p>You can do it like this:</p>\n<ol>\n<li><p>Define an ExecutorService:</p>\n<pre><code> ExecutorService executorService = Executors.newFixedThreadPool(threadPoolSize);\n</code></pre>\n</li>\n<li><p>Each <code>for</code> iteration should simply submit a new batch of objects to be inserted:</p>\n<pre><code> final List&lt;RecordDTO&gt; records = ...;\n executorService.submit(() -&gt; \n     insertService.save(records);\n );\n</code></pre>\n</li>\n<li><p>The <code>insertService</code> will have a <code>@Transactional</code> <code>save</code> method.</p>\n</li>\n<li><p>The connection pool size should be greater or equal to the number of workers.</p>\n</li>\n</ol>\n<p>Instead of sending just one entity to the worker thread, it's more efficient to send a batch of several <code>List&lt;RecordDTO&gt;</code> so that they are all inserted using a single database call. For that, you'd need to <a href=\"https://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/\" rel=\"nofollow noreferrer\">enable Hibernate JDBC batch inserts</a>.</p>\n"}],"owner":{"account_id":446874,"reputation":2881,"user_id":840184,"accept_rate":58,"display_name":"VJS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6725,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677948014,"creation_date":1423120031,"question_id":28338075,"body_markdown":"There is one job which is running in a single threaded environment. This means I have main method and the main thread is responsible for completing the job.\r\n\r\nI am using Spring and Hibernate.\r\n\r\nOn the high level I&#39;m doing the following steps:\r\n\r\n1. fetching data from a MySQL database using JDBC ( looping resultset and doing point 2. and 3. )\r\n\r\n2. populating a Model using the data received from point 1.\r\n\r\n3. validation, calling service layer, dao layer and storing entity in oracle db.\r\n\r\nThis flow is using a `for` loop. So 1 by 1 data insertion is there.\r\n\r\nNow I want to do it in using multi threading.\r\n\r\nApproach :\r\n\r\n1. one thread will fetch the data and populate model object and put it in the queue.\r\n\r\n2. multiple threads will dequeue object from queue and start point 3.\r\n\r\nCan you help me in implementing this model. How to code this type of multithreading framework.","title":"How to persist entities using multiple processing threads with JPA and Hibernate","body":"<p>There is one job which is running in a single threaded environment. This means I have main method and the main thread is responsible for completing the job.</p>\n\n<p>I am using Spring and Hibernate.</p>\n\n<p>On the high level I'm doing the following steps:</p>\n\n<ol>\n<li><p>fetching data from a MySQL database using JDBC ( looping resultset and doing point 2. and 3. )</p></li>\n<li><p>populating a Model using the data received from point 1.</p></li>\n<li><p>validation, calling service layer, dao layer and storing entity in oracle db.</p></li>\n</ol>\n\n<p>This flow is using a <code>for</code> loop. So 1 by 1 data insertion is there.</p>\n\n<p>Now I want to do it in using multi threading.</p>\n\n<p>Approach :</p>\n\n<ol>\n<li><p>one thread will fetch the data and populate model object and put it in the queue.</p></li>\n<li><p>multiple threads will dequeue object from queue and start point 3.</p></li>\n</ol>\n\n<p>Can you help me in implementing this model. How to code this type of multithreading framework.</p>\n"},{"tags":["java","jsp","liferay","portlet"],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677947934,"creation_date":1677582881,"question_id":75591269,"body_markdown":"How to pass data between two portlets located at different pages?\r\n\r\nAssume we have two pages in Liferay, say that URLs are ```/a/``` and ```/b/```, and portlet ```a``` is located at page with URL ```/a/``` and portlet ```b``` is located at page with URL ```/b/```.\r\nAssume we have loaded portlet ```a```. MVCRenderCommand finished, JSP loaded.\r\n\r\nI can redirect user to portlet ```b``` simply by redirecting to the URL ```/b/```. Render command of the portlet ```b``` is invoked.\r\n\r\nNow, let us say that portlet ```a``` has a dropdown where user can select a value from a list.\r\n\r\nPortlet ```b``` is supposed to render different content based on what user has selected in the dropdown on the portlet ```a```.\r\n\r\nNow, how can I make portlet ```b``` know what user has selected in portlet ```a```?\r\n\r\nI found that this can be achieved by using URL parameters, what is fine, I tested and this works, just, I would prefer if this could be achieved by some other method so that parameter is not visible in the URL.\r\n\r\nI also know that I can raise an event in one portlet and catch it in another, but, this data is not generated in the Java code, it is selected on the frontend side when rendering has finished. But in any case, event can not be a generic event, it has to be connected with the specific request from specific user. Is this possible to do from frontend?\r\n\r\nCan I somehow set a parameter to the ```renderRequest``` in fronted of the portlet ```a``` and retrieve it in the MVCRenderCommand of the portlet ```b```?\r\n\r\nOr some other way?\r\n\r\nI use Vue on top of the JSP as a frontend, but, if someone knows a solution for JSP this would be just as fine.","title":"How to pass data between portlets in Liferay (from frontend)?","body":"<p>How to pass data between two portlets located at different pages?</p>\n<p>Assume we have two pages in Liferay, say that URLs are <code>/a/</code> and <code>/b/</code>, and portlet <code>a</code> is located at page with URL <code>/a/</code> and portlet <code>b</code> is located at page with URL <code>/b/</code>.\nAssume we have loaded portlet <code>a</code>. MVCRenderCommand finished, JSP loaded.</p>\n<p>I can redirect user to portlet <code>b</code> simply by redirecting to the URL <code>/b/</code>. Render command of the portlet <code>b</code> is invoked.</p>\n<p>Now, let us say that portlet <code>a</code> has a dropdown where user can select a value from a list.</p>\n<p>Portlet <code>b</code> is supposed to render different content based on what user has selected in the dropdown on the portlet <code>a</code>.</p>\n<p>Now, how can I make portlet <code>b</code> know what user has selected in portlet <code>a</code>?</p>\n<p>I found that this can be achieved by using URL parameters, what is fine, I tested and this works, just, I would prefer if this could be achieved by some other method so that parameter is not visible in the URL.</p>\n<p>I also know that I can raise an event in one portlet and catch it in another, but, this data is not generated in the Java code, it is selected on the frontend side when rendering has finished. But in any case, event can not be a generic event, it has to be connected with the specific request from specific user. Is this possible to do from frontend?</p>\n<p>Can I somehow set a parameter to the <code>renderRequest</code> in fronted of the portlet <code>a</code> and retrieve it in the MVCRenderCommand of the portlet <code>b</code>?</p>\n<p>Or some other way?</p>\n<p>I use Vue on top of the JSP as a frontend, but, if someone knows a solution for JSP this would be just as fine.</p>\n"},{"tags":["java","android","firebase","hashmap","google-cloud-firestore"],"comments":[{"owner":{"account_id":14695242,"reputation":552,"user_id":10612806,"display_name":"Evgeni Enchev"},"score":0,"creation_date":1550504881,"post_id":54750737,"comment_id":96283871,"body_markdown":"What type of object gives `cartList.get(key)`?","body":"What type of object gives <code>cartList.get(key)</code>?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1550506605,"post_id":54750737,"comment_id":96284866,"body_markdown":"Please add the content of your `CartModel` class and please responde with @AlexMamo","body":"Please add the content of your <code>CartModel</code> class and please responde with @AlexMamo"},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550509529,"post_id":54750737,"comment_id":96286431,"body_markdown":"added the data class","body":"added the data class"},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550510452,"post_id":54750737,"comment_id":96286868,"body_markdown":"@AlexMamo kindly see this.","body":"@AlexMamo kindly see this."},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550510501,"post_id":54750737,"comment_id":96286895,"body_markdown":"@AlexMamo Kindly see this","body":"@AlexMamo Kindly see this"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1550510826,"post_id":54750737,"comment_id":96287048,"body_markdown":"One more question. Inside `carItem 0` you want to hold a single or multiple items? This is what you have wanted in the first place, to have those fields under `carItem 0`?","body":"One more question. Inside <code>carItem 0</code> you want to hold a single or multiple items? This is what you have wanted in the first place, to have those fields under <code>carItem 0</code>?"},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550512211,"post_id":54750737,"comment_id":96287570,"body_markdown":"I have to maintain a cart for specific user so yes against one document Id there will be many CartModel object so yes when you try to get then from firestore than there will be many cartItem, Yes that what I wanted, wait @AlexMamo I will show you.","body":"I have to maintain a cart for specific user so yes against one document Id there will be many CartModel object so yes when you try to get then from firestore than there will be many cartItem, Yes that what I wanted, wait @AlexMamo I will show you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1550512371,"post_id":54750737,"comment_id":96287641,"body_markdown":"Ok, give me an example.","body":"Ok, give me an example."},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550513097,"post_id":54750737,"comment_id":96287956,"body_markdown":"@AlexMamo see now...……..","body":"@AlexMamo see now...…….."},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550513163,"post_id":54750737,"comment_id":96287983,"body_markdown":"I have attached the debug screen screenshot..... and updated the firestore screenshot.","body":"I have attached the debug screen screenshot..... and updated the firestore screenshot."},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550514129,"post_id":54750737,"comment_id":96288342,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/188627/discussion-between-abdul-rahman-shamair-and-alex-mamo).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/188627/discussion-between-abdul-rahman-shamair-and-alex-mamo\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550509649,"post_id":54750960,"comment_id":96286502,"body_markdown":"Error occur when I try to cast object to CartModel class.","body":"Error occur when I try to cast object to CartModel class."}],"tags":[],"owner":{"account_id":4749777,"reputation":129,"user_id":3840100,"display_name":"sandip"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550505103,"creation_date":1550505103,"answer_id":54750960,"question_id":54750737,"body_markdown":"I think issue in the Constant object. There is a mismatch between Constant.listCartItems and the object you put into the map. ","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to custom data class","body":"<p>I think issue in the Constant object. There is a mismatch between Constant.listCartItems and the object you put into the map. </p>\n"},{"comments":[{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550509989,"post_id":54751020,"comment_id":96286656,"body_markdown":"1&gt; It is  redundant cast","body":"1&gt; It is  redundant cast"},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550509993,"post_id":54751020,"comment_id":96286659,"body_markdown":"2&gt; I don&#39;t control the cartList type, its coming from the server","body":"2&gt; I don&#39;t control the cartList type, its coming from the server"},{"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"score":0,"creation_date":1550510049,"post_id":54751020,"comment_id":96286691,"body_markdown":"Map&lt;String,Object&gt; are the parameters from which the values are coming to the server.","body":"Map&lt;String,Object&gt; are the parameters from which the values are coming to the server."}],"tags":[],"owner":{"account_id":15358332,"reputation":128,"user_id":11080000,"display_name":"guest"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550505294,"creation_date":1550505294,"answer_id":54751020,"question_id":54750737,"body_markdown":"You have two ways to solve your issue :\r\n\r\n#Solution one \r\n\r\ncast your Object to the correct one :\r\n\r\n    Object object = (MyObject) cartList.get(key);\r\n                     ^^^^^^^^\r\n#Solution two\r\n\r\nYou have to set the Key and Value type :\r\n\r\n    Map&lt;Key, Value&gt; cartList = new HashMap&lt;String,CartModel&gt;(); \r\n        ^^^   ^^^^ ","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to custom data class","body":"<p>You have two ways to solve your issue :</p>\n\n<h1>Solution one</h1>\n\n<p>cast your Object to the correct one :</p>\n\n<pre><code>Object object = (MyObject) cartList.get(key);\n                 ^^^^^^^^\n</code></pre>\n\n<h1>Solution two</h1>\n\n<p>You have to set the Key and Value type :</p>\n\n<pre><code>Map&lt;Key, Value&gt; cartList = new HashMap&lt;String,CartModel&gt;(); \n    ^^^   ^^^^ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1550562095,"creation_date":1550529880,"answer_id":54756466,"question_id":54750737,"body_markdown":"I see now in your database structure, that you hold more than one object of type `CartModel` inside that document. To solve this, get the data as a `Map` like in the following line of code:\r\n\r\n    Map&lt;String, Object&gt; map = document.getData();\r\n\r\nIterate through the `map` and get all `CartModel` objects from it. That&#39;s it.","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to custom data class","body":"<p>I see now in your database structure, that you hold more than one object of type <code>CartModel</code> inside that document. To solve this, get the data as a <code>Map</code> like in the following line of code:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = document.getData();\n</code></pre>\n\n<p>Iterate through the <code>map</code> and get all <code>CartModel</code> objects from it. That's it.</p>\n"},{"tags":[],"owner":{"account_id":18912023,"reputation":31,"user_id":13797899,"display_name":"Ashish Vashisht"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677947659,"creation_date":1677947659,"answer_id":75637054,"question_id":54750737,"body_markdown":"For Firestore just do document.toObject(Pojo.class)\r\n\r\nwolah !","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to custom data class","body":"<p>For Firestore just do document.toObject(Pojo.class)</p>\n<p>wolah !</p>\n"}],"owner":{"account_id":7633795,"reputation":580,"user_id":5787969,"display_name":"Abdul Rahman Shamair"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54756466,"answer_count":4,"score":1,"last_activity_date":1677947659,"creation_date":1550504442,"question_id":54750737,"body_markdown":"I upload my data class object to Firestore, it uploads fine, when I try to download it from another activity the `java.lang.ClassCastException` occurs.\r\nI need the object of Cart class in AddToCart.java to be saved in the Firestore (Success) and get it back in Cart.java (Failure). PLEASE HELP!!!!!\r\n\r\nHere is the how I am putting data into the Firestore:\r\n\r\n     private void updateFirestore() {\r\n\r\n        Map cartList = new HashMap&lt;String,CartModel&gt;();\r\n\r\n        //I put data into the map\r\n\r\n        FirebaseFirestore firestoreRef = FirebaseFirestore.getInstance();\r\n        firestoreRef.collection(colloctionKeyTitle)\r\n                      .document(currentSelectedModel.getUserId()).set(cartList)\r\n\r\nHere, the map with one key value is uploaded to firestore:\r\n![Firestore image][1]\r\n\r\nNOW, here is the code to get this map back.\r\n\r\n     FirebaseFirestore firestoreRef = FirebaseFirestore.getInstance();\r\n\r\n        Task&lt;DocumentSnapshot&gt; documentSnapshot = firestoreRef.collection(COLLECTION_ID).document(userId).get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                        cartList = task.getResult().getData();\r\n                        if (cartList != null) {\r\n                            if (!cartList.isEmpty()) {\r\n                                for (String key : cartList.keySet()) {\r\n                                    Object object = cartList.get(key);// In object variable I see my data when debug, but app crashes on next line.\r\n                                    Constant.listCartItems.add((CartModel) object); //this is the line where error occur.\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\nHere is my CartModel.java (Data class)\r\n\r\n\r\n\r\n    public class CartModel {\r\n    private String productTitle,productPrice, featuredImagePath, quantity;\r\n\r\n    public CartModel(String productTitle, String productPrice, String featuredImagePath,String quantity) {\r\n        this.productTitle = productTitle;\r\n        this.productPrice = productPrice;\r\n        this.quantity=quantity;\r\n        this.featuredImagePath = featuredImagePath;\r\n    }\r\n\r\n    public CartModel(String productTitle, String productPrice, String featuredImagePath) {\r\n        this.productTitle = productTitle;\r\n        this.productPrice = productPrice;\r\n        this.featuredImagePath = featuredImagePath;\r\n    }\r\n\r\n    public CartModel() {\r\n\r\n    }\r\n\r\n\r\n    public String getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(String quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getProductTitle() {\r\n        return productTitle;\r\n    }\r\n\r\n    public void setProductTitle(String productTitle) {\r\n        this.productTitle = productTitle;\r\n    }\r\n\r\n    public String getProductPrice() {\r\n        return productPrice;\r\n    }\r\n\r\n    public void setProductPrice(String productPrice) {\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public String getFeaturedImagePath() {\r\n        return featuredImagePath;\r\n    }\r\n\r\n    public void setFeaturedImagePath(String featuredImagePath) {\r\n        this.featuredImagePath = featuredImagePath;\r\n    }\r\n}\r\n\r\n![Debug image][2]\r\n\r\n[1]: https://i.stack.imgur.com/MTUIW.png &quot;Firestore&quot;\r\n[2]: https://i.stack.imgur.com/EUY9H.png &quot;Debug&quot;\r\n\r\n","title":"java.lang.ClassCastException: java.util.HashMap cannot be cast to custom data class","body":"<p>I upload my data class object to Firestore, it uploads fine, when I try to download it from another activity the <code>java.lang.ClassCastException</code> occurs.\nI need the object of Cart class in AddToCart.java to be saved in the Firestore (Success) and get it back in Cart.java (Failure). PLEASE HELP!!!!!</p>\n\n<p>Here is the how I am putting data into the Firestore:</p>\n\n<pre><code> private void updateFirestore() {\n\n    Map cartList = new HashMap&lt;String,CartModel&gt;();\n\n    //I put data into the map\n\n    FirebaseFirestore firestoreRef = FirebaseFirestore.getInstance();\n    firestoreRef.collection(colloctionKeyTitle)\n                  .document(currentSelectedModel.getUserId()).set(cartList)\n</code></pre>\n\n<p>Here, the map with one key value is uploaded to firestore:\n<img src=\"https://i.stack.imgur.com/MTUIW.png\" alt=\"Firestore image\" title=\"Firestore\"></p>\n\n<p>NOW, here is the code to get this map back.</p>\n\n<pre><code> FirebaseFirestore firestoreRef = FirebaseFirestore.getInstance();\n\n    Task&lt;DocumentSnapshot&gt; documentSnapshot = firestoreRef.collection(COLLECTION_ID).document(userId).get()\n            .addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                    cartList = task.getResult().getData();\n                    if (cartList != null) {\n                        if (!cartList.isEmpty()) {\n                            for (String key : cartList.keySet()) {\n                                Object object = cartList.get(key);// In object variable I see my data when debug, but app crashes on next line.\n                                Constant.listCartItems.add((CartModel) object); //this is the line where error occur.\n                            }\n                        }\n\n                    }\n                }\n            });\n</code></pre>\n\n<p>Here is my CartModel.java (Data class)</p>\n\n<pre><code>public class CartModel {\nprivate String productTitle,productPrice, featuredImagePath, quantity;\n\npublic CartModel(String productTitle, String productPrice, String featuredImagePath,String quantity) {\n    this.productTitle = productTitle;\n    this.productPrice = productPrice;\n    this.quantity=quantity;\n    this.featuredImagePath = featuredImagePath;\n}\n\npublic CartModel(String productTitle, String productPrice, String featuredImagePath) {\n    this.productTitle = productTitle;\n    this.productPrice = productPrice;\n    this.featuredImagePath = featuredImagePath;\n}\n\npublic CartModel() {\n\n}\n\n\npublic String getQuantity() {\n    return quantity;\n}\n\npublic void setQuantity(String quantity) {\n    this.quantity = quantity;\n}\n\npublic String getProductTitle() {\n    return productTitle;\n}\n\npublic void setProductTitle(String productTitle) {\n    this.productTitle = productTitle;\n}\n\npublic String getProductPrice() {\n    return productPrice;\n}\n\npublic void setProductPrice(String productPrice) {\n    this.productPrice = productPrice;\n}\n\npublic String getFeaturedImagePath() {\n    return featuredImagePath;\n}\n\npublic void setFeaturedImagePath(String featuredImagePath) {\n    this.featuredImagePath = featuredImagePath;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><img src=\"https://i.stack.imgur.com/EUY9H.png\" alt=\"Debug image\" title=\"Debug\"></p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"owner":{"account_id":27776676,"reputation":1,"user_id":21205886,"display_name":"Dario Franzese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678016091,"answer_count":0,"score":0,"last_activity_date":1677947619,"creation_date":1677947619,"question_id":75637047,"body_markdown":"I have the following Entity \r\n\r\n    @Entity\r\n    @Table(name = &quot;utente&quot;)\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;username&quot;)\r\n    public class Utente {\r\n\r\n    \r\n    //Primary key\r\n    @Id\r\n    @Column(name = &quot;username&quot;, nullable=false, unique=true)\r\n    private String username;\r\n\r\n    //Attributes\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;ruolo&quot;, columnDefinition = &quot;ENUM(&#39;admin&#39;, &#39;supervisore&#39;, &#39;cameriere&#39;,&#39;cuoco&#39;)&quot;, nullable=false)\r\n    private Ruolo ruolo;\r\n\r\n    //getters and setters...\r\n\r\n    }\r\n\r\nMy class Ruolo is defined like this:\r\n\r\n    public enum Ruolo {\r\n        @JsonProperty(&quot;admin&quot;)\r\n        admin,\r\n        @JsonProperty(&quot;supervisore&quot;)\r\n        supervisore,\r\n        @JsonProperty(&quot;cuoco&quot;)\r\n        cuoco,\r\n        @JsonProperty(&quot;cameriere&quot;)\r\n        cameriere\r\n    }\r\n\r\nAnd it refers to this Enumeration in my Postgres DB\r\n \r\n\r\n    CREATE TYPE public.ruolo AS ENUM\r\n        (&#39;admin&#39;, &#39;supervisore&#39;, &#39;cameriere&#39;, &#39;cuoco&#39;);\r\n    \r\n    ALTER TYPE public.ruolo\r\n        OWNER TO postgres;\r\n\r\nWhen I use the CrudRepository save method (from JPA), i get this PostgreSQLException:\r\n\r\n    2023-03-04T17:29:42.614+01:00  WARN 15656 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\r\n    2023-03-04T17:29:42.614+01:00 ERROR 15656 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;ruolo&quot; &#222; of type ruolo but the expression &#222; of type character varying\r\n      Suggestion: You must rewrite or convert the type of the expression.\r\n\r\nAny idea? I get the object Utente from Json","title":"Hibernate Enumeration does not work with Postgres","body":"<p>I have the following Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;utente&quot;)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;username&quot;)\npublic class Utente {\n\n\n//Primary key\n@Id\n@Column(name = &quot;username&quot;, nullable=false, unique=true)\nprivate String username;\n\n//Attributes\n@Enumerated(EnumType.STRING)\n@Column(name = &quot;ruolo&quot;, columnDefinition = &quot;ENUM('admin', 'supervisore', 'cameriere','cuoco')&quot;, nullable=false)\nprivate Ruolo ruolo;\n\n//getters and setters...\n\n}\n</code></pre>\n<p>My class Ruolo is defined like this:</p>\n<pre><code>public enum Ruolo {\n    @JsonProperty(&quot;admin&quot;)\n    admin,\n    @JsonProperty(&quot;supervisore&quot;)\n    supervisore,\n    @JsonProperty(&quot;cuoco&quot;)\n    cuoco,\n    @JsonProperty(&quot;cameriere&quot;)\n    cameriere\n}\n</code></pre>\n<p>And it refers to this Enumeration in my Postgres DB</p>\n<pre><code>CREATE TYPE public.ruolo AS ENUM\n    ('admin', 'supervisore', 'cameriere', 'cuoco');\n\nALTER TYPE public.ruolo\n    OWNER TO postgres;\n</code></pre>\n<p>When I use the CrudRepository save method (from JPA), i get this PostgreSQLException:</p>\n<pre><code>2023-03-04T17:29:42.614+01:00  WARN 15656 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42804\n2023-03-04T17:29:42.614+01:00 ERROR 15656 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: column &quot;ruolo&quot; Þ of type ruolo but the expression Þ of type character varying\n  Suggestion: You must rewrite or convert the type of the expression.\n</code></pre>\n<p>Any idea? I get the object Utente from Json</p>\n"},{"tags":["java","spring","spring-boot","enums","spring-data-jpa"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1677945246,"post_id":75636644,"comment_id":133439095,"body_markdown":"So you want to throw a different exception?","body":"So you want to throw a different exception?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677945752,"post_id":75636644,"comment_id":133439173,"body_markdown":"How can you insert an non existing value?","body":"How can you insert an non existing value?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677947220,"post_id":75636644,"comment_id":133439424,"body_markdown":"@Unmitigated Actually I just want to be able to check if the role is existing in the database by using a string. Then, the rest is ok, I can throw &quot;not found&quot; exception.","body":"@Unmitigated Actually I just want to be able to check if the role is existing in the database by using a string. Then, the rest is ok, I can throw &quot;not found&quot; exception."},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1677947298,"post_id":75636644,"comment_id":133439440,"body_markdown":"@fredrick You can replace `RoleName.valueOf` with `Arrays.stream(RoleName.values()).filter(x -&gt; x.name().equals(role)).findFirst().orElse(null)` so that it passes `null` when the role name isn&#39;t found rather than throwing an exception there.","body":"@fredrick You can replace <code>RoleName.valueOf</code> with <code>Arrays.stream(RoleName.values()).filter(x -&gt; x.name().equals(role)).findFirst().orElse(null)</code> so that it passes <code>null</code> when the role name isn&#39;t found rather than throwing an exception there."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677947344,"post_id":75636644,"comment_id":133439450,"body_markdown":"@Jens How do you know if a user could enter a weird role that is not existed?","body":"@Jens How do you know if a user could enter a weird role that is not existed?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677948000,"post_id":75636644,"comment_id":133439568,"body_markdown":"the inserting into the data base should using the same Enum, so in the database can only be valid enum values. In your case looks like there is something wrong in your application design","body":"the inserting into the data base should using the same Enum, so in the database can only be valid enum values. In your case looks like there is something wrong in your application design"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948033,"post_id":75636644,"comment_id":133439576,"body_markdown":"@Unmitigated Actually sounds good, but I am not sure what is the user requests roles and none of them not exists in the database. In this case, I should not continue to register user as there is no role and inform them. Any idea?","body":"@Unmitigated Actually sounds good, but I am not sure what is the user requests roles and none of them not exists in the database. In this case, I should not continue to register user as there is no role and inform them. Any idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948180,"post_id":75636644,"comment_id":133439603,"body_markdown":"@Unmitigated On the other hand, maybe it is good idea to get all the roles from db and check if there is at least one match with the requested list (there is no need to go to db 3 times if the user send 3 roles for signup). How should I do this? What would you think?","body":"@Unmitigated On the other hand, maybe it is good idea to get all the roles from db and check if there is at least one match with the requested list (there is no need to go to db 3 times if the user send 3 roles for signup). How should I do this? What would you think?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948326,"post_id":75636644,"comment_id":133439635,"body_markdown":"@Jens I am sure that there is no problem regarding to entity relationships. The issues seems to be related to type mismatch and it is normal. Because, request is a `Set&lt;String&gt;` as user send the roles in the JSON as `[&quot;ADMIN_ROLE&quot;]`. But the data type in JPA entity is not String.","body":"@Jens I am sure that there is no problem regarding to entity relationships. The issues seems to be related to type mismatch and it is normal. Because, request is a <code>Set&lt;String&gt;</code> as user send the roles in the JSON as <code>[&quot;ADMIN_ROLE&quot;]</code>. But the data type in JPA entity is not String."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677948424,"post_id":75636644,"comment_id":133439660,"body_markdown":"Then you should check it in your bussines logic. I am sure there is a problem in your application design.","body":"Then you should check it in your bussines logic. I am sure there is a problem in your application design."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948432,"post_id":75636644,"comment_id":133439661,"body_markdown":"@Jens In any case, maybe it is good idea to retrieve all the roles in the database and then check the requested roles matches. Then, if there is no match, throw error, if not, then add them to Role set before persisting. Any idea? And example with Stream?","body":"@Jens In any case, maybe it is good idea to retrieve all the roles in the database and then check the requested roles matches. Then, if there is no match, throw error, if not, then add them to Role set before persisting. Any idea? And example with Stream?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677948496,"post_id":75636644,"comment_id":133439672,"body_markdown":"*maybe it is good idea to retrieve all the roles in the database* It is a good Idea to only inserting valid values","body":"<i>maybe it is good idea to retrieve all the roles in the database</i> It is a good Idea to only inserting valid values"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948542,"post_id":75636644,"comment_id":133439682,"body_markdown":"@Jens When I try to change `Set&lt;String&gt;` to `Set&lt;RoleName` in the request, it gives another error as it is not possible to pass that type by JSON request. I do not want to change request pass style of the roles. But would think of using teh problem by Stream.","body":"@Jens When I try to change <code>Set&lt;String&gt;</code> to <code>Set&lt;RoleName</code> in the request, it gives another error as it is not possible to pass that type by JSON request. I do not want to change request pass style of the roles. But would think of using teh problem by Stream."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677948912,"post_id":75636644,"comment_id":133439762,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252300/discussion-between-jens-and-fredrick).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252300/discussion-between-jens-and-fredrick\">continue this discussion in chat</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677956840,"post_id":75636644,"comment_id":133441206,"body_markdown":"I solved the problem by converting the approach o `Arrays.stream(RoleName.values()).filter(x -&gt; x.name().equals(role)).findFirst().orElse(null)` for repository. **Thanks a lot to all of you!..**","body":"I solved the problem by converting the approach o <code>Arrays.stream(RoleName.values()).filter(x -&gt; x.name().equals(role)).findFirst().orElse(null)</code> for repository. <b>Thanks a lot to all of you!..</b>"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677947911,"post_id":75637003,"comment_id":133439551,"body_markdown":"Thank you so much. Actually, sounds good idea, but now get another error : &quot;Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: Argument [ROLE_USER] of type [java.lang.String] did not match parameter type [com.company.model.RoleName (n/a)]]&quot;","body":"Thank you so much. Actually, sounds good idea, but now get another error : &quot;Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: Argument [ROLE_USER] of type [java.lang.String] did not match parameter type [com.company.model.RoleName (n/a)]]&quot;"},{"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"score":1,"creation_date":1677948730,"post_id":75637003,"comment_id":133439717,"body_markdown":"I suppose that role is a RoleName enum. So if you tried \nRole r = roleRepository.findByName(RoleName.valueOf(role.getRole()))\n                    .orElseThrow(() -&gt; new NoSuchElementFoundException\n??","body":"I suppose that role is a RoleName enum. So if you tried  Role r = roleRepository.findByName(RoleName.valueOf(role.getRole()))                     .orElseThrow(() -&gt; new NoSuchElementFoundException ??"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677948911,"post_id":75637003,"comment_id":133439761,"body_markdown":"Role is entity and name field of this entity is in RoleName type that is enum. I am trying this now.","body":"Role is entity and name field of this entity is in RoleName type that is enum. I am trying this now."},{"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"score":1,"creation_date":1677949279,"post_id":75637003,"comment_id":133439831,"body_markdown":"Ok, so  Role r = roleRepository.findByName(RoleName.valueOf(role.getName().getRole())) .orElseThrow(() -&gt; new NoSuchElementFoundException might help","body":"Ok, so  Role r = roleRepository.findByName(RoleName.valueOf(role.getName().ge&zwnj;&#8203;tRole())) .orElseThrow(() -&gt; new NoSuchElementFoundException might help"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677949358,"post_id":75637003,"comment_id":133439842,"body_markdown":"What about retrieving all roles at the beginning and then check if the requested roles match with these retrieved roles? Any idea?","body":"What about retrieving all roles at the beginning and then check if the requested roles match with these retrieved roles? Any idea?"},{"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"score":1,"creation_date":1677950360,"post_id":75637003,"comment_id":133439997,"body_markdown":"Generally, you shouldn&#39;t have any problem if you used the getter function inside your Enum. It&#39;s also important to note that Enums are preferred when the inputs are kind of &quot;fixed&quot;, for example if you could narrow down the possible values that a user could give as an input e.g. select a value from a dropdown menu. Nevertheless, retrieving all roles at the beginning is not a best-practice approach.","body":"Generally, you shouldn&#39;t have any problem if you used the getter function inside your Enum. It&#39;s also important to note that Enums are preferred when the inputs are kind of &quot;fixed&quot;, for example if you could narrow down the possible values that a user could give as an input e.g. select a value from a dropdown menu. Nevertheless, retrieving all roles at the beginning is not a best-practice approach."}],"tags":[],"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677947100,"creation_date":1677947100,"answer_id":75637003,"question_id":75636644,"body_markdown":"You could set up your `Enum` like this:\r\n\r\n    public enum RoleName {\r\n    \r\n        // enum constants calling the enum constructors\r\n        ROLE_USER(&quot;User&quot;),\r\n        ROLE_ADMIN(&quot;Admin&quot;)\r\n\r\n        private String role;\r\n\r\n        // private enum constructor\r\n        private RoleName(String role) {\r\n        this.role = role\r\n        }\r\n\r\n        public String getRole(){\r\n           return role;\r\n        }\r\n    }\r\n\r\nThen you can search `Role` by name in `String`","title":"Spring Data JPA : find enum field as String?","body":"<p>You could set up your <code>Enum</code> like this:</p>\n<pre><code>public enum RoleName {\n\n    // enum constants calling the enum constructors\n    ROLE_USER(&quot;User&quot;),\n    ROLE_ADMIN(&quot;Admin&quot;)\n\n    private String role;\n\n    // private enum constructor\n    private RoleName(String role) {\n    this.role = role\n    }\n\n    public String getRole(){\n       return role;\n    }\n}\n</code></pre>\n<p>Then you can search <code>Role</code> by name in <code>String</code></p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":975,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677947100,"creation_date":1677943584,"question_id":75636644,"body_markdown":"I have the following entity:\r\n\r\n```\r\npublic class Role {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private RoleName name;\r\n}\r\n```\r\n\r\nAnd here is the `RoleName` enum:\r\n\r\n```\r\npublic enum RoleName {\r\n    ROLE_USER,\r\n    ROLE_ADMIN\r\n}\r\n```\r\n\r\nI am trying to find a role by name and for this purpose, I have to pass name value in `RoleName` format (otherwise I get exception when I try to pass String):\r\n\r\n```\r\nRole r = roleRepository.findByName(RoleName.valueOf(role))\r\n                    .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\r\n```\r\n\r\nBut, when a user request a role that is not available, s/he gets error:\r\n\r\n&gt; Resolved [java.lang.IllegalArgumentException: No enum constant com.company.model.RoleName.ROLE_TEST]\r\n\r\nSo, is it not possible to search Role by name in `String` format instead of `RoleName`? Because, user provides roles in String array and instead of casting to enum, I want to check if the role is exist or not in the database. Any idea? ","title":"Spring Data JPA : find enum field as String?","body":"<p>I have the following entity:</p>\n<pre><code>public class Role {\n\n    @Id\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private RoleName name;\n}\n</code></pre>\n<p>And here is the <code>RoleName</code> enum:</p>\n<pre><code>public enum RoleName {\n    ROLE_USER,\n    ROLE_ADMIN\n}\n</code></pre>\n<p>I am trying to find a role by name and for this purpose, I have to pass name value in <code>RoleName</code> format (otherwise I get exception when I try to pass String):</p>\n<pre><code>Role r = roleRepository.findByName(RoleName.valueOf(role))\n                    .orElseThrow(() -&gt; new NoSuchElementFoundException(NOT_FOUND));\n</code></pre>\n<p>But, when a user request a role that is not available, s/he gets error:</p>\n<blockquote>\n<p>Resolved [java.lang.IllegalArgumentException: No enum constant com.company.model.RoleName.ROLE_TEST]</p>\n</blockquote>\n<p>So, is it not possible to search Role by name in <code>String</code> format instead of <code>RoleName</code>? Because, user provides roles in String array and instead of casting to enum, I want to check if the role is exist or not in the database. Any idea?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"score":5,"creation_date":1367590420,"post_id":16360720,"comment_id":23441108,"body_markdown":"Can&#39;t you just increment a count whenever you open a file...and decrement it whenever you close one?","body":"Can&#39;t you just increment a count whenever you open a file...and decrement it whenever you close one?"},{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":1,"creation_date":1367591367,"post_id":16360720,"comment_id":23441721,"body_markdown":"I suppose that&#39;s one way of doing it .. Is there a cleaner solution?","body":"I suppose that&#39;s one way of doing it .. Is there a cleaner solution?"},{"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"score":0,"creation_date":1367591525,"post_id":16360720,"comment_id":23441817,"body_markdown":"You could execute that command in java. Have a look:\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html\n\nI cannot imagine that java memorizes which and how many files you have opened.","body":"You could execute that command in java. Have a look: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html</a>  I cannot imagine that java memorizes which and how many files you have opened."},{"owner":{"account_id":474651,"reputation":14676,"user_id":884463,"accept_rate":89,"display_name":"David Tonhofer"},"score":1,"creation_date":1497180221,"post_id":16360720,"comment_id":75960652,"body_markdown":"I guess the simplest way is just .... to check how many entries can be found in `/proc/self/fd/`. That&#39;s what the [proc](https://en.wikipedia.org/wiki/Procfs) filesystem is for: Get (and set) process information at runtime. _hierarchical tree of values with node-dependent read/write semantics + mapping of the same into the hierarchical tree of streams that is a filesystem = unified win_ (well, in a typeless Plan 9 kind of way - even better: open a JDBC conn to &quot;somewhere&quot; then query/update sys &amp; proc using SQL, a bit like [OSQuery](https://osquery.io/) but far more complete)","body":"I guess the simplest way is just .... to check how many entries can be found in <code>&#47;proc&#47;self&#47;fd&#47;</code>. That&#39;s what the <a href=\"https://en.wikipedia.org/wiki/Procfs\" rel=\"nofollow noreferrer\">proc</a> filesystem is for: Get (and set) process information at runtime. <i>hierarchical tree of values with node-dependent read/write semantics + mapping of the same into the hierarchical tree of streams that is a filesystem = unified win</i> (well, in a typeless Plan 9 kind of way - even better: open a JDBC conn to &quot;somewhere&quot; then query/update sys &amp; proc using SQL, a bit like <a href=\"https://osquery.io/\" rel=\"nofollow noreferrer\">OSQuery</a> but far more complete)"}],"answers":[{"tags":[],"owner":{"account_id":55050,"reputation":190529,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1367592991,"creation_date":1367591507,"answer_id":16361360,"question_id":16360720,"body_markdown":"If you want to get the number of `ls /proc/my_pid/fd | wc -l` in java, you could use **JMX**.\r\n\r\nWhen you have `MBeanServerConnection`, you can get attribute &quot;`OpenFileDescriptorCount`&quot;. this will give you the same result as the above `ls..|wc -l`.\r\n\r\nalso there is another attribute &quot;`MaxFileDescriptorCount`&quot;, which tells your the max count allowed.\r\n\r\nIf you just want to know the value, but not getting it in your code, you could either do your `ls..|wc -l` way, or read from `jconsole` (with GUI).\r\n\r\n**NOTE**\r\n\r\n    ls /proc/my_pid/fd | wc -l\r\n\r\nthis number indicates how many fd opened by your process(java application). e.g. your business files are counted, also those jars, libraries files are counted too. If you just want to get the count of your business files, you have to implement a counter by yourself. Or, say you want to do it with shellscript, `grep` something out then `wc -l`\r\n\r\n\r\n**EDIT**\r\n\r\nadd code example, but it is just an example. not written in IDE, not tested with compiler. :)\r\n\r\n    ObjectName oName = new ObjectName(&quot;java.lang:type=OperatingSystem&quot;);\r\n    MBeanServerConnection conn ; // you should get the connection following the api, take a look the java api/ google some example\r\n    javax.management.AttributeList list = conn.getAttributes(oName, new String[]{&quot;OpenFileDescriptorCount&quot;, &quot;MaxFileDescriptorCount&quot;});\r\n    for(Attribute attr: list.asList()){\r\n    \tSystem.out.println(attr.getName() + &quot;: &quot; + attr.getValue());\r\n    }\r\n\r\n","title":"How to find out number of files currently open by Java application?","body":"<p>If you want to get the number of <code>ls /proc/my_pid/fd | wc -l</code> in java, you could use <strong>JMX</strong>.</p>\n\n<p>When you have <code>MBeanServerConnection</code>, you can get attribute \"<code>OpenFileDescriptorCount</code>\". this will give you the same result as the above <code>ls..|wc -l</code>.</p>\n\n<p>also there is another attribute \"<code>MaxFileDescriptorCount</code>\", which tells your the max count allowed.</p>\n\n<p>If you just want to know the value, but not getting it in your code, you could either do your <code>ls..|wc -l</code> way, or read from <code>jconsole</code> (with GUI).</p>\n\n<p><strong>NOTE</strong></p>\n\n<pre><code>ls /proc/my_pid/fd | wc -l\n</code></pre>\n\n<p>this number indicates how many fd opened by your process(java application). e.g. your business files are counted, also those jars, libraries files are counted too. If you just want to get the count of your business files, you have to implement a counter by yourself. Or, say you want to do it with shellscript, <code>grep</code> something out then <code>wc -l</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>add code example, but it is just an example. not written in IDE, not tested with compiler. :)</p>\n\n<pre><code>ObjectName oName = new ObjectName(\"java.lang:type=OperatingSystem\");\nMBeanServerConnection conn ; // you should get the connection following the api, take a look the java api/ google some example\njavax.management.AttributeList list = conn.getAttributes(oName, new String[]{\"OpenFileDescriptorCount\", \"MaxFileDescriptorCount\"});\nfor(Attribute attr: list.asList()){\n    System.out.println(attr.getName() + \": \" + attr.getValue());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":0,"creation_date":1367592601,"post_id":16361505,"comment_id":23442478,"body_markdown":"Does performing this task by itself increase number of FD?","body":"Does performing this task by itself increase number of FD?"},{"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"score":0,"creation_date":1367598727,"post_id":16361505,"comment_id":23445905,"body_markdown":"Does not seem to. Thanks. This is exactly what i was looking for","body":"Does not seem to. Thanks. This is exactly what i was looking for"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1563785419,"post_id":16361505,"comment_id":100799742,"body_markdown":"@FDinoff Great answer! Any idea on how to try this behavior in Windows?","body":"@FDinoff Great answer! Any idea on how to try this behavior in Windows?"}],"tags":[],"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"comment_count":3,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1561291471,"creation_date":1367591886,"answer_id":16361505,"question_id":16360720,"body_markdown":"On Unix, one way is using the [`ManagementFactory`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/ManagementFactory.html) to get the [`OperatingSystemMxBean`](http://docs.oracle.com/javase/6/docs/api/java/lang/management/OperatingSystemMXBean.html) and if it is a [`UnixOperatingSystemMXBean`](http://docs.oracle.com/javase/1.5.0/docs/guide/management/extension/com/sun/management/UnixOperatingSystemMXBean.html), you can use the `getOpenFileDescriptorCount()` method.\r\n\r\nExample code:\r\n\r\n    import java.lang.management.ManagementFactory;\r\n    import java.lang.management.OperatingSystemMXBean;\r\n    import com.sun.management.UnixOperatingSystemMXBean;\r\n\r\n    public class OpenFileCount{\r\n        public static void main(String[] args){\r\n            OperatingSystemMXBean os = ManagementFactory.getOperatingSystemMXBean();\r\n            if(os instanceof UnixOperatingSystemMXBean){\r\n                System.out.println(&quot;Number of open fd: &quot; + ((UnixOperatingSystemMXBean) os).getOpenFileDescriptorCount());\r\n            }\r\n        }\r\n    }\r\n","title":"How to find out number of files currently open by Java application?","body":"<p>On Unix, one way is using the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/management/ManagementFactory.html\" rel=\"noreferrer\"><code>ManagementFactory</code></a> to get the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/OperatingSystemMXBean.html\" rel=\"noreferrer\"><code>OperatingSystemMxBean</code></a> and if it is a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/management/extension/com/sun/management/UnixOperatingSystemMXBean.html\" rel=\"noreferrer\"><code>UnixOperatingSystemMXBean</code></a>, you can use the <code>getOpenFileDescriptorCount()</code> method.</p>\n\n<p>Example code:</p>\n\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.OperatingSystemMXBean;\nimport com.sun.management.UnixOperatingSystemMXBean;\n\npublic class OpenFileCount{\n    public static void main(String[] args){\n        OperatingSystemMXBean os = ManagementFactory.getOperatingSystemMXBean();\n        if(os instanceof UnixOperatingSystemMXBean){\n            System.out.println(\"Number of open fd: \" + ((UnixOperatingSystemMXBean) os).getOpenFileDescriptorCount());\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8319845,"reputation":573,"user_id":6251951,"display_name":"neuralmer"},"score":0,"creation_date":1550009184,"post_id":26354980,"comment_id":96110294,"body_markdown":"This answer has the benefit of working on macOS as well.","body":"This answer has the benefit of working on macOS as well."}],"tags":[],"owner":{"account_id":5110403,"reputation":459,"user_id":4097186,"display_name":"Rishitesh Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429254897,"creation_date":1413271575,"answer_id":26354980,"question_id":16360720,"body_markdown":"For the sake of completing/adding to the answer:\r\n\r\nMany people uses LSOF in Linux based system to monitor file descriptors and their details. However LSOF lists all kind of FDs(CWD,MEM) which is not returned by UnixOperatingSystemMXBean.getOpenFileDescriptorCount(). \r\n\r\nDetails can be found in http://www.ibm.com/developerworks/aix/library/au-lsof.html\r\nThis may cause some confusion. \r\n\r\nTo clarify UnixOperatingSystemMXBean.getOpenFileDescriptorCount() only shows application opened files descriptors.\r\nBut LSOF (lsof -a -p &lt;pid&gt;) lists other file descriptors opened by kernel on behalf of the process.\r\n\r\nTo list only application level FDS one can filter out other type of FDs\r\n\r\nlsof -a -p yourprocid -d ^txt,^mem,^cwd,^rtd,^DEL","title":"How to find out number of files currently open by Java application?","body":"<p>For the sake of completing/adding to the answer:</p>\n\n<p>Many people uses LSOF in Linux based system to monitor file descriptors and their details. However LSOF lists all kind of FDs(CWD,MEM) which is not returned by UnixOperatingSystemMXBean.getOpenFileDescriptorCount(). </p>\n\n<p>Details can be found in <a href=\"http://www.ibm.com/developerworks/aix/library/au-lsof.html\" rel=\"noreferrer\">http://www.ibm.com/developerworks/aix/library/au-lsof.html</a>\nThis may cause some confusion. </p>\n\n<p>To clarify UnixOperatingSystemMXBean.getOpenFileDescriptorCount() only shows application opened files descriptors.\nBut LSOF (lsof -a -p ) lists other file descriptors opened by kernel on behalf of the process.</p>\n\n<p>To list only application level FDS one can filter out other type of FDs</p>\n\n<p>lsof -a -p yourprocid -d ^txt,^mem,^cwd,^rtd,^DEL</p>\n"},{"comments":[{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":0,"creation_date":1616209902,"post_id":60542157,"comment_id":117938307,"body_markdown":"Not sure if its my OS, but if you use `-K` argument it will report the files opened in all processes. So if I do: `lsof -p &lt;non existant PID&gt; -K | wc -l` outputs the same as `lsof | wc -l`. Only without `-K` seems to work as expected.","body":"Not sure if its my OS, but if you use <code>-K</code> argument it will report the files opened in all processes. So if I do: <code>lsof -p &lt;non existant PID&gt; -K | wc -l</code> outputs the same as <code>lsof | wc -l</code>. Only without <code>-K</code> seems to work as expected."},{"owner":{"account_id":8134725,"reputation":308,"user_id":6126751,"display_name":"Artem Baskakov"},"score":0,"creation_date":1616416093,"post_id":60542157,"comment_id":117986646,"body_markdown":"-K option gives a number of open descriptors for all process tasks. Useful when your process spawn a bunch of subprocesses live java applications do","body":"-K option gives a number of open descriptors for all process tasks. Useful when your process spawn a bunch of subprocesses live java applications do"}],"tags":[],"owner":{"account_id":8134725,"reputation":308,"user_id":6126751,"display_name":"Artem Baskakov"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606481688,"creation_date":1583401060,"answer_id":60542157,"question_id":16360720,"body_markdown":"Sorry for necroposting, but guys, you&#39;re ignoring -K option of lsof cause java have threads, each of them have their own FD that are living in /proc/$PID/tasks/fd/\r\n\r\nand there is A HUGE difference:\r\n\r\n    root@xxx:/root# lsof -p 13553 | wc -l\r\n    612\r\n    root@xxx:/root# lsof -p 13553 -K | wc -l\r\n    112108","title":"How to find out number of files currently open by Java application?","body":"<p>Sorry for necroposting, but guys, you're ignoring -K option of lsof cause java have threads, each of them have their own FD that are living in /proc/$PID/tasks/fd/</p>\n<p>and there is A HUGE difference:</p>\n<pre><code>root@xxx:/root# lsof -p 13553 | wc -l\n612\nroot@xxx:/root# lsof -p 13553 -K | wc -l\n112108\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4233050,"reputation":25930,"user_id":3464971,"display_name":"SuperNova"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601558482,"creation_date":1601558482,"answer_id":64156289,"question_id":16360720,"body_markdown":"In ubuntu, the below `lsof` command works\r\n\r\n    sudo lsof -c java","title":"How to find out number of files currently open by Java application?","body":"<p>In ubuntu, the below <code>lsof</code> command works</p>\n<pre><code>sudo lsof -c java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677946790,"creation_date":1677946790,"answer_id":75636964,"question_id":16360720,"body_markdown":"Better than _counting_ the open files is _listing_ them, and _why_ they were opened (and never closed, or closed only by garbage collection). https://github.com/jenkinsci/lib-file-leak-detector can do this (in a non-production environment).","title":"How to find out number of files currently open by Java application?","body":"<p>Better than <em>counting</em> the open files is <em>listing</em> them, and <em>why</em> they were opened (and never closed, or closed only by garbage collection). <a href=\"https://github.com/jenkinsci/lib-file-leak-detector\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/lib-file-leak-detector</a> can do this (in a non-production environment).</p>\n"}],"owner":{"account_id":148236,"reputation":93535,"user_id":359862,"accept_rate":95,"display_name":"James Raitsev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34256,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":16361505,"answer_count":6,"score":52,"last_activity_date":1677946790,"creation_date":1367589666,"question_id":16360720,"body_markdown":"Suppose a lot of what your application does deals with reading contents of files. It goes without saying that files that are opened then closed and life is good unless ... new files come in faster then old files get closed. This is the pickle of a situation I found myself in.\r\n\r\nNow, is there a way to reliably know how many files are opened by the process? Something that is as reliable as looking at `ls /proc/my_pid/fd | wc -l` from inside the JVM?\r\n\r\nI suspect the answer may be OS-specific, so let me add that I am running Java on Linux.\r\n","title":"How to find out number of files currently open by Java application?","body":"<p>Suppose a lot of what your application does deals with reading contents of files. It goes without saying that files that are opened then closed and life is good unless ... new files come in faster then old files get closed. This is the pickle of a situation I found myself in.</p>\n\n<p>Now, is there a way to reliably know how many files are opened by the process? Something that is as reliable as looking at <code>ls /proc/my_pid/fd | wc -l</code> from inside the JVM?</p>\n\n<p>I suspect the answer may be OS-specific, so let me add that I am running Java on Linux.</p>\n"},{"tags":["java","codeql"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677946772,"creation_date":1677946772,"answer_id":75636963,"question_id":75608344,"body_markdown":"Do you want declaration, assignment and read of the _same_ variable? Because the way your query is currently written just selects combinations of any variable inside the `calc` method.\r\n\r\nAlso, your query might not be very performant because you keep checking the callable name and file. It would probably be more performant (and also easier to read) to introduce a separate variable for that, see the query code further below.\r\n\r\nKeep in mind that CodeQL is a database language, so the intermediate result in your case is a tuple `(LocalVariableDeclExpr, VarAccess, Assignment)`, this means:\r\n1. If a variable has no `Assignment` then the query has no result for that variable (note that initialization of local variables is not considered an `Assignment`, see [GitHub issue](https://github.com/github/codeql/issues/3266))\r\n2. You get permutations of that tuple which are probably not interesting for you, e.g.: `(Decl, Access1, Assign1)`, `(Decl, Access1, Assign2)`, `(Decl, Access2, Assign1)`, ...\r\n\r\nSo maybe it would be more interesting to just for every variable get the `VarAccess` (which covers access for reading and writing to the variable), for example:\r\n```codeql\r\nimport java\r\n\r\nfrom Method method, LocalVariableDeclExpr ld, VarAccess va\r\nwhere\r\n  method.getDeclaringType().hasName(&quot;Calculator&quot;) and\r\n  method.hasName(&quot;calc&quot;) and\r\n  ld.getEnclosingCallable() = method and\r\n  va.getEnclosingCallable() = method and\r\n  // And both belong to the same variable\r\n  ld.getVariable() = va.getVariable()\r\nselect ld, va\r\n```\r\n\r\nAlso note that your query is not related to _dataflow_, it just finds declaration, assignment and usage of variables, which do not necessarily have to be in the right (or even any) order. See the [documentation](https://codeql.github.com/docs/codeql-language-guides/analyzing-data-flow-in-java/) for more information about tracking dataflow. Maybe you are also interested in visualizing the dataflow with [path queries](https://codeql.github.com/docs/writing-codeql-queries/creating-path-queries/#creating-path-queries). It is also important to consider the difference between dataflow and taint tracking. Dataflow only covers cases where the exact same value flows between variables and calls, whereas taint tracking also covers case where the value is converted or transformed, for example obtaining a substring from a string (see also the [documentation](https://codeql.github.com/docs/writing-codeql-queries/about-data-flow-analysis/#normal-data-flow-vs-taint-tracking)).\r\n\r\n","title":"Codeql extract local dataflow of a java method takes so long","body":"<p>Do you want declaration, assignment and read of the <em>same</em> variable? Because the way your query is currently written just selects combinations of any variable inside the <code>calc</code> method.</p>\n<p>Also, your query might not be very performant because you keep checking the callable name and file. It would probably be more performant (and also easier to read) to introduce a separate variable for that, see the query code further below.</p>\n<p>Keep in mind that CodeQL is a database language, so the intermediate result in your case is a tuple <code>(LocalVariableDeclExpr, VarAccess, Assignment)</code>, this means:</p>\n<ol>\n<li>If a variable has no <code>Assignment</code> then the query has no result for that variable (note that initialization of local variables is not considered an <code>Assignment</code>, see <a href=\"https://github.com/github/codeql/issues/3266\" rel=\"nofollow noreferrer\">GitHub issue</a>)</li>\n<li>You get permutations of that tuple which are probably not interesting for you, e.g.: <code>(Decl, Access1, Assign1)</code>, <code>(Decl, Access1, Assign2)</code>, <code>(Decl, Access2, Assign1)</code>, ...</li>\n</ol>\n<p>So maybe it would be more interesting to just for every variable get the <code>VarAccess</code> (which covers access for reading and writing to the variable), for example:</p>\n<pre><code>import java\n\nfrom Method method, LocalVariableDeclExpr ld, VarAccess va\nwhere\n  method.getDeclaringType().hasName(&quot;Calculator&quot;) and\n  method.hasName(&quot;calc&quot;) and\n  ld.getEnclosingCallable() = method and\n  va.getEnclosingCallable() = method and\n  // And both belong to the same variable\n  ld.getVariable() = va.getVariable()\nselect ld, va\n</code></pre>\n<p>Also note that your query is not related to <em>dataflow</em>, it just finds declaration, assignment and usage of variables, which do not necessarily have to be in the right (or even any) order. See the <a href=\"https://codeql.github.com/docs/codeql-language-guides/analyzing-data-flow-in-java/\" rel=\"nofollow noreferrer\">documentation</a> for more information about tracking dataflow. Maybe you are also interested in visualizing the dataflow with <a href=\"https://codeql.github.com/docs/writing-codeql-queries/creating-path-queries/#creating-path-queries\" rel=\"nofollow noreferrer\">path queries</a>. It is also important to consider the difference between dataflow and taint tracking. Dataflow only covers cases where the exact same value flows between variables and calls, whereas taint tracking also covers case where the value is converted or transformed, for example obtaining a substring from a string (see also the <a href=\"https://codeql.github.com/docs/writing-codeql-queries/about-data-flow-analysis/#normal-data-flow-vs-taint-tracking\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n"}],"owner":{"account_id":17211957,"reputation":338,"user_id":12461032,"display_name":"m0ss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75636963,"answer_count":1,"score":0,"last_activity_date":1677946772,"creation_date":1677700501,"question_id":75608344,"body_markdown":"I want to extract the local data flow of a Java method. So far I have this query to extract wherever a variable is accessed, declared, or assigned within the function:\r\n\r\n    /**\r\n     * @name Empty block\r\n     * @kind problem\r\n     * @problem.severity warning\r\n     * @id java/example/empty-block\r\n     */\r\n    \r\n    \r\n     import java\r\n     import semmle.code.java.dataflow.DataFlow\r\n     \r\n    \r\n     from File fl, LocalVariableDeclExpr ld, VarAccess va, Assignment asn\r\n     where \r\n         fl.getBaseName() = &quot;Calculator.java&quot;\r\n         and \r\n         ld.getEnclosingCallable().getName()= &quot;calc&quot;\r\n         and va.getEnclosingCallable().getName() = &quot;calc&quot;\r\n         and asn.getEnclosingCallable().getName() = &quot;calc&quot;\r\n         \r\n         \r\n     and ld.getLocation().getFile() = fl \r\n     and va.getLocation().getFile() = fl \r\n     and asn.getLocation().getFile() = fl \r\n     and va.getLocation().getStartLine() = ld.getLocation().getStartLine()\r\n     select ld, &quot;\\&quot;&quot; + va.getVariable().getName()+&quot;\\&quot;&quot;  + &quot;-&gt;&quot; + &quot;\\&quot;&quot; +ld.getVariable().getName()+&quot;\\&quot;&quot;  + &quot;\\n&quot; + &quot;\\&quot;&quot; +asn.getDest()+&quot;\\&quot;&quot;  + &quot;-&gt;&quot; + &quot;\\&quot;&quot; +asn.getSource()+&quot;\\&quot;&quot;  + &quot;\\n&quot;\r\n\r\n\r\nThe problem is it takes so long in the SELECT phase.\r\nI am using [this][1] repository as a database. The file name is `Calculator.Java` and this is the method:\r\n\r\n \r\n\r\n    public double calc(double x, String input, char opt) {\r\n            inText.setFont(inText.getFont().deriveFont(Font.PLAIN));\r\n            double y = Double.parseDouble(input);\r\n            switch (opt) {\r\n                case &#39;+&#39;:\r\n                    return x + y;\r\n                case &#39;-&#39;:\r\n                    return x - y;\r\n                case &#39;*&#39;:\r\n                    return x * y;\r\n                case &#39;/&#39;:\r\n                    return x / y;\r\n                case &#39;%&#39;:\r\n                    return x % y;\r\n                case &#39;^&#39;:\r\n                    return Math.pow(x, y);\r\n                default:\r\n                    inText.setFont(inText.getFont().deriveFont(Font.PLAIN));\r\n                    return y;\r\n            }\r\n        }\r\n\r\n\r\n\r\n[![pic][2]][2]\r\n\r\n\r\n  [1]: https://github.com/HouariZegai/Calculator/blob/master/src/main/java/com/houarizegai/calculator/Calculator.java\r\n  [2]: https://i.stack.imgur.com/NyqPI.png\r\n\r\nThanks.","title":"Codeql extract local dataflow of a java method takes so long","body":"<p>I want to extract the local data flow of a Java method. So far I have this query to extract wherever a variable is accessed, declared, or assigned within the function:</p>\n<pre><code>/**\n * @name Empty block\n * @kind problem\n * @problem.severity warning\n * @id java/example/empty-block\n */\n\n\n import java\n import semmle.code.java.dataflow.DataFlow\n \n\n from File fl, LocalVariableDeclExpr ld, VarAccess va, Assignment asn\n where \n     fl.getBaseName() = &quot;Calculator.java&quot;\n     and \n     ld.getEnclosingCallable().getName()= &quot;calc&quot;\n     and va.getEnclosingCallable().getName() = &quot;calc&quot;\n     and asn.getEnclosingCallable().getName() = &quot;calc&quot;\n     \n     \n and ld.getLocation().getFile() = fl \n and va.getLocation().getFile() = fl \n and asn.getLocation().getFile() = fl \n and va.getLocation().getStartLine() = ld.getLocation().getStartLine()\n select ld, &quot;\\&quot;&quot; + va.getVariable().getName()+&quot;\\&quot;&quot;  + &quot;-&gt;&quot; + &quot;\\&quot;&quot; +ld.getVariable().getName()+&quot;\\&quot;&quot;  + &quot;\\n&quot; + &quot;\\&quot;&quot; +asn.getDest()+&quot;\\&quot;&quot;  + &quot;-&gt;&quot; + &quot;\\&quot;&quot; +asn.getSource()+&quot;\\&quot;&quot;  + &quot;\\n&quot;\n</code></pre>\n<p>The problem is it takes so long in the SELECT phase.\nI am using <a href=\"https://github.com/HouariZegai/Calculator/blob/master/src/main/java/com/houarizegai/calculator/Calculator.java\" rel=\"nofollow noreferrer\">this</a> repository as a database. The file name is <code>Calculator.Java</code> and this is the method:</p>\n<pre><code>public double calc(double x, String input, char opt) {\n        inText.setFont(inText.getFont().deriveFont(Font.PLAIN));\n        double y = Double.parseDouble(input);\n        switch (opt) {\n            case '+':\n                return x + y;\n            case '-':\n                return x - y;\n            case '*':\n                return x * y;\n            case '/':\n                return x / y;\n            case '%':\n                return x % y;\n            case '^':\n                return Math.pow(x, y);\n            default:\n                inText.setFont(inText.getFont().deriveFont(Font.PLAIN));\n                return y;\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NyqPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NyqPI.png\" alt=\"pic\" /></a></p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":1217812,"reputation":777,"user_id":3887392,"display_name":"Andy Preston"},"score":0,"creation_date":1678106140,"post_id":75635831,"comment_id":133463201,"body_markdown":"Hello and welcome to Stack Overflow.\nPlease read [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-ot-upload-images-of-code-data-errors) to see how you can improve your question.","body":"Hello and welcome to Stack Overflow. Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-ot-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a> to see how you can improve your question."}],"answers":[{"tags":[],"owner":{"account_id":21883249,"reputation":1,"user_id":16171214,"display_name":"Lenny"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677946727,"creation_date":1677946727,"answer_id":75636956,"question_id":75635831,"body_markdown":"Problem solvded!\r\n\r\nBecause i use Thymeleaf version 3.1.1 and and i wrote in pom.xml version for  spring-core, spring-context,spring-wrv,spring-webmvc version 6.0.5.\r\n\r\nSolving is replacing 6.0.6 to 5.3.24 in pom.xml","title":"fix error 404 with practice basic spring-mvc-app","body":"<p>Problem solvded!</p>\n<p>Because i use Thymeleaf version 3.1.1 and and i wrote in pom.xml version for  spring-core, spring-context,spring-wrv,spring-webmvc version 6.0.5.</p>\n<p>Solving is replacing 6.0.6 to 5.3.24 in pom.xml</p>\n"}],"owner":{"account_id":21883249,"reputation":1,"user_id":16171214,"display_name":"Lenny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1677946727,"creation_date":1677934890,"question_id":75635831,"body_markdown":"I study Java and  use the tutorial and ran into a problem &quot;error 404 &quot; with description : &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot; making &quot;hello world&quot; with web.xml, pom.xml, applicationContextMVC.xml, jsp-file and contoller(java class) + html file(view). It&#39;s elementary programm.\r\n\r\nTo solve the problem I used the Internet, some chats with java guru, but it didn’t do any good :(\r\n\r\nMy app use spring-webmvc, spring-web, spring-context, spring-core &lt;- 6.0.5 version also maven(ide) and tomcat 9.0.73 ; java 17\r\n\r\nSome screens: [click][1]\r\n\r\nMy suspicions of Tomcat or maven-war-plugin... \r\n\r\n\r\n  [1]: https://imgbox.com/gallery/edit/q9V4sAhimH/PyNq9HfrHyrZ3iNS\r\n\r\nI&#39;d appreciate any help","title":"fix error 404 with practice basic spring-mvc-app","body":"<p>I study Java and  use the tutorial and ran into a problem &quot;error 404 &quot; with description : &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot; making &quot;hello world&quot; with web.xml, pom.xml, applicationContextMVC.xml, jsp-file and contoller(java class) + html file(view). It's elementary programm.</p>\n<p>To solve the problem I used the Internet, some chats with java guru, but it didn’t do any good :(</p>\n<p>My app use spring-webmvc, spring-web, spring-context, spring-core &lt;- 6.0.5 version also maven(ide) and tomcat 9.0.73 ; java 17</p>\n<p>Some screens: <a href=\"https://imgbox.com/gallery/edit/q9V4sAhimH/PyNq9HfrHyrZ3iNS\" rel=\"nofollow noreferrer\">click</a></p>\n<p>My suspicions of Tomcat or maven-war-plugin...</p>\n<p>I'd appreciate any help</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1499924940,"post_id":45072268,"comment_id":77117165,"body_markdown":"https://docs.oracle.com/javase/tutorial/reflect/member/methodType.html ?","body":"<a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/reflect/member/methodType.ht&zwnj;&#8203;ml</a> ?"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1499925026,"post_id":45072268,"comment_id":77117196,"body_markdown":"see also https://stackoverflow.com/questions/9081212/how-to-get-parameter-names-with-java-reflection","body":"see also <a href=\"https://stackoverflow.com/questions/9081212/how-to-get-parameter-names-with-java-reflection\" title=\"how to get parameter names with java reflection\">stackoverflow.com/questions/9081212/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"score":0,"creation_date":1500206721,"post_id":45122250,"comment_id":77226389,"body_markdown":"This is exactly the way i wannted , before your method , i concatenate the strings myself . that&#39;s painful and ugly codes . tks a lot!","body":"This is exactly the way i wannted , before your method , i concatenate the strings myself . that&#39;s painful and ugly codes . tks a lot!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694157436,"post_id":45122250,"comment_id":135857064,"body_markdown":"@Adams.H since you said you’re using the ASM library, you could have used the [`Type`](https://asm.ow2.io/javadoc/org/objectweb/asm/Type.html) class which does all sorts of conversion in the first place. With built-in Java facilities, you could have used [`MethodType.methodType().toMethodDescriptorString(m.getReturnType(), m.getParameterTypes())`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodType.html#toMethodDescriptorString()) since Java&#160;7. Accessing the `signature` field does not work with recent Java versions.","body":"@Adams.H since you said you’re using the ASM library, you could have used the <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/Type.html\" rel=\"nofollow noreferrer\"><code>Type</code></a> class which does all sorts of conversion in the first place. With built-in Java facilities, you could have used <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodType.html#toMethodDescriptorString()\" rel=\"nofollow noreferrer\"><code>MethodType.methodType().toMethodDescriptorString(m.getReturn&zwnj;&#8203;Type(), m.getParameterTypes())</code></a> since Java 7. Accessing the <code>signature</code> field does not work with recent Java versions."}],"tags":[],"owner":{"account_id":7747230,"reputation":371,"user_id":5864504,"display_name":"Gabriel Tofvesson"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1500149720,"creation_date":1500148732,"answer_id":45122250,"question_id":45072268,"body_markdown":"If all you want is the `signature` field of `java.lang.reflect.Method`, that&#39;s simple:\r\n\r\n    java.lang.reflect.Field f = java.lang.reflect.Method.class.getDeclaredField(&quot;signature&quot;);\r\n    f.setAccessible(true);\r\n    String sigature = f.get(yourMethod);\r\n\r\nWhere `yourMethod` is a Method object.\r\n\r\nKeep in mind: The signature field simply denotes the signature of a generic method, so attempting to get the signature of a non-generic method will simply return `null`.\r\n\r\nFor example, let&#39;s assess the following method:\r\n\r\n    public static &lt;T&gt; void test(Class&lt;T&gt; c){}\r\n\r\nThis will return a signature of `&lt;T:Ljava/lang/Object;&gt;(Ljava/lang/Class&lt;TT;&gt;;)V`\r\n\r\nThis shows that the method declares one generic type \r\nthat must at least inherit `java.lang.Object` and takes a class of that type as a parameter.\r\n\r\nBut, say we were to remove the generic from the method:\r\n\r\n    public static void test(Class c){}\r\n\r\nThis would result in the `signature` field being `null`.\r\n\r\n**Edit:**\r\n\r\nIf you want to get the signature of any method (generic or not), there are a couple of ways to do it, but I find the following to be the most concise (although possibly clunky):\r\n\r\n\r\n\r\n    public static String getSignature(Method m){\r\n        String sig;\r\n        try {\r\n            Field gSig = Method.class.getDeclaredField(&quot;signature&quot;);\r\n            gSig.setAccessible(true);\r\n            sig = (String) gSig.get(m);\r\n            if(sig!=null) return sig;\r\n        } catch (IllegalAccessException | NoSuchFieldException e) { \r\n            e.printStackTrace();\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;(&quot;);\r\n        for(Class&lt;?&gt; c : m.getParameterTypes()) \r\n            sb.append((sig=Array.newInstance(c, 0).toString())\r\n                .substring(1, sig.indexOf(&#39;@&#39;)));\r\n        return sb.append(&#39;)&#39;)\r\n            .append(\r\n                m.getReturnType()==void.class?&quot;V&quot;:\r\n                (sig=Array.newInstance(m.getReturnType(), 0).toString()).substring(1, sig.indexOf(&#39;@&#39;))\r\n            )\r\n            .toString();\r\n    }","title":"How can i get the `signature` field of java reflection Method object","body":"<p>If all you want is the <code>signature</code> field of <code>java.lang.reflect.Method</code>, that's simple:</p>\n\n<pre><code>java.lang.reflect.Field f = java.lang.reflect.Method.class.getDeclaredField(\"signature\");\nf.setAccessible(true);\nString sigature = f.get(yourMethod);\n</code></pre>\n\n<p>Where <code>yourMethod</code> is a Method object.</p>\n\n<p>Keep in mind: The signature field simply denotes the signature of a generic method, so attempting to get the signature of a non-generic method will simply return <code>null</code>.</p>\n\n<p>For example, let's assess the following method:</p>\n\n<pre><code>public static &lt;T&gt; void test(Class&lt;T&gt; c){}\n</code></pre>\n\n<p>This will return a signature of <code>&lt;T:Ljava/lang/Object;&gt;(Ljava/lang/Class&lt;TT;&gt;;)V</code></p>\n\n<p>This shows that the method declares one generic type \nthat must at least inherit <code>java.lang.Object</code> and takes a class of that type as a parameter.</p>\n\n<p>But, say we were to remove the generic from the method:</p>\n\n<pre><code>public static void test(Class c){}\n</code></pre>\n\n<p>This would result in the <code>signature</code> field being <code>null</code>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>If you want to get the signature of any method (generic or not), there are a couple of ways to do it, but I find the following to be the most concise (although possibly clunky):</p>\n\n<pre><code>public static String getSignature(Method m){\n    String sig;\n    try {\n        Field gSig = Method.class.getDeclaredField(\"signature\");\n        gSig.setAccessible(true);\n        sig = (String) gSig.get(m);\n        if(sig!=null) return sig;\n    } catch (IllegalAccessException | NoSuchFieldException e) { \n        e.printStackTrace();\n    }\n\n    StringBuilder sb = new StringBuilder(\"(\");\n    for(Class&lt;?&gt; c : m.getParameterTypes()) \n        sb.append((sig=Array.newInstance(c, 0).toString())\n            .substring(1, sig.indexOf('@')));\n    return sb.append(')')\n        .append(\n            m.getReturnType()==void.class?\"V\":\n            (sig=Array.newInstance(m.getReturnType(), 0).toString()).substring(1, sig.indexOf('@'))\n        )\n        .toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5589565,"reputation":928,"user_id":4429205,"display_name":"DexterHaxxor"},"score":0,"creation_date":1598459036,"post_id":61252638,"comment_id":112468163,"body_markdown":"except that no, it doesn&#39;t","body":"except that no, it doesn&#39;t"},{"owner":{"account_id":3203466,"reputation":18087,"user_id":2705055,"accept_rate":20,"display_name":"Martin Rosenau"},"score":1,"creation_date":1631861819,"post_id":61252638,"comment_id":122341693,"body_markdown":"@MichalŠtein I just tried this out: Gabriel Tofvesson&#39;s code returned `&quot;(ILjava.lang.String;)I&quot;` in my example; `&quot;(ILjava/lang/String;)I&quot;` would be correct.","body":"@MichalŠtein I just tried this out: Gabriel Tofvesson&#39;s code returned <code>&quot;(ILjava.lang.String;)I&quot;</code> in my example; <code>&quot;(ILjava&#47;lang&#47;String;)I&quot;</code> would be correct."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694157810,"post_id":61252638,"comment_id":135857125,"body_markdown":"@DexterHaxxor what is “it” and what does it not do?","body":"@DexterHaxxor what is “it” and what does it not do?"}],"tags":[],"owner":{"account_id":5248758,"reputation":33,"user_id":4193639,"display_name":"Jan"},"comment_count":3,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1631862093,"creation_date":1587047071,"answer_id":61252638,"question_id":45072268,"body_markdown":"Replacing &#39;.&#39; with &#39;/&#39; makes Gabriel Tofvesson&#39;s answer complete:\r\n\r\n    ... .toString().replace(&#39;.&#39;, &#39;/&#39;);\r\n\r\nOtherwise, the signature returned would be something like `()Ljava.lang.Object;`. However, in signatures, the package names must be separated using slashes instead of periods: `()Ljava/lang/Object;`.","title":"How can i get the `signature` field of java reflection Method object","body":"<p>Replacing '.' with '/' makes Gabriel Tofvesson's answer complete:</p>\n<pre><code>... .toString().replace('.', '/');\n</code></pre>\n<p>Otherwise, the signature returned would be something like <code>()Ljava.lang.Object;</code>. However, in signatures, the package names must be separated using slashes instead of periods: <code>()Ljava/lang/Object;</code>.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1678030151,"post_id":75636927,"comment_id":133450068,"body_markdown":"Did you read the question? It is about the **generic** signature. Your code doesn&#39;t produce that.","body":"Did you read the question? It is about the <b>generic</b> signature. Your code doesn&#39;t produce that."},{"owner":{"account_id":352030,"reputation":848,"user_id":688895,"display_name":"KAlO2"},"score":0,"creation_date":1678085862,"post_id":75636927,"comment_id":133458037,"body_markdown":"@JohannesKuhn what do you mean by saying generic?","body":"@JohannesKuhn what do you mean by saying generic?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1678104136,"post_id":75636927,"comment_id":133462686,"body_markdown":"See [JVMS &#167;4.7.9.1](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9.1)","body":"See <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.9.1\" rel=\"nofollow noreferrer\">JVMS &#167;4.7.9.1</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694157700,"post_id":75636927,"comment_id":135857104,"body_markdown":"@JohannesKuhn I did read the question and I didn’t encounter the word generic at all. The accepted answer points out that this field holds generic signatures only, but that’s not sufficient to retroactively reinterpret the question.","body":"@JohannesKuhn I did read the question and I didn’t encounter the word generic at all. The accepted answer points out that this field holds generic signatures only, but that’s not sufficient to retroactively reinterpret the question."}],"tags":[],"owner":{"account_id":352030,"reputation":848,"user_id":688895,"display_name":"KAlO2"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677946705,"creation_date":1677946396,"answer_id":75636927,"question_id":45072268,"body_markdown":"[Here][1] is a map from letter to type signataure.\r\n\r\n&gt; **Type Signature  -&gt;  Java Type**  \r\n&gt; Z  -&gt;  boolean  \r\n&gt; B  -&gt;  byte\r\n&gt; C  -&gt;  char  \r\n&gt; S  -&gt;  short  \r\n&gt; I  -&gt;  int  \r\n&gt; J  -&gt;  long  \r\n&gt; F  -&gt;  float  \r\n&gt; D  -&gt;  double  \r\n&gt; Lfully-qualified-class;  -&gt;  fully-qualified-class  \r\n&gt; [ type                   -&gt;  type[]  \r\n&gt; (arg-types)ret-type      -&gt;  method type\r\n\r\n    // Holds a mapping from Java type names to native type codes.\r\n    private static final Map&lt;Class&lt;?&gt;, String&gt; PRIMITIVE_TO_SIGNATURE;\r\n    static {\r\n        PRIMITIVE_TO_SIGNATURE = new HashMap&lt;Class&lt;?&gt;, String&gt;(9);\r\n        PRIMITIVE_TO_SIGNATURE.put(byte.class, &quot;B&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(char.class, &quot;C&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(short.class, &quot;S&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(int.class, &quot;I&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(long.class, &quot;J&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(float.class, &quot;F&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(double.class, &quot;D&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(void.class, &quot;V&quot;);\r\n        PRIMITIVE_TO_SIGNATURE.put(boolean.class, &quot;Z&quot;);\r\n    }\r\n    \r\n    /**\r\n     * Returns the internal name of {@code clazz} (also known as the descriptor).\r\n     */\r\n    public static String getSignature(Class&lt;?&gt; clazz) {\r\n        String primitiveSignature = PRIMITIVE_TO_SIGNATURE.get(clazz);\r\n        if (primitiveSignature != null) {\r\n            return primitiveSignature;\r\n        } else if (clazz.isArray()) {\r\n            return &quot;[&quot; + getSignature(clazz.getComponentType());\r\n        } else {\r\n            return &quot;L&quot; + clazz.getName().replace(&#39;.&#39;, &#39;/&#39;) + &quot;;&quot;;\r\n        }\r\n    }\r\n\r\nthen, we get signature from java.lang.reflect.Method like this:\r\n\r\n    public static String getSignature(Method method) {\r\n        StringBuilder result = new StringBuilder();\r\n        result.append(&#39;(&#39;);\r\n        Class&lt;?&gt;[] parameterTypes = method.getParameterTypes();\r\n        for (Class&lt;?&gt; parameterType : parameterTypes) {\r\n            result.append(getSignature(parameterType));\r\n        }\r\n        result.append(&#39;)&#39;);\r\n        result.append(getSignature(method.getReturnType()));\r\n        return result.toString();\r\n    }\r\n\r\nwe print java.lang.Object class all methods&#39; signature:\r\n\r\n    Method[] methods = Object.class.getDeclaredMethods();\r\n\tfor(Method method: methods) {\r\n\t\tString signature = getSignature(method);\r\n\t\tSystem.out.println(method.getName() + &quot;  &quot; + signature);\r\n\t}\r\n\r\nand it prints\r\n\r\n&gt; finalize  ()V  \r\n&gt; wait  (J)V  \r\n&gt; wait  (JI)V  \r\n&gt; wait  ()V  \r\n&gt; equals  (Ljava/lang/Object;)Z  \r\n&gt; toString  ()Ljava/lang/String;  \r\n&gt; hashCode  ()I  \r\n&gt; getClass  ()Ljava/lang/Class;  \r\n&gt; clone   ()Ljava/lang/Object;  \r\n&gt; notify  ()V  \r\n&gt; notifyAll  ()V  \r\n&gt; registerNativces  ()V  \r\n\r\nAbove are some Java codes. we can also get signature from Java builtin command **javap**, -s for signature info. For example, we can get java.lang.Object class with this command `javap -s java.lang.Object`:\r\n\r\n&gt; Compiled from &quot;Object.java&quot;  \r\n&gt; public class java.lang.Object {  \r\n&gt;  public java.lang.Object();  \r\n&gt;    descriptor: ()V  \r\n&gt;  \r\n&gt;  public final native java.lang.Class&lt;?&gt; getClass();  \r\n&gt;    descriptor: ()Ljava/lang/Class;  \r\n&gt;  \r\n&gt;   public native int hashCode();  \r\n&gt;     descriptor: ()I  \r\n&gt;   \r\n&gt;   public boolean equals(java.lang.Object);  \r\n&gt;     descriptor: (Ljava/lang/Object;)Z  \r\n&gt;   \r\n&gt;   protected native java.lang.Object clone() throws java.lang.CloneNotSupportedException;  \r\n&gt;     descriptor: ()Ljava/lang/Object;  \r\n&gt;   \r\n&gt;   public java.lang.String toString();  \r\n&gt;     descriptor: ()Ljava/lang/String;  \r\n&gt;   \r\n&gt;   public final native void notify();  \r\n&gt;     descriptor: ()V  \r\n&gt;   \r\n&gt;   public final native void notifyAll();  \r\n&gt;     descriptor: ()V  \r\n&gt;   \r\n&gt;   public final void wait() throws java.lang.InterruptedException;  \r\n&gt;     descriptor: ()V  \r\n&gt;   \r\n&gt;   public final native void wait(long) throws java.lang.InterruptedException;  \r\n&gt;     descriptor: (J)V  \r\n&gt;   \r\n&gt;   public final void wait(long, int) throws java.lang.InterruptedException;  \r\n&gt;     descriptor: (JI)V  \r\n&gt;   \r\n&gt;   protected void finalize() throws java.lang.Throwable;  \r\n&gt;     descriptor: ()V  \r\n&gt;   \r\n&gt;   static {};  \r\n&gt;     descriptor: ()V  \r\n&gt; }  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html","title":"How can i get the `signature` field of java reflection Method object","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html\" rel=\"nofollow noreferrer\">Here</a> is a map from letter to type signataure.</p>\n<blockquote>\n<p><strong>Type Signature  -&gt;  Java Type</strong><br />\nZ  -&gt;  boolean<br />\nB  -&gt;  byte\nC  -&gt;  char<br />\nS  -&gt;  short<br />\nI  -&gt;  int<br />\nJ  -&gt;  long<br />\nF  -&gt;  float<br />\nD  -&gt;  double<br />\nLfully-qualified-class;  -&gt;  fully-qualified-class<br />\n[ type                   -&gt;  type[]<br />\n(arg-types)ret-type      -&gt;  method type</p>\n</blockquote>\n<pre><code>// Holds a mapping from Java type names to native type codes.\nprivate static final Map&lt;Class&lt;?&gt;, String&gt; PRIMITIVE_TO_SIGNATURE;\nstatic {\n    PRIMITIVE_TO_SIGNATURE = new HashMap&lt;Class&lt;?&gt;, String&gt;(9);\n    PRIMITIVE_TO_SIGNATURE.put(byte.class, &quot;B&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(char.class, &quot;C&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(short.class, &quot;S&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(int.class, &quot;I&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(long.class, &quot;J&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(float.class, &quot;F&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(double.class, &quot;D&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(void.class, &quot;V&quot;);\n    PRIMITIVE_TO_SIGNATURE.put(boolean.class, &quot;Z&quot;);\n}\n\n/**\n * Returns the internal name of {@code clazz} (also known as the descriptor).\n */\npublic static String getSignature(Class&lt;?&gt; clazz) {\n    String primitiveSignature = PRIMITIVE_TO_SIGNATURE.get(clazz);\n    if (primitiveSignature != null) {\n        return primitiveSignature;\n    } else if (clazz.isArray()) {\n        return &quot;[&quot; + getSignature(clazz.getComponentType());\n    } else {\n        return &quot;L&quot; + clazz.getName().replace('.', '/') + &quot;;&quot;;\n    }\n}\n</code></pre>\n<p>then, we get signature from java.lang.reflect.Method like this:</p>\n<pre><code>public static String getSignature(Method method) {\n    StringBuilder result = new StringBuilder();\n    result.append('(');\n    Class&lt;?&gt;[] parameterTypes = method.getParameterTypes();\n    for (Class&lt;?&gt; parameterType : parameterTypes) {\n        result.append(getSignature(parameterType));\n    }\n    result.append(')');\n    result.append(getSignature(method.getReturnType()));\n    return result.toString();\n}\n</code></pre>\n<p>we print java.lang.Object class all methods' signature:</p>\n<pre><code>Method[] methods = Object.class.getDeclaredMethods();\nfor(Method method: methods) {\n    String signature = getSignature(method);\n    System.out.println(method.getName() + &quot;  &quot; + signature);\n}\n</code></pre>\n<p>and it prints</p>\n<blockquote>\n<p>finalize  ()V<br />\nwait  (J)V<br />\nwait  (JI)V<br />\nwait  ()V<br />\nequals  (Ljava/lang/Object;)Z<br />\ntoString  ()Ljava/lang/String;<br />\nhashCode  ()I<br />\ngetClass  ()Ljava/lang/Class;<br />\nclone   ()Ljava/lang/Object;<br />\nnotify  ()V<br />\nnotifyAll  ()V<br />\nregisterNativces  ()V</p>\n</blockquote>\n<p>Above are some Java codes. we can also get signature from Java builtin command <strong>javap</strong>, -s for signature info. For example, we can get java.lang.Object class with this command <code>javap -s java.lang.Object</code>:</p>\n<blockquote>\n<p>Compiled from &quot;Object.java&quot;<br />\npublic class java.lang.Object {<br />\npublic java.lang.Object();<br />\ndescriptor: ()V</p>\n<p>public final native java.lang.Class&lt;?&gt; getClass();<br />\ndescriptor: ()Ljava/lang/Class;</p>\n<p>public native int hashCode();<br />\ndescriptor: ()I</p>\n<p>public boolean equals(java.lang.Object);<br />\ndescriptor: (Ljava/lang/Object;)Z</p>\n<p>protected native java.lang.Object clone() throws java.lang.CloneNotSupportedException;<br />\ndescriptor: ()Ljava/lang/Object;</p>\n<p>public java.lang.String toString();<br />\ndescriptor: ()Ljava/lang/String;</p>\n<p>public final native void notify();<br />\ndescriptor: ()V</p>\n<p>public final native void notifyAll();<br />\ndescriptor: ()V</p>\n<p>public final void wait() throws java.lang.InterruptedException;<br />\ndescriptor: ()V</p>\n<p>public final native void wait(long) throws java.lang.InterruptedException;<br />\ndescriptor: (J)V</p>\n<p>public final void wait(long, int) throws java.lang.InterruptedException;<br />\ndescriptor: (JI)V</p>\n<p>protected void finalize() throws java.lang.Throwable;<br />\ndescriptor: ()V</p>\n<p>static {};<br />\ndescriptor: ()V<br />\n}</p>\n</blockquote>\n"}],"owner":{"account_id":3470996,"reputation":1633,"user_id":2905284,"accept_rate":50,"display_name":"Adams.H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11915,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45122250,"answer_count":3,"score":4,"last_activity_date":1677946705,"creation_date":1499924572,"question_id":45072268,"body_markdown":"i&#39;m using ASM to build class file base on another `Interface` , i could use java reflection to get methods of the `Interface` , but i need to get the signature of it . \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MoGP1.png\r\n\r\ni found it&#39;s a private field , and there&#39;s no direct method to get it . is there any way out ? i use jdk7 . \r\ntks advance .","title":"How can i get the `signature` field of java reflection Method object","body":"<p>i'm using ASM to build class file base on another <code>Interface</code> , i could use java reflection to get methods of the <code>Interface</code> , but i need to get the signature of it . \n<a href=\"https://i.stack.imgur.com/MoGP1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MoGP1.png\" alt=\"enter image description here\"></a></p>\n\n<p>i found it's a private field , and there's no direct method to get it . is there any way out ? i use jdk7 . \ntks advance .</p>\n"},{"tags":["java","io","inputstream","monitoring","filehandle"],"comments":[{"owner":{"account_id":1429320,"reputation":2884,"user_id":1352098,"display_name":"Ivan Mamontov"},"score":0,"creation_date":1488297004,"post_id":42507412,"comment_id":72163536,"body_markdown":"Are you interesting in open file descriptor count? In case of count you can use java.lang.management.ManagementFactory.getOperatingSystemMXBean().getOpenFileDescriptorCount(). Is it enough for you?","body":"Are you interesting in open file descriptor count? In case of count you can use java.lang.management.ManagementFactory.getOperatingSystemMXB&zwnj;&#8203;ean().getOpenFileDes&zwnj;&#8203;criptorCount(). Is it enough for you?"},{"owner":{"account_id":10351887,"reputation":1,"user_id":7635070,"display_name":"Tobias Lippert"},"score":0,"creation_date":1488360225,"post_id":42507412,"comment_id":72191367,"body_markdown":"Well I tried that already, but the compiler complains about `getOpenFileDescriptorCount()` not to be found. I found a sollution for Linux elsewhere where they casted `getOperatingSystemMXB‌​ean()` to a UnixOSMXBean, but there was no equivalent for other operating systems.\nBut thank you for replying","body":"Well I tried that already, but the compiler complains about <code>getOpenFileDescriptorCount()</code> not to be found. I found a sollution for Linux elsewhere where they casted <code>getOperatingSystemMXB‌​ean()</code> to a UnixOSMXBean, but there was no equivalent for other operating systems. But thank you for replying"}],"answers":[{"comments":[{"owner":{"account_id":10351887,"reputation":1,"user_id":7635070,"display_name":"Tobias Lippert"},"score":0,"creation_date":1488360029,"post_id":42507789,"comment_id":72191216,"body_markdown":"As I&#39;m dealing with `URL.openStream()` this would force me to rewrite a big part of `java.net.URL` and its components. Unfortunately this is killing my time resources and blowing up the rest of the product... Seems like I have to capitulate and tell my boss its not doable with affordable complexity","body":"As I&#39;m dealing with <code>URL.openStream()</code> this would force me to rewrite a big part of <code>java.net.URL</code> and its components. Unfortunately this is killing my time resources and blowing up the rest of the product... Seems like I have to capitulate and tell my boss its not doable with affordable complexity"}],"tags":[],"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488281937,"creation_date":1488281937,"answer_id":42507789,"question_id":42507412,"body_markdown":"The solution you don&#39;t really like seems to be the best one, you can simply emit a message, for example through an EventBus (you have it in Guava), whenever you open or close a file. Your `ManagedFileInputStream` has just to call `enventBus.post(someFilePointer)` and `super.open()` or `super.close()`\r\n.\r\n\r\nBut there are many other file that could be opened by your application (jar files,  web resources like css , images, scripts, temporary file created by tomcat , temporary files created by the JVM).\r\n\r\nI think that there is no sensible way to monitor all file opened by a java application from within the java Application, maybe that&#39;s something for the OS to manage.","title":"Monitor open file handles in Java - OS-independent","body":"<p>The solution you don't really like seems to be the best one, you can simply emit a message, for example through an EventBus (you have it in Guava), whenever you open or close a file. Your <code>ManagedFileInputStream</code> has just to call <code>enventBus.post(someFilePointer)</code> and <code>super.open()</code> or <code>super.close()</code>\n.</p>\n\n<p>But there are many other file that could be opened by your application (jar files,  web resources like css , images, scripts, temporary file created by tomcat , temporary files created by the JVM).</p>\n\n<p>I think that there is no sensible way to monitor all file opened by a java application from within the java Application, maybe that's something for the OS to manage.</p>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677946677,"creation_date":1677946677,"answer_id":75636952,"question_id":42507412,"body_markdown":"https://github.com/jenkinsci/lib-file-leak-detector can do this provided you have enough control of the environment to pass `-javaagent`. It would not be appropriate to run in production.","title":"Monitor open file handles in Java - OS-independent","body":"<p><a href=\"https://github.com/jenkinsci/lib-file-leak-detector\" rel=\"nofollow noreferrer\">https://github.com/jenkinsci/lib-file-leak-detector</a> can do this provided you have enough control of the environment to pass <code>-javaagent</code>. It would not be appropriate to run in production.</p>\n"}],"owner":{"account_id":10351887,"reputation":1,"user_id":7635070,"display_name":"Tobias Lippert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677946677,"creation_date":1488280895,"question_id":42507412,"body_markdown":"my issue is to monitor open file handles in java and being independent from the type of OS (Linux, Windows, etc)\r\n\r\nMy Application is a web based server application running with tomcat and Java8.\r\n\r\nFor a possible solution only the Java-Language itself and both, *Guava* and *Apache Commons*, are to be considered as my company does not allow the use of any other third party libraries.\r\n\r\nAny suggestions on how to do that? I already thought of inheriting an `InputStream` and injecting some stuff into its  `open()` and `close()` methods but this is not really whats I consider a &quot;good&quot; solution...\r\n\r\nI&#39;d be very thankful for your help!","title":"Monitor open file handles in Java - OS-independent","body":"<p>my issue is to monitor open file handles in java and being independent from the type of OS (Linux, Windows, etc)</p>\n\n<p>My Application is a web based server application running with tomcat and Java8.</p>\n\n<p>For a possible solution only the Java-Language itself and both, <em>Guava</em> and <em>Apache Commons</em>, are to be considered as my company does not allow the use of any other third party libraries.</p>\n\n<p>Any suggestions on how to do that? I already thought of inheriting an <code>InputStream</code> and injecting some stuff into its  <code>open()</code> and <code>close()</code> methods but this is not really whats I consider a \"good\" solution...</p>\n\n<p>I'd be very thankful for your help!</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"owner":{"account_id":26340520,"reputation":1,"user_id":20632865,"display_name":"Jurabek Rustamov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678010613,"answer_count":0,"score":0,"last_activity_date":1677945763,"creation_date":1677933509,"question_id":75635710,"body_markdown":"When I run my program in IntelliJ IDEA, I have that error\r\n\r\n&gt; Error: Could not find or load main class\r\n&gt; com.example.ServingWebContentApplication Caused by:\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; com.example.ServingWebContentApplication\r\n\r\nThere is screen my `Intellij IDEA`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is my `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;LetsCodeSpringSweater&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hzZ67.png","title":"Could not find or load main class com.example.ServingWebContentApplication","body":"<p>When I run my program in IntelliJ IDEA, I have that error</p>\n<blockquote>\n<p>Error: Could not find or load main class\ncom.example.ServingWebContentApplication Caused by:\njava.lang.ClassNotFoundException:\ncom.example.ServingWebContentApplication</p>\n</blockquote>\n<p>There is screen my <code>Intellij IDEA</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/hzZ67.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzZ67.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;LetsCodeSpringSweater&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":2641602,"reputation":115,"user_id":2285117,"display_name":"Mahendra Dabi"},"score":0,"creation_date":1677945471,"post_id":75636143,"comment_id":133439134,"body_markdown":"update the Gradel wrapper file and try again with the below-snipped code                       \n   #Sat Mar 04 19:19:57 IST 2023\ndistributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME","body":"update the Gradel wrapper file and try again with the below-snipped code                           #Sat Mar 04 19:19:57 IST 2023 distributionBase=GRADLE_USER_HOME distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.4-bin.zip distributionPath=wrapper/dists zipStorePath=wrapper/dists zipStoreBase=GRADLE_USER_HOME"}],"answers":[{"tags":[],"owner":{"account_id":2641602,"reputation":115,"user_id":2285117,"display_name":"Mahendra Dabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677945633,"creation_date":1677945633,"answer_id":75636853,"question_id":75636143,"body_markdown":"CHANGE IN THE WRAPPER GRADLE FILE WITH THE BELOW CONTENT\r\n\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    \r\n    //CHANGE THIS LINE OF CODE.\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip","title":"Gradle Errors while updating","body":"<p>CHANGE IN THE WRAPPER GRADLE FILE WITH THE BELOW CONTENT</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n\n//CHANGE THIS LINE OF CODE.\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\n</code></pre>\n"}],"owner":{"account_id":25160941,"reputation":39,"user_id":19005139,"display_name":"PCAPS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677945633,"creation_date":1677938489,"question_id":75636143,"body_markdown":"I am working on a very old project[![enter image description here][1]][1]\r\n\r\n\r\nIts gradle version and plugin was very outdated\r\n\r\nWhen I am trying to update both to the latest version, its giving me lot of errors.\r\nErrors:\r\n```\r\nA problem occurred configuring root project &#39;android_calorie_counter-master&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.1.\r\n     Required by:\r\n         project :\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0.2&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0.2&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0.2&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0.2&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0.2&#39;)\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;android_calorie_counter-master&#39;.\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\r\n...\r\n```\r\nI am not even able to use constraint layout and other new stuffs. \r\n\r\nMy gradle build \r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 27\r\n    buildToolsVersion &quot;27.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.vladnamik.developer&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    api fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    api &#39;com.android.support:appcompat-v7:27.1.1+&#39;\r\n    api &#39;com.android.support:design:27.1.1&#39;\r\n}\r\n```\r\nGradel properties:\r\n```\r\n# Project-wide Gradle settings.\r\n\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\r\n# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n```\r\nGradel wrapper:\r\n```\r\n#Sat Mar 04 19:19:57 IST 2023\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.8.1-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n\r\nAlso my project is giving me AppCompatActivity errors(cannot resolve AppCompatActivity) but the app is working fine \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9o0PO.png\r\n  [2]: https://i.stack.imgur.com/eAoRk.png\r\n\r\nPlease can someone help me out I am very newbie in android development","title":"Gradle Errors while updating","body":"<p>I am working on a very old project<a href=\"https://i.stack.imgur.com/9o0PO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9o0PO.png\" alt=\"enter image description here\" /></a></p>\n<p>Its gradle version and plugin was very outdated</p>\n<p>When I am trying to update both to the latest version, its giving me lot of errors.\nErrors:</p>\n<pre><code>A problem occurred configuring root project 'android_calorie_counter-master'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.1.\n     Required by:\n         project :\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0.2' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.1 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0.2')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0.2')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0.2')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0.2')\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'android_calorie_counter-master'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:84)\n...\n</code></pre>\n<p>I am not even able to use constraint layout and other new stuffs.</p>\n<p>My gradle build</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion &quot;27.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.vladnamik.developer&quot;\n        minSdkVersion 15\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    api fileTree(dir: 'libs', include: ['*.jar'])\n    testImplementation 'junit:junit:4.12'\n    api 'com.android.support:appcompat-v7:27.1.1+'\n    api 'com.android.support:design:27.1.1'\n}\n</code></pre>\n<p>Gradel properties:</p>\n<pre><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\n# Default value: -Xmx10248m -XX:MaxPermSize=256m\n# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n</code></pre>\n<p>Gradel wrapper:</p>\n<pre><code>#Sat Mar 04 19:19:57 IST 2023\ndistributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.8.1-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>Also my project is giving me AppCompatActivity errors(cannot resolve AppCompatActivity) but the app is working fine\n<a href=\"https://i.stack.imgur.com/eAoRk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eAoRk.png\" alt=\"enter image description here\" /></a></p>\n<p>Please can someone help me out I am very newbie in android development</p>\n"},{"tags":["java","collections","java-8","group-by"],"comments":[{"owner":{"account_id":13014309,"reputation":467,"user_id":9406165,"display_name":"CodingTil"},"score":1,"creation_date":1586373020,"post_id":61108086,"comment_id":108108024,"body_markdown":"I don&#39;t quite get what you are trying to do. Could you give a more elaborative example. What is your input, what should your output be, where exactly is the problem / where do you need help?","body":"I don&#39;t quite get what you are trying to do. Could you give a more elaborative example. What is your input, what should your output be, where exactly is the problem / where do you need help?"},{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":0,"creation_date":1586373276,"post_id":61108086,"comment_id":108108125,"body_markdown":"1. Input is - A list of employee. 2. Output would be employee group name which will be grouped by department id and employee id. 3. I want the way how we can group by multiple fields in above cases.","body":"1. Input is - A list of employee. 2. Output would be employee group name which will be grouped by department id and employee id. 3. I want the way how we can group by multiple fields in above cases."}],"answers":[{"comments":[{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":0,"creation_date":1586373476,"post_id":61108236,"comment_id":108108227,"body_markdown":"If you see, the fields which I want to group by is Integer and String. So just doing your solution will not help I guess.","body":"If you see, the fields which I want to group by is Integer and String. So just doing your solution will not help I guess."},{"owner":{"account_id":1425810,"reputation":1413,"user_id":1349365,"accept_rate":44,"display_name":"Moshi"},"score":0,"creation_date":1586411813,"post_id":61108236,"comment_id":108119106,"body_markdown":"I guess it will work fine, you can create one of `Tuples` like `Pair` with any `datatype` combined.","body":"I guess it will work fine, you can create one of <code>Tuples</code> like <code>Pair</code> with any <code>datatype</code> combined."}],"tags":[],"owner":{"account_id":1425810,"reputation":1413,"user_id":1349365,"accept_rate":44,"display_name":"Moshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586373049,"creation_date":1586373049,"answer_id":61108236,"question_id":61108086,"body_markdown":"As I understand, you just want to do `groupBy` with `EmployeeId` and `DepartmentId` so that afterward you can uniquely identify an employee with this combined property. \r\n\r\nYou can use `stream` combined with `Tuple`, code will look like this:\r\n\r\n`Map&lt;Tuple, List&lt;Emplyee&gt;&gt; map = employees.stream()\r\n  .collect(groupingBy(employee-&gt; new Tuple(employee.getEmployeeId(), employee.getDepartmentId())));`","title":"Group By List of object on multiple fields Java 8","body":"<p>As I understand, you just want to do <code>groupBy</code> with <code>EmployeeId</code> and <code>DepartmentId</code> so that afterward you can uniquely identify an employee with this combined property. </p>\n\n<p>You can use <code>stream</code> combined with <code>Tuple</code>, code will look like this:</p>\n\n<p><code>Map&lt;Tuple, List&lt;Emplyee&gt;&gt; map = employees.stream()\n  .collect(groupingBy(employee-&gt; new Tuple(employee.getEmployeeId(), employee.getDepartmentId())));</code></p>\n"},{"comments":[{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":1,"creation_date":1586373367,"post_id":61108312,"comment_id":108108171,"body_markdown":"This is exactly, what I was expecting and thinking. let me try this approach. Thank you @Jacob","body":"This is exactly, what I was expecting and thinking. let me try this approach. Thank you @Jacob"},{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":0,"creation_date":1586373930,"post_id":61108312,"comment_id":108108452,"body_markdown":"What you expect in Case#2? @Jacob G.","body":"What you expect in Case#2? @Jacob G."},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1586374067,"post_id":61108312,"comment_id":108108511,"body_markdown":"Without running the code, I&#39;d expect the result `Map` for Case #2 to be: `{&quot;Dept001&quot;={100=[Employee[&quot;Dept001&quot;, 100, &quot;Admin&quot;], Employee[&quot;Dept001&quot;, 100, &quot;Contrator&quot;]]}}`","body":"Without running the code, I&#39;d expect the result <code>Map</code> for Case #2 to be: <code>{&quot;Dept001&quot;={100=[Employee[&quot;Dept001&quot;, 100, &quot;Admin&quot;], Employee[&quot;Dept001&quot;, 100, &quot;Contrator&quot;]]}}</code>"},{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":0,"creation_date":1586374268,"post_id":61108312,"comment_id":108108604,"body_markdown":"This was expected; but this not happening. The output is: {&quot;Dept001&quot;: {100: [Employee[&quot;Dept001&quot;, 100, &quot;Admin&quot;]]}}","body":"This was expected; but this not happening. The output is: {&quot;Dept001&quot;: {100: [Employee[&quot;Dept001&quot;, 100, &quot;Admin&quot;]]}}"},{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1586374326,"post_id":61108312,"comment_id":108108633,"body_markdown":"@DeskToDevelop I suspect your `Employee#equals` and `Employee#hashCode` methods were not overridden correctly; are you able to edit your question to include them?","body":"@DeskToDevelop I suspect your <code>Employee#equals</code> and <code>Employee#hashCode</code> methods were not overridden correctly; are you able to edit your question to include them?"},{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":1,"creation_date":1586374708,"post_id":61108312,"comment_id":108108815,"body_markdown":"Thanks. You just saved me. I dont know what I was doing. Cheers","body":"Thanks. You just saved me. I dont know what I was doing. Cheers"}],"tags":[],"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586373280,"creation_date":1586373280,"answer_id":61108312,"question_id":61108086,"body_markdown":"Grouping by multiple fields is going to require multiple calls to [`Collectors#groupingBy`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)). Luckily, the second parameter of the overloaded [`Collectors#groupingBy`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)) method is another [`Collector`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collector.html), so it can simply be invoked twice.\r\n\r\n    Map&lt;String, Map&lt;Integer, Set&lt;Employee&gt;&gt;&gt; map = myList.stream()\r\n        .collect(Collectors.groupingBy(Employee::getDepartmentId, \r\n            Collectors.groupingBy(Employee::getEmployeeId, Collectors.toSet())));\r\n\r\nNote that the value of the `Map` is another `Map`; the first of which is keyed with the employees&#39; department ID, and the second is keyed with the employees&#39; employee ID.","title":"Group By List of object on multiple fields Java 8","body":"<p>Grouping by multiple fields is going to require multiple calls to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Collectors#groupingBy</code></a>. Luckily, the second parameter of the overloaded <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Collectors#groupingBy</code></a> method is another <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a>, so it can simply be invoked twice.</p>\n\n<pre><code>Map&lt;String, Map&lt;Integer, Set&lt;Employee&gt;&gt;&gt; map = myList.stream()\n    .collect(Collectors.groupingBy(Employee::getDepartmentId, \n        Collectors.groupingBy(Employee::getEmployeeId, Collectors.toSet())));\n</code></pre>\n\n<p>Note that the value of the <code>Map</code> is another <code>Map</code>; the first of which is keyed with the employees' department ID, and the second is keyed with the employees' employee ID.</p>\n"}],"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3580,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":61108312,"answer_count":2,"score":0,"last_activity_date":1677944085,"creation_date":1586372486,"question_id":61108086,"body_markdown":"I will have a list of Employee, which will hold 3 attributes - departmentId, employeeId, employeeGroup.\r\n\r\n\r\n\r\nI want to perform group by on Department Id and employee id. The idea is to send the group name of employee with belonging department. Below can be the 3 possible cases:\r\n\r\n**Case#1: Same department, different employee, different group.**\r\n\r\n    [&quot;Dept001&quot;, 100, &quot;Admin&quot;]\r\n    [&quot;Dept001&quot;, 101, &quot;Contrator&quot;]\r\n\r\n\r\n**Case#2: Same department, same employee, different group**\r\n\r\n    [&quot;Dept001&quot;, 100, &quot;Admin&quot;]\r\n    [&quot;Dept001&quot;, 100, &quot;Contrator&quot;]\r\n\r\n\r\n**Case#3: Diff department, diff employee, same group.**\r\n\r\n    [&quot;Dept001&quot;, 100, &quot;Admin&quot;]\r\n    [&quot;Dept002&quot;, 101, &quot;Admin&quot;]\r\n\r\n\r\nI have tried below:\r\n\r\n    Map&lt;String, Set&lt;Employee&gt;&gt; map = new TreeMap&lt;&gt;();\r\n    \r\n    map = myList.stream().collect(Collectors.groupingBy(Employee::getDepartmentId, \r\n    Collectors.toSet()));\r\n\r\n","title":"Group By List of object on multiple fields Java 8","body":"<p>I will have a list of Employee, which will hold 3 attributes - departmentId, employeeId, employeeGroup.</p>\n\n<p>I want to perform group by on Department Id and employee id. The idea is to send the group name of employee with belonging department. Below can be the 3 possible cases:</p>\n\n<p><strong>Case#1: Same department, different employee, different group.</strong></p>\n\n<pre><code>[\"Dept001\", 100, \"Admin\"]\n[\"Dept001\", 101, \"Contrator\"]\n</code></pre>\n\n<p><strong>Case#2: Same department, same employee, different group</strong></p>\n\n<pre><code>[\"Dept001\", 100, \"Admin\"]\n[\"Dept001\", 100, \"Contrator\"]\n</code></pre>\n\n<p><strong>Case#3: Diff department, diff employee, same group.</strong></p>\n\n<pre><code>[\"Dept001\", 100, \"Admin\"]\n[\"Dept002\", 101, \"Admin\"]\n</code></pre>\n\n<p>I have tried below:</p>\n\n<pre><code>Map&lt;String, Set&lt;Employee&gt;&gt; map = new TreeMap&lt;&gt;();\n\nmap = myList.stream().collect(Collectors.groupingBy(Employee::getDepartmentId, \nCollectors.toSet()));\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678091553,"post_id":75636639,"comment_id":133459308,"body_markdown":"I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-the-database-schemas-for-our-firebase-shopping-app-part-2-29f8bcac7acb) will help, as it explains why it is not recommended to use floating point numbers.","body":"I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-the-database-schemas-for-our-firebase-shopping-app-part-2-29f8bcac7acb\" rel=\"nofollow noreferrer\">resource</a> will help, as it explains why it is not recommended to use floating point numbers."},{"owner":{"account_id":6731843,"reputation":813,"user_id":5187873,"accept_rate":50,"display_name":"Risal Fajar Amiyardi"},"score":0,"creation_date":1691383995,"post_id":75636639,"comment_id":135478838,"body_markdown":"@AlexMamo it&#39;s paywalled","body":"@AlexMamo it&#39;s paywalled"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677943955,"creation_date":1677943955,"answer_id":75636687,"question_id":75636639,"body_markdown":"What you&#39;re seeing is quite common in any system that uses floating point to store fractional numerical values.\r\n\r\nThe normal way to prevent this is to not store monetary amounts in floating point values, but either storing them in a fixed point value or in whole numerical values of the smallest denomination of the currency.\r\n\r\nIn Firestore the latter option would be the only way to go, meaning you&#39;d store the value of `winnning` as cents. So\r\n\r\n```\r\nwinning: 48895\r\n```\r\n\r\nAs long as you make sure to only perform operations with other whole numbers, the value will remain an integer/long and the only time you&#39;ll have to devide it by 100 is to display the value to the user.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/51809591/how-to-store-currency-values-in-realtime-database\r\n* https://stackoverflow.com/questions/73124711/how-to-convert-string-to-number-and-store-it-in-firestore\r\n* https://stackoverflow.com/questions/54507643/how-to-store-use-decimal-and-money-values-in-firestore-nodejs\r\n* https://stackoverflow.com/questions/59138860/cloud-firestore-saves-the-number-with-unnecessary-decimal-places","title":"FieldValue.increment produce the wrong sum when using decimals","body":"<p>What you're seeing is quite common in any system that uses floating point to store fractional numerical values.</p>\n<p>The normal way to prevent this is to not store monetary amounts in floating point values, but either storing them in a fixed point value or in whole numerical values of the smallest denomination of the currency.</p>\n<p>In Firestore the latter option would be the only way to go, meaning you'd store the value of <code>winnning</code> as cents. So</p>\n<pre><code>winning: 48895\n</code></pre>\n<p>As long as you make sure to only perform operations with other whole numbers, the value will remain an integer/long and the only time you'll have to devide it by 100 is to display the value to the user.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51809591/how-to-store-currency-values-in-realtime-database\">How to store currency values in Realtime Database</a></li>\n<li><a href=\"https://stackoverflow.com/questions/73124711/how-to-convert-string-to-number-and-store-it-in-firestore\">How to convert string to number and store it in firestore</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54507643/how-to-store-use-decimal-and-money-values-in-firestore-nodejs\">How to Store / Use Decimal and money values in firestore / nodejs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59138860/cloud-firestore-saves-the-number-with-unnecessary-decimal-places\">Cloud Firestore saves the number with unnecessary decimal places</a></li>\n</ul>\n"}],"owner":{"account_id":22352318,"reputation":37,"user_id":16570179,"display_name":"Kumar Harsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677943955,"creation_date":1677943525,"question_id":75636639,"body_markdown":"I have a field &#39;```winning```&#39; in firestore database whose value is **988.95** .\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI want to decrease value by **500** or whatever user inputs in ediitext.\r\nSuppose here user entered 500. \r\nBut by doing \r\n```FieldValue.increment(-1*(Double.parseDouble(edittext.getText().toString().trim())))``` ;\r\n\r\nwrites value **488.95000000005** in database [![enter image description here][2]][2]\r\n\r\nWhy is it even happening? Why cant just 488.95 be written in firestore?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AHtE2.png\r\n  [2]: https://i.stack.imgur.com/vLof8.png","title":"FieldValue.increment produce the wrong sum when using decimals","body":"<p>I have a field '<code>winning</code>' in firestore database whose value is <strong>988.95</strong> .\n<a href=\"https://i.stack.imgur.com/AHtE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AHtE2.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to decrease value by <strong>500</strong> or whatever user inputs in ediitext.\nSuppose here user entered 500.\nBut by doing\n<code>FieldValue.increment(-1*(Double.parseDouble(edittext.getText().toString().trim())))</code> ;</p>\n<p>writes value <strong>488.95000000005</strong> in database <a href=\"https://i.stack.imgur.com/vLof8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vLof8.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is it even happening? Why cant just 488.95 be written in firestore?</p>\n"},{"tags":["java","android","kotlin","render","material-components-android"],"comments":[{"owner":{"account_id":11815175,"reputation":329,"user_id":8645577,"display_name":"charlie.7"},"score":0,"creation_date":1677694988,"post_id":75607560,"comment_id":133390442,"body_markdown":"Can you share the screen shot of xml layout of not rendering?","body":"Can you share the screen shot of xml layout of not rendering?"},{"owner":{"account_id":12997654,"reputation":116,"user_id":9394700,"display_name":"mirsaidoff"},"score":0,"creation_date":1677791609,"post_id":75607560,"comment_id":133412565,"body_markdown":"It should be ok after building the project. Check it after clicking &quot;Make Project&quot; button.","body":"It should be ok after building the project. Check it after clicking &quot;Make Project&quot; button."}],"owner":{"account_id":27911730,"reputation":1,"user_id":21313771,"display_name":"pedro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677943418,"creation_date":1677694739,"question_id":75607560,"body_markdown":"I&#39;m fairly new to android and to material design in general I tried copying the code from material 3 search component but its doesn&#39;t render for some reason\r\nI double checked the dependencies but everything seems right because I&#39;m using 1.9.0-alpha02 version.\r\n\r\nHere is the code that copied from MDC:\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n  &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\r\n  &lt;androidx.core.widget.NestedScrollView\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\r\n    &lt;!-- Screen content goes here. --&gt;\r\n  &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n  &lt;com.google.android.material.appbar.AppBarLayout\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;com.google.android.material.search.SearchBar\r\n        android:id=&quot;@+id/search_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/searchbar_hint&quot; /&gt;\r\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n  &lt;com.google.android.material.search.SearchView\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      android:hint=&quot;@string/searchbar_hint&quot;\r\n      app:layout_anchor=&quot;@id/search_bar&quot;&gt;\r\n    &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\r\n  &lt;/com.google.android.material.search.SearchView&gt;\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\n\r\n\r\nHere is the entire code of my xml for more context:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#fafafa&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:id=&quot;@+id/linearLayoutCompat&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;27dp&quot;\r\n        android:layout_marginTop=&quot;27dp&quot;\r\n        android:layout_marginBottom=&quot;27dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/floating_action_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;end&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            app:backgroundTint=&quot;#FFFFFF&quot;\r\n            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.FloatingActionButton.Circle&quot;\r\n            app:srcCompat=&quot;@drawable/baseline_add_24&quot; /&gt;\r\n\r\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\r\n            &lt;androidx.core.widget.NestedScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\r\n                &lt;!-- Screen content goes here. --&gt;\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;com.google.android.material.search.SearchBar\r\n                    android:id=&quot;@+id/search_bar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;&quot; /&gt;\r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n            &lt;com.google.android.material.search.SearchView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:hint=&quot;&quot;\r\n                app:layout_anchor=&quot;@id/search_bar&quot;&gt;\r\n                &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\r\n            &lt;/com.google.android.material.search.SearchView&gt;\r\n\r\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n        \r\n\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n\r\n            android:id=&quot;@+id/mainRv&quot;\r\n            android:layout_width=&quot;346dp&quot;\r\n            android:layout_height=&quot;596dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.492&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/search&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            tools:listitem=&quot;@layout/main_card&quot;&gt;\r\n\r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI tried to implement a search view from MDC 3:\r\n\r\n    ```\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n      &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\r\n      &lt;androidx.core.widget.NestedScrollView\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;match_parent&quot;\r\n          app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\r\n        &lt;!-- Screen content goes here. --&gt;\r\n      &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    \r\n      &lt;com.google.android.material.appbar.AppBarLayout\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;com.google.android.material.search.SearchBar\r\n            android:id=&quot;@+id/search_bar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;@string/searchbar_hint&quot; /&gt;\r\n      &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n      &lt;com.google.android.material.search.SearchView\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;match_parent&quot;\r\n          android:hint=&quot;@string/searchbar_hint&quot;\r\n          app:layout_anchor=&quot;@id/search_bar&quot;&gt;\r\n        &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\r\n      &lt;/com.google.android.material.search.SearchView&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;```\r\n\r\n\r\n\r\nTo try and use it later on but it didn&#39;t render in the xml file for some reason I tried fixing it for sometime but nothing worked.\r\n\r\n","title":"Android Layout XML file not rendering and app craches after using material 3 Search view","body":"<p>I'm fairly new to android and to material design in general I tried copying the code from material 3 search component but its doesn't render for some reason\nI double checked the dependencies but everything seems right because I'm using 1.9.0-alpha02 version.</p>\n<p>Here is the code that copied from MDC:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n  &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\n  &lt;androidx.core.widget.NestedScrollView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\n    &lt;!-- Screen content goes here. --&gt;\n  &lt;/androidx.core.widget.NestedScrollView&gt;\n\n  &lt;com.google.android.material.appbar.AppBarLayout\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;com.google.android.material.search.SearchBar\n        android:id=&quot;@+id/search_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/searchbar_hint&quot; /&gt;\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n  &lt;com.google.android.material.search.SearchView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      android:hint=&quot;@string/searchbar_hint&quot;\n      app:layout_anchor=&quot;@id/search_bar&quot;&gt;\n    &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\n  &lt;/com.google.android.material.search.SearchView&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Here is the entire code of my xml for more context:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#fafafa&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n\n\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:id=&quot;@+id/linearLayoutCompat&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_margin=&quot;27dp&quot;\n        android:layout_marginTop=&quot;27dp&quot;\n        android:layout_marginBottom=&quot;27dp&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=&quot;@+id/floating_action_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;end&quot;\n            android:layout_margin=&quot;5dp&quot;\n            app:backgroundTint=&quot;#FFFFFF&quot;\n            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearanceOverlay.FloatingActionButton.Circle&quot;\n            app:srcCompat=&quot;@drawable/baseline_add_24&quot; /&gt;\n\n        &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\n            &lt;androidx.core.widget.NestedScrollView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\n                &lt;!-- Screen content goes here. --&gt;\n            &lt;/androidx.core.widget.NestedScrollView&gt;\n\n            &lt;com.google.android.material.appbar.AppBarLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;com.google.android.material.search.SearchBar\n                    android:id=&quot;@+id/search_bar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;&quot; /&gt;\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n            &lt;com.google.android.material.search.SearchView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:hint=&quot;&quot;\n                app:layout_anchor=&quot;@id/search_bar&quot;&gt;\n                &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\n            &lt;/com.google.android.material.search.SearchView&gt;\n\n        &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n        \n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n\n            android:id=&quot;@+id/mainRv&quot;\n            android:layout_width=&quot;346dp&quot;\n            android:layout_height=&quot;596dp&quot;\n            android:layout_weight=&quot;1&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.492&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/search&quot;\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\n            tools:listitem=&quot;@layout/main_card&quot;&gt;\n\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried to implement a search view from MDC 3:</p>\n<pre><code>```\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n  &lt;!-- NestedScrollingChild goes here (NestedScrollView, RecyclerView, etc.). --&gt;\n  &lt;androidx.core.widget.NestedScrollView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      app:layout_behavior=&quot;@string/searchbar_scrolling_view_behavior&quot;&gt;\n    &lt;!-- Screen content goes here. --&gt;\n  &lt;/androidx.core.widget.NestedScrollView&gt;\n\n  &lt;com.google.android.material.appbar.AppBarLayout\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;com.google.android.material.search.SearchBar\n        android:id=&quot;@+id/search_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/searchbar_hint&quot; /&gt;\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n  &lt;com.google.android.material.search.SearchView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;match_parent&quot;\n      android:hint=&quot;@string/searchbar_hint&quot;\n      app:layout_anchor=&quot;@id/search_bar&quot;&gt;\n    &lt;!-- Search suggestions/results go here (ScrollView, RecyclerView, etc.). --&gt;\n  &lt;/com.google.android.material.search.SearchView&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;```\n</code></pre>\n<p>To try and use it later on but it didn't render in the xml file for some reason I tried fixing it for sometime but nothing worked.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":3,"creation_date":1677931397,"post_id":75635516,"comment_id":133436941,"body_markdown":"Ok, and what is not going well?","body":"Ok, and what is not going well?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1677932732,"post_id":75635516,"comment_id":133437140,"body_markdown":"`rpenabled.containsKey(true)` will always return false because the keys in your map are `Long`. And `rpenabled.values().contains(true)` will return true if any of your map entries has a `true` value. You probably want to query the map with `rpenabled.get(event.getGuild().getIdLong())` which will return the boolean value associated with the id of the events guild.","body":"<code>rpenabled.containsKey(true)</code> will always return false because the keys in your map are <code>Long</code>. And <code>rpenabled.values().contains(true)</code> will return true if any of your map entries has a <code>true</code> value. You probably want to query the map with <code>rpenabled.get(event.getGuild().getIdLong())</code> which will return the boolean value associated with the id of the events guild."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1677933254,"post_id":75635516,"comment_id":133437220,"body_markdown":"The question should be edit to reflect actual and desired behavior.","body":"The question should be edit to reflect actual and desired behavior."},{"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"score":1,"creation_date":1677934419,"post_id":75635516,"comment_id":133437387,"body_markdown":"@ThomasKl&#228;ger tysm it works now!","body":"@ThomasKl&#228;ger tysm it works now!"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677942642,"creation_date":1677942642,"answer_id":75636565,"question_id":75635516,"body_markdown":"`rpenabled.containsKey(true)` will always return false because the keys in your map are `Long`.\r\n\r\nAnd `rpenabled.values().contains(true)` will return true if any of your map entries has a `true` value.\r\n\r\nYou probably want to query the map with `rpenabled.get(event.getGuild().getIdLong())` which will return the boolean value associated with the id of the events guild.\r\n\r\nBasically a `Map&lt;Long, Boolean&gt;` is not that different from a `Map&lt;Long, Int&gt;`: you can use `put(key, value)` to store a value into the map and you use `get(key)` to retrieve the value associated with a key. The only distinction is the type of the value.\r\n\r\n---\r\nAdditional note:\r\n\r\nI don&#39;t understand what you want to achieve with\r\n\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n        gifenabled.get(event.getGuild().getIdLong());\r\n\r\nin the `onMessageReceived()` method or with the repeated\r\n\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n\r\nin the `onGuildReady()` method. Those statements access the map but throw away the result.","title":"Get a boolean of a map","body":"<p><code>rpenabled.containsKey(true)</code> will always return false because the keys in your map are <code>Long</code>.</p>\n<p>And <code>rpenabled.values().contains(true)</code> will return true if any of your map entries has a <code>true</code> value.</p>\n<p>You probably want to query the map with <code>rpenabled.get(event.getGuild().getIdLong())</code> which will return the boolean value associated with the id of the events guild.</p>\n<p>Basically a <code>Map&lt;Long, Boolean&gt;</code> is not that different from a <code>Map&lt;Long, Int&gt;</code>: you can use <code>put(key, value)</code> to store a value into the map and you use <code>get(key)</code> to retrieve the value associated with a key. The only distinction is the type of the value.</p>\n<hr />\n<p>Additional note:</p>\n<p>I don't understand what you want to achieve with</p>\n<pre><code>    rpenabled.get(event.getGuild().getIdLong());\n    gifenabled.get(event.getGuild().getIdLong());\n</code></pre>\n<p>in the <code>onMessageReceived()</code> method or with the repeated</p>\n<pre><code>    rpenabled.get(event.getGuild().getIdLong());\n    rpenabled.get(event.getGuild().getIdLong());\n</code></pre>\n<p>in the <code>onGuildReady()</code> method. Those statements access the map but throw away the result.</p>\n"}],"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75636565,"answer_count":1,"score":-1,"last_activity_date":1677942642,"creation_date":1677931191,"question_id":75635516,"body_markdown":"I have a `private final Map&lt;Long, Boolean&gt; rpenabled = new HashMap&lt;&gt;();` and did this so it sets it to `true` when the bot is online or got added to a server:\r\n```\r\npublic void onGuildReady(@NotNull GuildReadyEvent event) {\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n\r\n        rpenabled.put(event.getGuild().getIdLong(), true);\r\n        gifenabled.put(event.getGuild().getIdLong(), false);\r\n    }\r\n```\r\nafter that i wanted to use the map in an onMessageReceivedEvent and tried that with\r\n```\r\nif (rpenabled.values().contains(true)) {\r\n\r\n                    rpenabled.put(event.getGuild().getIdLong(), false);\r\n\r\n                    event.getChannel().sendMessage(&quot;&lt;:relationships_true:1075825708355555578&gt; The `Roleplay Commands` module has successfully been **disabled**.&quot;).queue();\r\n\r\n                }\r\n```\r\nand\r\n```\r\nif (rpenabled.containsKey(true)) {\r\n\r\n                    rpenabled.put(event.getGuild().getIdLong(), false);\r\n\r\n                    event.getChannel().sendMessage(&quot;&lt;:relationships_true:1075825708355555578&gt; The `Roleplay Commands` module has successfully been **disabled**.&quot;).queue();\r\n\r\n                }\r\n```\r\nafter I implemented the maps with\r\n```\r\npublic void onMessageReceived(@NotNull MessageReceivedEvent event) {\r\n\r\n        rpenabled.get(event.getGuild().getIdLong());\r\n        gifenabled.get(event.getGuild().getIdLong());\r\n```\r\n\r\nIt&#39;s not working properly though. Does anyone know why and how I can fix that?","title":"Get a boolean of a map","body":"<p>I have a <code>private final Map&lt;Long, Boolean&gt; rpenabled = new HashMap&lt;&gt;();</code> and did this so it sets it to <code>true</code> when the bot is online or got added to a server:</p>\n<pre><code>public void onGuildReady(@NotNull GuildReadyEvent event) {\n        rpenabled.get(event.getGuild().getIdLong());\n        rpenabled.get(event.getGuild().getIdLong());\n\n        rpenabled.put(event.getGuild().getIdLong(), true);\n        gifenabled.put(event.getGuild().getIdLong(), false);\n    }\n</code></pre>\n<p>after that i wanted to use the map in an onMessageReceivedEvent and tried that with</p>\n<pre><code>if (rpenabled.values().contains(true)) {\n\n                    rpenabled.put(event.getGuild().getIdLong(), false);\n\n                    event.getChannel().sendMessage(&quot;&lt;:relationships_true:1075825708355555578&gt; The `Roleplay Commands` module has successfully been **disabled**.&quot;).queue();\n\n                }\n</code></pre>\n<p>and</p>\n<pre><code>if (rpenabled.containsKey(true)) {\n\n                    rpenabled.put(event.getGuild().getIdLong(), false);\n\n                    event.getChannel().sendMessage(&quot;&lt;:relationships_true:1075825708355555578&gt; The `Roleplay Commands` module has successfully been **disabled**.&quot;).queue();\n\n                }\n</code></pre>\n<p>after I implemented the maps with</p>\n<pre><code>public void onMessageReceived(@NotNull MessageReceivedEvent event) {\n\n        rpenabled.get(event.getGuild().getIdLong());\n        gifenabled.get(event.getGuild().getIdLong());\n</code></pre>\n<p>It's not working properly though. Does anyone know why and how I can fix that?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries","amazon-dynamodb-index"],"comments":[{"owner":{"account_id":31132,"reputation":3312,"user_id":85269,"accept_rate":100,"display_name":"Marc L."},"score":0,"creation_date":1677791071,"post_id":75615304,"comment_id":134088521,"body_markdown":"What have you found so far in the documentation that indicates this may or may not be existing functionality?","body":"What have you found so far in the documentation that indicates this may or may not be existing functionality?"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677941087,"creation_date":1677759489,"question_id":75615304,"body_markdown":"I am having close to `200K` `eventids` in a csv. I am reading each one of them in a loop and using `GSI` to query those `eventids`. `GSI` is on the attribute `eventid` on the main table. Is there a way that I can send these eventids in a `single batch or single request to dynamodb` so that `multiple` requests are avoided? I am using `DynamoDBEnhancedAsyncClient` to query the `GSI`. ","title":"Querying GSI in batches rather than individual requests","body":"<p>I am having close to <code>200K</code> <code>eventids</code> in a csv. I am reading each one of them in a loop and using <code>GSI</code> to query those <code>eventids</code>. <code>GSI</code> is on the attribute <code>eventid</code> on the main table. Is there a way that I can send these eventids in a <code>single batch or single request to dynamodb</code> so that <code>multiple</code> requests are avoided? I am using <code>DynamoDBEnhancedAsyncClient</code> to query the <code>GSI</code>.</p>\n"},{"tags":["java","android","amazon-pay","payfort"],"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677940053,"creation_date":1677940053,"question_id":75636294,"body_markdown":"I am trying to implement PayFort Custom UI in my Android application. I have a ScrollingActivity.java where I set up the request parameters and start the PayFortCustomUI activity. However, when I go to the PayFortCustomUI activity, the FortRequest object is null, and when I press the btnPay button, I get the following error:\r\n\r\n    kotlin.UninitializedPropertyAccessException: lateinit property cardNumberView has not been initialized\r\n\r\nI have also noticed that the documentation for PayFort Custom UI is not that good, so I am not sure how to properly set up the custom UI.\r\n\r\nHere is the code from ScrollingActivity.java where I set up the request parameters and start the PayFortCustomUI activity:\r\n\r\n```\r\nDouble amt = ((request.LRH_AMOUNT) * 100);\r\nFortRequest fortrequest = new FortRequest();\r\nfortrequest.setRequestMap(collectRequestMap(sdkToken, email, amt.toString().substring(0, amt.toString().indexOf(&quot;.&quot;)),\r\n                                userName, request.LRH_GUID));\r\nfortrequest.setShowResponsePage(true);\r\n// create an intent to start PayFortCustomUI activity\r\nIntent intent = new Intent(ScrollingActivity.this, PayFortCustomUI.class);\r\n// add the fortrequest object as an extra\r\nintent.putExtra(&quot;fortrequest&quot;, fortrequest);\r\n// start PayFortCustomUI activity\r\nstartActivity(intent);\r\n```\r\n\r\nAnd here is the code from PayFortCustomUI.java:\r\n\r\n```\r\nPayfortPayButton btnPay;\r\nFortCardNumberView etCardNumberView;\r\nCardCvvView etCardCvv;\r\nCardExpiryView etCardExpiry;\r\nCardHolderNameView cardHolderNameView;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_pay_fort_custom_ui);\r\n\r\n    btnPay = findViewById(R.id.btnPay);\r\n    etCardNumberView = findViewById(R.id.etCardNumberView);\r\n    etCardCvv = findViewById(R.id.etCardCvv);\r\n    etCardExpiry = findViewById(R.id.etCardExpiry);\r\n    cardHolderNameView = findViewById(R.id.cardHolderNameView);\r\n\r\n    PayComponents payComponents = new PayComponents(etCardNumberView,  etCardCvv, etCardExpiry,  cardHolderNameView);\r\n\r\n    Intent intent = getIntent();\r\n    if (intent != null) {\r\n        FortRequest fortRequest = intent.getParcelableExtra(&quot;fortrequest&quot;);\r\n        if (fortRequest != null) {\r\n            // do something with fortRequest\r\n            String environment = FortSdk.ENVIRONMENT.TEST;\r\n\r\n            PayFortCallback callback = new PayFortCallback() {\r\n                @Override\r\n                public void startLoading() { }\r\n                @Override\r\n                public void onSuccess(@NotNull Map requestParamsMap, @NotNull Map fortResponseMap) {\r\n                    Toast.makeText(PayFortCustomUI.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                @Override\r\n                public void onFailure(@NotNull Map requestParamsMap, @NotNull Map fortResponseMap) {\r\n                    Toast.makeText(PayFortCustomUI.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            };\r\n\r\n            btnPay.setup(environment, fortRequest, payComponents, callback);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLayout XML for PayFortCustomUI:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.PayFortCustomUI&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbarLayout&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;?android:attr/actionBarSize&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/colorSquidInk&quot;\r\n            android:minHeight=&quot;?android:attr/actionBarSize&quot;\r\n            android:theme=&quot;@style/MyThemeOverlay_Toolbar&quot;&gt;\r\n\r\n            &lt;TextView\r\n                style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_centerInParent=&quot;true&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textAppearance=&quot;@style/TextAppearance.AppCompat.Title&quot;\r\n                android:text=&quot;@string/pf_cc_title_hint&quot;\r\n                android:textColor=&quot;@android:color/white&quot; /&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/amountTV&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;@dimen/_38sdp&quot;\r\n        android:background=&quot;@color/pf_light_gray&quot;\r\n        android:gravity=&quot;center_horizontal|center_vertical&quot;\r\n        android:textColor=&quot;@color/colorBlack&quot;\r\n        android:textSize=&quot;@dimen/_13ssp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/appbarLayout&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/amountTV&quot;&gt;\r\n\r\n\r\n        &lt;com.payfort.fortpaymentsdk.views.FortCardNumberView\r\n            android:id=&quot;@+id/etCardNumberView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            /&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/linearLayout&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/etCardNumberView&quot;&gt;\r\n\r\n\r\n            &lt;com.payfort.fortpaymentsdk.views.CardExpiryView\r\n                android:id=&quot;@+id/etCardExpiry&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;@dimen/_4sdp&quot;\r\n                android:layout_marginRight=&quot;@dimen/_4sdp&quot;\r\n                android:layout_weight=&quot;1.4&quot; /&gt;\r\n\r\n            &lt;com.payfort.fortpaymentsdk.views.CardCvvView\r\n                android:id=&quot;@+id/etCardCvv&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;@dimen/_4sdp&quot;\r\n                android:layout_marginLeft=&quot;@dimen/_4sdp&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;com.payfort.fortpaymentsdk.views.CardHolderNameView\r\n            android:id=&quot;@+id/cardHolderNameView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; /&gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/rememberMeRL&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;@dimen/_5sdp&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/cardHolderNameView&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/pf_remember_me&quot;\r\n                android:textColor=&quot;@android:color/darker_gray&quot;\r\n                android:textSize=&quot;@dimen/_12sdp&quot;\r\n                android:gravity=&quot;start&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n\r\n                /&gt;\r\n\r\n            &lt;ToggleButton\r\n                android:id=&quot;@+id/rememberMeTB&quot;\r\n                android:layout_width=&quot;@dimen/pf_remember_me_tb_width&quot;\r\n                android:layout_height=&quot;@dimen/pf_remember_me_tb_height&quot;\r\n                android:background=&quot;@drawable/remember_me_toggle&quot;\r\n                android:checked=&quot;true&quot;\r\n                android:textOff=&quot;&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textOn=&quot;&quot;\r\n                /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n        &lt;androidx.constraintlayout.widget.Guideline\r\n            android:id=&quot;@+id/guideline&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintGuide_begin=&quot;@dimen/_17sdp&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.Guideline\r\n            android:id=&quot;@+id/guideline2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintGuide_end=&quot;@dimen/_17sdp&quot; /&gt;\r\n\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;@dimen/pf_pay_btn_height&quot;\r\n            android:layout_marginTop=&quot;@dimen/pf_elements_top_space&quot;\r\n            android:background=&quot;@drawable/pay_btn_bg&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rememberMeRL&quot;&gt;\r\n\r\n\r\n            &lt;com.payfort.fortpaymentsdk.views.PayfortPayButton\r\n                android:id=&quot;@+id/btnPay&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@null&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/pf_pay_btn_hint&quot;\r\n                android:textColor=&quot;@android:color/white&quot;\r\n                android:textSize=&quot;@dimen/pf_20_txt_size&quot; /&gt;\r\n\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/loadingContainer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:background=&quot;@color/colorSquidInkProgressBar&quot;\r\n        &gt;\r\n\r\n\r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressLoading&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:background=&quot;@null&quot;\r\n            android:theme=&quot;@style/AppFortTheme.DarkGreen&quot;\r\n            /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```","title":"PayFort Custom UI - FortRequest is null and btnPay throws UninitializedPropertyAccessException","body":"<p>I am trying to implement PayFort Custom UI in my Android application. I have a ScrollingActivity.java where I set up the request parameters and start the PayFortCustomUI activity. However, when I go to the PayFortCustomUI activity, the FortRequest object is null, and when I press the btnPay button, I get the following error:</p>\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property cardNumberView has not been initialized\n</code></pre>\n<p>I have also noticed that the documentation for PayFort Custom UI is not that good, so I am not sure how to properly set up the custom UI.</p>\n<p>Here is the code from ScrollingActivity.java where I set up the request parameters and start the PayFortCustomUI activity:</p>\n<pre><code>Double amt = ((request.LRH_AMOUNT) * 100);\nFortRequest fortrequest = new FortRequest();\nfortrequest.setRequestMap(collectRequestMap(sdkToken, email, amt.toString().substring(0, amt.toString().indexOf(&quot;.&quot;)),\n                                userName, request.LRH_GUID));\nfortrequest.setShowResponsePage(true);\n// create an intent to start PayFortCustomUI activity\nIntent intent = new Intent(ScrollingActivity.this, PayFortCustomUI.class);\n// add the fortrequest object as an extra\nintent.putExtra(&quot;fortrequest&quot;, fortrequest);\n// start PayFortCustomUI activity\nstartActivity(intent);\n</code></pre>\n<p>And here is the code from PayFortCustomUI.java:</p>\n<pre><code>PayfortPayButton btnPay;\nFortCardNumberView etCardNumberView;\nCardCvvView etCardCvv;\nCardExpiryView etCardExpiry;\nCardHolderNameView cardHolderNameView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_pay_fort_custom_ui);\n\n    btnPay = findViewById(R.id.btnPay);\n    etCardNumberView = findViewById(R.id.etCardNumberView);\n    etCardCvv = findViewById(R.id.etCardCvv);\n    etCardExpiry = findViewById(R.id.etCardExpiry);\n    cardHolderNameView = findViewById(R.id.cardHolderNameView);\n\n    PayComponents payComponents = new PayComponents(etCardNumberView,  etCardCvv, etCardExpiry,  cardHolderNameView);\n\n    Intent intent = getIntent();\n    if (intent != null) {\n        FortRequest fortRequest = intent.getParcelableExtra(&quot;fortrequest&quot;);\n        if (fortRequest != null) {\n            // do something with fortRequest\n            String environment = FortSdk.ENVIRONMENT.TEST;\n\n            PayFortCallback callback = new PayFortCallback() {\n                @Override\n                public void startLoading() { }\n                @Override\n                public void onSuccess(@NotNull Map requestParamsMap, @NotNull Map fortResponseMap) {\n                    Toast.makeText(PayFortCustomUI.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                }\n                @Override\n                public void onFailure(@NotNull Map requestParamsMap, @NotNull Map fortResponseMap) {\n                    Toast.makeText(PayFortCustomUI.this, &quot;Success&quot;, Toast.LENGTH_SHORT).show();\n                }\n            };\n\n            btnPay.setup(environment, fortRequest, payComponents, callback);\n        }\n    }\n}\n</code></pre>\n<p>Layout XML for PayFortCustomUI:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.PayFortCustomUI&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appbarLayout&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;?android:attr/actionBarSize&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/colorSquidInk&quot;\n            android:minHeight=&quot;?android:attr/actionBarSize&quot;\n            android:theme=&quot;@style/MyThemeOverlay_Toolbar&quot;&gt;\n\n            &lt;TextView\n                style=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textAppearance=&quot;@style/TextAppearance.AppCompat.Title&quot;\n                android:text=&quot;@string/pf_cc_title_hint&quot;\n                android:textColor=&quot;@android:color/white&quot; /&gt;\n\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/amountTV&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;@dimen/_38sdp&quot;\n        android:background=&quot;@color/pf_light_gray&quot;\n        android:gravity=&quot;center_horizontal|center_vertical&quot;\n        android:textColor=&quot;@color/colorBlack&quot;\n        android:textSize=&quot;@dimen/_13ssp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/appbarLayout&quot; /&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/amountTV&quot;&gt;\n\n\n        &lt;com.payfort.fortpaymentsdk.views.FortCardNumberView\n            android:id=&quot;@+id/etCardNumberView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            /&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/linearLayout&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/etCardNumberView&quot;&gt;\n\n\n            &lt;com.payfort.fortpaymentsdk.views.CardExpiryView\n                android:id=&quot;@+id/etCardExpiry&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginEnd=&quot;@dimen/_4sdp&quot;\n                android:layout_marginRight=&quot;@dimen/_4sdp&quot;\n                android:layout_weight=&quot;1.4&quot; /&gt;\n\n            &lt;com.payfort.fortpaymentsdk.views.CardCvvView\n                android:id=&quot;@+id/etCardCvv&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;@dimen/_4sdp&quot;\n                android:layout_marginLeft=&quot;@dimen/_4sdp&quot;\n                android:layout_weight=&quot;1&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;com.payfort.fortpaymentsdk.views.CardHolderNameView\n            android:id=&quot;@+id/cardHolderNameView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/linearLayout&quot; /&gt;\n\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/rememberMeRL&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;@dimen/_5sdp&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/cardHolderNameView&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@string/pf_remember_me&quot;\n                android:textColor=&quot;@android:color/darker_gray&quot;\n                android:textSize=&quot;@dimen/_12sdp&quot;\n                android:gravity=&quot;start&quot;\n                android:layout_weight=&quot;1&quot;\n                android:layout_gravity=&quot;center&quot;\n\n                /&gt;\n\n            &lt;ToggleButton\n                android:id=&quot;@+id/rememberMeTB&quot;\n                android:layout_width=&quot;@dimen/pf_remember_me_tb_width&quot;\n                android:layout_height=&quot;@dimen/pf_remember_me_tb_height&quot;\n                android:background=&quot;@drawable/remember_me_toggle&quot;\n                android:checked=&quot;true&quot;\n                android:textOff=&quot;&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textOn=&quot;&quot;\n                /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n        &lt;androidx.constraintlayout.widget.Guideline\n            android:id=&quot;@+id/guideline&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintGuide_begin=&quot;@dimen/_17sdp&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.Guideline\n            android:id=&quot;@+id/guideline2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintGuide_end=&quot;@dimen/_17sdp&quot; /&gt;\n\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;@dimen/pf_pay_btn_height&quot;\n            android:layout_marginTop=&quot;@dimen/pf_elements_top_space&quot;\n            android:background=&quot;@drawable/pay_btn_bg&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/guideline&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/rememberMeRL&quot;&gt;\n\n\n            &lt;com.payfort.fortpaymentsdk.views.PayfortPayButton\n                android:id=&quot;@+id/btnPay&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@null&quot;\n                android:gravity=&quot;center&quot;\n                android:text=&quot;@string/pf_pay_btn_hint&quot;\n                android:textColor=&quot;@android:color/white&quot;\n                android:textSize=&quot;@dimen/pf_20_txt_size&quot; /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/loadingContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;gone&quot;\n        android:focusable=&quot;true&quot;\n        android:clickable=&quot;true&quot;\n        android:background=&quot;@color/colorSquidInkProgressBar&quot;\n        &gt;\n\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progressLoading&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:background=&quot;@null&quot;\n            android:theme=&quot;@style/AppFortTheme.DarkGreen&quot;\n            /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","multidimensional-array","max","min","nested-for-loop"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677939723,"creation_date":1677939723,"answer_id":75636258,"question_id":75635855,"body_markdown":"Since you want a min and a max value per column, you should move the variables inside your outer (first) for-loop and do the max/min check in the inner loop:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String[] brands    = { &quot;ACTION&quot;, &quot;DEFY&quot;, &quot;GEL&quot;, &quot;JETPRO&quot;, &quot;MAGNUM&quot;};\r\n        String[] districts = { &quot;North&quot;, &quot;West&quot;, &quot;South&quot;, &quot;East&quot; };\r\n\r\n        int[][] sales = {\r\n                { 17, 57, 35, 48, 31 },\r\n                { 35, 36, 53, 78, 76 },\r\n                { 55, 56, 96, 44, 56 },\r\n                { 35, 44, 34, 43, 44 }\r\n        };\r\n\r\n        for (int col = 0; col &lt; sales[0].length; col++) {\r\n            int max = sales[0][col];\r\n            int min = sales[0][col];\r\n            int minIndex = 0;\r\n            int maxIndex = 0;\r\n\r\n            for (int dist = 0; dist &lt; sales.length; dist++) {\r\n\r\n                if(sales[dist][col] &lt; min) {\r\n                    min = sales[dist][col];\r\n                    minIndex = dist;\r\n                }\r\n\r\n                if(sales[dist][col] &gt; max) {\r\n                    maxIndex = dist;\r\n                    max = sales[dist][col];\r\n                }\r\n            }\r\n\r\n            System.out.println();\r\n            System.out.println(brands[col]);\r\n            System.out.println(&quot;Most popular: &quot; + districts[maxIndex]);\r\n            System.out.println(&quot;Least popular: &quot; + districts[minIndex]);\r\n        }\r\n    }","title":"Is there a better way to get a min value of all elements in a column, especially in a 2d array in java?","body":"<p>Since you want a min and a max value per column, you should move the variables inside your outer (first) for-loop and do the max/min check in the inner loop:</p>\n<pre><code>public static void main(String[] args) {\n\n    String[] brands    = { &quot;ACTION&quot;, &quot;DEFY&quot;, &quot;GEL&quot;, &quot;JETPRO&quot;, &quot;MAGNUM&quot;};\n    String[] districts = { &quot;North&quot;, &quot;West&quot;, &quot;South&quot;, &quot;East&quot; };\n\n    int[][] sales = {\n            { 17, 57, 35, 48, 31 },\n            { 35, 36, 53, 78, 76 },\n            { 55, 56, 96, 44, 56 },\n            { 35, 44, 34, 43, 44 }\n    };\n\n    for (int col = 0; col &lt; sales[0].length; col++) {\n        int max = sales[0][col];\n        int min = sales[0][col];\n        int minIndex = 0;\n        int maxIndex = 0;\n\n        for (int dist = 0; dist &lt; sales.length; dist++) {\n\n            if(sales[dist][col] &lt; min) {\n                min = sales[dist][col];\n                minIndex = dist;\n            }\n\n            if(sales[dist][col] &gt; max) {\n                maxIndex = dist;\n                max = sales[dist][col];\n            }\n        }\n\n        System.out.println();\n        System.out.println(brands[col]);\n        System.out.println(&quot;Most popular: &quot; + districts[maxIndex]);\n        System.out.println(&quot;Least popular: &quot; + districts[minIndex]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26841308,"reputation":13,"user_id":20427784,"display_name":"Rohith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75636258,"answer_count":1,"score":1,"last_activity_date":1677939723,"creation_date":1677935278,"question_id":75635855,"body_markdown":"I was coding a Java program for AP CSA that took the max value from the columns of a two dimensional array, and it was used to determine and print out which area of a brand was the most popular/or had the highest amount of sales. \r\nIt also took the min value, and it determined and which area of brand had the lowest amount of sales.\r\n\r\nI had created two one dimensional arrays, one is for the 5 sneaker brands which were sold, and the other is for the four district/locations where they were sold.\r\n```\r\n\r\n\t\tString[] brands = { &quot;ACTION&quot;, &quot;DEFY&quot;, &quot;GEL&quot;, &quot;JETPRO&quot;, &quot;MAGNUM&quot;\r\n\r\n\t\t};\r\n\r\n\t\tString[] districts =\r\n\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\t\t&quot;North&quot;, &quot;West&quot;, &quot;South&quot;, &quot;East&quot; };\r\n```\r\n\r\n\r\nI then made a two dimensional array that contained the following numbers **in correspondence** to: \r\n- the five *sneaker brands* per each row\r\n- as well as the *locations* in each column\r\n\t\t\r\n```\r\nint[][] sales = { \r\n\t\t\t\t\r\n\t\t\t\t{ 17, 57, 35, 48, 31 },\r\n\t\t\t\t{ 35, 36, 53, 78, 76 }, \r\n\t\t\t\t{ 55, 56, 96, 44, 56 }, \r\n\t\t\t\t{ 35, 44, 34, 43, 44 }\r\n\r\n\t\t};\r\n\r\n\r\n```\r\n\r\nIn order to find the max and the min as I mentioned above, I had to make a nested for loop to run through the 2d array, row by row rather than column by column, to check the values depending on the location/area of the sneaker sale.\r\nAnd I had two variables that saved the max value and the min value as well as the indexes for both of them, and that&#39;s where things started to go wrong.\r\n\r\nIn the beginning, I set max and min to start at the first element of the 2d array, and change based on the if statement. Indexes were started at 0.\r\n\r\nThe if statement checked if there were any elements per column less than the min or greater than the max. \r\nIf it did, then it would set min/max to that particular element in the list, and the maxIndex and the minIndex (the position at where the min/max was found) will be updated accordingly. \r\n\r\nIt works fine for the max value, however with over thousands of failed attempts, the if statement to check the min never worked. \r\n\r\nHere&#39;s the entire code, with the starting variables and the for loop:\r\n\r\n```\r\n\r\n\t\tint max = sales[0][0];\r\n\t\tint min = sales[0][0];\r\n\t\tint minIndex = 0;\r\n\t\tint maxIndex = 0;\r\n\t\tfor (int col = 0; col &lt; sales[0].length; col++) {\r\n\t\t\tfor (int dist = 0; dist &lt; sales.length-1; dist++) {\r\n\t\t\t\t\r\n\t\t\t\tmin = sales[dist][col];\r\n\t\t\t\t// if this element is larger than any other element\r\n\t\t\t\tif(sales[dist+1][col]&lt;min) {\r\n\t\t\t\t\tmin = sales[dist][col];\r\n\t\t\t\t\tminIndex = dist;\r\n\t\t\t\t\tSystem.out.print(&quot;Min value: &quot; + sales[minIndex][col] + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(max&lt;sales[dist][col]) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmaxIndex = dist;\r\n\t\t\t\t\tmax = sales[dist][col];\r\n\t\t\t\t\tSystem.out.print(&quot;Max value: &quot; + max + &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(brands[col]);\r\n\t\t\tSystem.out.println(&quot;Most popular: &quot; + districts[maxIndex]);\r\n\t\t\tSystem.out.println(&quot;Least popular: &quot; + districts[minIndex]);\r\n\r\n\t\t\tminIndex = 0;\r\n\t\t\tmax = sales[0][0];\r\n\t\t}\r\n\r\n```\r\n\r\n\r\nThousands of failed attempts never did anything to fix my problem with the if statement, that was used to check for the min value in the column. Since I can&#39;t give you thousand examples, I will show you my first attempt.\r\n\r\n\r\n- I used the linear search technique, which is the simplest way to search for values less than the target element which in this case was sales[0][0].\r\n- If any value was less than that particular element, then the min will be set to that element, and the loop will run accordingly.\r\n- Here&#39;s how it looks like:\r\n\r\n```\r\n\r\n\t\t\t\tif(sales[dist][col]&lt;min) {\r\n\t\t\r\n\t\t\t\t\tminIndex = dist;\r\n\t\t\t\t\tmin = sales[dist][col];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n```\r\n\r\nI expected it to change the min accordingly, everytime the inner for loop ran. However, I tried a bunch of different things and that didn&#39;t help either.\r\n\r\nHere&#39;s my second attempt to fix, but ended up failing:\r\n(To see the for loop and other code, check the problem details section where I give a big overview of what&#39;s happening)\r\n\r\n```\r\nmin = sales[dist][col];\r\n\t\t\t\t// if this element is larger than any other element\r\n\t\t\t\tif(sales[dist+1][col]&lt;min) {\r\n\t\t\t\t\tmin = sales[dist][col];\r\n\t\t\t\t\tminIndex = dist;\r\n\t\t\t\t\tSystem.out.print(&quot;Min value: &quot; + sales[minIndex][col] +   &quot;\\n&quot;);\r\n\t\t\t\t}\r\n\r\n```\r\nI thought that this would work, but didn&#39;t return anything. During all of my attempts, the value of min stayed at [0][0] before the loop and after the loops finished iterating completely.\r\n\r\nI really need help to find the root cause of my problem, so any help would be appreciated.\r\n\r\n","title":"Is there a better way to get a min value of all elements in a column, especially in a 2d array in java?","body":"<p>I was coding a Java program for AP CSA that took the max value from the columns of a two dimensional array, and it was used to determine and print out which area of a brand was the most popular/or had the highest amount of sales.\nIt also took the min value, and it determined and which area of brand had the lowest amount of sales.</p>\n<p>I had created two one dimensional arrays, one is for the 5 sneaker brands which were sold, and the other is for the four district/locations where they were sold.</p>\n<pre><code>\n        String[] brands = { &quot;ACTION&quot;, &quot;DEFY&quot;, &quot;GEL&quot;, &quot;JETPRO&quot;, &quot;MAGNUM&quot;\n\n        };\n\n        String[] districts =\n\n                {\n\n                        &quot;North&quot;, &quot;West&quot;, &quot;South&quot;, &quot;East&quot; };\n</code></pre>\n<p>I then made a two dimensional array that contained the following numbers <strong>in correspondence</strong> to:</p>\n<ul>\n<li>the five <em>sneaker brands</em> per each row</li>\n<li>as well as the <em>locations</em> in each column</li>\n</ul>\n<pre><code>int[][] sales = { \n                \n                { 17, 57, 35, 48, 31 },\n                { 35, 36, 53, 78, 76 }, \n                { 55, 56, 96, 44, 56 }, \n                { 35, 44, 34, 43, 44 }\n\n        };\n\n\n</code></pre>\n<p>In order to find the max and the min as I mentioned above, I had to make a nested for loop to run through the 2d array, row by row rather than column by column, to check the values depending on the location/area of the sneaker sale.\nAnd I had two variables that saved the max value and the min value as well as the indexes for both of them, and that's where things started to go wrong.</p>\n<p>In the beginning, I set max and min to start at the first element of the 2d array, and change based on the if statement. Indexes were started at 0.</p>\n<p>The if statement checked if there were any elements per column less than the min or greater than the max.\nIf it did, then it would set min/max to that particular element in the list, and the maxIndex and the minIndex (the position at where the min/max was found) will be updated accordingly.</p>\n<p>It works fine for the max value, however with over thousands of failed attempts, the if statement to check the min never worked.</p>\n<p>Here's the entire code, with the starting variables and the for loop:</p>\n<pre><code>\n        int max = sales[0][0];\n        int min = sales[0][0];\n        int minIndex = 0;\n        int maxIndex = 0;\n        for (int col = 0; col &lt; sales[0].length; col++) {\n            for (int dist = 0; dist &lt; sales.length-1; dist++) {\n                \n                min = sales[dist][col];\n                // if this element is larger than any other element\n                if(sales[dist+1][col]&lt;min) {\n                    min = sales[dist][col];\n                    minIndex = dist;\n                    System.out.print(&quot;Min value: &quot; + sales[minIndex][col] + &quot;\\n&quot;);\n                }\n                \n                \n                if(max&lt;sales[dist][col]) {\n                    \n                    maxIndex = dist;\n                    max = sales[dist][col];\n                    System.out.print(&quot;Max value: &quot; + max + &quot;\\n&quot;);\n                }\n                \n                \n                \n\n            }\n            \n            System.out.println();\n            System.out.println(brands[col]);\n            System.out.println(&quot;Most popular: &quot; + districts[maxIndex]);\n            System.out.println(&quot;Least popular: &quot; + districts[minIndex]);\n\n            minIndex = 0;\n            max = sales[0][0];\n        }\n\n</code></pre>\n<p>Thousands of failed attempts never did anything to fix my problem with the if statement, that was used to check for the min value in the column. Since I can't give you thousand examples, I will show you my first attempt.</p>\n<ul>\n<li>I used the linear search technique, which is the simplest way to search for values less than the target element which in this case was sales[0][0].</li>\n<li>If any value was less than that particular element, then the min will be set to that element, and the loop will run accordingly.</li>\n<li>Here's how it looks like:</li>\n</ul>\n<pre><code>\n                if(sales[dist][col]&lt;min) {\n        \n                    minIndex = dist;\n                    min = sales[dist][col];\n                }\n                \n</code></pre>\n<p>I expected it to change the min accordingly, everytime the inner for loop ran. However, I tried a bunch of different things and that didn't help either.</p>\n<p>Here's my second attempt to fix, but ended up failing:\n(To see the for loop and other code, check the problem details section where I give a big overview of what's happening)</p>\n<pre><code>min = sales[dist][col];\n                // if this element is larger than any other element\n                if(sales[dist+1][col]&lt;min) {\n                    min = sales[dist][col];\n                    minIndex = dist;\n                    System.out.print(&quot;Min value: &quot; + sales[minIndex][col] +   &quot;\\n&quot;);\n                }\n\n</code></pre>\n<p>I thought that this would work, but didn't return anything. During all of my attempts, the value of min stayed at [0][0] before the loop and after the loops finished iterating completely.</p>\n<p>I really need help to find the root cause of my problem, so any help would be appreciated.</p>\n"},{"tags":["java","mongodb","date","mongo-java-driver"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1438004294,"post_id":31654567,"comment_id":51254423,"body_markdown":"&quot;What If I need to query on the DB from another time zone?&quot; What exactly do you mean? Basically, the `Date` type represents an instant in time, internally stored as milliseconds since the Unix epoch. If you don&#39;t want to store an instant in time, `Date` isn&#39;t going to help you :(","body":"&quot;What If I need to query on the DB from another time zone?&quot; What exactly do you mean? Basically, the <code>Date</code> type represents an instant in time, internally stored as milliseconds since the Unix epoch. If you don&#39;t want to store an instant in time, <code>Date</code> isn&#39;t going to help you :("},{"owner":{"account_id":1001831,"reputation":4661,"user_id":1016512,"accept_rate":76,"display_name":"Sercan Ozdemir"},"score":1,"creation_date":1438004499,"post_id":31654567,"comment_id":51254597,"body_markdown":"Well, in general it&#39;s better to keep dates as UTC in database already. Maybe you should do timezone staff in your api side.","body":"Well, in general it&#39;s better to keep dates as UTC in database already. Maybe you should do timezone staff in your api side."},{"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"score":0,"creation_date":1438004531,"post_id":31654567,"comment_id":51254620,"body_markdown":"@JonSkeet I have inserted the date field from IST zone. What If I need to query the DB from a different time zone? Won&#39;t I be getting the corresponding date-time in that time zone? How can I store the date as it is?","body":"@JonSkeet I have inserted the date field from IST zone. What If I need to query the DB from a different time zone? Won&#39;t I be getting the corresponding date-time in that time zone? How can I store the date as it is?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1438004637,"post_id":31654567,"comment_id":51254694,"body_markdown":"Just repeating &quot;What If I need to query the DB from a different time zone?&quot; doesn&#39;t actually tell me what you mean by that. The date value doesn&#39;t have any knowledge of a time zone - it&#39;s just an instant in time. Likewise any query you perform will just compare that value with another instant in time. I don&#39;t know what you mean by &quot;as it is&quot; in this case, but you need to understand what the `Date` type means. It&#39;s not clear what behaviour you&#39;re trying to achieve.","body":"Just repeating &quot;What If I need to query the DB from a different time zone?&quot; doesn&#39;t actually tell me what you mean by that. The date value doesn&#39;t have any knowledge of a time zone - it&#39;s just an instant in time. Likewise any query you perform will just compare that value with another instant in time. I don&#39;t know what you mean by &quot;as it is&quot; in this case, but you need to understand what the <code>Date</code> type means. It&#39;s not clear what behaviour you&#39;re trying to achieve."},{"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"score":0,"creation_date":1438005113,"post_id":31654567,"comment_id":51255055,"body_markdown":"@JonSkeet Maybe the instant-in-time storage is causing my problem. I need to store the date as &quot;2015-07-01&quot;. And would like to query for the same from India or London and get the result as &quot;2015-07-01&quot; in both cases. Maybe Mongo isn&#39;t my use-case db :(","body":"@JonSkeet Maybe the instant-in-time storage is causing my problem. I need to store the date as &quot;2015-07-01&quot;. And would like to query for the same from India or London and get the result as &quot;2015-07-01&quot; in both cases. Maybe Mongo isn&#39;t my use-case db :("},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1438005776,"post_id":31654567,"comment_id":51255529,"body_markdown":"Indeed - you&#39;ll either have to store it as a different type, or parse your original date/time in UTC (i.e. store 2015-07-01T00:00:00Z).","body":"Indeed - you&#39;ll either have to store it as a different type, or parse your original date/time in UTC (i.e. store 2015-07-01T00:00:00Z)."}],"answers":[{"comments":[{"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"score":1,"creation_date":1438062410,"post_id":31655733,"comment_id":51279981,"body_markdown":"If you meant org.joda.time LocalDateTime, it&#39;s not working either.","body":"If you meant org.joda.time LocalDateTime, it&#39;s not working either."}],"tags":[],"owner":{"account_id":474081,"reputation":41,"user_id":883547,"display_name":"TAL"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438006959,"creation_date":1438006959,"answer_id":31655733,"question_id":31654567,"body_markdown":"When using `DateTime` (from `org.joda.time` or `java.time`) a date with time zone is created and MongoDB has unfortunately no support for it. (see [BSON Types][1])\r\n\r\nTherefore persisting it in UTC is a easy and reliable solution without loosing any data.\r\n\r\n\r\n\r\nAs a alternative you should take a look at `LocalDateTime`.\r\nIt contains no `DateTimeZone` and so nothing has to be converted first.\r\n\r\n\r\n  [1]: http://docs.mongodb.org/manual/reference/bson-types/#timestamps","title":"MongoDb BSON stores Date in UTC time","body":"<p>When using <code>DateTime</code> (from <code>org.joda.time</code> or <code>java.time</code>) a date with time zone is created and MongoDB has unfortunately no support for it. (see <a href=\"http://docs.mongodb.org/manual/reference/bson-types/#timestamps\" rel=\"nofollow\">BSON Types</a>)</p>\n\n<p>Therefore persisting it in UTC is a easy and reliable solution without loosing any data.</p>\n\n<p>As a alternative you should take a look at <code>LocalDateTime</code>.\nIt contains no <code>DateTimeZone</code> and so nothing has to be converted first.</p>\n"},{"comments":[{"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"score":1,"creation_date":1438062794,"post_id":31656127,"comment_id":51280129,"body_markdown":"@AswinJoseRoy set this as your apllication launch parameters i.e. `java -jar yourApp.jar -Duser.timezone=&quot;UTC&quot;`","body":"@AswinJoseRoy set this as your apllication launch parameters i.e. <code>java -jar yourApp.jar -Duser.timezone=&quot;UTC&quot;</code>"},{"owner":{"account_id":2048533,"reputation":781,"user_id":1828065,"display_name":"Ekkstein"},"score":0,"creation_date":1644441417,"post_id":31656127,"comment_id":125611090,"body_markdown":"IMO  mongo did not do everything right. I want to persist a day. Meaning a day in time. I don&#39;t want to persist  a point in  time, that is represented at different days  depending on the timezone. If I want to do that, I store a Time object.","body":"IMO  mongo did not do everything right. I want to persist a day. Meaning a day in time. I don&#39;t want to persist  a point in  time, that is represented at different days  depending on the timezone. If I want to do that, I store a Time object."},{"owner":{"account_id":359805,"reputation":14154,"user_id":701435,"accept_rate":100,"display_name":"Dan H"},"score":1,"creation_date":1657935962,"post_id":31656127,"comment_id":128934849,"body_markdown":"@Ekkstein Sorry, that&#39;s not what the `datetime` does... in Python or BSON.  It doesn&#39;t store a `date`, it doesn&#39;t store a `timeoffset` or anything else.  You are asking for a datatype that is just not naturally supported in BSON.\nThe good news is: you can roll your own.  Use a string.  Use an integer.  Use an object like `{&quot;$date&quot;: &quot;2022-02-09&quot;}`.","body":"@Ekkstein Sorry, that&#39;s not what the <code>datetime</code> does... in Python or BSON.  It doesn&#39;t store a <code>date</code>, it doesn&#39;t store a <code>timeoffset</code> or anything else.  You are asking for a datatype that is just not naturally supported in BSON. The good news is: you can roll your own.  Use a string.  Use an integer.  Use an object like <code>{&quot;$date&quot;: &quot;2022-02-09&quot;}</code>."}],"tags":[],"owner":{"account_id":1546286,"reputation":7588,"user_id":1439771,"accept_rate":75,"display_name":"Alex"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1438008052,"creation_date":1438008052,"answer_id":31656127,"question_id":31654567,"body_markdown":"IMO, mongo did everything right. You instantiate date using your local timezone and then store it in mongo in UTC. And then when you ask mongo to retrieve it for you it shifts date to your local timezone again.\r\n\r\nIf you dont want to deal with timezone shifting, just set your local timezone to UTC using the following flag:\r\n\r\n    -Duser.timezone=&quot;UTC&quot;","title":"MongoDb BSON stores Date in UTC time","body":"<p>IMO, mongo did everything right. You instantiate date using your local timezone and then store it in mongo in UTC. And then when you ask mongo to retrieve it for you it shifts date to your local timezone again.</p>\n\n<p>If you dont want to deal with timezone shifting, just set your local timezone to UTC using the following flag:</p>\n\n<pre><code>-Duser.timezone=\"UTC\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1438063537,"creation_date":1438063537,"answer_id":31668501,"question_id":31654567,"body_markdown":"I have the problem solved by setting my timezone as UTC from within the code itself. \r\n\r\n        DateTimeZone zone = DateTimeZone.UTC;\r\n        DateTimeZone.setDefault(zone);","title":"MongoDb BSON stores Date in UTC time","body":"<p>I have the problem solved by setting my timezone as UTC from within the code itself. </p>\n\n<pre><code>    DateTimeZone zone = DateTimeZone.UTC;\n    DateTimeZone.setDefault(zone);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7097767,"reputation":37,"user_id":6195346,"display_name":"user42344"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549138933,"creation_date":1549135988,"answer_id":54496755,"question_id":31654567,"body_markdown":"Got a very simple solution. Let the date be in UTC in your MongoDB.  \r\nWhenever you fetch it to your UI, just do: \r\n\r\n    new Date(fetchedDate);\r\n\r\nIt converts it to the local date.\r\n","title":"MongoDb BSON stores Date in UTC time","body":"<p>Got a very simple solution. Let the date be in UTC in your MongoDB.<br>\nWhenever you fetch it to your UI, just do: </p>\n\n<pre><code>new Date(fetchedDate);\n</code></pre>\n\n<p>It converts it to the local date.</p>\n"},{"tags":[],"owner":{"account_id":25550460,"reputation":33,"user_id":20507625,"display_name":"Vaibhav Tamakuwala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677939459,"creation_date":1677939459,"answer_id":75636240,"question_id":31654567,"body_markdown":"I was facing the same issue while retrieving the date from MongoDB. MongoDB follows the UTC timezone that&#39;s why when you perform any date operations, it converts into UTC.\r\n\r\nSo I used [post hook][1] from mongoose to convert the date and time in my preferable timezone. Here is the snippet.\r\n\r\n    schema.post([&#39;find&#39;, &#39;findOne&#39;], async function(docs, next) {\r\n        docs.map((doc) =&gt; doc.createdAt= convertToTz({tz: process.env.TZ, date: doc.createdAt}))\r\n        next();\r\n    });\r\nHere, **createdAt** is the date when the document is created. **convertToTz** is a common function that I mentioned below.\r\n\r\n    const moment = require(&quot;moment-timezone&quot;);\r\n    \r\n    const convertToTz = (params) =&gt; {\r\n      try {\r\n            let tz = params?.tz ?? process.env.TZ;\r\n            let format = params?.format ?? &quot;&quot;;\r\n            return moment(params.date).tz(tz).format(format);\r\n        } catch (error) {\r\n           throw new Error(error);\r\n      }\r\n    };\r\n\r\n**NOTE:** This code is in NodeJs but I hope this will solve your problem.\r\n\r\n  [1]: https://mongoosejs.com/docs/middleware.html#post","title":"MongoDb BSON stores Date in UTC time","body":"<p>I was facing the same issue while retrieving the date from MongoDB. MongoDB follows the UTC timezone that's why when you perform any date operations, it converts into UTC.</p>\n<p>So I used <a href=\"https://mongoosejs.com/docs/middleware.html#post\" rel=\"nofollow noreferrer\">post hook</a> from mongoose to convert the date and time in my preferable timezone. Here is the snippet.</p>\n<pre><code>schema.post(['find', 'findOne'], async function(docs, next) {\n    docs.map((doc) =&gt; doc.createdAt= convertToTz({tz: process.env.TZ, date: doc.createdAt}))\n    next();\n});\n</code></pre>\n<p>Here, <strong>createdAt</strong> is the date when the document is created. <strong>convertToTz</strong> is a common function that I mentioned below.</p>\n<pre><code>const moment = require(&quot;moment-timezone&quot;);\n\nconst convertToTz = (params) =&gt; {\n  try {\n        let tz = params?.tz ?? process.env.TZ;\n        let format = params?.format ?? &quot;&quot;;\n        return moment(params.date).tz(tz).format(format);\n    } catch (error) {\n       throw new Error(error);\n  }\n};\n</code></pre>\n<p><strong>NOTE:</strong> This code is in NodeJs but I hope this will solve your problem.</p>\n"}],"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15542,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":31668501,"answer_count":5,"score":10,"last_activity_date":1677939459,"creation_date":1438004103,"question_id":31654567,"body_markdown":"If I try to put a date field in a Document (BSON) and write it to Mongo, BSON writes it in UTC. For example, a date \r\n\r\n    DateTime dateTime = new DateTime(&quot;2015-07-01&quot;);\r\n    Document doc = new Document(&quot;date&quot;, dateTime.toDate());\r\nwill be stored as \r\n\r\n    &quot;date&quot; : ISODate(&quot;2015-06-30T18:30:00Z&quot;)\r\n\r\nin Mongo. And, if I retrieve it using the same Java Driver I get it as \r\n\r\n    Wed Jul 01 00:00:00 IST 2015\r\n\r\nGreat. Is there no solution to this? I mean, why can&#39;t I store my date as I want it? What If I need to query on the DB from another time zone? I will be getting different results? Date field is an important part of Mongo with a rich set of operators wrapped around it. Still, why doesn&#39;t Mongo provide this flexibility?\r\nThanks\r\n","title":"MongoDb BSON stores Date in UTC time","body":"<p>If I try to put a date field in a Document (BSON) and write it to Mongo, BSON writes it in UTC. For example, a date </p>\n\n<pre><code>DateTime dateTime = new DateTime(\"2015-07-01\");\nDocument doc = new Document(\"date\", dateTime.toDate());\n</code></pre>\n\n<p>will be stored as </p>\n\n<pre><code>\"date\" : ISODate(\"2015-06-30T18:30:00Z\")\n</code></pre>\n\n<p>in Mongo. And, if I retrieve it using the same Java Driver I get it as </p>\n\n<pre><code>Wed Jul 01 00:00:00 IST 2015\n</code></pre>\n\n<p>Great. Is there no solution to this? I mean, why can't I store my date as I want it? What If I need to query on the DB from another time zone? I will be getting different results? Date field is an important part of Mongo with a rich set of operators wrapped around it. Still, why doesn't Mongo provide this flexibility?\nThanks</p>\n"},{"tags":["java","dictionary","stream"],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677939265,"creation_date":1677939265,"answer_id":75636225,"question_id":75635988,"body_markdown":"You could make use of `groupingBy`, `reducingBy` and `Optional` without external functions:\r\n\r\n```java\r\nimport static java.util.stream.Collectors.*;\r\n\r\nMap&lt;Integer, Boolean&gt; idExistMap = list2.stream().collect(\r\n    groupingBy(A::getId, reducing(true, obj -&gt; obj.isToChangeNum() == 1, (a, b) -&gt; a &amp;&amp; b)));\r\n    \r\nList&lt;A&gt; res = list.stream()\r\n    .filter(x -&gt; x.status == Status.OLD)\r\n    .map(x -&gt; idExistMap.getOrDefault(x.getId(), false) ? Optional.of(x) : Optional.empty())\r\n    .flatMap(Optional::stream) // This will remove any empty Optional\r\n    .collect(toList());\r\n}\r\n```","title":"Java streams to remove element if result is null","body":"<p>You could make use of <code>groupingBy</code>, <code>reducingBy</code> and <code>Optional</code> without external functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.*;\n\nMap&lt;Integer, Boolean&gt; idExistMap = list2.stream().collect(\n    groupingBy(A::getId, reducing(true, obj -&gt; obj.isToChangeNum() == 1, (a, b) -&gt; a &amp;&amp; b)));\n    \nList&lt;A&gt; res = list.stream()\n    .filter(x -&gt; x.status == Status.OLD)\n    .map(x -&gt; idExistMap.getOrDefault(x.getId(), false) ? Optional.of(x) : Optional.empty())\n    .flatMap(Optional::stream) // This will remove any empty Optional\n    .collect(toList());\n}\n</code></pre>\n"}],"owner":{"account_id":27802627,"reputation":11,"user_id":21226791,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677939265,"creation_date":1677936818,"question_id":75635988,"body_markdown":"New to java streams and I have a quick question.\r\n\r\nI have a list with objects.\r\n```\r\nList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n```\r\nAnd a second List with different Objects.\r\n```\r\nList&lt;Object2&gt; list2 = new ArrayList&lt;&gt;();\r\n```\r\n\r\nbasicaly I have a filter method to check if some conditions are met.\r\nif condition is true:\r\n\r\nadd object to list \r\n\r\nif method returns null or condtion is false\r\n\r\nfilter object out.\r\n\r\n\r\n\r\n\r\nThis what I have tried but I would like to know whats should be best practice for this kind of filteration.\r\n\r\n```\r\nList&lt;Objet&gt; res = list.stream().filter(x -&gt; x.status == Status.OLD).filter(x -&gt; {\r\n (findReleventObject(x, list2)))\r\n  return x != null\r\n})\r\n.collect(Collectors.toList));\r\n```\r\n\r\n```\r\nprivate Object findReleventObject(Object x, List&lt;list2&gt; list2) {\r\n       boolean isExist = list2().stream().filter(m -&gt; m.getId() == x.getId()).allMatch(m -&gt; m.isToChangeNum() == 1);\r\n\r\nreturn isExist ? x : null;\r\n}\r\n```\r\n\r\nthank you.","title":"Java streams to remove element if result is null","body":"<p>New to java streams and I have a quick question.</p>\n<p>I have a list with objects.</p>\n<pre><code>List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And a second List with different Objects.</p>\n<pre><code>List&lt;Object2&gt; list2 = new ArrayList&lt;&gt;();\n</code></pre>\n<p>basicaly I have a filter method to check if some conditions are met.\nif condition is true:</p>\n<p>add object to list</p>\n<p>if method returns null or condtion is false</p>\n<p>filter object out.</p>\n<p>This what I have tried but I would like to know whats should be best practice for this kind of filteration.</p>\n<pre><code>List&lt;Objet&gt; res = list.stream().filter(x -&gt; x.status == Status.OLD).filter(x -&gt; {\n (findReleventObject(x, list2)))\n  return x != null\n})\n.collect(Collectors.toList));\n</code></pre>\n<pre><code>private Object findReleventObject(Object x, List&lt;list2&gt; list2) {\n       boolean isExist = list2().stream().filter(m -&gt; m.getId() == x.getId()).allMatch(m -&gt; m.isToChangeNum() == 1);\n\nreturn isExist ? x : null;\n}\n</code></pre>\n<p>thank you.</p>\n"},{"tags":["java","postgresql"],"answers":[{"comments":[{"owner":{"account_id":4217192,"reputation":333,"user_id":3453005,"display_name":"Henry"},"score":0,"creation_date":1395607036,"post_id":22596413,"comment_id":34403364,"body_markdown":"That solved it. Kind of misleading that the &quot;grant all privileges&quot; command doesn&#39;t grant all privileges though :/\nGuess I have to read a whole lot more about users and privileges when I&#39;m done with this project.\nBut thanks a bunch!","body":"That solved it. Kind of misleading that the &quot;grant all privileges&quot; command doesn&#39;t grant all privileges though :/ Guess I have to read a whole lot more about users and privileges when I&#39;m done with this project. But thanks a bunch!"},{"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"score":0,"creation_date":1395612996,"post_id":22596413,"comment_id":34405400,"body_markdown":"@Henry: Well, it *does* [grant all privileges for database access: (`CREATE`, `CONNECT`, `TEMP`)](http://www.postgresql.org/docs/current/interactive/sql-grant.html).","body":"@Henry: Well, it <i>does</i> <a href=\"http://www.postgresql.org/docs/current/interactive/sql-grant.html\" rel=\"nofollow noreferrer\">grant all privileges for database access: (<code>CREATE</code>, <code>CONNECT</code>, <code>TEMP</code>)</a>."}],"tags":[],"owner":{"account_id":904738,"reputation":617095,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1395605269,"creation_date":1395605269,"answer_id":22596413,"question_id":22595560,"body_markdown":"Privileges on the database are not enough.  \r\nYou also need at least the `USAGE` privilege for relevant schema and the `SELECT` privilege for the table.\r\n\r\nMore details in this closely related answer:  \r\nhttps://stackoverflow.com/questions/10491208/how-to-grant-all-privileges-on-views-to-arbitrary-user/10491275#10491275","title":"postgresql: permission denied for relation","body":"<p>Privileges on the database are not enough.<br>\nYou also need at least the <code>USAGE</code> privilege for relevant schema and the <code>SELECT</code> privilege for the table.</p>\n\n<p>More details in this closely related answer:<br>\n<a href=\"https://stackoverflow.com/questions/10491208/how-to-grant-all-privileges-on-views-to-arbitrary-user/10491275#10491275\">How to grant all privileges on views to arbitrary user</a></p>\n"}],"owner":{"account_id":4217192,"reputation":333,"user_id":3453005,"display_name":"Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44686,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":22596413,"answer_count":1,"score":14,"last_activity_date":1677939216,"creation_date":1395601293,"question_id":22595560,"body_markdown":"I&#39;m building a project using postgresql and java (NetBeans).\r\n\r\nWhen I try to execute a simple query (select * from customer) I get an error, telling me that &quot;permission denied for relation customer&quot;.\r\n\r\nWhen I searched for an answer, all I found was about granting user privileges, so I went into pgAdmin and wrote &quot;grant all privileges on database dirty to henrik;&quot; .\r\n\r\nThat didn&#39;t change anything - and that&#39;s why I&#39;m making a new post..\r\n\r\nThe complete error message output of the program:\r\n\r\n    run:\r\n    1\r\n    2\r\n    3\r\n\r\n    Mar 23, 2014 7:47:18 PM sletdendog.SletDenDog main\r\n    SEVERE: ERROR: permission denied for relation customer\r\n    org.postgresql.util.PSQLException: ERROR: permission denied for relation customer\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555)\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417)\r\n\tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:302)\r\n\tat sletdendog.SletDenDog.main(SletDenDog.java:27)\r\n\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nThe java program is really simple - it looks like this:\r\n\r\n\r\n    package sletdendog;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.ResultSetMetaData;\r\n    import java.sql.SQLException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class SletDenDog {\r\n\r\n    private static Connection connection = null;\r\n    private static PreparedStatement statement = null;\r\n    private static ResultSet result = null;\r\n    private static ResultSetMetaData meta = null;\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        try{\r\n            System.out.println(&quot;1&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/dirty&quot;, &quot;henrik&quot;, &quot;hokus pokus&quot;);\r\n            System.out.println(&quot;2&quot;);\r\n            statement = connection.prepareStatement(&quot;select * from customer;&quot;);\r\n            System.out.println(&quot;3&quot;);\r\n            result = statement.executeQuery();\r\n            System.out.println(&quot;4&quot;);\r\n            meta = result.getMetaData();\r\n            System.out.println(&quot;5&quot;);\r\n            for (int i = 1; i &lt;= meta.getColumnCount(); i++) {\r\n                System.out.println(meta.getColumnName(i));\r\n            }\r\n                    \r\n        } catch (SQLException ex){\r\n            Logger lgr = Logger.getLogger(SletDenDog.class.getName());\r\n            lgr.log(Level.SEVERE, ex.getMessage(), ex);\r\n        } finally {\r\n            try{\r\n                if(connection != null){\r\n                    connection.close();\r\n                }\r\n                if(statement != null){\r\n                    statement.close();\r\n                }\r\n                if(result != null){\r\n                    result.close();\r\n                }\r\n            } catch(SQLException ex){\r\n         \r\n                System.out.println(&quot;Something wasn&#39;t closed...&quot;);\r\n            \r\n            }\r\n        }   \r\n    }   \r\n    }","title":"postgresql: permission denied for relation","body":"<p>I'm building a project using postgresql and java (NetBeans).</p>\n<p>When I try to execute a simple query (select * from customer) I get an error, telling me that &quot;permission denied for relation customer&quot;.</p>\n<p>When I searched for an answer, all I found was about granting user privileges, so I went into pgAdmin and wrote &quot;grant all privileges on database dirty to henrik;&quot; .</p>\n<p>That didn't change anything - and that's why I'm making a new post..</p>\n<p>The complete error message output of the program:</p>\n<pre><code>run:\n1\n2\n3\n\nMar 23, 2014 7:47:18 PM sletdendog.SletDenDog main\nSEVERE: ERROR: permission denied for relation customer\norg.postgresql.util.PSQLException: ERROR: permission denied for relation customer\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2157)\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1886)\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\nat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:555)\nat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:417)\nat org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:302)\nat sletdendog.SletDenDog.main(SletDenDog.java:27)\n\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n<p>The java program is really simple - it looks like this:</p>\n<pre><code>package sletdendog;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class SletDenDog {\n\nprivate static Connection connection = null;\nprivate static PreparedStatement statement = null;\nprivate static ResultSet result = null;\nprivate static ResultSetMetaData meta = null;\n\npublic static void main(String[] args) {\n    \n    try{\n        System.out.println(&quot;1&quot;);\n        connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost/dirty&quot;, &quot;henrik&quot;, &quot;hokus pokus&quot;);\n        System.out.println(&quot;2&quot;);\n        statement = connection.prepareStatement(&quot;select * from customer;&quot;);\n        System.out.println(&quot;3&quot;);\n        result = statement.executeQuery();\n        System.out.println(&quot;4&quot;);\n        meta = result.getMetaData();\n        System.out.println(&quot;5&quot;);\n        for (int i = 1; i &lt;= meta.getColumnCount(); i++) {\n            System.out.println(meta.getColumnName(i));\n        }\n                \n    } catch (SQLException ex){\n        Logger lgr = Logger.getLogger(SletDenDog.class.getName());\n        lgr.log(Level.SEVERE, ex.getMessage(), ex);\n    } finally {\n        try{\n            if(connection != null){\n                connection.close();\n            }\n            if(statement != null){\n                statement.close();\n            }\n            if(result != null){\n                result.close();\n            }\n        } catch(SQLException ex){\n     \n            System.out.println(&quot;Something wasn't closed...&quot;);\n        \n        }\n    }   \n}   \n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation","spring-mvc","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"score":0,"creation_date":1677857214,"post_id":75628892,"comment_id":133425557,"body_markdown":"Thanks for the answer, but it didn&#39;t work.","body":"Thanks for the answer, but it didn&#39;t work."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677856823,"creation_date":1677856823,"answer_id":75628892,"question_id":75628523,"body_markdown":"try using `@Validated(New.class)` at the level of the method and `@Valid` for the method argument itself:\r\n\r\n    @Validated(New.class)\r\n    @PostMapping(...)\r\n    public ResponseEntity&lt;ItemLimitDTO&gt; create(@Valid @RequestBody ItemLimitDTO limitDTO) {\r\n        // ...\r\n    }\r\n","title":"SpringBoot annotation @Validated","body":"<p>try using <code>@Validated(New.class)</code> at the level of the method and <code>@Valid</code> for the method argument itself:</p>\n<pre><code>@Validated(New.class)\n@PostMapping(...)\npublic ResponseEntity&lt;ItemLimitDTO&gt; create(@Valid @RequestBody ItemLimitDTO limitDTO) {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"score":0,"creation_date":1677936617,"post_id":75631655,"comment_id":133437672,"body_markdown":"Thanks for the answer, probably still the right option would be to set @Valid to `ItemDTO item` in ItemLimitDTO, so that not only Integer is validated.","body":"Thanks for the answer, probably still the right option would be to set @Valid to <code>ItemDTO item</code> in ItemLimitDTO, so that not only Integer is validated."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1677938968,"post_id":75631655,"comment_id":133438038,"body_markdown":"@ThePrototype, oh , i made a silly mistake when copying the codes in my answer. if you see my content in my description, i am intended to mark the  `@Valid` on the ItemDTO field in `ItemLimitDTO` . And that guy @G.Guvenal just stole my answer  as you can find that he replied just several minutes later than me after reading my solution","body":"@ThePrototype, oh , i made a silly mistake when copying the codes in my answer. if you see my content in my description, i am intended to mark the  <code>@Valid</code> on the ItemDTO field in <code>ItemLimitDTO</code> . And that guy @G.Guvenal just stole my answer  as you can find that he replied just several minutes later than me after reading my solution"},{"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"score":0,"creation_date":1677952197,"post_id":75631655,"comment_id":133440355,"body_markdown":"That&#39;s what confused me, I gave you a point for answering my question, since you wrote it earlier. I was confused by the absence of @Valid over ItemDTO","body":"That&#39;s what confused me, I gave you a point for answering my question, since you wrote it earlier. I was confused by the absence of @Valid over ItemDTO"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677955135,"post_id":75631655,"comment_id":133440867,"body_markdown":"@KenChan I don&#39;t reply for point.  I didn&#39;t stole your answer. I edited my answer when you wrote your answer. So i didn’t see that. Also how can i stole your answer when your answer is not correct.  Doesn&#39;t matter point but you can&#39;t say thief to me! Please don’t be rude.","body":"@KenChan I don&#39;t reply for point.  I didn&#39;t stole your answer. I edited my answer when you wrote your answer. So i didn’t see that. Also how can i stole your answer when your answer is not correct.  Doesn&#39;t matter point but you can&#39;t say thief to me! Please don’t be rude."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677939055,"creation_date":1677875700,"answer_id":75631655,"question_id":75628523,"body_markdown":"You have to annotate `@Valid` on `ItemDTO` to enable cascade validation which is mentioned by the hibernate validator documentation as follows :\r\n\r\n&gt; The validation of object graphs is recursive, i.e. if a reference\r\n&gt; marked for cascaded validation points to an object which itself has\r\n&gt; properties annotated with **@Valid**, these references will be followed up\r\n&gt; by the validation engine as well. The validation engine will ensure\r\n&gt; that no infinite loops occur during cascaded validation, for example\r\n&gt; if two objects hold references to each other.\r\n\r\nSo change to the following should fix your problem : \r\n\r\n``` java\r\npublic class ItemLimitDTO {\r\n\r\n        @Null(groups = {New.class})\r\n        @NotNull(groups = {Exist.class})\r\n        private Integer id;\r\n\r\n        @PositiveOrZero(groups = {New.class, Exist.class})\r\n        private Integer value;\r\n\r\n        @Valid\r\n        @NotNull(groups = {New.class, Exist.class})\r\n        private ItemDTO item;\r\n\r\n    }\r\n\r\n\r\n```","title":"SpringBoot annotation @Validated","body":"<p>You have to annotate <code>@Valid</code> on <code>ItemDTO</code> to enable cascade validation which is mentioned by the hibernate validator documentation as follows :</p>\n<blockquote>\n<p>The validation of object graphs is recursive, i.e. if a reference\nmarked for cascaded validation points to an object which itself has\nproperties annotated with <strong>@Valid</strong>, these references will be followed up\nby the validation engine as well. The validation engine will ensure\nthat no infinite loops occur during cascaded validation, for example\nif two objects hold references to each other.</p>\n</blockquote>\n<p>So change to the following should fix your problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemLimitDTO {\n\n        @Null(groups = {New.class})\n        @NotNull(groups = {Exist.class})\n        private Integer id;\n\n        @PositiveOrZero(groups = {New.class, Exist.class})\n        private Integer value;\n\n        @Valid\n        @NotNull(groups = {New.class, Exist.class})\n        private ItemDTO item;\n\n    }\n\n\n</code></pre>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75631655,"answer_count":2,"score":0,"last_activity_date":1677939055,"creation_date":1677854807,"question_id":75628523,"body_markdown":"Validation is not called for ItemDTO fields.\r\nHow do I make the check work for ItemDTO fields?\r\n\r\nIf I completely remove the ItemDTO section from the request, then NotNull validation will work, but validation is not called for internal ItemDTO fields.\r\n\r\nSpringBoot 2.1.9.RELEASE\r\n\r\n```\r\n    @RestController\r\n    @RequestMapping(&quot;/items&quot;)\r\n    @RequiredArgsConstructor\r\n    public class ItemController {\r\n        \r\n        private final ItemLimitService itemLimitService;\r\n\r\n        @PostMapping(value = &quot;&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n        public ResponseEntity&lt;ItemLimitDTO&gt; create(@Validated(New.class) @RequestBody ItemLimitDTO limitDTO) {\r\n            ItemLimit limit = itemLimitService.create(limitDTO);\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(limit);\r\n        }\r\n        \r\n    }\r\n\r\n    public class ItemLimitDTO {\r\n\r\n        @Null(groups = {New.class})\r\n        @NotNull(groups = {Exist.class})\r\n        private Integer id;\r\n\r\n        @PositiveOrZero(groups = {New.class, Exist.class})\r\n        private Integer value;\r\n\r\n        @NotNull(groups = {New.class, Exist.class})\r\n        private ItemDTO item;\r\n\r\n    }\r\n\r\n    public class ItemDTO {\r\n\r\n        @Null(groups = {New.class})\r\n        @NotNull(groups = {Exist.class})\r\n        private Integer id;\r\n\r\n        @PositiveOrZero(groups = {New.class, Exist.class})\r\n        private Integer value;\r\n\r\n    }\r\n```","title":"SpringBoot annotation @Validated","body":"<p>Validation is not called for ItemDTO fields.\nHow do I make the check work for ItemDTO fields?</p>\n<p>If I completely remove the ItemDTO section from the request, then NotNull validation will work, but validation is not called for internal ItemDTO fields.</p>\n<p>SpringBoot 2.1.9.RELEASE</p>\n<pre><code>    @RestController\n    @RequestMapping(&quot;/items&quot;)\n    @RequiredArgsConstructor\n    public class ItemController {\n        \n        private final ItemLimitService itemLimitService;\n\n        @PostMapping(value = &quot;&quot;, consumes = MediaType.APPLICATION_JSON_UTF8_VALUE, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n        public ResponseEntity&lt;ItemLimitDTO&gt; create(@Validated(New.class) @RequestBody ItemLimitDTO limitDTO) {\n            ItemLimit limit = itemLimitService.create(limitDTO);\n            return ResponseEntity.status(HttpStatus.CREATED).body(limit);\n        }\n        \n    }\n\n    public class ItemLimitDTO {\n\n        @Null(groups = {New.class})\n        @NotNull(groups = {Exist.class})\n        private Integer id;\n\n        @PositiveOrZero(groups = {New.class, Exist.class})\n        private Integer value;\n\n        @NotNull(groups = {New.class, Exist.class})\n        private ItemDTO item;\n\n    }\n\n    public class ItemDTO {\n\n        @Null(groups = {New.class})\n        @NotNull(groups = {Exist.class})\n        private Integer id;\n\n        @PositiveOrZero(groups = {New.class, Exist.class})\n        private Integer value;\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","model-view-controller"],"comments":[{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677434418,"post_id":75573888,"comment_id":133332709,"body_markdown":"Could you please provide a curl command you are trying to make?  (if using Postman you can generate it in the right menu, tab &#39;Code&#39;). Also could you please show your application.properties if exists","body":"Could you please provide a curl command you are trying to make?  (if using Postman you can generate it in the right menu, tab &#39;Code&#39;). Also could you please show your application.properties if exists"},{"owner":{"account_id":27884453,"reputation":13,"user_id":21292243,"display_name":"Krywion"},"score":0,"creation_date":1677434647,"post_id":75573888,"comment_id":133332746,"body_markdown":"You mean this? GET http://localhost:8080/api/v1/movies","body":"You mean this? GET <a href=\"http://localhost:8080/api/v1/movies\" rel=\"nofollow noreferrer\">localhost:8080/api/v1/movies</a>"},{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677434817,"post_id":75573888,"comment_id":133332776,"body_markdown":"Has your app starting logs following line: Tomcat started on port(s): 8080 (http) with context path &#39;&#39; ?","body":"Has your app starting logs following line: Tomcat started on port(s): 8080 (http) with context path &#39;&#39; ?"},{"owner":{"account_id":27884453,"reputation":13,"user_id":21292243,"display_name":"Krywion"},"score":0,"creation_date":1677434972,"post_id":75573888,"comment_id":133332805,"body_markdown":"Yes my app has this line","body":"Yes my app has this line"},{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677435417,"post_id":75573888,"comment_id":133332903,"body_markdown":"Do you have another controllers? Could you please give me a response body for your faulty request?","body":"Do you have another controllers? Could you please give me a response body for your faulty request?"},{"owner":{"account_id":27884453,"reputation":13,"user_id":21292243,"display_name":"Krywion"},"score":0,"creation_date":1677435551,"post_id":75573888,"comment_id":133332934,"body_markdown":"I don&#39;t have another controller. Response body: is a json file  {\n  &quot;timestamp&quot;: &quot;2023-02-26T18:17:34.348+00:00&quot;,\n  &quot;status&quot;: 404,\n  &quot;error&quot;: &quot;Not Found&quot;,\n  &quot;message&quot;: &quot;No message available&quot;,\n  &quot;path&quot;: &quot;/api/v1/movies&quot;\n}","body":"I don&#39;t have another controller. Response body: is a json file  {   &quot;timestamp&quot;: &quot;2023-02-26T18:17:34.348+00:00&quot;,   &quot;status&quot;: 404,   &quot;error&quot;: &quot;Not Found&quot;,   &quot;message&quot;: &quot;No message available&quot;,   &quot;path&quot;: &quot;/api/v1/movies&quot; }"},{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":0,"creation_date":1677436469,"post_id":75573888,"comment_id":133333097,"body_markdown":"Could you please re-run you app with DEBUG mode enabled (-Ddebug), execute the request and attach logs to you questions, where the 404 error is presented (about 10 lines)","body":"Could you please re-run you app with DEBUG mode enabled (-Ddebug), execute the request and attach logs to you questions, where the 404 error is presented (about 10 lines)"},{"owner":{"account_id":27884453,"reputation":13,"user_id":21292243,"display_name":"Krywion"},"score":0,"creation_date":1677437501,"post_id":75573888,"comment_id":133333302,"body_markdown":"logs attached when DEBUG mode enabled","body":"logs attached when DEBUG mode enabled"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677938773,"creation_date":1677439098,"answer_id":75574442,"question_id":75573888,"body_markdown":"There is an issue with component scanning in spring 3.0.3: https://github.com/spring-projects/spring-boot/issues/34379 \r\n\r\nThe issue occurs when running your application not as a `.jar`. If your project structure has directory elements whose names contain a characters that would be encoded in a URL, component scanning will not work as expected. \r\n\r\nYou can change your application&#39;s path to remove those characters. Or you downgrade to 3.0.2 or upgrade to 3.0.4, available since March 04, 2023.","title":"WhiteLabel error page when making GET request","body":"<p>There is an issue with component scanning in spring 3.0.3: <a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/34379</a></p>\n<p>The issue occurs when running your application not as a <code>.jar</code>. If your project structure has directory elements whose names contain a characters that would be encoded in a URL, component scanning will not work as expected.</p>\n<p>You can change your application's path to remove those characters. Or you downgrade to 3.0.2 or upgrade to 3.0.4, available since March 04, 2023.</p>\n"}],"owner":{"account_id":27884453,"reputation":13,"user_id":21292243,"display_name":"Krywion"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678196437,"accepted_answer_id":75574442,"answer_count":1,"score":1,"last_activity_date":1677938773,"creation_date":1677433533,"question_id":75573888,"body_markdown":"I get WhiteLabel error page with status 404 instead of String &quot;All Movies!&quot;\r\nI am making GET request on http://localhost:8080/api/v1/movies\r\n\r\n\r\nMy controller \r\n\r\n```\r\npackage pl.krywion.movies.app;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n    @GetMapping\r\n    public String allMovies() {\r\n        return &quot;All Movies!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy main class \r\n\r\n```\r\npackage pl.krywion.movies;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class MoviesApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MoviesApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nmy pom.xml file\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;pl.krywion&lt;/groupId&gt;\r\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;movies&lt;/name&gt;\r\n    &lt;description&gt;movies&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nmy application.properties\r\n\r\n    spring.data.mongodb.database=${env.MONGO_DATABSE}\r\n    spring.data.mongodb.uri=mongodb+srv://${env.MONGO_USER}:${env.MONGO_PASSWORD}@${env.MONGO_CLUSTER}\r\n\r\nMy logs after Debug run and making a request \r\n\r\n    2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n    2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n    2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n    2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26512192\r\n    2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c16475\r\n    2023-02-26T19:45:33.143+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    2023-02-26T19:45:33.143+01:00  INFO 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n    2023-02-26T19:45:33.147+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/movies&quot;, parameters={}\r\n    2023-02-26T19:45:33.152+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2023-02-26T19:45:33.157+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-02-26T19:45:33.157+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2023-02-26T19:45:33.161+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2023-02-26T19:45:33.162+01:00 DEBUG 8118 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    2023-02-26T19:45:33.179+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json]\r\n    2023-02-26T19:45:33.179+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Feb 26 19:45:33 CET 2023, status=404, error=Not Found, message=No message available,  (truncated)...]\r\n    2023-02-26T19:45:33.197+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\nI don&#39;t know how to fix it, I am a Spring beginner\r\n\r\n\r\nI tried using @ComponentScan annotation, and moving MovieApplication Java class to package above or moving it ot the same package as controller","title":"WhiteLabel error page when making GET request","body":"<p>I get WhiteLabel error page with status 404 instead of String &quot;All Movies!&quot;\nI am making GET request on http://localhost:8080/api/v1/movies</p>\n<p>My controller</p>\n<pre><code>package pl.krywion.movies.app;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n    @GetMapping\n    public String allMovies() {\n        return &quot;All Movies!&quot;;\n    }\n}\n</code></pre>\n<p>My main class</p>\n<pre><code>package pl.krywion.movies;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class MoviesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MoviesApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>my pom.xml file\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;pl.krywion&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my application.properties</p>\n<pre><code>spring.data.mongodb.database=${env.MONGO_DATABSE}\nspring.data.mongodb.uri=mongodb+srv://${env.MONGO_USER}:${env.MONGO_PASSWORD}@${env.MONGO_CLUSTER}\n</code></pre>\n<p>My logs after Debug run and making a request</p>\n<pre><code>2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@26512192\n2023-02-26T19:45:33.142+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c16475\n2023-02-26T19:45:33.143+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-26T19:45:33.143+01:00  INFO 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-02-26T19:45:33.147+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/movies&quot;, parameters={}\n2023-02-26T19:45:33.152+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-02-26T19:45:33.157+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-02-26T19:45:33.157+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-02-26T19:45:33.161+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2023-02-26T19:45:33.162+01:00 DEBUG 8118 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-02-26T19:45:33.179+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]\n2023-02-26T19:45:33.179+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Sun Feb 26 19:45:33 CET 2023, status=404, error=Not Found, message=No message available,  (truncated)...]\n2023-02-26T19:45:33.197+01:00 DEBUG 8118 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>I don't know how to fix it, I am a Spring beginner</p>\n<p>I tried using @ComponentScan annotation, and moving MovieApplication Java class to package above or moving it ot the same package as controller</p>\n"},{"tags":["java","arrays","path"],"comments":[{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1677940961,"post_id":75636162,"comment_id":133438353,"body_markdown":"What is the intention with this line: `visited[i][j] = (int)1;`?\nI am confused that this is allowed.","body":"What is the intention with this line: <code>visited[i][j] = (int)1;</code>? I am confused that this is allowed."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1677941206,"post_id":75636162,"comment_id":133438398,"body_markdown":"@Nico why shouldn&#39;t it be allowed? This is just setting the value `1` at position `(i,j)` of the array. The explicit cast is useless, but allowed nonetheless.","body":"@Nico why shouldn&#39;t it be allowed? This is just setting the value <code>1</code> at position <code>(i,j)</code> of the array. The explicit cast is useless, but allowed nonetheless."},{"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"score":0,"creation_date":1677941371,"post_id":75636162,"comment_id":133438425,"body_markdown":"@QBrute my bad. I got confused by that line. It&#39;s perfectly fine.","body":"@QBrute my bad. I got confused by that line. It&#39;s perfectly fine."}],"owner":{"account_id":27934411,"reputation":1,"user_id":21331719,"display_name":"Kito"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677938649,"creation_date":1677938649,"question_id":75636162,"body_markdown":"I am trying to make #java code what will find path from [0][0] to [k-1][m-1]. But my created code is not working rightly.\r\n\r\nEnd of program should be printed `(0,0) (0,1) (1,1)` but I got `(-1,-1)` what means that it can&#39;t find path. I think, problem is with returning array. But how to fix that?\r\n\r\nMy code:\r\nIf a particular labyrinth[i][j] == 1, it means that there is a wall in this path and there is no way out. Otherwise are checked right/left/up/down or these exist and are not visited if it executes then a path from that cell is sought. If several paths are found then the shortest one is returned.\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n        int[][] visited = new int[2][2];\r\n        int[][] input = {{0,0},{1,0}};\r\n        int[][] result = dfs(input, 2, 2, 0, 0, new int[2][2], visited); \r\n        for(int x =0; x&lt;result.length; x++){\r\n            System.out.print(&quot;(&quot; + result[x][0] + &quot;,&quot; + result[x][1] + &quot;) &quot;);\r\n        }\r\n\t}\r\n    public static boolean validMove(int k, int m, int i, int j, int[][] visited){\r\n        try{\r\n            if(i&gt;=0 &amp;&amp; j&gt;=0 &amp;&amp; i&lt;=(k-1) &amp;&amp; j&lt;=(m-1)){\r\n                if(visited[i][j] != 1) return true;\r\n            }\r\n            return false;\r\n        }catch (Exception e) {return false;}\r\n        //return true;\r\n    }\r\n    public static int[][] dfs(int[][] maze, int k, int m, int j, int i, int[][] path, int[][] visited){\r\n        visited[i][j] = (int)1;\r\n        int[][] er = {{-1,-1}};\r\n        if(i == (k-1) &amp;&amp; j == (m-1)){\r\n            int[][] resultThis = new int[path.length+1][2];\r\n            for(int x =0; x&lt;path.length; x++){\r\n                resultThis[x][0] = path[x][0];\r\n                resultThis[x][1] = path[x][1];\r\n            }\r\n            resultThis[resultThis.length-1] = new int[]{i,j};\r\n            return resultThis;\r\n        }\r\n        if(maze[i][j] == 1) return new int[][]{{-1,-1}};\r\n        else{\r\n            boolean bl1 = false;\r\n            boolean bl2 = false;\r\n            boolean bl3 = false;\r\n            boolean bl4 = false;\r\n            int[][] blok1 = null;\r\n            int[][] blok2 = null;\r\n            int[][] blok3 = null;\r\n            int[][] blok4 = null;\r\n            if(validMove(k, m, i+1, j, visited)){\r\n                int[][] option = new int[path.length+1][2];\r\n                for(int x =0; x&lt;path.length; x++){\r\n                    option[x][0] = path[x][0];\r\n                    option[x][1] = path[x][1];\r\n                }\r\n                option[option.length-1] = new int[]{i,j};\r\n                blok1 = dfs(maze, k, m, j, i+1, option, visited);               \r\n                if(!(blok1.length == er.length) || (blok1[0][0] == -1)){bl1 = true;}\r\n            }\r\n            if(validMove(k, m, i, j+1, visited)){\r\n                int[][] option = new int[path.length+1][2];\r\n                for(int x =0; x&lt;path.length; x++){\r\n                    option[x][0] = path[x][0];\r\n                    option[x][1] = path[x][1];\r\n                }\r\n                option[option.length-1] = new int[]{i,j};\r\n                blok2 = dfs(maze, k, m, j, i+1, option, visited);  \r\n                if(!(blok2.length == er.length &amp;&amp; blok2[0][0] == -1)){bl2 = true;}\r\n            }\r\n            if(validMove(k, m, i-1, j, visited)){\r\n                int[][] option = new int[path.length+1][2];\r\n                for(int x =0; x&lt;path.length; x++){\r\n                    option[x][0] = path[x][0];\r\n                    option[x][1] = path[x][1];\r\n                }\r\n                option[option.length-1] = new int[]{i,j};\r\n                blok3 = dfs(maze, k, m, j, i+1, option, visited);  \r\n                if(!(blok3.length == er.length &amp;&amp; blok3[0][0] == -1)){bl3 = true;}\r\n            }\r\n            if(validMove(k, m, i, j-1, visited)){\r\n                int[][] option = new int[path.length+1][2];\r\n                for(int x =0; x&lt;path.length; x++){\r\n                    option[x][0] = path[x][0];\r\n                    option[x][1] = path[x][1];\r\n                }\r\n                option[option.length-1] = new int[]{i,j};\r\n                blok4 = dfs(maze, k, m, j, i+1, option, visited);  \r\n                if(!(blok4.length == er.length &amp;&amp; blok4[0][0] == -1)){bl4 = true;}\r\n            }\r\n            if(!(bl1 &amp;&amp; bl2 &amp;&amp; bl3 &amp;&amp; bl4))return er;\r\n            int count = Integer.MAX_VALUE;\r\n            if(bl1 &amp;&amp; (blok1.length &lt; count)){\r\n                count = blok1.length;\r\n                path = blok1;\r\n            }\r\n            if(bl2 &amp;&amp; (blok2.length &lt; count)){\r\n                count = blok2.length;\r\n                path = blok2;\r\n            }\r\n            if(bl3 &amp;&amp; (blok3.length &lt; count)){\r\n                count = blok3.length;\r\n                path = blok3;\r\n            }\r\n            if(bl4 &amp;&amp; (blok4.length &lt; count)){\r\n                count = blok4.length;\r\n                path = blok4;\r\n            }\r\n            \r\n            return path;\r\n        }\r\n    }\r\n}\r\n```","title":"Returning correct array","body":"<p>I am trying to make #java code what will find path from [0][0] to [k-1][m-1]. But my created code is not working rightly.</p>\n<p>End of program should be printed <code>(0,0) (0,1) (1,1)</code> but I got <code>(-1,-1)</code> what means that it can't find path. I think, problem is with returning array. But how to fix that?</p>\n<p>My code:\nIf a particular labyrinth[i][j] == 1, it means that there is a wall in this path and there is no way out. Otherwise are checked right/left/up/down or these exist and are not visited if it executes then a path from that cell is sought. If several paths are found then the shortest one is returned.</p>\n<pre><code>import java.io.*;\n\npublic class Main {\n    public static void main(String[] args)\n    {\n        int[][] visited = new int[2][2];\n        int[][] input = {{0,0},{1,0}};\n        int[][] result = dfs(input, 2, 2, 0, 0, new int[2][2], visited); \n        for(int x =0; x&lt;result.length; x++){\n            System.out.print(&quot;(&quot; + result[x][0] + &quot;,&quot; + result[x][1] + &quot;) &quot;);\n        }\n    }\n    public static boolean validMove(int k, int m, int i, int j, int[][] visited){\n        try{\n            if(i&gt;=0 &amp;&amp; j&gt;=0 &amp;&amp; i&lt;=(k-1) &amp;&amp; j&lt;=(m-1)){\n                if(visited[i][j] != 1) return true;\n            }\n            return false;\n        }catch (Exception e) {return false;}\n        //return true;\n    }\n    public static int[][] dfs(int[][] maze, int k, int m, int j, int i, int[][] path, int[][] visited){\n        visited[i][j] = (int)1;\n        int[][] er = {{-1,-1}};\n        if(i == (k-1) &amp;&amp; j == (m-1)){\n            int[][] resultThis = new int[path.length+1][2];\n            for(int x =0; x&lt;path.length; x++){\n                resultThis[x][0] = path[x][0];\n                resultThis[x][1] = path[x][1];\n            }\n            resultThis[resultThis.length-1] = new int[]{i,j};\n            return resultThis;\n        }\n        if(maze[i][j] == 1) return new int[][]{{-1,-1}};\n        else{\n            boolean bl1 = false;\n            boolean bl2 = false;\n            boolean bl3 = false;\n            boolean bl4 = false;\n            int[][] blok1 = null;\n            int[][] blok2 = null;\n            int[][] blok3 = null;\n            int[][] blok4 = null;\n            if(validMove(k, m, i+1, j, visited)){\n                int[][] option = new int[path.length+1][2];\n                for(int x =0; x&lt;path.length; x++){\n                    option[x][0] = path[x][0];\n                    option[x][1] = path[x][1];\n                }\n                option[option.length-1] = new int[]{i,j};\n                blok1 = dfs(maze, k, m, j, i+1, option, visited);               \n                if(!(blok1.length == er.length) || (blok1[0][0] == -1)){bl1 = true;}\n            }\n            if(validMove(k, m, i, j+1, visited)){\n                int[][] option = new int[path.length+1][2];\n                for(int x =0; x&lt;path.length; x++){\n                    option[x][0] = path[x][0];\n                    option[x][1] = path[x][1];\n                }\n                option[option.length-1] = new int[]{i,j};\n                blok2 = dfs(maze, k, m, j, i+1, option, visited);  \n                if(!(blok2.length == er.length &amp;&amp; blok2[0][0] == -1)){bl2 = true;}\n            }\n            if(validMove(k, m, i-1, j, visited)){\n                int[][] option = new int[path.length+1][2];\n                for(int x =0; x&lt;path.length; x++){\n                    option[x][0] = path[x][0];\n                    option[x][1] = path[x][1];\n                }\n                option[option.length-1] = new int[]{i,j};\n                blok3 = dfs(maze, k, m, j, i+1, option, visited);  \n                if(!(blok3.length == er.length &amp;&amp; blok3[0][0] == -1)){bl3 = true;}\n            }\n            if(validMove(k, m, i, j-1, visited)){\n                int[][] option = new int[path.length+1][2];\n                for(int x =0; x&lt;path.length; x++){\n                    option[x][0] = path[x][0];\n                    option[x][1] = path[x][1];\n                }\n                option[option.length-1] = new int[]{i,j};\n                blok4 = dfs(maze, k, m, j, i+1, option, visited);  \n                if(!(blok4.length == er.length &amp;&amp; blok4[0][0] == -1)){bl4 = true;}\n            }\n            if(!(bl1 &amp;&amp; bl2 &amp;&amp; bl3 &amp;&amp; bl4))return er;\n            int count = Integer.MAX_VALUE;\n            if(bl1 &amp;&amp; (blok1.length &lt; count)){\n                count = blok1.length;\n                path = blok1;\n            }\n            if(bl2 &amp;&amp; (blok2.length &lt; count)){\n                count = blok2.length;\n                path = blok2;\n            }\n            if(bl3 &amp;&amp; (blok3.length &lt; count)){\n                count = blok3.length;\n                path = blok3;\n            }\n            if(bl4 &amp;&amp; (blok4.length &lt; count)){\n                count = blok4.length;\n                path = blok4;\n            }\n            \n            return path;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677938460,"creation_date":1677938460,"answer_id":75636141,"question_id":75635534,"body_markdown":"Your balance attribute is not part of transaction group. So, when you call ```model.addAttribute(&quot;balance&quot;, balance);``` in loop, your previous value is overwritten. Add balance attribute to transaction group instead ","title":"Display field from controller inside thymeleaf","body":"<p>Your balance attribute is not part of transaction group. So, when you call <code>model.addAttribute(&quot;balance&quot;, balance);</code> in loop, your previous value is overwritten. Add balance attribute to transaction group instead</p>\n"}],"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75636141,"answer_count":1,"score":0,"last_activity_date":1677938460,"creation_date":1677931367,"question_id":75635534,"body_markdown":"In my controller I have some calculations and at the end I have a `double balance` that returns me a desired output.\r\n\r\nThis is how its look:\r\n\r\n```\r\n@GetMapping(&quot;/userTransactions/{user_id}&quot;)\r\n    public String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n        model.addAttribute(&quot;userId&quot;, userId);\r\n\r\n        List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\r\n        List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\r\n        List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\r\n        boolean currDates = transactions.stream().findFirst().isPresent();\r\n\r\n        if (currDates) {\r\n            LocalDate currDate = transactions.get(0).getDate();\r\n\r\n            TransactionGroup transGroup = new TransactionGroup();\r\n\r\n            for (Transaction t : transactions) {\r\n                if (!currDate.isEqual(t.getDate())) {\r\n                    transGroup.setDate(currDate);\r\n                    transGroup.setTransactions(transOnSingleDate);\r\n                    transactionByDate.add(transGroup);\r\n                    transGroup = new TransactionGroup();\r\n                    transOnSingleDate = new ArrayList&lt;&gt;();\r\n                }\r\n\r\n                transOnSingleDate.add(t);\r\n                currDate = t.getDate();\r\n            }\r\n            transGroup.setDate(currDate);\r\n            transGroup.setTransactions(transOnSingleDate);\r\n            transactionByDate.add(transGroup);\r\n\r\n            for (TransactionGroup group: transactionByDate) {\r\n                LocalDate date = group.getDate();\r\n                transactions = group.getTransactions();\r\n                double income = transactions.stream()\r\n                        .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;income&quot;))\r\n                        .mapToDouble(Transaction::getAmount)\r\n                        .sum();\r\n                double expense = transactions.stream()\r\n                        .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;expense&quot;))\r\n                        .mapToDouble(Transaction::getAmount)\r\n                        .sum();\r\n                double balance = income - expense;\r\n                model.addAttribute(&quot;balance&quot;, balance);\r\n                System.out.println(&quot;date:&quot; + date + &quot;,income:&quot; + income + &quot;,expense:&quot; + expense + &quot;,balance:&quot; + balance);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;Empty&quot;);\r\n        }\r\n\r\n\r\n        model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\r\n        return &quot;transactions&quot;;\r\n    }\r\n```\r\n\r\nYou should see:\r\n\r\n```\r\ndouble balance = income - expense;\r\nmodel.addAttribute(&quot;balance&quot;, balance);\r\n```\r\n\r\nAnd this is my thymeleaf:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/transaction.css}&quot;/&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\r\n    &lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://kit.fontawesome.com/9ab80cc16b.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n    &lt;title&gt;Users&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;header&gt;\r\n    &lt;h1 class=&quot;logo&quot;&gt;Spender&lt;/h1&gt;\r\n    &lt;input type=&quot;checkbox&quot; class=&quot;nav-toggle&quot; id=&quot;nav-toggle&quot;&gt;\r\n    &lt;nav&gt;\r\n        &lt;ul&gt;\r\n            &lt;li&gt;&lt;a th:href=&quot;@{/api/test/homePage}&quot;&gt;Homepage&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a id=&quot;wallets&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;&lt;/li&gt;\r\n            &lt;li&gt;&lt;a href=&quot;javascript: document.logoutForm.submit()&quot; role=&quot;menuitem&quot;&gt;Logout&lt;/a&gt;&lt;/li&gt;\r\n        &lt;/ul&gt;\r\n    &lt;/nav&gt;\r\n    &lt;label for=&quot;nav-toggle&quot; class=&quot;nav-toggle-label&quot;&gt;\r\n        &lt;span&gt;&lt;/span&gt;\r\n    &lt;/label&gt;\r\n&lt;/header&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;div class=&quot;date&quot; th:each=&quot;singleGroup  : ${transactionGroup}&quot;&gt;\r\n    &lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;&lt;h1 th:text=&quot;${balance}&quot;&gt;&lt;/h1&gt;\r\n    &lt;div class=&quot;transaction&quot; th:each=&quot;singleTrans  : ${singleGroup.transactions}&quot;&gt;\r\n        &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\r\n        &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/delete/{id}(id=${singleTrans.id})}&quot;\r\n           th:data-confirm-delete=&quot;|Are you sure you want to delete ${singleTrans.walletName} wallet?|&quot;\r\n           onclick=&quot;if (!confirm(this.getAttribute(&#39;data-confirm-delete&#39;))) return false&quot;&gt;Delete&lt;/a&gt;\r\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/showFormForUpdate/{id}(id=${singleTrans.id})}&quot;&gt;Update&lt;/a&gt;\r\n        &lt;hr&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;div style=&quot;text-align:center&quot;\r\n     th:if=&quot;${#lists.isEmpty(transactionGroup)}&quot;&gt;&lt;h1&gt;You don&#39;t have any transaction&lt;/h1&gt;\r\n    &lt;a th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;form name=&quot;logoutForm&quot; th:action=&quot;@{/api/auth/signout}&quot; method=&quot;post&quot; th:hidden=&quot;true&quot;&gt;\r\n    &lt;input hidden type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nI want to display that value right after\r\n\r\n```\r\n&lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;\r\n```\r\n\r\nAnd I tried like:\r\n\r\n```\r\n&lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;&lt;h1 th:text=&quot;${balance}&quot;&gt;&lt;/h1&gt;\r\n```\r\n\r\nWhat is the problem?\r\n\r\nFor example, my output in the console from the controller is good, and looks like this:\r\n\r\n`date:2023-03-03,income:100.0,expense:50.0,balance:50.0`\r\n\r\n`date:2023-03-16,income:100.0,expense:15.0,balance:85.0`\r\n\r\nBut on page, I have like in console, two dates and for both dates are printed `85` instead  `50` for date `03/03/2023` and `85` for  date `03/16/2023`, value `85` is printed for both of them.\r\n\r\nHow I can extract this double value in my thymeleaf to show appropiate value like in console?","title":"Display field from controller inside thymeleaf","body":"<p>In my controller I have some calculations and at the end I have a <code>double balance</code> that returns me a desired output.</p>\n<p>This is how its look:</p>\n<pre><code>@GetMapping(&quot;/userTransactions/{user_id}&quot;)\n    public String getUserTransactions(@PathVariable(&quot;user_id&quot;) long user_id, TransactionGroup transactionGroup, Model model) {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n        long userId = user.getId();\n        model.addAttribute(&quot;userId&quot;, userId);\n\n        List&lt;Transaction&gt; transactions = transactionRepository.getTransactionsByUserId(user_id);\n        List&lt;TransactionGroup&gt; transactionByDate = new ArrayList&lt;&gt;();\n        List&lt;Transaction&gt; transOnSingleDate = new ArrayList&lt;&gt;();\n        boolean currDates = transactions.stream().findFirst().isPresent();\n\n        if (currDates) {\n            LocalDate currDate = transactions.get(0).getDate();\n\n            TransactionGroup transGroup = new TransactionGroup();\n\n            for (Transaction t : transactions) {\n                if (!currDate.isEqual(t.getDate())) {\n                    transGroup.setDate(currDate);\n                    transGroup.setTransactions(transOnSingleDate);\n                    transactionByDate.add(transGroup);\n                    transGroup = new TransactionGroup();\n                    transOnSingleDate = new ArrayList&lt;&gt;();\n                }\n\n                transOnSingleDate.add(t);\n                currDate = t.getDate();\n            }\n            transGroup.setDate(currDate);\n            transGroup.setTransactions(transOnSingleDate);\n            transactionByDate.add(transGroup);\n\n            for (TransactionGroup group: transactionByDate) {\n                LocalDate date = group.getDate();\n                transactions = group.getTransactions();\n                double income = transactions.stream()\n                        .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;income&quot;))\n                        .mapToDouble(Transaction::getAmount)\n                        .sum();\n                double expense = transactions.stream()\n                        .filter(trans -&gt; trans.getTransactionType().getDisplayName().equalsIgnoreCase(&quot;expense&quot;))\n                        .mapToDouble(Transaction::getAmount)\n                        .sum();\n                double balance = income - expense;\n                model.addAttribute(&quot;balance&quot;, balance);\n                System.out.println(&quot;date:&quot; + date + &quot;,income:&quot; + income + &quot;,expense:&quot; + expense + &quot;,balance:&quot; + balance);\n            }\n\n        } else {\n            System.out.println(&quot;Empty&quot;);\n        }\n\n\n        model.addAttribute(&quot;transactionGroup&quot;, transactionByDate);\n        return &quot;transactions&quot;;\n    }\n</code></pre>\n<p>You should see:</p>\n<pre><code>double balance = income - expense;\nmodel.addAttribute(&quot;balance&quot;, balance);\n</code></pre>\n<p>And this is my thymeleaf:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/css/transaction.css}&quot;/&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;/&gt;\n    &lt;script src=&quot;http://localhost:35729/livereload.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://kit.fontawesome.com/9ab80cc16b.js&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;title&gt;Users&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;header&gt;\n    &lt;h1 class=&quot;logo&quot;&gt;Spender&lt;/h1&gt;\n    &lt;input type=&quot;checkbox&quot; class=&quot;nav-toggle&quot; id=&quot;nav-toggle&quot;&gt;\n    &lt;nav&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a th:href=&quot;@{/api/test/homePage}&quot;&gt;Homepage&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a id=&quot;wallets&quot; th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;javascript: document.logoutForm.submit()&quot; role=&quot;menuitem&quot;&gt;Logout&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n    &lt;label for=&quot;nav-toggle&quot; class=&quot;nav-toggle-label&quot;&gt;\n        &lt;span&gt;&lt;/span&gt;\n    &lt;/label&gt;\n&lt;/header&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;br&gt;\n&lt;div class=&quot;date&quot; th:each=&quot;singleGroup  : ${transactionGroup}&quot;&gt;\n    &lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;&lt;h1 th:text=&quot;${balance}&quot;&gt;&lt;/h1&gt;\n    &lt;div class=&quot;transaction&quot; th:each=&quot;singleTrans  : ${singleGroup.transactions}&quot;&gt;\n        &lt;h2&gt;Amount: &lt;span th:text=&quot;${singleTrans.amount}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Note: &lt;span th:text=&quot;${singleTrans.note}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Wallet name: &lt;span th:text=&quot;${singleTrans .walletName}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;Expense Category: &lt;span th:text=&quot;${singleTrans .expenseCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;&lt;br&gt;\n        &lt;h2&gt;IncomeCategory: &lt;span th:text=&quot;${singleTrans .incomeCategories}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/delete/{id}(id=${singleTrans.id})}&quot;\n           th:data-confirm-delete=&quot;|Are you sure you want to delete ${singleTrans.walletName} wallet?|&quot;\n           onclick=&quot;if (!confirm(this.getAttribute('data-confirm-delete'))) return false&quot;&gt;Delete&lt;/a&gt;\n        &lt;a class=&quot;card__link&quot; th:href=&quot;@{/api/transaction/showFormForUpdate/{id}(id=${singleTrans.id})}&quot;&gt;Update&lt;/a&gt;\n        &lt;hr&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;div style=&quot;text-align:center&quot;\n     th:if=&quot;${#lists.isEmpty(transactionGroup)}&quot;&gt;&lt;h1&gt;You don't have any transaction&lt;/h1&gt;\n    &lt;a th:href=&quot;@{/api/wallet/userWallet/balance/{userId} (userId=${userId})}&quot;&gt;Wallets&lt;/a&gt;\n&lt;/div&gt;\n\n\n&lt;form name=&quot;logoutForm&quot; th:action=&quot;@{/api/auth/signout}&quot; method=&quot;post&quot; th:hidden=&quot;true&quot;&gt;\n    &lt;input hidden type=&quot;submit&quot; value=&quot;Sign Out&quot;/&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I want to display that value right after</p>\n<pre><code>&lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;\n</code></pre>\n<p>And I tried like:</p>\n<pre><code>&lt;h1 th:text=&quot;${singleGroup .date}&quot;&gt;&lt;/h1&gt;&lt;h1 th:text=&quot;${balance}&quot;&gt;&lt;/h1&gt;\n</code></pre>\n<p>What is the problem?</p>\n<p>For example, my output in the console from the controller is good, and looks like this:</p>\n<p><code>date:2023-03-03,income:100.0,expense:50.0,balance:50.0</code></p>\n<p><code>date:2023-03-16,income:100.0,expense:15.0,balance:85.0</code></p>\n<p>But on page, I have like in console, two dates and for both dates are printed <code>85</code> instead  <code>50</code> for date <code>03/03/2023</code> and <code>85</code> for  date <code>03/16/2023</code>, value <code>85</code> is printed for both of them.</p>\n<p>How I can extract this double value in my thymeleaf to show appropiate value like in console?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1677149865,"post_id":75543806,"comment_id":133282558,"body_markdown":"What do you mean by &quot;above me&quot;? Relative paths will be relative to the current working directory. That may or may not match with your notion of &quot;me&quot;. Did you check what `Paths.get(&quot;/../../../../../../costumers.csv&quot;)`.toAbsolutePath()` prints?","body":"What do you mean by &quot;above me&quot;? Relative paths will be relative to the current working directory. That may or may not match with your notion of &quot;me&quot;. Did you check what <code>Paths.get(&quot;&#47;..&#47;..&#47;..&#47;..&#47;..&#47;..&#47;costumers.csv&quot;)</code>.toAbsolutePath&zwnj;&#8203;()` prints?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1677149940,"post_id":75543806,"comment_id":133282576,"body_markdown":"Besides: you wrap a newly created `BufferedWriter` inside another `BufferedWriter`. This will work, but won&#39;t give you any benefit (and waste some memory). Simply remove the `new BufferedWriter(...)` wrapping the `Files.newBufferedWriter` call. There&#39;s also no need to call `flush()` at that point: closing the writer will automatically flush all relevant buffers for you.","body":"Besides: you wrap a newly created <code>BufferedWriter</code> inside another <code>BufferedWriter</code>. This will work, but won&#39;t give you any benefit (and waste some memory). Simply remove the <code>new BufferedWriter(...)</code> wrapping the <code>Files.newBufferedWriter</code> call. There&#39;s also no need to call <code>flush()</code> at that point: closing the writer will automatically flush all relevant buffers for you."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":8,"creation_date":1677150240,"post_id":75543806,"comment_id":133282668,"body_markdown":"A path starting with `/` is an absolute path. If you want a relative path, remove the first `/`.","body":"A path starting with <code>&#47;</code> is an absolute path. If you want a relative path, remove the first <code>&#47;</code>."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1677157993,"post_id":75543806,"comment_id":133284885,"body_markdown":"What is your Opeating System?","body":"What is your Opeating System?"}],"answers":[{"tags":[],"owner":{"account_id":265716,"reputation":4301,"user_id":552871,"display_name":"b7kich"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677179442,"creation_date":1677179442,"answer_id":75549318,"question_id":75543806,"body_markdown":"It looks like you&#39;re trying to write to the `/` root directory. Generally the root directory isn&#39;t writable by regular users.\r\n\r\nYou want to prefix the directory path with a `.`. `/../../../../../../` is not a valid path. It basically means 6 directories above the `/` root  directory. By definition there are no directories above the root. ","title":"Java Writer Readonly File System Exception","body":"<p>It looks like you're trying to write to the <code>/</code> root directory. Generally the root directory isn't writable by regular users.</p>\n<p>You want to prefix the directory path with a <code>.</code>. <code>/../../../../../../</code> is not a valid path. It basically means 6 directories above the <code>/</code> root  directory. By definition there are no directories above the root.</p>\n"}],"owner":{"account_id":12849876,"reputation":41,"user_id":9295110,"display_name":"Timo K&#246;hler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75549318,"answer_count":1,"score":-2,"last_activity_date":1677938009,"creation_date":1677149579,"question_id":75543806,"body_markdown":"I want to write a file 6 folders above me using the buffered writer, but it says it&#39;s a read only file system\r\n\r\n\r\n```java\r\npublic static void writeDataToCSVFile() {\r\n\ttry(\r\n\t\tBufferedWriter writer = new BufferedWriter(Files.newBufferedWriter(Paths.get(&quot;/../../../../../../customers.csv&quot;)));\r\n\t) {\r\n\t\twriter.write(&quot;Id;Firstname;Lastname;Street;Housenumber;Postalcode;City;Country&quot;);\r\n\t\twriter.newLine();\r\n\t\tfor(Customer customer: CustomerManagement.customers) {\r\n\t\t\twriter.write(customer.convertToCSVString());\r\n\t\t\twriter.newLine();\r\n\t\t}\r\n\t\twriter.flush();\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n```none\r\njava.nio.file.FileSystemException: /../../../../../../customers.csv: Read-only file system\r\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n\tat java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n\tat java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)\r\n\tat java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)\r\n\tat java.base/java.nio.file.Files.newOutputStream(Files.java:228)\r\n\tat java.base/java.nio.file.Files.newBufferedWriter(Files.java:3008)\r\n\tat java.base/java.nio.file.Files.newBufferedWriter(Files.java:3056)\r\n\tat de.volkswagen.fakultaet73.shoppingsystem.management.CustomerManagement.writeDataToCSVFile(CustomerManagement.java:128)\r\n\tat de.volkswagen.fakultaet73.shoppingsystem.enities.ShoppingSystem.start(ShoppingSystem.java:23)\r\n\tat de.volkswagen.fakultaet73.shoppingsystem.main.Main.main(Main.java:21)\r\n```\r\n\r\nWhen I use the absolute file path, like &quot;/Username/Desktop/test.csv&quot;, it works.","title":"Java Writer Readonly File System Exception","body":"<p>I want to write a file 6 folders above me using the buffered writer, but it says it's a read only file system</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void writeDataToCSVFile() {\n    try(\n        BufferedWriter writer = new BufferedWriter(Files.newBufferedWriter(Paths.get(&quot;/../../../../../../customers.csv&quot;)));\n    ) {\n        writer.write(&quot;Id;Firstname;Lastname;Street;Housenumber;Postalcode;City;Country&quot;);\n        writer.newLine();\n        for(Customer customer: CustomerManagement.customers) {\n            writer.write(customer.convertToCSVString());\n            writer.newLine();\n        }\n        writer.flush();\n        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java.nio.file.FileSystemException: /../../../../../../customers.csv: Read-only file system\n    at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n    at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n    at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)\n    at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)\n    at java.base/java.nio.file.Files.newOutputStream(Files.java:228)\n    at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3008)\n    at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3056)\n    at de.volkswagen.fakultaet73.shoppingsystem.management.CustomerManagement.writeDataToCSVFile(CustomerManagement.java:128)\n    at de.volkswagen.fakultaet73.shoppingsystem.enities.ShoppingSystem.start(ShoppingSystem.java:23)\n    at de.volkswagen.fakultaet73.shoppingsystem.main.Main.main(Main.java:21)\n</code></pre>\n<p>When I use the absolute file path, like &quot;/Username/Desktop/test.csv&quot;, it works.</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1677932707,"post_id":75635431,"comment_id":133437137,"body_markdown":"maybe this line of [JLS 8.1.3. Inner Classes and Enclosing Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-130) can help: &quot;*All of the rules that apply to nested classes apply to inner classes. In particular, an inner class may declare and inherit static members ([&#167;8.2](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.2)), and declare static initializers ([&#167;8.7](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.7)), even though the inner class itself is not static.*&quot;","body":"maybe this line of <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3-130\" rel=\"nofollow noreferrer\">JLS 8.1.3. Inner Classes and Enclosing Instances</a> can help: &quot;<i>All of the rules that apply to nested classes apply to inner classes. In particular, an inner class may declare and inherit static members (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.2\" rel=\"nofollow noreferrer\">&#167;8.2</a>), and declare static initializers (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.7\" rel=\"nofollow noreferrer\">&#167;8.7</a>), even though the inner class itself is not static.</i>&quot;"}],"owner":{"account_id":23956842,"reputation":1,"user_id":20840728,"display_name":"JhonM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677935207,"answer_count":0,"score":0,"last_activity_date":1677936815,"creation_date":1677930066,"question_id":75635431,"body_markdown":"How are we able to access static member of normal Inner class without creating an Outer class object in JAVA? \r\n\r\nBecause Inner class is like an instance member of Outer class, an Outer class Object is required to access its instance members.\r\n\r\nI mean how are we able to access directly inner class: Inner.m1() without Outer class Object? (Not talking about accessing m1() directly using inner class name as it is static)\r\n\r\n```\r\nclass Outer\r\n{\r\n    class Inner\r\n    {\r\n       static void m1()\r\n       {\r\n           \r\n       }\r\n    }\r\n    public static void main (String[] args)\r\n    {\r\n        Inner.m1(); // NO C.E !\r\n    }\r\n} \r\n```\r\n\r\nBest regards.","title":"Static members inside normal inner class","body":"<p>How are we able to access static member of normal Inner class without creating an Outer class object in JAVA?</p>\n<p>Because Inner class is like an instance member of Outer class, an Outer class Object is required to access its instance members.</p>\n<p>I mean how are we able to access directly inner class: Inner.m1() without Outer class Object? (Not talking about accessing m1() directly using inner class name as it is static)</p>\n<pre><code>class Outer\n{\n    class Inner\n    {\n       static void m1()\n       {\n           \n       }\n    }\n    public static void main (String[] args)\n    {\n        Inner.m1(); // NO C.E !\n    }\n} \n</code></pre>\n<p>Best regards.</p>\n"},{"tags":["java","spring","spring-security","spring-data-jpa","bcrypt"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1560333525,"post_id":56559059,"comment_id":99698736,"body_markdown":"have you tried with basic authentication?","body":"have you tried with basic authentication?"},{"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"score":0,"creation_date":1560333880,"post_id":56559059,"comment_id":99698928,"body_markdown":"Could you elaborate?","body":"Could you elaborate?"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":0,"creation_date":1560336418,"post_id":56559059,"comment_id":99700271,"body_markdown":"Do you have this methid : @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) in class extending : AuthorizationServerConfigurerAdapter","body":"Do you have this methid : @Override     public void configure(AuthorizationServerEndpointsConfigurer endpoints) in class extending : AuthorizationServerConfigurerAdapter"},{"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"score":0,"creation_date":1560336541,"post_id":56559059,"comment_id":99700340,"body_markdown":"Yes, with                 `.tokenStore(tokenStore()).accessTokenConverter(jwtTokenEnhancer()).authenticationManager(authManager);` where authManger is simply `private final AuthenticationManager authManager;`","body":"Yes, with                 <code>.tokenStore(tokenStore()).accessTokenConverter(jwtTokenEnhan&zwnj;&#8203;cer()).authenticatio&zwnj;&#8203;nManager(authManager&zwnj;&#8203;);</code> where authManger is simply <code>private final AuthenticationManager authManager;</code>"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1560380397,"post_id":56559059,"comment_id":99721507,"body_markdown":"@Suwappertjes it might help to have a sample. Could you publish a sample to GitHub - I&#39;d be happy to take a look.","body":"@Suwappertjes it might help to have a sample. Could you publish a sample to GitHub - I&#39;d be happy to take a look."},{"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"score":0,"creation_date":1560412159,"post_id":56559059,"comment_id":99729456,"body_markdown":"@jzheaux That would be great! I build a small sample with the same problem. See the Readme for all extra info: https://github.com/Suwappertjes/SpringSample","body":"@jzheaux That would be great! I build a small sample with the same problem. See the Readme for all extra info: <a href=\"https://github.com/Suwappertjes/SpringSample\" rel=\"nofollow noreferrer\">github.com/Suwappertjes/SpringSample</a>"}],"answers":[{"comments":[{"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"score":0,"creation_date":1560337691,"post_id":56560607,"comment_id":99700982,"body_markdown":"Thanks for the tip! I added this block of code but nothing changed unfortunately","body":"Thanks for the tip! I added this block of code but nothing changed unfortunately"}],"tags":[],"owner":{"account_id":10881121,"reputation":472,"user_id":7999993,"display_name":"ghazouan badr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560337311,"creation_date":1560337311,"answer_id":56560607,"question_id":56559059,"body_markdown":"you have to add bCryptPasswordEncoder in the configureGlobal method\r\n \r\n\r\n    @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(bCryptPasswordEncoder());\r\n        }\r\n\r\n","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p>you have to add bCryptPasswordEncoder in the configureGlobal method</p>\n\n<pre><code>@Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .userDetailsService(userDetailsService)\n            .passwordEncoder(bCryptPasswordEncoder());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1560520281,"creation_date":1560520281,"answer_id":56599585,"question_id":56559059,"body_markdown":"I found the problem. I was using Spring boot 2.1.4.RELEASE but this setup only works in 1.5.12.RELEASE. Of course downgrading is not very good practise so I will still try to get it to work with 2.1.4.","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p>I found the problem. I was using Spring boot 2.1.4.RELEASE but this setup only works in 1.5.12.RELEASE. Of course downgrading is not very good practise so I will still try to get it to work with 2.1.4.</p>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560631325,"creation_date":1560631325,"answer_id":56614022,"question_id":56559059,"body_markdown":"I think @ghazouanbadr&#39;s solution is correct. Although, I implemented it differently in my practice project:\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n\tUserService userService;\r\n    @Autowired\r\n    BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    public WebSecurity(UserService userService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n        this.userService = userService;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    } \r\n    \r\n    @Override // Authorization\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        ...\r\n    }\r\n\r\n    @Override // Authentication\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userService(userService).passwordEncoder(bCryptPasswordEncoder);\r\n   }\r\n}\r\n```\r\nBe warned, I was only about a month into learning Java when I created this class. Don&#39;t remember all to much about security, so it&#39;s not my place to tell you that this is the best way to do it. Since I recall dealing with the same issue I figured  it might guide you in the right direction.","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p>I think @ghazouanbadr's solution is correct. Although, I implemented it differently in my practice project:</p>\n\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n    @Autowired\n    UserService userService;\n    @Autowired\n    BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public WebSecurity(UserService userService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.userService = userService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    } \n\n    @Override // Authorization\n    protected void configure(HttpSecurity http) throws Exception {\n        ...\n    }\n\n    @Override // Authentication\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userService(userService).passwordEncoder(bCryptPasswordEncoder);\n   }\n}\n</code></pre>\n\n<p>Be warned, I was only about a month into learning Java when I created this class. Don't remember all to much about security, so it's not my place to tell you that this is the best way to do it. Since I recall dealing with the same issue I figured  it might guide you in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":9694254,"reputation":4765,"user_id":7191280,"display_name":"Carlos Alberto Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626618926,"creation_date":1626618926,"answer_id":68430111,"question_id":56559059,"body_markdown":"I was facing the exact same problem. In my case, the cause was my CustomUserDetails class constructor, which didn&#39;t set the password to the class, so it was always null.\r\n\r\nCredits to this anwser:\r\nhttps://stackoverflow.com/questions/56397924/why-spring-security-gives-empty-password-to-password-encoder\r\n","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p>I was facing the exact same problem. In my case, the cause was my CustomUserDetails class constructor, which didn't set the password to the class, so it was always null.</p>\n<p>Credits to this anwser:\n<a href=\"https://stackoverflow.com/questions/56397924/why-spring-security-gives-empty-password-to-password-encoder\">why spring security gives empty password to password encoder?</a></p>\n"},{"tags":[],"owner":{"account_id":20390114,"reputation":111,"user_id":14958209,"display_name":"l00pinfinity"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677935734,"creation_date":1677935734,"answer_id":75635891,"question_id":56559059,"body_markdown":"The bug was in my code under UserPrincipal in Security, where my getters returned null.\r\n\r\n    public String getEmail() {\r\n        return null;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return null;\r\n    }\r\n\r\nHere is what it should be: \r\n\r\n        public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p>The bug was in my code under UserPrincipal in Security, where my getters returned null.</p>\n<pre><code>public String getEmail() {\n    return null;\n}\n\npublic String getPassword() {\n    return null;\n}\n</code></pre>\n<p>Here is what it should be:</p>\n<pre><code>    public String getEmail() {\n    return email;\n}\n\npublic String getPassword() {\n    return password;\n}\n</code></pre>\n"}],"owner":{"account_id":13963973,"reputation":71,"user_id":10084332,"display_name":"Suwappertjes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10548,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":56599585,"answer_count":5,"score":2,"last_activity_date":1677935734,"creation_date":1560332403,"question_id":56559059,"body_markdown":"**A CODE SAMPLE TO HELP FIX THE PROBLEM**: https://github.com/Suwappertjes/SpringSample\r\n\r\n**Problem**\r\n\r\nWhen trying to implement jwt-security in a Spring Boot application, I run into the following problem: \r\n\r\nWhen I try to login with **x-www-form-urlencoded** through Postman I get a **&quot;Bad client credentials&quot;** error, whilst I know the credentials to be correct. \r\n\r\nWhen I look in my log, I see that **BCrypt** gave a **&quot;Empty Encoded Password&quot; warning**. This is odd, considering I see correctly encrypted passwords in the database when I look at it through the MySQL interpreter.\r\n\r\n**Info**\r\n\r\nI am using Hibernate to build a MySQL database.\r\n\r\ncompile &#39;org.springframework.security.oauth:spring-security-oauth2:2.3.6.RELEASE&#39;\r\n\r\ncompile &#39;org.springframework.security:spring-security-jwt:1.0.10.RELEASE&#39;\r\n\r\ncompile &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\r\nJava 1.8.0_212\r\n\r\n**What I tried**\r\n\r\nBefore starting to implement security, the controllers, repositories, and MySQL database were all functioning correctly.\r\n\r\nWhen I search for this problem online, some people suggest it has to do with the &quot;**loadUserByUsername**&quot; function. But when I debug that function I notice it is **not being called at all**. \r\n\r\nI also tried **allowing every single path in my program AND disabling crsf** \r\nin case it had something to do with access rights, but both didn&#39;t change anything.  `(http.requestMatchers.andMatcher(&quot;/**&quot;).permitAll().and().csrf().disable();)`\r\n\r\nUpdate: When putting **NO users** in the database, I still get the same error.\r\n\r\n**Some code:**\r\n\r\nThe loadUserByUsername method:\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String userName) {\r\n        return userRepository.findByUsername(userName)\r\n                .map(user -&gt; new User(\r\n                            user.getUsername(),\r\n                            user.getPassword(),\r\n                            UserRoleAuthority.getAuthorities(user.getRoles())\r\n                    ))\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Unknown user: &quot; + userName));\r\n    \r\n    }\r\n\r\nThe authenticationprovider and passwordencoder:\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider getAuthenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThe signing key:\r\n\r\n    @Bean\r\n    public JwtAccessTokenConverter jwtTokenEnhancer() {\r\n        JwtAccessTokenConverter result = new JwtAccessTokenConverter();\r\n        result.setSigningKey(signingKey);\r\n        return result;\r\n    }\r\n\r\nAdding a new user:\r\n\r\n                userRepository.save(new User()\r\n                                .withUsername(&quot;test&quot;)\r\n                                .withPassword(passwordEncoder.encode(&quot;password&quot;))\r\n                                .withFirst(&quot;Admin&quot;)\r\n                                .withLast(&quot;Nator&quot;)\r\n                                .withEmail(&quot;test@notadmin.com&quot;)\r\n                                .withRole(new HashSet&lt;&gt;(Arrays.asList(Role.Admin, Role.NotAdmin)))\r\n                );\r\n\r\nAnd the Http configuration:\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n\r\n        http.requestMatchers()\r\n                .antMatchers(&quot;/iungo/*/**&quot;)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/iungo/system/**&quot;)\r\n                .permitAll()\r\n                .antMatchers(&quot;/iungo/**&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        // We don&#39;t use this endpoint but we have to define it anyway in order to not enable web security on the whole application.\r\n        http\r\n                .userDetailsService(userDetailsService)\r\n                .requestMatchers()\r\n                .antMatchers(&quot;/oauth/authorize&quot;);\r\n    }\r\n\r\nAnd finally, my **console**:\r\n\r\n    2019-06-12 10:29:58.460  INFO 25207 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\r\n    2019-06-12 10:29:58.461  INFO 25207 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-06-12 10:29:58.532  INFO 25207 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-06-12 10:29:58.599  INFO 25207 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2019-06-12 10:29:59.092  INFO 25207 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@c30f26d&#39;\r\n    2019-06-12 10:29:59.098  INFO 25207 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-06-12 10:29:59.382  WARN 25207 --- [           main] o.s.s.o.p.t.s.JwtAccessTokenConverter    : Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)\r\n    2019-06-12 10:29:59.595  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern=&#39;/oauth/token&#39;], Ant [pattern=&#39;/oauth/token_key&#39;], Ant [pattern=&#39;/oauth/check_token&#39;]]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a72887, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ddba7a0, org.springframework.security.web.header.HeaderWriterFilter@7adbec34, org.springframework.security.web.authentication.logout.LogoutFilter@296bfddb, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@22ab1b8a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54033a65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dfec0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42734b71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c8dea0b, org.springframework.security.web.session.SessionManagementFilter@6fe9c048, org.springframework.security.web.access.ExceptionTranslationFilter@526fc044, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@690e4b00]\r\n    2019-06-12 10:29:59.600  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern=&#39;/iungo/*/**&#39;]]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1978b0d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@69a3bf40, org.springframework.security.web.header.HeaderWriterFilter@3186f8f5, org.springframework.security.web.authentication.logout.LogoutFilter@a4dcede, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@760c777d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c731a16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a341e3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6556471b, org.springframework.security.web.session.SessionManagementFilter@467cd4b9, org.springframework.security.web.access.ExceptionTranslationFilter@3f3f554f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d0e4972]\r\n    2019-06-12 10:29:59.603  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern=&#39;/oauth/authorize&#39;]]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cf3b3d7, org.springframework.security.web.context.SecurityContextPersistenceFilter@462f8fe9, org.springframework.security.web.header.HeaderWriterFilter@24f2608b, org.springframework.security.web.csrf.CsrfFilter@713497cd, org.springframework.security.web.authentication.logout.LogoutFilter@56193e3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c6fc4cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b2e1df3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e785b28, org.springframework.security.web.session.SessionManagementFilter@12a9e864, org.springframework.security.web.access.ExceptionTranslationFilter@4b762988]\r\n    2019-06-12 10:29:59.731  INFO 25207 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-06-12 10:29:59.902  INFO 25207 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-06-12 10:29:59.903  INFO 25207 --- [           main] nl.highway.iungomain.Application         : Started Application in 2.937 seconds (JVM running for 3.345)\r\n    2019-06-12 10:29:59.923  INFO 25207 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    2019-06-12 10:30:12.550  INFO 25207 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2019-06-12 10:30:12.550  INFO 25207 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2019-06-12 10:30:12.554  INFO 25207 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms\r\n    2019-06-12 10:30:12.632  WARN 25207 --- [nio-8080-exec-1] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Empty encoded password","title":"BCrypt: Empty Encoded Password with Spring Security","body":"<p><strong>A CODE SAMPLE TO HELP FIX THE PROBLEM</strong>: <a href=\"https://github.com/Suwappertjes/SpringSample\" rel=\"nofollow noreferrer\">https://github.com/Suwappertjes/SpringSample</a></p>\n\n<p><strong>Problem</strong></p>\n\n<p>When trying to implement jwt-security in a Spring Boot application, I run into the following problem: </p>\n\n<p>When I try to login with <strong>x-www-form-urlencoded</strong> through Postman I get a <strong>\"Bad client credentials\"</strong> error, whilst I know the credentials to be correct. </p>\n\n<p>When I look in my log, I see that <strong>BCrypt</strong> gave a <strong>\"Empty Encoded Password\" warning</strong>. This is odd, considering I see correctly encrypted passwords in the database when I look at it through the MySQL interpreter.</p>\n\n<p><strong>Info</strong></p>\n\n<p>I am using Hibernate to build a MySQL database.</p>\n\n<p>compile 'org.springframework.security.oauth:spring-security-oauth2:2.3.6.RELEASE'</p>\n\n<p>compile 'org.springframework.security:spring-security-jwt:1.0.10.RELEASE'</p>\n\n<p>compile 'org.springframework.boot:spring-boot-starter-data-jpa'</p>\n\n<p>Java 1.8.0_212</p>\n\n<p><strong>What I tried</strong></p>\n\n<p>Before starting to implement security, the controllers, repositories, and MySQL database were all functioning correctly.</p>\n\n<p>When I search for this problem online, some people suggest it has to do with the \"<strong>loadUserByUsername</strong>\" function. But when I debug that function I notice it is <strong>not being called at all</strong>. </p>\n\n<p>I also tried <strong>allowing every single path in my program AND disabling crsf</strong> \nin case it had something to do with access rights, but both didn't change anything.  <code>(http.requestMatchers.andMatcher(\"/**\").permitAll().and().csrf().disable();)</code></p>\n\n<p>Update: When putting <strong>NO users</strong> in the database, I still get the same error.</p>\n\n<p><strong>Some code:</strong></p>\n\n<p>The loadUserByUsername method:</p>\n\n<pre><code>@Override\npublic UserDetails loadUserByUsername(String userName) {\n    return userRepository.findByUsername(userName)\n            .map(user -&gt; new User(\n                        user.getUsername(),\n                        user.getPassword(),\n                        UserRoleAuthority.getAuthorities(user.getRoles())\n                ))\n            .orElseThrow(() -&gt; new UsernameNotFoundException(\"Unknown user: \" + userName));\n\n}\n</code></pre>\n\n<p>The authenticationprovider and passwordencoder:</p>\n\n<pre><code>@Bean\npublic DaoAuthenticationProvider getAuthenticationProvider() {\n    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(userDetailsService);\n    authenticationProvider.setPasswordEncoder(passwordEncoder());\n    return authenticationProvider;\n}\n\n@Bean\nPasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n\n<p>The signing key:</p>\n\n<pre><code>@Bean\npublic JwtAccessTokenConverter jwtTokenEnhancer() {\n    JwtAccessTokenConverter result = new JwtAccessTokenConverter();\n    result.setSigningKey(signingKey);\n    return result;\n}\n</code></pre>\n\n<p>Adding a new user:</p>\n\n<pre><code>            userRepository.save(new User()\n                            .withUsername(\"test\")\n                            .withPassword(passwordEncoder.encode(\"password\"))\n                            .withFirst(\"Admin\")\n                            .withLast(\"Nator\")\n                            .withEmail(\"test@notadmin.com\")\n                            .withRole(new HashSet&lt;&gt;(Arrays.asList(Role.Admin, Role.NotAdmin)))\n            );\n</code></pre>\n\n<p>And the Http configuration:</p>\n\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n\n    http.requestMatchers()\n            .antMatchers(\"/iungo/*/**\")\n            .and()\n            .authorizeRequests()\n            .antMatchers(\"/iungo/system/**\")\n            .permitAll()\n            .antMatchers(\"/iungo/**\");\n}\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    // We don't use this endpoint but we have to define it anyway in order to not enable web security on the whole application.\n    http\n            .userDetailsService(userDetailsService)\n            .requestMatchers()\n            .antMatchers(\"/oauth/authorize\");\n}\n</code></pre>\n\n<p>And finally, my <strong>console</strong>:</p>\n\n<pre><code>2019-06-12 10:29:58.460  INFO 25207 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}\n2019-06-12 10:29:58.461  INFO 25207 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-06-12 10:29:58.532  INFO 25207 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-06-12 10:29:58.599  INFO 25207 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2019-06-12 10:29:59.092  INFO 25207 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@c30f26d'\n2019-06-12 10:29:59.098  INFO 25207 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-06-12 10:29:59.382  WARN 25207 --- [           main] o.s.s.o.p.t.s.JwtAccessTokenConverter    : Unable to create an RSA verifier from verifierKey (ignoreable if using MAC)\n2019-06-12 10:29:59.595  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a72887, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ddba7a0, org.springframework.security.web.header.HeaderWriterFilter@7adbec34, org.springframework.security.web.authentication.logout.LogoutFilter@296bfddb, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@22ab1b8a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54033a65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dfec0bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42734b71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c8dea0b, org.springframework.security.web.session.SessionManagementFilter@6fe9c048, org.springframework.security.web.access.ExceptionTranslationFilter@526fc044, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@690e4b00]\n2019-06-12 10:29:59.600  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/iungo/*/**']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1978b0d5, org.springframework.security.web.context.SecurityContextPersistenceFilter@69a3bf40, org.springframework.security.web.header.HeaderWriterFilter@3186f8f5, org.springframework.security.web.authentication.logout.LogoutFilter@a4dcede, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@760c777d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c731a16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a341e3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6556471b, org.springframework.security.web.session.SessionManagementFilter@467cd4b9, org.springframework.security.web.access.ExceptionTranslationFilter@3f3f554f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d0e4972]\n2019-06-12 10:29:59.603  INFO 25207 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/authorize']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cf3b3d7, org.springframework.security.web.context.SecurityContextPersistenceFilter@462f8fe9, org.springframework.security.web.header.HeaderWriterFilter@24f2608b, org.springframework.security.web.csrf.CsrfFilter@713497cd, org.springframework.security.web.authentication.logout.LogoutFilter@56193e3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c6fc4cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b2e1df3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e785b28, org.springframework.security.web.session.SessionManagementFilter@12a9e864, org.springframework.security.web.access.ExceptionTranslationFilter@4b762988]\n2019-06-12 10:29:59.731  INFO 25207 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-06-12 10:29:59.902  INFO 25207 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-06-12 10:29:59.903  INFO 25207 --- [           main] nl.highway.iungomain.Application         : Started Application in 2.937 seconds (JVM running for 3.345)\n2019-06-12 10:29:59.923  INFO 25207 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-06-12 10:30:12.550  INFO 25207 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2019-06-12 10:30:12.550  INFO 25207 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2019-06-12 10:30:12.554  INFO 25207 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms\n2019-06-12 10:30:12.632  WARN 25207 --- [nio-8080-exec-1] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Empty encoded password\n</code></pre>\n"},{"tags":["java","naming-conventions","naming","conventions"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":10,"creation_date":1501018310,"post_id":45313834,"comment_id":77590230,"body_markdown":"inconsistent naming style","body":"inconsistent naming style"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":15,"creation_date":1501018348,"post_id":45313834,"comment_id":77590252,"body_markdown":"How about &quot;basket case&quot;?","body":"How about &quot;basket case&quot;?"},{"owner":{"account_id":2441651,"reputation":1264,"user_id":2130006,"accept_rate":62,"display_name":"gbr"},"score":9,"creation_date":1501155036,"post_id":45313834,"comment_id":77659911,"body_markdown":"It&#39;s probably just inconsistency but it might also be a philosophy of using the underscore as a stronger separator, while normally using camel case. It can increase readability in some cases, at least if the readers know what it means.","body":"It&#39;s probably just inconsistency but it might also be a philosophy of using the underscore as a stronger separator, while normally using camel case. It can increase readability in some cases, at least if the readers know what it means."},{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":4,"creation_date":1553705289,"post_id":45313834,"comment_id":97487079,"body_markdown":"@gbr I have actually seen one place where it makes sense.  When naming unit tests, it can be handy to use underscores to separate the name of the method being tests from condition being tested.  For example, if testing a method named registerNewWidget, you could have test methods named registerNewWidget_widgetIsDefective, registerNewWidget_widgetAlreadyRegistered, and registerNewWidget_happyPath.","body":"@gbr I have actually seen one place where it makes sense.  When naming unit tests, it can be handy to use underscores to separate the name of the method being tests from condition being tested.  For example, if testing a method named registerNewWidget, you could have test methods named registerNewWidget_widgetIsDefective, registerNewWidget_widgetAlreadyRegistered, and registerNewWidget_happyPath."}],"answers":[{"comments":[{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":0,"creation_date":1549317542,"post_id":54524664,"comment_id":95852305,"body_markdown":"If you get rid of some (not all) of the underscores from upper snake case, then it&#39;s not proper upper snake case anymore.","body":"If you get rid of some (not all) of the underscores from upper snake case, then it&#39;s not proper upper snake case anymore."},{"owner":{"account_id":51235,"reputation":13423,"user_id":153049,"accept_rate":100,"display_name":"Potherca"},"score":2,"creation_date":1549382682,"post_id":54524664,"comment_id":95878256,"body_markdown":"Then maybe &quot;Studly_sNake_CaPs&quot; is more appropriate? &#129300;","body":"Then maybe &quot;Studly_sNake_CaPs&quot; is more appropriate? 🤔"},{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":0,"creation_date":1549384845,"post_id":54524664,"comment_id":95879441,"body_markdown":"That would work if the upper case letters were in random positions, but I&#39;m only seeing them at the beginnings of words.","body":"That would work if the upper case letters were in random positions, but I&#39;m only seeing them at the beginnings of words."},{"owner":{"account_id":51235,"reputation":13423,"user_id":153049,"accept_rate":100,"display_name":"Potherca"},"score":1,"creation_date":1549442119,"post_id":54524664,"comment_id":95898947,"body_markdown":"Then I think we&#39;ll have to settle for `lowerCamel_snakeCase`, although `lower_camelCase_embeddedUnderscore` might be more precise... (see http://wiki.c2.com/?CapitalizationRules).","body":"Then I think we&#39;ll have to settle for <code>lowerCamel_snakeCase</code>, although <code>lower_camelCase_embeddedUnderscore</code> might be more precise... (see <a href=\"http://wiki.c2.com/?CapitalizationRules\" rel=\"nofollow noreferrer\">wiki.c2.com/?CapitalizationRules</a>)."},{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":6,"creation_date":1549477389,"post_id":54524664,"comment_id":95919588,"body_markdown":"Camel_snake_case isn&#39;t bad.  We could shorten it to ypotryll_case.  https://en.wikipedia.org/wiki/Ypotryll","body":"Camel_snake_case isn&#39;t bad.  We could shorten it to ypotryll_case.  <a href=\"https://en.wikipedia.org/wiki/Ypotryll\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Ypotryll</a>"},{"owner":{"account_id":51235,"reputation":13423,"user_id":153049,"accept_rate":100,"display_name":"Potherca"},"score":1,"creation_date":1549571660,"post_id":54524664,"comment_id":95960629,"body_markdown":"I&#39;ve updated my answer to reflect the insights from these comments.","body":"I&#39;ve updated my answer to reflect the insights from these comments."},{"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"score":1,"creation_date":1549575899,"post_id":54524664,"comment_id":95962554,"body_markdown":"You say, &quot;only encountered once and never to be seen again.&quot;  I&#39;ll toast to that, even if my hope is in vain.","body":"You say, &quot;only encountered once and never to be seen again.&quot;  I&#39;ll toast to that, even if my hope is in vain."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1657355238,"post_id":54524664,"comment_id":128794650,"body_markdown":"What about &quot;1337 Case&quot;...","body":"What about &quot;1337 Case&quot;..."}],"tags":[],"owner":{"account_id":51235,"reputation":13423,"user_id":153049,"accept_rate":100,"display_name":"Potherca"},"comment_count":8,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1549572920,"creation_date":1549316250,"answer_id":54524664,"question_id":45313834,"body_markdown":"At first glance it would appear to be some custom hybrid of `camelCase` and `snake_case` called **`Upper_Snake_Case`** or **`Camel_Snake_Case`**&lt;sup&gt;[1]&lt;/sup&gt;.\r\n\r\nCloser inspection (as pointed out in the comments below) shows it is an even worse hybrid than that, caused by the inconsistency of not using an underscore `_` before each capitalized letter. \r\n\r\nAt this point, the term `lowerCamel_snakeCase` would describe it (although \r\n `lower_camelCase_embeddedUnderscore` would be more precise&lt;sup&gt;[2]&lt;/sup&gt;) but... **there is no such thing.**\r\n\r\nSo, if we&#39;re making things up anyway, the suggestion of a Mythological Hybrid Animal&lt;sup&gt;™&lt;/sup&gt; of awesome ugliness that combines a camel and a snake (and boar and ox or goat) seems fitting.\r\n\r\nAs **`boarCamel_oxOrGoat_snake_case`** would be a bit too verbose, **`ypotryll_case`** might be a better match&lt;sup&gt;[3]&lt;/sup&gt;.\r\n\r\nEspecially as the [ypotryll](https://en.wikipedia.org/wiki/Ypotryll) only appears in all of European Heraldry _once_ &lt;sup&gt;[4]&lt;/sup&gt;, as the badge of a man dubbed the &quot;Butcher of England&quot; who was known for being ugly and cruel. As he left no heir, the badge was never used again.\r\n\r\nThis, I feel, makes it a perfect match for this coding standard, both in form (combining a camel and a snake) and function (only encountered once and never to be seen again).\r\n\r\nI hope this answers your question, an image of a ypotryll has been added for your viewing pleasure:\r\n\r\n\r\n[![](https://i.stack.imgur.com/6ToT4.png)](https://mistholme.com/dictionary/ypotryll/)\r\n\r\n&lt;sup&gt;image source: https://mistholme.com/dictionary/ypotryll/&lt;/sup&gt;\r\n\r\n---\r\n\r\n## Footnotes \r\n\r\n&lt;sup&gt;[1]&lt;/sup&gt; As `Upper_Snake_Case` is often confused with `SCREAMING_SNAKE_CASE` or `MACRO_CASE`, using **`Camel_Snake_Case`** is the safer of the two to use.\r\n\r\n&lt;sup&gt;[2]&lt;/sup&gt; see http://wiki.c2.com/?CapitalizationRules\r\n\r\n&lt;sup&gt;[3]&lt;/sup&gt; To place credit where credit is due: the term `ypotryll_case` was coined by [the author of this question](https://stackoverflow.com/users/1664198/mrog) in the comments below.\r\n\r\n&lt;sup&gt;[4]&lt;/sup&gt; It appears in Fenn&#39;s Book of Badges of c.1470 as the badge of John Tiptoft, 1st Earl of Worcester.\r\n","title":"What&#39;s the name for a mix of snake case and camel case?","body":"<p>At first glance it would appear to be some custom hybrid of <code>camelCase</code> and <code>snake_case</code> called <strong><code>Upper_Snake_Case</code></strong> or <strong><code>Camel_Snake_Case</code></strong><sup>[1]</sup>.</p>\n\n<p>Closer inspection (as pointed out in the comments below) shows it is an even worse hybrid than that, caused by the inconsistency of not using an underscore <code>_</code> before each capitalized letter. </p>\n\n<p>At this point, the term <code>lowerCamel_snakeCase</code> would describe it (although \n <code>lower_camelCase_embeddedUnderscore</code> would be more precise<sup>[2]</sup>) but... <strong>there is no such thing.</strong></p>\n\n<p>So, if we're making things up anyway, the suggestion of a Mythological Hybrid Animal<sup>™</sup> of awesome ugliness that combines a camel and a snake (and boar and ox or goat) seems fitting.</p>\n\n<p>As <strong><code>boarCamel_oxOrGoat_snake_case</code></strong> would be a bit too verbose, <strong><code>ypotryll_case</code></strong> might be a better match<sup>[3]</sup>.</p>\n\n<p>Especially as the <a href=\"https://en.wikipedia.org/wiki/Ypotryll\" rel=\"noreferrer\">ypotryll</a> only appears in all of European Heraldry <em>once</em> <sup>[4]</sup>, as the badge of a man dubbed the \"Butcher of England\" who was known for being ugly and cruel. As he left no heir, the badge was never used again.</p>\n\n<p>This, I feel, makes it a perfect match for this coding standard, both in form (combining a camel and a snake) and function (only encountered once and never to be seen again).</p>\n\n<p>I hope this answers your question, an image of a ypotryll has been added for your viewing pleasure:</p>\n\n<p><a href=\"https://mistholme.com/dictionary/ypotryll/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6ToT4.png\" alt=\"\"></a></p>\n\n<p><sup>image source: <a href=\"https://mistholme.com/dictionary/ypotryll/\" rel=\"noreferrer\">https://mistholme.com/dictionary/ypotryll/</a></sup></p>\n\n<hr>\n\n<h2>Footnotes</h2>\n\n<p><sup>[1]</sup> As <code>Upper_Snake_Case</code> is often confused with <code>SCREAMING_SNAKE_CASE</code> or <code>MACRO_CASE</code>, using <strong><code>Camel_Snake_Case</code></strong> is the safer of the two to use.</p>\n\n<p><sup>[2]</sup> see <a href=\"http://wiki.c2.com/?CapitalizationRules\" rel=\"noreferrer\">http://wiki.c2.com/?CapitalizationRules</a></p>\n\n<p><sup>[3]</sup> To place credit where credit is due: the term <code>ypotryll_case</code> was coined by <a href=\"https://stackoverflow.com/users/1664198/mrog\">the author of this question</a> in the comments below.</p>\n\n<p><sup>[4]</sup> It appears in Fenn's Book of Badges of c.1470 as the badge of John Tiptoft, 1st Earl of Worcester.</p>\n"},{"tags":[],"owner":{"account_id":14320624,"reputation":422,"user_id":10344135,"display_name":"Ray Chakrit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677935700,"creation_date":1677935700,"answer_id":75635883,"question_id":45313834,"body_markdown":"A mix of snake_case and camelCase can be confusing and easily misread in the languages that use PascalCase. For example `my_varAdd()` and `my_var.Add()` look too similar.","title":"What&#39;s the name for a mix of snake case and camel case?","body":"<p>A mix of snake_case and camelCase can be confusing and easily misread in the languages that use PascalCase. For example <code>my_varAdd()</code> and <code>my_var.Add()</code> look too similar.</p>\n"}],"owner":{"account_id":177610,"reputation":1980,"user_id":1664198,"accept_rate":88,"display_name":"mrog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8807,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":54524664,"answer_count":2,"score":13,"last_activity_date":1677935700,"creation_date":1501018232,"question_id":45313834,"body_markdown":"I&#39;m maintaining some legacy Java code, and I keep coming across a weird mix of camel case and snake case in the same blocks of code.  Some names are entirely camel case, others are entirely snake case, and others are a weird mix (e.g. `displayText_label_maxDiff` or `hasProperty_`).  I realize that these names aren&#39;t an accepted Java coding style, nor should they be.  I&#39;m just looking for a meaningful term to use in conversation.\r\n\r\nIs there already an accepted name?  If not, what would you propose?  I was thinking of &quot;cobble case,&quot; &quot;roadkill case,&quot; or &quot;strange case&quot;.","title":"What&#39;s the name for a mix of snake case and camel case?","body":"<p>I'm maintaining some legacy Java code, and I keep coming across a weird mix of camel case and snake case in the same blocks of code.  Some names are entirely camel case, others are entirely snake case, and others are a weird mix (e.g. <code>displayText_label_maxDiff</code> or <code>hasProperty_</code>).  I realize that these names aren't an accepted Java coding style, nor should they be.  I'm just looking for a meaningful term to use in conversation.</p>\n\n<p>Is there already an accepted name?  If not, what would you propose?  I was thinking of \"cobble case,\" \"roadkill case,\" or \"strange case\".</p>\n"},{"tags":["javascript","java","arrays","parsing"],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677933059,"creation_date":1677933059,"answer_id":75635679,"question_id":75635329,"body_markdown":"To start with, you can create a `JSONObject` first using a json string and then a `JSONArray` object.\r\n\r\nThen iterate over this array and manipulate with nested objects. \r\n\r\n```\r\nString jsonStr = &quot;{\\&quot;users\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;username\\&quot;:\\&quot;DNS\\&quot;,\\&quot;email\\&quot;:\\&quot;1111111@gmail.com\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;username\\&quot;:\\&quot;ANT\\&quot;,\\&quot;email\\&quot;:\\&quot;22222222@gmail.com\\&quot;}]}&quot;;\r\n\r\nJSONObject jsonObject = new JSONObject(jsonStr);\r\nJSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\r\nint length = jsonArray.length();\r\nfor (int i = 0; i &lt; length; i++) {\r\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;id&quot;));\r\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;username&quot;));\r\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;email&quot;));\r\n}\r\n```","title":"Parsing JSON array and object in Android Studio","body":"<p>To start with, you can create a <code>JSONObject</code> first using a json string and then a <code>JSONArray</code> object.</p>\n<p>Then iterate over this array and manipulate with nested objects.</p>\n<pre><code>String jsonStr = &quot;{\\&quot;users\\&quot;:[{\\&quot;id\\&quot;:1,\\&quot;username\\&quot;:\\&quot;DNS\\&quot;,\\&quot;email\\&quot;:\\&quot;1111111@gmail.com\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;username\\&quot;:\\&quot;ANT\\&quot;,\\&quot;email\\&quot;:\\&quot;22222222@gmail.com\\&quot;}]}&quot;;\n\nJSONObject jsonObject = new JSONObject(jsonStr);\nJSONArray jsonArray = jsonObject.getJSONArray(&quot;users&quot;);\nint length = jsonArray.length();\nfor (int i = 0; i &lt; length; i++) {\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;id&quot;));\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;username&quot;));\n     System.out.println(jsonArray.getJSONObject(i).get(&quot;email&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17647939,"reputation":1,"user_id":12808968,"display_name":"Mops Lops"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677934941,"creation_date":1677934941,"answer_id":75635835,"question_id":75635329,"body_markdown":"I redid it like this and it worked:\r\n\r\n```\r\n@Override\r\n       protected void onPostExecute(String s) {\r\n           super.onPostExecute(s);\r\n           try {\r\n               JSONObject users = new JSONObject(s);\r\n               for (int i = 0; i &lt; users.getJSONArray(&quot;users&quot;).length() ; i++) {\r\n                   JSONObject user = users.getJSONArray(&quot;users&quot;).getJSONObject(i);\r\n\r\n\r\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;id&quot;));\r\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;username&quot;));\r\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;email&quot;));\r\n\r\n                   textView.setText(user.getString(&quot;username&quot;));\r\n               }\r\n           } catch (JSONException e) {\r\n               e.printStackTrace();\r\n           }\r\n```","title":"Parsing JSON array and object in Android Studio","body":"<p>I redid it like this and it worked:</p>\n<pre><code>@Override\n       protected void onPostExecute(String s) {\n           super.onPostExecute(s);\n           try {\n               JSONObject users = new JSONObject(s);\n               for (int i = 0; i &lt; users.getJSONArray(&quot;users&quot;).length() ; i++) {\n                   JSONObject user = users.getJSONArray(&quot;users&quot;).getJSONObject(i);\n\n\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;id&quot;));\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;username&quot;));\n                   Log.e(&quot;jsonobject&quot;,user.getString(&quot;email&quot;));\n\n                   textView.setText(user.getString(&quot;username&quot;));\n               }\n           } catch (JSONException e) {\n               e.printStackTrace();\n           }\n</code></pre>\n"}],"owner":{"account_id":17647939,"reputation":1,"user_id":12808968,"display_name":"Mops Lops"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677934941,"creation_date":1677928895,"question_id":75635329,"body_markdown":"I don&#39;t understand how to parse an object through an array\r\n\r\nThis is what the JSON looks like:\r\n\r\n```\r\n{&quot;users&quot;:[{&quot;id&quot;:1,&quot;username&quot;:&quot;DNS&quot;,&quot;email&quot;:&quot;1111111@gmail.com&quot;},{&quot;id&quot;:2,&quot;username&quot;:&quot;ANT&quot;,&quot;email&quot;:&quot;22222222@gmail.com&quot;}]}\r\n```\r\n\r\nJava:\r\n\r\n```\r\n\r\n\r\n       @Override\r\n       protected void onPostExecute(String s) {\r\n           super.onPostExecute(s);\r\n           try {\r\n               JSONArray jsonArray = new JSONArray(s);\r\n               for (int i = 0  ; i &lt; jsonArray.length(); i++) {\r\n                   JSONObject object = jsonArray.getJSONObject(i);\r\n                   Log.e(&quot;jsonobject&quot;,object.getString(&quot;username&quot;));\r\n                   textView.setText(object.getString(&quot;username&quot;));\r\n               }\r\n\r\n           } catch (JSONException e) {\r\n               e.printStackTrace();\r\n           }\r\n```","title":"Parsing JSON array and object in Android Studio","body":"<p>I don't understand how to parse an object through an array</p>\n<p>This is what the JSON looks like:</p>\n<pre><code>{&quot;users&quot;:[{&quot;id&quot;:1,&quot;username&quot;:&quot;DNS&quot;,&quot;email&quot;:&quot;1111111@gmail.com&quot;},{&quot;id&quot;:2,&quot;username&quot;:&quot;ANT&quot;,&quot;email&quot;:&quot;22222222@gmail.com&quot;}]}\n</code></pre>\n<p>Java:</p>\n<pre><code>\n\n       @Override\n       protected void onPostExecute(String s) {\n           super.onPostExecute(s);\n           try {\n               JSONArray jsonArray = new JSONArray(s);\n               for (int i = 0  ; i &lt; jsonArray.length(); i++) {\n                   JSONObject object = jsonArray.getJSONObject(i);\n                   Log.e(&quot;jsonobject&quot;,object.getString(&quot;username&quot;));\n                   textView.setText(object.getString(&quot;username&quot;));\n               }\n\n           } catch (JSONException e) {\n               e.printStackTrace();\n           }\n</code></pre>\n"},{"tags":["java","java-8","protocol-buffers"],"comments":[{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":0,"creation_date":1528351503,"post_id":50733646,"comment_id":88475667,"body_markdown":"Yes, zone offset is necessary to resolve a `LocalDateTime` to an `Instant`.  The rest of your question is unclear.  The part after &quot;Because&quot; doesn&#39;t seem connected to the part with the question mark.  Please clarify.","body":"Yes, zone offset is necessary to resolve a <code>LocalDateTime</code> to an <code>Instant</code>.  The rest of your question is unclear.  The part after &quot;Because&quot; doesn&#39;t seem connected to the part with the question mark.  Please clarify."},{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":0,"creation_date":1528356602,"post_id":50733646,"comment_id":88478405,"body_markdown":"I have edited the question, please have a look.","body":"I have edited the question, please have a look."},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":0,"creation_date":1528357298,"post_id":50733646,"comment_id":88478775,"body_markdown":"We cannot tell you what timezone to use.  Why does your repository return a `LocalDateTime` instead of an `Instant`?   Hopefully, you can find out what time zone the datetime is relative to.  If it&#39;s not documented anywhere, the datetime is probably in server-local time (returned by `ZoneId.systemDefault()`).  Relying on system timezone is an undesirable practice but people do it all the time nonetheless","body":"We cannot tell you what timezone to use.  Why does your repository return a <code>LocalDateTime</code> instead of an <code>Instant</code>?   Hopefully, you can find out what time zone the datetime is relative to.  If it&#39;s not documented anywhere, the datetime is probably in server-local time (returned by <code>ZoneId.systemDefault()</code>).  Relying on system timezone is an undesirable practice but people do it all the time nonetheless"}],"answers":[{"comments":[{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":1,"creation_date":1528436257,"post_id":50735512,"comment_id":88515838,"body_markdown":"Thanks for the clarification Thomas!","body":"Thanks for the clarification Thomas!"}],"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1528357178,"creation_date":1528357178,"answer_id":50735512,"question_id":50733646,"body_markdown":"In general, no, your approach is not correct. The reason is that a `LocalDateTime` does not have an associated timezone, so it is ambiguous by nature. To convert it to an actual timestamp (an absolute point in time, independent of timezones), you need to know what timezone it was measured in.\r\n\r\nBy calling `localDateTime.toInstant(ZoneOffset.UTC)`, you are assuming that your `localDateTime` was actually measured in the UTC timezone. **Instead, you should be using the timezone that the `LocalDateTime` is stored in.** If you don&#39;t know, then your input data is inherently ambiguous and you&#39;ll need to fix that first.\r\n\r\nNote that this has nothing to do with the fact that the Unix epoch is usually specified in UTC. We might as well say that the Unix epoch is `1970-01-01T08:00:00+08:00`, and it would be the same instant in time.\r\n\r\nThe rest of it seems correct to me.","title":"How to convert LocalDateTime to com.google.protobuf.Timestamp?","body":"<p>In general, no, your approach is not correct. The reason is that a <code>LocalDateTime</code> does not have an associated timezone, so it is ambiguous by nature. To convert it to an actual timestamp (an absolute point in time, independent of timezones), you need to know what timezone it was measured in.</p>\n\n<p>By calling <code>localDateTime.toInstant(ZoneOffset.UTC)</code>, you are assuming that your <code>localDateTime</code> was actually measured in the UTC timezone. <strong>Instead, you should be using the timezone that the <code>LocalDateTime</code> is stored in.</strong> If you don't know, then your input data is inherently ambiguous and you'll need to fix that first.</p>\n\n<p>Note that this has nothing to do with the fact that the Unix epoch is usually specified in UTC. We might as well say that the Unix epoch is <code>1970-01-01T08:00:00+08:00</code>, and it would be the same instant in time.</p>\n\n<p>The rest of it seems correct to me.</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613077484,"creation_date":1613077484,"answer_id":66162818,"question_id":50733646,"body_markdown":"Here&#39;s a routine that pulls together the comments from the question and [actual answer](https://stackoverflow.com/a/50735512/26510) to this question:\r\n\r\n     protected Timestamp convertLocalDateTimeToGoogleTimestamp(LocalDateTime localDateTime) {\r\n        Instant instant = localDateTime.toInstant(ZoneOffset.UTC);\r\n    \r\n        Timestamp result = Timestamp.newBuilder()\r\n                .setSeconds(instant.getEpochSecond())\r\n                .setNanos(instant.getNano())\r\n                .build();\r\n    \r\n        return result;\r\n      }","title":"How to convert LocalDateTime to com.google.protobuf.Timestamp?","body":"<p>Here's a routine that pulls together the comments from the question and <a href=\"https://stackoverflow.com/a/50735512/26510\">actual answer</a> to this question:</p>\n<pre><code> protected Timestamp convertLocalDateTimeToGoogleTimestamp(LocalDateTime localDateTime) {\n    Instant instant = localDateTime.toInstant(ZoneOffset.UTC);\n\n    Timestamp result = Timestamp.newBuilder()\n            .setSeconds(instant.getEpochSecond())\n            .setNanos(instant.getNano())\n            .build();\n\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25645877,"reputation":1,"user_id":19413977,"display_name":"chenzfp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657619583,"creation_date":1657619583,"answer_id":72950370,"question_id":50733646,"body_markdown":"```\r\nLocalDateTime localDateTime = LocalDateTime.now();//this can be any date\r\n\r\nInstant instant = localDateTime.atZone(ZoneId.systemDefault()).toInstant();\r\n\r\nTimestamp timestamp = Timestamp.newBuilder()\r\n                            .setSeconds(instant.getEpochSecond())\r\n                            .setNanos(instant.getNano())\r\n                            .build();\r\n```","title":"How to convert LocalDateTime to com.google.protobuf.Timestamp?","body":"<pre><code>LocalDateTime localDateTime = LocalDateTime.now();//this can be any date\n\nInstant instant = localDateTime.atZone(ZoneId.systemDefault()).toInstant();\n\nTimestamp timestamp = Timestamp.newBuilder()\n                            .setSeconds(instant.getEpochSecond())\n                            .setNanos(instant.getNano())\n                            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677934496,"creation_date":1677886356,"answer_id":75632693,"question_id":50733646,"body_markdown":"Try this:\r\n\r\n    Timestamp currentTimeStamp =   Timestamps.fromMillis(System.currentTimeMillis());","title":"How to convert LocalDateTime to com.google.protobuf.Timestamp?","body":"<p>Try this:</p>\n<pre><code>Timestamp currentTimeStamp =   Timestamps.fromMillis(System.currentTimeMillis());\n</code></pre>\n"}],"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14073,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":50735512,"answer_count":4,"score":17,"last_activity_date":1677934496,"creation_date":1528349822,"question_id":50733646,"body_markdown":"I have an instance of LocalDateTime, which I get from the repository layer, and I need to convert it to a Timestamp (Protocol Buffer) instance.\r\n\r\nI have used to following approach for the conversion:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.now();//this can be any date\r\n    \r\n    Instant instant = localDateTime.toInstant(ZoneOffset.UTC);\r\n    \r\n    Timestamp timestamp = Timestamp.newBuilder()\r\n                                .setSeconds(instant.getEpochSecond())\r\n                                .setNanos(instant.getNano())\r\n                                .build();\r\n\r\nIs the ZoneOffset used here, to convert localDateTime to an instance of Instant, correct?\r\n\r\nI have used the UTC offset because the comment on the &quot;seconds&quot; attribute in the Timestamp class says the following:\r\n\r\n&gt; Represents seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.\r\n&gt; Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive\r\n\r\nHave I used the correct ZoneOffset and is my conversion approach correct?","title":"How to convert LocalDateTime to com.google.protobuf.Timestamp?","body":"<p>I have an instance of LocalDateTime, which I get from the repository layer, and I need to convert it to a Timestamp (Protocol Buffer) instance.</p>\n\n<p>I have used to following approach for the conversion:</p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.now();//this can be any date\n\nInstant instant = localDateTime.toInstant(ZoneOffset.UTC);\n\nTimestamp timestamp = Timestamp.newBuilder()\n                            .setSeconds(instant.getEpochSecond())\n                            .setNanos(instant.getNano())\n                            .build();\n</code></pre>\n\n<p>Is the ZoneOffset used here, to convert localDateTime to an instance of Instant, correct?</p>\n\n<p>I have used the UTC offset because the comment on the \"seconds\" attribute in the Timestamp class says the following:</p>\n\n<blockquote>\n  <p>Represents seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.\n  Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive</p>\n</blockquote>\n\n<p>Have I used the correct ZoneOffset and is my conversion approach correct?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":9040009,"reputation":2977,"user_id":6734585,"display_name":"Mara"},"score":1,"creation_date":1552476130,"post_id":55126553,"comment_id":97021413,"body_markdown":"Possible duplicate of [How to use @Id with String Type in JPA / Hibernate?](https://stackoverflow.com/questions/18622716/how-to-use-id-with-string-type-in-jpa-hibernate)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18622716/how-to-use-id-with-string-type-in-jpa-hibernate\">How to use @Id with String Type in JPA / Hibernate?</a>"},{"owner":{"account_id":9040009,"reputation":2977,"user_id":6734585,"display_name":"Mara"},"score":1,"creation_date":1552476156,"post_id":55126553,"comment_id":97021434,"body_markdown":"https://stackoverflow.com/questions/40177865/hibernate-unknown-integral-data-type-for-ids","body":"<a href=\"https://stackoverflow.com/questions/40177865/hibernate-unknown-integral-data-type-for-ids\" title=\"hibernate unknown integral data type for ids\">stackoverflow.com/questions/40177865/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9189404,"reputation":1,"user_id":6830469,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677933996,"creation_date":1677933996,"answer_id":75635758,"question_id":55126553,"body_markdown":"    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @GenericGenerator(name=&quot;increment&quot;, strategy = &quot;increment&quot;) \r\n    private String fcvCval;\r\n\r\nYou can use like this and also add addition annotation","title":"Hibernate: Use Autoincrement for a String ID","body":"<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@GenericGenerator(name=&quot;increment&quot;, strategy = &quot;increment&quot;) \nprivate String fcvCval;\n</code></pre>\n<p>You can use like this and also add addition annotation</p>\n"}],"owner":{"account_id":429315,"reputation":10095,"user_id":812139,"accept_rate":68,"display_name":"Mr.Eddart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677933996,"creation_date":1552408685,"question_id":55126553,"body_markdown":"I want to use an autoincrement ID for a field that is a String, like this:\r\n\r\n        @Id\r\n    \t@GeneratedValue(strategy = TABLE, generator = &quot;MY_GENERATOR&quot;)\r\n    \t@TableGenerator(name = &quot;NAME&quot;, table = &quot;MY_TABLE&quot;, pkColumnName = &quot;MY_COLUMN&quot;, pkColumnValue = &quot;MY_REF&quot;, valueColumnName = &quot;SOMETHING&quot;, allocationSize = 1)\r\n    \t@Column(name = &quot;COL&quot;, unique = true, nullable = false, length = 3)\r\n\t    public String getFcvCval() {\r\n\t\t    return this.fcvCval;\r\n\t    } \r\n\r\nBut I get an exception of type:\r\n\r\n    org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String \r\n\r\nI cannot change the type of the column (it needs to be String). Is there a way to map the generated Numerical ID to its String value?","title":"Hibernate: Use Autoincrement for a String ID","body":"<p>I want to use an autoincrement ID for a field that is a String, like this:</p>\n\n<pre><code>    @Id\n    @GeneratedValue(strategy = TABLE, generator = \"MY_GENERATOR\")\n    @TableGenerator(name = \"NAME\", table = \"MY_TABLE\", pkColumnName = \"MY_COLUMN\", pkColumnValue = \"MY_REF\", valueColumnName = \"SOMETHING\", allocationSize = 1)\n    @Column(name = \"COL\", unique = true, nullable = false, length = 3)\n    public String getFcvCval() {\n        return this.fcvCval;\n    } \n</code></pre>\n\n<p>But I get an exception of type:</p>\n\n<pre><code>org.hibernate.id.IdentifierGenerationException: Unknown integral data type for ids : java.lang.String \n</code></pre>\n\n<p>I cannot change the type of the column (it needs to be String). Is there a way to map the generated Numerical ID to its String value?</p>\n"},{"tags":["java","mysql","mybatis"],"answers":[{"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677949413,"post_id":75635740,"comment_id":133439852,"body_markdown":"You just need one result map for `Card` if you use `columnPrefix`. See the [doc](https://mybatis.org/mybatis-3/sqlmap-xml.html#nested-results-for-association).","body":"You just need one result map for <code>Card</code> if you use <code>columnPrefix</code>. See the <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#nested-results-for-association\" rel=\"nofollow noreferrer\">doc</a>."}],"tags":[],"owner":{"account_id":27933598,"reputation":1,"user_id":21331043,"display_name":"Titus Li"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677933871,"creation_date":1677933871,"answer_id":75635740,"question_id":75635299,"body_markdown":"I change the mapper.xml like the following and it comes the correct result\r\n```\r\n    &lt;resultMap id=&quot;cardMap1&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;c1number&quot; property=&quot;number&quot;/&gt;\r\n        &lt;result column=&quot;c1color&quot; property=&quot;color&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;!--Create another Map for Card2--&gt;\r\n    &lt;resultMap id=&quot;cardMap2&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;c2number&quot; property=&quot;number&quot;/&gt;\r\n        &lt;result column=&quot;c2color&quot; property=&quot;color&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;select id=&quot;getAllHand&quot; resultMap=&quot;handMap&quot;&gt;\r\n        SELECT\r\n        H.*,\r\n        c1.id as c1id, c1.number as c1number, c1.color as c1color,\r\n        c2.id as c2id, c2.number as c2number, c2.color as c2color\r\n        FROM Hand H\r\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\r\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\r\n    &lt;/select&gt;\r\n```\r\nIt needs two cardMap and make sure they can both get the data from the database column correctly","title":"How to make two same inner classes in a instance mapping in Mybatis (Java)","body":"<p>I change the mapper.xml like the following and it comes the correct result</p>\n<pre><code>    &lt;resultMap id=&quot;cardMap1&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result column=&quot;c1number&quot; property=&quot;number&quot;/&gt;\n        &lt;result column=&quot;c1color&quot; property=&quot;color&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;!--Create another Map for Card2--&gt;\n    &lt;resultMap id=&quot;cardMap2&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result column=&quot;c2number&quot; property=&quot;number&quot;/&gt;\n        &lt;result column=&quot;c2color&quot; property=&quot;color&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;select id=&quot;getAllHand&quot; resultMap=&quot;handMap&quot;&gt;\n        SELECT\n        H.*,\n        c1.id as c1id, c1.number as c1number, c1.color as c1color,\n        c2.id as c2id, c2.number as c2number, c2.color as c2color\n        FROM Hand H\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\n    &lt;/select&gt;\n</code></pre>\n<p>It needs two cardMap and make sure they can both get the data from the database column correctly</p>\n"}],"owner":{"account_id":27933598,"reputation":1,"user_id":21331043,"display_name":"Titus Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677933871,"creation_date":1677928541,"question_id":75635299,"body_markdown":"I&#39;m using class `Hand` to save datas. It inclues two same inner class `Card`, which means two `Card`s make up one `Hand`. As the following:\r\n```\r\npublic class Card {\r\n    private Integer id;\r\n    private Integer number;\r\n    private Integer color;\r\n\r\n    public Card() {}\r\n    public Card(int number, int color) {\r\n        this.number = number;\r\n        this.color = color;\r\n    }\r\n```\r\n```\r\npublic class Hand {\r\n\r\n    private Integer id;\r\n\r\n    private Card card1,card2;\r\n\r\n    public Hand() {}\r\n    public Hand(Card a, Card b) {\r\n        card1 = a;\r\n        card2 = b;\r\n    }\r\n}\r\n```\r\nThen I make the mapping xml like this:\r\n```\r\n    &lt;resultMap id=&quot;handMap&quot; type=&quot;com.company.handsmap.Hand&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;association property=&quot;card1&quot; resultMap=&quot;cardMap&quot;/&gt;\r\n        &lt;association property=&quot;card2&quot; resultMap=&quot;cardMap&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;cardMap&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt;\r\n        &lt;result column=&quot;color&quot; property=&quot;color&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;select id=&quot;getAllHand&quot; resultMap=&quot;handMap&quot;&gt;\r\n        SELECT\r\n        *\r\n        FROM Hand H\r\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\r\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\r\n    &lt;/select&gt;\r\n\r\n```\r\nThen I used mapping as the following and it seems get something wrong:\r\n[Debugging the bug](https://i.stack.imgur.com/1sEop.png)\r\n\r\nAs the it shows that the `Hand` got the correct `Card`1 but got `null` in `Card`2\r\n\r\nIf I run\r\n```\r\nSELECT\r\n        *\r\n        FROM Hand H\r\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\r\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\r\n```\r\nin database, I can get right result as the following:\r\n[SQL results](https://i.stack.imgur.com/HgeGm.png)\r\n\r\n\r\n\r\nCan someone tell me where is the problem and how can I fix it? Thanks a lot!","title":"How to make two same inner classes in a instance mapping in Mybatis (Java)","body":"<p>I'm using class <code>Hand</code> to save datas. It inclues two same inner class <code>Card</code>, which means two <code>Card</code>s make up one <code>Hand</code>. As the following:</p>\n<pre><code>public class Card {\n    private Integer id;\n    private Integer number;\n    private Integer color;\n\n    public Card() {}\n    public Card(int number, int color) {\n        this.number = number;\n        this.color = color;\n    }\n</code></pre>\n<pre><code>public class Hand {\n\n    private Integer id;\n\n    private Card card1,card2;\n\n    public Hand() {}\n    public Hand(Card a, Card b) {\n        card1 = a;\n        card2 = b;\n    }\n}\n</code></pre>\n<p>Then I make the mapping xml like this:</p>\n<pre><code>    &lt;resultMap id=&quot;handMap&quot; type=&quot;com.company.handsmap.Hand&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;association property=&quot;card1&quot; resultMap=&quot;cardMap&quot;/&gt;\n        &lt;association property=&quot;card2&quot; resultMap=&quot;cardMap&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;cardMap&quot; type=&quot;com.company.handsmap.Card&quot;&gt;\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\n        &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt;\n        &lt;result column=&quot;color&quot; property=&quot;color&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;select id=&quot;getAllHand&quot; resultMap=&quot;handMap&quot;&gt;\n        SELECT\n        *\n        FROM Hand H\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\n    &lt;/select&gt;\n\n</code></pre>\n<p>Then I used mapping as the following and it seems get something wrong:\n<a href=\"https://i.stack.imgur.com/1sEop.png\" rel=\"nofollow noreferrer\">Debugging the bug</a></p>\n<p>As the it shows that the <code>Hand</code> got the correct <code>Card</code>1 but got <code>null</code> in <code>Card</code>2</p>\n<p>If I run</p>\n<pre><code>SELECT\n        *\n        FROM Hand H\n        LEFT JOIN Card c1 ON H.card1_id = c1.id\n        LEFT JOIN Card c2 ON H.card2_id = c2.id\n</code></pre>\n<p>in database, I can get right result as the following:\n<a href=\"https://i.stack.imgur.com/HgeGm.png\" rel=\"nofollow noreferrer\">SQL results</a></p>\n<p>Can someone tell me where is the problem and how can I fix it? Thanks a lot!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9623,"page":602,"page_size":100}
