{"items":[{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":2296790,"reputation":91,"user_id":2018042,"display_name":"Microkid"},"score":0,"creation_date":1687789312,"post_id":76557523,"comment_id":134981921,"body_markdown":"So If I start a scan I can do this still (WiFiManager &gt; startscan)?","body":"So If I start a scan I can do this still (WiFiManager &gt; startscan)?"},{"owner":{"account_id":11483863,"reputation":23,"user_id":8417406,"display_name":"Crawk"},"score":0,"creation_date":1687789589,"post_id":76557523,"comment_id":134981989,"body_markdown":"You should can.","body":"You should can."},{"owner":{"account_id":2296790,"reputation":91,"user_id":2018042,"display_name":"Microkid"},"score":0,"creation_date":1687795369,"post_id":76557523,"comment_id":134983356,"body_markdown":"It just seems odd that is startscan is the way to go why its depreciated and just controlled differently. However running a quick test is not returning any networks.","body":"It just seems odd that is startscan is the way to go why its depreciated and just controlled differently. However running a quick test is not returning any networks."}],"tags":[],"owner":{"account_id":11483863,"reputation":23,"user_id":8417406,"display_name":"Crawk"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687788870,"creation_date":1687788870,"answer_id":76557523,"question_id":76557445,"body_markdown":"Starting from Android 9 (API level 28), accessing a list of available Wi-Fi networks without starting a scan is restricted for privacy and security reasons.","title":"How to get a list of wifi networks in an Android App","body":"<p>Starting from Android 9 (API level 28), accessing a list of available Wi-Fi networks without starting a scan is restricted for privacy and security reasons.</p>\n"}],"owner":{"account_id":2296790,"reputation":91,"user_id":2018042,"display_name":"Microkid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687788870,"creation_date":1687788320,"question_id":76557445,"body_markdown":"I&#39;m trying to include a list of WiFi networks in an Android App to allow the user to select one to connect a physical device to. In the past I have used `WiFiManager` class startscan &amp; scanresults to do this. But startscan is now deprecated (and doesn&#39;t seem to work for me). I have looked around but can not seem to find any alternatives to this.\r\n\r\nHow can I get a list of WiFi networks without using deprecated api calls? \r\n\r\nIf the above is not possible can I search for a specific network - for example one that starts ABCD? ","title":"How to get a list of wifi networks in an Android App","body":"<p>I'm trying to include a list of WiFi networks in an Android App to allow the user to select one to connect a physical device to. In the past I have used <code>WiFiManager</code> class startscan &amp; scanresults to do this. But startscan is now deprecated (and doesn't seem to work for me). I have looked around but can not seem to find any alternatives to this.</p>\n<p>How can I get a list of WiFi networks without using deprecated api calls?</p>\n<p>If the above is not possible can I search for a specific network - for example one that starts ABCD?</p>\n"},{"tags":["java","server","client","nio"],"comments":[{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687789501,"post_id":76557444,"comment_id":134981965,"body_markdown":"@user16320675 yup that fixed it!","body":"@user16320675 yup that fixed it!"},{"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"score":0,"creation_date":1687791440,"post_id":76557444,"comment_id":134982471,"body_markdown":"@user16320675 Hi would you mind with one more question? The server accepts the connection made and then writes to the client, saying &quot;Connection established&quot;. For some reason though, the server attempts to write a second time. Since the array of `byte[] data` is null, the Thread throws an exception. How is that possible? It&#39;s like the first `write` key is never removed even though `key.remove` is called (I removed `key.interestOps(OP_READ)` in the `write` method. This is for sure the issue, since when I leave the `OP_read`, it just keeps reading an infinite number of times.","body":"@user16320675 Hi would you mind with one more question? The server accepts the connection made and then writes to the client, saying &quot;Connection established&quot;. For some reason though, the server attempts to write a second time. Since the array of <code>byte[] data</code> is null, the Thread throws an exception. How is that possible? It&#39;s like the first <code>write</code> key is never removed even though <code>key.remove</code> is called (I removed <code>key.interestOps(OP_READ)</code> in the <code>write</code> method. This is for sure the issue, since when I leave the <code>OP_read</code>, it just keeps reading an infinite number of times."}],"owner":{"account_id":6388606,"reputation":589,"user_id":4955612,"accept_rate":60,"display_name":"Andrew Kor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687788319,"creation_date":1687788319,"question_id":76557444,"body_markdown":"Using [this example][1] of a non-blocking NIO server, the non-blocking client is able to connect to the non-blocking NIO server. Even when the server stops running, the client repeats &quot;broken pipe&quot;, which indicates that the client WAS connected. On the server-side, however, the `accept` `SelectionKey` is never &quot;found&quot; (i.e, in the loop, the `accept` method is never called). How is this possible? I even send requests to the server while the client is connected and the `read` and `write` methods aren&#39;t called either. \r\n\r\nMy code below is almost the same as the example:\r\n\r\nSERVER\r\n\r\n\r\n     package GameEngine;\r\n    \r\n    import GameEngine.PlayerActions.PlayerAction;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.*;\r\n    \r\n    import java.nio.*;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.ServerSocketChannel;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    \r\n    \r\n    /**\r\n     * Receives input from clients\r\n     */\r\n    public class InputReceiver extends Thread{ //  A separate thread.\r\n    \r\n        final String HOSTNAME = &quot;localhost&quot;;\r\n        final int PORT = 6666;\r\n        private ServerSocketChannel serverChannel;\r\n        private Selector selector;\r\n        public static HashMap&lt;String,ArrayList&lt;PlayerAction&gt;&gt; inputsForNextTick = new HashMap&lt;String, ArrayList&lt;PlayerAction&gt;&gt;();\r\n        private Map&lt;SocketChannel, byte[]&gt; dataTracking = new HashMap&lt;&gt;();\r\n        private Map&lt;SocketAddress,SocketChannel&gt; clientSocketAddressToSocketChannel = new HashMap&lt;&gt;();\r\n        private static boolean tickHappened = false;\r\n    \r\n        public static void notifyOfTick(){\r\n            tickHappened = true;\r\n        }\r\n    \r\n    \r\n        public void run(){\r\n                try {\r\n                    System.out.println(&quot;Registering server..&quot;);\r\n                    serverChannel = ServerSocketChannel.open();\r\n                    serverChannel.configureBlocking(false);\r\n                    serverChannel.socket().bind(new InetSocketAddress(HOSTNAME, PORT));\r\n                    selector = Selector.open();\r\n                    serverChannel.register(selector, SelectionKey.OP_ACCEPT);\r\n                    System.out.println(&quot;Server registered.&quot;);\r\n                    while (!Thread.currentThread().isInterrupted()) {\r\n    \r\n                        Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\r\n    \r\n                        while (keys.hasNext()) {\r\n                            System.out.println(&quot;Key found. Choosing operation.&quot;);\r\n                            SelectionKey key = keys.next();\r\n                            keys.remove();\r\n    \r\n                            if (!key.isValid()) {\r\n                                continue;\r\n                            }\r\n    \r\n                            if (key.isAcceptable()) {\r\n                                System.out.println(&quot;Accepting connection&quot;);\r\n                                accept(key);\r\n    \r\n                            }\r\n                            if (key.isWritable()) {\r\n                                System.out.println(&quot;Writing...&quot;);\r\n                                write(key);\r\n                            }\r\n    \r\n                            if (key.isReadable()) {\r\n                                System.out.println(&quot;Reading..&quot;);\r\n                                read(key);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n    \r\n        private void accept(SelectionKey key) throws IOException {\r\n            ServerSocketChannel serverSocketChannel = (ServerSocketChannel) key.channel();\r\n            SocketChannel socketChannel = serverSocketChannel.accept();\r\n            socketChannel.configureBlocking(false);\r\n            byte[] hello = &quot;Connection established.&quot;.getBytes();\r\n            dataTracking.put(socketChannel, hello);\r\n            socketChannel.register(selector, SelectionKey.OP_WRITE);\r\n            clientSocketAddressToSocketChannel.put(socketChannel.getRemoteAddress(), socketChannel);\r\n            System.out.println(&quot;New connection made from address: &quot; + socketChannel.getRemoteAddress());\r\n    \r\n        }\r\n        private void read(SelectionKey key){\r\n    \r\n        }\r\n        private void write(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n    \r\n            byte[] data = dataTracking.get(channel);\r\n            dataTracking.remove(channel);\r\n            channel.write(ByteBuffer.wrap(data));\r\n            key.interestOps(SelectionKey.OP_READ);\r\n        }\r\n        private void writeToSocketAddress(){\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nCLIENT\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.net.InetSocketAddress;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.SelectionKey;\r\n    import java.nio.channels.Selector;\r\n    import java.nio.channels.SocketChannel;\r\n    import java.util.Iterator;\r\n    \r\n    import static java.nio.channels.SelectionKey.OP_READ;\r\n    import static java.nio.channels.SelectionKey.OP_WRITE;\r\n    public class ClientToServerCommunications implements Runnable\r\n    {\r\n        private final static String HOSTNAME = &quot;127.0.0.1&quot;;\r\n        private final static int PORT = 6666;\r\n    \r\n        private Selector selector;\r\n    \r\n        public ClientToServerCommunications()\r\n        {\r\n        }\r\n    \r\n        @Override\r\n        public void run()\r\n        {\r\n            SocketChannel channel;\r\n            try {\r\n                selector = Selector.open();\r\n                channel = SocketChannel.open();\r\n                channel.configureBlocking(false);\r\n    \r\n                channel.register(selector, SelectionKey.OP_CONNECT);\r\n                channel.connect(new InetSocketAddress(HOSTNAME, PORT));\r\n    \r\n                while (!Thread.interrupted()) {\r\n                    //selector.select(1000);\r\n    \r\n                    Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\r\n    \r\n                    while (keys.hasNext()) {\r\n                        SelectionKey key = keys.next();\r\n                        keys.remove();\r\n    \r\n                        if (!key.isValid()) continue;\r\n    \r\n                        if (key.isConnectable()) {\r\n                            System.out.println(&quot;Connecting..&quot;);\r\n                            connect(key);\r\n                        }\r\n                        if (key.isWritable()) {\r\n                            write(key);\r\n                        }\r\n                        if (key.isReadable()) {\r\n                            read(key);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            } finally {\r\n                close();\r\n            }\r\n        }\r\n    \r\n        private void close()\r\n        {\r\n            try {\r\n                selector.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void read(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            ByteBuffer readBuffer = ByteBuffer.allocate(1000);\r\n            readBuffer.clear();\r\n            int length;\r\n            try {\r\n                length = channel.read(readBuffer);\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Reading problem, closing connection&quot;);\r\n                key.cancel();\r\n                channel.close();\r\n                return;\r\n            }\r\n            if (length == -1) {\r\n                System.out.println(&quot;Nothing was read from server&quot;);\r\n                channel.close();\r\n                key.cancel();\r\n                return;\r\n            }\r\n            readBuffer.flip();\r\n            byte[] buff = new byte[1024];\r\n            readBuffer.get(buff, 0, length);\r\n            System.out.println(&quot;Server said: &quot; + new String(buff));\r\n        }\r\n    \r\n        private void write(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            channel.write(ByteBuffer.wrap(&quot;TEST MESSAGE&quot;.getBytes()));\r\n    \r\n            // Lets get ready to read.\r\n            key.interestOps(OP_READ);\r\n        }\r\n    \r\n        private void connect(SelectionKey key) throws IOException\r\n        {\r\n            SocketChannel channel = (SocketChannel) key.channel();\r\n            if (channel.isConnectionPending()) {\r\n                channel.finishConnect();\r\n            }\r\n            channel.configureBlocking(false);\r\n            channel.register(selector, OP_WRITE);\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/teocci/NioSocketCodeSample/blob/master/src/com/github/teocci/nio/socket/nio/NonBlockingWRServer.java","title":"Java NIO server never finds any SelectionKey","body":"<p>Using <a href=\"https://github.com/teocci/NioSocketCodeSample/blob/master/src/com/github/teocci/nio/socket/nio/NonBlockingWRServer.java\" rel=\"nofollow noreferrer\">this example</a> of a non-blocking NIO server, the non-blocking client is able to connect to the non-blocking NIO server. Even when the server stops running, the client repeats &quot;broken pipe&quot;, which indicates that the client WAS connected. On the server-side, however, the <code>accept</code> <code>SelectionKey</code> is never &quot;found&quot; (i.e, in the loop, the <code>accept</code> method is never called). How is this possible? I even send requests to the server while the client is connected and the <code>read</code> and <code>write</code> methods aren't called either.</p>\n<p>My code below is almost the same as the example:</p>\n<p>SERVER</p>\n<pre><code> package GameEngine;\n\nimport GameEngine.PlayerActions.PlayerAction;\n\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.*;\n\nimport java.nio.*;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\n\n\n/**\n * Receives input from clients\n */\npublic class InputReceiver extends Thread{ //  A separate thread.\n\n    final String HOSTNAME = &quot;localhost&quot;;\n    final int PORT = 6666;\n    private ServerSocketChannel serverChannel;\n    private Selector selector;\n    public static HashMap&lt;String,ArrayList&lt;PlayerAction&gt;&gt; inputsForNextTick = new HashMap&lt;String, ArrayList&lt;PlayerAction&gt;&gt;();\n    private Map&lt;SocketChannel, byte[]&gt; dataTracking = new HashMap&lt;&gt;();\n    private Map&lt;SocketAddress,SocketChannel&gt; clientSocketAddressToSocketChannel = new HashMap&lt;&gt;();\n    private static boolean tickHappened = false;\n\n    public static void notifyOfTick(){\n        tickHappened = true;\n    }\n\n\n    public void run(){\n            try {\n                System.out.println(&quot;Registering server..&quot;);\n                serverChannel = ServerSocketChannel.open();\n                serverChannel.configureBlocking(false);\n                serverChannel.socket().bind(new InetSocketAddress(HOSTNAME, PORT));\n                selector = Selector.open();\n                serverChannel.register(selector, SelectionKey.OP_ACCEPT);\n                System.out.println(&quot;Server registered.&quot;);\n                while (!Thread.currentThread().isInterrupted()) {\n\n                    Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\n\n                    while (keys.hasNext()) {\n                        System.out.println(&quot;Key found. Choosing operation.&quot;);\n                        SelectionKey key = keys.next();\n                        keys.remove();\n\n                        if (!key.isValid()) {\n                            continue;\n                        }\n\n                        if (key.isAcceptable()) {\n                            System.out.println(&quot;Accepting connection&quot;);\n                            accept(key);\n\n                        }\n                        if (key.isWritable()) {\n                            System.out.println(&quot;Writing...&quot;);\n                            write(key);\n                        }\n\n                        if (key.isReadable()) {\n                            System.out.println(&quot;Reading..&quot;);\n                            read(key);\n                        }\n                    }\n                }\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n    private void accept(SelectionKey key) throws IOException {\n        ServerSocketChannel serverSocketChannel = (ServerSocketChannel) key.channel();\n        SocketChannel socketChannel = serverSocketChannel.accept();\n        socketChannel.configureBlocking(false);\n        byte[] hello = &quot;Connection established.&quot;.getBytes();\n        dataTracking.put(socketChannel, hello);\n        socketChannel.register(selector, SelectionKey.OP_WRITE);\n        clientSocketAddressToSocketChannel.put(socketChannel.getRemoteAddress(), socketChannel);\n        System.out.println(&quot;New connection made from address: &quot; + socketChannel.getRemoteAddress());\n\n    }\n    private void read(SelectionKey key){\n\n    }\n    private void write(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n\n        byte[] data = dataTracking.get(channel);\n        dataTracking.remove(channel);\n        channel.write(ByteBuffer.wrap(data));\n        key.interestOps(SelectionKey.OP_READ);\n    }\n    private void writeToSocketAddress(){\n\n    }\n\n}\n</code></pre>\n<p>CLIENT</p>\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\n\nimport static java.nio.channels.SelectionKey.OP_READ;\nimport static java.nio.channels.SelectionKey.OP_WRITE;\npublic class ClientToServerCommunications implements Runnable\n{\n    private final static String HOSTNAME = &quot;127.0.0.1&quot;;\n    private final static int PORT = 6666;\n\n    private Selector selector;\n\n    public ClientToServerCommunications()\n    {\n    }\n\n    @Override\n    public void run()\n    {\n        SocketChannel channel;\n        try {\n            selector = Selector.open();\n            channel = SocketChannel.open();\n            channel.configureBlocking(false);\n\n            channel.register(selector, SelectionKey.OP_CONNECT);\n            channel.connect(new InetSocketAddress(HOSTNAME, PORT));\n\n            while (!Thread.interrupted()) {\n                //selector.select(1000);\n\n                Iterator&lt;SelectionKey&gt; keys = selector.selectedKeys().iterator();\n\n                while (keys.hasNext()) {\n                    SelectionKey key = keys.next();\n                    keys.remove();\n\n                    if (!key.isValid()) continue;\n\n                    if (key.isConnectable()) {\n                        System.out.println(&quot;Connecting..&quot;);\n                        connect(key);\n                    }\n                    if (key.isWritable()) {\n                        write(key);\n                    }\n                    if (key.isReadable()) {\n                        read(key);\n                    }\n                }\n            }\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        } finally {\n            close();\n        }\n    }\n\n    private void close()\n    {\n        try {\n            selector.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void read(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        ByteBuffer readBuffer = ByteBuffer.allocate(1000);\n        readBuffer.clear();\n        int length;\n        try {\n            length = channel.read(readBuffer);\n        } catch (IOException e) {\n            System.out.println(&quot;Reading problem, closing connection&quot;);\n            key.cancel();\n            channel.close();\n            return;\n        }\n        if (length == -1) {\n            System.out.println(&quot;Nothing was read from server&quot;);\n            channel.close();\n            key.cancel();\n            return;\n        }\n        readBuffer.flip();\n        byte[] buff = new byte[1024];\n        readBuffer.get(buff, 0, length);\n        System.out.println(&quot;Server said: &quot; + new String(buff));\n    }\n\n    private void write(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        channel.write(ByteBuffer.wrap(&quot;TEST MESSAGE&quot;.getBytes()));\n\n        // Lets get ready to read.\n        key.interestOps(OP_READ);\n    }\n\n    private void connect(SelectionKey key) throws IOException\n    {\n        SocketChannel channel = (SocketChannel) key.channel();\n        if (channel.isConnectionPending()) {\n            channel.finishConnect();\n        }\n        channel.configureBlocking(false);\n        channel.register(selector, OP_WRITE);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1651127092,"post_id":72038844,"comment_id":127289751,"body_markdown":"Well ... you shouldn&#39;t be upgrading to Java 16 because Java 16 is already end-of-life.","body":"Well ... you shouldn&#39;t be upgrading to Java 16 because Java 16 is already end-of-life."}],"answers":[{"comments":[{"owner":{"account_id":4587942,"reputation":11,"user_id":3722075,"display_name":"user3722075"},"score":0,"creation_date":1651318858,"post_id":72041265,"comment_id":127339356,"body_markdown":"If possible can you please explain in detail about the fix can be implemented for this castor issue.","body":"If possible can you please explain in detail about the fix can be implemented for this castor issue."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651323951,"post_id":72041265,"comment_id":127340320,"body_markdown":"Well ... given that I haven&#39;t done it myself, no I can&#39;t.   But you need the code that is trying to create an instance of `com.sun.org.apache.xml.internal.serialize.XMLSerializer` with something that uses an `XMLSerializer` that is ... not part of the the JDK internals.","body":"Well ... given that I haven&#39;t done it myself, no I can&#39;t.   But you need the code that is trying to create an instance of <code>com.sun.org.apache.xml.internal.serialize.XMLSerializer</code> with something that uses an <code>XMLSerializer</code> that is ... not part of the the JDK internals."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651138459,"creation_date":1651138143,"answer_id":72041265,"question_id":72038844,"body_markdown":"It looks like you have encountered another manifestation of https://github.com/castor-data-binding/castor/issues/76 (closed).\r\n\r\nThis kind of thing is caused by application code (e.g. Castor) directly referring to internal JDK classes (in this case `com.sun.org.apache.xml.internal.serialize.XMLSerializer`).   This should be raised as an Castor issue.\r\n\r\nUnfortunately, it looks like Castor data bindings is a moribund project, so you may need to develop your own fix to get it to work on Java 16 and later.\r\n\r\nIf you are going to do that, this is where the JDK internal package name is injected:\r\n\r\nhttps://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/\r\n\r\nLook at `XercesJDK5Serializer.java` `BaseXercesJDK5Serializer.java`","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>It looks like you have encountered another manifestation of <a href=\"https://github.com/castor-data-binding/castor/issues/76\" rel=\"nofollow noreferrer\">https://github.com/castor-data-binding/castor/issues/76</a> (closed).</p>\n<p>This kind of thing is caused by application code (e.g. Castor) directly referring to internal JDK classes (in this case <code>com.sun.org.apache.xml.internal.serialize.XMLSerializer</code>).   This should be raised as an Castor issue.</p>\n<p>Unfortunately, it looks like Castor data bindings is a moribund project, so you may need to develop your own fix to get it to work on Java 16 and later.</p>\n<p>If you are going to do that, this is where the JDK internal package name is injected:</p>\n<p><a href=\"https://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/\" rel=\"nofollow noreferrer\">https://github.com/castor-data-binding/castor/blob/master/xml/src/main/java/org/exolab/castor/xml/</a></p>\n<p>Look at <code>XercesJDK5Serializer.java</code> <code>BaseXercesJDK5Serializer.java</code></p>\n"},{"tags":[],"owner":{"account_id":25637094,"reputation":31,"user_id":19406538,"display_name":"Miriam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656203758,"creation_date":1656062245,"answer_id":72741744,"question_id":72038844,"body_markdown":"You can set the property to use own Xerces to prevent the problem.\r\n\r\n```java\r\ncontext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY,\r\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\r\n```\r\n\r\nChange \r\n\r\n```java\r\nMarshaller marshaller = new Marshaller(myWriter);\r\n```\r\n\r\nto something like this:\r\n\r\n```java\r\nStringWriter myWriter= new StringWriter(); \r\nXMLContext xmlContext = new XMLContext();\r\nxmlContext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY, \r\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\r\nMarshaller marshaller = xmlContext.createMarshaller();\r\nmarshaller.setWriter(myWriter);\r\n```","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>You can set the property to use own Xerces to prevent the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY,\n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\n</code></pre>\n<p>Change</p>\n<pre class=\"lang-java prettyprint-override\"><code>Marshaller marshaller = new Marshaller(myWriter);\n</code></pre>\n<p>to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringWriter myWriter= new StringWriter(); \nXMLContext xmlContext = new XMLContext();\nxmlContext.setProperty(org.castor.xml.XMLProperties.SERIALIZER_FACTORY, \n    org.exolab.castor.xml.XercesXMLSerializerFactory.class.getName());\nMarshaller marshaller = xmlContext.createMarshaller();\nmarshaller.setWriter(myWriter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2091022,"reputation":856,"user_id":1860867,"accept_rate":40,"display_name":"ptha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687787781,"creation_date":1687350572,"answer_id":76523304,"question_id":72038844,"body_markdown":"Try adding the [--add-exports][1] JVM option:\r\n\r\n    --add-exports java.xml/com.sun.org.apache.xml.internal.serialize=ALL-UNNAMED\r\n\r\nWe did a JDK 8 -&gt; 17 migration, and the error message can indicate the solution. In your case:\r\n\r\n*java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) **because module java.xml does not export com.sun.org.apache.xml.internal.serialize to unnamed module** @646cb2e*\r\n\r\nIf the error contained: **module java.base does not opens java.lang to unnamed module**\r\n\r\nYou would use `--add-opens` instead of `--add-exports`:\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>Try adding the <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-2F61F3A9-0979-46A4-8B49-325BA0EE8B66\" rel=\"nofollow noreferrer\">--add-exports</a> JVM option:</p>\n<pre><code>--add-exports java.xml/com.sun.org.apache.xml.internal.serialize=ALL-UNNAMED\n</code></pre>\n<p>We did a JDK 8 -&gt; 17 migration, and the error message can indicate the solution. In your case:</p>\n<p><em>java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) <strong>because module java.xml does not export com.sun.org.apache.xml.internal.serialize to unnamed module</strong> @646cb2e</em></p>\n<p>If the error contained: <strong>module java.base does not opens java.lang to unnamed module</strong></p>\n<p>You would use <code>--add-opens</code> instead of <code>--add-exports</code>:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7622474,"reputation":43,"user_id":5780131,"display_name":"Zsolt Kov&#225;cs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687430598,"creation_date":1687430598,"answer_id":76531074,"question_id":72038844,"body_markdown":"I run into the same issue when I was migrating to openjdk17 from 8. @Miriam answer was the key, but it was not enough as I am also using Casor XML Schema. The solution was to add latest xerces jar and castor.properties to the classpath containing this single line (in my case):\r\n\r\n`org.exolab.castor.xml.serializer.factory=org.exolab.castor.xml.XercesXMLSerializerFactory`\r\n\r\nThis documentation might be useful for further help:\r\nhttps://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>I run into the same issue when I was migrating to openjdk17 from 8. @Miriam answer was the key, but it was not enough as I am also using Casor XML Schema. The solution was to add latest xerces jar and castor.properties to the classpath containing this single line (in my case):</p>\n<p><code>org.exolab.castor.xml.serializer.factory=org.exolab.castor.xml.XercesXMLSerializerFactory</code></p>\n<p>This documentation might be useful for further help:\n<a href=\"https://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html\" rel=\"nofollow noreferrer\">https://castor-data-binding.github.io/castor/reference-guide/reference/xml/xml-properties.html</a></p>\n"}],"owner":{"account_id":4587942,"reputation":11,"user_id":3722075,"display_name":"user3722075"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1687787781,"creation_date":1651126601,"question_id":72038844,"body_markdown":"I have upgraded the java version from 15 to 16 and getting the below error on runtime. \r\n\r\njava.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) because module java.xml does not  export com.sun.org.apache.xml.internal.serialize to unnamed module @646cb2e","title":"how to solve the Java upgrade 15 to 16 issue with Castor - XML","body":"<p>I have upgraded the java version from 15 to 16 and getting the below error on runtime.</p>\n<p>java.lang.RuntimeException: Could not instantiate serializer com.sun.org.apache.xml.internal.serialize.XMLSerializer: java.lang.IllegalAccessException: class org.exolab.castor.xml.BaseXercesJDK5Serializer cannot access class com.sun.org.apache.xml.internal.serialize.XMLSerializer (in module java.xml) because module java.xml does not  export com.sun.org.apache.xml.internal.serialize to unnamed module @646cb2e</p>\n"},{"tags":["java","graph","bar-chart","awt","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687799185,"post_id":76557278,"comment_id":134984135,"body_markdown":"You might explore relevant margins, as suggested [here](https://stackoverflow.com/a/9667294/230513); you can experiment with this complete [example](https://stackoverflow.com/a/17342522/230513).","body":"You might explore relevant margins, as suggested <a href=\"https://stackoverflow.com/a/9667294/230513\">here</a>; you can experiment with this complete <a href=\"https://stackoverflow.com/a/17342522/230513\">example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687801413,"post_id":76557278,"comment_id":134984637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687787681,"creation_date":1687787681,"answer_id":76557350,"question_id":76557278,"body_markdown":"The `setCategoryMargin(float)` is used to adjust the space between categories and accepts a value between 0.0 and 1.0 (where 1.0 means 100% of the available space is used as the margin(!)). So using a negative value (-2) may not give the expected result.\r\n\r\nRead more: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-\r\n\r\nYou can try setting different lower positive margin to to see what suits your needs.\r\n","title":"JFreeChart align Bar Chart left","body":"<p>The <code>setCategoryMargin(float)</code> is used to adjust the space between categories and accepts a value between 0.0 and 1.0 (where 1.0 means 100% of the available space is used as the margin(!)). So using a negative value (-2) may not give the expected result.</p>\n<p>Read more: <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-\" rel=\"nofollow noreferrer\">https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/CategoryAxis.html#setCategoryMargin-double-</a></p>\n<p>You can try setting different lower positive margin to to see what suits your needs.</p>\n"}],"owner":{"account_id":28833424,"reputation":3,"user_id":22083353,"display_name":"matteo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687878359,"accepted_answer_id":76557350,"answer_count":1,"score":0,"last_activity_date":1687787681,"creation_date":1687787113,"question_id":76557278,"body_markdown":"I printed a bar chart using JFreeChart. But if I want to make the bars closer to each other using `setCategoryMargin(-2)` on my `CategoryAxis`, the Bar Chart appears to align in the center.\r\n\r\nIs there a way to align the entire graph to the left, so it&#39;s directly next to the y-axis ? Or reduce the space between the bars without the chart getting centered ?\r\n\r\n","title":"JFreeChart align Bar Chart left","body":"<p>I printed a bar chart using JFreeChart. But if I want to make the bars closer to each other using <code>setCategoryMargin(-2)</code> on my <code>CategoryAxis</code>, the Bar Chart appears to align in the center.</p>\n<p>Is there a way to align the entire graph to the left, so it's directly next to the y-axis ? Or reduce the space between the bars without the chart getting centered ?</p>\n"},{"tags":["java","tomcat"],"answers":[{"comments":[{"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1274377581,"post_id":2876355,"comment_id":2922345,"body_markdown":"Thanks, but this does not help me. The parameter you&#39;re referring to affects server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. And, I want to do it for all resources at once.","body":"Thanks, but this does not help me. The parameter you&#39;re referring to affects server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. And, I want to do it for all resources at once."},{"owner":{"account_id":127604,"reputation":2939,"user_id":324888,"accept_rate":93,"display_name":"Inv3r53"},"score":0,"creation_date":1274378807,"post_id":2876355,"comment_id":2922543,"body_markdown":"ah ok..afaik implementing a filter is one way of doing it.","body":"ah ok..afaik implementing a filter is one way of doing it."},{"owner":{"account_id":127604,"reputation":2939,"user_id":324888,"accept_rate":93,"display_name":"Inv3r53"},"score":0,"creation_date":1274379636,"post_id":2876355,"comment_id":2922685,"body_markdown":"Seems like There is not built-in cache control in Tomcat.","body":"Seems like There is not built-in cache control in Tomcat."}],"tags":[],"owner":{"account_id":127604,"reputation":2939,"user_id":324888,"accept_rate":93,"display_name":"Inv3r53"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1274377124,"creation_date":1274377124,"answer_id":2876355,"question_id":2876250,"body_markdown":"may be this what you are looking for :\r\n\r\nhttp://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters\r\n\r\n        cachingAllowed : If the value of this flag is true, the cache for static\r\n    \r\n     resources will be used. If not specified, the default value of the flag is true.\r\n\r\nAlso delete the application cache folder in /work/Catalina/localhost after changing this flag.","title":"Tomcat: Cache-Control","body":"<p>may be this what you are looking for :</p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Context%20Parameters</a></p>\n\n<pre><code>    cachingAllowed : If the value of this flag is true, the cache for static\n\n resources will be used. If not specified, the default value of the flag is true.\n</code></pre>\n\n<p>Also delete the application cache folder in /work/Catalina/localhost after changing this flag.</p>\n"},{"comments":[{"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"score":0,"creation_date":1399394223,"post_id":2876899,"comment_id":36039251,"body_markdown":"Will this apply only to servlets, or also to static files, e.g css / images, which are served by Tomcat?","body":"Will this apply only to servlets, or also to static files, e.g css / images, which are served by Tomcat?"}],"tags":[],"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1467112909,"creation_date":1274381675,"answer_id":2876899,"question_id":2876250,"body_markdown":"I don&#39;t believe there is a configuration to do this.  But it should not be much of an effort to write a filter to set the Cache-Control header on a per webapp-basis.  E.g.:\r\n\r\n    public class test implements Filter {\r\n    \t   \r\n    \t    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                    throws IOException, ServletException {\r\n\r\n    \t        chain.doFilter(request, response);\r\n                ((StatusResponse)response).setHeader(&quot;Cache-Control&quot;,\r\n                        &quot;max-age=0, private, must-revalidate&quot;);\r\n    \t    }\r\n    \r\n    \t\tpublic void destroy() {}\r\n    \r\n    \t\tpublic void init(FilterConfig arg0) throws ServletException {}\r\n    }\r\n\r\nAnd you&#39;d place this snippet into your webapp&#39;s `web.xml` file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;ch.dietpizza.cacheControlFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;                       \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n","title":"Tomcat: Cache-Control","body":"<p>I don't believe there is a configuration to do this.  But it should not be much of an effort to write a filter to set the Cache-Control header on a per webapp-basis.  E.g.:</p>\n\n<pre><code>public class test implements Filter {\n\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n                throws IOException, ServletException {\n\n            chain.doFilter(request, response);\n            ((StatusResponse)response).setHeader(\"Cache-Control\",\n                    \"max-age=0, private, must-revalidate\");\n        }\n\n        public void destroy() {}\n\n        public void init(FilterConfig arg0) throws ServletException {}\n}\n</code></pre>\n\n<p>And you'd place this snippet into your webapp's <code>web.xml</code> file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\n    &lt;filter-class&gt;ch.dietpizza.cacheControlFilter&lt;/filter-class&gt;\n&lt;/filter&gt;                       \n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;SetCacheControl&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274713660,"creation_date":1274713660,"answer_id":2897932,"question_id":2876250,"body_markdown":"The only param I know of is `disableProxyCaching` on `&lt;Valve&gt;` elements. See [here][1].\r\n\r\n\r\n  [1]: http://daveharris.wordpress.com/2007/07/09/how-to-configure-cache-control-in-tomcat/","title":"Tomcat: Cache-Control","body":"<p>The only param I know of is <code>disableProxyCaching</code> on <code>&lt;Valve&gt;</code> elements. See <a href=\"http://daveharris.wordpress.com/2007/07/09/how-to-configure-cache-control-in-tomcat/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":0,"creation_date":1352235336,"post_id":4997498,"comment_id":18069923,"body_markdown":"This solved the problem for me.  Safari 6 (iOS) caches POST requests and this was killing me!  Thanks!","body":"This solved the problem for me.  Safari 6 (iOS) caches POST requests and this was killing me!  Thanks!"},{"owner":{"account_id":414474,"reputation":1900,"user_id":788711,"accept_rate":58,"display_name":"Apoorva sahay"},"score":0,"creation_date":1571774710,"post_id":4997498,"comment_id":103350582,"body_markdown":"@whitey I am seeing Cache-control: private is added by default in my response. I am using tomcat as container. Can you help?","body":"@whitey I am seeing Cache-control: private is added by default in my response. I am using tomcat as container. Can you help?"},{"owner":{"account_id":963148,"reputation":794,"user_id":987044,"accept_rate":50,"display_name":"ledlogic"},"score":0,"creation_date":1574140875,"post_id":4997498,"comment_id":104114965,"body_markdown":"System.currentTimeMillis() is faster and less garbage collection than new Date().getTime() according to https://stackoverflow.com/a/16249959/987044","body":"System.currentTimeMillis() is faster and less garbage collection than new Date().getTime() according to <a href=\"https://stackoverflow.com/a/16249959/987044\">stackoverflow.com/a/16249959/987044</a>"}],"tags":[],"owner":{"account_id":138794,"reputation":536,"user_id":343960,"display_name":"whitey"},"comment_count":3,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1441730305,"creation_date":1297719056,"answer_id":4997498,"question_id":2876250,"body_markdown":"Similar to the post above, except there are some issues with that code.  This will disable all browser caching:\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.Date;\r\n    \r\n    public class CacheControlFilter implements Filter {\r\n    \r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n    \r\n            HttpServletResponse resp = (HttpServletResponse) response;\r\n            resp.setHeader(&quot;Expires&quot;, &quot;Tue, 03 Jul 2001 06:00:00 GMT&quot;);\r\n            resp.setDateHeader(&quot;Last-Modified&quot;, new Date().getTime());\r\n            resp.setHeader(&quot;Cache-Control&quot;, &quot;no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0&quot;);\r\n            resp.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n    \r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n    }\r\n\r\nand then map in web.xml as described in [Stu Thompson&#39;s answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2876899/569101","title":"Tomcat: Cache-Control","body":"<p>Similar to the post above, except there are some issues with that code.  This will disable all browser caching:</p>\n\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Date;\n\npublic class CacheControlFilter implements Filter {\n\n    public void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n\n        HttpServletResponse resp = (HttpServletResponse) response;\n        resp.setHeader(\"Expires\", \"Tue, 03 Jul 2001 06:00:00 GMT\");\n        resp.setDateHeader(\"Last-Modified\", new Date().getTime());\n        resp.setHeader(\"Cache-Control\", \"no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0\");\n        resp.setHeader(\"Pragma\", \"no-cache\");\n\n        chain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n\n<p>and then map in web.xml as described in <a href=\"https://stackoverflow.com/a/2876899/569101\">Stu Thompson's answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":1104938,"reputation":4361,"user_id":1382828,"accept_rate":78,"display_name":"CXJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336501307,"creation_date":1336501307,"answer_id":10504217,"question_id":2876250,"body_markdown":"There actually are several &lt;Valve&gt; elements in the Tomcat configuration which directly affect this.  See documentation at http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html for example.\r\n\r\nAtlassian recommends the following two statements to ENABLE browser-side caching so that Microsoft Internet Explorer will be able to correctly download and view attached documents:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.authenticator.FormAuthenticator&quot; securePagesWithPragma=&quot;false&quot; /&gt;\r\n    &lt;Valve className=&quot;org.apache.catalina.authenticator.NonLoginAuthenticator&quot; securePagesWithPragma=&quot;false&quot; /&gt;\r\n\r\n","title":"Tomcat: Cache-Control","body":"<p>There actually are several  elements in the Tomcat configuration which directly affect this.  See documentation at <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-6.0-doc/config/valve.html</a> for example.</p>\n\n<p>Atlassian recommends the following two statements to ENABLE browser-side caching so that Microsoft Internet Explorer will be able to correctly download and view attached documents:</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.authenticator.FormAuthenticator\" securePagesWithPragma=\"false\" /&gt;\n&lt;Valve className=\"org.apache.catalina.authenticator.NonLoginAuthenticator\" securePagesWithPragma=\"false\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2466488,"reputation":441,"user_id":2149459,"accept_rate":78,"display_name":"Arjun"},"score":4,"creation_date":1426241305,"post_id":15326364,"comment_id":46300257,"body_markdown":"Can ExpiresFilter be used to set cache-control to &quot;no-cache&quot; and &quot;no-store&quot; at the same time?\n\nIf yes, how do you achieve it in above code? This&#39;d be great help.","body":"Can ExpiresFilter be used to set cache-control to &quot;no-cache&quot; and &quot;no-store&quot; at the same time?  If yes, how do you achieve it in above code? This&#39;d be great help."},{"owner":{"account_id":1614179,"reputation":1881,"user_id":1492329,"accept_rate":60,"display_name":"Jack"},"score":5,"creation_date":1426304946,"post_id":15326364,"comment_id":46329815,"body_markdown":"I don&#39;t think so. From the documentation: `To modify Cache-Control directives other than max-age (see RFC 2616 section 14.9), you can use other servlet filters or Apache Httpd mod_headers module.`","body":"I don&#39;t think so. From the documentation: <code>To modify Cache-Control directives other than max-age (see RFC 2616 section 14.9), you can use other servlet filters or Apache Httpd mod_headers module.</code>"},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":0,"creation_date":1493154829,"post_id":15326364,"comment_id":74291238,"body_markdown":"I ported the ExpiresFilter to Tomcat 6. See https://github.com/bnegrao/ExpiresFilter","body":"I ported the ExpiresFilter to Tomcat 6. See <a href=\"https://github.com/bnegrao/ExpiresFilter\" rel=\"nofollow noreferrer\">github.com/bnegrao/ExpiresFilter</a>"}],"tags":[],"owner":{"account_id":1614179,"reputation":1881,"user_id":1492329,"accept_rate":60,"display_name":"Jack"},"comment_count":3,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1614815931,"creation_date":1362942846,"answer_id":15326364,"question_id":2876250,"body_markdown":"&lt;!-- language-all: lang-xml --&gt;\r\nSince Tomcat 7 there is a container provided expires filter that may help. See:\r\n\r\n* Tomcat 10: https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 9: https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 8: https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 7: https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter\r\n* Tomcat 6 (unofficial backport): https://github.com/bnegrao/ExpiresFilter\r\n\r\n&gt; ExpiresFilter is a Java Servlet API port of [Apache mod_expires][1]. This filter controls the setting of the `Expires` HTTP header and the `max-age` directive of the `Cache-Control` HTTP header in server responses. The expiration date can set to be relative to either the time the source file was last modified, or to the time of the client access.\r\n\r\n&lt;pre&gt;&lt;code&gt;&amp;lt;filter&amp;gt;\r\n\t&amp;lt;filter-name&amp;gt;ExpiresFilter&amp;lt;/filter-name&amp;gt;\r\n\t&amp;lt;filter-class&amp;gt;org.apache.catalina.filters.ExpiresFilter&amp;lt;/filter-class&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType image&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 days&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType text/css&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 hours&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresByType application/javascript&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 10 minutes&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n\t&amp;lt;!-- Let everything else expire immediately --&amp;gt;\r\n\t&amp;lt;init-param&amp;gt;\r\n\t\t&amp;lt;param-name&amp;gt;ExpiresDefault&amp;lt;/param-name&amp;gt;\r\n\t\t&amp;lt;param-value&amp;gt;access plus 0 seconds&amp;lt;/param-value&amp;gt;\r\n\t&amp;lt;/init-param&amp;gt;\r\n&amp;lt;/filter&amp;gt;\r\n\r\n&amp;lt;filter-mapping&amp;gt;\r\n\t&amp;lt;filter-name&amp;gt;ExpiresFilter&amp;lt;/filter-name&amp;gt;\r\n\t&amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;\r\n\t&amp;lt;dispatcher&amp;gt;REQUEST&amp;lt;/dispatcher&amp;gt;\r\n&amp;lt;/filter-mapping&amp;gt;\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n  [1]: http://httpd.apache.org/docs/2.2/mod/mod_expires.html","title":"Tomcat: Cache-Control","body":"\n<p>Since Tomcat 7 there is a container provided expires filter that may help. See:</p>\n<ul>\n<li>Tomcat 10: <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 9: <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 8: <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 7: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter</a></li>\n<li>Tomcat 6 (unofficial backport): <a href=\"https://github.com/bnegrao/ExpiresFilter\" rel=\"nofollow noreferrer\">https://github.com/bnegrao/ExpiresFilter</a></li>\n</ul>\n<blockquote>\n<p>ExpiresFilter is a Java Servlet API port of <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_expires.html\" rel=\"nofollow noreferrer\">Apache mod_expires</a>. This filter controls the setting of the <code>Expires</code> HTTP header and the <code>max-age</code> directive of the <code>Cache-Control</code> HTTP header in server responses. The expiration date can set to be relative to either the time the source file was last modified, or to the time of the client access.</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.ExpiresFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType image&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 days&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType text/css&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 hours&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresByType application/javascript&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 10 minutes&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;!-- Let everything else expire immediately --&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;ExpiresDefault&lt;/param-name&gt;\n        &lt;param-value&gt;access plus 0 seconds&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687787191,"creation_date":1687787191,"answer_id":76557289,"question_id":2876250,"body_markdown":"Almost all answers I researched are from server side, actually client side needs to be worked on as well. In jsp/html need to add below in header.\r\n\r\n    &lt;META http-equiv=&quot;Expires&quot; CONTENT=&quot;0&quot;&gt;  \r\n    &lt;META http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-cache&quot;&gt;  \r\n    &lt;META http-equiv=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt;  ","title":"Tomcat: Cache-Control","body":"<p>Almost all answers I researched are from server side, actually client side needs to be worked on as well. In jsp/html need to add below in header.</p>\n<pre><code>&lt;META http-equiv=&quot;Expires&quot; CONTENT=&quot;0&quot;&gt;  \n&lt;META http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-cache&quot;&gt;  \n&lt;META http-equiv=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt;  \n</code></pre>\n"}],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108728,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":4997498,"answer_count":7,"score":50,"last_activity_date":1687787191,"creation_date":1274376398,"question_id":2876250,"body_markdown":"Jetty has a [CacheControl parameter][1] (can be specified webdefault.xml) that determines the caching behavior of clients (by affecting headers sent to clients).\r\n\r\nDoes Tomcat has a similar option?\r\nIn short, I want to turn off caching of all pages delivered by a tomcat server and/or by a specific webapp?\r\n\r\n\r\n  [1]: http://christiansons.net/mike/blog/2009/09/jetty-browser-cache-control/\r\n\r\n\r\n\r\n**Update**\r\n\r\nPlease note that I am not referring to server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. I want to do it for all resources, including static resources (.css, .js, etc.)  at once.\r\n","title":"Tomcat: Cache-Control","body":"<p>Jetty has a <a href=\"http://christiansons.net/mike/blog/2009/09/jetty-browser-cache-control/\" rel=\"noreferrer\">CacheControl parameter</a> (can be specified webdefault.xml) that determines the caching behavior of clients (by affecting headers sent to clients).</p>\n\n<p>Does Tomcat has a similar option?\nIn short, I want to turn off caching of all pages delivered by a tomcat server and/or by a specific webapp?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Please note that I am not referring to server-side caching. I want the server to tell all clients (browsers) not to use their own cache and to always fetch the content from the server. I want to do it for all resources, including static resources (.css, .js, etc.)  at once.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1687632392,"post_id":76547530,"comment_id":134965098,"body_markdown":"&quot;it&#39;s only supporting Kotlin and not java presently&quot; -- Android Studio supports both Java and Kotlin.","body":"&quot;it&#39;s only supporting Kotlin and not java presently&quot; -- Android Studio supports both Java and Kotlin."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687632538,"post_id":76547530,"comment_id":134965111,"body_markdown":"Why are you trying to open a Kotlin generated class as Java? Sounds like an XY Problem.","body":"Why are you trying to open a Kotlin generated class as Java? Sounds like an XY Problem."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1687641849,"post_id":76547530,"comment_id":134966014,"body_markdown":"Try looking at [Converting a Kotlin File to Java](https://www.baeldung.com/kotlin/convert-to-java).","body":"Try looking at <a href=\"https://www.baeldung.com/kotlin/convert-to-java\" rel=\"nofollow noreferrer\">Converting a Kotlin File to Java</a>."},{"owner":{"account_id":27648043,"reputation":11,"user_id":21103521,"display_name":"Pranjali Srivastava"},"score":0,"creation_date":1687644870,"post_id":76547530,"comment_id":134966266,"body_markdown":"Due to the above issue, I can&#39;t find activity_main.xml or MainActivity.java                             Where to write their respective codes?","body":"Due to the above issue, I can&#39;t find activity_main.xml or MainActivity.java                             Where to write their respective codes?"},{"owner":{"account_id":11091407,"reputation":152,"user_id":8143136,"display_name":"Sidnio"},"score":0,"creation_date":1687688341,"post_id":76547530,"comment_id":134968977,"body_markdown":"Android Studio supports Java","body":"Android Studio supports Java"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1687693940,"post_id":76547530,"comment_id":134969515,"body_markdown":"It&#39;s hard to understand what do you mean. First, as others said, Java is supported by Android Studio. Second, if it wouldn&#39;t, then how would it make sense to convert from a supported language to an unsupported one? I guess you mean something much different.","body":"It&#39;s hard to understand what do you mean. First, as others said, Java is supported by Android Studio. Second, if it wouldn&#39;t, then how would it make sense to convert from a supported language to an unsupported one? I guess you mean something much different."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776536,"post_id":76547530,"comment_id":134979105,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27648043,"reputation":11,"user_id":21103521,"display_name":"Pranjali Srivastava"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687786999,"creation_date":1687632150,"question_id":76547530,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nHow to find activity main.Xml and Activity main.xml in android studio? Previously it was there but after the update I can&#39;t find it. A screenshot of Android studio is attached below.\r\n\r\nHow to convert a Kotlin source file to a Java source file?? Tools&gt;&gt;Kotlin&gt;&gt;Kotlin bytecode is not accessible as of now.\r\n\r\nI wanted to write code in java in android studio\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ndZb.png","title":"How to convert a Kotlin source file to a Java source file. (Kotlin Bytecode from tools is hidden) any other way will be quite helpful","body":"<p><a href=\"https://i.stack.imgur.com/1ndZb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ndZb.png\" alt=\"enter image description here\" /></a></p>\n<p>How to find activity main.Xml and Activity main.xml in android studio? Previously it was there but after the update I can't find it. A screenshot of Android studio is attached below.</p>\n<p>How to convert a Kotlin source file to a Java source file?? Tools&gt;&gt;Kotlin&gt;&gt;Kotlin bytecode is not accessible as of now.</p>\n<p>I wanted to write code in java in android studio</p>\n"},{"tags":["java","encryption","vigenere"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1687786231,"post_id":76557117,"comment_id":134981176,"body_markdown":"Please provide a complete, minimal and verifiable example, so that we can reproduce your problem. As your example stands now, I have no idea what the input and expected output should be.","body":"Please provide a complete, minimal and verifiable example, so that we can reproduce your problem. As your example stands now, I have no idea what the input and expected output should be."}],"owner":{"account_id":26440042,"reputation":1,"user_id":20084724,"display_name":"Parcival"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687786555,"creation_date":1687785783,"question_id":76557117,"body_markdown":"I am programming an automatic Vigenere Cipher decoder using a frequency analysis. To be able to do that, I need the length of the key used. I am programming in Java.\r\n\r\nMy program works perfectly fine, but only with key lengths that are prime numbers.\r\nExample: The key has a length of 6. My program detects a key length of 3, as it is the smallest factor. \r\n\r\n\r\nMy input would look like this: [196, 231, 15, 67, 93, 26]. These are the distances between matching substrings in the ciphered text. These are only example numbers, not sure if they would work.\r\nThe output should be a single number, the key length associated to the numbers.\r\n\r\nThis is my code for determining the key length: \r\n\r\n```\r\npublic class LengthDeterminer {\r\n     public static int getLength(int[] matchDistances) {\r\n         if (matchDistances == null) return -1;\r\n         Map&lt;Integer, Integer&gt; factorsToOccurency = factorsToOccurency(matchDistances); // Collect factors with occurency count\r\n         if (VigenereDecipher.debugMode()) {\r\n             System.out.println(factorsToOccurency);\r\n         }\r\n         return Collections.max(factorsToOccurency.entrySet(), Map.Entry.comparingByValue()).getKey();\r\n\r\n    }\r\n\r\n    private static Map&lt;Integer, Integer&gt; factorsToOccurency (int[] matchDistances) {\r\n        Map&lt;Integer, Integer&gt; returnMap = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; matchDistances.length; i++) { \r\n\r\n            if (matchDistances[i] &lt;= 1) continue; // Negative distances would only double every number, maybe a problem of a other part of my program\r\n\r\n            int smallFactor = smallestFactor(matchDistances[i]);\r\n\r\n            if (returnMap.containsKey(smallFactor)) {\r\n                returnMap.put(smallFactor, returnMap.get(smallFactor) +1);\r\n            } else {\r\n                returnMap.put(smallFactor, 1);\r\n            }\r\n        }\r\n\r\n        return returnMap;\r\n\r\n    }\r\n\r\n    private static int smallestFactor(int x)\r\n    {\r\n        if(x &lt; 1)  return -1;\r\n        if(x == 1) return  1;\r\n\r\n        for(int i=3; i&lt;=x; i++)\r\n            if(x % i == 0)\r\n                return i;\r\n\r\n        return -1; // To stop compiler&#39;s complaints.\r\n    }\r\n}\r\n```\r\n\r\nThe getLength() class is the one being initially called. I input the distances between matching substrings in the ciphered text. When using non-prime keys it doesnt work, it just spits out the smallest prime factor of the key length. \r\n\r\nCan anybody help me?","title":"Finding the key length of a Vigenere cipher when it is even","body":"<p>I am programming an automatic Vigenere Cipher decoder using a frequency analysis. To be able to do that, I need the length of the key used. I am programming in Java.</p>\n<p>My program works perfectly fine, but only with key lengths that are prime numbers.\nExample: The key has a length of 6. My program detects a key length of 3, as it is the smallest factor.</p>\n<p>My input would look like this: [196, 231, 15, 67, 93, 26]. These are the distances between matching substrings in the ciphered text. These are only example numbers, not sure if they would work.\nThe output should be a single number, the key length associated to the numbers.</p>\n<p>This is my code for determining the key length:</p>\n<pre><code>public class LengthDeterminer {\n     public static int getLength(int[] matchDistances) {\n         if (matchDistances == null) return -1;\n         Map&lt;Integer, Integer&gt; factorsToOccurency = factorsToOccurency(matchDistances); // Collect factors with occurency count\n         if (VigenereDecipher.debugMode()) {\n             System.out.println(factorsToOccurency);\n         }\n         return Collections.max(factorsToOccurency.entrySet(), Map.Entry.comparingByValue()).getKey();\n\n    }\n\n    private static Map&lt;Integer, Integer&gt; factorsToOccurency (int[] matchDistances) {\n        Map&lt;Integer, Integer&gt; returnMap = new HashMap&lt;&gt;();\n\n        for (int i = 0; i &lt; matchDistances.length; i++) { \n\n            if (matchDistances[i] &lt;= 1) continue; // Negative distances would only double every number, maybe a problem of a other part of my program\n\n            int smallFactor = smallestFactor(matchDistances[i]);\n\n            if (returnMap.containsKey(smallFactor)) {\n                returnMap.put(smallFactor, returnMap.get(smallFactor) +1);\n            } else {\n                returnMap.put(smallFactor, 1);\n            }\n        }\n\n        return returnMap;\n\n    }\n\n    private static int smallestFactor(int x)\n    {\n        if(x &lt; 1)  return -1;\n        if(x == 1) return  1;\n\n        for(int i=3; i&lt;=x; i++)\n            if(x % i == 0)\n                return i;\n\n        return -1; // To stop compiler's complaints.\n    }\n}\n</code></pre>\n<p>The getLength() class is the one being initially called. I input the distances between matching substrings in the ciphered text. When using non-prime keys it doesnt work, it just spits out the smallest prime factor of the key length.</p>\n<p>Can anybody help me?</p>\n"},{"tags":["java","spring","spring-el"],"answers":[{"comments":[{"owner":{"account_id":107780,"reputation":5081,"user_id":286419,"accept_rate":79,"display_name":"Alex Florescu"},"score":0,"creation_date":1376588180,"post_id":18258299,"comment_id":26776258,"body_markdown":"Also see another approach presented here: \nhttp://stackoverflow.com/questions/7909475/how-to-do-arithmetic-in-spring-properties","body":"Also see another approach presented here:  <a href=\"http://stackoverflow.com/questions/7909475/how-to-do-arithmetic-in-spring-properties\" title=\"how to do arithmetic in spring properties\">stackoverflow.com/questions/7909475/&hellip;</a>"}],"tags":[],"owner":{"account_id":107780,"reputation":5081,"user_id":286419,"accept_rate":79,"display_name":"Alex Florescu"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1376588052,"creation_date":1376588052,"answer_id":18258299,"question_id":18258298,"body_markdown":"If you&#39;re using Spring 3.0 or later, you can use the property inside the SpEL expression like this: \r\n\t\t\r\n       &lt;property name=&quot;validationQueryTimeout&quot; value=&quot;#{${jdbc.timeout}/1000}&quot; /&gt;\r\n","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>If you're using Spring 3.0 or later, you can use the property inside the SpEL expression like this: </p>\n\n<pre><code>   &lt;property name=\"validationQueryTimeout\" value=\"#{${jdbc.timeout}/1000}\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687786417,"creation_date":1687786417,"answer_id":76557204,"question_id":18258298,"body_markdown":"If anyone is looking for similar arithmetic operation in `@Value`, can be done by `#{${someProperty} + 2}`. &lt;br&gt;\r\nIn this case `@Value(#{${jdbc.timeout} / 1000})`","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>If anyone is looking for similar arithmetic operation in <code>@Value</code>, can be done by <code>#{${someProperty} + 2}</code>. <br>\nIn this case <code>@Value(#{${jdbc.timeout} / 1000})</code></p>\n"}],"owner":{"account_id":107780,"reputation":5081,"user_id":286419,"accept_rate":79,"display_name":"Alex Florescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18258299,"answer_count":2,"score":3,"last_activity_date":1687786417,"creation_date":1376588052,"question_id":18258298,"body_markdown":"Example use-case: properties file passes in a numeric value in millis, and you want to use it in seconds. \r\n\r\nYour .properties file:\r\n\r\n&gt; jdbc.timeout= 2000\r\n\r\nYour applicationContext.xml currently\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; \t\t\r\n       &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; \t\t\r\n       &lt;property name=&quot;url&quot;value=&quot;jdbc:mysql://myserver/mydb&quot; /&gt;\r\n       &lt;property name=&quot;username&quot; value=&quot;user&quot; /&gt; \t\t\r\n       &lt;property name=&quot;password&quot; value=&quot;changeme&quot; /&gt; \t\t\r\n       &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1;&quot;/&gt; \t\t\r\n       &lt;property name=&quot;validationQueryTimeout&quot; value=&quot;${jdbc.timeout}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou want the validationQueryTimeout value to be in seconds, how do you convert it? ","title":"How to do arithmetic in Spring properties, with values from a properties file?","body":"<p>Example use-case: properties file passes in a numeric value in millis, and you want to use it in seconds. </p>\n\n<p>Your .properties file:</p>\n\n<blockquote>\n  <p>jdbc.timeout= 2000</p>\n</blockquote>\n\n<p>Your applicationContext.xml currently</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;       \n   &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;        \n   &lt;property name=\"url\"value=\"jdbc:mysql://myserver/mydb\" /&gt;\n   &lt;property name=\"username\" value=\"user\" /&gt;        \n   &lt;property name=\"password\" value=\"changeme\" /&gt;        \n   &lt;property name=\"validationQuery\" value=\"SELECT 1;\"/&gt;         \n   &lt;property name=\"validationQueryTimeout\" value=\"${jdbc.timeout}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You want the validationQueryTimeout value to be in seconds, how do you convert it? </p>\n"},{"tags":["java","spring","http","log4j2"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687787179,"post_id":76557182,"comment_id":134981399,"body_markdown":"Ehrm, you are just sending them out? I assume something is actually listening on that URL else it would be pretty useless.","body":"Ehrm, you are just sending them out? I assume something is actually listening on that URL else it would be pretty useless."}],"owner":{"account_id":22843757,"reputation":29,"user_id":16990363,"display_name":"kev0"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687786249,"creation_date":1687786249,"question_id":76557182,"body_markdown":"In my `log4j2.xml`, my HTTPAppender is configured to send out the logs to a url on my localhost. I would just like to read the logs whenever my HTTPAppender sends them out. How can I achieve this?\r\n\r\nI can see through the console the HTTPAppender is working and logs are going out. Just not sure how to retrieve them after.\r\n\r\n`&lt;Http name=&quot;Http&quot; url=&quot;https://localhost:8080/myUrl/&quot;&gt;`\r\n\r\nThat is the url my log4j2.xml is sending the logs to. What is the easiest way for me to retrieve the logs? \r\n\r\nThanks","title":"How do I read the log4j2 logs my HTTPAppender is sending to the url?","body":"<p>In my <code>log4j2.xml</code>, my HTTPAppender is configured to send out the logs to a url on my localhost. I would just like to read the logs whenever my HTTPAppender sends them out. How can I achieve this?</p>\n<p>I can see through the console the HTTPAppender is working and logs are going out. Just not sure how to retrieve them after.</p>\n<p><code>&lt;Http name=&quot;Http&quot; url=&quot;https://localhost:8080/myUrl/&quot;&gt;</code></p>\n<p>That is the url my log4j2.xml is sending the logs to. What is the easiest way for me to retrieve the logs?</p>\n<p>Thanks</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687785517,"post_id":76557043,"comment_id":134981006,"body_markdown":"Well don&#39;t use `getResultList`, increase the  fetch size through a query hint. I also don&#39;t really get the use of a `Page` here as you always retrieve everything.","body":"Well don&#39;t use <code>getResultList</code>, increase the  fetch size through a query hint. I also don&#39;t really get the use of a <code>Page</code> here as you always retrieve everything."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1687785694,"post_id":76557043,"comment_id":134981037,"body_markdown":"Get a DBA to look at the execution of the query and see whether any indexes should be added.","body":"Get a DBA to look at the execution of the query and see whether any indexes should be added."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687786200,"post_id":76557043,"comment_id":134981170,"body_markdown":"@tgdavies I have added index to the entities. I got a bit faster, but not as fast as expected.","body":"@tgdavies I have added index to the entities. I got a bit faster, but not as fast as expected."},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687786292,"post_id":76557043,"comment_id":134981196,"body_markdown":"@M.Deinum I have changed the code to get a sublist of the List based on the pagination. Haven&#39;t added the change here. Adding fetch size - since this is a report, I need to get all values for the filters provided. So, will adding fetch size help?","body":"@M.Deinum I have changed the code to get a sublist of the List based on the pagination. Haven&#39;t added the change here. Adding fetch size - since this is a report, I need to get all values for the filters provided. So, will adding fetch size help?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687786842,"post_id":76557043,"comment_id":134981319,"body_markdown":"Fetch size reduces the number of round trips, thus network calls. The default is 10 (which is low) use something like 1000 or 500 to reduce the network roundtrips. Also if you get a sublist this is is even worse, you get everything and then ditch 80% because you don&#39;t need it.","body":"Fetch size reduces the number of round trips, thus network calls. The default is 10 (which is low) use something like 1000 or 500 to reduce the network roundtrips. Also if you get a sublist this is is even worse, you get everything and then ditch 80% because you don&#39;t need it."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1687787830,"post_id":76557043,"comment_id":134981552,"body_markdown":"It will be very difficult to answer your question, because (1) it is not a single query. Depending on which conditions get activated, the resulting queries, as well as their performance will differ wildly, (2) looking at the query alone is not enough, we would need to see what indices exist on the tables, a ballpark figure of the number of records in each table etc. a query plan would also help","body":"It will be very difficult to answer your question, because (1) it is not a single query. Depending on which conditions get activated, the resulting queries, as well as their performance will differ wildly, (2) looking at the query alone is not enough, we would need to see what indices exist on the tables, a ballpark figure of the number of records in each table etc. a query plan would also help"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":1,"creation_date":1687787886,"post_id":76557043,"comment_id":134981564,"body_markdown":"Also, have you tried executing the query against the DB directly? JPA likely isn&#39;t the issue","body":"Also, have you tried executing the query against the DB directly? JPA likely isn&#39;t the issue"},{"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"score":0,"creation_date":1687834531,"post_id":76557043,"comment_id":134988497,"body_markdown":"Yes @crizzis, it takes around 1-2 minutes.","body":"Yes @crizzis, it takes around 1-2 minutes."}],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687786094,"creation_date":1687785300,"question_id":76557043,"body_markdown":"I have a requirement to generate a report from db, to get the transactions done by each supplier for a particular buyer. Below is the code to get the details:\r\n \r\n\r\n \r\n\r\n        public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\r\n            StringBuilder stringBuilder = new StringBuilder(); public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\r\n            StringBuilder stringBuilder = new StringBuilder();\r\n    stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\r\n                &quot;FROM purchase_order\\n&quot; +\r\n                &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\r\n                &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\r\n                stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\r\n            }\r\n            stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\r\n                &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\r\n            stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\r\n            {\r\n                stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN &#39;&quot;+businessReportRequestDTO.getFromDate()+&quot;&#39; AND  &#39;&quot;+businessReportRequestDTO.getToDate()+&quot;&#39;&quot;);\r\n            }\r\n            stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\r\n            stringBuilder.append(&quot; and purchase_order.purchase_order_status = &#39;PROCESSED&#39; &quot;);\r\n            stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\r\n            if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\r\n                String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\r\n            }\r\n            if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\r\n                String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\r\n                String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\r\n            }\r\n            if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\r\n                String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\r\n                    .collect(Collectors.joining(&quot;,&quot;));\r\n                stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\r\n            }\r\n            stringBuilder.append(&quot;   group by items.supplier_id&quot;);\r\n            Query resultQuery = em.createNativeQuery(stringBuilder.toString());\r\n            List&lt;Object[]&gt; result = resultQuery.getResultList();\r\n            //Query countQuery = em.createNativeQuery(stringBuilder.toString());\r\n            int count= result.size();\r\n            log.info(&quot; SIZE &quot;+count);\r\n            List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = setTopSupplierItemsDTO(result);\r\n            return new PageImpl&lt;&gt;(topSupplierItemsDTOList, pageable, count);\r\n    }\r\n\r\nThe issue is this query takes around 1-2 minutes to execute, which makes it slower. The responsse time is between 1.7 - 1.9 minutes for 6 months range. Is there a way to make it quicker? I heard that using spring data will reduce the speed, but I don&#39;t know how to implement it when there is if condition in the query implementation. \r\nThanks in advance.","title":"How to increase query speed with multiple joins and if conditions","body":"<p>I have a requirement to generate a report from db, to get the transactions done by each supplier for a particular buyer. Below is the code to get the details:</p>\n<pre><code>    public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\n        StringBuilder stringBuilder = new StringBuilder(); public Page&lt;TopSupplierItemsDTO&gt; getTopSuppliers(BusinessReportRequestDTO businessReportRequestDTO, Long buyerId, Pageable pageable) {\n        StringBuilder stringBuilder = new StringBuilder();\nstringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = this.setTopSupplierItemsDTO(result); stringBuilder.append(&quot;SELECT sum(amount),supplier.company_name &quot;+\n            &quot;FROM purchase_order\\n&quot; +\n            &quot;LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id &quot; +\n            &quot;LEFT JOIN items ON items.id=process_order.items_id &quot;) ;\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN item_group ON items.item_group_id=item_group.id  &quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()) {\n            stringBuilder.append(&quot;LEFT JOIN main_item_group ON item_group.main_item_group_id=main_item_group.id  &quot;);\n        }\n        stringBuilder.append(&quot;LEFT JOIN supplier ON items.supplier_id=supplier.id  &quot; +\n            &quot;LEFT JOIN buyer_business ON process_order.buyer_business_id = buyer_business.id   &quot;);\n        stringBuilder.append(&quot;LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id &quot;);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null)\n        {\n            stringBuilder.append(&quot; WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date BETWEEN '&quot;+businessReportRequestDTO.getFromDate()+&quot;' AND  '&quot;+businessReportRequestDTO.getToDate()+&quot;'&quot;);\n        }\n        stringBuilder.append(&quot; and buyer_business.buyer_id =  &quot;+&quot; &quot;+buyerId+&quot; &quot;);\n        stringBuilder.append(&quot; and purchase_order.purchase_order_status = 'PROCESSED' &quot;);\n        stringBuilder.append(&quot; and business_supplier_mapping.deleted is false &quot;);\n        if(businessReportRequestDTO.getItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getItemGroupIdList().isEmpty()){\n            String itemGroupIds = businessReportRequestDTO.getItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.item_group_id in ( &quot;+itemGroupIds+&quot; )&quot;);\n        }\n        if(businessReportRequestDTO.getMainItemGroupIdList()!=null &amp;&amp; !businessReportRequestDTO.getMainItemGroupIdList().isEmpty()){\n            String mainItemGroupIds = businessReportRequestDTO.getMainItemGroupIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and item_group.main_item_group_id in ( &quot;+mainItemGroupIds+&quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getSupplierIdList()!=null &amp;&amp; !businessReportRequestDTO.getSupplierIdList().isEmpty()) {\n            String supplierIds = businessReportRequestDTO.getSupplierIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and items.supplier_id in ( &quot; + supplierIds + &quot; )&quot;);\n        }\n        if (businessReportRequestDTO.getBuyerBusinessIdList()!=null &amp;&amp; !businessReportRequestDTO.getBuyerBusinessIdList().isEmpty()) {\n            String businessIds = businessReportRequestDTO.getBuyerBusinessIdList().stream().map(Object::toString)\n                .collect(Collectors.joining(&quot;,&quot;));\n            stringBuilder.append(&quot; and buyer_business.id in ( &quot; + businessIds + &quot; ) &quot;);\n        }\n        stringBuilder.append(&quot;   group by items.supplier_id&quot;);\n        Query resultQuery = em.createNativeQuery(stringBuilder.toString());\n        List&lt;Object[]&gt; result = resultQuery.getResultList();\n        //Query countQuery = em.createNativeQuery(stringBuilder.toString());\n        int count= result.size();\n        log.info(&quot; SIZE &quot;+count);\n        List&lt;TopSupplierItemsDTO&gt; topSupplierItemsDTOList = setTopSupplierItemsDTO(result);\n        return new PageImpl&lt;&gt;(topSupplierItemsDTOList, pageable, count);\n}\n</code></pre>\n<p>The issue is this query takes around 1-2 minutes to execute, which makes it slower. The responsse time is between 1.7 - 1.9 minutes for 6 months range. Is there a way to make it quicker? I heard that using spring data will reduce the speed, but I don't know how to implement it when there is if condition in the query implementation.\nThanks in advance.</p>\n"},{"tags":["java","string","java-stream","collectors"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664098264,"post_id":73843343,"comment_id":130389598,"body_markdown":"Are you required to implement your own Collector?  I doubt it’s the easiest way to solve this.","body":"Are you required to implement your own Collector?  I doubt it’s the easiest way to solve this."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664119684,"post_id":73843343,"comment_id":130393569,"body_markdown":"@Abra Your edit changed the numbers from left-justified to (sort of) right-justified.  Are you sure that didn’t change the meaning of the task?","body":"@Abra Your edit changed the numbers from left-justified to (sort of) right-justified.  Are you sure that didn’t change the meaning of the task?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664179848,"post_id":73843343,"comment_id":130403607,"body_markdown":"“*I have been trying to write…*”—I don’t see an honest attempt here, just an empty method and a “write the code for me”.","body":"“<i>I have been trying to write…</i>”—I don’t see an honest attempt here, just an empty method and a “write the code for me”."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664102516,"creation_date":1664102516,"answer_id":73843854,"question_id":73843343,"body_markdown":"Most of the time, when I need to create a custom collector, I create a new class for it and give it methods `accumulate`, `combine` and `finish`, to match the operators in a collector. That class can do whatever is needed. For instance, where the `finish` is optional:\r\n```java\r\nCollector&lt;T, ?, R&gt; collector = Collector.of(\r\n        MyCollector::new,\r\n        MyCollector::accumulate,\r\n        MyCollector::combine,\r\n        MyCollector::finish);\r\n```\r\n\r\nIn your case you will have to stream twice though, as the collector needs to have seen the length of each student name before it can output anything. The collector would store its `CourseResult` instances, as well as the maximum length(s). It would then stream again, and use `String.format` to do all the hard work in adding padding (e.g. `&quot;%&quot; + maxNameLength + &quot;s | %10s | ...&quot;`).\r\n\r\nThe `finish` method would look like this (simplified):\r\n```java\r\npublic String finish() {\r\n    String header = &quot;...\\n&quot;; // use same padding\r\n    String pattern = &quot;...&quot;;\r\n    return results.stream()\r\n            .map(result -&gt; String.format(pattern, result.getPerson().getName(), ...)\r\n            .collect(Collectors.joining(&quot;\\n&quot;, header, &quot;&quot;));\r\n}\r\n```\r\nI wouldn&#39;t use the exact same pattern for the header, because the rows contain numbers where the header does not.","title":"How to return a Collector in Java, that forms a special printable sting?","body":"<p>Most of the time, when I need to create a custom collector, I create a new class for it and give it methods <code>accumulate</code>, <code>combine</code> and <code>finish</code>, to match the operators in a collector. That class can do whatever is needed. For instance, where the <code>finish</code> is optional:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collector&lt;T, ?, R&gt; collector = Collector.of(\n        MyCollector::new,\n        MyCollector::accumulate,\n        MyCollector::combine,\n        MyCollector::finish);\n</code></pre>\n<p>In your case you will have to stream twice though, as the collector needs to have seen the length of each student name before it can output anything. The collector would store its <code>CourseResult</code> instances, as well as the maximum length(s). It would then stream again, and use <code>String.format</code> to do all the hard work in adding padding (e.g. <code>&quot;%&quot; + maxNameLength + &quot;s | %10s | ...&quot;</code>).</p>\n<p>The <code>finish</code> method would look like this (simplified):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String finish() {\n    String header = &quot;...\\n&quot;; // use same padding\n    String pattern = &quot;...&quot;;\n    return results.stream()\n            .map(result -&gt; String.format(pattern, result.getPerson().getName(), ...)\n            .collect(Collectors.joining(&quot;\\n&quot;, header, &quot;&quot;));\n}\n</code></pre>\n<p>I wouldn't use the exact same pattern for the header, because the rows contain numbers where the header does not.</p>\n"}],"owner":{"account_id":26436503,"reputation":17,"user_id":20081790,"display_name":"Khabju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1687785884,"creation_date":1664097433,"question_id":73843343,"body_markdown":"I have been trying to write a method called `printableStringCollector`, which basically returns a collector that forms a special printable String as described below - \r\n\r\nPrintable String spec\r\n\r\nIt is a multi-line String containing a formatted table of all results and total values and marks.\r\nThe format of your table should meet the following requirements:\r\n\r\n* Headers are required.\r\n* Column width depends on values lengths.\r\n* Rows are sorted by students&#39; last names.\r\n* Columns are sorted by the names of tasks.\r\n* Double values are displayed with 2 digits after the decimal point.\r\n* Values of the column &quot;Mark&quot; are defined by the average total score.\r\n\r\n\r\nExample:\r\n```none\r\nStudent........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\r\nEco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\r\nLodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\r\nPaige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\r\nAverage........|45.33.....|89.67.........|52.00.....|37.00...|56.00 |F....|\r\n```\r\n* wrote the dots for better visual representation\r\n\r\nCan anyone help me implement this method?\r\n\r\n    public Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\r\n\r\n    }\r\n\r\n`CourseResult` class:\r\n\r\n    public class CourseResult {\r\n        private final Person person;\r\n        private final Map&lt;String, Integer&gt; taskResults;\r\n\r\n        public CourseResult(final Person person, final Map&lt;String, Integer&gt; taskResults) {\r\n            this.person = person;\r\n            this.taskResults = taskResults;\r\n        }\r\n\r\n        public Person getPerson() {\r\n            return person;\r\n        }\r\n\r\n        public Map&lt;String, Integer&gt; getTaskResults() {\r\n            return taskResults;\r\n        }\r\n    }\r\n\r\n`Person` class:\r\n\r\n    public class Person {\r\n        private final String firstName;\r\n        private final String lastName;\r\n        private final int age;\r\n\r\n        public Person(String firstName, String lastName, int age) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.age = age;\r\n        }\r\n\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            final Person person = (Person) o;\r\n            return age == person.age &amp;&amp;\r\n                          Objects.equals(firstName, person.firstName) &amp;&amp;\r\n                          Objects.equals(lastName, person.lastName);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(firstName, lastName, age);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\r\n                    .add(&quot;firstName=&#39;&quot; + firstName + &quot;&#39;&quot;)\r\n                    .add(&quot;lastName=&#39;&quot; + lastName + &quot;&#39;&quot;)\r\n                    .add(&quot;age=&quot; + age)\r\n                    .toString();\r\n        }\r\n    }\r\n","title":"How to return a Collector in Java, that forms a special printable sting?","body":"<p>I have been trying to write a method called <code>printableStringCollector</code>, which basically returns a collector that forms a special printable String as described below -</p>\n<p>Printable String spec</p>\n<p>It is a multi-line String containing a formatted table of all results and total values and marks.\nThe format of your table should meet the following requirements:</p>\n<ul>\n<li>Headers are required.</li>\n<li>Column width depends on values lengths.</li>\n<li>Rows are sorted by students' last names.</li>\n<li>Columns are sorted by the names of tasks.</li>\n<li>Double values are displayed with 2 digits after the decimal point.</li>\n<li>Values of the column &quot;Mark&quot; are defined by the average total score.</li>\n</ul>\n<p>Example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Student........|Phalaxing |Shieldwalling |Tercioing |Wedging |Total |Mark |\nEco Betty......|0 ........|83............|89........|59......|57.75 |F ...|\nLodbrok Johnny |61 .......|92............|67........|0.......|55.00 |F....|\nPaige Umberto..|75....... |94............|0.........|52......|55.25 |F....|\nAverage........|45.33.....|89.67.........|52.00.....|37.00...|56.00 |F....|\n</code></pre>\n<ul>\n<li>wrote the dots for better visual representation</li>\n</ul>\n<p>Can anyone help me implement this method?</p>\n<pre><code>public Collector&lt;CourseResult, ?, String&gt; printableStringCollector() {\n\n}\n</code></pre>\n<p><code>CourseResult</code> class:</p>\n<pre><code>public class CourseResult {\n    private final Person person;\n    private final Map&lt;String, Integer&gt; taskResults;\n\n    public CourseResult(final Person person, final Map&lt;String, Integer&gt; taskResults) {\n        this.person = person;\n        this.taskResults = taskResults;\n    }\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public Map&lt;String, Integer&gt; getTaskResults() {\n        return taskResults;\n    }\n}\n</code></pre>\n<p><code>Person</code> class:</p>\n<pre><code>public class Person {\n    private final String firstName;\n    private final String lastName;\n    private final int age;\n\n    public Person(String firstName, String lastName, int age) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        final Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                      Objects.equals(firstName, person.firstName) &amp;&amp;\n                      Objects.equals(lastName, person.lastName);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(firstName, lastName, age);\n    }\n\n    @Override\n    public String toString() {\n        return new StringJoiner(&quot;, &quot;, Person.class.getSimpleName() + &quot;[&quot;, &quot;]&quot;)\n                .add(&quot;firstName='&quot; + firstName + &quot;'&quot;)\n                .add(&quot;lastName='&quot; + lastName + &quot;'&quot;)\n                .add(&quot;age=&quot; + age)\n                .toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","mocking","jms","message-queue","provider"],"comments":[{"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"score":1,"creation_date":1287507224,"post_id":3970567,"comment_id":4245936,"body_markdown":"Why go to all that trouble?  Why not just install a local JMS provider on your workstation and use it?  You can download open source ones and trial versions of vendor JMS providers.  Since it&#39;s JMS, any compliant implementation will work for unit testing.","body":"Why go to all that trouble?  Why not just install a local JMS provider on your workstation and use it?  You can download open source ones and trial versions of vendor JMS providers.  Since it&#39;s JMS, any compliant implementation will work for unit testing."},{"owner":{"account_id":57024,"reputation":13340,"user_id":170830,"accept_rate":90,"display_name":"sergionni"},"score":0,"creation_date":1287507458,"post_id":3970567,"comment_id":4245975,"body_markdown":"That is i ask, so i need install JMS provider. What could you advise me? thank you","body":"That is i ask, so i need install JMS provider. What could you advise me? thank you"},{"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"score":0,"creation_date":1287531901,"post_id":3970567,"comment_id":4249965,"body_markdown":"Well, I&#39;m an IBMer so I have to suggest the trial of WMQ.  :-)  But I see you&#39;ve already found ActiveMQ which you can use for development without it expiring.  On the other hand, whatever you use in production would be best to develop on so move to that once you know what it will be.","body":"Well, I&#39;m an IBMer so I have to suggest the trial of WMQ.  :-)  But I see you&#39;ve already found ActiveMQ which you can use for development without it expiring.  On the other hand, whatever you use in production would be best to develop on so move to that once you know what it will be."},{"owner":{"account_id":9173604,"reputation":243,"user_id":6820091,"display_name":"Yallaling Goudar"},"score":2,"creation_date":1480589376,"post_id":3970567,"comment_id":69029948,"body_markdown":"Easy way to mock a JMS Queue. Refer below website https://dzone.com/articles/mockrunner-jms-spring-unit","body":"Easy way to mock a JMS Queue. Refer below website <a href=\"https://dzone.com/articles/mockrunner-jms-spring-unit\" rel=\"nofollow noreferrer\">dzone.com/articles/mockrunner-jms-spring-unit</a>"}],"answers":[{"comments":[{"owner":{"account_id":166831,"reputation":3471,"user_id":391231,"display_name":"Andres Kievsky"},"score":45,"creation_date":1348711788,"post_id":3970715,"comment_id":17003809,"body_markdown":"I completely disagree. Mocking an external system is critical for unit tests, especially if you rely on an external interface and don&#39;t want to turn your unit tests into integration tests.","body":"I completely disagree. Mocking an external system is critical for unit tests, especially if you rely on an external interface and don&#39;t want to turn your unit tests into integration tests."},{"owner":{"account_id":24289,"reputation":2187,"user_id":61673,"accept_rate":86,"display_name":"Ickster"},"score":1,"creation_date":1432315091,"post_id":3970715,"comment_id":48892475,"body_markdown":"@ank - It *is* a bad practice to mock an external system. The solution is to create an interface to that system within your own application (the bean that Eugene Kuleshov is referring to) which handles communication to the outside system, and then in test, you mock *that*. Trying to mock the whole external system is expensive and messy.","body":"@ank - It <i>is</i> a bad practice to mock an external system. The solution is to create an interface to that system within your own application (the bean that Eugene Kuleshov is referring to) which handles communication to the outside system, and then in test, you mock <i>that</i>. Trying to mock the whole external system is expensive and messy."},{"owner":{"account_id":46575,"reputation":2511,"user_id":137641,"accept_rate":86,"display_name":"davemyron"},"score":2,"creation_date":1457729743,"post_id":3970715,"comment_id":59555759,"body_markdown":"@Ickster that&#39;s the definition of a mock… (I know this is rather old, but) can you provide an example to the distinction you believe you&#39;re making?","body":"@Ickster that&#39;s the definition of a mock… (I know this is rather old, but) can you provide an example to the distinction you believe you&#39;re making?"},{"owner":{"account_id":24289,"reputation":2187,"user_id":61673,"accept_rate":86,"display_name":"Ickster"},"score":0,"creation_date":1457730257,"post_id":3970715,"comment_id":59556022,"body_markdown":"@davemyron -- Good question. I know I was working on something at the time that I wrote that that&#39;s a perfect example of what I was trying to get at, but darned if I can remember exactly what it was. If I think of it, I&#39;ll let you know.","body":"@davemyron -- Good question. I know I was working on something at the time that I wrote that that&#39;s a perfect example of what I was trying to get at, but darned if I can remember exactly what it was. If I think of it, I&#39;ll let you know."},{"owner":{"account_id":81793,"reputation":1032,"user_id":230452,"display_name":"Mykel Alvis"},"score":0,"creation_date":1464385810,"post_id":3970715,"comment_id":62481763,"body_markdown":"JMS is, almost in it&#39;s entirely, an interface.  So mocking it, while non-trivial, is certainly within the realm of acceptable-but-painful practices. If you&#39;re using something specific from an implementation, which it seems many people do, then better advice might be &quot;stop doing that&quot;.","body":"JMS is, almost in it&#39;s entirely, an interface.  So mocking it, while non-trivial, is certainly within the realm of acceptable-but-painful practices. If you&#39;re using something specific from an implementation, which it seems many people do, then better advice might be &quot;stop doing that&quot;."},{"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"score":3,"creation_date":1512740411,"post_id":3970715,"comment_id":82391136,"body_markdown":"Recently tools like http://wiremock.org, https://hoverfly.io/ and http://www.mbtest.org/ are becoming increasingly popular for creating out-of-process (over-the-wire) mocks for HTTP APIs. The same principle of out-of-process mocking can be applied to JMS APIs as well with API simulation tools that support JMS https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools I have mentioned HTTP here because it is more popular than JMS and its easier to see the market trends there.","body":"Recently tools like <a href=\"http://wiremock.org\" rel=\"nofollow noreferrer\">wiremock.org</a>, <a href=\"https://hoverfly.io/\" rel=\"nofollow noreferrer\">hoverfly.io</a> and <a href=\"http://www.mbtest.org/\" rel=\"nofollow noreferrer\">mbtest.org</a> are becoming increasingly popular for creating out-of-process (over-the-wire) mocks for HTTP APIs. The same principle of out-of-process mocking can be applied to JMS APIs as well with API simulation tools that support JMS <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Comparison_of_API_simulation_tools</a> I have mentioned HTTP here because it is more popular than JMS and its easier to see the market trends there."}],"tags":[],"owner":{"account_id":78522,"reputation":31537,"user_id":223429,"display_name":"Eugene Kuleshov"},"comment_count":6,"down_vote_count":11,"up_vote_count":10,"is_accepted":false,"score":-1,"last_activity_date":1287507193,"creation_date":1287507193,"answer_id":3970715,"question_id":3970567,"body_markdown":"Generally it is a bad practice to mock or simulate an external system, such as JMS. A better idea would be to abstract your logic into a standalone bean, implement a delegation layer that would bridge JMS with your bean. With such design you can test your bean in isolation from JMS and then have system test that would test the whole integration with real JMS system.\r\n\r\nAs for in-process JMS you can look at [SomnifugiJMS][1].\r\n\r\n\r\n  [1]: https://somnifugijms.dev.java.net/","title":"Mock or simulate Message Queue (JMS)","body":"<p>Generally it is a bad practice to mock or simulate an external system, such as JMS. A better idea would be to abstract your logic into a standalone bean, implement a delegation layer that would bridge JMS with your bean. With such design you can test your bean in isolation from JMS and then have system test that would test the whole integration with real JMS system.</p>\n\n<p>As for in-process JMS you can look at <a href=\"https://somnifugijms.dev.java.net/\" rel=\"nofollow\">SomnifugiJMS</a>.</p>\n"},{"tags":[],"owner":{"account_id":177464,"reputation":3638,"user_id":408815,"display_name":"jcalvert"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1287511477,"creation_date":1287511477,"answer_id":3971269,"question_id":3970567,"body_markdown":"If you use [Spring Integration][1], you can do this pretty easily. It has a very basic, abstract &quot;Channel&quot; implementation. You can create and test your producers and consumers, and when you&#39;re ready to move a step further, you just specify a JMS adapter on top of your Channel. \r\n\r\n  [1]: http://www.springsource.org/spring-integration","title":"Mock or simulate Message Queue (JMS)","body":"<p>If you use <a href=\"http://www.springsource.org/spring-integration\" rel=\"noreferrer\">Spring Integration</a>, you can do this pretty easily. It has a very basic, abstract \"Channel\" implementation. You can create and test your producers and consumers, and when you're ready to move a step further, you just specify a JMS adapter on top of your Channel. </p>\n"},{"comments":[{"owner":{"account_id":57024,"reputation":13340,"user_id":170830,"accept_rate":90,"display_name":"sergionni"},"score":0,"creation_date":1287518621,"post_id":3971715,"comment_id":4248098,"body_markdown":"I&#39;ve just found Apache ActiveMQ. Trying this for first.","body":"I&#39;ve just found Apache ActiveMQ. Trying this for first."},{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1653368380,"post_id":3971715,"comment_id":127828401,"body_markdown":"I agree with Eugene Kuleshov also. I think Dan North (founder of BDD probably agrees with him too) and probably anyone else with any design nous also agrees I imagine. If you&#39;ve tangled up your business logic in your application up with the entry point for a JMS queue, then you&#39;ve made a design mistake in your application. The better option is to fix the design mistake (if you can). However, sometimes that is not possible. You may be working with a large legacy code base responsible for a mission critical system that can&#39;t easily be fixed without change risk. Eugene Kuleshov is still right.","body":"I agree with Eugene Kuleshov also. I think Dan North (founder of BDD probably agrees with him too) and probably anyone else with any design nous also agrees I imagine. If you&#39;ve tangled up your business logic in your application up with the entry point for a JMS queue, then you&#39;ve made a design mistake in your application. The better option is to fix the design mistake (if you can). However, sometimes that is not possible. You may be working with a large legacy code base responsible for a mission critical system that can&#39;t easily be fixed without change risk. Eugene Kuleshov is still right."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":2,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1287514839,"creation_date":1287514839,"answer_id":3971715,"question_id":3970567,"body_markdown":"Generally I agree with Eugene Kuleshov. But if you still need such mocking I&#39;d suggest you to use BlckingQueue from java.util.concurent package. I think it is not a big problem to wrap it with javax.jms.Queue interface. BTW it is a good idea for some kind of open-source project.","title":"Mock or simulate Message Queue (JMS)","body":"<p>Generally I agree with Eugene Kuleshov. But if you still need such mocking I'd suggest you to use BlckingQueue from java.util.concurent package. I think it is not a big problem to wrap it with javax.jms.Queue interface. BTW it is a good idea for some kind of open-source project.</p>\n"},{"tags":[],"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1578023152,"creation_date":1512738405,"answer_id":47715031,"question_id":3970567,"body_markdown":"To test an application in isolation when the real production JMS provider is not available you can use one of: \r\n\r\n 1. **JMS mock:**  \r\nWhen testing your applications you can simulate the non-existing dependencies using [test doubles][1]. You can use a JMS mock which will simulate the behaviour of a real JMS provider. [API simulation tools][2] will allow you to create JMS mocks (just choose a tool that supports JMS, for example [Traffic Parrot][3]). Using a JMS mock will allow you for a high level of flexibility during testing. You will be able to test typical production-like test scenarios but also hypothetical situations by setting up your mock to return almost any type of message. You will also be able to simulate different types of errors, which is often hard to do with real JMS providers. Have a look at [this introduction video to JMS service virtualization for ActiveMq][4] (service virtualization is a different name for a mock) or [this one for IBM MQ][5]. Note, these videos are from Traffic Parrot, but the principle described there will apply to any tool you choose.\r\n\r\n 2. **JMS provider test instance:**  \r\nYou can run a JMS provider on your laptop or in one of your test environments and connect your application to it instead of the production provider. When you use open source providers in production like ActiveMQ or RabbitMQ, it should be easy to run one of them on your laptop as well because they are lightweight and free. For IBM Websphere MQ, you can use the free [IBM MQ for Developers][6].\r\n\r\n 3. **JMS class mock:**  \r\nYou can use [Mockito][7] in unit tests to mock interactions with JMS classes. This solution comes with all the trade-offs of unit testing. For more information on those see [testing pyramid][8].\r\n\r\nIf you would like to black box test your application, use one of the solutions I have described above. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Test_double\r\n  [2]: https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\r\n  [3]: http://trafficparrot.com/\r\n  [4]: https://www.youtube.com/watch?v=ag8QxEmKsZs\r\n  [5]: https://www.youtube.com/watch?v=mWxSuVWnv1M\r\n  [6]: https://hub.docker.com/r/ibmcom/mq/\r\n  [7]: http://site.mockito.org/\r\n  [8]: https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html","title":"Mock or simulate Message Queue (JMS)","body":"<p>To test an application in isolation when the real production JMS provider is not available you can use one of: </p>\n\n<ol>\n<li><p><strong>JMS mock:</strong><br>\nWhen testing your applications you can simulate the non-existing dependencies using <a href=\"https://en.wikipedia.org/wiki/Test_double\" rel=\"noreferrer\">test doubles</a>. You can use a JMS mock which will simulate the behaviour of a real JMS provider. <a href=\"https://en.wikipedia.org/wiki/Comparison_of_API_simulation_tools\" rel=\"noreferrer\">API simulation tools</a> will allow you to create JMS mocks (just choose a tool that supports JMS, for example <a href=\"http://trafficparrot.com/\" rel=\"noreferrer\">Traffic Parrot</a>). Using a JMS mock will allow you for a high level of flexibility during testing. You will be able to test typical production-like test scenarios but also hypothetical situations by setting up your mock to return almost any type of message. You will also be able to simulate different types of errors, which is often hard to do with real JMS providers. Have a look at <a href=\"https://www.youtube.com/watch?v=ag8QxEmKsZs\" rel=\"noreferrer\">this introduction video to JMS service virtualization for ActiveMq</a> (service virtualization is a different name for a mock) or <a href=\"https://www.youtube.com/watch?v=mWxSuVWnv1M\" rel=\"noreferrer\">this one for IBM MQ</a>. Note, these videos are from Traffic Parrot, but the principle described there will apply to any tool you choose.</p></li>\n<li><p><strong>JMS provider test instance:</strong><br>\nYou can run a JMS provider on your laptop or in one of your test environments and connect your application to it instead of the production provider. When you use open source providers in production like ActiveMQ or RabbitMQ, it should be easy to run one of them on your laptop as well because they are lightweight and free. For IBM Websphere MQ, you can use the free <a href=\"https://hub.docker.com/r/ibmcom/mq/\" rel=\"noreferrer\">IBM MQ for Developers</a>.</p></li>\n<li><p><strong>JMS class mock:</strong><br>\nYou can use <a href=\"http://site.mockito.org/\" rel=\"noreferrer\">Mockito</a> in unit tests to mock interactions with JMS classes. This solution comes with all the trade-offs of unit testing. For more information on those see <a href=\"https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html\" rel=\"noreferrer\">testing pyramid</a>.</p></li>\n</ol>\n\n<p>If you would like to black box test your application, use one of the solutions I have described above. </p>\n"},{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687785435,"creation_date":1687785435,"answer_id":76557064,"question_id":3970567,"body_markdown":"In the meantime almost every Message Broker has an embedded version which runs within the JVM only. Thus you can use this for tests instead of a dependent external JMS Broker. ","title":"Mock or simulate Message Queue (JMS)","body":"<p>In the meantime almost every Message Broker has an embedded version which runs within the JVM only. Thus you can use this for tests instead of a dependent external JMS Broker.</p>\n"}],"owner":{"account_id":57024,"reputation":13340,"user_id":170830,"accept_rate":90,"display_name":"sergionni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59499,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":3971269,"answer_count":5,"score":28,"last_activity_date":1687785435,"creation_date":1287506064,"question_id":3970567,"body_markdown":"There is a message(text), which format and content i definitely know.&lt;br/&gt;\r\nFor now,class in Java,that parses and reads this message from file,is implemented.\r\n\r\nIn real world, this message will come from Message Queue.\r\n\r\nFor now I should simulate, mock or generate Message Queue on my local PC for testing purposes.\r\n\r\nJava spec([java jms][1]):\r\n\r\n    JMS provider: A messaging system that implements the JMS specification.\r\n    JMS clients: Java applications that send and receive messages.\r\n    Messages: Objects that are used to communicate information between JMS clients.\r\n\r\nConcerning this specification, i need ***JMS provider***.\r\n\r\n*JMS client*-it&#39;s my class that reads message.&lt;br/&gt;\r\n*Message* itself i know.\r\n\r\nSo the question is how to start message queue?&lt;br/&gt;\r\nHow can i simulate it programmaticaly from Java code? Can i mock it somehow?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Ecommerce/jms/index.html","title":"Mock or simulate Message Queue (JMS)","body":"<p>There is a message(text), which format and content i definitely know.<br/>\nFor now,class in Java,that parses and reads this message from file,is implemented.</p>\n\n<p>In real world, this message will come from Message Queue.</p>\n\n<p>For now I should simulate, mock or generate Message Queue on my local PC for testing purposes.</p>\n\n<p>Java spec(<a href=\"http://java.sun.com/developer/technicalArticles/Ecommerce/jms/index.html\" rel=\"noreferrer\">java jms</a>):</p>\n\n<pre><code>JMS provider: A messaging system that implements the JMS specification.\nJMS clients: Java applications that send and receive messages.\nMessages: Objects that are used to communicate information between JMS clients.\n</code></pre>\n\n<p>Concerning this specification, i need <strong><em>JMS provider</em></strong>.</p>\n\n<p><em>JMS client</em>-it's my class that reads message.<br/>\n<em>Message</em> itself i know.</p>\n\n<p>So the question is how to start message queue?<br/>\nHow can i simulate it programmaticaly from Java code? Can i mock it somehow?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-test","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":28877964,"reputation":581,"user_id":22118035,"display_name":"Dhruman Desai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687784864,"creation_date":1687784864,"answer_id":76556997,"question_id":76501020,"body_markdown":"Go to settings and choose the junit 4 OR junit 5 and set the test tyle **Brief**","title":"JUnit tests class not generated by diffblue intellij","body":"<p>Go to settings and choose the junit 4 OR junit 5 and set the test tyle <strong>Brief</strong></p>\n"}],"owner":{"account_id":8331264,"reputation":509,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687784864,"creation_date":1687098262,"question_id":76501020,"body_markdown":"I installed diffblue plugin in intelliJ IDE and have spring boot with java 11 project. Here I tried to generate test class/cases for one service class.\r\n\r\n        @Service\r\n        public class MyService {\r\n        \t@Autowired\r\n        \tOrderRepo orderRepo;\r\n        \t@Autowired\r\n        \tProductRepo productRepo;\r\n    \t\r\n    \t\r\n    \t@Transactional(rollbackFor = Exception.class)\r\n    \tpublic Order mapping() throws Exception {\r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderDate(new Date());\r\n    \t\torder.setTransaction(new Transaction(new Date(), 11.0, order));\r\n    \t\torder.setOrderItems(Arrays.asList(new OrderItem(order), new OrderItem(order), new OrderItem(order)));\r\n    \r\n    \t\tProduct p=productRepo.save(new Product(1, &quot;P1&quot;));\r\n    \t\tOrder o=orderRepo.save(order);\r\n    \t\tboolean b=checkOrder(o);\r\n    \t\treturn o;\r\n    \t}\r\n    }\r\n\r\nwhen trying to generate test case from diffblue icon its not generating. message as :\r\n\r\n    Tests written: 0\r\n    Cover was unable to write any tests for the reasons listed below.\r\n    Change what sort of tests Cover writes in **Change Settings**.\r\n    Methods without tests: 1\r\n    Diffblue AI was unable to find a test: 1\r\n\r\nlog:\r\n\r\n    --monitoring-service-port 54013 --debug-log\r\n    18:56:26.010 [INFO]  [Creating] Server started. Waiting up to 300 seconds for a connection to be established...\r\n    18:56:42.979 [INFO]  [Creating] Starting new remote monitor client\r\n    18:56:55.299 [INFO]  [Creating] Attempting to start remote server.\r\n    18:56:58.951 [INFO]  [Creating] Server started, listening on localhost/127.0.0.1:54028\r\n    18:57:00.046 [INFO]  [Creating] Expect analyzer service to be listening on port 54028.\r\n    18:57:06.357 [INFO]  [Creating] Started analyzer service and client retrieved.\r\n    18:58:04.361 [INFO]  [Creating] \r\n    ================================================================================\r\n    = Creating tests for &#39;com.spring.controller.MyController.batchProcessing:()V&#39; using &#39;SCo[SB] (sp, !fnm, df, !ris)&#39;\r\n    ================================================================================\r\n    19:03:08.041 [INFO]  [Creating] Service shutdown due to watchdog timeout\r\n    19:03:08.215 [INFO]  [Creating] \r\n    == begin thread dump ==\r\n    \r\n    27 threads\r\n    \r\n    Thread 1 &#39;main&#39;:\r\n      java.base@11.0.18/java.lang.Thread.dumpThreads(Native Method)\r\n      java.base@11.0.18/java.lang.Thread.getAllStackTraces(Thread.java:1657)\r\n      com.diffblue.cover.service.a.a.a.d(SourceFile:1164)\r\n      com.diffblue.cover.service.a.a.b.a(SourceFile:151)\r\n      com.diffblue.cover.service.analyzer.Main.main(SourceFile:46)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      com.diffblue.cover.launcher.Launcher.invokeMainMethod(Launcher.java:116)\r\n      com.diffblue.cover.launcher.Launcher.main(Launcher.java:72)\r\n    Thread 2728 &#39;ClassGraph-worker-15&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 26 &#39;grpc-default-executor-2&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2729 &#39;grpc-default-executor-3&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\r\n      java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2721 &#39;ClassGraph-worker-8&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2723 &#39;ClassGraph-worker-10&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 16 &#39;grpc-nio-worker-ELG-1-2&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2727 &#39;ClassGraph-worker-14&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 11 &#39;Common-Cleaner&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n      java.base@11.0.18/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:148)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n      java.base@11.0.18/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\r\n    Thread 2722 &#39;ClassGraph-worker-9&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 5 &#39;Attach Listener&#39;:\r\n    Thread 13 &#39;logback-1&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n      java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)\r\n      java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 12 &#39;Service log dispatcher&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket(WindowsSelectorImpl.java:504)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.wakeup(WindowsSelectorImpl.java:625)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.wakeup(SourceFile:73)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.wakeup(SourceFile:787)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:857)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SourceFile:827)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:817)\r\n      io.grpc.netty.shaded.io.grpc.netty.NettyClientStream$TransportState.runOnTransportThread(SourceFile:321)\r\n      io.grpc.internal.AbstractStream$TransportState.requestMessagesFromDeframer(SourceFile:245)\r\n      io.grpc.internal.AbstractStream$TransportState.access$000(SourceFile:111)\r\n      io.grpc.internal.AbstractStream.request(SourceFile:57)\r\n      io.grpc.internal.ForwardingClientStream.request(SourceFile:32)\r\n      io.grpc.internal.RetriableStream$1RequestEntry.runWith(SourceFile:574)\r\n      io.grpc.internal.RetriableStream.delayOrExecute(SourceFile:529)\r\n      io.grpc.internal.RetriableStream.request(SourceFile:578)\r\n      io.grpc.internal.ClientCallImpl.request(SourceFile:440)\r\n      io.grpc.stub.ClientCalls$UnaryStreamToFuture.onStart(SourceFile:550)\r\n      io.grpc.stub.ClientCalls.startCall(SourceFile:342)\r\n      io.grpc.stub.ClientCalls.asyncUnaryRequestCall(SourceFile:315)\r\n      io.grpc.stub.ClientCalls.futureUnaryCall(SourceFile:227)\r\n      com.diffblue.cover.service.a.b.a.a(SourceFile:1440)\r\n      com.diffblue.cover.logging.RemoteLogAppender$a.run(SourceFile:204)\r\n    Thread 17 &#39;grpc-default-executor-0&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.Thread.join(Thread.java:1305)\r\n      java.base@11.0.18/java.lang.Thread.join(Thread.java:1379)\r\n      com.diffblue.cover.sandbox.execution.WorkerThread.callWorkerThread(SourceFile:155)\r\n      com.diffblue.cover.sandbox.a.a.a(SourceFile:61)\r\n      com.diffblue.fuzztest.f.c.r(SourceFile:425)\r\n      com.diffblue.fuzztest.f.c$$Lambda$389/0x00000001005a1440.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.WrapExceptionsInBaseException.handleException(SourceFile:57)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.lambda$run$0(SourceFile:23)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException$$Lambda$264/0x0000000100499440.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.handleThrowable(SourceFile:34)\r\n      com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.run(SourceFile:23)\r\n      com.diffblue.fuzztest.f.c.d(SourceFile:424)\r\n      com.diffblue.fuzztest.f.t.d(SourceFile:136)\r\n      com.diffblue.cover.analysis.a.b$a$$Lambda$388/0x00000001005a1040.get(Unknown Source)\r\n      com.diffblue.cover.analysis.a.b$a.a(SourceFile:99)\r\n      com.diffblue.cover.analysis.a.b$a.tryAdvance(SourceFile:246)\r\n      com.diffblue.cover.service.analyzer.a.c$a.a(SourceFile:2037)\r\n      com.diffblue.cover.service.analyzer.a.a.i$h.invoke(SourceFile:638)\r\n      io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(SourceFile:182)\r\n      io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(SourceFile:355)\r\n      io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(SourceFile:867)\r\n      io.grpc.internal.ContextRunnable.run(SourceFile:37)\r\n      io.grpc.internal.SerializingExecutor.run(SourceFile:133)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n      java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 2731 &#39;TimedExecutor-9&#39;:\r\n      java.base@11.0.18/java.lang.StackTraceElement.initStackTraceElements(Native Method)\r\n      java.base@11.0.18/java.lang.StackTraceElement.of(StackTraceElement.java:526)\r\n      java.base@11.0.18/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\r\n      java.base@11.0.18/java.lang.Throwable.getStackTrace(Throwable.java:820)\r\n      org.mockito.internal.exceptions.stacktrace.StackTraceFilter.filterFirst(StackTraceFilter.java:109)\r\n      org.mockito.internal.debugging.LocationImpl.computeStackTraceInformation(LocationImpl.java:50)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:35)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:26)\r\n      org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:22)\r\n      org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\r\n      org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptAbstract(MockMethodInterceptor.java:161)\r\n      org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\r\n      org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\r\n      com.spring.service.MyService.batchProcessing(MyService.java:89)\r\n      com.spring.controller.MyController.batchProcessing(MyController.java:27)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n      org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n      org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n      org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n      org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n      org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n      org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n      org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n      org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n      javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\r\n      org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n      org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\r\n      javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n      org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\r\n      org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\r\n      org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\r\n      com.diffblue.tir.a.h.a(SourceFile:78)\r\n      com.diffblue.tir.a.a.e.a(SourceFile:741)\r\n      com.diffblue.tir.a.f.a(SourceFile:421)\r\n      com.diffblue.tir.a.f.b(SourceFile:80)\r\n      com.diffblue.tir.d.e.a(SourceFile:38)\r\n      com.diffblue.tir.a.g.a(SourceFile:221)\r\n      com.diffblue.tir.a.g.b(SourceFile:88)\r\n      com.diffblue.tir.a.g$$Lambda$1283/0x000000010094f040.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.SafeTimedExecutor$$Lambda$654/0x000000010063b040.call(Unknown Source)\r\n      com.diffblue.cover.sandbox.execution.TimedCallableExecutor$CallableFuture.executeTask(SourceFile:28)\r\n      com.diffblue.cover.sandbox.execution.TimedExecutor$TaskQueueRunner.run(SourceFile:78)\r\n      com.diffblue.cover.sandbox.execution.WorkerThread.run(SourceFile:216)\r\n    Thread 18 &#39;grpc-nio-boss-ELG-3-1&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 3 &#39;Finalizer&#39;:\r\n      java.base@11.0.18/java.lang.Object.wait(Native Method)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\r\n      java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\r\n      java.base@11.0.18/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:170)\r\n    Thread 2725 &#39;ClassGraph-worker-12&#39;:\r\n      java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\r\n      java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\r\n      java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\r\n\r\n      **removed due to limit**\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    Thread 4 &#39;Signal Dispatcher&#39;:\r\n    Thread 15 &#39;grpc-nio-worker-ELG-1-1&#39;:\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\r\n      java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n      java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:62)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:817)\r\n      io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\r\n      io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\r\n      io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\r\n      java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\r\n    == end thread dump ==\r\n    \r\n    19:03:10.150 [INFO]  [Creating] Exiting service.\r\n    19:03:18.401 [INFO]  [Creating]     [1/1] com.spring.controller.MyController.batchProcessing\r\n    19:03:18.401 [INFO]  [Creating]     [1/1]   Diffblue AI was unable to find a test\r\n    19:03:18.435 [INFO]  [Creating] [1/1] com.spring.controller.MyController\r\n    19:03:18.435 [INFO]  [Creating] [1/1]   Tests created: 0\r\n    19:03:19.179 [INFO]  [Reporting] \r\n    19:03:19.179 [INFO]  [Reporting] Summary:\r\n    19:03:19.179 [INFO]  [Reporting] --------\r\n    19:03:19.179 [INFO]  [Reporting] Total:                                               1 method\r\n    19:03:19.180 [INFO]  [Reporting] \r\n    19:03:19.180 [INFO]  [Reporting] No tests created for:                                1 method\r\n    19:03:28.675 [INFO]  [Reporting] License doesn&#39;t allow multiple classes\r\n    19:03:28.693 [INFO]  [Reporting] License doesn&#39;t allow creating report.json\r\n\r\n\r\nany special settings required? I am using all community edition.","title":"JUnit tests class not generated by diffblue intellij","body":"<p>I installed diffblue plugin in intelliJ IDE and have spring boot with java 11 project. Here I tried to generate test class/cases for one service class.</p>\n<pre><code>    @Service\n    public class MyService {\n        @Autowired\n        OrderRepo orderRepo;\n        @Autowired\n        ProductRepo productRepo;\n    \n    \n    @Transactional(rollbackFor = Exception.class)\n    public Order mapping() throws Exception {\n        Order order = new Order();\n        order.setOrderDate(new Date());\n        order.setTransaction(new Transaction(new Date(), 11.0, order));\n        order.setOrderItems(Arrays.asList(new OrderItem(order), new OrderItem(order), new OrderItem(order)));\n\n        Product p=productRepo.save(new Product(1, &quot;P1&quot;));\n        Order o=orderRepo.save(order);\n        boolean b=checkOrder(o);\n        return o;\n    }\n}\n</code></pre>\n<p>when trying to generate test case from diffblue icon its not generating. message as :</p>\n<pre><code>Tests written: 0\nCover was unable to write any tests for the reasons listed below.\nChange what sort of tests Cover writes in **Change Settings**.\nMethods without tests: 1\nDiffblue AI was unable to find a test: 1\n</code></pre>\n<p>log:</p>\n<pre><code>--monitoring-service-port 54013 --debug-log\n18:56:26.010 [INFO]  [Creating] Server started. Waiting up to 300 seconds for a connection to be established...\n18:56:42.979 [INFO]  [Creating] Starting new remote monitor client\n18:56:55.299 [INFO]  [Creating] Attempting to start remote server.\n18:56:58.951 [INFO]  [Creating] Server started, listening on localhost/127.0.0.1:54028\n18:57:00.046 [INFO]  [Creating] Expect analyzer service to be listening on port 54028.\n18:57:06.357 [INFO]  [Creating] Started analyzer service and client retrieved.\n18:58:04.361 [INFO]  [Creating] \n================================================================================\n= Creating tests for 'com.spring.controller.MyController.batchProcessing:()V' using 'SCo[SB] (sp, !fnm, df, !ris)'\n================================================================================\n19:03:08.041 [INFO]  [Creating] Service shutdown due to watchdog timeout\n19:03:08.215 [INFO]  [Creating] \n== begin thread dump ==\n\n27 threads\n\nThread 1 'main':\n  java.base@11.0.18/java.lang.Thread.dumpThreads(Native Method)\n  java.base@11.0.18/java.lang.Thread.getAllStackTraces(Thread.java:1657)\n  com.diffblue.cover.service.a.a.a.d(SourceFile:1164)\n  com.diffblue.cover.service.a.a.b.a(SourceFile:151)\n  com.diffblue.cover.service.analyzer.Main.main(SourceFile:46)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  com.diffblue.cover.launcher.Launcher.invokeMainMethod(Launcher.java:116)\n  com.diffblue.cover.launcher.Launcher.main(Launcher.java:72)\nThread 2728 'ClassGraph-worker-15':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 26 'grpc-default-executor-2':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2729 'grpc-default-executor-3':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:462)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:361)\n  java.base@11.0.18/java.util.concurrent.SynchronousQueue.poll(SynchronousQueue.java:937)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1053)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2721 'ClassGraph-worker-8':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2723 'ClassGraph-worker-10':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 16 'grpc-nio-worker-ELG-1-2':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2727 'ClassGraph-worker-14':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 11 'Common-Cleaner':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n  java.base@11.0.18/jdk.internal.ref.CleanerImpl.run(CleanerImpl.java:148)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\n  java.base@11.0.18/jdk.internal.misc.InnocuousThread.run(InnocuousThread.java:134)\nThread 2722 'ClassGraph-worker-9':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:433)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 5 'Attach Listener':\nThread 13 'logback-1':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n  java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)\n  java.base@11.0.18/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 12 'Service log dispatcher':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.setWakeupSocket(WindowsSelectorImpl.java:504)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.wakeup(WindowsSelectorImpl.java:625)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.wakeup(SourceFile:73)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.wakeup(SourceFile:787)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:857)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute0(SourceFile:827)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.execute(SourceFile:817)\n  io.grpc.netty.shaded.io.grpc.netty.NettyClientStream$TransportState.runOnTransportThread(SourceFile:321)\n  io.grpc.internal.AbstractStream$TransportState.requestMessagesFromDeframer(SourceFile:245)\n  io.grpc.internal.AbstractStream$TransportState.access$000(SourceFile:111)\n  io.grpc.internal.AbstractStream.request(SourceFile:57)\n  io.grpc.internal.ForwardingClientStream.request(SourceFile:32)\n  io.grpc.internal.RetriableStream$1RequestEntry.runWith(SourceFile:574)\n  io.grpc.internal.RetriableStream.delayOrExecute(SourceFile:529)\n  io.grpc.internal.RetriableStream.request(SourceFile:578)\n  io.grpc.internal.ClientCallImpl.request(SourceFile:440)\n  io.grpc.stub.ClientCalls$UnaryStreamToFuture.onStart(SourceFile:550)\n  io.grpc.stub.ClientCalls.startCall(SourceFile:342)\n  io.grpc.stub.ClientCalls.asyncUnaryRequestCall(SourceFile:315)\n  io.grpc.stub.ClientCalls.futureUnaryCall(SourceFile:227)\n  com.diffblue.cover.service.a.b.a.a(SourceFile:1440)\n  com.diffblue.cover.logging.RemoteLogAppender$a.run(SourceFile:204)\nThread 17 'grpc-default-executor-0':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.Thread.join(Thread.java:1305)\n  java.base@11.0.18/java.lang.Thread.join(Thread.java:1379)\n  com.diffblue.cover.sandbox.execution.WorkerThread.callWorkerThread(SourceFile:155)\n  com.diffblue.cover.sandbox.a.a.a(SourceFile:61)\n  com.diffblue.fuzztest.f.c.r(SourceFile:425)\n  com.diffblue.fuzztest.f.c$$Lambda$389/0x00000001005a1440.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.WrapExceptionsInBaseException.handleException(SourceFile:57)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.lambda$run$0(SourceFile:23)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException$$Lambda$264/0x0000000100499440.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.handleThrowable(SourceFile:34)\n  com.diffblue.cover.sandbox.execution.WrapThrowableInBaseException.run(SourceFile:23)\n  com.diffblue.fuzztest.f.c.d(SourceFile:424)\n  com.diffblue.fuzztest.f.t.d(SourceFile:136)\n  com.diffblue.cover.analysis.a.b$a$$Lambda$388/0x00000001005a1040.get(Unknown Source)\n  com.diffblue.cover.analysis.a.b$a.a(SourceFile:99)\n  com.diffblue.cover.analysis.a.b$a.tryAdvance(SourceFile:246)\n  com.diffblue.cover.service.analyzer.a.c$a.a(SourceFile:2037)\n  com.diffblue.cover.service.analyzer.a.a.i$h.invoke(SourceFile:638)\n  io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(SourceFile:182)\n  io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(SourceFile:355)\n  io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(SourceFile:867)\n  io.grpc.internal.ContextRunnable.run(SourceFile:37)\n  io.grpc.internal.SerializingExecutor.run(SourceFile:133)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n  java.base@11.0.18/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 2731 'TimedExecutor-9':\n  java.base@11.0.18/java.lang.StackTraceElement.initStackTraceElements(Native Method)\n  java.base@11.0.18/java.lang.StackTraceElement.of(StackTraceElement.java:526)\n  java.base@11.0.18/java.lang.Throwable.getOurStackTrace(Throwable.java:828)\n  java.base@11.0.18/java.lang.Throwable.getStackTrace(Throwable.java:820)\n  org.mockito.internal.exceptions.stacktrace.StackTraceFilter.filterFirst(StackTraceFilter.java:109)\n  org.mockito.internal.debugging.LocationImpl.computeStackTraceInformation(LocationImpl.java:50)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:35)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:26)\n  org.mockito.internal.debugging.LocationImpl.&lt;init&gt;(LocationImpl.java:22)\n  org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:56)\n  org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptAbstract(MockMethodInterceptor.java:161)\n  org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\n  org.mockito.codegen.ProductRepo$MockitoMock$iJkinF5x.save(Unknown Source)\n  com.spring.service.MyService.batchProcessing(MyService.java:89)\n  com.spring.controller.MyController.batchProcessing(MyController.java:27)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n  org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n  org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n  org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n  org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n  org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\n  org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\n  org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n  org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\n  org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n  org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\n  org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)\n  org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n  org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  java.base@11.0.18/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  java.base@11.0.18/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  java.base@11.0.18/java.lang.reflect.Method.invoke(Method.java:566)\n  com.diffblue.tir.a.h.a(SourceFile:78)\n  com.diffblue.tir.a.a.e.a(SourceFile:741)\n  com.diffblue.tir.a.f.a(SourceFile:421)\n  com.diffblue.tir.a.f.b(SourceFile:80)\n  com.diffblue.tir.d.e.a(SourceFile:38)\n  com.diffblue.tir.a.g.a(SourceFile:221)\n  com.diffblue.tir.a.g.b(SourceFile:88)\n  com.diffblue.tir.a.g$$Lambda$1283/0x000000010094f040.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.SafeTimedExecutor$$Lambda$654/0x000000010063b040.call(Unknown Source)\n  com.diffblue.cover.sandbox.execution.TimedCallableExecutor$CallableFuture.executeTask(SourceFile:28)\n  com.diffblue.cover.sandbox.execution.TimedExecutor$TaskQueueRunner.run(SourceFile:78)\n  com.diffblue.cover.sandbox.execution.WorkerThread.run(SourceFile:216)\nThread 18 'grpc-nio-boss-ELG-3-1':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:141)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:68)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:813)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 3 'Finalizer':\n  java.base@11.0.18/java.lang.Object.wait(Native Method)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:155)\n  java.base@11.0.18/java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:176)\n  java.base@11.0.18/java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:170)\nThread 2725 'ClassGraph-worker-12':\n  java.base@11.0.18/jdk.internal.misc.Unsafe.park(Native Method)\n  java.base@11.0.18/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)\n  java.base@11.0.18/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)\n\n  **removed due to limit**\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\nThread 4 'Signal Dispatcher':\nThread 15 'grpc-nio-worker-ELG-1-1':\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(Native Method)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl$SubSelector.poll(WindowsSelectorImpl.java:357)\n  java.base@11.0.18/sun.nio.ch.WindowsSelectorImpl.doSelect(WindowsSelectorImpl.java:182)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\n  java.base@11.0.18/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\n  io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SourceFile:62)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(SourceFile:817)\n  io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(SourceFile:460)\n  io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SourceFile:997)\n  io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(SourceFile:74)\n  io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(SourceFile:30)\n  java.base@11.0.18/java.lang.Thread.run(Thread.java:834)\n== end thread dump ==\n\n19:03:10.150 [INFO]  [Creating] Exiting service.\n19:03:18.401 [INFO]  [Creating]     [1/1] com.spring.controller.MyController.batchProcessing\n19:03:18.401 [INFO]  [Creating]     [1/1]   Diffblue AI was unable to find a test\n19:03:18.435 [INFO]  [Creating] [1/1] com.spring.controller.MyController\n19:03:18.435 [INFO]  [Creating] [1/1]   Tests created: 0\n19:03:19.179 [INFO]  [Reporting] \n19:03:19.179 [INFO]  [Reporting] Summary:\n19:03:19.179 [INFO]  [Reporting] --------\n19:03:19.179 [INFO]  [Reporting] Total:                                               1 method\n19:03:19.180 [INFO]  [Reporting] \n19:03:19.180 [INFO]  [Reporting] No tests created for:                                1 method\n19:03:28.675 [INFO]  [Reporting] License doesn't allow multiple classes\n19:03:28.693 [INFO]  [Reporting] License doesn't allow creating report.json\n</code></pre>\n<p>any special settings required? I am using all community edition.</p>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1566198676,"post_id":57551173,"comment_id":101566141,"body_markdown":"did below answer resolve your problem?","body":"did below answer resolve your problem?"}],"answers":[{"comments":[{"owner":{"account_id":6863633,"reputation":231,"user_id":5276822,"display_name":"Paul"},"score":2,"creation_date":1566285265,"post_id":57551447,"comment_id":101597555,"body_markdown":"Thanks, this gave me a right direction but I ended up using a method called searchUserByAttribute(), which takes three parameters namely attr name, attr value and Realm. thanks","body":"Thanks, this gave me a right direction but I ended up using a method called searchUserByAttribute(), which takes three parameters namely attr name, attr value and Realm. thanks"}],"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566196003,"creation_date":1566196003,"answer_id":57551447,"question_id":57551173,"body_markdown":"You can retrieve all user attributes from `AccessToken` / `IdToken` (object not string).\r\n\r\nFor e.g. :\r\n\r\n    KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext)(request.getAttribute(KeycloakSecurityContext.class.getName()));\t\r\n    AccessToken token = keycloakSecurityContext.getToken();\r\n\r\n\r\nThis token object contains all fields for user model:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYULQ.png","title":"how to get user mobile number in keycloak","body":"<p>You can retrieve all user attributes from <code>AccessToken</code> / <code>IdToken</code> (object not string).</p>\n\n<p>For e.g. :</p>\n\n<pre><code>KeycloakSecurityContext keycloakSecurityContext = (KeycloakSecurityContext)(request.getAttribute(KeycloakSecurityContext.class.getName())); \nAccessToken token = keycloakSecurityContext.getToken();\n</code></pre>\n\n<p>This token object contains all fields for user model:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IYULQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYULQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3236717,"reputation":1785,"user_id":2730735,"display_name":"aelkz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687784717,"creation_date":1687784717,"answer_id":76556976,"question_id":57551173,"body_markdown":"Updated to Keycloak 21.1.1:\r\n\r\n    List&lt;UserModel&gt; users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), MOBILE_NUMBER_ATTR, &quot;999999999&quot;)...collect(Collectors.toList());\r\n\r\nwhere **`MOBILE_NUMBER_ATTR`** is the key attribute you&#39;re looking for and **`999999999`** is the value.\r\n\r\ninterface:\r\nhttps://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java","title":"how to get user mobile number in keycloak","body":"<p>Updated to Keycloak 21.1.1:</p>\n<pre><code>List&lt;UserModel&gt; users = context.getSession().users().searchForUserByUserAttributeStream(context.getRealm(), MOBILE_NUMBER_ATTR, &quot;999999999&quot;)...collect(Collectors.toList());\n</code></pre>\n<p>where <strong><code>MOBILE_NUMBER_ATTR</code></strong> is the key attribute you're looking for and <strong><code>999999999</code></strong> is the value.</p>\n<p>interface:\n<a href=\"https://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/blob/21.1.1/server-spi/src/main/java/org/keycloak/storage/user/UserQueryProvider.java</a></p>\n"}],"owner":{"account_id":6863633,"reputation":231,"user_id":5276822,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57551447,"answer_count":2,"score":1,"last_activity_date":1687784717,"creation_date":1566194589,"question_id":57551173,"body_markdown":"I am trying to get user registered mobile number in keycloak. \r\nI am not sure if keycloak does have a method called `getUserByMobileNumber()`, which I can use to get the user mobile number. I have seen people using `getUserById`, `getUserByUsername` and etc.\r\n\r\n    UserModel numberExisting = context.getSession().users().getUserByMobileNumber(mobileNumber, context.getRealm());","title":"how to get user mobile number in keycloak","body":"<p>I am trying to get user registered mobile number in keycloak. \nI am not sure if keycloak does have a method called <code>getUserByMobileNumber()</code>, which I can use to get the user mobile number. I have seen people using <code>getUserById</code>, <code>getUserByUsername</code> and etc.</p>\n\n<pre><code>UserModel numberExisting = context.getSession().users().getUserByMobileNumber(mobileNumber, context.getRealm());\n</code></pre>\n"},{"tags":["java","newrelic","nrql"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687753567,"post_id":76548306,"comment_id":134975253,"body_markdown":"Hi there, can you also share your code","body":"Hi there, can you also share your code"},{"owner":{"account_id":198515,"reputation":819,"user_id":2132930,"accept_rate":100,"display_name":"Prabodh Mhalgi"},"score":0,"creation_date":1692216296,"post_id":76548306,"comment_id":135595079,"body_markdown":"One thing that jumps out is that the query if not GraphQL format. It is a simple nrql.","body":"One thing that jumps out is that the query if not GraphQL format. It is a simple nrql."}],"owner":{"account_id":28888733,"reputation":1,"user_id":22126408,"display_name":"Pavani Sandhya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784589,"creation_date":1687648453,"question_id":76548306,"body_markdown":"I have written a Java Program to connect to `NewRelic Graphql API` end point https://api.newrelic.com/graphql and successfully able to connect.\r\n\r\n- However getting parsing error for the NRQL query.\r\n\r\n      Query is {&quot;query&quot;: &quot;SELECT average(duration) FROM Transaction \r\n      WHERE appName = &#39;My_Application&#39;&quot;}\r\n      Response Code: 200\r\n      Response Body:\r\n      {&quot;errors&quot;:[{&quot;locations&quot;:\r\n      [{&quot;column&quot;:59,&quot;line&quot;:1}],&quot;message&quot;:&quot;Parsing failed at `&#39;My_Applic`&quot;}]}\r\n\r\nI am expecting the output, but getting parsing error\r\n","title":"Getting &quot;Parsing failed&quot; Error for all NRQL queries while posting via HttpURLConnection in Java program","body":"<p>I have written a Java Program to connect to <code>NewRelic Graphql API</code> end point <a href=\"https://api.newrelic.com/graphql\" rel=\"nofollow noreferrer\">https://api.newrelic.com/graphql</a> and successfully able to connect.</p>\n<ul>\n<li><p>However getting parsing error for the NRQL query.</p>\n<pre><code>Query is {&quot;query&quot;: &quot;SELECT average(duration) FROM Transaction \nWHERE appName = 'My_Application'&quot;}\nResponse Code: 200\nResponse Body:\n{&quot;errors&quot;:[{&quot;locations&quot;:\n[{&quot;column&quot;:59,&quot;line&quot;:1}],&quot;message&quot;:&quot;Parsing failed at `'My_Applic`&quot;}]}\n</code></pre>\n</li>\n</ul>\n<p>I am expecting the output, but getting parsing error</p>\n"},{"tags":["java","for-loop"],"owner":{"account_id":28594992,"reputation":13,"user_id":21893370,"display_name":"Zhikeng Kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687753554,"answer_count":0,"score":0,"last_activity_date":1687784565,"creation_date":1687753204,"question_id":76553491,"body_markdown":"`pairRemoval(String, String, String)`  \r\nThis is a public static function that takes three Strings as arguments and returns a String.\r\n\r\nYou will be given three strings, the first string is a sentence known as text that contains at least one occurrence of left pattern and right pattern. The second and third arguments of the function are the left and right patterns respectively. Left pattern and right pattern are single characters strings that you are attempting to remove from the string. Your goal is to remove only the patterns when the left pattern has an equal number of corresponding right patterns. The patterns are removed in pairs only when there is a balanced number of left and right patterns. The patterns may be nested within the text and there is no guarantee that a left pattern will occur before the right pattern.   \r\n\r\nArguments:\r\nString text - The string with the substring to be removed\r\n\r\nString leftPattern - A pattern that the substring must start with\r\n\r\nString rightPattern -  A pattern that the substring must end with\r\n\r\nreturns String -  The given text with the paired patterns removed\r\n\r\nExample:\r\nExample 1: \r\n\r\n`text = { { Muscat } } { } mecum tollgate } poultry quarrymen pantheon asteria`\r\n\r\nleftPattern =  {\r\n\r\nrightPattern = }\r\n\r\n`return = Muscat     mecum tollgate } poultry quarrymen pantheon asteria`\r\n\r\nExample 2: \r\n\r\ntext = merioneth ( smickly helotage yarr ) ethmoidal ) ) ) digitinervate\r\n\r\nleftPattern =  (\r\n\r\nrightPattern = )\r\n\r\n`return =. merioneth  smickly helotage yarr  ethmoidal ) ) ) digitinervate`\r\n\r\nExample 3: \r\n\r\n`text = southland palladic } { pasillo { } seeableness } { { normanesque`\r\n\r\nleftPattern =  {\r\n\r\nrightPattern = }\r\n\r\n`return = southland palladic   pasillo   seeableness   { normanesque`\r\n\r\nThis is what I tried\r\n```\r\npublic static String pairRemoval(String text, String leftPattern, String rightPattern) {\r\n        String finalText = &quot;&quot;\r\n\r\n        int indexOf1LeftP = text.indexOf(leftPattern)\r\n\r\n        int indexOfLastLeftP = text.lastIndexOf(leftPattern)\r\n\r\n        int indexOf1RightP = text.indexOf(rightPattern)\r\n\r\n        int indexOfLastRightP = text.lastIndexOf(rightPattern)\r\n\r\n        for (int i = indexOf1LeftP; i &lt;= indexOfLastLeftP; i++) {\r\n            for (int j = indexOf1RightP; j &lt;= indexOfLastRightP; j++){\r\n            String leftChar = text.substring(i, i + 1)\r\n            String rightChar = text.substring(j, j + 1)\r\n                if (leftChar.equals(leftPattern) &amp;&amp; rightChar.equals(rightPattern)) {\r\n               finalText = text.replaceFirst(rightChar, &quot;&quot;).replaceFirst(leftChar, &quot;&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n    return finalText;\r\n}\r\n```\r\nAnd I got this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\r\n&gt; Illegal repetition near index 1","title":"How can remove a pair of chars from a string in java","body":"<p><code>pairRemoval(String, String, String)</code><br />\nThis is a public static function that takes three Strings as arguments and returns a String.</p>\n<p>You will be given three strings, the first string is a sentence known as text that contains at least one occurrence of left pattern and right pattern. The second and third arguments of the function are the left and right patterns respectively. Left pattern and right pattern are single characters strings that you are attempting to remove from the string. Your goal is to remove only the patterns when the left pattern has an equal number of corresponding right patterns. The patterns are removed in pairs only when there is a balanced number of left and right patterns. The patterns may be nested within the text and there is no guarantee that a left pattern will occur before the right pattern.</p>\n<p>Arguments:\nString text - The string with the substring to be removed</p>\n<p>String leftPattern - A pattern that the substring must start with</p>\n<p>String rightPattern -  A pattern that the substring must end with</p>\n<p>returns String -  The given text with the paired patterns removed</p>\n<p>Example:\nExample 1:</p>\n<p><code>text = { { Muscat } } { } mecum tollgate } poultry quarrymen pantheon asteria</code></p>\n<p>leftPattern =  {</p>\n<p>rightPattern = }</p>\n<p><code>return = Muscat     mecum tollgate } poultry quarrymen pantheon asteria</code></p>\n<p>Example 2:</p>\n<p>text = merioneth ( smickly helotage yarr ) ethmoidal ) ) ) digitinervate</p>\n<p>leftPattern =  (</p>\n<p>rightPattern = )</p>\n<p><code>return =. merioneth  smickly helotage yarr  ethmoidal ) ) ) digitinervate</code></p>\n<p>Example 3:</p>\n<p><code>text = southland palladic } { pasillo { } seeableness } { { normanesque</code></p>\n<p>leftPattern =  {</p>\n<p>rightPattern = }</p>\n<p><code>return = southland palladic   pasillo   seeableness   { normanesque</code></p>\n<p>This is what I tried</p>\n<pre><code>public static String pairRemoval(String text, String leftPattern, String rightPattern) {\n        String finalText = &quot;&quot;\n\n        int indexOf1LeftP = text.indexOf(leftPattern)\n\n        int indexOfLastLeftP = text.lastIndexOf(leftPattern)\n\n        int indexOf1RightP = text.indexOf(rightPattern)\n\n        int indexOfLastRightP = text.lastIndexOf(rightPattern)\n\n        for (int i = indexOf1LeftP; i &lt;= indexOfLastLeftP; i++) {\n            for (int j = indexOf1RightP; j &lt;= indexOfLastRightP; j++){\n            String leftChar = text.substring(i, i + 1)\n            String rightChar = text.substring(j, j + 1)\n                if (leftChar.equals(leftPattern) &amp;&amp; rightChar.equals(rightPattern)) {\n               finalText = text.replaceFirst(rightChar, &quot;&quot;).replaceFirst(leftChar, &quot;&quot;)\n            }\n        }\n    }\n\n    return finalText;\n}\n</code></pre>\n<p>And I got this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException:\nIllegal repetition near index 1</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687782043,"post_id":76556530,"comment_id":134980229,"body_markdown":"could you show a code snippet for the StockResponse class? It&#39;s not clear why each stock is stored as a StockResponse instances and why there is another independent instance for the total amount.","body":"could you show a code snippet for the StockResponse class? It&#39;s not clear why each stock is stored as a StockResponse instances and why there is another independent instance for the total amount."},{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1687782233,"post_id":76556530,"comment_id":134980273,"body_markdown":"StockResponse class contain a value of stock and a reference of product. The StockResponse is just a DTO because this method will be exposed to an UI","body":"StockResponse class contain a value of stock and a reference of product. The StockResponse is just a DTO because this method will be exposed to an UI"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687782442,"post_id":76556530,"comment_id":134980318,"body_markdown":"then this sample doesn&#39;t compile as `new StockResponse(0)` won&#39;t work for this record class","body":"then this sample doesn&#39;t compile as <code>new StockResponse(0)</code> won&#39;t work for this record class"},{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1687783250,"post_id":76556530,"comment_id":134980483,"body_markdown":"It was a simplified code, I may have slipped some typo errors, sorry, I&#39;ve updated it and it should be ok now","body":"It was a simplified code, I may have slipped some typo errors, sorry, I&#39;ve updated it and it should be ok now"}],"answers":[{"comments":[{"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"score":0,"creation_date":1687852175,"post_id":76556954,"comment_id":134990772,"body_markdown":"I&#39;ve finally adopt your proposition by creating another class with the details and a specific property for total","body":"I&#39;ve finally adopt your proposition by creating another class with the details and a specific property for total"}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687784556,"creation_date":1687784556,"answer_id":76556954,"question_id":76556530,"body_markdown":"I find it a bit odd to add the total result as the last element in the list instead of having a dedicated class containing the total on one side and the elements on the other).\r\n\r\nBut here&#39;s a code snippet anyway:\r\n\r\n```\r\nMono&lt;List&lt;StockResponse&gt;&gt; responses = findAll()\r\n    .map(StockResponse::new).collectList().map(allStock -&gt; {\r\n\t    StockResponse total = new StockResponse(0, &quot;Total&quot;);\r\n    \tallStock.forEach(stock -&gt; total.add(stock.value));\r\n\t    List&lt;StockResponse&gt; result = new ArrayList&lt;&gt;(allStock);\r\n        result.add(total);\r\n    \treturn result;\r\n});\r\n```","title":"Webflux : Accumulate &amp; details","body":"<p>I find it a bit odd to add the total result as the last element in the list instead of having a dedicated class containing the total on one side and the elements on the other).</p>\n<p>But here's a code snippet anyway:</p>\n<pre><code>Mono&lt;List&lt;StockResponse&gt;&gt; responses = findAll()\n    .map(StockResponse::new).collectList().map(allStock -&gt; {\n        StockResponse total = new StockResponse(0, &quot;Total&quot;);\n        allStock.forEach(stock -&gt; total.add(stock.value));\n        List&lt;StockResponse&gt; result = new ArrayList&lt;&gt;(allStock);\n        result.add(total);\n        return result;\n});\n</code></pre>\n"}],"owner":{"account_id":4397755,"reputation":790,"user_id":3584279,"accept_rate":100,"display_name":"RVA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76556954,"answer_count":1,"score":1,"last_activity_date":1687784556,"creation_date":1687781298,"question_id":76556530,"body_markdown":"I&#39;m new to webflux and I&#39;m trying to transform this code : \r\n\r\n    @Getter\r\n    public class Stock {\r\n        private int value;\r\n        private String productNumber;\r\n        public Stock(int value, String productNumber){\r\n            this.value = value;\r\n            this.productNumber = productNumber;\r\n        }\r\n    }\r\n\r\n\r\n    @Getter\r\n    public class StockResponse {\r\n        private int value;\r\n        private String productNumber;\r\n        public StockResponse(int value, String productNumber){\r\n            this.value = value;\r\n            this.productNumber = productNumber;\r\n        }\r\n        public StockResponse(Stock stock){\r\n            this.value = stock.getValue();\r\n            this.productNumber = stock.getProductNumber();\r\n        }\r\n\r\n        public void add(int value){\r\n            this.value += value;\r\n        }\r\n        \r\n    }\r\n\r\n    public List&lt;StockResponse&gt; findStockResponsesDetailsAndTotal() {\r\n        List&lt;StockResponse&gt; stocksResponses = new ArrayList();\r\n        List&lt;Stock&gt; stocks = stockRepository.findAll();\r\n        StockResponse total = new StockResponse(0, &quot;Total&quot;);\r\n        stocks.forEach(stock -&gt; {\r\n            total.add(stock.getValue());\r\n            stocksResponses.add(new StockResponse(stock));\r\n        });\r\n        stocksResponses.add(total);\r\n        return stocksResponses;\r\n    }\r\n\r\ninto a &quot;flux phylosophy&quot;\r\nHere is my code so far : \r\n\r\n    stockRepository.findAll()\r\n      .map(StockResponse::convert)\r\n\r\nI&#39;m kinda lost about the &quot;total&quot;, I know that I can do a reduce on the Flux but i&#39;ll lose all the details in doing so\r\n\r\n","title":"Webflux : Accumulate &amp; details","body":"<p>I'm new to webflux and I'm trying to transform this code :</p>\n<pre><code>@Getter\npublic class Stock {\n    private int value;\n    private String productNumber;\n    public Stock(int value, String productNumber){\n        this.value = value;\n        this.productNumber = productNumber;\n    }\n}\n\n\n@Getter\npublic class StockResponse {\n    private int value;\n    private String productNumber;\n    public StockResponse(int value, String productNumber){\n        this.value = value;\n        this.productNumber = productNumber;\n    }\n    public StockResponse(Stock stock){\n        this.value = stock.getValue();\n        this.productNumber = stock.getProductNumber();\n    }\n\n    public void add(int value){\n        this.value += value;\n    }\n    \n}\n\npublic List&lt;StockResponse&gt; findStockResponsesDetailsAndTotal() {\n    List&lt;StockResponse&gt; stocksResponses = new ArrayList();\n    List&lt;Stock&gt; stocks = stockRepository.findAll();\n    StockResponse total = new StockResponse(0, &quot;Total&quot;);\n    stocks.forEach(stock -&gt; {\n        total.add(stock.getValue());\n        stocksResponses.add(new StockResponse(stock));\n    });\n    stocksResponses.add(total);\n    return stocksResponses;\n}\n</code></pre>\n<p>into a &quot;flux phylosophy&quot;\nHere is my code so far :</p>\n<pre><code>stockRepository.findAll()\n  .map(StockResponse::convert)\n</code></pre>\n<p>I'm kinda lost about the &quot;total&quot;, I know that I can do a reduce on the Flux but i'll lose all the details in doing so</p>\n"},{"tags":["java","vert.x","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687785042,"post_id":76556941,"comment_id":134980882,"body_markdown":"Read the error message. It explains how to find out what path is leading to this problem, and suggests a couple of solutions.","body":"Read the error message. It explains how to find out what path is leading to this problem, and suggests a couple of solutions."},{"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"score":0,"creation_date":1688223963,"post_id":76556941,"comment_id":135046831,"body_markdown":"Hazelcast exposes JMX beans, so that&#39;s probably the library you&#39;re looking for. Maybe this how-to does also help: https://how-to.vertx.io/graal-native-image-howto/","body":"Hazelcast exposes JMX beans, so that&#39;s probably the library you&#39;re looking for. Maybe this how-to does also help: <a href=\"https://how-to.vertx.io/graal-native-image-howto/\" rel=\"nofollow noreferrer\">how-to.vertx.io/graal-native-image-howto</a>"},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1691406326,"post_id":76556941,"comment_id":135482477,"body_markdown":"@OliverMarienfeld Thank you, this helps a lot. So the Logging Framework log4j2 are not supported, so I will remove it.","body":"@OliverMarienfeld Thank you, this helps a lot. So the Logging Framework log4j2 are not supported, so I will remove it."},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1695240779,"post_id":76556941,"comment_id":135999804,"body_markdown":"unfortunately all the examples does not work. Because the use the old version of graalvm and if I use the old version, then OSX throw an exception application is defect. Does someone has an example code in Github who works?","body":"unfortunately all the examples does not work. Because the use the old version of graalvm and if I use the old version, then OSX throw an exception application is defect. Does someone has an example code in Github who works?"}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784444,"creation_date":1687784444,"question_id":76556941,"body_markdown":"I want to convert the executable jar file to the native image via GraalVM. \r\nI use the command: \r\n\r\n    native-image --initialize-at-build-time=com.sun.jmx.mbeanserver.JmxMBeanServer -jar target/resource-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nThen the process will be stopped with following exception:\r\n\r\n    Error: java.util.concurrent.ExecutionException: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would need to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-object-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\r\n    Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\r\n\r\nI use following dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-web-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vertx-hazelcast&lt;/artifactId&gt;\r\n            &lt;version&gt;${vertx}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI guess some libraries are not supported. But how can I find out, which libraries.\r\nSo is there some tools ore commands to find out, which library I have to replace?\r\nOr Im on the wrong way and the problem is not the library?","title":"GraalVM native image does not support MBean server","body":"<p>I want to convert the executable jar file to the native image via GraalVM.\nI use the command:</p>\n<pre><code>native-image --initialize-at-build-time=com.sun.jmx.mbeanserver.JmxMBeanServer -jar target/resource-1.0-SNAPSHOT-jar-with-dependencies.jar\n</code></pre>\n<p>Then the process will be stopped with following exception:</p>\n<pre><code>Error: java.util.concurrent.ExecutionException: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Detected a MBean server in the image heap. This is currently not supported, but could be changed in the future. Management beans are registered in many global caches that would need to be cleared and properly re-built at image build time. Class of disallowed object: com.sun.jmx.mbeanserver.JmxMBeanServer  To see how this object got instantiated use --trace-object-instantiation=com.sun.jmx.mbeanserver.JmxMBeanServer. The object was probably created by a class initializer and is reachable from a static field. You can request class initialization at image runtime by using the option --initialize-at-run-time=&lt;class-name&gt;. Or you can write your own initialization methods and call them explicitly from your main entry point.\nError: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\n</code></pre>\n<p>I use following dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-web-client&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0-b180830.0359&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n        &lt;artifactId&gt;vertx-hazelcast&lt;/artifactId&gt;\n        &lt;version&gt;${vertx}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I guess some libraries are not supported. But how can I find out, which libraries.\nSo is there some tools ore commands to find out, which library I have to replace?\nOr Im on the wrong way and the problem is not the library?</p>\n"},{"tags":["java","css","vaadin"],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687784342,"creation_date":1687784342,"question_id":76556929,"body_markdown":"I&#39;m just trying to center a label in a GridLayout that is inside a popUP:\r\n\r\n        public class PopUpAlert extends  Window implements View{\r\n        \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tpublic PopUpAlert() {\r\n    \t\t\r\n    \t\tsuper(&quot;Inserimento&quot;); \r\n    \t\tcenter();\r\n    \t\tsetWidth(&quot;1500px&quot;);\r\n    \t\t\r\n    \t\tGridLayout layoutpopUp = new GridLayout(2, 2);\r\n        \t\r\n        \tfinal TextField textDescrizione3 = new TextField(&quot;Descrizione3&quot;);\r\n        \tfinal TextField textDescrizione4 = new TextField(&quot;Descrizione4&quot;);\r\n        \tLabel label = new Label(&quot;label&quot;);\r\n        \tlabel.setSizeUndefined();\r\n        \tlayoutpopUp.addComponent(label, 0,0,1,0);\t\r\n        \tlayoutpopUp.addComponent(textDescrizione3,0,1); \r\n        \tlayoutpopUp.addComponent(textDescrizione4,1,1); \r\n        \t\r\n        \tlayoutpopUp.setMargin(true);\r\n        \t\r\n        \tlayoutpopUp.setSpacing(true);\r\n        \tsetContent(layoutpopUp);\r\n    }\r\n\r\n\r\nThe result is this one:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zpITW.png\r\n\r\n\r\n\r\nWhat I want is just center label in the center of the cell area that is identified by \r\nlayoutpopUp.addComponent(label, 0,0,1,0);\t\r\n\r\n\r\nI&#39;ve tried almost everything\r\n\r\n - layoutpopUp.setComponentAlignment(label, Alignment.MIDDLE_CENTER);\r\n - Component c = layoutpopUp.getComponent(1,0);\r\n   layoutpopUp.setComponentAlignment(c, Alignment.TOP_CENTER);\r\n - as indicated in\r\n   https://stackoverflow.com/questions/31755012/vaadin-alignment-with-gridlayout-to-center-over-cells\r\n\r\nbut no one will center the label above and in the center of Descrizione3 and Descrizione4;\r\n\r\nAlso I have copied the example at https://vaadin.com/docs/v7/framework/layout/layout-gridlayout, but to me the button 3x1 is on the left side of the cell;\r\nI&#39;m going to get crazy;","title":"center a label in an area inside a GridLayout","body":"<p>I'm just trying to center a label in a GridLayout that is inside a popUP:</p>\n<pre><code>    public class PopUpAlert extends  Window implements View{\n        \n    private static final long serialVersionUID = 1L;\n    \n    public PopUpAlert() {\n        \n        super(&quot;Inserimento&quot;); \n        center();\n        setWidth(&quot;1500px&quot;);\n        \n        GridLayout layoutpopUp = new GridLayout(2, 2);\n        \n        final TextField textDescrizione3 = new TextField(&quot;Descrizione3&quot;);\n        final TextField textDescrizione4 = new TextField(&quot;Descrizione4&quot;);\n        Label label = new Label(&quot;label&quot;);\n        label.setSizeUndefined();\n        layoutpopUp.addComponent(label, 0,0,1,0);   \n        layoutpopUp.addComponent(textDescrizione3,0,1); \n        layoutpopUp.addComponent(textDescrizione4,1,1); \n        \n        layoutpopUp.setMargin(true);\n        \n        layoutpopUp.setSpacing(true);\n        setContent(layoutpopUp);\n}\n</code></pre>\n<p>The result is this one:\n<a href=\"https://i.stack.imgur.com/zpITW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpITW.png\" alt=\"enter image description here\" /></a></p>\n<p>What I want is just center label in the center of the cell area that is identified by\nlayoutpopUp.addComponent(label, 0,0,1,0);</p>\n<p>I've tried almost everything</p>\n<ul>\n<li>layoutpopUp.setComponentAlignment(label, Alignment.MIDDLE_CENTER);</li>\n<li>Component c = layoutpopUp.getComponent(1,0);\nlayoutpopUp.setComponentAlignment(c, Alignment.TOP_CENTER);</li>\n<li>as indicated in\n<a href=\"https://stackoverflow.com/questions/31755012/vaadin-alignment-with-gridlayout-to-center-over-cells\">Vaadin Alignment with GridLayout to center over cells</a></li>\n</ul>\n<p>but no one will center the label above and in the center of Descrizione3 and Descrizione4;</p>\n<p>Also I have copied the example at <a href=\"https://vaadin.com/docs/v7/framework/layout/layout-gridlayout\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v7/framework/layout/layout-gridlayout</a>, but to me the button 3x1 is on the left side of the cell;\nI'm going to get crazy;</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":422778,"reputation":6427,"user_id":801751,"accept_rate":60,"display_name":"Tom Carchrae"},"score":0,"creation_date":1371136979,"post_id":17090589,"comment_id":81837032,"body_markdown":"Jackson does a much better job at detecting types for maps, and it is far easier to configure than GSON: https://github.com/FasterXML/jackson-databind","body":"Jackson does a much better job at detecting types for maps, and it is far easier to configure than GSON: <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind</a>"},{"owner":{"account_id":3649634,"reputation":766,"user_id":3042124,"accept_rate":100,"display_name":"Megakoresh"},"score":2,"creation_date":1470999148,"post_id":17090589,"comment_id":81837033,"body_markdown":"The question explicitly asked for Gson implementation. Please stick to the question.","body":"The question explicitly asked for Gson implementation. Please stick to the question."},{"owner":{"account_id":60183,"reputation":4029,"user_id":179864,"accept_rate":67,"display_name":"aditsu quit because SE is EVIL"},"score":0,"creation_date":1491916680,"post_id":17090589,"comment_id":73757354,"body_markdown":"Also see [this answer](http://stackoverflow.com/a/43346123/179864) I wrote for a similar question; the catch is that you would have to parse the data as an `Object` and then cast to whatever you need.","body":"Also see <a href=\"http://stackoverflow.com/a/43346123/179864\">this answer</a> I wrote for a similar question; the catch is that you would have to parse the data as an <code>Object</code> and then cast to whatever you need."}],"answers":[{"comments":[{"owner":{"account_id":2026878,"reputation":1243,"user_id":1823997,"accept_rate":55,"display_name":"Moses"},"score":4,"creation_date":1371136640,"post_id":17090690,"comment_id":24721568,"body_markdown":"But in java there are Integers and Doubles. And it&#39;s easy to deserialize {&quot;num&quot;:1} to Integer if I have a class with Integer field &quot;num&quot;, but when gson deserializes json to Map&lt;String, Object&gt; it desides to use Double. So I&#39;am seeking the way to disable this approach.","body":"But in java there are Integers and Doubles. And it&#39;s easy to deserialize {&quot;num&quot;:1} to Integer if I have a class with Integer field &quot;num&quot;, but when gson deserializes json to Map&lt;String, Object&gt; it desides to use Double. So I&#39;am seeking the way to disable this approach."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1371144533,"post_id":17090690,"comment_id":24725874,"body_markdown":"@Moses define a Map&lt;String, Integer&gt;","body":"@Moses define a Map&lt;String, Integer&gt;"},{"owner":{"account_id":2026878,"reputation":1243,"user_id":1823997,"accept_rate":55,"display_name":"Moses"},"score":4,"creation_date":1371192997,"post_id":17090690,"comment_id":24741933,"body_markdown":"Map should contain not only integers.","body":"Map should contain not only integers."}],"tags":[],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1371136295,"creation_date":1371136295,"answer_id":17090690,"question_id":17090589,"body_markdown":"There are no integer type in JSON. 1 and 1.0 are the same. You need to parse that 1.0 to 1 in your code. Or you need to map the JSON to some VO class and define the type of fields of the class explicitly , so that GSON can understand what you are looking for.","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>There are no integer type in JSON. 1 and 1.0 are the same. You need to parse that 1.0 to 1 in your code. Or you need to map the JSON to some VO class and define the type of fields of the class explicitly , so that GSON can understand what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1371136864,"creation_date":1371136864,"answer_id":17090885,"question_id":17090589,"body_markdown":"JSON only has a single Number type and there is no way for the parser to automatically tell what type  to convert it to.\r\n\r\nIf you aren&#39;t going to use a strongly typed object graph, consider using the [JsonElement][1] types:\r\n\r\n    JsonObject root = new Gson().fromJson(json, JsonObject.class);\r\n    int num = root.getAsJsonObject(&quot;inner_obj&quot;).get(&quot;num&quot;).getAsInt();\r\n\r\n\r\n  [1]: http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonElement.html","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>JSON only has a single Number type and there is no way for the parser to automatically tell what type  to convert it to.</p>\n\n<p>If you aren't going to use a strongly typed object graph, consider using the <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/JsonElement.html\" rel=\"nofollow\">JsonElement</a> types:</p>\n\n<pre><code>JsonObject root = new Gson().fromJson(json, JsonObject.class);\nint num = root.getAsJsonObject(\"inner_obj\").get(\"num\").getAsInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3064040,"reputation":31,"user_id":2596147,"display_name":"이종은"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421054952,"creation_date":1421054952,"answer_id":27898782,"question_id":17090589,"body_markdown":"It&#39;s my code\r\n\r\n    private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\r\n        public Map&lt;String,Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\r\n        \tMap&lt;String,Object&gt; m  = new LinkedHashMap&lt;String, Object&gt;();\r\n        \tJsonObject jo = json.getAsJsonObject();\r\n        \tfor (Entry&lt;String, JsonElement&gt;  mx : jo.entrySet()){\r\n        \t\tString key = mx.getKey();\r\n        \t\tJsonElement v = mx.getValue();\r\n        \t\tif(v.isJsonArray()){\r\n        \t\t\tm.put(key, g.fromJson(v, List.class));\r\n        \t\t}else if(v.isJsonPrimitive()){\r\n        \t\t\t Number num = null;\r\n        \t          try {\r\n        \t              num = NumberFormat.getInstance().parse(v.getAsString());\r\n        \t          } catch (Exception e) {\r\n        \t        \t  e.printStackTrace();\r\n        \t          }\r\n        \t\t\tm.put(key,num);\r\n        \t\t}else if(v.isJsonObject()){\r\n        \t\t\tm.put(key,g.fromJson(v, Map.class));\t\r\n        \t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n          return m;\r\n       }\r\n\t}\r\n\r\n    private static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\r\n        public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\r\n        \tList&lt;Object&gt; m  = new ArrayList&lt;Object&gt;();\r\n        \tJsonArray arr = json.getAsJsonArray();\r\n        \tfor (JsonElement jsonElement : arr) {\r\n\t\t\t\tif(jsonElement.isJsonObject()){\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, Map.class));\r\n\t\t\t\t}else if(jsonElement.isJsonArray()){\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, List.class));\r\n\t\t\t\t}else if(jsonElement.isJsonPrimitive()){\r\n\t\t\t\t\tNumber num = null;\r\n       \t          \ttry {\r\n       \t              num = NumberFormat.getInstance().parse(jsonElement.getAsString());\r\n       \t          \t} catch (Exception e) {\r\n       \t          \t}\r\n       \t          \tm.add(num);\r\n\t\t\t\t}\r\n\t\t\t}\r\n          return m;\r\n       }\r\n\t}\r\n\r\n    private static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).serializeNulls().create();\r\n ","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>It's my code</p>\n\n<pre><code>private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; {\n    public Map&lt;String,Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\n        Map&lt;String,Object&gt; m  = new LinkedHashMap&lt;String, Object&gt;();\n        JsonObject jo = json.getAsJsonObject();\n        for (Entry&lt;String, JsonElement&gt;  mx : jo.entrySet()){\n            String key = mx.getKey();\n            JsonElement v = mx.getValue();\n            if(v.isJsonArray()){\n                m.put(key, g.fromJson(v, List.class));\n            }else if(v.isJsonPrimitive()){\n                 Number num = null;\n                  try {\n                      num = NumberFormat.getInstance().parse(v.getAsString());\n                  } catch (Exception e) {\n                      e.printStackTrace();\n                  }\n                m.put(key,num);\n            }else if(v.isJsonObject()){\n                m.put(key,g.fromJson(v, Map.class));    \n            }\n\n        }\n      return m;\n   }\n}\n\nprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\n    public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)  throws JsonParseException {\n        List&lt;Object&gt; m  = new ArrayList&lt;Object&gt;();\n        JsonArray arr = json.getAsJsonArray();\n        for (JsonElement jsonElement : arr) {\n            if(jsonElement.isJsonObject()){\n                m.add(g.fromJson(jsonElement, Map.class));\n            }else if(jsonElement.isJsonArray()){\n                m.add(g.fromJson(jsonElement, List.class));\n            }else if(jsonElement.isJsonPrimitive()){\n                Number num = null;\n                try {\n                  num = NumberFormat.getInstance().parse(jsonElement.getAsString());\n                } catch (Exception e) {\n                }\n                m.add(num);\n            }\n        }\n      return m;\n   }\n}\n\nprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(\"yyyy-MM-dd HH:mm:ss\").serializeNulls().create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":274541,"reputation":327,"user_id":566839,"accept_rate":80,"display_name":"peanutman"},"score":0,"creation_date":1511177338,"post_id":32235713,"comment_id":81734754,"body_markdown":"This helped me a lot! I would just like a point out a small bug. In the ListDeserializer you should remove &quot;m.add(num)&quot; in the try{ } block, because it will be added anyway after the try/catch. If you use the code as-is, it will add each number to the result twice.","body":"This helped me a lot! I would just like a point out a small bug. In the ListDeserializer you should remove &quot;m.add(num)&quot; in the try{ } block, because it will be added anyway after the try/catch. If you use the code as-is, it will add each number to the result twice."},{"owner":{"account_id":178371,"reputation":511,"user_id":410308,"display_name":"David"},"score":1,"creation_date":1518740705,"post_id":32235713,"comment_id":84640690,"body_markdown":"I think you can replace the calls to g.fromJson(...) to context.deserialize(...) to avoid the need for a static instance of gson (at least it works for me  for gson 2.6.2)","body":"I think you can replace the calls to g.fromJson(...) to context.deserialize(...) to avoid the need for a static instance of gson (at least it works for me  for gson 2.6.2)"}],"tags":[],"owner":{"account_id":5689309,"reputation":51,"user_id":4497813,"display_name":"Erik Calissendorff"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511339263,"creation_date":1440619445,"answer_id":32235713,"question_id":17090589,"body_markdown":"Been searching for a solution to the nested Map&lt;String,Object&gt; problem myself and &quot;이종은&quot; above was the first answer that actually helped in the non trivial use cases.\r\n\r\nSince the solution above only handled Number I updated the solution to provide generic parsing capability for String and booleans also, see the updated code below:\r\n\r\n\r\n\tprivate static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\r\n\t\tpublic Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\t\t\tMap&lt;String, Object&gt; m = new LinkedHashMap&lt;String, Object&gt;();\r\n\t\t\tJsonObject jo = json.getAsJsonObject();\r\n\t\t\tfor (Entry&lt;String, JsonElement&gt; mx : jo.entrySet()) {\r\n\t\t\t\tString key = mx.getKey();\r\n\t\t\t\tJsonElement v = mx.getValue();\r\n\t\t\t\tif (v.isJsonArray()) {\r\n\t\t\t\t\tm.put(key, g.fromJson(v, List.class));\r\n\t\t\t\t} else if (v.isJsonPrimitive()) {\r\n\t\t\t\t\tNumber num = null;\r\n\t\t\t\t\tParsePosition position=new ParsePosition(0);\r\n\t\t\t\t\tString vString=v.getAsString();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t  num = NumberFormat.getInstance(Locale.ROOT).parse(vString,position);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//Check if the position corresponds to the length of the string\r\n\t\t\t\t\tif(position.getErrorIndex() &lt; 0 &amp;&amp; vString.length() == position.getIndex()) {\r\n\t\t\t\t\t  if (num != null) {\r\n\t\t\t\t\t    m.put(key, num);\r\n\t\t\t\t\t    continue;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tJsonPrimitive prim = v.getAsJsonPrimitive();\r\n\t\t\t\t\tif (prim.isBoolean()) {\r\n\t\t\t\t\t\tm.put(key, prim.getAsBoolean());\r\n\t\t\t\t\t} else if (prim.isString()) {\r\n\t\t\t\t\t\tm.put(key, prim.getAsString());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm.put(key, null);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (v.isJsonObject()) {\r\n\t\t\t\t\tm.put(key, g.fromJson(v, Map.class));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\r\n\r\n\t\tpublic List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\t\t\tList&lt;Object&gt; m = new ArrayList&lt;Object&gt;();\r\n\t\t\tJsonArray arr = json.getAsJsonArray();\r\n\t\t\tfor (JsonElement jsonElement : arr) {\r\n\t\t\t\tif (jsonElement.isJsonObject()) {\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, Map.class));\r\n\t\t\t\t} else if (jsonElement.isJsonArray()) {\r\n\t\t\t\t\tm.add(g.fromJson(jsonElement, List.class));\r\n\t\t\t\t} else if (jsonElement.isJsonPrimitive()) {\r\n\t\t\t\t\tNumber num = null;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tnum = NumberFormat.getInstance().parse(jsonElement.getAsString());\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (num != null) {\r\n\t\t\t\t\t\tm.add(num);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tJsonPrimitive prim = jsonElement.getAsJsonPrimitive();\r\n\t\t\t\t\tif (prim.isBoolean()) {\r\n\t\t\t\t\t\tm.add(prim.getAsBoolean());\r\n\t\t\t\t\t} else if (prim.isString()) {\r\n\t\t\t\t\t\tm.add(prim.getAsString());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tm.add(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn m;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).create();","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Been searching for a solution to the nested Map problem myself and \"이종은\" above was the first answer that actually helped in the non trivial use cases.</p>\n\n<p>Since the solution above only handled Number I updated the solution to provide generic parsing capability for String and booleans also, see the updated code below:</p>\n\n<pre><code>private static class MapDeserializer implements JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        Map&lt;String, Object&gt; m = new LinkedHashMap&lt;String, Object&gt;();\n        JsonObject jo = json.getAsJsonObject();\n        for (Entry&lt;String, JsonElement&gt; mx : jo.entrySet()) {\n            String key = mx.getKey();\n            JsonElement v = mx.getValue();\n            if (v.isJsonArray()) {\n                m.put(key, g.fromJson(v, List.class));\n            } else if (v.isJsonPrimitive()) {\n                Number num = null;\n                ParsePosition position=new ParsePosition(0);\n                String vString=v.getAsString();\n                try {\n                  num = NumberFormat.getInstance(Locale.ROOT).parse(vString,position);\n                } catch (Exception e) {\n                }\n                //Check if the position corresponds to the length of the string\n                if(position.getErrorIndex() &lt; 0 &amp;&amp; vString.length() == position.getIndex()) {\n                  if (num != null) {\n                    m.put(key, num);\n                    continue;\n                  }\n                }\n                JsonPrimitive prim = v.getAsJsonPrimitive();\n                if (prim.isBoolean()) {\n                    m.put(key, prim.getAsBoolean());\n                } else if (prim.isString()) {\n                    m.put(key, prim.getAsString());\n                } else {\n                    m.put(key, null);\n                }\n\n            } else if (v.isJsonObject()) {\n                m.put(key, g.fromJson(v, Map.class));\n            }\n\n        }\n        return m;\n    }\n}\n\nprivate static class ListDeserializer implements JsonDeserializer&lt;List&lt;Object&gt;&gt; {\n\n    public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        List&lt;Object&gt; m = new ArrayList&lt;Object&gt;();\n        JsonArray arr = json.getAsJsonArray();\n        for (JsonElement jsonElement : arr) {\n            if (jsonElement.isJsonObject()) {\n                m.add(g.fromJson(jsonElement, Map.class));\n            } else if (jsonElement.isJsonArray()) {\n                m.add(g.fromJson(jsonElement, List.class));\n            } else if (jsonElement.isJsonPrimitive()) {\n                Number num = null;\n                try {\n                    num = NumberFormat.getInstance().parse(jsonElement.getAsString());\n                } catch (Exception e) {\n                }\n                if (num != null) {\n                    m.add(num);\n                    continue;\n                }\n                JsonPrimitive prim = jsonElement.getAsJsonPrimitive();\n                if (prim.isBoolean()) {\n                    m.add(prim.getAsBoolean());\n                } else if (prim.isString()) {\n                    m.add(prim.getAsString());\n                } else {\n                    m.add(null);\n                }\n            }\n        }\n        return m;\n    }\n}\n\nprivate static Gson g = new GsonBuilder().registerTypeAdapter(Map.class, new MapDeserializer()).registerTypeAdapter(List.class, new ListDeserializer()).setDateFormat(\"yyyy-MM-dd HH:mm:ss\").create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2748644,"reputation":6153,"user_id":2368492,"display_name":"Zephyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441294771,"creation_date":1441294771,"answer_id":32380014,"question_id":17090589,"body_markdown":"Here is my example, the first part is the definition of the class that has an int type field.\r\n\r\n    import com.google.api.client.util.Key;\r\n    \r\n    public class Folder {\r\n    \r\n        public static final String FIELD_NAME_CHILD_COUNT = &quot;childCount&quot;;\r\n    \r\n        @Key(FIELD_NAME_CHILD_COUNT)\r\n        public final int childCount;\r\n    \r\n        public Folder(int aChildCount) {\r\n            childCount = aChildCount;\r\n        }\r\n    }\r\n\r\nThen the TypeAdapter to convert the number type in Gson to a Java object.\r\n\r\n    GsonBuilder gsb = new GsonBuilder();\r\n\r\n    gsb.registerTypeAdapter(Folder.class, new JsonDeserializer&lt;Folder&gt;() {\r\n\r\n                @Override\r\n                public Folder deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n\r\n                    int value = json.getAsJsonObject().get(&quot;childCount&quot;).getAsJsonPrimitive().getAsInt();\r\n\r\n                    return new Folder(value);\r\n\r\n                }\r\n            }\r\n    );\r\n\r\nThe third part is the test data, and it works.\r\n\r\n    String gsonData =  new String(&quot;\\&quot;folder\\&quot;:{\\&quot;childCount\\&quot;:0}&quot;);","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Here is my example, the first part is the definition of the class that has an int type field.</p>\n\n<pre><code>import com.google.api.client.util.Key;\n\npublic class Folder {\n\n    public static final String FIELD_NAME_CHILD_COUNT = \"childCount\";\n\n    @Key(FIELD_NAME_CHILD_COUNT)\n    public final int childCount;\n\n    public Folder(int aChildCount) {\n        childCount = aChildCount;\n    }\n}\n</code></pre>\n\n<p>Then the TypeAdapter to convert the number type in Gson to a Java object.</p>\n\n<pre><code>GsonBuilder gsb = new GsonBuilder();\n\ngsb.registerTypeAdapter(Folder.class, new JsonDeserializer&lt;Folder&gt;() {\n\n            @Override\n            public Folder deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n\n                int value = json.getAsJsonObject().get(\"childCount\").getAsJsonPrimitive().getAsInt();\n\n                return new Folder(value);\n\n            }\n        }\n);\n</code></pre>\n\n<p>The third part is the test data, and it works.</p>\n\n<pre><code>String gsonData =  new String(\"\\\"folder\\\":{\\\"childCount\\\":0}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518048375,"creation_date":1518048375,"answer_id":48675366,"question_id":17090589,"body_markdown":"To avoid possible ClassCastException, it is better to cast to `Number` first. In the following code `map` was deserialized from JSON as a `Map` with no generics.\r\n\r\n    int numberOfPages = ((Number) map.get(&quot;number_of_pages&quot;)).intValue();","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>To avoid possible ClassCastException, it is better to cast to <code>Number</code> first. In the following code <code>map</code> was deserialized from JSON as a <code>Map</code> with no generics.</p>\n\n<pre><code>int numberOfPages = ((Number) map.get(\"number_of_pages\")).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1831862,"reputation":930,"user_id":1663094,"accept_rate":0,"display_name":"Oleksandr Tsurika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574797303,"creation_date":1574797303,"answer_id":59058304,"question_id":17090589,"body_markdown":"Register type adapter for `Map`:\r\n \r\n\r\n       Gson gson = new GsonBuilder()\r\n                .registerTypeAdapter(Map.class, new JsonDeserializer&lt;Map&gt;() {\r\n                    @Override\r\n                    public Map deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\r\n                        LinkedTreeMap&lt;String,Object&gt; m  = new LinkedTreeMap&lt;String, Object&gt;();\r\n                        JsonObject jo = json.getAsJsonObject();\r\n                        for (Map.Entry&lt;String, JsonElement&gt; mx : jo.entrySet()){\r\n                            String key = mx.getKey();\r\n                            JsonElement v = mx.getValue();\r\n                            if(v.isJsonArray()){\r\n                                m.put(key, context.deserialize(v, List.class));\r\n                            }else if(v.isJsonPrimitive()){\r\n                                Object value = v.getAsString();\r\n                                try {\r\n                                    Object numValue = NumberFormat.getInstance().parse((String)value);\r\n                                    if (numValue != null &amp;&amp; numValue.toString().equals(value)) {\r\n                                        value = numValue;\r\n                                    }\r\n                                } catch (Exception e) {\r\n                                }\r\n                                m.put(key, value);\r\n                            }else if(v.isJsonObject()){\r\n                                m.put(key,context.deserialize(v, Map.class));\r\n                            }\r\n                        }\r\n                        return m;\r\n                    }\r\n                })\r\n                .create();\r\n     \r\n\r\nand deserialize using it like: `gson.fromJson(instanceJson, Map.class)`, where `instanceJson` is an `json` of object which should be deserialized into `Map`.","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>Register type adapter for <code>Map</code>:</p>\n\n<pre><code>   Gson gson = new GsonBuilder()\n            .registerTypeAdapter(Map.class, new JsonDeserializer&lt;Map&gt;() {\n                @Override\n                public Map deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n                    LinkedTreeMap&lt;String,Object&gt; m  = new LinkedTreeMap&lt;String, Object&gt;();\n                    JsonObject jo = json.getAsJsonObject();\n                    for (Map.Entry&lt;String, JsonElement&gt; mx : jo.entrySet()){\n                        String key = mx.getKey();\n                        JsonElement v = mx.getValue();\n                        if(v.isJsonArray()){\n                            m.put(key, context.deserialize(v, List.class));\n                        }else if(v.isJsonPrimitive()){\n                            Object value = v.getAsString();\n                            try {\n                                Object numValue = NumberFormat.getInstance().parse((String)value);\n                                if (numValue != null &amp;&amp; numValue.toString().equals(value)) {\n                                    value = numValue;\n                                }\n                            } catch (Exception e) {\n                            }\n                            m.put(key, value);\n                        }else if(v.isJsonObject()){\n                            m.put(key,context.deserialize(v, Map.class));\n                        }\n                    }\n                    return m;\n                }\n            })\n            .create();\n</code></pre>\n\n<p>and deserialize using it like: <code>gson.fromJson(instanceJson, Map.class)</code>, where <code>instanceJson</code> is an <code>json</code> of object which should be deserialized into <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":17385796,"reputation":219,"user_id":12597147,"display_name":"CodingSamples"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617983472,"creation_date":1617983107,"answer_id":67024244,"question_id":17090589,"body_markdown":"here is my solution to solve the Problem. I tried to implement it as clean as possible. I didn&#39; t find a better easy solution to check if a number is an integer.\r\n\r\n```\r\npublic final class GSONUtil {\r\n\r\n    private GSONUtil() {\r\n    }\r\n\r\n    public static Gson createGson() {\r\n\r\n        // @formatter:off\r\n        return new GsonBuilder()\r\n                .registerTypeAdapter(Map.class, createMapDeserializer())\r\n                .registerTypeAdapter(List.class, createListDeserializer())\r\n                .create();\r\n        // @formatter:on\r\n    }\r\n\r\n    private static JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; createMapDeserializer() {\r\n        return new JsonDeserializer&lt;Map&lt;String,Object&gt;&gt;() {\r\n\r\n            @Override\r\n            public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                    throws JsonParseException {\r\n\r\n                return json.getAsJsonObject().entrySet().stream() // stream\r\n                        .collect(Collectors.toMap(Entry::getKey, (e) -&gt; JSONUtil.deserialize(e.getValue(), context)));\r\n            }\r\n        };\r\n    }\r\n\r\n    private static JsonDeserializer&lt;List&lt;Object&gt;&gt; createListDeserializer() {\r\n        return new JsonDeserializer&lt;List&lt;Object&gt;&gt;() {\r\n\r\n            @Override\r\n            public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n                    throws JsonParseException {\r\n\r\n                return StreamSupport.stream(json.getAsJsonArray().spliterator(), false) // stream\r\n                        .map((e) -&gt; JSONUtil.deserialize(e, context)).collect(Collectors.toList());\r\n            }\r\n        };\r\n    }\r\n\r\n    private static Object deserialize(JsonElement value, JsonDeserializationContext context) {\r\n\r\n        if (value.isJsonNull()) {\r\n            return null;\r\n        }\r\n        if (value.isJsonObject()) {\r\n            return context.deserialize(value, Map.class);\r\n        }\r\n        if (value.isJsonArray()) {\r\n            return context.deserialize(value, List.class);\r\n        }\r\n        if (value.isJsonPrimitive()) {\r\n            return parsePrimitive(value);\r\n        }\r\n\r\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\r\n    }\r\n\r\n    private static Object parsePrimitive(JsonElement value) {\r\n\r\n        final JsonPrimitive jsonPrimitive = value.getAsJsonPrimitive();\r\n\r\n        if (jsonPrimitive.isString()) {\r\n            return jsonPrimitive.getAsString();\r\n        }\r\n\r\n        if (jsonPrimitive.isBoolean()) {\r\n            return jsonPrimitive.getAsBoolean();\r\n        }\r\n\r\n        if (jsonPrimitive.isNumber()) {\r\n            return parseNumber(jsonPrimitive);\r\n        }\r\n\r\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\r\n    }\r\n\r\n    private static Number parseNumber(JsonPrimitive jsonPrimitive) {\r\n\r\n        if (isInteger(jsonPrimitive)) {\r\n            return jsonPrimitive.getAsLong();\r\n        }\r\n\r\n        return jsonPrimitive.getAsDouble();\r\n    }\r\n\r\n    private static boolean isInteger(final JsonPrimitive jsonPrimitive) {\r\n        return jsonPrimitive.getAsString().matches(&quot;[-]?\\\\d+&quot;);\r\n    }\r\n}\r\n```","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>here is my solution to solve the Problem. I tried to implement it as clean as possible. I didn' t find a better easy solution to check if a number is an integer.</p>\n<pre><code>public final class GSONUtil {\n\n    private GSONUtil() {\n    }\n\n    public static Gson createGson() {\n\n        // @formatter:off\n        return new GsonBuilder()\n                .registerTypeAdapter(Map.class, createMapDeserializer())\n                .registerTypeAdapter(List.class, createListDeserializer())\n                .create();\n        // @formatter:on\n    }\n\n    private static JsonDeserializer&lt;Map&lt;String,Object&gt;&gt; createMapDeserializer() {\n        return new JsonDeserializer&lt;Map&lt;String,Object&gt;&gt;() {\n\n            @Override\n            public Map&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n                    throws JsonParseException {\n\n                return json.getAsJsonObject().entrySet().stream() // stream\n                        .collect(Collectors.toMap(Entry::getKey, (e) -&gt; JSONUtil.deserialize(e.getValue(), context)));\n            }\n        };\n    }\n\n    private static JsonDeserializer&lt;List&lt;Object&gt;&gt; createListDeserializer() {\n        return new JsonDeserializer&lt;List&lt;Object&gt;&gt;() {\n\n            @Override\n            public List&lt;Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n                    throws JsonParseException {\n\n                return StreamSupport.stream(json.getAsJsonArray().spliterator(), false) // stream\n                        .map((e) -&gt; JSONUtil.deserialize(e, context)).collect(Collectors.toList());\n            }\n        };\n    }\n\n    private static Object deserialize(JsonElement value, JsonDeserializationContext context) {\n\n        if (value.isJsonNull()) {\n            return null;\n        }\n        if (value.isJsonObject()) {\n            return context.deserialize(value, Map.class);\n        }\n        if (value.isJsonArray()) {\n            return context.deserialize(value, List.class);\n        }\n        if (value.isJsonPrimitive()) {\n            return parsePrimitive(value);\n        }\n\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\n    }\n\n    private static Object parsePrimitive(JsonElement value) {\n\n        final JsonPrimitive jsonPrimitive = value.getAsJsonPrimitive();\n\n        if (jsonPrimitive.isString()) {\n            return jsonPrimitive.getAsString();\n        }\n\n        if (jsonPrimitive.isBoolean()) {\n            return jsonPrimitive.getAsBoolean();\n        }\n\n        if (jsonPrimitive.isNumber()) {\n            return parseNumber(jsonPrimitive);\n        }\n\n        throw new IllegalStateException(&quot;This exception should never be thrown!&quot;);\n    }\n\n    private static Number parseNumber(JsonPrimitive jsonPrimitive) {\n\n        if (isInteger(jsonPrimitive)) {\n            return jsonPrimitive.getAsLong();\n        }\n\n        return jsonPrimitive.getAsDouble();\n    }\n\n    private static boolean isInteger(final JsonPrimitive jsonPrimitive) {\n        return jsonPrimitive.getAsString().matches(&quot;[-]?\\\\d+&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13450560,"reputation":456,"user_id":9705503,"display_name":"Mohammad hp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687783965,"creation_date":1687783965,"answer_id":76556876,"question_id":17090589,"body_markdown":"This bug has been solved in gson 2.8.9. Look at [This PR].\r\n\r\nBasically you can define object to number strategy as follows:\r\n\r\n    GsonBuilder gsonBuilder = new GsonBuilder().setObjectToNumberStrategy(ToNumberPolicy.LONG_OR_DOUBLE);\r\n    Gson gson = gsonBuilder.create();\r\n\r\n\r\n  [This PR]: https://github.com/google/gson/pull/1290","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>This bug has been solved in gson 2.8.9. Look at <a href=\"https://github.com/google/gson/pull/1290\" rel=\"nofollow noreferrer\">This PR</a>.</p>\n<p>Basically you can define object to number strategy as follows:</p>\n<pre><code>GsonBuilder gsonBuilder = new GsonBuilder().setObjectToNumberStrategy(ToNumberPolicy.LONG_OR_DOUBLE);\nGson gson = gsonBuilder.create();\n</code></pre>\n"}],"owner":{"account_id":2026878,"reputation":1243,"user_id":1823997,"accept_rate":55,"display_name":"Moses"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26210,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":9,"score":17,"last_activity_date":1687783965,"creation_date":1371136061,"question_id":17090589,"body_markdown":"I have json object with arbitary values inside. And I want to deserialize it in a Map&lt;String, Object&gt;. Everything is ok except converting integers to a doubles. See example:\r\n\r\n    {&quot;id&quot;:1, &quot;inner_obj&quot;:{&quot;key&quot;:&quot;value&quot;,&quot;num&quot;:666,&quot;map&quot;:{&quot;key&quot;:&quot;value&quot;}}}\r\n\r\ndeserializes to this(map.toString()):\r\n\r\n    {id=1.0, inner_obj={key=value, num=666.0, map={key=value}}}\r\n\r\nIs there some easy way to deserialize &quot;id&quot; and &quot;num&quot; as Integers and not as Doubles?","title":"Gson. Deserialize integers as integers and not as doubles","body":"<p>I have json object with arbitary values inside. And I want to deserialize it in a Map. Everything is ok except converting integers to a doubles. See example:</p>\n\n<pre><code>{\"id\":1, \"inner_obj\":{\"key\":\"value\",\"num\":666,\"map\":{\"key\":\"value\"}}}\n</code></pre>\n\n<p>deserializes to this(map.toString()):</p>\n\n<pre><code>{id=1.0, inner_obj={key=value, num=666.0, map={key=value}}}\n</code></pre>\n\n<p>Is there some easy way to deserialize \"id\" and \"num\" as Integers and not as Doubles?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1687782310,"post_id":76556508,"comment_id":134980293,"body_markdown":"`currentDate` is a `LocalDate` - that does not have a format - it only has a default format used when it is converted to `String` using its `toString()` method - you need to use the `DateTimeFormatter` to `format` the `LocalDate` as required","body":"<code>currentDate</code> is a <code>LocalDate</code> - that does not have a format - it only has a default format used when it is converted to <code>String</code> using its <code>toString()</code> method - you need to use the <code>DateTimeFormatter</code> to <code>format</code> the <code>LocalDate</code> as required"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687783655,"creation_date":1687783655,"answer_id":76556839,"question_id":76556508,"body_markdown":"## tl;dr \r\n### the today&#39;s date in the desired format\r\n```Java\r\nSystem.out.println(\r\n    LocalDate.now().format(\r\n        DateTimeFormatter.ofPattern(\r\n            &quot;MMMM, d uuuu&quot;,\r\n            Locale.ENGLISH\r\n        )\r\n    )\r\n);\r\n```\r\n\r\n---\r\n### Explanation\r\n\r\nYou&#39;re attempt to retrieve *the currentDate in the format MMMM d, YYYY* does not work because you don&#39;t produce the `String` output.  \r\nInstead, you try to `parse(currentDate, formatter)`, wich cannot won&#39;t be working either due to an unexpected type of the first parameter/argument (expects a `String`, you pass a `LocalDate`), or — if `LocalDate.toString()` is used implicitly — it won&#39;t have your custom format.\r\n\r\n## Demo\r\n### Code\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// get today&#39;s date as LocalDate\r\n\tLocalDate today = LocalDate.now();\r\n\t// provide a DateTimeFormatter for the desired OUTPUT\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n\t\t\t\t\t\t\t\t\t\t&quot;MMMM d, uuuu&quot;,\r\n\t\t\t\t\t\t\t\t\t\tLocale.ENGLISH\r\n\t\t\t\t\t\t\t\t  );\r\n\t// print the resulting LocalDate&#39;s toString() (implicitly)\r\n\tSystem.out.println(&quot;toString(): &quot; + today);\r\n\t// print the resulting LocalDate formatted by the formatter\r\n\tSystem.out.println(&quot;formatted:  &quot; + today.format(formatter));\r\n}\r\n```\r\n\r\n### Output\r\n```none\r\ntoString(): 2023-06-26\r\nformatted:  June 26, 2023\r\n```","title":"how to parse a LocaleDate to a specific pattern mentioned in the DateTimeFormatter","body":"<h2>tl;dr</h2>\n<h3>the today's date in the desired format</h3>\n<pre><code>System.out.println(\n    LocalDate.now().format(\n        DateTimeFormatter.ofPattern(\n            &quot;MMMM, d uuuu&quot;,\n            Locale.ENGLISH\n        )\n    )\n);\n</code></pre>\n<hr />\n<h3>Explanation</h3>\n<p>You're attempt to retrieve <em>the currentDate in the format MMMM d, YYYY</em> does not work because you don't produce the <code>String</code> output.<br />\nInstead, you try to <code>parse(currentDate, formatter)</code>, wich cannot won't be working either due to an unexpected type of the first parameter/argument (expects a <code>String</code>, you pass a <code>LocalDate</code>), or — if <code>LocalDate.toString()</code> is used implicitly — it won't have your custom format.</p>\n<h2>Demo</h2>\n<h3>Code</h3>\n<pre><code>public static void main(String[] args) {\n    // get today's date as LocalDate\n    LocalDate today = LocalDate.now();\n    // provide a DateTimeFormatter for the desired OUTPUT\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                                        &quot;MMMM d, uuuu&quot;,\n                                        Locale.ENGLISH\n                                  );\n    // print the resulting LocalDate's toString() (implicitly)\n    System.out.println(&quot;toString(): &quot; + today);\n    // print the resulting LocalDate formatted by the formatter\n    System.out.println(&quot;formatted:  &quot; + today.format(formatter));\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>toString(): 2023-06-26\nformatted:  June 26, 2023\n</code></pre>\n"}],"owner":{"account_id":28897411,"reputation":1,"user_id":22133135,"display_name":"Greeshma Gangamma M.C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687793058,"answer_count":1,"score":0,"last_activity_date":1687783655,"creation_date":1687781115,"question_id":76556508,"body_markdown":"I want the currentDate in the format `MMMM d, YYYY`\r\n\r\n```Java\r\nLocalDate currentDate = LocalDate.now();\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;);\r\nString createdOnDate = alertspage.createdondate().trim();\r\nLocalDate Date = LocalDate.parse(currentDate, formatter);\r\n```","title":"how to parse a LocaleDate to a specific pattern mentioned in the DateTimeFormatter","body":"<p>I want the currentDate in the format <code>MMMM d, YYYY</code></p>\n<pre><code>LocalDate currentDate = LocalDate.now();\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM d, yyyy&quot;);\nString createdOnDate = alertspage.createdondate().trim();\nLocalDate Date = LocalDate.parse(currentDate, formatter);\n</code></pre>\n"},{"tags":["java","android","qr-code","barcode-scanner"],"owner":{"account_id":24211306,"reputation":1,"user_id":18167801,"display_name":"Khushi A M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687783407,"creation_date":1687702890,"question_id":76550857,"body_markdown":"Is it possible to open an activity after scanning a QR code?\r\nand How to create QR CODE for an Activity so that When i scan that activity should open\r\nplease help me with my project\r\n\r\n\r\nI Don&#39;t know how to create QR code for an activity","title":"is it possible to open an activity after scanning a QR code?","body":"<p>Is it possible to open an activity after scanning a QR code?\nand How to create QR CODE for an Activity so that When i scan that activity should open\nplease help me with my project</p>\n<p>I Don't know how to create QR code for an activity</p>\n"},{"tags":["java","spring","load-balancing","feign"],"answers":[{"tags":[],"owner":{"account_id":11554395,"reputation":94,"user_id":8465978,"display_name":"Badr Kacimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687783293,"creation_date":1687783293,"answer_id":76556787,"question_id":76530895,"body_markdown":"This issue is an open bug in the spring cloud Feign :\r\nhttps://github.com/spring-cloud/spring-cloud-openfeign/issues/475\r\n\r\nThese are the version numbers of my project dependencies :\r\n\r\n    Spring boot 3.1.0\r\n    spring-cloud 2022.0.3\r\n    Java 17\r\n\r\nThis workaround works for me (I added this method in my WebclientConfiguration class)  :\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class WebclientConfiguration {\r\n    ...\r\n    \r\n     @Bean\r\n      @ConditionalOnMissingBean\r\n      public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\r\n        return new LoadBalancerClientFactory(properties) {\r\n          @Override public AnnotationConfigApplicationContext createContext(String name) {\r\n            ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n            Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\r\n            AnnotationConfigApplicationContext context = (AnnotationConfigApplicationContext) super.createContext(name);\r\n            Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n            return context;\r\n          }\r\n        };\r\n      }\r\n    }","title":"Issue when using openfeign client called within an asynchronous method","body":"<p>This issue is an open bug in the spring cloud Feign :\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/475\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-openfeign/issues/475</a></p>\n<p>These are the version numbers of my project dependencies :</p>\n<pre><code>Spring boot 3.1.0\nspring-cloud 2022.0.3\nJava 17\n</code></pre>\n<p>This workaround works for me (I added this method in my WebclientConfiguration class)  :</p>\n<pre><code>@Configuration\n@Slf4j\npublic class WebclientConfiguration {\n...\n\n @Bean\n  @ConditionalOnMissingBean\n  public LoadBalancerClientFactory loadBalancerClientFactory(LoadBalancerClientsProperties properties) {\n    return new LoadBalancerClientFactory(properties) {\n      @Override public AnnotationConfigApplicationContext createContext(String name) {\n        ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\n        Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());\n        AnnotationConfigApplicationContext context = (AnnotationConfigApplicationContext) super.createContext(name);\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\n        return context;\n      }\n    };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11554395,"reputation":94,"user_id":8465978,"display_name":"Badr Kacimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556787,"answer_count":1,"score":0,"last_activity_date":1687783293,"creation_date":1687429264,"question_id":76530895,"body_markdown":"I encounter this error when calling a service asynchronously using Feign after a migration from Java 8 to Java 17 and to spring 3\r\n\r\n        {\r\n          &quot;code&quot;: &quot;SI-SERVICE-ERROR-000500&quot;,\r\n          &quot;message&quot;: &quot;org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration   class [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientConfiguration]\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnPropertyCondition\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        }\r\n\r\nMy Feign and Main class :\r\n\r\n    @Service\r\n    @FeignClient(name = &quot;si-booking-service&quot;, path = &quot;/si-booking-service/bookings&quot;)\r\n    public interface SIBookingServiceClient {...}\r\n\r\n\r\n    @EnableFeignClients\r\n    @EnableDiscoveryClient\r\n    public class MainApplication {..}\r\n","title":"Issue when using openfeign client called within an asynchronous method","body":"<p>I encounter this error when calling a service asynchronously using Feign after a migration from Java 8 to Java 17 and to spring 3</p>\n<pre><code>    {\n      &quot;code&quot;: &quot;SI-SERVICE-ERROR-000500&quot;,\n      &quot;message&quot;: &quot;org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration   class [org.springframework.cloud.loadbalancer.annotation.LoadBalancerClientConfiguration]\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.condition.OnPropertyCondition\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    }\n</code></pre>\n<p>My Feign and Main class :</p>\n<pre><code>@Service\n@FeignClient(name = &quot;si-booking-service&quot;, path = &quot;/si-booking-service/bookings&quot;)\npublic interface SIBookingServiceClient {...}\n\n\n@EnableFeignClients\n@EnableDiscoveryClient\npublic class MainApplication {..}\n</code></pre>\n"},{"tags":["java","testing","jaxb","java-17","jakarta-migration"],"comments":[{"owner":{"account_id":10769785,"reputation":341,"user_id":7923565,"display_name":"Markus Schreiber"},"score":0,"creation_date":1687178451,"post_id":76506647,"comment_id":134896188,"body_markdown":"Just as sanity check did you try to use `api` instead of `implementation` be be sure it is this module which misses the dependency and not some sub module which would not be covered by `implementation`.","body":"Just as sanity check did you try to use <code>api</code> instead of <code>implementation</code> be be sure it is this module which misses the dependency and not some sub module which would not be covered by <code>implementation</code>."},{"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"score":0,"creation_date":1687179011,"post_id":76506647,"comment_id":134896311,"body_markdown":"I&#39;ve tried. Same failure.","body":"I&#39;ve tried. Same failure."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1687691026,"post_id":76506647,"comment_id":134969257,"body_markdown":"jakarta.xml.bind is the successor library auf jaxb but it is not directly compatible as the package name has changed. So each library and you code has to be migrated to this new library. `javax.xml.bind`-&gt; `jakarta.xml.bind`.","body":"jakarta.xml.bind is the successor library auf jaxb but it is not directly compatible as the package name has changed. So each library and you code has to be migrated to this new library. <code>javax.xml.bind</code>-&gt; <code>jakarta.xml.bind</code>."}],"answers":[{"tags":[],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687783248,"creation_date":1687783248,"answer_id":76556780,"question_id":76506647,"body_markdown":"There was another dependency which was pulling up javax modules. Refactoring dependencies solved the issue","title":"Java 17 - java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement","body":"<p>There was another dependency which was pulling up javax modules. Refactoring dependencies solved the issue</p>\n"}],"owner":{"account_id":5596641,"reputation":1936,"user_id":4434202,"accept_rate":54,"display_name":"Akinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687783248,"creation_date":1687177800,"question_id":76506647,"body_markdown":"I have a gradle project in Java17 and when running a test I&#39;m getting the following error:\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\r\n\r\n\r\nThis is how the test look like:\r\n\r\n    public class SettingsServiceTest extends AbstractIntegrationTest {\r\n    @Autowired\r\n    private SettingsService settingsService;\r\n\r\n\r\n    @Test\r\n    void shouldReturnMandatorySetting() {\r\n        wireMockGetConfig();\r\n     \r\n        String res = settingsService.getMandatorySetting();\r\n        Assertions.assertEquals(res, &quot;setting&quot;);\r\n    }\r\n\r\nThe `wiremockGetConfig` method:\r\n\r\n     protected void wireMockGetConfig() {\r\n        givenThat(get(urlPathEqualTo(&quot;/settings/appid&quot;))\r\n                .willReturn(aResponse()\r\n                        .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\r\n                        .withBody(readResource(SETTINGS_JSON_FILE))\r\n                        .withStatus((Response.SC_OK))));\r\n    }\r\n\r\nAs you can see I&#39;m trying to mock the response of a client. The response is going to be a json file.\r\nI&#39;ve used this pattern multiple times and it always worked perfectly. Recently we migrated our apps to Java17 and after looking at [this older thread][1] I&#39;m starting to think I need to configure something. I&#39;ve no references to javax in the code (we already migrated for Java17).\r\n\r\nI&#39;ve already tried to add the dependencies mentioned in the accepted answer of the above thread:\r\n\r\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\r\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\r\n\r\nwith no changes/success.\r\nI&#39;ve also tried using version 4.0.0 with no difference.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\r\n\r\n\r\n","title":"Java 17 - java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement","body":"<p>I have a gradle project in Java17 and when running a test I'm getting the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\n</code></pre>\n<p>This is how the test look like:</p>\n<pre><code>public class SettingsServiceTest extends AbstractIntegrationTest {\n@Autowired\nprivate SettingsService settingsService;\n\n\n@Test\nvoid shouldReturnMandatorySetting() {\n    wireMockGetConfig();\n \n    String res = settingsService.getMandatorySetting();\n    Assertions.assertEquals(res, &quot;setting&quot;);\n}\n</code></pre>\n<p>The <code>wiremockGetConfig</code> method:</p>\n<pre><code> protected void wireMockGetConfig() {\n    givenThat(get(urlPathEqualTo(&quot;/settings/appid&quot;))\n            .willReturn(aResponse()\n                    .withHeader(CONTENT_TYPE, APPLICATION_JSON_VALUE)\n                    .withBody(readResource(SETTINGS_JSON_FILE))\n                    .withStatus((Response.SC_OK))));\n}\n</code></pre>\n<p>As you can see I'm trying to mock the response of a client. The response is going to be a json file.\nI've used this pattern multiple times and it always worked perfectly. Recently we migrated our apps to Java17 and after looking at <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">this older thread</a> I'm starting to think I need to configure something. I've no references to javax in the code (we already migrated for Java17).</p>\n<p>I've already tried to add the dependencies mentioned in the accepted answer of the above thread:</p>\n<pre><code>implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.2&quot;\nimplementation &quot;org.glassfish.jaxb:jaxb-runtime:2.3.2&quot;\n</code></pre>\n<p>with no changes/success.\nI've also tried using version 4.0.0 with no difference.</p>\n"},{"tags":["java","android","generics","android-databinding"],"answers":[{"comments":[{"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"score":0,"creation_date":1687781657,"post_id":76556382,"comment_id":134980140,"body_markdown":"Thanks, this method worked. My approach was wrong, now I understand it, I was always trying to access the binding inside the class, I didn&#39;t think to send it directly from outside.","body":"Thanks, this method worked. My approach was wrong, now I understand it, I was always trying to access the binding inside the class, I didn&#39;t think to send it directly from outside."},{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1687782214,"post_id":76556382,"comment_id":134980271,"body_markdown":"That&#39;s good, I did add an example too of how you could create a class for this","body":"That&#39;s good, I did add an example too of how you could create a class for this"}],"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687782200,"creation_date":1687780053,"answer_id":76556382,"question_id":76556275,"body_markdown":"Couldn&#39;t you just pass in the `View` or `MaterialShapeDrawable` instead of the binding?\r\n``` \r\npublic static void applyRadiusCorner(View v) {\r\n   if(!(v.getBackground() instanceof MaterialShapeDrawable)\r\n     throw new IllegalArgumentException();\r\n   applyRadiusCorner((MaterialShapeDrawable) v.getBackground());\r\n}\r\n\r\npublic static void applyRadiusCorner(MaterialShapeDrawable drawable) {\r\n  final float radius = getResources().getDimension(R.dimen.default_corner_radius);\r\n  drawable.setShapeAppearanceModel(drawable.getShapeAppearanceModel()\r\n    .toBuilder()\r\n    .setAllCorners(ROUNDED,radius)\r\n    .build());\r\n}\r\n```\r\nAnd use it as `applyRadiusCorner(binding.toolbar)`.\r\n\r\n**Edit:** \r\n\r\nWrapping this in a class:\r\n\r\n```\r\nclass StyleableToolbar {\r\n\r\n  private final Toolbar;\r\n  private final MaterialShapeDrawable background;\r\n  private final Resources res;\r\n  \r\n  private StyleableToolbar(Toolbar toolbar) {\r\n     this.toolbar = toolbar;\r\n     this.background = (MaterialShapeDrawable) toolbar.getBackground();\r\n     this.res = toolbar.getResources();\r\n  }\r\n \r\n  static Optional&lt;StyleableToolbar&gt; from(Toolbar toolbar) {\r\n    return (toolbar.getBackground() instanceof MaterialShapeDrawable) \r\n      ? Optional.of(new StyleableToolbar(toolbar)) \r\n      : Optional.empty()\r\n  }\r\n\r\n  void applyRadiusCorner() {\r\n    final float radius = res.getDimension(R.dimen.default_corner_radius); \r\n    final ShapeAppearanceModel sam = background\r\n      .getShapeAppearanceModel()\r\n      .toBuilder()\r\n      .setAllCorners(ROUNDED,radius)\r\n      .build();\r\n    background.setShapeAppearanceModel(sam);\r\n  }\r\n\r\n}\r\n```\r\nWith usage `StyleableToolbar.from(binding.toolbar).ifPresent(StyleableToolbar::applyRadiusCorner);`","title":"Running the same code in three different fragments under the common class","body":"<p>Couldn't you just pass in the <code>View</code> or <code>MaterialShapeDrawable</code> instead of the binding?</p>\n<pre><code>public static void applyRadiusCorner(View v) {\n   if(!(v.getBackground() instanceof MaterialShapeDrawable)\n     throw new IllegalArgumentException();\n   applyRadiusCorner((MaterialShapeDrawable) v.getBackground());\n}\n\npublic static void applyRadiusCorner(MaterialShapeDrawable drawable) {\n  final float radius = getResources().getDimension(R.dimen.default_corner_radius);\n  drawable.setShapeAppearanceModel(drawable.getShapeAppearanceModel()\n    .toBuilder()\n    .setAllCorners(ROUNDED,radius)\n    .build());\n}\n</code></pre>\n<p>And use it as <code>applyRadiusCorner(binding.toolbar)</code>.</p>\n<p><strong>Edit:</strong></p>\n<p>Wrapping this in a class:</p>\n<pre><code>class StyleableToolbar {\n\n  private final Toolbar;\n  private final MaterialShapeDrawable background;\n  private final Resources res;\n  \n  private StyleableToolbar(Toolbar toolbar) {\n     this.toolbar = toolbar;\n     this.background = (MaterialShapeDrawable) toolbar.getBackground();\n     this.res = toolbar.getResources();\n  }\n \n  static Optional&lt;StyleableToolbar&gt; from(Toolbar toolbar) {\n    return (toolbar.getBackground() instanceof MaterialShapeDrawable) \n      ? Optional.of(new StyleableToolbar(toolbar)) \n      : Optional.empty()\n  }\n\n  void applyRadiusCorner() {\n    final float radius = res.getDimension(R.dimen.default_corner_radius); \n    final ShapeAppearanceModel sam = background\n      .getShapeAppearanceModel()\n      .toBuilder()\n      .setAllCorners(ROUNDED,radius)\n      .build();\n    background.setShapeAppearanceModel(sam);\n  }\n\n}\n</code></pre>\n<p>With usage <code>StyleableToolbar.from(binding.toolbar).ifPresent(StyleableToolbar::applyRadiusCorner);</code></p>\n"}],"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556382,"answer_count":1,"score":0,"last_activity_date":1687782200,"creation_date":1687779146,"question_id":76556275,"body_markdown":"I am using databinding in my application.\r\nI have three different fragments, all three have toolbars with the same id.\r\nI have code that is the same in three toolbars.\r\n```\r\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\r\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\r\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setAllCorners(CornerFamily.ROUNDED,radius)\r\n                .build());\r\n```\r\n\r\n\r\nI want to create a common class as below and run the same code from here, but I couldn&#39;t figure out how to transfer the binding structure.\r\n\r\n```\r\npublic class MenuFragmentsToolbar&lt;T&gt; {\r\n\r\n    public void applyRadiusCorner(T binding){\r\n\r\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\r\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\r\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setAllCorners(CornerFamily.ROUNDED,radius)\r\n                .build());\r\n    }\r\n}\r\n```","title":"Running the same code in three different fragments under the common class","body":"<p>I am using databinding in my application.\nI have three different fragments, all three have toolbars with the same id.\nI have code that is the same in three toolbars.</p>\n<pre><code>        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\n                .toBuilder()\n                .setAllCorners(CornerFamily.ROUNDED,radius)\n                .build());\n</code></pre>\n<p>I want to create a common class as below and run the same code from here, but I couldn't figure out how to transfer the binding structure.</p>\n<pre><code>public class MenuFragmentsToolbar&lt;T&gt; {\n\n    public void applyRadiusCorner(T binding){\n\n        float radius = getResources().getDimension(R.dimen.default_corner_radius); //32dp\n        MaterialShapeDrawable materialShapeDrawable = (MaterialShapeDrawable) binding.toolbar.getBackground();\n        materialShapeDrawable.setShapeAppearanceModel(materialShapeDrawable.getShapeAppearanceModel()\n                .toBuilder()\n                .setAllCorners(CornerFamily.ROUNDED,radius)\n                .build());\n    }\n}\n</code></pre>\n"},{"tags":["java","google-bigquery","google-bigquery-java"],"answers":[{"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1687786839,"post_id":76556632,"comment_id":134981318,"body_markdown":"my problem is that i cannot make it work with my emulator. with this configuration, where do I specify the endpoint/location of the bigQery server?","body":"my problem is that i cannot make it work with my emulator. with this configuration, where do I specify the endpoint/location of the bigQery server?"}],"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687781991,"creation_date":1687781991,"answer_id":76556632,"question_id":76541932,"body_markdown":"Can you try this sample found [here][1]? (It has also a bit of description provided in the comments)\r\n\r\n```\r\n   public void initialize(TableName parentTable)\r\n        throws DescriptorValidationException, IOException, InterruptedException {\r\n      // Use the JSON stream writer to send records in JSON format. Specify the table name to write\r\n      // to the default stream.\r\n      // For more information about JsonStreamWriter, see:\r\n      // https://googleapis.dev/java/google-cloud-bigquerystorage/latest/com/google/cloud/bigquery/storage/v1/JsonStreamWriter.html\r\n      streamWriter =\r\n          JsonStreamWriter.newBuilder(parentTable.toString(), BigQueryWriteClient.create())\r\n              .setExecutorProvider(\r\n                  FixedExecutorProvider.create(Executors.newScheduledThreadPool(100)))\r\n              .setChannelProvider(\r\n                  BigQueryWriteSettings.defaultGrpcTransportProviderBuilder()\r\n                      .setKeepAliveTime(org.threeten.bp.Duration.ofMinutes(1))\r\n                      .setKeepAliveTimeout(org.threeten.bp.Duration.ofMinutes(1))\r\n                      .setKeepAliveWithoutCalls(true)\r\n                      .setChannelsPerCpu(2)\r\n                      .build())\r\n              .build();\r\n    }\r\n```\r\nYou can also find other functions as well in this github library:\r\nhttps://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java\r\n\r\n  [1]: https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java#L163","title":"Integration tests with BigQuery&#39;s JsonStreamWriter in Java","body":"<p>Can you try this sample found <a href=\"https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java#L163\" rel=\"nofollow noreferrer\">here</a>? (It has also a bit of description provided in the comments)</p>\n<pre><code>   public void initialize(TableName parentTable)\n        throws DescriptorValidationException, IOException, InterruptedException {\n      // Use the JSON stream writer to send records in JSON format. Specify the table name to write\n      // to the default stream.\n      // For more information about JsonStreamWriter, see:\n      // https://googleapis.dev/java/google-cloud-bigquerystorage/latest/com/google/cloud/bigquery/storage/v1/JsonStreamWriter.html\n      streamWriter =\n          JsonStreamWriter.newBuilder(parentTable.toString(), BigQueryWriteClient.create())\n              .setExecutorProvider(\n                  FixedExecutorProvider.create(Executors.newScheduledThreadPool(100)))\n              .setChannelProvider(\n                  BigQueryWriteSettings.defaultGrpcTransportProviderBuilder()\n                      .setKeepAliveTime(org.threeten.bp.Duration.ofMinutes(1))\n                      .setKeepAliveTimeout(org.threeten.bp.Duration.ofMinutes(1))\n                      .setKeepAliveWithoutCalls(true)\n                      .setChannelsPerCpu(2)\n                      .build())\n              .build();\n    }\n</code></pre>\n<p>You can also find other functions as well in this github library:\n<a href=\"https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-bigquerystorage/blob/main/samples/snippets/src/main/java/com/example/bigquerystorage/WriteToDefaultStream.java</a></p>\n"}],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687781991,"creation_date":1687537461,"question_id":76541932,"body_markdown":"For local development and integration testing, I am using a [BigQuery emulator][1] that exposes ports 9050 (for HTTP) and 9060 (for grpc). For example, this is how I instantiate *BigQuery* client object in Java (this works and it is connecting to my emulator): \r\n\r\n```java\r\nBigQuery bigQuery = BigQueryOptions.newBuilder()\r\n\t\t.setProjectId(BQ_PROJECT)\r\n\t\t.setHost(&quot;http://localhost:9050&quot;)\r\n\t\t.build().getService();\r\n```\r\n\r\nNow, I need to do the same thing for a [*JsonStreamWriter*][2]. Unfortunately, I couldn&#39;t find a way to do it and from the documentation, it&#39;s unclear how to do it. \r\n\r\nI have tried instantiating the JsonStreamWriter in many different ways, but with no success:\r\n\r\n```java\r\nJsonStreamWriter streamWriter = JsonStreamWriter.newBuilder(\r\n    TableName.of(BQ_PROJECT, BQ_DATASET, BQ_TABLE).toString(),\r\n\tBigQueryWriteClient.create(\r\n\t    BigQueryWriteSettings.newBuilder()\r\n\t\t    .setEndpoint(&quot;localhost:9060&quot;)\r\n\t\t\t.build()\r\n\t\t)\r\n    )\r\n    .build();\r\n```\r\nNo matter what I try, it always gets stuck when calling the *build()* method. does anybody know what is not working or what else I should be doing/trying?\r\n\r\n\r\n  [1]: https://github.com/goccy/bigquery-emulator\r\n  [2]: https://cloud.google.com/java/docs/reference/google-cloud-bigquerystorage/latest/com.google.cloud.bigquery.storage.v1.JsonStreamWriter","title":"Integration tests with BigQuery&#39;s JsonStreamWriter in Java","body":"<p>For local development and integration testing, I am using a <a href=\"https://github.com/goccy/bigquery-emulator\" rel=\"nofollow noreferrer\">BigQuery emulator</a> that exposes ports 9050 (for HTTP) and 9060 (for grpc). For example, this is how I instantiate <em>BigQuery</em> client object in Java (this works and it is connecting to my emulator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigQuery bigQuery = BigQueryOptions.newBuilder()\n        .setProjectId(BQ_PROJECT)\n        .setHost(&quot;http://localhost:9050&quot;)\n        .build().getService();\n</code></pre>\n<p>Now, I need to do the same thing for a <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigquerystorage/latest/com.google.cloud.bigquery.storage.v1.JsonStreamWriter\" rel=\"nofollow noreferrer\"><em>JsonStreamWriter</em></a>. Unfortunately, I couldn't find a way to do it and from the documentation, it's unclear how to do it.</p>\n<p>I have tried instantiating the JsonStreamWriter in many different ways, but with no success:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonStreamWriter streamWriter = JsonStreamWriter.newBuilder(\n    TableName.of(BQ_PROJECT, BQ_DATASET, BQ_TABLE).toString(),\n    BigQueryWriteClient.create(\n        BigQueryWriteSettings.newBuilder()\n            .setEndpoint(&quot;localhost:9060&quot;)\n            .build()\n        )\n    )\n    .build();\n</code></pre>\n<p>No matter what I try, it always gets stuck when calling the <em>build()</em> method. does anybody know what is not working or what else I should be doing/trying?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1620638469,"post_id":67467779,"comment_id":119250283,"body_markdown":"It&#39;s running because you haven&#39;t stopped it, and when you try to re-run it it says it can&#39;t re-assign port that&#39;s already in use. Kill the previously running instance and run again.","body":"It&#39;s running because you haven&#39;t stopped it, and when you try to re-run it it says it can&#39;t re-assign port that&#39;s already in use. Kill the previously running instance and run again."},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1620638770,"post_id":67467779,"comment_id":119250405,"body_markdown":"Better terminate the JVM instance(running server) and start again","body":"Better terminate the JVM instance(running server) and start again"},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1620639268,"post_id":67467779,"comment_id":119250589,"body_markdown":"Sometimes when you force close your IDE without stopping the tomcat server then JVM does not get terminated and you get this issue, try killing java task/process and it works.","body":"Sometimes when you force close your IDE without stopping the tomcat server then JVM does not get terminated and you get this issue, try killing java task/process and it works."},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620639590,"post_id":67467779,"comment_id":119250707,"body_markdown":"Thanks for the suggestions, how do i kill it tho...? the normal stop option can&#39;t be selected because it&#39;s not running.","body":"Thanks for the suggestions, how do i kill it tho...? the normal stop option can&#39;t be selected because it&#39;s not running."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1620639635,"post_id":67467779,"comment_id":119250732,"body_markdown":"@lisa from your operating system (which we don&#39;t know), i.e. Windows&#39; task manager or with the `kill` command on *nix environments","body":"@lisa from your operating system (which we don&#39;t know), i.e. Windows&#39; task manager or with the <code>kill</code> command on *nix environments"},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620639894,"post_id":67467779,"comment_id":119250859,"body_markdown":"@FedericoklezCulloca I am looking in my windows task manager but i can&#39;t see anything running...","body":"@FedericoklezCulloca I am looking in my windows task manager but i can&#39;t see anything running..."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1620640070,"post_id":67467779,"comment_id":119250940,"body_markdown":"@lisa under Detail look for a `java.exe`. If there&#39;s more than one, as an heuristic, you should probably kill the one consuming more RAM.","body":"@lisa under Detail look for a <code>java.exe</code>. If there&#39;s more than one, as an heuristic, you should probably kill the one consuming more RAM."},{"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"score":0,"creation_date":1620640698,"post_id":67467779,"comment_id":119251212,"body_markdown":"@FedericoklezCulloca Thanks! it seems to be working for now!","body":"@FedericoklezCulloca Thanks! it seems to be working for now!"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620640552,"creation_date":1620640552,"answer_id":67468382,"question_id":67467779,"body_markdown":"if you are running on windows, you can find the process running on port and kill that process using below command, so that port will be freed\r\n\r\n```\r\nnetstat -ano | findstr :8443\r\ntaskkill /pid &quot;EnterProcessIdHere&quot; /F\r\n\r\n```\r\nFor linux\r\n\r\n```\r\nlsof -i :8443\r\nkill EnterProcessIdHere\r\n```","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>if you are running on windows, you can find the process running on port and kill that process using below command, so that port will be freed</p>\n<pre><code>netstat -ano | findstr :8443\ntaskkill /pid &quot;EnterProcessIdHere&quot; /F\n\n</code></pre>\n<p>For linux</p>\n<pre><code>lsof -i :8443\nkill EnterProcessIdHere\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623655997,"creation_date":1623611956,"answer_id":67961877,"question_id":67467779,"body_markdown":"to catch java.net.BindException e with message: Address already in use \r\n\r\n    try {\r\n            SpringApplication.run(Application.class, args);\r\n        } catch (org.springframework.boot.web.server.PortInUseException e) {\r\n    //Runtime.exec(&quot;pkil&quot;)..\r\n    //or\r\n    SpringApplication.run(Application.class, otherargs);\r\n    //SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\r\n    //when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\r\n    }","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>to catch java.net.BindException e with message: Address already in use</p>\n<pre><code>try {\n        SpringApplication.run(Application.class, args);\n    } catch (org.springframework.boot.web.server.PortInUseException e) {\n//Runtime.exec(&quot;pkil&quot;)..\n//or\nSpringApplication.run(Application.class, otherargs);\n//SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\n//when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5598982,"reputation":21,"user_id":4536970,"display_name":"Naveed I"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687781846,"creation_date":1687781444,"answer_id":76556559,"question_id":67467779,"body_markdown":"Go to eclipse&#39;s Console window and click red Stop button to stop Tomcat and/or click &#39;Remove All Terminated Launches&#39; and then re-run spring boot app. \r\n\r\nIt clears/purges previous app instances bound to port.","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>Go to eclipse's Console window and click red Stop button to stop Tomcat and/or click 'Remove All Terminated Launches' and then re-run spring boot app.</p>\n<p>It clears/purges previous app instances bound to port.</p>\n"}],"owner":{"account_id":21322796,"reputation":31,"user_id":15695668,"display_name":"lisa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687781846,"creation_date":1620638133,"question_id":67467779,"body_markdown":"I am making a spring boot application. Everything worked fine until two days ago.\r\nWhen I start my application I get: \r\n\r\n\r\n&quot;APPLICATION FAILED TO START.\r\nWeb server failed to start. Port 8443 was already in use.&quot;\r\n\r\nBut.... when I check my postman the application IS running.... So the error shouldn&#39;t be there. I would really appreciate some help here. I don&#39;t know what I&#39;m doing wrong. \r\nI already tried diffrent ports but that is not the problem.\r\n\r\nThis is my &quot;application.properties&quot;\r\n```\r\nserver.ssl.key-store=classpath:certificate.jks\r\nserver.ssl.key-store-type=pkcs12\r\nserver.ssl.key-store-password=password\r\nserver.ssl.key-password=password\r\nserver.ssl.key-alias=certificate\r\nserver.port=8443\r\n\r\nspring.jpa.show-sql=true\r\n\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.platform=postgres\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/java_backend_eind3\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.jpa.database=POSTGRESQL\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.hibernate.ddl-auto= create\r\nspring.datasource.initialization-mode=always\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n```\r\n\r\nand my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;nl.eind.java&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;Java eindopdracht &lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"Web server failed to start. Port was already in use error. but application is still running","body":"<p>I am making a spring boot application. Everything worked fine until two days ago.\nWhen I start my application I get:</p>\n<p>&quot;APPLICATION FAILED TO START.\nWeb server failed to start. Port 8443 was already in use.&quot;</p>\n<p>But.... when I check my postman the application IS running.... So the error shouldn't be there. I would really appreciate some help here. I don't know what I'm doing wrong.\nI already tried diffrent ports but that is not the problem.</p>\n<p>This is my &quot;application.properties&quot;</p>\n<pre><code>server.ssl.key-store=classpath:certificate.jks\nserver.ssl.key-store-type=pkcs12\nserver.ssl.key-store-password=password\nserver.ssl.key-password=password\nserver.ssl.key-alias=certificate\nserver.port=8443\n\nspring.jpa.show-sql=true\n\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.platform=postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/java_backend_eind3\nspring.datasource.username=username\nspring.datasource.password=password\nspring.jpa.database=POSTGRESQL\nspring.jpa.generate-ddl=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.hibernate.ddl-auto= create\nspring.datasource.initialization-mode=always\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>and my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;nl.eind.java&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Java eindopdracht &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","docker","memory-leaks","garbage-collection","spring-batch"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687540475,"post_id":76540120,"comment_id":134956599,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687692429,"post_id":76540120,"comment_id":134969365,"body_markdown":"Please give your problem statement","body":"Please give your problem statement"}],"owner":{"account_id":14425571,"reputation":11,"user_id":10420445,"display_name":"Tural Ahmadov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687781550,"creation_date":1687523243,"question_id":76540120,"body_markdown":"GC does collect object with intervals as expected. However, after first spring batch job is finished, the following happens:\r\n\r\n1) Memory usage increases unexpetedly like 10x of my expectations;\r\n2) GC stops doing its job automatically, but responds to jcmd &lt;jar-app-name&gt;.jar GC.run and frees the memory.\r\n\r\nWas thinking about memory leak so that gc can not collect the objects, but I can trigger it using jcmd \\&lt;jar-app-name&gt;.jar GC.run. Thus, I am confused. GC actually can collect, but why it is not doing its job even when app is out of memory. \r\n\r\nAlso, I use excel poi library&#39;s PoiItemReader class to read an excel file. \r\n\r\nI think it has something to do with following:\r\n1) cmd run java app command arguments;\r\n2) Apache poi library reading the excel at once, not piece by piece kind of killing the batch concept;\r\n\r\nIf anyone has idea about the issue, please comment.\r\n\r\nThe app is running as container from image build using the following dockerfile commands:\r\n```\r\nFROM registry.access.redhat.com/ubi8/openjdk-11:latest\r\nCOPY build/libs/*.jar /app/app.jar\r\nWORKDIR /app/\r\nCMD [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\r\n```","title":"Garbage collector stops gathering objects from eden after Spring Batch job initiated","body":"<p>GC does collect object with intervals as expected. However, after first spring batch job is finished, the following happens:</p>\n<ol>\n<li>Memory usage increases unexpetedly like 10x of my expectations;</li>\n<li>GC stops doing its job automatically, but responds to jcmd .jar GC.run and frees the memory.</li>\n</ol>\n<p>Was thinking about memory leak so that gc can not collect the objects, but I can trigger it using jcmd &lt;jar-app-name&gt;.jar GC.run. Thus, I am confused. GC actually can collect, but why it is not doing its job even when app is out of memory.</p>\n<p>Also, I use excel poi library's PoiItemReader class to read an excel file.</p>\n<p>I think it has something to do with following:</p>\n<ol>\n<li>cmd run java app command arguments;</li>\n<li>Apache poi library reading the excel at once, not piece by piece kind of killing the batch concept;</li>\n</ol>\n<p>If anyone has idea about the issue, please comment.</p>\n<p>The app is running as container from image build using the following dockerfile commands:</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-11:latest\nCOPY build/libs/*.jar /app/app.jar\nWORKDIR /app/\nCMD [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n"},{"tags":["java","reflection","interface","sdk","internals"],"answers":[{"comments":[{"owner":{"account_id":25784571,"reputation":13,"user_id":22132943,"display_name":"Andriy Mykhaylyk"},"score":0,"creation_date":1687779592,"post_id":76556307,"comment_id":134979691,"body_markdown":"But it has all the methods, and can answer all the same questions that Member can - I can just ask, for a specific instance of Class&lt;?&gt;, what is yours declaring class - and that will give me the result that&#39;s different from my own class (if it&#39;s the nested class) or null (if it&#39;s not nested). \nEDIT: By that I mean, that a Class _can_ be treated as a Member, if you squint your eyes just a bit. It passes [duck test](https://en.wikipedia.org/wiki/Duck_test) in my book.","body":"But it has all the methods, and can answer all the same questions that Member can - I can just ask, for a specific instance of Class&lt;?&gt;, what is yours declaring class - and that will give me the result that&#39;s different from my own class (if it&#39;s the nested class) or null (if it&#39;s not nested).  EDIT: By that I mean, that a Class <i>can</i> be treated as a Member, if you squint your eyes just a bit. It passes <a href=\"https://en.wikipedia.org/wiki/Duck_test\" rel=\"nofollow noreferrer\">duck test</a> in my book."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687781498,"post_id":76556307,"comment_id":134980096,"body_markdown":"@AndriyMykhaylyk You are correct, but that&#39;s not a good reason to implement `Member`. Type hierarchies have to make sense semantically, implementing the same methods isn&#39;t the only requirement. Is a `Class` always a `Member`? No, so it shouldn&#39;t implement that interface. However, it might make sense to have an `InnerClass` that extends `Class` and implements `Member`.","body":"@AndriyMykhaylyk You are correct, but that&#39;s not a good reason to implement <code>Member</code>. Type hierarchies have to make sense semantically, implementing the same methods isn&#39;t the only requirement. Is a <code>Class</code> always a <code>Member</code>? No, so it shouldn&#39;t implement that interface. However, it might make sense to have an <code>InnerClass</code> that extends <code>Class</code> and implements <code>Member</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687781579,"post_id":76556307,"comment_id":134980117,"body_markdown":"@AndriyMykhaylyk you should not only look at syntax but also semantics. Yes, `Class` has all the methods, but it doesn&#39;t follow the _specification_ for `getDeclaringClass`. See my answer for why not.","body":"@AndriyMykhaylyk you should not only look at syntax but also semantics. Yes, <code>Class</code> has all the methods, but it doesn&#39;t follow the <i>specification</i> for <code>getDeclaringClass</code>. See my answer for why not."}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687779407,"creation_date":1687779407,"answer_id":76556307,"question_id":76556185,"body_markdown":"Why do you expect `Class` to implement `Member`?\r\n\r\nA class, by default, is a top level class and not a nested one. Thus, it&#39;s not a member of any other class.\r\n\r\nWhat I&#39;m trying to say is that a `class B` is only a `Member` if it&#39;s a nested class declared in some `class A`. But then it doesn&#39;t make sense that `A` also implements `Member`.\r\n\r\nI am not good with words today, I hope I got my point communicated clearly.\r\n\r\n","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>Why do you expect <code>Class</code> to implement <code>Member</code>?</p>\n<p>A class, by default, is a top level class and not a nested one. Thus, it's not a member of any other class.</p>\n<p>What I'm trying to say is that a <code>class B</code> is only a <code>Member</code> if it's a nested class declared in some <code>class A</code>. But then it doesn't make sense that <code>A</code> also implements <code>Member</code>.</p>\n<p>I am not good with words today, I hope I got my point communicated clearly.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687781508,"creation_date":1687781508,"answer_id":76556569,"question_id":76556185,"body_markdown":"I think the answer should be found in `getDeclaringClass`.\r\n\r\nFrom `Member`:\r\n&gt; Returns the Class object representing the class or interface that declares the member or constructor represented by this Member.\r\n\r\nFrom `Class`:\r\n&gt; If the class or interface represented by this Class object is a member of another class, returns the Class object representing the class in which it was declared. This method returns null if this class or interface is not a member of any other class. If this Class object represents an array class, a primitive type, or void,then this method returns null.\r\n\r\nThat possible `null` is the main difference. Instances of `Member` are not allowed to return `null`, instances of `Class` are. If Oracle would change the specification of `Member.getDeclaringClass` to allow `null` return values, that could break existing code. They can fix those occurrences in the JDK itself, but not in third party code.","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>I think the answer should be found in <code>getDeclaringClass</code>.</p>\n<p>From <code>Member</code>:</p>\n<blockquote>\n<p>Returns the Class object representing the class or interface that declares the member or constructor represented by this Member.</p>\n</blockquote>\n<p>From <code>Class</code>:</p>\n<blockquote>\n<p>If the class or interface represented by this Class object is a member of another class, returns the Class object representing the class in which it was declared. This method returns null if this class or interface is not a member of any other class. If this Class object represents an array class, a primitive type, or void,then this method returns null.</p>\n</blockquote>\n<p>That possible <code>null</code> is the main difference. Instances of <code>Member</code> are not allowed to return <code>null</code>, instances of <code>Class</code> are. If Oracle would change the specification of <code>Member.getDeclaringClass</code> to allow <code>null</code> return values, that could break existing code. They can fix those occurrences in the JDK itself, but not in third party code.</p>\n"}],"owner":{"account_id":25784571,"reputation":13,"user_id":22132943,"display_name":"Andriy Mykhaylyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76556569,"answer_count":2,"score":-1,"last_activity_date":1687781508,"creation_date":1687778386,"question_id":76556185,"body_markdown":"I&#39;m working on a Package Browser in browser in Java and trying to write a generic method which can handle all members of the class - basically collecting string representation of them, choosing an image and displaying it in a tree view.\r\n\r\nFor all [Members](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Member.html) (Field, Method, Constructor) it has been working great - they all have `getName()` and `isSynthetic()` which allows me to treat them in the same way because that&#39;s all I need.\r\n\r\nBut [Class](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html) is special - **even though it has all the methods of that interface, it doesn&#39;t technically implement it!**. \r\n\r\nAnd to handle it I need a special-case-method or do an `instanceof` checks, which is not very clean.\r\n\r\nSo, i guess, this is more of a philosophical question - why is that? Because classes are not considered to be &quot;proper&quot; members of classes and instead are nested? Or because of something else? \r\n\r\nPlease shine the light on this topic!\r\n\r\nI tried to treat objects of type `Class&lt;?&gt;` as if they implemented interface `Member`.","title":"Why java.lang.Class doesn&#39;t implement java.lang.reflect.Member interface?","body":"<p>I'm working on a Package Browser in browser in Java and trying to write a generic method which can handle all members of the class - basically collecting string representation of them, choosing an image and displaying it in a tree view.</p>\n<p>For all <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Member.html\" rel=\"nofollow noreferrer\">Members</a> (Field, Method, Constructor) it has been working great - they all have <code>getName()</code> and <code>isSynthetic()</code> which allows me to treat them in the same way because that's all I need.</p>\n<p>But <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> is special - <strong>even though it has all the methods of that interface, it doesn't technically implement it!</strong>.</p>\n<p>And to handle it I need a special-case-method or do an <code>instanceof</code> checks, which is not very clean.</p>\n<p>So, i guess, this is more of a philosophical question - why is that? Because classes are not considered to be &quot;proper&quot; members of classes and instead are nested? Or because of something else?</p>\n<p>Please shine the light on this topic!</p>\n<p>I tried to treat objects of type <code>Class&lt;?&gt;</code> as if they implemented interface <code>Member</code>.</p>\n"},{"tags":["java","android","firebase","canvas","callback"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1687791118,"post_id":76556502,"comment_id":134982384,"body_markdown":"What does this `invalidate()` method do?","body":"What does this <code>invalidate()</code> method do?"},{"owner":{"account_id":25233717,"reputation":1,"user_id":19068546,"display_name":"TesterQA___2000"},"score":0,"creation_date":1687806047,"post_id":76556502,"comment_id":134985407,"body_markdown":"Invalidate is used to invoke the callback function &quot;onDraw&quot;, which is in order reflect the changes (new drawas) in the canvas.","body":"Invalidate is used to invoke the callback function &quot;onDraw&quot;, which is in order reflect the changes (new drawas) in the canvas."}],"owner":{"account_id":25233717,"reputation":1,"user_id":19068546,"display_name":"TesterQA___2000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687781046,"creation_date":1687781046,"question_id":76556502,"body_markdown":"Have a good day.\r\n\r\nActually, I have faced an issue, in which, the onDraw function is not being executed when onChildAdded is being invoking inside onChildAdded callback for firebase.\r\n\r\n\r\n```\r\n        childEventListener = databaseRef.addChildEventListener(new ChildEventListener() {\r\n\r\n                    @Override\r\n                    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n\r\n                        String strikeAsString = (String) snapshot.getValue();\r\n\r\n                        invalidate();\r\n\r\n\r\n                    }\r\n                    }\r\n\r\n\r\n\r\n```\r\n\r\n```\r\n  protected void onDraw(Canvas canvas) {\r\n     super.onDraw(canvas);\r\n```\r\n\r\n\r\n","title":"The invalidate function[inside onChildAdded firebase&#39;s callback] doesn&#39;t invoke onDraw","body":"<p>Have a good day.</p>\n<p>Actually, I have faced an issue, in which, the onDraw function is not being executed when onChildAdded is being invoking inside onChildAdded callback for firebase.</p>\n<pre><code>        childEventListener = databaseRef.addChildEventListener(new ChildEventListener() {\n\n                    @Override\n                    public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n\n\n                        String strikeAsString = (String) snapshot.getValue();\n\n                        invalidate();\n\n\n                    }\n                    }\n\n\n\n</code></pre>\n<pre><code>  protected void onDraw(Canvas canvas) {\n     super.onDraw(canvas);\n</code></pre>\n"},{"tags":["java","maven","junit","maven-failsafe-plugin"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687781904,"post_id":76556434,"comment_id":134980200,"body_markdown":"Can&#39;t you just create a separate test project? You can probably put it in the same repository, as long as you don&#39;t include it in the parent POM (e.g. as module). Refer to the parent using `&lt;relativePath&gt;`, then build the test project from its own directory.","body":"Can&#39;t you just create a separate test project? You can probably put it in the same repository, as long as you don&#39;t include it in the parent POM (e.g. as module). Refer to the parent using <code>&lt;relativePath&gt;</code>, then build the test project from its own directory."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1687782217,"post_id":76556434,"comment_id":134980272,"body_markdown":"Another idea: in your src/test/resources, add an entire, simple Maven project that uses the parent pom you want to test. Invoke Maven programmatically from your tests to that dummy project (or projects). I believe it should be possible but never done that, so treat this as just an idea.","body":"Another idea: in your src/test/resources, add an entire, simple Maven project that uses the parent pom you want to test. Invoke Maven programmatically from your tests to that dummy project (or projects). I believe it should be possible but never done that, so treat this as just an idea."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687790519,"post_id":76556434,"comment_id":134982243,"body_markdown":"Do you test the pom or more accurately the configuration of plugins within that pom file?","body":"Do you test the pom or more accurately the configuration of plugins within that pom file?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687802449,"post_id":76556434,"comment_id":134984825,"body_markdown":"@khmarbaise I want to make sure that changes to the company parent POM don&#39;t break the build of the projects using it. So the test should run builds of example projects with the new parent POM to make sure these builds still succeed.","body":"@khmarbaise I want to make sure that changes to the company parent POM don&#39;t break the build of the projects using it. So the test should run builds of example projects with the new parent POM to make sure these builds still succeed."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687804345,"post_id":76556434,"comment_id":134985121,"body_markdown":"You could simply make a integration module project which contains only those tests... but will not being published. (skip deployment)... ?","body":"You could simply make a integration module project which contains only those tests... but will not being published. (skip deployment)... ?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1687806153,"post_id":76556434,"comment_id":134985422,"body_markdown":"But I don&#39;t want to add modules to my company parent POM. I could either add an additional aggregator POM or build the integration module separately with the CI server, but I am not sure yet.","body":"But I don&#39;t want to add modules to my company parent POM. I could either add an additional aggregator POM or build the integration module separately with the CI server, but I am not sure yet."}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687780401,"creation_date":1687780401,"question_id":76556434,"body_markdown":"I have a company parent POM that I would like to integration test. The integration test should be building example projects with the company parent POM.\r\n\r\nI thought about setting this up with the failsafe Maven plugin and JUnit, but my problem is:\r\n\r\n- I do not want any dependencies in the company parent POM\r\n- To run JUnit tests, I need to have JUnit as dependency\r\n\r\nIs there any way around this problem?","title":"Integration test a parent POM","body":"<p>I have a company parent POM that I would like to integration test. The integration test should be building example projects with the company parent POM.</p>\n<p>I thought about setting this up with the failsafe Maven plugin and JUnit, but my problem is:</p>\n<ul>\n<li>I do not want any dependencies in the company parent POM</li>\n<li>To run JUnit tests, I need to have JUnit as dependency</li>\n</ul>\n<p>Is there any way around this problem?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687778239,"post_id":76555875,"comment_id":134979423,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":28880211,"reputation":1,"user_id":22119846,"display_name":"Carloesposito98"},"score":0,"creation_date":1687786955,"post_id":76556368,"comment_id":134981345,"body_markdown":"I’m new so I find some difficulty I now created the file style.xml pasted the code you told me that the first and made app startup but nothing happened","body":"I’m new so I find some difficulty I now created the file style.xml pasted the code you told me that the first and made app startup but nothing happened"},{"owner":{"account_id":5465233,"reputation":754,"user_id":4346218,"accept_rate":75,"display_name":"devchimp"},"score":0,"creation_date":1687791208,"post_id":76556368,"comment_id":134982401,"body_markdown":"It won&#39;t just work, I would suggest understanding what it is you are trying to do.\n\nhttps://developer.android.com/develop/ui/views/theming/themes","body":"It won&#39;t just work, I would suggest understanding what it is you are trying to do.  <a href=\"https://developer.android.com/develop/ui/views/theming/themes\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/theming/themes</a>"},{"owner":{"account_id":28880211,"reputation":1,"user_id":22119846,"display_name":"Carloesposito98"},"score":0,"creation_date":1687801045,"post_id":76556368,"comment_id":134984559,"body_markdown":"I’m trying to make the title bar color equal the color of my app. This I want to be done automatically for example if I try to choose the color of my green color app I want the title bar to be automatically green color, is it possible ?","body":"I’m trying to make the title bar color equal the color of my app. This I want to be done automatically for example if I try to choose the color of my green color app I want the title bar to be automatically green color, is it possible ?"},{"owner":{"account_id":5465233,"reputation":754,"user_id":4346218,"accept_rate":75,"display_name":"devchimp"},"score":0,"creation_date":1687850914,"post_id":76556368,"comment_id":134990516,"body_markdown":"It is possible using themes and styles. You define a color palette, assign colors to more ambiguous general definitions such as colorPrimary/ colorOnPrimary etc. Set your themes background color to your colorPrimary then also assign to my original answer snippet. If applied correctly the navigation bar and toolbars can be set to the same color. Read the documentation above. \nThe community will help you but you have posted no source code or attempts.","body":"It is possible using themes and styles. You define a color palette, assign colors to more ambiguous general definitions such as colorPrimary/ colorOnPrimary etc. Set your themes background color to your colorPrimary then also assign to my original answer snippet. If applied correctly the navigation bar and toolbars can be set to the same color. Read the documentation above.  The community will help you but you have posted no source code or attempts."},{"owner":{"account_id":28880211,"reputation":1,"user_id":22119846,"display_name":"Carloesposito98"},"score":0,"creation_date":1687876252,"post_id":76556368,"comment_id":134996349,"body_markdown":"I haven’t added the code yet because mine is a webview app all here, now I just want to make it clear to the title bar to set the color of my app webview","body":"I haven’t added the code yet because mine is a webview app all here, now I just want to make it clear to the title bar to set the color of my app webview"}],"tags":[],"owner":{"account_id":5465233,"reputation":754,"user_id":4346218,"accept_rate":75,"display_name":"devchimp"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687779892,"creation_date":1687779892,"answer_id":76556368,"question_id":76555875,"body_markdown":"It can be done inside styles.xml:\r\n\r\n    &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/primaryColor&lt;/item&gt;\r\n\r\nor\r\n\r\n    window.setNavigationBarColor(@ColorInt int color)\r\n\r\nSet that to the primaryColor of your app. Requires API 21 or above.","title":"change the color of the head of the apk","body":"<p>It can be done inside styles.xml:</p>\n<pre><code>&lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/primaryColor&lt;/item&gt;\n</code></pre>\n<p>or</p>\n<pre><code>window.setNavigationBarColor(@ColorInt int color)\n</code></pre>\n<p>Set that to the primaryColor of your app. Requires API 21 or above.</p>\n"}],"owner":{"account_id":28880211,"reputation":1,"user_id":22119846,"display_name":"Carloesposito98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687779892,"creation_date":1687775697,"question_id":76555875,"body_markdown":"How to automatically change the color of the navigation bar based on the color of my app. For example if the color of my app is blue I want the navigation bar to turn blue automatically\r\n\r\nI don’t know what to do","title":"change the color of the head of the apk","body":"<p>How to automatically change the color of the navigation bar based on the color of my app. For example if the color of my app is blue I want the navigation bar to turn blue automatically</p>\n<p>I don’t know what to do</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8839728,"reputation":435,"user_id":6602552,"accept_rate":44,"display_name":"Otis Ottington"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664533318,"creation_date":1664533318,"answer_id":73907259,"question_id":73906292,"body_markdown":"Found the solution:\r\n\r\nI forgot to add the Filterproxy:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;\r\n            org.springframework.web.filter.DelegatingFilterProxy\r\n        &lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThis is the punishment for not using spring boot ","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>Found the solution:</p>\n<p>I forgot to add the Filterproxy:</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;\n        org.springframework.web.filter.DelegatingFilterProxy\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>This is the punishment for not using spring boot</p>\n"},{"tags":[],"owner":{"account_id":4574130,"reputation":775,"user_id":3713041,"accept_rate":86,"display_name":"Moth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687778674,"creation_date":1687778674,"answer_id":76556219,"question_id":73906292,"body_markdown":"And for anyone configuring via code, here is the Kotlin version. I also suffered through this punishment. I assumed the @EnableWebSecurity annotation would register the filter but alas, it was not to be.\r\n\r\n    log.info(&quot;Adding Spring Security filter to servlet context&quot;)\r\n    val springSecurityFilterChain = DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;, dispatcherContext)\r\n    springSecurityFilterChain.setTargetFilterLifecycle(true)\r\n    val springSecurityRegistration = servletContext.addFilter(&quot;springSecurityFilterChain&quot;, springSecurityFilterChain)\r\n    springSecurityRegistration.setAsyncSupported(true)\r\n    springSecurityRegistration.addMappingForUrlPatterns(\r\n        EnumSet.of(DispatcherType.REQUEST,\r\n                   DispatcherType.ERROR,\r\n                   DispatcherType.ASYNC),\r\n        false,\r\n        &quot;/*&quot;)","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>And for anyone configuring via code, here is the Kotlin version. I also suffered through this punishment. I assumed the @EnableWebSecurity annotation would register the filter but alas, it was not to be.</p>\n<pre><code>log.info(&quot;Adding Spring Security filter to servlet context&quot;)\nval springSecurityFilterChain = DelegatingFilterProxy(&quot;springSecurityFilterChain&quot;, dispatcherContext)\nspringSecurityFilterChain.setTargetFilterLifecycle(true)\nval springSecurityRegistration = servletContext.addFilter(&quot;springSecurityFilterChain&quot;, springSecurityFilterChain)\nspringSecurityRegistration.setAsyncSupported(true)\nspringSecurityRegistration.addMappingForUrlPatterns(\n    EnumSet.of(DispatcherType.REQUEST,\n               DispatcherType.ERROR,\n               DispatcherType.ASYNC),\n    false,\n    &quot;/*&quot;)\n</code></pre>\n"}],"owner":{"account_id":8839728,"reputation":435,"user_id":6602552,"accept_rate":44,"display_name":"Otis Ottington"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687778674,"creation_date":1664528383,"question_id":73906292,"body_markdown":"I have a Spring (non Boot) application with rest endpoints. Now I want to add security to request authentification for theese endpoints.\r\n\r\nNote: This app is deployed on an jboss server.\r\n\r\nweb.xml\r\n\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/context.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\nInside the context.xml I scan for all spring component.\r\n\r\nSecurityConfiguration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n       @Override\r\n       public void configure(HttpSecurity httpSecurity) throws Exception {\r\n           httpSecurity\r\n               .csrf().disable()\r\n               .authorizeRequests()\r\n                 .anyRequest().fullyAuthenticated()\r\n               .and().httpBasic();\r\n\r\n       }\r\n\r\n        @Bean\r\n        public AuthenticationProvider authenticationProvider() {\r\n            return new SimpleAuthenticationProvider();\r\n        }\r\n    }\r\n\r\nWhen I deploy the application there is following Message in the logs:\r\n\r\n&gt; [org.springframework.security.web.DefaultSecurityFilterChain] Will not secure any request\r\n\r\nAs a result the endpoints are not secured, I don&#39;t have to enter my credentials. Why is the List of filters empty? As I am not using Spring Boot (using an starter) what do I have to do to use Standard configuration?","title":"Spring Security - DefaultSecurityFilterChain empty","body":"<p>I have a Spring (non Boot) application with rest endpoints. Now I want to add security to request authentification for theese endpoints.</p>\n<p>Note: This app is deployed on an jboss server.</p>\n<p>web.xml</p>\n<pre><code> &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/context.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Inside the context.xml I scan for all spring component.</p>\n<p>SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n   @Override\n   public void configure(HttpSecurity httpSecurity) throws Exception {\n       httpSecurity\n           .csrf().disable()\n           .authorizeRequests()\n             .anyRequest().fullyAuthenticated()\n           .and().httpBasic();\n\n   }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        return new SimpleAuthenticationProvider();\n    }\n}\n</code></pre>\n<p>When I deploy the application there is following Message in the logs:</p>\n<blockquote>\n<p>[org.springframework.security.web.DefaultSecurityFilterChain] Will not secure any request</p>\n</blockquote>\n<p>As a result the endpoints are not secured, I don't have to enter my credentials. Why is the List of filters empty? As I am not using Spring Boot (using an starter) what do I have to do to use Standard configuration?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653557527,"creation_date":1653557527,"answer_id":72389676,"question_id":72389275,"body_markdown":"`==` is an instance comparison and you are creating a new instance, so the comparison fails. \r\n\r\nInstead of creating new button types, reuse the existing predefined types:\r\n\r\n    alert.getDialogPane().getButtonTypes().setAll(\r\n        ButtonType.YES, \r\n        ButtonType.NO\r\n    );","title":"JavaFX alert with aditional buttons","body":"<p><code>==</code> is an instance comparison and you are creating a new instance, so the comparison fails.</p>\n<p>Instead of creating new button types, reuse the existing predefined types:</p>\n<pre><code>alert.getDialogPane().getButtonTypes().setAll(\n    ButtonType.YES, \n    ButtonType.NO\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9455219,"reputation":1,"user_id":7030740,"display_name":"Steve Dwyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687778535,"creation_date":1687778535,"answer_id":76556198,"question_id":72389275,"body_markdown":"Alternatively, you can query the `ButtonData` passed into the constructors of the `ButtonType` variables `yesButtonType` and `noButtonType`, thus:\r\n\r\n    if (result.isPresent() &amp;&amp; result.get().getButtonData().equals(ButtonData.YES)) { ... }\r\n\r\n","title":"JavaFX alert with aditional buttons","body":"<p>Alternatively, you can query the <code>ButtonData</code> passed into the constructors of the <code>ButtonType</code> variables <code>yesButtonType</code> and <code>noButtonType</code>, thus:</p>\n<pre><code>if (result.isPresent() &amp;&amp; result.get().getButtonData().equals(ButtonData.YES)) { ... }\n</code></pre>\n"}],"owner":{"account_id":25187698,"reputation":65,"user_id":19028331,"display_name":"Valentin Badea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72389676,"answer_count":2,"score":1,"last_activity_date":1687778535,"creation_date":1653555467,"question_id":72389275,"body_markdown":"I need an alert with 2 buttons: yes and no. I created the alert with:\r\n\r\n    alert.getDialogPane().getButtonTypes().clear();\r\n    ButtonType yesButtonType = new ButtonType(&quot;Yes&quot;, ButtonBar.ButtonData.YES);\r\n    ButtonType noButtonType = new ButtonType(&quot;No&quot;, ButtonBar.ButtonData.NO);\r\n    alert.getDialogPane().getButtonTypes().add(yesButtonType);\r\n    alert.getDialogPane().getButtonTypes().add(noButtonType);\r\n\r\n    Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n\r\nBut when I try to handle the action for every button with:\r\n\r\n  \r\n\r\n    if (result.isPresent() &amp;&amp; result.get() == ButtonType.YES) {\r\n        System.out.println(&quot;OK&quot;);\r\n    }\r\n\r\nIt does not work. Any idea why?\r\n\r\n","title":"JavaFX alert with aditional buttons","body":"<p>I need an alert with 2 buttons: yes and no. I created the alert with:</p>\n<pre><code>alert.getDialogPane().getButtonTypes().clear();\nButtonType yesButtonType = new ButtonType(&quot;Yes&quot;, ButtonBar.ButtonData.YES);\nButtonType noButtonType = new ButtonType(&quot;No&quot;, ButtonBar.ButtonData.NO);\nalert.getDialogPane().getButtonTypes().add(yesButtonType);\nalert.getDialogPane().getButtonTypes().add(noButtonType);\n\nOptional&lt;ButtonType&gt; result = alert.showAndWait();\n</code></pre>\n<p>But when I try to handle the action for every button with:</p>\n<pre><code>if (result.isPresent() &amp;&amp; result.get() == ButtonType.YES) {\n    System.out.println(&quot;OK&quot;);\n}\n</code></pre>\n<p>It does not work. Any idea why?</p>\n"},{"tags":["java","excel","xalan"],"answers":[{"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1698749972,"post_id":76556184,"comment_id":136442153,"body_markdown":"You can also accept your own answer to indicate that the question is solved.","body":"You can also accept your own answer to indicate that the question is solved."}],"tags":[],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687778379,"creation_date":1687778379,"answer_id":76556184,"question_id":76555759,"body_markdown":"fixed by adding this to my maven dependencies\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;serializer&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory is thrown after upgrading xalan to 2.7.3","body":"<p>fixed by adding this to my maven dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;xalan&lt;/groupId&gt;\n        &lt;artifactId&gt;serializer&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2146,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1687778379,"creation_date":1687774823,"question_id":76555759,"body_markdown":"I have java code that exports some data into an excel file. ( I only included below what I think are the relevant parts in the code)\r\n\r\nEverything worked fine but then I upgraded my xalan from 2.7.2 to 2.7.3 and it stoped working.\r\nthe reason - java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory \r\n\r\nThe exception is thrown at the &#39;wb.write(fileOutputStream);&#39; line under the export() method\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.SXSSFSheet;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n         \r\n    private Workbook wb;\r\n    \r\n                private void init(String targetPath, String fileName, ExcelExportType exportType) {\r\n                    exportedFile = new File(Paths.get(targetPath, fileName  + FILE_EXTENSION).toString());\r\n                    try {\r\n                        fileOutputStream = new FileOutputStream(exportedFile);\r\n                        // if file doesn&#39;t exists, then create it\r\n                        if (!exportedFile.exists()) {\r\n                            exportedFile.createNewFile();\r\n                        }\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(&quot;Init failed. File &quot; + exportedFile.getName() + &quot; cannot be found&quot;);\r\n                    }\r\n            \r\n                    switch (exportType) {\r\n                        case MS_EXCEL_2007_AND_UP_STREAMING:\r\n                            wb = new SXSSFWorkbook();\r\n                            break;\r\n                        default:\r\n                            throw new RuntimeException(&quot;Unsupported export type&quot;);\r\n                    }\r\n            \r\n                    wb.setMissingCellPolicy(Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n                    creationHelper = wb.getCreationHelper();\r\n                    sheet = wb.createSheet(getSheetName());\r\n                    Font font = wb.createFont();\r\n                    font.setFontName(DEFAULT_FONT_NAME);\r\n            \r\n                    if(sheet instanceof SXSSFSheet) {\r\n                        ((SXSSFSheet) sheet).trackAllColumnsForAutoSizing();\r\n                    }\r\n            \r\n                    format = wb.createDataFormat();\r\n            \r\n                    headerFont = wb.createFont();\r\n                    headerFont.setFontName(DEFAULT_FONT_NAME);\r\n                    headerFont.setBold(true);\r\n            \r\n                    cellFont = wb.createFont();\r\n                    cellFont.setFontName(DEFAULT_FONT_NAME);\r\n            \r\n                }\r\n            \r\n            public File export() {\r\n                double factor = 390;\r\n                for (int i = 0; i &lt; numOfColumns; i++) {\r\n                    sheet.autoSizeColumn(i);\r\n                    sheet.setColumnWidth(i, getWidth((int)(maxColumnWidth.get(i) * factor)));\r\n                }\r\n            \r\n                sheet.createFreezePane(0,1);\r\n            \r\n                try {\r\n                    wb.write(fileOutputStream);\r\n                    fileOutputStream.close();\r\n                    wb.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            \r\n                return exportedFile;\r\n            }\r\n\r\naccording to the link, \r\n[https://xalan.apache.org/xalan-j/][1]\r\n\r\nXalan-Java Version 2.7.3 works with Xerces-Java, and the distribution includes xercesImpl.jar from Xerces-Java 2.12.2.\r\n\r\nThe Xalan-Java implementation is in xalan.jar and serializer.jar. The SAX, DOM, and JAXP 1.3 interfaces are in xml-apis.jar.\r\n\r\nso maybe I need to implement the code in a different way?\r\nany idea how can I solve this? \r\n\r\n\r\n\r\n  [1]: https://xalan%202.7.3","title":"java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory is thrown after upgrading xalan to 2.7.3","body":"<p>I have java code that exports some data into an excel file. ( I only included below what I think are the relevant parts in the code)</p>\n<p>Everything worked fine but then I upgraded my xalan from 2.7.2 to 2.7.3 and it stoped working.\nthe reason - java.lang.ClassNotFoundException: org.apache.xml.serializer.OutputPropertiesFactory</p>\n<p>The exception is thrown at the 'wb.write(fileOutputStream);' line under the export() method</p>\n<pre><code>import org.apache.logging.log4j.Level;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.streaming.SXSSFSheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\n     \nprivate Workbook wb;\n\n            private void init(String targetPath, String fileName, ExcelExportType exportType) {\n                exportedFile = new File(Paths.get(targetPath, fileName  + FILE_EXTENSION).toString());\n                try {\n                    fileOutputStream = new FileOutputStream(exportedFile);\n                    // if file doesn't exists, then create it\n                    if (!exportedFile.exists()) {\n                        exportedFile.createNewFile();\n                    }\n                } catch (Exception e) {\n                    throw new RuntimeException(&quot;Init failed. File &quot; + exportedFile.getName() + &quot; cannot be found&quot;);\n                }\n        \n                switch (exportType) {\n                    case MS_EXCEL_2007_AND_UP_STREAMING:\n                        wb = new SXSSFWorkbook();\n                        break;\n                    default:\n                        throw new RuntimeException(&quot;Unsupported export type&quot;);\n                }\n        \n                wb.setMissingCellPolicy(Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                creationHelper = wb.getCreationHelper();\n                sheet = wb.createSheet(getSheetName());\n                Font font = wb.createFont();\n                font.setFontName(DEFAULT_FONT_NAME);\n        \n                if(sheet instanceof SXSSFSheet) {\n                    ((SXSSFSheet) sheet).trackAllColumnsForAutoSizing();\n                }\n        \n                format = wb.createDataFormat();\n        \n                headerFont = wb.createFont();\n                headerFont.setFontName(DEFAULT_FONT_NAME);\n                headerFont.setBold(true);\n        \n                cellFont = wb.createFont();\n                cellFont.setFontName(DEFAULT_FONT_NAME);\n        \n            }\n        \n        public File export() {\n            double factor = 390;\n            for (int i = 0; i &lt; numOfColumns; i++) {\n                sheet.autoSizeColumn(i);\n                sheet.setColumnWidth(i, getWidth((int)(maxColumnWidth.get(i) * factor)));\n            }\n        \n            sheet.createFreezePane(0,1);\n        \n            try {\n                wb.write(fileOutputStream);\n                fileOutputStream.close();\n                wb.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        \n            return exportedFile;\n        }\n</code></pre>\n<p>according to the link,\n<a href=\"https://xalan%202.7.3\" rel=\"nofollow noreferrer\">https://xalan.apache.org/xalan-j/</a></p>\n<p>Xalan-Java Version 2.7.3 works with Xerces-Java, and the distribution includes xercesImpl.jar from Xerces-Java 2.12.2.</p>\n<p>The Xalan-Java implementation is in xalan.jar and serializer.jar. The SAX, DOM, and JAXP 1.3 interfaces are in xml-apis.jar.</p>\n<p>so maybe I need to implement the code in a different way?\nany idea how can I solve this?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1687764552,"post_id":76553971,"comment_id":134976795,"body_markdown":"@user16320675 they are also reset every time the patch number is increased (https://github.com/openjdk/jdk11u/tags, https://github.com/openjdk/jdk17u/tags)","body":"@user16320675 they are also reset every time the patch number is increased (<a href=\"https://github.com/openjdk/jdk11u/tags\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk11u/tags</a>, <a href=\"https://github.com/openjdk/jdk17u/tags\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/tags</a>)"},{"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"score":0,"creation_date":1687771798,"post_id":76553971,"comment_id":134978139,"body_markdown":"To be more clear , if we get below output : \n\nJava(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194), can we say that , my machine runs JRE version 18.9 ? Build number being irrelevant","body":"To be more clear , if we get below output :   Java(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194), can we say that , my machine runs JRE version 18.9 ? Build number being irrelevant"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1687778304,"post_id":76553971,"comment_id":134979439,"body_markdown":"@Atul that &quot;18.9&quot; is [an implementor specific version string](https://openjdk.org/jeps/322#System-properties) and can be anything - it doesn&#39;t help in deciding which Java feature version you are running","body":"@Atul that &quot;18.9&quot; is <a href=\"https://openjdk.org/jeps/322#System-properties\" rel=\"nofollow noreferrer\">an implementor specific version string</a> and can be anything - it doesn&#39;t help in deciding which Java feature version you are running"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687778364,"creation_date":1687760243,"answer_id":76553971,"question_id":76553858,"body_markdown":"1. The build number indicates how often that specific version of the JDK has been built (on the build server) at the time it was released. It starts over at one (1) when the builds for a new (patch-) release start.\r\n\r\n2. Depends on what you want to know. If you want to know whether you are running Java 11, Java 17 or something else then only the first number (11, 17) is relevant. If you want to know whether you are using a JDK with the latest security patches then the first three parts (11.0.11, 17.0.7) are relevant. If you want to know the exact version then everything is important.\r\n\r\n3. Yes, since these numbers start at one (1) with every patch release. For example, the Adoptium release archive lists the following versions:\r\n\r\n* jdk-11.0.19+7\r\n* jdk-11.0.17+8\r\n* jdk-11.0.16+8\r\n* jdk-11.0.13+8\r\n* jdk-11.0.12+7\r\n\r\nAs you can see there are multiple releases that have a build number 7 and also multiple release that have a build number 8. This is expected.\r\n\r\n----\r\nWhat does the following output mean?\r\n\r\n&gt;     java version &quot;11.0.11&quot; 2021-04-20 LTS\r\n&gt;     Java(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194)\r\n&gt;     Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.11+9-LTS-194, mixed mode)\r\n\r\nAccording to [JEP 322: Time-Based Release versioning](https://openjdk.org/jeps/322#System-properties) it means:\r\n\r\n- Java version 11.0.11 (i.e. Java Feature version 11 - most often just called Java 11, patch level 11), Build Number 9 ([released in April 2021](https://github.com/openjdk/jdk11u/releases/tag/jdk-11.0.11%2B9))\r\n- the vendor-specific version is 18.9 (whatever that means depends upon the vendor of your specific JDK but doesn&#39;t change the fact that you are running Java 11) ","title":"Build Number in java --version output","body":"<ol>\n<li><p>The build number indicates how often that specific version of the JDK has been built (on the build server) at the time it was released. It starts over at one (1) when the builds for a new (patch-) release start.</p>\n</li>\n<li><p>Depends on what you want to know. If you want to know whether you are running Java 11, Java 17 or something else then only the first number (11, 17) is relevant. If you want to know whether you are using a JDK with the latest security patches then the first three parts (11.0.11, 17.0.7) are relevant. If you want to know the exact version then everything is important.</p>\n</li>\n<li><p>Yes, since these numbers start at one (1) with every patch release. For example, the Adoptium release archive lists the following versions:</p>\n</li>\n</ol>\n<ul>\n<li>jdk-11.0.19+7</li>\n<li>jdk-11.0.17+8</li>\n<li>jdk-11.0.16+8</li>\n<li>jdk-11.0.13+8</li>\n<li>jdk-11.0.12+7</li>\n</ul>\n<p>As you can see there are multiple releases that have a build number 7 and also multiple release that have a build number 8. This is expected.</p>\n<hr />\n<p>What does the following output mean?</p>\n<blockquote>\n<pre><code>java version &quot;11.0.11&quot; 2021-04-20 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.11+9-LTS-194, mixed mode)\n</code></pre>\n</blockquote>\n<p>According to <a href=\"https://openjdk.org/jeps/322#System-properties\" rel=\"nofollow noreferrer\">JEP 322: Time-Based Release versioning</a> it means:</p>\n<ul>\n<li>Java version 11.0.11 (i.e. Java Feature version 11 - most often just called Java 11, patch level 11), Build Number 9 (<a href=\"https://github.com/openjdk/jdk11u/releases/tag/jdk-11.0.11%2B9\" rel=\"nofollow noreferrer\">released in April 2021</a>)</li>\n<li>the vendor-specific version is 18.9 (whatever that means depends upon the vendor of your specific JDK but doesn't change the fact that you are running Java 11)</li>\n</ul>\n"}],"owner":{"account_id":1339113,"reputation":1550,"user_id":1281182,"accept_rate":59,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76553971,"answer_count":1,"score":-1,"last_activity_date":1687778364,"creation_date":1687758913,"question_id":76553858,"body_markdown":"I am trying to understand the output given by java --version command.\r\n\r\nThis link [How to interpret this output from java --version][1] explains all the aspects except the part - `build 11.0.11+9-LTS-194, mixed mode`\r\n\r\nMy question is : \r\n\r\n1) What is the build number indicates here ? \r\n2) If we want to know the version number for running JRE , can we just ignore this build number ? \r\n3) Can two JRE versions have same build number ? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73107396/how-to-interpret-this-output-from-java-version","title":"Build Number in java --version output","body":"<p>I am trying to understand the output given by java --version command.</p>\n<p>This link <a href=\"https://stackoverflow.com/questions/73107396/how-to-interpret-this-output-from-java-version\">How to interpret this output from java --version</a> explains all the aspects except the part - <code>build 11.0.11+9-LTS-194, mixed mode</code></p>\n<p>My question is :</p>\n<ol>\n<li>What is the build number indicates here ?</li>\n<li>If we want to know the version number for running JRE , can we just ignore this build number ?</li>\n<li>Can two JRE versions have same build number ?</li>\n</ol>\n"},{"tags":["java","spring-boot","rest","weblogic"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687763554,"post_id":76552460,"comment_id":134976576,"body_markdown":"`server*` properties don&#39;t apply when deploying to a container **only** when using an embedded container. So use the regular port `8080` and the path is the name of your `war` file and not what you have in your `application.properties`.","body":"<code>server*</code> properties don&#39;t apply when deploying to a container <b>only</b> when using an embedded container. So use the regular port <code>8080</code> and the path is the name of your <code>war</code> file and not what you have in your <code>application.properties</code>."}],"answers":[{"comments":[{"owner":{"account_id":11772675,"reputation":25,"user_id":8615279,"display_name":"David Sandoval"},"score":0,"creation_date":1687819393,"post_id":76552812,"comment_id":134987218,"body_markdown":"In that case, what can i do to change the port of my application and not to be forced in using weblogic port?","body":"In that case, what can i do to change the port of my application and not to be forced in using weblogic port?"},{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1687833920,"post_id":76552812,"comment_id":134988454,"body_markdown":"Don&#39;t build a war file, build a jar (use sprig-boot-maven-plugin repackage goal).  Don&#39;t deploy your app to weblogic.  Build a spring boot executable jar with embedded tomcat, which is the default.","body":"Don&#39;t build a war file, build a jar (use sprig-boot-maven-plugin repackage goal).  Don&#39;t deploy your app to weblogic.  Build a spring boot executable jar with embedded tomcat, which is the default."},{"owner":{"account_id":11772675,"reputation":25,"user_id":8615279,"display_name":"David Sandoval"},"score":0,"creation_date":1687967671,"post_id":76552812,"comment_id":135011744,"body_markdown":"I see, but actually in my work i must use weblogic because actual infrastructure. Saddly using embedded tomcat server is not an option :/.","body":"I see, but actually in my work i must use weblogic because actual infrastructure. Saddly using embedded tomcat server is not an option :/."}],"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687736394,"creation_date":1687736394,"answer_id":76552812,"question_id":76552460,"body_markdown":"If your spring boot application is deployed in weblogic as a war file, then it would be using the weblogic ports, not what you have configured in your application.properties file.","title":"Connection refused from SprigBoot app to weblogic","body":"<p>If your spring boot application is deployed in weblogic as a war file, then it would be using the weblogic ports, not what you have configured in your application.properties file.</p>\n"}],"owner":{"account_id":11772675,"reputation":25,"user_id":8615279,"display_name":"David Sandoval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552812,"answer_count":1,"score":0,"last_activity_date":1687778135,"creation_date":1687728183,"question_id":76552460,"body_markdown":"I&#39;m trying to consume a **REST** service from **Postman** by deploying a **war** arctifact in **weblogic** but always have the same error \r\n\r\n&gt; &quot;Error: connect ECONNREFUSED 127.0.0.1:8021&quot;\r\n\r\nThere&#39;s no problem with my IP or port.\r\n\r\nThis is my `application.properties` file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this my request\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVFgV.png\r\n  [2]: https://i.stack.imgur.com/eeoYv.png\r\n\r\nfinally, this is my `Controller` class\r\n\r\n```java\r\npackage com.app.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.app.model.Employee;\r\nimport com.app.repo.EmployeeRepo;\r\n\r\n@RestController\r\npublic class EmployeeController {\r\n\r\n\t@Autowired\r\n\tprivate EmployeeRepo repo;\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; saveEmployee(@RequestBody Employee employee) {\r\n\t\ttry {\r\n\t\t\trepo.save(employee);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;String&gt;(&quot;Error al insertar&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t\treturn new ResponseEntity&lt;String&gt;(&quot;Insertado exitosamente&quot;, HttpStatus.OK);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAny help, please?","title":"Connection refused from SprigBoot app to weblogic","body":"<p>I'm trying to consume a <strong>REST</strong> service from <strong>Postman</strong> by deploying a <strong>war</strong> arctifact in <strong>weblogic</strong> but always have the same error</p>\n<blockquote>\n<p>&quot;Error: connect ECONNREFUSED 127.0.0.1:8021&quot;</p>\n</blockquote>\n<p>There's no problem with my IP or port.</p>\n<p>This is my <code>application.properties</code> file</p>\n<p><a href=\"https://i.stack.imgur.com/FVFgV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FVFgV.png\" alt=\"enter image description here\" /></a></p>\n<p>and this my request</p>\n<p><a href=\"https://i.stack.imgur.com/eeoYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eeoYv.png\" alt=\"enter image description here\" /></a></p>\n<p>finally, this is my <code>Controller</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.app.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.app.model.Employee;\nimport com.app.repo.EmployeeRepo;\n\n@RestController\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeRepo repo;\n\n    @PostMapping(&quot;/save&quot;)\n    public ResponseEntity&lt;String&gt; saveEmployee(@RequestBody Employee employee) {\n        try {\n            repo.save(employee);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;String&gt;(&quot;Error al insertar&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return new ResponseEntity&lt;String&gt;(&quot;Insertado exitosamente&quot;, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n<p>Any help, please?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596300022,"creation_date":1596300022,"answer_id":63207621,"question_id":63207516,"body_markdown":"A `NoClassDefFoundError` is thrown,if a classfile references a class, that couldn&#39;t be found at runtime, but was available at compiletime.\r\n\r\n(Source: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html)\r\n\r\nA `ClassNotFoundException` is thrown when an application tries to load in a class through its string name using:\r\n   1. The forName method in class Class.\r\n   2. The findSystemClass method in class ClassLoader .\r\n   3. The loadClass method in class ClassLoader.\r\n\r\n(Source: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html)\r\n\r\n\r\nThe error message `Couldn&#39;t find or load main class XYZ`, means a lot of things:\r\n1. You specified the wrong class (Typo)\r\n2. The class in the classfile specified is (not) in a package. (Like `java c`, but the class is in the package a.b, so the command should be `java a.b.c`)\r\n\r\nMore information/causes: https://stackoverflow.com/a/18093929/13912132","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>A <code>NoClassDefFoundError</code> is thrown,if a classfile references a class, that couldn't be found at runtime, but was available at compiletime.</p>\n<p>(Source: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/NoClassDefFoundError.html</a>)</p>\n<p>A <code>ClassNotFoundException</code> is thrown when an application tries to load in a class through its string name using:</p>\n<ol>\n<li>The forName method in class Class.</li>\n<li>The findSystemClass method in class ClassLoader .</li>\n<li>The loadClass method in class ClassLoader.</li>\n</ol>\n<p>(Source: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassNotFoundException.html</a>)</p>\n<p>The error message <code>Couldn't find or load main class XYZ</code>, means a lot of things:</p>\n<ol>\n<li>You specified the wrong class (Typo)</li>\n<li>The class in the classfile specified is (not) in a package. (Like <code>java c</code>, but the class is in the package a.b, so the command should be <code>java a.b.c</code>)</li>\n</ol>\n<p>More information/causes: <a href=\"https://stackoverflow.com/a/18093929/13912132\">https://stackoverflow.com/a/18093929/13912132</a></p>\n"},{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596302635,"creation_date":1596300547,"answer_id":63207704,"question_id":63207516,"body_markdown":"Both `ClassNotFoundException` and `NoClassDefFoundError` are caused when the JVM is not able to load a particular file, but their cause differs.\r\n\r\nJava runtime throws `ClassNotFoundException` while trying to load a class at runtime only and the name was provided during runtime. In the case of `NoClassDefFoundError`, the class was present at compile-time, but Java runtime could not find it in Java classpath during runtime.\r\n\r\n`Couldn&#39;t find or load main class` error message can be caused by various [reasons](https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean), it can also be caused by `ClassNotFoundException` or `NoClassDefFoundError`.\r\n\r\n```\r\nError: Could not find or load main class ClassName.class\r\nCaused by: java.lang.ClassNotFoundException: ClassName.class\r\n```","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>Both <code>ClassNotFoundException</code> and <code>NoClassDefFoundError</code> are caused when the JVM is not able to load a particular file, but their cause differs.</p>\n<p>Java runtime throws <code>ClassNotFoundException</code> while trying to load a class at runtime only and the name was provided during runtime. In the case of <code>NoClassDefFoundError</code>, the class was present at compile-time, but Java runtime could not find it in Java classpath during runtime.</p>\n<p><code>Couldn't find or load main class</code> error message can be caused by various <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">reasons</a>, it can also be caused by <code>ClassNotFoundException</code> or <code>NoClassDefFoundError</code>.</p>\n<pre><code>Error: Could not find or load main class ClassName.class\nCaused by: java.lang.ClassNotFoundException: ClassName.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596304865,"creation_date":1596303853,"answer_id":63208265,"question_id":63207516,"body_markdown":"[NoClassDefFoundError][1]\r\n-\r\n\r\nThis occurs when the JVM or a `ClassLoader` tries to load a class (as part of a normal method call or as part of creating a new instance using the `new` expression) but it can not be found while it existed when the currently executing class was compiled.\r\n\r\n[ClassNotFoundException][2]\r\n-\r\n\r\nAs mentioned in the documentation, it is thrown when an application tries to load a class through its string name using:\r\n\r\n 1. The `forName` method in class `Class`.\r\n 2. The `findSystemClass` method in class `ClassLoader`.\r\n 3. The `loadClass` method in class `ClassLoader`.\r\n\r\nIt means that it is unknown to JVM whether the class (which is to be loaded) existed when the currently executing class was compiled.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<h2><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">NoClassDefFoundError</a></h2>\n<p>This occurs when the JVM or a <code>ClassLoader</code> tries to load a class (as part of a normal method call or as part of creating a new instance using the <code>new</code> expression) but it can not be found while it existed when the currently executing class was compiled.</p>\n<h2><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">ClassNotFoundException</a></h2>\n<p>As mentioned in the documentation, it is thrown when an application tries to load a class through its string name using:</p>\n<ol>\n<li>The <code>forName</code> method in class <code>Class</code>.</li>\n<li>The <code>findSystemClass</code> method in class <code>ClassLoader</code>.</li>\n<li>The <code>loadClass</code> method in class <code>ClassLoader</code>.</li>\n</ol>\n<p>It means that it is unknown to JVM whether the class (which is to be loaded) existed when the currently executing class was compiled.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687777994,"creation_date":1596306255,"answer_id":63208641,"question_id":63207516,"body_markdown":"`NoClassDefFoundError` - [is][1] a *run-time error* thrown when the bytecode of the class (i.e. corresponding `.class` file) cannot be found at run-time.\r\n - Imagine you&#39;ve compiled classes `A.java` and `B.java` and `A` is using `B`; however, later on, you&#39;ve removed compiled `B.class` file. So, compilation went fine, but afterwards, actual bytecode of the class definition has been removed, as you removed `B.class`. Now, if you run your `A` (which uses `B`), you will end up having `java.lang.NoClassDefFoundError`.\r\n\r\n`ClassNotFoundException` - [is][2] a *checked exception* thrown when your application tries to load the class through its String name, but the class isn&#39;t available on classpath.\r\n- An example can be `Class.forName(&quot;com.mysql.jdbc.driver&quot;);` method call in your code, when, however, you don&#39;t have `com.mysql.jdbc.driver` available on the classpath.\r\n\r\n`Couldn&#39;t find or load main class XYZ` - is an error, indicating, that the class you instruct JVM to run, doesn&#39;t contain the *must have* entry-point `public static void main(String[] args)` method and one of these reasons can lead to that error:\r\n\r\n - you don&#39;t provide a correct Fully Qualified Name of your main class;\r\n - main method is not defined with the correct signature;\r\n - you messed up the packaging / you don&#39;t run the program with `super.sub.grandchild.MainClass` name;\r\n - you have `.class` postfix after your classname, which you should remove.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoClassDefFoundError.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ClassNotFoundException.html","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p><code>NoClassDefFoundError</code> - <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\">is</a> a <em>run-time error</em> thrown when the bytecode of the class (i.e. corresponding <code>.class</code> file) cannot be found at run-time.</p>\n<ul>\n<li>Imagine you've compiled classes <code>A.java</code> and <code>B.java</code> and <code>A</code> is using <code>B</code>; however, later on, you've removed compiled <code>B.class</code> file. So, compilation went fine, but afterwards, actual bytecode of the class definition has been removed, as you removed <code>B.class</code>. Now, if you run your <code>A</code> (which uses <code>B</code>), you will end up having <code>java.lang.NoClassDefFoundError</code>.</li>\n</ul>\n<p><code>ClassNotFoundException</code> - <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\">is</a> a <em>checked exception</em> thrown when your application tries to load the class through its String name, but the class isn't available on classpath.</p>\n<ul>\n<li>An example can be <code>Class.forName(&quot;com.mysql.jdbc.driver&quot;);</code> method call in your code, when, however, you don't have <code>com.mysql.jdbc.driver</code> available on the classpath.</li>\n</ul>\n<p><code>Couldn't find or load main class XYZ</code> - is an error, indicating, that the class you instruct JVM to run, doesn't contain the <em>must have</em> entry-point <code>public static void main(String[] args)</code> method and one of these reasons can lead to that error:</p>\n<ul>\n<li>you don't provide a correct Fully Qualified Name of your main class;</li>\n<li>main method is not defined with the correct signature;</li>\n<li>you messed up the packaging / you don't run the program with <code>super.sub.grandchild.MainClass</code> name;</li>\n<li>you have <code>.class</code> postfix after your classname, which you should remove.</li>\n</ul>\n"}],"owner":{"display_name":"user13829357"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":63208641,"answer_count":4,"score":5,"last_activity_date":1687777994,"creation_date":1596299406,"question_id":63207516,"body_markdown":"I explored multiple sites but could not actually understand difference between them.I would like to know the exact difference between three.","title":"What is Difference between ClassNotFoundException vs NoClassDefFoundError vs Could not find or load main class XYZ?","body":"<p>I explored multiple sites but could not actually understand difference between them.I would like to know the exact difference between three.</p>\n"},{"tags":["java","algebra","waveform"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1576968978,"post_id":59433916,"comment_id":105064493,"body_markdown":"Is there a reason you want to use `sin` to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using `sin` in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that `sin` is much slower than basic arithmetic.","body":"Is there a reason you want to use <code>sin</code> to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using <code>sin</code> in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that <code>sin</code> is much slower than basic arithmetic."},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":1,"creation_date":1577055298,"post_id":59433916,"comment_id":105079872,"body_markdown":"I want to adjust how mellow and bright the triangle wave sounds. For example, a Triangle wave with just the 1st and 3rd harmonics will sound like an organ Tibea, whereas one with more harmonics will sound more like a flute.","body":"I want to adjust how mellow and bright the triangle wave sounds. For example, a Triangle wave with just the 1st and 3rd harmonics will sound like an organ Tibea, whereas one with more harmonics will sound more like a flute."},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":0,"creation_date":1591050734,"post_id":59433916,"comment_id":109904872,"body_markdown":"How would you make a triangle wave using a linear formula? I tried this in another post but the waveform gets too sharp. https://stackoverflow.com/questions/61009312/problem-with-formula-to-output-a-triangle-waveform-using-linear-aliasing","body":"How would you make a triangle wave using a linear formula? I tried this in another post but the waveform gets too sharp. <a href=\"https://stackoverflow.com/questions/61009312/problem-with-formula-to-output-a-triangle-waveform-using-linear-aliasing\" title=\"problem with formula to output a triangle waveform using linear aliasing\">stackoverflow.com/questions/61009312/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":0,"creation_date":1577057681,"post_id":59437685,"comment_id":105080271,"body_markdown":"I tried your formula, but it comes out as having three constant repeating samples, (one for each second)","body":"I tried your formula, but it comes out as having three constant repeating samples, (one for each second)"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1577117825,"post_id":59437685,"comment_id":105097803,"body_markdown":"Unfortunately, I&#39;m not quite sure what you mean. I have added to the answer the curves for various `N`-values (`1`, `2`, `4`, `8`, `16`) that illustrate the points generated by the formula and my implementation. Does it not work for you or are you looking for something else? Maybe some parameters are not defined in your code (I used the following parameters: `sampleLength = 500`, `ampLimit = 100.0`, `frequency = 261.63`, `SAMPLE_RATE = 44100.00` and `N = 1, 2, 4, 8, 16`). If you want, I can paste my code, maybe it will help to identify the issue.","body":"Unfortunately, I&#39;m not quite sure what you mean. I have added to the answer the curves for various <code>N</code>-values (<code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>, <code>16</code>) that illustrate the points generated by the formula and my implementation. Does it not work for you or are you looking for something else? Maybe some parameters are not defined in your code (I used the following parameters: <code>sampleLength = 500</code>, <code>ampLimit = 100.0</code>, <code>frequency = 261.63</code>, <code>SAMPLE_RATE = 44100.00</code> and <code>N = 1, 2, 4, 8, 16</code>). If you want, I can paste my code, maybe it will help to identify the issue."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577087099,"creation_date":1576943743,"answer_id":59437685,"question_id":59433916,"body_markdown":"In the formula for the [triangle wave][1]: \r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B100pt%7D%5Chspace%7B70pt%7Dx_%7Btriangle%7D%5Cleft%20%28%20t%20%5Cright%20%29%3D%20%5Cfrac%7B8%7D%7B%5Cpi%20%5E%7B2%7D%7D%20%5C%20%5Csum_%7Bi%3D%200%7D%5E%7BN-1%7D%20%28-1%29%5E%7Bi%7D%20%5C%20n%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29)\r\n\r\n\r\nthe mode number `n` is dependent on the harmonic label `i`: \r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B150pt%7Dn%3D2i%2B1)\r\n\r\nThis means that it must also be summed over the components\r\n\r\n![](https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B115pt%7Dn%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29)\r\n\r\nwhich doesn&#39;t happen in the current implementation. One possible implementation is:\r\n\r\n    public int[] generateWaveForm() {\r\n        for (int t = 0; t &lt; sampleLength; t++) {\r\n        \ttriangleSample[t] = (int)(ampLimit * 8.0 / Math.pow(Math.PI, 2.0) * getDataPoint(t, N));\r\n        }\r\n        return triangleSample;\r\n    }\r\n\r\n    private double getDataPoint(int t, int N) {\r\n        double sum = 0;\r\n        for (int i = 0; i &lt;= N - 1; i++) {\r\n            sum += getHarmonicShare(t, i);\r\n        }\r\n        return sum;\r\n    }\r\n    \r\n    private double getHarmonicShare(int t, int i) {\r\n\tdouble n = 2.0 * i + 1.0;\r\n    \treturn Math.pow(-1.0, i) * Math.pow(n, -2.0) * Math.sin(2.0 * Math.PI * frequency * (t / SAMPLE_RATE) * n);\r\n    }\r\n\r\nHere `t`, `i`, `n` and `N` correspond to the values from the formula. `frequency` denotes the frequency. The remaining values correspond to the parameters of the posted code. \r\n\r\nThe curve reaches up to the value `sampleLength / SAMPLE_RATE`. The period is `1 / frequency` and there are `(sampleLength / SAMPLE_RATE) * frequency` periods in the displayed frame.\r\n\r\n*Example:*\r\n\r\n    sampleLength:   500\r\n    ampLimit:       100.00\r\n    SAMPLE_RATE:  44100.00\r\n    frequency:      261.63\r\n\r\n    sampleLength / SAMPLE_RATE:\t\t          0.0113378685\r\n    1 / frequency:\t\t                      0.0038221916\r\n    (sampleLength / SAMPLE_RATE) * frequency: 2.9663265306\r\n\r\nIn the following the corresponding curve is shown for different `N` using JFreeChart:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangle_wave#Harmonics\r\n  [3]: https://i.stack.imgur.com/IDEpC.gif","title":"Problems with formula to output a triangle waveform in Java","body":"<p>In the formula for the <a href=\"https://en.wikipedia.org/wiki/Triangle_wave#Harmonics\" rel=\"nofollow noreferrer\">triangle wave</a>: </p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B100pt%7D%5Chspace%7B70pt%7Dx_%7Btriangle%7D%5Cleft%20%28%20t%20%5Cright%20%29%3D%20%5Cfrac%7B8%7D%7B%5Cpi%20%5E%7B2%7D%7D%20%5C%20%5Csum_%7Bi%3D%200%7D%5E%7BN-1%7D%20%28-1%29%5E%7Bi%7D%20%5C%20n%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29\" alt=\"\"></p>\n\n<p>the mode number <code>n</code> is dependent on the harmonic label <code>i</code>: </p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B150pt%7Dn%3D2i%2B1\" alt=\"\"></p>\n\n<p>This means that it must also be summed over the components</p>\n\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Chspace%7B150pt%7D%5Chspace%7B115pt%7Dn%5E%7B-2%7D%20%5C%20sin%5Cleft%20%28%202%5Cpi%20f_%7B0%7Dnt%20%5Cright%20%29\" alt=\"\"></p>\n\n<p>which doesn't happen in the current implementation. One possible implementation is:</p>\n\n<pre><code>public int[] generateWaveForm() {\n    for (int t = 0; t &lt; sampleLength; t++) {\n        triangleSample[t] = (int)(ampLimit * 8.0 / Math.pow(Math.PI, 2.0) * getDataPoint(t, N));\n    }\n    return triangleSample;\n}\n\nprivate double getDataPoint(int t, int N) {\n    double sum = 0;\n    for (int i = 0; i &lt;= N - 1; i++) {\n        sum += getHarmonicShare(t, i);\n    }\n    return sum;\n}\n\nprivate double getHarmonicShare(int t, int i) {\ndouble n = 2.0 * i + 1.0;\n    return Math.pow(-1.0, i) * Math.pow(n, -2.0) * Math.sin(2.0 * Math.PI * frequency * (t / SAMPLE_RATE) * n);\n}\n</code></pre>\n\n<p>Here <code>t</code>, <code>i</code>, <code>n</code> and <code>N</code> correspond to the values from the formula. <code>frequency</code> denotes the frequency. The remaining values correspond to the parameters of the posted code. </p>\n\n<p>The curve reaches up to the value <code>sampleLength / SAMPLE_RATE</code>. The period is <code>1 / frequency</code> and there are <code>(sampleLength / SAMPLE_RATE) * frequency</code> periods in the displayed frame.</p>\n\n<p><em>Example:</em></p>\n\n<pre><code>sampleLength:   500\nampLimit:       100.00\nSAMPLE_RATE:  44100.00\nfrequency:      261.63\n\nsampleLength / SAMPLE_RATE:               0.0113378685\n1 / frequency:                            0.0038221916\n(sampleLength / SAMPLE_RATE) * frequency: 2.9663265306\n</code></pre>\n\n<p>In the following the corresponding curve is shown for different <code>N</code> using JFreeChart:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IDEpC.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDEpC.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":23573306,"reputation":1,"user_id":17613236,"display_name":"Bouthaina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873441,"creation_date":1638873441,"answer_id":70258636,"question_id":59433916,"body_markdown":"Is there a reason you want to use sin to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using sin in that you don&#39;t get harmonic distortion from aliasing, but if that&#39;s an issue then you can oversample. The issue is that sin is much slower than basic arithmetic.","title":"Problems with formula to output a triangle waveform in Java","body":"<p>Is there a reason you want to use sin to do this rather than produce the straight lines directly by a linear formula? There is an advantage in using sin in that you don't get harmonic distortion from aliasing, but if that's an issue then you can oversample. The issue is that sin is much slower than basic arithmetic.</p>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59437685,"answer_count":2,"score":3,"last_activity_date":1687777905,"creation_date":1576908738,"question_id":59433916,"body_markdown":"I got my wave file creator working and I split it into three classes, I also made a sinewave generator that inherits from an abstract class called waveform and I can export 8 and 16 bit mono or stereo sine waves. I am trying to make a class called TriangleWave Generator to output a triangle wave tone, but I can&#39;t get the algebra from &lt;https://en.wikipedia.org/wiki/Triangle_wave#&gt;, the first formula, to work. It will only export the highest harmonic stated and not blend them together with the fundamental\r\n\r\nSample length: length in seconds\r\npoint: individual sample\r\namp limit: the highest position possible\r\nharmonics: the number of harmonics to use to make the waveform 1 = fundamental, 2 = 1st overtone, 3 = 2nd overtone.......\r\nfrequency: fundamental frequency (Middle C = 261.63)\r\nsample rate = 44100; (CD quality)\r\ntriangle Samples array: sample data\r\n\r\nThis is my code\r\n````\r\npublic class TriangleGenerator extends Waveform {\r\n    \r\n    // constants\r\n    public static final int HARMONIC_COUNT = 16;\r\n\r\n    // instance variabls\r\n    int harmonics;\r\n    int[] triangleSample;\r\n    int addCount;\r\n\r\n    // constructor\r\n    public TriangleGenerator(double amplitude, double frequency, int bitRate, double duration, int harmonics) {\r\n        super(amplitude, frequency, bitRate, duration);\r\n        // sample data\r\n        triangleSample = new int[sampleLength];\r\n        calculateAmpLimit();\r\n        this.harmonics = harmonics;\r\n    }\r\n\r\n    // one arg cunstructor\r\n    public TriangleGenerator(double frequency) {\r\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, HARMONIC_COUNT);\r\n    }\r\n\r\n    // no args constructor\r\n    public TriangleGenerator() {\r\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, HARMONIC_COUNT);\r\n    }\r\n\r\n    @Override\r\n    public int[] generateWaveForm() {\r\n        \r\n        // generate the actual waveform\r\n        for (int i = 0; i &lt; sampleLength; i++) {\r\n            point = (int)(ampLimit * ((8 / Math.pow(Math.PI, 2)) * sumnate(harmonics - 1, Math.pow(-1, addCount))\r\n                    * Math.pow(harmonics, -2) * Math.sin(2 * Math.PI * frequency * harmonics * i / SAMPLE_RATE)));\r\n            triangleSample[i] = point;\r\n        }\r\n\r\n        // return the sample data\r\n        return triangleSample;\r\n    }\r\n    \r\n    public double sumnate(int n, double adder) {\r\n        double sum = 0;\r\n        \r\n        for (addCount = 0; addCount &lt;= n; addCount++) {\r\n            sum += adder;\r\n        }\r\n        \r\n        return sum;\r\n    }\r\n}\r\n````\r\n","title":"Problems with formula to output a triangle waveform in Java","body":"<p>I got my wave file creator working and I split it into three classes, I also made a sinewave generator that inherits from an abstract class called waveform and I can export 8 and 16 bit mono or stereo sine waves. I am trying to make a class called TriangleWave Generator to output a triangle wave tone, but I can't get the algebra from <a href=\"https://en.wikipedia.org/wiki/Triangle_wave#\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Triangle_wave#</a>, the first formula, to work. It will only export the highest harmonic stated and not blend them together with the fundamental</p>\n<p>Sample length: length in seconds\npoint: individual sample\namp limit: the highest position possible\nharmonics: the number of harmonics to use to make the waveform 1 = fundamental, 2 = 1st overtone, 3 = 2nd overtone.......\nfrequency: fundamental frequency (Middle C = 261.63)\nsample rate = 44100; (CD quality)\ntriangle Samples array: sample data</p>\n<p>This is my code</p>\n<pre><code>public class TriangleGenerator extends Waveform {\n    \n    // constants\n    public static final int HARMONIC_COUNT = 16;\n\n    // instance variabls\n    int harmonics;\n    int[] triangleSample;\n    int addCount;\n\n    // constructor\n    public TriangleGenerator(double amplitude, double frequency, int bitRate, double duration, int harmonics) {\n        super(amplitude, frequency, bitRate, duration);\n        // sample data\n        triangleSample = new int[sampleLength];\n        calculateAmpLimit();\n        this.harmonics = harmonics;\n    }\n\n    // one arg cunstructor\n    public TriangleGenerator(double frequency) {\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, HARMONIC_COUNT);\n    }\n\n    // no args constructor\n    public TriangleGenerator() {\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, HARMONIC_COUNT);\n    }\n\n    @Override\n    public int[] generateWaveForm() {\n        \n        // generate the actual waveform\n        for (int i = 0; i &lt; sampleLength; i++) {\n            point = (int)(ampLimit * ((8 / Math.pow(Math.PI, 2)) * sumnate(harmonics - 1, Math.pow(-1, addCount))\n                    * Math.pow(harmonics, -2) * Math.sin(2 * Math.PI * frequency * harmonics * i / SAMPLE_RATE)));\n            triangleSample[i] = point;\n        }\n\n        // return the sample data\n        return triangleSample;\n    }\n    \n    public double sumnate(int n, double adder) {\n        double sum = 0;\n        \n        for (addCount = 0; addCount &lt;= n; addCount++) {\n            sum += adder;\n        }\n        \n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":["java","waveform"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1577148346,"post_id":59462648,"comment_id":105106180,"body_markdown":"Are you certain the &quot;click&quot; isn&#39;t the oscillator moving into audible range? The signal is being modulated, what kind of post processing are you doing to it after that? Where is your smoothing algorithm?","body":"Are you certain the &quot;click&quot; isn&#39;t the oscillator moving into audible range? The signal is being modulated, what kind of post processing are you doing to it after that? Where is your smoothing algorithm?"},{"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"score":0,"creation_date":1577161016,"post_id":59462648,"comment_id":105107996,"body_markdown":"The oscillator only oscillates around the 0.5 to 4 hertz range usually. That&#39;s why I&#39;m asking this question, I need a better smoothing algorithm because the current one isn&#39;t good enough.","body":"The oscillator only oscillates around the 0.5 to 4 hertz range usually. That&#39;s why I&#39;m asking this question, I need a better smoothing algorithm because the current one isn&#39;t good enough."}],"answers":[{"tags":[],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1577255292,"creation_date":1577255292,"answer_id":59475785,"question_id":59462648,"body_markdown":"I actually found out what was wrong, first I was converting the fine point to an int before I multiplied it by the amp limit. second the code for the fine point needed to be repositioned and multiplied by two.\r\n\r\n````\r\n// generate the actual waveform\r\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\r\n            \r\n            double waveCycleRatio = waveLength * dutyCycle;\r\n\r\n            // same as square\r\n            if (j - waveCycleRatio &lt; 0.0) {\r\n                finePoint = 1.0;\r\n            } else if (j - waveCycleRatio &gt;= 0.0 \r\n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\r\n                finePoint = 0 - (j - waveCycleRatio - 0.5) * 2;\r\n            } else if (j - waveLength &lt; 0.0) {\r\n                finePoint = -1.0;\r\n            } else if (j - waveLength &gt;= 0.0) {\r\n                finePoint = (j - waveLength - 0.5) * 2;\r\n            }\r\n            if (j &gt;= waveLength) {\r\n                j = 1;\r\n            }\r\n            point = (int)(finePoint * ampLimit);\r\n            squareSample[i] = point;\r\n\r\n            if (holdCycle &gt; 0) {\r\n                holdCycle--;\r\n            } else {\r\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\r\n                        + minDutyCycle;\r\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint++;\r\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint--;\r\n                    setDirection = true;\r\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\r\n                    cyclePoint--;\r\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\r\n                    cyclePoint++;\r\n                    setDirection = false;\r\n                }\r\n            }\r\n        }\r\n````","title":"How to get this pulse wave to have a finer transtion between duty cycle samples in Java","body":"<p>I actually found out what was wrong, first I was converting the fine point to an int before I multiplied it by the amp limit. second the code for the fine point needed to be repositioned and multiplied by two.</p>\n\n<pre><code>// generate the actual waveform\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\n\n            double waveCycleRatio = waveLength * dutyCycle;\n\n            // same as square\n            if (j - waveCycleRatio &lt; 0.0) {\n                finePoint = 1.0;\n            } else if (j - waveCycleRatio &gt;= 0.0 \n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\n                finePoint = 0 - (j - waveCycleRatio - 0.5) * 2;\n            } else if (j - waveLength &lt; 0.0) {\n                finePoint = -1.0;\n            } else if (j - waveLength &gt;= 0.0) {\n                finePoint = (j - waveLength - 0.5) * 2;\n            }\n            if (j &gt;= waveLength) {\n                j = 1;\n            }\n            point = (int)(finePoint * ampLimit);\n            squareSample[i] = point;\n\n            if (holdCycle &gt; 0) {\n                holdCycle--;\n            } else {\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\n                        + minDutyCycle;\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint++;\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint--;\n                    setDirection = true;\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\n                    cyclePoint--;\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\n                    cyclePoint++;\n                    setDirection = false;\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":7957452,"reputation":69,"user_id":12556809,"display_name":"Edward Eddy67716"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59475785,"answer_count":1,"score":0,"last_activity_date":1687777684,"creation_date":1577147913,"question_id":59462648,"body_markdown":"I am building a pulse wave generator that extends a square wave generator.\r\n\r\nMy problem is I want the pulse width modulation transition to be smoother\r\nI am trying to make the middle sample between the peak and trough of the wave to move smoothly up or down while the width is modulated.\r\nThis is so higher sounds such as C7 at 2093 Hz don&#39;t sound clicky as the duty cycle is modulated.\r\n\r\nWhat needs to be done?\r\n\r\nSample rate is 44100\r\nBit rate is 16\r\nampLimit is the highest possible value.\r\nduration is the length of waveform in seconds\r\nduty cycle is the starting cycle of the waveform\r\n\r\n````\r\npublic class PulseGenerator extends SquareGenerator {\r\n\r\n    // constants\r\n    public static final double DEF_MIN_DUTY_CYCLE = 0.05;\r\n    public static final double DEF_MAX_DUTY_CYCLE = 0.95;\r\n    public static final double DEF_CYCLE_FREQ = 2;\r\n    public static final double DEF_HOLD_CYCLE = 0;\r\n\r\n    // instance variables\r\n    double minDutyCycle; // minimum value of duty cycle\r\n    double maxDutyCycle; // maximum value of duty cycle\r\n    double cycleFreq;\r\n    double holdCycle; // if more than zero, the wave will hold the modulation for that period\r\n    double dutyCycleRange;  // maxDutyCycle - minDutyCycle\r\n    boolean setDirection;\r\n\r\n    // constructor\r\n    public PulseGenerator(double amplitude, double frequency, int bitRate,\r\n            double duration, double dutyCycle, double minDutyCycle,\r\n            double maxDutyCycle, double cycleFreq, double holdCycle) {\r\n        super(amplitude, frequency, bitRate, duration, dutyCycle);\r\n        // sample data\r\n        squareSample = new int[sampleLength];\r\n        calculateAmpLimit();\r\n        this.dutyCycle = dutyCycle;\r\n        waveLength = SAMPLE_RATE / this.frequency;\r\n        this.minDutyCycle = minDutyCycle;\r\n        this.maxDutyCycle = maxDutyCycle;\r\n        this.cycleFreq = cycleFreq * SAMPLE_RATE;\r\n        this.holdCycle = holdCycle * SAMPLE_RATE;\r\n        dutyCycleRange = this.maxDutyCycle - this.minDutyCycle;\r\n        setDirection = false;\r\n    }\r\n\r\n    // one arg cunstructor\r\n    public PulseGenerator(double frequency) {\r\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\r\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\r\n                DEF_HOLD_CYCLE);\r\n    }\r\n\r\n    // no args constructor\r\n    public PulseGenerator() {\r\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\r\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\r\n                DEF_HOLD_CYCLE);\r\n    }\r\n\r\n    // generate waveform method\r\n    @Override\r\n    public int[] generateWaveForm() {\r\n        \r\n        // define cycle point\r\n        int cyclePoint = (int)(cycleFreq / 2 * ((dutyCycle * dutyCycleRange) + minDutyCycle));\r\n        \r\n        // generate the actual waveform\r\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\r\n            \r\n            double waveCycleRatio = waveLength * dutyCycle;\r\n\r\n            // same as square generate method\r\n            if (j - waveCycleRatio &lt; 0.0) {\r\n                finePoint = 1.0;\r\n            } else if (j - waveCycleRatio &gt;= 0.0 \r\n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\r\n                finePoint = 1 - (j - waveCycleRatio);\r\n            } else if (j - waveLength &lt; 0.0) {\r\n                finePoint = -1.0;\r\n            } else if (j - waveLength &gt;= 0.0) {\r\n                finePoint = -1 + (waveLength - j);\r\n            }\r\n            if (j &gt;= waveLength) {\r\n                j = 1;\r\n            }\r\n            point = (int)finePoint * ampLimit;\r\n            squareSample[i] = point;\r\n\r\n            if (holdCycle &gt; 0) {\r\n                holdCycle--;\r\n            } else {\r\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\r\n                        + minDutyCycle;\r\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint++;\r\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\r\n                    cyclePoint--;\r\n                    setDirection = true;\r\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\r\n                    cyclePoint--;\r\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\r\n                    cyclePoint++;\r\n                    setDirection = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        // return the sample data\r\n        return squareSample;\r\n    }\r\n\r\n}\r\n````","title":"How to get this pulse wave to have a finer transtion between duty cycle samples in Java","body":"<p>I am building a pulse wave generator that extends a square wave generator.</p>\n\n<p>My problem is I want the pulse width modulation transition to be smoother\nI am trying to make the middle sample between the peak and trough of the wave to move smoothly up or down while the width is modulated.\nThis is so higher sounds such as C7 at 2093 Hz don't sound clicky as the duty cycle is modulated.</p>\n\n<p>What needs to be done?</p>\n\n<p>Sample rate is 44100\nBit rate is 16\nampLimit is the highest possible value.\nduration is the length of waveform in seconds\nduty cycle is the starting cycle of the waveform</p>\n\n<pre><code>public class PulseGenerator extends SquareGenerator {\n\n    // constants\n    public static final double DEF_MIN_DUTY_CYCLE = 0.05;\n    public static final double DEF_MAX_DUTY_CYCLE = 0.95;\n    public static final double DEF_CYCLE_FREQ = 2;\n    public static final double DEF_HOLD_CYCLE = 0;\n\n    // instance variables\n    double minDutyCycle; // minimum value of duty cycle\n    double maxDutyCycle; // maximum value of duty cycle\n    double cycleFreq;\n    double holdCycle; // if more than zero, the wave will hold the modulation for that period\n    double dutyCycleRange;  // maxDutyCycle - minDutyCycle\n    boolean setDirection;\n\n    // constructor\n    public PulseGenerator(double amplitude, double frequency, int bitRate,\n            double duration, double dutyCycle, double minDutyCycle,\n            double maxDutyCycle, double cycleFreq, double holdCycle) {\n        super(amplitude, frequency, bitRate, duration, dutyCycle);\n        // sample data\n        squareSample = new int[sampleLength];\n        calculateAmpLimit();\n        this.dutyCycle = dutyCycle;\n        waveLength = SAMPLE_RATE / this.frequency;\n        this.minDutyCycle = minDutyCycle;\n        this.maxDutyCycle = maxDutyCycle;\n        this.cycleFreq = cycleFreq * SAMPLE_RATE;\n        this.holdCycle = holdCycle * SAMPLE_RATE;\n        dutyCycleRange = this.maxDutyCycle - this.minDutyCycle;\n        setDirection = false;\n    }\n\n    // one arg cunstructor\n    public PulseGenerator(double frequency) {\n        this(AMPLITUDE, frequency, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\n                DEF_HOLD_CYCLE);\n    }\n\n    // no args constructor\n    public PulseGenerator() {\n        this(AMPLITUDE, FREQUENCY, BIT_RATE, DURATION, DEF_DUTY_CYCLE,\n                DEF_MIN_DUTY_CYCLE, DEF_MAX_DUTY_CYCLE, DEF_CYCLE_FREQ,\n                DEF_HOLD_CYCLE);\n    }\n\n    // generate waveform method\n    @Override\n    public int[] generateWaveForm() {\n\n        // define cycle point\n        int cyclePoint = (int)(cycleFreq / 2 * ((dutyCycle * dutyCycleRange) + minDutyCycle));\n\n        // generate the actual waveform\n        for (int i = 0, j = 0; i &lt; sampleLength; i++, j++) {\n\n            double waveCycleRatio = waveLength * dutyCycle;\n\n            // same as square generate method\n            if (j - waveCycleRatio &lt; 0.0) {\n                finePoint = 1.0;\n            } else if (j - waveCycleRatio &gt;= 0.0 \n                    &amp;&amp; j - waveCycleRatio &lt; 1) {\n                finePoint = 1 - (j - waveCycleRatio);\n            } else if (j - waveLength &lt; 0.0) {\n                finePoint = -1.0;\n            } else if (j - waveLength &gt;= 0.0) {\n                finePoint = -1 + (waveLength - j);\n            }\n            if (j &gt;= waveLength) {\n                j = 1;\n            }\n            point = (int)finePoint * ampLimit;\n            squareSample[i] = point;\n\n            if (holdCycle &gt; 0) {\n                holdCycle--;\n            } else {\n                dutyCycle = (cyclePoint / (cycleFreq / 2) * dutyCycleRange)\n                        + minDutyCycle;\n                if (cyclePoint &lt; cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint++;\n                } else if (cyclePoint &gt;= cycleFreq / 2 &amp;&amp; !setDirection) {\n                    cyclePoint--;\n                    setDirection = true;\n                } else if (cyclePoint &gt; 0 &amp;&amp; setDirection) {\n                    cyclePoint--;\n                } else if (cyclePoint &lt;= 0 &amp;&amp; setDirection) {\n                    cyclePoint++;\n                    setDirection = false;\n                }\n            }\n        }\n\n        // return the sample data\n        return squareSample;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","scrollview"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1687777299,"post_id":76556049,"comment_id":134979238,"body_markdown":"Update the question with the relevant text based HTML and your code trials.","body":"Update the question with the relevant text based HTML and your code trials."}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687777044,"creation_date":1687777044,"question_id":76556049,"body_markdown":"In a Java/Selenium test I am doing I need to verify the presence of a scroll bar (see highlighted yellow in image below).  From google searches all I get is a way to scroll using Javascript or something like *js.executescript(&quot;window.scrollBy(0,120)&quot;*) or *action.sendKeys(&quot;Keys.DOWN&quot;)* but this does not really verify that the scroll bar is actually there.  I looked at the html but could not find any element for the scroll window.  There is a textarea element but no scrollbar.  It is possible somehow to tell from one of the values in the &quot;class&quot; attribute, or some other way to verify a scroll bar?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i43XX.png","title":"Selenium verifying a scroll bar","body":"<p>In a Java/Selenium test I am doing I need to verify the presence of a scroll bar (see highlighted yellow in image below).  From google searches all I get is a way to scroll using Javascript or something like <em>js.executescript(&quot;window.scrollBy(0,120)&quot;</em>) or <em>action.sendKeys(&quot;Keys.DOWN&quot;)</em> but this does not really verify that the scroll bar is actually there.  I looked at the html but could not find any element for the scroll window.  There is a textarea element but no scrollbar.  It is possible somehow to tell from one of the values in the &quot;class&quot; attribute, or some other way to verify a scroll bar?</p>\n<p><a href=\"https://i.stack.imgur.com/i43XX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i43XX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","elasticsearch","elasticsearch-aggregation"],"answers":[{"comments":[{"owner":{"account_id":11498999,"reputation":69,"user_id":8427346,"display_name":"Majd Mahajenah"},"score":0,"creation_date":1687697580,"post_id":76550446,"comment_id":134969843,"body_markdown":"this code doesn&#39;t seem to work, most of the classes used are either deprecated or not found in the elastic dependencies. this is the same code that chat-gpt gave.","body":"this code doesn&#39;t seem to work, most of the classes used are either deprecated or not found in the elastic dependencies. this is the same code that chat-gpt gave."}],"tags":[],"owner":{"account_id":28891200,"reputation":3,"user_id":22128327,"display_name":"Jannis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687696924,"creation_date":1687696924,"answer_id":76550446,"question_id":76550323,"body_markdown":"Try using the NativeSearchQueryBuilder\r\n\r\n    @Service\r\n    public class ItemService {\r\n\r\n    @Autowired\r\n    private ElasticsearchOperations elasticsearchOperations;\r\n\r\n    public void getScoreCountRanges() {\r\n        SearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, 100))\r\n                .addAggregation(AggregationBuilders.range(&quot;score_ranges&quot;)\r\n                        .field(&quot;score&quot;)\r\n                        .addUnboundedTo(&quot;low&quot;, 4)\r\n                        .addRange(&quot;medium&quot;, 4, 7)\r\n                        .addUnboundedFrom(&quot;high&quot;, 7)\r\n                )\r\n                .build();\r\n\r\n        Aggregations aggregations = elasticsearchOperations.query(searchQuery, SearchResponse::getAggregations);\r\n        Range rangeAggregation = aggregations.get(&quot;score_ranges&quot;);\r\n\r\n        long lowCount = rangeAggregation.getBucketByKey(&quot;low&quot;).getDocCount();\r\n        long mediumCount = rangeAggregation.getBucketByKey(&quot;medium&quot;).getDocCount();\r\n        long highCount = rangeAggregation.getBucketByKey(&quot;high&quot;).getDocCount();\r\n\r\n        System.out.println(&quot;Low Range Count: &quot; + lowCount);\r\n        System.out.println(&quot;Medium Range Count: &quot; + mediumCount);\r\n        System.out.println(&quot;High Range Count: &quot; + highCount);\r\n      }\r\n    }","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>Try using the NativeSearchQueryBuilder</p>\n<pre><code>@Service\npublic class ItemService {\n\n@Autowired\nprivate ElasticsearchOperations elasticsearchOperations;\n\npublic void getScoreCountRanges() {\n    SearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, 100))\n            .addAggregation(AggregationBuilders.range(&quot;score_ranges&quot;)\n                    .field(&quot;score&quot;)\n                    .addUnboundedTo(&quot;low&quot;, 4)\n                    .addRange(&quot;medium&quot;, 4, 7)\n                    .addUnboundedFrom(&quot;high&quot;, 7)\n            )\n            .build();\n\n    Aggregations aggregations = elasticsearchOperations.query(searchQuery, SearchResponse::getAggregations);\n    Range rangeAggregation = aggregations.get(&quot;score_ranges&quot;);\n\n    long lowCount = rangeAggregation.getBucketByKey(&quot;low&quot;).getDocCount();\n    long mediumCount = rangeAggregation.getBucketByKey(&quot;medium&quot;).getDocCount();\n    long highCount = rangeAggregation.getBucketByKey(&quot;high&quot;).getDocCount();\n\n    System.out.println(&quot;Low Range Count: &quot; + lowCount);\n    System.out.println(&quot;Medium Range Count: &quot; + mediumCount);\n    System.out.println(&quot;High Range Count: &quot; + highCount);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11498999,"reputation":69,"user_id":8427346,"display_name":"Majd Mahajenah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687776979,"creation_date":1687776979,"answer_id":76556044,"question_id":76550323,"body_markdown":"I will Answer this with working Code if someone might find it useful in the future. \r\n\r\n    @Override\r\n    public Scores getScoreCountRanges() {\r\n    \tScores scores = new Scores();\r\n        String aggregationName = &quot;score_ranges&quot;;\r\n        NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n                .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, &quot;DESIRED-USER-ID&quot;)\r\n                .withAggregations(AggregationBuilders.range(aggregationName)\r\n                        .field(&quot;scores&quot;)\r\n                        .addRange(LOW, LOW_LOWER_BOUND,MEDIUM_LOWER_BOUND)    \r\n                        .addRange(MEDIUM, MEDIUM_LOWER_BOUND, HIGH_LOWER_BOUND)   \r\n                        .addRange(HIGH, HIGH_LOWER_BOUND, HIGH_UPPER_BOUND)  \r\n                )\r\n                .build();\r\n    \r\n        SearchHits&lt;?&gt; searchHits = operations.search(searchQuery, ClassOfData.class);\r\n        if (!searchHits.hasAggregations())\r\n            return scores;\r\n        AggregationsContainer&lt;?&gt; aggregationsContainer = searchHits.getAggregations();\r\n        if (aggregationsContainer == null) {\r\n            return scores;\r\n        }\r\n        Aggregations aggregations = (Aggregations) aggregationsContainer.aggregations();\r\n        ParsedRange rangeAggregation = aggregations.get(aggregationName);\r\n        rangeAggregation.getBuckets().forEach(bucket -&gt; fillScores(scores, bucket.getKey().toString(), bucket.getDocCount()));\r\n        return scores;\r\n    }\r\n\r\nthis code will do what is called rangeAggregation, and will return buckets that contail records that answer the matchQuery and are found inside the ranges you decided.\r\n\r\nand we will use the doc count of that bucket to know how many records that match the criteria are in each specific range. \r\n\r\nyou can use fill scores as you desire or do any thing else, returning a map containing a key and value is also a good choice. \r\n\r\nhope it was helpful.","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>I will Answer this with working Code if someone might find it useful in the future.</p>\n<pre><code>@Override\npublic Scores getScoreCountRanges() {\n    Scores scores = new Scores();\n    String aggregationName = &quot;score_ranges&quot;;\n    NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withQuery(QueryBuilders.matchQuery(&quot;userId&quot;, &quot;DESIRED-USER-ID&quot;)\n            .withAggregations(AggregationBuilders.range(aggregationName)\n                    .field(&quot;scores&quot;)\n                    .addRange(LOW, LOW_LOWER_BOUND,MEDIUM_LOWER_BOUND)    \n                    .addRange(MEDIUM, MEDIUM_LOWER_BOUND, HIGH_LOWER_BOUND)   \n                    .addRange(HIGH, HIGH_LOWER_BOUND, HIGH_UPPER_BOUND)  \n            )\n            .build();\n\n    SearchHits&lt;?&gt; searchHits = operations.search(searchQuery, ClassOfData.class);\n    if (!searchHits.hasAggregations())\n        return scores;\n    AggregationsContainer&lt;?&gt; aggregationsContainer = searchHits.getAggregations();\n    if (aggregationsContainer == null) {\n        return scores;\n    }\n    Aggregations aggregations = (Aggregations) aggregationsContainer.aggregations();\n    ParsedRange rangeAggregation = aggregations.get(aggregationName);\n    rangeAggregation.getBuckets().forEach(bucket -&gt; fillScores(scores, bucket.getKey().toString(), bucket.getDocCount()));\n    return scores;\n}\n</code></pre>\n<p>this code will do what is called rangeAggregation, and will return buckets that contail records that answer the matchQuery and are found inside the ranges you decided.</p>\n<p>and we will use the doc count of that bucket to know how many records that match the criteria are in each specific range.</p>\n<p>you can use fill scores as you desire or do any thing else, returning a map containing a key and value is also a good choice.</p>\n<p>hope it was helpful.</p>\n"}],"owner":{"account_id":11498999,"reputation":69,"user_id":8427346,"display_name":"Majd Mahajenah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76556044,"answer_count":2,"score":0,"last_activity_date":1687776979,"creation_date":1687695087,"question_id":76550323,"body_markdown":"I&#39;m trying to count records from elastic search which are in specific range. \r\nI have 3 ranges which represent different values in double. \r\n\r\n    low (0-4]\r\n    medium (4-7]\r\n    high (7-10]\r\n\r\nand the object is something like \r\n\r\n    {\r\n    \r\n    &quot;company&quot;:&quot;companyName&quot;, // string\r\n    \r\n    &quot;score&quot;: 6.2 // double\r\n    \r\n    }\r\n\r\nand lets say for company1 i would like to get all the counts for score values. \r\n\r\nto get back an object like the following \r\n    {&quot;high&quot;:20, &quot;medium&quot;:10, &quot;low&quot;:3}\r\n\r\nI have found a way to do it using the API , \r\n\r\n\r\n    public interface ItemRepository extends ElasticsearchRepository&lt;Item, String&gt; {\r\n    \r\n        @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;userId\\&quot;:100}},{\\&quot;range\\&quot;:{\\&quot;score\\&quot;:{\\&quot;gte\\&quot;:?0,\\&quot;lt\\&quot;:?1}}}]}}&quot;)\r\n        long countByScoreRangeAndUserId(int lowerBound, int upperBound);\r\n    }\r\n\r\n\r\n    @Service\r\n    public class ItemService {\r\n    \r\n        @Autowired\r\n        private ItemRepository itemRepository;\r\n    \r\n        public void getScoreCountRanges() {\r\n            long range1Count = itemRepository.countByScoreRangeAndUserId(0, 40);\r\n            long range2Count = itemRepository.countByScoreRangeAndUserId(40, 70);\r\n            long range3Count = itemRepository.countByScoreRangeAndUserId(70, 101); // inclusive lower bound, exclusive upper bound\r\n            System.out.println(&quot;Range 0-39 Count: &quot; + range1Count);\r\n            System.out.println(&quot;Range 40-69 Count: &quot; + range2Count);\r\n            System.out.println(&quot;Range 70-100 Count: &quot; + range3Count);\r\n        }\r\n    }\r\n\r\n\r\n\r\nbut i would like to do it in a singe swipe over the database and not to count it in 3 times. \r\nand which way is better and faster ? \r\n\r\nthanks a lot","title":"Counting by ranges in Double elasticSearch Spring boot using aggregation","body":"<p>I'm trying to count records from elastic search which are in specific range.\nI have 3 ranges which represent different values in double.</p>\n<pre><code>low (0-4]\nmedium (4-7]\nhigh (7-10]\n</code></pre>\n<p>and the object is something like</p>\n<pre><code>{\n\n&quot;company&quot;:&quot;companyName&quot;, // string\n\n&quot;score&quot;: 6.2 // double\n\n}\n</code></pre>\n<p>and lets say for company1 i would like to get all the counts for score values.</p>\n<p>to get back an object like the following\n{&quot;high&quot;:20, &quot;medium&quot;:10, &quot;low&quot;:3}</p>\n<p>I have found a way to do it using the API ,</p>\n<pre><code>public interface ItemRepository extends ElasticsearchRepository&lt;Item, String&gt; {\n\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;userId\\&quot;:100}},{\\&quot;range\\&quot;:{\\&quot;score\\&quot;:{\\&quot;gte\\&quot;:?0,\\&quot;lt\\&quot;:?1}}}]}}&quot;)\n    long countByScoreRangeAndUserId(int lowerBound, int upperBound);\n}\n\n\n@Service\npublic class ItemService {\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n    public void getScoreCountRanges() {\n        long range1Count = itemRepository.countByScoreRangeAndUserId(0, 40);\n        long range2Count = itemRepository.countByScoreRangeAndUserId(40, 70);\n        long range3Count = itemRepository.countByScoreRangeAndUserId(70, 101); // inclusive lower bound, exclusive upper bound\n        System.out.println(&quot;Range 0-39 Count: &quot; + range1Count);\n        System.out.println(&quot;Range 40-69 Count: &quot; + range2Count);\n        System.out.println(&quot;Range 70-100 Count: &quot; + range3Count);\n    }\n}\n</code></pre>\n<p>but i would like to do it in a singe swipe over the database and not to count it in 3 times.\nand which way is better and faster ?</p>\n<p>thanks a lot</p>\n"},{"tags":["java","fonts","odt","odf","odftoolkit"],"owner":{"account_id":14085595,"reputation":121,"user_id":10175441,"display_name":"Unearthly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776971,"creation_date":1687776971,"question_id":76556040,"body_markdown":"how can I change the text font of my OdfTable&#39;s cells? I&#39;m using ODF Toolkit library and I only found this resource online: https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html which DOESN&#39;T work since i don&#39;t receive a table but a OdfTable.\r\n\r\nFor clarity here&#39;s the method I wrote. I&#39;m adding a new row to my table and I set a value in every cell for every initiative present.\r\n\r\nThanks!\r\n\r\n    static void fillRipartitionTable(Initiative principalInitiative, List&lt;OdfTable&gt; tableList, ProjectProposal proposal, int ripartitionTableIndex) {\r\n            boolean hasPlan = !Objects.isNull(principalInitiative.getPlan());\r\n            proposal\r\n                .getInitiatives()\r\n                .forEach(\r\n                    initiativeProjectProposal -&gt; {\r\n                        Initiative currentInitiative = initiativeProjectProposal.getInitiative();\r\n                        OdfTableRow odfTableRow = tableList.get(ripartitionTableIndex).appendRow();\r\n                        odfTableRow\r\n                            .getCellByIndex(0)\r\n                            .setStringValue(\r\n                                hasPlan\r\n                                    ? String.format(\r\n                                    &quot;%d-%02d&quot;,\r\n                                    currentInitiative.getPlan().getYear(),\r\n                                    principalInitiative.getPlan().getProgressive())\r\n                                    : &quot;&quot;);\r\n                        odfTableRow\r\n                            .getCellByIndex(1)\r\n                            .setStringValue(Optional.ofNullable(currentInitiative.getPlanPoint()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(2)\r\n                            .setStringValue(Optional.ofNullable(currentInitiative.getCode()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(3)\r\n                            .setStringValue(\r\n                                Optional.ofNullable(currentInitiative.getDescription()).orElse(&quot;&quot;));\r\n                        odfTableRow\r\n                            .getCellByIndex(4)\r\n                            .setStringValue(\r\n                                Optional.ofNullable(\r\n                                        makeFormattedNumber(currentInitiative.getTotalAgreedCost(), &quot;€&quot;))\r\n                                    .orElse(&quot;&quot;));\r\n                    });\r\n        }","title":"How set specific font in table cells using ODF Toolkit?","body":"<p>how can I change the text font of my OdfTable's cells? I'm using ODF Toolkit library and I only found this resource online: <a href=\"https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html\" rel=\"nofollow noreferrer\">https://odftoolkit.org/simple/document/cookbook/Style%20Handling.html</a> which DOESN'T work since i don't receive a table but a OdfTable.</p>\n<p>For clarity here's the method I wrote. I'm adding a new row to my table and I set a value in every cell for every initiative present.</p>\n<p>Thanks!</p>\n<pre><code>static void fillRipartitionTable(Initiative principalInitiative, List&lt;OdfTable&gt; tableList, ProjectProposal proposal, int ripartitionTableIndex) {\n        boolean hasPlan = !Objects.isNull(principalInitiative.getPlan());\n        proposal\n            .getInitiatives()\n            .forEach(\n                initiativeProjectProposal -&gt; {\n                    Initiative currentInitiative = initiativeProjectProposal.getInitiative();\n                    OdfTableRow odfTableRow = tableList.get(ripartitionTableIndex).appendRow();\n                    odfTableRow\n                        .getCellByIndex(0)\n                        .setStringValue(\n                            hasPlan\n                                ? String.format(\n                                &quot;%d-%02d&quot;,\n                                currentInitiative.getPlan().getYear(),\n                                principalInitiative.getPlan().getProgressive())\n                                : &quot;&quot;);\n                    odfTableRow\n                        .getCellByIndex(1)\n                        .setStringValue(Optional.ofNullable(currentInitiative.getPlanPoint()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(2)\n                        .setStringValue(Optional.ofNullable(currentInitiative.getCode()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(3)\n                        .setStringValue(\n                            Optional.ofNullable(currentInitiative.getDescription()).orElse(&quot;&quot;));\n                    odfTableRow\n                        .getCellByIndex(4)\n                        .setStringValue(\n                            Optional.ofNullable(\n                                    makeFormattedNumber(currentInitiative.getTotalAgreedCost(), &quot;€&quot;))\n                                .orElse(&quot;&quot;));\n                });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jar","checkstyle","maven-checkstyle-plugin"],"owner":{"account_id":26659854,"reputation":1,"user_id":20272850,"display_name":"qwerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776840,"creation_date":1687776840,"question_id":76556017,"body_markdown":"We have 10+ microservices and we are slowly getting to the point where their general settings are spread across libraries. One suggested idea is to put checkstyle.xml into a separate library and add this library to each microservice, and in `&lt;configLocation&gt;&lt;/configLocation&gt;` specify the configuration file from the library. Howerver there are some issues about specifying the path of `&lt;configLocation&gt;&lt;/configLocation&gt;`.\r\nIt just cannot find the file.\r\n\r\nMy library scheme:\r\n\r\nA microservice pom.xml\r\n\r\n`checkstyle-lib/src/main/resources/checkstyle.xml`\r\n\r\n\r\n```\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.veon.eurasia.marketplace.common&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;beeline-checkstyle-common&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.1.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configLocation&gt;***I need to put here xml file from the library***&lt;/configLocation&gt;\r\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\r\n                    &lt;sourceDirectories&gt;\r\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\r\n                    &lt;/sourceDirectories&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried dosens of varants like these:\r\n\r\n```\r\n&lt;configLocation&gt;${user.home}\\.m2\\repository\\com\\example\\checkstyle-lib\\0.1.0\\checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib\\checkstyle.xml&lt;/configLocation&gt;\r\n&lt;configLocation&gt;checkstyle-lib\\src\\main\\resources\\checkstyle.xml&lt;/configLocation&gt;\r\nand a lot of combinations and having a  Failed during checkstyle execution: Unable to find configu\r\nration file at location:\r\n```\r\n","title":"How to write to configLocation a checkstyle.xml file in a library?","body":"<p>We have 10+ microservices and we are slowly getting to the point where their general settings are spread across libraries. One suggested idea is to put checkstyle.xml into a separate library and add this library to each microservice, and in <code>&lt;configLocation&gt;&lt;/configLocation&gt;</code> specify the configuration file from the library. Howerver there are some issues about specifying the path of <code>&lt;configLocation&gt;&lt;/configLocation&gt;</code>.\nIt just cannot find the file.</p>\n<p>My library scheme:</p>\n<p>A microservice pom.xml</p>\n<p><code>checkstyle-lib/src/main/resources/checkstyle.xml</code></p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-checkstyle-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.veon.eurasia.marketplace.common&lt;/groupId&gt;\n                        &lt;artifactId&gt;beeline-checkstyle-common&lt;/artifactId&gt;\n                        &lt;version&gt;0.1.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;***I need to put here xml file from the library***&lt;/configLocation&gt;\n                    &lt;violationSeverity&gt;warning&lt;/violationSeverity&gt;\n                    &lt;sourceDirectories&gt;\n                        &lt;sourceDirectory&gt;${project.build.sourceDirectory}&lt;/sourceDirectory&gt;\n                    &lt;/sourceDirectories&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I have tried dosens of varants like these:</p>\n<pre><code>&lt;configLocation&gt;${user.home}\\.m2\\repository\\com\\example\\checkstyle-lib\\0.1.0\\checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib-0.1.0.jar!\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib\\checkstyle.xml&lt;/configLocation&gt;\n&lt;configLocation&gt;checkstyle-lib\\src\\main\\resources\\checkstyle.xml&lt;/configLocation&gt;\nand a lot of combinations and having a  Failed during checkstyle execution: Unable to find configu\nration file at location:\n</code></pre>\n"},{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1687802946,"post_id":76555971,"comment_id":134984906,"body_markdown":"Welcome to SO. Thanks for the interesting question, but please note, that there is insufficient information to answer it, because the devil is in the details about programming. AOP is no exception. Please publish an [MCVE](https://stackoverflow.com/help/mcve) on GitHub, so I can reproduce the problem. It could be anywhere from package names to weaving method (load-time, compile time) to configuration. I am unbwilling to speculate, so please give me something to analyse.","body":"Welcome to SO. Thanks for the interesting question, but please note, that there is insufficient information to answer it, because the devil is in the details about programming. AOP is no exception. Please publish an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub, so I can reproduce the problem. It could be anywhere from package names to weaving method (load-time, compile time) to configuration. I am unbwilling to speculate, so please give me something to analyse."}],"owner":{"account_id":17095522,"reputation":1,"user_id":12370602,"display_name":"Manav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776589,"creation_date":1687776514,"question_id":76555971,"body_markdown":"I have no idea why advice cannot be applied. \r\n\r\nThe aspect code seems to be correct. However, the warning message suggests that the advice defined in the LoggingAspect class is not being applied to the submitSms method.\r\n\r\n\r\nAspect implementation \r\n```\r\n@Aspect\r\n@Slf4j\r\npublic class LoggingAspect{\r\n\r\n    @Around(&quot;@annotation(utils.log.LogExecutionTime) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        return logExecutionTime(joinPoint, null);\r\n    }\r\n\r\n    \r\n    @Around(&quot;@annotation(utils.log.LogExecutionTimeWithFirstParameter) &amp;&amp; execution(* *(..)) &quot;)\r\n    public Object logExecutionTimeWithFirstParameter(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        final var args = joinPoint.getArgs();\r\n        if (args.length &gt; 0)\r\n            return logExecutionTime(joinPoint, args[0].toString());\r\n        else\r\n            return logExecutionTime(joinPoint, null);\r\n    }\r\n\r\n    private Object logExecutionTime(ProceedingJoinPoint joinPoint, String args) throws Throwable {\r\n        final var start = System.currentTimeMillis();\r\n        final var logPrefix = createLogPrefix(joinPoint, args);\r\n        try {\r\n            return joinPoint.proceed();\r\n        } finally {\r\n            logExecution(start, logPrefix);\r\n        }\r\n    }\r\n\r\n    private void logExecution(final long start, final String logPrefix) {\r\n        final var executionTime = System.currentTimeMillis() - start;\r\n        log.info(&quot;S13423;{} executed in {} ms&quot;, logPrefix, executionTime);\r\n    }\r\n```\r\n\r\n\r\nCalling class in another package:\r\n\r\n```\r\n@LogExecutionTime\r\n    public void submitSms(List&lt;SubmitSm&gt; submitMessages) {\r\n        CloudhopperSmppConnection smppConnection = fetchConnectionRoundRobin();\r\n        for (SubmitSm sm : submitMessages) {\r\n            try {\r\n                log.debug(&quot;2644;smpp message submit to {}&quot;, sm.getDestAddress());\r\n                String messageId = smppConnection.submit(sm);\r\n                if (messageId == null || StringUtil.isEmpty(messageId)) {\r\n                    throw new SmppSubmitException(&quot;failed to receive smSubmit response within given time&quot;);\r\n                }\r\n                log.info(&quot;2645;smpp message submitted to {} successful: {}&quot;, sm.getDestAddress(), messageId);\r\n            } catch (SmppConnectionException e) {\r\n                log.warn(&quot;2646;smpp message submission to {} failed due to {}&quot;, sm.getDestAddress(), e.getMessage());\r\n                throw new SmppSubmitException(&quot;could not send smpp over connection&quot;, e);\r\n            }\r\n        }\r\n```\r\n\r\n\r\nLoggingAspect.class [warning] advice defined in utils.log.LoggingAspect has not been applied [Xlint:adviceDidNotMatch]\r\n\r\n\r\n\r\nCan anyone explain what I am doing wrong?","title":"Aspectj: why advice cannot be applied? [Xlint:adviceDidNotMatch]","body":"<p>I have no idea why advice cannot be applied.</p>\n<p>The aspect code seems to be correct. However, the warning message suggests that the advice defined in the LoggingAspect class is not being applied to the submitSms method.</p>\n<p>Aspect implementation</p>\n<pre><code>@Aspect\n@Slf4j\npublic class LoggingAspect{\n\n    @Around(&quot;@annotation(utils.log.LogExecutionTime) &amp;&amp; execution(* *(..)) &quot;)\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        return logExecutionTime(joinPoint, null);\n    }\n\n    \n    @Around(&quot;@annotation(utils.log.LogExecutionTimeWithFirstParameter) &amp;&amp; execution(* *(..)) &quot;)\n    public Object logExecutionTimeWithFirstParameter(ProceedingJoinPoint joinPoint) throws Throwable {\n        final var args = joinPoint.getArgs();\n        if (args.length &gt; 0)\n            return logExecutionTime(joinPoint, args[0].toString());\n        else\n            return logExecutionTime(joinPoint, null);\n    }\n\n    private Object logExecutionTime(ProceedingJoinPoint joinPoint, String args) throws Throwable {\n        final var start = System.currentTimeMillis();\n        final var logPrefix = createLogPrefix(joinPoint, args);\n        try {\n            return joinPoint.proceed();\n        } finally {\n            logExecution(start, logPrefix);\n        }\n    }\n\n    private void logExecution(final long start, final String logPrefix) {\n        final var executionTime = System.currentTimeMillis() - start;\n        log.info(&quot;S13423;{} executed in {} ms&quot;, logPrefix, executionTime);\n    }\n</code></pre>\n<p>Calling class in another package:</p>\n<pre><code>@LogExecutionTime\n    public void submitSms(List&lt;SubmitSm&gt; submitMessages) {\n        CloudhopperSmppConnection smppConnection = fetchConnectionRoundRobin();\n        for (SubmitSm sm : submitMessages) {\n            try {\n                log.debug(&quot;2644;smpp message submit to {}&quot;, sm.getDestAddress());\n                String messageId = smppConnection.submit(sm);\n                if (messageId == null || StringUtil.isEmpty(messageId)) {\n                    throw new SmppSubmitException(&quot;failed to receive smSubmit response within given time&quot;);\n                }\n                log.info(&quot;2645;smpp message submitted to {} successful: {}&quot;, sm.getDestAddress(), messageId);\n            } catch (SmppConnectionException e) {\n                log.warn(&quot;2646;smpp message submission to {} failed due to {}&quot;, sm.getDestAddress(), e.getMessage());\n                throw new SmppSubmitException(&quot;could not send smpp over connection&quot;, e);\n            }\n        }\n</code></pre>\n<p>LoggingAspect.class [warning] advice defined in utils.log.LoggingAspect has not been applied [Xlint:adviceDidNotMatch]</p>\n<p>Can anyone explain what I am doing wrong?</p>\n"},{"tags":["java","intellij-idea","servlets"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680743825,"post_id":75945017,"comment_id":133951540,"body_markdown":"A servlet is just a Java class and an entry in your web.xml. You don&#39;t need to do anything special to create one.","body":"A servlet is just a Java class and an entry in your web.xml. You don&#39;t need to do anything special to create one."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680760182,"post_id":75945017,"comment_id":133953360,"body_markdown":"[*Java Platform, Enterprise Edition: The Java EE Tutorial 17.1 What Is a Servlet?*](https://docs.oracle.com/javaee/7/tutorial/servlets001.htm)","body":"<a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets001.htm\" rel=\"nofollow noreferrer\"><i>Java Platform, Enterprise Edition: The Java EE Tutorial 17.1 What Is a Servlet?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":28219875,"reputation":101,"user_id":21570778,"display_name":"Mayuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680748863,"creation_date":1680748863,"answer_id":75945404,"question_id":75945017,"body_markdown":"Is it Java Enterprise project?\r\n\r\nWhile creating new project, you need to choose Java Enterprise or Jakarta EE option along with web application template then only you can get servlet option in that list.\r\n\r\n1. Create new project.\r\n2. Choose project type as Java Enterprise\r\n3. Template - web application\r\n\r\nAfter following this you can see servlet option in that list.\r\n\r\nElse, you can create Java class and directly extend HttpServlet class. You can override all servlet methods in your class.","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>Is it Java Enterprise project?</p>\n<p>While creating new project, you need to choose Java Enterprise or Jakarta EE option along with web application template then only you can get servlet option in that list.</p>\n<ol>\n<li>Create new project.</li>\n<li>Choose project type as Java Enterprise</li>\n<li>Template - web application</li>\n</ol>\n<p>After following this you can see servlet option in that list.</p>\n<p>Else, you can create Java class and directly extend HttpServlet class. You can override all servlet methods in your class.</p>\n"},{"tags":[],"owner":{"account_id":20988508,"reputation":31,"user_id":15421793,"display_name":"F3th1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681108839,"creation_date":1681108839,"answer_id":75974829,"question_id":75945017,"body_markdown":"for information.\r\n[IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes][1]\r\n\r\n\r\n[![IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes][2]][2]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/articles/IDEA-A-2100661478/IntelliJ-IDEA-2023.1-231.8109.175-build-Release-Notes\r\n  [2]: https://i.stack.imgur.com/7ZxyR.png","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>for information.\n<a href=\"https://youtrack.jetbrains.com/articles/IDEA-A-2100661478/IntelliJ-IDEA-2023.1-231.8109.175-build-Release-Notes\" rel=\"nofollow noreferrer\">IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes</a></p>\n<p><a href=\"https://i.stack.imgur.com/7ZxyR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ZxyR.png\" alt=\"IntelliJ IDEA 2023.1 (231.8109.175 build) Release Notes\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13973338,"reputation":65,"user_id":10091319,"display_name":"jvatechs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687650074,"creation_date":1687649508,"answer_id":76548342,"question_id":75945017,"body_markdown":"Starting with version 2023.1, [IntelliJ IDEA removed support for Servlet templates.][1]\r\nBut you can manually add a template by following the instructions in the picture:\r\n1) Go to `File | Settings | Editor | File and Code Templates` and add a custom template.\r\n[![File | Settings | Editor | File and Code Templates][2]][2]\r\n\r\n2) Paste template code into the field:\r\n\r\n```\r\n#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\r\n#parse(&quot;File Header.java&quot;)\r\n\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\nimport javax.servlet.annotation.*;\r\nimport java.io.IOException;\r\n\r\n@WebServlet(name = &quot;${Class_Name}&quot;, value = &quot;/${Class_Name}&quot;)\r\npublic class ${Class_Name} extends HttpServlet {\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n    }\r\n}\r\n``` \r\n\r\n\r\n**!!! But** import part depends which package you will use, if you use `Jakarta EE` project, you should import instead of:\r\n\r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    import javax.servlet.annotation.*;\r\n\r\nthis settings:\r\n\r\n    import jakarta.servlet.*;\r\n    import jakarta.servlet.http.*;\r\n    import jakarta.servlet.annotation.*;\r\n\r\n3. Now you have own Servlet template in `New` menu.\r\n\r\n\r\n[![Servlet in New Menu][3]][3]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-309062\r\n  [2]: https://i.stack.imgur.com/o33gc.png\r\n  [3]: https://i.stack.imgur.com/iPVWU.png","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>Starting with version 2023.1, <a href=\"https://youtrack.jetbrains.com/issue/IDEA-309062\" rel=\"nofollow noreferrer\">IntelliJ IDEA removed support for Servlet templates.</a>\nBut you can manually add a template by following the instructions in the picture:</p>\n<ol>\n<li><p>Go to <code>File | Settings | Editor | File and Code Templates</code> and add a custom template.\n<a href=\"https://i.stack.imgur.com/o33gc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o33gc.png\" alt=\"File | Settings | Editor | File and Code Templates\" /></a></p>\n</li>\n<li><p>Paste template code into the field:</p>\n</li>\n</ol>\n<pre><code>#if (${PACKAGE_NAME} &amp;&amp; ${PACKAGE_NAME} != &quot;&quot;)package ${PACKAGE_NAME};#end\n#parse(&quot;File Header.java&quot;)\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\nimport java.io.IOException;\n\n@WebServlet(name = &quot;${Class_Name}&quot;, value = &quot;/${Class_Name}&quot;)\npublic class ${Class_Name} extends HttpServlet {\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n    }\n}\n</code></pre>\n<p><strong>!!! But</strong> import part depends which package you will use, if you use <code>Jakarta EE</code> project, you should import instead of:</p>\n<pre><code>import javax.servlet.*;\nimport javax.servlet.http.*;\nimport javax.servlet.annotation.*;\n</code></pre>\n<p>this settings:</p>\n<pre><code>import jakarta.servlet.*;\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;\n</code></pre>\n<ol start=\"3\">\n<li>Now you have own Servlet template in <code>New</code> menu.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iPVWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iPVWU.png\" alt=\"Servlet in New Menu\" /></a></p>\n"}],"owner":{"account_id":27307027,"reputation":1,"user_id":20822822,"display_name":"Kater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687776243,"creation_date":1680742494,"question_id":75945017,"body_markdown":"In the photo you can see that there is no Servlet to create\r\n![no servlet](https://i.stack.imgur.com/zOBKi.png)\r\n\r\nI looked at the previous answers about the root, but everything is labeled\r\n![everything ok there](https://i.stack.imgur.com/3P9xj.png)\r\n\r\nThere is also a dependency in pom.xml\r\n![and here](https://i.stack.imgur.com/Kf8de.png)\r\n\r\nSo, what could be the problem? Please help me\r\n![still no servlet](https://i.stack.imgur.com/FNxEs.png)","title":"Cannot create Servlet in IntelliJ IDEA Ultimate Edition","body":"<p>In the photo you can see that there is no Servlet to create\n<img src=\"https://i.stack.imgur.com/zOBKi.png\" alt=\"no servlet\" /></p>\n<p>I looked at the previous answers about the root, but everything is labeled\n<img src=\"https://i.stack.imgur.com/3P9xj.png\" alt=\"everything ok there\" /></p>\n<p>There is also a dependency in pom.xml\n<img src=\"https://i.stack.imgur.com/Kf8de.png\" alt=\"and here\" /></p>\n<p>So, what could be the problem? Please help me\n<img src=\"https://i.stack.imgur.com/FNxEs.png\" alt=\"still no servlet\" /></p>\n"},{"tags":["java","jaxb","java-11"],"owner":{"account_id":28890288,"reputation":1,"user_id":22127596,"display_name":"Nitin Jangir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687776202,"creation_date":1687680859,"question_id":76549493,"body_markdown":"\r\nWe are migrating our application from JDK8 to JDK11 so as in JDK11 they have removed javax.xml.bind package so i have added separate dependency like jaxb-api and jaxb-runtime for this.\r\n\r\nBut still I am facing this compilation error \r\n\r\n&gt; package javax.xml.bind.annotation.adapters does not exist\r\n\r\nNote:- Changed my java version for project to 11 and set java version for tomcat also to 11.\r\n\r\nI am facing this issue while we are converting xsd into a jar so xsd is successfully converted into java classes but when we try to compile this java classes by using JavaCompiler so we got this error **package javax.xml.bind.annotation.adapters does not exist** as our java classes are using some annotation from this package.\r\n\r\nI checked jaxb-api jar is present into m2 repo and WEB-INF/lib also so can someone can help me to find rootcause and solution for this issue.  \r\n\r\nI have added seperate dependency for JAXB-API but still not working and i have also tried to add this jaxb-api jar manually in build path but that also not worked. \r\n","title":"Migrating JDK8 to JDK11 causes compilation error &quot;package javax.xml.bind.annotation.adapters does not exist&quot;","body":"<p>We are migrating our application from JDK8 to JDK11 so as in JDK11 they have removed javax.xml.bind package so i have added separate dependency like jaxb-api and jaxb-runtime for this.</p>\n<p>But still I am facing this compilation error</p>\n<blockquote>\n<p>package javax.xml.bind.annotation.adapters does not exist</p>\n</blockquote>\n<p>Note:- Changed my java version for project to 11 and set java version for tomcat also to 11.</p>\n<p>I am facing this issue while we are converting xsd into a jar so xsd is successfully converted into java classes but when we try to compile this java classes by using JavaCompiler so we got this error <strong>package javax.xml.bind.annotation.adapters does not exist</strong> as our java classes are using some annotation from this package.</p>\n<p>I checked jaxb-api jar is present into m2 repo and WEB-INF/lib also so can someone can help me to find rootcause and solution for this issue.</p>\n<p>I have added seperate dependency for JAXB-API but still not working and i have also tried to add this jaxb-api jar manually in build path but that also not worked.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1687761002,"post_id":76554009,"comment_id":134976108,"body_markdown":"Please give more information - how have you *tried* to make the MySQL driver available? How are you running your code, what&#39;s your classpath etc?","body":"Please give more information - how have you <i>tried</i> to make the MySQL driver available? How are you running your code, what&#39;s your classpath etc?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":1,"creation_date":1687763473,"post_id":76554009,"comment_id":134976556,"body_markdown":"There is no jdbc driver in your classpath. If you use javac and java commands to execute code, you need to explicitly point out the jdbc driver: `javac -cp xxx/yyy.jar`, where xxx is the directory and yyy.jar is the name of the driver.If you use ide, I can&#39;t answer, there are a lot of configurations, I don&#39;t know what the problem is","body":"There is no jdbc driver in your classpath. If you use javac and java commands to execute code, you need to explicitly point out the jdbc driver: <code>javac -cp xxx&#47;yyy.jar</code>, where xxx is the directory and yyy.jar is the name of the driver.If you use ide, I can&#39;t answer, there are a lot of configurations, I don&#39;t know what the problem is"}],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775798,"creation_date":1687774968,"answer_id":76555776,"question_id":76554009,"body_markdown":"JDBC driver is loaded by `DriverManager` dynamically in runtime, based on the analysis of the connection string, using some modified version of the chain of responsibility design pattern or just a list of registered drivers, it doesn&#39;t matter (see an interesting discussion [here][1]). The [`getConnection()`][2] method asks all the registered drivers if they are able to create a connection for the specified string, and first who does it returns the connection.\r\n\r\n``` lang-java\r\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\r\n```\r\n\r\nIf you had only that code, you would get a different exception or maybe just `null`, telling that the `DriverManager` didn&#39;t find any suitable driver.\r\n\r\nHowever, your code contains first\r\n\r\n``` lang-java\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n```\r\n\r\nBy calling the [`forName()`][3] first, you are asking via [reflection][4] to get the class object. &quot;Reflection&quot; means that you are not using the compiler to get the class object, such as `com.mysql.jdbc.Driver.class` would do, but you are passing only a `String` parameter, meaning that the **code is still compilable** even if the class is not accessible at the compile time. And then **at runtime** you get the `ClassNotFoundException` exception exactly how the documentation states.\r\n\r\nYou are not using the return value of the method, but still you get the exception, so your call serves rather like a runtime test for the presence of the class.\r\n\r\n**To fix the error**, you need your program to have the `com.mysql.jdbc.Driver` available during runtime.\r\n\r\nYou have multiple techniques for it. You may do it directly by setting the classpath command line parameter of the program and telling it where the class is on your disk. Or you may do it in your IDE (IntelliJ IDEA, Eclipse, ... whatever you use) via adding the dependency to the library containing the missing JDBC driver.\r\n\r\nHowever, I **strongly recommend** you to [learn using Maven][5] (or Gradle) to handle it automatically for you. Then you may use these e.g. simple tutorial for JDBC: https://www.baeldung.com/java-jdbc\r\n\r\nYour learning investment to Maven will pay back very much, do it!\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/1055383/2886891\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [5]: https://www.baeldung.com/maven","title":"i am getting error while connecting java databas","body":"<p>JDBC driver is loaded by <code>DriverManager</code> dynamically in runtime, based on the analysis of the connection string, using some modified version of the chain of responsibility design pattern or just a list of registered drivers, it doesn't matter (see an interesting discussion <a href=\"https://stackoverflow.com/q/1055383/2886891\">here</a>). The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/DriverManager.html#getConnection(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getConnection()</code></a> method asks all the registered drivers if they are able to create a connection for the specified string, and first who does it returns the connection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\n</code></pre>\n<p>If you had only that code, you would get a different exception or maybe just <code>null</code>, telling that the <code>DriverManager</code> didn't find any suitable driver.</p>\n<p>However, your code contains first</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n</code></pre>\n<p>By calling the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#forName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>forName()</code></a> first, you are asking via <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">reflection</a> to get the class object. &quot;Reflection&quot; means that you are not using the compiler to get the class object, such as <code>com.mysql.jdbc.Driver.class</code> would do, but you are passing only a <code>String</code> parameter, meaning that the <strong>code is still compilable</strong> even if the class is not accessible at the compile time. And then <strong>at runtime</strong> you get the <code>ClassNotFoundException</code> exception exactly how the documentation states.</p>\n<p>You are not using the return value of the method, but still you get the exception, so your call serves rather like a runtime test for the presence of the class.</p>\n<p><strong>To fix the error</strong>, you need your program to have the <code>com.mysql.jdbc.Driver</code> available during runtime.</p>\n<p>You have multiple techniques for it. You may do it directly by setting the classpath command line parameter of the program and telling it where the class is on your disk. Or you may do it in your IDE (IntelliJ IDEA, Eclipse, ... whatever you use) via adding the dependency to the library containing the missing JDBC driver.</p>\n<p>However, I <strong>strongly recommend</strong> you to <a href=\"https://www.baeldung.com/maven\" rel=\"nofollow noreferrer\">learn using Maven</a> (or Gradle) to handle it automatically for you. Then you may use these e.g. simple tutorial for JDBC: <a href=\"https://www.baeldung.com/java-jdbc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-jdbc</a></p>\n<p>Your learning investment to Maven will pay back very much, do it!</p>\n"}],"owner":{"account_id":28895413,"reputation":1,"user_id":22131511,"display_name":"ITACHI Uchiha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687775798,"creation_date":1687760687,"question_id":76554009,"body_markdown":"error i am getting\r\n\r\nError loading MySQL driver: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n  \r\n```\r\nimport java.sql.*;\r\n\r\npublic class Javaconnect {\r\n\r\n   \r\n    public static void main(String[] args) throws SQLException {\r\n        Connection connection = null;\r\n        try {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            System.out.println(&quot;Error loading MySQL driver: &quot; + e);\r\n        }\r\n\r\n        if (connection != null) {\r\n            System.out.println(&quot;Established connection&quot;);\r\n            connection.close();\r\n        }\r\n    }\r\n}\r\n```","title":"i am getting error while connecting java databas","body":"<p>error i am getting</p>\n<p>Error loading MySQL driver: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n<pre><code>import java.sql.*;\n\npublic class Javaconnect {\n\n   \n    public static void main(String[] args) throws SQLException {\n        Connection connection = null;\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/lol&quot;, &quot;root&quot;, &quot;lol@9056&quot;);\n        } catch (ClassNotFoundException e) {\n            System.out.println(&quot;Error loading MySQL driver: &quot; + e);\n        }\n\n        if (connection != null) {\n            System.out.println(&quot;Established connection&quot;);\n            connection.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-jdbc","spring-data-jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686909895,"post_id":76489018,"comment_id":134866481,"body_markdown":"*I am trying to export a huge database using java.* Why? Why are you not using standard tools like mysqldump?","body":"<i>I am trying to export a huge database using java.</i> Why? Why are you not using standard tools like mysqldump?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686910581,"post_id":76489018,"comment_id":134866653,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686911739,"post_id":76489018,"comment_id":134866898,"body_markdown":"@g00se its the requirement, as client doesn&#39;t have access to mysql","body":"@g00se its the requirement, as client doesn&#39;t have access to mysql"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686911923,"post_id":76489018,"comment_id":134866928,"body_markdown":"@Mar-Z our whole system is built on JDBC, so switching to JPA would be my last resolve. Mapping to E1 is memory consuming as in that case, I would be holding data for the parent entity until I get the data of child entity.","body":"@Mar-Z our whole system is built on JDBC, so switching to JPA would be my last resolve. Mapping to E1 is memory consuming as in that case, I would be holding data for the parent entity until I get the data of child entity."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686912325,"post_id":76489018,"comment_id":134866991,"body_markdown":"*@g00se its the requirement, as client doesn&#39;t have access to mysql*. So, you write an interface for them that uses these tools. Using an ORM layer to export real data doesn&#39;t make any sense","body":"<i>@g00se its the requirement, as client doesn&#39;t have access to mysql</i>. So, you write an interface for them that uses these tools. Using an ORM layer to export real data doesn&#39;t make any sense"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686912705,"post_id":76489018,"comment_id":134867076,"body_markdown":"@g00se, ok then how would we manage the relationships there? It will simply give me the data that&#39;s present in the table.","body":"@g00se, ok then how would we manage the relationships there? It will simply give me the data that&#39;s present in the table."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1686913059,"post_id":76489018,"comment_id":134867142,"body_markdown":"@Emperor via joins. I would not use ORM either for dumping GBs of data. I would use simple queries to get the data","body":"@Emperor via joins. I would not use ORM either for dumping GBs of data. I would use simple queries to get the data"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686913403,"post_id":76489018,"comment_id":134867199,"body_markdown":"@Shadow, I probably missed to mention it in the question. But my MySQL server and tomcat server are not at the same place. For using mysql dump, I would need to fire a mysql client and hit the queries and then kill that mysql client. For large data it is good. But again for small data, it will take time. Ex: for KBs of data, it might take 3-4 mins","body":"@Shadow, I probably missed to mention it in the question. But my MySQL server and tomcat server are not at the same place. For using mysql dump, I would need to fire a mysql client and hit the queries and then kill that mysql client. For large data it is good. But again for small data, it will take time. Ex: for KBs of data, it might take 3-4 mins"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686913698,"post_id":76489018,"comment_id":134867248,"body_markdown":"@Shadow, writing direct queries for joining tables whose details will be changing on the fly would be a little tricky as well.","body":"@Shadow, writing direct queries for joining tables whose details will be changing on the fly would be a little tricky as well."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686914946,"post_id":76489018,"comment_id":134867485,"body_markdown":"@Mar-Z is it the data mapping you are talking about or structural mapping. If its structural mapping, then that&#39;s already done. Don&#39;t know how to do the data mapping between entities without holding it in the memory.","body":"@Mar-Z is it the data mapping you are talking about or structural mapping. If its structural mapping, then that&#39;s already done. Don&#39;t know how to do the data mapping between entities without holding it in the memory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686915012,"post_id":76489018,"comment_id":134867495,"body_markdown":"The relationships *are* the data","body":"The relationships <i>are</i> the data"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686915437,"post_id":76489018,"comment_id":134867569,"body_markdown":"Ok, so here is an example: I have 2 entities, E1 and E2. E1 has a column &#39;id&#39; as primary key which is mapped to &#39;E1_id&#39; column of E2. The relationship is 1:many (E1(1) -&gt; E2(Many)). This information I have in hand. Now while exporting the data, I have, lets say &#39;id&#39; of E1 as 5 against which, I have 2 values in E2. What I want is, if my row of E1 with &#39;id&#39; 5 is exported, I want the 2 rows of E2 as well along with it.","body":"Ok, so here is an example: I have 2 entities, E1 and E2. E1 has a column &#39;id&#39; as primary key which is mapped to &#39;E1_id&#39; column of E2. The relationship is 1:many (E1(1) -&gt; E2(Many)). This information I have in hand. Now while exporting the data, I have, lets say &#39;id&#39; of E1 as 5 against which, I have 2 values in E2. What I want is, if my row of E1 with &#39;id&#39; 5 is exported, I want the 2 rows of E2 as well along with it."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686916202,"post_id":76489018,"comment_id":134867728,"body_markdown":"@Mar-Z yeah thats correct. Assume this thing changes on the fly and I don&#39;t know which  column is mapped to which column. Then it would be difficult to generate the sql query. Right?","body":"@Mar-Z yeah thats correct. Assume this thing changes on the fly and I don&#39;t know which  column is mapped to which column. Then it would be difficult to generate the sql query. Right?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686920054,"post_id":76489018,"comment_id":134868516,"body_markdown":"If you don&#39;t know the structure of your database model beforehand then it will be not possible to fetch any relationship. IMHO","body":"If you don&#39;t know the structure of your database model beforehand then it will be not possible to fetch any relationship. IMHO"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1686921799,"post_id":76489018,"comment_id":134868919,"body_markdown":"@Mar-Z No what I am saying is, I have that structure, but generifying that query would still be a tricky task.","body":"@Mar-Z No what I am saying is, I have that structure, but generifying that query would still be a tricky task."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687152788,"post_id":76489018,"comment_id":134891411,"body_markdown":"Please provide the actual code you are using, not some vague prose description.","body":"Please provide the actual code you are using, not some vague prose description."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687157640,"post_id":76489018,"comment_id":134892078,"body_markdown":"@Jens Schauder, though I had described the method I had used, I have updated the question with the actual code that I am using. Do let me know your thoughts.","body":"@Jens Schauder, though I had described the method I had used, I have updated the question with the actual code that I am using. Do let me know your thoughts."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687504416,"post_id":76489018,"comment_id":134948870,"body_markdown":"What are &quot;columns which has relationships&quot;? How does you SQL statement look like? How does your data look like? What is the exact result you get?","body":"What are &quot;columns which has relationships&quot;? How does you SQL statement look like? How does your data look like? What is the exact result you get?"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687761221,"post_id":76489018,"comment_id":134976151,"body_markdown":"@Jens Schauder, the term &quot;columns which has relationships&quot; refers to tables which are related to each other via column. Currently I don&#39;t have a generic SQL statement, hence the question. Although, I am using &quot;Select * from &lt;table_name&gt;&quot; to get all the data from the table. My data contains tables of MySQL which are in relationship. The result which I get when the given query is run is the details of the table given in the query. What I want is, the details of all the tables which are related to the parent table.","body":"@Jens Schauder, the term &quot;columns which has relationships&quot; refers to tables which are related to each other via column. Currently I don&#39;t have a generic SQL statement, hence the question. Although, I am using &quot;Select * from &lt;table_name&gt;&quot; to get all the data from the table. My data contains tables of MySQL which are in relationship. The result which I get when the given query is run is the details of the table given in the query. What I want is, the details of all the tables which are related to the parent table."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1687772267,"post_id":76489018,"comment_id":134978242,"body_markdown":"Again: We don&#39;t need vague (and honestly contradictionary) prose. We need the SQL you are executing. The actual result and the expected result.","body":"Again: We don&#39;t need vague (and honestly contradictionary) prose. We need the SQL you are executing. The actual result and the expected result."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1687773400,"post_id":76489018,"comment_id":134978501,"body_markdown":"Actually, I can&#39;t generify the SQL statement, one of the reasons why I asked the question.  And based on the sql, my actual result would vary. However, let me update the question with expected result.","body":"Actually, I can&#39;t generify the SQL statement, one of the reasons why I asked the question.  And based on the sql, my actual result would vary. However, let me update the question with expected result."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1688453462,"post_id":76489018,"comment_id":135072332,"body_markdown":"@Jens Schauder, any idea on how to approach?","body":"@Jens Schauder, any idea on how to approach?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1688458893,"post_id":76489018,"comment_id":135073353,"body_markdown":"I just reread the question and all the comment, and I still don&#39;t understand what the problem / question is. The desired content of the last example can be trivially construct using close to trivial SQL. But in the comments you talk about &quot;generifying&quot; SQL statement which isn&#39;t explained anywhere. It is tagged with [spring-data-jdbc] but none of the concepts of Spring Data JDBC is to be seen, it&#39;s all Spring JDBC ... Sorry, I&#39;m lost.","body":"I just reread the question and all the comment, and I still don&#39;t understand what the problem / question is. The desired content of the last example can be trivially construct using close to trivial SQL. But in the comments you talk about &quot;generifying&quot; SQL statement which isn&#39;t explained anywhere. It is tagged with [spring-data-jdbc] but none of the concepts of Spring Data JDBC is to be seen, it&#39;s all Spring JDBC ... Sorry, I&#39;m lost."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1688543894,"post_id":76489018,"comment_id":135085766,"body_markdown":"I added spring data jdbc to know if there is a way to do the job with spring data jdbc. My question is about getting the data from database, do some processing and write it into a csv file. Normally it works, but with relationship, it doesn&#39;t. Posted this question to know whether thats possible. :)","body":"I added spring data jdbc to know if there is a way to do the job with spring data jdbc. My question is about getting the data from database, do some processing and write it into a csv file. Normally it works, but with relationship, it doesn&#39;t. Posted this question to know whether thats possible. :)"}],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687775749,"creation_date":1686909344,"question_id":76489018,"body_markdown":"Problem Statement: I am trying to export a huge database using java. I have implemented it using queryForStream() of JDBCTemplate as it provides streaming feature. For normal entities, its working perfectly. For, let&#39;s say ~3GB of data, its consuming around 600MB of memory, which is fine. The problem comes when relationships are introduced in the entity. There I am unable to get the data of entities which are in relationship with other entity. Example: I have an entity E1 which has 1:many relationship with entity E2. When I hit my export API, it exports whatever is in the table of entity E1, which makes sense, as my sql query asks it to do it like that, while the columns which has relationships are coming blank as it does not exist in the table.\r\n\r\nAny idea on how to proceed?\r\n\r\nEdit: I cannot use mysqldump to export the data, as I am doing some processing before exporting it.\r\n\r\nEdit: \r\nMain logic to hit DB:\r\n`try (Stream&lt;?&gt; dataStream = template.queryForStream(new StreamingStatementCreator(sql), getEntityRowMapper(clazz, converter, context))) {\r\n//processing logic goes here\r\n}`\r\n\r\n**StreamingStatementCreator.java**\r\n\r\n\r\n    public class StreamingStatementCreator implements PreparedStatementCreator {\r\n      private final String sql;\r\n    \r\n      public StreamingStatementCreator(String sql) {\r\n        this.sql = sql;\r\n      }\r\n    \r\n      @Override\r\n      public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\r\n        final PreparedStatement statement = connection.prepareStatement(sql, ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\r\n        statement.setFetchSize(Integer.MIN_VALUE);\r\n        return statement;\r\n      }\r\n    }\r\n\r\n\r\n**getEntityRowMapper(clazz, converter, context)):**\r\n\r\n      private EntityRowMapper&lt;?&gt; getEntityRowMapper(Class&lt;?&gt; domainType, JdbcConverter converter, JdbcMappingContext context) {\r\n        return new EntityRowMapper&lt;&gt;(getRequiredPersistentEntity(domainType, context), converter);\r\n      }\r\n    \r\n      private &lt;S&gt; RelationalPersistentEntity&lt;S&gt; getRequiredPersistentEntity(Class&lt;S&gt; domainType, JdbcMappingContext context) {\r\n        return (RelationalPersistentEntity&lt;S&gt;) context.getRequiredPersistentEntity(domainType);\r\n      }\r\n\r\nEdit:  \r\n\r\n**Table-1**   \r\ncountry \r\n```\r\nCREATE TABLE `country` (\r\n  `code` int(11) DEFAULT NULL,\r\n  `updated_by` varchar(100) DEFAULT NULL,\r\n  `created_by` varchar(100) DEFAULT NULL,\r\n  `name` varchar(50) DEFAULT NULL,\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `updated_on` datetime(3) DEFAULT NULL,\r\n  `created_on` datetime(3) DEFAULT NULL,\r\n  `version` bigint(20) DEFAULT NULL,\r\n  PRIMARY KEY (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1\r\n```\r\n```\r\n+------------+--------------+------+-----+---------+----------------+\r\n| Field      | Type         | Null | Key | Default | Extra          |\r\n+------------+--------------+------+-----+---------+----------------+\r\n| code       | int(11)      | YES  |     | NULL    |                |\r\n| updated_by | varchar(100) | YES  |     | NULL    |                |\r\n| created_by | varchar(100) | YES  |     | NULL    |                |\r\n| name       | varchar(50)  | YES  |     | NULL    |                |\r\n| id         | int(11)      | NO   | PRI | NULL    | auto_increment |\r\n| updated_on | datetime(3)  | YES  |     | NULL    |                |\r\n| created_on | datetime(3)  | YES  |     | NULL    |                |\r\n| version    | bigint(20)   | YES  |     | NULL    |                |\r\n+------------+--------------+------+-----+---------+----------------+\r\n``` \r\n\r\n    \r\n**Table-2**  \r\ncapital\r\n```\r\nCREATE TABLE `capital` (\r\n  `name` varchar(50) DEFAULT NULL,\r\n  `id` int(11) NOT NULL AUTO_INCREMENT,\r\n  `population` int(11) DEFAULT NULL,\r\n  `country_capital_id` int(11) DEFAULT NULL,\r\n  PRIMARY KEY (`id`),\r\n  UNIQUE KEY `sys_country_capital_id` (`country_capital_id`),\r\n  CONSTRAINT `fk__capital__country_country_capital_id_id` FOREIGN KEY (`country_capital_id`) REFERENCES `country` (`id`)\r\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1 |\r\n```\r\n```\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n| Field              | Type        | Null | Key | Default | Extra          |\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n| name               | varchar(50) | YES  |     | NULL    |                |\r\n| id                 | int(11)     | NO   | PRI | NULL    | auto_increment |\r\n| population         | int(11)     | YES  |     | NULL    |                |\r\n| country_capital_id | int(11)     | YES  | UNI | NULL    |                |\r\n+--------------------+-------------+------+-----+---------+----------------+\r\n```\r\n\r\n\r\nTable-1 is in ONE_TO_ONE relationship with Table-2\r\n\r\n\r\nExpected result is a csv file with the expected value would be:\r\n```\r\n|id\t |code\t|name\t|capital\t                                        |createdBy\t |createdOn\t    |updatedBy\t|updatedOn\t    |version\r\n|1\t |91\t|India\t|{&quot;id&quot;:1,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|2\t |91\t|India\t|{&quot;id&quot;:2,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|3\t |91\t|India\t|{&quot;id&quot;:3,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n|4\t |91\t|India\t|{&quot;id&quot;:4,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}\t|System\t     |1.69E+09\t    |System\t    |1.69E+09\t    |0\r\n","title":"Handle relationships while querying the data from a MySQL database using java","body":"<p>Problem Statement: I am trying to export a huge database using java. I have implemented it using queryForStream() of JDBCTemplate as it provides streaming feature. For normal entities, its working perfectly. For, let's say ~3GB of data, its consuming around 600MB of memory, which is fine. The problem comes when relationships are introduced in the entity. There I am unable to get the data of entities which are in relationship with other entity. Example: I have an entity E1 which has 1:many relationship with entity E2. When I hit my export API, it exports whatever is in the table of entity E1, which makes sense, as my sql query asks it to do it like that, while the columns which has relationships are coming blank as it does not exist in the table.</p>\n<p>Any idea on how to proceed?</p>\n<p>Edit: I cannot use mysqldump to export the data, as I am doing some processing before exporting it.</p>\n<p>Edit:\nMain logic to hit DB:\n<code>try (Stream&lt;?&gt; dataStream = template.queryForStream(new StreamingStatementCreator(sql), getEntityRowMapper(clazz, converter, context))) { //processing logic goes here }</code></p>\n<p><strong>StreamingStatementCreator.java</strong></p>\n<pre><code>public class StreamingStatementCreator implements PreparedStatementCreator {\n  private final String sql;\n\n  public StreamingStatementCreator(String sql) {\n    this.sql = sql;\n  }\n\n  @Override\n  public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\n    final PreparedStatement statement = connection.prepareStatement(sql, ResultSet.TYPE_FORWARD_ONLY, ResultSet.CONCUR_READ_ONLY);\n    statement.setFetchSize(Integer.MIN_VALUE);\n    return statement;\n  }\n}\n</code></pre>\n<p><strong>getEntityRowMapper(clazz, converter, context)):</strong></p>\n<pre><code>  private EntityRowMapper&lt;?&gt; getEntityRowMapper(Class&lt;?&gt; domainType, JdbcConverter converter, JdbcMappingContext context) {\n    return new EntityRowMapper&lt;&gt;(getRequiredPersistentEntity(domainType, context), converter);\n  }\n\n  private &lt;S&gt; RelationalPersistentEntity&lt;S&gt; getRequiredPersistentEntity(Class&lt;S&gt; domainType, JdbcMappingContext context) {\n    return (RelationalPersistentEntity&lt;S&gt;) context.getRequiredPersistentEntity(domainType);\n  }\n</code></pre>\n<p>Edit:</p>\n<p><strong>Table-1</strong><br />\ncountry</p>\n<pre><code>CREATE TABLE `country` (\n  `code` int(11) DEFAULT NULL,\n  `updated_by` varchar(100) DEFAULT NULL,\n  `created_by` varchar(100) DEFAULT NULL,\n  `name` varchar(50) DEFAULT NULL,\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `updated_on` datetime(3) DEFAULT NULL,\n  `created_on` datetime(3) DEFAULT NULL,\n  `version` bigint(20) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1\n</code></pre>\n<pre><code>+------------+--------------+------+-----+---------+----------------+\n| Field      | Type         | Null | Key | Default | Extra          |\n+------------+--------------+------+-----+---------+----------------+\n| code       | int(11)      | YES  |     | NULL    |                |\n| updated_by | varchar(100) | YES  |     | NULL    |                |\n| created_by | varchar(100) | YES  |     | NULL    |                |\n| name       | varchar(50)  | YES  |     | NULL    |                |\n| id         | int(11)      | NO   | PRI | NULL    | auto_increment |\n| updated_on | datetime(3)  | YES  |     | NULL    |                |\n| created_on | datetime(3)  | YES  |     | NULL    |                |\n| version    | bigint(20)   | YES  |     | NULL    |                |\n+------------+--------------+------+-----+---------+----------------+\n</code></pre>\n<p><strong>Table-2</strong><br />\ncapital</p>\n<pre><code>CREATE TABLE `capital` (\n  `name` varchar(50) DEFAULT NULL,\n  `id` int(11) NOT NULL AUTO_INCREMENT,\n  `population` int(11) DEFAULT NULL,\n  `country_capital_id` int(11) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `sys_country_capital_id` (`country_capital_id`),\n  CONSTRAINT `fk__capital__country_country_capital_id_id` FOREIGN KEY (`country_capital_id`) REFERENCES `country` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1 |\n</code></pre>\n<pre><code>+--------------------+-------------+------+-----+---------+----------------+\n| Field              | Type        | Null | Key | Default | Extra          |\n+--------------------+-------------+------+-----+---------+----------------+\n| name               | varchar(50) | YES  |     | NULL    |                |\n| id                 | int(11)     | NO   | PRI | NULL    | auto_increment |\n| population         | int(11)     | YES  |     | NULL    |                |\n| country_capital_id | int(11)     | YES  | UNI | NULL    |                |\n+--------------------+-------------+------+-----+---------+----------------+\n</code></pre>\n<p>Table-1 is in ONE_TO_ONE relationship with Table-2</p>\n<p>Expected result is a csv file with the expected value would be:</p>\n<pre><code>|id  |code  |name   |capital                                            |createdBy   |createdOn     |updatedBy  |updatedOn      |version\n|1   |91    |India  |{&quot;id&quot;:1,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|2   |91    |India  |{&quot;id&quot;:2,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|3   |91    |India  |{&quot;id&quot;:3,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n|4   |91    |India  |{&quot;id&quot;:4,&quot;name&quot;:&quot;New Delhi&quot;,&quot;population&quot;:1173902}   |System      |1.69E+09      |System     |1.69E+09       |0\n</code></pre>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":5956416,"reputation":257,"user_id":7926878,"display_name":"TheQuantumMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687775431,"creation_date":1687640774,"question_id":76547994,"body_markdown":"I&#39;m fairly new to Android Studio (and generally Java) programming.\r\nI have written a program which uses a button called `button_open_html` to open WebView in full screen and show a local html file; I added a back button. I also have a button `btn1` which shows shows some text on-screen when it&#39;s pressed. Before launching WebView, `btn1` works well. After I open and close WebView though, it loses its functionality. On the other hand, the html button&#39;s functionality is still there. Here is the code in the MainActivity.java:\r\n```\r\npackage com.example.myapp1;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private String lastButtonName;\r\n    private String[][] buttonHtmlArray;\r\n\r\n    private static final String TAG = &quot;Museums&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        // Add button functionality for btn1\r\n        Button btn1 = (Button) findViewById(R.id.btn1);   // call button by ID so we can do stuff w/ it\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.i(TAG, &quot;TEXT&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;MORE TEXT&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n\r\n\r\n        // Create a 2D array to store button names and HTML file names\r\n        buttonHtmlArray = new String[][]{\r\n                {&quot;button_open_html&quot;, &quot;html_vsc_2.html&quot;}\r\n        };\r\n\r\n        // Loop through the array and set click listeners for each button\r\n        for (String[] buttonHtml : buttonHtmlArray) {\r\n            Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    lastButtonName = buttonHtml[0];  // Store the button name\r\n                    openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\r\n                }\r\n            });\r\n        }\r\n\r\n        // Initialize the WebView\r\n        webView = findViewById(R.id.webView);\r\n        webView.setWebViewClient(new WebViewClient());\r\n    }\r\n\r\n    private void openWebView(String buttonName, String htmlFileName) {\r\n        setContentView(R.layout.activity_web_view);\r\n        webView = findViewById(R.id.webView);\r\n        webView.loadUrl(&quot;file:///android_asset/&quot; + htmlFileName);\r\n        lastButtonName = buttonName;\r\n\r\n        Button backButton = findViewById(R.id.button_back);\r\n        backButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (lastButtonName != null) {\r\n            setContentView(R.layout.activity_main);\r\n            // Reassign click listeners for the buttons\r\n            for (String[] buttonHtml : buttonHtmlArray) {\r\n                Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        lastButtonName = buttonHtml[0];  // Store the button name\r\n                        openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\r\n                    }\r\n                });\r\n            }\r\n            lastButtonName = null;\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I add more buttons unrelated to WebView, they also lose their functionality. When I add more buttons that open WebView, their functionality is not affected, so it&#39;s a &quot;common trend&quot;. As a disclaimer, the above is a code constructed with the help of AI, but was heavily modified by me.\r\n\r\nThe question is: how should I modify this code in order for the non-WebView related buttons to not lose their functionality?","title":"Android Studio: Closing WebView causes other buttons to lose functionality","body":"<p>I'm fairly new to Android Studio (and generally Java) programming.\nI have written a program which uses a button called <code>button_open_html</code> to open WebView in full screen and show a local html file; I added a back button. I also have a button <code>btn1</code> which shows shows some text on-screen when it's pressed. Before launching WebView, <code>btn1</code> works well. After I open and close WebView though, it loses its functionality. On the other hand, the html button's functionality is still there. Here is the code in the MainActivity.java:</p>\n<pre><code>package com.example.myapp1;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n    private String lastButtonName;\n    private String[][] buttonHtmlArray;\n\n    private static final String TAG = &quot;Museums&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        // Add button functionality for btn1\n        Button btn1 = (Button) findViewById(R.id.btn1);   // call button by ID so we can do stuff w/ it\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.i(TAG, &quot;TEXT&quot;);\n                Toast.makeText(getApplicationContext(), &quot;MORE TEXT&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n\n\n        // Create a 2D array to store button names and HTML file names\n        buttonHtmlArray = new String[][]{\n                {&quot;button_open_html&quot;, &quot;html_vsc_2.html&quot;}\n        };\n\n        // Loop through the array and set click listeners for each button\n        for (String[] buttonHtml : buttonHtmlArray) {\n            Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    lastButtonName = buttonHtml[0];  // Store the button name\n                    openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\n                }\n            });\n        }\n\n        // Initialize the WebView\n        webView = findViewById(R.id.webView);\n        webView.setWebViewClient(new WebViewClient());\n    }\n\n    private void openWebView(String buttonName, String htmlFileName) {\n        setContentView(R.layout.activity_web_view);\n        webView = findViewById(R.id.webView);\n        webView.loadUrl(&quot;file:///android_asset/&quot; + htmlFileName);\n        lastButtonName = buttonName;\n\n        Button backButton = findViewById(R.id.button_back);\n        backButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                onBackPressed();\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (lastButtonName != null) {\n            setContentView(R.layout.activity_main);\n            // Reassign click listeners for the buttons\n            for (String[] buttonHtml : buttonHtmlArray) {\n                Button button = findViewById(getResources().getIdentifier(buttonHtml[0], &quot;id&quot;, getPackageName()));\n                button.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        lastButtonName = buttonHtml[0];  // Store the button name\n                        openWebView(lastButtonName, buttonHtml[1]);  // Pass the HTML file name\n                    }\n                });\n            }\n            lastButtonName = null;\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>When I add more buttons unrelated to WebView, they also lose their functionality. When I add more buttons that open WebView, their functionality is not affected, so it's a &quot;common trend&quot;. As a disclaimer, the above is a code constructed with the help of AI, but was heavily modified by me.</p>\n<p>The question is: how should I modify this code in order for the non-WebView related buttons to not lose their functionality?</p>\n"},{"tags":["java","hibernate","hibernate-mapping","hibernate-annotations"],"comments":[{"owner":{"account_id":240243,"reputation":12119,"user_id":510360,"accept_rate":80,"display_name":"Mohamed Saligh"},"score":0,"creation_date":1291778342,"post_id":4383070,"comment_id":4776278,"body_markdown":"&quot;OBJECTIVE&quot; is it constant or an attribute?","body":"&quot;OBJECTIVE&quot; is it constant or an attribute?"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1291779856,"post_id":4383070,"comment_id":4776400,"body_markdown":"You need to show `NoteEntity`. Also, try configuring `&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;` in order to see what&#39;s in the SQL.","body":"You need to show <code>NoteEntity</code>. Also, try configuring <code>&lt;property name=&quot;show_sql&quot;&gt;true&lt;&#47;property&gt;</code> in order to see what&#39;s in the SQL."}],"answers":[{"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":1,"creation_date":1462389223,"post_id":4383145,"comment_id":61622536,"body_markdown":"Ok, how? Option #2","body":"Ok, how? Option #2"},{"owner":{"account_id":4497597,"reputation":181,"user_id":3657024,"display_name":"rpajaziti"},"score":0,"creation_date":1587141830,"post_id":4383145,"comment_id":108401870,"body_markdown":"@Affe i can confirm that first option by changing the object to a list and doing onetomany(even if the design is onetoone), then getting a single element works fine. Thanks","body":"@Affe i can confirm that first option by changing the object to a list and doing onetomany(even if the design is onetoone), then getting a single element works fine. Thanks"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1291768448,"creation_date":1291768448,"answer_id":4383145,"question_id":4383070,"body_markdown":"This just plain does not work, sorry :(  You will need to do it as one to many and live with getting a collection with a single element.\r\n\r\nIf you really want it to work this way, you can trick hibernate by storing both the foreign key ID and the type_name in a join table and telling it that both columns make up the foreign key.","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>This just plain does not work, sorry :(  You will need to do it as one to many and live with getting a collection with a single element.</p>\n\n<p>If you really want it to work this way, you can trick hibernate by storing both the foreign key ID and the type_name in a join table and telling it that both columns make up the foreign key.</p>\n"},{"comments":[{"owner":{"account_id":505513,"reputation":3684,"user_id":959045,"display_name":"Stefan Paul Noack"},"score":1,"creation_date":1696858632,"post_id":46974785,"comment_id":136203036,"body_markdown":"putting where on the subclass does not seem to work when the join column is specified in the base class","body":"putting where on the subclass does not seem to work when the join column is specified in the base class"}],"tags":[],"owner":{"account_id":234929,"reputation":909,"user_id":501399,"accept_rate":83,"display_name":"vadipp"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509106451,"creation_date":1509106451,"answer_id":46974785,"question_id":4383070,"body_markdown":"Actually you can achieve this by specifying `@OneToOne` without any `@Where`, but putting `@Where` on the referenced entity class. I tested this on Hibernate 4.3.11.\r\n\r\nThis works if you don&#39;t care about any entity objects that do not match your `@Where`.\r\n\r\nIf you *do* care about other entities, you can probably create a subclass entity, put `@Where` on it and join that subclass. But I have not tested this scenario.\r\n\r\n","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>Actually you can achieve this by specifying <code>@OneToOne</code> without any <code>@Where</code>, but putting <code>@Where</code> on the referenced entity class. I tested this on Hibernate 4.3.11.</p>\n\n<p>This works if you don't care about any entity objects that do not match your <code>@Where</code>.</p>\n\n<p>If you <em>do</em> care about other entities, you can probably create a subclass entity, put <code>@Where</code> on it and join that subclass. But I have not tested this scenario.</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775091,"creation_date":1687775091,"answer_id":76555792,"question_id":4383070,"body_markdown":"You can try using `JoinColumnsOrFormulas` annotation. \r\n\r\n```\r\n@OneToOne()\r\n@JoinColumnsOrFormulas({\r\n    @JoinColumnOrFormula(column =\r\n        @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)),\r\n    @JoinColumnOrFormula(formula =\r\n        @JoinFormula(value = &quot;OBJECTIVE&quot;, referencedColumnName = &quot;type_name&quot;))\r\n})\r\npublic NoteEntity getObjectiveNote() {\r\n  return objectiveNote;\r\n}\r\n```\r\n\r\nThis should produce join condition even with additional filtering for `type_name = OBJECTIVE`.","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>You can try using <code>JoinColumnsOrFormulas</code> annotation.</p>\n<pre><code>@OneToOne()\n@JoinColumnsOrFormulas({\n    @JoinColumnOrFormula(column =\n        @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)),\n    @JoinColumnOrFormula(formula =\n        @JoinFormula(value = &quot;OBJECTIVE&quot;, referencedColumnName = &quot;type_name&quot;))\n})\npublic NoteEntity getObjectiveNote() {\n  return objectiveNote;\n}\n</code></pre>\n<p>This should produce join condition even with additional filtering for <code>type_name = OBJECTIVE</code>.</p>\n"}],"owner":{"account_id":231236,"reputation":1346,"user_id":495341,"accept_rate":84,"display_name":"nuaavee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10279,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":4383145,"answer_count":3,"score":13,"last_activity_date":1687775091,"creation_date":1291767605,"question_id":4383070,"body_markdown":"Will this work -\r\n\r\n    @OneToOne()\r\n    @JoinColumn(name = &quot;id&quot;, referencedColumnName = &quot;type_id&quot;)\r\n    @Where(clause = &quot;type_name = OBJECTIVE&quot;)\r\n    public NoteEntity getObjectiveNote() {\r\n      return objectiveNote;\r\n    }\r\n\r\nThis is what I am trying to do - get the record from table `note` whose `type_id` is the `id` of the current object and `type_name` is `OBJECTIVE`.\r\n\r\nI can&#39;t get the above mapping to work. What am I doing wrong here?","title":"Hibernate @OneToOne mapping with a @Where clause","body":"<p>Will this work -</p>\n\n<pre><code>@OneToOne()\n@JoinColumn(name = \"id\", referencedColumnName = \"type_id\")\n@Where(clause = \"type_name = OBJECTIVE\")\npublic NoteEntity getObjectiveNote() {\n  return objectiveNote;\n}\n</code></pre>\n\n<p>This is what I am trying to do - get the record from table <code>note</code> whose <code>type_id</code> is the <code>id</code> of the current object and <code>type_name</code> is <code>OBJECTIVE</code>.</p>\n\n<p>I can't get the above mapping to work. What am I doing wrong here?</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"score":0,"creation_date":1569227729,"post_id":58049231,"comment_id":102514146,"body_markdown":"Do you need one archive file for each date , or one archive file containing all csv files at execution time ?","body":"Do you need one archive file for each date , or one archive file containing all csv files at execution time ?"},{"owner":{"account_id":15505999,"reputation":11,"user_id":11186153,"display_name":"user11186153"},"score":0,"creation_date":1569228125,"post_id":58049231,"comment_id":102514326,"body_markdown":"thanks for reply , i need one archive file for each date. i can now archive the files in current day , so i need to archive the files in previous days also","body":"thanks for reply , i need one archive file for each date. i can now archive the files in current day , so i need to archive the files in previous days also"}],"answers":[{"tags":[],"owner":{"account_id":8809828,"reputation":2512,"user_id":6583204,"display_name":"Corentin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569229795,"creation_date":1569229795,"answer_id":58059120,"question_id":58049231,"body_markdown":"I think you could achieve this with a double reading of your input folder, with a tIterateToFlow component. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n- In the tFileList_1 , get all the csv, without a mask (or just *.csv)\r\n- in tIterateToFlow, extract the date in the input Filename (given your example , this should do the trick : `StringHandling.RIGHT(((String)globalMap.get(&quot;tFileList_1_CURRENT_FILE&quot;)),14)`\r\n- Add a tFlowTo Iterate, no customization needed\r\n- In tFileList_2 , you can then filter on the field created in tIterateToFlow : this is your pattern : `&quot;*_&quot;+((String)globalMap.get(&quot;row2.dateFile&quot;))`\r\n- tFileArchive_1  can then zip file in an outputfolder (with the same filemask as in your tFileList)\r\n\r\nI tested it quickly, it seems to work. Didn&#39;t check with tFTP components tho.\r\n\r\nHope this helps\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s2ooh.png","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I think you could achieve this with a double reading of your input folder, with a tIterateToFlow component. </p>\n\n<p><a href=\"https://i.stack.imgur.com/s2ooh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2ooh.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>In the tFileList_1 , get all the csv, without a mask (or just *.csv)</li>\n<li>in tIterateToFlow, extract the date in the input Filename (given your example , this should do the trick : <code>StringHandling.RIGHT(((String)globalMap.get(\"tFileList_1_CURRENT_FILE\")),14)</code></li>\n<li>Add a tFlowTo Iterate, no customization needed</li>\n<li>In tFileList_2 , you can then filter on the field created in tIterateToFlow : this is your pattern : <code>\"*_\"+((String)globalMap.get(\"row2.dateFile\"))</code></li>\n<li>tFileArchive_1  can then zip file in an outputfolder (with the same filemask as in your tFileList)</li>\n</ul>\n\n<p>I tested it quickly, it seems to work. Didn't check with tFTP components tho.</p>\n\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1687781108,"post_id":76530323,"comment_id":134980021,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34583893)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34583893\">From Review</a>"}],"tags":[],"owner":{"account_id":25738447,"reputation":1,"user_id":19492796,"display_name":"Omprakash Kale"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687775024,"creation_date":1687425344,"answer_id":76530323,"question_id":58049231,"body_markdown":"I am really thankful for the above solution. My scenario is similar but few changes.\r\n\r\nI need to delete All files for a month &amp; keep only files for recent 5 days &amp; delete previous files.\r\nI got solution from above scenario. \r\n\r\nFor above scenario one point i need to add:\r\n\r\n    In tfilelist2  File path (Directory) use global variable of tfilelist1 &gt; ((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEDIRECTORY&quot;))\r\n\r\nso you can grab current file running as per above job.\r\n","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I am really thankful for the above solution. My scenario is similar but few changes.</p>\n<p>I need to delete All files for a month &amp; keep only files for recent 5 days &amp; delete previous files.\nI got solution from above scenario.</p>\n<p>For above scenario one point i need to add:</p>\n<pre><code>In tfilelist2  File path (Directory) use global variable of tfilelist1 &gt; ((String)globalMap.get(&quot;tFileList_1_CURRENT_FILEDIRECTORY&quot;))\n</code></pre>\n<p>so you can grab current file running as per above job.</p>\n"}],"owner":{"account_id":15505999,"reputation":11,"user_id":11186153,"display_name":"user11186153"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687775024,"creation_date":1569155468,"question_id":58049231,"body_markdown":"I created a job which archive files in current day. I need now to improve my job to archive files in all days (current and previous days).\r\nI used a global variable like :\r\n\r\n    &quot;*_&quot;+ TalendDate.formatDate(&quot;yyyy_MM_dd&quot;,TalendDate.getCurrentDate())+&quot;.csv&quot;\r\n\r\n[this job get files from FTP and archive them in current day  ][1]\r\n\r\nHow can I change the global variable to archive in all days?\r\n\r\nI have used `Tloop` but no result.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czviM.png","title":"archive files in all dates (previous and current day ) with talend","body":"<p>I created a job which archive files in current day. I need now to improve my job to archive files in all days (current and previous days).\nI used a global variable like :</p>\n\n<pre><code>\"*_\"+ TalendDate.formatDate(\"yyyy_MM_dd\",TalendDate.getCurrentDate())+\".csv\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/czviM.png\" rel=\"nofollow noreferrer\">this job get files from FTP and archive them in current day  </a></p>\n\n<p>How can I change the global variable to archive in all days?</p>\n\n<p>I have used <code>Tloop</code> but no result.</p>\n"},{"tags":["java","docker","maven","java-19"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1687764368,"post_id":76552854,"comment_id":134976747,"body_markdown":"Stay on Java 17 unless you have very good reason to use a non-long term support version. Images will get security updates longer.  When the next LTS version come, upgrade.","body":"Stay on Java 17 unless you have very good reason to use a non-long term support version. Images will get security updates longer.  When the next LTS version come, upgrade."}],"answers":[{"comments":[{"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"score":0,"creation_date":1687832821,"post_id":76552917,"comment_id":134988351,"body_markdown":"Thank you so much! Quick follow up - so are https://hub.docker.com/layers/library/maven/3.9.3-amazoncorretto-17/images/sha256-51a8ceaec1ddb3237be298e8f31e794b0e047855d88d8ceae5dbb672606fe4a6  (Correto for Java 17)  and  \n https://hub.docker.com/layers/library/maven/3.9.3-eclipse-temurin-17/images/sha256-6608458bcb7dbe1d53d90c0bd513a3888159d111adae2dbdffc31239bd9d3039 (Temurin Java 17) both replacements for https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187  (at least at a high level)?","body":"Thank you so much! Quick follow up - so are <a href=\"https://hub.docker.com/layers/library/maven/3.9.3-amazoncorretto-17/images/sha256-51a8ceaec1ddb3237be298e8f31e794b0e047855d88d8ceae5dbb672606fe4a6\" rel=\"nofollow noreferrer\">hub.docker.com/layers/library/maven/3.9.3-amazoncorretto-17/&zwnj;&#8203;&hellip;</a>  (Correto for Java 17)  and    <a href=\"https://hub.docker.com/layers/library/maven/3.9.3-eclipse-temurin-17/images/sha256-6608458bcb7dbe1d53d90c0bd513a3888159d111adae2dbdffc31239bd9d3039\" rel=\"nofollow noreferrer\">hub.docker.com/layers/library/maven/3.9.3-eclipse-temurin-17&zwnj;&#8203;/&hellip;</a> (Temurin Java 17) both replacements for <a href=\"https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187\" rel=\"nofollow noreferrer\">hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/&zwnj;&#8203;&hellip;</a>  (at least at a high level)?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687834872,"post_id":76552917,"comment_id":134988519,"body_markdown":"@HeronAlgoSearch Those Corretto and Temurin images are using a newer version of Maven than the OpenJDK one, but they should be compatible for most uses.","body":"@HeronAlgoSearch Those Corretto and Temurin images are using a newer version of Maven than the OpenJDK one, but they should be compatible for most uses."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1687835557,"post_id":76552917,"comment_id":134988578,"body_markdown":"I notice that the Corretto image is showing known high severity vulnerabilities. I would personally stick with Temurin as a default unless I needed to use Amazon Linux or get support for Corretto from Amazon.","body":"I notice that the Corretto image is showing known high severity vulnerabilities. I would personally stick with Temurin as a default unless I needed to use Amazon Linux or get support for Corretto from Amazon."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687740055,"creation_date":1687739574,"answer_id":76552917,"question_id":76552854,"body_markdown":"It appears that this [project](https://github.com/carlossg/docker-maven) has stopped building Linux images using OpenJDK, due to [discontinuation of the OpenJDK builds those images were based on](https://github.com/docker-library/openjdk/issues/505). It now only provides images using alternative JDK distributions such as Eclipse Temurin and Amazon Corretto. The Temurin images are a suitable replacement for most users.\r\n\r\nAlso note that, although there are historical [images built with Java 19](https://hub.docker.com/_/maven/tags?page=1&amp;name=19) available, [Java 19 has since been superseded by Java 20](https://endoflife.date/java) and therefore there will not be new images based on Java 19 and the most recent Maven releases. It is generally preferable to use an LTS release of Java such as Java 17. If your project requires a Java version newer than the most recent LTS release, then it’s a good idea to use the most recent version, as interim releases such as Java 18 and 19 may not be supported once a newer version is available. The next upcoming Java release at the time I write this—version 21, due in September 2023—will be an LTS release.","title":"Docker Image for maven with OpenJDK 19 is missing","body":"<p>It appears that this <a href=\"https://github.com/carlossg/docker-maven\" rel=\"nofollow noreferrer\">project</a> has stopped building Linux images using OpenJDK, due to <a href=\"https://github.com/docker-library/openjdk/issues/505\" rel=\"nofollow noreferrer\">discontinuation of the OpenJDK builds those images were based on</a>. It now only provides images using alternative JDK distributions such as Eclipse Temurin and Amazon Corretto. The Temurin images are a suitable replacement for most users.</p>\n<p>Also note that, although there are historical <a href=\"https://hub.docker.com/_/maven/tags?page=1&amp;name=19\" rel=\"nofollow noreferrer\">images built with Java 19</a> available, <a href=\"https://endoflife.date/java\" rel=\"nofollow noreferrer\">Java 19 has since been superseded by Java 20</a> and therefore there will not be new images based on Java 19 and the most recent Maven releases. It is generally preferable to use an LTS release of Java such as Java 17. If your project requires a Java version newer than the most recent LTS release, then it’s a good idea to use the most recent version, as interim releases such as Java 18 and 19 may not be supported once a newer version is available. The next upcoming Java release at the time I write this—version 21, due in September 2023—will be an LTS release.</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76552917,"answer_count":1,"score":0,"last_activity_date":1687774880,"creation_date":1687737496,"question_id":76552854,"body_markdown":"I am looking at https://openjdk.org/projects/jdk/19/ which seems to indicate that OpenJDK is now Generally Availible as of September 20th 2022. However, when I look at the current maven images (https://hub.docker.com/_/maven) , I find openJDK 17 (https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187) and openJDK 18 (https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore)  but I do not see openJdk-19. I searched &#39;openjdk&#39; https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk and looked at &#39;newest&#39; but I cannot find a Java 19. Is there such a openjdk maven artifact perhaps under a different naming scheme? Is there something that I am missing?","title":"Docker Image for maven with OpenJDK 19 is missing","body":"<p>I am looking at <a href=\"https://openjdk.org/projects/jdk/19/\" rel=\"nofollow noreferrer\">https://openjdk.org/projects/jdk/19/</a> which seems to indicate that OpenJDK is now Generally Availible as of September 20th 2022. However, when I look at the current maven images (<a href=\"https://hub.docker.com/_/maven\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/maven</a>) , I find openJDK 17 (<a href=\"https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/library/maven/3.8.4-openjdk-17/images/sha256-d07c45c45755f0f90b779bad869467e602f1bfff4d0b5eb1ff73f2882bc38187</a>) and openJDK 18 (<a href=\"https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/library/maven/3.8.7-openjdk-18/images/sha256-1936d70bb3415a0d7e822ed484cdb4974593b195091c145b52ba7775003dc3f0?context=explore</a>)  but I do not see openJdk-19. I searched 'openjdk' <a href=\"https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/maven/tags?page=1&amp;name=openjdk</a> and looked at 'newest' but I cannot find a Java 19. Is there such a openjdk maven artifact perhaps under a different naming scheme? Is there something that I am missing?</p>\n"},{"tags":["java","spring-boot","websphere","ibm-cloud","ibm-odm"],"owner":{"account_id":27323596,"reputation":1,"user_id":20836895,"display_name":"Sakthi Prasad S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687774258,"creation_date":1687774118,"question_id":76555668,"body_markdown":"I&#39;m new to IBM ODM, just now I&#39;m experiencing the IBM Operational Decision Manager Z trial.\r\n\r\nI need an example or trail or any tutorial for Spring boot applications that are integrated with IBM ODM.\r\n\r\nI want a road map for the IBM ODM with Spring Boot.\r\n\r\nIn the Z trial, I created a Java class and then create a single rule\r\n\r\n```\r\nif\r\n    the quantity of Sale is at least 5\r\n    and the widget type of Sale is &quot;red&quot;\r\nthen\r\n    set discount to 0.1;\r\n```\r\n\r\nI deployed it successfully, but I don&#39;t know how to check if the rules are working fine in trial environment.\r\n\r\nIBM ODM cloud vs IBM ODM on-premise. Which one is best to use?\r\n\r\nkindly show some examples and explain them. How to install ODM in a Local machine?","title":"IBM ODM With Springboot","body":"<p>I'm new to IBM ODM, just now I'm experiencing the IBM Operational Decision Manager Z trial.</p>\n<p>I need an example or trail or any tutorial for Spring boot applications that are integrated with IBM ODM.</p>\n<p>I want a road map for the IBM ODM with Spring Boot.</p>\n<p>In the Z trial, I created a Java class and then create a single rule</p>\n<pre><code>if\n    the quantity of Sale is at least 5\n    and the widget type of Sale is &quot;red&quot;\nthen\n    set discount to 0.1;\n</code></pre>\n<p>I deployed it successfully, but I don't know how to check if the rules are working fine in trial environment.</p>\n<p>IBM ODM cloud vs IBM ODM on-premise. Which one is best to use?</p>\n<p>kindly show some examples and explain them. How to install ODM in a Local machine?</p>\n"},{"tags":["java","spring","spring-boot","entity"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1687511681,"post_id":76538398,"comment_id":134950326,"body_markdown":"Does this answer your question? [Spring boot - Not a managed type](https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28664064/spring-boot-not-a-managed-type\">Spring boot - Not a managed type</a>"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1687672915,"post_id":76538398,"comment_id":134967813,"body_markdown":"Looks like `@Table` annotation is missing on your entity..can you try adding that !!","body":"Looks like <code>@Table</code> annotation is missing on your entity..can you try adding that !!"}],"answers":[{"tags":[],"owner":{"account_id":28386002,"reputation":13,"user_id":21712461,"display_name":"Dhruv Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687773862,"creation_date":1687773862,"answer_id":76555634,"question_id":76538398,"body_markdown":"It is due to the import error \r\n\r\n    import javax.persistence.Entity \r\n\r\nIt needs to be replaced with \r\n\r\n`import jakarta.persistence.Entity`","title":"Not a managed type entity Skus","body":"<p>It is due to the import error</p>\n<pre><code>import javax.persistence.Entity \n</code></pre>\n<p>It needs to be replaced with</p>\n<p><code>import jakarta.persistence.Entity</code></p>\n"}],"owner":{"account_id":28386002,"reputation":13,"user_id":21712461,"display_name":"Dhruv Singhal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687773862,"creation_date":1687509460,"question_id":76538398,"body_markdown":"I have create a simple entity but it is giving me error as  Not a managed type: &lt;path&gt;.entity.Skus\r\n\r\n**Entity class**\r\n\r\n    package &lt;path&gt;.entity;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import javax.persistence.Entity;\r\n    \r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity(name = &quot;skus&quot;)\r\n    public class Skus extends BaseEntity{\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n","title":"Not a managed type entity Skus","body":"<p>I have create a simple entity but it is giving me error as  Not a managed type: .entity.Skus</p>\n<p><strong>Entity class</strong></p>\n<pre><code>package &lt;path&gt;.entity;\n\nimport jakarta.persistence.Column;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport javax.persistence.Entity;\n\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity(name = &quot;skus&quot;)\npublic class Skus extends BaseEntity{\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","keycloak","spring-cloud-gateway"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1686843796,"post_id":76482897,"comment_id":134856974,"body_markdown":"Have a look at my tutorials, specially the BFF one https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","body":"Have a look at my tutorials, specially the BFF one <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">github.com/ch4mpy/spring-addons/tree/master/samples/tutorial&zwnj;&#8203;s</a>"},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687190343,"post_id":76482897,"comment_id":134898909,"body_markdown":"After several trial and error, I have updated the full description","body":"After several trial and error, I have updated the full description"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687193084,"post_id":76482897,"comment_id":134899423,"body_markdown":"For directions to configure (servlet) resource-servers, refer to the dedicated tutorials of the series I already linked.","body":"For directions to configure (servlet) resource-servers, refer to the dedicated tutorials of the series I already linked."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687243084,"post_id":76482897,"comment_id":134905148,"body_markdown":"Thanks a lot for your examples, but I am afraid that, as many others over the internet, they are a bit outdated. For example, in the code &quot; http.csrf().disable();&quot; in the reactive-resource-server, the CSRF part is deprecated. Other tutorials use the &quot;WebSecurityConfigurerAdapter&quot; class, that as stated in &quot;https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter&quot; should be replaced... The code in my SecurityConfiguration have been created with code from official sources, but for some reason I can&#39;t make it work...","body":"Thanks a lot for your examples, but I am afraid that, as many others over the internet, they are a bit outdated. For example, in the code &quot; http.csrf().disable();&quot; in the reactive-resource-server, the CSRF part is deprecated. Other tutorials use the &quot;WebSecurityConfigurerAdapter&quot; class, that as stated in &quot;<a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>&quot; should be replaced... The code in my SecurityConfiguration have been created with code from official sources, but for some reason I can&#39;t make it work..."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687243467,"post_id":76482897,"comment_id":134905210,"body_markdown":"In addition to my previous link I had also used this one: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","body":"In addition to my previous link I had also used this one: <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687258325,"post_id":76482897,"comment_id":134908293,"body_markdown":"`WebSecurityConfigurerAdapter` was deprecated in late spring-security 5 versions (boot 2) and removed from security 6 (boot 3), so you won&#39;t find a single working spring-boot 3 sample with it. `http.csrf().disable()` was falged deprecated with spring-boot 3.1 one month ago. It is already replaced with `http.csrf(csrf -&gt; csrf.disable())` (as well as all other configurers which should now use exclusively lambdas instead of &quot;fluent&quot; API) but only in the code. I forgot to update readmes, my bad. But, no, samples and tutorials are not outdated: all compile with boot 3.1.0 and without warning.","body":"<code>WebSecurityConfigurerAdapter</code> was deprecated in late spring-security 5 versions (boot 2) and removed from security 6 (boot 3), so you won&#39;t find a single working spring-boot 3 sample with it. <code>http.csrf().disable()</code> was falged deprecated with spring-boot 3.1 one month ago. It is already replaced with <code>http.csrf(csrf -&gt; csrf.disable())</code> (as well as all other configurers which should now use exclusively lambdas instead of &quot;fluent&quot; API) but only in the code. I forgot to update readmes, my bad. But, no, samples and tutorials are not outdated: all compile with boot 3.1.0 and without warning."},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687260554,"post_id":76482897,"comment_id":134908798,"body_markdown":"Can you add some light to the error in my traces? I cannot make the official spring code work in my SecurityConfiguration out of the box...","body":"Can you add some light to the error in my traces? I cannot make the official spring code work in my SecurityConfiguration out of the box..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687272565,"post_id":76482897,"comment_id":134911702,"body_markdown":"The error could be due to trying to use spring-security 5 with spring-boot 3, but there are other &quot;strange&quot; things like having a dependency on Thymeleaf in a resource server only app. You should probably take some time to read the README at the root of the tutorials (and not try to override the versions already defined by boot)","body":"The error could be due to trying to use spring-security 5 with spring-boot 3, but there are other &quot;strange&quot; things like having a dependency on Thymeleaf in a resource server only app. You should probably take some time to read the README at the root of the tutorials (and not try to override the versions already defined by boot)"},{"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"score":0,"creation_date":1687772586,"post_id":76482897,"comment_id":134978316,"body_markdown":"You were absolutely right! As soon as I read your comment, I removed all version from my POM and it worked perfectly! Thanks a lot!","body":"You were absolutely right! As soon as I read your comment, I removed all version from my POM and it worked perfectly! Thanks a lot!"}],"answers":[{"tags":[],"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687772676,"creation_date":1687772676,"answer_id":76555477,"question_id":76482897,"body_markdown":"As stated by ch4mp, I was trying to use spring-security 5 with spring-boot 3. As soon as a I removed all version from my POM it worked!","title":"Invalid credentials when Spring Gateway logs in into KeyCloak","body":"<p>As stated by ch4mp, I was trying to use spring-security 5 with spring-boot 3. As soon as a I removed all version from my POM it worked!</p>\n"}],"owner":{"account_id":28826477,"reputation":25,"user_id":22077771,"display_name":"Richter"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555477,"answer_count":1,"score":0,"last_activity_date":1687772676,"creation_date":1686835007,"question_id":76482897,"body_markdown":"**UPDATED FULL DESCRIPTION**\r\n\r\nHello all again,\r\n\r\nI am currently developing a demo prototype to secure a spring service through a Spring Gateway against a Keycloak. In a first step without any security implemented, I created the gateway and was able to redirect the traffic to the service but, unfortunately, as soon as I implemented the security it stopped working. \r\n\r\nTo my surprise, the gateway part seems to work fine and, after checking the keycloak dashboard,I can see that a client session had been created successfully (which means that my user/password is ok). I have also tested the user/password/client-secret against keycloak using Postman and it correctly returns the token. From my point of view, the gateway works fine. \r\n\r\nThe problem seems to come from the service part, which triggers the next error and is not even deployed:\r\n\r\n```\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.291Z DEBUG 1 --- [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.432Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.433Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.435Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.450Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.458Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.482Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96) ~[spring-boot-3.0.5.jar:3.0.5]\r\nmiddleware-tomcat-1      | \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171) ~[spring-web-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Catalina.start(Catalina.java:795) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347) ~[bootstrap.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478) ~[bootstrap.jar:10.1.7]\r\nmiddleware-tomcat-1      | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \t... 60 common frames omitted\r\nmiddleware-tomcat-1      | Caused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:273) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:147) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-6.1.0.jar:6.1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration.filterChain(SecurityConfiguration.java:21) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$0(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \tat com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;) ~[classes/:1.0]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nmiddleware-tomcat-1      | \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nmiddleware-tomcat-1      | \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\r\nmiddleware-tomcat-1      | \t... 61 common frames omitted\r\nmiddleware-tomcat-1      | Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245) ~[catalina.jar:10.1.7]\r\nmiddleware-tomcat-1      | \t... 77 common frames omitted\r\nmiddleware-tomcat-1      | \r\nmiddleware-tomcat-1      | 19-Jun-2023 15:21:51.488 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/usr/local/tomcat/webapps/webdemo-1.0.war]\r\nmiddleware-tomcat-1      | \tjava.lang.IllegalStateException: Error starting child\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nmiddleware-tomcat-1      | \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nmiddleware-tomcat-1      | \t\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\nmiddleware-tomcat-1      | \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nmiddleware-tomcat-1      | \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nmiddleware-tomcat-1      | \tCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/webdemo-1.0]]\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\nmiddleware-tomcat-1      | \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\r\nmiddleware-tomcat-1      | \t\t... 37 more\r\nmiddleware-tomcat-1      | \tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\r\n\r\n```\r\n\r\n\r\nFollowing I paste the POM of the SERVICE:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demoweb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;webdemo&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;webdemo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\r\n\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n &lt;/dependencies&gt;\r\n&lt;dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\t\r\n\t&lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt; \r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the SERVICE securityconfiguration class that I have been able to gather from several updated sources including official spring documentation:\r\n\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated()).oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer.jwt((jwt) -&gt; jwt.decoder(jwtDecoder())));\r\n        \r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return NimbusJwtDecoder.withJwkSetUri(&quot;http://[KEYCLOAK_IP:PORT]/realms/my-realm/protocol/openid-connect/certs&quot;).build();\r\n    } \r\n}\r\n```\r\n\r\n\r\nNext are the relevant properties from the SERVICE property file:\r\n\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=http://[KEYCLOAK_IP:PORT]/realms/my-realm\r\n\r\n\r\nCan someone help me?\r\nThanks in advance!","title":"Invalid credentials when Spring Gateway logs in into KeyCloak","body":"<p><strong>UPDATED FULL DESCRIPTION</strong></p>\n<p>Hello all again,</p>\n<p>I am currently developing a demo prototype to secure a spring service through a Spring Gateway against a Keycloak. In a first step without any security implemented, I created the gateway and was able to redirect the traffic to the service but, unfortunately, as soon as I implemented the security it stopped working.</p>\n<p>To my surprise, the gateway part seems to work fine and, after checking the keycloak dashboard,I can see that a client session had been created successfully (which means that my user/password is ok). I have also tested the user/password/client-secret against keycloak using Postman and it correctly returns the token. From my point of view, the gateway works fine.</p>\n<p>The problem seems to come from the service part, which triggers the next error and is not even deployed:</p>\n<pre><code>middleware-tomcat-1      | 2023-06-19T15:21:51.291Z DEBUG 1 --- [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.432Z  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.433Z  INFO 1 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.435Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.450Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.458Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nmiddleware-tomcat-1      | 2023-06-19T15:21:51.482Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:174) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:154) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:96) ~[spring-boot-3.0.5.jar:3.0.5]\nmiddleware-tomcat-1      |  at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:171) ~[spring-web-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4875) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Catalina.start(Catalina.java:795) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347) ~[bootstrap.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478) ~[bootstrap.jar:10.1.7]\nmiddleware-tomcat-1      | Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  ... 60 common frames omitted\nmiddleware-tomcat-1      | Caused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:273) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer.configure(OAuth2ResourceServerConfigurer.java:147) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:349) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:303) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38) ~[spring-security-config-6.1.0.jar:6.1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration.filterChain(SecurityConfiguration.java:21) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$filterChain$0(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  at com.webdemo.SecurityConfiguration$$SpringCGLIB$$0.filterChain(&lt;generated&gt;) ~[classes/:1.0]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nmiddleware-tomcat-1      |  at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nmiddleware-tomcat-1      |  at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\nmiddleware-tomcat-1      |  ... 61 common frames omitted\nmiddleware-tomcat-1      | Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter\nmiddleware-tomcat-1      |  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245) ~[catalina.jar:10.1.7]\nmiddleware-tomcat-1      |  ... 77 common frames omitted\nmiddleware-tomcat-1      | \nmiddleware-tomcat-1      | 19-Jun-2023 15:21:51.488 SEVERE [main] org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [/usr/local/tomcat/webapps/webdemo-1.0.war]\nmiddleware-tomcat-1      |  java.lang.IllegalStateException: Error starting child\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:713)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:975)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1949)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nmiddleware-tomcat-1      |      at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:123)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:776)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:426)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1656)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:309)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:423)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:366)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:898)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nmiddleware-tomcat-1      |      at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\nmiddleware-tomcat-1      |      at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nmiddleware-tomcat-1      |      at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nmiddleware-tomcat-1      |      at java.base/java.lang.reflect.Method.invoke(Method.java:568)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\nmiddleware-tomcat-1      |      at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nmiddleware-tomcat-1      |  Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/webdemo-1.0]]\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\nmiddleware-tomcat-1      |      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\nmiddleware-tomcat-1      |      at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\nmiddleware-tomcat-1      |      ... 37 more\nmiddleware-tomcat-1      |  Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [com/webdemo/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/server/resource/web/authentication/BearerTokenAuthenticationFilter\n\n</code></pre>\n<p>Following I paste the POM of the SERVICE:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demoweb&lt;/groupId&gt;\n    &lt;artifactId&gt;webdemo&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;webdemo&lt;/name&gt;\n    &lt;description&gt;Demo project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.3&lt;/spring-cloud.version&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n &lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-security&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;           \n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt; \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is the SERVICE securityconfiguration class that I have been able to gather from several updated sources including official spring documentation:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated()).oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer.jwt((jwt) -&gt; jwt.decoder(jwtDecoder())));\n        \n        return http.build();\n    }\n\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withJwkSetUri(&quot;http://[KEYCLOAK_IP:PORT]/realms/my-realm/protocol/openid-connect/certs&quot;).build();\n    } \n}\n</code></pre>\n<p>Next are the relevant properties from the SERVICE property file:</p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=http://[KEYCLOAK_IP:PORT]/realms/my-realm\n</code></pre>\n<p>Can someone help me?\nThanks in advance!</p>\n"},{"tags":["java","nginx","redirect","cookies"],"owner":{"account_id":8780355,"reputation":180,"user_id":6564151,"accept_rate":50,"display_name":"Rus9Mus9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687772603,"creation_date":1687772603,"question_id":76555470,"body_markdown":"There are 2 urls used in Java app (nginx is used as reversed proxy) that may vary depending on if the user is logged in or not.\r\n\r\nThe urls are as follows:\r\n- example.*.com (if the user is not logged in)\r\n- my.example.*.com (if the user is logged in)\r\n\r\n\r\nOn the main page **(example.*.com)** there&#39;s a button that can be clicked only if the user is logged in. Normally, the path is **my.example.*.com** but when the user enters **example.*.com**  directly in URL address bar and clicks the button, the following happens:\r\n\r\n1. First POST request that goes to **example.*.com** and redirects (307) the user.\r\n2. Second POST request that makes a call to **my.example.*.com** and returns 403.\r\n\r\nFrom what I could gather, the second request fails because there are no credentials passed.\r\n\r\nTo make the question complete, I include the both requests full info (I apologise in advance if there&#39;s influx of redundant info).\r\n\r\nThe 1st request:\r\n\r\n```\r\nGeneral:\r\n\r\nRequest URL: https://example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nRequest Method: POST\r\nStatus Code: 307 Temporary Redirect\r\nRemote Address: *the IP*:443\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest Headers:\r\n\r\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\r\nAccept: application/json\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nContent-Length: 0\r\nCookie: *lots of cookies, including auth ones*\r\nHost: example.*.com\r\nOrigin: https://example.*.com\r\nReferer: https://example.*.com/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-origin\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;macOS&quot;\r\n\r\nResponse Headers:\r\n\r\nHTTP/1.1 307 Temporary Redirect\r\nDate: Mon, 26 Jun 2023 06:31:24 GMT\r\nContent-Length: 0\r\nConnection: keep-alive\r\nLocation: https://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nServer: &quot;&quot;\r\nX-UA-Compatible: IE=Edge\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors &#39;self&#39; http://webvisor.com https://webvisor.com\r\nStrict-Transport-Security: max-age=16070400\r\n```\r\n\r\nAnd the second one:\r\n\r\n```\r\nGeneral:\r\n\r\nRequest URL:\r\nhttps://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\r\nRequest Method: POST\r\nStatus Code: 403 Forbidden\r\nReferrer Policy: strict-origin-when-cross-origin\r\n\r\nRequest Headers:\r\n\r\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\r\nAccept: application/json\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nContent-Length: 0\r\nHost: my.example.*.com\r\nOrigin: https://example.*.com\r\nReferer: https://example.*.com/\r\nSec-Fetch-Dest: empty\r\nSec-Fetch-Mode: cors\r\nSec-Fetch-Site: same-site\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\r\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;macOS&quot;\r\n\r\nResponse Headers:\r\n\r\nHTTP/1.1 403 Forbidden\r\nDate: Mon, 26 Jun 2023 06:31:24 GMT\r\nContent-Type: text/html;charset=utf-8\r\nTransfer-Encoding: chunked\r\nConnection: keep-alive\r\nVary: Accept-Encoding\r\nSet-Cookie: route_rest=bcf61aa8605ad5d73b2d8d03430237d9; Path=/\r\nVary: Accept-Encoding\r\nSet-Cookie: JSESSIONID=LyjOf6xIZmrC3rtmO58kWTfT; (*different from JSESSIONID in previous request*) Path=/subscribe\r\nUnauthenticated: true\r\nServer: &quot;&quot;\r\nX-UA-Compatible: IE=Edge\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors &#39;self&#39; http://webvisor.com https://webvisor.com\r\nContent-Encoding: gzip\r\nStrict-Transport-Security: max-age=16070400\r\n```\r\n\r\nTo make sure that the problem has to do with cookies, I took the original request (the one that returns 307) and changed the path from just **example.*.com** to **my.example.*.com** in Postman. It worked and returned me 200.\r\n\r\nWhat seems to be the problem? Is there a way to make nginx include cookies on subsequent request or is the problem has to do with something else? \r\n\r\nHaving revised nginx configuration file, found this only:\r\n\r\n```\r\nserver {\r\n    listen       80;\r\n    server_name  my.example.*.com;\r\n    server_tokens off;\r\n\r\n    access_log  /var/log/nginx/access.log  main;\r\n\r\n    return       301 https://my.example.*.com$request_uri; \r\n}\r\n```\r\n\r\nBut apparently, it has nothing to do with the problem and served for http to https proxying only","title":"Passing cookies in nginx on subsequent request does not work","body":"<p>There are 2 urls used in Java app (nginx is used as reversed proxy) that may vary depending on if the user is logged in or not.</p>\n<p>The urls are as follows:</p>\n<ul>\n<li>example.*.com (if the user is not logged in)</li>\n<li>my.example.*.com (if the user is logged in)</li>\n</ul>\n<p>On the main page <strong>(example.*.com)</strong> there's a button that can be clicked only if the user is logged in. Normally, the path is <strong>my.example.*.com</strong> but when the user enters <strong>example.*.com</strong>  directly in URL address bar and clicks the button, the following happens:</p>\n<ol>\n<li>First POST request that goes to <strong>example.*.com</strong> and redirects (307) the user.</li>\n<li>Second POST request that makes a call to <strong>my.example.*.com</strong> and returns 403.</li>\n</ol>\n<p>From what I could gather, the second request fails because there are no credentials passed.</p>\n<p>To make the question complete, I include the both requests full info (I apologise in advance if there's influx of redundant info).</p>\n<p>The 1st request:</p>\n<pre><code>General:\n\nRequest URL: https://example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nRequest Method: POST\nStatus Code: 307 Temporary Redirect\nRemote Address: *the IP*:443\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest Headers:\n\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\nAccept: application/json\nAccept-Encoding: gzip, deflate, br\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nContent-Length: 0\nCookie: *lots of cookies, including auth ones*\nHost: example.*.com\nOrigin: https://example.*.com\nReferer: https://example.*.com/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-origin\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;macOS&quot;\n\nResponse Headers:\n\nHTTP/1.1 307 Temporary Redirect\nDate: Mon, 26 Jun 2023 06:31:24 GMT\nContent-Length: 0\nConnection: keep-alive\nLocation: https://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nServer: &quot;&quot;\nX-UA-Compatible: IE=Edge\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors 'self' http://webvisor.com https://webvisor.com\nStrict-Transport-Security: max-age=16070400\n</code></pre>\n<p>And the second one:</p>\n<pre><code>General:\n\nRequest URL:\nhttps://my.example.*.com/subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348\nRequest Method: POST\nStatus Code: 403 Forbidden\nReferrer Policy: strict-origin-when-cross-origin\n\nRequest Headers:\n\nPOST /subscribe?addressGuid=cef10ea9-3391-4e7d-95d8-973c7b969348 HTTP/1.1\nAccept: application/json\nAccept-Encoding: gzip, deflate, br\nAccept-Language: ru,ru-RU;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nContent-Length: 0\nHost: my.example.*.com\nOrigin: https://example.*.com\nReferer: https://example.*.com/\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36\nsec-ch-ua: &quot;Not.A/Brand&quot;;v=&quot;8&quot;, &quot;Chromium&quot;;v=&quot;114&quot;, &quot;Google Chrome&quot;;v=&quot;114&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;macOS&quot;\n\nResponse Headers:\n\nHTTP/1.1 403 Forbidden\nDate: Mon, 26 Jun 2023 06:31:24 GMT\nContent-Type: text/html;charset=utf-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nVary: Accept-Encoding\nSet-Cookie: route_rest=bcf61aa8605ad5d73b2d8d03430237d9; Path=/\nVary: Accept-Encoding\nSet-Cookie: JSESSIONID=LyjOf6xIZmrC3rtmO58kWTfT; (*different from JSESSIONID in previous request*) Path=/subscribe\nUnauthenticated: true\nServer: &quot;&quot;\nX-UA-Compatible: IE=Edge\nX-Frame-Options: SAMEORIGIN\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nContent-Security-Policy: upgrade-insecure-requests; frame-ancestors 'self' http://webvisor.com https://webvisor.com\nContent-Encoding: gzip\nStrict-Transport-Security: max-age=16070400\n</code></pre>\n<p>To make sure that the problem has to do with cookies, I took the original request (the one that returns 307) and changed the path from just <strong>example.*.com</strong> to <strong>my.example.*.com</strong> in Postman. It worked and returned me 200.</p>\n<p>What seems to be the problem? Is there a way to make nginx include cookies on subsequent request or is the problem has to do with something else?</p>\n<p>Having revised nginx configuration file, found this only:</p>\n<pre><code>server {\n    listen       80;\n    server_name  my.example.*.com;\n    server_tokens off;\n\n    access_log  /var/log/nginx/access.log  main;\n\n    return       301 https://my.example.*.com$request_uri; \n}\n</code></pre>\n<p>But apparently, it has nothing to do with the problem and served for http to https proxying only</p>\n"},{"tags":["java","maven","ssl"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1687771314,"post_id":76555298,"comment_id":134978043,"body_markdown":"Download the certificate and add it to your jvm keystore. Disabling the ssl check is not a good (or a very bad) idea","body":"Download the certificate and add it to your jvm keystore. Disabling the ssl check is not a good (or a very bad) idea"},{"owner":{"account_id":18953786,"reputation":51,"user_id":13830842,"display_name":"Alejandro Pacheco Tejeda"},"score":0,"creation_date":1687771703,"post_id":76555298,"comment_id":134978119,"body_markdown":"I&#39;ve done it already, but as I said, the API is in a remote machine so it will always give this error, also this is for testing, no need of certifications for now","body":"I&#39;ve done it already, but as I said, the API is in a remote machine so it will always give this error, also this is for testing, no need of certifications for now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687771981,"post_id":76555298,"comment_id":134978177,"body_markdown":"*the API is in a remote machine so it will always give this error* isn&#39;t that (virtually) *always* the case? Anyway, [loads](https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https) of stuff on this","body":"<i>the API is in a remote machine so it will always give this error</i> isn&#39;t that (virtually) <i>always</i> the case? Anyway, <a href=\"https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https\">loads</a> of stuff on this"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687773049,"post_id":76555298,"comment_id":134978408,"body_markdown":"Based on that `-Dmaven.wagon.http.ssl.insecure=true` are you really using somewhere WAGON? How does your pom file look like?","body":"Based on that <code>-Dmaven.wagon.http.ssl.insecure=true</code> are you really using somewhere WAGON? How does your pom file look like?"}],"answers":[{"tags":[],"owner":{"account_id":1629132,"reputation":350,"user_id":1504041,"display_name":"Philipp Schneider"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1687772084,"creation_date":1687772084,"answer_id":76555409,"question_id":76555298,"body_markdown":"Do not disable SSL checks. \r\nYou have to import the whole certificate-chain into your keystore.\r\n\r\nYour program then need to add the truststore properties:\r\n\r\nSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;clientTrustStore.key&quot;);\r\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;qwerty&quot;);\r\n\r\n[Oracle Running the client with SSL/TLS][1]\r\n\r\n[Difference between Key and Trust-Store][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javadb/10.8.3.0/adminguide/cadminsslclient.html\r\n  [2]: https://www.baeldung.com/java-keystore-truststore-difference","title":"How to disable SSL certificate checks in Java project?","body":"<p>Do not disable SSL checks.\nYou have to import the whole certificate-chain into your keystore.</p>\n<p>Your program then need to add the truststore properties:</p>\n<p>System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;clientTrustStore.key&quot;);\nSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,&quot;qwerty&quot;);</p>\n<p><a href=\"https://docs.oracle.com/javadb/10.8.3.0/adminguide/cadminsslclient.html\" rel=\"nofollow noreferrer\">Oracle Running the client with SSL/TLS</a></p>\n<p><a href=\"https://www.baeldung.com/java-keystore-truststore-difference\" rel=\"nofollow noreferrer\">Difference between Key and Trust-Store</a></p>\n"}],"owner":{"account_id":18953786,"reputation":51,"user_id":13830842,"display_name":"Alejandro Pacheco Tejeda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2018,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1687772084,"creation_date":1687771207,"question_id":76555298,"body_markdown":"I&#39;m getting this error all the time while trying to connect to a remote machine&#39;s API and I certainly do not need to check it&#39;s certificate when connecting.\r\n\r\n    ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nHow can I get rid of this validation? I&#39;ve set these variables on my JVM:\r\n\r\n    -Dcom.sun.net.ssl.checkRevocation=false -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true\r\n\r\nI&#39;m using Java 17, with Maven and using Eclipse Spring Tool Suite 4.","title":"How to disable SSL certificate checks in Java project?","body":"<p>I'm getting this error all the time while trying to connect to a remote machine's API and I certainly do not need to check it's certificate when connecting.</p>\n<pre><code>ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>How can I get rid of this validation? I've set these variables on my JVM:</p>\n<pre><code>-Dcom.sun.net.ssl.checkRevocation=false -Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true -Dmaven.wagon.http.ssl.ignore.validity.dates=true\n</code></pre>\n<p>I'm using Java 17, with Maven and using Eclipse Spring Tool Suite 4.</p>\n"},{"tags":["java","android","scrollview","android-videoview"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1687579439,"post_id":76540411,"comment_id":134960362,"body_markdown":"Use their onPause and onResume i guess","body":"Use their onPause and onResume i guess"}],"answers":[{"tags":[],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687771553,"creation_date":1687771553,"answer_id":76555345,"question_id":76540411,"body_markdown":"I resolved it with create CustomViewPager.","title":"VideoView scroll play previous video&#39;s audio when scroll and go to next video","body":"<p>I resolved it with create CustomViewPager.</p>\n"}],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555345,"answer_count":1,"score":0,"last_activity_date":1687771553,"creation_date":1687525518,"question_id":76540411,"body_markdown":"\r\n    private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\r\n        int currentPosition = 0;\r\n\r\n        @Override\r\n        public void onPageSelected(int newPosition) {\r\n            FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\r\n            fragmentToShow.onResumeFragment();\r\n            FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\r\n            fragmentToHide.onPauseFragment();\r\n            currentPosition = newPosition;\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrolled(int arg0, float arg1, int arg2) {\r\n\r\n\r\n        }\r\n\r\n        public void onPageScrollStateChanged(int arg0) {\r\n\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n        @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n    }\r\n\r\n    private void DeleteRecursive(File fileOrDirectory) {\r\n        if (fileOrDirectory.isDirectory())\r\n            for (File child : fileOrDirectory.listFiles()) {\r\n                child.delete();\r\n                DeleteRecursive(child);\r\n            }\r\n\r\n        fileOrDirectory.delete();\r\n    }\r\n\r\n\r\n  \r\nWhen i scroll half previous video playing and also next video start playing but i want like instagram when previous video getout from screen then next video play, any Idea or code? please suggest.","title":"VideoView scroll play previous video&#39;s audio when scroll and go to next video","body":"<pre><code>private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\n    int currentPosition = 0;\n\n    @Override\n    public void onPageSelected(int newPosition) {\n        FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\n        fragmentToShow.onResumeFragment();\n        FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\n        fragmentToHide.onPauseFragment();\n        currentPosition = newPosition;\n\n    }\n\n    @Override\n    public void onPageScrolled(int arg0, float arg1, int arg2) {\n\n\n    }\n\n    public void onPageScrollStateChanged(int arg0) {\n\n    }\n};\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n}\n\n    @Override\nprotected void onPause() {\n    super.onPause();\n}\n\nprivate void DeleteRecursive(File fileOrDirectory) {\n    if (fileOrDirectory.isDirectory())\n        for (File child : fileOrDirectory.listFiles()) {\n            child.delete();\n            DeleteRecursive(child);\n        }\n\n    fileOrDirectory.delete();\n}\n</code></pre>\n<p>When i scroll half previous video playing and also next video start playing but i want like instagram when previous video getout from screen then next video play, any Idea or code? please suggest.</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":3088423,"reputation":1306,"user_id":2615117,"display_name":"nocdib"},"score":1,"creation_date":1540843942,"post_id":50869339,"comment_id":93005765,"body_markdown":"Thank you! Kiosk mode solved my team&#39;s automation issue. This should be the preferred answer.","body":"Thank you! Kiosk mode solved my team&#39;s automation issue. This should be the preferred answer."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529038791,"creation_date":1529038791,"answer_id":50869339,"question_id":50869316,"body_markdown":"As per [manage().window().maximize() method not maximize a correct window](https://bugs.chromium.org/p/chromedriver/issues/detail?id=596) using `driver.manage().window().maximize();` to maximize the `Chrome Browser` is not the optimum way. Instead use **ChromeOptions** to maximize the _Chrome Browser_ as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;start-maximized&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);\r\n\r\nTo open _Chrome Browser_ in `kiosk` mode you can also use:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--kiosk&quot;);\r\n    return new ChromeDriver(options); \r\n\r\n   \r\n\r\nAs an alternative you can also use the argument **`window-size`** as follows:\r\n\r\n\tChromeOptions options = new ChromeOptions();\r\n\toptions.addArguments(&quot;window-size=1400,600&quot;);\r\n\tWebDriver driver = new ChromeDriver(options);","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<p>As per <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=596\" rel=\"nofollow noreferrer\">manage().window().maximize() method not maximize a correct window</a> using <code>driver.manage().window().maximize();</code> to maximize the <code>Chrome Browser</code> is not the optimum way. Instead use <strong>ChromeOptions</strong> to maximize the <em>Chrome Browser</em> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>To open <em>Chrome Browser</em> in <code>kiosk</code> mode you can also use:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--kiosk\");\nreturn new ChromeDriver(options); \n</code></pre>\n\n<p>As an alternative you can also use the argument <strong><code>window-size</code></strong> as follows:</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2854495,"reputation":1873,"user_id":2451016,"accept_rate":32,"display_name":"user2451016"},"score":0,"creation_date":1560434486,"post_id":50869357,"comment_id":99742379,"body_markdown":"How to achieve this in Cypress?","body":"How to achieve this in Cypress?"}],"tags":[],"owner":{"account_id":9360928,"reputation":49,"user_id":6947280,"display_name":"Mohit Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592903674,"creation_date":1529038908,"answer_id":50869357,"question_id":50869316,"body_markdown":"    driver.manage().window().maximize(); \r\n\r\n**Replace to** \r\n\r\n    driver.manage().window().fullscreen(); \r\n\r\nAnd it&#39;s working","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<pre><code>driver.manage().window().maximize(); \n</code></pre>\n<p><strong>Replace to</strong></p>\n<pre><code>driver.manage().window().fullscreen(); \n</code></pre>\n<p>And it's working</p>\n"}],"owner":{"account_id":9360928,"reputation":49,"user_id":6947280,"display_name":"Mohit Jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7504,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1687771198,"creation_date":1529038585,"question_id":50869316,"body_markdown":"In Selenium, I am facing some issue when open browser in chrome then full screen is not working.\r\n\r\n    driver.manage().window().maximize();","title":"driver.manage().window().maximize() is not working for chrome in Selenium","body":"<p>In Selenium, I am facing some issue when open browser in chrome then full screen is not working.</p>\n<pre><code>driver.manage().window().maximize();\n</code></pre>\n"},{"tags":["java","linux","neovim","liskov-substitution-principle"],"answers":[{"tags":[],"owner":{"account_id":13020981,"reputation":55,"user_id":9410428,"display_name":"cminusminus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687771040,"creation_date":1687771040,"answer_id":76555279,"question_id":76459274,"body_markdown":"Unsure if you&#39;ve resolved this but I&#39;ll comment for others searching for answers.\r\n\r\nWhenever I run into trouble installing lsp on a new nvim setup, the issue tends to be related to me not having a dependency installed. \r\n\r\nThings to try:\r\n\r\n - Install/Update Java\r\n - Change the permissions for bash on your zsh (`chmod +x /bin/bash`)\r\n - Check you have all dependencies installed for `java-language-server`\r\n - Use `jdtls` instead","title":"Unable to install java-language-server with mason lsp-zero","body":"<p>Unsure if you've resolved this but I'll comment for others searching for answers.</p>\n<p>Whenever I run into trouble installing lsp on a new nvim setup, the issue tends to be related to me not having a dependency installed.</p>\n<p>Things to try:</p>\n<ul>\n<li>Install/Update Java</li>\n<li>Change the permissions for bash on your zsh (<code>chmod +x /bin/bash</code>)</li>\n<li>Check you have all dependencies installed for <code>java-language-server</code></li>\n<li>Use <code>jdtls</code> instead</li>\n</ul>\n"}],"owner":{"account_id":26790864,"reputation":31,"user_id":20384295,"display_name":"Shlok V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1687771040,"creation_date":1686593598,"question_id":76459274,"body_markdown":"I am using lsp-zero which uses mason to install everything but whenever I try to install java-language-server I get the error.\r\n\r\nAny help is appreciated.\r\n\r\nWhenever i do :LspInstall and choose the first option it shows this\r\n\r\n    \\[8/8\\] spawn: bash failed with exit code 127 and signal 0.\r\n\r\nI already tried installing diff versions of java-language-server but didn&#39;t work.","title":"Unable to install java-language-server with mason lsp-zero","body":"<p>I am using lsp-zero which uses mason to install everything but whenever I try to install java-language-server I get the error.</p>\n<p>Any help is appreciated.</p>\n<p>Whenever i do :LspInstall and choose the first option it shows this</p>\n<pre><code>\\[8/8\\] spawn: bash failed with exit code 127 and signal 0.\n</code></pre>\n<p>I already tried installing diff versions of java-language-server but didn't work.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687769673,"post_id":76554671,"comment_id":134977724,"body_markdown":"That is not what he asked. He wants a command to add dependencies to the maven `pom.xml`. Not to install dependencies into the local repository.","body":"That is not what he asked. He wants a command to add dependencies to the maven <code>pom.xml</code>. Not to install dependencies into the local repository."}],"tags":[],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770821,"creation_date":1687766394,"answer_id":76554671,"question_id":76554516,"body_markdown":"&lt;strike&gt;Yes you can.\r\n\r\n`mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;`\r\n\r\nhttps://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\r\n&lt;/strike&gt;\r\n\r\nEdit: I did not understand what you want to do (Thank you to the comment). If you want add a dependency using the terminal, currently not exist a command from maven to do that. You could made a script to include the text in your pom, but still something you need elaborate by yourself. So the sort answer is &quot;no, you can&#39;t&quot; ","title":"Can we add dependencies in POM.xml file using commands in terminal in Springboot..?","body":"<p><strike>Yes you can.</p>\n<p><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;</code></p>\n<p><a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a>\n</strike></p>\n<p>Edit: I did not understand what you want to do (Thank you to the comment). If you want add a dependency using the terminal, currently not exist a command from maven to do that. You could made a script to include the text in your pom, but still something you need elaborate by yourself. So the sort answer is &quot;no, you can't&quot;</p>\n"}],"owner":{"account_id":28879742,"reputation":1,"user_id":22119456,"display_name":"Gokul Krishnan J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687770821,"creation_date":1687765152,"question_id":76554516,"body_markdown":"Adding dependencies in POM.xml file using terminal..?\r\n\r\n\r\nWhile working in Springboot I have added dependencies in POM.xml manually,when i am  working some annotations have to add while working I have to add it automatically using terminal commands.","title":"Can we add dependencies in POM.xml file using commands in terminal in Springboot..?","body":"<p>Adding dependencies in POM.xml file using terminal..?</p>\n<p>While working in Springboot I have added dependencies in POM.xml manually,when i am  working some annotations have to add while working I have to add it automatically using terminal commands.</p>\n"},{"tags":["java","selenium-webdriver","testing","browser","automation"],"owner":{"account_id":22353163,"reputation":31,"user_id":16570902,"display_name":"Saravanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687770721,"creation_date":1687770721,"question_id":76555227,"body_markdown":"Here&#39;s the java code I&#39;m using:\r\n\r\n```\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\npublic class ExistingBrowser {\r\npublic static void main(String[] args) {\r\n// Specify the path to the existing Chrome user profile directory\r\nString userProfileDir = &quot;C:\\\\Users\\\\VS\\_\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 6&quot;;\r\n\r\n        // Set the path to the ChromeDriver executable\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\chromedriver.exe&quot;);\r\n    \r\n     // Create ChromeOptions instance and set the user data directory and the &quot;no-first-run&quot; flag\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;user-data-dir=&quot; + userProfileDir);\r\n        options.addArguments(&quot;no-first-run&quot;);\r\n    \r\n        // Create a WebDriver instance with the ChromeOptions\r\n        WebDriver driver = new ChromeDriver(options);\r\n    \r\n        // Perform further operations using the driver\r\n        driver.get(&quot;https://www.example.com&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have verified that the userProfileDir path is correct and points to an existing user profile directory on my system. However, every time I run the code, it opens a new Chrome window instead of using the specified user profile.\r\n\r\nI have also tried using the --no-first-run argument in the ChromeOptions but it didn&#39;t make any difference.\r\n\r\nI&#39;m using Selenium version **3.141.59** and ChromeDriver version **114.0.5735.90** My Chrome browser version is \\*\\*114.0.5735.134 (Official Build) (64-bit)\r\n\\*\\*\r\n\r\nI am attempting to open an existing Chrome user profile using Selenium in Java, but I am encountering difficulties. I want to achieve the following behavior:\r\n\r\n- Launch Chrome using an existing user profile, preserving all saved data, bookmarks, and preferences associated with that profile.\r\n- Ensure that the opened Chrome window is connected to the specified user profile and not creating a new profile.\r\n\r\nAny help or suggestions on how to open an existing Chrome user profile using Selenium in Java would be greatly appreciated. Thank you in advance!","title":"why my selenium code seems to be opening a new user profile window instead of using the specified user profile","body":"<p>Here's the java code I'm using:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ExistingBrowser {\npublic static void main(String[] args) {\n// Specify the path to the existing Chrome user profile directory\nString userProfileDir = &quot;C:\\\\Users\\\\VS\\_\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\User Data\\\\Profile 6&quot;;\n\n        // Set the path to the ChromeDriver executable\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,  &quot;C:\\\\Users\\\\chromedriver.exe&quot;);\n    \n     // Create ChromeOptions instance and set the user data directory and the &quot;no-first-run&quot; flag\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;user-data-dir=&quot; + userProfileDir);\n        options.addArguments(&quot;no-first-run&quot;);\n    \n        // Create a WebDriver instance with the ChromeOptions\n        WebDriver driver = new ChromeDriver(options);\n    \n        // Perform further operations using the driver\n        driver.get(&quot;https://www.example.com&quot;);\n    }\n\n}\n</code></pre>\n<p>I have verified that the userProfileDir path is correct and points to an existing user profile directory on my system. However, every time I run the code, it opens a new Chrome window instead of using the specified user profile.</p>\n<p>I have also tried using the --no-first-run argument in the ChromeOptions but it didn't make any difference.</p>\n<p>I'm using Selenium version <strong>3.141.59</strong> and ChromeDriver version <strong>114.0.5735.90</strong> My Chrome browser version is **114.0.5735.134 (Official Build) (64-bit)\n**</p>\n<p>I am attempting to open an existing Chrome user profile using Selenium in Java, but I am encountering difficulties. I want to achieve the following behavior:</p>\n<ul>\n<li>Launch Chrome using an existing user profile, preserving all saved data, bookmarks, and preferences associated with that profile.</li>\n<li>Ensure that the opened Chrome window is connected to the specified user profile and not creating a new profile.</li>\n</ul>\n<p>Any help or suggestions on how to open an existing Chrome user profile using Selenium in Java would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","docker","maven","dockerfile"],"answers":[{"comments":[{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1687765342,"post_id":76554521,"comment_id":134976947,"body_markdown":"I see. So I should move the dockerfile to `java-app` directory? or should I move the entire `java-app` directory in to `docker` directory? Or it doesn&#39;t matter and works both ways?","body":"I see. So I should move the dockerfile to <code>java-app</code> directory? or should I move the entire <code>java-app</code> directory in to <code>docker</code> directory? Or it doesn&#39;t matter and works both ways?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1687774287,"post_id":76554521,"comment_id":134978685,"body_markdown":"Typically the `Dockerfile` and `docker-compose.yml` file will be at the root of the application tree.  Putting them in the same place as the `pom.xml` file could make sense.","body":"Typically the <code>Dockerfile</code> and <code>docker-compose.yml</code> file will be at the root of the application tree.  Putting them in the same place as the <code>pom.xml</code> file could make sense."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1687765190,"creation_date":1687765190,"answer_id":76554521,"question_id":76554489,"body_markdown":"Docker sends the set of files around the docker file to the server (called “context”)\r\n\r\nThe server sees this copy only. You cannot go outside of it. \r\n\r\nMove the docker file. ","title":"directory structure in Dockerfile","body":"<p>Docker sends the set of files around the docker file to the server (called “context”)</p>\n<p>The server sees this copy only. You cannot go outside of it.</p>\n<p>Move the docker file.</p>\n"},{"tags":[],"owner":{"account_id":21257358,"reputation":11,"user_id":15638645,"display_name":"AlexVu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687767111,"creation_date":1687767111,"answer_id":76554763,"question_id":76554489,"body_markdown":"Docker will set the context folder with the folder which you run the command. You can run from outside of Dockerfile \r\n\r\n    docker build -f docker/Dockerfile .\r\nAnd in the Dockerfile you can edit path 2 line with COPY \r\n\r\n    COPY java-app/pom.xml /app/\r\n    COPY java-app/src /app/src\r\n\r\n\r\n\r\n","title":"directory structure in Dockerfile","body":"<p>Docker will set the context folder with the folder which you run the command. You can run from outside of Dockerfile</p>\n<pre><code>docker build -f docker/Dockerfile .\n</code></pre>\n<p>And in the Dockerfile you can edit path 2 line with COPY</p>\n<pre><code>COPY java-app/pom.xml /app/\nCOPY java-app/src /app/src\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4133101,"reputation":23384,"user_id":3390419,"accept_rate":30,"display_name":"Paolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687770587,"creation_date":1687770587,"answer_id":76555210,"question_id":76554489,"body_markdown":"From the [documentation](https://docs.docker.com/engine/reference/commandline/build/):\r\n\r\n&gt; By default the docker build command will look for a Dockerfile at the root of the build context. The -f, --file, option lets you specify the path to an alternative file to use instead.\r\n\r\nso you could, from the java app directory, use:\r\n\r\n```bash\r\ndocker build -f ../docker/Dockerfile .\r\n```","title":"directory structure in Dockerfile","body":"<p>From the <a href=\"https://docs.docker.com/engine/reference/commandline/build/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>By default the docker build command will look for a Dockerfile at the root of the build context. The -f, --file, option lets you specify the path to an alternative file to use instead.</p>\n</blockquote>\n<p>so you could, from the java app directory, use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker build -f ../docker/Dockerfile .\n</code></pre>\n"}],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555210,"answer_count":3,"score":0,"last_activity_date":1687770587,"creation_date":1687764977,"question_id":76554489,"body_markdown":"I have a directory and it&#39;s structure is something like this:\r\n```\r\n.\r\n├── docker\r\n│  ├── docker-compose.yml\r\n│  └── Dockerfile\r\n├── java-app\r\n│  ├── pom.xml\r\n│  └── src\r\n```\r\nI want to create a docker image without changing the structure but I am getting this error:\r\n```\r\n =&gt; [internal] load build context                                                                                                  0.0s\r\n =&gt; =&gt; transferring context: 2B                                                                                                    0.0s\r\n =&gt; CACHED [2/5] WORKDIR /app                                                                                                      0.0s\r\n =&gt; ERROR [3/5] COPY java-app/pom.xml /app/                                                                     0.0s\r\n =&gt; ERROR [4/5] COPY java-app/src /app/src                                                                      0.0s\r\n------\r\n &gt; [3/5] COPY java-app/pom.xml /app/:\r\n------\r\n------\r\n &gt; [4/5] COPY java-app/src /app/src:\r\n------\r\nDockerfile:8\r\n--------------------\r\n   6 |     \r\n   7 |     # Copy the necessary files to the working directory\r\n   8 | &gt;&gt;&gt; COPY java-app/pom.xml /app/\r\n   9 |     COPY java-app/src /app/src\r\n  10 |     \r\n--------------------\r\nERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref b1c85d8c-d082-47bf-843c-99a804945668a::o15zbeasfb4ieh2fetvzcczhp4a: &quot;/java-app/pom.xml&quot;: not found\r\n```\r\n\r\nThis is my `Dockerfile`\r\n```\r\n# Use a base image with Java 11 installed\r\nFROM eclipse-temurin:11-jdk\r\n\r\n# Set the working directory inside the container\r\nWORKDIR /app\r\n\r\n# Copy the necessary files to the working directory\r\nCOPY ../java-app/pom.xml /app/\r\nCOPY ../java-app/src /app/src\r\n\r\n# Build the application\r\nRUN ./mvn package -DskipTests\r\n\r\n# Expose the port on which the application will run\r\nEXPOSE 8080\r\n\r\n# Start the application\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/your-app.jar&quot;]\r\n```\r\nWhat am I doing wrong here? I would appreciate some help\r\n","title":"directory structure in Dockerfile","body":"<p>I have a directory and it's structure is something like this:</p>\n<pre><code>.\n├── docker\n│  ├── docker-compose.yml\n│  └── Dockerfile\n├── java-app\n│  ├── pom.xml\n│  └── src\n</code></pre>\n<p>I want to create a docker image without changing the structure but I am getting this error:</p>\n<pre><code> =&gt; [internal] load build context                                                                                                  0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                    0.0s\n =&gt; CACHED [2/5] WORKDIR /app                                                                                                      0.0s\n =&gt; ERROR [3/5] COPY java-app/pom.xml /app/                                                                     0.0s\n =&gt; ERROR [4/5] COPY java-app/src /app/src                                                                      0.0s\n------\n &gt; [3/5] COPY java-app/pom.xml /app/:\n------\n------\n &gt; [4/5] COPY java-app/src /app/src:\n------\nDockerfile:8\n--------------------\n   6 |     \n   7 |     # Copy the necessary files to the working directory\n   8 | &gt;&gt;&gt; COPY java-app/pom.xml /app/\n   9 |     COPY java-app/src /app/src\n  10 |     \n--------------------\nERROR: failed to solve: failed to compute cache key: failed to calculate checksum of ref b1c85d8c-d082-47bf-843c-99a804945668a::o15zbeasfb4ieh2fetvzcczhp4a: &quot;/java-app/pom.xml&quot;: not found\n</code></pre>\n<p>This is my <code>Dockerfile</code></p>\n<pre><code># Use a base image with Java 11 installed\nFROM eclipse-temurin:11-jdk\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy the necessary files to the working directory\nCOPY ../java-app/pom.xml /app/\nCOPY ../java-app/src /app/src\n\n# Build the application\nRUN ./mvn package -DskipTests\n\n# Expose the port on which the application will run\nEXPOSE 8080\n\n# Start the application\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/your-app.jar&quot;]\n</code></pre>\n<p>What am I doing wrong here? I would appreciate some help</p>\n"},{"tags":["java","gradle","eclipse-plugin","build.gradle"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":2,"creation_date":1687793278,"post_id":76555190,"comment_id":134982878,"body_markdown":"Could you please describe why you want to do it this way? What are you ultimately trying to achieve?","body":"Could you please describe why you want to do it this way? What are you ultimately trying to achieve?"}],"owner":{"account_id":28014249,"reputation":19,"user_id":21396263,"display_name":"Nikolai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687770435,"creation_date":1687770435,"question_id":76555190,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/eOxs7.png)](https://i.stack.imgur.com/eOxs7.png)\r\n\r\nHello! I have such subproject inside my whole project. I connected them in setting file in the root of project. I want to make jar file by the shadowJar task (in .languageserver) on initialisation stage of whole project and put this jar file in \\*.provider. I read about init.gradle, but code that I wrote isn&#39;t working.\r\n\r\n\\\\\\&gt; init.gradle\r\n\r\n```\r\ngradle.projectsEvaluated {\r\n    allprojects { project -&gt;\r\n\t\tprintln project.name\r\n        if (project.name == &#39;org.eclipse.buildship.gradleprop.provider&#39;) {\r\n\t\t\tprintln &#39;IN PROVIDER&#39;\r\n            def languageServerProject = project(&#39;:org.eclipse.buildship.gradleprop.languageserver&#39;)\r\n            def shadowJarTask = languageServerProject.tasks.named(&#39;shadowJar&#39;)\r\n            def shadowJarOutput = shadowJarTask.flatMap { it.outputs.files }.getSingleFile()\r\n            def destinationDir = project.file(&#39;libs&#39;)\r\n            \r\n            copy {\r\n                from shadowJarOutput\r\n                into destinationDir\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I do this task? Maybe are there other ways of implementation my current task? Thank you before for help\r\n\r\nAbove I wrote what I tried.","title":"how to run one task before initialising the whole project?","body":"<p><a href=\"https://i.stack.imgur.com/eOxs7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eOxs7.png\" alt=\"enter image description here\" /></a></p>\n<p>Hello! I have such subproject inside my whole project. I connected them in setting file in the root of project. I want to make jar file by the shadowJar task (in .languageserver) on initialisation stage of whole project and put this jar file in *.provider. I read about init.gradle, but code that I wrote isn't working.</p>\n<p>\\&gt; init.gradle</p>\n<pre><code>gradle.projectsEvaluated {\n    allprojects { project -&gt;\n        println project.name\n        if (project.name == 'org.eclipse.buildship.gradleprop.provider') {\n            println 'IN PROVIDER'\n            def languageServerProject = project(':org.eclipse.buildship.gradleprop.languageserver')\n            def shadowJarTask = languageServerProject.tasks.named('shadowJar')\n            def shadowJarOutput = shadowJarTask.flatMap { it.outputs.files }.getSingleFile()\n            def destinationDir = project.file('libs')\n            \n            copy {\n                from shadowJarOutput\n                into destinationDir\n            }\n        }\n    }\n}\n</code></pre>\n<p>How can I do this task? Maybe are there other ways of implementation my current task? Thank you before for help</p>\n<p>Above I wrote what I tried.</p>\n"},{"tags":["java","random","jvm","uuid","production"],"comments":[{"owner":{"account_id":253942,"reputation":19289,"user_id":532978,"accept_rate":91,"display_name":"JCOC611"},"score":1,"creation_date":1421350460,"post_id":27971464,"comment_id":44335702,"body_markdown":"This might be useless advice, but if you found a way to generate V1 (MAC + timestamp based) instead of V4 it *may* reduce the collisions, since they would have to happen at the same time, the same machine, and be very unlucky.","body":"This might be useless advice, but if you found a way to generate V1 (MAC + timestamp based) instead of V4 it <i>may</i> reduce the collisions, since they would have to happen at the same time, the same machine, and be very unlucky."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":10,"creation_date":1421350709,"post_id":27971464,"comment_id":44335837,"body_markdown":"As a first step I would log every single UUID that comes out of `UUID.randomUUID()` on every machine into a local text file. I would then re-run the duplicate search *on those logs*. It could be that in your actual code, the UUIDs are getting mixed up at a later stage, e.g. due to a race condition somewhere in a higher-level layer.","body":"As a first step I would log every single UUID that comes out of <code>UUID.randomUUID()</code> on every machine into a local text file. I would then re-run the duplicate search <i>on those logs</i>. It could be that in your actual code, the UUIDs are getting mixed up at a later stage, e.g. due to a race condition somewhere in a higher-level layer."},{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1421350796,"post_id":27971464,"comment_id":44335883,"body_markdown":"I don&#39;t have a solution, but I admire the problem. ^_^ If the numbers from [the Wiki](http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates) are correct this is almost impossible to happen. Especially multiple times. It seems this &quot;random&quot; really isn&#39;t o_O","body":"I don&#39;t have a solution, but I admire the problem. ^_^ If the numbers from <a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates\" rel=\"nofollow noreferrer\">the Wiki</a> are correct this is almost impossible to happen. Especially multiple times. It seems this &quot;random&quot; really isn&#39;t o_O"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":2,"creation_date":1421350834,"post_id":27971464,"comment_id":44335915,"body_markdown":"I would also search your entire code base for any places where you might be seeding any random number generators. ;-)","body":"I would also search your entire code base for any places where you might be seeding any random number generators. ;-)"},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":1,"creation_date":1421352022,"post_id":27971464,"comment_id":44336517,"body_markdown":"And make sure you really are creating and using a new UUID every time you should be.","body":"And make sure you really are creating and using a new UUID every time you should be."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1421352203,"post_id":27971464,"comment_id":44336617,"body_markdown":"You could write a [SSCCE](http://sscce.org/) that just creates millions of UUIDs and see if there are any duplicates.  This would reveal if it&#39;s a system or JVM issue, as opposed to your own code as @NPE suggested.","body":"You could write a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> that just creates millions of UUIDs and see if there are any duplicates.  This would reveal if it&#39;s a system or JVM issue, as opposed to your own code as @NPE suggested."},{"owner":{"account_id":5125671,"reputation":5871,"user_id":4107809,"accept_rate":71,"display_name":"mattm"},"score":2,"creation_date":1421355424,"post_id":27971464,"comment_id":44338336,"body_markdown":"You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs.","body":"You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs."},{"owner":{"account_id":2597187,"reputation":3096,"user_id":2250588,"display_name":"iheanyi"},"score":3,"creation_date":1421358650,"post_id":27971464,"comment_id":44339956,"body_markdown":"Under normal operation, random number generated by virtual machines  should not show that kind of collision. But, say you generated a set of random numbers with virtual machine A. Then took a snapshot of A. Then sometime later, stopped A, resumed from the snap shot, and resumed generating random numbers - you may have some duplicates due to resuse of internal state values. I suspect if you snapshotted A, then started A and B from the snapshot, you may experience the same problem.","body":"Under normal operation, random number generated by virtual machines  should not show that kind of collision. But, say you generated a set of random numbers with virtual machine A. Then took a snapshot of A. Then sometime later, stopped A, resumed from the snap shot, and resumed generating random numbers - you may have some duplicates due to resuse of internal state values. I suspect if you snapshotted A, then started A and B from the snapshot, you may experience the same problem."}],"answers":[{"tags":[],"owner":{"account_id":109880,"reputation":6406,"user_id":290962,"accept_rate":89,"display_name":"ahoffer"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1556290494,"creation_date":1421360950,"answer_id":27974180,"question_id":27971464,"body_markdown":"Given time, I&#39;m sure you&#39;ll find the culprit. In the meantime, there was a comment that I think deserves to be promoted to answer:\r\n\r\n*You are generating pseudo random UUIDs at multiple locations. If you don&#39;t find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs*\r\n\r\nSo create a UUID server. It is just a process that churns out blocks of UUIDs. Each block consists maybe 10,000 (or whatever is appropriate) UUIDs. The process writes each block to disk after the process verifies the block contains no duplicates.\r\n\r\nCreate another process to distribute the blocks of UUIDs. Maybe it is just an a web service that returns an unused block when it gets a request. The transaction server makes a request for a block and then consumes those UUIDs as it creates transactions. When the server has used most of its assigned UUIDs, it requests another block.","title":"UUID Generated randomly is having duplicates","body":"<p>Given time, I'm sure you'll find the culprit. In the meantime, there was a comment that I think deserves to be promoted to answer:</p>\n\n<p><em>You are generating pseudo random UUIDs at multiple locations. If you don't find other bugs, consider either generating all the pseudo random UUIDs at one location, or generate real random UUIDs</em></p>\n\n<p>So create a UUID server. It is just a process that churns out blocks of UUIDs. Each block consists maybe 10,000 (or whatever is appropriate) UUIDs. The process writes each block to disk after the process verifies the block contains no duplicates.</p>\n\n<p>Create another process to distribute the blocks of UUIDs. Maybe it is just an a web service that returns an unused block when it gets a request. The transaction server makes a request for a block and then consumes those UUIDs as it creates transactions. When the server has used most of its assigned UUIDs, it requests another block.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556291199,"creation_date":1556291199,"answer_id":55870350,"question_id":27971464,"body_markdown":"I wouldn&#39;t waste time wondering how `UUID.randomUUID()` is generating a few duplicate UUIDs per day. The odds of that happening by chance are infinitesimal. (Generating a whole series of duplicates *is* possible&amp;mdash;if the underlying RNG state is duplicated, but that doesn&#39;t seem to be the case.)\r\n\r\nInstead, look for places where a UUID stored by one server could be clobbering one stored by another. Why does this only happen between 2 servers out of 50? That has something to do with the details of your environment and system that haven&#39;t been shared.","title":"UUID Generated randomly is having duplicates","body":"<p>I wouldn't waste time wondering how <code>UUID.randomUUID()</code> is generating a few duplicate UUIDs per day. The odds of that happening by chance are infinitesimal. (Generating a whole series of duplicates <em>is</em> possible&mdash;if the underlying RNG state is duplicated, but that doesn't seem to be the case.)</p>\n\n<p>Instead, look for places where a UUID stored by one server could be clobbering one stored by another. Why does this only happen between 2 servers out of 50? That has something to do with the details of your environment and system that haven't been shared.</p>\n"},{"tags":[],"owner":{"account_id":1089051,"reputation":106,"user_id":1084106,"display_name":"rdChris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592006023,"creation_date":1592006023,"answer_id":62353984,"question_id":27971464,"body_markdown":"As stated above, the chances of a legit collision are impossibly small. A more likely possibly is if the values are ever transferred between objects in an improper way.\r\n\r\nFor languages like Java that behave as pass by reference, consider the following scenario\r\n\r\n    saveObject1.setUUID(initObj.getUUID())\r\n    initObj.setUUID(UUID.randomUUID());\r\n    saveObject2.setUUID(initObj.getUUID()) \r\n\r\nIn this case saveObject1 &amp; saveObject2 will have the same value, because they are both pointed to the same object reference (initObj&#39;s UUID reference). \r\n\r\nAn issue like this seems more likely than the actual UUIDs being a collision, esp if you can reproduce it. Naturally if it doesn&#39;t happen all the time it&#39;s probably something more complex, like a rare race condition where initObj doesn&#39;t get reinitialized in time, causing saveObject1 &amp; 2 to share the same object reference. ","title":"UUID Generated randomly is having duplicates","body":"<p>As stated above, the chances of a legit collision are impossibly small. A more likely possibly is if the values are ever transferred between objects in an improper way.</p>\n\n<p>For languages like Java that behave as pass by reference, consider the following scenario</p>\n\n<pre><code>saveObject1.setUUID(initObj.getUUID())\ninitObj.setUUID(UUID.randomUUID());\nsaveObject2.setUUID(initObj.getUUID()) \n</code></pre>\n\n<p>In this case saveObject1 &amp; saveObject2 will have the same value, because they are both pointed to the same object reference (initObj's UUID reference). </p>\n\n<p>An issue like this seems more likely than the actual UUIDs being a collision, esp if you can reproduce it. Naturally if it doesn't happen all the time it's probably something more complex, like a rare race condition where initObj doesn't get reinitialized in time, causing saveObject1 &amp; 2 to share the same object reference. </p>\n"},{"tags":[],"owner":{"account_id":9329897,"reputation":135,"user_id":6925975,"display_name":"Michael Codes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770411,"creation_date":1687770411,"answer_id":76555187,"question_id":27971464,"body_markdown":"Your database column length can limit you to experience duplicate UUID","title":"UUID Generated randomly is having duplicates","body":"<p>Your database column length can limit you to experience duplicate UUID</p>\n"}],"owner":{"account_id":2661960,"reputation":513,"user_id":2301410,"accept_rate":53,"display_name":"deepesh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10457,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1687770411,"creation_date":1421350143,"question_id":27971464,"body_markdown":"I&#39;m using the below function to generate UUID\r\n\r\n    UUID.randomUUID().toString()\r\n\r\nIn production we have 50+ servers (application server - each is a JVM on its own) and for requests that land in these servers, as a first step we generate a UUID which essentially uniquely identifies a transaction.\r\n\r\nWhat we are observing is that in Server 6 and Server 11, the UUIDs generated are matching at least for 10 to 15 messages per day which is strange because given the load i.e. about 1 million transactions a day, these UUIDs being duplicate within the same day is very odd.\r\n\r\nThis is what we have done so far\r\n\r\n1. Verified the application logs - we didn&#39;t find anything fishy in there, all logs are as normal\r\n2. Tried replicating this issue in the test environment with similar load in production and with 50+ servers - but this didn&#39;t happen in the test environment \r\n3. Checked the application logic - this doesn&#39;t seem to be an issue because all other 48 servers except 6 and 11 which have a copy of the same code base is working perfectly fine and they are generating unique UUIDs per transaction.\r\n\r\nSo far we haven&#39;t been able to trace the issue, my question is basically if there is something at JVM level we are missing or UUID parameter that we need to set for this one off kind of an issue?\r\n","title":"UUID Generated randomly is having duplicates","body":"<p>I'm using the below function to generate UUID</p>\n\n<pre><code>UUID.randomUUID().toString()\n</code></pre>\n\n<p>In production we have 50+ servers (application server - each is a JVM on its own) and for requests that land in these servers, as a first step we generate a UUID which essentially uniquely identifies a transaction.</p>\n\n<p>What we are observing is that in Server 6 and Server 11, the UUIDs generated are matching at least for 10 to 15 messages per day which is strange because given the load i.e. about 1 million transactions a day, these UUIDs being duplicate within the same day is very odd.</p>\n\n<p>This is what we have done so far</p>\n\n<ol>\n<li>Verified the application logs - we didn't find anything fishy in there, all logs are as normal</li>\n<li>Tried replicating this issue in the test environment with similar load in production and with 50+ servers - but this didn't happen in the test environment </li>\n<li>Checked the application logic - this doesn't seem to be an issue because all other 48 servers except 6 and 11 which have a copy of the same code base is working perfectly fine and they are generating unique UUIDs per transaction.</li>\n</ol>\n\n<p>So far we haven't been able to trace the issue, my question is basically if there is something at JVM level we are missing or UUID parameter that we need to set for this one off kind of an issue?</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1523364101,"post_id":49752350,"comment_id":86522449,"body_markdown":"`(wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))` == `false`. Unless &quot;XYZ&quot; is not actually &quot;XYZ&quot;.","body":"<code>(wrapper != null &amp;&amp; wrapper.length() &gt; 7         &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))</code> == <code>false</code>. Unless &quot;XYZ&quot; is not actually &quot;XYZ&quot;."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1523365572,"post_id":49752350,"comment_id":86523638,"body_markdown":"This will never be true `wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)`. Because you create a substring which will be six characters long (`wrapper.substring(0, 6)`). Therefore it can never be equal to `XYZ`.","body":"This will never be true <code>wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)</code>. Because you create a substring which will be six characters long (<code>wrapper.substring(0, 6)</code>). Therefore it can never be equal to <code>XYZ</code>."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":3,"creation_date":1523365694,"post_id":49752350,"comment_id":86523744,"body_markdown":"@SubOptimal that&#39;s exactly what I was thinking when I wrote the comment above. Still, it might be possible, as we don&#39;t know exactly what `WrapperClass` is. It might be that `WrapperClass.substring()` doesn&#39;t do what we think it does!","body":"@SubOptimal that&#39;s exactly what I was thinking when I wrote the comment above. Still, it might be possible, as we don&#39;t know exactly what <code>WrapperClass</code> is. It might be that <code>WrapperClass.substring()</code> doesn&#39;t do what we think it does!"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1523365843,"post_id":49752350,"comment_id":86523868,"body_markdown":"@DodgyCodeException Good point. Did not thought about it.","body":"@DodgyCodeException Good point. Did not thought about it."},{"owner":{"account_id":8018246,"reputation":761,"user_id":6172578,"accept_rate":25,"display_name":"smruti ranjan"},"score":0,"creation_date":1523416390,"post_id":49752350,"comment_id":86547257,"body_markdown":"@DodgyCodeException &quot;XYZ &quot; i had kept just not to show original values.. plz ignore those things","body":"@DodgyCodeException &quot;XYZ &quot; i had kept just not to show original values.. plz ignore those things"}],"answers":[{"tags":[],"owner":{"account_id":10343431,"reputation":635,"user_id":7629084,"display_name":"HBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523360974,"creation_date":1523360974,"answer_id":49752879,"question_id":49752350,"body_markdown":"First of all, Sonar should give you more flags: reusing the `wrapper` parameter is usually a bad practice, NPE where invoking `wrapper.getKey` because `wrapper` can be null, but anyway, not the point...\r\n\r\nTry reducing the number of `if` statements by creating local boolean variables (or possibly 1 big `if` statement if you have less than 5 or 6 tests, but often less readable). Once it&#39;s done, you should only have 1 block testing these boolean variables, and have one return statement, like the example above (not necessarily accurate!): \r\n\r\n    boolean expired = tokenExpiryTime != null;\r\n\tboolean desiredAlgo = DESIRED_ALGO.equals(key.getAlgorithm());\r\n\tboolean desiredType = DESIRED_TYPE.equals(value6);\r\n\tif (expired || !desiredAlgo || !desiredType) {\r\n\t\treturn isValidWrapper;\r\n\t}\r\n\r\nHowever, your Cognitive complexity level seems pretty low if this kind of algorithm triggers it...\r\n\r\nAnother big way to reduce an algorithm complexity is to turn sub-blocks of code (loops, if and try-catch) into private methods. In your example, it could be something like a `checkWrapperValidity` method, responsible for every test returning `isValidWrapper`","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>First of all, Sonar should give you more flags: reusing the <code>wrapper</code> parameter is usually a bad practice, NPE where invoking <code>wrapper.getKey</code> because <code>wrapper</code> can be null, but anyway, not the point...</p>\n\n<p>Try reducing the number of <code>if</code> statements by creating local boolean variables (or possibly 1 big <code>if</code> statement if you have less than 5 or 6 tests, but often less readable). Once it's done, you should only have 1 block testing these boolean variables, and have one return statement, like the example above (not necessarily accurate!): </p>\n\n<pre><code>boolean expired = tokenExpiryTime != null;\nboolean desiredAlgo = DESIRED_ALGO.equals(key.getAlgorithm());\nboolean desiredType = DESIRED_TYPE.equals(value6);\nif (expired || !desiredAlgo || !desiredType) {\n    return isValidWrapper;\n}\n</code></pre>\n\n<p>However, your Cognitive complexity level seems pretty low if this kind of algorithm triggers it...</p>\n\n<p>Another big way to reduce an algorithm complexity is to turn sub-blocks of code (loops, if and try-catch) into private methods. In your example, it could be something like a <code>checkWrapperValidity</code> method, responsible for every test returning <code>isValidWrapper</code></p>\n"},{"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":1,"creation_date":1523366099,"post_id":49753396,"comment_id":86524026,"body_markdown":"It&#39;s not *entirely* equivalent (but probably ok as it is). The original will throw an exception if any of the methods called after `key = wrapper.getKey();` throw an exception. Your code will return normally.","body":"It&#39;s not <i>entirely</i> equivalent (but probably ok as it is). The original will throw an exception if any of the methods called after <code>key = wrapper.getKey();</code> throw an exception. Your code will return normally."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1523366967,"post_id":49753396,"comment_id":86524746,"body_markdown":"@DodgyCodeException you are right; should have added a remark. There being almost only getters and the weird isValidWrapper usage led my attention astray.","body":"@DodgyCodeException you are right; should have added a remark. There being almost only getters and the weird isValidWrapper usage led my attention astray."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1523367110,"creation_date":1523362484,"answer_id":49753396,"question_id":49752350,"body_markdown":"A bit of rewriting delivered a simplification, that still could be improved upon.\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\r\n            &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))\r\n        {\r\n            wrapper = wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;)+1);\r\n        }\r\n    \tboolean isValidWrapper = wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\r\n    \r\n        try {\r\n            String key = wrapper.getKey();\r\n    \t\tif (key != null &amp;&amp; key.getExpiresAt() == null\r\n    \t\t\t\t&amp;&amp; DESIRED_ALGO.equals(key.getAlgorithm())\r\n    \t\t\t\t&amp;&amp; DESIRED_TYPE.equals(key.getType())\r\n    \t\t\t\t&amp;&amp; key.getValue1() != null &amp;&amp; !key.getValue2().isEmpty()\r\n                    &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\r\n                    &amp;&amp; key.getValue5() != null) {\r\n    \t\t\tisValidWrapper = true;\r\n    \t\t}\r\n        }\r\n        catch (Exception exception) {\r\n            // DO NOTHING\r\n        }\r\n        return isValidWrapper;\r\n    }\r\n\r\n_After comment: here I catch any exception for all calls._","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>A bit of rewriting delivered a simplification, that still could be improved upon.</p>\n\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(\"XYZ\"))\n    {\n        wrapper = wrapper.substring(7, wrapper.lastIndexOf('.')+1);\n    }\n    boolean isValidWrapper = wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(\"TFR\");\n\n    try {\n        String key = wrapper.getKey();\n        if (key != null &amp;&amp; key.getExpiresAt() == null\n                &amp;&amp; DESIRED_ALGO.equals(key.getAlgorithm())\n                &amp;&amp; DESIRED_TYPE.equals(key.getType())\n                &amp;&amp; key.getValue1() != null &amp;&amp; !key.getValue2().isEmpty()\n                &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\n                &amp;&amp; key.getValue5() != null) {\n            isValidWrapper = true;\n        }\n    }\n    catch (Exception exception) {\n        // DO NOTHING\n    }\n    return isValidWrapper;\n}\n</code></pre>\n\n<p><em>After comment: here I catch any exception for all calls.</em></p>\n"},{"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1523395033,"post_id":49762756,"comment_id":86541530,"body_markdown":"Good point about the single responsibility principle. But note it doesn&#39;t just apply to methods, but to classes too. It seems like `WrapperClass` is some kind of monstrous cross between a `String` and a `Map`. But then maybe the OP has no access to that class and can&#39;t change it.","body":"Good point about the single responsibility principle. But note it doesn&#39;t just apply to methods, but to classes too. It seems like <code>WrapperClass</code> is some kind of monstrous cross between a <code>String</code> and a <code>Map</code>. But then maybe the OP has no access to that class and can&#39;t change it."},{"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"score":2,"creation_date":1523395384,"post_id":49762756,"comment_id":86541691,"body_markdown":"Yes, I agree. My code is only an example for &quot;how to start&quot;. It is hard to refactor something, when you don&#39;t know the domain and even the example code does not compile (it has been censored :P - `String` class does not have `getExpiresAt` method).","body":"Yes, I agree. My code is only an example for &quot;how to start&quot;. It is hard to refactor something, when you don&#39;t know the domain and even the example code does not compile (it has been censored :P - <code>String</code> class does not have <code>getExpiresAt</code> method)."},{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":0,"creation_date":1523395691,"post_id":49762756,"comment_id":86541813,"body_markdown":"Good catch! Maybe the OP&#39;s `String` is not `java.lang.String` but his own class with an `import my.package.String;` statement.","body":"Good catch! Maybe the OP&#39;s <code>String</code> is not <code>java.lang.String</code> but his own class with an <code>import my.package.String;</code> statement."},{"owner":{"account_id":8018246,"reputation":761,"user_id":6172578,"accept_rate":25,"display_name":"smruti ranjan"},"score":0,"creation_date":1523417271,"post_id":49762756,"comment_id":86547469,"body_markdown":"@agabrys Thanks.. That was a really nice approach.. Once i get chance I will run sonar qube on this code and check if the issue is gone","body":"@agabrys Thanks.. That was a really nice approach.. Once i get chance I will run sonar qube on this code and check if the issue is gone"}],"tags":[],"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1595940945,"creation_date":1523393922,"answer_id":49762756,"question_id":49752350,"body_markdown":"I don&#39;t think that merging many `if` conditions to one or simply do a code clean up, for example by changing the order of some instructions, can solve your problem.\r\n\r\nYour code does not match the [single responsibility principle](https://en.wikipedia.org/wiki/Single_responsibility_principle). You should refactor this big method to smaller parts. Due to this it will testable, easier to maintain and read. I spent some time and did this:\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken) {\r\n\r\n        final WrapperClass unpackedWrapper = unpackWrapper(wrapper);\r\n        boolean wrapperValid = isUnpackedWrapperValid(unpackedWrapper);\r\n\r\n        Key key = null;\r\n        try {\r\n            key = unpackedWrapper.getKey();\r\n        } catch (final Exception exception) {\r\n            return wrapperValid;\r\n        }\r\n\r\n        if (key != null) {   \r\n            if (doesKeyMeetsBasicConditions(key)) {\r\n                return wrapperValid;\r\n            }\r\n            if (doesKeyMeetsValueConditions(key)) {\r\n                return true;\r\n            }\r\n        }\r\n        return wrapperValid;\r\n    }\r\n    \r\n    protected static WrapperClass unpackWrapper(final WrapperClass wrapper) {      \r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7 &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)) {\r\n            return wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;) + 1);\r\n        }\r\n        return wrapper;\r\n    }\r\n    \r\n    protected static boolean isUnpackedWrapperValid(final WrapperClass wrapper) {\r\n       return wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\r\n    }\r\n    \r\n    protected static boolean doesKeyMeetsBasicConditions(final Key key) {\r\n        Date tokenExpiryTime = key.getExpiresAt();\r\n        if (tokenExpiryTime != null) {\r\n            return true;\r\n        }\r\n        \r\n        String algorithm = key.getAlgorithm();\r\n        if (!DESIRED_ALGO.equals(algorithm)) {\r\n            return true;\r\n        }\r\n        \r\n        String value6 = key.getType();\r\n        return !DESIRED_TYPE.equals(value6);\r\n    }\r\n    \r\n    protected static boolean doesKeyMeetsValueConditions(final Key key) {\r\n        return key.getValue1() != null &amp;&amp; key.getValue2().size() &gt; 0\r\n               &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\r\n               &amp;&amp; key.getValue5() != null;\r\n    }\r\n\r\nI don&#39;t know the domain logic, so some of my methods have stupid names etc. As you can see, now you have a lot of smaller methods with not many branches (`if` conditions) - easier to test (a static code is not nice, but you can mock it by using for example [PowerMock](http://www.powermock.org/)).","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>I don't think that merging many <code>if</code> conditions to one or simply do a code clean up, for example by changing the order of some instructions, can solve your problem.</p>\n<p>Your code does not match the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">single responsibility principle</a>. You should refactor this big method to smaller parts. Due to this it will testable, easier to maintain and read. I spent some time and did this:</p>\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken) {\n\n    final WrapperClass unpackedWrapper = unpackWrapper(wrapper);\n    boolean wrapperValid = isUnpackedWrapperValid(unpackedWrapper);\n\n    Key key = null;\n    try {\n        key = unpackedWrapper.getKey();\n    } catch (final Exception exception) {\n        return wrapperValid;\n    }\n\n    if (key != null) {   \n        if (doesKeyMeetsBasicConditions(key)) {\n            return wrapperValid;\n        }\n        if (doesKeyMeetsValueConditions(key)) {\n            return true;\n        }\n    }\n    return wrapperValid;\n}\n\nprotected static WrapperClass unpackWrapper(final WrapperClass wrapper) {      \n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7 &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;)) {\n        return wrapper.substring(7, wrapper.lastIndexOf('.') + 1);\n    }\n    return wrapper;\n}\n\nprotected static boolean isUnpackedWrapperValid(final WrapperClass wrapper) {\n   return wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;);\n}\n\nprotected static boolean doesKeyMeetsBasicConditions(final Key key) {\n    Date tokenExpiryTime = key.getExpiresAt();\n    if (tokenExpiryTime != null) {\n        return true;\n    }\n    \n    String algorithm = key.getAlgorithm();\n    if (!DESIRED_ALGO.equals(algorithm)) {\n        return true;\n    }\n    \n    String value6 = key.getType();\n    return !DESIRED_TYPE.equals(value6);\n}\n\nprotected static boolean doesKeyMeetsValueConditions(final Key key) {\n    return key.getValue1() != null &amp;&amp; key.getValue2().size() &gt; 0\n           &amp;&amp; key.getValue3() != null &amp;&amp; key.getValue4() != null\n           &amp;&amp; key.getValue5() != null;\n}\n</code></pre>\n<p>I don't know the domain logic, so some of my methods have stupid names etc. As you can see, now you have a lot of smaller methods with not many branches (<code>if</code> conditions) - easier to test (a static code is not nice, but you can mock it by using for example <a href=\"http://www.powermock.org/\" rel=\"noreferrer\">PowerMock</a>).</p>\n"},{"tags":[],"owner":{"account_id":20950749,"reputation":11,"user_id":15392479,"display_name":"SOUMYA RANJAN SIA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687770389,"creation_date":1687770389,"answer_id":76555184,"question_id":49752350,"body_markdown":"Please add below line on the top of your specific file in react,\r\n\r\n&gt; /* eslint-disable sonarjs/cognitive-complexity */\r\n\r\n*i have developed react app using eslint, so according to your build platform you can change","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>Please add below line on the top of your specific file in react,</p>\n<blockquote>\n<p>/* eslint-disable sonarjs/cognitive-complexity */</p>\n</blockquote>\n<p>*i have developed react app using eslint, so according to your build platform you can change</p>\n"}],"owner":{"account_id":8018246,"reputation":761,"user_id":6172578,"accept_rate":25,"display_name":"smruti ranjan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110934,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1687770389,"creation_date":1523359295,"question_id":49752350,"body_markdown":"I have the below utility method and I am using multiple if statements and getting cognitive complexity issue. I went through some links, but I am not able to understand how should I change my code without affecting users of this method.\r\n\r\n    public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\r\n        \r\n        String key=null;\r\n        boolean isValidWrapper = false;\r\n        \r\n        if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\r\n            &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(&quot;XYZ&quot;))\r\n        {\r\n            wrapper= wrapper.substring(7, wrapper.lastIndexOf(&#39;.&#39;)+1);\r\n        }\r\n        if(wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(&quot;TFR&quot;)) {\r\n            isValidWrapper=Boolean.TRUE;\r\n        }\r\n        try {\r\n             key = wrapper.getKey();\r\n        }\r\n        catch (Exception exception) {\r\n            return isValidWrapper;\r\n        }\r\n        \r\n        if(key!=null) {\r\n            \r\n            Date tokenExpiryTime = key.getExpiresAt();\r\n     \r\n            if(tokenExpiryTime!=null) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            String algorithm=key.getAlgorithm();\r\n            if(!DESIRED_ALGO.equals(algorithm)) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            String value6=key.getType();\r\n            if(!DESIRED_TYPE.equals(value6)) {\r\n                return isValidWrapper;\r\n            }\r\n            \r\n            \r\n            if(key.getValue1()!=null &amp;&amp; key.getValue2().size()&gt;0 &amp;&amp; key.getValue3()!=null &amp;&amp; key.getValue4()!=null &amp;&amp; key.getValue5()!=null) {\r\n                isValidWrapper=Boolean.TRUE;\r\n            }\r\n        }\r\n        \r\n        return isValidWrapper;\r\n    }\r\n\r\n\r\nPlease share your suggestions to refactor this code.\r\n\r\n\r\n ","title":"SonarQube Refactor this method to reduce its Cognitive Complexity","body":"<p>I have the below utility method and I am using multiple if statements and getting cognitive complexity issue. I went through some links, but I am not able to understand how should I change my code without affecting users of this method.</p>\n\n<pre><code>public static boolean isWrapperValid(WrapperClass wrapper, boolean isTechnicalToken){\n\n    String key=null;\n    boolean isValidWrapper = false;\n\n    if (wrapper != null &amp;&amp; wrapper.length() &gt; 7\n        &amp;&amp; wrapper.substring(0, 6).equalsIgnoreCase(\"XYZ\"))\n    {\n        wrapper= wrapper.substring(7, wrapper.lastIndexOf('.')+1);\n    }\n    if(wrapper != null &amp;&amp; wrapper.equalsIgnoreCase(\"TFR\")) {\n        isValidWrapper=Boolean.TRUE;\n    }\n    try {\n         key = wrapper.getKey();\n    }\n    catch (Exception exception) {\n        return isValidWrapper;\n    }\n\n    if(key!=null) {\n\n        Date tokenExpiryTime = key.getExpiresAt();\n\n        if(tokenExpiryTime!=null) {\n            return isValidWrapper;\n        }\n\n        String algorithm=key.getAlgorithm();\n        if(!DESIRED_ALGO.equals(algorithm)) {\n            return isValidWrapper;\n        }\n\n        String value6=key.getType();\n        if(!DESIRED_TYPE.equals(value6)) {\n            return isValidWrapper;\n        }\n\n\n        if(key.getValue1()!=null &amp;&amp; key.getValue2().size()&gt;0 &amp;&amp; key.getValue3()!=null &amp;&amp; key.getValue4()!=null &amp;&amp; key.getValue5()!=null) {\n            isValidWrapper=Boolean.TRUE;\n        }\n    }\n\n    return isValidWrapper;\n}\n</code></pre>\n\n<p>Please share your suggestions to refactor this code.</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":5426896,"reputation":58756,"user_id":4318868,"display_name":"Slava Vedenin"},"score":4,"creation_date":1450367301,"post_id":34338635,"comment_id":56418612,"body_markdown":"What you already try to do? Can you show your code?","body":"What you already try to do? Can you show your code?"},{"owner":{"account_id":7427415,"reputation":1113,"user_id":5649485,"display_name":"LordAnomander"},"score":1,"creation_date":1450367388,"post_id":34338635,"comment_id":56418671,"body_markdown":"A few hints: use `indexOf(&quot;-&quot;)` and then check in both directions how many letters there are until a non-alphabetical letter appears. Then you know which characters are relevent for building the two Strings.","body":"A few hints: use <code>indexOf(&quot;-&quot;)</code> and then check in both directions how many letters there are until a non-alphabetical letter appears. Then you know which characters are relevent for building the two Strings."}],"answers":[{"tags":[],"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450367838,"creation_date":1450367838,"answer_id":34338890,"question_id":34338635,"body_markdown":"Consider this approach using a regex:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tPattern p = Pattern.compile(&quot;(\\\\w{3})-(\\\\w{3})&quot;);\r\n\t\tMatcher m = p.matcher(&quot;AB (CDE)_FGH IJK/LMN-OPQ (RST&quot;);\r\n\t\tif(m.find()) {\r\n\t\t\tSystem.out.println(&quot;1: &quot; + m.group(1));\r\n\t\t\tSystem.out.println(&quot;2: &quot; + m.group(2));\r\n\t\t}\r\n    }\r\n\r\nproduces\r\n\r\n    1: LMN\r\n    2: OPQ\r\n\r\nIf your &quot;words&quot; were more then 3 characters long, you might want to change the {3} into + for anything &gt;= 1","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Consider this approach using a regex:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Pattern p = Pattern.compile(\"(\\\\w{3})-(\\\\w{3})\");\n    Matcher m = p.matcher(\"AB (CDE)_FGH IJK/LMN-OPQ (RST\");\n    if(m.find()) {\n        System.out.println(\"1: \" + m.group(1));\n        System.out.println(\"2: \" + m.group(2));\n    }\n}\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>1: LMN\n2: OPQ\n</code></pre>\n\n<p>If your \"words\" were more then 3 characters long, you might want to change the {3} into + for anything >= 1</p>\n"},{"comments":[{"owner":{"account_id":6771985,"reputation":11,"user_id":5215095,"display_name":"newbieCoder"},"score":0,"creation_date":1450381042,"post_id":34338900,"comment_id":56427100,"body_markdown":"Whoa thanks bro :D it works like a charm just what i was looking for :)","body":"Whoa thanks bro :D it works like a charm just what i was looking for :)"}],"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1450367861,"creation_date":1450367861,"answer_id":34338900,"question_id":34338635,"body_markdown":"So basically you to first split by ``-`` and then each side by a non-word character.\r\n\r\nTherefore you can try:\r\n\r\n    String s = &quot;ABC_DEF-HIJ (KL MNOP_QRS)&quot;;\r\n    String[] splits = s.split(&quot;-&quot;);  // {&quot;ABC_DEF&quot;, &quot;HIJ (KL MNOP_QRS)&quot;}\r\n\r\n    String[] lefts = split[0].split(&quot;[^a-zA-Z]&quot;);  // {&quot;ABC&quot;, &quot;DEF&quot;}\r\n    String[] rights = split[1].split(&quot;[^a-zA-Z]&quot;); // {&quot;HIJ&quot;, &quot;&quot;, &quot;KL&quot;, &quot;MNOP&quot;, &quot;QRS&quot;}\r\n\r\n    String string1 = lefts[lefts.length - 1]; // &quot;DEF&quot;&quot;\r\n    String string2 = rights[0];               // &quot;HIJ&quot;\r\n\r\n\r\n    ","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>So basically you to first split by <code>-</code> and then each side by a non-word character.</p>\n\n<p>Therefore you can try:</p>\n\n<pre><code>String s = \"ABC_DEF-HIJ (KL MNOP_QRS)\";\nString[] splits = s.split(\"-\");  // {\"ABC_DEF\", \"HIJ (KL MNOP_QRS)\"}\n\nString[] lefts = split[0].split(\"[^a-zA-Z]\");  // {\"ABC\", \"DEF\"}\nString[] rights = split[1].split(\"[^a-zA-Z]\"); // {\"HIJ\", \"\", \"KL\", \"MNOP\", \"QRS\"}\n\nString string1 = lefts[lefts.length - 1]; // \"DEF\"\"\nString string2 = rights[0];               // \"HIJ\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450367870,"creation_date":1450367870,"answer_id":34338905,"question_id":34338635,"body_markdown":"Try this:\r\n\r\n    String[] parts = yourString.split(&quot;-&quot;);\r\n    //You can then access each part with: parts[index]\r\n","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Try this:</p>\n\n<pre><code>String[] parts = yourString.split(\"-\");\n//You can then access each part with: parts[index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405233,"reputation":528,"user_id":2101901,"accept_rate":60,"display_name":"MartinCz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450368744,"creation_date":1450368381,"answer_id":34339102,"question_id":34338635,"body_markdown":"    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class StringExtractTest {\r\n\r\n        private static class ExtractResult {\r\n            private ExtractResult(String string1, String string2) {\r\n                this.string1 = string1;\r\n                this.string2 = string2;\r\n            }\r\n            private String string1;\r\n            private String string2;\r\n            public String getString1() {\r\n                return string1;\r\n            }\r\n            public String getString2() {\r\n                return string2;\r\n            }\r\n        }\r\n\r\n        public static ExtractResult extract(String input) {\r\n            Pattern p = Pattern.compile(&quot;([a-zA-Z]+)-([a-zA-Z]+)&quot;);\r\n            Matcher m = p.matcher(input);\r\n            if (m.find()) {\r\n                return new ExtractResult(m.group(1), m.group(2));\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            String inputs[] = {\r\n                    &quot;ABC_DEF-HIJ (KL MNOP_QRS)&quot;,\r\n                    &quot;AB (CDE)_FGH IJK/LMN-OPQ (RST&quot;\r\n            };\r\n            for (String input : inputs) {\r\n                ExtractResult result = extract(input);\r\n                if (result != null) {\r\n                    System.out.println(input + &quot; ... string1 = [&quot; + result.getString1() + &quot;] string2 = [&quot; + result.getString2() + &quot;]&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe output is:\r\n\r\n    ABC_DEF-HIJ (KL MNOP_QRS) ... string1 = [DEF] string2 = [HIJ]\r\n    AB (CDE)_FGH IJK/LMN-OPQ (RST ... string1 = [LMN] string2 = [OPQ]","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class StringExtractTest {\n\n    private static class ExtractResult {\n        private ExtractResult(String string1, String string2) {\n            this.string1 = string1;\n            this.string2 = string2;\n        }\n        private String string1;\n        private String string2;\n        public String getString1() {\n            return string1;\n        }\n        public String getString2() {\n            return string2;\n        }\n    }\n\n    public static ExtractResult extract(String input) {\n        Pattern p = Pattern.compile(\"([a-zA-Z]+)-([a-zA-Z]+)\");\n        Matcher m = p.matcher(input);\n        if (m.find()) {\n            return new ExtractResult(m.group(1), m.group(2));\n        } else {\n            return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        String inputs[] = {\n                \"ABC_DEF-HIJ (KL MNOP_QRS)\",\n                \"AB (CDE)_FGH IJK/LMN-OPQ (RST\"\n        };\n        for (String input : inputs) {\n            ExtractResult result = extract(input);\n            if (result != null) {\n                System.out.println(input + \" ... string1 = [\" + result.getString1() + \"] string2 = [\" + result.getString2() + \"]\");\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>ABC_DEF-HIJ (KL MNOP_QRS) ... string1 = [DEF] string2 = [HIJ]\nAB (CDE)_FGH IJK/LMN-OPQ (RST ... string1 = [LMN] string2 = [OPQ]\n</code></pre>\n"}],"owner":{"account_id":6771985,"reputation":11,"user_id":5215095,"display_name":"newbieCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"accepted_answer_id":34338900,"answer_count":4,"score":-5,"last_activity_date":1687770351,"creation_date":1450367185,"question_id":34338635,"body_markdown":"Hey I need help splitting a string. The thing is i only need the words between the &quot; - &quot; .\r\nfor example:\r\n \r\n\r\n    ABC_DEF-HIJ (KL MNOP_QRS)\r\n\r\nI need to store DEF in string1 and HIJ in string2\r\n\r\nsome other formats are\r\n\r\n    AB (CDE)_FGH IJK/LMN-OPQ (RST\r\n\r\nhere too string1 = LMN\r\n\r\nstring2 = OPQ\r\n\r\nI only need the words after and before the &quot; - &quot; \r\n","title":"Need the words between the &quot; - &quot; ONLY string splitting","body":"<p>Hey I need help splitting a string. The thing is i only need the words between the \" - \" .\nfor example:</p>\n\n<pre><code>ABC_DEF-HIJ (KL MNOP_QRS)\n</code></pre>\n\n<p>I need to store DEF in string1 and HIJ in string2</p>\n\n<p>some other formats are</p>\n\n<pre><code>AB (CDE)_FGH IJK/LMN-OPQ (RST\n</code></pre>\n\n<p>here too string1 = LMN</p>\n\n<p>string2 = OPQ</p>\n\n<p>I only need the words after and before the \" - \" </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1462308892,"post_id":37012265,"comment_id":61580551,"body_markdown":"This is an XY problem.  The proper way to get the host from a URL is not with a regular expression, but with `new URI(string).getHost()`.","body":"This is an XY problem.  The proper way to get the host from a URL is not with a regular expression, but with <code>new URI(string).getHost()</code>."}],"answers":[{"comments":[{"owner":{"account_id":1174306,"reputation":27305,"user_id":1150683,"accept_rate":96,"display_name":"Bram Vanroy"},"score":1,"creation_date":1462304329,"post_id":37012382,"comment_id":61577979,"body_markdown":"Might want to put an optional `s?` after `http` and make the trailing slash optional as well.","body":"Might want to put an optional <code>s?</code> after <code>http</code> and make the trailing slash optional as well."}],"tags":[],"owner":{"account_id":88542,"reputation":7203,"user_id":244811,"display_name":"Scott Weaver"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1462302202,"creation_date":1462302202,"answer_id":37012382,"question_id":37012265,"body_markdown":"[use the structure][1] of the URL to fashion very simple regular expression:   \r\n\r\n     http://(.*?)/\r\n\r\n\r\n  [1]: https://regex101.com/r/cH9uD1/1","title":"Regex to extract the ip address from URL","body":"<p><a href=\"https://regex101.com/r/cH9uD1/1\" rel=\"noreferrer\">use the structure</a> of the URL to fashion very simple regular expression:   </p>\n\n<pre><code> http://(.*?)/\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1174306,"reputation":27305,"user_id":1150683,"accept_rate":96,"display_name":"Bram Vanroy"},"score":0,"creation_date":1462304479,"post_id":37012435,"comment_id":61578077,"body_markdown":"Why would sweaver&#39;s answer be better I actually like yours more. RegEx&#39;s are resource-intensive. Often times, string operations such as split or substring are a better way to go - if you don&#39;t need the expressiveness of RegEx.","body":"Why would sweaver&#39;s answer be better I actually like yours more. RegEx&#39;s are resource-intensive. Often times, string operations such as split or substring are a better way to go - if you don&#39;t need the expressiveness of RegEx."},{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":0,"creation_date":1462304583,"post_id":37012435,"comment_id":61578155,"body_markdown":"@BramVanroy RegEx is resource intensive, yes, but for such a small issue, his is easier to read and the bottom line isn&#39;t noticeable to the end user. I think my solution helps moreso as you can see exactly what is happening, compared to using a RegEx, but I think in this case, RegEx actually is the better solution... It&#39;s an opinion, of course :)","body":"@BramVanroy RegEx is resource intensive, yes, but for such a small issue, his is easier to read and the bottom line isn&#39;t noticeable to the end user. I think my solution helps moreso as you can see exactly what is happening, compared to using a RegEx, but I think in this case, RegEx actually is the better solution... It&#39;s an opinion, of course :)"},{"owner":{"account_id":4095037,"reputation":301,"user_id":3362080,"accept_rate":33,"display_name":"user3362080"},"score":2,"creation_date":1462305612,"post_id":37012435,"comment_id":61578748,"body_markdown":"I finally used java.net.URL to extract the ip address https://docs.oracle.com/javase/7/docs/api/java/net/URL.html","body":"I finally used java.net.URL to extract the ip address <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/URL.html</a>"}],"tags":[],"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462302437,"creation_date":1462302437,"answer_id":37012435,"question_id":37012265,"body_markdown":"Just to show a different way to do this, (though sweaver2112&#39;s answer is much better)...\r\n\r\nYou know the format will be in the form of (http:)//(ipaddress)/(directory)/(directory)... You can split around the `/` and grab the 3 element in the array to get the IP...\r\n\r\n    String url = &quot;http://10.22.14.152/something/api&quot;;\r\n    String[] splitUp = url.split(&quot;/&quot;);\r\n    String ipAddress = splitUp[2];","title":"Regex to extract the ip address from URL","body":"<p>Just to show a different way to do this, (though sweaver2112's answer is much better)...</p>\n\n<p>You know the format will be in the form of (http:)//(ipaddress)/(directory)/(directory)... You can split around the <code>/</code> and grab the 3 element in the array to get the IP...</p>\n\n<pre><code>String url = \"http://10.22.14.152/something/api\";\nString[] splitUp = url.split(\"/\");\nString ipAddress = splitUp[2];\n</code></pre>\n"}],"owner":{"account_id":4095037,"reputation":301,"user_id":3362080,"accept_rate":33,"display_name":"user3362080"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3234,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":37012382,"answer_count":2,"score":2,"last_activity_date":1687769940,"creation_date":1462301782,"question_id":37012265,"body_markdown":"Can anyone guide me on writing regularexp that I would use in my java code for extracting just the ip from \r\n`http://10.22.14.152/something/api` \r\n\r\nexpected result: 10.22.14.152","title":"Regex to extract the ip address from URL","body":"<p>Can anyone guide me on writing regularexp that I would use in my java code for extracting just the ip from \n<code>http://10.22.14.152/something/api</code> </p>\n\n<p>expected result: 10.22.14.152</p>\n"},{"tags":["java","spring-boot","aws-msk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687778230,"post_id":76555114,"comment_id":134979421,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6531837,"reputation":1,"user_id":5052757,"display_name":"Sambhav Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687769854,"creation_date":1687769854,"question_id":76555114,"body_markdown":"I need to connect to MSK Cluster from ec2 but using plain java kafka client library and without sprintboot.\r\nI am getting multiple option using sprintboot but i am looking for a code in plain java without sprintboot.\r\n\r\nI tried https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer code and its working fine but i need in plain java without using Springboot.","title":"How to connect to MSK cluster using Plain Java Kafka Client without Springboot","body":"<p>I need to connect to MSK Cluster from ec2 but using plain java kafka client library and without sprintboot.\nI am getting multiple option using sprintboot but i am looking for a code in plain java without sprintboot.</p>\n<p>I tried <a href=\"https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer\" rel=\"nofollow noreferrer\">https://github.com/aws-samples/amazon-msk-java-app-cdk/tree/main/consumer</a> code and its working fine but i need in plain java without using Springboot.</p>\n"},{"tags":["java","spring-webflux","api-gateway","service-discovery","spring-boot-testcontainers"],"owner":{"account_id":28891824,"reputation":9,"user_id":22128811,"display_name":"Tomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687768931,"creation_date":1687768182,"question_id":76554898,"body_markdown":"I&#39;m building a system test platform with multiple services in Spring Boot 3 with Maven.\r\n\r\n- I&#39;m using reactive services. Junit, the Failsage plugin, and Testcontainers to run the tests\r\n\r\n- I run my tests in an API Gateway service module with @SpringBootTest and compile them in realtime the other modules and run the in Testcontainers:\r\n  (Discovery Service (Netflix Eureka)), Service A and Service B).\r\n\r\n- I need my tests to run on MacOS and Linux although MacOS is the big challenge.\r\n\r\n**My problem is how I configure my discovery clients so that both API Gateway and Service A would reach Service B while one is a @SpringBootTest running in the host machine and one is a container using feign but both getting the service&#39;s address from Discovery**\r\n[An Illustration of the situation](https://i.stack.imgur.com/uhX5m.png)\r\n\r\n\r\n\r\nThis is how I start my services:\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                          )).withExposedPorts(port)\r\n                .withExtraHost(&quot;host.docker.internal&quot;, &quot;host-gateway&quot;) // host.docker.internal also in Linux\r\n                .withAccessToHost(true)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // I have to force a static port binding because then the port registered in discovery would be wrong\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\nEntrypoint for service A and B: \r\n\r\n```\r\n&quot;java&quot;, &quot;-Dspring.profiles.active=some-profile-a, some-profile-b&quot;,\r\n&quot;-Dspring.data.mongodb.uri=mongodb://localhost:&quot; + MONGO_CONTAINER.getMappedPort(27017),\r\n&quot;-Deureka.client.serviceUrl.defaultZone=http://host.docker.internal:8761/eureka/&quot;,\r\n&quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\r\n```\r\n---\r\n**My different attempts:**\r\n\r\n**1.** I tried registering with the container&#39;s IP and the service port but then only the containers can reach each other but the Gateway can&#39;t reach them because in Mac docker runs in a Linux VM and not directly on the host machine.\r\n\r\nEureka config in each service:\r\n```\r\n@Configuration\r\npublic class EurekaConfig {\r\n\r\n    @NonNull\r\n    Environment environment;\r\n\r\n    @Bean\r\n    public EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) throws UnknownHostException {\r\n        EurekaInstanceConfigBean config = new EurekaInstanceConfigBean(inetUtils);\r\n        String ip = InetAddress.getLocalHost().getHostAddress();\r\n\r\n        String port = environment.getProperty(&quot;server.port&quot;);\r\n        config.setNonSecurePort(Integer.parseInt(port));\r\n        config.setIpAddress(ip);\r\n        config.setPreferIpAddress(false);\r\n\r\n        return config;\r\n    }\r\n}\r\n\r\n```\r\nproperties yaml in each service:\r\n```\r\neureka:\r\n  client:\r\n    should-unregister-on-shutdown: true\r\n    register-with-eureka: true\r\n  instance:\r\n    prefer-ip-address: true\r\n    lease-renewal-interval-in-seconds: 30\r\n```\r\n---\r\n**2.** I tried running all containers in network mode host to run on the docker host (which means the port binding does not take effect), but then we had the same problem as (1). The Gateway can&#39;t reach the docker host as it is running in a VM.\r\n\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamiclly get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                          )).withExposedPorts(port) // does not take effect\r\n                .withNetworkMode(&quot;host&quot;)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // does not take effect\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\n---\r\n**3.** I tried registering as localhost with the service port and adding another localhost to /etc/hosts to each container so it will redirect to the IP of host.docker.internal (the host machine localhost). Then the gateway would reach all services but service A couldn&#39;t reach Service B through feign.\r\n\r\nmy service yaml:\r\n```\r\neureka:\r\n  client:\r\n    should-unregister-on-shutdown: true\r\n    register-with-eureka: true\r\n  instance:\r\n    prefer-ip-address: false\r\n    lease-renewal-interval-in-seconds: 30\r\n    hostname: localhost\r\n    instance-id: localhost:${server.port}\r\n```\r\n---\r\n**4.** I tried registering as localhost with the service port but put all services in the same network and gave it an alias: &quot;localhost&quot;. Then the gateway would reach all services but service A couldn&#39;t reach Service B through Feign because we can&#39;t overwrite localhost and if we try different alias the gateway wouldn&#39;t be able to reach the services.\r\n```\r\n{\r\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\r\n        return new GenericContainer&lt;&gt;(\r\n                new ImageFromDockerfile()\r\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\r\n                        .withDockerfileFromBuilder(builder -&gt; builder\r\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\r\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\r\n                                .run(&quot;sh -c &#39;touch app.jar&#39;&quot;)\r\n                                .entryPoint(entryPoint)\r\n                        ))\r\n                .withNetwork(network)\r\n                .withNetworkAliases(&quot;localhost&quot;) // or other alias\r\n                .withExposedPorts(port)\r\n                .withCreateContainerCmdModifier(cmd -&gt; cmd\r\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\r\n                );\r\n}\r\n```\r\n\r\n---\r\n\r\n**5.** I tried registering the services with host: host.docker.internal. Then all services managed to reach each other but for the gateway I had to add to my computer&#39;s hosts file host.docker.internal that points to the IP equivalent to localhost.\r\n\r\n**Compromises**\r\n1. I can do approach 5 by adding the host to each machine running my tests\r\n2. Give up on @SpringBootTest and run API-Gateway also in Testcontainers and configure all services in a single network but then we lose all Spring-Test functionalities like debugging and mocking etc.\r\n\r\n\r\n","title":"How to configure Testcontainers to work with a discovery service to work both for API Gateway and Feign","body":"<p>I'm building a system test platform with multiple services in Spring Boot 3 with Maven.</p>\n<ul>\n<li><p>I'm using reactive services. Junit, the Failsage plugin, and Testcontainers to run the tests</p>\n</li>\n<li><p>I run my tests in an API Gateway service module with @SpringBootTest and compile them in realtime the other modules and run the in Testcontainers:\n(Discovery Service (Netflix Eureka)), Service A and Service B).</p>\n</li>\n<li><p>I need my tests to run on MacOS and Linux although MacOS is the big challenge.</p>\n</li>\n</ul>\n<p><strong>My problem is how I configure my discovery clients so that both API Gateway and Service A would reach Service B while one is a @SpringBootTest running in the host machine and one is a container using feign but both getting the service's address from Discovery</strong>\n<a href=\"https://i.stack.imgur.com/uhX5m.png\" rel=\"nofollow noreferrer\">An Illustration of the situation</a></p>\n<p>This is how I start my services:</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                          )).withExposedPorts(port)\n                .withExtraHost(&quot;host.docker.internal&quot;, &quot;host-gateway&quot;) // host.docker.internal also in Linux\n                .withAccessToHost(true)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // I have to force a static port binding because then the port registered in discovery would be wrong\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<p>Entrypoint for service A and B:</p>\n<pre><code>&quot;java&quot;, &quot;-Dspring.profiles.active=some-profile-a, some-profile-b&quot;,\n&quot;-Dspring.data.mongodb.uri=mongodb://localhost:&quot; + MONGO_CONTAINER.getMappedPort(27017),\n&quot;-Deureka.client.serviceUrl.defaultZone=http://host.docker.internal:8761/eureka/&quot;,\n&quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;app.jar&quot;\n</code></pre>\n<hr />\n<p><strong>My different attempts:</strong></p>\n<p><strong>1.</strong> I tried registering with the container's IP and the service port but then only the containers can reach each other but the Gateway can't reach them because in Mac docker runs in a Linux VM and not directly on the host machine.</p>\n<p>Eureka config in each service:</p>\n<pre><code>@Configuration\npublic class EurekaConfig {\n\n    @NonNull\n    Environment environment;\n\n    @Bean\n    public EurekaInstanceConfigBean eurekaInstanceConfig(InetUtils inetUtils) throws UnknownHostException {\n        EurekaInstanceConfigBean config = new EurekaInstanceConfigBean(inetUtils);\n        String ip = InetAddress.getLocalHost().getHostAddress();\n\n        String port = environment.getProperty(&quot;server.port&quot;);\n        config.setNonSecurePort(Integer.parseInt(port));\n        config.setIpAddress(ip);\n        config.setPreferIpAddress(false);\n\n        return config;\n    }\n}\n\n</code></pre>\n<p>properties yaml in each service:</p>\n<pre><code>eureka:\n  client:\n    should-unregister-on-shutdown: true\n    register-with-eureka: true\n  instance:\n    prefer-ip-address: true\n    lease-renewal-interval-in-seconds: 30\n</code></pre>\n<hr />\n<p><strong>2.</strong> I tried running all containers in network mode host to run on the docker host (which means the port binding does not take effect), but then we had the same problem as (1). The Gateway can't reach the docker host as it is running in a VM.</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamiclly get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                          )).withExposedPorts(port) // does not take effect\n                .withNetworkMode(&quot;host&quot;)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd // does not take effect\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<hr />\n<p><strong>3.</strong> I tried registering as localhost with the service port and adding another localhost to /etc/hosts to each container so it will redirect to the IP of host.docker.internal (the host machine localhost). Then the gateway would reach all services but service A couldn't reach Service B through feign.</p>\n<p>my service yaml:</p>\n<pre><code>eureka:\n  client:\n    should-unregister-on-shutdown: true\n    register-with-eureka: true\n  instance:\n    prefer-ip-address: false\n    lease-renewal-interval-in-seconds: 30\n    hostname: localhost\n    instance-id: localhost:${server.port}\n</code></pre>\n<hr />\n<p><strong>4.</strong> I tried registering as localhost with the service port but put all services in the same network and gave it an alias: &quot;localhost&quot;. Then the gateway would reach all services but service A couldn't reach Service B through Feign because we can't overwrite localhost and if we try different alias the gateway wouldn't be able to reach the services.</p>\n<pre><code>{\n    private static GenericContainer initializeServiceContainer(String service, int port, String... entryPoint) {\n        return new GenericContainer&lt;&gt;(\n                new ImageFromDockerfile()\n                        .withFileFromPath(&quot;.&quot;, Path.of(&quot;../&quot; + service + &quot;/target&quot;)))\n                        .withDockerfileFromBuilder(builder -&gt; builder\n                                .from(&quot;amazoncorretto:17-al2023-jdk&quot;)\n                                .add(jarFileMap.get(service), &quot;app.jar&quot;) // I dynamically get the service jar\n                                .run(&quot;sh -c 'touch app.jar'&quot;)\n                                .entryPoint(entryPoint)\n                        ))\n                .withNetwork(network)\n                .withNetworkAliases(&quot;localhost&quot;) // or other alias\n                .withExposedPorts(port)\n                .withCreateContainerCmdModifier(cmd -&gt; cmd\n                        .withPortBindings(new PortBinding(Ports.Binding.bindPort(port), new ExposedPort(port)))\n                );\n}\n</code></pre>\n<hr />\n<p><strong>5.</strong> I tried registering the services with host: host.docker.internal. Then all services managed to reach each other but for the gateway I had to add to my computer's hosts file host.docker.internal that points to the IP equivalent to localhost.</p>\n<p><strong>Compromises</strong></p>\n<ol>\n<li>I can do approach 5 by adding the host to each machine running my tests</li>\n<li>Give up on @SpringBootTest and run API-Gateway also in Testcontainers and configure all services in a single network but then we lose all Spring-Test functionalities like debugging and mocking etc.</li>\n</ol>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1687353249,"post_id":76523620,"comment_id":134924720,"body_markdown":"Does this answer your question? [POST request via RestTemplate in JSON](https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4075991/post-request-via-resttemplate-in-json\">POST request via RestTemplate in JSON</a>"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1687364402,"post_id":76523620,"comment_id":134927637,"body_markdown":"@M.Rizzo : Im still getting error of invalid payload . please see update 1 . Thanks","body":"@M.Rizzo : Im still getting error of invalid payload . please see update 1 . Thanks"},{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":1,"creation_date":1687438674,"post_id":76523620,"comment_id":134939087,"body_markdown":"I think your problem may be that the request structure expected by the backend service is an actual json string not a plain string.  Can you give more details on what the back end is expecting for a request?  You might need to create a JSONObject and then output the string.","body":"I think your problem may be that the request structure expected by the backend service is an actual json string not a plain string.  Can you give more details on what the back end is expecting for a request?  You might need to create a JSONObject and then output the string."}],"answers":[{"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1687768852,"post_id":76526158,"comment_id":134977576,"body_markdown":"RestTemplate does **not**  support `GET` with `RequestBody`!","body":"RestTemplate does <b>not</b>  support <code>GET</code> with <code>RequestBody</code>!"}],"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687372008,"creation_date":1687372008,"answer_id":76526158,"question_id":76523620,"body_markdown":"had same issue. In my case problem was @RequestBody. It seems that it don&#39;t need @RequestBody when your are accepting simple String as body as you did in your example.\r\n\r\nString body = &quot;Hello World 3&quot;;\r\n\r\n\r\n       @GetMapping\r\n        public String getData(String value) throws Exception {\r\n            return &quot;test response&quot;;\r\n        }","title":"How to set the body in POST call using rest Template","body":"<p>had same issue. In my case problem was @RequestBody. It seems that it don't need @RequestBody when your are accepting simple String as body as you did in your example.</p>\n<p>String body = &quot;Hello World 3&quot;;</p>\n<pre><code>   @GetMapping\n    public String getData(String value) throws Exception {\n        return &quot;test response&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768798,"creation_date":1687768798,"answer_id":76554971,"question_id":76523620,"body_markdown":"You are using `GET` instead of `POST`, Use `HttpMethod.POST` instead of `HttpMethod.GET`.\r\nAnd as per your payload, the message clearly says `400 Bad Request`,\r\ncan even see in the message:\r\n```\r\n&quot;message&quot;:&quot;Unable to read JSON request payload. Please ensure Content-Type header is set and payload is of valid JSON format.&quot;\r\n```\r\n this  should ring the bell.\r\n\r\nYou are sending a plain text as your payload which is not accepted by your calling API.\r\nChange it into proper JSON format. Something like:\r\n```JSON\r\n{\r\n    &quot;field1&quot;: &quot;value1&quot;,\r\n    &quot;field2&quot;: &quot;value2&quot;\r\n}\r\n```\r\n\r\n","title":"How to set the body in POST call using rest Template","body":"<p>You are using <code>GET</code> instead of <code>POST</code>, Use <code>HttpMethod.POST</code> instead of <code>HttpMethod.GET</code>.\nAnd as per your payload, the message clearly says <code>400 Bad Request</code>,\ncan even see in the message:</p>\n<pre><code>&quot;message&quot;:&quot;Unable to read JSON request payload. Please ensure Content-Type header is set and payload is of valid JSON format.&quot;\n</code></pre>\n<p>this  should ring the bell.</p>\n<p>You are sending a plain text as your payload which is not accepted by your calling API.\nChange it into proper JSON format. Something like:</p>\n<pre><code>{\n    &quot;field1&quot;: &quot;value1&quot;,\n    &quot;field2&quot;: &quot;value2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687768798,"creation_date":1687352747,"question_id":76523620,"body_markdown":"I&#39;m trying to execute the URL by making POST http call using rest Template. However, not able to send the message body in the POST request. \r\n\r\nHere is the code: \r\n\r\n    public static void main(String[] args) {\r\n    \t\t\t\t\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\r\n    \t\theaders.setBearerAuth(&quot;token&quot;);\r\n    \t\theaders.add(&quot;Header&quot;, &quot;header1&quot;);\r\n    \t\t\r\n    \t\tUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.message.com/messages&quot;);\r\n    \r\n    \t\tHttpEntity&lt;String&gt; response = restTemplate.exchange(\r\n    \t\t        builder.toUriString(), \r\n    \t\t        HttpMethod.GET,\r\n    \t\t        entity, \r\n    \t\t        String.class);\r\n    \t}\r\n\r\nactually, I&#39;m sending the body using `HttpEntity`  but when Im getting the response, the response is not proper because if the body would have been sent properly, we would have received all the metadata in the response.\r\n\r\nCan someone please suggest on whether it is the right way to set the body in POST request.\r\n\r\n\r\n**UPDATE 1**\r\n\r\nI used below code , still getting error about invalid payload \r\n\r\npublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t    RestTemplate restTemplate = new RestTemplate();\r\n\t\t    HttpHeaders headers = new HttpHeaders();\r\n\t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t    headers.setBearerAuth(&quot;token&quot;);\r\n\t\t    headers.add(&quot;Header&quot;, &quot;header1&quot;);\r\n\t\t    String body = &quot;hello world 4&quot;;\r\n\t\t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(body, headers);\r\n\t\t    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.example.com&quot;);\r\n\t\t    HttpEntity&lt;String&gt; response = restTemplate.exchange(\r\n\t\t            builder.toUriString(),\r\n\t\t            HttpMethod.POST,\r\n\t\t            entity,\r\n\t\t            String.class);\r\n\t\t    System.out.println(response.getBody());\r\n\r\n\t}\r\n\r\ngetting below error : \r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; org.springframework.web.client.HttpClientErrorException$BadRequest:\r\n&gt; 400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\r\n&gt; read JSON request payload. Please ensure Content-Type header is set\r\n&gt; and payload is of valid JSON\r\n&gt; format.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-21T16:17:39&quot;,&quot;request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;,&quot;client-request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;}}}&quot;\r\n&gt; \tat\r\n&gt; org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n&gt; \tat\r\n&gt; org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\r\n&gt; \tat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:24)\r\n\r\n","title":"How to set the body in POST call using rest Template","body":"<p>I'm trying to execute the URL by making POST http call using rest Template. However, not able to send the message body in the POST request.</p>\n<p>Here is the code:</p>\n<pre><code>public static void main(String[] args) {\n                \n        RestTemplate restTemplate = new RestTemplate();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(&quot;Hello World 3&quot;, headers);\n        headers.setBearerAuth(&quot;token&quot;);\n        headers.add(&quot;Header&quot;, &quot;header1&quot;);\n        \n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.message.com/messages&quot;);\n\n        HttpEntity&lt;String&gt; response = restTemplate.exchange(\n                builder.toUriString(), \n                HttpMethod.GET,\n                entity, \n                String.class);\n    }\n</code></pre>\n<p>actually, I'm sending the body using <code>HttpEntity</code>  but when Im getting the response, the response is not proper because if the body would have been sent properly, we would have received all the metadata in the response.</p>\n<p>Can someone please suggest on whether it is the right way to set the body in POST request.</p>\n<p><strong>UPDATE 1</strong></p>\n<p>I used below code , still getting error about invalid payload</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.setBearerAuth(&quot;token&quot;);\n        headers.add(&quot;Header&quot;, &quot;header1&quot;);\n        String body = &quot;hello world 4&quot;;\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(body, headers);\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;www.example.com&quot;);\n        HttpEntity&lt;String&gt; response = restTemplate.exchange(\n                builder.toUriString(),\n                HttpMethod.POST,\n                entity,\n                String.class);\n        System.out.println(response.getBody());\n\n}\n</code></pre>\n<p>getting below error :</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\norg.springframework.web.client.HttpClientErrorException$BadRequest:\n400 Bad Request: &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadRequest&quot;,&quot;message&quot;:&quot;Unable to\nread JSON request payload. Please ensure Content-Type header is set\nand payload is of valid JSON\nformat.&quot;,&quot;innerError&quot;:{&quot;date&quot;:&quot;2023-06-21T16:17:39&quot;,&quot;request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;,&quot;client-request-id&quot;:&quot;d26d4986-35e0-443c-801f-babf1b741757&quot;}}}&quot;\nat\norg.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\nat\norg.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\nat\norg.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\nat\norg.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915)\nat\norg.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864)\nat\norg.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\nat\norg.springframework.web.client.RestTemplate.exchange(RestTemplate.java:646)\nat oe.kubeapi.cloudcontroller.TeamMes4.main(TeamMes4.java:24)</p>\n</blockquote>\n"},{"tags":["java","json","mapreduce"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638869826,"post_id":70257658,"comment_id":124196344,"body_markdown":"json is structured data, if your text is not structured as json, how can you convert it?","body":"json is structured data, if your text is not structured as json, how can you convert it?"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1638870914,"post_id":70257658,"comment_id":124196739,"body_markdown":"Is each JSON part necessarily preceded by 2 words? Or at least is OK to assume that there will be no `{`, `}`, `[` or `]` in the text outside the JSON? If yes, then you can extract the JSON part using regex and then process it.","body":"Is each JSON part necessarily preceded by 2 words? Or at least is OK to assume that there will be no <code>{</code>, <code>}</code>, <code>[</code> or <code>]</code> in the text outside the JSON? If yes, then you can extract the JSON part using regex and then process it."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638872662,"creation_date":1638871008,"answer_id":70258052,"question_id":70257658,"body_markdown":"Here is a quick example, the idea is to find the `{` character.\r\n\r\nFrom there we know that we are processing a JSON string and start storing next characters.\r\n\r\nThen each time we find a `}` we decrement a counter, and increment it when we find a `{` .\r\n\r\nWhen the counter gets to 0, we know this JSON has ended, we store it and move on to the next JSON string.\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class FindJson {\r\n    \r\n        public static void main(final String[] args) {\r\n    \r\n            String src = &quot;ABCD XYZ         JSON1: { &#39;key1&#39;:&#39;val&#39;, &#39;key2&#39;:{ &#39;key2key1&#39;:&#39;key2val1&#39;,   &#39;key2key2&#39;:&#39;key2val2&#39;} }&quot;\r\n                    + &quot;,  MNO  PQRS   JSON2{...}&quot;;\r\n    \r\n            StringBuilder jsonBuilder = new StringBuilder();\r\n    \r\n            List&lt;String&gt; jsonStrings = new ArrayList&lt;&gt;();\r\n    \r\n            int openingCurlyBraces = 0;\r\n            boolean jsonProcessing = false;\r\n    \r\n            for (int i = 0; i &lt; src.length(); i++) {\r\n    \r\n                char current = src.charAt(i);\r\n    \r\n                switch (current) {\r\n    \r\n                case &#39;{&#39;:\r\n                    openingCurlyBraces++;\r\n                    jsonProcessing = true;\r\n                    break;\r\n                case &#39;}&#39;:\r\n                    openingCurlyBraces--;\r\n    \r\n                    break;\r\n                default:\r\n                    break;\r\n    \r\n                }\r\n    \r\n                if (jsonProcessing) {\r\n                    jsonBuilder.append(current);\r\n    \r\n                    if (openingCurlyBraces == 0) {\r\n    \r\n                        jsonStrings.add(jsonBuilder.toString());\r\n                        jsonBuilder = new StringBuilder();\r\n                        jsonProcessing = false;\r\n    \r\n                    }\r\n                }\r\n    \r\n            }\r\n    \r\n            System.out.println(jsonStrings);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nOutput of the list :\r\n\r\n[{ &#39;key1&#39;:&#39;val&#39;, &#39;key2&#39;:{ &#39;key2key1&#39;:&#39;key2val1&#39;,   &#39;key2key2&#39;:&#39;key2val2&#39;} }, {...}]","title":"Extract multiple JSONs from a string in JAVA","body":"<p>Here is a quick example, the idea is to find the <code>{</code> character.</p>\n<p>From there we know that we are processing a JSON string and start storing next characters.</p>\n<p>Then each time we find a <code>}</code> we decrement a counter, and increment it when we find a <code>{</code> .</p>\n<p>When the counter gets to 0, we know this JSON has ended, we store it and move on to the next JSON string.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class FindJson {\n\n    public static void main(final String[] args) {\n\n        String src = &quot;ABCD XYZ         JSON1: { 'key1':'val', 'key2':{ 'key2key1':'key2val1',   'key2key2':'key2val2'} }&quot;\n                + &quot;,  MNO  PQRS   JSON2{...}&quot;;\n\n        StringBuilder jsonBuilder = new StringBuilder();\n\n        List&lt;String&gt; jsonStrings = new ArrayList&lt;&gt;();\n\n        int openingCurlyBraces = 0;\n        boolean jsonProcessing = false;\n\n        for (int i = 0; i &lt; src.length(); i++) {\n\n            char current = src.charAt(i);\n\n            switch (current) {\n\n            case '{':\n                openingCurlyBraces++;\n                jsonProcessing = true;\n                break;\n            case '}':\n                openingCurlyBraces--;\n\n                break;\n            default:\n                break;\n\n            }\n\n            if (jsonProcessing) {\n                jsonBuilder.append(current);\n\n                if (openingCurlyBraces == 0) {\n\n                    jsonStrings.add(jsonBuilder.toString());\n                    jsonBuilder = new StringBuilder();\n                    jsonProcessing = false;\n\n                }\n            }\n\n        }\n\n        System.out.println(jsonStrings);\n\n    }\n\n}\n</code></pre>\n<p>Output of the list :</p>\n<p>[{ 'key1':'val', 'key2':{ 'key2key1':'key2val1',   'key2key2':'key2val2'} }, {...}]</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638873362,"creation_date":1638873362,"answer_id":70258618,"question_id":70257658,"body_markdown":"JSON uses double-quoted strings. If you cannot change this, you will have to replace single quotes with double quotes.\r\n\r\nFinding the beginning of a JSON object is easy: You can use a regexp:\r\n\r\n    Pattern re = Pattern.compile(&quot;JSON([0-9]+):&quot;);\r\n    Matcher matcher = re.matcher(input);\r\n    if (matcher.find()) {\r\n       // etc...\r\n    }\r\n\r\nFinding the end of the JSON is less easy: you cannot use a regexp because it can contain nested structures. This solution defines a method `extractJson` that finds the end of the object, and replaces single quotes with double quotes. The resulting string can be fed to your favorite JSON parser:\r\n\r\n        Matcher matcher = re.matcher(input);\r\n        int index = 0;\r\n        while (matcher.find(index)) {\r\n            int start = matcher.end();\r\n            StringBuilder buf = new StringBuilder();\r\n            index = extractJson(input, start, buf);\r\n            String json = buf.toString();\r\n            // do something with json\r\n        }\r\n\r\n    ...\r\n\r\n    private static int extractJson(String input, int index, StringBuilder buf) {\r\n        int bracketLevel = 0;\r\n        int st = 0;\r\n        while (index &lt; input.length()) {\r\n            char c = input.charAt(index++);\r\n            switch (st) {\r\n                case 0:\r\n                    switch (c) {\r\n                        case &#39;{&#39;:\r\n                            buf.append(c);\r\n                            ++bracketLevel;\r\n                            break;\r\n                        case &#39;}&#39;:\r\n                            buf.append(c);\r\n                            --bracketLevel;\r\n                            if (bracketLevel &lt;= 0) {\r\n                                return index;\r\n                            }\r\n                            break;\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(&#39;&quot;&#39;);\r\n                            st = 1;\r\n                            break;\r\n                        default:\r\n                            buf.append(c);\r\n                            break;\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    switch (c) {\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(&#39;&quot;&#39;);\r\n                            st = 0;\r\n                            break;\r\n                        case &#39;&quot;&#39;:\r\n                            buf.append(&#39;\\\\&#39;);\r\n                            buf.append(c);\r\n                            break;\r\n                         case &#39;\\\\&#39;:\r\n                            st = 2;\r\n                            break;\r\n                        default:\r\n                            buf.append(c);\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    switch (c) {\r\n                        case &#39;\\&#39;&#39;:\r\n                            buf.append(c);\r\n                            st = 1;\r\n                            break;\r\n                        default:\r\n                            buf.append(&#39;\\\\&#39;);\r\n                            buf.append(c);\r\n                            st = 1;\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        return index;\r\n    }\r\n","title":"Extract multiple JSONs from a string in JAVA","body":"<p>JSON uses double-quoted strings. If you cannot change this, you will have to replace single quotes with double quotes.</p>\n<p>Finding the beginning of a JSON object is easy: You can use a regexp:</p>\n<pre><code>Pattern re = Pattern.compile(&quot;JSON([0-9]+):&quot;);\nMatcher matcher = re.matcher(input);\nif (matcher.find()) {\n   // etc...\n}\n</code></pre>\n<p>Finding the end of the JSON is less easy: you cannot use a regexp because it can contain nested structures. This solution defines a method <code>extractJson</code> that finds the end of the object, and replaces single quotes with double quotes. The resulting string can be fed to your favorite JSON parser:</p>\n<pre><code>    Matcher matcher = re.matcher(input);\n    int index = 0;\n    while (matcher.find(index)) {\n        int start = matcher.end();\n        StringBuilder buf = new StringBuilder();\n        index = extractJson(input, start, buf);\n        String json = buf.toString();\n        // do something with json\n    }\n\n...\n\nprivate static int extractJson(String input, int index, StringBuilder buf) {\n    int bracketLevel = 0;\n    int st = 0;\n    while (index &lt; input.length()) {\n        char c = input.charAt(index++);\n        switch (st) {\n            case 0:\n                switch (c) {\n                    case '{':\n                        buf.append(c);\n                        ++bracketLevel;\n                        break;\n                    case '}':\n                        buf.append(c);\n                        --bracketLevel;\n                        if (bracketLevel &lt;= 0) {\n                            return index;\n                        }\n                        break;\n                    case '\\'':\n                        buf.append('&quot;');\n                        st = 1;\n                        break;\n                    default:\n                        buf.append(c);\n                        break;\n                }\n                break;\n            case 1:\n                switch (c) {\n                    case '\\'':\n                        buf.append('&quot;');\n                        st = 0;\n                        break;\n                    case '&quot;':\n                        buf.append('\\\\');\n                        buf.append(c);\n                        break;\n                     case '\\\\':\n                        st = 2;\n                        break;\n                    default:\n                        buf.append(c);\n                }\n                break;\n            case 2:\n                switch (c) {\n                    case '\\'':\n                        buf.append(c);\n                        st = 1;\n                        break;\n                    default:\n                        buf.append('\\\\');\n                        buf.append(c);\n                        st = 1;\n                        break;\n                }\n                break;\n        }\n    }\n    return index;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687876408,"post_id":76554896,"comment_id":134996386,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76554896/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15446822,"reputation":11,"user_id":11143528,"display_name":"st liu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768156,"creation_date":1687768156,"answer_id":76554896,"question_id":70257658,"body_markdown":"```\r\n public static List&lt;LogObject&gt; parse(String str) {\r\n        if (StringUtils.isAllBlank(str)) {\r\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\r\n        }\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        int size = str.length();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            char c = str.charAt(i);\r\n            if (c == &#39;{&#39; || c == &#39;}&#39; || c == &#39;[&#39; || c == &#39;]&#39;) {\r\n                list.add(i);\r\n            }\r\n        }\r\n        List&lt;Group&gt; res = Lists.newLinkedList();\r\n        for (int i = 0; i &lt; list.size() - 1; i++) {\r\n            int j = list.size() - 1;\r\n            Integer lIndex = list.get(i), jIndex;\r\n            char l = str.charAt(list.get(i)), r;\r\n            if (l == &#39;{&#39;) {\r\n                while (i &lt; j) {\r\n                    jIndex = list.get(j);\r\n                    r = str.charAt(list.get(j));\r\n                    if (r == &#39;}&#39;) {\r\n                        String substring = str.substring(lIndex, jIndex + 1);\r\n                        if (isValidJSON(substring)) {\r\n                            res.add(new Group(lIndex, jIndex));\r\n                            i = j ;\r\n                        }\r\n                    }\r\n                    j--;\r\n                }\r\n            } else if (l == &#39;[&#39;) {\r\n                while (i &lt; j) {\r\n                    jIndex = list.get(j);\r\n                    r = str.charAt(list.get(j));\r\n                    if (r == &#39;]&#39;) {\r\n                        String substring = str.substring(lIndex, jIndex + 1);\r\n                        if (isValidJSON(substring)) {\r\n                            res.add(new Group(lIndex, jIndex));\r\n                            i = j ;\r\n                        }\r\n                    }\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n        if (res.size() == 0) {\r\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\r\n        }\r\n        List&lt;LogObject&gt; resObjece = Lists.newLinkedList();\r\n        Integer index = 0;\r\n        for (Group re : res) {\r\n            if (re.left &gt; index) {\r\n                resObjece.add(new LogObject(StrType.STRING, str.substring(index, re.left)));\r\n            }\r\n            resObjece.add(new LogObject(StrType.JSON, str.substring(re.left, re.right + 1)));\r\n            index = re.right + 1;\r\n        }\r\n        if (index != size) {\r\n            resObjece.add(new LogObject(StrType.STRING, str.substring(index, size)));\r\n        }\r\n        return resObjece;\r\n    }\r\n\r\n    public static boolean isValidJSON(final String json) {\r\n        try {\r\n            final JsonParser parser = new ObjectMapper().getJsonFactory().createJsonParser(json);\r\n            while (parser.nextToken() != null) {\r\n            }\r\n            return true;\r\n        } catch (IOException jpe) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    private static class Group {\r\n        private Integer left;\r\n        private Integer right;\r\n\r\n        public Group(Integer left, Integer right) {\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n\r\n        public Integer getLeft() {\r\n            return left;\r\n        }\r\n\r\n        public void setLeft(Integer left) {\r\n            this.left = left;\r\n        }\r\n\r\n        public Integer getRight() {\r\n            return right;\r\n        }\r\n\r\n        public void setRight(Integer right) {\r\n            this.right = right;\r\n        }\r\n    }\r\n```\r\n\r\n```\r\npackage com.liust.json.model;\r\n\r\npublic class LogObject {\r\n\r\n    private StrType strType;\r\n\r\n    private String value;\r\n\r\n    public LogObject(StrType strType, String value) {\r\n        this.strType = strType;\r\n        this.value = value;\r\n    }\r\n\r\n    public StrType getStrType() {\r\n        return strType;\r\n    }\r\n\r\n    public void setStrType(StrType strType) {\r\n        this.strType = strType;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.liust.json.model;\r\n\r\npublic enum StrType {\r\n\r\n    STRING,\r\n    JSON,\r\n    INTEGER;\r\n    StrType() {\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.name();\r\n    }\r\n}\r\n\r\n```","title":"Extract multiple JSONs from a string in JAVA","body":"<pre><code> public static List&lt;LogObject&gt; parse(String str) {\n        if (StringUtils.isAllBlank(str)) {\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\n        }\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        int size = str.length();\n        for (int i = 0; i &lt; size; i++) {\n            char c = str.charAt(i);\n            if (c == '{' || c == '}' || c == '[' || c == ']') {\n                list.add(i);\n            }\n        }\n        List&lt;Group&gt; res = Lists.newLinkedList();\n        for (int i = 0; i &lt; list.size() - 1; i++) {\n            int j = list.size() - 1;\n            Integer lIndex = list.get(i), jIndex;\n            char l = str.charAt(list.get(i)), r;\n            if (l == '{') {\n                while (i &lt; j) {\n                    jIndex = list.get(j);\n                    r = str.charAt(list.get(j));\n                    if (r == '}') {\n                        String substring = str.substring(lIndex, jIndex + 1);\n                        if (isValidJSON(substring)) {\n                            res.add(new Group(lIndex, jIndex));\n                            i = j ;\n                        }\n                    }\n                    j--;\n                }\n            } else if (l == '[') {\n                while (i &lt; j) {\n                    jIndex = list.get(j);\n                    r = str.charAt(list.get(j));\n                    if (r == ']') {\n                        String substring = str.substring(lIndex, jIndex + 1);\n                        if (isValidJSON(substring)) {\n                            res.add(new Group(lIndex, jIndex));\n                            i = j ;\n                        }\n                    }\n                    j--;\n                }\n            }\n        }\n        if (res.size() == 0) {\n            return Collections.singletonList(new LogObject(StrType.STRING, str));\n        }\n        List&lt;LogObject&gt; resObjece = Lists.newLinkedList();\n        Integer index = 0;\n        for (Group re : res) {\n            if (re.left &gt; index) {\n                resObjece.add(new LogObject(StrType.STRING, str.substring(index, re.left)));\n            }\n            resObjece.add(new LogObject(StrType.JSON, str.substring(re.left, re.right + 1)));\n            index = re.right + 1;\n        }\n        if (index != size) {\n            resObjece.add(new LogObject(StrType.STRING, str.substring(index, size)));\n        }\n        return resObjece;\n    }\n\n    public static boolean isValidJSON(final String json) {\n        try {\n            final JsonParser parser = new ObjectMapper().getJsonFactory().createJsonParser(json);\n            while (parser.nextToken() != null) {\n            }\n            return true;\n        } catch (IOException jpe) {\n            return false;\n        }\n    }\n\n\n    private static class Group {\n        private Integer left;\n        private Integer right;\n\n        public Group(Integer left, Integer right) {\n            this.left = left;\n            this.right = right;\n        }\n\n        public Integer getLeft() {\n            return left;\n        }\n\n        public void setLeft(Integer left) {\n            this.left = left;\n        }\n\n        public Integer getRight() {\n            return right;\n        }\n\n        public void setRight(Integer right) {\n            this.right = right;\n        }\n    }\n</code></pre>\n<pre><code>package com.liust.json.model;\n\npublic class LogObject {\n\n    private StrType strType;\n\n    private String value;\n\n    public LogObject(StrType strType, String value) {\n        this.strType = strType;\n        this.value = value;\n    }\n\n    public StrType getStrType() {\n        return strType;\n    }\n\n    public void setStrType(StrType strType) {\n        this.strType = strType;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n\n</code></pre>\n<pre><code>package com.liust.json.model;\n\npublic enum StrType {\n\n    STRING,\n    JSON,\n    INTEGER;\n    StrType() {\n    }\n\n    @Override\n    public String toString() {\n        return this.name();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19789009,"reputation":9,"user_id":14492378,"display_name":"CHAITANYA PRASAD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1687768156,"creation_date":1638869334,"question_id":70257658,"body_markdown":"I have a string of the below format\r\n-----------------------------------\r\n\r\n    &quot;ABCD XYZ\r\n    JSON1: {\r\n    &#39;key1&#39;:&#39;val&#39;,\r\n    &#39;key2&#39;:{\r\n    &#39;key2key1&#39;:&#39;key2val1&#39;,\r\n    &#39;key2key2&#39;:&#39;key2val2&#39;}\r\n    },\r\n    MNO\r\n    PQRS\r\n    JSON2{...}&quot;\r\n\r\nI need to extract Each JSON from such a string. I am not aware of the text before starting JSON. How to extract them","title":"Extract multiple JSONs from a string in JAVA","body":"<h2>I have a string of the below format</h2>\n<pre><code>&quot;ABCD XYZ\nJSON1: {\n'key1':'val',\n'key2':{\n'key2key1':'key2val1',\n'key2key2':'key2val2'}\n},\nMNO\nPQRS\nJSON2{...}&quot;\n</code></pre>\n<p>I need to extract Each JSON from such a string. I am not aware of the text before starting JSON. How to extract them</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","spring-thymeleaf"],"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687624194,"post_id":76546141,"comment_id":134964134,"body_markdown":"Why not simply retrieve the gameId as param of second method?","body":"Why not simply retrieve the gameId as param of second method?"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687628548,"post_id":76546141,"comment_id":134964690,"body_markdown":"request param? I got error.","body":"request param? I got error."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687631669,"post_id":76546141,"comment_id":134965040,"body_markdown":"@ttt you can add gameId in the RequestParam like you have done it for coachId","body":"@ttt you can add gameId in the RequestParam like you have done it for coachId"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687631976,"post_id":76546141,"comment_id":134965062,"body_markdown":"@SachinMewar tried and got error that gameId is missing.","body":"@SachinMewar tried and got error that gameId is missing."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687657836,"post_id":76546141,"comment_id":134967016,"body_markdown":"Have you added @RequestParam gameId in your controller method?","body":"Have you added @RequestParam gameId in your controller method?"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687664783,"post_id":76546141,"comment_id":134967360,"body_markdown":"Did you try it like this? `public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @RequestParam(gameId) Long gameId)`","body":"Did you try it like this? <code>public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @RequestParam(gameId) Long gameId)</code>"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687682560,"post_id":76546141,"comment_id":134968497,"body_markdown":"@meridbt, yes, exactly, got an error as mentioned that this&#39;s not present. Even though I keep gameId in the experts.html.","body":"@meridbt, yes, exactly, got an error as mentioned that this&#39;s not present. Even though I keep gameId in the experts.html."},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1687695703,"post_id":76546141,"comment_id":134969661,"body_markdown":"Show the code how you call `showForm` method","body":"Show the code how you call <code>showForm</code> method"},{"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"score":0,"creation_date":1687702943,"post_id":76546141,"comment_id":134970529,"body_markdown":"@meridbt, sorry , already solve it. Changed to PostMapping.","body":"@meridbt, sorry , already solve it. Changed to PostMapping."}],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687768082,"creation_date":1687768082,"answer_id":76554879,"question_id":76546141,"body_markdown":"There are several ways to achive it.\r\n\r\n1. As mentioned in the comments you can pass the &quot;gameId&quot; parameter as a @RequestParam in showForm:\r\n\r\n```\r\n@GetMapping(&quot;/reservations/form&quot;)\r\n    public String showForm(Model model, @RequestParam(&quot;gameId&quot;) Long gameId, @RequestParam(&quot;coachId&quot;) Long coachId) {\r\n```\r\n\r\n2. You could also put &quot;gameId&quot; in session, making it available in the second method:\r\n\r\n```\r\n@Controller\r\n@SessionAttributes(&quot;gameId&quot;)\r\npublic class SomeController {\r\n\r\n  @GetMapping(&quot;/reservations/chooseExpert&quot;)\r\n  public String chooseExpert(Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\r\n    String gameName = gameService.getGameById(gameId).getName();\r\n    List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\r\n\r\n    model.addAttribute(&quot;gameId&quot;, gameId);\r\n    model.addAttribute(&quot;experts&quot;, experts);\r\n    model.addAttribute(&quot;gameName&quot;, gameName);\r\n\r\n    return &quot;experts.html&quot;;\r\n  }\r\n\r\n  @GetMapping(&quot;/reservations/form&quot;)\r\n  public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @ModelAttribute(&quot;gameId&quot;) String gameId) {\r\n    ...\r\n  }\r\n\r\n}\r\n```","title":"How to access parameters from another controller without redirecting? Spring","body":"<p>There are several ways to achive it.</p>\n<ol>\n<li>As mentioned in the comments you can pass the &quot;gameId&quot; parameter as a @RequestParam in showForm:</li>\n</ol>\n<pre><code>@GetMapping(&quot;/reservations/form&quot;)\n    public String showForm(Model model, @RequestParam(&quot;gameId&quot;) Long gameId, @RequestParam(&quot;coachId&quot;) Long coachId) {\n</code></pre>\n<ol start=\"2\">\n<li>You could also put &quot;gameId&quot; in session, making it available in the second method:</li>\n</ol>\n<pre><code>@Controller\n@SessionAttributes(&quot;gameId&quot;)\npublic class SomeController {\n\n  @GetMapping(&quot;/reservations/chooseExpert&quot;)\n  public String chooseExpert(Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\n    String gameName = gameService.getGameById(gameId).getName();\n    List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\n\n    model.addAttribute(&quot;gameId&quot;, gameId);\n    model.addAttribute(&quot;experts&quot;, experts);\n    model.addAttribute(&quot;gameName&quot;, gameName);\n\n    return &quot;experts.html&quot;;\n  }\n\n  @GetMapping(&quot;/reservations/form&quot;)\n  public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId, @ModelAttribute(&quot;gameId&quot;) String gameId) {\n    ...\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28885624,"reputation":3,"user_id":22124015,"display_name":"alrightalrightalright"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687768082,"creation_date":1687611041,"question_id":76546141,"body_markdown":"Controllers:\r\n\r\n```\r\n    @GetMapping(&quot;/reservations/chooseExpert&quot;)\r\n    public String chooseExpert( Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\r\n        String gameName = gameService.getGameById(gameId).getName();\r\n        List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\r\n\r\n        model.addAttribute(&quot;gameId&quot;, gameId);\r\n        model.addAttribute(&quot;experts&quot;, experts);\r\n        model.addAttribute(&quot;gameName&quot;, gameName);\r\n\r\n        return &quot;experts.html&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/reservations/form&quot;)\r\n    public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId) {\r\n        Coach coach = coachService.getCoachNameById(coachId);\r\n        model.addAttribute(&quot;coach&quot;, coach);\r\n        return &quot;form.html&quot;;\r\n    }\r\n```\r\nI need to get **gameId** in second controller, are there any ways?\r\n\r\nRedirecting will definitely not help in this case. Any suggestions?","title":"How to access parameters from another controller without redirecting? Spring","body":"<p>Controllers:</p>\n<pre><code>    @GetMapping(&quot;/reservations/chooseExpert&quot;)\n    public String chooseExpert( Model model, @RequestParam(&quot;gameId&quot;) Long gameId) {\n        String gameName = gameService.getGameById(gameId).getName();\n        List&lt;Coach&gt; experts = coachService.getAllCoachesByGameId(gameId);\n\n        model.addAttribute(&quot;gameId&quot;, gameId);\n        model.addAttribute(&quot;experts&quot;, experts);\n        model.addAttribute(&quot;gameName&quot;, gameName);\n\n        return &quot;experts.html&quot;;\n    }\n\n    @GetMapping(&quot;/reservations/form&quot;)\n    public String showForm(Model model, @RequestParam(&quot;coachId&quot;) Long coachId) {\n        Coach coach = coachService.getCoachNameById(coachId);\n        model.addAttribute(&quot;coach&quot;, coach);\n        return &quot;form.html&quot;;\n    }\n</code></pre>\n<p>I need to get <strong>gameId</strong> in second controller, are there any ways?</p>\n<p>Redirecting will definitely not help in this case. Any suggestions?</p>\n"},{"tags":["java","android","kotlin","android-activity","accessibilityservice"],"answers":[{"comments":[{"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"score":0,"creation_date":1687764240,"post_id":76554353,"comment_id":134976727,"body_markdown":"would you please tell me how to use this to start the activity?","body":"would you please tell me how to use this to start the activity?"},{"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"score":0,"creation_date":1687764394,"post_id":76554353,"comment_id":134976752,"body_markdown":"val launchIntent = packageManager. getLaunchIntentForPackage(&quot;${App Package name}&quot;)\nstartActivity(launchIntent)","body":"val launchIntent = packageManager. getLaunchIntentForPackage(&quot;${App Package name}&quot;) startActivity(launchIntent)"},{"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"score":0,"creation_date":1687769819,"post_id":76554353,"comment_id":134977755,"body_markdown":"no it didn&#39;t work either.","body":"no it didn&#39;t work either."}],"tags":[],"owner":{"account_id":28658835,"reputation":46,"user_id":21944177,"display_name":"개구신"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687763867,"creation_date":1687763867,"answer_id":76554353,"question_id":76554284,"body_markdown":"Information is too scarce...\r\n\r\n\r\n    packageManager.getLaunchIntentForPackage()\r\n\r\nHow would you like to try this code?","title":"Activity not launching from a class that has extended Accessibility Service only in android version 12","body":"<p>Information is too scarce...</p>\n<pre><code>packageManager.getLaunchIntentForPackage()\n</code></pre>\n<p>How would you like to try this code?</p>\n"}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687767990,"creation_date":1687763310,"question_id":76554284,"body_markdown":"I have a class that extends accessibility service and in some certain conditions an activity needs to be launched. In 10,11,13 it works fine and activity launches but in android 12. When logged i get these\r\n```\r\nTimeline: Activity_launch_request time:29189610\r\n```\r\n\r\nCode to launch the activity.\r\n```\r\n private fun launchBlockingActivity(appName: String, appPackage: String?) {\r\n        val context = application.applicationContext\r\n        val blockedIntent = Intent(context, ActivityBlocked::class.java)\r\n        blockedIntent.addFlags(FLAG_ACTIVITY_NEW_TASK or FLAG_ACTIVITY_CLEAR_TASK)\r\n        blockedIntent.putExtra(this.getString(R.string.appName), appName)\r\n        blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\r\n        context.startActivity(blockedIntent)\r\n    }\r\n```\r\n\r\n\r\nI tried using ContextCompat to launch but it didn&#39;t worked as well, what to do?","title":"Activity not launching from a class that has extended Accessibility Service only in android version 12","body":"<p>I have a class that extends accessibility service and in some certain conditions an activity needs to be launched. In 10,11,13 it works fine and activity launches but in android 12. When logged i get these</p>\n<pre><code>Timeline: Activity_launch_request time:29189610\n</code></pre>\n<p>Code to launch the activity.</p>\n<pre><code> private fun launchBlockingActivity(appName: String, appPackage: String?) {\n        val context = application.applicationContext\n        val blockedIntent = Intent(context, ActivityBlocked::class.java)\n        blockedIntent.addFlags(FLAG_ACTIVITY_NEW_TASK or FLAG_ACTIVITY_CLEAR_TASK)\n        blockedIntent.putExtra(this.getString(R.string.appName), appName)\n        blockedIntent.putExtra(this.getString(R.string.packageName), appPackage)\n        context.startActivity(blockedIntent)\n    }\n</code></pre>\n<p>I tried using ContextCompat to launch but it didn't worked as well, what to do?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687763615,"post_id":76554312,"comment_id":134976591,"body_markdown":"You mean you want to serialise `value` as an `int`?","body":"You mean you want to serialise <code>value</code> as an <code>int</code>?"},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687763645,"post_id":76554312,"comment_id":134976599,"body_markdown":"No, it should still be a `String`.","body":"No, it should still be a <code>String</code>."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687763724,"post_id":76554312,"comment_id":134976622,"body_markdown":"Well, `1234` without the quotes is not a JSON string. It&#39;s a number.","body":"Well, <code>1234</code> without the quotes is not a JSON string. It&#39;s a number."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687860316,"post_id":76554312,"comment_id":134992467,"body_markdown":"I&#39;m aware of the fact that what I&#39;m aiming for would not be valid JSON anymore. I was just hoping that there could be an approach similar to the ones given for example [here](https://stackoverflow.com/questions/28646572/faster-xml-jackson-remove-double-quotes), which work directly on the node tree. Using `1234` as an example was probably a bad idea, `ABC` could have made the intent more clear.","body":"I&#39;m aware of the fact that what I&#39;m aiming for would not be valid JSON anymore. I was just hoping that there could be an approach similar to the ones given for example <a href=\"https://stackoverflow.com/questions/28646572/faster-xml-jackson-remove-double-quotes\">here</a>, which work directly on the node tree. Using <code>1234</code> as an example was probably a bad idea, <code>ABC</code> could have made the intent more clear."},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687860629,"post_id":76554312,"comment_id":134992530,"body_markdown":"Just to give an idea where my requirement comes from: I&#39;ve been using such value types inside other Java Beans that are (de-)serialized with Jackson. In this context, creating valid JSON is mandatory, so the double quotes for a field value have to be present.\n\nBut now I wanted to use the same value types (hence no modification to the existing ones should be made) as `@RequestParam` method parameters for Feign client interfaces. And in this context, the double quotes get in the way because they become part of the URL (e.g. `GET /third-party-service/elements?value=&quot;ABC&quot;`).","body":"Just to give an idea where my requirement comes from: I&#39;ve been using such value types inside other Java Beans that are (de-)serialized with Jackson. In this context, creating valid JSON is mandatory, so the double quotes for a field value have to be present.  But now I wanted to use the same value types (hence no modification to the existing ones should be made) as <code>@RequestParam</code> method parameters for Feign client interfaces. And in this context, the double quotes get in the way because they become part of the URL (e.g. <code>GET &#47;third-party-service&#47;elements?value=&quot;ABC&quot;</code>)."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687869388,"post_id":76554312,"comment_id":134994489,"body_markdown":"@HeinBl&#246;d You cannot expect a JSON library to generate invalid JSON. If it could, that would be a bug.","body":"@HeinBl&#246;d You cannot expect a JSON library to generate invalid JSON. If it could, that would be a bug."}],"answers":[{"comments":[{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1687860648,"post_id":76554373,"comment_id":134992535,"body_markdown":"Thanks for your answer, please see my comments above.","body":"Thanks for your answer, please see my comments above."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764034,"creation_date":1687764034,"answer_id":76554373,"question_id":76554312,"body_markdown":"What you are proposing isn&#39;t valid JSON. Strings are always quoted. If you want an `int` value in your JSON, you have to make it an `int` in the JSON object. Or, perhaps, you can get away with a custom serializer for `ValueType`, which does the conversion. But you&#39;d be working against the system, which is never a good idea.","title":"Jackson - Serialize type with @JsonValue to plain string without double quotes","body":"<p>What you are proposing isn't valid JSON. Strings are always quoted. If you want an <code>int</code> value in your JSON, you have to make it an <code>int</code> in the JSON object. Or, perhaps, you can get away with a custom serializer for <code>ValueType</code>, which does the conversion. But you'd be working against the system, which is never a good idea.</p>\n"}],"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687767933,"creation_date":1687763551,"question_id":76554312,"body_markdown":"I&#39;m trying to find a generic way to serialize value objects that make use of `@JsonValue` to a plain string. In particular, I need to suppress the double quotes that Jackson creates. Example:\r\n\r\n    class Scratch\r\n    {\r\n       public static class ValueType\r\n       {\r\n          @JsonValue\r\n          private final String value;\r\n    \r\n          public ValueType( String value )\r\n          {\r\n             this.value = value;\r\n          }\r\n       }\r\n    \r\n       public static void main( String[] args ) throws IOException\r\n       {\r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          ValueType valueType = new ValueType( &quot;1234&quot; );\r\n          String plainValue = objectMapper.writeValueAsString( valueType );\r\n          System.out.println( plainValue ); // prints &#39;&quot;1234&quot;&#39;, should print &#39;1234&#39;\r\n       }\r\n    }\r\n\r\nInstead of `&quot;1234&quot;`, I want the variable `plainValue` to hold the plain value only, i.e. `1234`. Of course I could just strip the double quotes after the string was created, but I was hoping there could be a simple way to directly serialize the object to the required output?\r\n\r\nNote that modifying `ValueType` is not an option, so for example I cannot add `@JsonRawValue`.\r\n","title":"Jackson - Serialize type with @JsonValue to plain string without double quotes","body":"<p>I'm trying to find a generic way to serialize value objects that make use of <code>@JsonValue</code> to a plain string. In particular, I need to suppress the double quotes that Jackson creates. Example:</p>\n<pre><code>class Scratch\n{\n   public static class ValueType\n   {\n      @JsonValue\n      private final String value;\n\n      public ValueType( String value )\n      {\n         this.value = value;\n      }\n   }\n\n   public static void main( String[] args ) throws IOException\n   {\n      ObjectMapper objectMapper = new ObjectMapper();\n      ValueType valueType = new ValueType( &quot;1234&quot; );\n      String plainValue = objectMapper.writeValueAsString( valueType );\n      System.out.println( plainValue ); // prints '&quot;1234&quot;', should print '1234'\n   }\n}\n</code></pre>\n<p>Instead of <code>&quot;1234&quot;</code>, I want the variable <code>plainValue</code> to hold the plain value only, i.e. <code>1234</code>. Of course I could just strip the double quotes after the string was created, but I was hoping there could be a simple way to directly serialize the object to the required output?</p>\n<p>Note that modifying <code>ValueType</code> is not an option, so for example I cannot add <code>@JsonRawValue</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687757333,"post_id":76553551,"comment_id":134975620,"body_markdown":"you can refer to this link https://stackoverflow.com/questions/61472442/spring-jpa-update-and-return-the-updated-data  ..... Modifying query always returns the number of rows that has been updated because under the hood only one update query will execute with where clause.","body":"you can refer to this link <a href=\"https://stackoverflow.com/questions/61472442/spring-jpa-update-and-return-the-updated-data\" title=\"spring jpa update and return the updated data\">stackoverflow.com/questions/61472442/&hellip;</a>  ..... Modifying query always returns the number of rows that has been updated because under the hood only one update query will execute with where clause."},{"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"score":0,"creation_date":1687757692,"post_id":76553551,"comment_id":134975679,"body_markdown":"https://stackoverflow.com/questions/49690671/spring-data-repository-query-update-and-return-modified-entity?noredirect=1&amp;lq=1 refer this link.","body":"<a href=\"https://stackoverflow.com/questions/49690671/spring-data-repository-query-update-and-return-modified-entity?noredirect=1&amp;lq=1\" title=\"spring data repository query update and return modified entity\">stackoverflow.com/questions/49690671/&hellip;</a> refer this link."}],"answers":[{"tags":[],"owner":{"account_id":17961884,"reputation":41,"user_id":13052677,"display_name":"Diallo Mamadou Path&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687767755,"creation_date":1687767755,"answer_id":76554845,"question_id":76553551,"body_markdown":"As the error says Modifying queries can only use void or int/Integer as return type you can only return void or an integer/int that signify how many rows has been updated by the query.\r\n\r\nSo you can&#39;t return &#224; list of objects with this method","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>As the error says Modifying queries can only use void or int/Integer as return type you can only return void or an integer/int that signify how many rows has been updated by the query.</p>\n<p>So you can't return à list of objects with this method</p>\n"},{"comments":[{"owner":{"account_id":28894918,"reputation":1,"user_id":22131142,"display_name":"Tara"},"score":0,"creation_date":1687774838,"post_id":76554857,"comment_id":134978797,"body_markdown":"I tried this but getting error as below\n{\n    &quot;message&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,\n    &quot;path&quot;: &quot;/api/v1/notes/note-transfer&quot;\n}","body":"I tried this but getting error as below {     &quot;message&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,     &quot;path&quot;: &quot;/api/v1/notes/note-transfer&quot; }"}],"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687767845,"creation_date":1687767845,"answer_id":76554857,"question_id":76553551,"body_markdown":"You can use the `@Query` annotation to execute custom update queries, and return the modified list of entities using the `RETURNING` keyword **for databases that support it**.\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n        \r\n        @Query(value = &quot;UPDATE my_entity SET my_field = :newValue WHERE id IN :ids RETURNING id&quot;, nativeQuery = true)\r\n        List&lt;Long&gt; updateMyFieldByIdsAndReturnIds(@Param(&quot;newVal&quot;) String newVal, @Param(&quot;ids&quot;) List&lt;Long&gt; ids);\r\n    }\r\n\r\nNote that the `nativeQuery` attribute of the `@Query` annotation is set to `true` to indicate that we are using a native SQL query instead of a JPQL query. Also, make sure to use the correct syntax for your database when using native queries.\r\n\r\nThis method returns a list of `Long` values which represent the ids of the entities that were updated and it is important that you database support this concept\r\n","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>You can use the <code>@Query</code> annotation to execute custom update queries, and return the modified list of entities using the <code>RETURNING</code> keyword <strong>for databases that support it</strong>.</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n    \n    @Query(value = &quot;UPDATE my_entity SET my_field = :newValue WHERE id IN :ids RETURNING id&quot;, nativeQuery = true)\n    List&lt;Long&gt; updateMyFieldByIdsAndReturnIds(@Param(&quot;newVal&quot;) String newVal, @Param(&quot;ids&quot;) List&lt;Long&gt; ids);\n}\n</code></pre>\n<p>Note that the <code>nativeQuery</code> attribute of the <code>@Query</code> annotation is set to <code>true</code> to indicate that we are using a native SQL query instead of a JPQL query. Also, make sure to use the correct syntax for your database when using native queries.</p>\n<p>This method returns a list of <code>Long</code> values which represent the ids of the entities that were updated and it is important that you database support this concept</p>\n"}],"owner":{"account_id":28894918,"reputation":1,"user_id":22131142,"display_name":"Tara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687767845,"creation_date":1687754214,"question_id":76553551,"body_markdown":"let&#39;s assume we have a Spring Data repository interface with a custom method.\r\n\r\n    static final string UPDATE_ENTITY =\r\n    &quot;&quot;&quot;UPDATE entity SET updated_on = :updatedDateTime, updated_by = :createdBy, company_id = :targetId where company_id = :sourceId&quot;&quot;&quot;;\r\n    \r\n    @Query(value = UPDATE_ENTITY, nativeQuery = true)`\r\n    @Modifying\r\n    @Transactional\r\n    int transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\r\n\r\nThis method simply sets the updated field of the entity, ok. Is there any way to return list of \\&lt;entity\\&gt; instead of returning count i.e int/void?\r\n\r\nObviously...I tried\r\n\r\n\r\n    @Query(value = UPDATE_ENTITY, nativeQuery = true)\r\n    @Modifying\r\n    @Transactional\r\n    List&lt;Entity&gt; transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\r\n\r\n\r\ndoes not work, since..\r\n\r\njava.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\r\n\r\nDoes anyone know another way to return the list of updated entity ids?\r\n","title":"Spring Data Repository @Query - Update and return modified List","body":"<p>let's assume we have a Spring Data repository interface with a custom method.</p>\n<pre><code>static final string UPDATE_ENTITY =\n&quot;&quot;&quot;UPDATE entity SET updated_on = :updatedDateTime, updated_by = :createdBy, company_id = :targetId where company_id = :sourceId&quot;&quot;&quot;;\n\n@Query(value = UPDATE_ENTITY, nativeQuery = true)`\n@Modifying\n@Transactional\nint transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\n</code></pre>\n<p>This method simply sets the updated field of the entity, ok. Is there any way to return list of &lt;entity&gt; instead of returning count i.e int/void?</p>\n<p>Obviously...I tried</p>\n<pre><code>@Query(value = UPDATE_ENTITY, nativeQuery = true)\n@Modifying\n@Transactional\nList&lt;Entity&gt; transferEntity(String sourceId, String targetId, Timestamp updatedDateTime, String createdBy);\n</code></pre>\n<p>does not work, since..</p>\n<p>java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!</p>\n<p>Does anyone know another way to return the list of updated entity ids?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1687532978,"post_id":76541351,"comment_id":134955041,"body_markdown":"I think you may need to pass the timezone/locale as a JDK argument in Java 11. Could be related: [Joda Date Time returns very different results between Java 8 vs Java 11](https://stackoverflow.com/questions/61199566/joda-date-time-returns-very-different-results-between-java-8-vs-java-11)","body":"I think you may need to pass the timezone/locale as a JDK argument in Java 11. Could be related: <a href=\"https://stackoverflow.com/questions/61199566/joda-date-time-returns-very-different-results-between-java-8-vs-java-11\">Joda Date Time returns very different results between Java 8 vs Java 11</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687536792,"post_id":76541351,"comment_id":134955835,"body_markdown":"Don&#39;t start a question title with &quot;Question about&quot;... summarize your actual question. Also don&#39;t add fluff like how your new and don&#39;t add thanks.","body":"Don&#39;t start a question title with &quot;Question about&quot;... summarize your actual question. Also don&#39;t add fluff like how your new and don&#39;t add thanks."}],"answers":[{"comments":[{"owner":{"account_id":28881381,"reputation":61,"user_id":22120795,"display_name":"Mathew Mani"},"score":0,"creation_date":1688258683,"post_id":76541748,"comment_id":135049894,"body_markdown":"Thank you for the prompt reply. That is working in this scenario, but there are other dateFormats that were working in java8, but not working in Java11. Looks like the backward compatibility of the java.time package iin java11 is broken either intentionally or accidentally.","body":"Thank you for the prompt reply. That is working in this scenario, but there are other dateFormats that were working in java8, but not working in Java11. Looks like the backward compatibility of the java.time package iin java11 is broken either intentionally or accidentally."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687536314,"creation_date":1687535940,"answer_id":76541748,"question_id":76541351,"body_markdown":"I don&#39;t know if this is a &quot;misfeature&quot;, but it seems that the problem is caused by this:\r\n\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\r\n\r\nIf you leave this line out, then your code will work. You may have assumed that `parseDefaulting(ChronoField.OFFSET_SECONDS,0)` makes your ZoneId optional. In fact, it doesn&#39;t. It only defaults the offset, which are specified by `O`, `X`, `x` or `Z`. The `VV` specifies zone id, which is differeent from offset. So what you&#39;ve done is parsed a string which contains zone id, but doesn&#39;t contain offset, so it defaults to 0.","title":"Question about Instant.toEpochMilli mismatch between java8 and java11","body":"<p>I don't know if this is a &quot;misfeature&quot;, but it seems that the problem is caused by this:</p>\n<pre><code>.parseDefaulting(ChronoField.OFFSET_SECONDS,0)\n</code></pre>\n<p>If you leave this line out, then your code will work. You may have assumed that <code>parseDefaulting(ChronoField.OFFSET_SECONDS,0)</code> makes your ZoneId optional. In fact, it doesn't. It only defaults the offset, which are specified by <code>O</code>, <code>X</code>, <code>x</code> or <code>Z</code>. The <code>VV</code> specifies zone id, which is differeent from offset. So what you've done is parsed a string which contains zone id, but doesn't contain offset, so it defaults to 0.</p>\n"}],"owner":{"account_id":28881381,"reputation":61,"user_id":22120795,"display_name":"Mathew Mani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":76541748,"answer_count":1,"score":3,"last_activity_date":1687767727,"creation_date":1687532686,"question_id":76541351,"body_markdown":"This is my first post, so if I am not following all the rules and conventions please forgive me. I have this problem with this code, which gives different epoch time millis in java 8 and java 11. \r\n\r\n```\r\nString strDate = &quot;2022-07-18 17:52:23 America/New_York&quot;;\r\nDateTimeFormatter frmt  = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY,0)\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR,0)\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE,0)\r\n    .parseDefaulting(ChronoField.NANO_OF_SECOND,0)\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\r\n    .toFormatter();\r\n\r\nTemporalAccessor temporal = frmt.parse(strDate);\r\nSystem.out.println(Instant.from(temporal).toEpochMilli()); \r\n```\r\n\r\nOutput:\r\n\r\n* Java 8 - 1658181143000 the right value for New York\r\n* Java 11 - 1658166743000 wrong. This value is for UTC/GMT\r\n\r\nIt produces the correct result 1658181143000 in java8, which is epoch value for `New_York` timezone. But it gives 1658166743000 in java11 which is epoch representation of UTC timezone. Debugging through the code, I figured that the library is not setting the offset at the right place in the code. Any help is greatly appreciated.\r\n\r\nThanks in advance \r\n\r\nWas expecting the right epoch value for New York.","title":"Question about Instant.toEpochMilli mismatch between java8 and java11","body":"<p>This is my first post, so if I am not following all the rules and conventions please forgive me. I have this problem with this code, which gives different epoch time millis in java 8 and java 11.</p>\n<pre><code>String strDate = &quot;2022-07-18 17:52:23 America/New_York&quot;;\nDateTimeFormatter frmt  = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY,0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR,0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE,0)\n    .parseDefaulting(ChronoField.NANO_OF_SECOND,0)\n    .parseDefaulting(ChronoField.OFFSET_SECONDS,0)\n    .toFormatter();\n\nTemporalAccessor temporal = frmt.parse(strDate);\nSystem.out.println(Instant.from(temporal).toEpochMilli()); \n</code></pre>\n<p>Output:</p>\n<ul>\n<li>Java 8 - 1658181143000 the right value for New York</li>\n<li>Java 11 - 1658166743000 wrong. This value is for UTC/GMT</li>\n</ul>\n<p>It produces the correct result 1658181143000 in java8, which is epoch value for <code>New_York</code> timezone. But it gives 1658166743000 in java11 which is epoch representation of UTC timezone. Debugging through the code, I figured that the library is not setting the offset at the right place in the code. Any help is greatly appreciated.</p>\n<p>Thanks in advance</p>\n<p>Was expecting the right epoch value for New York.</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687798775,"post_id":76554821,"comment_id":134984046,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28896007,"reputation":1,"user_id":22131980,"display_name":"Youness"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687767620,"creation_date":1687767620,"question_id":76554821,"body_markdown":"im using spring boot 3 with spring securety for an web application and want to make a page public, no login requeiert. I&#180;m new to Spring and a bit lost \r\n\r\nI sercherd for diffrent things and foud only that the antmatcher wouldt work with path mapping, as well as .permitALL, since u still need to login first\r\n","title":"pre login page using spring securety","body":"<p>im using spring boot 3 with spring securety for an web application and want to make a page public, no login requeiert. I´m new to Spring and a bit lost</p>\n<p>I sercherd for diffrent things and foud only that the antmatcher wouldt work with path mapping, as well as .permitALL, since u still need to login first</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687767326,"creation_date":1687767326,"answer_id":76554788,"question_id":76552060,"body_markdown":"Have you tried modifying your repository to:\r\n\r\n```\r\npublic interface LessonRepository extends MongoRepository&lt;Lesson, String&gt; {\r\n}\r\n```","title":"Java Spring MongoDB ORM not deleting file with deleteById(id)","body":"<p>Have you tried modifying your repository to:</p>\n<pre><code>public interface LessonRepository extends MongoRepository&lt;Lesson, String&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":28409011,"reputation":25,"user_id":21732649,"display_name":"FischKopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554788,"answer_count":1,"score":0,"last_activity_date":1687767600,"creation_date":1687720593,"question_id":76552060,"body_markdown":"I am trying to delete an entry in the database \r\n\r\nThe entry looks like this in the MongoDB:\r\n\r\n&gt; _id\r\n&gt; &quot;11c4ee15-0048-4cc6-8a62-38e40389f2a8&quot;\r\n&gt; title\r\n&gt; &quot;DELETE ME&quot;\r\n&gt; content\r\n&gt; &quot;This is Lesson number 1&quot;\r\n\r\nI am using this repository: \r\n\r\n```\r\npublic interface LessonRepository extends MongoRepository&lt;Lesson, UUID&gt; {\r\n}\r\n```\r\n\r\nWhy does this call fail without finding the id:\r\n\r\n```\r\n\r\n    public void deleteLesson(UUID id) {\r\n        lessonRepository.deleteById(id);\r\n    }\r\n```\r\n\r\nThe model looks like this:\r\n\r\n```\r\n@Data\r\npublic class Lesson {\r\n    @Id\r\n    private String id;\r\n    private String title;\r\n    private String content;\r\n}\r\n```\r\n\r\nMy guess it that the id is not defined correctly. But defining it as a UUID gives me a binary object? Why doesn&#39;t it look like an ObjectId?\r\n\r\n\r\n","title":"Java Spring MongoDB ORM not deleting file with deleteById(id)","body":"<p>I am trying to delete an entry in the database</p>\n<p>The entry looks like this in the MongoDB:</p>\n<blockquote>\n<p>_id\n&quot;11c4ee15-0048-4cc6-8a62-38e40389f2a8&quot;\ntitle\n&quot;DELETE ME&quot;\ncontent\n&quot;This is Lesson number 1&quot;</p>\n</blockquote>\n<p>I am using this repository:</p>\n<pre><code>public interface LessonRepository extends MongoRepository&lt;Lesson, UUID&gt; {\n}\n</code></pre>\n<p>Why does this call fail without finding the id:</p>\n<pre><code>\n    public void deleteLesson(UUID id) {\n        lessonRepository.deleteById(id);\n    }\n</code></pre>\n<p>The model looks like this:</p>\n<pre><code>@Data\npublic class Lesson {\n    @Id\n    private String id;\n    private String title;\n    private String content;\n}\n</code></pre>\n<p>My guess it that the id is not defined correctly. But defining it as a UUID gives me a binary object? Why doesn't it look like an ObjectId?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687766348,"post_id":76554614,"comment_id":134977121,"body_markdown":"That method is already available in the `JpaRepository` and returns a `Page` you cannot redifine it with another return type and you don&#39;t actually need it because it is already there.","body":"That method is already available in the <code>JpaRepository</code> and returns a <code>Page</code> you cannot redifine it with another return type and you don&#39;t actually need it because it is already there."},{"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"score":0,"creation_date":1687766641,"post_id":76554614,"comment_id":134977169,"body_markdown":"I got it. Idk why I created when It&#39;s already there. Thank you @M.Deinum","body":"I got it. Idk why I created when It&#39;s already there. Thank you @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687767570,"creation_date":1687767570,"answer_id":76554810,"question_id":76554614,"body_markdown":"Answer from [M. Deinum](https://stackoverflow.com/users/2696260/m-deinum) in comment\r\n&gt;That method is already available in the JpaRepository and returns a Page you &gt;cannot redifine it with another return type and you don&#39;t actually need it &gt;because it is already there.","title":"Slice in repository `The return type is incompatible with PagingAndSortingRepository`","body":"<p>Answer from <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> in comment</p>\n<blockquote>\n<p>That method is already available in the JpaRepository and returns a Page you &gt;cannot redifine it with another return type and you don't actually need it &gt;because it is already there.</p>\n</blockquote>\n"}],"owner":{"account_id":28409447,"reputation":19,"user_id":21733036,"display_name":"MIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554810,"answer_count":1,"score":0,"last_activity_date":1687767570,"creation_date":1687765962,"question_id":76554614,"body_markdown":"I have create findAll function with return type Slice then got this error: \r\n`The return type is incompatible with PagingAndSortingRepository&lt;Book,Long&gt;.findAll(Pageable)`\r\nHere is my code in repository:\r\n\r\n    import org.springframework.data.domain.Slice;\r\n    \r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Repository\r\n    public interface BookRepository extends JpaRepository&lt;Book, Long&gt;, JpaSpecificationExecutor&lt;Book&gt; {\r\n        Slice&lt;Book&gt; findAll(Pageable pageable);\r\n    }\r\n\r\nWhat did I do wrong here?","title":"Slice in repository `The return type is incompatible with PagingAndSortingRepository`","body":"<p>I have create findAll function with return type Slice then got this error:\n<code>The return type is incompatible with PagingAndSortingRepository&lt;Book,Long&gt;.findAll(Pageable)</code>\nHere is my code in repository:</p>\n<pre><code>import org.springframework.data.domain.Slice;\n\n@SuppressWarnings(&quot;unused&quot;)\n@Repository\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt;, JpaSpecificationExecutor&lt;Book&gt; {\n    Slice&lt;Book&gt; findAll(Pageable pageable);\n}\n</code></pre>\n<p>What did I do wrong here?</p>\n"},{"tags":["java","jdbc","prepared-statement","deadlock","mssql-jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686051303,"post_id":76414134,"comment_id":134743253,"body_markdown":"Your (proper) changes are likely unconnected with your current problem. As for ChatGPT, it seems to looking for a problem in issues which are at the heart of the optimization advantages of prepared statements ;)","body":"Your (proper) changes are likely unconnected with your current problem. As for ChatGPT, it seems to looking for a problem in issues which are at the heart of the optimization advantages of prepared statements ;)"},{"owner":{"account_id":2106996,"reputation":2760,"user_id":1874012,"display_name":"StrayCatDBA"},"score":0,"creation_date":1686153734,"post_id":76414134,"comment_id":134761141,"body_markdown":"Use SQL Profiler to capture the execution plans of both the old and new approaches.  &quot;paste the plan&quot; for both.","body":"Use SQL Profiler to capture the execution plans of both the old and new approaches.  &quot;paste the plan&quot; for both."}],"answers":[{"comments":[{"owner":{"account_id":5297111,"reputation":3,"user_id":4227992,"display_name":"Nikolai Petrov"},"score":0,"creation_date":1686054525,"post_id":76414475,"comment_id":134743961,"body_markdown":"Very interesting, I saw someone mention this elsewhere on the internet but wasn&#39;t really sure what to make of it in this particular case. What could I do to improve this situation? How can I make this change while minimizing the effect on concurrency?","body":"Very interesting, I saw someone mention this elsewhere on the internet but wasn&#39;t really sure what to make of it in this particular case. What could I do to improve this situation? How can I make this change while minimizing the effect on concurrency?"},{"owner":{"account_id":5297111,"reputation":3,"user_id":4227992,"display_name":"Nikolai Petrov"},"score":0,"creation_date":1686060848,"post_id":76414475,"comment_id":134745439,"body_markdown":"Just saw your edit! Thank you for the suggestion, unfortunately it doesn&#39;t seem to change the behavior of the deadlocks.","body":"Just saw your edit! Thank you for the suggestion, unfortunately it doesn&#39;t seem to change the behavior of the deadlocks."},{"owner":{"account_id":5297111,"reputation":3,"user_id":4227992,"display_name":"Nikolai Petrov"},"score":0,"creation_date":1687725931,"post_id":76414475,"comment_id":134973122,"body_markdown":"Just kidding! This fixed it, but my connection string was in an environment variable overriding the config so I missed it. Thanks so much!","body":"Just kidding! This fixed it, but my connection string was in an environment variable overriding the config so I missed it. Thanks so much!"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687757897,"post_id":76414475,"comment_id":134975700,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687767108,"creation_date":1686053244,"answer_id":76414475,"question_id":76414134,"body_markdown":"if you ask for reason of the *dramatic* difference in performance I can give at least this one: the type conversion.\r\n\r\nJava type of SQL parameters is Unicode String but on the database you will have something else like varchar with a specific collation. The conversion can cause that even if an index is defined for the table columns it will not be used.\r\n\r\nThe concatenated String used before the code change didn&#39;t need conversion of types.\r\n\r\n**Solution**\r\n\r\nYou can tell the driver to not send parameters as Unicode by adding to the connection url:\r\n\r\n    sendStringParametersAsUnicode=false\r\n\r\nHope it helps.","title":"PreparedStatement parameterization triggers deadlocks (JDBC, SQL Server 2019)","body":"<p>if you ask for reason of the <em>dramatic</em> difference in performance I can give at least this one: the type conversion.</p>\n<p>Java type of SQL parameters is Unicode String but on the database you will have something else like varchar with a specific collation. The conversion can cause that even if an index is defined for the table columns it will not be used.</p>\n<p>The concatenated String used before the code change didn't need conversion of types.</p>\n<p><strong>Solution</strong></p>\n<p>You can tell the driver to not send parameters as Unicode by adding to the connection url:</p>\n<pre><code>sendStringParametersAsUnicode=false\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":5297111,"reputation":3,"user_id":4227992,"display_name":"Nikolai Petrov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76414475,"answer_count":1,"score":0,"last_activity_date":1687767396,"creation_date":1686050694,"question_id":76414134,"body_markdown":"# Background\r\n\r\nI am working on a piece of enterprise software for which we&#39;ve recently decided to move from building SQL queries via string concatenation to doing so by using prepared statements with parameters, so that this first example: \r\n```Java\r\nString query = &quot;SELECT * FROM CARS WHERE MAKE = &#39;&quot; + getMake() \r\n             + &quot;&#39; AND MODEL = &#39;&quot; + getModel() + &quot;&#39;&quot;;\r\nPreparedStatement preparedStatement = connection.prepareStatement(query);\r\n```\r\nbecomes the second:\r\n```Java\r\nString query = &quot;SELECT * FROM CARS WHERE MAKE = ? AND MODEL = ?&quot;;\r\nPreparedStatement preparedStatement = connection.prepareStatement(query);\r\npreparedStatement.setString(1, getMake());\r\npreparedStatement.setString(2, getModel());\r\n```\r\n\r\nFor context, I am using SQL Server 2019 and JDBC.\r\n\r\n# Issue\r\nWith this change being the ONLY difference in the code, I now receive deadlocks that interrupt processing and I don&#39;t understand why. The environment is highly concurrent in that large batches of data are processed in multiple threads, with many of each of `insert`, `delete`, and `select`. What I don&#39;t understand is why this concurrency only becomes a problem when using templated statements, as opposed to concatenated ones. \r\n\r\nSo far I&#39;ve tried:\r\n- Lowering the isolation level to READ_UNCOMMITTED – results in only delete statements locking\r\n- Creating a unique PreparedStatement object rather than reusing one object – results in no change\r\n- Asking ChatGPT, which suggested that it could be related to SQL Server reusing the template statements, since the template strings are identical, while the concatenated versions are unique because they include the variables within the string. \r\n- Using `WITH (ROWLOCK)`, which seems to result in essentially the same situation only with Key Locks instead of a Page Locks causing the deadlock.\r\n\r\nWhat else can I try? Why in the world would the behavior between these approaches be so dramatic as to cause deadlocks? How can I fix them?\r\n\r\nThanks!","title":"PreparedStatement parameterization triggers deadlocks (JDBC, SQL Server 2019)","body":"<h1>Background</h1>\n<p>I am working on a piece of enterprise software for which we've recently decided to move from building SQL queries via string concatenation to doing so by using prepared statements with parameters, so that this first example:</p>\n<pre><code>String query = &quot;SELECT * FROM CARS WHERE MAKE = '&quot; + getMake() \n             + &quot;' AND MODEL = '&quot; + getModel() + &quot;'&quot;;\nPreparedStatement preparedStatement = connection.prepareStatement(query);\n</code></pre>\n<p>becomes the second:</p>\n<pre><code>String query = &quot;SELECT * FROM CARS WHERE MAKE = ? AND MODEL = ?&quot;;\nPreparedStatement preparedStatement = connection.prepareStatement(query);\npreparedStatement.setString(1, getMake());\npreparedStatement.setString(2, getModel());\n</code></pre>\n<p>For context, I am using SQL Server 2019 and JDBC.</p>\n<h1>Issue</h1>\n<p>With this change being the ONLY difference in the code, I now receive deadlocks that interrupt processing and I don't understand why. The environment is highly concurrent in that large batches of data are processed in multiple threads, with many of each of <code>insert</code>, <code>delete</code>, and <code>select</code>. What I don't understand is why this concurrency only becomes a problem when using templated statements, as opposed to concatenated ones.</p>\n<p>So far I've tried:</p>\n<ul>\n<li>Lowering the isolation level to READ_UNCOMMITTED – results in only delete statements locking</li>\n<li>Creating a unique PreparedStatement object rather than reusing one object – results in no change</li>\n<li>Asking ChatGPT, which suggested that it could be related to SQL Server reusing the template statements, since the template strings are identical, while the concatenated versions are unique because they include the variables within the string.</li>\n<li>Using <code>WITH (ROWLOCK)</code>, which seems to result in essentially the same situation only with Key Locks instead of a Page Locks causing the deadlock.</li>\n</ul>\n<p>What else can I try? Why in the world would the behavior between these approaches be so dramatic as to cause deadlocks? How can I fix them?</p>\n<p>Thanks!</p>\n"},{"tags":["java","ssl","jsse"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687738504,"post_id":76539129,"comment_id":134974141,"body_markdown":"Have you considered consulting the [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSocket.html)? and [tag:openssl] and [tag:spring] have nothing to do with it.","body":"Have you considered consulting the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\">Javadoc</a>? and <a href=\"https://stackoverflow.com/questions/tagged/openssl\">openssl</a> and <a href=\"https://stackoverflow.com/questions/tagged/spring\">spring</a> have nothing to do with it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687738536,"post_id":76539129,"comment_id":134974143,"body_markdown":"I’m voting to close this question because it exhibits no prior research and because it is answered in the Javadoc.","body":"I’m voting to close this question because it exhibits no prior research and because it is answered in the Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":7717631,"reputation":59,"user_id":5844816,"display_name":"Roman M"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1687712340,"creation_date":1687712340,"answer_id":76551530,"question_id":76539129,"body_markdown":"`getSession()`: Returns the SSL session associated with the established connection, including any data exchanged after the handshake. It reflects the entire handshake process, including client authentication.\r\n\r\n`getHandshakeSession()`: Returns the SSL session specifically for the ongoing handshake process. It contains information relevant to the handshake, such as the chosen cipher suite and exchanged certificates.\r\n\r\n`session.startHandshake()`: Initiates or continues the SSL handshake process, exchanging cryptographic information and establishing a secure connection. The session object obtained from `getSession()` or `getHandshakeSession()` reflects the result of this handshake.\r\n\r\nIn 2-way SSL, the session objects consider the keystore if it contains the necessary certificates and private keys for client authentication. The SSL implementation uses the certificates from the keystore to authenticate the client during the handshake.","title":"What is the difference between getSession, getHandshakeSession and session.startHandshake in SSLSocket.java in 2 way ssl","body":"<p><code>getSession()</code>: Returns the SSL session associated with the established connection, including any data exchanged after the handshake. It reflects the entire handshake process, including client authentication.</p>\n<p><code>getHandshakeSession()</code>: Returns the SSL session specifically for the ongoing handshake process. It contains information relevant to the handshake, such as the chosen cipher suite and exchanged certificates.</p>\n<p><code>session.startHandshake()</code>: Initiates or continues the SSL handshake process, exchanging cryptographic information and establishing a secure connection. The session object obtained from <code>getSession()</code> or <code>getHandshakeSession()</code> reflects the result of this handshake.</p>\n<p>In 2-way SSL, the session objects consider the keystore if it contains the necessary certificates and private keys for client authentication. The SSL implementation uses the certificates from the keystore to authenticate the client during the handshake.</p>\n"}],"owner":{"account_id":10990574,"reputation":35,"user_id":8074734,"display_name":"shweta kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687767134,"creation_date":1687515208,"question_id":76539129,"body_markdown":"In SSLSocket.java there is one abstract method \r\n\r\n     public abstract SSLSession getSession();\r\n\r\n and One    \r\n\r\n      public SSLSession getHandshakeSession() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n   and once we get the session object from either session=getSession or session=getHandshakeSession \r\n\r\nWhat does ```session.startHandhshake``` do?\r\n\r\nWhat is the difference between the three when it comes to SSL handshake, especially in 2 way SSL?\r\nWhen we pass keystore in java during handshake does the SSL session object consider it?\r\n\r\n\r\n","title":"What is the difference between getSession, getHandshakeSession and session.startHandshake in SSLSocket.java in 2 way ssl","body":"<p>In SSLSocket.java there is one abstract method</p>\n<pre><code> public abstract SSLSession getSession();\n</code></pre>\n<p>and One</p>\n<pre><code>  public SSLSession getHandshakeSession() {\n            throw new UnsupportedOperationException();\n        }\n</code></pre>\n<p>and once we get the session object from either session=getSession or session=getHandshakeSession</p>\n<p>What does <code>session.startHandhshake</code> do?</p>\n<p>What is the difference between the three when it comes to SSL handshake, especially in 2 way SSL?\nWhen we pass keystore in java during handshake does the SSL session object consider it?</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776484,"post_id":76554758,"comment_id":134979096,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26155675,"reputation":1,"user_id":19842935,"display_name":"zhiyou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687767094,"creation_date":1687767094,"question_id":76554758,"body_markdown":"In the flink on k8s session mode I deployed, the submitted task jobmanager always restarts, resulting in the task cannot be executed, but it can run normally in idea.\r\n\r\nI don&#39;t know what the problem is and I can&#39;t find any useful error information","title":"flink on k8s session mode always restarts the jobmanager","body":"<p>In the flink on k8s session mode I deployed, the submitted task jobmanager always restarts, resulting in the task cannot be executed, but it can run normally in idea.</p>\n<p>I don't know what the problem is and I can't find any useful error information</p>\n"},{"tags":["java","xml","database","yaml"],"comments":[{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":3,"creation_date":1633172526,"post_id":2475448,"comment_id":122692976,"body_markdown":"In serialization, the point is not turning an object into bits and bytes, objects ARE bits and bytes already. Serialization is the process of making the object&#39;s &quot;state&quot; persistent. Read this: https://stackoverflow.com/a/69416269/9868445","body":"In serialization, the point is not turning an object into bits and bytes, objects ARE bits and bytes already. Serialization is the process of making the object&#39;s &quot;state&quot; persistent. Read this: <a href=\"https://stackoverflow.com/a/69416269/9868445\">stackoverflow.com/a/69416269/9868445</a>"}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1268982010,"creation_date":1268981394,"answer_id":2475460,"question_id":2475448,"body_markdown":"When you want to save an object&#39;s state into a file or send it over the network, you need to transform it into a series of bytes. This is called serialization.\r\n\r\nJava has a built-in mechanism for that, other options include XML or JSON.\r\n\r\nExamples when you need this: Caching objects, making remote method calls, saving an object graph to disk.","title":"What is the need of serialization of objects in Java?","body":"<p>When you want to save an object's state into a file or send it over the network, you need to transform it into a series of bytes. This is called serialization.</p>\n\n<p>Java has a built-in mechanism for that, other options include XML or JSON.</p>\n\n<p>Examples when you need this: Caching objects, making remote method calls, saving an object graph to disk.</p>\n"},{"tags":[],"owner":{"account_id":109796,"reputation":1007,"user_id":290776,"accept_rate":45,"display_name":"lajuette"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1268981427,"creation_date":1268981427,"answer_id":2475463,"question_id":2475448,"body_markdown":" - If you want to store an object (-structure) on disk you&#39;ll need serialization.\r\n - A webservice requires serialization of objects to xml before they can be transmitted.","title":"What is the need of serialization of objects in Java?","body":"<ul>\n<li>If you want to store an object (-structure) on disk you'll need serialization.</li>\n<li>A webservice requires serialization of objects to xml before they can be transmitted.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":86360,"reputation":2619,"user_id":887934,"accept_rate":45,"display_name":"fuyi"},"score":0,"creation_date":1655555121,"post_id":2475485,"comment_id":128362505,"body_markdown":"the analog of making a phone call to transmit voice over wire part if really good. Thanks","body":"the analog of making a phone call to transmit voice over wire part if really good. Thanks"}],"tags":[],"owner":{"account_id":87132,"reputation":5775,"user_id":241821,"accept_rate":81,"display_name":"Vaishak Suresh"},"comment_count":1,"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1360288111,"creation_date":1268981656,"answer_id":2475485,"question_id":2475448,"body_markdown":"Serialization is usually used When the need arises to send your data over network or stored in files. By data I mean objects and not text.\r\n\r\nNow the problem is your Network infrastructure and your Hard disk are hardware components that understand bits and bytes but not JAVA objects.\r\n\r\nSerialization is the translation of your Java object&#39;s values/states to bytes to send it over network or save it.\r\n\r\nThis is analogous to how your voice is transmitted over PSTN telephone lines.","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization is usually used When the need arises to send your data over network or stored in files. By data I mean objects and not text.</p>\n\n<p>Now the problem is your Network infrastructure and your Hard disk are hardware components that understand bits and bytes but not JAVA objects.</p>\n\n<p>Serialization is the translation of your Java object's values/states to bytes to send it over network or save it.</p>\n\n<p>This is analogous to how your voice is transmitted over PSTN telephone lines.</p>\n"},{"tags":[],"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1432106367,"creation_date":1268982818,"answer_id":2475553,"question_id":2475448,"body_markdown":"Java serialization (and, specifically, the &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html&quot;&gt;Serializable&lt;/a&gt; and &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/io/Externalizable.html&quot;&gt;Exernalizable&lt;/a&gt; interfaces) allows you to read/write arbitrarily complicated Java objects, automatically or manually from/to disk or from/to the network. Whereas XML and JSON are textual formats, Java serialization is a binary format. (Serialization is also a general concept of simply reading/writing data, but since the question is about Java, I assume you are referring to the builtin serialization system, i.e. Serializable/Exernalizable)\r\n\r\n&lt;b&gt;Advantages of &quot;implements Serializable&quot; over XML/JSON&lt;/b&gt;&lt;br /&gt;\r\nAt first, you get serialization pretty much for free. You don&#39;t need to make very many changes to your objects in order to let the serialization mechanism work with it. Another advantage is that, because it is  a binary format, it is much more compact than the textual format, and so will probably use less space (which is good for conserving network bandwidth or for conserving storage space on disk).\r\n\r\n&lt;b&gt;Disadvantages &quot;implements Serializable&quot; over XML/JSON&lt;/b&gt;&lt;br /&gt;\r\nThe disadvantage to builtin Java serialization is that, if you make changes to your object, making the different serialization formats compatible can really be a major nightmare. Also, whereas you can manually edit XML and JSON, you cannot edit a serialized Java object (without reading it into Java). For the same reasons, it is often easier to debug XML and JSON than binary formats, because XML and JSON are human-readable. Another disadvantage with Java&#39;s builtin serialization mechanism is that you cannot (easily) serialize/deserialize the data from another programming language.\r\n\r\n&lt;b&gt;Alternative techniques for reading/writing data&lt;/b&gt;&lt;br /&gt;\r\nThere are alternative serialization techniques other than Java&#39;s builtin serialization that give you the best of both worlds: compact binary formats, language interoperation, ease of version compatibility, and often debugging tools as well that make it easy to dump the binary data in readable format. For example, Google&#39;s opensource &lt;a href=&quot;https://github.com/google/protobuf/&quot;&gt;protocol buffers&lt;/a&gt; and &lt;a href=&quot;http://msgpack.org/&quot;&gt;MessagePack&lt;/a&gt; are examples of serialization libraries/formats that let you read/write compact binary data and easily maintain version compatibility. The biggest downside of these libraries over builtin Java serialization is that they involve plain-old-data objects for serialization (as opposed to more fully-featured Java objects that also have behavior associated with them); however, this disadvantage is, in fact, an advantage as separating the data model to which/from which the information is stored from the objects that wrap or are derived from them is actually a good programming practice and makes it easier to support multiple formats.\r\n\r\n&lt;b&gt;Usage&lt;/b&gt;&lt;br /&gt;\r\nSince you asked for the need, not merely the definition, there are a number of use cases:\r\n\r\n1. Simply saving your data for use later. For example, let&#39;s say you are writing a video game. Your program will not run forever; even if it never crashes (which is hopefully the case), your user will probably exit the program at some point or the operating system may kill the program to save resources (e.g. on Android, background processes that the user is not interacting with are frequently and intentionally killed by the OS to reclaim system resources like RAM). In order to ensure that the user doesn&#39;t start from the very beginning and can instead resume from where they were or from the most recent save point, you will want to write the state of the game to persistent storage (i.e. the hard drive, the user&#39;s Google Drive account, etc.). In order to do this, you need to translate the data structures in memory that represent the state of the game to raw bytes that you can write to disk (or to whatever system you are saving the data).\r\n\r\n2. Retrieving information from a remote server. Let&#39;s continue with the game example... suppose you are creating an online multiplayer game or that you want to make it possible to provide new levels or items in the game without the user updating their app. To do this, you would want the information about the online player or the information about the new levels/items to be communicated from a server computer (which you use as the point of contact for all the copies of the app installed on various devices) to the individual copies of the app. Both the server and app need some sort of in-memory representation of these data structures (e.g. the location of other players, the structure of a new level, the description/image for a new item, etc.), but to transfer the information from the server to the app on the device, the communication system consists of raw bytes, and so it is necessary to have a way to convert the data to raw bytes and from raw bytes back to a meaningful in-memory data structure.\r\n\r\nPretty much any communication between two different processes/apps or between an app and some storage system is a case where some sort of serialization mechanism is required.","title":"What is the need of serialization of objects in Java?","body":"<p>Java serialization (and, specifically, the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html\" rel=\"noreferrer\">Serializable</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Externalizable.html\" rel=\"noreferrer\">Exernalizable</a> interfaces) allows you to read/write arbitrarily complicated Java objects, automatically or manually from/to disk or from/to the network. Whereas XML and JSON are textual formats, Java serialization is a binary format. (Serialization is also a general concept of simply reading/writing data, but since the question is about Java, I assume you are referring to the builtin serialization system, i.e. Serializable/Exernalizable)</p>\n\n<p><b>Advantages of \"implements Serializable\" over XML/JSON</b><br />\nAt first, you get serialization pretty much for free. You don't need to make very many changes to your objects in order to let the serialization mechanism work with it. Another advantage is that, because it is  a binary format, it is much more compact than the textual format, and so will probably use less space (which is good for conserving network bandwidth or for conserving storage space on disk).</p>\n\n<p><b>Disadvantages \"implements Serializable\" over XML/JSON</b><br />\nThe disadvantage to builtin Java serialization is that, if you make changes to your object, making the different serialization formats compatible can really be a major nightmare. Also, whereas you can manually edit XML and JSON, you cannot edit a serialized Java object (without reading it into Java). For the same reasons, it is often easier to debug XML and JSON than binary formats, because XML and JSON are human-readable. Another disadvantage with Java's builtin serialization mechanism is that you cannot (easily) serialize/deserialize the data from another programming language.</p>\n\n<p><b>Alternative techniques for reading/writing data</b><br />\nThere are alternative serialization techniques other than Java's builtin serialization that give you the best of both worlds: compact binary formats, language interoperation, ease of version compatibility, and often debugging tools as well that make it easy to dump the binary data in readable format. For example, Google's opensource <a href=\"https://github.com/google/protobuf/\" rel=\"noreferrer\">protocol buffers</a> and <a href=\"http://msgpack.org/\" rel=\"noreferrer\">MessagePack</a> are examples of serialization libraries/formats that let you read/write compact binary data and easily maintain version compatibility. The biggest downside of these libraries over builtin Java serialization is that they involve plain-old-data objects for serialization (as opposed to more fully-featured Java objects that also have behavior associated with them); however, this disadvantage is, in fact, an advantage as separating the data model to which/from which the information is stored from the objects that wrap or are derived from them is actually a good programming practice and makes it easier to support multiple formats.</p>\n\n<p><b>Usage</b><br />\nSince you asked for the need, not merely the definition, there are a number of use cases:</p>\n\n<ol>\n<li><p>Simply saving your data for use later. For example, let's say you are writing a video game. Your program will not run forever; even if it never crashes (which is hopefully the case), your user will probably exit the program at some point or the operating system may kill the program to save resources (e.g. on Android, background processes that the user is not interacting with are frequently and intentionally killed by the OS to reclaim system resources like RAM). In order to ensure that the user doesn't start from the very beginning and can instead resume from where they were or from the most recent save point, you will want to write the state of the game to persistent storage (i.e. the hard drive, the user's Google Drive account, etc.). In order to do this, you need to translate the data structures in memory that represent the state of the game to raw bytes that you can write to disk (or to whatever system you are saving the data).</p></li>\n<li><p>Retrieving information from a remote server. Let's continue with the game example... suppose you are creating an online multiplayer game or that you want to make it possible to provide new levels or items in the game without the user updating their app. To do this, you would want the information about the online player or the information about the new levels/items to be communicated from a server computer (which you use as the point of contact for all the copies of the app installed on various devices) to the individual copies of the app. Both the server and app need some sort of in-memory representation of these data structures (e.g. the location of other players, the structure of a new level, the description/image for a new item, etc.), but to transfer the information from the server to the app on the device, the communication system consists of raw bytes, and so it is necessary to have a way to convert the data to raw bytes and from raw bytes back to a meaningful in-memory data structure.</p></li>\n</ol>\n\n<p>Pretty much any communication between two different processes/apps or between an app and some storage system is a case where some sort of serialization mechanism is required.</p>\n"},{"comments":[{"owner":{"account_id":412271,"reputation":1895,"user_id":785249,"accept_rate":67,"display_name":"noquery"},"score":6,"creation_date":1308412307,"post_id":6321929,"comment_id":7498094,"body_markdown":"I continued your story [here] (http://stackoverflow.com/questions/447898/what-is-object-serialization/6322836#6322836 )","body":"I continued your story [here] (<a href=\"http://stackoverflow.com/questions/447898/what-is-object-serialization/6322836#6322836\" title=\"what is object serialization\">stackoverflow.com/questions/447898/what-is-object-serializa&zwnj;&#8203;tion/&hellip;</a> )"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":1,"creation_date":1308415208,"post_id":6321929,"comment_id":7498497,"body_markdown":"thanks @noquery, I skipped some of the part related to serialization. I&#39;ll try to cover rest part too.","body":"thanks @noquery, I skipped some of the part related to serialization. I&#39;ll try to cover rest part too."},{"owner":{"account_id":3142616,"reputation":626,"user_id":2657781,"accept_rate":40,"display_name":"Khatri"},"score":4,"creation_date":1470069659,"post_id":6321929,"comment_id":64785638,"body_markdown":"Loved the story. Hope everyone can explain with stories like this. How can I upvote multiple time?","body":"Loved the story. Hope everyone can explain with stories like this. How can I upvote multiple time?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":2,"creation_date":1470078164,"post_id":6321929,"comment_id":64790045,"body_markdown":"Thanks. I love natural way of explaining things wherever I can.","body":"Thanks. I love natural way of explaining things wherever I can."},{"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"score":0,"creation_date":1520516330,"post_id":6321929,"comment_id":85353874,"body_markdown":"According to your story, they serialize the data just because it&#39;s massive amount of data?","body":"According to your story, they serialize the data just because it&#39;s massive amount of data?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1520520688,"post_id":6321929,"comment_id":85357022,"body_markdown":"good catch. No! they serialized because they were unable to send already built giant robots (taking a lot of space in spaceship and cost &amp; time for sending the spaceship was very high).","body":"good catch. No! they serialized because they were unable to send already built giant robots (taking a lot of space in spaceship and cost &amp; time for sending the spaceship was very high)."},{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":0,"creation_date":1536920666,"post_id":6321929,"comment_id":91606629,"body_markdown":"This approach/story left no doubts behind. Such a blissful answer.","body":"This approach/story left no doubts behind. Such a blissful answer."},{"owner":{"account_id":5912913,"reputation":934,"user_id":4652536,"accept_rate":17,"display_name":"yuxh"},"score":1,"creation_date":1540630237,"post_id":6321929,"comment_id":92942806,"body_markdown":"how does JSON or XML solve the problem of &quot;slow&quot;?what&#39;s the relation between Serialization and JSON/XML?","body":"how does JSON or XML solve the problem of &quot;slow&quot;?what&#39;s the relation between Serialization and JSON/XML?"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1540712997,"post_id":6321929,"comment_id":92959700,"body_markdown":"An object is the memory representation of data in a programming environment. The data need to be written in text format so it can be shared. Consider the serialized data representing some data format/protocol/rules, XML/JSON/Others can be used to represent a format. Some formats are human readable/understandable hence bigger, takes more time to travel hence slow.","body":"An object is the memory representation of data in a programming environment. The data need to be written in text format so it can be shared. Consider the serialized data representing some data format/protocol/rules, XML/JSON/Others can be used to represent a format. Some formats are human readable/understandable hence bigger, takes more time to travel hence slow."},{"owner":{"account_id":10229951,"reputation":1423,"user_id":7551092,"display_name":"mss"},"score":2,"creation_date":1582265023,"post_id":6321929,"comment_id":106724655,"body_markdown":"Quite a interesting way of explaining. This story kinds of remind me of &quot;The Expanse&quot; Tv Series","body":"Quite a interesting way of explaining. This story kinds of remind me of &quot;The Expanse&quot; Tv Series"},{"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"score":0,"creation_date":1687766248,"post_id":6321929,"comment_id":134977103,"body_markdown":"I&#39;m wriing another version of this story with some extra concepts of Java in [kungfu java](https://solothought.com/tutorial/kungfu-java-concepts/)","body":"I&#39;m wriing another version of this story with some extra concepts of Java in <a href=\"https://solothought.com/tutorial/kungfu-java-concepts/\" rel=\"nofollow noreferrer\">kungfu java</a>"}],"tags":[],"owner":{"account_id":205160,"reputation":7223,"user_id":453767,"accept_rate":61,"display_name":"Amit Kumar Gupta"},"comment_count":11,"down_vote_count":2,"up_vote_count":208,"is_accepted":false,"score":206,"last_activity_date":1687766091,"creation_date":1307881707,"answer_id":6321929,"question_id":2475448,"body_markdown":"**Short story about serialization**\r\n\r\nAfter many years of hard work, Earth&#39;s scientists developed a robot who can help them in daily work. But this robot had fewer features than the robots developed by the scientists from planet Mars.\r\n\r\nAfter a meeting between both planets&#39; scientists, it is decided that Mars will send their robots to Earth. But a problem occurred. The cost of sending 100 robots to Earth was $100 million. And it takes around 60 days of traveling.\r\n\r\nFinally, Mars&#39; scientists decided to share their secret with Earth&#39;s scientists. This secret was about the structure of class/robot. Earth&#39;s scientists developed the same structure on Earth itself. Mars&#39; scientists **serialized** the data of each robot and sent it to earth. Earth&#39;s scientists **deserialized** the data and fed it into each robot accordingly.\r\n\r\nThis process saved them time in communicating a massive amount of data.\r\n\r\nSome of the robots were being used in some defensive work on Mars. So their scientists marked some crucial properties of those robots as **transient** before sending their data to Earth. Note that the transient property is set to null (in case of reference) or to the default value (in case of the primitive type) when the object gets deserialized.\r\n\r\nOne more point noticed by Earth&#39;s scientists is that Mars&#39; scientists asked them to create some **static variables** to keep details about the environment. These details are used by some robots. But Mars&#39; scientists don&#39;t share these details. Because Earth&#39;s environment was different from Mars&#39; environment. \r\n\r\nEven though knowing about the robot class structure and having serialized data Earth&#39;s scientist were not able to deserialize the data which can make robots working.\r\n\r\n    Exception in thread &quot;main&quot; java.io.InvalidClassException:\r\n    SerializeMe; local class incompatible: stream classdesc\r\n    :\r\n\r\nMars&#39; scientists were waiting for the complete payment. Once the payment was done Mars&#39; scientists shared the serialversionUID with Earth&#39;s scientists. Earth&#39;s scientist set it to robot class and everything started working.\r\n\r\n**Update**\r\n\r\nThough with the help of serialization, they became able to send data using signals instead of actual spaceship, they realized that sending large set of data was still a challenge. Serialization make the process cheaper and faster but it was still slow. Hence the different scientists came up with different ideas to reduce the data size. Some scientists suggested to compress the data and some suggested to use different mechanism to represent it so it can be deserialized back. Some of the ideas are [XML](https://en.wikipedia.org/wiki/XML), [JSON](https://www.json.org/), [msgpack](https://msgpack.org), [Nimn](https://solothought.com/nimn/)","title":"What is the need of serialization of objects in Java?","body":"<p><strong>Short story about serialization</strong></p>\n<p>After many years of hard work, Earth's scientists developed a robot who can help them in daily work. But this robot had fewer features than the robots developed by the scientists from planet Mars.</p>\n<p>After a meeting between both planets' scientists, it is decided that Mars will send their robots to Earth. But a problem occurred. The cost of sending 100 robots to Earth was $100 million. And it takes around 60 days of traveling.</p>\n<p>Finally, Mars' scientists decided to share their secret with Earth's scientists. This secret was about the structure of class/robot. Earth's scientists developed the same structure on Earth itself. Mars' scientists <strong>serialized</strong> the data of each robot and sent it to earth. Earth's scientists <strong>deserialized</strong> the data and fed it into each robot accordingly.</p>\n<p>This process saved them time in communicating a massive amount of data.</p>\n<p>Some of the robots were being used in some defensive work on Mars. So their scientists marked some crucial properties of those robots as <strong>transient</strong> before sending their data to Earth. Note that the transient property is set to null (in case of reference) or to the default value (in case of the primitive type) when the object gets deserialized.</p>\n<p>One more point noticed by Earth's scientists is that Mars' scientists asked them to create some <strong>static variables</strong> to keep details about the environment. These details are used by some robots. But Mars' scientists don't share these details. Because Earth's environment was different from Mars' environment.</p>\n<p>Even though knowing about the robot class structure and having serialized data Earth's scientist were not able to deserialize the data which can make robots working.</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.InvalidClassException:\nSerializeMe; local class incompatible: stream classdesc\n:\n</code></pre>\n<p>Mars' scientists were waiting for the complete payment. Once the payment was done Mars' scientists shared the serialversionUID with Earth's scientists. Earth's scientist set it to robot class and everything started working.</p>\n<p><strong>Update</strong></p>\n<p>Though with the help of serialization, they became able to send data using signals instead of actual spaceship, they realized that sending large set of data was still a challenge. Serialization make the process cheaper and faster but it was still slow. Hence the different scientists came up with different ideas to reduce the data size. Some scientists suggested to compress the data and some suggested to use different mechanism to represent it so it can be deserialized back. Some of the ideas are <a href=\"https://en.wikipedia.org/wiki/XML\" rel=\"nofollow noreferrer\">XML</a>, <a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a>, <a href=\"https://msgpack.org\" rel=\"nofollow noreferrer\">msgpack</a>, <a href=\"https://solothought.com/nimn/\" rel=\"nofollow noreferrer\">Nimn</a></p>\n"},{"tags":[],"owner":{"account_id":1636164,"reputation":17313,"user_id":1509583,"accept_rate":20,"display_name":"Gagandeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342849001,"creation_date":1342849001,"answer_id":11589778,"question_id":2475448,"body_markdown":"And you can also implement object cloning using serialization","title":"What is the need of serialization of objects in Java?","body":"<p>And you can also implement object cloning using serialization</p>\n"},{"tags":[],"owner":{"account_id":4323373,"reputation":77,"user_id":3530829,"accept_rate":50,"display_name":"user095736"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404380864,"creation_date":1404380864,"answer_id":24550348,"question_id":2475448,"body_markdown":"Serialization generally referred as conversion of Object in to series of bits. it&#39;s an essential one in java since java mainly meant for web-based app&#39;s i mean to make the data to be available across the network \r\n","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization generally referred as conversion of Object in to series of bits. it's an essential one in java since java mainly meant for web-based app's i mean to make the data to be available across the network </p>\n"},{"tags":[],"owner":{"account_id":7799666,"reputation":2135,"user_id":5899585,"display_name":"larsaars"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549459848,"creation_date":1549459848,"answer_id":54554826,"question_id":2475448,"body_markdown":"    public class Serializer {\r\n    \r\n        public static void write(Object o, File f) throws IOException {\r\n            f.delete();\r\n            f.createNewFile();\r\n            FileOutputStream fileOut = new FileOutputStream(f);\r\n            ObjectOutputStream out = new ObjectOutputStream(fileOut);\r\n            out.writeObject(o);\r\n            out.close();\r\n            fileOut.close();\r\n        }\r\n    \r\n        public static Object read(File f) throws Exception{\r\n            FileInputStream fileIn = new FileInputStream(f);\r\n            ObjectInputStream in = new ObjectInputStream(fileIn);\r\n            Object e = in.readObject();\r\n            in.close();\r\n            fileIn.close();\r\n            return e;\r\n        }\r\n    \r\n        public static byte[] toBytes(Object o) {\r\n            byte[] bytes = null;\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            ObjectOutput out = null;\r\n            try {\r\n                out = new ObjectOutputStream(bos);\r\n                out.writeObject(o);\r\n                out.flush();\r\n                bytes = bos.toByteArray();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    bos.close();\r\n                } catch (IOException ex) {\r\n                    // ignore close exception\r\n                }\r\n            }\r\n    \r\n            return bytes;\r\n        }\r\n    \r\n        public static Object fromBytes(byte[] bytes) {\r\n            Object o = null;\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\r\n            ObjectInput in = null;\r\n            try {\r\n                in = new ObjectInputStream(bis);\r\n                o = in.readObject();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (ClassNotFoundException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n                    if (in != null) {\r\n                        in.close();\r\n                    }\r\n                } catch (IOException ex) {\r\n                    // ignore close exception\r\n                }\r\n            }\r\n    \r\n            return o;\r\n        }\r\n    }","title":"What is the need of serialization of objects in Java?","body":"<pre><code>public class Serializer {\n\n    public static void write(Object o, File f) throws IOException {\n        f.delete();\n        f.createNewFile();\n        FileOutputStream fileOut = new FileOutputStream(f);\n        ObjectOutputStream out = new ObjectOutputStream(fileOut);\n        out.writeObject(o);\n        out.close();\n        fileOut.close();\n    }\n\n    public static Object read(File f) throws Exception{\n        FileInputStream fileIn = new FileInputStream(f);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        Object e = in.readObject();\n        in.close();\n        fileIn.close();\n        return e;\n    }\n\n    public static byte[] toBytes(Object o) {\n        byte[] bytes = null;\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ObjectOutput out = null;\n        try {\n            out = new ObjectOutputStream(bos);\n            out.writeObject(o);\n            out.flush();\n            bytes = bos.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                bos.close();\n            } catch (IOException ex) {\n                // ignore close exception\n            }\n        }\n\n        return bytes;\n    }\n\n    public static Object fromBytes(byte[] bytes) {\n        Object o = null;\n        ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\n        ObjectInput in = null;\n        try {\n            in = new ObjectInputStream(bis);\n            o = in.readObject();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (in != null) {\n                    in.close();\n                }\n            } catch (IOException ex) {\n                // ignore close exception\n            }\n        }\n\n        return o;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12811049,"reputation":95,"user_id":9269259,"display_name":"Java By Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582209581,"creation_date":1582209581,"answer_id":60322391,"question_id":2475448,"body_markdown":"Serialization is needed when there is a problem in sending data from one class to another.\r\nWhere the other class is on a different location or Hard Disk. i.e. in Distributed Systems\r\n\r\nThe reverse operation of serialisation is called deserialization\r\n\r\nThe String Class and all wrapper classes implement serializable interface by default\r\n\r\nSerializable interface is also marker interface which provides the capability of Serialization to your class. So, we should implement a serializable interface if we want to send the state of an object over the network","title":"What is the need of serialization of objects in Java?","body":"<p>Serialization is needed when there is a problem in sending data from one class to another.\nWhere the other class is on a different location or Hard Disk. i.e. in Distributed Systems</p>\n\n<p>The reverse operation of serialisation is called deserialization</p>\n\n<p>The String Class and all wrapper classes implement serializable interface by default</p>\n\n<p>Serializable interface is also marker interface which provides the capability of Serialization to your class. So, we should implement a serializable interface if we want to send the state of an object over the network</p>\n"}],"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85372,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"closed_date":1582227658,"accepted_answer_id":2475485,"answer_count":9,"score":74,"last_activity_date":1687766091,"creation_date":1268981212,"question_id":2475448,"body_markdown":"Can anyone tell me what is the need of Serialization of objects in Java and give me an example scenario to explain the need? (I already understand what serialization is, I just want to understand when you&#39;d use it and how&#39;d use it?).","title":"What is the need of serialization of objects in Java?","body":"<p>Can anyone tell me what is the need of Serialization of objects in Java and give me an example scenario to explain the need? (I already understand what serialization is, I just want to understand when you'd use it and how'd use it?).</p>\n"},{"tags":["java","testng","command-prompt","testng.xml"],"owner":{"account_id":5184905,"reputation":63,"user_id":5273423,"display_name":"Garudaraja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687766021,"creation_date":1687766021,"question_id":76554619,"body_markdown":"Overnight I was running test cases using the xmlsuite file from the Windows command prompt and I see that there was an exception when running test cases. Unfortunately I can&#39;t get back the buffer that left from the command prompt, so I was looking at made testng track last run and store the result/information in any place.\r\n\r\nI would appreciate it if you could assist in retrieving the final details of the execution.","title":"Location of Testng logs unless explicitly logged","body":"<p>Overnight I was running test cases using the xmlsuite file from the Windows command prompt and I see that there was an exception when running test cases. Unfortunately I can't get back the buffer that left from the command prompt, so I was looking at made testng track last run and store the result/information in any place.</p>\n<p>I would appreciate it if you could assist in retrieving the final details of the execution.</p>\n"},{"tags":["java","maven","maven-3","maven-site-plugin"],"comments":[{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":1,"creation_date":1686909475,"post_id":76488857,"comment_id":134866405,"body_markdown":"Try to create a maven [profile](https://maven.apache.org/guides/introduction/introduction-to-profiles.html), with the build section in it. One profile for aggregated reports and one without. Keep in mind, that the configuration you add to the `pluginManagement` section is inherited to all other declarations and need to be removed.","body":"Try to create a maven <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">profile</a>, with the build section in it. One profile for aggregated reports and one without. Keep in mind, that the configuration you add to the <code>pluginManagement</code> section is inherited to all other declarations and need to be removed."},{"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"score":0,"creation_date":1686918959,"post_id":76488857,"comment_id":134868303,"body_markdown":"@luckyluke Thanks for your comment. I don&#39;t want to use Maven profiles (should have added that to the question). Your hint regarding the inheritance of the `pluginManagement` section guided me into the right direction: I&#39;ve explicitly added a `reportSet` with the report `taglist` for the plugin. By adding the `aggregate` option to the `configuration` of that `reportSet`, I was able to include both reports in the Maven site. I may add an extensive answer later.","body":"@luckyluke Thanks for your comment. I don&#39;t want to use Maven profiles (should have added that to the question). Your hint regarding the inheritance of the <code>pluginManagement</code> section guided me into the right direction: I&#39;ve explicitly added a <code>reportSet</code> with the report <code>taglist</code> for the plugin. By adding the <code>aggregate</code> option to the <code>configuration</code> of that <code>reportSet</code>, I was able to include both reports in the Maven site. I may add an extensive answer later."}],"answers":[{"tags":[],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687765004,"creation_date":1687765004,"answer_id":76554492,"question_id":76488857,"body_markdown":"Thanks to the user &quot;luckyluke&quot; that guided me into the right direction. Here is the anwer to my question.\r\n\r\n---\r\n\r\nI was able to create both an aggregate report (in the Aggregator POM) **and** a non-aggregate report for each leaf/child POM with the &quot;MojoHaus Taglist Maven Plugin&quot;.\r\n\r\n1. Configure the plugin in the `&lt;build&gt;/&lt;pluginManagement&gt;` section of the Parent POM `pom.xml`.\r\n\r\n       &lt;build&gt;\r\n           &lt;pluginManagement&gt;\r\n               &lt;plugins&gt;\r\n                   &lt;plugin&gt;\r\n                       &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                       &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                       &lt;version&gt;3.0.0&lt;/version&gt;\r\n                       &lt;configuration&gt;\r\n                           &lt;emptyComments&gt;true&lt;/emptyComments&gt;\r\n                           &lt;linkXRef&gt;true&lt;/linkXRef&gt;\r\n                           &lt;multipleLineComments&gt;true&lt;/multipleLineComments&gt;\r\n                           &lt;showEmptyDetails&gt;true&lt;/showEmptyDetails&gt;\r\n                           &lt;skipTestSources&gt;false&lt;/skipTestSources&gt;\r\n                           &lt;tagListOptions&gt;\r\n                               &lt;tagClasses&gt;\r\n                                   &lt;tagClass&gt;\r\n                                       &lt;displayName&gt;To-do Tags&lt;/displayName&gt;\r\n                                       &lt;tags&gt;\r\n                                           &lt;tag&gt;\r\n                                               &lt;matchString&gt;TODO&lt;/matchString&gt;\r\n                                               &lt;matchType&gt;ignoreCase&lt;/matchType&gt;\r\n                                           &lt;/tag&gt;\r\n                                       &lt;/tags&gt;\r\n                                   &lt;/tagClass&gt;\r\n                                    &lt;/tagClasses&gt;\r\n                           &lt;/tagListOptions&gt;\r\n                       &lt;/configuration&gt;\r\n                   &lt;/plugin&gt;\r\n               &lt;/plugins&gt;\r\n           &lt;/pluginManagement&gt;\r\n       &lt;/build&gt;\r\n\r\n2. Define the non-aggregate report in the `&lt;reporting&gt;` section of the Parent POM `pom.xml`.\r\n\r\n       &lt;reporting&gt;\r\n           &lt;plugins&gt;\r\n               &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;version&gt;${io.github.florianwolters.version.taglist-maven-plugin}&lt;/version&gt;\r\n                   &lt;reportSets&gt;\r\n                       &lt;reportSet&gt;\r\n                       &lt;id&gt;taglist-report&lt;/id&gt;\r\n                       &lt;inherited&gt;true&lt;/inherited&gt;\r\n                       &lt;reports&gt;\r\n                           &lt;report&gt;taglist&lt;/report&gt;\r\n                       &lt;/reports&gt;\r\n                       &lt;configuration&gt;\r\n                           &lt;aggregate&gt;false&lt;/aggregate&gt;\r\n                       &lt;/configuration&gt;\r\n                       &lt;/reportSet&gt;\r\n                   &lt;/reportSets&gt;\r\n               &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n       &lt;/reporting&gt;\r\n\r\n3. Define the aggregate report in the `&lt;reporting&gt;` section of the Aggregator POM (that inherits the Parent POM) `pom.xml`.\r\n\r\n       &lt;reporting&gt;\r\n           &lt;plugins&gt;\r\n               &lt;plugin&gt;\r\n                   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                   &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\r\n                   &lt;reportSets&gt;\r\n                      &lt;reportSet&gt;\r\n                           &lt;id&gt;aggregate-taglist-report&lt;/id&gt;\r\n                           &lt;inherited&gt;false&lt;/inherited&gt;\r\n                           &lt;configuration&gt;\r\n                               &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                           &lt;/configuration&gt;\r\n                           &lt;reports&gt;\r\n                               &lt;report&gt;taglist&lt;/report&gt;\r\n                           &lt;/reports&gt;\r\n                       &lt;/reportSet&gt;\r\n                   &lt;/reportSets&gt;\r\n               &lt;/plugin&gt;\r\n           &lt;/plugins&gt;\r\n       &lt;/reporting&gt;","title":"How to generate one aggregate report in a multi-module project and non-aggregate reports for each child project with the MojoHaus Taglist Plugin?","body":"<p>Thanks to the user &quot;luckyluke&quot; that guided me into the right direction. Here is the anwer to my question.</p>\n<hr />\n<p>I was able to create both an aggregate report (in the Aggregator POM) <strong>and</strong> a non-aggregate report for each leaf/child POM with the &quot;MojoHaus Taglist Maven Plugin&quot;.</p>\n<ol>\n<li><p>Configure the plugin in the <code>&lt;build&gt;/&lt;pluginManagement&gt;</code> section of the Parent POM <code>pom.xml</code>.</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;emptyComments&gt;true&lt;/emptyComments&gt;\n                    &lt;linkXRef&gt;true&lt;/linkXRef&gt;\n                    &lt;multipleLineComments&gt;true&lt;/multipleLineComments&gt;\n                    &lt;showEmptyDetails&gt;true&lt;/showEmptyDetails&gt;\n                    &lt;skipTestSources&gt;false&lt;/skipTestSources&gt;\n                    &lt;tagListOptions&gt;\n                        &lt;tagClasses&gt;\n                            &lt;tagClass&gt;\n                                &lt;displayName&gt;To-do Tags&lt;/displayName&gt;\n                                &lt;tags&gt;\n                                    &lt;tag&gt;\n                                        &lt;matchString&gt;TODO&lt;/matchString&gt;\n                                        &lt;matchType&gt;ignoreCase&lt;/matchType&gt;\n                                    &lt;/tag&gt;\n                                &lt;/tags&gt;\n                            &lt;/tagClass&gt;\n                             &lt;/tagClasses&gt;\n                    &lt;/tagListOptions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n</li>\n<li><p>Define the non-aggregate report in the <code>&lt;reporting&gt;</code> section of the Parent POM <code>pom.xml</code>.</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${io.github.florianwolters.version.taglist-maven-plugin}&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                &lt;id&gt;taglist-report&lt;/id&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;reports&gt;\n                    &lt;report&gt;taglist&lt;/report&gt;\n                &lt;/reports&gt;\n                &lt;configuration&gt;\n                    &lt;aggregate&gt;false&lt;/aggregate&gt;\n                &lt;/configuration&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n</li>\n<li><p>Define the aggregate report in the <code>&lt;reporting&gt;</code> section of the Aggregator POM (that inherits the Parent POM) <code>pom.xml</code>.</p>\n<pre><code>&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;taglist-maven-plugin&lt;/artifactId&gt;\n            &lt;reportSets&gt;\n               &lt;reportSet&gt;\n                    &lt;id&gt;aggregate-taglist-report&lt;/id&gt;\n                    &lt;inherited&gt;false&lt;/inherited&gt;\n                    &lt;configuration&gt;\n                        &lt;aggregate&gt;true&lt;/aggregate&gt;\n                    &lt;/configuration&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;taglist&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554492,"answer_count":1,"score":0,"last_activity_date":1687765004,"creation_date":1686908073,"question_id":76488857,"body_markdown":"I am unable to create one Apache Maven site containing multiple reports generated by the [MojoHaus Taglist Plugin][1]. It seems that one either has to decide on an aggregate report or on an non-aggregate report. But I would like to have both in the site output:\r\n- aggregate report: Generated one for the Aggregator POM (multi-module). This should not be inherited, i.e. there should only be one report, even if additional Aggregator POMs are involved.\r\n- non-aggregate report: Generated for each Child POM.\r\n\r\nI have the following declared in my Aggregator POM `pom.xml`:\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!--\r\n                    TODO(2023-06-16 by wolters): It does not seem possible to create aggregate reports for a parent\r\n                    but non-aggregate reports for a child with the MojoHaus Taglist Plugin..\r\n                    --&gt;\r\n                    &lt;aggregate&gt;true&lt;/aggregate&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter running `mvn site-deploy` the created site contains an aggregated report for the multi-module project, but no report for the child project.\r\n\r\n1. Is it possible to achieve the creation of both reports with the MojoHaus Taglist Plugin?\r\n2. If it is possible: Can you provide a solution without using Maven profiles?\r\n\r\nI tried different approaches, e.g. adding the plugin to the `&lt;builds&gt;&lt;plugin&gt;` section and specifying an `&lt;execution&gt;`. But so far I wasn&#39;t able to achieve the desired result.\r\n\r\nI am using the following:\r\n- Apache Maven v3.9.2\r\n- MojoHaus Taglist Maven Plugin v3.0.0\r\n\r\n[1]: https://www.mojohaus.org/taglist-maven-plugin","title":"How to generate one aggregate report in a multi-module project and non-aggregate reports for each child project with the MojoHaus Taglist Plugin?","body":"<p>I am unable to create one Apache Maven site containing multiple reports generated by the <a href=\"https://www.mojohaus.org/taglist-maven-plugin\" rel=\"nofollow noreferrer\">MojoHaus Taglist Plugin</a>. It seems that one either has to decide on an aggregate report or on an non-aggregate report. But I would like to have both in the site output:</p>\n<ul>\n<li>aggregate report: Generated one for the Aggregator POM (multi-module). This should not be inherited, i.e. there should only be one report, even if additional Aggregator POMs are involved.</li>\n<li>non-aggregate report: Generated for each Child POM.</li>\n</ul>\n<p>I have the following declared in my Aggregator POM <code>pom.xml</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;configuration&gt;\n                &lt;!--\n                TODO(2023-06-16 by wolters): It does not seem possible to create aggregate reports for a parent\n                but non-aggregate reports for a child with the MojoHaus Taglist Plugin..\n                --&gt;\n                &lt;aggregate&gt;true&lt;/aggregate&gt;\n            &lt;/configuration&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After running <code>mvn site-deploy</code> the created site contains an aggregated report for the multi-module project, but no report for the child project.</p>\n<ol>\n<li>Is it possible to achieve the creation of both reports with the MojoHaus Taglist Plugin?</li>\n<li>If it is possible: Can you provide a solution without using Maven profiles?</li>\n</ol>\n<p>I tried different approaches, e.g. adding the plugin to the <code>&lt;builds&gt;&lt;plugin&gt;</code> section and specifying an <code>&lt;execution&gt;</code>. But so far I wasn't able to achieve the desired result.</p>\n<p>I am using the following:</p>\n<ul>\n<li>Apache Maven v3.9.2</li>\n<li>MojoHaus Taglist Maven Plugin v3.0.0</li>\n</ul>\n"},{"tags":["java","mergesort"],"answers":[{"comments":[{"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"score":0,"creation_date":1687764924,"post_id":75410062,"comment_id":134976866,"body_markdown":"@YyY: did this answer help? you can accept it by clicking on the grey checkmark below its score","body":"@YyY: did this answer help? you can accept it by clicking on the grey checkmark below its score"}],"tags":[],"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764864,"creation_date":1676026152,"answer_id":75410062,"question_id":75390053,"body_markdown":"The argument `high` in your code is the index of the last element in the slice to be sorted or merged. Are you sure you pass `array.length - 1` as the last argument to the topmost call to `mergeSort()`?\r\n\r\nAlso make sure you allocate the `temp` array with the same length as the array to be sorted.\r\n\r\nThis convention is confusing and does not allow for empty arrays. You might instead use a more idiomatic convention where `high` is the index of the element after the last one and you pass `array.length` to the topmost call.\r\n\r\nHere is a modified version:\r\n```\r\npublic static void mergeSort(int[] arr, int[] temp, int low, int high) {\r\n    if (high - low &gt; 1) {\r\n        int mid = low + (high - low) / 2;\r\n        mergeSort(arr, temp, low, mid);\r\n        mergeSort(arr, temp, mid, high);\r\n        merge(arr, temp, low, mid, high);\r\n    }\r\n}\r\n\r\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\r\n\r\n    for (int i = low; i &lt; high; i++) {\r\n        temp[i] = arr[i];\r\n    }\r\n    \r\n    int i = low;\r\n    int j = mid; \r\n    int k = low;\r\n    \r\n    while (i &lt; mid &amp;&amp; j &lt; high) {\r\n        if (temp[i] &lt;= temp[j]) {\r\n            arr[k++] = temp[i++];\r\n        } else {\r\n            arr[k++] = temp[j++];\r\n        }\r\n    }\r\n    while (i &lt; mid) {\r\n        arr[k++] = temp[i++];\r\n    }\r\n}\r\n```","title":"What is wrong with this code when i sort only a portion of an array not starting from index 0?","body":"<p>The argument <code>high</code> in your code is the index of the last element in the slice to be sorted or merged. Are you sure you pass <code>array.length - 1</code> as the last argument to the topmost call to <code>mergeSort()</code>?</p>\n<p>Also make sure you allocate the <code>temp</code> array with the same length as the array to be sorted.</p>\n<p>This convention is confusing and does not allow for empty arrays. You might instead use a more idiomatic convention where <code>high</code> is the index of the element after the last one and you pass <code>array.length</code> to the topmost call.</p>\n<p>Here is a modified version:</p>\n<pre><code>public static void mergeSort(int[] arr, int[] temp, int low, int high) {\n    if (high - low &gt; 1) {\n        int mid = low + (high - low) / 2;\n        mergeSort(arr, temp, low, mid);\n        mergeSort(arr, temp, mid, high);\n        merge(arr, temp, low, mid, high);\n    }\n}\n\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\n\n    for (int i = low; i &lt; high; i++) {\n        temp[i] = arr[i];\n    }\n    \n    int i = low;\n    int j = mid; \n    int k = low;\n    \n    while (i &lt; mid &amp;&amp; j &lt; high) {\n        if (temp[i] &lt;= temp[j]) {\n            arr[k++] = temp[i++];\n        } else {\n            arr[k++] = temp[j++];\n        }\n    }\n    while (i &lt; mid) {\n        arr[k++] = temp[i++];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27737586,"reputation":9,"user_id":21174796,"display_name":"YyY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687764864,"creation_date":1675879892,"question_id":75390053,"body_markdown":"When I use `mergeSort` to sort a portion of an array it gives `ArrayIndexOutOfBoundsException` but if I merge a portion starting from the index 0 to any other index it works why?\r\n \r\n```\r\npublic static void mergeSort(int[] arr, int[] temp, int low, int high) {\r\n\tif (low &lt; high) {\r\n\t\tint mid = low + (high - low) / 2;\r\n\t\t\r\n\t\tmergeSort(arr, temp, low, mid);\r\n\t\tmergeSort(arr, temp, mid + 1, high);\r\n\t\tmerge(arr, temp, low, mid, high);\r\n\t}\r\n}\r\n\r\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\r\n\r\n\tfor (int i = low; i &lt;= high; i++) {\r\n\t\ttemp[i] = arr[i];\r\n\t}\r\n\t\r\n\tint i = low;\r\n\tint j = mid + 1; \r\n\tint k = low;\r\n\t\r\n\twhile (i &lt;= mid &amp;&amp; j &lt;= high) {\r\n\t\tif (temp[i] &lt;= temp[j]) {\r\n\t\t\tarr[k] = temp[i];\r\n\t\t\ti++;\r\n\t\t} else {\r\n\t\t\tarr[k] = temp[j];\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tk++;\r\n\t}\r\n\twhile (i &lt;= mid) {\r\n\t\tarr[k] = temp[i];\r\n\t\ti++;\r\n\t\tk++;\r\n\t}\r\n}\r\n```\r\n\r\nI get an error `ArrayIndexOutOfBoundsException`.\r\n","title":"What is wrong with this code when i sort only a portion of an array not starting from index 0?","body":"<p>When I use <code>mergeSort</code> to sort a portion of an array it gives <code>ArrayIndexOutOfBoundsException</code> but if I merge a portion starting from the index 0 to any other index it works why?</p>\n<pre><code>public static void mergeSort(int[] arr, int[] temp, int low, int high) {\n    if (low &lt; high) {\n        int mid = low + (high - low) / 2;\n        \n        mergeSort(arr, temp, low, mid);\n        mergeSort(arr, temp, mid + 1, high);\n        merge(arr, temp, low, mid, high);\n    }\n}\n\npublic static void merge(int[] arr, int[] temp, int low, int mid, int high) {\n\n    for (int i = low; i &lt;= high; i++) {\n        temp[i] = arr[i];\n    }\n    \n    int i = low;\n    int j = mid + 1; \n    int k = low;\n    \n    while (i &lt;= mid &amp;&amp; j &lt;= high) {\n        if (temp[i] &lt;= temp[j]) {\n            arr[k] = temp[i];\n            i++;\n        } else {\n            arr[k] = temp[j];\n            j++;\n        }\n        k++;\n    }\n    while (i &lt;= mid) {\n        arr[k] = temp[i];\n        i++;\n        k++;\n    }\n}\n</code></pre>\n<p>I get an error <code>ArrayIndexOutOfBoundsException</code>.</p>\n"},{"tags":["java","spring-boot","migration","hibernate-6.x"],"answers":[{"tags":[],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687762082,"creation_date":1687762082,"answer_id":76554150,"question_id":76479175,"body_markdown":"I found the methods greaterThan(), lessThan() in CriteriaBuilder that I have used.\r\n\r\nFor example, \r\n\r\n    predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\r\n                ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\r\n\r\nupdated to,\r\n\r\n    predicates.add(builder.greaterThan(root.get(&quot;startDate&quot;), startDate);\r\n\r\n\r\nHope this helps someone!","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>I found the methods greaterThan(), lessThan() in CriteriaBuilder that I have used.</p>\n<p>For example,</p>\n<pre><code>predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\n            ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\n</code></pre>\n<p>updated to,</p>\n<pre><code>predicates.add(builder.greaterThan(root.get(&quot;startDate&quot;), startDate);\n</code></pre>\n<p>Hope this helps someone!</p>\n"},{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764419,"creation_date":1687764419,"answer_id":76554419,"question_id":76479175,"body_markdown":"you can try this approach also\r\n\r\n    if(Optional.ofNullable(getStartDate()).isPresent()) {\r\n                predicates.and(root.get(&quot;startDate&quot;).goe(startDate));\r\n            }\r\n\r\n","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>you can try this approach also</p>\n<pre><code>if(Optional.ofNullable(getStartDate()).isPresent()) {\n            predicates.and(root.get(&quot;startDate&quot;).goe(startDate));\n        }\n</code></pre>\n"}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76554150,"answer_count":2,"score":0,"last_activity_date":1687764419,"creation_date":1686804153,"question_id":76479175,"body_markdown":"We are migrating from springboot 2.5 to the latest 3.1.0, which means hibernate migration 5.x to 6.x.\r\n\r\nI have below code which use two classes &#39;CriteriaBuilderImpl&#39; and &#39;ComparisonPredicate&#39;, which I think are removed in hibernate 6.x. As I have read the migration guides (https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria) which calls for an action =&gt; Migrate existing code that relies on legacy Hibernate Criteria API to the JPA Criteria API.\r\n\r\nCan someone please suggest how the below code can be migrated to be hibernate 6.x comptatible ? As of now with springboot 3.1.0, the below code gives me &#39;cannot find symbol&#39; for the above two classes.\r\nThanks in advance.\r\n  \r\n\r\n    import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\r\n    import org.hibernate.query.criteria.internal.predicate.ComparisonPredicate;       \r\n\r\n        private Specification&lt;ProductDAO&gt; getSpecFromDatesAndExample(CriteriaBuilder builder, Date startDate, Date endDate) {\r\n               final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n               \r\n               predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\r\n                    ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\r\n    \r\n               predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder, \r\n                    ComparisonPredicate.ComparisonOperator.LESS_THAN, root.get(&quot;endDate&quot;), endDate));\r\n        \r\n                    return builder.and(predicates.toArray(new Predicate[predicates.size()]));\r\n   \r\n        }","title":"Migrated from Hibernate 5.x to Hibernate 6.x - How to migrate ComparisonPredicate class usage","body":"<p>We are migrating from springboot 2.5 to the latest 3.1.0, which means hibernate migration 5.x to 6.x.</p>\n<p>I have below code which use two classes 'CriteriaBuilderImpl' and 'ComparisonPredicate', which I think are removed in hibernate 6.x. As I have read the migration guides (<a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0:-Hibernate-ORM-5-to-6-migration#legacy-criteria</a>) which calls for an action =&gt; Migrate existing code that relies on legacy Hibernate Criteria API to the JPA Criteria API.</p>\n<p>Can someone please suggest how the below code can be migrated to be hibernate 6.x comptatible ? As of now with springboot 3.1.0, the below code gives me 'cannot find symbol' for the above two classes.\nThanks in advance.</p>\n<pre><code>import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\nimport org.hibernate.query.criteria.internal.predicate.ComparisonPredicate;       \n\n    private Specification&lt;ProductDAO&gt; getSpecFromDatesAndExample(CriteriaBuilder builder, Date startDate, Date endDate) {\n           final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n           \n           predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder,\n                ComparisonPredicate.ComparisonOperator.GREATER_THAN, root.get(&quot;startDate&quot;), startDate));\n\n           predicates.add(new ComparisonPredicate((CriteriaBuilderImpl) builder, \n                ComparisonPredicate.ComparisonOperator.LESS_THAN, root.get(&quot;endDate&quot;), endDate));\n    \n                return builder.and(predicates.toArray(new Predicate[predicates.size()]));\n\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-3","maven-site-plugin"],"comments":[{"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"score":0,"creation_date":1688391924,"post_id":76533243,"comment_id":135064228,"body_markdown":"I do think it is impossible because the `aggregate` reports have to be declared on the same level on which the `mvn site site:stage` command is executed, in order to make it work. Note that this does **not** prevent one to add additional multi-module projects below the Aggregate POM (which is on the top-level, but below the Company POM). By doing this, I got the directory structure I wanted, but also the POM inheritance structure I wanted. I do not know, if this costs runtime penalties during Maven Site generation. So far, I did not observe any duplicate (unwanted) reports in the output.","body":"I do think it is impossible because the <code>aggregate</code> reports have to be declared on the same level on which the <code>mvn site site:stage</code> command is executed, in order to make it work. Note that this does <b>not</b> prevent one to add additional multi-module projects below the Aggregate POM (which is on the top-level, but below the Company POM). By doing this, I got the directory structure I wanted, but also the POM inheritance structure I wanted. I do not know, if this costs runtime penalties during Maven Site generation. So far, I did not observe any duplicate (unwanted) reports in the output."}],"owner":{"account_id":479022,"reputation":3882,"user_id":891439,"accept_rate":59,"display_name":"Florian Wolters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687764263,"creation_date":1687446089,"question_id":76533243,"body_markdown":"**Update:** I&#39;ve created a Short, Self Contained, Correct Example (SSCCE) [here][2].\r\n\r\nI&#39;m currently refactoring a multi-module Apache Maven Proof-of-Concept project and have an issue regarding `reporting` plugins or the Maven Site generation.\r\n\r\nMy structure is as follows (list intent == inheritance):\r\n\r\n- Company POM\r\n  -  Company Bills of Material (BoM)\r\n- Aggregator POM\r\n  - Code Project Aggregator POM (all source code projects)\r\n    - Library JAR\r\n    - Application JAR\r\n  - Code Coverage Aggregator POM (a non-source code project)\r\n\r\nThe Company POM uses Convention-over-Configuration and does not define any `inherited` reports, but only &quot;single&quot; reports, e.g:\r\n\r\n    &lt;reporting&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n            &lt;reportSets&gt;\r\n                &lt;reportSet&gt;\r\n                    &lt;reports&gt;\r\n                        &lt;report&gt;pmd&lt;/report&gt;\r\n                    &lt;/reports&gt;\r\n                &lt;/reportSet&gt;\r\n            &lt;/reportSets&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\nThe top-level &quot;Aggregator POM&quot; does not define any `reporting` plugins. It&#39;s main purpose is to aggregate and allow to separate the &quot;source code&quot; and &quot;non-source code&quot; child projects:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;pom/code-project-aggregator&lt;/module&gt;\r\n        &lt;module&gt;pom/code-coverage-aggregator&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\nThe &quot;Code Project Aggregator POM&quot; defines the `aggregate` reports with `&lt;inherited&gt;false&lt;/inherited&gt;` and includes all source code projects as modules:\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;../../lib/foo&lt;/module&gt;\r\n        &lt;module&gt;../../app/bar&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;reporting&gt;\r\n      &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n              &lt;reportSets&gt;\r\n                  &lt;reportSet&gt;\r\n                      &lt;id&gt;aggregate&lt;/id&gt;\r\n                      &lt;inherited&gt;false&lt;/inherited&gt;\r\n                      &lt;reports&gt;\r\n                          &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n                      &lt;/reports&gt;\r\n                  &lt;/reportSet&gt;\r\n              &lt;/reportSets&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n\r\nThe problem is, that the generated Maven Site for the top-level &quot;Aggregator POM&quot; does not include the reports if calling `mvn verify site-deploy`.\r\n\r\nThe reports are generated if `mvn verify site-deploy` is called for the &quot;Code Project Aggregator POM&quot;. But I want to create the top-level site. I don&#39;t understand what is happening here: It seems that the aggregate reports are not bound to `site` if called on the top level.\r\n\r\nTwo questions:\r\n\r\n1. Can someone explain this behavior?\r\n2. Can someone provide the solution (or guide me into the right direction) that generates and includes the aggregate reports in the child multi-module project if calling `mvn verify site-deploy` on the top multi-module project?\r\n\r\nI&#39;ve read [Building multi-module sites][1], but couldn&#39;t find any mention of issues regarding my approach.\r\n\r\n**Update #1 2023-06-23:** I&#39;ve looked at the Effective POM of &quot;Code Project Aggregator POM&quot; and the `aggregate` reports are included there. It seems they are simply not &quot;triggered&quot; if calling `mvn verify site-deploy` on the parent project.\r\n\r\n    &lt;reporting&gt;\r\n      &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;pmd&lt;/report&gt;\r\n              &lt;report&gt;cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n              &lt;report&gt;aggregate-cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n            &lt;inherited&gt;false&lt;/inherited&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/reporting&gt;\r\n\r\n**Update #2 2023-06-23:** I was able to fix the PMD aggregate report creation by specifiying a unique `&lt;id&gt;` to each and every `reportSet` in the `pom.xml` files. **But:** This is **not** the complete solution, because it did not fix aggregate report creation for other plugins, e.g. Checkstyle, JXR, Surefire, Failsafe and Taglist. I took a closer look at the Effective POM and I am unable to explain this behavior. Both PMD and Checkstyle are registered for the `maven-site-plugin` below `&lt;build&gt;/&lt;plugin&gt;` in the `execution` with the ID `default-site` as a `reportPlugin`:\r\n\r\n    &lt;reportPlugins&gt;\r\n      &lt;reportPlugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;checkstyle-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;checkstyle&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate-checkstyle-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;checkstyle-aggregate&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/reportPlugin&gt;\r\n      &lt;reportPlugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.21.0&lt;/version&gt;\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;pmd-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;pmd&lt;/report&gt;\r\n              &lt;report&gt;cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate-pmd-report&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;aggregate-pmd&lt;/report&gt;\r\n              &lt;report&gt;aggregate-cpd&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/reportPlugin&gt;\r\n    &lt;/reportPlugins&gt;\r\n\r\n**Update 3 2023-06-26:** I&#39;ve created a Short, Self Contained, Correct Example (SSCCE) as a [Git repository on GitHub][2].\r\n\r\n[1]: https://maven.apache.org/plugins/maven-site-plugin/examples/multimodule.html\r\n[2]: https://github.com/FlorianWolters/stackoverflow-76533243","title":"How to add aggregate site reports in a nested multi-module project to the site of a parent multi-module project with Apache Maven?","body":"<p><strong>Update:</strong> I've created a Short, Self Contained, Correct Example (SSCCE) <a href=\"https://github.com/FlorianWolters/stackoverflow-76533243\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I'm currently refactoring a multi-module Apache Maven Proof-of-Concept project and have an issue regarding <code>reporting</code> plugins or the Maven Site generation.</p>\n<p>My structure is as follows (list intent == inheritance):</p>\n<ul>\n<li>Company POM\n<ul>\n<li>Company Bills of Material (BoM)</li>\n</ul>\n</li>\n<li>Aggregator POM\n<ul>\n<li>Code Project Aggregator POM (all source code projects)\n<ul>\n<li>Library JAR</li>\n<li>Application JAR</li>\n</ul>\n</li>\n<li>Code Coverage Aggregator POM (a non-source code project)</li>\n</ul>\n</li>\n</ul>\n<p>The Company POM uses Convention-over-Configuration and does not define any <code>inherited</code> reports, but only &quot;single&quot; reports, e.g:</p>\n<pre><code>&lt;reporting&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n        &lt;reportSets&gt;\n            &lt;reportSet&gt;\n                &lt;reports&gt;\n                    &lt;report&gt;pmd&lt;/report&gt;\n                &lt;/reports&gt;\n            &lt;/reportSet&gt;\n        &lt;/reportSets&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>The top-level &quot;Aggregator POM&quot; does not define any <code>reporting</code> plugins. It's main purpose is to aggregate and allow to separate the &quot;source code&quot; and &quot;non-source code&quot; child projects:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;pom/code-project-aggregator&lt;/module&gt;\n    &lt;module&gt;pom/code-coverage-aggregator&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p>The &quot;Code Project Aggregator POM&quot; defines the <code>aggregate</code> reports with <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> and includes all source code projects as modules:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;../../lib/foo&lt;/module&gt;\n    &lt;module&gt;../../app/bar&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;reporting&gt;\n  &lt;plugins&gt;\n      &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n          &lt;reportSets&gt;\n              &lt;reportSet&gt;\n                  &lt;id&gt;aggregate&lt;/id&gt;\n                  &lt;inherited&gt;false&lt;/inherited&gt;\n                  &lt;reports&gt;\n                      &lt;report&gt;aggregate-pmd&lt;/report&gt;\n                  &lt;/reports&gt;\n              &lt;/reportSet&gt;\n          &lt;/reportSets&gt;\n      &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p>The problem is, that the generated Maven Site for the top-level &quot;Aggregator POM&quot; does not include the reports if calling <code>mvn verify site-deploy</code>.</p>\n<p>The reports are generated if <code>mvn verify site-deploy</code> is called for the &quot;Code Project Aggregator POM&quot;. But I want to create the top-level site. I don't understand what is happening here: It seems that the aggregate reports are not bound to <code>site</code> if called on the top level.</p>\n<p>Two questions:</p>\n<ol>\n<li>Can someone explain this behavior?</li>\n<li>Can someone provide the solution (or guide me into the right direction) that generates and includes the aggregate reports in the child multi-module project if calling <code>mvn verify site-deploy</code> on the top multi-module project?</li>\n</ol>\n<p>I've read <a href=\"https://maven.apache.org/plugins/maven-site-plugin/examples/multimodule.html\" rel=\"nofollow noreferrer\">Building multi-module sites</a>, but couldn't find any mention of issues regarding my approach.</p>\n<p><strong>Update #1 2023-06-23:</strong> I've looked at the Effective POM of &quot;Code Project Aggregator POM&quot; and the <code>aggregate</code> reports are included there. It seems they are simply not &quot;triggered&quot; if calling <code>mvn verify site-deploy</code> on the parent project.</p>\n<pre><code>&lt;reporting&gt;\n  &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;reports&gt;\n          &lt;report&gt;pmd&lt;/report&gt;\n          &lt;report&gt;cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;aggregate-pmd&lt;/report&gt;\n          &lt;report&gt;aggregate-cpd&lt;/report&gt;\n        &lt;/reports&gt;\n        &lt;inherited&gt;false&lt;/inherited&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/plugin&gt;\n&lt;/reporting&gt;\n</code></pre>\n<p><strong>Update #2 2023-06-23:</strong> I was able to fix the PMD aggregate report creation by specifiying a unique <code>&lt;id&gt;</code> to each and every <code>reportSet</code> in the <code>pom.xml</code> files. <strong>But:</strong> This is <strong>not</strong> the complete solution, because it did not fix aggregate report creation for other plugins, e.g. Checkstyle, JXR, Surefire, Failsafe and Taglist. I took a closer look at the Effective POM and I am unable to explain this behavior. Both PMD and Checkstyle are registered for the <code>maven-site-plugin</code> below <code>&lt;build&gt;/&lt;plugin&gt;</code> in the <code>execution</code> with the ID <code>default-site</code> as a <code>reportPlugin</code>:</p>\n<pre><code>&lt;reportPlugins&gt;\n  &lt;reportPlugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;checkstyle-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;checkstyle&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate-checkstyle-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;checkstyle-aggregate&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/reportPlugin&gt;\n  &lt;reportPlugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.21.0&lt;/version&gt;\n    &lt;reportSets&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;pmd-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;pmd&lt;/report&gt;\n          &lt;report&gt;cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n      &lt;reportSet&gt;\n        &lt;id&gt;aggregate-pmd-report&lt;/id&gt;\n        &lt;reports&gt;\n          &lt;report&gt;aggregate-pmd&lt;/report&gt;\n          &lt;report&gt;aggregate-cpd&lt;/report&gt;\n        &lt;/reports&gt;\n      &lt;/reportSet&gt;\n    &lt;/reportSets&gt;\n  &lt;/reportPlugin&gt;\n&lt;/reportPlugins&gt;\n</code></pre>\n<p><strong>Update 3 2023-06-26:</strong> I've created a Short, Self Contained, Correct Example (SSCCE) as a <a href=\"https://github.com/FlorianWolters/stackoverflow-76533243\" rel=\"nofollow noreferrer\">Git repository on GitHub</a>.</p>\n"},{"tags":["java","multithreading","thread-safety","threadpool"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":3,"creation_date":1687763973,"post_id":76554348,"comment_id":134976657,"body_markdown":"It depends on mainly things: Your requirements and your system configs. So there is no direct yes or no to this question.","body":"It depends on mainly things: Your requirements and your system configs. So there is no direct yes or no to this question."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687772060,"post_id":76554348,"comment_id":134978190,"body_markdown":"If your only requirement is to minimize the number of threads, then why create any threads at all? What is driving you to want more than one thread?","body":"If your only requirement is to minimize the number of threads, then why create any threads at all? What is driving you to want more than one thread?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1687772536,"post_id":76554348,"comment_id":134978303,"body_markdown":"P.S., Thread  pool always is better than continually creating and destroying short-lived threads. But `size==1` is a special case. You usually only see `size==1` when there is a requirement for tasks to run &quot;in the background,&quot; but must be executed _sequentially_ &quot;in the background.&quot;","body":"P.S., Thread  pool always is better than continually creating and destroying short-lived threads. But <code>size==1</code> is a special case. You usually only see <code>size==1</code> when there is a requirement for tasks to run &quot;in the background,&quot; but must be executed <i>sequentially</i> &quot;in the background.&quot;"},{"owner":{"account_id":7869153,"reputation":55,"user_id":5947073,"accept_rate":0,"display_name":"P.Ellis"},"score":0,"creation_date":1687777949,"post_id":76554348,"comment_id":134979351,"body_markdown":"I need to run the tasks in the background and only one component should use the synchronized block at a time so I think a threadpool size ==1 seems to be the better approach for my use case (and the block need not be synchronized). Thank you","body":"I need to run the tasks in the background and only one component should use the synchronized block at a time so I think a threadpool size ==1 seems to be the better approach for my use case (and the block need not be synchronized). Thank you"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687764230,"creation_date":1687764230,"answer_id":76554398,"question_id":76554348,"body_markdown":"It depends on your requirements. For CPU intensive tasks, you&#39;ll want to limit the number of threads to the number of CPU cores. For I/O intensive tasks, you can go higher, as many of those threads will be idle or waiting. Java offers a lot of configuration options, I&#39;d start with reading about [Executors](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html).\r\n\r\nYou mentioned a `synchronized` block. If that covers most or all of your &quot;async&quot; task, there&#39;s not much point in having more than one thread. But note that if you have multiple instances of a class which has a `synchronized` *instance* method (so not a static method), those won&#39;t block each other.","title":"Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating","body":"<p>It depends on your requirements. For CPU intensive tasks, you'll want to limit the number of threads to the number of CPU cores. For I/O intensive tasks, you can go higher, as many of those threads will be idle or waiting. Java offers a lot of configuration options, I'd start with reading about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a>.</p>\n<p>You mentioned a <code>synchronized</code> block. If that covers most or all of your &quot;async&quot; task, there's not much point in having more than one thread. But note that if you have multiple instances of a class which has a <code>synchronized</code> <em>instance</em> method (so not a static method), those won't block each other.</p>\n"}],"owner":{"account_id":7869153,"reputation":55,"user_id":5947073,"accept_rate":0,"display_name":"P.Ellis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687764230,"creation_date":1687763843,"question_id":76554348,"body_markdown":"I don&#39;t work with threads very much. I have about 500 instances of a class using a synchronized block. I need to minimise the number of threads as much as possible.\r\n\r\nIs it better to have a threadpool size = 1 or many threads being created, running a small task and terminating?","title":"Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating","body":"<p>I don't work with threads very much. I have about 500 instances of a class using a synchronized block. I need to minimise the number of threads as much as possible.</p>\n<p>Is it better to have a threadpool size = 1 or many threads being created, running a small task and terminating?</p>\n"},{"tags":["java","quarkus","mutiny","quarkus-reactive"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1667831200,"post_id":74347822,"comment_id":131254903,"body_markdown":"`Uni.createFrom().item(finalList)` creates a `Uni` that is already complete. You need to create a `Uni` that is incomplete (or &quot;in progress&quot;), return it, and when all the processing is done, complete. You can use e.g. an emitter: https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/creating-uni-pipelines/#creating-unis-using-an-emitter-advanced Alternatively, you can create multiple `Uni`s (which you already do) and then join them: https://smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/#joining-multiple-unis","body":"<code>Uni.createFrom().item(finalList)</code> creates a <code>Uni</code> that is already complete. You need to create a <code>Uni</code> that is incomplete (or &quot;in progress&quot;), return it, and when all the processing is done, complete. You can use e.g. an emitter: <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/tutorials/creating-uni-pipelines/#creating-unis-using-an-emitter-advanced\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/1.7.0/tutorials/&hellip;</a> Alternatively, you can create multiple <code>Uni</code>s (which you already do) and then join them: <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/#joining-multiple-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/1.7.0/guides/joining-unis/&hellip;</a>"},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667833892,"post_id":74347822,"comment_id":131256022,"body_markdown":"After reading again the documentation i kinda understand how the emitter works but inside the documentation it never shows how he got the result and i can&#39;t seem to find any other documentation about this","body":"After reading again the documentation i kinda understand how the emitter works but inside the documentation it never shows how he got the result and i can&#39;t seem to find any other documentation about this"}],"answers":[{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667911684,"post_id":74360701,"comment_id":131276282,"body_markdown":"In this example the delay there is on purpose in order to simulate a request where the response is delayed. What if my Uni there was a rest-client request and I wanted to combine it and after all the process is finished continue? This is what I&#39;m missing. Another example is this \n\n`Uni.combine()\n                            .all()\n                            .unis(uni1,uni2,uni3)..combinedWith((uni1, uni2, uni3) -&gt; { //do some actuall work there change some variables } )  `\n\nin the above case if uni2 is delayed my method will just return empty object because combinedWith has not been run","body":"In this example the delay there is on purpose in order to simulate a request where the response is delayed. What if my Uni there was a rest-client request and I wanted to combine it and after all the process is finished continue? This is what I&#39;m missing. Another example is this   <code>Uni.combine()                             .all()                             .unis(uni1,uni2,uni3)..combinedWith((uni1, uni2, uni3) -&gt; { &#47;&#47;do some actuall work there change some variables } )  </code>  in the above case if uni2 is delayed my method will just return empty object because combinedWith has not been run"},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667914945,"post_id":74360701,"comment_id":131277695,"body_markdown":"We have disgusted this in the previous question I have asked here https://stackoverflow.com/questions/74317223/quarkus-mutiny-request-ignored-when-using-unis-combinedwith . This actually answered one stage of my question but after adding the subscribe I find out the combinedWith runs when I received an answer from the requests. I want this method to run and then continue I kinda want to add a block there because the responses are necessary in order to continue","body":"We have disgusted this in the previous question I have asked here <a href=\"https://stackoverflow.com/questions/74317223/quarkus-mutiny-request-ignored-when-using-unis-combinedwith\" title=\"quarkus mutiny request ignored when using unis combinedwith\">stackoverflow.com/questions/74317223/&hellip;</a> . This actually answered one stage of my question but after adding the subscribe I find out the combinedWith runs when I received an answer from the requests. I want this method to run and then continue I kinda want to add a block there because the responses are necessary in order to continue"}],"tags":[],"owner":{"account_id":427958,"reputation":548,"user_id":809984,"display_name":"jponge"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667910226,"creation_date":1667910226,"answer_id":74360701,"question_id":74347822,"body_markdown":"You return a list, but the asynchronous processing on the `Uni` is delayed, so your list will be empty.\r\n\r\nYou should try returning a `Uni` from the pipeline that you create (and also see `collect()`, `toUni()` to put into lists) instead of doing a subscription, collect the results and re-wrap into a `Uni`.","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>You return a list, but the asynchronous processing on the <code>Uni</code> is delayed, so your list will be empty.</p>\n<p>You should try returning a <code>Uni</code> from the pipeline that you create (and also see <code>collect()</code>, <code>toUni()</code> to put into lists) instead of doing a subscription, collect the results and re-wrap into a <code>Uni</code>.</p>\n"},{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667988113,"post_id":74362554,"comment_id":131296964,"body_markdown":"Please see the updated question i have tried this with the strings and i can say it works but the problem is that if i have external URLs and the delay happens on their side it actually doesn&#39;t wait for it. I turned my objects into lists in order to do this but i didn&#39;t manage to understand it. I&#39;m sorry for probably confusing you but i probably have missed something in the documentation. I was curious if adding Uni.Builders changed anything but still had the same result the car returned empty and after a while, my Uni has been run but its already too late","body":"Please see the updated question i have tried this with the strings and i can say it works but the problem is that if i have external URLs and the delay happens on their side it actually doesn&#39;t wait for it. I turned my objects into lists in order to do this but i didn&#39;t manage to understand it. I&#39;m sorry for probably confusing you but i probably have missed something in the documentation. I was curious if adding Uni.Builders changed anything but still had the same result the car returned empty and after a while, my Uni has been run but its already too late"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1667992601,"post_id":74362554,"comment_id":131298535,"body_markdown":"Your second example doesn&#39;t seem correct, but I gave you a second solution. Please, refrain from changing the question multiple times. Now you should have all the info you need to write your method.","body":"Your second example doesn&#39;t seem correct, but I gave you a second solution. Please, refrain from changing the question multiple times. Now you should have all the info you need to write your method."},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1667994064,"post_id":74362554,"comment_id":131299025,"body_markdown":"I tried to make my problem simple and you helped me a lot thanks for everything working perfectly.","body":"I tried to make my problem simple and you helped me a lot thanks for everything working perfectly."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1668030119,"post_id":74362554,"comment_id":131311838,"body_markdown":"Nice! It&#39;s never easy to use new APIs. Glad it works now.","body":"Nice! It&#39;s never easy to use new APIs. Glad it works now."}],"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668030177,"creation_date":1667918436,"answer_id":74362554,"question_id":74347822,"body_markdown":"You could rewrite the method like this:\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\r\n\t\tList&lt;Uni&lt;String&gt;&gt; unis = new ArrayList&lt;&gt;();\r\n\t\tList.of(&quot;hello&quot;, &quot;RestEasy&quot;).forEach( e -&gt; {\r\n\t\t\tunis.add( Uni.createFrom().item( e )\r\n                .onItem().delayIt().by( Duration.ofMillis( 10000 ) ) );\r\n\t\t} );\r\n\r\n\t\treturn Uni.combine().all().unis( unis )\r\n\t\t\t\t.combinedWith( list -&gt; (List&lt;String&gt;) list);\r\n    }\r\n```\r\n\r\nNote that when you write reactive code, you want to avoid using `.await().indefinetly`. It shouldn&#39;t be needed anyway when using Quarkus, because it recognizes async API and interpret the results accordingly.\r\n\r\nYou also don&#39;t need to subscribe the Uni or Multi when using Quarkus, for the same reason.\r\n\r\nBased on my previous example, you can rewrite your use case with endpoints as:\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;Car&gt; testingMutiny() {\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1, variable2, variable3);\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,variable2, variable3);\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,variable2, variable3);\r\n\r\n            return Uni.combine()\r\n                    .all()\r\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                    .combinedWith(list -&gt; {\r\n                        // Result of carDoorsUni\r\n                        List&lt;JsonObjectCar&gt; carDoors = list.get(0);\r\n\r\n                        // Result of carWheelsUni\r\n                        List&lt;JsonObjectCar&gt; carWheels = list.get(1);\r\n\r\n                        // Result of carWindowsUni\r\n                        List&lt;JsonObjectCar&gt; carWindows = list.get(2);\r\n                        \r\n                        // Create a car instance with the previous results\r\n                        Car car = createCar(...);\r\n\r\n                        // You can also return a list of cars, but you need to change the return type of testingMutiny to Uni&lt;List&lt;Car&gt;&gt;\r\n                        return car;\r\n                    })\r\n                    .invoke( () -&gt; System.out.println(&quot;Okay it worked&quot;));\r\n    }\r\n```","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>You could rewrite the method like this:</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\n        List&lt;Uni&lt;String&gt;&gt; unis = new ArrayList&lt;&gt;();\n        List.of(&quot;hello&quot;, &quot;RestEasy&quot;).forEach( e -&gt; {\n            unis.add( Uni.createFrom().item( e )\n                .onItem().delayIt().by( Duration.ofMillis( 10000 ) ) );\n        } );\n\n        return Uni.combine().all().unis( unis )\n                .combinedWith( list -&gt; (List&lt;String&gt;) list);\n    }\n</code></pre>\n<p>Note that when you write reactive code, you want to avoid using <code>.await().indefinetly</code>. It shouldn't be needed anyway when using Quarkus, because it recognizes async API and interpret the results accordingly.</p>\n<p>You also don't need to subscribe the Uni or Multi when using Quarkus, for the same reason.</p>\n<p>Based on my previous example, you can rewrite your use case with endpoints as:</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;Car&gt; testingMutiny() {\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1, variable2, variable3);\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,variable2, variable3);\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,variable2, variable3);\n\n            return Uni.combine()\n                    .all()\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                    .combinedWith(list -&gt; {\n                        // Result of carDoorsUni\n                        List&lt;JsonObjectCar&gt; carDoors = list.get(0);\n\n                        // Result of carWheelsUni\n                        List&lt;JsonObjectCar&gt; carWheels = list.get(1);\n\n                        // Result of carWindowsUni\n                        List&lt;JsonObjectCar&gt; carWindows = list.get(2);\n                        \n                        // Create a car instance with the previous results\n                        Car car = createCar(...);\n\n                        // You can also return a list of cars, but you need to change the return type of testingMutiny to Uni&lt;List&lt;Car&gt;&gt;\n                        return car;\n                    })\n                    .invoke( () -&gt; System.out.println(&quot;Okay it worked&quot;));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":281349,"reputation":954,"user_id":2179502,"display_name":"SidMorad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687763633,"creation_date":1687763633,"answer_id":76554324,"question_id":74347822,"body_markdown":"With `Multi` and `Stream` we could come up with something like: \r\n```java\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Multi&lt;String&gt; testingMutiny() {\r\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\r\n        completeList.add(&quot;hello&quot;);\r\n        completeList.add(&quot;RestEasy&quot;);\r\n\r\n        return Multi.createFrom().items(completeList.stream()).onItem()\r\n                .transformToUni(value -&gt; Uni.createFrom().item(value.toUpperCase()))\r\n                .concatenate();\r\n    }\r\n```\r\nAlso is good to know about differences between [Merging and Concatenating Streams](https://smallrye.io/smallrye-mutiny/2.3.0/guides/merging-and-concatenating-streams/)","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>With <code>Multi</code> and <code>Stream</code> we could come up with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Multi&lt;String&gt; testingMutiny() {\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\n        completeList.add(&quot;hello&quot;);\n        completeList.add(&quot;RestEasy&quot;);\n\n        return Multi.createFrom().items(completeList.stream()).onItem()\n                .transformToUni(value -&gt; Uni.createFrom().item(value.toUpperCase()))\n                .concatenate();\n    }\n</code></pre>\n<p>Also is good to know about differences between <a href=\"https://smallrye.io/smallrye-mutiny/2.3.0/guides/merging-and-concatenating-streams/\" rel=\"nofollow noreferrer\">Merging and Concatenating Streams</a></p>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362554,"answer_count":3,"score":0,"last_activity_date":1687763633,"creation_date":1667829704,"question_id":74347822,"body_markdown":"I can&#39;t find a correct solution to this problem and I&#39;m stuck. Let&#39;s say I have this method\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\r\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\r\n        completeList.add(&quot;hello&quot;);\r\n        completeList.add(&quot;RestEasy&quot;);\r\n\r\n        List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\r\n\r\n        completeList.forEach(e -&gt; Uni.createFrom().item(e)\r\n                .onItem().delayIt().by(Duration.ofMillis(10000))\r\n                .map(value -&gt; finalList.add(value.toUpperCase()))\r\n                .subscribe().asCompletionStage());\r\n\r\n\r\n        return Uni.createFrom().item(finalList);\r\n    }\r\n\r\n```\r\n\r\nAs you see the method is simple it just takes the values from 1 list and adds them to the second one but what&#39;s the problem? When you add the waiting `.onItem().delayIt().by(Duration.ofMillis(10000))` the program will return an empty list and after a while, it will just update the list. I created this method to simulate a request that the response that has some delay in it.\r\n\r\n Let&#39;s say you hit 2 URLs with 2 different Unis after that you try to combine them and return it as one Uni. The problem is if one of those 2 URLs delay for some reason we will return the list empty but I don&#39;t want that to happen I either want the list to be completed 100% or return an error if it takes a while.\r\n\r\n\r\nWhat is the best approach to that? I understand that if you add await() you are blocking the main thread and you lose all the value of using the reactive library but still, I can&#39;t find a way for this to work\r\n\r\n\r\n**EDIT**\r\n\r\nI have found out that the external URL I try to call takes about 5 seconds to do the job so I want my code to stop when creating the Uni and continue after I have received an answer from the server. I have seen in their docs ([here][1]) That I can also call await.indefinitely but I receive `The current thread cannot be blocked: vert.x-eventloop-thread-14`. How do I wait for a response from the server?\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/1.7.0/guides/reactive-to-imperative/\r\n\r\n\r\n\r\n**EDIT 2**\r\n\r\nI understand that with strings it doesn&#39;t make sense my question so much so let&#39;s say I have the following one  \r\n\r\n```\r\n    @GET\r\n    @Path(&quot;/testingAsync&quot;)\r\n    public Uni&lt;List&lt;Car&gt;&gt; testingMutiny() {\r\n\r\n        //ALL THIS IS IN A FOR EACH FOR EVERY CAR\r\n\r\n            //HIT ENDPOINT GET DOORS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\r\n                    variable2, variable3);\r\n\r\n            //HIT ENDPOINT GET WHEELS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\r\n                    variable2, variable3);\r\n\r\n            //HIT ENDPOINT GET WINDOWS\r\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\r\n                    variable2, variable3);\r\n\r\n            Uni.combine()\r\n                    .all()\r\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\r\n                    .combinedWith((carDoors, carWheels, carWindows) -&gt; {\r\n                        //Check if cardoors is present and set the doors into the car object\r\n                        Optional.of(carDoors)\r\n                                .ifPresent(val -&gt; car.setDoors(val.getDoors()));\r\n                        Optional.of(carWheels)\r\n                                .ifPresent(val -&gt; car.setWheels(val.getWheels()));\r\n                        Optional.of(carWindows)\r\n                                .ifPresent(val -&gt; car.setWindows(val.getWindows()));\r\n\r\n                        return car;\r\n                    }).subscribe().with(e-&gt; System.out.println(&quot;Okay it worked&quot;));\r\n            \r\n          //END OF FOR EACH \r\n            \r\n            \r\n            //Return car (Should have been returned with new doors / wheels/ windows but instead its empty)\r\n        return Uni.createFrom().item(car);\r\n\r\n    }\r\n\r\n```\r\n\r\nAs you see in the above code It should have hit some endpoints for doors / wheels / windows and set them into the variable car but what happens, in reality, is that the car is empty because one of those endpoints has been delayed so i return a car without those values inside it. I want to first update the car object and then actually return it ","title":"Quarkus Mutiny Uni/Multi wait for the request response to finish","body":"<p>I can't find a correct solution to this problem and I'm stuck. Let's say I have this method</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;String&gt;&gt; testingMutiny() {\n        List&lt;String&gt; completeList = new ArrayList&lt;&gt;();\n        completeList.add(&quot;hello&quot;);\n        completeList.add(&quot;RestEasy&quot;);\n\n        List&lt;String&gt; finalList = new ArrayList&lt;&gt;();\n\n        completeList.forEach(e -&gt; Uni.createFrom().item(e)\n                .onItem().delayIt().by(Duration.ofMillis(10000))\n                .map(value -&gt; finalList.add(value.toUpperCase()))\n                .subscribe().asCompletionStage());\n\n\n        return Uni.createFrom().item(finalList);\n    }\n\n</code></pre>\n<p>As you see the method is simple it just takes the values from 1 list and adds them to the second one but what's the problem? When you add the waiting <code>.onItem().delayIt().by(Duration.ofMillis(10000))</code> the program will return an empty list and after a while, it will just update the list. I created this method to simulate a request that the response that has some delay in it.</p>\n<p>Let's say you hit 2 URLs with 2 different Unis after that you try to combine them and return it as one Uni. The problem is if one of those 2 URLs delay for some reason we will return the list empty but I don't want that to happen I either want the list to be completed 100% or return an error if it takes a while.</p>\n<p>What is the best approach to that? I understand that if you add await() you are blocking the main thread and you lose all the value of using the reactive library but still, I can't find a way for this to work</p>\n<p><strong>EDIT</strong></p>\n<p>I have found out that the external URL I try to call takes about 5 seconds to do the job so I want my code to stop when creating the Uni and continue after I have received an answer from the server. I have seen in their docs (<a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/guides/reactive-to-imperative/\" rel=\"nofollow noreferrer\">here</a>) That I can also call await.indefinitely but I receive <code>The current thread cannot be blocked: vert.x-eventloop-thread-14</code>. How do I wait for a response from the server?</p>\n<p><strong>EDIT 2</strong></p>\n<p>I understand that with strings it doesn't make sense my question so much so let's say I have the following one</p>\n<pre><code>    @GET\n    @Path(&quot;/testingAsync&quot;)\n    public Uni&lt;List&lt;Car&gt;&gt; testingMutiny() {\n\n        //ALL THIS IS IN A FOR EACH FOR EVERY CAR\n\n            //HIT ENDPOINT GET DOORS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carDoorsUni = getDoors(variable1,\n                    variable2, variable3);\n\n            //HIT ENDPOINT GET WHEELS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWheelsUni = getWheels(variable1,\n                    variable2, variable3);\n\n            //HIT ENDPOINT GET WINDOWS\n            Uni&lt;List&lt;JsonObjectCar&gt;&gt; carWindowsUni = getWindows(variable1,\n                    variable2, variable3);\n\n            Uni.combine()\n                    .all()\n                    .unis(carDoorsUni, carWheelsUni, carWindowsUni)\n                    .combinedWith((carDoors, carWheels, carWindows) -&gt; {\n                        //Check if cardoors is present and set the doors into the car object\n                        Optional.of(carDoors)\n                                .ifPresent(val -&gt; car.setDoors(val.getDoors()));\n                        Optional.of(carWheels)\n                                .ifPresent(val -&gt; car.setWheels(val.getWheels()));\n                        Optional.of(carWindows)\n                                .ifPresent(val -&gt; car.setWindows(val.getWindows()));\n\n                        return car;\n                    }).subscribe().with(e-&gt; System.out.println(&quot;Okay it worked&quot;));\n            \n          //END OF FOR EACH \n            \n            \n            //Return car (Should have been returned with new doors / wheels/ windows but instead its empty)\n        return Uni.createFrom().item(car);\n\n    }\n\n</code></pre>\n<p>As you see in the above code It should have hit some endpoints for doors / wheels / windows and set them into the variable car but what happens, in reality, is that the car is empty because one of those endpoints has been delayed so i return a car without those values inside it. I want to first update the car object and then actually return it</p>\n"},{"tags":["java","amazon-web-services","mariadb","hikaricp"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1687789948,"post_id":76554316,"comment_id":134982065,"body_markdown":"Seems to be an infrastructure problem, which would off topic in Stackoverflow. Try adding a validation query to mitigate it.","body":"Seems to be an infrastructure problem, which would off topic in Stackoverflow. Try adding a validation query to mitigate it."}],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687763584,"creation_date":1687763584,"question_id":76554316,"body_markdown":"Good morning, \r\n\r\nCurrently I am encountering a very strange problem, which I am not able to solve on my own: \r\n\r\nI&#39;ve hosted an MariaDB in AWS and my Application is using Hikari Pool for handling connections. The configuaration is listed below. \r\n\r\nThe problem is, that after a few hours (randomly) the connection seems to be broken but not really broken.. Hard to explain, but all reading operations are still working while all write operations fail with the following exceptio. For me it sounds like the Transaction part is broken. I am by far not an expert, but after a lot of testing it seems related to my AWS, as it does not happen on my local computer...\r\n\r\n\r\n     java.sql.SQLNonTransientConnectionException: (conn=6211) Socket error                                                                                                                                                                                                                                                                 |\r\n      at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:293) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                              |\r\n      at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:359) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                       |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.sendQuery(StandardClient.java:506) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:635) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\r\n      at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:511) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\r\n      at org.mariadb.jdbc.Connection.setAutoCommit(Connection.java:196) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                                   |\r\n      at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\r\n      at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                           |\r\n      at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                    |\r\n      at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                   |\r\n      at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[BackendService-1.4-all.jar:na]                                                                                                    |\r\n      at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                         |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.enlistInCurrentTransaction(ExtendedEntityManagerCreator.java:414) ~[BackendService-1.4-all.jar:na]                                                                                                                                |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.doJoinTransaction(ExtendedEntityManagerCreator.java:392) ~[BackendService-1.4-all.jar:na]                                                                                                                                         |\r\n      at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:355) ~[BackendService-1.4-all.jar:na]                                                                                                                  \r\n\r\n\r\nHikari Configuration\r\n\r\n\r\n    spring.datasource.hikari.pool-name=carIdentConnectionPool\r\n    spring.datasource.hikari.auto-commit=true\r\n    spring.datasource.hikari.minimum-idle= 10\r\n    spring.datasource.hikari.maximum-pool-size= 20\r\n    spring.datasource.hikari.max-lifetime= 1000 (1sek)\r\n    spring.datasource.hikari.connection-timeout=3000 (3sek)\r\n    spring.datasource.hikari.idle-timeout= 20000 (20sek)\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n","title":"MariaDB and Hikari connection breaks partially","body":"<p>Good morning,</p>\n<p>Currently I am encountering a very strange problem, which I am not able to solve on my own:</p>\n<p>I've hosted an MariaDB in AWS and my Application is using Hikari Pool for handling connections. The configuaration is listed below.</p>\n<p>The problem is, that after a few hours (randomly) the connection seems to be broken but not really broken.. Hard to explain, but all reading operations are still working while all write operations fail with the following exceptio. For me it sounds like the Transaction part is broken. I am by far not an expert, but after a lot of testing it seems related to my AWS, as it does not happen on my local computer...</p>\n<pre><code> java.sql.SQLNonTransientConnectionException: (conn=6211) Socket error                                                                                                                                                                                                                                                                 |\n  at org.mariadb.jdbc.export.ExceptionFactory.createException(ExceptionFactory.java:293) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                              |\n  at org.mariadb.jdbc.export.ExceptionFactory.create(ExceptionFactory.java:359) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                       |\n  at org.mariadb.jdbc.client.impl.StandardClient.sendQuery(StandardClient.java:506) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\n  at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:635) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\n  at org.mariadb.jdbc.client.impl.StandardClient.execute(StandardClient.java:511) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                     |\n  at org.mariadb.jdbc.Connection.setAutoCommit(Connection.java:196) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                                   |\n  at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:401) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                                   |\n  at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                           |\n  at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:72) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                    |\n  at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:276) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                   |\n  at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246) ~[BackendService-1.4-all.jar:na]                                                                                                    |\n  at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83) ~[BackendService-1.4-all.jar:na]                                                                                                                                                                                                         |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.enlistInCurrentTransaction(ExtendedEntityManagerCreator.java:414) ~[BackendService-1.4-all.jar:na]                                                                                                                                |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.doJoinTransaction(ExtendedEntityManagerCreator.java:392) ~[BackendService-1.4-all.jar:na]                                                                                                                                         |\n  at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:355) ~[BackendService-1.4-all.jar:na]                                                                                                                  \n</code></pre>\n<p>Hikari Configuration</p>\n<pre><code>spring.datasource.hikari.pool-name=carIdentConnectionPool\nspring.datasource.hikari.auto-commit=true\nspring.datasource.hikari.minimum-idle= 10\nspring.datasource.hikari.maximum-pool-size= 20\nspring.datasource.hikari.max-lifetime= 1000 (1sek)\nspring.datasource.hikari.connection-timeout=3000 (3sek)\nspring.datasource.hikari.idle-timeout= 20000 (20sek)\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\n</code></pre>\n"},{"tags":["java","flutter","android-studio","build.gradle","flutter-dependencies"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687764885,"post_id":76554259,"comment_id":134976852,"body_markdown":"Your Gradle version is too old for Java 17, or you should downgrade to Java 11. Java 17 support was introduced in Gradle 7.3. It is also possible you&#39;re building something use using a plugin which is not compatible with Java 17.","body":"Your Gradle version is too old for Java 17, or you should downgrade to Java 11. Java 17 support was introduced in Gradle 7.3. It is also possible you&#39;re building something use using a plugin which is not compatible with Java 17."},{"owner":{"account_id":20806503,"reputation":1,"user_id":15281293,"display_name":"Usama Tariq"},"score":0,"creation_date":1687765457,"post_id":76554259,"comment_id":134976963,"body_markdown":"The Java version is 11.0.2, but on running flutter doctor -v it returns\n Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694) \nUnable to understand from where it reads the 17 version. How can I change to 11?","body":"The Java version is 11.0.2, but on running flutter doctor -v it returns  Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)  Unable to understand from where it reads the 17 version. How can I change to 11?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687774870,"post_id":76554259,"comment_id":134978802,"body_markdown":"Your Java version is clearly 17.0.6. Likely you have both installed and the JAVA_HOME environment variable points to the Java 17 installation, not the Java 11 installation.","body":"Your Java version is clearly 17.0.6. Likely you have both installed and the JAVA_HOME environment variable points to the Java 17 installation, not the Java 11 installation."}],"owner":{"account_id":20806503,"reputation":1,"user_id":15281293,"display_name":"Usama Tariq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687763127,"creation_date":1687763127,"question_id":76554259,"body_markdown":"I&#39;m getting below exception, on running the old Flutter application:\r\n\r\nWhat went wrong:\r\nExecution failed for task &#39;:app:processAlliedProdDebugMainManifest&#39;.\r\n&gt; Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 35s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nJava, SDK, and Flutter versions:\r\n\r\nFlutter (Channel unknown, 2.8.1, on Microsoft Windows [Version 10.0.22621.1848], locale en-PK)\r\n  • Flutter version 2.8.1 at C:\\src\\flutter\r\n  • Upstream repository unknown\r\n  • Framework revision 77d935af4d (1 year, 6 months ago), 2021-12-16 08:37:33 -0800\r\n  • Engine revision 890a5fca2e\r\n  • Dart version 2.15.1\r\n\r\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\r\n  • Android SDK at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\r\n  • Platform android-33, build-tools 33.0.0\r\n  • ANDROID_HOME = C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\r\n  • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\r\n  • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\r\n  • All Android licenses accepted.\r\n\r\n[√] Chrome - develop for the web\r\n  • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\r\n\r\n[√] Android Studio (version 2022.2)\r\n  • Android Studio at C:\\Program Files\\Android\\Android Studio\r\n  • Flutter plugin can be installed from:\r\n     https://plugins.jetbrains.com/plugin/9212-flutter\r\n  • Dart plugin can be installed from:\r\n     https://plugins.jetbrains.com/plugin/6351-dart\r\n  • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\r\n\r\n[√] VS Code (version 1.79.2)\r\n  • VS Code at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Programs\\Microsoft VS Code\r\n  • Flutter extension version 3.66.0\r\n\r\n[√] Connected device (3 available)\r\n  • Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\r\n  • Chrome (web)                       • chrome        • web-javascript • Google Chrome 114.0.5735.134\r\n  • Edge (web)                         • edge          • web-javascript • Microsoft Edge 113.0.1774.57\r\n\r\n• No issues found!\r\n\r\nIn `gradle-wrapper.properties`:\r\n\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\r\n\r\nIn `gradle.properties`:\r\n\r\norg.gradle.jvmargs=-Xmx1536M\r\n\r\n","title":"Unable to make field private final java.lang.String java.io.File.path accessible:module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db","body":"<p>I'm getting below exception, on running the old Flutter application:</p>\n<p>What went wrong:\nExecution failed for task ':app:processAlliedProdDebugMainManifest'.</p>\n<blockquote>\n<p>Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @149ed4db</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>BUILD FAILED in 35s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>Java, SDK, and Flutter versions:</p>\n<p>Flutter (Channel unknown, 2.8.1, on Microsoft Windows [Version 10.0.22621.1848], locale en-PK)\n• Flutter version 2.8.1 at C:\\src\\flutter\n• Upstream repository unknown\n• Framework revision 77d935af4d (1 year, 6 months ago), 2021-12-16 08:37:33 -0800\n• Engine revision 890a5fca2e\n• Dart version 2.15.1</p>\n<p>[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n• Android SDK at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\n• Platform android-33, build-tools 33.0.0\n• ANDROID_HOME = C:\\Users\\MuhaamadUsama\\AppData\\Local\\Android\\Sdk\n• Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)\n• All Android licenses accepted.</p>\n<p>[√] Chrome - develop for the web\n• Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe</p>\n<p>[√] Android Studio (version 2022.2)\n• Android Studio at C:\\Program Files\\Android\\Android Studio\n• Flutter plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/9212-flutter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9212-flutter</a>\n• Dart plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/6351-dart\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6351-dart</a>\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-9586694)</p>\n<p>[√] VS Code (version 1.79.2)\n• VS Code at C:\\Users\\MuhaamadUsama\\AppData\\Local\\Programs\\Microsoft VS Code\n• Flutter extension version 3.66.0</p>\n<p>[√] Connected device (3 available)\n• Android SDK built for x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\n• Chrome (web)                       • chrome        • web-javascript • Google Chrome 114.0.5735.134\n• Edge (web)                         • edge          • web-javascript • Microsoft Edge 113.0.1774.57</p>\n<p>• No issues found!</p>\n<p>In <code>gradle-wrapper.properties</code>:</p>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-6.7-all.zip</p>\n<p>In <code>gradle.properties</code>:</p>\n<p>org.gradle.jvmargs=-Xmx1536M</p>\n"},{"tags":["java","spring-boot","spring-statemachine"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687762179,"post_id":76554092,"comment_id":134976301,"body_markdown":"hi there can you share the full logs","body":"hi there can you share the full logs"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762398,"post_id":76554092,"comment_id":134976346,"body_markdown":"Please add the full stack trace of the exception to your question.","body":"Please add the full stack trace of the exception to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762653,"post_id":76554092,"comment_id":134976396,"body_markdown":"Please add the full stack trace of the *BeanCreationException*!","body":"Please add the full stack trace of the <i>BeanCreationException</i>!"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687762757,"post_id":76554092,"comment_id":134976421,"body_markdown":"added the full logs","body":"added the full logs"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687762998,"post_id":76554092,"comment_id":134976467,"body_markdown":"The problem occurs when creating a bean named `stateMachine`, not `claimService`.","body":"The problem occurs when creating a bean named <code>stateMachine</code>, not <code>claimService</code>."},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687763202,"post_id":76554092,"comment_id":134976498,"body_markdown":"I have claimservice. I don&#39;t have any bean with stateMachine and  I think a problem with these two lines .\n@Autowired\nStateMachineFactory factory;\nStateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);  \nCan you help me how to resolve this?","body":"I have claimservice. I don&#39;t have any bean with stateMachine and  I think a problem with these two lines . @Autowired StateMachineFactory factory; StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);   Can you help me how to resolve this?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687763594,"post_id":76554092,"comment_id":134976589,"body_markdown":"Why do you think that? Have you read the stack trace? How do you explain `claimService` not appearing?","body":"Why do you think that? Have you read the stack trace? How do you explain <code>claimService</code> not appearing?"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687768326,"post_id":76554092,"comment_id":134977474,"body_markdown":"Have you seen this in stack trace    main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null.     But if you see no where I am using configration bean inside Service.","body":"Have you seen this in stack trace    main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.&zwnj;&#8203;getTransitions()&quot; because &quot;stateMachineConfig&quot; is null.     But if you see no where I am using configration bean inside Service."},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687769826,"post_id":76554092,"comment_id":134977756,"body_markdown":"For your refrence this is my Config file","body":"For your refrence this is my Config file"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687771787,"post_id":76554092,"comment_id":134978134,"body_markdown":"The problem occurs when creating a bean named stateMachine, not claimService","body":"The problem occurs when creating a bean named stateMachine, not claimService"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1687790291,"post_id":76554092,"comment_id":134982157,"body_markdown":"Yes, But not able to create it properly can you help me with any reference do you have?","body":"Yes, But not able to create it properly can you help me with any reference do you have?"},{"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"score":0,"creation_date":1688374422,"post_id":76554092,"comment_id":135060761,"body_markdown":"Finally, I resolved this issue, it is at the configuration level. I am using two annotations EnableStateMachine and EnableStateMachineFactory. Because Of this, it is building stateMachine object twice. If you want to enable EnableStateMachineFactory Please remove EnableStateMachine Annotation. Only one annotation is needed.","body":"Finally, I resolved this issue, it is at the configuration level. I am using two annotations EnableStateMachine and EnableStateMachineFactory. Because Of this, it is building stateMachine object twice. If you want to enable EnableStateMachineFactory Please remove EnableStateMachine Annotation. Only one annotation is needed."}],"owner":{"account_id":16797263,"reputation":1,"user_id":12143464,"display_name":"Janardhan Reddy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687762724,"creation_date":1687761488,"question_id":76554092,"body_markdown":"    @Service\r\n    public class ClaimService {\r\n        @Autowired\r\n        ClaimRepository claimRepository;\r\n        @Autowired\r\n        StateMachineFactory factory;\r\n        public boolean selectDate(ClaimRequest claimRequest) {\r\n            StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = build(claimRequest.getId());\r\n            Message&lt;ClaimEvents&gt; addDate = MessageBuilder.withPayload(ClaimEvents.SELECTDATE)\r\n                .setHeader(&quot;claimId&quot;, claimRequest.getId()).build();\r\n            return sm.sendEvent(ClaimEvents.SELECTDATE);\r\n        }\r\n        private StateMachine&lt;ClaimStates, ClaimEvents&gt; build(Long claimId) {\r\n            Claims claims = claimRepository.findById(claimId).get();\r\n            String claimIdKey = Long.toString(claims.getId());\r\n            StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);\r\n            sm.stop();\r\n            sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\r\n            sma.addStateMachineInterceptor(new StateMachineInterceptorAdapter&lt;ClaimStates, ClaimEvents&gt;() {\r\n                //                @Override\r\n                public void preStateChange(State&lt;ClaimStates, ClaimEvents&gt; state, Message&lt;ClaimEvents&gt; message, Transition&lt;ClaimStates, ClaimEvents&gt; transition, StateMachine&lt;ClaimStates, ClaimEvents&gt; stateMachine) {\r\n                    Optional.ofNullable(message).ifPresent(msg -&gt; {\r\n                        Long claimId = Long.class.cast(msg.getHeaders().getOrDefault(&quot;claimId&quot;, -1));\r\n                        Claims claims = claimRepository.findById(claimId).get();\r\n                        claims.setClaimState(state.getId().name());\r\n                        claimRepository.save(claims);\r\n                    });\r\n                }\r\n            });\r\n            sma.resetStateMachine(new DefaultStateMachineContext&lt;ClaimStates, ClaimEvents&gt;(\r\n                    ClaimStates.valueOf(claims.getClaimState()), null, null, null));\r\n        });\r\n        sm.start();\r\n        return sm;\r\n        }\r\n    }\r\n\r\n\r\nHere I am trying the persist State of Application using StateMachine. But when I am working on it is gives issues with its configuration and it&#39;s version.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exc\r\n\r\nfull logs:\r\njava.lang.IllegalStateException: This object has already been built\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:43) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:46) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:34) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.doBuild(AbstractConfiguredAnnotationBuilder.java:112) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:40) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.getOrBuild(AbstractConfiguredAnnotationBuilder.java:129) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:170) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\r\n\r\n2023-06-26 10:45:48.225  WARN 24556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n2023-06-26 10:45:48.227  INFO 24556 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-06-26 10:45:48.238  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-06-26 10:45:48.275  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-06-26 10:45:48.281  INFO 24556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-06-26 10:45:48.320  INFO 24556 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-06-26 10:45:48.377 ERROR 24556 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;stateMachine&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\r\n\tat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\r\n\tat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:171) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\r\n\t... 16 common frames omitted\r\n\r\n","title":"Configuration issue with stateMachine and it&#39;s version","body":"<pre><code>@Service\npublic class ClaimService {\n    @Autowired\n    ClaimRepository claimRepository;\n    @Autowired\n    StateMachineFactory factory;\n    public boolean selectDate(ClaimRequest claimRequest) {\n        StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = build(claimRequest.getId());\n        Message&lt;ClaimEvents&gt; addDate = MessageBuilder.withPayload(ClaimEvents.SELECTDATE)\n            .setHeader(&quot;claimId&quot;, claimRequest.getId()).build();\n        return sm.sendEvent(ClaimEvents.SELECTDATE);\n    }\n    private StateMachine&lt;ClaimStates, ClaimEvents&gt; build(Long claimId) {\n        Claims claims = claimRepository.findById(claimId).get();\n        String claimIdKey = Long.toString(claims.getId());\n        StateMachine&lt;ClaimStates, ClaimEvents&gt; sm = factory.getStateMachine(claimIdKey);\n        sm.stop();\n        sm.getStateMachineAccessor().doWithAllRegions(sma -&gt; {\n        sma.addStateMachineInterceptor(new StateMachineInterceptorAdapter&lt;ClaimStates, ClaimEvents&gt;() {\n            //                @Override\n            public void preStateChange(State&lt;ClaimStates, ClaimEvents&gt; state, Message&lt;ClaimEvents&gt; message, Transition&lt;ClaimStates, ClaimEvents&gt; transition, StateMachine&lt;ClaimStates, ClaimEvents&gt; stateMachine) {\n                Optional.ofNullable(message).ifPresent(msg -&gt; {\n                    Long claimId = Long.class.cast(msg.getHeaders().getOrDefault(&quot;claimId&quot;, -1));\n                    Claims claims = claimRepository.findById(claimId).get();\n                    claims.setClaimState(state.getId().name());\n                    claimRepository.save(claims);\n                });\n            }\n        });\n        sma.resetStateMachine(new DefaultStateMachineContext&lt;ClaimStates, ClaimEvents&gt;(\n                ClaimStates.valueOf(claims.getClaimState()), null, null, null));\n    });\n    sm.start();\n    return sm;\n    }\n}\n</code></pre>\n<p>Here I am trying the persist State of Application using StateMachine. But when I am working on it is gives issues with its configuration and it's version.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exc\n</code></pre>\n<p>full logs:\njava.lang.IllegalStateException: This object has already been built\nat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:43) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:46) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.builders.StateMachineConfigBuilder.performBuild(StateMachineConfigBuilder.java:34) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.doBuild(AbstractConfiguredAnnotationBuilder.java:112) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractAnnotationBuilder.build(AbstractAnnotationBuilder.java:40) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.common.annotation.AbstractConfiguredAnnotationBuilder.getOrBuild(AbstractConfiguredAnnotationBuilder.java:129) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:170) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\nat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]</p>\n<p>2023-06-26 10:45:48.225  WARN 24556 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\n2023-06-26 10:45:48.227  INFO 24556 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-06-26 10:45:48.238  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-06-26 10:45:48.275  INFO 24556 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-06-26 10:45:48.281  INFO 24556 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-06-26 10:45:48.320  INFO 24556 --- [           main] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-06-26 10:45:48.377 ERROR 24556 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'stateMachine': Invocation of init method failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.27.jar:5.3.27]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.12.jar:2.7.12]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.12.jar:2.7.12]\nat com.example.springstatemachinechatgpt.SpringstatemachinechatgptApplication.main(SpringstatemachinechatgptApplication.java:18) ~[classes/:na]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.statemachine.config.StateMachineConfig.getTransitions()&quot; because &quot;stateMachineConfig&quot; is null\nat org.springframework.statemachine.config.configuration.StateMachineConfiguration$StateMachineDelegatingFactoryBean.afterPropertiesSet(StateMachineConfiguration.java:171) ~[spring-statemachine-core-1.2.3.RELEASE.jar:1.2.3.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.27.jar:5.3.27]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.27.jar:5.3.27]\n... 16 common frames omitted</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1425815911,"post_id":28915264,"comment_id":46108466,"body_markdown":"You might be able to, but you shouldn&#39;t. A CallableStatement is _&quot;The interface used to execute SQL stored procedures.&quot;_. You are not calling a stored procedure, so you shouldn&#39;t use it. Now with most JDBC drivers it will probably work, but it could have behavior that is specifically intended for stored procedures, and might result in weird and hard to diagnose problems.","body":"You might be able to, but you shouldn&#39;t. A CallableStatement is <i>&quot;The interface used to execute SQL stored procedures.&quot;</i>. You are not calling a stored procedure, so you shouldn&#39;t use it. Now with most JDBC drivers it will probably work, but it could have behavior that is specifically intended for stored procedures, and might result in weird and hard to diagnose problems."}],"answers":[{"tags":[],"owner":{"account_id":2694106,"reputation":483,"user_id":2326646,"accept_rate":75,"display_name":"Piotr Zych"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1425736604,"creation_date":1425736604,"answer_id":28915608,"question_id":28915264,"body_markdown":"We use CallableStatement to call predefined procedures from database rather than to execute prepared statements.\r\n\r\nPreparedStatement:\r\n\r\n    PreparedStatement pstmt = null;\r\n    try {\r\n       String SQL = &quot;Update Employees SET age = ? WHERE id = ?&quot;;\r\n       pstmt = conn.prepareStatement(SQL);\r\n       . . .\r\n    }\r\n    catch (SQLException e) {\r\n       . . .\r\n    }\r\n    finally {\r\n        pstmt.close();\r\n    }\r\n\r\nCallableStatement:\r\n\r\n    CallableStatement cstmt = null;\r\n    try {\r\n       String SQL = &quot;{call getEmpName (?, ?)}&quot;;\r\n       cstmt = conn.prepareCall (SQL);\r\n       . . .\r\n    }\r\n    catch (SQLException e) {\r\n       . . .\r\n    }\r\n    finally {\r\n       . . .\r\n    }\r\nI suggest you to read this article:\r\n\r\nhttp://www.tutorialspoint.com/jdbc/jdbc-statements.htm","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>We use CallableStatement to call predefined procedures from database rather than to execute prepared statements.</p>\n\n<p>PreparedStatement:</p>\n\n<pre><code>PreparedStatement pstmt = null;\ntry {\n   String SQL = \"Update Employees SET age = ? WHERE id = ?\";\n   pstmt = conn.prepareStatement(SQL);\n   . . .\n}\ncatch (SQLException e) {\n   . . .\n}\nfinally {\n    pstmt.close();\n}\n</code></pre>\n\n<p>CallableStatement:</p>\n\n<pre><code>CallableStatement cstmt = null;\ntry {\n   String SQL = \"{call getEmpName (?, ?)}\";\n   cstmt = conn.prepareCall (SQL);\n   . . .\n}\ncatch (SQLException e) {\n   . . .\n}\nfinally {\n   . . .\n}\n</code></pre>\n\n<p>I suggest you to read this article:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/jdbc/jdbc-statements.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/jdbc/jdbc-statements.htm</a></p>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":1,"creation_date":1581787588,"post_id":28915639,"comment_id":106555790,"body_markdown":"What&#39;s the difference?","body":"What&#39;s the difference?"}],"tags":[],"owner":{"account_id":2787533,"reputation":9731,"user_id":2398521,"accept_rate":77,"display_name":"Maxim"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1425736784,"creation_date":1425736784,"answer_id":28915639,"question_id":28915264,"body_markdown":"Yes, you can. Difference of [prepareCall](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareCall%28java.lang.String%29) and [prepareStatement](http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String%29) methods described in documentation. As you can see they a just optimized for different tasks.\r\n\r\n    package com.company;\r\n\r\n    import java.sql.*;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/mysql&quot;, &quot;user&quot;, &quot;password&quot;);\r\n\r\n            CallableStatement callableStatement = connection.prepareCall(&quot;SELECT * FROM db WHERE user = ?&quot;);\r\n            callableStatement.setString(1, &quot;deployer&quot;);\r\n            ResultSet resultSet = callableStatement.executeQuery();\r\n\r\n            while(resultSet.next()) {\r\n                System.out.println(resultSet.getString(&quot;Db&quot;));\r\n            }\r\n\r\n            connection.close();\r\n        }\r\n    }\r\n","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>Yes, you can. Difference of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareCall%28java.lang.String%29\" rel=\"nofollow\">prepareCall</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#prepareStatement%28java.lang.String%29\" rel=\"nofollow\">prepareStatement</a> methods described in documentation. As you can see they a just optimized for different tasks.</p>\n\n<pre><code>package com.company;\n\nimport java.sql.*;\n\npublic class Main {\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n\n        Connection connection = DriverManager.getConnection(\"jdbc:mysql://localhost/mysql\", \"user\", \"password\");\n\n        CallableStatement callableStatement = connection.prepareCall(\"SELECT * FROM db WHERE user = ?\");\n        callableStatement.setString(1, \"deployer\");\n        ResultSet resultSet = callableStatement.executeQuery();\n\n        while(resultSet.next()) {\n            System.out.println(resultSet.getString(\"Db\"));\n        }\n\n        connection.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1160783,"reputation":33,"user_id":1140319,"display_name":"Andrew Evans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687762548,"creation_date":1687762548,"answer_id":76554194,"question_id":28915264,"body_markdown":"For a scenario using Sybase for a some non-trivial SQL (~30 lines using temp tables and while loops) we were having an issue where the exact same prepared statement was being intermittently executed with dynamic prepare and failing, the other times dynamic prepare wasn&#39;t being used and then it would work successfully.\r\n\r\nChecking the below page suggests to either set the Sybase connection property of DYNAMIC_PREPARE to false or use the prepareCall method to ensure dynamic prepare wasn&#39;t used.\r\n\r\n[Sybase jConnect Performance Tuning][1]\r\n\r\n[![Excerpt from the link][2]][2]\r\n\r\n\r\n  [1]: https://infocenter.sybase.com/help/topic/com.sybase.infocenter.dc39001.0707/html/prjdbc0707/X35870.htm\r\n  [2]: https://i.stack.imgur.com/r3osM.png","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>For a scenario using Sybase for a some non-trivial SQL (~30 lines using temp tables and while loops) we were having an issue where the exact same prepared statement was being intermittently executed with dynamic prepare and failing, the other times dynamic prepare wasn't being used and then it would work successfully.</p>\n<p>Checking the below page suggests to either set the Sybase connection property of DYNAMIC_PREPARE to false or use the prepareCall method to ensure dynamic prepare wasn't used.</p>\n<p><a href=\"https://infocenter.sybase.com/help/topic/com.sybase.infocenter.dc39001.0707/html/prjdbc0707/X35870.htm\" rel=\"nofollow noreferrer\">Sybase jConnect Performance Tuning</a></p>\n<p><a href=\"https://i.stack.imgur.com/r3osM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3osM.png\" alt=\"Excerpt from the link\" /></a></p>\n"}],"owner":{"account_id":2578695,"reputation":2676,"user_id":2235839,"accept_rate":67,"display_name":"A Nice Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28915639,"answer_count":3,"score":3,"last_activity_date":1687762548,"creation_date":1425734286,"question_id":28915264,"body_markdown":"Need some help with a JDBC query.\r\nI would have tried it out myself, but right now I do not have access to a database.\r\n\r\nMy question is:\r\nSince CallableStatement extends PreparedStatement, does this mean we can use CallableStatement to execute any query prepared for prepared statement?\r\n\r\nMore specifically, any downsides to using Callable like this:\r\n\r\n    CallableStatement stmt = null;\r\n    String sql = &quot;UPDATE Employees set age=30 WHERE id=&quot;;\r\n          stmt = conn.prepareCall(sql);\r\n          int empID = 102;\r\n          stmt.setInt(1, empID); );\r\n          stmt.execute();\r\n    stmt.close();\r\n    conn.close();\r\n\r\n\r\n","title":"Can CallableStatement be used in place of PreparedStatement?","body":"<p>Need some help with a JDBC query.\nI would have tried it out myself, but right now I do not have access to a database.</p>\n\n<p>My question is:\nSince CallableStatement extends PreparedStatement, does this mean we can use CallableStatement to execute any query prepared for prepared statement?</p>\n\n<p>More specifically, any downsides to using Callable like this:</p>\n\n<pre><code>CallableStatement stmt = null;\nString sql = \"UPDATE Employees set age=30 WHERE id=\";\n      stmt = conn.prepareCall(sql);\n      int empID = 102;\n      stmt.setInt(1, empID); );\n      stmt.execute();\nstmt.close();\nconn.close();\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688054024,"post_id":76551865,"comment_id":135025298,"body_markdown":"@Aditya I hope this one helped you","body":"@Aditya I hope this one helped you"}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687717692,"creation_date":1687717692,"answer_id":76551865,"question_id":76551816,"body_markdown":"You may try something like:\r\n```java\r\npublic Specification&lt;Article&gt; allArticlesWithTag(String tag) {\r\n    return (Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\r\n        // get a reference to the tags\r\n        Expression&lt;List&lt;String&gt;&gt; tags = root.get(&quot;tags&quot;);\r\n\r\n        // check if the tag is a member of the tags collection\r\n        return builder.isMember(tag, tags);\r\n    };\r\n}\r\n```\r\n\r\nRead more about `isMember`: \\\r\nhttps://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html","title":"How to write a Specification for JpaSpecificationExecutor?","body":"<p>You may try something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Article&gt; allArticlesWithTag(String tag) {\n    return (Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) -&gt; {\n        // get a reference to the tags\n        Expression&lt;List&lt;String&gt;&gt; tags = root.get(&quot;tags&quot;);\n\n        // check if the tag is a member of the tags collection\n        return builder.isMember(tag, tags);\n    };\n}\n</code></pre>\n<p>Read more about <code>isMember</code>: <br />\n<a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/criteria-api-is-member-restriction.html</a></p>\n"}],"owner":{"account_id":5025935,"reputation":11,"user_id":4037928,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687762229,"creation_date":1687716900,"question_id":76551816,"body_markdown":"```java\r\n@Entity\r\npublic class Article {\r\n    @Id\r\n    Long id;\r\n    String title;\r\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\r\n    List&lt;String&gt; tags = new ArrayList&lt;&gt;();\r\n\r\n    // getters, setters\r\n}\r\n```\r\n\r\nI have to write a predicate for the below query. To get all the articles if they contain the passed tag:\r\n\r\n```java\r\npublic Specification&lt;Article&gt; allArticlesWithTag(String tag) {\r\n    return new Specification&lt;Article&gt;() {\r\n        @Override\r\n        public Predicate toPredicate(Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n            return builder.equal(&lt;What should be the logic here&gt;,tag);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nI have to write a predicate for the criteria to be used with JpaSpecificationExecutor. I am expecting a better understanding as a result.","title":"How to write a Specification for JpaSpecificationExecutor?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Article {\n    @Id\n    Long id;\n    String title;\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\n    List&lt;String&gt; tags = new ArrayList&lt;&gt;();\n\n    // getters, setters\n}\n</code></pre>\n<p>I have to write a predicate for the below query. To get all the articles if they contain the passed tag:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Article&gt; allArticlesWithTag(String tag) {\n    return new Specification&lt;Article&gt;() {\n        @Override\n        public Predicate toPredicate(Root&lt;Article&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n            return builder.equal(&lt;What should be the logic here&gt;,tag);\n        }\n    };\n}\n</code></pre>\n<p>I have to write a predicate for the criteria to be used with JpaSpecificationExecutor. I am expecting a better understanding as a result.</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":0,"creation_date":1687761014,"post_id":76553916,"comment_id":134976111,"body_markdown":"Can you run `npx react-native info` in your terminal? Also what version of gradle do you have set up inside the project? You can check it inside `android/gradle/wrapper/gradle-wrapper.properties` - `distributionUrl`","body":"Can you run <code>npx react-native info</code> in your terminal? Also what version of gradle do you have set up inside the project? You can check it inside <code>android&#47;gradle&#47;wrapper&#47;gradle-wrapper.properties</code> - <code>distributionUrl</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687761407,"post_id":76553916,"comment_id":134976190,"body_markdown":"Hi @NuttyJackJ! About info check the updated question above. - Android Gradle Plugin Version: 7.4.1\n- Gradle Version: 7.5.1","body":"Hi @NuttyJackJ! About info check the updated question above. - Android Gradle Plugin Version: 7.4.1 - Gradle Version: 7.5.1"},{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":0,"creation_date":1687761855,"post_id":76553916,"comment_id":134976257,"body_markdown":"Can you make sure you have the gradlew-wrapper.properties distribution url to be as follows: `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip`","body":"Can you make sure you have the gradlew-wrapper.properties distribution url to be as follows: <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-7.5.1-all.zip</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687763196,"post_id":76553916,"comment_id":134976495,"body_markdown":"Yes it is: `distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-all.zip`","body":"Yes it is: <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-7.5.1-all.zip</code>"},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687769900,"post_id":76553916,"comment_id":134977769,"body_markdown":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?","body":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?"},{"owner":{"account_id":25373165,"reputation":275,"user_id":19186638,"display_name":"NuttyJackJ"},"score":1,"creation_date":1687773067,"post_id":76553916,"comment_id":134978412,"body_markdown":"If you are able to run a new sample react-native app by default, it means your machine is set-up properly, so the issue you have is a project configuration issue. Try that and see if it works for you. Also don&#39;t forget to add native specific configuration that you have added to your project (build.gradle, MainApplication, MainActivity ...), , in addition to changing app bundle id.","body":"If you are able to run a new sample react-native app by default, it means your machine is set-up properly, so the issue you have is a project configuration issue. Try that and see if it works for you. Also don&#39;t forget to add native specific configuration that you have added to your project (build.gradle, MainApplication, MainActivity ...), , in addition to changing app bundle id."}],"answers":[{"comments":[{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687760669,"post_id":76553980,"comment_id":134976053,"body_markdown":"Hello @Muhammad! Thank you for your solution, but I forgot to mention I use plain RN cli, not expo. Maybe your solution will help someone else, though.","body":"Hello @Muhammad! Thank you for your solution, but I forgot to mention I use plain RN cli, not expo. Maybe your solution will help someone else, though."},{"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"score":0,"creation_date":1687769912,"post_id":76553980,"comment_id":134977773,"body_markdown":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?","body":"Should I delete the android folder, create a new project take the android folder and paste it to the old...?"}],"tags":[],"owner":{"account_id":22495264,"reputation":1,"user_id":16692353,"display_name":"Muhammad Ahmad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687760768,"creation_date":1687760355,"answer_id":76553980,"question_id":76553916,"body_markdown":"Note: I&#39;m Using expo cli\r\n\r\nI was having the same issue. What worked partially is that I deleted the .expo folder with all its components and uploaded file to the EAS server using\r\n\r\n    eas build -p android\r\nand then wait for the files to be uploaded to EAS server. When the build is completed, just upload the .aab file to playstore.\r\n\r\nThis works but you cannot change the version number and other settings in the MANIFEST file\r\n\r\nMake sure that you have the latest eas version installed. You can use the following command\r\n\r\n    npm i --global eas-cli\r\n\r\n","title":"Why the initialization script ... .gradle does not exist?","body":"<p>Note: I'm Using expo cli</p>\n<p>I was having the same issue. What worked partially is that I deleted the .expo folder with all its components and uploaded file to the EAS server using</p>\n<pre><code>eas build -p android\n</code></pre>\n<p>and then wait for the files to be uploaded to EAS server. When the build is completed, just upload the .aab file to playstore.</p>\n<p>This works but you cannot change the version number and other settings in the MANIFEST file</p>\n<p>Make sure that you have the latest eas version installed. You can use the following command</p>\n<pre><code>npm i --global eas-cli\n</code></pre>\n"}],"owner":{"account_id":7926965,"reputation":1360,"user_id":5986141,"display_name":"Fotios Tsakiris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687761314,"creation_date":1687759719,"question_id":76553916,"body_markdown":"This is a React Native project and I use plain RN cli, not Expo.\r\n\r\nThe `android/build.gradle` file gives an error. On the first line I see a red tilde. When I hover over it I get the following message.\r\n\r\n```js\r\nCould not run phased build action using connection to Gradle distribution \r\n\r\n&#39;https://services.gradle.org/distributions/gradle-7.5.1-all.zip&#39;.\r\n\r\nThe specified initialization script \r\n\r\n&#39;/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle&#39; \r\n\r\ndoes not exist.\r\n\r\n```\r\nWhat I&#39;ve tried:\r\n\r\n1. Use other gradle version and plugin.\r\n2. Clean `./gradle/caches` and `./gradle/daemon` and `./gradle/native` and `./gradle/notifications` and `./gradle/wrapper/dists`.\r\n3. Sync Project with Gradle files (In Android Studio)\r\n4. Delete `node_modules` and `npm install`\r\n5. Close project. Then, when I reopen the project (in VSCode) I get a message in the terminal: `Opening Java Projects` =&gt; which in details it says: `Importing Gradle projects...` When this is done, the tilde in the `build.gradle` file appears.\r\n\r\n\r\nAdditional notes:\r\n\r\nThe app runs fine in emulator, but when I upload it to Google Play Console, the app is suspended. The pre-launch report gives the following crashes:\r\n```js\r\njava.lang.RuntimeException: Unable to load script. \r\n\r\nMake sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n```\r\n\r\n```js\r\njava.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\r\n```\r\n- Android Gradle Plugin Version: 7.4.1\r\n- Gradle Version: 7.5.1\r\n\r\nHere is the output of `npx react-native info`\r\n\r\n```js\r\nSystem:\r\n    OS: macOS 12.6.6\r\n    CPU: (8) x64 Intel(R) Core(TM) i7-4770HQ CPU @ 2.20GHz\r\n    Memory: 41.13 MB / 16.00 GB\r\n    Shell: 5.8.1 - /bin/zsh\r\n  Binaries:\r\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\r\n    Yarn: 1.22.10 - /usr/local/bin/yarn\r\n    npm: 9.6.6 - ~/.nvm/versions/node/v14.18.1/bin/npm\r\n    Watchman: 2023.05.15.00 - /usr/local/bin/watchman\r\n  Managers:\r\n    CocoaPods: 1.11.3 - /usr/local/bin/pod\r\n  SDKs:\r\n    iOS SDK:\r\n      Platforms: DriverKit 22.2, iOS 16.2, macOS 13.1, tvOS 16.1, watchOS 9.1\r\n    Android SDK:\r\n      Android NDK: 22.1.7171670\r\n  IDEs:\r\n    Android Studio: 2022.1 AI-221.6008.13.2211.9514443\r\n    Xcode: 14.2/14C18 - /usr/bin/xcodebuild\r\n  Languages:\r\n    Java: 11.0.19 - /usr/bin/javac\r\n  npmPackages:\r\n    @react-native-community/cli: Not Found\r\n    react: 18.1.0 =&gt; 18.1.0 \r\n    react-native: 0.70.6 =&gt; 0.70.6 \r\n    react-native-macos: Not Found\r\n  npmGlobalPackages:\r\n    *react-native*: Not Found\r\n\r\n```","title":"Why the initialization script ... .gradle does not exist?","body":"<p>This is a React Native project and I use plain RN cli, not Expo.</p>\n<p>The <code>android/build.gradle</code> file gives an error. On the first line I see a red tilde. When I hover over it I get the following message.</p>\n<pre class=\"lang-js prettyprint-override\"><code>Could not run phased build action using connection to Gradle distribution \n\n'https://services.gradle.org/distributions/gradle-7.5.1-all.zip'.\n\nThe specified initialization script \n\n'/var/folders/n_/yd13xnrj4cxbvk7yvrz84m1w0000gp/T/d146c9752a26f79b52047fb6dc6ed385d064e120494f96f08ca63a317c41f94c.gradle' \n\ndoes not exist.\n\n</code></pre>\n<p>What I've tried:</p>\n<ol>\n<li>Use other gradle version and plugin.</li>\n<li>Clean <code>./gradle/caches</code> and <code>./gradle/daemon</code> and <code>./gradle/native</code> and <code>./gradle/notifications</code> and <code>./gradle/wrapper/dists</code>.</li>\n<li>Sync Project with Gradle files (In Android Studio)</li>\n<li>Delete <code>node_modules</code> and <code>npm install</code></li>\n<li>Close project. Then, when I reopen the project (in VSCode) I get a message in the terminal: <code>Opening Java Projects</code> =&gt; which in details it says: <code>Importing Gradle projects...</code> When this is done, the tilde in the <code>build.gradle</code> file appears.</li>\n</ol>\n<p>Additional notes:</p>\n<p>The app runs fine in emulator, but when I upload it to Google Play Console, the app is suspended. The pre-launch report gives the following crashes:</p>\n<pre class=\"lang-js prettyprint-override\"><code>java.lang.RuntimeException: Unable to load script. \n\nMake sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>java.lang.SecurityException: No active admin ComponentInfo{com.google.android.apps.mtaas.deviceadmin/com.google.android.apps.mtaas.deviceadmin.DeviceAdminReceiver}\n</code></pre>\n<ul>\n<li>Android Gradle Plugin Version: 7.4.1</li>\n<li>Gradle Version: 7.5.1</li>\n</ul>\n<p>Here is the output of <code>npx react-native info</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>System:\n    OS: macOS 12.6.6\n    CPU: (8) x64 Intel(R) Core(TM) i7-4770HQ CPU @ 2.20GHz\n    Memory: 41.13 MB / 16.00 GB\n    Shell: 5.8.1 - /bin/zsh\n  Binaries:\n    Node: 14.18.1 - ~/.nvm/versions/node/v14.18.1/bin/node\n    Yarn: 1.22.10 - /usr/local/bin/yarn\n    npm: 9.6.6 - ~/.nvm/versions/node/v14.18.1/bin/npm\n    Watchman: 2023.05.15.00 - /usr/local/bin/watchman\n  Managers:\n    CocoaPods: 1.11.3 - /usr/local/bin/pod\n  SDKs:\n    iOS SDK:\n      Platforms: DriverKit 22.2, iOS 16.2, macOS 13.1, tvOS 16.1, watchOS 9.1\n    Android SDK:\n      Android NDK: 22.1.7171670\n  IDEs:\n    Android Studio: 2022.1 AI-221.6008.13.2211.9514443\n    Xcode: 14.2/14C18 - /usr/bin/xcodebuild\n  Languages:\n    Java: 11.0.19 - /usr/bin/javac\n  npmPackages:\n    @react-native-community/cli: Not Found\n    react: 18.1.0 =&gt; 18.1.0 \n    react-native: 0.70.6 =&gt; 0.70.6 \n    react-native-macos: Not Found\n  npmGlobalPackages:\n    *react-native*: Not Found\n\n</code></pre>\n"},{"tags":["java","android","eclipse","usb"],"owner":{"account_id":6751294,"reputation":11,"user_id":5458174,"display_name":"Mateusz2323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687761246,"creation_date":1445161611,"question_id":33196521,"body_markdown":"I am very beginner in stuff which I am doing.\r\nMy problem is that: I am programming an Android application in order to be able to send data and receive data from Infineon XMC4500 processor, I am working with my evaluation board Infineon XMC4500 Relax kit.\r\n\r\nCould you please tell me, what actually do I do wrong in order to send data.\r\n\r\nI would like to to add, that in Infineon DAVE IDE (IDE based on eclipse), I use DAVE app (software component) USBVC001 (USB_VirtualCOMDevice_USBVC001 is App for Communications Device Class demonstration application.)\r\n\r\nEvery suggestion is highly appreciated!\r\n\r\n    com.example.mateusz.buttonexample;\r\n    \r\n    android.app.PendingIntent;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.hardware.usb.UsbConstants;\r\n    import android.hardware.usb.UsbDevice;\r\n    import android.hardware.usb.UsbDeviceConnection;\r\n    import android.hardware.usb.UsbEndpoint;\r\n    import android.hardware.usb.UsbInterface;\r\n    import android.hardware.usb.UsbManager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        final int RQSID_SET_LINE_CODING = 0x20;\r\n        final int RQSID_SET_CONTROL_LINE_STATE = 0x22;\r\n    \r\n        private static final String ACTION_USB_PERMISSION = &quot;com.example.USB_PERMISSION&quot;;\r\n        private static final String TAG = &quot;MyActivity&quot;;\r\n        private final int vendorID = 1419;\r\n        private final int productID = 88;\r\n        PendingIntent mPermissionIntent;\r\n    \r\n        private UsbDevice device;\r\n        private UsbManager connectedDevices;\r\n    \r\n        UsbEndpoint in = null;\r\n        UsbEndpoint out = null;\r\n        UsbDeviceConnection usbDeviceConnection = null;\r\n        UsbInterface interfaceUSB = null;\r\n    \r\n        private Button checkButton;\r\n    \r\n        private TextView infoDevice;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            UsbDevice device1 = null;\r\n            UsbManager manager = (UsbManager)getSystemService(USB_SERVICE);\r\n            mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(mUsbReceiver, filter);\r\n    \r\n            registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_ATTACHED));\r\n            registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_DETACHED));\r\n    \r\n            //UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n            while(deviceIterator.hasNext()){\r\n                device1 = deviceIterator.next();\r\n                //your code\r\n            }\r\n    \r\n    \r\n    \r\n            device = device1;\r\n            manager.requestPermission(device, mPermissionIntent);\r\n    \r\n            infoDevice = (TextView) findViewById(R.id.infoDevice);\r\n            checkButton = (Button) findViewById(R.id.checkButton);\r\n    \r\n    \r\n            checkButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showInformationAboutConnectedDevices();\r\n                }\r\n            });\r\n    \r\n            //setUpCommunication();\r\n        }\r\n    \r\n        private  void releaseUsb()\r\n        {\r\n            if(usbDeviceConnection != null)\r\n            {\r\n                if(interfaceUSB != null)\r\n                {\r\n                    usbDeviceConnection.releaseInterface(interfaceUSB);\r\n                    interfaceUSB = null;\r\n                }\r\n                usbDeviceConnection.close();\r\n                usbDeviceConnection = null;\r\n            }\r\n            in = null;\r\n            out = null;\r\n            usbDeviceConnection = null;\r\n            device = null;\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            releaseUsb();\r\n            unregisterReceiver(mUsbReceiver);\r\n            unregisterReceiver(mUsbDeviceReceiver);\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private void setUpCommunication()\r\n        {\r\n            UsbDevice usbDevice = null;\r\n            UsbDevice usbDeviceFound = null;\r\n    \r\n            UsbManager manager = (UsbManager)getSystemService(Context.USB_SERVICE);\r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n    \r\n    \r\n    \r\n            while(deviceIterator.hasNext())\r\n            {\r\n                usbDevice = deviceIterator.next();\r\n    \r\n                //do sprawdzenia\r\n                if((usbDevice.getVendorId() == vendorID) &amp;&amp; (usbDevice.getProductId() == productID))\r\n                {\r\n                    device = usbDevice;\r\n                    TextView check = (TextView)findViewById(R.id.checkText1);\r\n                    check.setText(&quot;Sprawdzony vendorID i productID&quot;);\r\n                }\r\n    \r\n                if(device != null)\r\n                {\r\n                    //TextView check = (TextView)findViewById(R.id.checkText1);\r\n                    //check.setText(&quot;Device != null&quot;);\r\n                    //wait(2000);\r\n    \r\n                    //for(int i = 0; i &lt; 100000; i++){ ; }\r\n                    for(int i = 0; i &lt; device.getInterfaceCount(); i++)\r\n                    {\r\n                        UsbInterface usbInter = device.getInterface(i);\r\n    \r\n                        if(usbInter.getEndpointCount() &gt;= 2){\r\n                            for(int j = 0; j &lt; usbInter.getEndpointCount(); j++)\r\n                            {\r\n                                if(usbInter.getEndpoint(j).getType() == UsbConstants.USB_ENDPOINT_XFER_BULK)\r\n                                {\r\n                                    if (usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_IN)\r\n                                    {\r\n                                        in = usbInter.getEndpoint(j);\r\n                                    }\r\n    \r\n                                    if(usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_OUT)\r\n                                    {\r\n                                        //check.setText(&quot;USB_DIR_OUT&quot;);\r\n                                        //wait(2000);\r\n                                        interfaceUSB = usbInter;\r\n                                        out = usbInter.getEndpoint(j);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }\r\n    \r\n            TextView check = (TextView)findViewById(R.id.checkText1);\r\n            TextView pozwolenie = (TextView)findViewById(R.id.pozwolenie);\r\n    \r\n            if(manager.hasPermission(device)){ pozwolenie.setText(&quot;Wszedlem w pozwolenie&quot;); }\r\n            byte[] myBuffer = new byte[] {(byte)&#39;A&#39;};\r\n            //Ustanowienie komunikacji\r\n            UsbDeviceConnection connection = manager.openDevice(device);\r\n            connection.claimInterface(interfaceUSB, true);\r\n    \r\n                    int length = connection.bulkTransfer(out,myBuffer, myBuffer.length,100);\r\n    \r\n            if(length &gt;= 0)\r\n            {\r\n                check.setText(&quot;Udalo sie &quot; + Integer.toString(length));\r\n            }\r\n    \r\n            byte[] tablica = new byte[1];\r\n            tablica[0] = (byte)&#39;B&#39;;\r\n            int d = tablica[0];\r\n            connection.bulkTransfer(in, tablica, 1, 100);\r\n            int z = tablica[0];\r\n            check.setText(&quot;B code&quot; + Integer.toString(d) + &quot;bulkTransfer&quot; + Integer.toString(z));\r\n            usbDeviceConnection = connection;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.menu_main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n    \r\n            //noinspection SimplifiableIfStatement\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n    \r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n        private void showInformationAboutConnectedDevices()\r\n        {\r\n            connectedDevices = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = connectedDevices.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceListIterator = deviceList.values().iterator();\r\n    \r\n            String informationAboutDevice = &quot;&quot;;\r\n            while (deviceListIterator.hasNext())\r\n            {\r\n                UsbDevice connectedDeviceTemporary = deviceListIterator.next();\r\n    \r\n                String tempString;\r\n                tempString = &quot;\\n&quot;;\r\n                tempString = &quot;Device id: &quot; + connectedDeviceTemporary.getDeviceId() + &quot;\\n&quot;\r\n                        + &quot;Device name:&quot; + connectedDeviceTemporary.getDeviceName() + &quot;\\n&quot; + &quot;dupa&quot;;\r\n                informationAboutDevice += tempString;\r\n            }\r\n            infoDevice.setText(informationAboutDevice);\r\n        }\r\n    \r\n        private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n                TextView permissionText = (TextView) findViewById(R.id.textPermission);\r\n    \r\n                if(ACTION_USB_PERMISSION.equals(action))\r\n                {\r\n                    synchronized (this)\r\n                    {\r\n                        UsbDevice connectedDeviceTemporary = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                       // device = connectedDeviceTemporary;\r\n                        if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false))\r\n                        {\r\n                            if(connectedDeviceTemporary != null)\r\n                            {\r\n                                permissionText.setText(&quot;Wszedlem w mUsbReceiver&quot;);\r\n                                setUpCommunication();\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            Log.d(TAG, &quot;permission denied for device &quot; + device);\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            }\r\n        };\r\n    \r\n        private final BroadcastReceiver mUsbDeviceReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n    \r\n                if(UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action))\r\n                {\r\n                    //UsbDevice device1 = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    TextView text = (TextView)findViewById(R.id.checkingText);\r\n                    text.setText(&quot;Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_DETACHED&quot;);\r\n                    if(usbDeviceConnection != null)\r\n                    {\r\n                        if(interfaceUSB != null)\r\n                        {\r\n                            usbDeviceConnection.releaseInterface(interfaceUSB);\r\n                            interfaceUSB = null;\r\n                        }\r\n                        usbDeviceConnection.close();\r\n                        usbDeviceConnection = null;\r\n                    }\r\n                    in = null;\r\n                    out = null;\r\n                    usbDeviceConnection = null;\r\n                    device = null;\r\n    \r\n                }\r\n                else if(UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action))\r\n                {\r\n                    device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    TextView text = (TextView)findViewById(R.id.checkingText);\r\n                    text.setText(&quot;Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_ATTACHED&quot;);\r\n                    setUpCommunication();\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n","title":"Android USB communication with Infineon XMC4500 Relax Kit","body":"<p>I am very beginner in stuff which I am doing.\nMy problem is that: I am programming an Android application in order to be able to send data and receive data from Infineon XMC4500 processor, I am working with my evaluation board Infineon XMC4500 Relax kit.</p>\n\n<p>Could you please tell me, what actually do I do wrong in order to send data.</p>\n\n<p>I would like to to add, that in Infineon DAVE IDE (IDE based on eclipse), I use DAVE app (software component) USBVC001 (USB_VirtualCOMDevice_USBVC001 is App for Communications Device Class demonstration application.)</p>\n\n<p>Every suggestion is highly appreciated!</p>\n\n<pre><code>com.example.mateusz.buttonexample;\n\nandroid.app.PendingIntent;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbConstants;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbDeviceConnection;\nimport android.hardware.usb.UsbEndpoint;\nimport android.hardware.usb.UsbInterface;\nimport android.hardware.usb.UsbManager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.util.HashMap;\nimport java.util.Iterator;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    final int RQSID_SET_LINE_CODING = 0x20;\n    final int RQSID_SET_CONTROL_LINE_STATE = 0x22;\n\n    private static final String ACTION_USB_PERMISSION = \"com.example.USB_PERMISSION\";\n    private static final String TAG = \"MyActivity\";\n    private final int vendorID = 1419;\n    private final int productID = 88;\n    PendingIntent mPermissionIntent;\n\n    private UsbDevice device;\n    private UsbManager connectedDevices;\n\n    UsbEndpoint in = null;\n    UsbEndpoint out = null;\n    UsbDeviceConnection usbDeviceConnection = null;\n    UsbInterface interfaceUSB = null;\n\n    private Button checkButton;\n\n    private TextView infoDevice;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        UsbDevice device1 = null;\n        UsbManager manager = (UsbManager)getSystemService(USB_SERVICE);\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n        registerReceiver(mUsbReceiver, filter);\n\n        registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_ATTACHED));\n        registerReceiver(mUsbDeviceReceiver, new IntentFilter(UsbManager.ACTION_USB_DEVICE_DETACHED));\n\n        //UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while(deviceIterator.hasNext()){\n            device1 = deviceIterator.next();\n            //your code\n        }\n\n\n\n        device = device1;\n        manager.requestPermission(device, mPermissionIntent);\n\n        infoDevice = (TextView) findViewById(R.id.infoDevice);\n        checkButton = (Button) findViewById(R.id.checkButton);\n\n\n        checkButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showInformationAboutConnectedDevices();\n            }\n        });\n\n        //setUpCommunication();\n    }\n\n    private  void releaseUsb()\n    {\n        if(usbDeviceConnection != null)\n        {\n            if(interfaceUSB != null)\n            {\n                usbDeviceConnection.releaseInterface(interfaceUSB);\n                interfaceUSB = null;\n            }\n            usbDeviceConnection.close();\n            usbDeviceConnection = null;\n        }\n        in = null;\n        out = null;\n        usbDeviceConnection = null;\n        device = null;\n    }\n\n    @Override\n    protected void onDestroy() {\n        releaseUsb();\n        unregisterReceiver(mUsbReceiver);\n        unregisterReceiver(mUsbDeviceReceiver);\n        super.onDestroy();\n    }\n\n    private void setUpCommunication()\n    {\n        UsbDevice usbDevice = null;\n        UsbDevice usbDeviceFound = null;\n\n        UsbManager manager = (UsbManager)getSystemService(Context.USB_SERVICE);\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n\n\n\n        while(deviceIterator.hasNext())\n        {\n            usbDevice = deviceIterator.next();\n\n            //do sprawdzenia\n            if((usbDevice.getVendorId() == vendorID) &amp;&amp; (usbDevice.getProductId() == productID))\n            {\n                device = usbDevice;\n                TextView check = (TextView)findViewById(R.id.checkText1);\n                check.setText(\"Sprawdzony vendorID i productID\");\n            }\n\n            if(device != null)\n            {\n                //TextView check = (TextView)findViewById(R.id.checkText1);\n                //check.setText(\"Device != null\");\n                //wait(2000);\n\n                //for(int i = 0; i &lt; 100000; i++){ ; }\n                for(int i = 0; i &lt; device.getInterfaceCount(); i++)\n                {\n                    UsbInterface usbInter = device.getInterface(i);\n\n                    if(usbInter.getEndpointCount() &gt;= 2){\n                        for(int j = 0; j &lt; usbInter.getEndpointCount(); j++)\n                        {\n                            if(usbInter.getEndpoint(j).getType() == UsbConstants.USB_ENDPOINT_XFER_BULK)\n                            {\n                                if (usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_IN)\n                                {\n                                    in = usbInter.getEndpoint(j);\n                                }\n\n                                if(usbInter.getEndpoint(j).getDirection() == UsbConstants.USB_DIR_OUT)\n                                {\n                                    //check.setText(\"USB_DIR_OUT\");\n                                    //wait(2000);\n                                    interfaceUSB = usbInter;\n                                    out = usbInter.getEndpoint(j);\n                                }\n                            }\n                        }\n                    }\n                }\n\n            }\n        }\n\n        TextView check = (TextView)findViewById(R.id.checkText1);\n        TextView pozwolenie = (TextView)findViewById(R.id.pozwolenie);\n\n        if(manager.hasPermission(device)){ pozwolenie.setText(\"Wszedlem w pozwolenie\"); }\n        byte[] myBuffer = new byte[] {(byte)'A'};\n        //Ustanowienie komunikacji\n        UsbDeviceConnection connection = manager.openDevice(device);\n        connection.claimInterface(interfaceUSB, true);\n\n                int length = connection.bulkTransfer(out,myBuffer, myBuffer.length,100);\n\n        if(length &gt;= 0)\n        {\n            check.setText(\"Udalo sie \" + Integer.toString(length));\n        }\n\n        byte[] tablica = new byte[1];\n        tablica[0] = (byte)'B';\n        int d = tablica[0];\n        connection.bulkTransfer(in, tablica, 1, 100);\n        int z = tablica[0];\n        check.setText(\"B code\" + Integer.toString(d) + \"bulkTransfer\" + Integer.toString(z));\n        usbDeviceConnection = connection;\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n\n        //noinspection SimplifiableIfStatement\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    private void showInformationAboutConnectedDevices()\n    {\n        connectedDevices = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = connectedDevices.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceListIterator = deviceList.values().iterator();\n\n        String informationAboutDevice = \"\";\n        while (deviceListIterator.hasNext())\n        {\n            UsbDevice connectedDeviceTemporary = deviceListIterator.next();\n\n            String tempString;\n            tempString = \"\\n\";\n            tempString = \"Device id: \" + connectedDeviceTemporary.getDeviceId() + \"\\n\"\n                    + \"Device name:\" + connectedDeviceTemporary.getDeviceName() + \"\\n\" + \"dupa\";\n            informationAboutDevice += tempString;\n        }\n        infoDevice.setText(informationAboutDevice);\n    }\n\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            TextView permissionText = (TextView) findViewById(R.id.textPermission);\n\n            if(ACTION_USB_PERMISSION.equals(action))\n            {\n                synchronized (this)\n                {\n                    UsbDevice connectedDeviceTemporary = (UsbDevice) intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                   // device = connectedDeviceTemporary;\n                    if(intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false))\n                    {\n                        if(connectedDeviceTemporary != null)\n                        {\n                            permissionText.setText(\"Wszedlem w mUsbReceiver\");\n                            setUpCommunication();\n                        }\n                    }\n                    else\n                    {\n                        Log.d(TAG, \"permission denied for device \" + device);\n                    }\n                }\n            }\n\n        }\n    };\n\n    private final BroadcastReceiver mUsbDeviceReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n\n            if(UsbManager.ACTION_USB_DEVICE_DETACHED.equals(action))\n            {\n                //UsbDevice device1 = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                TextView text = (TextView)findViewById(R.id.checkingText);\n                text.setText(\"Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_DETACHED\");\n                if(usbDeviceConnection != null)\n                {\n                    if(interfaceUSB != null)\n                    {\n                        usbDeviceConnection.releaseInterface(interfaceUSB);\n                        interfaceUSB = null;\n                    }\n                    usbDeviceConnection.close();\n                    usbDeviceConnection = null;\n                }\n                in = null;\n                out = null;\n                usbDeviceConnection = null;\n                device = null;\n\n            }\n            else if(UsbManager.ACTION_USB_DEVICE_ATTACHED.equals(action))\n            {\n                device = intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                TextView text = (TextView)findViewById(R.id.checkingText);\n                text.setText(\"Wszedlem mUsbDeviceReceiver ACTION_USB_DEVICE_ATTACHED\");\n                setUpCommunication();\n            }\n        }\n    };\n}\n</code></pre>\n"},{"tags":["javascript","java","gs1-datamatrix"],"comments":[{"owner":{"account_id":1372956,"reputation":8368,"user_id":1307530,"accept_rate":89,"display_name":"Pragnesh Chauhan"},"score":0,"creation_date":1687346141,"post_id":76521269,"comment_id":134923066,"body_markdown":"have you tried `jsbarcode` JavaScript library?","body":"have you tried <code>jsbarcode</code> JavaScript library?"},{"owner":{"account_id":1372956,"reputation":8368,"user_id":1307530,"accept_rate":89,"display_name":"Pragnesh Chauhan"},"score":0,"creation_date":1687346367,"post_id":76521269,"comment_id":134923121,"body_markdown":"Sometimes barcode has special character like `GS` that should be read by barcode scanner.","body":"Sometimes barcode has special character like <code>GS</code> that should be read by barcode scanner."},{"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"score":0,"creation_date":1687350954,"post_id":76521269,"comment_id":134924198,"body_markdown":"@PragneshChauhan `jsbarcode` doesn&#39;t support 2D barcodes. GS1 DataMatrix is 2D barcode format.\n\nI tried read  barcode scanner output by character, but I don&#39;t see a pattern. I&#39;ll update my OP.","body":"@PragneshChauhan <code>jsbarcode</code> doesn&#39;t support 2D barcodes. GS1 DataMatrix is 2D barcode format.  I tried read  barcode scanner output by character, but I don&#39;t see a pattern. I&#39;ll update my OP."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687520426,"post_id":76532663,"comment_id":134952036,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76532663/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687761091,"creation_date":1687442049,"answer_id":76532663,"question_id":76521269,"body_markdown":"I did it! I noticed that GTIN and EXP are always extracted in proper way, so I tried something like this:\r\n\r\n```javascript\r\n    const extractDataMatrix = (code) =&gt; {\r\n        const response = {gtin: &#39;&#39;, lot: &#39;&#39;, sn: &#39;&#39;, exp: &#39;&#39;};\r\n        let responseCode = code;\r\n\r\n        const prefixes = [\r\n            {prefix: &#39;01&#39;, key: &#39;gtin&#39;, length: 14},\r\n            {prefix: &#39;17&#39;, key: &#39;exp&#39;, length: 6}\r\n        ];\r\n\r\n        prefixes.forEach(({prefix, key, length}) =&gt; {\r\n            const position = responseCode.indexOf(prefix);\r\n\r\n            if (position !== -1) {\r\n                const start = position + prefix.length;\r\n                const end = start + length;\r\n\r\n                response[key] = responseCode.substring(start, end);\r\n                responseCode = responseCode.slice(0, position) + responseCode.slice(end);\r\n            }\r\n        });\r\n\r\n        const lotAndSn = extractLotAndSn(responseCode);\r\n        response.lot = lotAndSn.lot;\r\n        response.sn = lotAndSn.sn;\r\n\r\n        return response;\r\n    };\r\n\r\n    const extractLotAndSn = (responseCode) =&gt; {\r\n        const pattern = /^(10.+?)(?=10|21)(21.+?)$|^(21.+?)(?=10|21)(10.+?)$/;\r\n        const matches = responseCode.match(pattern);\r\n        if (!matches) return {lot: &#39;&#39;, sn: &#39;&#39;};\r\n\r\n        const [lot1, sn1, sn2, lot2] = matches.slice(1);\r\n        const lot = (lot1 || lot2 || &#39;&#39;).substring(2);\r\n        const sn = (sn1 || sn2 || &#39;&#39;).substring(2);\r\n        return checkLotAndSn(lot, sn, responseCode);\r\n    };\r\n\r\n    const checkLotAndSn = (lot, sn, responseCode) =&gt; {\r\n        if (responseCode.includes(&quot;1010&quot;) &amp;&amp; !responseCode.includes(&quot;10100&quot;)) {\r\n            const isLotStart = lot.startsWith(&quot;10&quot;);\r\n            if (isLotStart) {\r\n                lot = lot.slice(2);\r\n                sn += &quot;10&quot;;\r\n            }\r\n        } else if (responseCode.includes(&quot;2121&quot;) &amp;&amp; responseCode.includes(&quot;21210&quot;)) {\r\n            const isSnStart = sn.startsWith(&quot;21&quot;);\r\n            if (isSnStart) {\r\n                sn = sn.slice(2);\r\n                lot += &quot;21&quot;;\r\n            }\r\n        }\r\n\r\n        return {lot, sn};\r\n    };\r\n```\r\n\r\nI think it can be optimized anyway, but for now I don&#39;t care ;).\r\n\r\nWhat is going on?\r\n\r\n 1. In `extractDataMatrix` I check prefixes with fixed length (GTIN and EX).\r\n 2. After `forEach` I remove it from `responseCode`. \r\n 3. I pass this `responseCode` to `extractLotAndSn()` function.\r\n 4. I this function I used regex to get lot and sn.\r\n 5. Sometimes I got code, where prefix is a part of previous sequence (ex. 1010 and 2121), so `checkLotAndSn()` function remove prefix from start of sequence and add it to previous sequence.\r\n 6. I don&#39;t know why in case where `10100` and `21210` is part of\r\n    `responseCode` everything is splitted correctly, so I excluded it from swap.\r\n\r\n","title":"Extract GTIN, LoT, SN and EXP from GS1 DataMatrix barcode","body":"<p>I did it! I noticed that GTIN and EXP are always extracted in proper way, so I tried something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>    const extractDataMatrix = (code) =&gt; {\n        const response = {gtin: '', lot: '', sn: '', exp: ''};\n        let responseCode = code;\n\n        const prefixes = [\n            {prefix: '01', key: 'gtin', length: 14},\n            {prefix: '17', key: 'exp', length: 6}\n        ];\n\n        prefixes.forEach(({prefix, key, length}) =&gt; {\n            const position = responseCode.indexOf(prefix);\n\n            if (position !== -1) {\n                const start = position + prefix.length;\n                const end = start + length;\n\n                response[key] = responseCode.substring(start, end);\n                responseCode = responseCode.slice(0, position) + responseCode.slice(end);\n            }\n        });\n\n        const lotAndSn = extractLotAndSn(responseCode);\n        response.lot = lotAndSn.lot;\n        response.sn = lotAndSn.sn;\n\n        return response;\n    };\n\n    const extractLotAndSn = (responseCode) =&gt; {\n        const pattern = /^(10.+?)(?=10|21)(21.+?)$|^(21.+?)(?=10|21)(10.+?)$/;\n        const matches = responseCode.match(pattern);\n        if (!matches) return {lot: '', sn: ''};\n\n        const [lot1, sn1, sn2, lot2] = matches.slice(1);\n        const lot = (lot1 || lot2 || '').substring(2);\n        const sn = (sn1 || sn2 || '').substring(2);\n        return checkLotAndSn(lot, sn, responseCode);\n    };\n\n    const checkLotAndSn = (lot, sn, responseCode) =&gt; {\n        if (responseCode.includes(&quot;1010&quot;) &amp;&amp; !responseCode.includes(&quot;10100&quot;)) {\n            const isLotStart = lot.startsWith(&quot;10&quot;);\n            if (isLotStart) {\n                lot = lot.slice(2);\n                sn += &quot;10&quot;;\n            }\n        } else if (responseCode.includes(&quot;2121&quot;) &amp;&amp; responseCode.includes(&quot;21210&quot;)) {\n            const isSnStart = sn.startsWith(&quot;21&quot;);\n            if (isSnStart) {\n                sn = sn.slice(2);\n                lot += &quot;21&quot;;\n            }\n        }\n\n        return {lot, sn};\n    };\n</code></pre>\n<p>I think it can be optimized anyway, but for now I don't care ;).</p>\n<p>What is going on?</p>\n<ol>\n<li>In <code>extractDataMatrix</code> I check prefixes with fixed length (GTIN and EX).</li>\n<li>After <code>forEach</code> I remove it from <code>responseCode</code>.</li>\n<li>I pass this <code>responseCode</code> to <code>extractLotAndSn()</code> function.</li>\n<li>I this function I used regex to get lot and sn.</li>\n<li>Sometimes I got code, where prefix is a part of previous sequence (ex. 1010 and 2121), so <code>checkLotAndSn()</code> function remove prefix from start of sequence and add it to previous sequence.</li>\n<li>I don't know why in case where <code>10100</code> and <code>21210</code> is part of\n<code>responseCode</code> everything is splitted correctly, so I excluded it from swap.</li>\n</ol>\n"}],"owner":{"account_id":14278430,"reputation":109,"user_id":10313787,"display_name":"powermilk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76532663,"answer_count":1,"score":0,"last_activity_date":1687761091,"creation_date":1687335254,"question_id":76521269,"body_markdown":"I create software for pharmacies to validate drugs in NMVS. The program should work in such a way that I scan the drug code with a handheld scanner, click &quot;Verify&quot; and connect to NMVS. Most of the work is done, but to correctly verify the drug, I need to extract from the GTIN code (PC), batch number (LoT), serial number (SN) and expiry date (EXP)\r\n\r\nHere are the scan results for the test drugs:\r\n\r\n```\r\n01059099913808231003ZP082117230831210XXFAE5AWA6RF8\r\n0105909990054152101123926172207012162RB6FBN09\r\n010590999109968821100322567773831721093010100013978\r\n01059099907954202190EPCNT32ZH5581004032217250331\r\n010590999032841321YCK3EB53CNZXD1725083110C48700\r\n0105909990071029211165895472021010MU465417241031\r\n```\r\n\r\nI know that it&#39;s GS1 DataMatrix format and GTIN is prefixed with 01 (following 14 digits is GTIN), LoT with prefix 10 (following 1-20 alphanumeric characters is LoT), SN with prefix 21 (following 1-20 alphanumeric characters is LoT) LoT) and the expiry date is prefixed with 17 (following 6 digits is EXP).\r\n\r\nFor the given examples, I should have e.g.:\r\n\r\n```json\r\n[\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909991380823&quot;,\r\n\t\t&quot;lot&quot;: &quot;03ZP08&quot;,\r\n\t\t&quot;sn&quot;: &quot;0XXFAE5AWA6RF8&quot;,\r\n\t\t&quot;exp&quot;: &quot;230831&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990054152&quot;,\r\n\t\t&quot;lot&quot;: &quot;1123926&quot;,\r\n\t\t&quot;sn&quot;: &quot;62RB6FBN09&quot;,\r\n\t\t&quot;exp&quot;: &quot;220701&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909991099688&quot;,\r\n\t\t&quot;lot&quot;: &quot;100013978&quot;,\r\n\t\t&quot;sn&quot;: &quot;10032256777383&quot;,\r\n\t\t&quot;exp&quot;: &quot;210930&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990795420&quot;,\r\n\t\t&quot;lot&quot;: &quot;040322&quot;,\r\n\t\t&quot;sn&quot;: &quot;90EPCNT32ZH558&quot;,\r\n\t\t&quot;exp&quot;: &quot;250331&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990328413&quot;,\r\n\t\t&quot;lot&quot;: &quot;C48700&quot;,\r\n\t\t&quot;sn&quot;: &quot;YCK3EB53CNZXD&quot;,\r\n\t\t&quot;exp&quot;: &quot;250831&quot;\r\n\t},\r\n\t{\r\n\t\t&quot;gtin&quot;: &quot;05909990071029&quot;,\r\n\t\t&quot;lot&quot;: &quot;10MU4654&quot;,\r\n\t\t&quot;sn&quot;: &quot;116589547202&quot;,\r\n\t\t&quot;exp&quot;: &quot;241031&quot;\r\n\t}\r\n]\r\n```\r\n\r\nThe problem is that these sections can be in any order and of varying lengths. Only GTIN and EXP have a fixed length.\r\n\r\nI created a regex to extract these sections: `^(?=.*01(\\d{14}))(?=.*10([a-zA-Z0-9]{1,20}))(? =.*17(\\d{6}))(?=.*21([a-zA-Z0-9]{1,20})).*$` but unfortunately it doesn&#39;t work properly. The client is written in Javascript (not in TS, exactly in AngularJS - yes, it&#39;s a legacy project, I&#39;m trying to persuade the company to update it), and the server in Java.\r\n\r\nI&#39;m looking for any solution - whether it&#39;s a regex, library (Javascript or Java), external API - for this problem, personally I&#39;m running out of ideas...\r\n\r\nAlso, I&#39;ll add that the handheld scanner I&#39;m using is the Zebra DS2208.\r\n\r\nI would appreciate any help on this topic.\r\n\r\nEDIT:\r\n\r\nI tried read barcode scanner output character by character, but I don&#39;t see a pattern. This is what I got:\r\n\r\n[![Output with special characters][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKL0k.png","title":"Extract GTIN, LoT, SN and EXP from GS1 DataMatrix barcode","body":"<p>I create software for pharmacies to validate drugs in NMVS. The program should work in such a way that I scan the drug code with a handheld scanner, click &quot;Verify&quot; and connect to NMVS. Most of the work is done, but to correctly verify the drug, I need to extract from the GTIN code (PC), batch number (LoT), serial number (SN) and expiry date (EXP)</p>\n<p>Here are the scan results for the test drugs:</p>\n<pre><code>01059099913808231003ZP082117230831210XXFAE5AWA6RF8\n0105909990054152101123926172207012162RB6FBN09\n010590999109968821100322567773831721093010100013978\n01059099907954202190EPCNT32ZH5581004032217250331\n010590999032841321YCK3EB53CNZXD1725083110C48700\n0105909990071029211165895472021010MU465417241031\n</code></pre>\n<p>I know that it's GS1 DataMatrix format and GTIN is prefixed with 01 (following 14 digits is GTIN), LoT with prefix 10 (following 1-20 alphanumeric characters is LoT), SN with prefix 21 (following 1-20 alphanumeric characters is LoT) LoT) and the expiry date is prefixed with 17 (following 6 digits is EXP).</p>\n<p>For the given examples, I should have e.g.:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;gtin&quot;: &quot;05909991380823&quot;,\n        &quot;lot&quot;: &quot;03ZP08&quot;,\n        &quot;sn&quot;: &quot;0XXFAE5AWA6RF8&quot;,\n        &quot;exp&quot;: &quot;230831&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990054152&quot;,\n        &quot;lot&quot;: &quot;1123926&quot;,\n        &quot;sn&quot;: &quot;62RB6FBN09&quot;,\n        &quot;exp&quot;: &quot;220701&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909991099688&quot;,\n        &quot;lot&quot;: &quot;100013978&quot;,\n        &quot;sn&quot;: &quot;10032256777383&quot;,\n        &quot;exp&quot;: &quot;210930&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990795420&quot;,\n        &quot;lot&quot;: &quot;040322&quot;,\n        &quot;sn&quot;: &quot;90EPCNT32ZH558&quot;,\n        &quot;exp&quot;: &quot;250331&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990328413&quot;,\n        &quot;lot&quot;: &quot;C48700&quot;,\n        &quot;sn&quot;: &quot;YCK3EB53CNZXD&quot;,\n        &quot;exp&quot;: &quot;250831&quot;\n    },\n    {\n        &quot;gtin&quot;: &quot;05909990071029&quot;,\n        &quot;lot&quot;: &quot;10MU4654&quot;,\n        &quot;sn&quot;: &quot;116589547202&quot;,\n        &quot;exp&quot;: &quot;241031&quot;\n    }\n]\n</code></pre>\n<p>The problem is that these sections can be in any order and of varying lengths. Only GTIN and EXP have a fixed length.</p>\n<p>I created a regex to extract these sections: <code>^(?=.*01(\\d{14}))(?=.*10([a-zA-Z0-9]{1,20}))(? =.*17(\\d{6}))(?=.*21([a-zA-Z0-9]{1,20})).*$</code> but unfortunately it doesn't work properly. The client is written in Javascript (not in TS, exactly in AngularJS - yes, it's a legacy project, I'm trying to persuade the company to update it), and the server in Java.</p>\n<p>I'm looking for any solution - whether it's a regex, library (Javascript or Java), external API - for this problem, personally I'm running out of ideas...</p>\n<p>Also, I'll add that the handheld scanner I'm using is the Zebra DS2208.</p>\n<p>I would appreciate any help on this topic.</p>\n<p>EDIT:</p>\n<p>I tried read barcode scanner output character by character, but I don't see a pattern. This is what I got:</p>\n<p><a href=\"https://i.stack.imgur.com/hKL0k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKL0k.png\" alt=\"Output with special characters\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7815,"page":348,"page_size":100}
