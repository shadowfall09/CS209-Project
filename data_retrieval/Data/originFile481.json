{"items":[{"tags":["java","exception","try-catch","multi-catch"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":5,"up_vote_count":36,"is_accepted":false,"score":31,"last_activity_date":1631795619,"creation_date":1281982142,"answer_id":3495948,"question_id":3495926,"body_markdown":"No, one per customer prior to Java 7.\r\n\r\nYou can catch a superclass, like java.lang.Exception, as long as you take the same action in all cases.\r\n\r\n    try {\r\n        // some code\r\n    } catch(Exception e) { //All exceptions are caught here as all are inheriting java.lang.Exception\r\n        e.printStackTrace();\r\n    }\r\n\r\nBut that might not be the best practice.  You should only catch an exception when you have a strategy for actually handling it - and logging and rethrowing is not &quot;handling it&quot;.  If you don&#39;t have a corrective action, better to add it to the method signature and let it bubble up to someone that can handle the situation.\r\n\r\nWith JDK 7 and later you can do this: \r\n\r\n    try {\r\n        ...     \r\n    } catch (IllegalArgumentException | SecurityException | IllegalAccessException | NoSuchFieldException e) {\r\n        someCode();\r\n    }\r\n\r\n","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>No, one per customer prior to Java 7.</p>\n<p>You can catch a superclass, like java.lang.Exception, as long as you take the same action in all cases.</p>\n<pre><code>try {\n    // some code\n} catch(Exception e) { //All exceptions are caught here as all are inheriting java.lang.Exception\n    e.printStackTrace();\n}\n</code></pre>\n<p>But that might not be the best practice.  You should only catch an exception when you have a strategy for actually handling it - and logging and rethrowing is not &quot;handling it&quot;.  If you don't have a corrective action, better to add it to the method signature and let it bubble up to someone that can handle the situation.</p>\n<p>With JDK 7 and later you can do this:</p>\n<pre><code>try {\n    ...     \n} catch (IllegalArgumentException | SecurityException | IllegalAccessException | NoSuchFieldException e) {\n    someCode();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281982205,"creation_date":1281982205,"answer_id":3495956,"question_id":3495926,"body_markdown":"Catch the exception that happens to be a parent class in the exception hierarchy. [This is of course, bad practice][1]. In your case, the common parent exception happens to be the Exception class, and catching any exception that is an instance of Exception, is indeed bad practice - exceptions like NullPointerException are usually programming errors and should usually be resolved by checking for null values.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21938/is-it-really-that-bad-to-catch-a-general-exception","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>Catch the exception that happens to be a parent class in the exception hierarchy. <a href=\"https://stackoverflow.com/questions/21938/is-it-really-that-bad-to-catch-a-general-exception\">This is of course, bad practice</a>. In your case, the common parent exception happens to be the Exception class, and catching any exception that is an instance of Exception, is indeed bad practice - exceptions like NullPointerException are usually programming errors and should usually be resolved by checking for null values.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":1,"up_vote_count":1350,"is_accepted":true,"score":1349,"last_activity_date":1603173981,"creation_date":1281982272,"answer_id":3495968,"question_id":3495926,"body_markdown":"This has been possible [since Java 7](http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html). The syntax for a multi-catch block is:\r\n\r\n```java\r\ntry { \r\n  ...\r\n} catch (IllegalArgumentException | SecurityException | IllegalAccessException |\r\n            NoSuchFieldException e) { \r\n  someCode();\r\n}\r\n```\r\n\r\nRemember, though, that if all the exceptions belong to the same class hierarchy, you can simply catch that base exception type.\r\n\r\nAlso note that you cannot catch both `ExceptionA` and `ExceptionB` in the same block if `ExceptionB` is inherited, either directly or indirectly, from `ExceptionA`. The compiler will complain:\r\n\r\n```none\r\nAlternatives in a multi-catch statement cannot be related by subclassing\r\n  Alternative ExceptionB is a subclass of alternative ExceptionA\r\n```\r\n\r\nThe fix for this is to only include the ancestor exception in the exception list, as it will also catch exceptions of the descendant type.","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>This has been possible <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"noreferrer\">since Java 7</a>. The syntax for a multi-catch block is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try { \n  ...\n} catch (IllegalArgumentException | SecurityException | IllegalAccessException |\n            NoSuchFieldException e) { \n  someCode();\n}\n</code></pre>\n<p>Remember, though, that if all the exceptions belong to the same class hierarchy, you can simply catch that base exception type.</p>\n<p>Also note that you cannot catch both <code>ExceptionA</code> and <code>ExceptionB</code> in the same block if <code>ExceptionB</code> is inherited, either directly or indirectly, from <code>ExceptionA</code>. The compiler will complain:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Alternatives in a multi-catch statement cannot be related by subclassing\n  Alternative ExceptionB is a subclass of alternative ExceptionA\n</code></pre>\n<p>The fix for this is to only include the ancestor exception in the exception list, as it will also catch exceptions of the descendant type.</p>\n"},{"tags":[],"owner":{"account_id":153878,"reputation":2055,"user_id":369446,"accept_rate":100,"display_name":"Michael Shopsin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1486263660,"creation_date":1281982337,"answer_id":3495974,"question_id":3495926,"body_markdown":"If there is a hierarchy of exceptions you can use the base class to catch all subclasses of exceptions. In the degenerate case you can catch **all** Java exceptions with:\r\n\r\n    try {\r\n       ...\r\n    } catch (Exception e) {\r\n       someCode();\r\n    }\r\n\r\nIn a more common case if RepositoryException is the the base class and PathNotFoundException is a derived class then:\r\n\r\n    try {\r\n       ...\r\n    } catch (RepositoryException re) {\r\n       someCode();\r\n    } catch (Exception e) {\r\n       someCode();\r\n    }\r\n\r\nThe above code will catch RepositoryException and PathNotFoundException for one kind of exception handling and all other exceptions are lumped together.\r\nSince Java 7, as per @OscarRyz&#39;s answer above:\r\n\r\n    try { \r\n      ...\r\n    } catch( IOException | SQLException ex ) { \r\n      ...\r\n    }","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>If there is a hierarchy of exceptions you can use the base class to catch all subclasses of exceptions. In the degenerate case you can catch <strong>all</strong> Java exceptions with:</p>\n\n<pre><code>try {\n   ...\n} catch (Exception e) {\n   someCode();\n}\n</code></pre>\n\n<p>In a more common case if RepositoryException is the the base class and PathNotFoundException is a derived class then:</p>\n\n<pre><code>try {\n   ...\n} catch (RepositoryException re) {\n   someCode();\n} catch (Exception e) {\n   someCode();\n}\n</code></pre>\n\n<p>The above code will catch RepositoryException and PathNotFoundException for one kind of exception handling and all other exceptions are lumped together.\nSince Java 7, as per @OscarRyz's answer above:</p>\n\n<pre><code>try { \n  ...\n} catch( IOException | SQLException ex ) { \n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72918,"reputation":6140,"user_id":210290,"accept_rate":85,"display_name":"crusam"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1321914455,"creation_date":1281982364,"answer_id":3495976,"question_id":3495926,"body_markdown":"Within Java 7 you can define multiple catch clauses like:\r\n\r\n    catch (IllegalArgumentException | SecurityException e)\r\n    {\r\n        ...\r\n    }","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>Within Java 7 you can define multiple catch clauses like:</p>\n\n<pre><code>catch (IllegalArgumentException | SecurityException e)\n{\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"down_vote_count":5,"up_vote_count":124,"is_accepted":false,"score":119,"last_activity_date":1675449591,"creation_date":1346145350,"answer_id":12156157,"question_id":3495926,"body_markdown":"Not exactly before Java 7 but, I would do something like this:\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nJava 6 and before\r\n\r\n\r\n    try {\r\n      //.....\r\n    } catch (Exception exc) {\r\n      if (exc instanceof IllegalArgumentException || exc instanceof SecurityException || \r\n         exc instanceof IllegalAccessException || exc instanceof NoSuchFieldException ) {\r\n        \r\n         someCode();\r\n\r\n      } else if (exc instanceof RuntimeException) {\r\n         throw (RuntimeException) exc;     \r\n\r\n      } else {\r\n        throw new RuntimeException(exc);\r\n      }\r\n\r\n    }\r\n  \r\n&lt;br&gt;  \r\nJava 7\r\n\r\n    try {\r\n      //.....\r\n    } catch ( IllegalArgumentException | SecurityException |\r\n             IllegalAccessException| NoSuchFieldException exc) {\r\n      someCode();\r\n    }\r\n    ","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>Not exactly before Java 7 but, I would do something like this:\n<br><br></p>\n<p>Java 6 and before</p>\n<pre><code>try {\n  //.....\n} catch (Exception exc) {\n  if (exc instanceof IllegalArgumentException || exc instanceof SecurityException || \n     exc instanceof IllegalAccessException || exc instanceof NoSuchFieldException ) {\n    \n     someCode();\n\n  } else if (exc instanceof RuntimeException) {\n     throw (RuntimeException) exc;     \n\n  } else {\n    throw new RuntimeException(exc);\n  }\n\n}\n</code></pre>\n<br>  \nJava 7\n<pre><code>try {\n  //.....\n} catch ( IllegalArgumentException | SecurityException |\n         IllegalAccessException| NoSuchFieldException exc) {\n  someCode();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":442250,"reputation":12524,"user_id":832776,"accept_rate":100,"display_name":"Oleg Vaskevich"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1440782282,"creation_date":1382130272,"answer_id":19459025,"question_id":3495926,"body_markdown":"A cleaner (but less verbose, and perhaps not as preferred) alternative to user454322&#39;s answer on Java 6 (i.e., Android) would be to catch all `Exception`s and re-throw `RuntimeException`s. This wouldn&#39;t work if you&#39;re planning on catching other types of exceptions further up the stack (unless you also re-throw them), but will effectively catch all *checked* exceptions.\r\n\r\nFor instance:\r\n\r\n    try {\r\n        // CODE THAT THROWS EXCEPTION\r\n    } catch (Exception e) {\r\n        if (e instanceof RuntimeException) {\r\n            // this exception was not expected, so re-throw it\r\n            throw e;\r\n        } else {\r\n            // YOUR CODE FOR ALL CHECKED EXCEPTIONS\r\n        } \r\n    }\r\n\r\nThat being said, for verbosity, it might be best to set a boolean or some other variable and based on that execute some code after the try-catch block.","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>A cleaner (but less verbose, and perhaps not as preferred) alternative to user454322's answer on Java 6 (i.e., Android) would be to catch all <code>Exception</code>s and re-throw <code>RuntimeException</code>s. This wouldn't work if you're planning on catching other types of exceptions further up the stack (unless you also re-throw them), but will effectively catch all <em>checked</em> exceptions.</p>\n\n<p>For instance:</p>\n\n<pre><code>try {\n    // CODE THAT THROWS EXCEPTION\n} catch (Exception e) {\n    if (e instanceof RuntimeException) {\n        // this exception was not expected, so re-throw it\n        throw e;\n    } else {\n        // YOUR CODE FOR ALL CHECKED EXCEPTIONS\n    } \n}\n</code></pre>\n\n<p>That being said, for verbosity, it might be best to set a boolean or some other variable and based on that execute some code after the try-catch block.</p>\n"},{"tags":[],"owner":{"account_id":5797580,"reputation":49,"user_id":4572887,"display_name":"Bill S"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1424110084,"creation_date":1424110084,"answer_id":28547679,"question_id":3495926,"body_markdown":"In pre-7 how about:\r\n\r\n      Boolean   caught = true;\r\n      Exception e;\r\n      try {\r\n         ...\r\n         caught = false;\r\n      } catch (TransformerException te) {\r\n         e = te;\r\n      } catch (SocketException se) {\r\n         e = se;\r\n      } catch (IOException ie) {\r\n         e = ie;\r\n      }\r\n      if (caught) {\r\n         someCode(); // You can reference Exception e here.\r\n      }\r\n","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>In pre-7 how about:</p>\n\n<pre><code>  Boolean   caught = true;\n  Exception e;\n  try {\n     ...\n     caught = false;\n  } catch (TransformerException te) {\n     e = te;\n  } catch (SocketException se) {\n     e = se;\n  } catch (IOException ie) {\n     e = ie;\n  }\n  if (caught) {\n     someCode(); // You can reference Exception e here.\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568749688,"creation_date":1568749688,"answer_id":57981130,"question_id":3495926,"body_markdown":"For kotlin, it&#39;s not possible for now but they&#39;ve considered to add it: [Source][1]  \r\nBut for now, just a little trick:\r\n```\r\ntry {\r\n    // code\r\n} catch(ex:Exception) {\r\n    when(ex) {\r\n        is SomeException,\r\n        is AnotherException -&gt; {\r\n            // handle\r\n        }\r\n        else -&gt; throw ex\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://discuss.kotlinlang.org/t/does-kotlin-have-multi-catch/486","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>For kotlin, it's not possible for now but they've considered to add it: <a href=\"https://discuss.kotlinlang.org/t/does-kotlin-have-multi-catch/486\" rel=\"nofollow noreferrer\">Source</a><br>\nBut for now, just a little trick:</p>\n\n<pre><code>try {\n    // code\n} catch(ex:Exception) {\n    when(ex) {\n        is SomeException,\n        is AnotherException -&gt; {\n            // handle\n        }\n        else -&gt; throw ex\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20011413,"reputation":41,"user_id":15044564,"display_name":"Hardik Shah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611145451,"creation_date":1611145451,"answer_id":65809512,"question_id":3495926,"body_markdown":"It is very simple:\r\n\r\n    try { \r\n      // Your code here.\r\n    } catch (IllegalArgumentException | SecurityException | IllegalAccessException |\r\n                NoSuchFieldException e) { \r\n      // Handle exception here.\r\n    }","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>It is very simple:</p>\n<pre><code>try { \n  // Your code here.\n} catch (IllegalArgumentException | SecurityException | IllegalAccessException |\n            NoSuchFieldException e) { \n  // Handle exception here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682271072,"creation_date":1682271072,"answer_id":76086288,"question_id":3495926,"body_markdown":"in **Kotlin**, this way can be useful:\r\n\r\n \r\n\r\n    var result = false\r\n           \r\n                try { ...\r\n                       result=false\r\n    \r\n                        }catch (ex:Exception ){\r\n    \r\n                    when (ex) {\r\n                        is SocketTimeoutException,\r\n                        is NetworkOnMainThreadException,\r\n                        is UnknownHostException,\r\n                        is IllegalThreadStateException -&gt; result=false\r\n                        else -&gt; throw ex\r\n                    }\r\n                    \r\n                     }","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>in <strong>Kotlin</strong>, this way can be useful:</p>\n<pre><code>var result = false\n       \n            try { ...\n                   result=false\n\n                    }catch (ex:Exception ){\n\n                when (ex) {\n                    is SocketTimeoutException,\n                    is NetworkOnMainThreadException,\n                    is UnknownHostException,\n                    is IllegalThreadStateException -&gt; result=false\n                    else -&gt; throw ex\n                }\n                \n                 }\n</code></pre>\n"}],"owner":{"account_id":95258,"reputation":80673,"user_id":259541,"accept_rate":81,"display_name":"froadie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668521,"favorite_count":0,"down_vote_count":1,"up_vote_count":858,"accepted_answer_id":3495968,"answer_count":11,"score":857,"last_activity_date":1682271072,"creation_date":1281982023,"question_id":3495926,"body_markdown":"In Java, I want to do something like this:\r\n\r\n\r\n    try {\r\n    \t...\t\t\r\n    } catch (/* code to catch IllegalArgumentException, SecurityException, \r\n    \t        IllegalAccessException, and NoSuchFieldException at the same time */) {\r\n       someCode();\r\n    }\r\n\r\n...instead of:\r\n\r\n    try {\r\n    \t...\t\t\r\n    } catch (IllegalArgumentException e) {\r\n    \tsomeCode();\r\n    } catch (SecurityException e) {\r\n    \tsomeCode();\r\n    } catch (IllegalAccessException e) {\r\n    \tsomeCode();\r\n    } catch (NoSuchFieldException e) {\r\n    \tsomeCode();\r\n    }\r\n\r\nIs there any way to do this?\r\n\r\n   ","title":"Can I catch multiple Java exceptions in the same catch clause?","body":"<p>In Java, I want to do something like this:</p>\n\n<pre><code>try {\n    ...     \n} catch (/* code to catch IllegalArgumentException, SecurityException, \n            IllegalAccessException, and NoSuchFieldException at the same time */) {\n   someCode();\n}\n</code></pre>\n\n<p>...instead of:</p>\n\n<pre><code>try {\n    ...     \n} catch (IllegalArgumentException e) {\n    someCode();\n} catch (SecurityException e) {\n    someCode();\n} catch (IllegalAccessException e) {\n    someCode();\n} catch (NoSuchFieldException e) {\n    someCode();\n}\n</code></pre>\n\n<p>Is there any way to do this?</p>\n"},{"tags":["java","spring","scheduled-tasks","distributed-computing"],"comments":[{"owner":{"account_id":147773,"reputation":9594,"user_id":359120,"accept_rate":82,"display_name":"Salil"},"score":0,"creation_date":1682433859,"post_id":76086264,"comment_id":134212886,"body_markdown":"Since you said the app instances read any task in INITIAL state regardless of service_id, why are you bothering with service_id assignments while creating these tasks? You can add as many app instances as you want then.","body":"Since you said the app instances read any task in INITIAL state regardless of service_id, why are you bothering with service_id assignments while creating these tasks? You can add as many app instances as you want then."},{"owner":{"account_id":7183967,"reputation":204,"user_id":8117681,"display_name":"hq-coder"},"score":0,"creation_date":1682521564,"post_id":76086264,"comment_id":134229978,"body_markdown":"@Salil that is the first step, in the second step it updates those records with service id","body":"@Salil that is the first step, in the second step it updates those records with service id"}],"owner":{"account_id":7183967,"reputation":204,"user_id":8117681,"display_name":"hq-coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682270785,"creation_date":1682270785,"question_id":76086264,"body_markdown":"I have a legacy .net application that run as multiple instances each having different `service_id` hardcoded into each instances&#39; server. With the help of `service_id` assigned to each instance, they are able to read some task information kept on a database table having columns (`id`, `task_content`, `service_id`, `task_status`) and execute some long running job.\r\n\r\n`task_status` represents the status of task as `INITIAL`, `PROCESSING`, `PROCESSED`, `ERROR`.\r\n\r\nDistribution of task is as follows:\r\n* Each app instances periodically read the tasks with status equal to `INITIAL` regardless of `service_id` and update those records with new status as `PROCESSING` and `service_id` as the number assigned to the instance.\r\n* Then they read `PROCESSING` tasks and `service_id` equal to their assigned number and execute the job\r\n* Then they update the status of task either as `PROCESSED` or `ERROR`.\r\n\r\nThis way, they are sharing tasks across each instance and each app does execute tasks only belongs to its instance.\r\n\r\nMy task is to add some other instances by rewriting in java/spring framework (preserving already running legacy apps) and deploy as pods to kubernetess environment where I cannot give to unique number (`service_id`) to enumerate them.\r\n\r\nIf I somehow enumerate a running container uniquely across all instances I can use this enumeration as `service_id`. Is there a way to achieve this or what other workarounds to apply?\r\n\r\nNote that I am not allowed to use any third party task distribution software.","title":"Task distribution across replicas of microservices","body":"<p>I have a legacy .net application that run as multiple instances each having different <code>service_id</code> hardcoded into each instances' server. With the help of <code>service_id</code> assigned to each instance, they are able to read some task information kept on a database table having columns (<code>id</code>, <code>task_content</code>, <code>service_id</code>, <code>task_status</code>) and execute some long running job.</p>\n<p><code>task_status</code> represents the status of task as <code>INITIAL</code>, <code>PROCESSING</code>, <code>PROCESSED</code>, <code>ERROR</code>.</p>\n<p>Distribution of task is as follows:</p>\n<ul>\n<li>Each app instances periodically read the tasks with status equal to <code>INITIAL</code> regardless of <code>service_id</code> and update those records with new status as <code>PROCESSING</code> and <code>service_id</code> as the number assigned to the instance.</li>\n<li>Then they read <code>PROCESSING</code> tasks and <code>service_id</code> equal to their assigned number and execute the job</li>\n<li>Then they update the status of task either as <code>PROCESSED</code> or <code>ERROR</code>.</li>\n</ul>\n<p>This way, they are sharing tasks across each instance and each app does execute tasks only belongs to its instance.</p>\n<p>My task is to add some other instances by rewriting in java/spring framework (preserving already running legacy apps) and deploy as pods to kubernetess environment where I cannot give to unique number (<code>service_id</code>) to enumerate them.</p>\n<p>If I somehow enumerate a running container uniquely across all instances I can use this enumeration as <code>service_id</code>. Is there a way to achieve this or what other workarounds to apply?</p>\n<p>Note that I am not allowed to use any third party task distribution software.</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1682249190,"post_id":76084449,"comment_id":134182370,"body_markdown":"I believe you want `cb.isNotMember(cb.literal(“indie”), cb.lower(path))` instead of `notEqual`.","body":"I believe you want <code>cb.isNotMember(cb.literal(“indie”), cb.lower(path))</code> instead of <code>notEqual</code>."},{"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"score":0,"creation_date":1682255497,"post_id":76084449,"comment_id":134183102,"body_markdown":"this does not compile, because the second parameter needs to be an Expression of Collection, where cb.lower(path) does not apply","body":"this does not compile, because the second parameter needs to be an Expression of Collection, where cb.lower(path) does not apply"}],"answers":[{"tags":[],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682269185,"creation_date":1682269185,"answer_id":76086153,"question_id":76084449,"body_markdown":"I eventually found a solution. The reason for the complexity is that the SQL query  itself that we are trying to create is complex anyway by definition. So, we are trying to construct it via JPA objects. This is the solution:\r\n\r\n\tExpression&lt;Collection&lt;Genre&gt;&gt; gameGenres = root.get(&quot;genres&quot;);\r\n\tSubquery&lt;Genre&gt; genreSubquery = query.subquery(Genre.class);\r\n\tRoot&lt;Genre&gt; genreRoot = genreSubquery.from(Genre.class);\r\n\r\n\treturn cb.not(cb.exists(genreSubquery\r\n\t\t\t\t\t.select(genreRoot).where(\r\n\t\t\t\t\t\t\tcb.equal(genreRoot.get(&quot;name&quot;), &quot;Indie&quot;),\r\n\t\t\t\t\t\t\tcb.isMember(genreRoot, gameGenres))));\r\n\r\nIn this solution we are utilizing JPA&#39;s subquery object and are building our final query with it. Eventually, I enabled SQL logging to bring up the final SQL query that is sent to my database.\r\n\r\n    select game0_.id as id1_2_, game0_.name as name2_2_ from game game0_ \r\n    where not (exists (select genre3_.id from genre genre3_ where genre3_.name=? \r\n    and (genre3_.id in (select genres4_.genres_id from game_genres genres4_ where game0_.id=genres4_.games_id))))\r\n\r\n","title":"Filtering many to many not contains with JPA Specification","body":"<p>I eventually found a solution. The reason for the complexity is that the SQL query  itself that we are trying to create is complex anyway by definition. So, we are trying to construct it via JPA objects. This is the solution:</p>\n<pre><code>Expression&lt;Collection&lt;Genre&gt;&gt; gameGenres = root.get(&quot;genres&quot;);\nSubquery&lt;Genre&gt; genreSubquery = query.subquery(Genre.class);\nRoot&lt;Genre&gt; genreRoot = genreSubquery.from(Genre.class);\n\nreturn cb.not(cb.exists(genreSubquery\n                .select(genreRoot).where(\n                        cb.equal(genreRoot.get(&quot;name&quot;), &quot;Indie&quot;),\n                        cb.isMember(genreRoot, gameGenres))));\n</code></pre>\n<p>In this solution we are utilizing JPA's subquery object and are building our final query with it. Eventually, I enabled SQL logging to bring up the final SQL query that is sent to my database.</p>\n<pre><code>select game0_.id as id1_2_, game0_.name as name2_2_ from game game0_ \nwhere not (exists (select genre3_.id from genre genre3_ where genre3_.name=? \nand (genre3_.id in (select genres4_.genres_id from game_genres genres4_ where game0_.id=genres4_.games_id))))\n</code></pre>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76086153,"answer_count":1,"score":0,"last_activity_date":1682269185,"creation_date":1682247825,"question_id":76084449,"body_markdown":"I am implementing a database with two entities: Games and Genres\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class Game extends NamedEntity {\r\n      @Id\r\n      private Long id;\r\n    \tprivate String name;\r\n    \t@ManyToMany\r\n      private Set&lt;Genre&gt; genres;\r\n    }\r\n    \r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class Genre extends NamedEntity {\r\n      @Id\r\n      private Long id;\r\n    \tprivate String name;\r\n    \t@ManyToMany(mappedBy = &quot;genres&quot;)\r\n      private Set&lt;Game&gt; games;\r\n    }\r\n\r\nI am using JPA Specification for filtering, where I want: &quot;All the games that do not have the genre &#39;Indie&#39;&quot;\r\n\r\n    public class GameSpecification implements Specification&lt;Game&gt; {\r\n      @Override\r\n      public Predicate toPredicate(Root&lt;Game&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n        Path&lt;String&gt; path = root.join(&quot;genres&quot;).get(&quot;name&quot;);\r\n        return cb.notEqual(cb.lower(path), &quot;indie&quot;);\r\n      }\r\n    }\r\n\r\nHowever, the result is counted based on genre entity and not on games entity. To be more clear, if a game contains the genre &#39;Indie&#39; and has a total of 4 genres, I get this game in the resulted array 3 times repeated as exact the same instead of not getting it at all. If a game does not contain the genre &#39;Indie&#39; then I get as many results as the genres that it has. If it has 5 genres I get it repeated 5 times.\r\n\r\nIf I do the opposite, i.e. find &quot;All games that have the genre &#39;Indie&#39;&quot;, where I just change the &#39;notEqual&#39; to &#39;equal&#39;, then the filter works great.\r\n\r\nCan you help me with this?","title":"Filtering many to many not contains with JPA Specification","body":"<p>I am implementing a database with two entities: Games and Genres</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class Game extends NamedEntity {\n  @Id\n  private Long id;\n    private String name;\n    @ManyToMany\n  private Set&lt;Genre&gt; genres;\n}\n\n\n@Getter\n@Setter\n@Entity\npublic class Genre extends NamedEntity {\n  @Id\n  private Long id;\n    private String name;\n    @ManyToMany(mappedBy = &quot;genres&quot;)\n  private Set&lt;Game&gt; games;\n}\n</code></pre>\n<p>I am using JPA Specification for filtering, where I want: &quot;All the games that do not have the genre 'Indie'&quot;</p>\n<pre><code>public class GameSpecification implements Specification&lt;Game&gt; {\n  @Override\n  public Predicate toPredicate(Root&lt;Game&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    Path&lt;String&gt; path = root.join(&quot;genres&quot;).get(&quot;name&quot;);\n    return cb.notEqual(cb.lower(path), &quot;indie&quot;);\n  }\n}\n</code></pre>\n<p>However, the result is counted based on genre entity and not on games entity. To be more clear, if a game contains the genre 'Indie' and has a total of 4 genres, I get this game in the resulted array 3 times repeated as exact the same instead of not getting it at all. If a game does not contain the genre 'Indie' then I get as many results as the genres that it has. If it has 5 genres I get it repeated 5 times.</p>\n<p>If I do the opposite, i.e. find &quot;All games that have the genre 'Indie'&quot;, where I just change the 'notEqual' to 'equal', then the filter works great.</p>\n<p>Can you help me with this?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1682026101,"post_id":76068223,"comment_id":134155379,"body_markdown":"Do you need that module? The code you posted obviously does not use it.","body":"Do you need that module? The code you posted obviously does not use it."},{"owner":{"account_id":13953618,"reputation":9,"user_id":10076593,"display_name":"matt gaming"},"score":0,"creation_date":1682072649,"post_id":76068223,"comment_id":134161803,"body_markdown":"The fxml page it calls does use it so yeah i need that module","body":"The fxml page it calls does use it so yeah i need that module"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1682087503,"post_id":76068223,"comment_id":134165265,"body_markdown":"Post your `module-info.java` and your build configuration (`pom.xml` for Maven or `build.gradle` for Gradle).","body":"Post your <code>module-info.java</code> and your build configuration (<code>pom.xml</code> for Maven or <code>build.gradle</code> for Gradle)."}],"answers":[{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682035865,"creation_date":1682035865,"answer_id":76069027,"question_id":76068223,"body_markdown":"1. Hi there, based on your given source code it&#39;s difficult to get the solution. Try to include other source files which are in `librarysystem package`\r\n2. Based on your error message, particularly this line: \r\n\r\n       java.lang.module.FindException: Module mysql.connector.j not found, \r\n       required by system.test.librarysystem\r\n   there could be several reasons, `mysql.connector.j` may not be installed in your system. Check whether it is installed properly\r\n3. Another reason might be `module path` which is not properly configured. You can check the module path by following command on terminal: \r\n    \r\n       java --list-modules","title":"how to fix the error &quot;Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1&quot;?","body":"<ol>\n<li><p>Hi there, based on your given source code it's difficult to get the solution. Try to include other source files which are in <code>librarysystem package</code></p>\n</li>\n<li><p>Based on your error message, particularly this line:</p>\n<pre><code>java.lang.module.FindException: Module mysql.connector.j not found, \nrequired by system.test.librarysystem\n</code></pre>\n<p>there could be several reasons, <code>mysql.connector.j</code> may not be installed in your system. Check whether it is installed properly</p>\n</li>\n<li><p>Another reason might be <code>module path</code> which is not properly configured. You can check the module path by following command on terminal:</p>\n<pre><code>java --list-modules\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13953618,"reputation":9,"user_id":10076593,"display_name":"matt gaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682268466,"creation_date":1682268466,"answer_id":76086097,"question_id":76068223,"body_markdown":" the problem was that i had **requires mysql.connector.j;** in my module-info file and this was causing the error, removing it resolved the error","title":"how to fix the error &quot;Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1&quot;?","body":"<p>the problem was that i had <strong>requires mysql.connector.j;</strong> in my module-info file and this was causing the error, removing it resolved the error</p>\n"}],"owner":{"account_id":13953618,"reputation":9,"user_id":10076593,"display_name":"matt gaming"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76086097,"answer_count":2,"score":0,"last_activity_date":1682268466,"creation_date":1682024209,"question_id":76068223,"body_markdown":"code was working fine but now when i try to run it all i get is the error \r\n**Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1**\r\nthis is driving me insane how do i fix this?????\r\n\r\n\r\n```\r\n&gt; Task :Main.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module mysql.connector.j not found, required by system.test.librarysystem\r\n```\r\n\r\n**main class**\r\n```\r\npackage system.test.librarysystem;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\r\n        primaryStage.setTitle(&quot;Library system&quot;) ;\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args); }\r\n\r\n}\r\n```\r\nEDIT:\r\nhere are the module-info and my gradle.build file\r\n\r\n**module-info**\r\n```\r\nmodule system.test.librarysystem {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires java.sql;\r\n    requires mysql.connector.j;\r\n\r\n\r\n    opens system.test.librarysystem to javafx.fxml;\r\n    exports system.test.librarysystem;\r\n}\r\n```\r\n\r\n**gradle.build**\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n}\r\n\r\ngroup &#39;system.test&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.9.1&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;19&#39;\r\ntargetCompatibility = &#39;19&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;system.test.librarysystem&#39;\r\n    mainClass = &#39;system.test.librarysystem.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;19&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.mysql:mysql-connector-j:8.0.32&#39;\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\n\r\n\r\n","title":"how to fix the error &quot;Process &#39;command &#39;C:/Program Files/Java/jdk-19/bin/java.exe&#39;&#39; finished with non-zero exit value 1&quot;?","body":"<p>code was working fine but now when i try to run it all i get is the error\n<strong>Process 'command 'C:/Program Files/Java/jdk-19/bin/java.exe'' finished with non-zero exit value 1</strong>\nthis is driving me insane how do i fix this?????</p>\n<pre><code>&gt; Task :Main.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module mysql.connector.j not found, required by system.test.librarysystem\n</code></pre>\n<p><strong>main class</strong></p>\n<pre><code>package system.test.librarysystem;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.application.Application;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\n        primaryStage.setTitle(&quot;Library system&quot;) ;\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args); }\n\n}\n</code></pre>\n<p>EDIT:\nhere are the module-info and my gradle.build file</p>\n<p><strong>module-info</strong></p>\n<pre><code>module system.test.librarysystem {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires java.sql;\n    requires mysql.connector.j;\n\n\n    opens system.test.librarysystem to javafx.fxml;\n    exports system.test.librarysystem;\n}\n</code></pre>\n<p><strong>gradle.build</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.12'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'system.test'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.1'\n}\n\nsourceCompatibility = '19'\ntargetCompatibility = '19'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'system.test.librarysystem'\n    mainClass = 'system.test.librarysystem.HelloApplication'\n}\n\njavafx {\n    version = '19'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n\n    implementation 'com.mysql:mysql-connector-j:8.0.32'\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n"},{"tags":["java","string","spring-boot","api","type-conversion"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":3,"creation_date":1682265253,"post_id":76085731,"comment_id":134184464,"body_markdown":"you should put your codes to here as text instead of image","body":"you should put your codes to here as text instead of image"},{"owner":{"account_id":3211463,"reputation":638,"user_id":2711384,"display_name":"Zag"},"score":0,"creation_date":1682268044,"post_id":76085731,"comment_id":134184869,"body_markdown":"Just put the code inline here.  \n\nTo answer your question, I&#39;m not sure what more you want from the compiler.  Your member variable &#39;characters&#39; is defined as a String, not an array of Strings.  Your getter returns a String, not an array of Strings.  But then you are calling it and trying to assign the result to an array.  \n\nIf you want &#39;characters&#39; to be an array, you not only have to define it and it&#39;s getter to be such, but also probably don&#39;t want a simple setter. You&#39;d most likely want addCharacter(String character) which can be called multiple times to build up the array.","body":"Just put the code inline here.    To answer your question, I&#39;m not sure what more you want from the compiler.  Your member variable &#39;characters&#39; is defined as a String, not an array of Strings.  Your getter returns a String, not an array of Strings.  But then you are calling it and trying to assign the result to an array.    If you want &#39;characters&#39; to be an array, you not only have to define it and it&#39;s getter to be such, but also probably don&#39;t want a simple setter. You&#39;d most likely want addCharacter(String character) which can be called multiple times to build up the array."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682320824,"post_id":76085731,"comment_id":134190544,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682267842,"creation_date":1682267842,"answer_id":76086048,"question_id":76085731,"body_markdown":"If I&#39;m not wrong, looks like you are trying to assign a `String` (type of string) value to a variable declared as `String[]` (type of array of strings).\r\n\r\nyou define the following class\r\n\r\n    public class Filme {\r\n    \r\n        //... other attributes\r\n        private String characters;\r\n        //...\r\n    \r\n        // the following getter returns an `String` which is correct because attribute\r\n        // `character` is declared as a `String`\r\n        public String getCharacters() {\r\n            return characters;\r\n        }\r\n        //... other setters and getters\r\n    \r\n    }\r\n\r\nand then when you get an array of `Filme`s from a service, you are trying to assign the attribute `characters` (String) to a variable `personagens` (String[])\r\n\r\n    // personagens is of type `String[]` (array of String) \r\n    // mean while `filme.getCharacters()` return a `String` (a String)\r\n    String[] personagens = filme.getCharacters()\r\n\r\nbased on the [docs for the endpoint that you are consuming][1], it says that `characters` is an `array`. So, it&#39;s ok to get that attribute as an String, when you try to deserialize from json to an object, but in the logic applied, you are trying to iterate over that. So, I think what you really want to do is change the type of `characters` attribute from `String` to `String[]`. After that you would need to fix the return type of the getter for that attribute\r\n\r\n\r\n  [1]: https://swapi.dev/documentation#films","title":"Problem with Java Spring Boot - &quot;Cannot convert from String to String [ ]&quot;","body":"<p>If I'm not wrong, looks like you are trying to assign a <code>String</code> (type of string) value to a variable declared as <code>String[]</code> (type of array of strings).</p>\n<p>you define the following class</p>\n<pre><code>public class Filme {\n\n    //... other attributes\n    private String characters;\n    //...\n\n    // the following getter returns an `String` which is correct because attribute\n    // `character` is declared as a `String`\n    public String getCharacters() {\n        return characters;\n    }\n    //... other setters and getters\n\n}\n</code></pre>\n<p>and then when you get an array of <code>Filme</code>s from a service, you are trying to assign the attribute <code>characters</code> (String) to a variable <code>personagens</code> (String[])</p>\n<pre><code>// personagens is of type `String[]` (array of String) \n// mean while `filme.getCharacters()` return a `String` (a String)\nString[] personagens = filme.getCharacters()\n</code></pre>\n<p>based on the <a href=\"https://swapi.dev/documentation#films\" rel=\"nofollow noreferrer\">docs for the endpoint that you are consuming</a>, it says that <code>characters</code> is an <code>array</code>. So, it's ok to get that attribute as an String, when you try to deserialize from json to an object, but in the logic applied, you are trying to iterate over that. So, I think what you really want to do is change the type of <code>characters</code> attribute from <code>String</code> to <code>String[]</code>. After that you would need to fix the return type of the getter for that attribute</p>\n"}],"owner":{"account_id":28388785,"reputation":1,"user_id":21714866,"display_name":"J&#250;lia Rocha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682267842,"creation_date":1682263866,"question_id":76085731,"body_markdown":"I am trying to use a external API, but it&#180;s returning an error that I am not understanding.\r\n\r\n[Here is the code:](https://i.stack.imgur.com/NhVuc.png)\r\n\r\n\r\nAcessing the API - (https://swapi.dev/) - Here is my controller\r\n[Where the problem is](https://i.stack.imgur.com/8C3Q8.png)","title":"Problem with Java Spring Boot - &quot;Cannot convert from String to String [ ]&quot;","body":"<p>I am trying to use a external API, but it´s returning an error that I am not understanding.</p>\n<p><a href=\"https://i.stack.imgur.com/NhVuc.png\" rel=\"nofollow noreferrer\">Here is the code:</a></p>\n<p>Acessing the API - (<a href=\"https://swapi.dev/\" rel=\"nofollow noreferrer\">https://swapi.dev/</a>) - Here is my controller\n<a href=\"https://i.stack.imgur.com/8C3Q8.png\" rel=\"nofollow noreferrer\">Where the problem is</a></p>\n"},{"tags":["java","scope","instance"],"comments":[{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":2,"creation_date":1682264508,"post_id":76085754,"comment_id":134184334,"body_markdown":"Please provide a minimal reproducible example ... Setting the name via setter works fine. Seems you are using your class wrong ... But we won&#39;t know, because there is no call to `results` in the code you show ...","body":"Please provide a minimal reproducible example ... Setting the name via setter works fine. Seems you are using your class wrong ... But we won&#39;t know, because there is no call to <code>results</code> in the code you show ..."},{"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"score":1,"creation_date":1682265184,"post_id":76085754,"comment_id":134184446,"body_markdown":"I should add that it&#39;s imperative that the Student class variables are not static.","body":"I should add that it&#39;s imperative that the Student class variables are not static."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":2,"creation_date":1682265406,"post_id":76085754,"comment_id":134184497,"body_markdown":"You should add compilable code that shows your problem. If I add the missing parts, it works fine ...","body":"You should add compilable code that shows your problem. If I add the missing parts, it works fine ..."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":4,"creation_date":1682265779,"post_id":76085754,"comment_id":134184555,"body_markdown":"Well, in `exitTutor` you are creating a new `Student` ... This has nothing to do with the `scholar` you created in `main` ...","body":"Well, in <code>exitTutor</code> you are creating a new <code>Student</code> ... This has nothing to do with the <code>scholar</code> you created in <code>main</code> ..."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1682265979,"post_id":76085754,"comment_id":134184581,"body_markdown":"There&#39;s now a call to `results`, but that&#39;s only in `exitTutor`, which itself is never called. cc @derpirscher","body":"There&#39;s now a call to <code>results</code>, but that&#39;s only in <code>exitTutor</code>, which itself is never called. cc @derpirscher"},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":1,"creation_date":1682266097,"post_id":76085754,"comment_id":134184599,"body_markdown":"@SolomonUcko Well, obviously it has to be called from somewhere if there is an output ... So I suppose it&#39;s called from main and OP just didn&#39;t add that line of code ...","body":"@SolomonUcko Well, obviously it has to be called from somewhere if there is an output ... So I suppose it&#39;s called from main and OP just didn&#39;t add that line of code ..."},{"owner":{"account_id":20304974,"reputation":99,"user_id":14893498,"display_name":"Daniel Janz"},"score":0,"creation_date":1682266563,"post_id":76085754,"comment_id":134184663,"body_markdown":"Your `exitTutor` needs to also refer to the scholar you are creating in `main`. Like this you are doing everything right but are not refering to the scholar and instead creating a second, new scholar in the method `exit` by itself. That new sholar must always be null since you never update it.","body":"Your <code>exitTutor</code> needs to also refer to the scholar you are creating in <code>main</code>. Like this you are doing everything right but are not refering to the scholar and instead creating a second, new scholar in the method <code>exit</code> by itself. That new sholar must always be null since you never update it."},{"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"score":0,"creation_date":1682266738,"post_id":76085754,"comment_id":134184692,"body_markdown":"@derpirscher no it&#39;s called from outside that. Sorry, I&#39;m a little sleep deprived. I added that now, and even made sure my program could run that. I didn&#39;t want to add the entire code because I felt that might that might waste everyone&#39;s time, but this didn&#39;t work out either. \n\n`exitTutor` can be called within and outside main via switches. I&#39;m thinking if I can try implementing the `exitTutor` into main, as deleting the `Student` object makes `scholar.results` cause errors (I believe it&#39;s out of scope).","body":"@derpirscher no it&#39;s called from outside that. Sorry, I&#39;m a little sleep deprived. I added that now, and even made sure my program could run that. I didn&#39;t want to add the entire code because I felt that might that might waste everyone&#39;s time, but this didn&#39;t work out either.   <code>exitTutor</code> can be called within and outside main via switches. I&#39;m thinking if I can try implementing the <code>exitTutor</code> into main, as deleting the <code>Student</code> object makes <code>scholar.results</code> cause errors (I believe it&#39;s out of scope)."}],"answers":[{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682267463,"creation_date":1682267463,"answer_id":76086012,"question_id":76085754,"body_markdown":"You have 2 different `Student` instances:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int choice; \r\n        \r\n        //Sets the student&#39;s name\r\n        Student scholar = new Student(); // Create student 1\r\n        Scanner nameInput = new Scanner(System.in); \r\n        System.out.println(&quot;Please enter your name&quot;); \r\n        String newName = nameInput.nextLine();\r\n        scholar.setName(newName); // Set name of student 1\r\n        exitTutor();\r\n    }\r\n\r\n    public static void exitTutor() {\r\n        Student scholar = new Student(); // Create student 2\r\n        scholar.results(&quot;&quot;); // Prints the name of student 2, which wasn&#39;t set, so null\r\n        System.exit(0);\r\n    }\r\n```\r\n\r\nWhen you call `exitTutor()`, you completely ignore your previously created student with its assigned name. The first student instance you create is not in *scope* of the `exitTutor` method. In order to use the same student you create previously, you will want to pass it to the method:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int choice; \r\n\r\n        //Sets the student&#39;s name\r\n        Student scholar = new Student(); // Create student 1\r\n        Scanner nameInput = new Scanner(System.in); \r\n        System.out.println(&quot;Please enter your name&quot;); \r\n        String newName = nameInput.nextLine();\r\n        scholar.setName(newName); // Set name of student 1\r\n        exitTutor(scholar);\r\n    }\r\n\r\n    public static void exitTutor(Student scholar) {\r\n        scholar.results(&quot;&quot;); // Prints the name of student 1, which was set\r\n        System.exit(0);\r\n    }\r\n```\r\n\r\nYou can also assign the student to a field instead, but this is in most cases not what you want to do:\r\n\r\n```\r\n    private static Student scholar;\r\n\r\n    public static void main(String[] args) {\r\n        int choice; \r\n\r\n        //Sets the student&#39;s name\r\n        scholar = new Student(); // Create student 1\r\n        Scanner nameInput = new Scanner(System.in); \r\n        System.out.println(&quot;Please enter your name&quot;); \r\n        String newName = nameInput.nextLine();\r\n        scholar.setName(newName); // Set name of student 1\r\n        exitTutor();\r\n    }\r\n\r\n    public static void exitTutor() {\r\n        scholar.results(&quot;&quot;); // Prints the name of student 1, which was set\r\n        System.exit(0);\r\n    }\r\n```","title":"Why aren&#39;t my private variables updated after using getter-setter methods?","body":"<p>You have 2 different <code>Student</code> instances:</p>\n<pre><code>    public static void main(String[] args) {\n        int choice; \n        \n        //Sets the student's name\n        Student scholar = new Student(); // Create student 1\n        Scanner nameInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter your name&quot;); \n        String newName = nameInput.nextLine();\n        scholar.setName(newName); // Set name of student 1\n        exitTutor();\n    }\n\n    public static void exitTutor() {\n        Student scholar = new Student(); // Create student 2\n        scholar.results(&quot;&quot;); // Prints the name of student 2, which wasn't set, so null\n        System.exit(0);\n    }\n</code></pre>\n<p>When you call <code>exitTutor()</code>, you completely ignore your previously created student with its assigned name. The first student instance you create is not in <em>scope</em> of the <code>exitTutor</code> method. In order to use the same student you create previously, you will want to pass it to the method:</p>\n<pre><code>    public static void main(String[] args) {\n        int choice; \n\n        //Sets the student's name\n        Student scholar = new Student(); // Create student 1\n        Scanner nameInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter your name&quot;); \n        String newName = nameInput.nextLine();\n        scholar.setName(newName); // Set name of student 1\n        exitTutor(scholar);\n    }\n\n    public static void exitTutor(Student scholar) {\n        scholar.results(&quot;&quot;); // Prints the name of student 1, which was set\n        System.exit(0);\n    }\n</code></pre>\n<p>You can also assign the student to a field instead, but this is in most cases not what you want to do:</p>\n<pre><code>    private static Student scholar;\n\n    public static void main(String[] args) {\n        int choice; \n\n        //Sets the student's name\n        scholar = new Student(); // Create student 1\n        Scanner nameInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter your name&quot;); \n        String newName = nameInput.nextLine();\n        scholar.setName(newName); // Set name of student 1\n        exitTutor();\n    }\n\n    public static void exitTutor() {\n        scholar.results(&quot;&quot;); // Prints the name of student 1, which was set\n        System.exit(0);\n    }\n</code></pre>\n"}],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682267648,"creation_date":1682264069,"question_id":76085754,"body_markdown":"I&#39;m making a program that asks for user input to enter a name. I&#39;ve done pretty much the same thing twice before. However, for some reason, the program is giving me `null` when I call the function to print it. I focused on only working on this before the `int` variables, but yes, they also had the same issue. \r\n\r\nMy code starts out like this\r\n\r\n\r\n```\r\nclass Main {\r\n    public static void main(String[] args){\r\n        int choice; \r\n        \r\n        //Sets the student&#39;s name\r\n        Student scholar = new Student(); //Access to Student.java\r\n        Scanner nameInput = new Scanner(System.in); \r\n        System.out.println(&quot;Please enter your name&quot;); \r\n        String newName = nameInput.nextLine(); //applies the string to a variable\r\n        scholar.setName(newName); //Calls a method to input the name\r\n        exitTutor();\r\n    }\r\n\r\n    public static void exitTutor(){\r\n        Student scholar = new Student();\r\n        scholar.results(&quot;&quot;); \r\n        System.exit(0);\r\n    }\r\n}\r\n\r\nclass Student {\r\n    private String studentName;\r\n\r\n    public void setName(String studentName){\r\n        this.studentName = studentName;\r\n    }\r\n\r\n    public void results(String result){\r\n        System.out.println(&quot;Final Results for &quot; + studentName);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nFinal Results for null\r\n```\r\nI even copied and pasted the code I used in my other programs where it works, yet it was still `null`.\r\n\r\nEdit: I added the results call. I understand that using `&quot;&quot;` and a 0, but I&#39;ll replace those later with user input\r\n\r\nEdit #2: I added a call to `exitTutor()`;","title":"Why aren&#39;t my private variables updated after using getter-setter methods?","body":"<p>I'm making a program that asks for user input to enter a name. I've done pretty much the same thing twice before. However, for some reason, the program is giving me <code>null</code> when I call the function to print it. I focused on only working on this before the <code>int</code> variables, but yes, they also had the same issue.</p>\n<p>My code starts out like this</p>\n<pre><code>class Main {\n    public static void main(String[] args){\n        int choice; \n        \n        //Sets the student's name\n        Student scholar = new Student(); //Access to Student.java\n        Scanner nameInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter your name&quot;); \n        String newName = nameInput.nextLine(); //applies the string to a variable\n        scholar.setName(newName); //Calls a method to input the name\n        exitTutor();\n    }\n\n    public static void exitTutor(){\n        Student scholar = new Student();\n        scholar.results(&quot;&quot;); \n        System.exit(0);\n    }\n}\n\nclass Student {\n    private String studentName;\n\n    public void setName(String studentName){\n        this.studentName = studentName;\n    }\n\n    public void results(String result){\n        System.out.println(&quot;Final Results for &quot; + studentName);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Final Results for null\n</code></pre>\n<p>I even copied and pasted the code I used in my other programs where it works, yet it was still <code>null</code>.</p>\n<p>Edit: I added the results call. I understand that using <code>&quot;&quot;</code> and a 0, but I'll replace those later with user input</p>\n<p>Edit #2: I added a call to <code>exitTutor()</code>;</p>\n"},{"tags":["java","weka","pcap4j"],"owner":{"account_id":23858477,"reputation":19,"user_id":17861732,"display_name":"PierreBls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682266391,"creation_date":1682266391,"question_id":76085924,"body_markdown":"I&#39;m actually developing a contextual data generator for Weka and I package it as a Weka plugins (using the templates here: https://github.com/bnjmn/weka/tree/master/packages/templates).\r\n\r\nA part of my plugins is to reading data from a pcap file so I&#39;m using the pcap4j library. Here my problem start, while I&#39;m in my dev environment the pcap file are well parsed and my plugins works but when I&#39;m in a basic &quot;prod&quot; env the pcap reader doesn&#39;t read well the pcap file and return a null header for each packets.\r\n\r\n## Dev environment\r\n\r\nMaven project\r\n\r\nJava:\r\n\r\n```bash\r\n$ java --version\r\nopenjdk 11.0.18 2023-01-17\r\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\r\n```\r\n\r\nIn my dev env, I&#39;m working with the Weka-3-8-6 source code, recompile it and running it with the following command:\r\n\r\n```bash\r\n$ /usr/bin/env /usr/lib/jvm/java-11-openjdk-amd64/bin/java @/tmp/cp_1784hdtalynu1dcgm6jy5m4n0.argfile weka.gui.GUIChooser\r\n```\r\nThen I can import my zipped plugins and try it (it works well).\r\n\r\n## Prod environment\r\n\r\nTo test my plugins in real context environment (without recompiling Weka), I&#39;m downloading the Weka-3.8.6 release, running it, importing my plugins and the trying my data generator. Here are the problem, the pcap packets headers values are all at null. First I checked the pcap file, but it hasn&#39;t change from the dev environment so the problem come from the runtime environment but I dont know why.\r\n\r\nGood to know that Weka come with it&#39;s own JRE: `weka-3-8-6/jre/zulu17.32.13-ca-fx-jre17.0.2-linux_x64`\r\n\r\n## The plugins\r\n\r\nMy plugins is compiled with ant, following the [Weka plugins templates](https://github.com/bnjmn/weka/tree/master/packages/templates). Here is the compile command:\r\n\r\n```bash\r\n$ ant make_package -Dpackage &lt;MY_PLUGINS&gt;\r\n```\r\n\r\nAnd here is the related make package instruction from the `build.xml`:\r\n\r\n```xml\r\n&lt;!-- Compile the java code from ${src}/weka into ${build}/classes --&gt;\r\n  &lt;target name=&quot;compile&quot; depends=&quot;init_compile&quot;\r\n    description=&quot;Compile package and deposit class files in build/classes&quot;&gt;\r\n    &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src}&quot;\r\n      fork=&quot;yes&quot; memoryMaximumSize=&quot;${javac_max_memory}&quot;\r\n      destdir=&quot;${build}/classes&quot;\r\n      optimize=&quot;${optimization}&quot;\r\n      debug=&quot;${debug}&quot;\r\n      deprecation=&quot;${deprecation}&quot;\r\n      source=&quot;1.6&quot; target=&quot;1.6&quot;&gt;\r\n      &lt;!-- Import lib dependencies --&gt;\r\n      &lt;classpath&gt;\r\n        &lt;fileset dir=&quot;${lib}&quot;&gt;\r\n          &lt;include name=&quot;*.jar&quot; /&gt;\r\n          &lt;include name=&quot;*.zip&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/classpath&gt;\r\n    &lt;/javac&gt;\r\n    &lt;copy todir=&quot;${build}/classes&quot;&gt;\r\n      &lt;fileset dir=&quot;${src}&quot;&gt;\r\n        &lt;include name=&quot;**/*.gif&quot; /&gt;\r\n        &lt;include name=&quot;**/*.png&quot; /&gt;\r\n        &lt;include name=&quot;**/*.jpeg&quot; /&gt;\r\n        &lt;include name=&quot;**/*.jpg&quot; /&gt;\r\n        &lt;include name=&quot;**/*.props&quot; /&gt;\r\n        &lt;include name=&quot;**/*.txt&quot; /&gt;\r\n        &lt;include name=&quot;**/*.xml&quot; /&gt;\r\n        &lt;include name=&quot;**/*.cup&quot; /&gt;\r\n        &lt;include name=&quot;**/*.flex&quot; /&gt;\r\n        &lt;include name=&quot;**/*.jflex&quot; /&gt;\r\n        &lt;include name=&quot;**/*.properties&quot; /&gt;\r\n        &lt;include name=&quot;**/*.default&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n  &lt;/target&gt;\r\n\r\n&lt;!-- Put everything in ${build}/classes into the ${package}.jar file --&gt;\r\n&lt;target name=&quot;exejar&quot; depends=&quot;compile, docs, init_dist&quot;\r\n  description=&quot;Create a binary jar file in ./dist&quot;&gt;\r\n  &lt;jar jarfile=&quot;${dist}/${package}.jar\r\n    basedir=&quot;${build}/classes&quot;&gt;\r\n  &lt;/jar&gt;\r\n&lt;/target&gt;\r\n\r\n&lt;target name=&quot;make_package&quot; depends=&quot;clean, exejar&quot;\r\n    description=&quot;Make the package zip file. Run with -Dpackage=[package name]&quot;&gt;\r\n    &lt;mkdir dir=&quot;${dist}/${package}&quot; /&gt;\r\n    &lt;copy todir=&quot;${dist}/${package}&quot;&gt;\r\n      &lt;fileset dir=&quot;${dist}&quot;&gt;\r\n        &lt;include name=&quot;*.jar&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n    &lt;delete&gt;\r\n      &lt;fileset dir=&quot;${dist}&quot;&gt;\r\n        &lt;include name=&quot;*.jar&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/delete&gt;\r\n    &lt;copy file=&quot;Description.props&quot;\r\n      todir=&quot;${dist}/${package}&quot; /&gt;\r\n    &lt;mkdir dir=&quot;${dist}/${package}/lib&quot; /&gt;\r\n    &lt;copy todir=&quot;${dist}/${package}/lib&quot;&gt;\r\n      &lt;fileset dir=&quot;${lib}&quot;&gt;\r\n        &lt;include name=&quot;*.jar&quot; /&gt;\r\n        &lt;include name=&quot;*.zip&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n    &lt;mkdir dir=&quot;${dist}/${package}/doc&quot; /&gt;\r\n    &lt;copy todir=&quot;${dist}/${package}/doc&quot;&gt;\r\n      &lt;fileset dir=&quot;${doc}&quot;&gt;\r\n        &lt;include name=&quot;**/*&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n    &lt;mkdir dir=&quot;${dist}/${package}/src&quot; /&gt;\r\n    &lt;copy todir=&quot;${dist}/${package}&quot;&gt;\r\n      &lt;fileset dir=&quot;.&quot;&gt;\r\n        &lt;include name=&quot;*.xml&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.excludes&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.gif&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.java&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.jpeg&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.jpg&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.props&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.txt&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.xml&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.cup&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.flex&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.jflex&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.properties&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.default&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.cost&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.arff&quot; /&gt;\r\n        &lt;include name=&quot;src/**/*.matrix&quot; /&gt;\r\n      &lt;/fileset&gt;\r\n    &lt;/copy&gt;\r\n    &lt;zip destfile=&quot;${dist}/${package}.zip&quot;\r\n      basedir=&quot;${dist}/${package}&quot;&gt;\r\n    &lt;/zip&gt;\r\n  &lt;/target&gt;\r\n```\r\n## Test\r\n\r\n 1. I trying to run my home compiled Weka (dev env) with the jre provided by Weka-3.8.6 (jre used in prod env) but still have the same issue.\r\n\r\n```bash\r\n$ /usr/bin/env /home/marc-andre/weka-3-8-6/jre/zulu17.32.13-ca-fx-jre17.0.2-linux_x64/bin/java @/tmp/cp_1784hdtalynu1dcgm6jy5m4n0.argfile weka.gui.GUIChooser\r\n```\r\n 2. I compared the JAVA class path (by adding `System.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n`), but I&#39;m not such an Java expert so I don&#39;t really know what I can concluded. Here are the output:\r\n\r\nDev env:\r\n\r\n```csv\r\n/home/marc-andre/data/ContackGen/Weka/build/classes:/home/marc-andre/.m2/repository/com/github/vbmacher/java-cup/11b-20160615/java-cup-11b-20160615.jar:/home/marc-andre/.m2/repository/com/github/vbmacher/java-cup-runtime/11b-20160615/java-cup-runtime-11b-20160615.jar:/home/marc-andre/.m2/repository/nz/ac/waikato/cms/weka/thirdparty/bounce/0.18/bounce-0.18.jar:/home/marc-andre/.m2/repository/com/squareup/okhttp3/okhttp/4.9.1/okhttp-4.9.1.jar:/home/marc-andre/.m2/repository/com/squareup/okio/okio/2.8.0/okio-2.8.0.jar:/home/marc-andre/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.4.0/kotlin-stdlib-common-1.4.0.jar:/home/marc-andre/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.4.10/kotlin-stdlib-1.4.10.jar:/home/marc-andre/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/home/marc-andre/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/home/marc-andre/.m2/repository/com/googlecode/matrix-toolkits-java/mtj/1.0.4/mtj-1.0.4.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-osx-x86_64/1.1/netlib-native_ref-osx-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/native_ref-java/1.1/native_ref-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/jniloader/1.1/jniloader-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-x86_64/1.1/netlib-native_ref-linux-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-i686/1.1/netlib-native_ref-linux-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-win-x86_64/1.1/netlib-native_ref-win-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-win-i686/1.1/netlib-native_ref-win-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-armhf/1.1/netlib-native_ref-linux-armhf-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-osx-x86_64/1.1/netlib-native_system-osx-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/native_system-java/1.1/native_system-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-x86_64/1.1/netlib-native_system-linux-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-i686/1.1/netlib-native_system-linux-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-armhf/1.1/netlib-native_system-linux-armhf-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-win-x86_64/1.1/netlib-native_system-win-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-win-i686/1.1/netlib-native_system-win-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/net/sourceforge/f2j/arpack_combined_all/0.1/arpack_combined_all-0.1.jar:/home/marc-andre/.m2/repository/com/googlecode/netlib-java/netlib-java/1.1/netlib-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/core/1.1/core-1.1.jar:/home/marc-andre/.m2/repository/com/github/fracpete/jfilechooser-bookmarks/0.1.6/jfilechooser-bookmarks-0.1.6.jar:/home/marc-andre/.m2/repository/com/github/fracpete/jclipboardhelper/0.1.0/jclipboardhelper-0.1.0.jar:/home/marc-andre/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.12/istack-commons-runtime-3.0.12.jar:/home/marc-andre/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/home/marc-andre/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/home/marc-andre/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.5/jaxb-runtime-2.3.5.jar:/home/marc-andre/.m2/repository/org/glassfish/jaxb/txw2/2.3.5/txw2-2.3.5.jar:/home/marc-andre/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/home/marc-andre/.m2/repository/com/formdev/flatlaf/2.0/flatlaf-2.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java/3.3.0/docker-java-3.3.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-core/3.3.0/docker-java-core-3.3.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-api/3.3.0/docker-java-api-3.3.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport/3.3.0/docker-java-transport-3.3.0.jar:/home/marc-andre/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/home/marc-andre/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar:/home/marc-andre/.m2/repository/com/google/guava/guava/19.0/guava-19.0.jar:/home/marc-andre/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.64/bcpkix-jdk15on-1.64.jar:/home/marc-andre/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.64/bcprov-jdk15on-1.64.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport-jersey/3.3.0/docker-java-transport-jersey-3.3.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-json-provider/2.10.3/jackson-jaxrs-json-provider-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-base/2.10.3/jackson-jaxrs-base-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.10.3/jackson-module-jaxb-annotations-2.10.3.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/connectors/jersey-apache-connector/2.30.1/jersey-apache-connector-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/core/jersey-common/2.30.1/jersey-common-2.30.1.jar:/home/marc-andre/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.3/osgi-resource-locator-1.0.3.jar:/home/marc-andre/.m2/repository/jakarta/ws/rs/jakarta.ws.rs-api/2.1.6/jakarta.ws.rs-api-2.1.6.jar:/home/marc-andre/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/home/marc-andre/.m2/repository/org/apache/httpcomponents/httpclient/4.5.12/httpclient-4.5.12.jar:/home/marc-andre/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/core/jersey-client/2.30.1/jersey-client-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/external/jakarta.inject/2.6.1/jakarta.inject-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/inject/jersey-hk2/2.30.1/jersey-hk2-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-locator/2.6.1/hk2-locator-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.6.1/aopalliance-repackaged-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-api/2.6.1/hk2-api-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-utils/2.6.1/hk2-utils-2.6.1.jar:/home/marc-andre/.m2/repository/org/javassist/javassist/3.25.0-GA/javassist-3.25.0-GA.jar:/home/marc-andre/.m2/repository/com/kohlschutter/junixsocket/junixsocket-common/2.6.1/junixsocket-common-2.6.1.jar:/home/marc-andre/.m2/repository/com/kohlschutter/junixsocket/junixsocket-native-common/2.6.1/junixsocket-native-common-2.6.1.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport-netty/3.3.0/docker-java-transport-netty-3.3.0.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec-http/4.1.46.Final/netty-codec-http-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-common/4.1.46.Final/netty-common-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-buffer/4.1.46.Final/netty-buffer-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport/4.1.46.Final/netty-transport-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec/4.1.46.Final/netty-codec-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-handler/4.1.46.Final/netty-handler-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-resolver/4.1.46.Final/netty-resolver-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-handler-proxy/4.1.46.Final/netty-handler-proxy-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec-socks/4.1.46.Final/netty-codec-socks-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-epoll/4.1.46.Final/netty-transport-native-epoll-4.1.46.Final-linux-x86_64.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.46.Final/netty-transport-native-unix-common-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.46.Final/netty-transport-native-kqueue-4.1.46.Final-osx-x86_64.jar:/home/marc-andre/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.30/jcl-over-slf4j-1.7.30.jar:/home/marc-andre/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/marc-andre/.m2/repository/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar:/home/marc-andre/.m2/repository/org/pcap4j/pcap4j-core/1.8.2/pcap4j-core-1.8.2.jar:/home/marc-andre/.m2/repository/net/java/dev/jna/jna/5.3.1/jna-5.3.1.jar:/home/marc-andre/.m2/repository/org/pcap4j/pcap4j-packetfactory-static/1.8.2/pcap4j-packetfactory-static-1.8.2.jar\r\n```\r\nand prod Env:\r\n\r\n```bash\r\n/home/marc-andre/weka-3-8-6/weka.jar\r\n```\r\n\r\nDoes someone know what could affect the correct functioning of pcap4j ?","title":"Pcap4j return null packets header depending on runtime environment","body":"<p>I'm actually developing a contextual data generator for Weka and I package it as a Weka plugins (using the templates here: <a href=\"https://github.com/bnjmn/weka/tree/master/packages/templates\" rel=\"nofollow noreferrer\">https://github.com/bnjmn/weka/tree/master/packages/templates</a>).</p>\n<p>A part of my plugins is to reading data from a pcap file so I'm using the pcap4j library. Here my problem start, while I'm in my dev environment the pcap file are well parsed and my plugins works but when I'm in a basic &quot;prod&quot; env the pcap reader doesn't read well the pcap file and return a null header for each packets.</p>\n<h2>Dev environment</h2>\n<p>Maven project</p>\n<p>Java:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java --version\nopenjdk 11.0.18 2023-01-17\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>In my dev env, I'm working with the Weka-3-8-6 source code, recompile it and running it with the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ /usr/bin/env /usr/lib/jvm/java-11-openjdk-amd64/bin/java @/tmp/cp_1784hdtalynu1dcgm6jy5m4n0.argfile weka.gui.GUIChooser\n</code></pre>\n<p>Then I can import my zipped plugins and try it (it works well).</p>\n<h2>Prod environment</h2>\n<p>To test my plugins in real context environment (without recompiling Weka), I'm downloading the Weka-3.8.6 release, running it, importing my plugins and the trying my data generator. Here are the problem, the pcap packets headers values are all at null. First I checked the pcap file, but it hasn't change from the dev environment so the problem come from the runtime environment but I dont know why.</p>\n<p>Good to know that Weka come with it's own JRE: <code>weka-3-8-6/jre/zulu17.32.13-ca-fx-jre17.0.2-linux_x64</code></p>\n<h2>The plugins</h2>\n<p>My plugins is compiled with ant, following the <a href=\"https://github.com/bnjmn/weka/tree/master/packages/templates\" rel=\"nofollow noreferrer\">Weka plugins templates</a>. Here is the compile command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ant make_package -Dpackage &lt;MY_PLUGINS&gt;\n</code></pre>\n<p>And here is the related make package instruction from the <code>build.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Compile the java code from ${src}/weka into ${build}/classes --&gt;\n  &lt;target name=&quot;compile&quot; depends=&quot;init_compile&quot;\n    description=&quot;Compile package and deposit class files in build/classes&quot;&gt;\n    &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src}&quot;\n      fork=&quot;yes&quot; memoryMaximumSize=&quot;${javac_max_memory}&quot;\n      destdir=&quot;${build}/classes&quot;\n      optimize=&quot;${optimization}&quot;\n      debug=&quot;${debug}&quot;\n      deprecation=&quot;${deprecation}&quot;\n      source=&quot;1.6&quot; target=&quot;1.6&quot;&gt;\n      &lt;!-- Import lib dependencies --&gt;\n      &lt;classpath&gt;\n        &lt;fileset dir=&quot;${lib}&quot;&gt;\n          &lt;include name=&quot;*.jar&quot; /&gt;\n          &lt;include name=&quot;*.zip&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n    &lt;/javac&gt;\n    &lt;copy todir=&quot;${build}/classes&quot;&gt;\n      &lt;fileset dir=&quot;${src}&quot;&gt;\n        &lt;include name=&quot;**/*.gif&quot; /&gt;\n        &lt;include name=&quot;**/*.png&quot; /&gt;\n        &lt;include name=&quot;**/*.jpeg&quot; /&gt;\n        &lt;include name=&quot;**/*.jpg&quot; /&gt;\n        &lt;include name=&quot;**/*.props&quot; /&gt;\n        &lt;include name=&quot;**/*.txt&quot; /&gt;\n        &lt;include name=&quot;**/*.xml&quot; /&gt;\n        &lt;include name=&quot;**/*.cup&quot; /&gt;\n        &lt;include name=&quot;**/*.flex&quot; /&gt;\n        &lt;include name=&quot;**/*.jflex&quot; /&gt;\n        &lt;include name=&quot;**/*.properties&quot; /&gt;\n        &lt;include name=&quot;**/*.default&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n  &lt;/target&gt;\n\n&lt;!-- Put everything in ${build}/classes into the ${package}.jar file --&gt;\n&lt;target name=&quot;exejar&quot; depends=&quot;compile, docs, init_dist&quot;\n  description=&quot;Create a binary jar file in ./dist&quot;&gt;\n  &lt;jar jarfile=&quot;${dist}/${package}.jar\n    basedir=&quot;${build}/classes&quot;&gt;\n  &lt;/jar&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;make_package&quot; depends=&quot;clean, exejar&quot;\n    description=&quot;Make the package zip file. Run with -Dpackage=[package name]&quot;&gt;\n    &lt;mkdir dir=&quot;${dist}/${package}&quot; /&gt;\n    &lt;copy todir=&quot;${dist}/${package}&quot;&gt;\n      &lt;fileset dir=&quot;${dist}&quot;&gt;\n        &lt;include name=&quot;*.jar&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;delete&gt;\n      &lt;fileset dir=&quot;${dist}&quot;&gt;\n        &lt;include name=&quot;*.jar&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/delete&gt;\n    &lt;copy file=&quot;Description.props&quot;\n      todir=&quot;${dist}/${package}&quot; /&gt;\n    &lt;mkdir dir=&quot;${dist}/${package}/lib&quot; /&gt;\n    &lt;copy todir=&quot;${dist}/${package}/lib&quot;&gt;\n      &lt;fileset dir=&quot;${lib}&quot;&gt;\n        &lt;include name=&quot;*.jar&quot; /&gt;\n        &lt;include name=&quot;*.zip&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;mkdir dir=&quot;${dist}/${package}/doc&quot; /&gt;\n    &lt;copy todir=&quot;${dist}/${package}/doc&quot;&gt;\n      &lt;fileset dir=&quot;${doc}&quot;&gt;\n        &lt;include name=&quot;**/*&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;mkdir dir=&quot;${dist}/${package}/src&quot; /&gt;\n    &lt;copy todir=&quot;${dist}/${package}&quot;&gt;\n      &lt;fileset dir=&quot;.&quot;&gt;\n        &lt;include name=&quot;*.xml&quot; /&gt;\n        &lt;include name=&quot;src/**/*.excludes&quot; /&gt;\n        &lt;include name=&quot;src/**/*.gif&quot; /&gt;\n        &lt;include name=&quot;src/**/*.java&quot; /&gt;\n        &lt;include name=&quot;src/**/*.jpeg&quot; /&gt;\n        &lt;include name=&quot;src/**/*.jpg&quot; /&gt;\n        &lt;include name=&quot;src/**/*.props&quot; /&gt;\n        &lt;include name=&quot;src/**/*.txt&quot; /&gt;\n        &lt;include name=&quot;src/**/*.xml&quot; /&gt;\n        &lt;include name=&quot;src/**/*.cup&quot; /&gt;\n        &lt;include name=&quot;src/**/*.flex&quot; /&gt;\n        &lt;include name=&quot;src/**/*.jflex&quot; /&gt;\n        &lt;include name=&quot;src/**/*.properties&quot; /&gt;\n        &lt;include name=&quot;src/**/*.default&quot; /&gt;\n        &lt;include name=&quot;src/**/*.cost&quot; /&gt;\n        &lt;include name=&quot;src/**/*.arff&quot; /&gt;\n        &lt;include name=&quot;src/**/*.matrix&quot; /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;zip destfile=&quot;${dist}/${package}.zip&quot;\n      basedir=&quot;${dist}/${package}&quot;&gt;\n    &lt;/zip&gt;\n  &lt;/target&gt;\n</code></pre>\n<h2>Test</h2>\n<ol>\n<li>I trying to run my home compiled Weka (dev env) with the jre provided by Weka-3.8.6 (jre used in prod env) but still have the same issue.</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ /usr/bin/env /home/marc-andre/weka-3-8-6/jre/zulu17.32.13-ca-fx-jre17.0.2-linux_x64/bin/java @/tmp/cp_1784hdtalynu1dcgm6jy5m4n0.argfile weka.gui.GUIChooser\n</code></pre>\n<ol start=\"2\">\n<li>I compared the JAVA class path (by adding <code>System.out.println(System.getProperty(&quot;java.class.path&quot;)); </code>), but I'm not such an Java expert so I don't really know what I can concluded. Here are the output:</li>\n</ol>\n<p>Dev env:</p>\n<pre><code>/home/marc-andre/data/ContackGen/Weka/build/classes:/home/marc-andre/.m2/repository/com/github/vbmacher/java-cup/11b-20160615/java-cup-11b-20160615.jar:/home/marc-andre/.m2/repository/com/github/vbmacher/java-cup-runtime/11b-20160615/java-cup-runtime-11b-20160615.jar:/home/marc-andre/.m2/repository/nz/ac/waikato/cms/weka/thirdparty/bounce/0.18/bounce-0.18.jar:/home/marc-andre/.m2/repository/com/squareup/okhttp3/okhttp/4.9.1/okhttp-4.9.1.jar:/home/marc-andre/.m2/repository/com/squareup/okio/okio/2.8.0/okio-2.8.0.jar:/home/marc-andre/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib-common/1.4.0/kotlin-stdlib-common-1.4.0.jar:/home/marc-andre/.m2/repository/org/jetbrains/kotlin/kotlin-stdlib/1.4.10/kotlin-stdlib-1.4.10.jar:/home/marc-andre/.m2/repository/org/jetbrains/annotations/13.0/annotations-13.0.jar:/home/marc-andre/.m2/repository/org/apache/commons/commons-compress/1.21/commons-compress-1.21.jar:/home/marc-andre/.m2/repository/com/googlecode/matrix-toolkits-java/mtj/1.0.4/mtj-1.0.4.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-osx-x86_64/1.1/netlib-native_ref-osx-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/native_ref-java/1.1/native_ref-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/jniloader/1.1/jniloader-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-x86_64/1.1/netlib-native_ref-linux-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-i686/1.1/netlib-native_ref-linux-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-win-x86_64/1.1/netlib-native_ref-win-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-win-i686/1.1/netlib-native_ref-win-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_ref-linux-armhf/1.1/netlib-native_ref-linux-armhf-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-osx-x86_64/1.1/netlib-native_system-osx-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/native_system-java/1.1/native_system-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-x86_64/1.1/netlib-native_system-linux-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-i686/1.1/netlib-native_system-linux-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-linux-armhf/1.1/netlib-native_system-linux-armhf-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-win-x86_64/1.1/netlib-native_system-win-x86_64-1.1-natives.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/netlib-native_system-win-i686/1.1/netlib-native_system-win-i686-1.1-natives.jar:/home/marc-andre/.m2/repository/net/sourceforge/f2j/arpack_combined_all/0.1/arpack_combined_all-0.1.jar:/home/marc-andre/.m2/repository/com/googlecode/netlib-java/netlib-java/1.1/netlib-java-1.1.jar:/home/marc-andre/.m2/repository/com/github/fommil/netlib/core/1.1/core-1.1.jar:/home/marc-andre/.m2/repository/com/github/fracpete/jfilechooser-bookmarks/0.1.6/jfilechooser-bookmarks-0.1.6.jar:/home/marc-andre/.m2/repository/com/github/fracpete/jclipboardhelper/0.1.0/jclipboardhelper-0.1.0.jar:/home/marc-andre/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.12/istack-commons-runtime-3.0.12.jar:/home/marc-andre/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/home/marc-andre/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/home/marc-andre/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.5/jaxb-runtime-2.3.5.jar:/home/marc-andre/.m2/repository/org/glassfish/jaxb/txw2/2.3.5/txw2-2.3.5.jar:/home/marc-andre/.m2/repository/com/sun/activation/jakarta.activation/1.2.2/jakarta.activation-1.2.2.jar:/home/marc-andre/.m2/repository/com/formdev/flatlaf/2.0/flatlaf-2.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java/3.3.0/docker-java-3.3.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-core/3.3.0/docker-java-core-3.3.0.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-api/3.3.0/docker-java-api-3.3.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport/3.3.0/docker-java-transport-3.3.0.jar:/home/marc-andre/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:/home/marc-andre/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar:/home/marc-andre/.m2/repository/com/google/guava/guava/19.0/guava-19.0.jar:/home/marc-andre/.m2/repository/org/bouncycastle/bcpkix-jdk15on/1.64/bcpkix-jdk15on-1.64.jar:/home/marc-andre/.m2/repository/org/bouncycastle/bcprov-jdk15on/1.64/bcprov-jdk15on-1.64.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport-jersey/3.3.0/docker-java-transport-jersey-3.3.0.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-json-provider/2.10.3/jackson-jaxrs-json-provider-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-base/2.10.3/jackson-jaxrs-base-2.10.3.jar:/home/marc-andre/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.10.3/jackson-module-jaxb-annotations-2.10.3.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/connectors/jersey-apache-connector/2.30.1/jersey-apache-connector-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/core/jersey-common/2.30.1/jersey-common-2.30.1.jar:/home/marc-andre/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.3/osgi-resource-locator-1.0.3.jar:/home/marc-andre/.m2/repository/jakarta/ws/rs/jakarta.ws.rs-api/2.1.6/jakarta.ws.rs-api-2.1.6.jar:/home/marc-andre/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar:/home/marc-andre/.m2/repository/org/apache/httpcomponents/httpclient/4.5.12/httpclient-4.5.12.jar:/home/marc-andre/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/core/jersey-client/2.30.1/jersey-client-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/external/jakarta.inject/2.6.1/jakarta.inject-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/jersey/inject/jersey-hk2/2.30.1/jersey-hk2-2.30.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-locator/2.6.1/hk2-locator-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.6.1/aopalliance-repackaged-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-api/2.6.1/hk2-api-2.6.1.jar:/home/marc-andre/.m2/repository/org/glassfish/hk2/hk2-utils/2.6.1/hk2-utils-2.6.1.jar:/home/marc-andre/.m2/repository/org/javassist/javassist/3.25.0-GA/javassist-3.25.0-GA.jar:/home/marc-andre/.m2/repository/com/kohlschutter/junixsocket/junixsocket-common/2.6.1/junixsocket-common-2.6.1.jar:/home/marc-andre/.m2/repository/com/kohlschutter/junixsocket/junixsocket-native-common/2.6.1/junixsocket-native-common-2.6.1.jar:/home/marc-andre/.m2/repository/com/github/docker-java/docker-java-transport-netty/3.3.0/docker-java-transport-netty-3.3.0.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec-http/4.1.46.Final/netty-codec-http-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-common/4.1.46.Final/netty-common-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-buffer/4.1.46.Final/netty-buffer-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport/4.1.46.Final/netty-transport-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec/4.1.46.Final/netty-codec-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-handler/4.1.46.Final/netty-handler-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-resolver/4.1.46.Final/netty-resolver-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-handler-proxy/4.1.46.Final/netty-handler-proxy-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-codec-socks/4.1.46.Final/netty-codec-socks-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-epoll/4.1.46.Final/netty-transport-native-epoll-4.1.46.Final-linux-x86_64.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-unix-common/4.1.46.Final/netty-transport-native-unix-common-4.1.46.Final.jar:/home/marc-andre/.m2/repository/io/netty/netty-transport-native-kqueue/4.1.46.Final/netty-transport-native-kqueue-4.1.46.Final-osx-x86_64.jar:/home/marc-andre/.m2/repository/org/slf4j/jcl-over-slf4j/1.7.30/jcl-over-slf4j-1.7.30.jar:/home/marc-andre/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/marc-andre/.m2/repository/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar:/home/marc-andre/.m2/repository/org/pcap4j/pcap4j-core/1.8.2/pcap4j-core-1.8.2.jar:/home/marc-andre/.m2/repository/net/java/dev/jna/jna/5.3.1/jna-5.3.1.jar:/home/marc-andre/.m2/repository/org/pcap4j/pcap4j-packetfactory-static/1.8.2/pcap4j-packetfactory-static-1.8.2.jar\n</code></pre>\n<p>and prod Env:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/home/marc-andre/weka-3-8-6/weka.jar\n</code></pre>\n<p>Does someone know what could affect the correct functioning of pcap4j ?</p>\n"},{"tags":["java","spring","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":19461546,"reputation":71,"user_id":14235751,"display_name":"Vladislav Syropyatov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682263027,"creation_date":1682255769,"answer_id":76085061,"question_id":76084954,"body_markdown":"I have reproduced your problem and solved it just adding ``spring-boot-starter-data-jpa`` dependency and an entity. I think you are getting &quot;Database “mem:testdb” not found&quot; because there aren&#39;t any entities to create.","title":"Connect to H2 database with Spring Boot 2.7","body":"<p>I have reproduced your problem and solved it just adding <code>spring-boot-starter-data-jpa</code> dependency and an entity. I think you are getting &quot;Database “mem:testdb” not found&quot; because there aren't any entities to create.</p>\n"}],"owner":{"account_id":14775090,"reputation":33,"user_id":10863855,"display_name":"sergio rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76085061,"answer_count":1,"score":2,"last_activity_date":1682266353,"creation_date":1682254399,"question_id":76084954,"body_markdown":"When I try to connect to H2 console, I get this error:\r\n\r\n&gt; Database `“mem:testdb” not found`, either pre-create it or allow\r\n&gt; remote database creation.\r\n\r\nI have read in other similar questions to copy the JDBC URL that appears in the console, but I don&#39;t have that message in the console:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is the `aplication.properties`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have also tried to add the line without result\r\n\r\n    spring.datasource.generate-unique-name=false\r\n\r\nI have checked the `POM` and the dependencies are well added also the devtools. I have used the Spring initializr:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.11&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.qindel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;description&gt;Prueba t&#233;cnica Plataforma&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAny idea?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HUonr.png\r\n  [2]: https://i.stack.imgur.com/I6dC7.png","title":"Connect to H2 database with Spring Boot 2.7","body":"<p>When I try to connect to H2 console, I get this error:</p>\n<blockquote>\n<p>Database <code>“mem:testdb” not found</code>, either pre-create it or allow\nremote database creation.</p>\n</blockquote>\n<p>I have read in other similar questions to copy the JDBC URL that appears in the console, but I don't have that message in the console:</p>\n<p><a href=\"https://i.stack.imgur.com/HUonr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HUonr.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the <code>aplication.properties</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/I6dC7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6dC7.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also tried to add the line without result</p>\n<pre><code>spring.datasource.generate-unique-name=false\n</code></pre>\n<p>I have checked the <code>POM</code> and the dependencies are well added also the devtools. I have used the Spring initializr:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.qindel&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Prueba técnica Plataforma&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":1,"creation_date":1682254418,"post_id":76084944,"comment_id":134182968,"body_markdown":"please include the stack trace from the crash. Or best, first read it **carefully** yourself and see if that&#39;s not self explanatory one","body":"please include the stack trace from the crash. Or best, first read it <b>carefully</b> yourself and see if that&#39;s not self explanatory one"},{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1682258128,"post_id":76084944,"comment_id":134183414,"body_markdown":"also, are you still seeing problems when you comment out `FontSettings.setDynamicTheme()`?","body":"also, are you still seeing problems when you comment out <code>FontSettings.setDynamicTheme()</code>?"},{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1682260346,"post_id":76084944,"comment_id":134183761,"body_markdown":"so it fails without setDynamicTheme()? what is the default application theme you got set? anything custom? can you disable it?","body":"so it fails without setDynamicTheme()? what is the default application theme you got set? anything custom? can you disable it?"},{"owner":{"account_id":28387404,"reputation":3,"user_id":21713685,"display_name":"Stanislaw"},"score":0,"creation_date":1682260771,"post_id":76084944,"comment_id":134183815,"body_markdown":"Thank you for help. That was setDynamicTheme().","body":"Thank you for help. That was setDynamicTheme()."},{"owner":{"account_id":28387404,"reputation":3,"user_id":21713685,"display_name":"Stanislaw"},"score":0,"creation_date":1682261645,"post_id":76084944,"comment_id":134183939,"body_markdown":"The default theme is available but is not part of what is being changed. The idea was to take a number representing the value of one of three font sizes from a text file. Yes, theme was customized.","body":"The default theme is available but is not part of what is being changed. The idea was to take a number representing the value of one of three font sizes from a text file. Yes, theme was customized."}],"answers":[{"tags":[],"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682264124,"creation_date":1682262222,"answer_id":76085597,"question_id":76084944,"body_markdown":"Apparently whatever theme details is the `FontSettings.setDynamicTheme()` changing, it ends up leaving  your widget in invalid or incomplete state, or with styles referring to non existing resources. \r\n\r\nMy blind guess about why it works when there&#39;s no content entered into EditText is because if there&#39;s no content, the widget for example won&#39;t need to draw some of its elements. So you can make your empty EditText focused as many times as you want and nothing bad would happen, but if there&#39;s any content and the style i.e. refers to resources that are missing (like drawables, fonts etc), then it will crash with `ResourceNotFoundException`. I guess `FontSettings` is external project, so I&#39;d check for an update fist, then I&#39;d inspect the styles it tries to apply.","title":"Why second tap on edittext field causes application error?","body":"<p>Apparently whatever theme details is the <code>FontSettings.setDynamicTheme()</code> changing, it ends up leaving  your widget in invalid or incomplete state, or with styles referring to non existing resources.</p>\n<p>My blind guess about why it works when there's no content entered into EditText is because if there's no content, the widget for example won't need to draw some of its elements. So you can make your empty EditText focused as many times as you want and nothing bad would happen, but if there's any content and the style i.e. refers to resources that are missing (like drawables, fonts etc), then it will crash with <code>ResourceNotFoundException</code>. I guess <code>FontSettings</code> is external project, so I'd check for an update fist, then I'd inspect the styles it tries to apply.</p>\n"}],"owner":{"account_id":28387404,"reputation":3,"user_id":21713685,"display_name":"Stanislaw"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76085597,"answer_count":1,"score":0,"last_activity_date":1682266262,"creation_date":1682254271,"question_id":76084944,"body_markdown":"I have one edittext field that gets a number. When the field is clear, I can touch it as many times as I want. If even one character appears and I close the keyboard, the second time I tap edittext the app will get an get runtime. \r\n\r\nI tried to find some method or anything to help me in the Android documentation about EditText but I didn&#39;t find it.\r\n\r\nHere is my code\r\n\r\nJava\r\n\r\n```java\r\npackage com.example.aplikacja_testowa;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class CallSettings extends AppCompatActivity {\r\n    private TextView textView;\r\n    private EditText editText;\r\n    private Button saveButton;\r\n\r\n    public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\r\n    public static final String TEXT = &quot;text&quot;;\r\n    //public static final\r\n\r\n    private String text;\r\n\r\n    ////////////////\r\n    int dem=0;\r\n    int them;\r\n    int selectTheme = 2;\r\n    ////////////////\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        them=SmsSettings.loadData(CallSettings.this, &quot;style.txt&quot;, null, dem);\r\n        selectTheme = them;\r\n        Log.i(&quot;TAG&quot;, &quot;onCreate selectTheme: &quot;+selectTheme);\r\n        FontSettings.setDynamicTheme(CallSettings.this, selectTheme);\r\n\r\n        setContentView(R.layout.activity_call_settings);\r\n        textView = findViewById(R.id.callInstruction);\r\n        editText = findViewById(R.id.textPhoneNumber);\r\n        saveButton = findViewById(R.id.save_button);\r\n    }\r\n\r\n    public void savePhoneNumber(View v){\r\n        SmsSettings.saveData(this, &quot;callnumber.txt&quot;, editText, 0);\r\n        Toast.makeText(this, R.string.number_saved, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\nXML\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.CallSettings&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/callInstruction&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/after_ent_the_num&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textPhoneNumber&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/textPhoneNumber&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;@string/inp_ph_num&quot;\r\n        android:inputType=&quot;phone&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/save_button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        android:onClick=&quot;savePhoneNumber&quot;\r\n        android:text=&quot;@string/save_sett&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textPhoneNumber&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n```none\r\nE/InputEventReceiver: Exception dispatching input event.\r\nE/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\r\nE/MessageQueue-JNI: android.content.res.Resources$NotFoundException: Resource ID #0x0\r\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:190)\r\n        at android.content.res.Resources.getDrawable(Resources.java:766)\r\n        at android.content.Context.getDrawable(Context.java:525)\r\n        at android.widget.Editor$InsertionPointCursorController.getHandle(Editor.java:5070)\r\n        at android.widget.Editor$InsertionPointCursorController.show(Editor.java:5049)\r\n        at android.widget.Editor.onTouchUpEvent(Editor.java:2136)\r\n        at android.widget.TextView.onTouchEvent(TextView.java:8510)\r\n        at android.view.View.dispatchTouchEvent(View.java:9943)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:411)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1810)\r\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3061)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\r\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:373)\r\n        at android.view.View.dispatchPointerEvent(View.java:10163)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4434)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4302)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3995)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4052)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6210)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6184)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6145)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6313)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:323)\r\n        at android.os.Looper.loop(Looper.java:136)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.aplikacja_testowa, PID: 14480\r\n    android.content.res.Resources$NotFoundException: Resource ID #0x0\r\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:190)\r\n        at android.content.res.Resources.getDrawable(Resources.java:766)\r\n        at android.content.Context.getDrawable(Context.java:525)\r\n        at android.widget.Editor$InsertionPointCursorController.getHandle(Editor.java:5070)\r\n        at android.widget.Editor$InsertionPointCursorController.show(Editor.java:5049)\r\n        at android.widget.Editor.onTouchUpEvent(Editor.java:2136)\r\n        at android.widget.TextView.onTouchEvent(TextView.java:8510)\r\n        at android.view.View.dispatchTouchEvent(View.java:9943)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\r\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:411)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1810)\r\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3061)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\r\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:373)\r\n        at android.view.View.dispatchPointerEvent(View.java:10163)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4434)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4302)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3995)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4052)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6210)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6184)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6145)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6313)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:323)\r\n        at android.os.Looper.loop(Looper.java:136)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n```\r\n","title":"Why second tap on edittext field causes application error?","body":"<p>I have one edittext field that gets a number. When the field is clear, I can touch it as many times as I want. If even one character appears and I close the keyboard, the second time I tap edittext the app will get an get runtime.</p>\n<p>I tried to find some method or anything to help me in the Android documentation about EditText but I didn't find it.</p>\n<p>Here is my code</p>\n<p>Java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.aplikacja_testowa;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class CallSettings extends AppCompatActivity {\n    private TextView textView;\n    private EditText editText;\n    private Button saveButton;\n\n    public static final String SHARED_PREFS = &quot;sharedPrefs&quot;;\n    public static final String TEXT = &quot;text&quot;;\n    //public static final\n\n    private String text;\n\n    ////////////////\n    int dem=0;\n    int them;\n    int selectTheme = 2;\n    ////////////////\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        them=SmsSettings.loadData(CallSettings.this, &quot;style.txt&quot;, null, dem);\n        selectTheme = them;\n        Log.i(&quot;TAG&quot;, &quot;onCreate selectTheme: &quot;+selectTheme);\n        FontSettings.setDynamicTheme(CallSettings.this, selectTheme);\n\n        setContentView(R.layout.activity_call_settings);\n        textView = findViewById(R.id.callInstruction);\n        editText = findViewById(R.id.textPhoneNumber);\n        saveButton = findViewById(R.id.save_button);\n    }\n\n    public void savePhoneNumber(View v){\n        SmsSettings.saveData(this, &quot;callnumber.txt&quot;, editText, 0);\n        Toast.makeText(this, R.string.number_saved, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>XML</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.CallSettings&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/callInstruction&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/after_ent_the_num&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textPhoneNumber&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/textPhoneNumber&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;@string/inp_ph_num&quot;\n        android:inputType=&quot;phone&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/save_button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        android:onClick=&quot;savePhoneNumber&quot;\n        android:text=&quot;@string/save_sett&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textPhoneNumber&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>E/InputEventReceiver: Exception dispatching input event.\nE/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\nE/MessageQueue-JNI: android.content.res.Resources$NotFoundException: Resource ID #0x0\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:190)\n        at android.content.res.Resources.getDrawable(Resources.java:766)\n        at android.content.Context.getDrawable(Context.java:525)\n        at android.widget.Editor$InsertionPointCursorController.getHandle(Editor.java:5070)\n        at android.widget.Editor$InsertionPointCursorController.show(Editor.java:5049)\n        at android.widget.Editor.onTouchUpEvent(Editor.java:2136)\n        at android.widget.TextView.onTouchEvent(TextView.java:8510)\n        at android.view.View.dispatchTouchEvent(View.java:9943)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:411)\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1810)\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3061)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:373)\n        at android.view.View.dispatchPointerEvent(View.java:10163)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4434)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4302)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3995)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4052)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6210)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6184)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6145)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6313)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:323)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.aplikacja_testowa, PID: 14480\n    android.content.res.Resources$NotFoundException: Resource ID #0x0\n        at android.content.res.ResourcesImpl.getValue(ResourcesImpl.java:190)\n        at android.content.res.Resources.getDrawable(Resources.java:766)\n        at android.content.Context.getDrawable(Context.java:525)\n        at android.widget.Editor$InsertionPointCursorController.getHandle(Editor.java:5070)\n        at android.widget.Editor$InsertionPointCursorController.show(Editor.java:5049)\n        at android.widget.Editor.onTouchUpEvent(Editor.java:2136)\n        at android.widget.TextView.onTouchEvent(TextView.java:8510)\n        at android.view.View.dispatchTouchEvent(View.java:9943)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2669)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:411)\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1810)\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3061)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:373)\n        at android.view.View.dispatchPointerEvent(View.java:10163)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4434)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4302)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3995)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4052)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3902)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3868)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3876)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3849)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6210)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6184)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6145)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6313)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:185)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:323)\n        at android.os.Looper.loop(Looper.java:136)\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"},{"tags":["java","kotlin","google-cloud-dataflow"],"owner":{"account_id":18015281,"reputation":68,"user_id":13093935,"display_name":"Pancho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682265945,"creation_date":1682264014,"question_id":76085747,"body_markdown":"I&#39;m having some trouble running this:\r\n\r\n```kotlin\r\nimport com.google.api.services.bigquery.model.TableRow\r\nimport com.google.cloud.bigquery.*\r\nimport org.apache.beam.runners.dataflow.DataflowRunner\r\nimport org.apache.beam.sdk.Pipeline\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryHelpers\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO\r\nimport org.apache.beam.sdk.io.kafka.KafkaIO\r\nimport org.apache.beam.sdk.options.Description\r\nimport org.apache.beam.sdk.options.PipelineOptions\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory\r\nimport org.apache.beam.sdk.options.Validation\r\nimport org.apache.beam.sdk.transforms.MapElements\r\nimport org.apache.beam.sdk.transforms.SerializableFunction\r\nimport org.apache.beam.sdk.values.TypeDescriptor\r\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer\r\nimport org.joda.time.Duration\r\n\r\ninterface KafkaToBigQueryOptions : PipelineOptions {\r\n    @get:Description(&quot;mytopic&quot;)\r\n    @get:Validation.Required\r\n    var inputTopic: String\r\n\r\n    @get:Description(&quot;mytable&quot;)\r\n    @get:Validation.Required\r\n    var outputTable: String\r\n\r\n    @get:Description(&quot;mydataset&quot;)\r\n    @get:Validation.Required\r\n    var outputDataset: String\r\n\r\n    @get:Description(&quot;my-project&quot;)\r\n    @get:Validation.Required\r\n    var outputProject: String\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    val options = PipelineOptionsFactory.fromArgs(*args)\r\n        .withValidation()\r\n        .`as`(KafkaToBigQueryOptions::class.java)\r\n    options.runner = DataflowRunner::class.java\r\n    val pipeline = Pipeline.create(options)\r\n\r\n    val kafkaReadOptions = KafkaIO.read&lt;ByteArray, ByteArray&gt;()\r\n        .withBootstrapServers(&quot;mykafka-server.local:9092&quot;)\r\n        .withTopic(options.inputTopic)\r\n        .withKeyDeserializer(ByteArrayDeserializer::class.java)\r\n        .withValueDeserializer(ByteArrayDeserializer::class.java)\r\n        .withDynamicRead(Duration.standardSeconds(5))\r\n\r\n    val bigQueryTable = BigQueryHelpers.parseTableSpec(\r\n        &quot;${options.outputProject}:${options.outputDataset}.${options.outputTable}&quot;\r\n    )\r\n\r\n    pipeline.apply(&quot;Read from Kafka&quot;, kafkaReadOptions)\r\n        .apply(&quot;Transform to TableRow&quot;, MapElements.into(TypeDescriptor.of(TableRow::class.java))\r\n            .via(SerializableFunction { value -&gt;\r\n                val row = TableRow()\r\n                row.set(&quot;message&quot;, value.toString())\r\n                row\r\n            }))\r\n        .apply(&quot;Write to BigQuery&quot;, BigQueryIO.writeTableRows()\r\n            .to(bigQueryTable)\r\n            .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\r\n            .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND))\r\n\r\n    pipeline.run().waitUntilFinish()\r\n}\r\n```\r\n\r\nWhen I run it from IntelliJ, I get the errors below. That same error shows up even if I declare the input topic in `options.inputTopic = &quot;mytopic&quot;`.\r\n\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Missing required value for [--inputTopic, &quot;mytopic&quot;]. \r\n\tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:440)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsValidator.validate(PipelineOptionsValidator.java:93)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsValidator.validateCli(PipelineOptionsValidator.java:65)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory$Builder.as(PipelineOptionsFactory.java:346)\r\n\tat MainKt.main(Main.kt:39)\r\n```\r\n\r\nRebuilt .jar, ran it with command:\r\n\r\n`java -jar jarfile.jar --experiments=beam_fn_api --runner=DataflowRunner --project=myproject --region=us-central1 --inputTopic=mytopic --outputTable=mytable --outputDataset=mydataset --outputProject=myotherproject`\r\n\r\nError:\r\n\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unknown &#39;runner&#39; specified &#39;DataflowRunner&#39;, supported pipeline runners []\r\n```","title":"Unknown &#39;runner&#39; specified &#39;DataflowRunner&#39;","body":"<p>I'm having some trouble running this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.google.api.services.bigquery.model.TableRow\nimport com.google.cloud.bigquery.*\nimport org.apache.beam.runners.dataflow.DataflowRunner\nimport org.apache.beam.sdk.Pipeline\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryHelpers\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO\nimport org.apache.beam.sdk.io.kafka.KafkaIO\nimport org.apache.beam.sdk.options.Description\nimport org.apache.beam.sdk.options.PipelineOptions\nimport org.apache.beam.sdk.options.PipelineOptionsFactory\nimport org.apache.beam.sdk.options.Validation\nimport org.apache.beam.sdk.transforms.MapElements\nimport org.apache.beam.sdk.transforms.SerializableFunction\nimport org.apache.beam.sdk.values.TypeDescriptor\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer\nimport org.joda.time.Duration\n\ninterface KafkaToBigQueryOptions : PipelineOptions {\n    @get:Description(&quot;mytopic&quot;)\n    @get:Validation.Required\n    var inputTopic: String\n\n    @get:Description(&quot;mytable&quot;)\n    @get:Validation.Required\n    var outputTable: String\n\n    @get:Description(&quot;mydataset&quot;)\n    @get:Validation.Required\n    var outputDataset: String\n\n    @get:Description(&quot;my-project&quot;)\n    @get:Validation.Required\n    var outputProject: String\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val options = PipelineOptionsFactory.fromArgs(*args)\n        .withValidation()\n        .`as`(KafkaToBigQueryOptions::class.java)\n    options.runner = DataflowRunner::class.java\n    val pipeline = Pipeline.create(options)\n\n    val kafkaReadOptions = KafkaIO.read&lt;ByteArray, ByteArray&gt;()\n        .withBootstrapServers(&quot;mykafka-server.local:9092&quot;)\n        .withTopic(options.inputTopic)\n        .withKeyDeserializer(ByteArrayDeserializer::class.java)\n        .withValueDeserializer(ByteArrayDeserializer::class.java)\n        .withDynamicRead(Duration.standardSeconds(5))\n\n    val bigQueryTable = BigQueryHelpers.parseTableSpec(\n        &quot;${options.outputProject}:${options.outputDataset}.${options.outputTable}&quot;\n    )\n\n    pipeline.apply(&quot;Read from Kafka&quot;, kafkaReadOptions)\n        .apply(&quot;Transform to TableRow&quot;, MapElements.into(TypeDescriptor.of(TableRow::class.java))\n            .via(SerializableFunction { value -&gt;\n                val row = TableRow()\n                row.set(&quot;message&quot;, value.toString())\n                row\n            }))\n        .apply(&quot;Write to BigQuery&quot;, BigQueryIO.writeTableRows()\n            .to(bigQueryTable)\n            .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\n            .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND))\n\n    pipeline.run().waitUntilFinish()\n}\n</code></pre>\n<p>When I run it from IntelliJ, I get the errors below. That same error shows up even if I declare the input topic in <code>options.inputTopic = &quot;mytopic&quot;</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Missing required value for [--inputTopic, &quot;mytopic&quot;]. \n    at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:440)\n    at org.apache.beam.sdk.options.PipelineOptionsValidator.validate(PipelineOptionsValidator.java:93)\n    at org.apache.beam.sdk.options.PipelineOptionsValidator.validateCli(PipelineOptionsValidator.java:65)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory$Builder.as(PipelineOptionsFactory.java:346)\n    at MainKt.main(Main.kt:39)\n</code></pre>\n<p>Rebuilt .jar, ran it with command:</p>\n<p><code>java -jar jarfile.jar --experiments=beam_fn_api --runner=DataflowRunner --project=myproject --region=us-central1 --inputTopic=mytopic --outputTable=mytable --outputDataset=mydataset --outputProject=myotherproject</code></p>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unknown 'runner' specified 'DataflowRunner', supported pipeline runners []\n</code></pre>\n"},{"tags":["java","user-interface","jbutton"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1682272957,"post_id":76085882,"comment_id":134185503,"body_markdown":"Where is the `Notizbuch` class?","body":"Where is the <code>Notizbuch</code> class?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1682274267,"post_id":76085882,"comment_id":134185675,"body_markdown":"And where is the `Notiz` class?","body":"And where is the <code>Notiz</code> class?"}],"owner":{"account_id":28389065,"reputation":1,"user_id":21715105,"display_name":"Jack Tucker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682265928,"creation_date":1682265729,"question_id":76085882,"body_markdown":"For my school project i&#39;m trying to create a functioning Notebook project in Java and when i try to update a existing note in my GUI i&#39;m running into the problem, that instead of just overwriting the existing note in the GUI it just creates a new one leaving the old note still in the menu . so like the problem i&#39;m having is that i don&#39;t want duplicate note titles aswell. \r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.*;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\n\r\npublic class NotizbuchGUI extends JFrame {\r\n    /**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate JTextArea textArea;\r\n    private JTextField titleField;\r\n    private JList&lt;Notiz&gt; noteList;\r\n    private Notizbuch notizbuch;\r\n\r\n    public NotizbuchGUI() {\r\n        super(&quot;Notizbuch&quot;);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(600, 400);\r\n\r\n        // Erstelle GUI-Komponenten\r\n        JPanel panel = new JPanel(new BorderLayout());\r\n        textArea = new JTextArea();\r\n        titleField = new JTextField();\r\n        noteList = new JList&lt;&gt;();\r\n        JScrollPane scrollPane = new JScrollPane(noteList);\r\n        JButton newButton = new JButton(&quot;Neue Notiz&quot;);\r\n        JButton saveButton = new JButton(&quot;Speichern&quot;);\r\n        JButton deleteButton = new JButton(&quot;L&#246;schen&quot;);\r\n\r\n        // F&#252;ge GUI-Komponenten zum Panel hinzu\r\n        JPanel topPanel = new JPanel(new BorderLayout());\r\n        topPanel.add(new JLabel(&quot;Titel:&quot;), BorderLayout.WEST);\r\n        topPanel.add(titleField, BorderLayout.CENTER);\r\n        topPanel.add(newButton, BorderLayout.EAST);\r\n        panel.add(topPanel, BorderLayout.NORTH);\r\n        panel.add(textArea, BorderLayout.CENTER);\r\n        JPanel buttonPanel = new JPanel(new FlowLayout());\r\n        buttonPanel.add(saveButton);\r\n        buttonPanel.add(deleteButton);\r\n        panel.add(buttonPanel, BorderLayout.SOUTH);\r\n        panel.add(scrollPane, BorderLayout.WEST);\r\n        add(panel);\r\n\r\n        // Erstelle Notizbuch\r\n        notizbuch = new Notizbuch();\r\n\r\n        // F&#252;lle Notizliste\r\n        updateNoteList();\r\n\r\n        // F&#252;ge Listener hinzu\r\n        noteList.addListSelectionListener(e -&gt; {\r\n            if (!e.getValueIsAdjusting()) {\r\n                Notiz selectedNote = noteList.getSelectedValue();\r\n                if (selectedNote != null) {\r\n                    titleField.setText(selectedNote.getTitel());\r\n                    textArea.setText(selectedNote.getText());\r\n                }\r\n            }\r\n        });\r\n        newButton.addActionListener(e -&gt; {\r\n            titleField.setText(&quot;&quot;);\r\n            textArea.setText(&quot;&quot;);\r\n        });\r\n        saveButton.addActionListener(e -&gt; {\r\n            String titel = titleField.getText();\r\n            String text = textArea.getText();\r\n            if (!titel.isEmpty() &amp;&amp; !text.isEmpty()) {\r\n                Notiz notiz = new Notiz(titel, text);\r\n                notizbuch.addNotiz(notiz);\r\n                updateNoteList();\r\n                saveNotiz(notiz);\r\n            }\r\n        });\r\n        deleteButton.addActionListener(e -&gt; {\r\n            Notiz selectedNote = noteList.getSelectedValue();\r\n            if (selectedNote != null) {\r\n                notizbuch.removeNotiz(selectedNote);\r\n                updateNoteList();\r\n                deleteNotiz(selectedNote);\r\n                titleField.setText(&quot;&quot;);\r\n                textArea.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        setVisible(true);\r\n    }\r\n\r\n    private void updateNoteList() {\r\n        DefaultListModel&lt;Notiz&gt; model = new DefaultListModel&lt;&gt;();\r\n        for (Notiz notiz : notizbuch.getNotizen()) {\r\n            model.addElement(notiz);\r\n        }\r\n        noteList.setModel(model);\r\n    }\r\n\r\n    private void saveNotiz(Notiz notiz) {\r\n        try {\r\n            String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date()) + &quot;.txt&quot;;\r\n            File file = new File(filename);\r\n            if (!file.exists()) {\r\n                file.createNewFile();\r\n            }\r\n            BufferedReader reader = new BufferedReader(new FileReader(file));\r\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                lines.add(line);\r\n            }\r\n            reader.close();\r\n            BufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n            boolean notizFound = false;\r\n            for (int i = 0; i &lt; lines.size(); i += 2) {\r\n                String titel = lines.get(i);\r\n                String text = lines.get(i + 1);\r\n                if (titel.equals(notiz.getTitel())) {\r\n                    writer.write(notiz.getTitel() + &quot;\\n&quot;);\r\n                    writer.write(notiz.getText() + &quot;\\n&quot;);\r\n                    notizFound = true;\r\n                } else {\r\n                    writer.write(titel + &quot;\\n&quot;);\r\n                    writer.write(text + &quot;\\n&quot;);\r\n                }\r\n            }\r\n            if (!notizFound) {\r\n                writer.write(notiz.getTitel() + &quot;\\n&quot;);\r\n                writer.write(notiz.getText() + &quot;\\n&quot;);\r\n            }\r\n            writer.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void deleteNotiz(Notiz notiz) {\r\n        String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(notiz.getDatum()) + &quot;.txt&quot;;\r\n        File file = new File(filename);\r\n        if (file.exists()) {\r\n            file.delete();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new NotizbuchGUI();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni don&#39;t know how to solve the problem and tried updating my save method as such:\r\n\r\n```\r\nprivate void saveNotiz(Notiz notiz) {\r\n    try {\r\n        String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date()) + &quot;.txt&quot;;\r\n        File file = new File(filename);\r\n        if (!file.exists()) {\r\n            file.createNewFile();\r\n        }\r\n        BufferedReader reader = new BufferedReader(new FileReader(file));\r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            lines.add(line);\r\n        }\r\n        reader.close();\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n        boolean notizFound = false;\r\n        for (int i = 0; i &lt; lines.size(); i += 2) {\r\n            String titel = lines.get(i);\r\n            String text = lines.get(i + 1);\r\n            if (titel.equals(notiz.getTitel())) {\r\n                writer.write(notiz.getTitel() + &quot;\\n&quot;);\r\n                writer.write(notiz.getText() + &quot;\\n&quot;);\r\n                notizFound = true;\r\n            } else {\r\n                writer.write(titel + &quot;\\n&quot;);\r\n                writer.write(text + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        if (!notizFound) {\r\n            writer.write(notiz.getTitel() + &quot;\\n&quot;);\r\n            writer.write(notiz.getText() + &quot;\\n&quot;);\r\n        }\r\n        writer.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\n\r\n[GUI][1]\r\n\r\n  [1]: https://i.stack.imgur.com/YjaNd.png","title":"UpdateNote instead of Creating a new Note","body":"<p>For my school project i'm trying to create a functioning Notebook project in Java and when i try to update a existing note in my GUI i'm running into the problem, that instead of just overwriting the existing note in the GUI it just creates a new one leaving the old note still in the menu . so like the problem i'm having is that i don't want duplicate note titles aswell.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.io.*;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\n\npublic class NotizbuchGUI extends JFrame {\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private JTextArea textArea;\n    private JTextField titleField;\n    private JList&lt;Notiz&gt; noteList;\n    private Notizbuch notizbuch;\n\n    public NotizbuchGUI() {\n        super(&quot;Notizbuch&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 400);\n\n        // Erstelle GUI-Komponenten\n        JPanel panel = new JPanel(new BorderLayout());\n        textArea = new JTextArea();\n        titleField = new JTextField();\n        noteList = new JList&lt;&gt;();\n        JScrollPane scrollPane = new JScrollPane(noteList);\n        JButton newButton = new JButton(&quot;Neue Notiz&quot;);\n        JButton saveButton = new JButton(&quot;Speichern&quot;);\n        JButton deleteButton = new JButton(&quot;Löschen&quot;);\n\n        // Füge GUI-Komponenten zum Panel hinzu\n        JPanel topPanel = new JPanel(new BorderLayout());\n        topPanel.add(new JLabel(&quot;Titel:&quot;), BorderLayout.WEST);\n        topPanel.add(titleField, BorderLayout.CENTER);\n        topPanel.add(newButton, BorderLayout.EAST);\n        panel.add(topPanel, BorderLayout.NORTH);\n        panel.add(textArea, BorderLayout.CENTER);\n        JPanel buttonPanel = new JPanel(new FlowLayout());\n        buttonPanel.add(saveButton);\n        buttonPanel.add(deleteButton);\n        panel.add(buttonPanel, BorderLayout.SOUTH);\n        panel.add(scrollPane, BorderLayout.WEST);\n        add(panel);\n\n        // Erstelle Notizbuch\n        notizbuch = new Notizbuch();\n\n        // Fülle Notizliste\n        updateNoteList();\n\n        // Füge Listener hinzu\n        noteList.addListSelectionListener(e -&gt; {\n            if (!e.getValueIsAdjusting()) {\n                Notiz selectedNote = noteList.getSelectedValue();\n                if (selectedNote != null) {\n                    titleField.setText(selectedNote.getTitel());\n                    textArea.setText(selectedNote.getText());\n                }\n            }\n        });\n        newButton.addActionListener(e -&gt; {\n            titleField.setText(&quot;&quot;);\n            textArea.setText(&quot;&quot;);\n        });\n        saveButton.addActionListener(e -&gt; {\n            String titel = titleField.getText();\n            String text = textArea.getText();\n            if (!titel.isEmpty() &amp;&amp; !text.isEmpty()) {\n                Notiz notiz = new Notiz(titel, text);\n                notizbuch.addNotiz(notiz);\n                updateNoteList();\n                saveNotiz(notiz);\n            }\n        });\n        deleteButton.addActionListener(e -&gt; {\n            Notiz selectedNote = noteList.getSelectedValue();\n            if (selectedNote != null) {\n                notizbuch.removeNotiz(selectedNote);\n                updateNoteList();\n                deleteNotiz(selectedNote);\n                titleField.setText(&quot;&quot;);\n                textArea.setText(&quot;&quot;);\n            }\n        });\n\n        setVisible(true);\n    }\n\n    private void updateNoteList() {\n        DefaultListModel&lt;Notiz&gt; model = new DefaultListModel&lt;&gt;();\n        for (Notiz notiz : notizbuch.getNotizen()) {\n            model.addElement(notiz);\n        }\n        noteList.setModel(model);\n    }\n\n    private void saveNotiz(Notiz notiz) {\n        try {\n            String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date()) + &quot;.txt&quot;;\n            File file = new File(filename);\n            if (!file.exists()) {\n                file.createNewFile();\n            }\n            BufferedReader reader = new BufferedReader(new FileReader(file));\n            ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                lines.add(line);\n            }\n            reader.close();\n            BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n            boolean notizFound = false;\n            for (int i = 0; i &lt; lines.size(); i += 2) {\n                String titel = lines.get(i);\n                String text = lines.get(i + 1);\n                if (titel.equals(notiz.getTitel())) {\n                    writer.write(notiz.getTitel() + &quot;\\n&quot;);\n                    writer.write(notiz.getText() + &quot;\\n&quot;);\n                    notizFound = true;\n                } else {\n                    writer.write(titel + &quot;\\n&quot;);\n                    writer.write(text + &quot;\\n&quot;);\n                }\n            }\n            if (!notizFound) {\n                writer.write(notiz.getTitel() + &quot;\\n&quot;);\n                writer.write(notiz.getText() + &quot;\\n&quot;);\n            }\n            writer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n\n    private void deleteNotiz(Notiz notiz) {\n        String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(notiz.getDatum()) + &quot;.txt&quot;;\n        File file = new File(filename);\n        if (file.exists()) {\n            file.delete();\n        }\n    }\n\n    public static void main(String[] args) {\n        new NotizbuchGUI();\n    }\n}\n\n</code></pre>\n<p>i don't know how to solve the problem and tried updating my save method as such:</p>\n<pre><code>private void saveNotiz(Notiz notiz) {\n    try {\n        String filename = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(new Date()) + &quot;.txt&quot;;\n        File file = new File(filename);\n        if (!file.exists()) {\n            file.createNewFile();\n        }\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            lines.add(line);\n        }\n        reader.close();\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n        boolean notizFound = false;\n        for (int i = 0; i &lt; lines.size(); i += 2) {\n            String titel = lines.get(i);\n            String text = lines.get(i + 1);\n            if (titel.equals(notiz.getTitel())) {\n                writer.write(notiz.getTitel() + &quot;\\n&quot;);\n                writer.write(notiz.getText() + &quot;\\n&quot;);\n                notizFound = true;\n            } else {\n                writer.write(titel + &quot;\\n&quot;);\n                writer.write(text + &quot;\\n&quot;);\n            }\n        }\n        if (!notizFound) {\n            writer.write(notiz.getTitel() + &quot;\\n&quot;);\n            writer.write(notiz.getText() + &quot;\\n&quot;);\n        }\n        writer.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YjaNd.png\" rel=\"nofollow noreferrer\">GUI</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682266133,"post_id":76085891,"comment_id":134184603,"body_markdown":"check this please: https://stackoverflow.com/a/19068076","body":"check this please: <a href=\"https://stackoverflow.com/a/19068076\">stackoverflow.com/a/19068076</a>"}],"owner":{"account_id":19802967,"reputation":11,"user_id":14503509,"display_name":"Md Siamul Islam Soaib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682265892,"creation_date":1682265892,"question_id":76085891,"body_markdown":"I have a website. I have converted it to android app via java webview. The website has the option to login with Facebook and Google. But this option can&#39;t work webapp\r\n\r\nI have used some code which makes it possible to login with facebook but it has to login separately. Login is not happening in other apps","title":"How to access data of default browser from web app","body":"<p>I have a website. I have converted it to android app via java webview. The website has the option to login with Facebook and Google. But this option can't work webapp</p>\n<p>I have used some code which makes it possible to login with facebook but it has to login separately. Login is not happening in other apps</p>\n"},{"tags":["javascript","java","spring-boot","image","fetch-api"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682265784,"creation_date":1682265784,"answer_id":76085885,"question_id":76085551,"body_markdown":"You should use **form data**. Additionally before uploading the file from the client, you can use **postman** and you can generate file upload code from there. Here is code:\r\n\r\n    var myHeaders = new Headers();\r\n    \r\n    var formdata = new FormData();\r\n    formdata.append(&quot;file&quot;, fileInput.files[0], &quot;&lt;PATH&gt;&quot;);\r\n    \r\n    var requestOptions = {\r\n      method: &#39;POST&#39;,\r\n      headers: myHeaders,\r\n      body: formdata,\r\n      redirect: &#39;follow&#39;\r\n    };\r\n    \r\n    fetch(&quot;http://localhost:8082/api/file/upload&quot;, requestOptions)\r\n      .then(response =&gt; response.text())\r\n      .then(result =&gt; console.log(result))\r\n      .catch(error =&gt; console.log(&#39;error&#39;, error));\r\n\r\n\r\nPostman example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jKDQC.png","title":"Sending image from JS client to Java/Springboot server via fetch returns error 500","body":"<p>You should use <strong>form data</strong>. Additionally before uploading the file from the client, you can use <strong>postman</strong> and you can generate file upload code from there. Here is code:</p>\n<pre><code>var myHeaders = new Headers();\n\nvar formdata = new FormData();\nformdata.append(&quot;file&quot;, fileInput.files[0], &quot;&lt;PATH&gt;&quot;);\n\nvar requestOptions = {\n  method: 'POST',\n  headers: myHeaders,\n  body: formdata,\n  redirect: 'follow'\n};\n\nfetch(&quot;http://localhost:8082/api/file/upload&quot;, requestOptions)\n  .then(response =&gt; response.text())\n  .then(result =&gt; console.log(result))\n  .catch(error =&gt; console.log('error', error));\n</code></pre>\n<p>Postman example:</p>\n<p><a href=\"https://i.stack.imgur.com/jKDQC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jKDQC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682265784,"creation_date":1682261740,"question_id":76085551,"body_markdown":"I need to send (upload) an image file from the web client (html+javascript) to the server (java/springboot) that will then store it.\r\n\r\nOn the client side I have created a form, of course\r\n\r\n```\r\n&lt;form action=&quot;&quot; name=&quot;missionForm&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; novalidate&gt;\r\n  &lt;fieldset&gt;\r\n    &lt;div class=&quot;field&quot;&gt;\r\n      &lt;label&gt;\r\n        &lt;span style=&quot;font-weight:bold&quot;&gt;Mission name&lt;/span&gt;\r\n\t&lt;input data-validate-length-range=&quot;3&quot; name=&quot;name&quot; id=&quot;name&quot; required=&quot;required&quot; /&gt;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;field&quot;&gt;\r\n      &lt;label&gt;\r\n\t&lt;span&gt;Mission image (png):&lt;/span&gt;\r\n\t&lt;input type=&#39;file&#39; class=&#39;optional&#39; name=&#39;loadImage&#39; id=&#39;loadImage&#39; accept=&#39;image/png&#39;&gt;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n &lt;/fieldset&gt;\r\n&lt;/form&gt;\r\n\r\n```\r\nThe form is read below via javascript, who sends the request via fetch\r\n\r\n\r\n```\r\ndocument.forms[0].onsubmit = function(e){\r\n    e.preventDefault();\r\n   var imageFile = document.forms[&#39;missionForm&#39;][&#39;loadImage&#39;].files[0];\r\n   \r\n   const test = fetch(url+&quot;/api/saveImage&quot;, {\r\n\tmethod: &#39;POST&#39;,\r\n        body: imageFile,\r\n    });\r\n}\r\n```\r\n\r\nOn the server side (Java / Springboot), I have created the following method in the Controller class\r\n\r\n```\r\n@PostMapping(value=&quot;/api/saveImage&quot;)\r\npublic void saveImage(@RequestParam(&quot;file&quot;) MultipartFile multipartFile) throws SQLException{\r\n     String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\r\n     System.out.println(&quot;filename is &quot;+fileName);\t\r\n}\r\n```\r\n\r\nWhen I launch this, I get error 500 on the client.\r\nOn the server side, I get the following error &quot;org.springframework.web.multipart.MultipartException: Current request is not a multipart request&quot;\r\n\r\nI do not understand why. Can anybody help? I am sure I am missing something silly here.\r\nThanks!\r\n\r\n\r\n\r\nI tried &quot;forcing&quot; the content-type in the fetch request, but I only get a different error\r\n\r\n\r\n```\r\n   const test = fetch(url+&quot;/api/saveImage&quot;, {\r\n\tmethod: &#39;POST&#39;,\r\n        headers: {&#39;Content-Type&#39;: &#39;multipart/form-data&#39;,},\r\n        body: imageFile,\r\n    });\t\r\n```\r\n\r\nand the error is &quot;org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found&quot;\r\n","title":"Sending image from JS client to Java/Springboot server via fetch returns error 500","body":"<p>I need to send (upload) an image file from the web client (html+javascript) to the server (java/springboot) that will then store it.</p>\n<p>On the client side I have created a form, of course</p>\n<pre><code>&lt;form action=&quot;&quot; name=&quot;missionForm&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; novalidate&gt;\n  &lt;fieldset&gt;\n    &lt;div class=&quot;field&quot;&gt;\n      &lt;label&gt;\n        &lt;span style=&quot;font-weight:bold&quot;&gt;Mission name&lt;/span&gt;\n    &lt;input data-validate-length-range=&quot;3&quot; name=&quot;name&quot; id=&quot;name&quot; required=&quot;required&quot; /&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;field&quot;&gt;\n      &lt;label&gt;\n    &lt;span&gt;Mission image (png):&lt;/span&gt;\n    &lt;input type='file' class='optional' name='loadImage' id='loadImage' accept='image/png'&gt;\n      &lt;/label&gt;\n    &lt;/div&gt;\n &lt;/fieldset&gt;\n&lt;/form&gt;\n\n</code></pre>\n<p>The form is read below via javascript, who sends the request via fetch</p>\n<pre><code>document.forms[0].onsubmit = function(e){\n    e.preventDefault();\n   var imageFile = document.forms['missionForm']['loadImage'].files[0];\n   \n   const test = fetch(url+&quot;/api/saveImage&quot;, {\n    method: 'POST',\n        body: imageFile,\n    });\n}\n</code></pre>\n<p>On the server side (Java / Springboot), I have created the following method in the Controller class</p>\n<pre><code>@PostMapping(value=&quot;/api/saveImage&quot;)\npublic void saveImage(@RequestParam(&quot;file&quot;) MultipartFile multipartFile) throws SQLException{\n     String fileName = StringUtils.cleanPath(multipartFile.getOriginalFilename());\n     System.out.println(&quot;filename is &quot;+fileName);   \n}\n</code></pre>\n<p>When I launch this, I get error 500 on the client.\nOn the server side, I get the following error &quot;org.springframework.web.multipart.MultipartException: Current request is not a multipart request&quot;</p>\n<p>I do not understand why. Can anybody help? I am sure I am missing something silly here.\nThanks!</p>\n<p>I tried &quot;forcing&quot; the content-type in the fetch request, but I only get a different error</p>\n<pre><code>   const test = fetch(url+&quot;/api/saveImage&quot;, {\n    method: 'POST',\n        headers: {'Content-Type': 'multipart/form-data',},\n        body: imageFile,\n    }); \n</code></pre>\n<p>and the error is &quot;org.apache.tomcat.util.http.fileupload.FileUploadException: the request was rejected because no multipart boundary was found&quot;</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1682273315,"post_id":76085846,"comment_id":134185558,"body_markdown":"What build tool do you use ? Maven ? If yes, post the pom.xml. Inspect the application.properties in the jar.  Post the application.properties.","body":"What build tool do you use ? Maven ? If yes, post the pom.xml. Inspect the application.properties in the jar.  Post the application.properties."},{"owner":{"account_id":28387859,"reputation":1,"user_id":21714076,"display_name":"popfumo"},"score":0,"creation_date":1682436271,"post_id":76085846,"comment_id":134213620,"body_markdown":"I use maven:\n\nHere is the application.properties:\nspring.datasource.url=jdbc:mysql://localhost:8080/\nspring.datasource.username=user\nspring.datasource.password=pass\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nspring.jpa.properties.hibernate.globally_quoted_identifiers_skip_column_definitions=true\nspring.jackson.serialization.fail-on-empty-beans=false","body":"I use maven:  Here is the application.properties: spring.datasource.url=jdbc:mysql://localhost:8080/ spring.datasource.username=user spring.datasource.password=pass spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.jpa.hibernate.ddl-auto=update spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQLDialect spring.jpa.properties.hibernate.globally_quoted_identifiers=&zwnj;&#8203;true spring.jpa.properties.hibernate.globally_quoted_identifiers_&zwnj;&#8203;skip_column_definiti&zwnj;&#8203;ons=true spring.jackson.serialization.fail-on-empty-beans=false"},{"owner":{"account_id":28387859,"reputation":1,"user_id":21714076,"display_name":"popfumo"},"score":0,"creation_date":1682436316,"post_id":76085846,"comment_id":134213633,"body_markdown":"I cant post the whole pom.xml due to charcter limit. But my dependencies are: \nSpring Boot starter web, \nSpring Boot starter data jpa, \nSpring Boot starter validation, \nMySQL connector java, \nLombok, Spring Boot starter test ,\nJUnit","body":"I cant post the whole pom.xml due to charcter limit. But my dependencies are:  Spring Boot starter web,  Spring Boot starter data jpa,  Spring Boot starter validation,  MySQL connector java,  Lombok, Spring Boot starter test , JUnit"}],"owner":{"account_id":28387859,"reputation":1,"user_id":21714076,"display_name":"popfumo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682265683,"creation_date":1682265301,"question_id":76085846,"body_markdown":"I&#39;m having issues with my Spring Boot application that is running Hibernate and MySQL. When running the code live in my IDE, it works just fine, but when I build the code into a jar-file, it changes the SQL-dialect to H2 database instead of MySQL.\r\n\r\nRunning in the IDE:\r\n\r\n```none\r\n17:51:21.326 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\nRunning the jar-file:\r\n\r\n```none\r\n17:24:58.789 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n```\r\n\r\nBecause of that, it won&#39;t create some of the tables because some of the columns are using reserved words in H2 that are not reserved in MySQL. \r\n\r\nI&#39;ve tried to force Hibernate to use the MySQL dialect in the application.properties by entering:\r\n\r\n```none\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.database=mysql\r\n```\r\nbut it won&#39;t do anything. I&#39;ve also added a Hibernate configuration file into main/resources, but it doesn&#39;t do anything either. Am I missing something? I use IntelliJ Ultimate as my IDE, MySQL version 8.0.28 and Spring Boot version 3.0.5.&#160;","title":"Spring Boot application with Hibernate runs a different SQL-dialect than specified","body":"<p>I'm having issues with my Spring Boot application that is running Hibernate and MySQL. When running the code live in my IDE, it works just fine, but when I build the code into a jar-file, it changes the SQL-dialect to H2 database instead of MySQL.</p>\n<p>Running in the IDE:</p>\n<pre class=\"lang-none prettyprint-override\"><code>17:51:21.326 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Running the jar-file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>17:24:58.789 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>Because of that, it won't create some of the tables because some of the columns are using reserved words in H2 that are not reserved in MySQL.</p>\n<p>I've tried to force Hibernate to use the MySQL dialect in the application.properties by entering:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.database=mysql\n</code></pre>\n<p>but it won't do anything. I've also added a Hibernate configuration file into main/resources, but it doesn't do anything either. Am I missing something? I use IntelliJ Ultimate as my IDE, MySQL version 8.0.28 and Spring Boot version 3.0.5. </p>\n"},{"tags":["java","android","zxing"],"answers":[{"tags":[],"owner":{"account_id":1902989,"reputation":351,"user_id":1718445,"display_name":"Edwin M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682265458,"creation_date":1682265458,"answer_id":76085861,"question_id":72946677,"body_markdown":"One way to improve the scan speed is to put the barcode format. This is if all barcode you&#39;ll be scanning are of the same format eg CODE 128, EAN_13\r\n\r\n    \r\n\r\n    integrator.setDesiredBarcodeFormats(IntentIntegrator.CODE_128);","title":"Please tell me how to upgrade the QR code scanning recognition rate","body":"<p>One way to improve the scan speed is to put the barcode format. This is if all barcode you'll be scanning are of the same format eg CODE 128, EAN_13</p>\n<pre><code>integrator.setDesiredBarcodeFormats(IntentIntegrator.CODE_128);\n</code></pre>\n"}],"owner":{"account_id":25786368,"reputation":1,"user_id":19531104,"display_name":"kch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682265561,"creation_date":1657596102,"question_id":72946677,"body_markdown":"I am developing using android studio and java and am a beginner developer.\r\n\r\nIt works by implementing zxing-android-embedded:4.3.0 in the app to scan the QR.\r\n\r\nDepending on the angle, light, etc., there are many cases in which recognition is delayed.\r\n\r\nPlease tell me how to improve the recognition rate.\r\n\r\nPlease help.\r\n\r\n&lt;build.gragle&gt;\r\n\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n\r\n&lt;mainactivity.java&gt;\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        scanCode();\r\n    }\r\n\r\n    private void scanCode(){\r\n        IntentIntegrator integrator = new IntentIntegrator(this);\r\n        integrator.setCaptureActivity(CaptureAct.class);\r\n        integrator.setOrientationLocked(false);\r\n        integrator.setDesiredBarcodeFormats(IntentIntegrator.ALL_CODE_TYPES);\r\n        integrator.addExtra(Intents.Scan.SCAN_TYPE, Intents.Scan.MIXED_SCAN);\r\n        integrator.setPrompt(&quot;Code를 스캔해주세요.&quot;);\r\n        integrator.initiateScan();\r\n    }\r\n&lt;CaptureAct.java&gt;\r\n\r\n    package com.emtech.gscmapp;\r\n    import com.journeyapps.barcodescanner.CaptureActivity;\r\n    public class CaptureAct extends CaptureActivity {\r\n    }\r\n\r\n\r\nps. I am a beginner developer in Korea. If the translation is wrong, please understand.\r\n\r\nsorry, thank you, Plz help me","title":"Please tell me how to upgrade the QR code scanning recognition rate","body":"<p>I am developing using android studio and java and am a beginner developer.</p>\n<p>It works by implementing zxing-android-embedded:4.3.0 in the app to scan the QR.</p>\n<p>Depending on the angle, light, etc., there are many cases in which recognition is delayed.</p>\n<p>Please tell me how to improve the recognition rate.</p>\n<p>Please help.</p>\n<p>&lt;build.gragle&gt;</p>\n<pre><code>implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n</code></pre>\n<p>&lt;mainactivity.java&gt;</p>\n<pre><code>@Override\npublic void onClick(View v) {\n    scanCode();\n}\n\nprivate void scanCode(){\n    IntentIntegrator integrator = new IntentIntegrator(this);\n    integrator.setCaptureActivity(CaptureAct.class);\n    integrator.setOrientationLocked(false);\n    integrator.setDesiredBarcodeFormats(IntentIntegrator.ALL_CODE_TYPES);\n    integrator.addExtra(Intents.Scan.SCAN_TYPE, Intents.Scan.MIXED_SCAN);\n    integrator.setPrompt(&quot;Code를 스캔해주세요.&quot;);\n    integrator.initiateScan();\n}\n</code></pre>\n<p>&lt;CaptureAct.java&gt;</p>\n<pre><code>package com.emtech.gscmapp;\nimport com.journeyapps.barcodescanner.CaptureActivity;\npublic class CaptureAct extends CaptureActivity {\n}\n</code></pre>\n<p>ps. I am a beginner developer in Korea. If the translation is wrong, please understand.</p>\n<p>sorry, thank you, Plz help me</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1682009319,"post_id":76066029,"comment_id":134152089,"body_markdown":"If you can get away with using a `KeyListener`, it can do exactly this for you. Let me know if that is a viable solution for you and then I can type up an answer.","body":"If you can get away with using a <code>KeyListener</code>, it can do exactly this for you. Let me know if that is a viable solution for you and then I can type up an answer."},{"owner":{"account_id":14866375,"reputation":465,"user_id":10735351,"display_name":"Graham Meehan"},"score":1,"creation_date":1682009526,"post_id":76066029,"comment_id":134152140,"body_markdown":"Absolutely! We are not tied to any particular constraints for this task. I appreciate it.","body":"Absolutely! We are not tied to any particular constraints for this task. I appreciate it."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682010767,"post_id":76066029,"comment_id":134152423,"body_markdown":"Ok, typing up now","body":"Ok, typing up now"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1682012974,"post_id":76066029,"comment_id":134152901,"body_markdown":"@davidalayachew: and I&#39;m going to tell you right now that a KeyListener is not the way to solve this problem since it will only work if the listened-to component has and maintains keyboard focus. The OP has already started to use Key Bindings, which is the right path, why offer a solution that has them moving backwards?","body":"@davidalayachew: and I&#39;m going to tell you right now that a KeyListener is not the way to solve this problem since it will only work if the listened-to component has and maintains keyboard focus. The OP has already started to use Key Bindings, which is the right path, why offer a solution that has them moving backwards?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1682013092,"post_id":76066029,"comment_id":134152932,"body_markdown":"No you should NOT use a KeyListener. Swing was designed to be used with Key Bindings. *it triggered the action multiple times instead of just once* - you will have the same issue with a KeyListener.  *Is there a good Java-native option to handle this problem* If you have a &quot;Proceed&quot; button, why not set a mnemonic for the button to use &quot;Alt p&quot;. Then the &quot;p&quot; on the button will be underlined to give the user a visual cue how to invoke the button with the keyboard. Check out the Swing tutorial on [How to Use Actions](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html) for an example.","body":"No you should NOT use a KeyListener. Swing was designed to be used with Key Bindings. <i>it triggered the action multiple times instead of just once</i> - you will have the same issue with a KeyListener.  <i>Is there a good Java-native option to handle this problem</i> If you have a &quot;Proceed&quot; button, why not set a mnemonic for the button to use &quot;Alt p&quot;. Then the &quot;p&quot; on the button will be underlined to give the user a visual cue how to invoke the button with the keyboard. Check out the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">How to Use Actions</a> for an example."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682014815,"post_id":76066029,"comment_id":134153253,"body_markdown":"Seems like multiple people disagree, so I will leave it alone.","body":"Seems like multiple people disagree, so I will leave it alone."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682014929,"post_id":76066029,"comment_id":134153289,"body_markdown":"@HovercraftFullOfEels to answer your questions, KeyListener is very convenient for me whenever I need to simply parse and handle basic key press behaviour. Focus issues never really came up for me that couldn&#39;t be easily dealt with. Perhaps the nature of OP&#39;s project makes it less than ideal, but I&#39;ve used them to great effect.","body":"@HovercraftFullOfEels to answer your questions, KeyListener is very convenient for me whenever I need to simply parse and handle basic key press behaviour. Focus issues never really came up for me that couldn&#39;t be easily dealt with. Perhaps the nature of OP&#39;s project makes it less than ideal, but I&#39;ve used them to great effect."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682015016,"post_id":76066029,"comment_id":134153308,"body_markdown":"@camickr I wasn&#39;t implying that the KeyListener alone would solve the problem. Clearly, more effort than that is required. I suggested KeyListener because I solved this exact same problem multiple times before, and KeyListener was an important part of the solution.","body":"@camickr I wasn&#39;t implying that the KeyListener alone would solve the problem. Clearly, more effort than that is required. I suggested KeyListener because I solved this exact same problem multiple times before, and KeyListener was an important part of the solution."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682024718,"post_id":76066029,"comment_id":134155135,"body_markdown":"@davidalayachew *because I solved this exact same problem multiple times before*  - there is no problem so solve if you use the proper API. Using Actions and Key Bindings is the newer solution used by all Swing components. I suggest you also read the tutorial I linked to so you can better understand the benefits of this approach.","body":"@davidalayachew <i>because I solved this exact same problem multiple times before</i>  - there is no problem so solve if you use the proper API. Using Actions and Key Bindings is the newer solution used by all Swing components. I suggest you also read the tutorial I linked to so you can better understand the benefits of this approach."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682028510,"post_id":76066029,"comment_id":134155740,"body_markdown":"@camickr I understand the benefits of the approach just fine, I have used bindings multiple times before as well. And when I say problem, I am trying to say &quot;achieve a specific functionality&quot;. I am not saying that Key Bindings are in any way problematic, or that they are somehow incapable of solving this problem. I brought up KeyListener because it is a perfectly serviceable solution that is easy to explain and meets basic needs. When I wrote my first comment, I was very much aware of the fact that the same could be achieved using Key Bindings.","body":"@camickr I understand the benefits of the approach just fine, I have used bindings multiple times before as well. And when I say problem, I am trying to say &quot;achieve a specific functionality&quot;. I am not saying that Key Bindings are in any way problematic, or that they are somehow incapable of solving this problem. I brought up KeyListener because it is a perfectly serviceable solution that is easy to explain and meets basic needs. When I wrote my first comment, I was very much aware of the fact that the same could be achieved using Key Bindings."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1682028780,"post_id":76066029,"comment_id":134155770,"body_markdown":"@GrahamMeehan since everyone feels so strongly against using KeyListener, I will type up a solution instead that uses Key Bindings","body":"@GrahamMeehan since everyone feels so strongly against using KeyListener, I will type up a solution instead that uses Key Bindings"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1682030037,"post_id":76066029,"comment_id":134155934,"body_markdown":"@davidalayachew There was no reason to suggest using a KeyListener since Key Bindings is the preferred Swing solution. We attempt to answer question with with current Swing design approaches. There was no reason for you to suggest a KeyListener to confuse the issue (or do continue to dwell on the point)  I already gave the solution in my first comment. Have you not yet read the tutorial? Swing will built the Key Bindings for you.","body":"@davidalayachew There was no reason to suggest using a KeyListener since Key Bindings is the preferred Swing solution. We attempt to answer question with with current Swing design approaches. There was no reason for you to suggest a KeyListener to confuse the issue (or do continue to dwell on the point)  I already gave the solution in my first comment. Have you not yet read the tutorial? Swing will built the Key Bindings for you."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682030368,"post_id":76066029,"comment_id":134155986,"body_markdown":"[mcve] please .","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please ."},{"owner":{"account_id":14866375,"reputation":465,"user_id":10735351,"display_name":"Graham Meehan"},"score":0,"creation_date":1682030656,"post_id":76066029,"comment_id":134156024,"body_markdown":"@camickr - your first comment only links to a broad tutorial and mentions changing which letter I use for the shortcut, which is not something I have flexibility over due to the business requirements imposed on me.","body":"@camickr - your first comment only links to a broad tutorial and mentions changing which letter I use for the shortcut, which is not something I have flexibility over due to the business requirements imposed on me."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682031478,"post_id":76066029,"comment_id":134156108,"body_markdown":"@camickr *&quot;We attempt to answer questions with current Swing design approaches&quot;* -- If this is the reason why I should not have suggested KeyListener in the first place, then I accept this reason. And when I say I am typing up a solution, I am not saying that your link doesn&#39;t provide the functionality they are aiming for. I am saying that a fully coded example similar to what the OP is trying to do would likely be helpful to both them and everyone else who sees this post, so I will do that. In fact, I am going to be linking the tutorial you linked in my answer as well.","body":"@camickr <i>&quot;We attempt to answer questions with current Swing design approaches&quot;</i> -- If this is the reason why I should not have suggested KeyListener in the first place, then I accept this reason. And when I say I am typing up a solution, I am not saying that your link doesn&#39;t provide the functionality they are aiming for. I am saying that a fully coded example similar to what the OP is trying to do would likely be helpful to both them and everyone else who sees this post, so I will do that. In fact, I am going to be linking the tutorial you linked in my answer as well."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1682042545,"post_id":76066029,"comment_id":134157285,"body_markdown":"Answer has been posted.","body":"Answer has been posted."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1682052334,"post_id":76066029,"comment_id":134158113,"body_markdown":"@GrahamMeehan *...and mentions changing which letter I use for the shortcut,* - the suggestion was to use a mnemonic. The logical choice is to do what a standard UI does an pick a mnemonic that matches the text of the button. However, that is not a requirement. I guess you didn&#39;t try it. All you had to do was copy the demo code and change a single character for one of the mnemonics the see if &quot;Alt-V&quot; would work. We should not have to explain the code in the tutorial. If there is something about the tutorial you don&#39;t understand then ask a question. We can&#39;t guess what you might find confusing.","body":"@GrahamMeehan <i>...and mentions changing which letter I use for the shortcut,</i> - the suggestion was to use a mnemonic. The logical choice is to do what a standard UI does an pick a mnemonic that matches the text of the button. However, that is not a requirement. I guess you didn&#39;t try it. All you had to do was copy the demo code and change a single character for one of the mnemonics the see if &quot;Alt-V&quot; would work. We should not have to explain the code in the tutorial. If there is something about the tutorial you don&#39;t understand then ask a question. We can&#39;t guess what you might find confusing."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682093019,"creation_date":1682042531,"answer_id":76069389,"question_id":76066029,"body_markdown":"## Short Answer ##\r\n\r\nYou should use Mnemonics. They don&#39;t run into the problem you ran into because, with Mnemonics, holding Alt+V is the same thing as holding the button with your computer mouse. The button remains pressed until you let go of V, regardless of if you let go of Alt before or after V.\r\n\r\nThat solves the multiple click problem, but please note that that means that ***input only happens when you let go of the button, not when you push it down***. I think that I am solving your actual issue here ([sounds like an XY Problem][1]), but please note that ***the button event will not occur on push, but on release***.\r\n\r\n---\r\n\r\n## Long Answer ##\r\n\r\nSo, what you are trying to do is to have your button be triggered only once upon key press. If that is your goal, then we can accomplish that more easily using Mnemonics and [`javax.swing.Action`][2]. Following the suggestion from [`@camickr`][3] above, I would also encourage you to look at the [&quot;How to Use Actions&quot; tutorial][4] provided by Oracle themselves. Their Swing tutorials are excellent.\r\n\r\nSo to begin, Swing provides developers the ability to attach a [Mnemonic][5] to many of the key Swing components. Mnemonics are an accessibility feature that allows the user to perform more complex actions through key combinations. In Swing, that is commonly done via Alt+SomeKey. Mnemonics can be activated by attaching an `Action` to the component that you want to make easily accessible.\r\n\r\nAccording to the [Action supported Swing Components diagram][6], all buttons that subtype [`JComponent`][7] have the ability to use Mnemonics (***PLEASE NOTE that not all Swing components can use Mnemonics***). They each have a method on them called `setAction(Action action)`. The method definition for it is [`AbstractButton::setAction`][8]. And since [`JButton`][9] is a child of `AbstractButton`, that means that `JButton` also has this method too.\r\n\r\nSo, we know how to achieve what we want (using an `Action` on a `JButton`) and we know that it is possible for buttons (according to the diagram I listed above). Let&#39;s build the `Action`.\r\n\r\nIn order to make a button get triggered by an `Action`, we must first create an `Action`, set the Mnemonic on the Action, then attach it to the button via `JButton::setAction`. Here is a quick and dirty demo that shows that off.\r\n\r\n```java\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JButton;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.Action;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class Example1\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n    \r\n      JFrame frame = new JFrame();\r\n   \r\n      JButton button = new JButton();\r\n   \r\n      Action action = \r\n         new AbstractAction()\r\n         {\r\n         \r\n            public void actionPerformed(ActionEvent event)\r\n            {\r\n            \r\n               System.out.println(&quot;You pressed Alt-V&quot;);\r\n            \r\n            }\r\n         \r\n         };\r\n   \r\n      action.putValue(Action.NAME, &quot;This is the button text -- press Alt-V&quot;);\r\n   \r\n      action.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_V);\r\n   \r\n      button.setAction(action);\r\n   \r\n      frame.getContentPane().add(button);\r\n   \r\n      frame.pack();\r\n   \r\n      frame.setVisible(true);\r\n   \r\n    \r\n   }\r\n\r\n}\r\n```\r\n\r\nAs you can see if you run the above, it creates a tiny little `JFrame` holding nothing but a button. If you press Alt-V when the window is in focus, you can trigger the button presses. And, by default, the keyboard combination doesn&#39;t run into any of the potholes that InputMap and ActionMap brought you into.\r\n\r\nThe code is mostly self-explanatory, but the 4 lines that matter most are the 2 [`Action::putValue`][10] lines, the `AbstractButton::setAction` line, and the line inside of the `actionPerformed(ActionEvent event)` method.\r\n\r\nThe `actionPerformed(ActionEvent event)` method is what happens whenever the button is pressed. The `Action::putValue` lines configure the action. The first one specifies the text that should show up on the `JButton`. The second one attaches the keyboard combination to the `Action` itself. Then, we attach this `Action` to the `JButton` using the `setAction(Action action)` method. Once that is done, then the `JButton` can be triggered by using `Alt-V`.\r\n\r\nHere is a more complicated example that shows how this might look when nested inside of multiple `JPanel` instances.\r\n\r\n```java\r\n\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.Action;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.CardLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.KeyEvent;\r\n\r\npublic class KeyboardControls\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      new KeyboardControls();\r\n   \r\n   }\r\n \r\n   public KeyboardControls()\r\n   {\r\n   \r\n      final JFrame frame = makeBasicJFrame();\r\n   \r\n      final JPanel parentPanel = makeParentPanel();\r\n   \r\n      frame.add(parentPanel);\r\n   \r\n      frame.setVisible(true);\r\n   \r\n   }\r\n \r\n   private JFrame makeBasicJFrame()\r\n   {\r\n   \r\n      final JFrame frame = new JFrame();\r\n   \r\n      frame.setSize(500, 500);\r\n      frame.setLocationByPlatform(true);\r\n      frame.setTitle(&quot;Keyboard Controls&quot;);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n   \r\n      return frame;\r\n   \r\n   }\r\n \r\n   private JPanel makeParentPanel()\r\n   {\r\n   \r\n      final JPanel parentPanel = new JPanel();\r\n      parentPanel.setLayout(new BorderLayout());\r\n   \r\n      final CardLayout cardLayout = new CardLayout();\r\n   \r\n      final JPanel cardLayoutPanel = makeCardLayoutPanel(cardLayout);\r\n   \r\n      final Action nextAction =\r\n               new AbstractAction()\r\n               {\r\n               \r\n                  public void actionPerformed(final ActionEvent event)\r\n                  {\r\n                  \r\n                     cardLayout.next(cardLayoutPanel);\r\n                  \r\n                  }\r\n               \r\n               };\r\n   \r\n      final JButton nextButton = makeNextButton(nextAction);\r\n   \r\n      parentPanel.add(cardLayoutPanel, BorderLayout.CENTER);\r\n      parentPanel.add(nextButton, BorderLayout.SOUTH);\r\n   \r\n      return parentPanel;\r\n   \r\n   }\r\n \r\n   private void addPageToGivenPanel(final JPanel givenPanel, final String pageName)\r\n   {\r\n   \r\n      final JPanel pagePanel = new JPanel();\r\n   \r\n      final JLabel pageLabel = new JLabel();\r\n      pageLabel.setText(pageName);\r\n   \r\n      pagePanel.add(pageLabel);\r\n   \r\n      givenPanel.add(pagePanel, pageName);\r\n   \r\n   }\r\n \r\n   private JPanel makeCardLayoutPanel(final CardLayout cardLayout)\r\n   {\r\n   \r\n      final JPanel cardLayoutPanel = new JPanel();\r\n   \r\n      cardLayoutPanel.setLayout(cardLayout);\r\n   \r\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_1&quot;);\r\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_2&quot;);\r\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_3&quot;);\r\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_4&quot;);\r\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_5&quot;);\r\n   \r\n      return cardLayoutPanel;\r\n   \r\n   }\r\n \r\n   private JButton makeNextButton(final Action nextAction)\r\n   {\r\n   \r\n      final JButton nextButton = new JButton();\r\n      nextButton.setAction(nextAction);\r\n   \r\n      final String buttonText = &quot;NEXT -- Press Alt-V on your keyboard&quot;;\r\n   \r\n      nextAction.putValue(Action.NAME, buttonText);\r\n      nextAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_V);\r\n   \r\n      return nextButton;\r\n   \r\n   }\r\n \r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XY_problem\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html\r\n  [3]: https://stackoverflow.com/questions/76066029/how-to-make-altv-only-process-one-time-when-held-down-then-released#comment134152932_76066029\r\n  [4]: https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\r\n  [5]: https://stackoverflow.com/questions/13614887/what-is-a-mnemonic-in-java#13614933\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html#buttonActions\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JComponent.html\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/AbstractButton.html#setAction(javax.swing.Action)\r\n  [9]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JButton.html\r\n  [10]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html#putValue(java.lang.String,java.lang.Object)","title":"How to make Alt+V only process one time when held down then released?","body":"<h2>Short Answer</h2>\n<p>You should use Mnemonics. They don't run into the problem you ran into because, with Mnemonics, holding Alt+V is the same thing as holding the button with your computer mouse. The button remains pressed until you let go of V, regardless of if you let go of Alt before or after V.</p>\n<p>That solves the multiple click problem, but please note that that means that <em><strong>input only happens when you let go of the button, not when you push it down</strong></em>. I think that I am solving your actual issue here (<a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">sounds like an XY Problem</a>), but please note that <em><strong>the button event will not occur on push, but on release</strong></em>.</p>\n<hr />\n<h2>Long Answer</h2>\n<p>So, what you are trying to do is to have your button be triggered only once upon key press. If that is your goal, then we can accomplish that more easily using Mnemonics and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html\" rel=\"nofollow noreferrer\"><code>javax.swing.Action</code></a>. Following the suggestion from <a href=\"https://stackoverflow.com/questions/76066029/how-to-make-altv-only-process-one-time-when-held-down-then-released#comment134152932_76066029\"><code>@camickr</code></a> above, I would also encourage you to look at the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">&quot;How to Use Actions&quot; tutorial</a> provided by Oracle themselves. Their Swing tutorials are excellent.</p>\n<p>So to begin, Swing provides developers the ability to attach a <a href=\"https://stackoverflow.com/questions/13614887/what-is-a-mnemonic-in-java#13614933\">Mnemonic</a> to many of the key Swing components. Mnemonics are an accessibility feature that allows the user to perform more complex actions through key combinations. In Swing, that is commonly done via Alt+SomeKey. Mnemonics can be activated by attaching an <code>Action</code> to the component that you want to make easily accessible.</p>\n<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html#buttonActions\" rel=\"nofollow noreferrer\">Action supported Swing Components diagram</a>, all buttons that subtype <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\"><code>JComponent</code></a> have the ability to use Mnemonics (<em><strong>PLEASE NOTE that not all Swing components can use Mnemonics</strong></em>). They each have a method on them called <code>setAction(Action action)</code>. The method definition for it is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/AbstractButton.html#setAction(javax.swing.Action)\" rel=\"nofollow noreferrer\"><code>AbstractButton::setAction</code></a>. And since <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JButton.html\" rel=\"nofollow noreferrer\"><code>JButton</code></a> is a child of <code>AbstractButton</code>, that means that <code>JButton</code> also has this method too.</p>\n<p>So, we know how to achieve what we want (using an <code>Action</code> on a <code>JButton</code>) and we know that it is possible for buttons (according to the diagram I listed above). Let's build the <code>Action</code>.</p>\n<p>In order to make a button get triggered by an <code>Action</code>, we must first create an <code>Action</code>, set the Mnemonic on the Action, then attach it to the button via <code>JButton::setAction</code>. Here is a quick and dirty demo that shows that off.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.JButton;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\npublic class Example1\n{\n\n   public static void main(String[] args)\n   {\n    \n      JFrame frame = new JFrame();\n   \n      JButton button = new JButton();\n   \n      Action action = \n         new AbstractAction()\n         {\n         \n            public void actionPerformed(ActionEvent event)\n            {\n            \n               System.out.println(&quot;You pressed Alt-V&quot;);\n            \n            }\n         \n         };\n   \n      action.putValue(Action.NAME, &quot;This is the button text -- press Alt-V&quot;);\n   \n      action.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_V);\n   \n      button.setAction(action);\n   \n      frame.getContentPane().add(button);\n   \n      frame.pack();\n   \n      frame.setVisible(true);\n   \n    \n   }\n\n}\n</code></pre>\n<p>As you can see if you run the above, it creates a tiny little <code>JFrame</code> holding nothing but a button. If you press Alt-V when the window is in focus, you can trigger the button presses. And, by default, the keyboard combination doesn't run into any of the potholes that InputMap and ActionMap brought you into.</p>\n<p>The code is mostly self-explanatory, but the 4 lines that matter most are the 2 <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/Action.html#putValue(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Action::putValue</code></a> lines, the <code>AbstractButton::setAction</code> line, and the line inside of the <code>actionPerformed(ActionEvent event)</code> method.</p>\n<p>The <code>actionPerformed(ActionEvent event)</code> method is what happens whenever the button is pressed. The <code>Action::putValue</code> lines configure the action. The first one specifies the text that should show up on the <code>JButton</code>. The second one attaches the keyboard combination to the <code>Action</code> itself. Then, we attach this <code>Action</code> to the <code>JButton</code> using the <code>setAction(Action action)</code> method. Once that is done, then the <code>JButton</code> can be triggered by using <code>Alt-V</code>.</p>\n<p>Here is a more complicated example that shows how this might look when nested inside of multiple <code>JPanel</code> instances.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport java.awt.BorderLayout;\nimport java.awt.CardLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\npublic class KeyboardControls\n{\n\n   public static void main(String[] args)\n   {\n   \n      new KeyboardControls();\n   \n   }\n \n   public KeyboardControls()\n   {\n   \n      final JFrame frame = makeBasicJFrame();\n   \n      final JPanel parentPanel = makeParentPanel();\n   \n      frame.add(parentPanel);\n   \n      frame.setVisible(true);\n   \n   }\n \n   private JFrame makeBasicJFrame()\n   {\n   \n      final JFrame frame = new JFrame();\n   \n      frame.setSize(500, 500);\n      frame.setLocationByPlatform(true);\n      frame.setTitle(&quot;Keyboard Controls&quot;);\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n   \n      return frame;\n   \n   }\n \n   private JPanel makeParentPanel()\n   {\n   \n      final JPanel parentPanel = new JPanel();\n      parentPanel.setLayout(new BorderLayout());\n   \n      final CardLayout cardLayout = new CardLayout();\n   \n      final JPanel cardLayoutPanel = makeCardLayoutPanel(cardLayout);\n   \n      final Action nextAction =\n               new AbstractAction()\n               {\n               \n                  public void actionPerformed(final ActionEvent event)\n                  {\n                  \n                     cardLayout.next(cardLayoutPanel);\n                  \n                  }\n               \n               };\n   \n      final JButton nextButton = makeNextButton(nextAction);\n   \n      parentPanel.add(cardLayoutPanel, BorderLayout.CENTER);\n      parentPanel.add(nextButton, BorderLayout.SOUTH);\n   \n      return parentPanel;\n   \n   }\n \n   private void addPageToGivenPanel(final JPanel givenPanel, final String pageName)\n   {\n   \n      final JPanel pagePanel = new JPanel();\n   \n      final JLabel pageLabel = new JLabel();\n      pageLabel.setText(pageName);\n   \n      pagePanel.add(pageLabel);\n   \n      givenPanel.add(pagePanel, pageName);\n   \n   }\n \n   private JPanel makeCardLayoutPanel(final CardLayout cardLayout)\n   {\n   \n      final JPanel cardLayoutPanel = new JPanel();\n   \n      cardLayoutPanel.setLayout(cardLayout);\n   \n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_1&quot;);\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_2&quot;);\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_3&quot;);\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_4&quot;);\n      addPageToGivenPanel(cardLayoutPanel, &quot;PAGE_5&quot;);\n   \n      return cardLayoutPanel;\n   \n   }\n \n   private JButton makeNextButton(final Action nextAction)\n   {\n   \n      final JButton nextButton = new JButton();\n      nextButton.setAction(nextAction);\n   \n      final String buttonText = &quot;NEXT -- Press Alt-V on your keyboard&quot;;\n   \n      nextAction.putValue(Action.NAME, buttonText);\n      nextAction.putValue(Action.MNEMONIC_KEY, KeyEvent.VK_V);\n   \n      return nextButton;\n   \n   }\n \n}\n</code></pre>\n"}],"owner":{"account_id":14866375,"reputation":465,"user_id":10735351,"display_name":"Graham Meehan"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76069389,"answer_count":1,"score":-1,"last_activity_date":1682265464,"creation_date":1682005884,"question_id":76066029,"body_markdown":"I have a keyboard shortcut in my Java Swing application to save some inputs to a server and go to the next screen if the user presses Alt+V. The action is tied to a JButton, which can alternatively be clicked to save/proceed. \r\n\r\nI found that when Alt+V was held down, it triggered the action multiple times instead of just once, using the following code:\r\n\r\n    proceedBttn.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\r\n                .put(KeyStroke.getKeyStroke(KeyEvent.VK_V, InputEvent.ALT_DOWN_MASK), &quot;proceedBtn&quot;);\r\n\r\nMy thought was to fix with the following, which instead only triggers the action on release of the keyboard shortcut:\r\n\r\n    proceedBttn().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\r\n                .put(KeyStroke.getKeyStroke(KeyEvent.VK_V, InputEvent.ALT_DOWN_MASK, true), &quot;proceedBtn&quot;);\r\n\r\nHowever, the above code only triggers if the user is still holding Alt when they let go of V. When a user types Alt+V quickly, it&#39;s common that they let go of Alt prior to V (or at the same time), which causes the action not to trigger at all.\r\n\r\nIs there a good Java-native option to handle this problem, rather than some potentially complex latch logic on every shortcut in my application?\r\n\r\n\r\n\r\n","title":"How to make Alt+V only process one time when held down then released?","body":"<p>I have a keyboard shortcut in my Java Swing application to save some inputs to a server and go to the next screen if the user presses Alt+V. The action is tied to a JButton, which can alternatively be clicked to save/proceed.</p>\n<p>I found that when Alt+V was held down, it triggered the action multiple times instead of just once, using the following code:</p>\n<pre><code>proceedBttn.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n            .put(KeyStroke.getKeyStroke(KeyEvent.VK_V, InputEvent.ALT_DOWN_MASK), &quot;proceedBtn&quot;);\n</code></pre>\n<p>My thought was to fix with the following, which instead only triggers the action on release of the keyboard shortcut:</p>\n<pre><code>proceedBttn().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW)\n            .put(KeyStroke.getKeyStroke(KeyEvent.VK_V, InputEvent.ALT_DOWN_MASK, true), &quot;proceedBtn&quot;);\n</code></pre>\n<p>However, the above code only triggers if the user is still holding Alt when they let go of V. When a user types Alt+V quickly, it's common that they let go of Alt prior to V (or at the same time), which causes the action not to trigger at all.</p>\n<p>Is there a good Java-native option to handle this problem, rather than some potentially complex latch logic on every shortcut in my application?</p>\n"},{"tags":["java","assert","assertion"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682265231,"post_id":76069995,"comment_id":134184459,"body_markdown":"Note that the `assert` statement is not meant to write tests, but to write inline assertions to check invariants of your code. If you want to write assertions in tests, you should use the appropriate assertion methods from your test framework.","body":"Note that the <code>assert</code> statement is not meant to write tests, but to write inline assertions to check invariants of your code. If you want to write assertions in tests, you should use the appropriate assertion methods from your test framework."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682053341,"creation_date":1682053341,"answer_id":76070034,"question_id":76069995,"body_markdown":"You are modifying the instance field `currentSaving` in the method, so calling `getWorkingMonth()` a second time will return `0`.\r\n\r\nAvoid doing this if you want consistent results. You could use a local variable instead.\r\n\r\n```java\r\npublic int getWorkingMonth() {\r\n    double Saving = monthlySaving * (annualSalary / 12);\r\n    int months = 0;\r\n    double curr = currentSaving;\r\n    while (curr &lt; pensionTarget) {\r\n        curr += Saving + (curr * (interestRate / 12));\r\n        months++;\r\n    }\r\n    return months;\r\n}\r\n```","title":"Function returns correct value when printed but fails assertion","body":"<p>You are modifying the instance field <code>currentSaving</code> in the method, so calling <code>getWorkingMonth()</code> a second time will return <code>0</code>.</p>\n<p>Avoid doing this if you want consistent results. You could use a local variable instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getWorkingMonth() {\n    double Saving = monthlySaving * (annualSalary / 12);\n    int months = 0;\n    double curr = currentSaving;\n    while (curr &lt; pensionTarget) {\n        curr += Saving + (curr * (interestRate / 12));\n        months++;\n    }\n    return months;\n}\n</code></pre>\n"}],"owner":{"account_id":10656065,"reputation":3,"user_id":7845586,"display_name":"Vikraman Arumugam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76070034,"answer_count":1,"score":-1,"last_activity_date":1682265163,"creation_date":1682052726,"question_id":76069995,"body_markdown":"I need to write a code for a pension plan.\r\n\r\nThe main function is such\r\n \r\n```\r\ndouble pensionTarget = 240000;\r\ndouble currentSaving = 0;\r\ndouble annualSalary = 40000;\r\ndouble monthlySaving = 0.1;\r\ndouble interestRate = 0.04;\r\n\r\nPensionPlanner fp = new PensionPlanner(pensionTarget, currentSaving,\r\n        annualSalary, monthlySaving, interestRate);\r\n\r\nSystem.out.println(&quot;Example: Test case 1 working months: &quot; + fp.getWorkingMonth());\r\nassert fp.getWorkingMonth() == 368: &quot;Failed test case 1: Expected working months to be 368, but got &quot; + fp.getWorkingMonth();\r\n```\r\nThe getWorkingMonth() function in the PensionPlanner class is as such\r\n\r\n\r\n```\r\npublic int getWorkingMonth() {\r\n    double Saving = monthlySaving * (annualSalary / 12);\r\n    int months = 0;\r\n\r\n    while (currentSaving &lt; pensionTarget) {\r\n        currentSaving += Saving + (currentSaving * (interestRate / 12));\r\n        months++;\r\n    }\r\n\r\n    return months;\r\n}\r\n```\r\nI keep failing the assertion test.\r\n\r\nI have debugged the code and made sure the values are calculated correctly. In the main function this line, does give the expected number of months,\r\n\r\n```\r\nSystem.out.println(&quot;Example: Test case 1 working months: &quot; + fp.getWorkingMonth());\r\n```\r\nBut it fails the assertion and the function getWorkingMonth() returns a value of 0 in this line\r\n\r\n```\r\nassert fp.getWorkingMonth() == 368: &quot;Failed test case 1: Expected working months to be 368, but got &quot; + fp.getWorkingMonth();\r\n```\r\nI don&#39;t know what I&#39;m doing wrong, and would appreciate any help.","title":"Function returns correct value when printed but fails assertion","body":"<p>I need to write a code for a pension plan.</p>\n<p>The main function is such</p>\n<pre><code>double pensionTarget = 240000;\ndouble currentSaving = 0;\ndouble annualSalary = 40000;\ndouble monthlySaving = 0.1;\ndouble interestRate = 0.04;\n\nPensionPlanner fp = new PensionPlanner(pensionTarget, currentSaving,\n        annualSalary, monthlySaving, interestRate);\n\nSystem.out.println(&quot;Example: Test case 1 working months: &quot; + fp.getWorkingMonth());\nassert fp.getWorkingMonth() == 368: &quot;Failed test case 1: Expected working months to be 368, but got &quot; + fp.getWorkingMonth();\n</code></pre>\n<p>The getWorkingMonth() function in the PensionPlanner class is as such</p>\n<pre><code>public int getWorkingMonth() {\n    double Saving = monthlySaving * (annualSalary / 12);\n    int months = 0;\n\n    while (currentSaving &lt; pensionTarget) {\n        currentSaving += Saving + (currentSaving * (interestRate / 12));\n        months++;\n    }\n\n    return months;\n}\n</code></pre>\n<p>I keep failing the assertion test.</p>\n<p>I have debugged the code and made sure the values are calculated correctly. In the main function this line, does give the expected number of months,</p>\n<pre><code>System.out.println(&quot;Example: Test case 1 working months: &quot; + fp.getWorkingMonth());\n</code></pre>\n<p>But it fails the assertion and the function getWorkingMonth() returns a value of 0 in this line</p>\n<pre><code>assert fp.getWorkingMonth() == 368: &quot;Failed test case 1: Expected working months to be 368, but got &quot; + fp.getWorkingMonth();\n</code></pre>\n<p>I don't know what I'm doing wrong, and would appreciate any help.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":3,"creation_date":1682126825,"post_id":76077584,"comment_id":134171391,"body_markdown":"Your loop re-assigns the `ss` variable each time through, blowing away all of your work from the previous call. Don&#39;t do that.","body":"Your loop re-assigns the <code>ss</code> variable each time through, blowing away all of your work from the previous call. Don&#39;t do that."},{"owner":{"account_id":26254848,"reputation":21,"user_id":19927038,"display_name":"xercase"},"score":0,"creation_date":1682131655,"post_id":76077584,"comment_id":134171656,"body_markdown":"Thanks for pointing that out! It makes sense now why I kept getting nothing. I removed that statement and initialized ss in the constructor instead and that did the trick.","body":"Thanks for pointing that out! It makes sense now why I kept getting nothing. I removed that statement and initialized ss in the constructor instead and that did the trick."}],"owner":{"account_id":26254848,"reputation":21,"user_id":19927038,"display_name":"xercase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682264999,"creation_date":1682126448,"question_id":76077584,"body_markdown":"My task is to print out the list of files in the current directory.\r\nHere is my current code:\r\n\r\n```\r\nclass StringSet {\r\n    private String[] ss;\r\n\r\n    File currentDirectory = new File(&quot;.&quot;);\r\n    File[] dirFiles = currentDirectory.listFiles();\r\n\r\n    public StringSet() {\r\n        StringToFile(0, dirFiles.length);\r\n       \r\n\r\n    }\r\n\r\n    public void StringToFile(int start, int end) {\r\n        /*ss = new String[dirFiles.length];\r\n        for (int i = 0; i &lt; dirFiles.length; i++) {\r\n            if (dirFiles[i].isFile())\r\n                ss[i] = dirFiles[i].getPath();\r\n        }\r\n    }*/\r\n        ss = new String[dirFiles.length];\r\n        if (start == end)\r\n            return;\r\n\r\n        if (dirFiles[start].isFile())\r\n            ss[start] = dirFiles[start].getPath();\r\n\r\n        StringToFile(start + 1, end);\r\n    }\r\n\r\n    public String toString() {\r\n        String s=&quot;&quot;;\r\n        for (int i=0; i&lt;ss.length; i++)\r\n            if (ss[i]!=null)\r\n                s+=ss[i]+&quot;\\n&quot;;\r\n        if (s.length()&gt;0)\r\n            s = s.substring(0,s.length()-1);\r\n        return s;\r\n    }\r\n```\r\n\r\n\r\nThe `for` loop that I commented here, produces the desired result of assigning the current directory&#39;s pathnames to `ss[i]`. The `toString()` method works off of that and produces all of the filenames. The uncommented code depicts the recursive approach, however it does not seem to be assigning the pathnames to `ss` like the `for` loop does, unless I specifically add a `println()` in the method, which isn&#39;t what I want. It produces nothing. How would I make it achieve the same effect as the for loop?","title":"How to initialize the state of a class using recursion","body":"<p>My task is to print out the list of files in the current directory.\nHere is my current code:</p>\n<pre><code>class StringSet {\n    private String[] ss;\n\n    File currentDirectory = new File(&quot;.&quot;);\n    File[] dirFiles = currentDirectory.listFiles();\n\n    public StringSet() {\n        StringToFile(0, dirFiles.length);\n       \n\n    }\n\n    public void StringToFile(int start, int end) {\n        /*ss = new String[dirFiles.length];\n        for (int i = 0; i &lt; dirFiles.length; i++) {\n            if (dirFiles[i].isFile())\n                ss[i] = dirFiles[i].getPath();\n        }\n    }*/\n        ss = new String[dirFiles.length];\n        if (start == end)\n            return;\n\n        if (dirFiles[start].isFile())\n            ss[start] = dirFiles[start].getPath();\n\n        StringToFile(start + 1, end);\n    }\n\n    public String toString() {\n        String s=&quot;&quot;;\n        for (int i=0; i&lt;ss.length; i++)\n            if (ss[i]!=null)\n                s+=ss[i]+&quot;\\n&quot;;\n        if (s.length()&gt;0)\n            s = s.substring(0,s.length()-1);\n        return s;\n    }\n</code></pre>\n<p>The <code>for</code> loop that I commented here, produces the desired result of assigning the current directory's pathnames to <code>ss[i]</code>. The <code>toString()</code> method works off of that and produces all of the filenames. The uncommented code depicts the recursive approach, however it does not seem to be assigning the pathnames to <code>ss</code> like the <code>for</code> loop does, unless I specifically add a <code>println()</code> in the method, which isn't what I want. It produces nothing. How would I make it achieve the same effect as the for loop?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1682257050,"post_id":76085109,"comment_id":134183280,"body_markdown":"Well, you can check the number of connections in mysqldb.","body":"Well, you can check the number of connections in mysqldb."}],"answers":[{"tags":[],"owner":{"account_id":26268359,"reputation":46,"user_id":19938590,"display_name":"sachinM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682257311,"creation_date":1682257311,"answer_id":76085201,"question_id":76085109,"body_markdown":"Seems like a logical issue in the loginUsersIntoStore() method. The loginUsersIntoStore() method is recursively calling itself in the found block, which can lead to an infinite loop and may cause the program to crash. The pStatement.executeQuery() method is being called twice in the found block, which may not be necessary. To fix this issue you should remove the recursive call to loginUsersIntoStore() in the found block and only call pStatement.executeQuery() once.  \r\n  \r\n\r\n\r\n\r\n    public void loginUsersIntoStore(User user) \r\n    throws SQLException { \r\n    connection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\r\n    String sql = &quot;SELECT id FROM users WHERE username=? AND password=?&quot;;\r\n    pStatement = connection.prepareStatement(sql);\r\n    pStatement.setString(1, user.getUsername());\r\n    pStatement.setString(2, user.getPassword());\r\n    ResultSet resultSet = pStatement.executeQuery();\r\n    boolean found = false;\r\n\r\n    if (resultSet.next()) {\r\n        int id = resultSet.getInt(&quot;ID&quot;);\r\n        if (id != 0) {\r\n            found = true;\r\n        }\r\n    }\r\n\r\n    if (found) {\r\n        System.out.println(&quot;Login was successful!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Invalid login credentials&quot;);\r\n    }\r\n    pStatement.close();\r\n    connection.close();\r\n    }    \r\n\r\n\r\n\r\n\r\ncheck that the credentials entered by the user in the login() method are being passed correctly to the loginUsersIntoStore() method.","title":"How to resolve the error too many connections?","body":"<p>Seems like a logical issue in the loginUsersIntoStore() method. The loginUsersIntoStore() method is recursively calling itself in the found block, which can lead to an infinite loop and may cause the program to crash. The pStatement.executeQuery() method is being called twice in the found block, which may not be necessary. To fix this issue you should remove the recursive call to loginUsersIntoStore() in the found block and only call pStatement.executeQuery() once.</p>\n<pre><code>public void loginUsersIntoStore(User user) \nthrows SQLException { \nconnection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\nString sql = &quot;SELECT id FROM users WHERE username=? AND password=?&quot;;\npStatement = connection.prepareStatement(sql);\npStatement.setString(1, user.getUsername());\npStatement.setString(2, user.getPassword());\nResultSet resultSet = pStatement.executeQuery();\nboolean found = false;\n\nif (resultSet.next()) {\n    int id = resultSet.getInt(&quot;ID&quot;);\n    if (id != 0) {\n        found = true;\n    }\n}\n\nif (found) {\n    System.out.println(&quot;Login was successful!&quot;);\n} else {\n    System.out.println(&quot;Invalid login credentials&quot;);\n}\npStatement.close();\nconnection.close();\n}    \n</code></pre>\n<p>check that the credentials entered by the user in the login() method are being passed correctly to the loginUsersIntoStore() method.</p>\n"}],"owner":{"account_id":26768049,"reputation":7,"user_id":20364883,"display_name":"Raduci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682264816,"accepted_answer_id":76085201,"answer_count":1,"score":0,"last_activity_date":1682264923,"creation_date":1682256269,"question_id":76085109,"body_markdown":"This code is part of DBConnector class:\r\n```\r\npublic void loginUsersIntoStore(User user) throws SQLException{\r\n    connection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\r\n    String sql = &quot;SELECT id FROM users WHERE username=? AND password=?&quot;;\r\n    pStatement = connection.prepareStatement(sql);\r\n    pStatement.setString(1, user.getUsername());\r\n    pStatement.setString(2, user.getPassword());\r\n\r\n    ResultSet resultSet = pStatement.executeQuery();\r\n    boolean found = false;\r\n\r\n    if(resultSet.next()) {\r\n        int id = resultSet.getInt(&quot;ID&quot;);\r\n        if (id != 0) {\r\n            found = true;\r\n        }\r\n    }\r\n\r\n    if(found){\r\n        loginUsersIntoStore(user);\r\n        pStatement.executeQuery();\r\n        pStatement.close();\r\n        connection.close();\r\n    }\r\n    if(!found){\r\n        System.out.println(&quot;Invalid login credentials&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis part of code is where I call the method in Main.\r\n```\r\nprivate static void login(UserManager userManager, Scanner input) throws SQLException {\r\n    System.out.print(&quot;Enter username: &quot;);\r\n    String userName = input.next();\r\n\r\n    System.out.print(&quot;Enter password: &quot;);\r\n    String password = input.next();\r\n\r\n    User user = new User(userName, password);\r\n    boolean isAuthenticated = userManager.authenticate(user);\r\n\r\n    if (isAuthenticated) {\r\n        DBConnector.getInstance().loginUsersIntoStore(user);\r\n        System.out.println(&quot;Login was successful!&quot;);\r\n\r\n    } else {\r\n        System.out.println(&quot;Invalid username or passwordl!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am trying to make an online store (console application), the product part works fine (where I add products to the database and then display them). When it comes to users part, it saves the users in the database, but I cannot login from there. If I close the app and run it again, and I try to login with users that exist in the database, it prints _&quot;Invalid username or password&quot;_.\r\n\r\nFirst, I forgot to close the connection and the statement. After I closed, nothing changes.\r\n","title":"How to resolve the error too many connections?","body":"<p>This code is part of DBConnector class:</p>\n<pre><code>public void loginUsersIntoStore(User user) throws SQLException{\n    connection = DriverManager.getConnection(JDBC_URL, USER, PASSWORD);\n    String sql = &quot;SELECT id FROM users WHERE username=? AND password=?&quot;;\n    pStatement = connection.prepareStatement(sql);\n    pStatement.setString(1, user.getUsername());\n    pStatement.setString(2, user.getPassword());\n\n    ResultSet resultSet = pStatement.executeQuery();\n    boolean found = false;\n\n    if(resultSet.next()) {\n        int id = resultSet.getInt(&quot;ID&quot;);\n        if (id != 0) {\n            found = true;\n        }\n    }\n\n    if(found){\n        loginUsersIntoStore(user);\n        pStatement.executeQuery();\n        pStatement.close();\n        connection.close();\n    }\n    if(!found){\n        System.out.println(&quot;Invalid login credentials&quot;);\n    }\n}\n</code></pre>\n<p>This part of code is where I call the method in Main.</p>\n<pre><code>private static void login(UserManager userManager, Scanner input) throws SQLException {\n    System.out.print(&quot;Enter username: &quot;);\n    String userName = input.next();\n\n    System.out.print(&quot;Enter password: &quot;);\n    String password = input.next();\n\n    User user = new User(userName, password);\n    boolean isAuthenticated = userManager.authenticate(user);\n\n    if (isAuthenticated) {\n        DBConnector.getInstance().loginUsersIntoStore(user);\n        System.out.println(&quot;Login was successful!&quot;);\n\n    } else {\n        System.out.println(&quot;Invalid username or passwordl!&quot;);\n    }\n}\n</code></pre>\n<p>I am trying to make an online store (console application), the product part works fine (where I add products to the database and then display them). When it comes to users part, it saves the users in the database, but I cannot login from there. If I close the app and run it again, and I try to login with users that exist in the database, it prints <em>&quot;Invalid username or password&quot;</em>.</p>\n<p>First, I forgot to close the connection and the statement. After I closed, nothing changes.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682150506,"creation_date":1682150506,"answer_id":76078600,"question_id":76078576,"body_markdown":"You could use `Stream#map` to create the new `List` of DTOs from the `data` list, but there&#39;s not much that can be done to simplify the creation of the `EcomDto` objects.\r\n\r\n```java\r\nvar response = data.stream().map(obj -&gt; {\r\n\tEcomDto dto = new EcomDto();\r\n\tif (obj[0] != null) dto.setZeroIndexData((String) obj[0]);\r\n\tif (obj[1] != null) dto.setFirstIndexData((Long) obj[1]);\r\n    if (obj[2] != null) dto.setSecondIndexData((UserDefinedEnum) obj[2]);\r\n    return dto;\r\n}).toList();\r\n```","title":"Convert List&lt;Object[]&gt; to a user defined List objects List&lt;EcomDto&gt; in java 8","body":"<p>You could use <code>Stream#map</code> to create the new <code>List</code> of DTOs from the <code>data</code> list, but there's not much that can be done to simplify the creation of the <code>EcomDto</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var response = data.stream().map(obj -&gt; {\n    EcomDto dto = new EcomDto();\n    if (obj[0] != null) dto.setZeroIndexData((String) obj[0]);\n    if (obj[1] != null) dto.setFirstIndexData((Long) obj[1]);\n    if (obj[2] != null) dto.setSecondIndexData((UserDefinedEnum) obj[2]);\n    return dto;\n}).toList();\n</code></pre>\n"}],"owner":{"account_id":28377917,"reputation":23,"user_id":21705670,"display_name":"tkz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76078600,"answer_count":1,"score":2,"last_activity_date":1682264886,"creation_date":1682149975,"question_id":76078576,"body_markdown":"I have List&lt;Object[]&gt; data in which object array length is 7 and data of array are combination of different types. (i.e. string, date, enum and long)\r\n\r\nI have one DTO class (EcomDto.java) in which I want to set data which I read from above object[].\r\nI am doing it by using if else statement like:\r\n\r\n    List&lt;Object[]&gt; data=getActualData();//\r\n    List&lt;EcomDto&gt; response=new ArrayList&lt;&gt;();\r\n    EcomDto dto=null;\r\n    for(Object[] obj:data){\r\n     dto=new EcomDto();\r\n     if(obj[0]!=null){\r\n     dto.setZeroIndexData((String)obj[0]);\r\n    }\r\n    if(obj[1]!=null){\r\n     dto.setFirstIndexData((Long)obj[1]);\r\n    }\r\n    if(obj[2]!=null){\r\n     dto.setSecondIndexData((UserDefinedEnum)obj[2]);\r\n    }\r\n    }\r\n\r\n\r\nCan this be improved in some way?\r\n\r\nTried to do in stream way, but I am not much familiar with Java streams","title":"Convert List&lt;Object[]&gt; to a user defined List objects List&lt;EcomDto&gt; in java 8","body":"<p>I have List&lt;Object[]&gt; data in which object array length is 7 and data of array are combination of different types. (i.e. string, date, enum and long)</p>\n<p>I have one DTO class (EcomDto.java) in which I want to set data which I read from above object[].\nI am doing it by using if else statement like:</p>\n<pre><code>List&lt;Object[]&gt; data=getActualData();//\nList&lt;EcomDto&gt; response=new ArrayList&lt;&gt;();\nEcomDto dto=null;\nfor(Object[] obj:data){\n dto=new EcomDto();\n if(obj[0]!=null){\n dto.setZeroIndexData((String)obj[0]);\n}\nif(obj[1]!=null){\n dto.setFirstIndexData((Long)obj[1]);\n}\nif(obj[2]!=null){\n dto.setSecondIndexData((UserDefinedEnum)obj[2]);\n}\n}\n</code></pre>\n<p>Can this be improved in some way?</p>\n<p>Tried to do in stream way, but I am not much familiar with Java streams</p>\n"},{"tags":["java","video","xuggler"],"answers":[{"tags":[],"owner":{"account_id":190177,"reputation":10331,"user_id":429972,"accept_rate":67,"display_name":"jontro"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1322681777,"creation_date":1322681777,"answer_id":8331835,"question_id":8327847,"body_markdown":"Xuggler is complaining that it cannot find a converter for the BufferedImage.\r\n\r\nCreate the BufferedImage with `BufferedImage.TYPE_3BYTE_BGR` instead of `BufferedImage.TYPE_INT_RGB`\r\n\r\nSee http://wiki.xuggle.com/Encoding_Video_from_a_sequence_of_Images for more information","title":"Can&#39;t encode video with Xuggler","body":"<p>Xuggler is complaining that it cannot find a converter for the BufferedImage.</p>\n\n<p>Create the BufferedImage with <code>BufferedImage.TYPE_3BYTE_BGR</code> instead of <code>BufferedImage.TYPE_INT_RGB</code></p>\n\n<p>See <a href=\"http://wiki.xuggle.com/Encoding_Video_from_a_sequence_of_Images\" rel=\"noreferrer\">http://wiki.xuggle.com/Encoding_Video_from_a_sequence_of_Images</a> for more information</p>\n"}],"owner":{"account_id":329794,"reputation":5980,"user_id":653511,"accept_rate":86,"display_name":"stemm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4314,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8331835,"answer_count":1,"score":4,"last_activity_date":1682264845,"creation_date":1322664858,"question_id":8327847,"body_markdown":"I&#39;m trying to create simple application with Xuggler, which has to encode sequence of pictures into video.\r\nI&#39;ve installed xuggler, as described in official site.\r\nHere is example of code (which I&#39;ve actually found on Xuggler wiki site)\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n            \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n            \r\n    import com.xuggle.mediatool.IMediaViewer;\r\n    import com.xuggle.mediatool.IMediaWriter;\r\n    import com.xuggle.mediatool.ToolFactory;\r\n    import com.xuggle.xuggler.ICodec;\r\n            \r\n    import static com.xuggle.xuggler.Global.DEFAULT_TIME_UNIT;\r\n    import static java.util.concurrent.TimeUnit.SECONDS;\r\n    import static java.util.concurrent.TimeUnit.MILLISECONDS;\r\n        \r\n        \r\n    public class Test {\r\n        \r\n        private static final Logger log = LoggerFactory.getLogger(Test.class);\r\n        {\r\n        \tlog.trace(&quot;&lt;init&gt;&quot;);\r\n        }\r\n        \t\r\n        public static void main(String[] args) {\r\n        \r\n        \tfinal long duration = DEFAULT_TIME_UNIT.convert( 3, SECONDS );\r\n        \t\t\r\n        \tfinal int videoStreamIndex = 0;\r\n        \tfinal int videoStreamId = 0;\r\n        \tfinal long frameRate = DEFAULT_TIME_UNIT.convert(15, MILLISECONDS);\r\n        \tfinal int width = 320;\r\n        \tfinal int height = 200;\r\n        \t    \r\n        \tlong nextFrameTime = 0;\r\n        \t    \r\n        \tfinal IMediaWriter writer = ToolFactory.makeWriter(&quot;/out.mov&quot;);\r\n        \t\t\r\n        \twriter.addVideoStream(videoStreamIndex, videoStreamId, \r\n        \t\t\t      width, height);\r\n        \t    \r\n        \twhile ( nextFrameTime &lt; duration )\r\n        \t    {\r\n        \t    \tBufferedImage frame = new BufferedImage( 320, 200, BufferedImage.TYPE_INT_RGB );\r\n        \t    \tGraphics2D gr = (Graphics2D) frame.getGraphics();\r\n        \t    \tgr.setColor(Color.RED);\r\n        \t    \tgr.drawLine(0, 0, 200, 200);\r\n        \t    \twriter.encodeVideo(videoStreamIndex, frame, nextFrameTime, \r\n        \t\t\t\t   DEFAULT_TIME_UNIT);\r\n        \t    \tnextFrameTime += frameRate;\r\n        \t    }\r\n        \t    \r\n        \twriter.close();\r\n        \t    \r\n        }\r\n        \r\n    }\r\n\r\nAfter launching, I&#39;ve got exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: No converter &quot;null&quot; found.\r\n    \tat com.xuggle.xuggler.video.ConverterFactory.createConverter(ConverterFactory.java:313)\r\n    \tat com.xuggle.mediatool.MediaWriter.convertToPicture(MediaWriter.java:967)\r\n    \tat com.xuggle.mediatool.MediaWriter.encodeVideo(MediaWriter.java:812)\r\n    \tat Test.main(Test.java:48)\r\n\r\n\r\nCould you advise me something to solve this problem?\r\nThanks","title":"Can&#39;t encode video with Xuggler","body":"<p>I'm trying to create simple application with Xuggler, which has to encode sequence of pictures into video.\nI've installed xuggler, as described in official site.\nHere is example of code (which I've actually found on Xuggler wiki site)</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.xuggle.mediatool.IMediaViewer;\nimport com.xuggle.mediatool.IMediaWriter;\nimport com.xuggle.mediatool.ToolFactory;\nimport com.xuggle.xuggler.ICodec;\n\nimport static com.xuggle.xuggler.Global.DEFAULT_TIME_UNIT;\nimport static java.util.concurrent.TimeUnit.SECONDS;\nimport static java.util.concurrent.TimeUnit.MILLISECONDS;\n\n\npublic class Test {\n\n    private static final Logger log = LoggerFactory.getLogger(Test.class);\n    {\n        log.trace(\"&lt;init&gt;\");\n    }\n\n    public static void main(String[] args) {\n\n        final long duration = DEFAULT_TIME_UNIT.convert( 3, SECONDS );\n\n        final int videoStreamIndex = 0;\n        final int videoStreamId = 0;\n        final long frameRate = DEFAULT_TIME_UNIT.convert(15, MILLISECONDS);\n        final int width = 320;\n        final int height = 200;\n\n        long nextFrameTime = 0;\n\n        final IMediaWriter writer = ToolFactory.makeWriter(\"/out.mov\");\n\n        writer.addVideoStream(videoStreamIndex, videoStreamId, \n                      width, height);\n\n        while ( nextFrameTime &lt; duration )\n            {\n                BufferedImage frame = new BufferedImage( 320, 200, BufferedImage.TYPE_INT_RGB );\n                Graphics2D gr = (Graphics2D) frame.getGraphics();\n                gr.setColor(Color.RED);\n                gr.drawLine(0, 0, 200, 200);\n                writer.encodeVideo(videoStreamIndex, frame, nextFrameTime, \n                       DEFAULT_TIME_UNIT);\n                nextFrameTime += frameRate;\n            }\n\n        writer.close();\n\n    }\n\n}\n</code></pre>\n\n<p>After launching, I've got exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsupportedOperationException: No converter \"null\" found.\n    at com.xuggle.xuggler.video.ConverterFactory.createConverter(ConverterFactory.java:313)\n    at com.xuggle.mediatool.MediaWriter.convertToPicture(MediaWriter.java:967)\n    at com.xuggle.mediatool.MediaWriter.encodeVideo(MediaWriter.java:812)\n    at Test.main(Test.java:48)\n</code></pre>\n\n<p>Could you advise me something to solve this problem?\nThanks</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1682264770,"post_id":76085786,"comment_id":134184377,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, edit your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, edit your question to include the code as properly formatted text."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682265790,"post_id":76085786,"comment_id":134184557,"body_markdown":"You cannot use Spring 5 or earlier with Tomcat 10. If you want to use Tomcat 10, you have to use Spring 6. If you want to use older Spring versions, you have to use Tomcat 9 or even earlier (Spring 3 is ancient, and you really shouldn&#39;t be using it these days).","body":"You cannot use Spring 5 or earlier with Tomcat 10. If you want to use Tomcat 10, you have to use Spring 6. If you want to use older Spring versions, you have to use Tomcat 9 or even earlier (Spring 3 is ancient, and you really shouldn&#39;t be using it these days)."}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682264488,"creation_date":1682264488,"question_id":76085786,"body_markdown":"I am using maven : spring webmvc version 6.0.4 .But when I use a bean :\r\n&quot;&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;/&gt;&quot;. to upload the file, it gives an error.\r\nbut when I remove version 6.0.4 instead version : &quot;spring-webmvc-3.2.2.RELEASE&quot; it gives no error. but my website is not working.\r\n\r\n\r\n\r\n\r\nthis is the error when I add the bean to &quot;webmvc version 6.0.4&quot;:\r\nthis is my file xml:\r\n[![enter image description here](https://i.stack.imgur.com/P2lOk.png)](https://i.stack.imgur.com/P2lOk.png)\r\nthis is my servlet.xml:\r\n[![enter image description here](https://i.stack.imgur.com/WkRSe.png)](https://i.stack.imgur.com/WkRSe.png)\r\n\r\nthis is when i remove &quot;webmvc version 6.0.4&quot; and add &quot;spring-webmvc-3.2.2.RELEASE&quot; version:\r\nthis is my file xml:\r\n[![enter image description here](https://i.stack.imgur.com/2N0nf.png)](https://i.stack.imgur.com/2N0nf.png)\r\nAfter adding, the bean file does not report any more errors:\r\n[![enter image description here](https://i.stack.imgur.com/jo4Z5.png)](https://i.stack.imgur.com/jo4Z5.png)\r\nbut the website is not working anymore:\r\n[![enter image description here](https://i.stack.imgur.com/lU9Pb.png)](https://i.stack.imgur.com/lU9Pb.png)\r\n","title":"why the maven spring web MVC error version","body":"<p>I am using maven : spring webmvc version 6.0.4 .But when I use a bean :\n&quot;&quot;. to upload the file, it gives an error.\nbut when I remove version 6.0.4 instead version : &quot;spring-webmvc-3.2.2.RELEASE&quot; it gives no error. but my website is not working.</p>\n<p>this is the error when I add the bean to &quot;webmvc version 6.0.4&quot;:\nthis is my file xml:\n<a href=\"https://i.stack.imgur.com/P2lOk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2lOk.png\" alt=\"enter image description here\" /></a>\nthis is my servlet.xml:\n<a href=\"https://i.stack.imgur.com/WkRSe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkRSe.png\" alt=\"enter image description here\" /></a></p>\n<p>this is when i remove &quot;webmvc version 6.0.4&quot; and add &quot;spring-webmvc-3.2.2.RELEASE&quot; version:\nthis is my file xml:\n<a href=\"https://i.stack.imgur.com/2N0nf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2N0nf.png\" alt=\"enter image description here\" /></a>\nAfter adding, the bean file does not report any more errors:\n<a href=\"https://i.stack.imgur.com/jo4Z5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jo4Z5.png\" alt=\"enter image description here\" /></a>\nbut the website is not working anymore:\n<a href=\"https://i.stack.imgur.com/lU9Pb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lU9Pb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jersey","grizzly","hk2"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1627080147,"post_id":68499168,"comment_id":121070280,"body_markdown":"_&quot; After beeing stuck in dependency-hell for a while&quot;_ - I highly suggest you use/learn a dependency manager like Maven. Nobody is going to be able to test out your problem unless they download all the jars you are using. And I doubt anybody is going to do that. It would be easier if you just had a list of Maven dependencies. Not for just others, but using Maven will definitely make your life a lot easier. I&#39;ve never seen the problem you are facing, but I wouldn&#39;t doubt that it might have something to do with a dependency problem.","body":"<i>&quot; After beeing stuck in dependency-hell for a while&quot;</i> - I highly suggest you use/learn a dependency manager like Maven. Nobody is going to be able to test out your problem unless they download all the jars you are using. And I doubt anybody is going to do that. It would be easier if you just had a list of Maven dependencies. Not for just others, but using Maven will definitely make your life a lot easier. I&#39;ve never seen the problem you are facing, but I wouldn&#39;t doubt that it might have something to do with a dependency problem."},{"owner":{"account_id":3372490,"reputation":445,"user_id":2831409,"accept_rate":29,"display_name":"MUmla"},"score":0,"creation_date":1627280505,"post_id":68499168,"comment_id":121103905,"body_markdown":"I definitely know that and generelly prefer Maven. Unfortunately the project must be realized for internal reasons without Maven...","body":"I definitely know that and generelly prefer Maven. Unfortunately the project must be realized for internal reasons without Maven..."}],"answers":[{"tags":[],"owner":{"account_id":17141018,"reputation":21,"user_id":12405036,"display_name":"Juan Bonastre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682264075,"creation_date":1682264075,"answer_id":76085755,"question_id":68499168,"body_markdown":"Maybe this is not your solution, but for other people that run to the same problem. In my case, this was caused because of a conflict between libraries.\r\n\r\nI have a Dynamic Web Project using Tomcat 8.5 (with the javax libraries for jersey). I created another project, but for Tomcat 10. I copied all the files in the src folder, added the Tomcat 10 libraries (jakarta) and updated the imports from &quot;javax.ws.rs...&quot; to &quot;jakarta.ws.rs...&quot; but got that error.\r\n\r\nWhen cleaning the jar files in the lib folder, the problem disappeared.","title":"How to fix &quot;org.glassfish.jersey.inject.hk2.RequestContext.RequestContext must be in the Singleton scope&quot;","body":"<p>Maybe this is not your solution, but for other people that run to the same problem. In my case, this was caused because of a conflict between libraries.</p>\n<p>I have a Dynamic Web Project using Tomcat 8.5 (with the javax libraries for jersey). I created another project, but for Tomcat 10. I copied all the files in the src folder, added the Tomcat 10 libraries (jakarta) and updated the imports from &quot;javax.ws.rs...&quot; to &quot;jakarta.ws.rs...&quot; but got that error.</p>\n<p>When cleaning the jar files in the lib folder, the problem disappeared.</p>\n"}],"owner":{"account_id":3372490,"reputation":445,"user_id":2831409,"accept_rate":29,"display_name":"MUmla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1709,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682264075,"creation_date":1627043126,"question_id":68499168,"body_markdown":"I&#39;d like to implement a simple REST-API with Jersey and grizzly. After beeing stuck in dependency-hell for a while, I ended up with an exception and I have no idea how to handle/interpret:\r\n\r\n    java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1713)\r\n    \tat org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2108)\r\n    \tat org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\r\n    \tat org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\r\n    \tat org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\r\n    \tat org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\r\n    \tat org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\r\n    \tat org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\r\n    \tat org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:246)\r\n    \tat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.&lt;init&gt;(GrizzlyHttpContainer.java:310)\r\n    \tat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory.createHttpServer(GrizzlyHttpServerFactory.java:93)\r\n    \tat src.main.java.myApplication.main(myApplication.java:141)\r\n\r\nThe exception happens in my main-class on creating the http-server:\r\n\r\n    URI uri= URI.create(&quot;http://localhost:8080&quot;);\t\t\r\n    ResourceConfig config = new ResourceConfig();\r\n\tconfig.register(myAPI.class);\r\n\r\n\tHttpServer server = GrizzlyHttpServerFactory.createHttpServer(uri, config);\r\n\ttry{\r\n\t\tserver.start();\r\n\t} catch( IOException e ) {\r\n\t\tlogger.error(&quot;Exception on starting HTTP-Server.&quot;, e);\r\n\t}\r\n\r\nThe myAPI.java is nothing special yet and also not important for the problem here, I think. Nevertheless, it looks like this:\r\n\r\n    public class myAPI extends ResourceConfig{\r\n    \tprivate static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \tpublic myAPI(){\r\n    \t}\r\n    \r\n    \t@Path(&quot;/hello&quot;)\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic Response foo() {\r\n    \t\tObjectNode json = mapper.createObjectNode();\r\n    \t\tjson.put(&quot;status&quot;, &quot;ok&quot;);\r\n    \t\treturn Response.status(Response.Status.OK).entity(json).build();\r\n    \t}    \r\n    }\r\n\r\nMy classpath contains the following huge amount of libraries:\r\n\r\n    commons-logging-1.1.3.jar\r\n    grizzly-framework-3.0.0.jar\r\n    grizzly-http-server-3.0.0.jar\r\n    grizzly-http-server-multipart-3.0.0.jar\r\n    hk2-api-2.6.1.jar\r\n    hk2-locator-2.6.1.jar\r\n    hk2-utils-2.6.1.jar\r\n    jakarta.annotation-api-2.0.0.jar\r\n    jakarta.inject-api-2.0.0.jar\r\n    jakarta.ws.rs-api-3.0.0.jar\r\n    javax.annotation-api-1.3.2.jar\r\n    javax.inject-1.jar\r\n    jersey-common-3.0.2.jar\r\n    jersey-container-grizzly2-http-3.0.2.jar\r\n    jersey-guava-2.22.1.jar\r\n    jersey-hk2-3.0.2.jar\r\n    jersey-server-3.0.2.jar\r\n    org.apache.commons.logging-1.1.3.jar\r\n    jackson-annotations-2.9.0.jar\r\n    jackson-core-2.9.4.jar\r\n    jackson-databind-2.9.4.jar\r\n    -\r\n    httpclient-4.5.13.jar\r\n    httpcore-4.4.14.jar\r\n    httpmime-4.5.13.jar\r\n    log4j-api-2.14.1.jar\r\n    log4j-core-2.14.1.jar\r\n\r\nThe libraries below the dash are needed for another module (http-client) inside my application. I know that I probably could have used some of the libraries there, which I also use for the http-server, but I couldn&#39;t get it to work otherwise. But that&#39;s not the focus here, only when this is responsible for some kind of collusions due to multiple implementations?! After the long trail-and-error in dependency-hell, it is also possible that some libraries are even not needed.\r\n\r\nSo the core-question is, how I can put the RequestContext into the singleton-scope?! I haven&#39;t even declared a RequestContext anywhere. Do I have to add it in some way?\r\n\r\nSide-fact: I also tried the same with the Jersey-JdkHttpServerFactory and ended up with the same error.\r\n\r\n","title":"How to fix &quot;org.glassfish.jersey.inject.hk2.RequestContext.RequestContext must be in the Singleton scope&quot;","body":"<p>I'd like to implement a simple REST-API with Jersey and grizzly. After beeing stuck in dependency-hell for a while, I ended up with an exception and I have no idea how to handle/interpret:</p>\n<pre><code>java.lang.IllegalArgumentException: The implementation class org.glassfish.jersey.inject.hk2.RequestContext must be in the Singleton scope\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.checkConfiguration(ServiceLocatorImpl.java:1713)\n    at org.jvnet.hk2.internal.ServiceLocatorImpl.addConfiguration(ServiceLocatorImpl.java:2108)\n    at org.jvnet.hk2.internal.DynamicConfigurationImpl.commit(DynamicConfigurationImpl.java:262)\n    at org.glassfish.hk2.utilities.ServiceLocatorUtilities.bind(ServiceLocatorUtilities.java:166)\n    at org.glassfish.jersey.inject.hk2.AbstractHk2InjectionManager.&lt;init&gt;(AbstractHk2InjectionManager.java:65)\n    at org.glassfish.jersey.inject.hk2.ImmediateHk2InjectionManager.&lt;init&gt;(ImmediateHk2InjectionManager.java:38)\n    at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory$Hk2InjectionManagerStrategy$1.createInjectionManager(Hk2InjectionManagerFactory.java:55)\n    at org.glassfish.jersey.inject.hk2.Hk2InjectionManagerFactory.create(Hk2InjectionManagerFactory.java:73)\n    at org.glassfish.jersey.internal.inject.Injections.createInjectionManager(Injections.java:69)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:259)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:246)\n    at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.&lt;init&gt;(GrizzlyHttpContainer.java:310)\n    at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory.createHttpServer(GrizzlyHttpServerFactory.java:93)\n    at src.main.java.myApplication.main(myApplication.java:141)\n</code></pre>\n<p>The exception happens in my main-class on creating the http-server:</p>\n<pre><code>URI uri= URI.create(&quot;http://localhost:8080&quot;);       \nResourceConfig config = new ResourceConfig();\nconfig.register(myAPI.class);\n\nHttpServer server = GrizzlyHttpServerFactory.createHttpServer(uri, config);\ntry{\n    server.start();\n} catch( IOException e ) {\n    logger.error(&quot;Exception on starting HTTP-Server.&quot;, e);\n}\n</code></pre>\n<p>The myAPI.java is nothing special yet and also not important for the problem here, I think. Nevertheless, it looks like this:</p>\n<pre><code>public class myAPI extends ResourceConfig{\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public myAPI(){\n    }\n\n    @Path(&quot;/hello&quot;)\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response foo() {\n        ObjectNode json = mapper.createObjectNode();\n        json.put(&quot;status&quot;, &quot;ok&quot;);\n        return Response.status(Response.Status.OK).entity(json).build();\n    }    \n}\n</code></pre>\n<p>My classpath contains the following huge amount of libraries:</p>\n<pre><code>commons-logging-1.1.3.jar\ngrizzly-framework-3.0.0.jar\ngrizzly-http-server-3.0.0.jar\ngrizzly-http-server-multipart-3.0.0.jar\nhk2-api-2.6.1.jar\nhk2-locator-2.6.1.jar\nhk2-utils-2.6.1.jar\njakarta.annotation-api-2.0.0.jar\njakarta.inject-api-2.0.0.jar\njakarta.ws.rs-api-3.0.0.jar\njavax.annotation-api-1.3.2.jar\njavax.inject-1.jar\njersey-common-3.0.2.jar\njersey-container-grizzly2-http-3.0.2.jar\njersey-guava-2.22.1.jar\njersey-hk2-3.0.2.jar\njersey-server-3.0.2.jar\norg.apache.commons.logging-1.1.3.jar\njackson-annotations-2.9.0.jar\njackson-core-2.9.4.jar\njackson-databind-2.9.4.jar\n-\nhttpclient-4.5.13.jar\nhttpcore-4.4.14.jar\nhttpmime-4.5.13.jar\nlog4j-api-2.14.1.jar\nlog4j-core-2.14.1.jar\n</code></pre>\n<p>The libraries below the dash are needed for another module (http-client) inside my application. I know that I probably could have used some of the libraries there, which I also use for the http-server, but I couldn't get it to work otherwise. But that's not the focus here, only when this is responsible for some kind of collusions due to multiple implementations?! After the long trail-and-error in dependency-hell, it is also possible that some libraries are even not needed.</p>\n<p>So the core-question is, how I can put the RequestContext into the singleton-scope?! I haven't even declared a RequestContext anywhere. Do I have to add it in some way?</p>\n<p>Side-fact: I also tried the same with the Jersey-JdkHttpServerFactory and ended up with the same error.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","gitlab-ci-runner","cicd"],"answers":[{"tags":[],"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682263810,"creation_date":1682263810,"answer_id":76085726,"question_id":75944563,"body_markdown":"So we connected with the GitLab support team on this and it seems to be a limitation from the runner that it always runs tests in a headless mode regardless of what configurations are applied in the automation framework. Also, this goes for other scripts (PowerShell or ms cmd) and the execution will be done in silent/ headless mode.","title":"Selenium test cases execution in maximized browser state","body":"<p>So we connected with the GitLab support team on this and it seems to be a limitation from the runner that it always runs tests in a headless mode regardless of what configurations are applied in the automation framework. Also, this goes for other scripts (PowerShell or ms cmd) and the execution will be done in silent/ headless mode.</p>\n"}],"owner":{"account_id":18553557,"reputation":75,"user_id":13519244,"display_name":"Amad Bin Mumtaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682263810,"creation_date":1680735206,"question_id":75944563,"body_markdown":"I want to run my selenium test cases on Chrome/Firefox in maximized state. Currently, I have a pipeline that works and runs my Selenium java tests (mvn test) only in headless mode regardless of the configuration I set in my driver definition. GitLab runner is configured under my VM where all pipeline stages are running. Is there a way or something I am missing with which I can run my tests in a maximized browser state?\r\n\r\nPipeline stage:\r\n\r\n    stages:\r\n      - test_regression_suite\r\n    \r\n    E2E_tests:\r\n      image: maven:3-jdk-11\r\n      stage: test_regression_suite\r\n      tags:\r\n        - ci-runner\r\n      variables:\r\n        JAVA_HOME: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_361&quot;\r\n      script:\r\n        - cd pth\\to\\my\\framework\\src\\runner\\file\r\n        - mvn test\r\n      timeout: 1200 seconds\r\n      allow_failure: true\r\n\r\nBrowser configurations:\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;) + operatingPlatform);\r\n\t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\t\tprefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\r\n\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\t\tHashMap&lt;String, Object&gt; options1 = new HashMap&lt;String, Object&gt;();\r\n\t\toptions1.put(&quot;prefs&quot;, prefs);\r\n\t\tdriver = new ChromeDriver(options);\r\n\r\nDespite the option (&quot;--start-maximized&quot;) already defined above, it still runs the test cases in the headless mode because of which several of my test cases are getting failed (due to application UI dependencies).\r\n\r\n","title":"Selenium test cases execution in maximized browser state","body":"<p>I want to run my selenium test cases on Chrome/Firefox in maximized state. Currently, I have a pipeline that works and runs my Selenium java tests (mvn test) only in headless mode regardless of the configuration I set in my driver definition. GitLab runner is configured under my VM where all pipeline stages are running. Is there a way or something I am missing with which I can run my tests in a maximized browser state?</p>\n<p>Pipeline stage:</p>\n<pre><code>stages:\n  - test_regression_suite\n\nE2E_tests:\n  image: maven:3-jdk-11\n  stage: test_regression_suite\n  tags:\n    - ci-runner\n  variables:\n    JAVA_HOME: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_361&quot;\n  script:\n    - cd pth\\to\\my\\framework\\src\\runner\\file\n    - mvn test\n  timeout: 1200 seconds\n  allow_failure: true\n</code></pre>\n<p>Browser configurations:</p>\n<pre><code>    System.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;) + operatingPlatform);\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;plugins.plugins_disabled&quot;, new String[]{&quot;Chrome PDF Viewer&quot;});\n\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--start-maximized&quot;);\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n    HashMap&lt;String, Object&gt; options1 = new HashMap&lt;String, Object&gt;();\n    options1.put(&quot;prefs&quot;, prefs);\n    driver = new ChromeDriver(options);\n</code></pre>\n<p>Despite the option (&quot;--start-maximized&quot;) already defined above, it still runs the test cases in the headless mode because of which several of my test cases are getting failed (due to application UI dependencies).</p>\n"},{"tags":["java","windows","explorer"],"comments":[{"owner":{"account_id":269588,"reputation":934,"user_id":559011,"accept_rate":25,"display_name":"Charles Wu"},"score":1,"creation_date":1315555470,"post_id":7357969,"comment_id":8878931,"body_markdown":"I read every answers and comments of my question, but there are no satisfied answers. I vote some answers which close to my aim, though those are not the complete solutions. So I didn&#39;t accept any answers to prevent others misunderstood. Hope someone someday can give me a complete solution of those questions, and of course, I will accept. At last, I invite to you to join my discussions. Maybe you are the one who can solve my questions. Thanks for your comment.","body":"I read every answers and comments of my question, but there are no satisfied answers. I vote some answers which close to my aim, though those are not the complete solutions. So I didn&#39;t accept any answers to prevent others misunderstood. Hope someone someday can give me a complete solution of those questions, and of course, I will accept. At last, I invite to you to join my discussions. Maybe you are the one who can solve my questions. Thanks for your comment."}],"answers":[{"tags":[],"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1315628380,"creation_date":1315627951,"answer_id":7369564,"question_id":7357969,"body_markdown":"The Desktop API does not support this. You are going to have to use [`ProcessBuilder`][1] (or alternatively [`Runtime.exec()`][2]) to execute explorer.exe explicitly [with the options you want][3]. This will only work on windows though, if you want to run this on another OS you will have to use the Desktop API anyway.\r\n\r\n    Process p = new ProcessBuilder(&quot;explorer.exe&quot;, &quot;/select,C:\\\\directory\\\\selectedFile&quot;).start();\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\r\n  [3]: http://support.microsoft.com/kb/152457","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>The Desktop API does not support this. You are going to have to use <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\"><code>ProcessBuilder</code></a> (or alternatively <a href=\"http://download.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\" rel=\"noreferrer\"><code>Runtime.exec()</code></a>) to execute explorer.exe explicitly <a href=\"http://support.microsoft.com/kb/152457\" rel=\"noreferrer\">with the options you want</a>. This will only work on windows though, if you want to run this on another OS you will have to use the Desktop API anyway.</p>\n\n<pre><code>Process p = new ProcessBuilder(\"explorer.exe\", \"/select,C:\\\\directory\\\\selectedFile\").start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137097,"reputation":947,"user_id":1896581,"accept_rate":88,"display_name":"Zixradoom"},"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1540308648,"creation_date":1356583091,"answer_id":14049416,"question_id":7357969,"body_markdown":"EDIT:\r\n\r\nAs of java 9 there is now a method in the Desktop API to select the file\r\n\r\n    desktop.browseFileDirectory(&lt;file&gt;)\r\n\r\nEDIT:\r\n\r\nYou cannot highlight a specific file with the java Desktop API.\r\n\r\nANSWER TO ORIGINAL QUESTION:\r\n\r\nThe Desktop API will allow you to do this by using this snippet,\r\n\r\n    File file = new File (&quot;c:\\&lt;directory&gt;&quot;);\r\n    Desktop desktop = Desktop.getDesktop();\r\n    desktop.open(file);\r\n\r\nThe documentation for the code used above is at these links, \r\nhttp://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html and\r\nhttp://docs.oracle.com/javase/10/docs/api/java/io/File.html\r\n\r\nOn a Windows computer this will open the default file explorer and on other systems it will open their default explorers respectively.\r\n\r\nAlternatively you could use the new java Path API to build the required path and then invoke the method that returns the corresponding File object.\r\n\r\nFor brevity I excluded the checking code to make sure the Desktop and File objects exist.","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>EDIT:</p>\n\n<p>As of java 9 there is now a method in the Desktop API to select the file</p>\n\n<pre><code>desktop.browseFileDirectory(&lt;file&gt;)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>You cannot highlight a specific file with the java Desktop API.</p>\n\n<p>ANSWER TO ORIGINAL QUESTION:</p>\n\n<p>The Desktop API will allow you to do this by using this snippet,</p>\n\n<pre><code>File file = new File (\"c:\\&lt;directory&gt;\");\nDesktop desktop = Desktop.getDesktop();\ndesktop.open(file);\n</code></pre>\n\n<p>The documentation for the code used above is at these links, \n<a href=\"http://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/10/docs/api/java/awt/Desktop.html</a> and\n<a href=\"http://docs.oracle.com/javase/10/docs/api/java/io/File.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/10/docs/api/java/io/File.html</a></p>\n\n<p>On a Windows computer this will open the default file explorer and on other systems it will open their default explorers respectively.</p>\n\n<p>Alternatively you could use the new java Path API to build the required path and then invoke the method that returns the corresponding File object.</p>\n\n<p>For brevity I excluded the checking code to make sure the Desktop and File objects exist.</p>\n"},{"tags":[],"owner":{"account_id":2669824,"reputation":3092,"user_id":2307466,"accept_rate":56,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1438937170,"creation_date":1410186175,"answer_id":25726480,"question_id":7357969,"body_markdown":"Use: `Runtime.getRuntime().exec(&quot;explorer.exe /select,&quot; + path);`\r\n\r\nThis also works if there is a space in the `PATH`. ","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>Use: <code>Runtime.getRuntime().exec(\"explorer.exe /select,\" + path);</code></p>\n\n<p>This also works if there is a space in the <code>PATH</code>. </p>\n"},{"tags":[],"owner":{"account_id":6868781,"reputation":68,"user_id":5280071,"display_name":"Aravind Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461473644,"creation_date":1461473644,"answer_id":36819412,"question_id":7357969,"body_markdown":"This works even if file/folder name has multiple spaces between words.\r\n\r\n\r\n        //In this example there are 3 spaces between &quot;GAME&quot; and &quot;OF&quot; and 2 spaces between &quot;OF&quot; and &quot;Thrones&quot;\r\n        String onlyPath = &quot;D:\\\\GAME   OF  Thrones&quot;;\r\n        String selectPath = &quot;/select,&quot; + onlyPath;        \r\n\r\n        //START: Strip one SPACE among consecutive spaces\r\n        LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();\r\n        StringBuilder sb = new StringBuilder();\r\n        boolean flag = true;\r\n        \r\n        for (int i = 0; i &lt; selectPath.length(); i++) {\r\n            if (i == 0) {\r\n                sb.append(selectPath.charAt(i));\r\n                continue;\r\n            }\r\n\r\n            if (selectPath.charAt(i) == &#39; &#39; &amp;&amp; flag) {\r\n                list.add(sb.toString());\r\n                sb.setLength(0);\r\n                flag = false;\r\n                continue;\r\n            }\r\n\r\n            if (!flag &amp;&amp; selectPath.charAt(i) != &#39; &#39;) {\r\n                flag = true;\r\n            }\r\n\r\n            sb.append(selectPath.charAt(i));\r\n        }\r\n\r\n        list.add(sb.toString());\r\n\r\n        list.addFirst(&quot;explorer.exe&quot;);\r\n        //END: Strip one SPACE among consecutive spaces\r\n        \r\n        //Output List\r\n        for (String s : list) {\r\n            System.out.println(&quot;string:&quot;+s);\r\n        }\r\n        /*output of above loop\r\n        \r\n        string:explorer.exe\r\n        string:/select,D:\\GAME\r\n        string:  OF\r\n        string: Thrones\r\n        \r\n        */\r\n        \r\n        //Open in Explorer and Highlight\r\n        Process p = new ProcessBuilder(list).start();\r\n    ","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>This works even if file/folder name has multiple spaces between words.</p>\n\n<pre><code>    //In this example there are 3 spaces between \"GAME\" and \"OF\" and 2 spaces between \"OF\" and \"Thrones\"\n    String onlyPath = \"D:\\\\GAME   OF  Thrones\";\n    String selectPath = \"/select,\" + onlyPath;        \n\n    //START: Strip one SPACE among consecutive spaces\n    LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();\n    StringBuilder sb = new StringBuilder();\n    boolean flag = true;\n\n    for (int i = 0; i &lt; selectPath.length(); i++) {\n        if (i == 0) {\n            sb.append(selectPath.charAt(i));\n            continue;\n        }\n\n        if (selectPath.charAt(i) == ' ' &amp;&amp; flag) {\n            list.add(sb.toString());\n            sb.setLength(0);\n            flag = false;\n            continue;\n        }\n\n        if (!flag &amp;&amp; selectPath.charAt(i) != ' ') {\n            flag = true;\n        }\n\n        sb.append(selectPath.charAt(i));\n    }\n\n    list.add(sb.toString());\n\n    list.addFirst(\"explorer.exe\");\n    //END: Strip one SPACE among consecutive spaces\n\n    //Output List\n    for (String s : list) {\n        System.out.println(\"string:\"+s);\n    }\n    /*output of above loop\n\n    string:explorer.exe\n    string:/select,D:\\GAME\n    string:  OF\n    string: Thrones\n\n    */\n\n    //Open in Explorer and Highlight\n    Process p = new ProcessBuilder(list).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3009640,"reputation":3898,"user_id":2553431,"accept_rate":50,"display_name":"Iamat8"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1473664753,"creation_date":1473664753,"answer_id":39445156,"question_id":7357969,"body_markdown":"We can open a specific path from command line with :\r\n\r\n    start C:/ProgramData\r\n\r\nThere are two ways in java you can use to open windows explorer with specific path:\r\n\r\n1. Use Process class(as already answered) but with start command\r\n \r\n\r\n        try {\r\n\t\t\tProcess builder = Runtime.getRuntime().exec(&quot;cmd /c start C:/ProgramData&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n2. Use Desktop class \r\n\r\n        try {\r\n\t\t\tDesktop.getDesktop().open(new File(&quot;C:/ProgramData&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>We can open a specific path from command line with :</p>\n\n<pre><code>start C:/ProgramData\n</code></pre>\n\n<p>There are two ways in java you can use to open windows explorer with specific path:</p>\n\n<ol>\n<li><p>Use Process class(as already answered) but with start command</p>\n\n<pre><code>try {\n    Process builder = Runtime.getRuntime().exec(\"cmd /c start C:/ProgramData\");\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre></li>\n<li><p>Use Desktop class </p>\n\n<pre><code>try {\n    Desktop.getDesktop().open(new File(\"C:/ProgramData\"));\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10827469,"reputation":11,"user_id":7962955,"display_name":"Martin Koukal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493898546,"creation_date":1493898546,"answer_id":43782091,"question_id":7357969,"body_markdown":"Here is shorter version of above.\r\n\r\n        String onlyPath = &quot;D:\\\\GAME   OF  Thrones&quot;;\r\n        String completeCmd = &quot;explorer.exe /select,&quot; + onlyPath;\r\n        new ProcessBuilder((&quot;explorer.exe &quot; + completeCmd).split(&quot; &quot;)).start();\r\n","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>Here is shorter version of above.</p>\n\n<pre><code>    String onlyPath = \"D:\\\\GAME   OF  Thrones\";\n    String completeCmd = \"explorer.exe /select,\" + onlyPath;\n    new ProcessBuilder((\"explorer.exe \" + completeCmd).split(\" \")).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510222244,"creation_date":1510221536,"answer_id":47198826,"question_id":7357969,"body_markdown":"Always use the &quot;\\&quot; instead of &quot;/&quot;, otherwise only the Explorer will open, fore more read this - [Command-line switches that you can use to open the GUI Windows Explorer (Explorer.exe)][1]\r\n\r\nUsing Windows CLI : \r\n\r\n    C:\\Users\\Md Arif Mustafa&gt;explorer.exe /select, &quot;C:\\Users\\Md Arif Mustafa\\Music\\Aafreen-Himesh.mp3&quot;\r\n\r\nSame in Java source code :\r\nHere variable filePaths is an `ArrayList&lt;String&gt;` and contains a folder all files path.\r\n\r\n    try {\r\n    \tProcess proc = Runtime.getRuntime().exec(&quot;explorer.exe /select, &quot; + filePaths.get(i).replaceAll(&quot;/&quot;, &quot;\\\\\\\\&quot;));\r\n    \tproc.waitFor();\r\n    } catch (IOException | InterruptedException ex ) {\r\n    \tex.printStackTrace();\r\n    }\r\n\r\nIt worked for me and hope it helps you!\r\n\r\n  [1]: https://ss64.com/nt/explorer.html","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>Always use the \"\\\" instead of \"/\", otherwise only the Explorer will open, fore more read this - <a href=\"https://ss64.com/nt/explorer.html\" rel=\"nofollow noreferrer\">Command-line switches that you can use to open the GUI Windows Explorer (Explorer.exe)</a></p>\n\n<p>Using Windows CLI : </p>\n\n<pre><code>C:\\Users\\Md Arif Mustafa&gt;explorer.exe /select, \"C:\\Users\\Md Arif Mustafa\\Music\\Aafreen-Himesh.mp3\"\n</code></pre>\n\n<p>Same in Java source code :\nHere variable filePaths is an <code>ArrayList&lt;String&gt;</code> and contains a folder all files path.</p>\n\n<pre><code>try {\n    Process proc = Runtime.getRuntime().exec(\"explorer.exe /select, \" + filePaths.get(i).replaceAll(\"/\", \"\\\\\\\\\"));\n    proc.waitFor();\n} catch (IOException | InterruptedException ex ) {\n    ex.printStackTrace();\n}\n</code></pre>\n\n<p>It worked for me and hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682263288,"creation_date":1682263288,"answer_id":76085694,"question_id":7357969,"body_markdown":"The **correct** `ProcessBuilder` code is actually the following:\r\n\r\n    public static void selectFileInFileExplorer(final Path filePath) throws IOException {\r\n    \tfinal String windowsDirectory = System.getenv(&quot;WINDIR&quot;);\r\n    \tfinal String explorerFilePath = windowsDirectory + &quot;\\\\explorer.exe&quot;;\r\n    \tfinal ProcessBuilder builder = new ProcessBuilder(explorerFilePath, &quot;/select,&quot;, filePath.toString());\r\n    \tbuilder.start();\r\n    }\r\n\r\nNote that you need to start a new command after `/select,`, otherwise it will open the `Documents` folder.","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>The <strong>correct</strong> <code>ProcessBuilder</code> code is actually the following:</p>\n<pre><code>public static void selectFileInFileExplorer(final Path filePath) throws IOException {\n    final String windowsDirectory = System.getenv(&quot;WINDIR&quot;);\n    final String explorerFilePath = windowsDirectory + &quot;\\\\explorer.exe&quot;;\n    final ProcessBuilder builder = new ProcessBuilder(explorerFilePath, &quot;/select,&quot;, filePath.toString());\n    builder.start();\n}\n</code></pre>\n<p>Note that you need to start a new command after <code>/select,</code>, otherwise it will open the <code>Documents</code> folder.</p>\n"}],"owner":{"account_id":269588,"reputation":934,"user_id":559011,"accept_rate":25,"display_name":"Charles Wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88608,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":25726480,"answer_count":8,"score":52,"last_activity_date":1682263288,"creation_date":1315550217,"question_id":7357969,"body_markdown":"I am now using java Desktop API to manipulate file explorer. \r\nI know how to open the file explorer but I don&#39;t know how to open it and highlight the specified file.\r\n\r\nAs we using the Chrome, after downloading files, we can choose &quot;show in folder&quot; to open the file explorer and highlight the downloaded file.\r\n\r\nHow to use java Desktop API to do so?\r\nOr is there any other API in java can realize this action?\r\n","title":"How to use java code to open Windows file explorer and highlight the specified file?","body":"<p>I am now using java Desktop API to manipulate file explorer. \nI know how to open the file explorer but I don't know how to open it and highlight the specified file.</p>\n\n<p>As we using the Chrome, after downloading files, we can choose \"show in folder\" to open the file explorer and highlight the downloaded file.</p>\n\n<p>How to use java Desktop API to do so?\nOr is there any other API in java can realize this action?</p>\n"},{"tags":["java","groovy","soapui"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1512972794,"post_id":47743187,"comment_id":82454723,"body_markdown":"Benjamin, would you please take a look at below solution to see if that resolves the above mentioned issue? If that helps, you may mark it as [answered](https://stackoverflow.com/tour)","body":"Benjamin, would you please take a look at below solution to see if that resolves the above mentioned issue? If that helps, you may mark it as <a href=\"https://stackoverflow.com/tour\">answered</a>"}],"answers":[{"tags":[],"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512955409,"creation_date":1512955409,"answer_id":47745295,"question_id":47743187,"body_markdown":"`project.testSuites` gives you the map. Hence the error. Instead use `project.testSuiteList` which gives the list. So, that the above mentioned error goes away.\r\n\r\nSimilarly, other objects as well. See below changed code snippet.\r\n\r\n    for (suite in project.testSuiteList) {\r\n        for (kase in suite.testCaseList) {\r\n            for (step in kase.testStepList) {\r\n                someFile.withWriterAppend{out -&gt;out.println testStep.toString()}\r\n            }\r\n        }\r\n    }","title":"Iterate test steps in soapuI using groovy script","body":"<p><code>project.testSuites</code> gives you the map. Hence the error. Instead use <code>project.testSuiteList</code> which gives the list. So, that the above mentioned error goes away.</p>\n\n<p>Similarly, other objects as well. See below changed code snippet.</p>\n\n<pre><code>for (suite in project.testSuiteList) {\n    for (kase in suite.testCaseList) {\n        for (step in kase.testStepList) {\n            someFile.withWriterAppend{out -&gt;out.println testStep.toString()}\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6270507,"reputation":11,"user_id":4874903,"display_name":"Benjamin fraquet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682263180,"creation_date":1512938203,"question_id":47743187,"body_markdown":"I&#39;m currently trying to generate a report for my test suite in SoapUI.\r\n\r\nMy old working code was a line this, in the testSuite teardown script:\r\n\r\n    def testc = project.testSuites[&#39;TestSuite&#39;].testCases[&#39;TestCase&#39;].testSteps[&#39;xxxxx&#39;]\r\n\r\nBut it had to be duplicated for each new test step.\r\n\r\nThe code that I&#39;m trying to use is this one:\r\n\r\n    for (service in project.testSuites) {\r\n        for (testCase in service.testCases) {\r\n            for (testStep in testCase.testSteps) {\r\n                someFile.withWriterAppend{out -&gt;out.println testStep.toString()}\r\n            }\r\n        }\r\n    }\r\n\r\nWhich is giving me this error:\r\n \r\n&gt;groovy?lang.MissingPropertyException: No such property: testCases for class: javaUtil.hashMap$Node\r\n\r\nSince I&#39;m using the same path to access every test step, I was surprised to not be able to do it with an iteration.","title":"Iterate test steps in soapuI using groovy script","body":"<p>I'm currently trying to generate a report for my test suite in SoapUI.</p>\n<p>My old working code was a line this, in the testSuite teardown script:</p>\n<pre><code>def testc = project.testSuites['TestSuite'].testCases['TestCase'].testSteps['xxxxx']\n</code></pre>\n<p>But it had to be duplicated for each new test step.</p>\n<p>The code that I'm trying to use is this one:</p>\n<pre><code>for (service in project.testSuites) {\n    for (testCase in service.testCases) {\n        for (testStep in testCase.testSteps) {\n            someFile.withWriterAppend{out -&gt;out.println testStep.toString()}\n        }\n    }\n}\n</code></pre>\n<p>Which is giving me this error:</p>\n<blockquote>\n<p>groovy?lang.MissingPropertyException: No such property: testCases for class: javaUtil.hashMap$Node</p>\n</blockquote>\n<p>Since I'm using the same path to access every test step, I was surprised to not be able to do it with an iteration.</p>\n"},{"tags":["java","testing","groovy","spock","wiremock"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682243187,"post_id":76083999,"comment_id":134181715,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"}],"answers":[{"tags":[],"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682254696,"creation_date":1682254696,"answer_id":76084974,"question_id":76083999,"body_markdown":"Try with `\\` to handle the double quotes\r\n\r\n```\r\n&quot;startDateTime&quot; : ${myTime? &quot;\\&quot;${myTime}\\&quot;&quot; : null}\r\n```","title":"Use Ternary operator in Groovy ,Spock and Rest Assured Testing - Intergation Test","body":"<p>Try with <code>\\</code> to handle the double quotes</p>\n<pre><code>&quot;startDateTime&quot; : ${myTime? &quot;\\&quot;${myTime}\\&quot;&quot; : null}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682262520,"creation_date":1682256026,"answer_id":76085082,"question_id":76083999,"body_markdown":"Like I said in my comment under _Shashank Vivek_&#39;s answer, you can also do this, avoiding nested GString interpolation altogether:\r\n\r\n```java\r\nclass MySpec extends Specification {\r\n  def &#39;should pass some test&#39;() {\r\n    given:\r\n    println \\\r\n      &quot;&quot;&quot;\\\r\n      {\r\n        &quot;startDateTime&quot; : ${myTime? &#39;&quot;&#39; + myTime + &#39;&quot;&#39; : null}\r\n      }\\\r\n      &quot;&quot;&quot;.stripIndent()\r\n\r\n    expect: true\r\n   \r\n    where:\r\n    productOrderId | myTime\r\n    &quot;1&quot;            | &quot;2023-04-23T07:13:15.862Z&quot;  \r\n    &quot;2&quot;            | null\r\n  }\r\n}\r\n```\r\n\r\nConsole log:\r\n\r\n```none\r\n{\r\n  &quot;startDateTime&quot; : &quot;2023-04-23T07:13:15.862Z&quot;\r\n}    \r\n{\r\n  &quot;startDateTime&quot; : null\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxdT7tOwzAU3fMVRxZSWqFWiQO08sLC0gEx0AmxRPEttZQ4kX0DrdL8O7FJpQov9zx87qOqS-_xen7vqAKdmKz2CMQcTFWyaS2GBNB0QOqPbV9rdCHh24bA5DldLOMP4Mt8k1URds5Yri0-IwOEEFc4zHUSPZeOX0qmvWlIQOFuaM4BPyMVKe7xxyYQqILt63qc4-NN67VnZ7qd1WR5sUyiQafpBlZg11MQovhzJEfXDVvdV_zmNLmdxmWeFT2RC9y8C4TMZLHKHlay2GcblRcqf1xvn-SHmBsL-S8RVp2cMRmTX7A6XD4).\r\n\r\nFeel free to ignore the backslashes and indentation removal. I was just being precise about avoiding unnecessary indentation and newline characters.","title":"Use Ternary operator in Groovy ,Spock and Rest Assured Testing - Intergation Test","body":"<p>Like I said in my comment under <em>Shashank Vivek</em>'s answer, you can also do this, avoiding nested GString interpolation altogether:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MySpec extends Specification {\n  def 'should pass some test'() {\n    given:\n    println \\\n      &quot;&quot;&quot;\\\n      {\n        &quot;startDateTime&quot; : ${myTime? '&quot;' + myTime + '&quot;' : null}\n      }\\\n      &quot;&quot;&quot;.stripIndent()\n\n    expect: true\n   \n    where:\n    productOrderId | myTime\n    &quot;1&quot;            | &quot;2023-04-23T07:13:15.862Z&quot;  \n    &quot;2&quot;            | null\n  }\n}\n</code></pre>\n<p>Console log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n  &quot;startDateTime&quot; : &quot;2023-04-23T07:13:15.862Z&quot;\n}    \n{\n  &quot;startDateTime&quot; : null\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxdT7tOwzAU3fMVRxZSWqFWiQO08sLC0gEx0AmxRPEttZQ4kX0DrdL8O7FJpQov9zx87qOqS-_xen7vqAKdmKz2CMQcTFWyaS2GBNB0QOqPbV9rdCHh24bA5DldLOMP4Mt8k1URds5Yri0-IwOEEFc4zHUSPZeOX0qmvWlIQOFuaM4BPyMVKe7xxyYQqILt63qc4-NN67VnZ7qd1WR5sUyiQafpBlZg11MQovhzJEfXDVvdV_zmNLmdxmWeFT2RC9y8C4TMZLHKHlay2GcblRcqf1xvn-SHmBsL-S8RVp2cMRmTX7A6XD4\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>Feel free to ignore the backslashes and indentation removal. I was just being precise about avoiding unnecessary indentation and newline characters.</p>\n"}],"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76084974,"answer_count":2,"score":0,"last_activity_date":1682262520,"creation_date":1682240910,"question_id":76083999,"body_markdown":"I have below code where I want to replace values based on `where` section of the test:\r\n\r\n```groovy\r\nvoid &#39;should pass some test() {\r\n  given:\r\n  stubFor(get(urlEqualTo(&quot;/someVal/$productOrderId&quot;))\r\n     .willReturn(defaultWiremockResponse()\r\n       .withBody(&quot;&quot;&quot; \r\n          {\r\n            &quot;startDateTime&quot; : ${myTime? &quot;$myTime&quot; : null}\r\n          }\r\n       &quot;&quot;&quot;\r\n    )\r\n   //...... some when\r\n   //...... some then\r\n   where:\r\n   productOrderId | myTime\r\n   &quot;1&quot;            | &quot;2023-04-23T07:13:15.862Z&quot;  \r\n   &quot;2&quot;            | &quot;null&quot; \r\n}\r\n```\r\n\r\nThis tests works for `null` but gives error for value like `&quot;2023-04-23T07:13:15.862Z&quot;`\r\n\r\n&gt; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character (&#39;-&#39; (code 45)): was expecting comma to separate Object entries\r\n\r\nI think somehow the `&quot;startDateTime&quot;` is not getting the value as wrapped around double quotes `&quot;&quot;` and getting as below \r\n\r\n```\r\n{\r\n  &quot;startDateTime&quot; : 2023-04-23T07:13:15.862Z   // missing quotes around the value\r\n}\r\n```\r\n\r\nand that could be the issue. Can someone help me understand this and fix this error for string interpolation\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c9cFH.png","title":"Use Ternary operator in Groovy ,Spock and Rest Assured Testing - Intergation Test","body":"<p>I have below code where I want to replace values based on <code>where</code> section of the test:</p>\n<pre><code>void 'should pass some test() {\n  given:\n  stubFor(get(urlEqualTo(&quot;/someVal/$productOrderId&quot;))\n     .willReturn(defaultWiremockResponse()\n       .withBody(&quot;&quot;&quot; \n          {\n            &quot;startDateTime&quot; : ${myTime? &quot;$myTime&quot; : null}\n          }\n       &quot;&quot;&quot;\n    )\n   //...... some when\n   //...... some then\n   where:\n   productOrderId | myTime\n   &quot;1&quot;            | &quot;2023-04-23T07:13:15.862Z&quot;  \n   &quot;2&quot;            | &quot;null&quot; \n}\n</code></pre>\n<p>This tests works for <code>null</code> but gives error for value like <code>&quot;2023-04-23T07:13:15.862Z&quot;</code></p>\n<blockquote>\n<p>nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character ('-' (code 45)): was expecting comma to separate Object entries</p>\n</blockquote>\n<p>I think somehow the <code>&quot;startDateTime&quot;</code> is not getting the value as wrapped around double quotes <code>&quot;&quot;</code> and getting as below</p>\n<pre><code>{\n  &quot;startDateTime&quot; : 2023-04-23T07:13:15.862Z   // missing quotes around the value\n}\n</code></pre>\n<p>and that could be the issue. Can someone help me understand this and fix this error for string interpolation</p>\n"},{"tags":["java","spring","gradle","bootrun"],"comments":[{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1682300869,"post_id":76085612,"comment_id":134188560,"body_markdown":"You can start the SpringBoot application process without waiting for it to complete using `ProcessBuilder` as described in this answer https://stackoverflow.com/a/22196999/12092416. You will need to create another task to stop it.","body":"You can start the SpringBoot application process without waiting for it to complete using <code>ProcessBuilder</code> as described in this answer <a href=\"https://stackoverflow.com/a/22196999/12092416\">stackoverflow.com/a/22196999/12092416</a>. You will need to create another task to stop it."},{"owner":{"account_id":24615641,"reputation":3,"user_id":18516692,"display_name":"Tom"},"score":0,"creation_date":1682425544,"post_id":76085612,"comment_id":134210206,"body_markdown":"tasks.register(&#39;startApp&#39;) {\n\tgroup &quot;E2E Tests&quot;\n\tdoLast {\n\t\texec {\n\t\t\tProcessBuilder pb = new ProcessBuilder([&#39;cmd&#39;, &#39;/c&#39;, &#39;gradle bootRun&#39;])\n\t\t\tProcess process = pb.start()\n\t\t\tprocess.waitFor()\n\t\t\tprintln &quot;Tomcat is coming up now ... &quot; + process.exitValue()\n\t\t}\n\t}\n}\n\nI tried to use this but it does not work, it just get stuck at the loading stage","body":"tasks.register(&#39;startApp&#39;) { \tgroup &quot;E2E Tests&quot; \tdoLast { \t\texec { \t\t\tProcessBuilder pb = new ProcessBuilder([&#39;cmd&#39;, &#39;/c&#39;, &#39;gradle bootRun&#39;]) \t\t\tProcess process = pb.start() \t\t\tprocess.waitFor() \t\t\tprintln &quot;Tomcat is coming up now ... &quot; + process.exitValue() \t\t} \t} }  I tried to use this but it does not work, it just get stuck at the loading stage"}],"owner":{"account_id":24615641,"reputation":3,"user_id":18516692,"display_name":"Tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682262451,"creation_date":1682262361,"question_id":76085612,"body_markdown":"I am trying to create a gradle task that will execute a postman collection against a running Spring Boot app. For this to happen the first part of the task has to be that the app is started using `gradle bootRun`. The problem is that this task never finishes as the server just keeps running.\r\n\r\nHow could I write this task in a way that will start up the Springboot app, run the postman collection and then stop the app?\r\n\r\n\r\n```\r\ntasks.register(&#39;runE2Etests&#39;) {\r\n\tgroup &quot;E2E Tests&quot;\r\n\tdoLast {\r\n\t\texec {\r\n\t\t\tcommandLine &#39;cmd&#39;, &#39;/c&#39;, &#39;gradle bootRun&#39;\r\n\t\t}\r\n\t\texec {\r\n\t\t\tcommandLine &#39;cmd&#39;, &#39;/c&#39;, &#39;newman run src/main/resources/manualTestData/example.postman_collection.json&#39;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI wrote the task above but the task is stuck at `gradle bootRun` as that is a continuous task and because of this it never goes to the next part of it.","title":"How to run a gradle task after bootRun has started up the Springboot app","body":"<p>I am trying to create a gradle task that will execute a postman collection against a running Spring Boot app. For this to happen the first part of the task has to be that the app is started using <code>gradle bootRun</code>. The problem is that this task never finishes as the server just keeps running.</p>\n<p>How could I write this task in a way that will start up the Springboot app, run the postman collection and then stop the app?</p>\n<pre><code>tasks.register('runE2Etests') {\n    group &quot;E2E Tests&quot;\n    doLast {\n        exec {\n            commandLine 'cmd', '/c', 'gradle bootRun'\n        }\n        exec {\n            commandLine 'cmd', '/c', 'newman run src/main/resources/manualTestData/example.postman_collection.json'\n        }\n    }\n}\n</code></pre>\n<p>I wrote the task above but the task is stuck at <code>gradle bootRun</code> as that is a continuous task and because of this it never goes to the next part of it.</p>\n"},{"tags":["java","apache-poi","spring-batch"],"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682262031,"creation_date":1682261993,"question_id":76085580,"body_markdown":"I&#39;ve an excel file: [excel file snapshoot](https://i.stack.imgur.com/Rh1zb.png)\r\nand going to read the data using PoiItemReader. In case the header row is under 0 index, everything works fine, but if the header row number is 5, the reader cannot process the data. How can we set header row number to reader?\r\nPoiItemReader:\r\n\r\n```\r\n@Bean\r\n    public ItemStreamReader&lt;T&gt; reader(final String filePath, final RowMapper&lt;T&gt; rowMapper) {\r\n        PoiItemReader&lt;T&gt; reader = new PoiItemReader&lt;&gt;();\r\n        reader.setResource(getResource(filePath));\r\n        reader.setRowMapper(rowMapper);\r\n        reader.setLinesToSkip(1);\r\n\r\n        return reader;\r\n    }\r\n```\r\n\r\n\r\n\r\nIdeally define dynamically header row, based on input Set.of(&quot;column names&quot;...) or just set to reader the header row number","title":"Dynamically define and set header row to PoiItemReader","body":"<p>I've an excel file: <a href=\"https://i.stack.imgur.com/Rh1zb.png\" rel=\"nofollow noreferrer\">excel file snapshoot</a>\nand going to read the data using PoiItemReader. In case the header row is under 0 index, everything works fine, but if the header row number is 5, the reader cannot process the data. How can we set header row number to reader?\nPoiItemReader:</p>\n<pre><code>@Bean\n    public ItemStreamReader&lt;T&gt; reader(final String filePath, final RowMapper&lt;T&gt; rowMapper) {\n        PoiItemReader&lt;T&gt; reader = new PoiItemReader&lt;&gt;();\n        reader.setResource(getResource(filePath));\n        reader.setRowMapper(rowMapper);\n        reader.setLinesToSkip(1);\n\n        return reader;\n    }\n</code></pre>\n<p>Ideally define dynamically header row, based on input Set.of(&quot;column names&quot;...) or just set to reader the header row number</p>\n"},{"tags":["java","javafx","guice","inject"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1682258744,"post_id":76084756,"comment_id":134183530,"body_markdown":"[Gluon ignite](https://gluonhq.com/labs/ignite/) works with Guice.  I haven&#39;t tried it, but maybe use that rather than creating your own solution to integrate JavaFX and Guice.  For an overview of mechanisms for injecting into FXML controllers (not Guice specific), see [Eden coding&#39;s guide to FXML dependency injection and controller initialisation](https://edencoding.com/dependency-injection/).","body":"<a href=\"https://gluonhq.com/labs/ignite/\" rel=\"nofollow noreferrer\">Gluon ignite</a> works with Guice.  I haven&#39;t tried it, but maybe use that rather than creating your own solution to integrate JavaFX and Guice.  For an overview of mechanisms for injecting into FXML controllers (not Guice specific), see <a href=\"https://edencoding.com/dependency-injection/\" rel=\"nofollow noreferrer\">Eden coding&#39;s guide to FXML dependency injection and controller initialisation</a>."},{"owner":{"account_id":9002529,"reputation":351,"user_id":6710619,"display_name":"NicholasG04"},"score":0,"creation_date":1682260646,"post_id":76084756,"comment_id":134183801,"body_markdown":"Thanks - currently trying (and struggling) with Gluon Ignite. I think I might have the DI design pattern simply wrong on a deeper level for controlling screens","body":"Thanks - currently trying (and struggling) with Gluon Ignite. I think I might have the DI design pattern simply wrong on a deeper level for controlling screens"},{"owner":{"account_id":9002529,"reputation":351,"user_id":6710619,"display_name":"NicholasG04"},"score":0,"creation_date":1682261428,"post_id":76084756,"comment_id":134183917,"body_markdown":"Turns out I managed to somehow fix it by leveraging this post: https://stackoverflow.com/questions/36165151/inject-data-with-guice-into-javafx-viewcontroller\n\nI now run `bind()` for all of my controllers, deleted all of the `@Provides` stuff and now just inject with `@Inject` constructor injection and somehow it works.","body":"Turns out I managed to somehow fix it by leveraging this post: <a href=\"https://stackoverflow.com/questions/36165151/inject-data-with-guice-into-javafx-viewcontroller\" title=\"inject data with guice into javafx viewcontroller\">stackoverflow.com/questions/36165151/&hellip;</a>  I now run <code>bind()</code> for all of my controllers, deleted all of the <code>@Provides</code> stuff and now just inject with <code>@Inject</code> constructor injection and somehow it works."}],"answers":[{"tags":[],"owner":{"account_id":9002529,"reputation":351,"user_id":6710619,"display_name":"NicholasG04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682261976,"creation_date":1682261976,"answer_id":76085577,"question_id":76084756,"body_markdown":"I fixed this by taking some advice from https://stackoverflow.com/questions/36165151/inject-data-with-guice-into-javafx-viewcontroller \r\n\r\nNew ServiceModule.java:\r\n```java\r\npublic class ServiceModule extends AbstractModule {\r\n    @Override\r\n    public void configure() {\r\n        bind(LoginController.class);\r\n        bind(HoldingsController.class);\r\n        bind(RegisterController.class);\r\n        bind(TradeController.class);\r\n    }\r\n}\r\n```\r\n\r\nSo here all of the controllers for the views are bound, and I removed all of the `@Provides` elements - turns out these are completely unnecessary, and Guice can do the necessary constructor injection without any of that.","title":"Initialising a JavaFX application Screen Management Service using Guice for Dependency Injection","body":"<p>I fixed this by taking some advice from <a href=\"https://stackoverflow.com/questions/36165151/inject-data-with-guice-into-javafx-viewcontroller\">Inject Data with Guice into JavaFX ViewController</a></p>\n<p>New ServiceModule.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceModule extends AbstractModule {\n    @Override\n    public void configure() {\n        bind(LoginController.class);\n        bind(HoldingsController.class);\n        bind(RegisterController.class);\n        bind(TradeController.class);\n    }\n}\n</code></pre>\n<p>So here all of the controllers for the views are bound, and I removed all of the <code>@Provides</code> elements - turns out these are completely unnecessary, and Guice can do the necessary constructor injection without any of that.</p>\n"}],"owner":{"account_id":9002529,"reputation":351,"user_id":6710619,"display_name":"NicholasG04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682261976,"creation_date":1682251904,"question_id":76084756,"body_markdown":"I have a JavaFX application, and throughout the application the active &#39;screen&#39; is changed by calling a `loadScene` method on a ScreenService. This ScreenService should be injected as a Singleton via constructor injection (with `@Inject`) into the controllers in which it is needed.\r\n\r\nIn order to use `@Inject` inside ScreenService to access the injector (necessary for setting an intermediary controllerFactory with `FXMLLoader.setControllerFactory`), I have had to create a new `launch` method that takes in the `primaryStage` and sets it on the object to use later. I hoped this would work because `ScreenService` is marked with `@Inject` inside ServiceModule.java. However, it is initialising `ScreenService` twice currently, and so when a new scene is loaded with `loadScene` there is a `NullPointerException` as `stage` is null.\r\n\r\nThis would imply that for some reason the `ScreenService` from `injector.getInstance` is a different instance to that being used in, for example, LoginController.java, where `@Inject` is being used to inject `@Screens ScreenService screenService`.\r\n\r\nExpected result - when loading a new scene there is no NullPointerException.\r\n\r\nI also tried taking some completely different approaches, such as using AssistedInject to inject the primaryStage into the constructor along with the Injector of ScreenService, but that completely failed.\r\n\r\nAll relevant code snippets:\r\n\r\nMain.java:\r\n```java\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Injector injector = Guice.createInjector(new ServiceModule());\r\n        ScreenService screenService = injector.getInstance(ScreenService.class);\r\n        screenService.launch(primaryStage);\r\n    }\r\n```\r\n\r\nServiceModule.java:\r\n```java\r\npublic class ServiceModule extends AbstractModule {\r\n    @Qualifier\r\n    @Retention(RUNTIME)\r\n    public @interface Users {}\r\n\r\n    @Qualifier\r\n    @Retention(RUNTIME)\r\n    public @interface Assets {}\r\n\r\n    @Qualifier\r\n    @Retention(RUNTIME)\r\n    public @interface Screens {}\r\n\r\n    @Provides\r\n    @Singleton\r\n    @Users\r\n    static UserService provideUserService(AssetService assetService) {\r\n        return new UserService(assetService);\r\n    }\r\n\r\n    @Provides\r\n    @Singleton\r\n    @Assets\r\n    static AssetService provideAssetService() {\r\n        return new AssetService();\r\n    }\r\n\r\n    @Provides\r\n    @Singleton\r\n    @Screens\r\n    static ScreenService provideScreenService(Injector injector) {\r\n        return new ScreenService(injector);\r\n    }\r\n```\r\n\r\nScreenService.java:\r\n```java\r\npublic class ScreenService {\r\n    private final HashMap&lt;String, AppScreen&gt; screenMap = new HashMap&lt;&gt;();\r\n    private Stage stage;\r\n    private final Injector injector;\r\n\r\n    @Inject\r\n    public ScreenService(Injector injector) {\r\n        System.out.println(&quot;init&quot;);\r\n        this.injector = injector;\r\n    }\r\n\r\n\r\n    public void launch(Stage stage) {\r\n        this.stage = stage;\r\n        this.stage.setTitle(&quot;Brokerage Application&quot;);\r\n        loadScene(&quot;/login-view.fxml&quot;);\r\n        this.stage.show();\r\n    }\r\n\r\n    public void loadScene(String fxmlPath) {\r\n        AppScreen appScreen;\r\n        if (screenMap.containsKey(fxmlPath)) {\r\n            appScreen = screenMap.get(fxmlPath);\r\n        } else {\r\n            appScreen = new AppScreen();\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\r\n            loader.setControllerFactory(injector::getInstance);\r\n            try {\r\n                Parent root = loader.load();\r\n                Scene scene = new Scene(root, 500, 400);\r\n                scene.getStylesheets().add(getClass().getResource(&quot;/styles.css&quot;).toExternalForm());\r\n\r\n                appScreen.setRootController(loader.getController());\r\n                appScreen.setFxmlPath(fxmlPath);\r\n                appScreen.setScene(scene);\r\n                screenMap.put(fxmlPath, appScreen);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (appScreen.getRootController() instanceof RefreshableScreen) {\r\n            ((RefreshableScreen) appScreen.getRootController()).refreshData();\r\n        }\r\n        stage.setScene(appScreen.getScene());\r\n\r\n    }\r\n}\r\n```\r\n\r\nLoginController.java\r\n```java\r\n    @Inject\r\n    public LoginController(@ServiceModule.Screens ScreenService screenService, @ServiceModule.Users UserService userService) {\r\n        this.screenController = screenService;\r\n        this.userService = userService;\r\n    }\r\n```","title":"Initialising a JavaFX application Screen Management Service using Guice for Dependency Injection","body":"<p>I have a JavaFX application, and throughout the application the active 'screen' is changed by calling a <code>loadScene</code> method on a ScreenService. This ScreenService should be injected as a Singleton via constructor injection (with <code>@Inject</code>) into the controllers in which it is needed.</p>\n<p>In order to use <code>@Inject</code> inside ScreenService to access the injector (necessary for setting an intermediary controllerFactory with <code>FXMLLoader.setControllerFactory</code>), I have had to create a new <code>launch</code> method that takes in the <code>primaryStage</code> and sets it on the object to use later. I hoped this would work because <code>ScreenService</code> is marked with <code>@Inject</code> inside ServiceModule.java. However, it is initialising <code>ScreenService</code> twice currently, and so when a new scene is loaded with <code>loadScene</code> there is a <code>NullPointerException</code> as <code>stage</code> is null.</p>\n<p>This would imply that for some reason the <code>ScreenService</code> from <code>injector.getInstance</code> is a different instance to that being used in, for example, LoginController.java, where <code>@Inject</code> is being used to inject <code>@Screens ScreenService screenService</code>.</p>\n<p>Expected result - when loading a new scene there is no NullPointerException.</p>\n<p>I also tried taking some completely different approaches, such as using AssistedInject to inject the primaryStage into the constructor along with the Injector of ScreenService, but that completely failed.</p>\n<p>All relevant code snippets:</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void start(Stage primaryStage) {\n        Injector injector = Guice.createInjector(new ServiceModule());\n        ScreenService screenService = injector.getInstance(ScreenService.class);\n        screenService.launch(primaryStage);\n    }\n</code></pre>\n<p>ServiceModule.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceModule extends AbstractModule {\n    @Qualifier\n    @Retention(RUNTIME)\n    public @interface Users {}\n\n    @Qualifier\n    @Retention(RUNTIME)\n    public @interface Assets {}\n\n    @Qualifier\n    @Retention(RUNTIME)\n    public @interface Screens {}\n\n    @Provides\n    @Singleton\n    @Users\n    static UserService provideUserService(AssetService assetService) {\n        return new UserService(assetService);\n    }\n\n    @Provides\n    @Singleton\n    @Assets\n    static AssetService provideAssetService() {\n        return new AssetService();\n    }\n\n    @Provides\n    @Singleton\n    @Screens\n    static ScreenService provideScreenService(Injector injector) {\n        return new ScreenService(injector);\n    }\n</code></pre>\n<p>ScreenService.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScreenService {\n    private final HashMap&lt;String, AppScreen&gt; screenMap = new HashMap&lt;&gt;();\n    private Stage stage;\n    private final Injector injector;\n\n    @Inject\n    public ScreenService(Injector injector) {\n        System.out.println(&quot;init&quot;);\n        this.injector = injector;\n    }\n\n\n    public void launch(Stage stage) {\n        this.stage = stage;\n        this.stage.setTitle(&quot;Brokerage Application&quot;);\n        loadScene(&quot;/login-view.fxml&quot;);\n        this.stage.show();\n    }\n\n    public void loadScene(String fxmlPath) {\n        AppScreen appScreen;\n        if (screenMap.containsKey(fxmlPath)) {\n            appScreen = screenMap.get(fxmlPath);\n        } else {\n            appScreen = new AppScreen();\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\n            loader.setControllerFactory(injector::getInstance);\n            try {\n                Parent root = loader.load();\n                Scene scene = new Scene(root, 500, 400);\n                scene.getStylesheets().add(getClass().getResource(&quot;/styles.css&quot;).toExternalForm());\n\n                appScreen.setRootController(loader.getController());\n                appScreen.setFxmlPath(fxmlPath);\n                appScreen.setScene(scene);\n                screenMap.put(fxmlPath, appScreen);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        if (appScreen.getRootController() instanceof RefreshableScreen) {\n            ((RefreshableScreen) appScreen.getRootController()).refreshData();\n        }\n        stage.setScene(appScreen.getScene());\n\n    }\n}\n</code></pre>\n<p>LoginController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Inject\n    public LoginController(@ServiceModule.Screens ScreenService screenService, @ServiceModule.Users UserService userService) {\n        this.screenController = screenService;\n        this.userService = userService;\n    }\n</code></pre>\n"},{"tags":["java","gradle","bcrypt"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682261912,"creation_date":1682261912,"answer_id":76085568,"question_id":76085469,"body_markdown":"Pretty sure its `at.favre.lib::bCrypt::0.4.1`, not `at.favre.lib.crypto`. Also, current version is 0.10.2; 0.4.1 is from 2018, and not used. More generally it doesn&#39;t sound right to have _both_ at.favre.lib and org.mindrot&#39;s - you pick one of them.\r\n","title":"Trouble with adding Bcrypt repository","body":"<p>Pretty sure its <code>at.favre.lib::bCrypt::0.4.1</code>, not <code>at.favre.lib.crypto</code>. Also, current version is 0.10.2; 0.4.1 is from 2018, and not used. More generally it doesn't sound right to have <em>both</em> at.favre.lib and org.mindrot's - you pick one of them.</p>\n"}],"owner":{"account_id":25358134,"reputation":13,"user_id":19173909,"display_name":"LostStudent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682261912,"creation_date":1682260894,"question_id":76085469,"body_markdown":" I&#39;m trying to add bcrypt dependency. I found that I should add it this way but what I should paste here ? From where i can access repository ?\r\n\r\n    maven{\r\n            url &quot;&quot;\r\n        }\r\nSource code\r\n\r\n    plugins {\r\n            id &#39;java&#39;\r\n        }\r\n        \r\n        group &#39;org.example&#39;\r\n        version &#39;1.0-SNAPSHOT&#39;\r\n        \r\n        repositories {\r\n            mavenCentral()\r\n            maven{\r\n                url &quot;&quot;\r\n            }\r\n        }\r\n        \r\n        dependencies {\r\n            implementation &#39;org.mindrot:jbcrypt:0.4&#39;\r\n            implementation &#39;at.favre.lib.crypto:bCrypt:0.4.1&#39;\r\n        \r\n            testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n            testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n        }\r\n        \r\n        \r\n        test {\r\n            useJUnitPlatform()\r\n        }\r\n   I got message below: \r\n\r\n    &gt; Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n    &gt;    &gt; Could not find at.favre.lib.crypto:bCrypt:0.4.1.\r\n    &gt;      Searched in the following locations:\r\n    &gt;        - https://repo.maven.apache.org/maven2/at/favre/lib/crypto/bCrypt/0.4.1/bCrypt-0.4.1.pom\r\n    &gt;      If the artifact you are trying to retrieve can be found in the repository but without metadata in &#39;Maven POM&#39; format, you need to\r\n    &gt; adjust the &#39;metadataSources { ... }&#39; of the repository declaration.\r\n    &gt;      Required by:\r\n    &gt;          project :\r\n    &gt; \r\n    &gt; Possible solution:\r\n    &gt;  - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n","title":"Trouble with adding Bcrypt repository","body":"<p>I'm trying to add bcrypt dependency. I found that I should add it this way but what I should paste here ? From where i can access repository ?</p>\n<pre><code>maven{\n        url &quot;&quot;\n    }\n</code></pre>\n<p>Source code</p>\n<pre><code>plugins {\n        id 'java'\n    }\n    \n    group 'org.example'\n    version '1.0-SNAPSHOT'\n    \n    repositories {\n        mavenCentral()\n        maven{\n            url &quot;&quot;\n        }\n    }\n    \n    dependencies {\n        implementation 'org.mindrot:jbcrypt:0.4'\n        implementation 'at.favre.lib.crypto:bCrypt:0.4.1'\n    \n        testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n        testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    }\n    \n    \n    test {\n        useJUnitPlatform()\n    }\n</code></pre>\n<p>I got message below:</p>\n<pre><code>&gt; Execution failed for task ':compileJava'.\n&gt; &gt; Could not resolve all files for configuration ':compileClasspath'.\n&gt;    &gt; Could not find at.favre.lib.crypto:bCrypt:0.4.1.\n&gt;      Searched in the following locations:\n&gt;        - https://repo.maven.apache.org/maven2/at/favre/lib/crypto/bCrypt/0.4.1/bCrypt-0.4.1.pom\n&gt;      If the artifact you are trying to retrieve can be found in the repository but without metadata in 'Maven POM' format, you need to\n&gt; adjust the 'metadataSources { ... }' of the repository declaration.\n&gt;      Required by:\n&gt;          project :\n&gt; \n&gt; Possible solution:\n&gt;  - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n"},{"tags":["java","android","c++","tensorflow","tflite"],"owner":{"account_id":415996,"reputation":57,"user_id":791128,"accept_rate":80,"display_name":"paganpasta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682261044,"creation_date":1682261044,"question_id":76085485,"body_markdown":"I am following the [official][1] guide in order to include a sentence embedding model into an android application. For the model weights it points towards the [tf-hub][2] link with weights provided from google. \r\n\r\nCode there seems to be provided for C++ use-case. Is there anyway I can use the Java API to do the inference? \r\nI tried using the code below following Java-API resources I could find.\r\n\r\n    MappedByteBuffer tfliteModel\r\n                    = FileUtil.loadMappedFile(context, MODEL_PATH);\r\n    InterpreterApi tflite = new InterpreterFactory().create(\r\n                    tfliteModel, new InterpreterApi.Options());\r\n\r\nBut it gives the following error: `Encountered unresolved custom op: TFSentencepieceTokenizeOp` while loading the model\r\n\r\n---\r\n\r\n**With C++ NDK**\r\n\r\nThe model in the TF-hub also points to the [TFlite-support][3] library and in particular to the [header][4] file in c++ format.  \r\n\r\nI did the following steps: \r\n\r\n 1. Create a `cpp` folder in the `app.main` location and added NDK stuff required for it to work using CMake.\r\n 2. Following the [add native code][5] guide. I added the above mentioned header file to the `app.main` location\r\n 3. I added the `native-lib.cpp` following tutorials etc and can now call a dummy c++ function from my Java code using JNI. \r\n 4.  **Do I need to add the entire tf-lite repository for c++ in order to make the inference work? What&#39;s the efficient and clean way of doing that?**\r\n\r\nwhat my `native-lib` looks like\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;string&gt;\r\n\r\n    extern &quot;C&quot;\r\n    JNIEXPORT jstring JNICALL\r\n    Java_com_dummy_Caller_stringFromJNI(JNIEnv *env, jobject thiz) {\r\n        std::string hello = &quot;Hello from C++&quot;;\r\n        return env-&gt;NewStringUTF(hello.c_str());\r\n    }\r\n\r\nAny help is appreciated. \r\n\r\n\r\n  [1]: https://www.tensorflow.org/lite/inference_with_metadata/task_library/text_embedder\r\n  [2]: https://tfhub.dev/google/lite-model/universal-sentence-encoder-qa-ondevice/1\r\n  [3]: https://github.com/tensorflow/tflite-support\r\n  [4]: https://github.com/tensorflow/tflite-support/blob/master/tensorflow_lite_support/cc/task/text/universal_sentence_encoder_qa.h\r\n  [5]: https://developer.android.com/studio/projects/add-native-code#create-sources","title":"How to use the sentence embedding in the android app using tf-lite?","body":"<p>I am following the <a href=\"https://www.tensorflow.org/lite/inference_with_metadata/task_library/text_embedder\" rel=\"nofollow noreferrer\">official</a> guide in order to include a sentence embedding model into an android application. For the model weights it points towards the <a href=\"https://tfhub.dev/google/lite-model/universal-sentence-encoder-qa-ondevice/1\" rel=\"nofollow noreferrer\">tf-hub</a> link with weights provided from google.</p>\n<p>Code there seems to be provided for C++ use-case. Is there anyway I can use the Java API to do the inference?\nI tried using the code below following Java-API resources I could find.</p>\n<pre><code>MappedByteBuffer tfliteModel\n                = FileUtil.loadMappedFile(context, MODEL_PATH);\nInterpreterApi tflite = new InterpreterFactory().create(\n                tfliteModel, new InterpreterApi.Options());\n</code></pre>\n<p>But it gives the following error: <code>Encountered unresolved custom op: TFSentencepieceTokenizeOp</code> while loading the model</p>\n<hr />\n<p><strong>With C++ NDK</strong></p>\n<p>The model in the TF-hub also points to the <a href=\"https://github.com/tensorflow/tflite-support\" rel=\"nofollow noreferrer\">TFlite-support</a> library and in particular to the <a href=\"https://github.com/tensorflow/tflite-support/blob/master/tensorflow_lite_support/cc/task/text/universal_sentence_encoder_qa.h\" rel=\"nofollow noreferrer\">header</a> file in c++ format.</p>\n<p>I did the following steps:</p>\n<ol>\n<li>Create a <code>cpp</code> folder in the <code>app.main</code> location and added NDK stuff required for it to work using CMake.</li>\n<li>Following the <a href=\"https://developer.android.com/studio/projects/add-native-code#create-sources\" rel=\"nofollow noreferrer\">add native code</a> guide. I added the above mentioned header file to the <code>app.main</code> location</li>\n<li>I added the <code>native-lib.cpp</code> following tutorials etc and can now call a dummy c++ function from my Java code using JNI.</li>\n<li><strong>Do I need to add the entire tf-lite repository for c++ in order to make the inference work? What's the efficient and clean way of doing that?</strong></li>\n</ol>\n<p>what my <code>native-lib</code> looks like</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;string&gt;\n\nextern &quot;C&quot;\nJNIEXPORT jstring JNICALL\nJava_com_dummy_Caller_stringFromJNI(JNIEnv *env, jobject thiz) {\n    std::string hello = &quot;Hello from C++&quot;;\n    return env-&gt;NewStringUTF(hello.c_str());\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","recursion","stack"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1682257299,"post_id":76066747,"comment_id":134183309,"body_markdown":"Could you please clarify what the question here is? Both methods count down from 50 to 2, and `rt1` in the end returns 1. Also why do you have this `println(&#39;\\u000C&#39;)` at the beginning? Is this a question about how the JVM executes this, how the Java byte code for this looks like, if there is tail recursion support, ...?","body":"Could you please clarify what the question here is? Both methods count down from 50 to 2, and <code>rt1</code> in the end returns 1. Also why do you have this <code>println(&#39;\\u000C&#39;)</code> at the beginning? Is this a question about how the JVM executes this, how the Java byte code for this looks like, if there is tail recursion support, ...?"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1682258754,"post_id":76066747,"comment_id":134183532,"body_markdown":"The ‘/u000C’ simply clears the screen in the bluej ide. I’m trying to understand the difference between calling a method recursively and returning a method recursively. I understand in the later why you can run out of memory but seems odd you run out when you’re just calling the method.","body":"The ‘/u000C’ simply clears the screen in the bluej ide. I’m trying to understand the difference between calling a method recursively and returning a method recursively. I understand in the later why you can run out of memory but seems odd you run out when you’re just calling the method."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682260286,"creation_date":1682260286,"answer_id":76085424,"question_id":76066747,"body_markdown":"Not completely sure if that answers your question, but the only difference for method `rt0` and `rt1` is that one returns a value every time it is called while the other does not.\r\n\r\nYou can also compare the Java bytecode for them if you want by running `javac Return.java` and then `javap -v Return.class`. For JDK 17 I get this output:\r\n\r\n```\r\n  public static void main(java.lang.String[]);\r\n    descriptor: ([Ljava/lang/String;)V\r\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n         3: bipush        12\r\n         5: invokevirtual #13                 // Method java/io/PrintStream.println:(C)V\r\n         8: bipush        50\r\n        10: invokestatic  #19                 // Method rt0:(I)V\r\n        13: bipush        50\r\n        15: invokestatic  #25                 // Method rt1:(I)I\r\n        18: pop\r\n        19: return\r\n      LineNumberTable:\r\n        line 3: 0\r\n        line 5: 8\r\n        line 6: 13\r\n        line 8: 19\r\n\r\n  public static void rt0(int);\r\n    descriptor: (I)V\r\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: iload_0\r\n         1: iconst_1\r\n         2: if_icmpne     6\r\n         5: return\r\n         6: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n         9: iload_0\r\n        10: invokevirtual #29                 // Method java/io/PrintStream.println:(I)V\r\n        13: iload_0\r\n        14: iconst_1\r\n        15: isub\r\n        16: invokestatic  #19                 // Method rt0:(I)V\r\n        19: return\r\n      LineNumberTable:\r\n        line 12: 0\r\n        line 14: 6\r\n        line 15: 13\r\n        line 17: 19\r\n      StackMapTable: number_of_entries = 1\r\n        frame_type = 6 /* same */\r\n\r\n  public static int rt1(int);\r\n    descriptor: (I)I\r\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\r\n    Code:\r\n      stack=2, locals=1, args_size=1\r\n         0: iload_0\r\n         1: iconst_1\r\n         2: if_icmpne     7\r\n         5: iload_0\r\n         6: ireturn\r\n         7: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n        10: iload_0\r\n        11: invokevirtual #29                 // Method java/io/PrintStream.println:(I)V\r\n        14: iload_0\r\n        15: iconst_1\r\n        16: isub\r\n        17: invokestatic  #25                 // Method rt1:(I)I\r\n        20: ireturn\r\n      LineNumberTable:\r\n        line 21: 0\r\n        line 23: 7\r\n        line 24: 14\r\n      StackMapTable: number_of_entries = 1\r\n        frame_type = 7 /* same */\r\n```\r\n\r\nIf you diff the code for both methods the main difference is that one method does not return a value whereas the other one does:\r\n```\r\nreturn\r\n...\r\nreturn\r\n```\r\nvs.\r\n```\r\niload_0\r\nireturn\r\n...\r\nireturn\r\n```\r\n\r\nFor neither of them you should run out of memory (`java.lang.OutOfMemoryError`), at most you might run into a `java.lang.StackOverflowError`, but only if you drastically increase that number 50 in your sample code, for example to 100000.\r\n\r\nThe [stack overflow](https://en.wikipedia.org/wiki/Stack_overflow) is similar to what you would get with many programming languages because each time the method recursively calls itself some memory is needed to store certain information, such as who was calling the method or which local variables are present in the caller. Eventually you will run out of available stack memory which causes the `StackOverflowError`.\r\n\r\nSome other programming languages can avoid the stack overflow for tail-recursive calls, but that is not the case for Java yet, see for example [this question](https://stackoverflow.com/q/20826786).\r\n","title":"recursion, what&#39;s the difference in the stack?","body":"<p>Not completely sure if that answers your question, but the only difference for method <code>rt0</code> and <code>rt1</code> is that one returns a value every time it is called while the other does not.</p>\n<p>You can also compare the Java bytecode for them if you want by running <code>javac Return.java</code> and then <code>javap -v Return.class</code>. For JDK 17 I get this output:</p>\n<pre><code>  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         3: bipush        12\n         5: invokevirtual #13                 // Method java/io/PrintStream.println:(C)V\n         8: bipush        50\n        10: invokestatic  #19                 // Method rt0:(I)V\n        13: bipush        50\n        15: invokestatic  #25                 // Method rt1:(I)I\n        18: pop\n        19: return\n      LineNumberTable:\n        line 3: 0\n        line 5: 8\n        line 6: 13\n        line 8: 19\n\n  public static void rt0(int);\n    descriptor: (I)V\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: iload_0\n         1: iconst_1\n         2: if_icmpne     6\n         5: return\n         6: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n         9: iload_0\n        10: invokevirtual #29                 // Method java/io/PrintStream.println:(I)V\n        13: iload_0\n        14: iconst_1\n        15: isub\n        16: invokestatic  #19                 // Method rt0:(I)V\n        19: return\n      LineNumberTable:\n        line 12: 0\n        line 14: 6\n        line 15: 13\n        line 17: 19\n      StackMapTable: number_of_entries = 1\n        frame_type = 6 /* same */\n\n  public static int rt1(int);\n    descriptor: (I)I\n    flags: (0x0009) ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=1, args_size=1\n         0: iload_0\n         1: iconst_1\n         2: if_icmpne     7\n         5: iload_0\n         6: ireturn\n         7: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n        10: iload_0\n        11: invokevirtual #29                 // Method java/io/PrintStream.println:(I)V\n        14: iload_0\n        15: iconst_1\n        16: isub\n        17: invokestatic  #25                 // Method rt1:(I)I\n        20: ireturn\n      LineNumberTable:\n        line 21: 0\n        line 23: 7\n        line 24: 14\n      StackMapTable: number_of_entries = 1\n        frame_type = 7 /* same */\n</code></pre>\n<p>If you diff the code for both methods the main difference is that one method does not return a value whereas the other one does:</p>\n<pre><code>return\n...\nreturn\n</code></pre>\n<p>vs.</p>\n<pre><code>iload_0\nireturn\n...\nireturn\n</code></pre>\n<p>For neither of them you should run out of memory (<code>java.lang.OutOfMemoryError</code>), at most you might run into a <code>java.lang.StackOverflowError</code>, but only if you drastically increase that number 50 in your sample code, for example to 100000.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Stack_overflow\" rel=\"nofollow noreferrer\">stack overflow</a> is similar to what you would get with many programming languages because each time the method recursively calls itself some memory is needed to store certain information, such as who was calling the method or which local variables are present in the caller. Eventually you will run out of available stack memory which causes the <code>StackOverflowError</code>.</p>\n<p>Some other programming languages can avoid the stack overflow for tail-recursive calls, but that is not the case for Java yet, see for example <a href=\"https://stackoverflow.com/q/20826786\">this question</a>.</p>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682260286,"creation_date":1682011410,"question_id":76066747,"body_markdown":"In the following program what&#39;s the difference in the stack execution of each method?\r\n\r\n    public class Return{\r\n        public static void main(String[] args){\r\n            System.out.println(&#39;\\u000C&#39;);            \r\n            \r\n            rt0(50);        \r\n            rt1(50);\r\n            \r\n        }\r\n       \r\n        public static void rt0(int n){\r\n            \r\n            if(n == 1)return;\r\n            else{ \r\n                System.out.println(n);\r\n                rt0(n-1);                \r\n            }            \r\n        }\r\n        \r\n        public static int rt1(int n){\r\n            \r\n            if(n == 1)return n;\r\n            else { \r\n              System.out.println(n);\r\n              return rt1(n-1);\r\n            }            \r\n        }        \r\n    }\r\n\r\n","title":"recursion, what&#39;s the difference in the stack?","body":"<p>In the following program what's the difference in the stack execution of each method?</p>\n<pre><code>public class Return{\n    public static void main(String[] args){\n        System.out.println('\\u000C');            \n        \n        rt0(50);        \n        rt1(50);\n        \n    }\n   \n    public static void rt0(int n){\n        \n        if(n == 1)return;\n        else{ \n            System.out.println(n);\n            rt0(n-1);                \n        }            \n    }\n    \n    public static int rt1(int n){\n        \n        if(n == 1)return n;\n        else { \n          System.out.println(n);\n          return rt1(n-1);\n        }            \n    }        \n}\n</code></pre>\n"},{"tags":["java","groovy","soapui"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1568785995,"post_id":57976402,"comment_id":102379937,"body_markdown":"what contents are you reading from excel and where / how loading in test suite?","body":"what contents are you reading from excel and where / how loading in test suite?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1569368603,"post_id":57976402,"comment_id":102571974,"body_markdown":"**Exactly** which files did you copy into `bin/ext`? If you get the &quot;Binary Distribution&quot; from https://poi.apache.org/download.html and open that, you will notice there are multiple dependencies (included). Some of these are possibly going to conflict with that is already provided with SoapUI.","body":"<b>Exactly</b> which files did you copy into <code>bin&#47;ext</code>? If you get the &quot;Binary Distribution&quot; from <a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">poi.apache.org/download.html</a> and open that, you will notice there are multiple dependencies (included). Some of these are possibly going to conflict with that is already provided with SoapUI."}],"answers":[{"tags":[],"owner":{"account_id":391127,"reputation":3421,"user_id":751621,"accept_rate":83,"display_name":"craigcaulfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568862113,"creation_date":1568862113,"answer_id":58003133,"question_id":57976402,"body_markdown":"There are lots of these types of errors on the SmartBear forums and in other places, but not many consistent resolutions across versions of soapUI and POI. Your code works when run outside of soapUI suggesting there&#39;s some sort of JAR version conflict between soapUI and POI.\r\n\r\nSo, there are a couple of options:\r\n\r\n- If you can afford it, SoapUI Pro has Excel functionality built into it&#39;s data loop test steps.\r\n- Try down-grading to an earlier version of POI and soapUI. Code essentially the same as yours [worked with soapUI 5.3 and POI 3.14](https://stackoverflow.com/questions/45028465/is-there-a-limitation-reading-xlsx-file-using-soapui-free-version-5-3-0-apache)\r\n- Use something simpler. Since you&#39;re using Excel, you should be able to get your data as CSV and use something like [public Object splitEachLine(String regex, Closure closure)](http://docs.groovy-lang.org/latest/html/groovy-jdk/java/io/File.html#splitEachLine(java.lang.String,%20groovy.lang.Closure)) to process CSV data using only Groovy.\r\n- Create your own Groovy or Java project containing the POI dependencies along with a simple interface to call the functionality you need. See for example, [Library conflict in SoapUI](https://stackoverflow.com/questions/49688896/library-conflict-in-soapui)","title":"Read from excel file and load into SOAP UI request","body":"<p>There are lots of these types of errors on the SmartBear forums and in other places, but not many consistent resolutions across versions of soapUI and POI. Your code works when run outside of soapUI suggesting there's some sort of JAR version conflict between soapUI and POI.</p>\n\n<p>So, there are a couple of options:</p>\n\n<ul>\n<li>If you can afford it, SoapUI Pro has Excel functionality built into it's data loop test steps.</li>\n<li>Try down-grading to an earlier version of POI and soapUI. Code essentially the same as yours <a href=\"https://stackoverflow.com/questions/45028465/is-there-a-limitation-reading-xlsx-file-using-soapui-free-version-5-3-0-apache\">worked with soapUI 5.3 and POI 3.14</a></li>\n<li>Use something simpler. Since you're using Excel, you should be able to get your data as CSV and use something like <a href=\"http://docs.groovy-lang.org/latest/html/groovy-jdk/java/io/File.html#splitEachLine(java.lang.String,%20groovy.lang.Closure)\" rel=\"nofollow noreferrer\">public Object splitEachLine(String regex, Closure closure)</a> to process CSV data using only Groovy.</li>\n<li>Create your own Groovy or Java project containing the POI dependencies along with a simple interface to call the functionality you need. See for example, <a href=\"https://stackoverflow.com/questions/49688896/library-conflict-in-soapui\">Library conflict in SoapUI</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23681935,"reputation":63,"user_id":17707380,"display_name":"Arjun P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682260010,"creation_date":1682255736,"answer_id":76085055,"question_id":57976402,"body_markdown":"I have a workaround that works well with .xls files (Have issues with .xlsx files though).\r\n\r\nFirst Download jxl.jar to access excel files via Groovy script. Source: [https://sourceforge.net/projects/jexcelapi/files/jexcelapi][1]. \r\n\r\nDownload the latest version (Current version: 2.6.12). Unzip the file, copy the JXL.jar to both:\r\n\r\n    Contents/java/app/bin/ext\r\n    Contents/java/app/lib\r\n\r\nNow add a Test Step -&gt; Properties and declare the data to be read as variables (property1, property2).\r\n\r\nUse the script in the Groovy Script Test step (Added functionality to write the response results into another excel file):\r\n```\r\nimport jxl.*\r\nimport jxl.write.*\r\nimport jxl.write.Number\r\n\r\n// Specify the path to the input Excel File\r\ndef inpFile = new File(&quot;path/inputFile.xls&quot;)\r\n\r\n// Specify the path to the output Excel File\r\ndef outFile = new File(&quot;path/outputFile.xls&quot;)\r\n// Create a workbook object for the input Excel file\r\nWorkbook inpWorkbook = Workbook.getWorkbook(inpFile)\r\n// Get the sheet containing the property values, 1st sheet here\r\nSheet propSheet = inpWorkbook.getSheet(0)\r\n// Get no of rows\r\ndef numRows = propSheet.getRows()\r\n// Create Workbook obj for output Excel File\r\nWritableWorkbook outWorkbook = Workbook.createWorkbook(outFile)\r\n// Create a &quot;Res&quot; sheet for results\r\nWritable resSheet = outWorkbook.createSheet(&quot;Res&quot;, 0)\r\n\r\n// Create labels for the result\r\ndef label = new Label(0, 0, &quot;Test Step&quot;)\r\nresSheet.addCell(label)\r\ndef label = new Label(1, 0, &quot;Status&quot;)\r\nresSheet.addCell(label)\r\n\r\n// Loop through each row of the sheet containing data to be read\r\nfor (i in 1..numRows-1) {\r\n    // Read the property values from current row of excel sheet \r\n    // 1st column has nodeVal1, 2nd column has nodeVal2\r\n    def property1 = propSheet.getCell(0, i).getContents()\r\n    def property2 = propSheet.getCell(1, i).getContents()\r\n    \r\n    // Get the test case and test step\r\n    def testCase = testRunner.testCase\r\n    def testStep = testCase.getTestStepByName(&quot;Properties&quot;)\r\n    def testRequestStep = testCase.getTestStepByName(&quot;test_request name&quot;)\r\n   \r\n    // Set property values for the test step\r\n    testStep.setPropertyValue(&quot;property1&quot;, property1)\r\n    testStep.setPropertyValue(&quot;property2&quot;, property2)\r\n\r\n    // Execute the test request\r\n    testRequestStep.run(testRunner, context)\r\n\r\n    // Get the SOAP response of the test request\r\n    def resp = testRequestStep.testRequest.response\r\n\r\n    // Create a cell for the test step\r\n    def cell = new Label(0, i, testRequestStep.name)\r\n    resSheet.addCell(cell)\r\n    // Create columns for retrieving response Node values\r\n    cell = new Label(2, 0, &quot;Node Val1&quot;)\r\n    resSheet.addCell(cell)\r\n    cell = new Label(3, 0, &quot;Node Val2&quot;)\r\n    resSheet.addCell(cell)\r\n\r\n    if (resp.responseHeaders.toString().contains(&quot;HTTP/1.1 200 OK&quot;)) {\r\n        label = new Label(1, i, &quot;Pass&quot;)\r\n        resSheet.addCell(label)\r\n        def xmlResp = new XmlSlurper().parseText(response.getContentAsString())\r\n        // NodeName1 and NodeName2 are the reqd nodes from the successful response\r\n        def nodeVal1 = xmlResp.&#39;**&#39;.find { it.name() == &#39;NodeName1&#39; }?.text()\r\n        def nodeVal2 = xmlResp.&#39;**&#39;.find { it.name() == &#39;NodeName2&#39; }?.text()\r\n        cell = new Label(2, i, nodeVal1)\r\n        resSheet.addCell(cell)\r\n        cell = new Label(3, i, nodeVal2)\r\n        resSheet.addCell(cell)\r\n    } else if (resp.responseHeaders.toString().contains(&quot;HTTP/1.1 500 Internal Server Error&quot;)) {\r\n        label = new Label(1, i, &quot;Fail&quot;)\r\n        resSheet.addCell(label)\r\n    }\r\n}\r\n// Write and close the Workbooks\r\noutWorkbook.write()\r\noutWorkbook.close()\r\ninpWorkbook.close()\r\n```\r\n\r\nYou can modify the script to check for various response types.\r\n\r\n  [1]: https://sourceforge.net/projects/jexcelapi/files/jexcelapi","title":"Read from excel file and load into SOAP UI request","body":"<p>I have a workaround that works well with .xls files (Have issues with .xlsx files though).</p>\n<p>First Download jxl.jar to access excel files via Groovy script. Source: <a href=\"https://sourceforge.net/projects/jexcelapi/files/jexcelapi\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/jexcelapi/files/jexcelapi</a>.</p>\n<p>Download the latest version (Current version: 2.6.12). Unzip the file, copy the JXL.jar to both:</p>\n<pre><code>Contents/java/app/bin/ext\nContents/java/app/lib\n</code></pre>\n<p>Now add a Test Step -&gt; Properties and declare the data to be read as variables (property1, property2).</p>\n<p>Use the script in the Groovy Script Test step (Added functionality to write the response results into another excel file):</p>\n<pre><code>import jxl.*\nimport jxl.write.*\nimport jxl.write.Number\n\n// Specify the path to the input Excel File\ndef inpFile = new File(&quot;path/inputFile.xls&quot;)\n\n// Specify the path to the output Excel File\ndef outFile = new File(&quot;path/outputFile.xls&quot;)\n// Create a workbook object for the input Excel file\nWorkbook inpWorkbook = Workbook.getWorkbook(inpFile)\n// Get the sheet containing the property values, 1st sheet here\nSheet propSheet = inpWorkbook.getSheet(0)\n// Get no of rows\ndef numRows = propSheet.getRows()\n// Create Workbook obj for output Excel File\nWritableWorkbook outWorkbook = Workbook.createWorkbook(outFile)\n// Create a &quot;Res&quot; sheet for results\nWritable resSheet = outWorkbook.createSheet(&quot;Res&quot;, 0)\n\n// Create labels for the result\ndef label = new Label(0, 0, &quot;Test Step&quot;)\nresSheet.addCell(label)\ndef label = new Label(1, 0, &quot;Status&quot;)\nresSheet.addCell(label)\n\n// Loop through each row of the sheet containing data to be read\nfor (i in 1..numRows-1) {\n    // Read the property values from current row of excel sheet \n    // 1st column has nodeVal1, 2nd column has nodeVal2\n    def property1 = propSheet.getCell(0, i).getContents()\n    def property2 = propSheet.getCell(1, i).getContents()\n    \n    // Get the test case and test step\n    def testCase = testRunner.testCase\n    def testStep = testCase.getTestStepByName(&quot;Properties&quot;)\n    def testRequestStep = testCase.getTestStepByName(&quot;test_request name&quot;)\n   \n    // Set property values for the test step\n    testStep.setPropertyValue(&quot;property1&quot;, property1)\n    testStep.setPropertyValue(&quot;property2&quot;, property2)\n\n    // Execute the test request\n    testRequestStep.run(testRunner, context)\n\n    // Get the SOAP response of the test request\n    def resp = testRequestStep.testRequest.response\n\n    // Create a cell for the test step\n    def cell = new Label(0, i, testRequestStep.name)\n    resSheet.addCell(cell)\n    // Create columns for retrieving response Node values\n    cell = new Label(2, 0, &quot;Node Val1&quot;)\n    resSheet.addCell(cell)\n    cell = new Label(3, 0, &quot;Node Val2&quot;)\n    resSheet.addCell(cell)\n\n    if (resp.responseHeaders.toString().contains(&quot;HTTP/1.1 200 OK&quot;)) {\n        label = new Label(1, i, &quot;Pass&quot;)\n        resSheet.addCell(label)\n        def xmlResp = new XmlSlurper().parseText(response.getContentAsString())\n        // NodeName1 and NodeName2 are the reqd nodes from the successful response\n        def nodeVal1 = xmlResp.'**'.find { it.name() == 'NodeName1' }?.text()\n        def nodeVal2 = xmlResp.'**'.find { it.name() == 'NodeName2' }?.text()\n        cell = new Label(2, i, nodeVal1)\n        resSheet.addCell(cell)\n        cell = new Label(3, i, nodeVal2)\n        resSheet.addCell(cell)\n    } else if (resp.responseHeaders.toString().contains(&quot;HTTP/1.1 500 Internal Server Error&quot;)) {\n        label = new Label(1, i, &quot;Fail&quot;)\n        resSheet.addCell(label)\n    }\n}\n// Write and close the Workbooks\noutWorkbook.write()\noutWorkbook.close()\ninpWorkbook.close()\n</code></pre>\n<p>You can modify the script to check for various response types.</p>\n"}],"owner":{"account_id":16713299,"reputation":1,"user_id":12080060,"display_name":"neha gaur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682260010,"creation_date":1568730219,"question_id":57976402,"body_markdown":"I am pretty new to Java and Groovy . However ,I have a requirement to read data from a excel file and load them into a SOAPUI test suite . I followed a few links from google and tried to implement the same but facing error .\r\n\r\nI have downloaded POI 4.1.0 jars and copied them to SOAPUI/bin/ext folder .In SOAPUI , I have added a step for groovy script(mentioned below).\r\n\r\n```\r\nimport org.apache.poi.ss.usermodel.*                                                  \r\nimport org.apache.poi.hssf.usermodel.*\r\n\r\nimport org.apache.poi.xssf.usermodel.*\r\n\r\nimpot org.apache.poi.ss.util.*\r\n\r\n\r\ndef fs = new FileInputStream(&quot;FILE LOCATION&quot;)\r\n\r\nWorkbook wb = WorkbookFactory.create(fs);\r\n\r\ndef ws = wb.getSheet(&quot;Sheet1&quot;)\r\n\r\ndef r = ws.getPhysicalNumberOfRows()\r\n\r\nlog.info &quot;===========&quot;+r\r\n```\r\n\r\nIt should return me the number of rows .But I am getting an error instead .\r\n\r\n```\r\norg.apache.poi.ooxml.POIXMLException: Could not initialize calss org.apache.poi.ooxml.POIXMLTypeLoader    Error at line 7\r\n```\r\n\r\nThanks in advance for your help","title":"Read from excel file and load into SOAP UI request","body":"<p>I am pretty new to Java and Groovy . However ,I have a requirement to read data from a excel file and load them into a SOAPUI test suite . I followed a few links from google and tried to implement the same but facing error .</p>\n\n<p>I have downloaded POI 4.1.0 jars and copied them to SOAPUI/bin/ext folder .In SOAPUI , I have added a step for groovy script(mentioned below).</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*                                                  \nimport org.apache.poi.hssf.usermodel.*\n\nimport org.apache.poi.xssf.usermodel.*\n\nimpot org.apache.poi.ss.util.*\n\n\ndef fs = new FileInputStream(\"FILE LOCATION\")\n\nWorkbook wb = WorkbookFactory.create(fs);\n\ndef ws = wb.getSheet(\"Sheet1\")\n\ndef r = ws.getPhysicalNumberOfRows()\n\nlog.info \"===========\"+r\n</code></pre>\n\n<p>It should return me the number of rows .But I am getting an error instead .</p>\n\n<pre><code>org.apache.poi.ooxml.POIXMLException: Could not initialize calss org.apache.poi.ooxml.POIXMLTypeLoader    Error at line 7\n</code></pre>\n\n<p>Thanks in advance for your help</p>\n"},{"tags":["java","android","android-studio","exception","printstacktrace"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1681953302,"post_id":76059863,"comment_id":134141191,"body_markdown":"Try `printStackTrace(System.out)`","body":"Try <code>printStackTrace(System.out)</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1681953771,"post_id":76059863,"comment_id":134141243,"body_markdown":"Or write to a logger.","body":"Or write to a logger."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681958920,"post_id":76059863,"comment_id":134141719,"body_markdown":"Did you look at console or Logcat?  Because it writes to logcat.","body":"Did you look at console or Logcat?  Because it writes to logcat."},{"owner":{"account_id":5853055,"reputation":1234,"user_id":4611186,"accept_rate":62,"display_name":"Katlock"},"score":0,"creation_date":1681961104,"post_id":76059863,"comment_id":134141944,"body_markdown":"Check the log or category level in the Ide.  You have to select the right category.  It is  usually right above the terminal console area.","body":"Check the log or category level in the Ide.  You have to select the right category.  It is  usually right above the terminal console area."},{"owner":{"display_name":"user21603351"},"score":0,"creation_date":1682006468,"post_id":76059863,"comment_id":134151388,"body_markdown":"Thank you! I have used `printStackTrace(System.out);` and am using the Logcat, and now it works.","body":"Thank you! I have used <code>printStackTrace(System.out);</code> and am using the Logcat, and now it works."}],"answers":[{"tags":[],"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682259831,"creation_date":1682259831,"answer_id":76085398,"question_id":76059863,"body_markdown":"Try looking at the Android Studio Logcat and using `printStackTrace(System.out)`.","title":"Why doesn&#39;t printStackTrace() print anything?","body":"<p>Try looking at the Android Studio Logcat and using <code>printStackTrace(System.out)</code>.</p>\n"}],"owner":{"display_name":"user21603351"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76085398,"answer_count":1,"score":0,"last_activity_date":1682259831,"creation_date":1681953199,"question_id":76059863,"body_markdown":"I am trying to catch errors made by my Android Java project.  I am using the code `exceptionVar.printStackTrace()`, but this doesn&#39;t print anything.  I was *hoping* that `printStackTrace()` would print the error to the Android Studio console, but nothing appears.  In fact, nothing happens at all! There is no indication, on my Android device or in Android Studio, that any errors occurred or were printed using `printStackTrace()`.\r\n\r\nHow do I make this method print the error to the Android Studio console? Is there a setting I can change to make printed errors appear on the console?","title":"Why doesn&#39;t printStackTrace() print anything?","body":"<p>I am trying to catch errors made by my Android Java project.  I am using the code <code>exceptionVar.printStackTrace()</code>, but this doesn't print anything.  I was <em>hoping</em> that <code>printStackTrace()</code> would print the error to the Android Studio console, but nothing appears.  In fact, nothing happens at all! There is no indication, on my Android device or in Android Studio, that any errors occurred or were printed using <code>printStackTrace()</code>.</p>\n<p>How do I make this method print the error to the Android Studio console? Is there a setting I can change to make printed errors appear on the console?</p>\n"},{"tags":["java","json","maven","jackson"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682259710,"post_id":76085351,"comment_id":134183681,"body_markdown":"Are you getting runtime exceptions (code runs, but fails), or are you getting compilation errors? Since you can&#39;t get 2 exceptions at the same time, I suspect it&#39;s compilation error, you need to either handle those exceptions, or you have to declare your method that it throws them.","body":"Are you getting runtime exceptions (code runs, but fails), or are you getting compilation errors? Since you can&#39;t get 2 exceptions at the same time, I suspect it&#39;s compilation error, you need to either handle those exceptions, or you have to declare your method that it throws them."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682260180,"post_id":76085351,"comment_id":134183746,"body_markdown":"Are you getting a _compilation_ error? Add `throws JsonProcessingException` to your `main` method, or otherwise handle that exception in a `try-catch` block. Are you using an IDE? It should warn you about this. See also the JavaDoc for [`ObjectMapper::readValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-).","body":"Are you getting a <i>compilation</i> error? Add <code>throws JsonProcessingException</code> to your <code>main</code> method, or otherwise handle that exception in a <code>try-catch</code> block. Are you using an IDE? It should warn you about this. See also the JavaDoc for <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#readValue-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>ObjectMapper::readValue</code></a>."},{"owner":{"account_id":7004317,"reputation":509,"user_id":5369275,"accept_rate":88,"display_name":"Tom291"},"score":0,"creation_date":1682263822,"post_id":76085351,"comment_id":134184240,"body_markdown":"A try-catch block helped, apparently didn&#39;t read the error message correctly. Thank you both @Chaosfire and @andrewJames!","body":"A try-catch block helped, apparently didn&#39;t read the error message correctly. Thank you both @Chaosfire and @andrewJames!"}],"owner":{"account_id":7004317,"reputation":509,"user_id":5369275,"accept_rate":88,"display_name":"Tom291"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682259279,"creation_date":1682259279,"question_id":76085351,"body_markdown":"im working on a little private project but its my first time using maven. To get started i just wanted to test parsing a JSON file using Jackson but all I am getting is a `com.fasterxml.jackson.core.JsonProcessingException` and ` com.fasterxml.jackson.databind.JsonMappingException`. \r\n\r\nSince nothing worked for me I just tried copying the example code from  [Jacksons GitHub-Page][1]. So right now my code looks like this:\r\n\r\n``` java\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    public class MyValue {\r\n        public String name;\r\n        public int age;\r\n    \r\n        public static void main(String[] args) {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            MyValue value = mapper.readValue(&quot;{\\&quot;name\\&quot;:\\&quot;Bob\\&quot;, \\&quot;age\\&quot;:13}&quot;, MyValue.class);\r\n        }\r\n    }\r\n```\r\n\r\nAnd my *pom.xml* like this:\r\n\r\n``` xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.hslr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hslr&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;jackson.version&gt;2.15.0-rc3&lt;/jackson.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n```\r\n\r\nBut I keep getting the two Exceptions, so i was wondering if there was anything wrong with my code or maven setup? Thank you in advance!\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/","title":"Jackson keeps throwing com.fasterxml.jackson.core.JsonProcessingException even when using the example code. Is there anything wrong with my maven?","body":"<p>im working on a little private project but its my first time using maven. To get started i just wanted to test parsing a JSON file using Jackson but all I am getting is a <code>com.fasterxml.jackson.core.JsonProcessingException</code> and <code> com.fasterxml.jackson.databind.JsonMappingException</code>.</p>\n<p>Since nothing worked for me I just tried copying the example code from  <a href=\"https://github.com/FasterXML/jackson-databind/\" rel=\"nofollow noreferrer\">Jacksons GitHub-Page</a>. So right now my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.fasterxml.jackson.databind.ObjectMapper;\n    public class MyValue {\n        public String name;\n        public int age;\n    \n        public static void main(String[] args) {\n            ObjectMapper mapper = new ObjectMapper();\n            MyValue value = mapper.readValue(&quot;{\\&quot;name\\&quot;:\\&quot;Bob\\&quot;, \\&quot;age\\&quot;:13}&quot;, MyValue.class);\n        }\n    }\n</code></pre>\n<p>And my <em>pom.xml</em> like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n        &lt;groupId&gt;org.hslr&lt;/groupId&gt;\n        &lt;artifactId&gt;hslr&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    \n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;jackson.version&gt;2.15.0-rc3&lt;/jackson.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p>But I keep getting the two Exceptions, so i was wondering if there was anything wrong with my code or maven setup? Thank you in advance!</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1682258533,"post_id":76085243,"comment_id":134183489,"body_markdown":"It seems Eclipse related problem. Please check the build in command line / terminal like `mvn clean install`","body":"It seems Eclipse related problem. Please check the build in command line / terminal like <code>mvn clean install</code>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1682258588,"post_id":76085243,"comment_id":134183500,"body_markdown":"Nothing to do with Apple fyi","body":"Nothing to do with Apple fyi"},{"owner":{"account_id":2195536,"reputation":387,"user_id":1941319,"accept_rate":56,"display_name":"user1941319"},"score":0,"creation_date":1682258952,"post_id":76085243,"comment_id":134183564,"body_markdown":"Thanks for the replyies Yes, I have nothing to do with apple. I found the issue. The jar plug in was not declared and it search for 2.4 so I think it may be too old? Add maven-jar-plugin with 3.3.0 and it worked.","body":"Thanks for the replyies Yes, I have nothing to do with apple. I found the issue. The jar plug in was not declared and it search for 2.4 so I think it may be too old? Add maven-jar-plugin with 3.3.0 and it worked."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1682264679,"post_id":76085243,"comment_id":134184357,"body_markdown":"Eclipse compiles incrementally when you save a file. This requires running some Maven plugins (e.g. those that generate code) and some that don&#39;t (like in your case). In your case, you get the message because that old version of maven-jar-plugin cannot be resolved, that actually nothing needs to be done.","body":"Eclipse compiles incrementally when you save a file. This requires running some Maven plugins (e.g. those that generate code) and some that don&#39;t (like in your case). In your case, you get the message because that old version of maven-jar-plugin cannot be resolved, that actually nothing needs to be done."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682333335,"post_id":76085243,"comment_id":134193158,"body_markdown":"I strongly recommend to remove this: `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` and follow the convention... also use `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;` instead of using source/target and also using most recent version of plugins https://maven.apache.org/plugins","body":"I strongly recommend to remove this: <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> and follow the convention... also use <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code> instead of using source/target and also using most recent version of plugins <a href=\"https://maven.apache.org/plugins\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"answers":[{"tags":[],"owner":{"account_id":2195536,"reputation":387,"user_id":1941319,"accept_rate":56,"display_name":"user1941319"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682259028,"creation_date":1682259028,"answer_id":76085330,"question_id":76085243,"body_markdown":"Added maven-jar-plugin 3.3.0 and it worked.","title":"Maven Failed to read artifact descriptor","body":"<p>Added maven-jar-plugin 3.3.0 and it worked.</p>\n"}],"owner":{"account_id":2195536,"reputation":387,"user_id":1941319,"accept_rate":56,"display_name":"user1941319"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76085330,"answer_count":1,"score":0,"last_activity_date":1682259028,"creation_date":1682257893,"question_id":76085243,"body_markdown":"While developing a Rest Client project on Apple silicon Mac Book Pro with Eclipse, got this Maven error while updating the project:\r\n\r\n&gt; Could not calculate build plan: Plugin org.apache.maven.plugins:maven-jar-plugin:2.4 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:2.4\r\nPlugin org.apache.maven.plugins:maven-jar-plugin:2.4 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:2.4\r\n\r\nMy pom.xml looks like this:\r\n\r\n      &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;RestClient&lt;/groupId&gt;\r\n      &lt;artifactId&gt;RestClient&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.8&lt;/source&gt;\r\n              &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.29.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.29.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.25.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nMy JDK is zulu18.28.13-ca-jdk18.0.0-macosx_aarch64 and the build target is java 1.8. \r\nSome suggested that this a firewall issue but I am on my home network so no specific firewall will block the traffic. The same project worked on my Windows computer but got the error when imported to my Mac Book Pro.\r\n\r\nI also tried to manually create the project and then converting it to Maven project but still getting the same error.\r\n\r\nMy Eclipse is Version: 2022-03 (4.23.0)\r\n\r\nAnyone know the causes and how to fix this? I am not to familiar with the OpenJava/Apple silicon world.\r\n\r\nThanks","title":"Maven Failed to read artifact descriptor","body":"<p>While developing a Rest Client project on Apple silicon Mac Book Pro with Eclipse, got this Maven error while updating the project:</p>\n<blockquote>\n<p>Could not calculate build plan: Plugin org.apache.maven.plugins:maven-jar-plugin:2.4 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:2.4\nPlugin org.apache.maven.plugins:maven-jar-plugin:2.4 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-jar-plugin:jar:2.4</p>\n</blockquote>\n<p>My pom.xml looks like this:</p>\n<pre><code>  &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;RestClient&lt;/groupId&gt;\n  &lt;artifactId&gt;RestClient&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.29.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.29.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;2.25.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My JDK is zulu18.28.13-ca-jdk18.0.0-macosx_aarch64 and the build target is java 1.8.\nSome suggested that this a firewall issue but I am on my home network so no specific firewall will block the traffic. The same project worked on my Windows computer but got the error when imported to my Mac Book Pro.</p>\n<p>I also tried to manually create the project and then converting it to Maven project but still getting the same error.</p>\n<p>My Eclipse is Version: 2022-03 (4.23.0)</p>\n<p>Anyone know the causes and how to fix this? I am not to familiar with the OpenJava/Apple silicon world.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","gps","android-jetpack-compose"],"owner":{"account_id":24431852,"reputation":242,"user_id":18356681,"display_name":"heet kanabar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682258986,"creation_date":1682257789,"question_id":76085235,"body_markdown":"I have an app where I have to enable GPS and if GPS is already on then function or module should respond with flow of Boolean and if GPS is off then I have to turn it on and When it turns on perfectly then turn it off and receive flow of true(Boolean). If any error occurs then an exception should be passed to the flow I have tried some codes but did not get any good results.\r\n\r\n**Note :-** \r\nPlease include all the permissions for GPS and I am using jetpack compose and I am new at that and I do not know how to handle permission in Jetpack compose so it would be very big help to teach me how to handle permission there. And suggest me solution where it will work on all level apis. Thank you.\r\n\r\n**My codes:-** \r\n\r\n**My Module**\r\n\r\n    class GPSModule(private val context: Context) {\r\n\r\n\r\n    @RequiresApi(Build.VERSION_CODES.P)\r\n    fun checkGPS():Flow&lt;Response&lt;Boolean&gt;&gt; = flow{\r\n        val manager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n\r\n        val response = if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n            val intent = Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS)\r\n            intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\r\n            context.startActivity(intent)\r\n            if (manager.isLocationEnabled){\r\n                manager.setTestProviderEnabled(LocationManager.GPS_PROVIDER,false)\r\n                Response.Success(true)\r\n            }else{\r\n                manager.setTestProviderEnabled(LocationManager.GPS_PROVIDER,false)\r\n                Response.Error(&quot;GPS is not working.&quot;)\r\n            }\r\n        } else {\r\n            Response.Error(&quot;Device does not have GPS.&quot;)\r\n        }\r\n\r\n        emit(response)\r\n    }\r\n    }\r\n\r\n**Response Class**\r\n\r\n    sealed class Response&lt;out T&gt; {\r\n\r\n    object Loading : Response&lt;Nothing&gt;()\r\n\r\n    data class Success&lt;out T&gt;(val data: T) : Response&lt;T&gt;()\r\n\r\n    data class Error(val error:String):Response&lt;Nothing&gt;()\r\n\r\n    }\r\n\r\n**My ViewModel**\r\n\r\n  \r\n\r\n      @RequiresApi(Build.VERSION_CODES.P)\r\n    @HiltViewModel\r\n    class TestScreenViewModel @Inject constructor(\r\n        gpsModule: GPSModule\r\n    ):ViewModel() {\r\n\r\n    var gpsResult = &quot;&quot;\r\n\r\n    val _uiEvents = Channel&lt;UIEvents&gt; ()\r\n    val uiEvents = _uiEvents.receiveAsFlow()\r\n\r\n    init {\r\n        viewModelScope.launch {\r\n            gpsModule.checkGPS().collect {\r\n                when(it){\r\n                    is Response.Error -&gt; {\r\n                        _uiEvents.send(UIEvents.ShowSnackBar(it.error))\r\n                    }\r\n                    Response.Loading -&gt; TODO()\r\n                    is Response.Success -&gt; {\r\n                        gpsResult=it.data.toString()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    }\r\n\r\n**My UI(Jetpack compose)**\r\n\r\n  \r\n\r\n      @RequiresApi(Build.VERSION_CODES.P)\r\n    @Composable\r\n    fun Tests(\r\n        viewModel: TestScreenViewModel = hiltViewModel()\r\n    ) {\r\n\r\n    val context= LocalContext.current\r\n\r\n    LaunchedEffect(key1 = true) {\r\n        viewModel.uiEvents.collect{\r\n            when(it){\r\n                is UIEvents.Navigate -&gt; TODO()\r\n                UIEvents.PopScreen -&gt; TODO()\r\n                is UIEvents.ShowSnackBar -&gt; {\r\n                    Toast.makeText(context, it.message, Toast.LENGTH_LONG).show()\r\n                }\r\n            }\r\n        }\r\n    }\r\n    Column(modifier = Modifier.fillMaxSize()) {\r\n        Text(text = viewModel.gpsResult)\r\n    }\r\n    }","title":"How to enable or disable GPS in android device programmatically in Kotlin for all api levels?","body":"<p>I have an app where I have to enable GPS and if GPS is already on then function or module should respond with flow of Boolean and if GPS is off then I have to turn it on and When it turns on perfectly then turn it off and receive flow of true(Boolean). If any error occurs then an exception should be passed to the flow I have tried some codes but did not get any good results.</p>\n<p><strong>Note :-</strong>\nPlease include all the permissions for GPS and I am using jetpack compose and I am new at that and I do not know how to handle permission in Jetpack compose so it would be very big help to teach me how to handle permission there. And suggest me solution where it will work on all level apis. Thank you.</p>\n<p><strong>My codes:-</strong></p>\n<p><strong>My Module</strong></p>\n<pre><code>class GPSModule(private val context: Context) {\n\n\n@RequiresApi(Build.VERSION_CODES.P)\nfun checkGPS():Flow&lt;Response&lt;Boolean&gt;&gt; = flow{\n    val manager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n\n    val response = if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n        val intent = Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS)\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        context.startActivity(intent)\n        if (manager.isLocationEnabled){\n            manager.setTestProviderEnabled(LocationManager.GPS_PROVIDER,false)\n            Response.Success(true)\n        }else{\n            manager.setTestProviderEnabled(LocationManager.GPS_PROVIDER,false)\n            Response.Error(&quot;GPS is not working.&quot;)\n        }\n    } else {\n        Response.Error(&quot;Device does not have GPS.&quot;)\n    }\n\n    emit(response)\n}\n}\n</code></pre>\n<p><strong>Response Class</strong></p>\n<pre><code>sealed class Response&lt;out T&gt; {\n\nobject Loading : Response&lt;Nothing&gt;()\n\ndata class Success&lt;out T&gt;(val data: T) : Response&lt;T&gt;()\n\ndata class Error(val error:String):Response&lt;Nothing&gt;()\n\n}\n</code></pre>\n<p><strong>My ViewModel</strong></p>\n<pre><code>  @RequiresApi(Build.VERSION_CODES.P)\n@HiltViewModel\nclass TestScreenViewModel @Inject constructor(\n    gpsModule: GPSModule\n):ViewModel() {\n\nvar gpsResult = &quot;&quot;\n\nval _uiEvents = Channel&lt;UIEvents&gt; ()\nval uiEvents = _uiEvents.receiveAsFlow()\n\ninit {\n    viewModelScope.launch {\n        gpsModule.checkGPS().collect {\n            when(it){\n                is Response.Error -&gt; {\n                    _uiEvents.send(UIEvents.ShowSnackBar(it.error))\n                }\n                Response.Loading -&gt; TODO()\n                is Response.Success -&gt; {\n                    gpsResult=it.data.toString()\n                }\n            }\n        }\n    }\n}\n\n}\n</code></pre>\n<p><strong>My UI(Jetpack compose)</strong></p>\n<pre><code>  @RequiresApi(Build.VERSION_CODES.P)\n@Composable\nfun Tests(\n    viewModel: TestScreenViewModel = hiltViewModel()\n) {\n\nval context= LocalContext.current\n\nLaunchedEffect(key1 = true) {\n    viewModel.uiEvents.collect{\n        when(it){\n            is UIEvents.Navigate -&gt; TODO()\n            UIEvents.PopScreen -&gt; TODO()\n            is UIEvents.ShowSnackBar -&gt; {\n                Toast.makeText(context, it.message, Toast.LENGTH_LONG).show()\n            }\n        }\n    }\n}\nColumn(modifier = Modifier.fillMaxSize()) {\n    Text(text = viewModel.gpsResult)\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682247812,"post_id":76084368,"comment_id":134182237,"body_markdown":"I think we need to see the `Role` and `Permission` entities, too.  But my first guess would be that a direct many-to-many relationship is declared between them.  If so, then it&#39;s not clear to me what purpose your `RolePermission` entity serves.  It&#39;s also unclear to me why the key structure chosen is wrong (other than that it doesn&#39;t seem to match the annotations): do you *intend* to allow multiple distinct `RolePermission` entities for the same (`Role`, `Permission`) pair?","body":"I think we need to see the <code>Role</code> and <code>Permission</code> entities, too.  But my first guess would be that a direct many-to-many relationship is declared between them.  If so, then it&#39;s not clear to me what purpose your <code>RolePermission</code> entity serves.  It&#39;s also unclear to me why the key structure chosen is wrong (other than that it doesn&#39;t seem to match the annotations): do you <i>intend</i> to allow multiple distinct <code>RolePermission</code> entities for the same (<code>Role</code>, <code>Permission</code>) pair?"},{"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"score":0,"creation_date":1682252755,"post_id":76084368,"comment_id":134182795,"body_markdown":"I added the role and permission entities. For your last question: No, I don&#39;t want to allow multiple pairs. Other than that I couldn&#39;t really understand what you meant.","body":"I added the role and permission entities. For your last question: No, I don&#39;t want to allow multiple pairs. Other than that I couldn&#39;t really understand what you meant."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1682255041,"post_id":76084368,"comment_id":134183044,"body_markdown":"`Set&lt;Permission&gt; permissions` - you have defined that  each `Role` has unique set of `Permission`&#39;s, so, yes, Hibernate assumes there should be unique constraint in DB in order to support that restriction.","body":"<code>Set&lt;Permission&gt; permissions</code> - you have defined that  each <code>Role</code> has unique set of <code>Permission</code>&#39;s, so, yes, Hibernate assumes there should be unique constraint in DB in order to support that restriction."},{"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"score":0,"creation_date":1682255892,"post_id":76084368,"comment_id":134183156,"body_markdown":"Oh, thanks. After changing ```Set``` to ```List``` it worked.","body":"Oh, thanks. After changing <code>Set</code> to <code>List</code> it worked."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682256736,"post_id":76084368,"comment_id":134183243,"body_markdown":"@CandoğuşYılmaz, if there should not be duplicate (`Role`, `Permission`) pairs then that should be enforced by appropriate constraints on the `role_permissions` table.  The most natural approach to that would be for that table to have a composite PK consisting of `role_id` and `permission_id`, instead of the surrogate key you are now assigning.","body":"@CandoğuşYılmaz, if there should not be duplicate (<code>Role</code>, <code>Permission</code>) pairs then that should be enforced by appropriate constraints on the <code>role_permissions</code> table.  The most natural approach to that would be for that table to have a composite PK consisting of <code>role_id</code> and <code>permission_id</code>, instead of the surrogate key you are now assigning."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682256947,"post_id":76084368,"comment_id":134183269,"body_markdown":"Moreover, you are asking for trouble by using the same table (`role_permissions`) as both a join table for a relationship and as an entity table.  Are you planning additional attributes for `RolePermission`?  If not, then you should probably just eliminate it altogether.","body":"Moreover, you are asking for trouble by using the same table (<code>role_permissions</code>) as both a join table for a relationship and as an entity table.  Are you planning additional attributes for <code>RolePermission</code>?  If not, then you should probably just eliminate it altogether."},{"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"score":0,"creation_date":1682257415,"post_id":76084368,"comment_id":134183329,"body_markdown":"@JohnBollinger Yes, I&#39;m planning to add more attributes. Since you mention it I will make it a composite PK. I was wondering why does it create the table like that. Thank you.","body":"@JohnBollinger Yes, I&#39;m planning to add more attributes. Since you mention it I will make it a composite PK. I was wondering why does it create the table like that. Thank you."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1682257584,"post_id":76084368,"comment_id":134183355,"body_markdown":"In that case, you should eliminate the direct relationship between `Role` and `Permission`.  Instead, give each of those entities a one-to-many relationship with `RolePermission`.  I promise that this will save you grief.","body":"In that case, you should eliminate the direct relationship between <code>Role</code> and <code>Permission</code>.  Instead, give each of those entities a one-to-many relationship with <code>RolePermission</code>.  I promise that this will save you grief."},{"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"score":0,"creation_date":1682258309,"post_id":76084368,"comment_id":134183441,"body_markdown":"I see and I&#39;ll do it, thanks. I&#39;d like to learn If you can shortly explain why current relationship approach is bad?","body":"I see and I&#39;ll do it, thanks. I&#39;d like to learn If you can shortly explain why current relationship approach is bad?"}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682258709,"creation_date":1682258709,"answer_id":76085304,"question_id":76084368,"body_markdown":"The table is keyed as you observe because\r\n\r\n 1. You are using the `role_permissions` table *both* as an entity table for `RolePermission` and as a join table for the `Role`:`Permission` relationship, and\r\n 2. you have explicitly declared a surrogate PK field on the entity, and\r\n 3. you have declared the `Role.permissions` relationship field as a `Set`, which the DB generator tries to enforce via the join table&#39;s key.\r\n\r\nYou will cause yourself trouble by using the same table for an entity and a relationship.  That redundancy produces abundant opportunities for the object model to fall out of sync with the database, and that is virtually certain to manifest as application bugs.  Since apparently you want `RolePermission` to have attributes of its own, in addition to its two relationships, you should resolve the situation by breaking the direct many-to-many relationship between `Role` and `Permission`, along these lines:\r\n```\r\n@Entity\r\npublic class Role {\r\n    private String name;\r\n    private int level;\r\n\r\n    @OneToMany\r\n    private List&lt;RolePermission&gt; rolePermissions;\r\n}\r\n\r\n@Entity\r\npublic class RolePermission {\r\n    @Id\r\n    @ManyToOne(optional = false)\r\n    private Role role;\r\n\r\n    @Id\r\n    @ManyToOne(optional = false)\r\n    private Permission permission;\r\n}\r\n\r\n@Entity\r\npublic class Permission {\r\n    private String name;\r\n    private String displayName;\r\n\r\n    @OneToMany\r\n    private List&lt;RolePermission&gt; permisionRoles;\r\n}\r\n```\r\n","title":"Creating an unwanted composite key","body":"<p>The table is keyed as you observe because</p>\n<ol>\n<li>You are using the <code>role_permissions</code> table <em>both</em> as an entity table for <code>RolePermission</code> and as a join table for the <code>Role</code>:<code>Permission</code> relationship, and</li>\n<li>you have explicitly declared a surrogate PK field on the entity, and</li>\n<li>you have declared the <code>Role.permissions</code> relationship field as a <code>Set</code>, which the DB generator tries to enforce via the join table's key.</li>\n</ol>\n<p>You will cause yourself trouble by using the same table for an entity and a relationship.  That redundancy produces abundant opportunities for the object model to fall out of sync with the database, and that is virtually certain to manifest as application bugs.  Since apparently you want <code>RolePermission</code> to have attributes of its own, in addition to its two relationships, you should resolve the situation by breaking the direct many-to-many relationship between <code>Role</code> and <code>Permission</code>, along these lines:</p>\n<pre><code>@Entity\npublic class Role {\n    private String name;\n    private int level;\n\n    @OneToMany\n    private List&lt;RolePermission&gt; rolePermissions;\n}\n\n@Entity\npublic class RolePermission {\n    @Id\n    @ManyToOne(optional = false)\n    private Role role;\n\n    @Id\n    @ManyToOne(optional = false)\n    private Permission permission;\n}\n\n@Entity\npublic class Permission {\n    private String name;\n    private String displayName;\n\n    @OneToMany\n    private List&lt;RolePermission&gt; permisionRoles;\n}\n</code></pre>\n"}],"owner":{"account_id":22184157,"reputation":44,"user_id":16427377,"display_name":"Can"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682258709,"creation_date":1682246375,"question_id":76084368,"body_markdown":"I researched a lot but couldn&#39;t find the right keywords I guess.\r\n\r\nWhen JPA creates the corresponding table to the class below. The table generation script is below as well. I don&#39;t understand why does it create a composite key. I want it to create a key based on just `id`.\r\n\r\n - It makes a composite key based on `role_id` and `permission_id`.\r\n - And assigns a default expression to the `role_id` which is `nextval(&#39;role_permissions_role_id_seq&#39;::regclass)`\r\n\r\n```java\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;role_permissions&quot;)\r\npublic class RolePermission {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @ManyToOne(optional = false)\r\n    private Role role;\r\n\r\n    @ManyToOne(optional = false)\r\n    private Permission permission;\r\n\r\n    protected RolePermission() {\r\n    }\r\n\r\n    public RolePermission(Role role, Permission permission) {\r\n        this.role = role;\r\n        this.permission = permission;\r\n    }\r\n}\r\n```\r\n\r\n```sql\r\ncreate table role_permissions\r\n(\r\n    id            integer not null,\r\n    permission_id integer not null,\r\n    role_id       serial,\r\n    primary key (role_id, permission_id),\r\n    constraint fkegdk29eiy7mdtefy5c7eirr6e\r\n        foreign key (permission_id) references permissions,\r\n    constraint fkn5fotdgk8d1xvo8nav9uv3muc\r\n        foreign key (role_id) references roles\r\n);\r\n\r\nalter table role_permissions\r\n    owner to postgres;\r\n```\r\n\r\n```java\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;permissions&quot;)\r\npublic class Permission extends BaseEntity {\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n    @Column(nullable = false)\r\n    private String displayName;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;role_permissions&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;permission_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private List&lt;Role&gt; roles;\r\n\r\n    protected Permission() {\r\n    }\r\n\r\n    public Permission(String name, String displayName) {\r\n        this.name = name;\r\n        this.displayName = displayName;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@NoArgsConstructor\r\npublic class Role extends BaseEntity {\r\n    @Column(nullable = false, unique = true, updatable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private int level;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;role_permissions&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;))\r\n    private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;&gt;();\r\n\r\n    public Role(String name, int level) {\r\n        this.name = name;\r\n        this.level = level;\r\n    }\r\n}\r\n```","title":"Creating an unwanted composite key","body":"<p>I researched a lot but couldn't find the right keywords I guess.</p>\n<p>When JPA creates the corresponding table to the class below. The table generation script is below as well. I don't understand why does it create a composite key. I want it to create a key based on just <code>id</code>.</p>\n<ul>\n<li>It makes a composite key based on <code>role_id</code> and <code>permission_id</code>.</li>\n<li>And assigns a default expression to the <code>role_id</code> which is <code>nextval('role_permissions_role_id_seq'::regclass)</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Entity\n@Table(name = &quot;role_permissions&quot;)\npublic class RolePermission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @ManyToOne(optional = false)\n    private Role role;\n\n    @ManyToOne(optional = false)\n    private Permission permission;\n\n    protected RolePermission() {\n    }\n\n    public RolePermission(Role role, Permission permission) {\n        this.role = role;\n        this.permission = permission;\n    }\n}\n</code></pre>\n<pre class=\"lang-sql prettyprint-override\"><code>create table role_permissions\n(\n    id            integer not null,\n    permission_id integer not null,\n    role_id       serial,\n    primary key (role_id, permission_id),\n    constraint fkegdk29eiy7mdtefy5c7eirr6e\n        foreign key (permission_id) references permissions,\n    constraint fkn5fotdgk8d1xvo8nav9uv3muc\n        foreign key (role_id) references roles\n);\n\nalter table role_permissions\n    owner to postgres;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Entity\n@Table(name = &quot;permissions&quot;)\npublic class Permission extends BaseEntity {\n    @Column(nullable = false, unique = true)\n    private String name;\n    @Column(nullable = false)\n    private String displayName;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;role_permissions&quot;,\n            joinColumns = @JoinColumn(name = &quot;permission_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;Role&gt; roles;\n\n    protected Permission() {\n    }\n\n    public Permission(String name, String displayName) {\n        this.name = name;\n        this.displayName = displayName;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;roles&quot;)\n@NoArgsConstructor\npublic class Role extends BaseEntity {\n    @Column(nullable = false, unique = true, updatable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private int level;\n\n    @ManyToMany\n    @JoinTable(name = &quot;role_permissions&quot;,\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;))\n    private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;&gt;();\n\n    public Role(String name, int level) {\n        this.name = name;\n        this.level = level;\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","usb"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680403823,"post_id":75909799,"comment_id":133892000,"body_markdown":"This might help: https://stackoverflow.com/questions/64890242/list-all-serial-port-in-java","body":"This might help: <a href=\"https://stackoverflow.com/questions/64890242/list-all-serial-port-in-java\" title=\"list all serial port in java\">stackoverflow.com/questions/64890242/&hellip;</a>"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1680406336,"post_id":75909799,"comment_id":133892182,"body_markdown":"USB doesn&#39;t work like you think it does. You __cannot__ connect to your optical mouse because your optical mouse is __not a serial device__. USB has profiles and a USB device tells the host system what profiles it supports. One such profile is &#39;serial connection&#39;. A device such as an arduino supports such a profile. I have no idea what happens on windows, but it&#39;s plausible it&#39;ll result in a virtual COM port. The actual `COM1` designation is rooted in actual COM ports. To find one of those you need to put on your indiana jones hat, and raid a museum. All of this is virtual these days.","body":"USB doesn&#39;t work like you think it does. You <b>cannot</b> connect to your optical mouse because your optical mouse is <b>not a serial device</b>. USB has profiles and a USB device tells the host system what profiles it supports. One such profile is &#39;serial connection&#39;. A device such as an arduino supports such a profile. I have no idea what happens on windows, but it&#39;s plausible it&#39;ll result in a virtual COM port. The actual <code>COM1</code> designation is rooted in actual COM ports. To find one of those you need to put on your indiana jones hat, and raid a museum. All of this is virtual these days."},{"owner":{"account_id":5655896,"reputation":1,"user_id":4475106,"display_name":"Davide Palomo"},"score":0,"creation_date":1681570716,"post_id":75909799,"comment_id":134079506,"body_markdown":"My goal is to use raw wires to receive impulses (I have a peripheral that communicates via pulses...so i thought to link these wire transmitting pulses directly into the IN wire of the USB cable.\nhow can I let Java or Python read these kind of configuration?\nCan somebody help me with hardware and code?\nThanks","body":"My goal is to use raw wires to receive impulses (I have a peripheral that communicates via pulses...so i thought to link these wire transmitting pulses directly into the IN wire of the USB cable. how can I let Java or Python read these kind of configuration? Can somebody help me with hardware and code? Thanks"}],"owner":{"account_id":5655896,"reputation":1,"user_id":4475106,"display_name":"Davide Palomo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682257506,"creation_date":1680401975,"question_id":75909799,"body_markdown":"Good morning all,\r\ni&#39;m trying to connect to a USB device from Java in Windows.\r\n\r\nI need it to read some data from a USB cable.\r\n\r\nHere is my code:\r\n\r\n```\r\nimport jssc.SerialPort;\r\nimport jssc.SerialPortException;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSerialPort serialPort = new SerialPort(&quot;COM03&quot;);\r\n\t\t\tserialPort.openPort();\r\n\t\t\tserialPort.setParams(4800, 8, 1, 0);//Set params.\r\n\t\t\twhile(true) {\r\n\t\t\t    byte[] buffer = serialPort.readBytes(10);\r\n\t\t\t    if(buffer!=null) {\r\n\t\t\t        for(byte b:buffer) {\r\n\t\t\t            System.out.print(b);\r\n\t\t\t        }\r\n\t\t\t    } \r\n\t\t\t}\r\n\t\t} catch (SerialPortException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe problem is that Java doesn&#39;t accept to connect whatever the SerialPort name is.\r\n\r\nI tried with COM 1-2000 in COM1 or COM01 format. Nothing to do. Java ever raises an exception \r\n&gt; Port name - COM3; Method name - openPort(); Exception type - Port not found.\r\n\r\nIf I put in the port name a slash (e.g. &quot;xxxxx\\\\&quot;), whatever xxxxx is, the error becomes \r\n&gt; Port name - COM3; Method name - openPort(); Exception type - Port busy.\r\n\r\nTo start i&#39;m trying to connect to my optical mouse...only for starting.\r\n\r\nThanks to who can help me.\r\n\r\nI tried to connect to a USB device and I expected to read the data from it","title":"Connect to USB using java","body":"<p>Good morning all,\ni'm trying to connect to a USB device from Java in Windows.</p>\n<p>I need it to read some data from a USB cable.</p>\n<p>Here is my code:</p>\n<pre><code>import jssc.SerialPort;\nimport jssc.SerialPortException;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        try {\n            SerialPort serialPort = new SerialPort(&quot;COM03&quot;);\n            serialPort.openPort();\n            serialPort.setParams(4800, 8, 1, 0);//Set params.\n            while(true) {\n                byte[] buffer = serialPort.readBytes(10);\n                if(buffer!=null) {\n                    for(byte b:buffer) {\n                        System.out.print(b);\n                    }\n                } \n            }\n        } catch (SerialPortException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The problem is that Java doesn't accept to connect whatever the SerialPort name is.</p>\n<p>I tried with COM 1-2000 in COM1 or COM01 format. Nothing to do. Java ever raises an exception</p>\n<blockquote>\n<p>Port name - COM3; Method name - openPort(); Exception type - Port not found.</p>\n</blockquote>\n<p>If I put in the port name a slash (e.g. &quot;xxxxx\\&quot;), whatever xxxxx is, the error becomes</p>\n<blockquote>\n<p>Port name - COM3; Method name - openPort(); Exception type - Port busy.</p>\n</blockquote>\n<p>To start i'm trying to connect to my optical mouse...only for starting.</p>\n<p>Thanks to who can help me.</p>\n<p>I tried to connect to a USB device and I expected to read the data from it</p>\n"},{"tags":["java","aspectj","javac","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682257046,"creation_date":1682062145,"answer_id":76070894,"question_id":76068204,"body_markdown":"I did not try to compile and run your sample code yet, but I noticed two things when reading your question:\r\n\r\n 1. Your aspect class is missing an `@Aspect` annotation.\r\n 2. Your project is missing an _aop.xml_ file, specifying the load-time weaving (LTW) options. This is why your console log says `&quot;no configuration found. Disabling weaver&quot;`. See the [AspectJ LTW documentation](https://www.eclipse.org/aspectj/doc/released/devguide/ltw-configuration.html#configuring-load-time-weaving-with-aopxml-files) for more information.\r\n\r\nIf these hints do not help you to solve your problem, feel free to comment on this answer, but please do try and study the documentation first.\r\n\r\n---\r\n\r\n**Update**: After you posted the link to your [reproducer on GitHub](https://github.com/devbith/aspectj-aop-runtime), still some open questions remain:\r\n\r\nHow exactly did you build and run the project? Obviously, you did not use a build tool like Maven or Gradle. You committed a Vim swap file, so I can only guess that you somehow manually call Javac and Java from Vim via command line or so.\r\n\r\nAnyway, making another guess, the problem might be that the AspectJ weaver does not see the _aop.xml_ file, because it should end up in _classes/META-INF/aop.xml_, which it does not. Normally, you should never commit class files or other generated files to Git, but in this case seeing your _classes_ directory on GitHub gives me a clue.\r\n\r\nFor example, when I tried to build your project in IntelliJ IDEA, _aop.xml_ was not picked up, even after marking _META-INF_ as a resource directory. Then I realised that I had to put _META-INF_ into a subdirectory like _resources_ and then mark _resources_ as a resource directory. Only then, IDEA would copy the whole _META-INF_ directory into the output directory, not just _aop.xml_.\r\n\r\nBTW, what is the _MANIFEST.MF_ file with the strange duplicate `Premain-Class` entries good for? You do not need it at all for running the project. Just delete it.\r\n\r\nOne more missing piece in this jigsaw puzzle is that you should add a list of active `&lt;aspects&gt;` to _aop.xml_:\r\n\r\n```xml\r\n&lt;aspectj&gt;\r\n  &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n    &lt;include within=&quot;*&quot;/&gt;\r\n  &lt;/weaver&gt;\r\n  &lt;aspects&gt;\r\n    &lt;aspect name=&quot;HelloWorldAspect&quot;/&gt;\r\n  &lt;/aspects&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nThis is also described on the manual page I linked to already.\r\n\r\nBesides, you should not put any classes or aspects into the default package. That only makes it difficult to use include/exclude configurations in the weaver, because you need to include the top level (empty package).","title":"Problem running AspectJ Load-Time-Weaving with java command","body":"<p>I did not try to compile and run your sample code yet, but I noticed two things when reading your question:</p>\n<ol>\n<li>Your aspect class is missing an <code>@Aspect</code> annotation.</li>\n<li>Your project is missing an <em>aop.xml</em> file, specifying the load-time weaving (LTW) options. This is why your console log says <code>&quot;no configuration found. Disabling weaver&quot;</code>. See the <a href=\"https://www.eclipse.org/aspectj/doc/released/devguide/ltw-configuration.html#configuring-load-time-weaving-with-aopxml-files\" rel=\"nofollow noreferrer\">AspectJ LTW documentation</a> for more information.</li>\n</ol>\n<p>If these hints do not help you to solve your problem, feel free to comment on this answer, but please do try and study the documentation first.</p>\n<hr />\n<p><strong>Update</strong>: After you posted the link to your <a href=\"https://github.com/devbith/aspectj-aop-runtime\" rel=\"nofollow noreferrer\">reproducer on GitHub</a>, still some open questions remain:</p>\n<p>How exactly did you build and run the project? Obviously, you did not use a build tool like Maven or Gradle. You committed a Vim swap file, so I can only guess that you somehow manually call Javac and Java from Vim via command line or so.</p>\n<p>Anyway, making another guess, the problem might be that the AspectJ weaver does not see the <em>aop.xml</em> file, because it should end up in <em>classes/META-INF/aop.xml</em>, which it does not. Normally, you should never commit class files or other generated files to Git, but in this case seeing your <em>classes</em> directory on GitHub gives me a clue.</p>\n<p>For example, when I tried to build your project in IntelliJ IDEA, <em>aop.xml</em> was not picked up, even after marking <em>META-INF</em> as a resource directory. Then I realised that I had to put <em>META-INF</em> into a subdirectory like <em>resources</em> and then mark <em>resources</em> as a resource directory. Only then, IDEA would copy the whole <em>META-INF</em> directory into the output directory, not just <em>aop.xml</em>.</p>\n<p>BTW, what is the <em>MANIFEST.MF</em> file with the strange duplicate <code>Premain-Class</code> entries good for? You do not need it at all for running the project. Just delete it.</p>\n<p>One more missing piece in this jigsaw puzzle is that you should add a list of active <code>&lt;aspects&gt;</code> to <em>aop.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;aspectj&gt;\n  &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n    &lt;include within=&quot;*&quot;/&gt;\n  &lt;/weaver&gt;\n  &lt;aspects&gt;\n    &lt;aspect name=&quot;HelloWorldAspect&quot;/&gt;\n  &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>This is also described on the manual page I linked to already.</p>\n<p>Besides, you should not put any classes or aspects into the default package. That only makes it difficult to use include/exclude configurations in the weaver, because you need to include the top level (empty package).</p>\n"}],"owner":{"account_id":8839974,"reputation":3,"user_id":12340093,"display_name":"Bishal Thapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76070894,"answer_count":1,"score":0,"last_activity_date":1682257267,"creation_date":1682024000,"question_id":76068204,"body_markdown":"I am trying to run and test the aspectJ load time weaving.\r\nIt compiled successfully.\r\n\r\n```none\r\njavac -cp &quot;lib/*&quot; -d classes src/*.java\r\n```\r\n\r\nWhile running the program,  the output is only `Hello`. Sadly, aspect did not run.\r\n\r\n```none\r\njava -javaagent:lib/aspectjweaver-1.9.19.jar -cp &quot;lib/*:classes/&quot; Runner\r\n```\r\n\r\nThis is my folder structure:\r\n\r\n```none\r\n├── META-INF\r\n│&#160;&#160; └── aop.xml\r\n├── classes\r\n│&#160;&#160; ├── HelloWorld.class\r\n│&#160;&#160; ├── HelloWorldAspect.class\r\n│&#160;&#160; └── Runner.class\r\n├── lib\r\n│&#160;&#160; ├── aspectjrt-1.9.19.jar\r\n│&#160;&#160; └── aspectjweaver-1.9.19.jar\r\n└── src\r\n    ├── HelloWorld.java\r\n    ├── HelloWorldAspect.java\r\n    └── Runner.java\r\n```\r\n\r\nThe file contents are:\r\n\r\n```java\r\npublic class HelloWorld {\r\n  public void greet() {\r\n    System.out.println(&quot;Hello&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.After;\r\n\r\n@Aspect\r\npublic class HelloWorldAspect {\r\n  @After(&quot;execution (* HelloWorld.*(..))&quot;)\r\n  public void greetAspect() {\r\n      System.out.println(&quot;, World&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic class Runner {\r\n  public static void main(String[] args) {\r\n      HelloWorld h = new HelloWorld();\r\n      h.greet();\r\n  }\r\n}\r\n```\r\n\r\n```xml\r\n&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n&lt;aspectj&gt;\r\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\r\n        &lt;include within=&quot;*&quot; /&gt;\r\n    &lt;/weaver&gt;\r\n&lt;/aspectj&gt;\r\n```\r\n\r\nI tried `-Daj.weaving.verbose=true` to see if jar is loaded.\r\n\r\n```none\r\n$ java -javaagent:lib/aspectjweaver-1.9.19.jar -cp &quot;lib/*:classes/&quot; -Dorg.aspectj.weaver.loadtime.configuration=/META-INF/aop.xml -Daj.weaving.verbose=true Runner\r\n\r\n[AppClassLoader@18b4aac2] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\r\n[AppClassLoader@18b4aac2] info register classloader sun.misc.Launcher$AppClassLoader@18b4aac2\r\n[AppClassLoader@18b4aac2] info no configuration found. Disabling weaver for class loader sun.misc.Launcher$AppClassLoader@18b4aac2\r\nHello\r\n```\r\n\r\nI don&#39;t want to run the tool `ajc` and would like run with `java` program and run the aspect see the output `Hello, World`.","title":"Problem running AspectJ Load-Time-Weaving with java command","body":"<p>I am trying to run and test the aspectJ load time weaving.\nIt compiled successfully.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -cp &quot;lib/*&quot; -d classes src/*.java\n</code></pre>\n<p>While running the program,  the output is only <code>Hello</code>. Sadly, aspect did not run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -javaagent:lib/aspectjweaver-1.9.19.jar -cp &quot;lib/*:classes/&quot; Runner\n</code></pre>\n<p>This is my folder structure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>├── META-INF\n│   └── aop.xml\n├── classes\n│   ├── HelloWorld.class\n│   ├── HelloWorldAspect.class\n│   └── Runner.class\n├── lib\n│   ├── aspectjrt-1.9.19.jar\n│   └── aspectjweaver-1.9.19.jar\n└── src\n    ├── HelloWorld.java\n    ├── HelloWorldAspect.java\n    └── Runner.java\n</code></pre>\n<p>The file contents are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld {\n  public void greet() {\n    System.out.println(&quot;Hello&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.After;\n\n@Aspect\npublic class HelloWorldAspect {\n  @After(&quot;execution (* HelloWorld.*(..))&quot;)\n  public void greetAspect() {\n      System.out.println(&quot;, World&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Runner {\n  public static void main(String[] args) {\n      HelloWorld h = new HelloWorld();\n      h.greet();\n  }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n    &lt;weaver options=&quot;-verbose -showWeaveInfo&quot;&gt;\n        &lt;include within=&quot;*&quot; /&gt;\n    &lt;/weaver&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>I tried <code>-Daj.weaving.verbose=true</code> to see if jar is loaded.</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ java -javaagent:lib/aspectjweaver-1.9.19.jar -cp &quot;lib/*:classes/&quot; -Dorg.aspectj.weaver.loadtime.configuration=/META-INF/aop.xml -Daj.weaving.verbose=true Runner\n\n[AppClassLoader@18b4aac2] info AspectJ Weaver Version 1.9.19 built on Wednesday Dec 21, 2022 at 06:57:22 PST\n[AppClassLoader@18b4aac2] info register classloader sun.misc.Launcher$AppClassLoader@18b4aac2\n[AppClassLoader@18b4aac2] info no configuration found. Disabling weaver for class loader sun.misc.Launcher$AppClassLoader@18b4aac2\nHello\n</code></pre>\n<p>I don't want to run the tool <code>ajc</code> and would like run with <code>java</code> program and run the aspect see the output <code>Hello, World</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","swagger"],"owner":{"account_id":12238621,"reputation":50,"user_id":8932300,"display_name":"Jakub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682256259,"creation_date":1682255858,"question_id":76085066,"body_markdown":"Lately I added Swagger package to my app. Before that, I had specified global exception handlers via @RestControllerAdvice. \r\n\r\nThere, I handle exceptions like ``NOT FOUND`` like for the GET methods where resource specified by an ID is not found.\r\n\r\nI have ``ResourceControllers`` and ``RegistrationController`` in my app. \r\n\r\nThe problem is that now all my endpoints and controllers has ``NOT FOUND`` included in the documentation. But it is not possible for POST endpoints to throw that exception (like in RegistrationController or some endpoints in ResourceController). \r\n\r\nHow can I exclude ``NOT FOUND`` error showing up in my docs for the POST methods?\r\n\r\nThings I tried:\r\n1. Explicitly defining @ApiResponses in Controllers - it does work but only if I disable global @ControllerAdvice\r\n\r\n```Java\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;(OK) User created&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;(BAD REQUEST) Invalid data&quot;),\r\n            @ApiResponse(responseCode = &quot;422&quot;, description = &quot;(UNPROCESSABLE ENTITY) Email already taken&quot;)\r\n    })\r\n    @RequestMapping(method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; register(@RequestBody @Valid RegisterFormDTO registerFormDTO) {\r\n        User createdUser = userService.create(registerFormDTO);\r\n\r\n        return new ResponseEntity&lt;&gt;(new CreatedUserDTO(createdUser), HttpStatus.CREATED);\r\n    }\r\n```\r\n2. Using @RequestMapping with a @ExceptionHandling in @RestContollerAdvice\r\n```Java\r\n@RestControllerAdvice\r\npublic class ControllerExceptionHandler {\r\n\r\n    @ExceptionHandler(ResourceNotFoundException.class)\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    @ConditionalOnExpression(&quot;#{request.method != &#39;POST&#39;}&quot;)\r\n    public ResponseEntity&lt;ErrorMessage&gt; resourceNotFoundException(ResourceNotFoundException ex, WebRequest request) {\r\n        ErrorMessage message = new ErrorMessage(\r\n                HttpStatus.NOT_FOUND.value(),\r\n                new Date(),\r\n                ex.getMessage(),\r\n                null);\r\n\r\n        return new ResponseEntity&lt;&gt;(message, HttpStatus.NOT_FOUND);\r\n    }\r\n/* *** */\r\n```\r\n\r\nOther approaches could be grouping ControllerAdvices for specific controller classes but it wouldn&#39;t work since it would require to extract POST methods from them somewhere else.","title":"Swagger includes 404 for all routes and controllers in Spring","body":"<p>Lately I added Swagger package to my app. Before that, I had specified global exception handlers via @RestControllerAdvice.</p>\n<p>There, I handle exceptions like <code>NOT FOUND</code> like for the GET methods where resource specified by an ID is not found.</p>\n<p>I have <code>ResourceControllers</code> and <code>RegistrationController</code> in my app.</p>\n<p>The problem is that now all my endpoints and controllers has <code>NOT FOUND</code> included in the documentation. But it is not possible for POST endpoints to throw that exception (like in RegistrationController or some endpoints in ResourceController).</p>\n<p>How can I exclude <code>NOT FOUND</code> error showing up in my docs for the POST methods?</p>\n<p>Things I tried:</p>\n<ol>\n<li>Explicitly defining @ApiResponses in Controllers - it does work but only if I disable global @ControllerAdvice</li>\n</ol>\n<pre><code>    @ApiResponses(value = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;(OK) User created&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;(BAD REQUEST) Invalid data&quot;),\n            @ApiResponse(responseCode = &quot;422&quot;, description = &quot;(UNPROCESSABLE ENTITY) Email already taken&quot;)\n    })\n    @RequestMapping(method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; register(@RequestBody @Valid RegisterFormDTO registerFormDTO) {\n        User createdUser = userService.create(registerFormDTO);\n\n        return new ResponseEntity&lt;&gt;(new CreatedUserDTO(createdUser), HttpStatus.CREATED);\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Using @RequestMapping with a @ExceptionHandling in @RestContollerAdvice</li>\n</ol>\n<pre><code>@RestControllerAdvice\npublic class ControllerExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @RequestMapping(method = RequestMethod.GET)\n    @ConditionalOnExpression(&quot;#{request.method != 'POST'}&quot;)\n    public ResponseEntity&lt;ErrorMessage&gt; resourceNotFoundException(ResourceNotFoundException ex, WebRequest request) {\n        ErrorMessage message = new ErrorMessage(\n                HttpStatus.NOT_FOUND.value(),\n                new Date(),\n                ex.getMessage(),\n                null);\n\n        return new ResponseEntity&lt;&gt;(message, HttpStatus.NOT_FOUND);\n    }\n/* *** */\n</code></pre>\n<p>Other approaches could be grouping ControllerAdvices for specific controller classes but it wouldn't work since it would require to extract POST methods from them somewhere else.</p>\n"},{"tags":["java","android","surfaceview"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682183077,"creation_date":1682183077,"answer_id":76080902,"question_id":76080635,"body_markdown":"It&#39;s hard to tell exactly what&#39;s going on, because we don&#39;t see where those static functions are being called.  But scaling bitmaps is expensive.  If you have to do a lot of it, don&#39;t do it on the main thread.  Do it on another thread, then post a message to the main thread with the result to draw.  ","title":"Android drawing Bitmap.createScaledBitmap freezes UI;","body":"<p>It's hard to tell exactly what's going on, because we don't see where those static functions are being called.  But scaling bitmaps is expensive.  If you have to do a lot of it, don't do it on the main thread.  Do it on another thread, then post a message to the main thread with the result to draw.</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682256021,"creation_date":1682179928,"question_id":76080635,"body_markdown":"I noticed that when I use `Bitmap.createScaledBitmap(...)` to fit my Bitmaps to the screen, draw it and move my surfaceview my app freezes (ANR) but if I `Bitmap.createScaledBitmap(...)` with smaller size everything works fine, but I want those Bitmaps to fit the screen. This `Bitmap.createScaledBitmap(...)` within `createBitmaps(...)` I use only once. I bolded this code with label HERE IS THE PROBLEM. I use `drawTmxMaps(...)` in GameThread loop  I wonder how to solve this?\r\n\r\n\r\nLoader.java\r\n\r\n\r\n    public static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\r\n    public static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\r\n\r\n    private static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\r\n        for (int i = 0; i &lt; animFrames.size(); i++) {\r\n            differentFramesMap.put(i, new Bitmap[animFrames.get(i)]);\r\n            differentCanvasesMap.put(i, new Canvas[animFrames.get(i)]);\r\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                differentFramesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.ARGB_8888);\r\n                differentCanvasesMap.get(i)[j] = new Canvas(differentFramesMap.get(i)[j]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\r\n\r\n        try {\r\n            AssetManager assetManager = gameSurface.getContext().getAssets();\r\n\r\n            Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\r\n\r\n            for (int i = 0; i &lt; tilesets.length; i++) {\r\n                tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\r\n            }\r\n\r\n            long currentGID;\r\n            Long localGID;\r\n            Integer currentTileSetIndex;\r\n            Rect source = new Rect(0, 0, 0, 0);\r\n            Rect dest = new Rect(0, 0, 0, 0);\r\n\r\n            for (int i = startLayer; i &lt; endLayer; i++) {\r\n                for (int j = 0; j &lt; t.layers.get(i).height; j++) {\r\n                    for (int k = 0; k &lt; t.layers.get(i).width; k++) {\r\n\r\n                        currentGID = t.getGIDAt(k, j, i);\r\n                        localGID = t.getLocalID(currentGID);\r\n                        currentTileSetIndex = t.getTileSetIndex(currentGID);\r\n\r\n                        if (!isAfterInit) {\r\n                            animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations)\r\n                                    .map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\r\n\r\n                            init(animFrames, t, gameSurface);\r\n                            isAfterInit = true;\r\n                        }\r\n\r\n                        if (localGID != null) {\r\n                            if (i == startLayer) {\r\n                                (...)                               \r\n                            } else {\r\n                                for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n\r\n                                    if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\r\n                                        for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\r\n\r\n                                            source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\r\n                                            source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\r\n                                            source.bottom = source.top + t.tileheight;\r\n                                            source.right = source.left + t.tilewidth;\r\n\r\n                                            dest.top = j * t.tileheight;\r\n                                            dest.left = k * t.tilewidth;\r\n                                            dest.bottom = dest.top + t.tileheight;\r\n                                            dest.right = dest.left + t.tilewidth;\r\n\r\n                                            differentCanvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, new Paint());\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; differentFramesMap.size(); i++) {\r\n                for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n\r\n                        **HERE IS THE PROBLEM**\r\n                        differentFramesMap.get(i)[j] = Bitmap.createScaledBitmap(differentFramesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    public static void drawTmxMaps(Canvas canvas) {\r\n        canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, null);\r\n        canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, null);\r\n        canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, null);\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static void iterTmxFrames() {\r\n        runnable = () -&gt; {\r\n            framesFirstAnimIter++;\r\n            framesSecondAnimIter++;\r\n            framesThirdAnimIter++;\r\n            if (framesFirstAnimIter == 3)\r\n                framesFirstAnimIter = 0;\r\n            if (framesSecondAnimIter == 2)\r\n                framesSecondAnimIter = 0;\r\n            if (framesThirdAnimIter == 2)\r\n                framesThirdAnimIter = 0;\r\n            handler.postDelayed(runnable, 1000);\r\n        };\r\n        handler.postDelayed(runnable, 1000);\r\n    }\r\n\r\n\r\nGameMainSurface.java\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent ev) {\r\n        //HERE IS WHERE APP STOPS RESPONDING\r\n        if (ev.getAction() == MotionEvent.ACTION_UP) {\r\n            setX(100);\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\nand here is where this `drawTmxMaps(...)` is called.\r\n\r\nGameThread.java\r\n\r\n\r\n    @Getter\r\n    @Setter\r\n\r\n    public class GameThread&lt;T extends GameSurface&gt; extends Thread {\r\n\r\n    private final SurfaceHolder surfaceHolder;\r\n\r\n    private boolean isRunning;\r\n    private long startTime, loopTime;\r\n    private long delay = 33;\r\n    private T gameSurface;\r\n    private boolean a = false;\r\n\r\n    public GameThread(SurfaceHolder surfaceHolder, T gameSurface) {\r\n        this.surfaceHolder = surfaceHolder;\r\n        this.gameSurface = gameSurface;\r\n        isRunning = true;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (isRunning) {\r\n            startTime = SystemClock.uptimeMillis();\r\n            Canvas canvas = surfaceHolder.lockCanvas();\r\n            if (canvas != null) {\r\n                synchronized (surfaceHolder) {\r\n\r\n                    TmxLoader.drawTmxMaps(canvas, gameSurface.getContext(), gameSurface);\r\n\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n                }\r\n            }\r\n\r\n            loopTime = SystemClock.uptimeMillis() - startTime;\r\n\r\n            if (loopTime &lt; delay) {\r\n                try {\r\n                    Thread.sleep(delay - loopTime);\r\n                } catch (InterruptedException e) {\r\n                    Log.e(&quot;Interupted ex&quot;, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Android drawing Bitmap.createScaledBitmap freezes UI;","body":"<p>I noticed that when I use <code>Bitmap.createScaledBitmap(...)</code> to fit my Bitmaps to the screen, draw it and move my surfaceview my app freezes (ANR) but if I <code>Bitmap.createScaledBitmap(...)</code> with smaller size everything works fine, but I want those Bitmaps to fit the screen. This <code>Bitmap.createScaledBitmap(...)</code> within <code>createBitmaps(...)</code> I use only once. I bolded this code with label HERE IS THE PROBLEM. I use <code>drawTmxMaps(...)</code> in GameThread loop  I wonder how to solve this?</p>\n<p>Loader.java</p>\n<pre><code>public static Map&lt;Integer, Bitmap[]&gt; differentFramesMap = new HashMap&lt;&gt;();\npublic static Map&lt;Integer, Canvas[]&gt; differentCanvasesMap = new HashMap&lt;&gt;();\n\nprivate static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\n    for (int i = 0; i &lt; animFrames.size(); i++) {\n        differentFramesMap.put(i, new Bitmap[animFrames.get(i)]);\n        differentCanvasesMap.put(i, new Canvas[animFrames.get(i)]);\n        for (int j = 0; j &lt; animFrames.get(i); j++) {\n            differentFramesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.ARGB_8888);\n            differentCanvasesMap.get(i)[j] = new Canvas(differentFramesMap.get(i)[j]);\n        }\n    }\n}\n\n\n\npublic static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\n\n    try {\n        AssetManager assetManager = gameSurface.getContext().getAssets();\n\n        Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\n\n        for (int i = 0; i &lt; tilesets.length; i++) {\n            tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\n        }\n\n        long currentGID;\n        Long localGID;\n        Integer currentTileSetIndex;\n        Rect source = new Rect(0, 0, 0, 0);\n        Rect dest = new Rect(0, 0, 0, 0);\n\n        for (int i = startLayer; i &lt; endLayer; i++) {\n            for (int j = 0; j &lt; t.layers.get(i).height; j++) {\n                for (int k = 0; k &lt; t.layers.get(i).width; k++) {\n\n                    currentGID = t.getGIDAt(k, j, i);\n                    localGID = t.getLocalID(currentGID);\n                    currentTileSetIndex = t.getTileSetIndex(currentGID);\n\n                    if (!isAfterInit) {\n                        animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations)\n                                .map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\n\n                        init(animFrames, t, gameSurface);\n                        isAfterInit = true;\n                    }\n\n                    if (localGID != null) {\n                        if (i == startLayer) {\n                            (...)                               \n                        } else {\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n\n                                if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\n                                    for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\n\n                                        source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\n                                        source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\n                                        source.bottom = source.top + t.tileheight;\n                                        source.right = source.left + t.tilewidth;\n\n                                        dest.top = j * t.tileheight;\n                                        dest.left = k * t.tilewidth;\n                                        dest.bottom = dest.top + t.tileheight;\n                                        dest.right = dest.left + t.tilewidth;\n\n                                        differentCanvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, new Paint());\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        for (int i = 0; i &lt; differentFramesMap.size(); i++) {\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\n\n                    **HERE IS THE PROBLEM**\n                    differentFramesMap.get(i)[j] = Bitmap.createScaledBitmap(differentFramesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\n            }\n        }\n    } catch (IOException e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n\n\npublic static void drawTmxMaps(Canvas canvas) {\n    canvas.drawBitmap(differentFramesMap.get(0)[framesFirstAnimIter], 0, 0, null);\n    canvas.drawBitmap(differentFramesMap.get(1)[framesSecondAnimIter], 0, 0, null);\n    canvas.drawBitmap(differentFramesMap.get(2)[framesThirdAnimIter], 0, 0, null);\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\n\n\nprivate static void iterTmxFrames() {\n    runnable = () -&gt; {\n        framesFirstAnimIter++;\n        framesSecondAnimIter++;\n        framesThirdAnimIter++;\n        if (framesFirstAnimIter == 3)\n            framesFirstAnimIter = 0;\n        if (framesSecondAnimIter == 2)\n            framesSecondAnimIter = 0;\n        if (framesThirdAnimIter == 2)\n            framesThirdAnimIter = 0;\n        handler.postDelayed(runnable, 1000);\n    };\n    handler.postDelayed(runnable, 1000);\n}\n</code></pre>\n<p>GameMainSurface.java</p>\n<pre><code>@Override\npublic boolean onTouchEvent(MotionEvent ev) {\n    //HERE IS WHERE APP STOPS RESPONDING\n    if (ev.getAction() == MotionEvent.ACTION_UP) {\n        setX(100);\n    }\n    return true;\n}\n</code></pre>\n<p>and here is where this <code>drawTmxMaps(...)</code> is called.</p>\n<p>GameThread.java</p>\n<pre><code>@Getter\n@Setter\n\npublic class GameThread&lt;T extends GameSurface&gt; extends Thread {\n\nprivate final SurfaceHolder surfaceHolder;\n\nprivate boolean isRunning;\nprivate long startTime, loopTime;\nprivate long delay = 33;\nprivate T gameSurface;\nprivate boolean a = false;\n\npublic GameThread(SurfaceHolder surfaceHolder, T gameSurface) {\n    this.surfaceHolder = surfaceHolder;\n    this.gameSurface = gameSurface;\n    isRunning = true;\n}\n\n@Override\npublic void run() {\n    while (isRunning) {\n        startTime = SystemClock.uptimeMillis();\n        Canvas canvas = surfaceHolder.lockCanvas();\n        if (canvas != null) {\n            synchronized (surfaceHolder) {\n\n                TmxLoader.drawTmxMaps(canvas, gameSurface.getContext(), gameSurface);\n\n                surfaceHolder.unlockCanvasAndPost(canvas);\n            }\n        }\n\n        loopTime = SystemClock.uptimeMillis() - startTime;\n\n        if (loopTime &lt; delay) {\n            try {\n                Thread.sleep(delay - loopTime);\n            } catch (InterruptedException e) {\n                Log.e(&quot;Interupted ex&quot;, e.getMessage());\n            }\n        }\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","linux","process"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":0,"creation_date":1681837232,"post_id":76046942,"comment_id":134119983,"body_markdown":"When you change the command in `ProcessBuilder` to `&quot;/usr/sbin/lsof -t TestJar.jar &gt; /tmp/output.txt&quot;`, does the file `/tmp/output.txt` contain the expected output? Does your Java program get the output when you replace the command with e.g. `&quot;echo 123&quot;`?","body":"When you change the command in <code>ProcessBuilder</code> to <code>&quot;&#47;usr&#47;sbin&#47;lsof -t TestJar.jar &gt; &#47;tmp&#47;output.txt&quot;</code>, does the file <code>&#47;tmp&#47;output.txt</code> contain the expected output? Does your Java program get the output when you replace the command with e.g. <code>&quot;echo 123&quot;</code>?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1681846133,"post_id":76046942,"comment_id":134121929,"body_markdown":"You shouldn&#39;t have call to destroy(). Check the exit code of the process (waitFor) and  what is on standard error (or redirectErrorStream(true)), then edit question when you know. Most likely bash is not on Java&#39;s path.","body":"You shouldn&#39;t have call to destroy(). Check the exit code of the process (waitFor) and  what is on standard error (or redirectErrorStream(true)), then edit question when you know. Most likely bash is not on Java&#39;s path."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1681846967,"post_id":76046942,"comment_id":134122092,"body_markdown":"1.  There is no need for bash here.  Just write `new ProcessBuilder(&quot;/usr/sbin/lsof&quot;, &quot;-t&quot;, &quot;TestJar.jar&quot;)`.  2.  You are suppressing the standard error of lsof.  Remove your while-loop entirely, remove the BufferedReader, and call `builder.inheritIO()`.  That method will propagate both the standard output and standard error of the child process to your Java program, allowing you to see everything that process prints.","body":"1.  There is no need for bash here.  Just write <code>new ProcessBuilder(&quot;&#47;usr&#47;sbin&#47;lsof&quot;, &quot;-t&quot;, &quot;TestJar.jar&quot;)</code>.  2.  You are suppressing the standard error of lsof.  Remove your while-loop entirely, remove the BufferedReader, and call <code>builder.inheritIO()</code>.  That method will propagate both the standard output and standard error of the child process to your Java program, allowing you to see everything that process prints."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681860066,"post_id":76046942,"comment_id":134124313,"body_markdown":"Try `ProcessHandle.allProcesses().filter(p -&gt;p.info().commandLine().orElse(&quot;&quot;).contains(&quot;TestJar.jar&quot;)).forEach(p -&gt;p.destroy());` A whole lot easier and X-platform too ;)","body":"Try <code>ProcessHandle.allProcesses().filter(p -&gt;p.info().commandLine().orElse(&quot;&quot;).contains(&quot;TestJar.jar&quot;))&zwnj;&#8203;.forEach(p -&gt;p.destroy());</code> A whole lot easier and X-platform too ;)"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682255642,"creation_date":1682255642,"answer_id":76085044,"question_id":76046942,"body_markdown":"Most likely your JVM has a different working directory to the terminal, and the command `/usr/sbin/lsof -t TestJar.jar` will only work from the current directory of `TestJar.jar` because otherwise `lsof` has no idea which filesystem path you are referring to. You don&#39;t handle STDERR so you have lost the error message which probably starts with:\r\n\r\n    lsof: status error on TestJar.jar: No such file or directory\r\n\r\nThe easiest way to see STDERR is to follow @VGR suggestion adding `builder.inheritIO();` or as I suggested in comments `builder.redirectErrorStream(true);`. You can fix the issue by passing in the absolute path to TestJar.jar or by using `builder.directory(new File(&quot;/abs/path/tothejar&quot;))` to change directory to the right place before starting `lsof`.\r\n\r\nYou don&#39;t need to run bash here either, try calling directly using the [start method of this answer][1]:\r\n\r\n    // Some systems have need this path instead: /usr/bin/lsof\r\n    start(new String[]{&quot;/usr/sbin/lsof&quot;, &quot;-t&quot;, &quot;/abs/path/tothejar/TestJar.jar&quot;}, null, System.out, null);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75843148/runtime-exec-freezes-on-execution-of-ffmpeg-audio-replacing-command-that-works/75843278#75843278","title":"Java Process Input Stream Blank on Linux","body":"<p>Most likely your JVM has a different working directory to the terminal, and the command <code>/usr/sbin/lsof -t TestJar.jar</code> will only work from the current directory of <code>TestJar.jar</code> because otherwise <code>lsof</code> has no idea which filesystem path you are referring to. You don't handle STDERR so you have lost the error message which probably starts with:</p>\n<pre><code>lsof: status error on TestJar.jar: No such file or directory\n</code></pre>\n<p>The easiest way to see STDERR is to follow @VGR suggestion adding <code>builder.inheritIO();</code> or as I suggested in comments <code>builder.redirectErrorStream(true);</code>. You can fix the issue by passing in the absolute path to TestJar.jar or by using <code>builder.directory(new File(&quot;/abs/path/tothejar&quot;))</code> to change directory to the right place before starting <code>lsof</code>.</p>\n<p>You don't need to run bash here either, try calling directly using the <a href=\"https://stackoverflow.com/questions/75843148/runtime-exec-freezes-on-execution-of-ffmpeg-audio-replacing-command-that-works/75843278#75843278\">start method of this answer</a>:</p>\n<pre><code>// Some systems have need this path instead: /usr/bin/lsof\nstart(new String[]{&quot;/usr/sbin/lsof&quot;, &quot;-t&quot;, &quot;/abs/path/tothejar/TestJar.jar&quot;}, null, System.out, null);\n</code></pre>\n"}],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76085044,"answer_count":1,"score":0,"last_activity_date":1682255642,"creation_date":1681834997,"question_id":76046942,"body_markdown":"When I open a linux terminal and run\r\n\r\n    /usr/sbin/lsof -t TestJar.jar\r\n\r\nI get the correct PID returned as expected. However, when I execute the same statement through java (below) I get nothing returned.\r\n\r\n \r\n\r\n    try {\r\n\t\t\tProcessBuilder builder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;/usr/sbin/lsof -t TestJar.jar&quot;);\r\n\t\t\tProcess process = builder.start();\r\n\t\t\tSystem.out.println(&quot;----------------&quot;);\r\n\t\t\t//Thread.sleep(3000);\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\t\t\tString line = reader.readLine();\r\n\t\t\twhile(line != null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t\tline = reader.readLine();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprocess.destroy();\r\n\t\t\treader.close();\r\n\t\t\tSystem.out.println(&quot;----------------&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;FAILED&quot;);\r\n\t\t\tMain.printToErrorLog(e);\r\n\t\t}\r\nI&#39;ve even printed out the exact command to the console and copy and pasted it to the terminal. Any ideas on what I&#39;m overlooking?","title":"Java Process Input Stream Blank on Linux","body":"<p>When I open a linux terminal and run</p>\n<pre><code>/usr/sbin/lsof -t TestJar.jar\n</code></pre>\n<p>I get the correct PID returned as expected. However, when I execute the same statement through java (below) I get nothing returned.</p>\n<pre><code>try {\n        ProcessBuilder builder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, &quot;/usr/sbin/lsof -t TestJar.jar&quot;);\n        Process process = builder.start();\n        System.out.println(&quot;----------------&quot;);\n        //Thread.sleep(3000);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = reader.readLine();\n        while(line != null)\n        {\n            System.out.println(line);\n            line = reader.readLine();\n        }\n        \n        process.destroy();\n        reader.close();\n        System.out.println(&quot;----------------&quot;);\n    }\n    catch(Exception e) \n    {\n        System.out.println(&quot;FAILED&quot;);\n        Main.printToErrorLog(e);\n    }\n</code></pre>\n<p>I've even printed out the exact command to the console and copy and pasted it to the terminal. Any ideas on what I'm overlooking?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","master-detail"],"owner":{"account_id":955314,"reputation":185,"user_id":980738,"accept_rate":50,"display_name":"Manuel Calles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682255221,"creation_date":1682255221,"question_id":76085014,"body_markdown":"I&#39;m implementing a master-detail relationship and I&#39;m having troubles when persisting data. I defined the following classes to represent the relationship:\r\n\r\n    // MASTER\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;factura_cabecera&quot;)\r\n    public class FacturaEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private Long numeroFactura;\r\n    \r\n        private LocalDateTime fechaEmision;\r\n        private String nombreRazonSocial;\r\n        private String codigoCliente;\r\n        private BigDecimal montoTotal;\r\n        private String usuario;\r\n     \r\n        @OneToMany(\r\n                mappedBy = &quot;factura&quot;,\r\n                cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE },\r\n                fetch = FetchType.LAZY,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;FacturaDetalleEntity&gt; detalleList;\r\n    }\r\n    \r\n    // DETAIL\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;factura_detalle&quot;)\r\n    public class FacturaDetalleEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(length = 500)\r\n        private String descripcion;\r\n        private BigDecimal cantidad;\r\n        private Integer unidadMedida;\r\n        private BigDecimal precioUnitario;\r\n        private BigDecimal subTotal;\r\n    \r\n        @JsonIgnore\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;id_factura&quot;, referencedColumnName = &quot;id&quot;)\r\n        private FacturaEntity factura;\r\n    }\r\n\r\nI&#39;ve also defined some classes to represent the request to the API and I&#39;m using them this way to fill factura (master) and detalle (detail):\r\n\r\n    FacturaEntity factura = new FacturaEntity();\r\n    // filling factura properties\r\n    factura.setNumeroFactura(facturaElectronicaCompraVenta.getCabecera().getNumeroFactura());\r\n    ...\r\n    // filling detalle properties\r\n    List&lt;DetalleCompraVenta&gt; detalleList = facturaElectronicaCompraVenta.getDetalle();\r\n    List&lt;FacturaDetalleEntity&gt; facturaDetalleList = new ArrayList&lt;&gt;();\r\n    \r\n    for (DetalleCompraVenta detalle :detalleList) {\r\n        facturaDetalleList.add(detalle);\r\n    }\r\n    \r\n    factura.setDetalleList(facturaDetalleList);\r\n    // persist data\r\n    facturaRepository.save(factura);\r\n\r\nBut when querying database I get this result:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nSo, why is id_factura column filling up with NULL values? Thank you in advance for your colaboration.\r\n\r\n  [1]: https://i.stack.imgur.com/rMTOv.png\r\n  [2]: https://i.stack.imgur.com/rb12S.png","title":"NULL master reference in detail implementing master-detail relationship","body":"<p>I'm implementing a master-detail relationship and I'm having troubles when persisting data. I defined the following classes to represent the relationship:</p>\n<pre><code>// MASTER\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;factura_cabecera&quot;)\npublic class FacturaEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long numeroFactura;\n\n    private LocalDateTime fechaEmision;\n    private String nombreRazonSocial;\n    private String codigoCliente;\n    private BigDecimal montoTotal;\n    private String usuario;\n \n    @OneToMany(\n            mappedBy = &quot;factura&quot;,\n            cascade = { CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE },\n            fetch = FetchType.LAZY,\n            orphanRemoval = true\n    )\n    private List&lt;FacturaDetalleEntity&gt; detalleList;\n}\n\n// DETAIL\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;factura_detalle&quot;)\npublic class FacturaDetalleEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(length = 500)\n    private String descripcion;\n    private BigDecimal cantidad;\n    private Integer unidadMedida;\n    private BigDecimal precioUnitario;\n    private BigDecimal subTotal;\n\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;id_factura&quot;, referencedColumnName = &quot;id&quot;)\n    private FacturaEntity factura;\n}\n</code></pre>\n<p>I've also defined some classes to represent the request to the API and I'm using them this way to fill factura (master) and detalle (detail):</p>\n<pre><code>FacturaEntity factura = new FacturaEntity();\n// filling factura properties\nfactura.setNumeroFactura(facturaElectronicaCompraVenta.getCabecera().getNumeroFactura());\n...\n// filling detalle properties\nList&lt;DetalleCompraVenta&gt; detalleList = facturaElectronicaCompraVenta.getDetalle();\nList&lt;FacturaDetalleEntity&gt; facturaDetalleList = new ArrayList&lt;&gt;();\n\nfor (DetalleCompraVenta detalle :detalleList) {\n    facturaDetalleList.add(detalle);\n}\n\nfactura.setDetalleList(facturaDetalleList);\n// persist data\nfacturaRepository.save(factura);\n</code></pre>\n<p>But when querying database I get this result:\n<a href=\"https://i.stack.imgur.com/rMTOv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rMTOv.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/rb12S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rb12S.png\" alt=\"enter image description here\" /></a></p>\n<p>So, why is id_factura column filling up with NULL values? Thank you in advance for your colaboration.</p>\n"},{"tags":["java","breadth-first-search","shortest-path","maze"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1682258307,"post_id":76083776,"comment_id":134183440,"body_markdown":"You left out a lot of important information from the question -- the part about the input format and constraints that explains why you&#39;re getting TLE.","body":"You left out a lot of important information from the question -- the part about the input format and constraints that explains why you&#39;re getting TLE."}],"answers":[{"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682240922,"creation_date":1682240525,"answer_id":76083969,"question_id":76083776,"body_markdown":"Perhaps you may optimize by memorizing the previous move and only process orthogonal moves. \r\n\r\nThen `current[3]` gives an index to the allowed move and a structure would contains the tables for each directions `{{2,3},{0,1},{2,3},{0,1},{0,1,2,3}}`. Here a dummy previous direction=4 will be used as the first previous direction and allow scanning all directions. \r\n\r\nThis would change the complexity only by a multiplier since trying the same direction and the opposite will give an already seen cell and won’t fill the queue. \r\n\r\nNote: it appears that the edge are seen as wall when you want the move to be discarded. ","title":"Reducing the complexity of BFS in Java","body":"<p>Perhaps you may optimize by memorizing the previous move and only process orthogonal moves.</p>\n<p>Then <code>current[3]</code> gives an index to the allowed move and a structure would contains the tables for each directions <code>{{2,3},{0,1},{2,3},{0,1},{0,1,2,3}}</code>. Here a dummy previous direction=4 will be used as the first previous direction and allow scanning all directions.</p>\n<p>This would change the complexity only by a multiplier since trying the same direction and the opposite will give an already seen cell and won’t fill the queue.</p>\n<p>Note: it appears that the edge are seen as wall when you want the move to be discarded.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682254617,"creation_date":1682253995,"answer_id":76084930,"question_id":76083776,"body_markdown":"I think, when sphere hits the obstacle you need to save information about direction been chosen as well, not just obstacle coordinates.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    char[][] map = new char[][]{\r\n            /*0*/&quot;.....O..............&quot;.toCharArray(),\r\n            /*1*/&quot;OOO.OO.OOOOOOOO.....&quot;.toCharArray(),\r\n            /*2*/&quot;O.............O..OOO&quot;.toCharArray(),\r\n            /*3*/&quot;O.O..O.............O&quot;.toCharArray(),\r\n            /*4*/&quot;O.O..O........OOO..O&quot;.toCharArray(),\r\n            /*5*/&quot;..O..O..........O..O&quot;.toCharArray(),\r\n            /*6*/&quot;..O..OOOO.......O..O&quot;.toCharArray(),\r\n            /*7*/&quot;..O..........H.....O&quot;.toCharArray(),\r\n            /*8*/&quot;..O................O&quot;.toCharArray(),\r\n            /*9*/&quot;..OOOOOOOOOOOOOOOOOO&quot;.toCharArray(),\r\n            /*    0123456789abcdefgijk  */\r\n    };\r\n\r\n    System.out.println(bfs(map, 7, 0));\r\n    System.out.println(bfs(map, 7, 4));\r\n    System.out.println(bfs(map, 0, 10));\r\n    System.out.println(bfs(map, 0, 0));\r\n    System.out.println(bfs(map, 9, 1));\r\n    System.out.println(bfs(map, 8, 4));\r\n    System.out.println(bfs(map, 2, 4));\r\n}\r\n\r\n\r\nstatic int bfs(char[][] map, int startRow, int startColumn) {\r\n    int rows = map.length;\r\n    int columns = map[0].length;\r\n\r\n    int[][] seen = new int[rows][columns];\r\n\r\n    int holeRow = -1;\r\n    int holeColumn = -1;\r\n\r\n    for (int i = 0; i &lt; rows; i++) {\r\n        for (int j = 0; j &lt; columns; j++) {\r\n            if (&#39;H&#39; == map[i][j]) {\r\n                holeRow = i;\r\n                holeColumn = j;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    int[] dr = {-1, 0, 1, 0};\r\n    int[] dc = {0, 1, 0, -1};\r\n    int[] pair = {2, 3, 0, 1};\r\n\r\n    Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        queue.add(new int[]{startRow, startColumn, 0, i});\r\n    }\r\n\r\n    while (!queue.isEmpty()) {\r\n        int[] current = queue.poll();\r\n        int row = current[0];\r\n        int col = current[1];\r\n        int moves = current[2];\r\n        int dir = current[3];\r\n\r\n        if (row == holeRow &amp;&amp; col == holeColumn) {\r\n            return moves;\r\n        }\r\n\r\n        int newRow = row + dr[dir];\r\n        int newCol = col + dc[dir];\r\n        while (true) {\r\n            if (newRow &lt; 0 || newRow &gt;= rows || newCol &lt; 0 || newCol &gt;= columns) {\r\n                // falls off a side\r\n                break;\r\n            }\r\n\r\n            if (newRow == holeRow &amp;&amp; newCol == holeColumn) {\r\n                // falls through the hole\r\n                return moves + 1;\r\n            }\r\n\r\n            if (map[newRow][newCol] != &#39;O&#39;) {\r\n                // move forward\r\n                newRow += dr[dir];\r\n                newCol += dc[dir];\r\n                continue;\r\n            }\r\n\r\n            // obstacle:\r\n            //      move back and turn into\r\n            //      perpendicular direction\r\n\r\n            newRow -= dr[dir];\r\n            newCol -= dc[dir];\r\n\r\n            for (int i = 0; i &lt; 4; i++) {\r\n                int bit = 2 &lt;&lt; i;\r\n                if (i == dir || i == pair[dir]) {\r\n                    seen[newRow][newCol] |= bit;\r\n                }\r\n                if ((seen[newRow][newCol] &amp; bit) != bit) {\r\n                    queue.add(new int[]{newRow, newCol, moves + 1, i});\r\n                    seen[newRow][newCol] |= bit;\r\n                }\r\n            }\r\n\r\n            break;\r\n\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n```","title":"Reducing the complexity of BFS in Java","body":"<p>I think, when sphere hits the obstacle you need to save information about direction been chosen as well, not just obstacle coordinates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    char[][] map = new char[][]{\n            /*0*/&quot;.....O..............&quot;.toCharArray(),\n            /*1*/&quot;OOO.OO.OOOOOOOO.....&quot;.toCharArray(),\n            /*2*/&quot;O.............O..OOO&quot;.toCharArray(),\n            /*3*/&quot;O.O..O.............O&quot;.toCharArray(),\n            /*4*/&quot;O.O..O........OOO..O&quot;.toCharArray(),\n            /*5*/&quot;..O..O..........O..O&quot;.toCharArray(),\n            /*6*/&quot;..O..OOOO.......O..O&quot;.toCharArray(),\n            /*7*/&quot;..O..........H.....O&quot;.toCharArray(),\n            /*8*/&quot;..O................O&quot;.toCharArray(),\n            /*9*/&quot;..OOOOOOOOOOOOOOOOOO&quot;.toCharArray(),\n            /*    0123456789abcdefgijk  */\n    };\n\n    System.out.println(bfs(map, 7, 0));\n    System.out.println(bfs(map, 7, 4));\n    System.out.println(bfs(map, 0, 10));\n    System.out.println(bfs(map, 0, 0));\n    System.out.println(bfs(map, 9, 1));\n    System.out.println(bfs(map, 8, 4));\n    System.out.println(bfs(map, 2, 4));\n}\n\n\nstatic int bfs(char[][] map, int startRow, int startColumn) {\n    int rows = map.length;\n    int columns = map[0].length;\n\n    int[][] seen = new int[rows][columns];\n\n    int holeRow = -1;\n    int holeColumn = -1;\n\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; columns; j++) {\n            if ('H' == map[i][j]) {\n                holeRow = i;\n                holeColumn = j;\n                break;\n            }\n        }\n    }\n\n\n    int[] dr = {-1, 0, 1, 0};\n    int[] dc = {0, 1, 0, -1};\n    int[] pair = {2, 3, 0, 1};\n\n    Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();\n    for (int i = 0; i &lt; 4; i++) {\n        queue.add(new int[]{startRow, startColumn, 0, i});\n    }\n\n    while (!queue.isEmpty()) {\n        int[] current = queue.poll();\n        int row = current[0];\n        int col = current[1];\n        int moves = current[2];\n        int dir = current[3];\n\n        if (row == holeRow &amp;&amp; col == holeColumn) {\n            return moves;\n        }\n\n        int newRow = row + dr[dir];\n        int newCol = col + dc[dir];\n        while (true) {\n            if (newRow &lt; 0 || newRow &gt;= rows || newCol &lt; 0 || newCol &gt;= columns) {\n                // falls off a side\n                break;\n            }\n\n            if (newRow == holeRow &amp;&amp; newCol == holeColumn) {\n                // falls through the hole\n                return moves + 1;\n            }\n\n            if (map[newRow][newCol] != 'O') {\n                // move forward\n                newRow += dr[dir];\n                newCol += dc[dir];\n                continue;\n            }\n\n            // obstacle:\n            //      move back and turn into\n            //      perpendicular direction\n\n            newRow -= dr[dir];\n            newCol -= dc[dir];\n\n            for (int i = 0; i &lt; 4; i++) {\n                int bit = 2 &lt;&lt; i;\n                if (i == dir || i == pair[dir]) {\n                    seen[newRow][newCol] |= bit;\n                }\n                if ((seen[newRow][newCol] &amp; bit) != bit) {\n                    queue.add(new int[]{newRow, newCol, moves + 1, i});\n                    seen[newRow][newCol] |= bit;\n                }\n            }\n\n            break;\n\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":24993522,"reputation":9,"user_id":18854456,"display_name":"Miguel Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1682254617,"creation_date":1682237742,"question_id":76083776,"body_markdown":"I&#39;m trying to implement a solution for an algorithm problem where:\r\n\r\n&quot;given the map of the rectangular space where the sphere moves in, and your initial\r\nlocation, your task is to compute the minimum number of moves it takes to reach the\r\nhole which will take you home (it is not so much the rolling that upsets you, but the\r\nbumping into things). Each location of the space is either empty, or it contains an\r\nobstacle or the hole.\r\nThe sphere may only move through the empty locations, in the directions parallel\r\nto the sides of the map. Once the sphere starts moving, it only stops when it hits an\r\nobstacle or it falls through the hole. If the sphere falls off a side of the map, there is no\r\nway of getting back on the map again and you will never get home.&quot;\r\n\r\n\r\n```\r\nstatic int bfs(char[][] map, int startRow, int startColumn, int holeRow, int holeColumn) {\r\n        int rows = map.length;\r\n        int columns = map[0].length;\r\n        int[] dr = { -1, 0, 1, 0 };\r\n        int[] dc = { 0, 1, 0, -1 };\r\n    \r\n        Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();\r\n        boolean[][] visited = new boolean[rows][columns];\r\n        queue.add(new int[] { startRow, startColumn, 0 });\r\n        visited[startRow][startColumn] = true;\r\n    \r\n        while (!queue.isEmpty()) {\r\n            int[] current = queue.poll();\r\n            int row = current[0];\r\n            int col = current[1];\r\n            int moves = current[2];\r\n    \r\n            if (row == holeRow &amp;&amp; col == holeColumn)\r\n                return moves;\r\n    \r\n            for (int i = 0; i &lt; 4; i++) {\r\n                int newRow = row + dr[i];\r\n                int newCol = col + dc[i];\r\n    \r\n                while (newRow &gt;= 0 &amp;&amp; newRow &lt; rows &amp;&amp; newCol &gt;= 0 &amp;&amp; newCol &lt; columns &amp;&amp; map[newRow][newCol] != &#39;O&#39;) {\r\n                    if (newRow == holeRow &amp;&amp; newCol == holeColumn)\r\n                        return moves + 1;\r\n                    newRow += dr[i];\r\n                    newCol += dc[i];\r\n                }\r\n    \r\n                newRow -= dr[i];\r\n                newCol -= dc[i];\r\n    \r\n                if (!visited[newRow][newCol]) {\r\n                    queue.add(new int[] { newRow, newCol, moves + 1 });\r\n                    visited[newRow][newCol] = true;\r\n                }\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n```\r\n\r\nAnd although the code I wrote is able to calculate output the results needed, it seems to be too slow since I get &quot;Time Limit Exceeded&quot; when testing it on the platform provided.\r\n\r\nWhat can I do to reduce the complexity of this code? Is it even possible to have less loops?\r\n\r\n```\r\nSample Input:\r\n10 20 3\r\n.....O..............\r\nOOO.OO.OOOOOOOO.....\r\nO.............O..OOO\r\nO.O..O.............O\r\nO.O..O........OOO..O\r\n..O..O..........O..O\r\n..O..OOOO.......O..O\r\n..O..........H.....O\r\n..O................O\r\n..OOOOOOOOOOOOOOOOOO\r\n8 1\r\n8 5\r\n1 10\r\n\r\nSample Output:\r\n4\r\n1\r\nStuck\r\n```\r\n\r\nI tried using directed graphs, it didn&#39;t help me, I tried checking the 4 directions with if&#39;s and it also helpful. So I&#39;m not sure what I can do.","title":"Reducing the complexity of BFS in Java","body":"<p>I'm trying to implement a solution for an algorithm problem where:</p>\n<p>&quot;given the map of the rectangular space where the sphere moves in, and your initial\nlocation, your task is to compute the minimum number of moves it takes to reach the\nhole which will take you home (it is not so much the rolling that upsets you, but the\nbumping into things). Each location of the space is either empty, or it contains an\nobstacle or the hole.\nThe sphere may only move through the empty locations, in the directions parallel\nto the sides of the map. Once the sphere starts moving, it only stops when it hits an\nobstacle or it falls through the hole. If the sphere falls off a side of the map, there is no\nway of getting back on the map again and you will never get home.&quot;</p>\n<pre><code>static int bfs(char[][] map, int startRow, int startColumn, int holeRow, int holeColumn) {\n        int rows = map.length;\n        int columns = map[0].length;\n        int[] dr = { -1, 0, 1, 0 };\n        int[] dc = { 0, 1, 0, -1 };\n    \n        Queue&lt;int[]&gt; queue = new LinkedList&lt;&gt;();\n        boolean[][] visited = new boolean[rows][columns];\n        queue.add(new int[] { startRow, startColumn, 0 });\n        visited[startRow][startColumn] = true;\n    \n        while (!queue.isEmpty()) {\n            int[] current = queue.poll();\n            int row = current[0];\n            int col = current[1];\n            int moves = current[2];\n    \n            if (row == holeRow &amp;&amp; col == holeColumn)\n                return moves;\n    \n            for (int i = 0; i &lt; 4; i++) {\n                int newRow = row + dr[i];\n                int newCol = col + dc[i];\n    \n                while (newRow &gt;= 0 &amp;&amp; newRow &lt; rows &amp;&amp; newCol &gt;= 0 &amp;&amp; newCol &lt; columns &amp;&amp; map[newRow][newCol] != 'O') {\n                    if (newRow == holeRow &amp;&amp; newCol == holeColumn)\n                        return moves + 1;\n                    newRow += dr[i];\n                    newCol += dc[i];\n                }\n    \n                newRow -= dr[i];\n                newCol -= dc[i];\n    \n                if (!visited[newRow][newCol]) {\n                    queue.add(new int[] { newRow, newCol, moves + 1 });\n                    visited[newRow][newCol] = true;\n                }\n            }\n        }\n        return -1;\n    }\n</code></pre>\n<p>And although the code I wrote is able to calculate output the results needed, it seems to be too slow since I get &quot;Time Limit Exceeded&quot; when testing it on the platform provided.</p>\n<p>What can I do to reduce the complexity of this code? Is it even possible to have less loops?</p>\n<pre><code>Sample Input:\n10 20 3\n.....O..............\nOOO.OO.OOOOOOOO.....\nO.............O..OOO\nO.O..O.............O\nO.O..O........OOO..O\n..O..O..........O..O\n..O..OOOO.......O..O\n..O..........H.....O\n..O................O\n..OOOOOOOOOOOOOOOOOO\n8 1\n8 5\n1 10\n\nSample Output:\n4\n1\nStuck\n</code></pre>\n<p>I tried using directed graphs, it didn't help me, I tried checking the 4 directions with if's and it also helpful. So I'm not sure what I can do.</p>\n"},{"tags":["java","batch-file","cmd"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1682251233,"post_id":76084603,"comment_id":134182574,"body_markdown":"What do you think is the difference between &quot;bat file being opened and executed inside my program&quot; and &quot; java program to launch windows command line that would execute my bat file&quot;?","body":"What do you think is the difference between &quot;bat file being opened and executed inside my program&quot; and &quot; java program to launch windows command line that would execute my bat file&quot;?"},{"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"score":0,"creation_date":1682251768,"post_id":76084603,"comment_id":134182661,"body_markdown":"When bat file is being opened in my java program it does not open command line, but starts to assigning variables, connects to oracle and tries to open script.sql - the last one fails.\n\nI want my program to simply launch command line with that bat file.","body":"When bat file is being opened in my java program it does not open command line, but starts to assigning variables, connects to oracle and tries to open script.sql - the last one fails.  I want my program to simply launch command line with that bat file."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682252007,"post_id":76084603,"comment_id":134182696,"body_markdown":"1.  You can remove your BufferedReader, and the loop that reads from it, and replace all of that with `pb.inheritIO();` (**before** you call pb.start()).  2.  You need to learn what a [current working directory](https://en.wikipedia.org/wiki/Working_directory) is.  A relative file name like `script.sql` depends on the current directory of the process that refers to it.","body":"1.  You can remove your BufferedReader, and the loop that reads from it, and replace all of that with <code>pb.inheritIO();</code> (<b>before</b> you call pb.start()).  2.  You need to learn what a <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">current working directory</a> is.  A relative file name like <code>script.sql</code> depends on the current directory of the process that refers to it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682255983,"post_id":76084603,"comment_id":134183164,"body_markdown":"As @VGR has virtually suggested, try using the full path to that script.sql file","body":"As @VGR has virtually suggested, try using the full path to that script.sql file"},{"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"score":0,"creation_date":1682260886,"post_id":76084603,"comment_id":134183828,"body_markdown":"@g00se I didn&#39;t solve the problem. Debugging mode in eclipse still can&#39;t open sql file. (While command line has no problem with either (at)script.sql or C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql).","body":"@g00se I didn&#39;t solve the problem. Debugging mode in eclipse still can&#39;t open sql file. (While command line has no problem with either (at)script.sql or C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682260997,"post_id":76084603,"comment_id":134183847,"body_markdown":"Make sure the script file is not open in any other editor or app","body":"Make sure the script file is not open in any other editor or app"},{"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"score":0,"creation_date":1682261280,"post_id":76084603,"comment_id":134183889,"body_markdown":"@VGR removig BufferReader and replacing it with pb.inheritIO(); did not work. Program, despite having access to full path of bat file, and bat file having access to full path to script.sql, still fails to done anything (besides assigning variables and connecting to oracle).","body":"@VGR removig BufferReader and replacing it with pb.inheritIO(); did not work. Program, despite having access to full path of bat file, and bat file having access to full path to script.sql, still fails to done anything (besides assigning variables and connecting to oracle)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682261313,"post_id":76084603,"comment_id":134183897,"body_markdown":"*no problem with either (at)script.sql or C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql).* No, it should be @C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql in the batch file","body":"<i>no problem with either (at)script.sql or C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql).</i> No, it should be @C:\\Users\\me\\eclipse-workspace\\my_program\\src\\script.sql in the batch file"},{"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"score":0,"creation_date":1682261605,"post_id":76084603,"comment_id":134183934,"body_markdown":"@g00se tried your solution and also closed everthing but Eclipse and program still fails to open sqript file. Is the any possibility I could refrain from opening bat file inside java program and just force program to launch test.bat in command line? Just like I would double click test.bat.","body":"@g00se tried your solution and also closed everthing but Eclipse and program still fails to open sqript file. Is the any possibility I could refrain from opening bat file inside java program and just force program to launch test.bat in command line? Just like I would double click test.bat."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682262197,"post_id":76084603,"comment_id":134184008,"body_markdown":"Well you could of course execute the sqlplus command directly from `ProcessBuilder`","body":"Well you could of course execute the sqlplus command directly from <code>ProcessBuilder</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682263135,"post_id":76084603,"comment_id":134184135,"body_markdown":"I&#39;m not quite sure what you&#39;re referring to at that link. Also nothing is being &quot;parsed&quot; in your implementation","body":"I&#39;m not quite sure what you&#39;re referring to at that link. Also nothing is being &quot;parsed&quot; in your implementation"},{"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"score":0,"creation_date":1682263530,"post_id":76084603,"comment_id":134184189,"body_markdown":"@g00se https://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application link I deleted. I&#39;m reffering to not using ProcessBuilder but getRuntime(), but it still somehow fails to open script.sql, even though it launches command line.","body":"@g00se <a href=\"https://stackoverflow.com/questions/615948/how-do-i-run-a-batch-file-from-my-java-application\" title=\"how do i run a batch file from my java application\">stackoverflow.com/questions/615948/&hellip;</a> link I deleted. I&#39;m reffering to not using ProcessBuilder but getRuntime(), but it still somehow fails to open script.sql, even though it launches command line."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682265173,"post_id":76084603,"comment_id":134184443,"body_markdown":"`getRuntime` isn&#39;t going to help you. Just view it as a inferior ancestor of `ProcessBuilder`. Try something like `ProcessBuilder pb = new ProcessBuilder(&quot;sqlplus&quot;,  &quot;-s&quot;,  &quot;login/password@server&quot;, &quot;@script.sql&quot;, &quot;100000000&quot;);\npb.directory(new File(&quot;C:/Users/me/eclipse-workspace/my_program/src&quot;));\npb.inheritIO();\npb.start();` You can collect the output if and when that works for you","body":"<code>getRuntime</code> isn&#39;t going to help you. Just view it as a inferior ancestor of <code>ProcessBuilder</code>. Try something like <code>ProcessBuilder pb = new ProcessBuilder(&quot;sqlplus&quot;,  &quot;-s&quot;,  &quot;login&#47;password@server&quot;, &quot;@script.sql&quot;, &quot;100000000&quot;); pb.directory(new File(&quot;C:&#47;Users&#47;me&#47;eclipse-workspace&#47;my_program&#47;src&quot;)); pb.inheritIO(); pb.start();</code> You can collect the output if and when that works for you"}],"owner":{"account_id":28387074,"reputation":1,"user_id":21713401,"display_name":"beastofmisery"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682254450,"creation_date":1682249866,"question_id":76084603,"body_markdown":"I am writing program for tests automation purpose. That program would load list (names) of batch files from a folder program is in. Then I could select individual test or all and commence execution. Each batch file connects to the oracle, does some updates and more, and then selected output is spooled to a csv file and output file is placed to the local drive.\r\n\r\nI wrote a program that loads batch file into the java program using ProcessBuilder, but when I tried to execute batch file it failed at opening sql script from bat file.\r\n\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(System.getProperty(&quot;user.dir&quot;)+&quot;//src//test.bat&quot;);\r\ntry {\r\n\tpb.start();\r\n\tProcess process = pb.start();\r\n\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\tStringBuilder sb = new StringBuilder();\r\n\tString line;\r\n\twhile ((line = reader.readLine()) != null) {\r\n\t\tsb.append(line + &quot;\\n&quot;);\r\n\t}\r\n\tSystem.out.println(sb);\r\n```\r\n\r\nbat file (very simple version):\r\n\r\n```shell\r\n@echo ON\r\nset /A var = 100000000\r\nsqlplus -s login/password@server @script.sql %var%\r\ntype results_*.csv &gt; &quot;results.csv&quot;\r\ndel results_*.csv\r\n```\r\n\r\nWhen I&#39;m debugging, the whole thing fails at opening sql script.\r\n\r\n```none\r\nSP2-0310: can&#39;t open file &quot;script.sql&quot;\r\n```\r\n\r\nBut I don&#39;t want bat file being opened and executed inside my program. I want my java program to launch windows command line that would execute my bat file. Is there any way to achieve this goal  Or if there&#39;s no way - how could I parse that script file inside my program (I&#39;d rather staw away from this path).","title":"Launch bat file from java program without using ProcessBuilder","body":"<p>I am writing program for tests automation purpose. That program would load list (names) of batch files from a folder program is in. Then I could select individual test or all and commence execution. Each batch file connects to the oracle, does some updates and more, and then selected output is spooled to a csv file and output file is placed to the local drive.</p>\n<p>I wrote a program that loads batch file into the java program using ProcessBuilder, but when I tried to execute batch file it failed at opening sql script from bat file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(System.getProperty(&quot;user.dir&quot;)+&quot;//src//test.bat&quot;);\ntry {\n    pb.start();\n    Process process = pb.start();\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    StringBuilder sb = new StringBuilder();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        sb.append(line + &quot;\\n&quot;);\n    }\n    System.out.println(sb);\n</code></pre>\n<p>bat file (very simple version):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>@echo ON\nset /A var = 100000000\nsqlplus -s login/password@server @script.sql %var%\ntype results_*.csv &gt; &quot;results.csv&quot;\ndel results_*.csv\n</code></pre>\n<p>When I'm debugging, the whole thing fails at opening sql script.</p>\n<pre class=\"lang-none prettyprint-override\"><code>SP2-0310: can't open file &quot;script.sql&quot;\n</code></pre>\n<p>But I don't want bat file being opened and executed inside my program. I want my java program to launch windows command line that would execute my bat file. Is there any way to achieve this goal  Or if there's no way - how could I parse that script file inside my program (I'd rather staw away from this path).</p>\n"},{"tags":["java","sockets","websocket","serversocket","java-io"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682253782,"creation_date":1682253782,"answer_id":76084911,"question_id":76084827,"body_markdown":"The `ObjectInputStream` constructor already tries to read the header data ([documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#%3Cinit%3E(java.io.InputStream))):\r\n\r\n&gt;  A serialization stream header is read from the stream and verified. This constructor will block until the corresponding ObjectOutputStream has written and flushed the header.\r\n\r\nSo most likely what happens is that both your client and your server create an `ObjectInputStream` listening for the message from the other one. But because neither of them has written anything yet, both get stuck.  \r\nMaybe this could be solved by creating the `ObjectInputStream` inside the client thread.\r\n\r\nAlso, please only use `ObjectInputStream` for hobby projects; it should be avoided nowadays, especially for untrusted data. See also the [Secure Coding Guidelines for Java](https://www.oracle.com/java/technologies/javase/seccodeguide.html#8). It has already lead to dozens of remote code execution vulnerabilities in the past. Instead prefer other more secure serialization frameworks, for example [Gson](https://github.com/google/gson) or [Jackson](https://github.com/FasterXML/jackson) for JSON, or [Protocol Buffers](https://protobuf.dev/), ...","title":"Why don&#39;t my java socket client and server connect [new ObjectInputStream blocking]?","body":"<p>The <code>ObjectInputStream</code> constructor already tries to read the header data (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#%3Cinit%3E(java.io.InputStream)\" rel=\"nofollow noreferrer\">documentation</a>):</p>\n<blockquote>\n<p>A serialization stream header is read from the stream and verified. This constructor will block until the corresponding ObjectOutputStream has written and flushed the header.</p>\n</blockquote>\n<p>So most likely what happens is that both your client and your server create an <code>ObjectInputStream</code> listening for the message from the other one. But because neither of them has written anything yet, both get stuck.<br />\nMaybe this could be solved by creating the <code>ObjectInputStream</code> inside the client thread.</p>\n<p>Also, please only use <code>ObjectInputStream</code> for hobby projects; it should be avoided nowadays, especially for untrusted data. See also the <a href=\"https://www.oracle.com/java/technologies/javase/seccodeguide.html#8\" rel=\"nofollow noreferrer\">Secure Coding Guidelines for Java</a>. It has already lead to dozens of remote code execution vulnerabilities in the past. Instead prefer other more secure serialization frameworks, for example <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> or <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> for JSON, or <a href=\"https://protobuf.dev/\" rel=\"nofollow noreferrer\">Protocol Buffers</a>, ...</p>\n"}],"owner":{"account_id":23779260,"reputation":135,"user_id":17792185,"display_name":"Janez Kranjski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682266459,"accepted_answer_id":76084911,"answer_count":1,"score":0,"last_activity_date":1682253782,"creation_date":1682252759,"question_id":76084827,"body_markdown":"I&#39;m trying to make a client-server socket connection that will send message objects (type,sender,reciever,time,message). \r\n\r\nWhen my client tries connecting the server recognises the connection but the client keeps waiting on `objectInputStream = new ObjectInputStream(socket.getInputStream());`. \r\n\r\nI&#39;ve seen answers on here suggesting that you should make the outputsream first and then the input but it didn&#39;t change anything. I am not sure what I am missing.\r\n\r\nClient:\r\n\r\n    \r\n    class Message {\r\n    \t//...\r\n    }\r\n    \r\n    public class ChatClient extends Thread\r\n    {\r\n    \tprotected int serverPort = 1234;\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tnew ChatClient();\r\n    \t}\r\n    \r\n    \tpublic ChatClient() throws Exception {\r\n    \t\tSocket socket = null;\r\n    \t\tObjectOutputStream objectOutputStream = null;\r\n    \t\tObjectInputStream objectInputStream = null;\r\n    \r\n    \t\t// connect to the chat server\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;[system] connecting to chat server ...&quot;);\r\n    \t\t\tsocket = new Socket(&quot;localhost&quot;, serverPort); // create socket connection\r\n    \t\t\tobjectOutputStream = new ObjectOutputStream(socket.getOutputStream()); // create output stream for sending messages\r\n                // works until here\r\n    \t\t\tobjectInputStream = new ObjectInputStream(socket.getInputStream()); // create input stream for listening for incoming messages\r\n                // GETS STUCK HERE\r\n    \t\t\tSystem.out.println(&quot;[system] connected&quot;);\r\n    \r\n    \t\t\tChatClientMessageReceiver message_receiver = new ChatClientMessageReceiver(objectInputStream); // create a separate thread for listening to messages from the chat server\r\n    \t\t\tmessage_receiver.start(); // run the new thread\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \r\n    \t\t// reading stuff from terminal and sending messages to the chat server\r\n    \t\tthis.sendMessage(tmp, objectOutputStream); // send the message to the chat server\r\n    \t\t\r\n    \r\n    \t\t// cleanup\r\n    \t\tobjectOutputStream.close();\r\n    \t\tobjectInputStream.close();\r\n    \t\tstd_in.close();\r\n    \t\tsocket.close();\r\n    \t}\r\n    \r\n    \tprivate void sendMessage(Message message, ObjectOutputStream objectOutputStream) {\r\n    \t\ttry {\r\n    \t\t\tobjectOutputStream.writeObject(message); // send the message to the chat server\r\n    \t\t\tobjectOutputStream.flush(); // ensure the message has been sent\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;[system] could not send message&quot;);\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    // wait for messages from the chat server and print the out\r\n    class ChatClientMessageReceiver extends Thread {\r\n    \tprivate ObjectInputStream objectInputStream;\r\n    \r\n    \tpublic ChatClientMessageReceiver(ObjectInputStream objectInputStream) {\r\n    \t\tthis.objectInputStream = objectInputStream;\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tMessage message;\r\n    \t\t\tmessage = (Message)objectInputStream.readObject();\r\n    \t\t\tSystem.out.println(&quot;[&quot;+message.sender+&quot;] &quot; + message.message);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;[system] could not read message&quot;);\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nServer:\r\n\r\n   \r\n    class Message {\r\n    \t//...\r\n    }\r\n    \r\n    public class ChatServer {\r\n    \r\n    \tprotected int serverPort = 1234;\r\n    \tprotected List&lt;Socket&gt; clients = new ArrayList&lt;Socket&gt;(); // list of clients\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tnew ChatServer();\r\n    \t}\r\n    \r\n    \tpublic ChatServer() {\r\n    \t\tServerSocket serverSocket = null;\r\n    \t\t\r\n    \t\t// create socket\r\n    \t\ttry {\r\n    \t\t\tserverSocket = new ServerSocket(this.serverPort); // create the ServerSocket\r\n    \t\t\t \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;[system] could not create socket on port &quot; + this.serverPort);\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;[system] listening ...&quot;);\r\n    \t\ttry {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSocket newClientSocket = serverSocket.accept(); // wait for a new client connection\r\n    \t\t\t\tsynchronized(this) {\r\n    \t\t\t\t\tclients.add(newClientSocket); // add client to the list of clients\r\n    \t\t\t\t}\r\n    \t\t\t\tChatServerConnector conn = new ChatServerConnector(this, newClientSocket); // create a new thread for communication with the new client\r\n    \t\t\t\tconn.start(); // run the new thread\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;[error] Accept failed.&quot;);\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \r\n    \t\t// close socket\r\n    \t\tSystem.out.println(&quot;[system] closing server socket ...&quot;);\r\n    \t\ttry {\r\n    \t\t\tserverSocket.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace(System.err);\r\n    \t\t\tSystem.exit(1);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// send a message to all clients connected to the server\r\n    \tpublic void sendToAllClients(Message message) throws Exception {\r\n    \t\t//...\r\n    \t}\r\n        //...\r\n    \r\n    \tpublic void removeClient(Socket socket) {\r\n    \t\tsynchronized(this) {\r\n    \t\t\tnames.remove(socket.getPort());\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class ChatServerConnector extends Thread {\r\n    \tprivate ChatServer server;\r\n    \tprivate Socket socket;\r\n    \tprivate ObjectInputStream objectInputStream;\r\n    \tprivate Message message;\r\n    \r\n    \tpublic ChatServerConnector(ChatServer server, Socket socket) {\r\n    \t\tthis.server = server;\r\n    \t\tthis.socket = socket;\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tobjectInputStream = new ObjectInputStream(this.socket.getInputStream()); // create input stream for listening for incoming messages\r\n    \t\t\tSystem.out.println(&quot;[system] connected with &quot; + this.socket.getInetAddress().getHostName() + &quot;:&quot; + this.socket.getPort());\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(&quot;[system] could not open input stream!&quot;);\r\n    \t\t\t//...\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\twhile (true) { // infinite loop in which this thread waits for incoming messages and processes them\r\n    \t\t\tmessage = new Message();\r\n    \r\n    \t\t\ttry {\r\n    \t\t\t\tmessage = (Message)objectInputStream.readObject();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\t//...\r\n    \t\t\t}\r\n    \r\n    \t\t\tswitch(message.type) {\r\n                    //...\r\n    \t\t\t\tcase &quot;public&quot;:\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tthis.server.sendToAllClients(message); // send message to all clients\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\t//..\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\tdefault:\r\n    \t\t\t\t\t//...\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Why don&#39;t my java socket client and server connect [new ObjectInputStream blocking]?","body":"<p>I'm trying to make a client-server socket connection that will send message objects (type,sender,reciever,time,message).</p>\n<p>When my client tries connecting the server recognises the connection but the client keeps waiting on <code>objectInputStream = new ObjectInputStream(socket.getInputStream());</code>.</p>\n<p>I've seen answers on here suggesting that you should make the outputsream first and then the input but it didn't change anything. I am not sure what I am missing.</p>\n<p>Client:</p>\n<pre><code>class Message {\n    //...\n}\n\npublic class ChatClient extends Thread\n{\n    protected int serverPort = 1234;\n\n    public static void main(String[] args) throws Exception {\n        new ChatClient();\n    }\n\n    public ChatClient() throws Exception {\n        Socket socket = null;\n        ObjectOutputStream objectOutputStream = null;\n        ObjectInputStream objectInputStream = null;\n\n        // connect to the chat server\n        try {\n            System.out.println(&quot;[system] connecting to chat server ...&quot;);\n            socket = new Socket(&quot;localhost&quot;, serverPort); // create socket connection\n            objectOutputStream = new ObjectOutputStream(socket.getOutputStream()); // create output stream for sending messages\n            // works until here\n            objectInputStream = new ObjectInputStream(socket.getInputStream()); // create input stream for listening for incoming messages\n            // GETS STUCK HERE\n            System.out.println(&quot;[system] connected&quot;);\n\n            ChatClientMessageReceiver message_receiver = new ChatClientMessageReceiver(objectInputStream); // create a separate thread for listening to messages from the chat server\n            message_receiver.start(); // run the new thread\n        } catch (Exception e) {\n            e.printStackTrace(System.err);\n            System.exit(1);\n        }\n\n        // reading stuff from terminal and sending messages to the chat server\n        this.sendMessage(tmp, objectOutputStream); // send the message to the chat server\n        \n\n        // cleanup\n        objectOutputStream.close();\n        objectInputStream.close();\n        std_in.close();\n        socket.close();\n    }\n\n    private void sendMessage(Message message, ObjectOutputStream objectOutputStream) {\n        try {\n            objectOutputStream.writeObject(message); // send the message to the chat server\n            objectOutputStream.flush(); // ensure the message has been sent\n        } catch (IOException e) {\n            System.err.println(&quot;[system] could not send message&quot;);\n            e.printStackTrace(System.err);\n        }\n    }\n}\n\n// wait for messages from the chat server and print the out\nclass ChatClientMessageReceiver extends Thread {\n    private ObjectInputStream objectInputStream;\n\n    public ChatClientMessageReceiver(ObjectInputStream objectInputStream) {\n        this.objectInputStream = objectInputStream;\n    }\n\n    public void run() {\n        try {\n            Message message;\n            message = (Message)objectInputStream.readObject();\n            System.out.println(&quot;[&quot;+message.sender+&quot;] &quot; + message.message);\n        } catch (Exception e) {\n            System.err.println(&quot;[system] could not read message&quot;);\n            e.printStackTrace(System.err);\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>class Message {\n    //...\n}\n\npublic class ChatServer {\n\n    protected int serverPort = 1234;\n    protected List&lt;Socket&gt; clients = new ArrayList&lt;Socket&gt;(); // list of clients\n\n    public static void main(String[] args) throws Exception {\n        new ChatServer();\n    }\n\n    public ChatServer() {\n        ServerSocket serverSocket = null;\n        \n        // create socket\n        try {\n            serverSocket = new ServerSocket(this.serverPort); // create the ServerSocket\n             \n        } catch (Exception e) {\n            System.err.println(&quot;[system] could not create socket on port &quot; + this.serverPort);\n            e.printStackTrace(System.err);\n            System.exit(1);\n        }\n\n        System.out.println(&quot;[system] listening ...&quot;);\n        try {\n            while (true) {\n                Socket newClientSocket = serverSocket.accept(); // wait for a new client connection\n                synchronized(this) {\n                    clients.add(newClientSocket); // add client to the list of clients\n                }\n                ChatServerConnector conn = new ChatServerConnector(this, newClientSocket); // create a new thread for communication with the new client\n                conn.start(); // run the new thread\n            }\n        } catch (Exception e) {\n            System.err.println(&quot;[error] Accept failed.&quot;);\n            e.printStackTrace(System.err);\n            System.exit(1);\n        }\n\n        // close socket\n        System.out.println(&quot;[system] closing server socket ...&quot;);\n        try {\n            serverSocket.close();\n        } catch (IOException e) {\n            e.printStackTrace(System.err);\n            System.exit(1);\n        }\n    }\n\n    // send a message to all clients connected to the server\n    public void sendToAllClients(Message message) throws Exception {\n        //...\n    }\n    //...\n\n    public void removeClient(Socket socket) {\n        synchronized(this) {\n            names.remove(socket.getPort());\n        }\n    }\n}\n\nclass ChatServerConnector extends Thread {\n    private ChatServer server;\n    private Socket socket;\n    private ObjectInputStream objectInputStream;\n    private Message message;\n\n    public ChatServerConnector(ChatServer server, Socket socket) {\n        this.server = server;\n        this.socket = socket;\n    }\n\n    public void run() {\n        try {\n            objectInputStream = new ObjectInputStream(this.socket.getInputStream()); // create input stream for listening for incoming messages\n            System.out.println(&quot;[system] connected with &quot; + this.socket.getInetAddress().getHostName() + &quot;:&quot; + this.socket.getPort());\n        } catch (IOException e) {\n            System.err.println(&quot;[system] could not open input stream!&quot;);\n            //...\n            return;\n        }\n\n        while (true) { // infinite loop in which this thread waits for incoming messages and processes them\n            message = new Message();\n\n            try {\n                message = (Message)objectInputStream.readObject();\n            } catch (Exception e) {\n                //...\n            }\n\n            switch(message.type) {\n                //...\n                case &quot;public&quot;:\n                    try {\n                        this.server.sendToAllClients(message); // send message to all clients\n                    } catch (Exception e) {\n                        //..\n                    }\n                    return;\n                default:\n                    //...\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1682253870,"post_id":76084892,"comment_id":134182908,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"owner":{"account_id":27439774,"reputation":21,"user_id":20934879,"display_name":"Lewakosmos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682253593,"creation_date":1682253593,"question_id":76084892,"body_markdown":"I tried to create queue for two users playing chess. \r\nProblem is that i cant stop method which uses actionListener and reuse it to update pieces on deck. \r\n\r\n\r\nI created two classes for player and opponent that responds for piece movement on deck. \r\nBoth classes have two methods which uses actionListener.\r\nFirst one is when we click on our current place, where piece at. \r\nSecond one is to place out selected piece on possible tile. \r\n\r\nClass Player, Method 1.\r\n\r\n```\r\n    public void firstPartTurn(){\r\n        for(JButton button : whitePiecesListCreator()){\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                        figureRecognition(button);\r\n                        secondPartTurn(button);\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nclass Player, Method 2.\r\n\r\n```\r\n    public void secondPartTurn(JButton button){\r\n        OpponentAction oa = new OpponentAction();\r\n        GamePanel gp = new GamePanel();\r\n        for(JButton secondPlaceButton : gp.getPossibleTilesToGoList()){\r\n            secondPlaceButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    piecePlaceSecondPart(secondPlaceButton);\r\n                    button.setIcon(null);\r\n                    gp.getPossibleTilesToGoList().clear();\r\n                    oa.firstPartTurn();\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nwhen Players turn is finished i call method &quot;firstPartTurn()&quot; for opponent.\r\n\r\nClass Opponent. Method 1\r\n\r\n```\r\n    public void firstPartTurn() {\r\n        for(JButton button : blackPiecesListCreator()){\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    figureRecognition(button);\r\n                    secondPartTurn(button);\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nclass Oponent, Method 2\r\n\r\n```\r\n    public void secondPartTurn(JButton button) {\r\n        PlayerAction pa = new PlayerAction();\r\n        GamePanel gp = new GamePanel();\r\n        for(JButton secondPlaceButton : gp.getPossibleTilesToGoList()){\r\n            secondPlaceButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    piecePlaceSecondPart(secondPlaceButton);\r\n                    button.setIcon(null);\r\n                    gp.getPossibleTilesToGoList().clear();\r\n                    pa.firstPartTurn();\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\nAfter opponent turn is done it calls player to turn using method firstPartTurn();\r\nSo, we should have recurtion. \r\nI expected methods with action listener stop after piece is transefered, and call method from opponent class.\r\n","title":"Problem making queue with actionListeners in my Chess game on Swing","body":"<p>I tried to create queue for two users playing chess.\nProblem is that i cant stop method which uses actionListener and reuse it to update pieces on deck.</p>\n<p>I created two classes for player and opponent that responds for piece movement on deck.\nBoth classes have two methods which uses actionListener.\nFirst one is when we click on our current place, where piece at.\nSecond one is to place out selected piece on possible tile.</p>\n<p>Class Player, Method 1.</p>\n<pre><code>    public void firstPartTurn(){\n        for(JButton button : whitePiecesListCreator()){\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                        figureRecognition(button);\n                        secondPartTurn(button);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>class Player, Method 2.</p>\n<pre><code>    public void secondPartTurn(JButton button){\n        OpponentAction oa = new OpponentAction();\n        GamePanel gp = new GamePanel();\n        for(JButton secondPlaceButton : gp.getPossibleTilesToGoList()){\n            secondPlaceButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    piecePlaceSecondPart(secondPlaceButton);\n                    button.setIcon(null);\n                    gp.getPossibleTilesToGoList().clear();\n                    oa.firstPartTurn();\n                }\n            });\n        }\n    }\n</code></pre>\n<p>when Players turn is finished i call method &quot;firstPartTurn()&quot; for opponent.</p>\n<p>Class Opponent. Method 1</p>\n<pre><code>    public void firstPartTurn() {\n        for(JButton button : blackPiecesListCreator()){\n            button.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    figureRecognition(button);\n                    secondPartTurn(button);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>class Oponent, Method 2</p>\n<pre><code>    public void secondPartTurn(JButton button) {\n        PlayerAction pa = new PlayerAction();\n        GamePanel gp = new GamePanel();\n        for(JButton secondPlaceButton : gp.getPossibleTilesToGoList()){\n            secondPlaceButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    piecePlaceSecondPart(secondPlaceButton);\n                    button.setIcon(null);\n                    gp.getPossibleTilesToGoList().clear();\n                    pa.firstPartTurn();\n                }\n            });\n        }\n    }\n</code></pre>\n<p>After opponent turn is done it calls player to turn using method firstPartTurn();\nSo, we should have recurtion.\nI expected methods with action listener stop after piece is transefered, and call method from opponent class.</p>\n"},{"tags":["java","spring","spring-boot","nativequery"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1645785795,"post_id":71263337,"comment_id":125968307,"body_markdown":"Remove the `=` next to :Sconto","body":"Remove the <code>=</code> next to :Sconto"}],"answers":[{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645786160,"creation_date":1645786160,"answer_id":71264703,"question_id":71263337,"body_markdown":"Error is pretty descriptive `Incorrect syntax near &#39;=&#39;`. In query problem is here\r\n\r\n    ...set Prezzo=(PrezzoListino-((PrezzoListino/100) * =:Sconto ))...\r\n\r\nRemove unwanted `=` before `:Sconto`   \r\n\r\n    ...set Prezzo=(PrezzoListino-((PrezzoListino/100) * :Sconto ))...           ","title":"Incorrect syntax near &#39;=&#39; error on native query with Spring Boot on Sql Server","body":"<p>Error is pretty descriptive <code>Incorrect syntax near '='</code>. In query problem is here</p>\n<pre><code>...set Prezzo=(PrezzoListino-((PrezzoListino/100) * =:Sconto ))...\n</code></pre>\n<p>Remove unwanted <code>=</code> before <code>:Sconto</code></p>\n<pre><code>...set Prezzo=(PrezzoListino-((PrezzoListino/100) * :Sconto ))...           \n</code></pre>\n"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71264703,"answer_count":1,"score":0,"last_activity_date":1682253416,"creation_date":1645779369,"question_id":71263337,"body_markdown":"I have an error on the code below, I need to update a series of article with a native query in spring boot to do it I use the code below, however when it executes the code I have the following error, how can I do to fix it ? The error is on the &quot;Sconto&quot; field.\r\n\r\n\r\n**Error Native Query:**\r\n\r\n    [nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Incorrect syntax near &#39;=&#39;.\r\n    2022-02-25 09:51:59.045  INFO 29122 --- [nio-8081-exec-1]                                          : Errore importazione METEL: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\n\r\n**Native Query Code Spring Boot:**\r\n\r\n        @Transactional\r\n        @Modifying\r\n        @Query(value = &quot;update Articolo set Prezzo=(PrezzoListino-((PrezzoListino/100) * =:Sconto )) where Importato=:Importato and CodMarca=:CodMarca and FamigliaDiSconto=:FamigliaDiSconto &quot;, nativeQuery = true)\r\n        List&lt;Articolo&gt; updateArticoloMetelScontoFirst(@Param(&quot;Sconto&quot;) Double Sconto, @Param(&quot;CodMarca&quot;) String CodMarca, @Param(&quot;Importato&quot;) String Importato, @Param(&quot;FamigliaDiSconto&quot;) String FamigliaDiSconto);\r\n    \r\n  ","title":"Incorrect syntax near &#39;=&#39; error on native query with Spring Boot on Sql Server","body":"<p>I have an error on the code below, I need to update a series of article with a native query in spring boot to do it I use the code below, however when it executes the code I have the following error, how can I do to fix it ? The error is on the &quot;Sconto&quot; field.</p>\n<p><strong>Error Native Query:</strong></p>\n<pre><code>[nio-8081-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Incorrect syntax near '='.\n2022-02-25 09:51:59.045  INFO 29122 --- [nio-8081-exec-1]                                          : Errore importazione METEL: org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n<p><strong>Native Query Code Spring Boot:</strong></p>\n<pre><code>    @Transactional\n    @Modifying\n    @Query(value = &quot;update Articolo set Prezzo=(PrezzoListino-((PrezzoListino/100) * =:Sconto )) where Importato=:Importato and CodMarca=:CodMarca and FamigliaDiSconto=:FamigliaDiSconto &quot;, nativeQuery = true)\n    List&lt;Articolo&gt; updateArticoloMetelScontoFirst(@Param(&quot;Sconto&quot;) Double Sconto, @Param(&quot;CodMarca&quot;) String CodMarca, @Param(&quot;Importato&quot;) String Importato, @Param(&quot;FamigliaDiSconto&quot;) String FamigliaDiSconto);\n</code></pre>\n"},{"tags":["java","comments","javadoc","multiline"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1682244496,"post_id":76084209,"comment_id":134181871,"body_markdown":"Write your inner comments using one-line `// this is a comment` syntax.","body":"Write your inner comments using one-line <code>&#47;&#47; this is a comment</code> syntax."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682247048,"post_id":76084209,"comment_id":134182139,"body_markdown":"maybe the answers to [Multiple line code example in Javadoc comment](https://stackoverflow.com/q/541920/16320675) can help (different problem, but some ideas) || also check [JEP 413](https://openjdk.org/jeps/413), introducing `@snippet` (Java 18)","body":"maybe the answers to <a href=\"https://stackoverflow.com/q/541920/16320675\">Multiple line code example in Javadoc comment</a> can help (different problem, but some ideas) || also check <a href=\"https://openjdk.org/jeps/413\" rel=\"nofollow noreferrer\">JEP 413</a>, introducing <code>@snippet</code> (Java 18)"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1683831094,"post_id":76084209,"comment_id":134430679,"body_markdown":"Looks like this will become a bit easier with JDK 21, see [JDK-8301294](https://bugs.openjdk.org/browse/JDK-8301294). The specification there explicitly mentions `*@/` as solution for writing `*/`, but it also mentions that this will not work for any tags which treat their content literally, such as `{@code ...}`.","body":"Looks like this will become a bit easier with JDK 21, see <a href=\"https://bugs.openjdk.org/browse/JDK-8301294\" rel=\"nofollow noreferrer\">JDK-8301294</a>. The specification there explicitly mentions <code>*@&#47;</code> as solution for writing <code>*&#47;</code>, but it also mentions that this will not work for any tags which treat their content literally, such as <code>{@code ...}</code>."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682253389,"creation_date":1682253389,"answer_id":76084877,"question_id":76084209,"body_markdown":"I personally would remove `{@code` and would just use HTML entities where necessary:\r\n\r\n    /**\r\n     * Sample is a utility for doing interesting stuff.\r\n     * For example, you might use it this way:\r\n     * \r\n     * &lt;pre&gt;\r\n     * /**\r\n     *  * We write an Example class\r\n     *  *&amp;#x2f;\r\n     * class Example {\r\n     *     /**\r\n     *      * This function does something.\r\n     *      *&amp;#x2f;\r\n     *     void foo() {\r\n     *         // ...\r\n     *     }\r\n     * \r\n     *     /**\r\n     *      * This one does something else\r\n     *      *&amp;#x2f;\r\n     *     void bar() {\r\n     *         // ...\r\n     *     }\r\n     * \r\n     *     /**\r\n     *      * now I&#39;m gonna demonstrate something by calling foo() and bar() in this main method\r\n     *      *&amp;#x2f;\r\n     *     public static void main(String[] args) {\r\n     *         // ...\r\n     *         foo();\r\n     *         // ...\r\n     *         bar();\r\n     *         // ...\r\n     *         // and now the kicker:\r\n     *         Sample.baz();\r\n     *         // everyone stands up and claps\r\n     *         // ...\r\n     *     }\r\n     * }\r\n     * &lt;/pre&gt;\r\n     */\r\n\r\nThis will also require escaping `@`, `&lt;`, `&gt;`, and `&amp;` as well, if they appear in your example javadoc.  `@` would be escaped as `&amp;#x40;`, `&lt;` is `&amp;lt;`, `&gt;` is `&amp;gt;`, and `&amp;` is `&amp;amp;`.\r\n","title":"Is it possible to nest javadoc?","body":"<p>I personally would remove <code>{@code</code> and would just use HTML entities where necessary:</p>\n<pre><code>/**\n * Sample is a utility for doing interesting stuff.\n * For example, you might use it this way:\n * \n * &lt;pre&gt;\n * /**\n *  * We write an Example class\n *  *&amp;#x2f;\n * class Example {\n *     /**\n *      * This function does something.\n *      *&amp;#x2f;\n *     void foo() {\n *         // ...\n *     }\n * \n *     /**\n *      * This one does something else\n *      *&amp;#x2f;\n *     void bar() {\n *         // ...\n *     }\n * \n *     /**\n *      * now I'm gonna demonstrate something by calling foo() and bar() in this main method\n *      *&amp;#x2f;\n *     public static void main(String[] args) {\n *         // ...\n *         foo();\n *         // ...\n *         bar();\n *         // ...\n *         // and now the kicker:\n *         Sample.baz();\n *         // everyone stands up and claps\n *         // ...\n *     }\n * }\n * &lt;/pre&gt;\n */\n</code></pre>\n<p>This will also require escaping <code>@</code>, <code>&lt;</code>, <code>&gt;</code>, and <code>&amp;</code> as well, if they appear in your example javadoc.  <code>@</code> would be escaped as <code>&amp;#x40;</code>, <code>&lt;</code> is <code>&amp;lt;</code>, <code>&gt;</code> is <code>&amp;gt;</code>, and <code>&amp;</code> is <code>&amp;amp;</code>.</p>\n"}],"owner":{"account_id":10400609,"reputation":61,"user_id":8409679,"display_name":"Noam Bechhofer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76084877,"answer_count":1,"score":2,"last_activity_date":1682253389,"creation_date":1682244108,"question_id":76084209,"body_markdown":"I want to nest javadoc in order to demonstrate some code functionality. However, the end of the inner javadoc comment block ends the outer comment block too.\r\n# Sample use case\r\n```\r\n/**\r\n * Sample is a utility for doing interesting stuff.\r\n * For example, you might use it this way:\r\n * \r\n * &lt;pre&gt;{@code\r\n * /**\r\n *  * We write an Example class\r\n *  */\r\n * class Example {\r\n *     /**\r\n *      * This function does something.\r\n *      */\r\n *     void foo() {\r\n *         // ...\r\n *     }\r\n * \r\n *     /**\r\n *      * This one does something else\r\n *      */\r\n *     void bar() {\r\n *         // ...\r\n *     }\r\n * \r\n *     /**\r\n *      * now I&#39;m gonna demonstrate something by calling foo() and bar() in this main method\r\n *      */\r\n *     public static void main(String[] args) {\r\n *         // ...\r\n *         foo();\r\n *         // ...\r\n *         bar();\r\n *         // ...\r\n *         // and now the kicker:\r\n *         Sample.baz();\r\n *         // everyone stands up and claps\r\n *         // ...\r\n *     }\r\n * }\r\n * }&lt;/pre&gt;\r\n */\r\npublic class Sample {\r\n    /**\r\n     * Really cool thing that Sample does\r\n     */\r\n    static void baz() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\n# subpar solution\r\nSo I could try escaping the offending closing tags, but that shows up in the javadoc which is pretty ugly.\r\n\r\n```\r\n/**\r\n * outer doc\r\n * &lt;pre&gt;{@code\r\n * /**\r\n *  * inner doc\r\n *  *\\/\r\n * }\r\n * &lt;/pre&gt;\r\n */\r\npublic class Sample {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, world!&quot;);\r\n    }\r\n}\r\n```\r\nyields\r\n\r\n```\r\nouter doc\r\n\r\n /**\r\n  * inner doc\r\n  *\\/\r\n```\r\n\r\n","title":"Is it possible to nest javadoc?","body":"<p>I want to nest javadoc in order to demonstrate some code functionality. However, the end of the inner javadoc comment block ends the outer comment block too.</p>\n<h1>Sample use case</h1>\n<pre><code>/**\n * Sample is a utility for doing interesting stuff.\n * For example, you might use it this way:\n * \n * &lt;pre&gt;{@code\n * /**\n *  * We write an Example class\n *  */\n * class Example {\n *     /**\n *      * This function does something.\n *      */\n *     void foo() {\n *         // ...\n *     }\n * \n *     /**\n *      * This one does something else\n *      */\n *     void bar() {\n *         // ...\n *     }\n * \n *     /**\n *      * now I'm gonna demonstrate something by calling foo() and bar() in this main method\n *      */\n *     public static void main(String[] args) {\n *         // ...\n *         foo();\n *         // ...\n *         bar();\n *         // ...\n *         // and now the kicker:\n *         Sample.baz();\n *         // everyone stands up and claps\n *         // ...\n *     }\n * }\n * }&lt;/pre&gt;\n */\npublic class Sample {\n    /**\n     * Really cool thing that Sample does\n     */\n    static void baz() {\n        // ...\n    }\n}\n</code></pre>\n<h1>subpar solution</h1>\n<p>So I could try escaping the offending closing tags, but that shows up in the javadoc which is pretty ugly.</p>\n<pre><code>/**\n * outer doc\n * &lt;pre&gt;{@code\n * /**\n *  * inner doc\n *  *\\/\n * }\n * &lt;/pre&gt;\n */\npublic class Sample {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n</code></pre>\n<p>yields</p>\n<pre><code>outer doc\n\n /**\n  * inner doc\n  *\\/\n</code></pre>\n"},{"tags":["java","parsing","calculator","unary-function"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1682259431,"post_id":76084846,"comment_id":134183634,"body_markdown":"Your parser needs to understand that the character &#39;-&#39; has two meanings.   One is binary subtraction, and the other is (your choice) either the unary negation operator, or else just a valid character in a number.  If you choose unary negation, then it should have a higher priority than binary operators.","body":"Your parser needs to understand that the character &#39;-&#39; has two meanings.   One is binary subtraction, and the other is (your choice) either the unary negation operator, or else just a valid character in a number.  If you choose unary negation, then it should have a higher priority than binary operators."}],"owner":{"account_id":20122922,"reputation":1,"user_id":14757073,"display_name":"MerHin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682252998,"creation_date":1682252998,"question_id":76084846,"body_markdown":"I tried making custom calculator with priorities `-` and `/` being greater then `+` and `*`.\r\nIt works nearly perfectly in that manner but I come to problem with unary minus. When it removes (), rather then for example from 1 + (-3), removing + and adding minus. It create this 1 + -3. Which whould cause -3 to not have priority of regular - , but rather secundary position of +. With that many math problems whould had diffrent solutions. Any idea how to solve it?\r\n\r\n```\r\npackage A_2;\r\nimport java.util.*;\r\n\r\npublic class SimpleExpressionEvaluator {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter an arithmetic expression:&quot;);\r\n        String expression = scanner.nextLine();\r\n\r\n        int result = evaluateExpression(expression);\r\n        System.out.println(&quot;Result: &quot; + result);\r\n    }\r\n\r\n    public static int evaluateExpression(String expression) {\r\n        if (expression == null || expression.isEmpty()) {\r\n            throw new IllegalArgumentException(&quot;Expression cannot be null or empty&quot;);\r\n        }\r\n        String cleanedExpression = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n        List&lt;String&gt; tokens = tokenize(expression);\r\n        List&lt;String&gt; intermediate = new ArrayList&lt;&gt;(tokens);\r\n\r\n        Stack&lt;Integer&gt; openParenthesesIndices = new Stack&lt;&gt;();\r\n        for (int i = 0; i &lt; intermediate.size(); i++) {\r\n            String token = intermediate.get(i);\r\n            if (token.equals(&quot;(&quot;)) {\r\n                openParenthesesIndices.push(i);\r\n            } else if (token.equals(&quot;)&quot;)) {\r\n                int openIndex = openParenthesesIndices.pop();\r\n                int result = evaluateSubExpression(intermediate.subList(openIndex + 1, i));\r\n                intermediate.subList(openIndex, i + 1).clear();\r\n                intermediate.add(openIndex, String.valueOf(result));\r\n                i = openIndex;\r\n            }\r\n        }\r\n\r\n        return evaluateSubExpression(intermediate);\r\n    }\r\n\r\n    private static List&lt;String&gt; preprocessTokens(List&lt;String&gt; tokens) {\r\n        List&lt;String&gt; processedTokens = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; tokens.size(); i++) {\r\n            String token = tokens.get(i);\r\n            if ((i == 0 &amp;&amp; &quot;-&quot;.equals(token)) || (i &gt; 0 &amp;&amp; &quot;(&quot;.equals(tokens.get(i - 1)) &amp;&amp; &quot;-&quot;.equals(token))) {\r\n                processedTokens.add(&quot;0&quot;);\r\n                processedTokens.add(&quot;-&quot;);\r\n            } else {\r\n                processedTokens.add(token);\r\n            }\r\n        }\r\n        return processedTokens;\r\n    }\r\n\r\n    private static int evaluateSubExpression(List&lt;String&gt; tokens) {\r\n        tokens = preprocessTokens(tokens);\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        for (int i = 0; i &lt; tokens.size(); i++) {\r\n            String token = tokens.get(i);\r\n            if (&quot;/&quot;.equals(token) || &quot;*&quot;.equals(token) || &quot;(&quot;.equals(token)) {\r\n                stack.push(token);\r\n            } else if (&quot;-&quot;.equals(token) || &quot;+&quot;.equals(token)) {\r\n                if (i &gt; 0 &amp;&amp; &quot;+&quot;.equals(tokens.get(i - 1)) &amp;&amp; &quot;-&quot;.equals(token)) {\r\n                    stack.pop(); \r\n                    System.out.println(&quot;Evaluating -: &quot;);\r\n                } else {\r\n                    stack.push(token);\r\n                }\r\n            } else if (&quot;)&quot;.equals(token)) {\r\n                int num = 0;\r\n                while (!stack.isEmpty() &amp;&amp; !stack.peek().equals(&quot;(&quot;)) {\r\n                    String op = stack.pop();\r\n                    if (!stack.isEmpty()) { // Add this check\r\n                        int val = Integer.parseInt(stack.pop());\r\n                        if (&quot;-&quot;.equals(op)) {\r\n                            num -= val;\r\n                        } else if (&quot;/&quot;.equals(op)) {\r\n                            num /= val;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!stack.isEmpty()) {\r\n                    stack.pop(); \r\n                }\r\n                if (i + 1 &lt; tokens.size() &amp;&amp; &quot;-&quot;.equals(tokens.get(i + 1))) {\r\n                    tokens.add(i + 1, Integer.toString(num));\r\n                    tokens.add(i + 1, &quot;-&quot;);\r\n                    i++; // Skip the next &#39;-&#39; token\r\n                } else {\r\n                    stack.push(Integer.toString(num));\r\n                }\r\n                System.out.println(&quot;Evaluating -: &quot; + stack.toString());\r\n            } else {\r\n                // It&#39;s a number\r\n                int num = Integer.parseInt(token);\r\n                while (!stack.isEmpty() &amp;&amp; (&quot;/&quot;.equals(stack.peek()) || &quot;-&quot;.equals(stack.peek()))) {\r\n                    String op = stack.pop();\r\n                    if (&quot;-&quot;.equals(op)) {\r\n                        num = Integer.parseInt(stack.pop()) - num;\r\n                    }\r\n                    else {\r\n                        num = Integer.parseInt(stack.pop()) / num;\r\n                    }\r\n                }\r\n                stack.push(Integer.toString(num));\r\n                System.out.println(&quot;Evaluating /: &quot; + stack.toString());\r\n            }\r\n        }\r\n\r\n        // Second pass: Evaluate + and *\r\n        Queue&lt;String&gt; queue = new LinkedList&lt;&gt;(stack);\r\n        int result = Integer.parseInt(queue.poll());\r\n        while (!queue.isEmpty()) {\r\n            String op = queue.poll();\r\n            int num = Integer.parseInt(queue.poll());\r\n            if (&quot;*&quot;.equals(op)) {\r\n                result *= num;\r\n                System.out.println(&quot;Evaluating *: &quot; + result);\r\n            }\r\n            if (&quot;+&quot;.equals(op)) {\r\n                result += num;\r\n                System.out.println(&quot;Evaluating +: &quot; + result);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private static List&lt;String&gt; tokenize(String expression) {\r\n        List&lt;String&gt; tokens = new ArrayList&lt;&gt;();\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char ch = expression.charAt(i);\r\n\r\n            if (Character.isDigit(ch) || (ch == &#39;-&#39; &amp;&amp; (i == 0 || tokens.isEmpty() || tokens.get(tokens.size() - 1).equals(&quot;(&quot;)))) {\r\n                sb.append(ch);\r\n            } else {\r\n                if (sb.length() &gt; 0) {\r\n                    tokens.add(sb.toString());\r\n                    sb.setLength(0);\r\n                }\r\n\r\n                if (ch == &#39;-&#39; &amp;&amp; (i == 0 || tokens.isEmpty() || tokens.get(tokens.size() - 1).equals(&quot;(&quot;))) {\r\n                    tokens.add(Character.toString(ch));\r\n                } else if (ch != &#39; &#39;) {\r\n                    tokens.add(Character.toString(ch));\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        if (sb.length() &gt; 0) {\r\n            tokens.add(sb.toString());\r\n        }\r\n        return tokens;\r\n    }\r\n```\r\n\r\nI tried making fuctions which if character + is followed with negative number it whould also get priority, but I was unable to do it.\r\n\r\nAs I said previesly I want it to get priority of -, when () are removed so for example this math problem whould solve like this.\r\n```\r\n4 + 1 - 3 / 2 + 3 * 5 + (-5)\r\n4 + -2/2 + 3 * 5 - 5\r\n4 - 1 + 3 * 0\r\n3\r\n```\r\n\r\nRathen then currently whould whould be calculated like this\r\n```\r\n4 + 1 - 3 / 2 + 3 * 5 + (-5) \r\n4 + -2/2 + 3 * 5 + -5\r\n4 - 1 + 3 * 5 + -5\r\n3 + 15 + -5\r\n13\r\n```\r\n\r\n","title":"Problem with unary minus, in custom calculator with custom priorities","body":"<p>I tried making custom calculator with priorities <code>-</code> and <code>/</code> being greater then <code>+</code> and <code>*</code>.\nIt works nearly perfectly in that manner but I come to problem with unary minus. When it removes (), rather then for example from 1 + (-3), removing + and adding minus. It create this 1 + -3. Which whould cause -3 to not have priority of regular - , but rather secundary position of +. With that many math problems whould had diffrent solutions. Any idea how to solve it?</p>\n<pre><code>package A_2;\nimport java.util.*;\n\npublic class SimpleExpressionEvaluator {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter an arithmetic expression:&quot;);\n        String expression = scanner.nextLine();\n\n        int result = evaluateExpression(expression);\n        System.out.println(&quot;Result: &quot; + result);\n    }\n\n    public static int evaluateExpression(String expression) {\n        if (expression == null || expression.isEmpty()) {\n            throw new IllegalArgumentException(&quot;Expression cannot be null or empty&quot;);\n        }\n        String cleanedExpression = expression.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n        List&lt;String&gt; tokens = tokenize(expression);\n        List&lt;String&gt; intermediate = new ArrayList&lt;&gt;(tokens);\n\n        Stack&lt;Integer&gt; openParenthesesIndices = new Stack&lt;&gt;();\n        for (int i = 0; i &lt; intermediate.size(); i++) {\n            String token = intermediate.get(i);\n            if (token.equals(&quot;(&quot;)) {\n                openParenthesesIndices.push(i);\n            } else if (token.equals(&quot;)&quot;)) {\n                int openIndex = openParenthesesIndices.pop();\n                int result = evaluateSubExpression(intermediate.subList(openIndex + 1, i));\n                intermediate.subList(openIndex, i + 1).clear();\n                intermediate.add(openIndex, String.valueOf(result));\n                i = openIndex;\n            }\n        }\n\n        return evaluateSubExpression(intermediate);\n    }\n\n    private static List&lt;String&gt; preprocessTokens(List&lt;String&gt; tokens) {\n        List&lt;String&gt; processedTokens = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; tokens.size(); i++) {\n            String token = tokens.get(i);\n            if ((i == 0 &amp;&amp; &quot;-&quot;.equals(token)) || (i &gt; 0 &amp;&amp; &quot;(&quot;.equals(tokens.get(i - 1)) &amp;&amp; &quot;-&quot;.equals(token))) {\n                processedTokens.add(&quot;0&quot;);\n                processedTokens.add(&quot;-&quot;);\n            } else {\n                processedTokens.add(token);\n            }\n        }\n        return processedTokens;\n    }\n\n    private static int evaluateSubExpression(List&lt;String&gt; tokens) {\n        tokens = preprocessTokens(tokens);\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n        for (int i = 0; i &lt; tokens.size(); i++) {\n            String token = tokens.get(i);\n            if (&quot;/&quot;.equals(token) || &quot;*&quot;.equals(token) || &quot;(&quot;.equals(token)) {\n                stack.push(token);\n            } else if (&quot;-&quot;.equals(token) || &quot;+&quot;.equals(token)) {\n                if (i &gt; 0 &amp;&amp; &quot;+&quot;.equals(tokens.get(i - 1)) &amp;&amp; &quot;-&quot;.equals(token)) {\n                    stack.pop(); \n                    System.out.println(&quot;Evaluating -: &quot;);\n                } else {\n                    stack.push(token);\n                }\n            } else if (&quot;)&quot;.equals(token)) {\n                int num = 0;\n                while (!stack.isEmpty() &amp;&amp; !stack.peek().equals(&quot;(&quot;)) {\n                    String op = stack.pop();\n                    if (!stack.isEmpty()) { // Add this check\n                        int val = Integer.parseInt(stack.pop());\n                        if (&quot;-&quot;.equals(op)) {\n                            num -= val;\n                        } else if (&quot;/&quot;.equals(op)) {\n                            num /= val;\n                        }\n                    }\n                }\n\n                if (!stack.isEmpty()) {\n                    stack.pop(); \n                }\n                if (i + 1 &lt; tokens.size() &amp;&amp; &quot;-&quot;.equals(tokens.get(i + 1))) {\n                    tokens.add(i + 1, Integer.toString(num));\n                    tokens.add(i + 1, &quot;-&quot;);\n                    i++; // Skip the next '-' token\n                } else {\n                    stack.push(Integer.toString(num));\n                }\n                System.out.println(&quot;Evaluating -: &quot; + stack.toString());\n            } else {\n                // It's a number\n                int num = Integer.parseInt(token);\n                while (!stack.isEmpty() &amp;&amp; (&quot;/&quot;.equals(stack.peek()) || &quot;-&quot;.equals(stack.peek()))) {\n                    String op = stack.pop();\n                    if (&quot;-&quot;.equals(op)) {\n                        num = Integer.parseInt(stack.pop()) - num;\n                    }\n                    else {\n                        num = Integer.parseInt(stack.pop()) / num;\n                    }\n                }\n                stack.push(Integer.toString(num));\n                System.out.println(&quot;Evaluating /: &quot; + stack.toString());\n            }\n        }\n\n        // Second pass: Evaluate + and *\n        Queue&lt;String&gt; queue = new LinkedList&lt;&gt;(stack);\n        int result = Integer.parseInt(queue.poll());\n        while (!queue.isEmpty()) {\n            String op = queue.poll();\n            int num = Integer.parseInt(queue.poll());\n            if (&quot;*&quot;.equals(op)) {\n                result *= num;\n                System.out.println(&quot;Evaluating *: &quot; + result);\n            }\n            if (&quot;+&quot;.equals(op)) {\n                result += num;\n                System.out.println(&quot;Evaluating +: &quot; + result);\n            }\n        }\n\n        return result;\n    }\n\n    private static List&lt;String&gt; tokenize(String expression) {\n        List&lt;String&gt; tokens = new ArrayList&lt;&gt;();\n        StringBuilder sb = new StringBuilder();\n\n        for (int i = 0; i &lt; expression.length(); i++) {\n            char ch = expression.charAt(i);\n\n            if (Character.isDigit(ch) || (ch == '-' &amp;&amp; (i == 0 || tokens.isEmpty() || tokens.get(tokens.size() - 1).equals(&quot;(&quot;)))) {\n                sb.append(ch);\n            } else {\n                if (sb.length() &gt; 0) {\n                    tokens.add(sb.toString());\n                    sb.setLength(0);\n                }\n\n                if (ch == '-' &amp;&amp; (i == 0 || tokens.isEmpty() || tokens.get(tokens.size() - 1).equals(&quot;(&quot;))) {\n                    tokens.add(Character.toString(ch));\n                } else if (ch != ' ') {\n                    tokens.add(Character.toString(ch));\n                }\n\n            }\n        }\n\n        if (sb.length() &gt; 0) {\n            tokens.add(sb.toString());\n        }\n        return tokens;\n    }\n</code></pre>\n<p>I tried making fuctions which if character + is followed with negative number it whould also get priority, but I was unable to do it.</p>\n<p>As I said previesly I want it to get priority of -, when () are removed so for example this math problem whould solve like this.</p>\n<pre><code>4 + 1 - 3 / 2 + 3 * 5 + (-5)\n4 + -2/2 + 3 * 5 - 5\n4 - 1 + 3 * 0\n3\n</code></pre>\n<p>Rathen then currently whould whould be calculated like this</p>\n<pre><code>4 + 1 - 3 / 2 + 3 * 5 + (-5) \n4 + -2/2 + 3 * 5 + -5\n4 - 1 + 3 * 5 + -5\n3 + 15 + -5\n13\n</code></pre>\n"},{"tags":["java","excel","apache-poi","spring-batch","spring-batch-excel"],"comments":[{"owner":{"account_id":3145939,"reputation":343,"user_id":2660418,"accept_rate":50,"display_name":"Jijil Kakkadathu"},"score":0,"creation_date":1701840738,"post_id":75593416,"comment_id":136823763,"body_markdown":"Is your issue resolved with answer provided by Morten?","body":"Is your issue resolved with answer provided by Morten?"}],"answers":[{"tags":[],"owner":{"account_id":27511580,"reputation":11,"user_id":20993385,"display_name":"Morten Pohlers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677964757,"creation_date":1677964757,"answer_id":75638730,"question_id":75593416,"body_markdown":"Changing the return type of the `excelReader` to `PoiItemReader` worked for me. I think that is because first the file has to be opened, so the method `open(...)`on `ItemStream` needs to be called. If you only provide an `ItemReader` spring does not identify your reader as `ItemStream` and hence there is no call to `open`.   ","title":"Spring Batch Excel Reader Workbook NullPointerException","body":"<p>Changing the return type of the <code>excelReader</code> to <code>PoiItemReader</code> worked for me. I think that is because first the file has to be opened, so the method <code>open(...)</code>on <code>ItemStream</code> needs to be called. If you only provide an <code>ItemReader</code> spring does not identify your reader as <code>ItemStream</code> and hence there is no call to <code>open</code>.</p>\n"}],"owner":{"account_id":11746593,"reputation":63,"user_id":15830072,"display_name":"jithset"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682252767,"creation_date":1677594659,"question_id":75593416,"body_markdown":"Task is to read excel files in spring batch where the resource path get after the file download from GCS. \r\n\r\n\r\n\r\n&gt; pom.xml\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.batch.extensions&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-batch-excel&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n&gt; ExcelReader Method\r\n\r\n```java\r\n@Bean\r\n@StepScope\r\npublic ItemReader&lt;HashMap&lt;String, String&gt;&gt; excelReader() {\r\n    PoiItemReader poiItemReader = new PoiItemReader();\r\n    poiItemReader.setResource(new FileSystemResource(Constants.absolutePath));\r\n    poiItemReader.setLinesToSkip(1);\r\n    poiItemReader.setRowMapper(excelRowMapper());\r\n    return  poiItemReader;\r\n}\r\n```\r\n\r\nAfter downloading from GCS file path is stored in static variable ```Constants.absolutePath``` file is saving correctly.\r\n\r\nBut an error is causing like this.\r\n\r\n&gt; ErrorTrace\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat org.springframework.batch.extensions.excel.poi.PoiItemReader.getNumberOfSheets(PoiItemReader.java:56) ~[spring-batch-excel-0.1.1.jar:na]\r\n\tat org.springframework.batch.extensions.excel.AbstractExcelItemReader.nextSheet(AbstractExcelItemReader.java:178) ~[spring-batch-excel-0.1.1.jar:na]\r\n```\r\n\r\nWhile debugging the ```workbook``` field is Null. \r\n\r\nI have checked with the path is hardcoded without ```@StepScope``` it works correctly. \r\n\r\nI need a solution with dynamically setting the resource for the batch process.","title":"Spring Batch Excel Reader Workbook NullPointerException","body":"<p>Task is to read excel files in spring batch where the resource path get after the file download from GCS.</p>\n<blockquote>\n<p>pom.xml</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.batch.extensions&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-excel&lt;/artifactId&gt;\n    &lt;version&gt;0.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<blockquote>\n<p>ExcelReader Method</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@StepScope\npublic ItemReader&lt;HashMap&lt;String, String&gt;&gt; excelReader() {\n    PoiItemReader poiItemReader = new PoiItemReader();\n    poiItemReader.setResource(new FileSystemResource(Constants.absolutePath));\n    poiItemReader.setLinesToSkip(1);\n    poiItemReader.setRowMapper(excelRowMapper());\n    return  poiItemReader;\n}\n</code></pre>\n<p>After downloading from GCS file path is stored in static variable <code>Constants.absolutePath</code> file is saving correctly.</p>\n<p>But an error is causing like this.</p>\n<blockquote>\n<p>ErrorTrace</p>\n</blockquote>\n<pre><code>java.lang.NullPointerException: null\n    at org.springframework.batch.extensions.excel.poi.PoiItemReader.getNumberOfSheets(PoiItemReader.java:56) ~[spring-batch-excel-0.1.1.jar:na]\n    at org.springframework.batch.extensions.excel.AbstractExcelItemReader.nextSheet(AbstractExcelItemReader.java:178) ~[spring-batch-excel-0.1.1.jar:na]\n</code></pre>\n<p>While debugging the <code>workbook</code> field is Null.</p>\n<p>I have checked with the path is hardcoded without <code>@StepScope</code> it works correctly.</p>\n<p>I need a solution with dynamically setting the resource for the batch process.</p>\n"},{"tags":["java","keycloak","keycloak-rest-api"],"owner":{"account_id":233832,"reputation":1470,"user_id":499593,"accept_rate":62,"display_name":"developer10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682251968,"creation_date":1682251968,"question_id":76084758,"body_markdown":"I&#39;m implementing a custom user storage by utilising Keycloak&#39;s User Storage SPI. In other words, I want Keycloak&#39;s functionality without it actually storing the users.\r\n\r\nThe `UserRegistrationProvider` interface has two methods that need to be implemented if this custom storage provider is supposed to be able to also created and remove users. These methods are `addUser` and `removeUser`, respectively. The `addUser` method in its signature only has a `username` attribute, regardless of what&#39;s being sent from the registration form. \r\n\r\nThere&#39;s an official Keycloak example in which the provider is able to directly persist the new user via JPA.\r\n\r\nHowever, in my case I&#39;m relying on my REST API to interact with the backend database. The problem is, I still don&#39;t know from where I&#39;m supposed to make this REST call:\r\n* it can&#39;t be done from within the `addUser` method, as here only the `username` attribute is available\r\n* in the chain of subsequent method calls other attributes are being attached to the `UserModel` object being returned by the `addUser` method. Apparently, Keycloak does its &quot;magic&quot; internally, ie. not within a method that could potentially be overridden in order to include my REST call (with all attributes present on the object).\r\n\r\nSomeone who knows Keycloak well should be at least be able to point me in the right direction or tell me that what I want is impossible (which I find hard to believe).","title":"Persisting a new user via RESTful API when using Keycloak User Storage SPI","body":"<p>I'm implementing a custom user storage by utilising Keycloak's User Storage SPI. In other words, I want Keycloak's functionality without it actually storing the users.</p>\n<p>The <code>UserRegistrationProvider</code> interface has two methods that need to be implemented if this custom storage provider is supposed to be able to also created and remove users. These methods are <code>addUser</code> and <code>removeUser</code>, respectively. The <code>addUser</code> method in its signature only has a <code>username</code> attribute, regardless of what's being sent from the registration form.</p>\n<p>There's an official Keycloak example in which the provider is able to directly persist the new user via JPA.</p>\n<p>However, in my case I'm relying on my REST API to interact with the backend database. The problem is, I still don't know from where I'm supposed to make this REST call:</p>\n<ul>\n<li>it can't be done from within the <code>addUser</code> method, as here only the <code>username</code> attribute is available</li>\n<li>in the chain of subsequent method calls other attributes are being attached to the <code>UserModel</code> object being returned by the <code>addUser</code> method. Apparently, Keycloak does its &quot;magic&quot; internally, ie. not within a method that could potentially be overridden in order to include my REST call (with all attributes present on the object).</li>\n</ul>\n<p>Someone who knows Keycloak well should be at least be able to point me in the right direction or tell me that what I want is impossible (which I find hard to believe).</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1385561967,"post_id":20244696,"comment_id":30193765,"body_markdown":"Where is your `infraContext.xml` being loaded? Judging from the stacktrace it isn&#39;t included in the configuration loaded by the `ContextLoaderListener`. Please post your web.xml.","body":"Where is your <code>infraContext.xml</code> being loaded? Judging from the stacktrace it isn&#39;t included in the configuration loaded by the <code>ContextLoaderListener</code>. Please post your web.xml."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1385562798,"post_id":20244696,"comment_id":30194296,"body_markdown":"Problem is you have multiple instances of a `PropertySourcesPlaceholderConfigurer` one explicitly defined (why?) and one due to the namespace. The one in your `applicationContext.xml` isn&#39;t doing anything nor adding anything. Remove it.","body":"Problem is you have multiple instances of a <code>PropertySourcesPlaceholderConfigurer</code> one explicitly defined (why?) and one due to the namespace. The one in your <code>applicationContext.xml</code> isn&#39;t doing anything nor adding anything. Remove it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":2,"up_vote_count":86,"is_accepted":true,"score":84,"last_activity_date":1385563063,"creation_date":1385563063,"answer_id":20245272,"question_id":20244696,"body_markdown":"In your configuration you have 2 `PropertySourcesPlaceholderConfigurer` instances.\r\n\r\napplicationContext.xml\r\n\r\n    &lt;bean class=&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;&gt;\r\n        &lt;property name=&quot;environment&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.web.context.support.StandardServletEnvironment&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\ninfraContext.xml\r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:context-core.properties&quot;/&gt;\r\n\r\nBy default a `PlaceholderConfigurer` is going to fail-fast, so if a placeholder cannot be resolved it will throw an exception. The instance from the `applicationContext.xml` file has no properties and as such will fail on all placeholders.\r\n\r\nSolution: Remove the one from **applicationContext.xml** as it doesn&#39;t add anything it only breaks things.","title":"Could not resolve placeholder in string value","body":"<p>In your configuration you have 2 <code>PropertySourcesPlaceholderConfigurer</code> instances.</p>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;bean class=\"org.springframework.context.support.PropertySourcesPlaceholderConfigurer\"&gt;\n    &lt;property name=\"environment\"&gt;\n        &lt;bean class=\"org.springframework.web.context.support.StandardServletEnvironment\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>infraContext.xml</p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:context-core.properties\"/&gt;\n</code></pre>\n\n<p>By default a <code>PlaceholderConfigurer</code> is going to fail-fast, so if a placeholder cannot be resolved it will throw an exception. The instance from the <code>applicationContext.xml</code> file has no properties and as such will fail on all placeholders.</p>\n\n<p>Solution: Remove the one from <strong>applicationContext.xml</strong> as it doesn't add anything it only breaks things.</p>\n"},{"tags":[],"owner":{"account_id":3477744,"reputation":255,"user_id":2910552,"display_name":"user2910552"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1496148120,"creation_date":1496144516,"answer_id":44261303,"question_id":20244696,"body_markdown":"I had the same problem, resolved it by adding\r\n\r\n    &lt;filtering&gt;true&lt;/filtering&gt; \r\n\r\nin pom.xml :\r\n\r\nbefore (didn&#39;t work):\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\t\t\t\t\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\r\nafter(it worked):\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\r\nAfter that you just run *mvn clean install* and deploy application.","title":"Could not resolve placeholder in string value","body":"<p>I had the same problem, resolved it by adding</p>\n\n<pre><code>&lt;filtering&gt;true&lt;/filtering&gt; \n</code></pre>\n\n<p>in pom.xml :</p>\n\n<p>before (didn't work):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;               \n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>after(it worked):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>After that you just run <em>mvn clean install</em> and deploy application.</p>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1542796071,"creation_date":1542796071,"answer_id":53410031,"question_id":20244696,"body_markdown":"This Issue occurs if the application is unable to access the some_file_name.properties file.Make sure that the properties file is placed under resources folder in spring.\r\n\r\n**Trouble shooting Steps**\r\n\r\n1: Add the properties file under the resource folder.\r\n\r\n2: If you don&#39;t have a resource folder. Create one by navigating new by Right click on the project new &gt; Source Folder, name it as resource and place your properties file under it.\r\n\r\nFor annotation based Implementation\r\n\r\n\r\nAdd `@PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:some_file_name.properties&quot;)`//Add it before using the place holder\r\n\r\nExample:\r\n\r\nAssignment1Controller.Java\r\n\r\n    @PropertySource(ignoreResourceNotFound = true, value = &quot;classpath:assignment1.properties&quot;)\r\n    @RestController  \r\n    public class Assignment1Controller {\r\n    \t\r\n    //\t@Autowired\r\n    //\tAssignment1Services assignment1Services;\r\n    \t@Value(&quot;${app.title}&quot;)\r\n        private String appTitle;\r\n    \t @RequestMapping(value = &quot;/hello&quot;)  \r\n    \t\tpublic String getValues() {\r\n    \t\t  \r\n    \t\t  return appTitle;\r\n    \t\t \r\n    \t\t}  \r\n    \r\n    }\r\nassignment1.properties\r\n\r\n    app.title=Learning Spring\r\n\r\n  \r\n","title":"Could not resolve placeholder in string value","body":"<p>This Issue occurs if the application is unable to access the some_file_name.properties file.Make sure that the properties file is placed under resources folder in spring.</p>\n\n<p><strong>Trouble shooting Steps</strong></p>\n\n<p>1: Add the properties file under the resource folder.</p>\n\n<p>2: If you don't have a resource folder. Create one by navigating new by Right click on the project new > Source Folder, name it as resource and place your properties file under it.</p>\n\n<p>For annotation based Implementation</p>\n\n<p>Add <code>@PropertySource(ignoreResourceNotFound = true, value = \"classpath:some_file_name.properties\")</code>//Add it before using the place holder</p>\n\n<p>Example:</p>\n\n<p>Assignment1Controller.Java</p>\n\n<pre><code>@PropertySource(ignoreResourceNotFound = true, value = \"classpath:assignment1.properties\")\n@RestController  \npublic class Assignment1Controller {\n\n//  @Autowired\n//  Assignment1Services assignment1Services;\n    @Value(\"${app.title}\")\n    private String appTitle;\n     @RequestMapping(value = \"/hello\")  \n        public String getValues() {\n\n          return appTitle;\n\n        }  \n\n}\n</code></pre>\n\n<p>assignment1.properties</p>\n\n<pre><code>app.title=Learning Spring\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1549977668,"creation_date":1549977668,"answer_id":54651039,"question_id":20244696,"body_markdown":"In my case, I was careless while merging the application.yml file, and I&#39;ve unnecessary indented my properties to the right.\r\n\r\nI&#39;ve indented it like this:\r\n\r\n    spring:\r\n        application:\r\n           name: applicationName\r\n    ............................\r\n        myProperties:\r\n           property1: property1value\r\n\r\nWhile the code expected it to be like this:\r\n\r\n    spring:\r\n        application:\r\n            name: applicationName\r\n    .............................\r\n    myProperties:\r\n        property1: property1value","title":"Could not resolve placeholder in string value","body":"<p>In my case, I was careless while merging the application.yml file, and I've unnecessary indented my properties to the right.</p>\n\n<p>I've indented it like this:</p>\n\n<pre><code>spring:\n    application:\n       name: applicationName\n............................\n    myProperties:\n       property1: property1value\n</code></pre>\n\n<p>While the code expected it to be like this:</p>\n\n<pre><code>spring:\n    application:\n        name: applicationName\n.............................\nmyProperties:\n    property1: property1value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8258647,"reputation":73,"user_id":6210952,"display_name":"PackBjamin"},"down_vote_count":12,"up_vote_count":7,"is_accepted":false,"score":-5,"last_activity_date":1568470809,"creation_date":1568470809,"answer_id":57936369,"question_id":20244696,"body_markdown":"My solution was to add a space between the $ and the {.\r\n\r\nFor example:\r\n\r\n    @Value(&quot;${project.ftp.adresse}&quot;)\r\nbecomes\r\n\r\n    @Value(&quot;$ {project.ftp.adresse}&quot;)","title":"Could not resolve placeholder in string value","body":"<p>My solution was to add a space between the $ and the {.</p>\n\n<p>For example:</p>\n\n<pre><code>@Value(\"${project.ftp.adresse}\")\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>@Value(\"$ {project.ftp.adresse}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5192335,"reputation":2388,"user_id":4154889,"display_name":"cdesmetz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570205535,"creation_date":1570205018,"answer_id":58239847,"question_id":20244696,"body_markdown":"With Spring Boot :\r\n\r\nIn the pom.xml\r\n\r\n    &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;addResources&gt;true&lt;/addResources&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nExample in class Java\r\n\r\n    @Configuration\r\n    @Slf4j\r\n    public class MyAppConfig {\r\n        @Value(&quot;${foo}&quot;)\r\n        private String foo;\r\n        @Value(&quot;${bar}&quot;)\r\n        private String bar;\r\n        @Bean(&quot;foo&quot;)\r\n        public String foo() {\r\n            log.info(&quot;foo={}&quot;, foo);\r\n            return foo;\r\n        }\r\n        @Bean(&quot;bar&quot;)\r\n        public String bar() {\r\n            log.info(&quot;bar={}&quot;, bar);\r\n            return bar;\r\n        }\r\n        [ ... ]\r\n\r\nIn the properties files :\r\n\r\nsrc/main/resources/application.properties\r\n\r\n    foo=all-env-foo\r\n\r\nsrc/main/resources/application-rec.properties\r\n\r\n    bar=rec-bar\r\n\r\nsrc/main/resources/application-prod.properties\r\n\r\n    bar=prod-bar\r\n\r\nIn the VM arguments of Application.java\r\n\r\n    -Dspring.profiles.active=[rec|prod]\r\n\r\n**Don&#39;t forget to run mvn command after modifying the properties !**\r\n\r\n    mvn clean package -Dmaven.test.skip=true\r\n\r\nIn the log file for  -Dspring.profiles.active=rec :\r\n\r\n    The following profiles are active: rec\r\n    foo=all-env-foo\r\n    bar=rec-bar\r\n\r\nIn the log file for  -Dspring.profiles.active=prod :\r\n\r\n    The following profiles are active: prod\r\n    foo=all-env-foo\r\n    bar=prod-bar\r\n\r\nIn the log file for -Dspring.profiles.active=local :\r\n\r\n    Could not resolve placeholder &#39;bar&#39; in value &quot;${bar}&quot;\r\n\r\nOups, I forget to create application-local.properties.\r\n\r\n","title":"Could not resolve placeholder in string value","body":"<p>With Spring Boot :</p>\n\n<p>In the pom.xml</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;addResources&gt;true&lt;/addResources&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Example in class Java</p>\n\n<pre><code>@Configuration\n@Slf4j\npublic class MyAppConfig {\n    @Value(\"${foo}\")\n    private String foo;\n    @Value(\"${bar}\")\n    private String bar;\n    @Bean(\"foo\")\n    public String foo() {\n        log.info(\"foo={}\", foo);\n        return foo;\n    }\n    @Bean(\"bar\")\n    public String bar() {\n        log.info(\"bar={}\", bar);\n        return bar;\n    }\n    [ ... ]\n</code></pre>\n\n<p>In the properties files :</p>\n\n<p>src/main/resources/application.properties</p>\n\n<pre><code>foo=all-env-foo\n</code></pre>\n\n<p>src/main/resources/application-rec.properties</p>\n\n<pre><code>bar=rec-bar\n</code></pre>\n\n<p>src/main/resources/application-prod.properties</p>\n\n<pre><code>bar=prod-bar\n</code></pre>\n\n<p>In the VM arguments of Application.java</p>\n\n<pre><code>-Dspring.profiles.active=[rec|prod]\n</code></pre>\n\n<p><strong>Don't forget to run mvn command after modifying the properties !</strong></p>\n\n<pre><code>mvn clean package -Dmaven.test.skip=true\n</code></pre>\n\n<p>In the log file for  -Dspring.profiles.active=rec :</p>\n\n<pre><code>The following profiles are active: rec\nfoo=all-env-foo\nbar=rec-bar\n</code></pre>\n\n<p>In the log file for  -Dspring.profiles.active=prod :</p>\n\n<pre><code>The following profiles are active: prod\nfoo=all-env-foo\nbar=prod-bar\n</code></pre>\n\n<p>In the log file for -Dspring.profiles.active=local :</p>\n\n<pre><code>Could not resolve placeholder 'bar' in value \"${bar}\"\n</code></pre>\n\n<p>Oups, I forget to create application-local.properties.</p>\n"},{"tags":[],"owner":{"account_id":3527487,"reputation":534,"user_id":2948162,"display_name":"akasha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1587543497,"creation_date":1587543497,"answer_id":61360370,"question_id":20244696,"body_markdown":"You can also try default values. [spring-value-annotation][1]\r\n\r\nDefault values can be provided for properties that might not be defined. In this example the value “some default” will be injected:\r\n\r\n    @Value(&quot;${unknown.param:some default}&quot;)\r\n    private String someDefault;\r\n\r\nIf the same property is defined as a system property and in the properties file, then the system property would be applied.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-value-annotation","title":"Could not resolve placeholder in string value","body":"<p>You can also try default values. <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"noreferrer\">spring-value-annotation</a></p>\n\n<p>Default values can be provided for properties that might not be defined. In this example the value “some default” will be injected:</p>\n\n<pre><code>@Value(\"${unknown.param:some default}\")\nprivate String someDefault;\n</code></pre>\n\n<p>If the same property is defined as a system property and in the properties file, then the system property would be applied.</p>\n"},{"tags":[],"owner":{"account_id":12961642,"reputation":147,"user_id":9370721,"display_name":"Ankush Thakur"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1589707780,"creation_date":1589701558,"answer_id":61848525,"question_id":20244696,"body_markdown":"I got same error in my Micro-service, whenever you declare @Value annotation in program i.e **@Value(&quot;${project.api.key}&quot;)**\r\n\r\nmake sure that your application.properties file with same values should not be blank **project.api.key= add some values**\r\n\r\n**MostIMP** :otherwise it will throw error &quot;Error creating bean with name &#39;ServiceFTP&#39;: Injection of autowired dependencies&quot;","title":"Could not resolve placeholder in string value","body":"<p>I got same error in my Micro-service, whenever you declare @Value annotation in program i.e <strong>@Value(\"${project.api.key}\")</strong></p>\n\n<p>make sure that your application.properties file with same values should not be blank <strong>project.api.key= add some values</strong></p>\n\n<p><strong>MostIMP</strong> :otherwise it will throw error \"Error creating bean with name 'ServiceFTP': Injection of autowired dependencies\"</p>\n"},{"tags":[],"owner":{"account_id":18390878,"reputation":1,"user_id":13396578,"display_name":"Dhivya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591776315,"creation_date":1591776315,"answer_id":62298668,"question_id":20244696,"body_markdown":"I got the same error in my microservice project.The property itself missed in my yml file.So I added property name and value that resolves my problem","title":"Could not resolve placeholder in string value","body":"<p>I got the same error in my microservice project.The property itself missed in my yml file.So I added property name and value that resolves my problem</p>\n"},{"tags":[],"owner":{"account_id":18077303,"reputation":229,"user_id":13140192,"display_name":"YAO ALEX DIDIER AKOUA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604038431,"creation_date":1604024272,"answer_id":64601865,"question_id":20244696,"body_markdown":"This error appears because the spring project doesn&#39;t read the file properties (**bootstrap.yml** or **application.yml**). In order to resolve this, you must add dependency in your **pom.xml**\r\n    \r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Could not resolve placeholder in string value","body":"<p>This error appears because the spring project doesn't read the file properties (<strong>bootstrap.yml</strong> or <strong>application.yml</strong>). In order to resolve this, you must add dependency in your <strong>pom.xml</strong></p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608710053,"creation_date":1608710053,"answer_id":65420760,"question_id":20244696,"body_markdown":"I&#180;m frequently running into this issue on some custom properties that could not be found using **IntelliJ IDEA** - likely after **changing branches**.\r\n\r\nWhat helpes in my case is\r\n\r\n&gt; **File -&gt; Invalidate Caches / Restart**\r\n\r\n\r\n\r\nI had the assumption that it is more likely a Gradle caching issue than an IDE issue, but **./gradle clean** did not help","title":"Could not resolve placeholder in string value","body":"<p>I´m frequently running into this issue on some custom properties that could not be found using <strong>IntelliJ IDEA</strong> - likely after <strong>changing branches</strong>.</p>\n<p>What helpes in my case is</p>\n<blockquote>\n<p><strong>File -&gt; Invalidate Caches / Restart</strong></p>\n</blockquote>\n<p>I had the assumption that it is more likely a Gradle caching issue than an IDE issue, but <strong>./gradle clean</strong> did not help</p>\n"},{"tags":[],"owner":{"account_id":13268636,"reputation":125,"user_id":9580461,"display_name":"Biju Gopinathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614300413,"creation_date":1614300413,"answer_id":66378591,"question_id":20244696,"body_markdown":"In my case I had the same issue on running from eclipse. Just did the following to resolve it:\r\nRight Click the Project --&gt; Mavan --&gt; Update Project.\r\n\r\nAnd it worked!","title":"Could not resolve placeholder in string value","body":"<p>In my case I had the same issue on running from eclipse. Just did the following to resolve it:\nRight Click the Project --&gt; Mavan --&gt; Update Project.</p>\n<p>And it worked!</p>\n"},{"tags":[],"owner":{"account_id":1157528,"reputation":209,"user_id":1137747,"display_name":"olatno"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1619932435,"creation_date":1619932435,"answer_id":67353186,"question_id":20244696,"body_markdown":"I had a similar issue in the spring boot application.\r\n\r\nWhen you add a property configuration to the application.properties file in main application SCR directory, make sure you do the same for application.properties file under the test directory.","title":"Could not resolve placeholder in string value","body":"<p>I had a similar issue in the spring boot application.</p>\n<p>When you add a property configuration to the application.properties file in main application SCR directory, make sure you do the same for application.properties file under the test directory.</p>\n"},{"tags":[],"owner":{"account_id":12185539,"reputation":306,"user_id":8895504,"display_name":"Deepak Malav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622696431,"creation_date":1622696431,"answer_id":67815595,"question_id":20244696,"body_markdown":"Adding same properties into application.properties would be helpful.","title":"Could not resolve placeholder in string value","body":"<p>Adding same properties into application.properties would be helpful.</p>\n"},{"tags":[],"owner":{"account_id":19390919,"reputation":1,"user_id":14179593,"display_name":"Okafor Kenechukwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627325673,"creation_date":1627296038,"answer_id":68528439,"question_id":20244696,"body_markdown":"I just added the configuration of the property in my `application.xml` file for my test folder, just the same way it is in my `SRC` folder and it solved my problem.","title":"Could not resolve placeholder in string value","body":"<p>I just added the configuration of the property in my <code>application.xml</code> file for my test folder, just the same way it is in my <code>SRC</code> folder and it solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":22684927,"reputation":43,"user_id":16854731,"display_name":"Marcos Salinas"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1631041396,"creation_date":1631041396,"answer_id":69093385,"question_id":20244696,"body_markdown":"I applied the same as Ben G and it worked for me. Try adding a space between $ and {","title":"Could not resolve placeholder in string value","body":"<p>I applied the same as Ben G and it worked for me. Try adding a space between $ and {</p>\n"},{"tags":[],"owner":{"account_id":8499563,"reputation":156,"user_id":6373062,"display_name":"Semih Erkaraca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669553142,"creation_date":1669553142,"answer_id":74590124,"question_id":20244696,"body_markdown":"Delete `&lt;packaging&gt;pom&lt;/packaging&gt;` line in your pom.xml.","title":"Could not resolve placeholder in string value","body":"<p>Delete <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> line in your pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671102209,"creation_date":1671102209,"answer_id":74810512,"question_id":20244696,"body_markdown":"I run into this when I created an `@Configuration` class with a prefix e.g. `foo.bar` then went ahead to attempt to autowire a property in another class using `@Value(&quot;${foo.bay.xyz}&quot;)`.\r\n\r\nThe solution was to add the `xyz` property to the configuration class and access it from an autowired bean of that class.\r\n\r\nI could not find the reason for this in the docs but my guess is that spring was binding all properties under the `foo.bar` prefix under the configuration class.","title":"Could not resolve placeholder in string value","body":"<p>I run into this when I created an <code>@Configuration</code> class with a prefix e.g. <code>foo.bar</code> then went ahead to attempt to autowire a property in another class using <code>@Value(&quot;${foo.bay.xyz}&quot;)</code>.</p>\n<p>The solution was to add the <code>xyz</code> property to the configuration class and access it from an autowired bean of that class.</p>\n<p>I could not find the reason for this in the docs but my guess is that spring was binding all properties under the <code>foo.bar</code> prefix under the configuration class.</p>\n"},{"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679052482,"creation_date":1679052482,"answer_id":75767068,"question_id":20244696,"body_markdown":"When you&#39;re using Spring Boot with *spring-boot-starters* and you redefine variables in .yml / .properties file, make sure you using custom names for variables.\r\nFor example you&#39;re using spring-boot-starter-mail. And defining variables from mail-starter in the .yml file next way:\r\n\r\n    spring:\r\n      mail:\r\n        host: ${my_smtp_host}\r\nIn this case you&#39;ll get an *`IllegalArgumentException: Could not resolve placeholder &#39;my_smtp_host&#39; in string value &quot;${my_smtp_host}&quot;`*\r\n\r\nTo solve this issue just make custom variable. For example: \r\n\r\n    my-mail:\r\n      host: ${my_smtp_host}\r\n\r\nAnother note - if you&#39;re using Openshift make sure your variable `my_smtp_host` not starting from digit:\r\nchange this -&gt; `${123_my_smtp_host}`\r\nto this -&gt; `${my_smtp_host}`","title":"Could not resolve placeholder in string value","body":"<p>When you're using Spring Boot with <em>spring-boot-starters</em> and you redefine variables in .yml / .properties file, make sure you using custom names for variables.\nFor example you're using spring-boot-starter-mail. And defining variables from mail-starter in the .yml file next way:</p>\n<pre><code>spring:\n  mail:\n    host: ${my_smtp_host}\n</code></pre>\n<p>In this case you'll get an <em><code>IllegalArgumentException: Could not resolve placeholder 'my_smtp_host' in string value &quot;${my_smtp_host}&quot;</code></em></p>\n<p>To solve this issue just make custom variable. For example:</p>\n<pre><code>my-mail:\n  host: ${my_smtp_host}\n</code></pre>\n<p>Another note - if you're using Openshift make sure your variable <code>my_smtp_host</code> not starting from digit:\nchange this -&gt; <code>${123_my_smtp_host}</code>\nto this -&gt; <code>${my_smtp_host}</code></p>\n"},{"tags":[],"owner":{"account_id":13762376,"reputation":79,"user_id":9931792,"display_name":"Magsad Novruzov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682103558,"creation_date":1682103558,"answer_id":76076039,"question_id":20244696,"body_markdown":"Intellij Idea &quot;Invalidate Caches...&quot; didn&#39;t work, but Gradle clean worked in my case.","title":"Could not resolve placeholder in string value","body":"<p>Intellij Idea &quot;Invalidate Caches...&quot; didn't work, but Gradle clean worked in my case.</p>\n"}],"owner":{"account_id":3649527,"reputation":1203,"user_id":3042040,"display_name":"Hwen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599667,"favorite_count":0,"down_vote_count":0,"up_vote_count":120,"accepted_answer_id":20245272,"answer_count":20,"score":120,"last_activity_date":1682251802,"creation_date":1385561449,"question_id":20244696,"body_markdown":"I am trying to use properties from a `.properties` file, but it doesn&#39;t seem to work. Here is my code:\r\n\r\n    @Service(&quot;ServiceFTP&quot;)\r\n    @Transactional\r\n    public class ServiceFTPImpl implements ServiceFTP {\r\n\r\n        @Value(&quot;${project.ftp.adresse}&quot;)\r\n        private String adresse;\r\n\r\n        @Value(&quot;${project.ftp.login}&quot;)\r\n        private String compte;\r\n\r\n        @Value(&quot;${project.ftp.password}&quot;)\r\n        private String motDePasse;\r\n\r\n        @Value(&quot;${project.ftp.root}&quot;)\r\n        private String ROOT;\r\n\r\n        // [...]\r\n\r\n    }\r\n\r\nThis class uses `@Value` annotations to get the properties.\r\nIt is also declared as a Spring Service and is linked to my `infraContext.xml` file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\r\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n\r\n        &lt;context:property-placeholder location=&quot;classpath:context-core.properties&quot;/&gt;\r\n\r\n        &lt;!-- [...]--&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nUsing `context:property-placeholder`, I link this file to my `context-core.properties` file :\r\n\r\n    project.ftp.adresse = localhost\r\n    project.ftp.login = anonymous\r\n    project.ftp.password =\r\n    project.ftp.root = /anonymous/\r\n\r\nThis does make sense, right ?\r\n\r\nBut when I try to launch my project, Tomcat throw this exception:\r\n\r\n    ERROR [context.ContextLoader.initWebApplicationContext()] Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ServiceFTP&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.lang.String project.sins.service.impl.ServiceFTPImpl.adresse; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;project.ftp.adresse&#39; in string value &quot;${project.ftp.adresse}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:607)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:472)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4887)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5381)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1636)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.lang.String project.sins.service.impl.ServiceFTPImpl.adresse; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;project.ftp.adresse&#39; in string value &quot;${project.ftp.adresse}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:513)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:92)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\r\n    \t... 27 more\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;project.ftp.adresse&#39; in string value &quot;${project.ftp.adresse}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:173)\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:125)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:151)\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:142)\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:169)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:748)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:740)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:730)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:485)\r\n    \t... 29 more\r\n\r\nOr, in short: \r\n\r\n&gt; java.lang.IllegalArgumentException: Could not resolve placeholder &#39;project.ftp.adresse&#39; in string value &quot;${project.ftp.adresse}&quot;\r\n\r\n**Edit:**\r\n\r\nHere is my web.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n             id=&quot;sins&quot; version=&quot;2.5&quot;&gt;\r\n    \r\n        &lt;display-name&gt;Project&lt;/display-name&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.catalina.filters.ExpiresFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;ExpiresByType text/html&lt;/param-name&gt;\r\n                &lt;param-value&gt;now plus 0 seconds&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;ExpiresByType application/json&lt;/param-name&gt;\r\n                &lt;param-value&gt;now plus 0 seconds&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;true&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;Spring OpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;\r\n                org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter\r\n            &lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;Spring OpenEntityManagerInViewFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.apache.struts2.tiles.StrutsTilesListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;\r\n                org.apache.tiles.impl.BasicTilesContainer.DEFINITIONS_CONFIG\r\n            &lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n                /WEB-INF/tiles/user.xml\r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n        &lt;resource-ref&gt;\r\n            &lt;res-ref-name&gt;jdbc/si_nsg&lt;/res-ref-name&gt;\r\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n        &lt;/resource-ref&gt;\r\n    \r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;60&lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nMy infraContext.xml is imported in another .xml file named applicationContext.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n        http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd&quot;&gt;\r\n    \r\n        &lt;bean class=&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;environment&quot;&gt;\r\n                &lt;bean class=&quot;org.springframework.web.context.support.StandardServletEnvironment&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n            \r\n        &lt;import resource=&quot;classpath:securityContext.xml&quot;/&gt;\r\n    \r\n        [...]\r\n        &lt;import resource=&quot;classpath:project/sins/persistenceContext.xml&quot;/&gt;\r\n    \r\n        &lt;import resource=&quot;classpath:project/sins/infraContext.xml&quot;/&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nI am obviously missing something, but I can&#39;t figure out what.\r\n\r\nPlease let me know if you need more details, as it is my first question here.\r\n\r\nI&#39;ll try to answer as soon as I can.","title":"Could not resolve placeholder in string value","body":"<p>I am trying to use properties from a <code>.properties</code> file, but it doesn't seem to work. Here is my code:</p>\n<pre><code>@Service(&quot;ServiceFTP&quot;)\n@Transactional\npublic class ServiceFTPImpl implements ServiceFTP {\n\n    @Value(&quot;${project.ftp.adresse}&quot;)\n    private String adresse;\n\n    @Value(&quot;${project.ftp.login}&quot;)\n    private String compte;\n\n    @Value(&quot;${project.ftp.password}&quot;)\n    private String motDePasse;\n\n    @Value(&quot;${project.ftp.root}&quot;)\n    private String ROOT;\n\n    // [...]\n\n}\n</code></pre>\n<p>This class uses <code>@Value</code> annotations to get the properties.\nIt is also declared as a Spring Service and is linked to my <code>infraContext.xml</code> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd\nhttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\n\n    &lt;context:property-placeholder location=&quot;classpath:context-core.properties&quot;/&gt;\n\n    &lt;!-- [...]--&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Using <code>context:property-placeholder</code>, I link this file to my <code>context-core.properties</code> file :</p>\n<pre><code>project.ftp.adresse = localhost\nproject.ftp.login = anonymous\nproject.ftp.password =\nproject.ftp.root = /anonymous/\n</code></pre>\n<p>This does make sense, right ?</p>\n<p>But when I try to launch my project, Tomcat throw this exception:</p>\n<pre><code>ERROR [context.ContextLoader.initWebApplicationContext()] Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ServiceFTP': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.lang.String project.sins.service.impl.ServiceFTPImpl.adresse; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'project.ftp.adresse' in string value &quot;${project.ftp.adresse}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:607)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:472)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:388)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:293)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:111)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4887)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5381)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:657)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1636)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.lang.String project.sins.service.impl.ServiceFTPImpl.adresse; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'project.ftp.adresse' in string value &quot;${project.ftp.adresse}&quot;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:513)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:92)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\n    ... 27 more\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'project.ftp.adresse' in string value &quot;${project.ftp.adresse}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:173)\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:125)\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:151)\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:142)\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:169)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:748)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:740)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:730)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:485)\n    ... 29 more\n</code></pre>\n<p>Or, in short:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not resolve placeholder 'project.ftp.adresse' in string value &quot;${project.ftp.adresse}&quot;</p>\n</blockquote>\n<p><strong>Edit:</strong></p>\n<p>Here is my web.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n         id=&quot;sins&quot; version=&quot;2.5&quot;&gt;\n\n    &lt;display-name&gt;Project&lt;/display-name&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.catalina.filters.ExpiresFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;ExpiresByType text/html&lt;/param-name&gt;\n            &lt;param-value&gt;now plus 0 seconds&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;ExpiresByType application/json&lt;/param-name&gt;\n            &lt;param-value&gt;now plus 0 seconds&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;ExpiresFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;EncodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;Spring OpenEntityManagerInViewFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter\n        &lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;Spring OpenEntityManagerInViewFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.apache.struts2.tiles.StrutsTilesListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;\n            org.apache.tiles.impl.BasicTilesContainer.DEFINITIONS_CONFIG\n        &lt;/param-name&gt;\n        &lt;param-value&gt;\n            /WEB-INF/tiles/user.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;resource-ref&gt;\n        &lt;res-ref-name&gt;jdbc/si_nsg&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;60&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>My infraContext.xml is imported in another .xml file named applicationContext.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n    http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd&quot;&gt;\n\n    &lt;bean class=&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;environment&quot;&gt;\n            &lt;bean class=&quot;org.springframework.web.context.support.StandardServletEnvironment&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n        \n    &lt;import resource=&quot;classpath:securityContext.xml&quot;/&gt;\n\n    [...]\n    &lt;import resource=&quot;classpath:project/sins/persistenceContext.xml&quot;/&gt;\n\n    &lt;import resource=&quot;classpath:project/sins/infraContext.xml&quot;/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>I am obviously missing something, but I can't figure out what.</p>\n<p>Please let me know if you need more details, as it is my first question here.</p>\n<p>I'll try to answer as soon as I can.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1580486301,"post_id":59991690,"comment_id":106125061,"body_markdown":"Show your request with URL an headers.","body":"Show your request with URL an headers."},{"owner":{"account_id":13065781,"reputation":414,"user_id":9441209,"display_name":"Bilal EL CHAMI"},"score":0,"creation_date":1601050706,"post_id":59991690,"comment_id":113293704,"body_markdown":"Any update on this thread?","body":"Any update on this thread?"},{"owner":{"account_id":10440318,"reputation":83,"user_id":7697192,"display_name":"Sunandan Bose"},"score":0,"creation_date":1602518704,"post_id":59991690,"comment_id":113739751,"body_markdown":"@BilalELCHAMI didn&#39;t find any fix to the above scenario. Tried a different approach instead","body":"@BilalELCHAMI didn&#39;t find any fix to the above scenario. Tried a different approach instead"},{"owner":{"account_id":13065781,"reputation":414,"user_id":9441209,"display_name":"Bilal EL CHAMI"},"score":0,"creation_date":1609779103,"post_id":59991690,"comment_id":115922717,"body_markdown":"@SunandanBose In my case one of my frontend modules was not sending the jwt token to the backend which resulted the Anonymous User.","body":"@SunandanBose In my case one of my frontend modules was not sending the jwt token to the backend which resulted the Anonymous User."},{"owner":{"account_id":10440318,"reputation":83,"user_id":7697192,"display_name":"Sunandan Bose"},"score":0,"creation_date":1609825147,"post_id":59991690,"comment_id":115936123,"body_markdown":"@BilalELCHAMI It worked for you then?","body":"@BilalELCHAMI It worked for you then?"},{"owner":{"account_id":13065781,"reputation":414,"user_id":9441209,"display_name":"Bilal EL CHAMI"},"score":1,"creation_date":1609929413,"post_id":59991690,"comment_id":115972085,"body_markdown":"Yes so basically, since my backend didn&#39;t recieve the token from my frontend module, the JWTAuthenticationFilter didn&#39;t execute the follwing code\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n\n\nTry to debug the filters&#39; doFilterInternal function and see why you&#39;re not setting the contexts&#39; autehntication properly","body":"Yes so basically, since my backend didn&#39;t recieve the token from my frontend module, the JWTAuthenticationFilter didn&#39;t execute the follwing code     SecurityContextHolder.getContext().setAuthentication(authent&zwnj;&#8203;ication);   Try to debug the filters&#39; doFilterInternal function and see why you&#39;re not setting the contexts&#39; autehntication properly"}],"answers":[{"tags":[],"owner":{"account_id":13759158,"reputation":1,"user_id":9929293,"display_name":"Aditi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682251769,"creation_date":1682251729,"answer_id":76084741,"question_id":59991690,"body_markdown":"Please check your request may not have JWT token in headers.","title":"getting Anonymous User in SecurityContextHolder.getContext().getAuthentication().getPrincipal() using Spring Boot and JWT token based authentication","body":"<p>Please check your request may not have JWT token in headers.</p>\n"}],"owner":{"account_id":10440318,"reputation":83,"user_id":7697192,"display_name":"Sunandan Bose"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4502,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1682251769,"creation_date":1580406397,"question_id":59991690,"body_markdown":"I am trying to fetch the User Id of a logged in User.\r\nI am using JWT based authentication.\r\n\r\nBut each time I am getting anonymous user while executing SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n\r\n\r\n**SecurityConfig.java**\r\n```\r\npackage com.event.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.BeanIds;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        securedEnabled = true,\r\n        jsr250Enabled = true,\r\n        prePostEnabled = true\r\n)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Autowired\r\n    private CustomAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder\r\n                .userDetailsService(customUserDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(authenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/auth/**&quot;, &quot;/users/**&quot;)\r\n                .permitAll()\r\n                .antMatchers(&quot;/api/user/checkUsernameAvailability&quot;, &quot;/api/user/checkEmailAvailability&quot;)\r\n                .permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/events/**&quot;, &quot;/users/**&quot;,&quot;/blogs/**&quot;)\r\n                .permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/events/**&quot;,&quot;/blogs/**&quot;,&quot;/upload/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n\r\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\n**BlogController.java**\r\n```\r\npackage com.event.controller;\r\n\r\nimport com.event.model.Blog;\r\nimport com.event.model.EventWithFile;\r\nimport com.event.service.BlogService;\r\nimport com.event.service.ImageService;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.http.MediaType;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\n@RestController\r\npublic class BlogController {\r\n\r\n    @Autowired\r\n    private BlogService blogService;\r\n\r\n    @PostMapping(value = &quot;/blogs&quot;)\r\n    private String createNewBlog(@RequestParam(&quot;event&quot;) String model, @RequestParam(value = &quot;file&quot;, required = false) MultipartFile file) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Blog blog = mapper.readValue(model, Blog.class);\r\n        UserDetails user =(UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        System.out.println(user.getUsername());\r\n        return &quot;Successfull&quot;;\r\n    }\r\n    //TODO : Donot return objects return response Entity\r\n    @GetMapping(value = &quot;/blogs&quot;)\r\n    private List&lt;Blog&gt; getBlogs(){\r\n\r\n        return blogService.getBlogs();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**JWTAuthenticationFilter.java**\r\n```\r\npackage com.event.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\t\r\n\t@Autowired\r\n\tprivate JwtTokenProvider jwtTokenProvider;\r\n\t\r\n\t@Autowired\r\n\tprivate CustomUserDetailsService userDetailsService;\r\n\r\n\tprivate Optional&lt;String&gt; getJWTStringFormRequest(HttpServletRequest httprequest) {\r\n\t\tString bearerToken = httprequest.getHeader(&quot;Authorization&quot;);\r\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return Optional.of(bearerToken.substring(7, bearerToken.length()));\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        Optional&lt;String&gt; jwtString = getJWTStringFormRequest(request);\r\n        jwtString.ifPresent(string -&gt; {\r\n            Optional&lt;UserDetails&gt; userDetails = userDetailsService\r\n                    .loadUserByUserId(jwtTokenProvider.getUserIdFromJWT(string));\r\n            userDetails.ifPresent(user -&gt; {\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\n                // No idea what the following line does\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            });\r\n        });\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n**SpringSecurityUser.java**\r\n```\r\npackage com.event.security;\r\n\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport com.event.model.User;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\npublic class SpringSecurityUser implements UserDetails{\r\n\r\n\tprivate Integer id;\r\n\t\r\n\tprivate User user;\r\n\r\n    private String username;\r\n\r\n    @JsonIgnore\r\n    private String password;\r\n\r\n    private List&lt;GrantedAuthority&gt; authorities;\r\n \r\n\r\n\tpublic SpringSecurityUser(Integer id, User user, String username, String password,\r\n\t\t\tList&lt;GrantedAuthority&gt; authorities) {\r\n\t\tthis.id = id;\r\n\t\tthis.user = user;\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.authorities = authorities;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\t \r\n\t\treturn authorities;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getPassword() {\r\n\t\t \r\n\t\treturn password;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getUsername() {\r\n\t\t \r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonExpired() {\r\n\t\t \r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isAccountNonLocked() {\r\n\t\t \r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isCredentialsNonExpired() {\r\n\t\t \r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isEnabled() {\r\n\t\t \r\n\t\treturn true;\r\n\t}\r\n\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**JWTTokenProvider.java**\r\n```\r\npackage com.event.security;\r\n\r\nimport io.jsonwebtoken.*;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Date;\r\n\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(JwtTokenProvider.class);\r\n\r\n    @Value(&quot;${jwtConfidentialCode}&quot;)\r\n    private String jwtConfidentialCode;\r\n\r\n    @Value(&quot;${jwtExpirationTimeInMs}&quot;)\r\n    private int jwtExpirationTimeInMs;\r\n\r\n    public String generateToken(Authentication authentication) {\r\n\r\n        SpringSecurityUser user = (SpringSecurityUser) authentication.getPrincipal();\r\n\r\n        Date now = new Date();\r\n        Date expiryDate = new Date(now.getTime() + jwtExpirationTimeInMs);\r\n\r\n        return Jwts.builder()\r\n                .setSubject(Integer.toString(user.getId()))\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(expiryDate)\r\n                .signWith(SignatureAlgorithm.HS512, jwtConfidentialCode)\r\n                .compact();\r\n    }\r\n\r\n    public Integer getUserIdFromJWT(String token) {\r\n        Claims claims = Jwts.parser()\r\n                .setSigningKey(jwtConfidentialCode)\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n\r\n        return Integer.parseInt(claims.getSubject());\r\n    }\r\n\r\n    public boolean validateToken(String authToken) {\r\n        try {\r\n            Jwts.parser().setSigningKey(jwtConfidentialCode).parseClaimsJws(authToken);\r\n            return true;\r\n        }catch (MalformedJwtException ex) {\r\n            logger.error(&quot;Invalid JWT token&quot;);\r\n        } catch (ExpiredJwtException ex) {\r\n            logger.error(&quot;Expired JWT token&quot;);\r\n        } catch (UnsupportedJwtException ex) {\r\n            logger.error(&quot;Unsupported JWT token&quot;);\r\n        } catch (IllegalArgumentException ex) {\r\n            logger.error(&quot;JWT claims string is empty.&quot;);\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```","title":"getting Anonymous User in SecurityContextHolder.getContext().getAuthentication().getPrincipal() using Spring Boot and JWT token based authentication","body":"<p>I am trying to fetch the User Id of a logged in User.\nI am using JWT based authentication.</p>\n\n<p>But each time I am getting anonymous user while executing SecurityContextHolder.getContext().getAuthentication().getPrincipal();</p>\n\n<p><strong>SecurityConfig.java</strong></p>\n\n<pre><code>package com.event.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        securedEnabled = true,\n        jsr250Enabled = true,\n        prePostEnabled = true\n)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n\n    @Autowired\n    private CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder\n                .userDetailsService(customUserDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .antMatchers(\"/auth/**\", \"/users/**\")\n                .permitAll()\n                .antMatchers(\"/api/user/checkUsernameAvailability\", \"/api/user/checkEmailAvailability\")\n                .permitAll()\n                .antMatchers(HttpMethod.GET, \"/events/**\", \"/users/**\",\"/blogs/**\")\n                .permitAll()\n                .antMatchers(HttpMethod.POST, \"/events/**\",\"/blogs/**\",\"/upload/**\")\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n    }\n}\n</code></pre>\n\n<p><strong>BlogController.java</strong></p>\n\n<pre><code>package com.event.controller;\n\nimport com.event.model.Blog;\nimport com.event.model.EventWithFile;\nimport com.event.service.BlogService;\nimport com.event.service.ImageService;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.http.MediaType;\n\nimport java.io.IOException;\nimport java.util.List;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n@RestController\npublic class BlogController {\n\n    @Autowired\n    private BlogService blogService;\n\n    @PostMapping(value = \"/blogs\")\n    private String createNewBlog(@RequestParam(\"event\") String model, @RequestParam(value = \"file\", required = false) MultipartFile file) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        Blog blog = mapper.readValue(model, Blog.class);\n        UserDetails user =(UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n        System.out.println(user.getUsername());\n        return \"Successfull\";\n    }\n    //TODO : Donot return objects return response Entity\n    @GetMapping(value = \"/blogs\")\n    private List&lt;Blog&gt; getBlogs(){\n\n        return blogService.getBlogs();\n    }\n\n}\n\n</code></pre>\n\n<p><strong>JWTAuthenticationFilter.java</strong></p>\n\n<pre><code>package com.event.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Autowired\n    private CustomUserDetailsService userDetailsService;\n\n    private Optional&lt;String&gt; getJWTStringFormRequest(HttpServletRequest httprequest) {\n        String bearerToken = httprequest.getHeader(\"Authorization\");\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(\"Bearer \")) {\n            return Optional.of(bearerToken.substring(7, bearerToken.length()));\n        }\n        return Optional.empty();\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        Optional&lt;String&gt; jwtString = getJWTStringFormRequest(request);\n        jwtString.ifPresent(string -&gt; {\n            Optional&lt;UserDetails&gt; userDetails = userDetailsService\n                    .loadUserByUserId(jwtTokenProvider.getUserIdFromJWT(string));\n            userDetails.ifPresent(user -&gt; {\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n                // No idea what the following line does\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            });\n        });\n\n        filterChain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n\n<p><strong>SpringSecurityUser.java</strong></p>\n\n<pre><code>package com.event.security;\n\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport com.event.model.User;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\npublic class SpringSecurityUser implements UserDetails{\n\n    private Integer id;\n\n    private User user;\n\n    private String username;\n\n    @JsonIgnore\n    private String password;\n\n    private List&lt;GrantedAuthority&gt; authorities;\n\n\n    public SpringSecurityUser(Integer id, User user, String username, String password,\n            List&lt;GrantedAuthority&gt; authorities) {\n        this.id = id;\n        this.user = user;\n        this.username = username;\n        this.password = password;\n        this.authorities = authorities;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n\n        return username;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n\n        return true;\n    }\n\n\n    public User getUser() {\n        return user;\n    }\n}\n\n</code></pre>\n\n<p><strong>JWTTokenProvider.java</strong></p>\n\n<pre><code>package com.event.security;\n\nimport io.jsonwebtoken.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Date;\n\n@Component\npublic class JwtTokenProvider {\n\n    private static final Logger logger = LoggerFactory.getLogger(JwtTokenProvider.class);\n\n    @Value(\"${jwtConfidentialCode}\")\n    private String jwtConfidentialCode;\n\n    @Value(\"${jwtExpirationTimeInMs}\")\n    private int jwtExpirationTimeInMs;\n\n    public String generateToken(Authentication authentication) {\n\n        SpringSecurityUser user = (SpringSecurityUser) authentication.getPrincipal();\n\n        Date now = new Date();\n        Date expiryDate = new Date(now.getTime() + jwtExpirationTimeInMs);\n\n        return Jwts.builder()\n                .setSubject(Integer.toString(user.getId()))\n                .setIssuedAt(new Date())\n                .setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, jwtConfidentialCode)\n                .compact();\n    }\n\n    public Integer getUserIdFromJWT(String token) {\n        Claims claims = Jwts.parser()\n                .setSigningKey(jwtConfidentialCode)\n                .parseClaimsJws(token)\n                .getBody();\n\n        return Integer.parseInt(claims.getSubject());\n    }\n\n    public boolean validateToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtConfidentialCode).parseClaimsJws(authToken);\n            return true;\n        }catch (MalformedJwtException ex) {\n            logger.error(\"Invalid JWT token\");\n        } catch (ExpiredJwtException ex) {\n            logger.error(\"Expired JWT token\");\n        } catch (UnsupportedJwtException ex) {\n            logger.error(\"Unsupported JWT token\");\n        } catch (IllegalArgumentException ex) {\n            logger.error(\"JWT claims string is empty.\");\n        }\n        return false;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682091117,"post_id":76074527,"comment_id":134166092,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15346935,"reputation":1,"user_id":11072024,"display_name":"FatimaNoori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682250734,"creation_date":1682250734,"answer_id":76084660,"question_id":76074527,"body_markdown":"To change the focus color for a TextField in Kotlin, you can set the focusedIndicatorColor property. Here&#39;s an example:\r\n\r\n       &lt;com.google.android.material.textfield.TextInputLayout\r\n    android:id=&quot;@+id/myTextFieldLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    app:hint=&quot;My TextField&quot;\r\n    app:focusedIndicatorColor=&quot;@color/my_focus_color&quot;&gt;\r\n    &lt;com.google.android.material.textfield.TextInputEditText\r\n        android:id=&quot;@+id/myTextField&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nIn the above code, we set the focusedIndicatorColor property of the TextInputLayout to a custom color defined in the my_focus_color resource.\r\n\r\nAlternatively, you can also set this property programmatically in Kotlin code:\r\n\r\n    val myTextFieldLayout = findViewById&lt;TextInputLayout&gt;(R.id.myTextFieldLayout)\r\nmyTextFieldLayout.setBoxStrokeColorResource(R.color.my_focus_color)\r\n\r\nIn the above code, we use the setBoxStrokeColorResource() method to set the focus color to my_focus_color.\r\n\r\nNote that the focusedIndicatorColor property was added in Material Components version 1.1.0. If you are using an older version, you can use the setBoxStrokeColor() method instead.","title":"How to change focus color for textfield in kotlin?","body":"<p>To change the focus color for a TextField in Kotlin, you can set the focusedIndicatorColor property. Here's an example:</p>\n<pre><code>   &lt;com.google.android.material.textfield.TextInputLayout\nandroid:id=&quot;@+id/myTextFieldLayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\napp:hint=&quot;My TextField&quot;\napp:focusedIndicatorColor=&quot;@color/my_focus_color&quot;&gt;\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:id=&quot;@+id/myTextField&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;/&gt;\n</code></pre>\n<p>&lt;/com.google.android.material.textfield.TextInputLayout&gt;</p>\n<p>In the above code, we set the focusedIndicatorColor property of the TextInputLayout to a custom color defined in the my_focus_color resource.</p>\n<p>Alternatively, you can also set this property programmatically in Kotlin code:</p>\n<pre><code>val myTextFieldLayout = findViewById&lt;TextInputLayout&gt;(R.id.myTextFieldLayout)\n</code></pre>\n<p>myTextFieldLayout.setBoxStrokeColorResource(R.color.my_focus_color)</p>\n<p>In the above code, we use the setBoxStrokeColorResource() method to set the focus color to my_focus_color.</p>\n<p>Note that the focusedIndicatorColor property was added in Material Components version 1.1.0. If you are using an older version, you can use the setBoxStrokeColor() method instead.</p>\n"}],"owner":{"account_id":6222673,"reputation":21,"user_id":4841886,"display_name":"Jimmy mapunya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682250734,"creation_date":1682090185,"question_id":76074527,"body_markdown":"I am not able to change the focus color for edittext\r\n\r\nTried using custom edittext, but the colour remain red. ","title":"How to change focus color for textfield in kotlin?","body":"<p>I am not able to change the focus color for edittext</p>\n<p>Tried using custom edittext, but the colour remain red.</p>\n"},{"tags":["java","android","firebase","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15346935,"reputation":1,"user_id":11072024,"display_name":"FatimaNoori"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1682250060,"creation_date":1682250060,"answer_id":76084621,"question_id":76082459,"body_markdown":"1. Try using a VPN.\r\n2. Invalidate cache and restart (VPN must be connected during restarting).\r\n3. Check if the library version is compatible with your Gradle version.","title":"Plugin [id: &#39;com.google.gms.google-services&#39;, version: &#39;4.3.15&#39;, apply: false] was not found in any of the following sources:","body":"<ol>\n<li>Try using a VPN.</li>\n<li>Invalidate cache and restart (VPN must be connected during restarting).</li>\n<li>Check if the library version is compatible with your Gradle version.</li>\n</ol>\n"}],"owner":{"account_id":24748451,"reputation":9,"user_id":18634316,"display_name":"Kossy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682250060,"creation_date":1682207229,"question_id":76082459,"body_markdown":"I&#39;m trying to clone a repository on github, but keep getting this error.\r\nThe project in the Repo has firebase included in it, I don&#39;t know if this has any connection to the problem.\r\n\r\nPlease help me guys, I have tried all the solutions I have seen here on github, but none seems to work at all.\r\n\r\nthis is the error I get while trying to clone it:\r\n\r\n\r\n```\r\nBuild file &#39;/Users/mac/AndroidStudioProjects/UnterRideshare2/build.gradle.kts&#39; line: 7\r\n\r\nPlugin [id: &#39;com.google.gms.google-services&#39;, version: &#39;4.3.15&#39;, apply: false] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.google.gms.google-services&#39;, version: &#39;4.3.15&#39;, apply: false] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.google.gms.google-services:com.google.gms.google-services.gradle.plugin:4.3.15&#39;)\r\n  Searched in the following repositories:\r\n    Google\r\n    Gradle Central Plugin Repository\r\n    MavenRepo\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\r\n\tat org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\r\n\tat org.gradle.kotlin.dsl.provider.PluginRequestsHandler.handle(PluginRequestsHandler.kt:48)\r\n\tat org.gradle.kotlin.dsl.provider.StandardKotlinScriptEvaluator$InterpreterHost.applyPluginsTo(KotlinScriptEvaluator.kt:195)\r\n\tat org.gradle.kotlin.dsl.execution.Interpreter$ProgramHost.applyPluginsTo(Interpreter.kt:398)\r\n\tat Program.execute(Unknown Source)\r\n\r\n\r\n\r\n```\r\n\r\n\r\nthis is the content of my root gradle,\r\n\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath (&quot;com.google.gms:google-services:4.3.15&quot;)\r\n    }\r\n}\r\n\r\nplugins {\r\n    //trick: for the same plugin versions in all sub-modules\r\n    id(&quot;com.google.gms.google-services&quot;).version(&quot;4.3.15&quot;).apply(false)\r\n    id(&quot;com.android.application&quot;).version(&quot;7.4.0&quot;).apply(false)\r\n    id(&quot;com.android.library&quot;).version(&quot;7.4.0&quot;).apply(false)\r\n    kotlin(&quot;android&quot;).version(&quot;1.7.10&quot;).apply(false)\r\n    kotlin(&quot;multiplatform&quot;).version(&quot;1.7.10&quot;).apply(false)\r\n    id(&quot;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&quot;).version(&quot;2.0.1&quot;).apply(false)\r\n\r\n}\r\n\r\ntasks.register(&quot;clean&quot;, Delete::class) {\r\n    delete(rootProject.buildDir)\r\n}\r\n\r\n```\r\n\r\nWould really appreciate your help.\r\n\r\n","title":"Plugin [id: &#39;com.google.gms.google-services&#39;, version: &#39;4.3.15&#39;, apply: false] was not found in any of the following sources:","body":"<p>I'm trying to clone a repository on github, but keep getting this error.\nThe project in the Repo has firebase included in it, I don't know if this has any connection to the problem.</p>\n<p>Please help me guys, I have tried all the solutions I have seen here on github, but none seems to work at all.</p>\n<p>this is the error I get while trying to clone it:</p>\n<pre><code>Build file '/Users/mac/AndroidStudioProjects/UnterRideshare2/build.gradle.kts' line: 7\n\nPlugin [id: 'com.google.gms.google-services', version: '4.3.15', apply: false] was not found in any of the following sources:\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.google.gms.google-services', version: '4.3.15', apply: false] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.google.gms.google-services:com.google.gms.google-services.gradle.plugin:4.3.15')\n  Searched in the following repositories:\n    Google\n    Gradle Central Plugin Repository\n    MavenRepo\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolveToFoundResult(DefaultPluginRequestApplicator.java:238)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$resolvePluginRequests$3(DefaultPluginRequestApplicator.java:168)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:207)\n    at org.gradle.util.internal.CollectionUtils.collect(CollectionUtils.java:201)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.resolvePluginRequests(DefaultPluginRequestApplicator.java:166)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:101)\n    at org.gradle.kotlin.dsl.provider.PluginRequestsHandler.handle(PluginRequestsHandler.kt:48)\n    at org.gradle.kotlin.dsl.provider.StandardKotlinScriptEvaluator$InterpreterHost.applyPluginsTo(KotlinScriptEvaluator.kt:195)\n    at org.gradle.kotlin.dsl.execution.Interpreter$ProgramHost.applyPluginsTo(Interpreter.kt:398)\n    at Program.execute(Unknown Source)\n\n\n\n</code></pre>\n<p>this is the content of my root gradle,</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath (&quot;com.google.gms:google-services:4.3.15&quot;)\n    }\n}\n\nplugins {\n    //trick: for the same plugin versions in all sub-modules\n    id(&quot;com.google.gms.google-services&quot;).version(&quot;4.3.15&quot;).apply(false)\n    id(&quot;com.android.application&quot;).version(&quot;7.4.0&quot;).apply(false)\n    id(&quot;com.android.library&quot;).version(&quot;7.4.0&quot;).apply(false)\n    kotlin(&quot;android&quot;).version(&quot;1.7.10&quot;).apply(false)\n    kotlin(&quot;multiplatform&quot;).version(&quot;1.7.10&quot;).apply(false)\n    id(&quot;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&quot;).version(&quot;2.0.1&quot;).apply(false)\n\n}\n\ntasks.register(&quot;clean&quot;, Delete::class) {\n    delete(rootProject.buildDir)\n}\n\n</code></pre>\n<p>Would really appreciate your help.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1682247742,"post_id":76084353,"comment_id":134182226,"body_markdown":"@user\ngot it working after changing `args` to `vmArgs` in `launch.json` !!","body":"@user got it working after changing <code>args</code> to <code>vmArgs</code> in <code>launch.json</code> !!"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682249664,"creation_date":1682249664,"answer_id":76084588,"question_id":76084353,"body_markdown":"You should be putting `--enable-preview` in the `vmArgs` field of your launch.json instead of the `args` field. `args` is passed to the program. `vmArgs` is passed to the [VM](https://en.wikipedia.org/wiki/Java_virtual_machine).","title":"How to enable JDK 20 preview features in vscode settings.json?","body":"<p>You should be putting <code>--enable-preview</code> in the <code>vmArgs</code> field of your launch.json instead of the <code>args</code> field. <code>args</code> is passed to the program. <code>vmArgs</code> is passed to the <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">VM</a>.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76084588,"answer_count":1,"score":0,"last_activity_date":1682249704,"creation_date":1682246189,"question_id":76084353,"body_markdown":"I tried with the below settings.json changes:\r\n\r\n```json\r\n{\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;JavaSE-20&quot;,\r\n          &quot;path&quot;: &quot;/Users/rahulraj/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home&quot;,\r\n          &quot;default&quot;: true,\r\n          &quot;vmargs&quot;: [ &quot;--enable-preview&quot; ]\r\n        },\r\n      ],\r\n}\r\n```\r\n\r\nBut it is still giving an error while trying to run a virtual thread code:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: Preview Features not enabled, need to run with --enable-preview\r\n        at java.base/jdk.internal.misc.PreviewFeatures.ensureEnabled(PreviewFeatures.java:49)\r\n        at java.base/java.lang.Thread.ofVirtual(Thread.java:859)\r\n        at Test.main(Test.java:21)\r\n```\r\n\r\nHere is the path to `settings.json`:\r\n`~/Library/Application Support/Code/User/settings.json`\r\n\r\nThe changes in `settings.json` seems to be correct and JDK path also seems to be correct. So, I&#39;m not really understanding where exactly it is going wrong here.\r\n\r\nHere is my `launch.json`:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;VirtualThread_c7b22327&quot;,\r\n            &quot;args&quot;: [&quot;--enable-preview&quot;]\r\n        }\r\n    ]\r\n}\r\n```","title":"How to enable JDK 20 preview features in vscode settings.json?","body":"<p>I tried with the below settings.json changes:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;java.configuration.runtimes&quot;: [\n        {\n          &quot;name&quot;: &quot;JavaSE-20&quot;,\n          &quot;path&quot;: &quot;/Users/rahulraj/Library/Java/JavaVirtualMachines/openjdk-20.0.1/Contents/Home&quot;,\n          &quot;default&quot;: true,\n          &quot;vmargs&quot;: [ &quot;--enable-preview&quot; ]\n        },\n      ],\n}\n</code></pre>\n<p>But it is still giving an error while trying to run a virtual thread code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Preview Features not enabled, need to run with --enable-preview\n        at java.base/jdk.internal.misc.PreviewFeatures.ensureEnabled(PreviewFeatures.java:49)\n        at java.base/java.lang.Thread.ofVirtual(Thread.java:859)\n        at Test.main(Test.java:21)\n</code></pre>\n<p>Here is the path to <code>settings.json</code>:\n<code>~/Library/Application Support/Code/User/settings.json</code></p>\n<p>The changes in <code>settings.json</code> seems to be correct and JDK path also seems to be correct. So, I'm not really understanding where exactly it is going wrong here.</p>\n<p>Here is my <code>launch.json</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Current File&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        },\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;App&quot;,\n            &quot;projectName&quot;: &quot;VirtualThread_c7b22327&quot;,\n            &quot;args&quot;: [&quot;--enable-preview&quot;]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","image","pdf","itext","tiff"],"answers":[{"tags":[],"owner":{"account_id":1839539,"reputation":1207,"user_id":1669243,"accept_rate":17,"display_name":"JosephA"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1563758375,"creation_date":1563758375,"answer_id":57138188,"question_id":53174654,"body_markdown":"PDF images are **not** TIFF images.\n\nPDFs however can contain images that use compression techniques that are **also** used in TIFF, e.g. Flate, CCITT, LZW, JPEG.","title":"Extract TIFF images from PDF without decoding","body":"<p>PDF images are <strong>not</strong> TIFF images.</p>\n\n<p>PDFs however can contain images that use compression techniques that are <strong>also</strong> used in TIFF, e.g. Flate, CCITT, LZW, JPEG.</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682249503,"creation_date":1682085515,"answer_id":76073899,"question_id":53174654,"body_markdown":"By far the simplest is to shell out to the OS and use (Debian manual)[pdfimages](https://manpages.debian.org/testing/poppler-utils/pdfimages.1.en.html) from any recent poppler utils package  \r\n\r\nFor windows they are at https://github.com/oschwartz10612/poppler-windows  \r\nother versions may have different output abilities.\r\n\r\npoppler/bin&gt; `pdfimages -tiff in.pdf out`\r\n\r\nThis will (/should) extract all images as colour.tif or mono.tif using names such as `out-000.tif etc` however note it is normal for single colour masks to look reversed as that&#39;s often how they are stored in a PDF  \r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nAlso the Mono tiff will be as requested at a comparative density so a source at nominal 300 dpi resolution on paper will export as lossless mono uncompressed tiff with a PDF nominal density of 72dpi. Exactly correct number of pixels, however appear to be larger in scale, and seem to be different colour.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jSpoh.png\r\n  [2]: https://i.stack.imgur.com/NcFfJ.png\r\n  [3]: https://i.stack.imgur.com/5Mq99.png","title":"Extract TIFF images from PDF without decoding","body":"<p>By far the simplest is to shell out to the OS and use (Debian manual)<a href=\"https://manpages.debian.org/testing/poppler-utils/pdfimages.1.en.html\" rel=\"nofollow noreferrer\">pdfimages</a> from any recent poppler utils package</p>\n<p>For windows they are at <a href=\"https://github.com/oschwartz10612/poppler-windows\" rel=\"nofollow noreferrer\">https://github.com/oschwartz10612/poppler-windows</a><br />\nother versions may have different output abilities.</p>\n<p>poppler/bin&gt; <code>pdfimages -tiff in.pdf out</code></p>\n<p>This will (/should) extract all images as colour.tif or mono.tif using names such as <code>out-000.tif etc</code> however note it is normal for single colour masks to look reversed as that's often how they are stored in a PDF</p>\n<p><a href=\"https://i.stack.imgur.com/NcFfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcFfJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/5Mq99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Mq99.png\" alt=\"enter image description here\" /></a></p>\n<p>Also the Mono tiff will be as requested at a comparative density so a source at nominal 300 dpi resolution on paper will export as lossless mono uncompressed tiff with a PDF nominal density of 72dpi. Exactly correct number of pixels, however appear to be larger in scale, and seem to be different colour.</p>\n<p><a href=\"https://i.stack.imgur.com/jSpoh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSpoh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1682249503,"creation_date":1541517023,"question_id":53174654,"body_markdown":"With the help of iText 5 I would like to extract all TIFF images from given PDF file and save them as TIFF files.\r\nExamples and other posts ([1](https://developers.itextpdf.com/examples/image-examples-itext5/reduce-image), [2](https://stackoverflow.com/a/7611044/267197)) use the following method:\r\n\r\n1. Create `PdfImageObject` from PDF stream which in [line 189](https://github.com/itext/itextpdf/blob/b5807a839ab5bc3725f1dc1924cb947e072e0a7c/itext/src/main/java/com/itextpdf/text/pdf/parser/PdfImageObject.java#L189) decodes the image stream (if corresponding filter implementation is present).\r\n2. Call [`PdfImageObject#getImageAsBytes()`](https://github.com/itext/itextpdf/blob/b5807a839ab5bc3725f1dc1924cb947e072e0a7c/itext/src/main/java/com/itextpdf/text/pdf/parser/PdfImageObject.java#L391) which returns JPEG (original), PNG (re-encoded) or TIFF (in case of 8 bits per pixel).\r\n\r\nAs a result TIFF image with 1 bit color depth is converted to PNG, which is not what I need.\r\n\r\nAnother approach would be to call `PdfImageObject#getBufferedImage()` which will decode the image in step (2) into raster and afterwards encode it again as TIFF using `ImageIO.write(bufferedImage, &quot;tiff&quot;, file)`.\r\n\r\nAs one can see this is not efficient. Another solution shown in [this post](https://stackoverflow.com/a/34555343/267197) demonstrates how to save encoded TIFF image stream to file by prepending it a TIFF header – that is the solution I am looking for.\r\n\r\nCan iText help here?","title":"Extract TIFF images from PDF without decoding","body":"<p>With the help of iText 5 I would like to extract all TIFF images from given PDF file and save them as TIFF files.\nExamples and other posts (<a href=\"https://developers.itextpdf.com/examples/image-examples-itext5/reduce-image\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://stackoverflow.com/a/7611044/267197\">2</a>) use the following method:</p>\n\n<ol>\n<li>Create <code>PdfImageObject</code> from PDF stream which in <a href=\"https://github.com/itext/itextpdf/blob/b5807a839ab5bc3725f1dc1924cb947e072e0a7c/itext/src/main/java/com/itextpdf/text/pdf/parser/PdfImageObject.java#L189\" rel=\"nofollow noreferrer\">line 189</a> decodes the image stream (if corresponding filter implementation is present).</li>\n<li>Call <a href=\"https://github.com/itext/itextpdf/blob/b5807a839ab5bc3725f1dc1924cb947e072e0a7c/itext/src/main/java/com/itextpdf/text/pdf/parser/PdfImageObject.java#L391\" rel=\"nofollow noreferrer\"><code>PdfImageObject#getImageAsBytes()</code></a> which returns JPEG (original), PNG (re-encoded) or TIFF (in case of 8 bits per pixel).</li>\n</ol>\n\n<p>As a result TIFF image with 1 bit color depth is converted to PNG, which is not what I need.</p>\n\n<p>Another approach would be to call <code>PdfImageObject#getBufferedImage()</code> which will decode the image in step (2) into raster and afterwards encode it again as TIFF using <code>ImageIO.write(bufferedImage, \"tiff\", file)</code>.</p>\n\n<p>As one can see this is not efficient. Another solution shown in <a href=\"https://stackoverflow.com/a/34555343/267197\">this post</a> demonstrates how to save encoded TIFF image stream to file by prepending it a TIFF header – that is the solution I am looking for.</p>\n\n<p>Can iText help here?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"score":0,"creation_date":1682232352,"post_id":76083445,"comment_id":134180767,"body_markdown":"Share the crash message also.","body":"Share the crash message also."},{"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1682235551,"post_id":76083445,"comment_id":134181024,"body_markdown":"Please post the error/crash message.","body":"Please post the error/crash message."},{"owner":{"account_id":22374219,"reputation":105,"user_id":16609051,"display_name":"Bitchdragon"},"score":0,"creation_date":1682245091,"post_id":76083445,"comment_id":134181924,"body_markdown":"already posted it","body":"already posted it"},{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":1,"creation_date":1682246139,"post_id":76083445,"comment_id":134182033,"body_markdown":"do not post images of text","body":"do not post images of text"}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682249247,"creation_date":1682249247,"answer_id":76084556,"question_id":76083445,"body_markdown":"Remove this from the `&lt;application&gt;` declaration in the manifest:\r\n\r\n    android:name=&quot;.MainActivity&quot;\r\n\r\nYou only need to specify the `android:name` if you are providing a custom implementation of the `Application` class. The error you are getting says that it is failing trying to cast an instance of `MainActivity` to `Application` because `MainActivity` isn&#39;t a subclass of `Application`.\r\n\r\n\r\n\r\n","title":"Why does android studio crash the app before launch?","body":"<p>Remove this from the <code>&lt;application&gt;</code> declaration in the manifest:</p>\n<pre><code>android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p>You only need to specify the <code>android:name</code> if you are providing a custom implementation of the <code>Application</code> class. The error you are getting says that it is failing trying to cast an instance of <code>MainActivity</code> to <code>Application</code> because <code>MainActivity</code> isn't a subclass of <code>Application</code>.</p>\n"}],"owner":{"account_id":22374219,"reputation":105,"user_id":16609051,"display_name":"Bitchdragon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1682249247,"creation_date":1682231546,"question_id":76083445,"body_markdown":"Just started learning Android Studio. Faced a problem: my application crashes before launch. I don&#39;t understand what is the reason for this. Please tell me.\r\n\r\n&gt; AndroidManifest.xml\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.login&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n&gt; MainActivity.java\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\npublic class MainActivity {\r\n    public static void main(String[] args) {\r\n\r\n\r\n    }\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n&gt; UPD: Error msg\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dxlq8.png\r\n  [2]: https://i.stack.imgur.com/iKoVv.png","title":"Why does android studio crash the app before launch?","body":"<p>Just started learning Android Studio. Faced a problem: my application crashes before launch. I don't understand what is the reason for this. Please tell me.</p>\n<blockquote>\n<p>AndroidManifest.xml</p>\n</blockquote>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:name=&quot;.MainActivity&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot; &gt;\n        &lt;activity\n            android:name=&quot;.login&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<blockquote>\n<p>MainActivity.java</p>\n</blockquote>\n<pre><code>package com.example.myapplication;\n\npublic class MainActivity {\n    public static void main(String[] args) {\n\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dxlq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxlq8.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>UPD: Error msg</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/iKoVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iKoVv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mapstruct"],"owner":{"account_id":4718218,"reputation":113,"user_id":3816852,"display_name":"UnnameDSoS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682248955,"creation_date":1682248955,"question_id":76084539,"body_markdown":"\r\nI want to map subfields of the Optional object to a none Optional object and use also formatting.\r\n\r\nThese are not small classes to write the mappings all by hand...\r\n\r\nI did try to take the object out, using the @named, however it still can not find the object using the source attribute in the @mapping, it gives only the option of &quot;present&quot; or &quot;empty&quot; which are boolean in the source attribute.\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A implements java.io.Serializable, Comparable&lt;A&gt; {\r\n....\r\n\r\n\t@Embedded\r\n\tprivate AApproval approval;\r\n\t\r\n...\r\ngetters setters\r\n\r\n\r\n//THIS IS IMPORTANT, getter is optional !!!\r\n\tpublic Optional&lt;AApproval&gt; getApproval() {\r\n\t\treturn Optional.ofNullable(approval);\r\n\t}\r\n}\r\n```\r\n```\r\n@Embeddable\r\npublic class AApproval {\r\n....\r\n\t@Basic\r\n\t@Column(name = &quot;approval_date&quot;, nullable = true)\r\n\tprivate LocalDateTime approvalDate;\r\n.....\r\ngetters setter toString ....\r\n}\r\n```\r\n\r\nwant to map to this\r\n```\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-04-23T12:23:23.456347+02:00[Europe/NA]&quot;)\r\n\r\npublic class A   {\r\n....\r\n\r\n  @JsonProperty(&quot;approval&quot;)\r\n  private AApproval approval = null;\r\n\r\ngetter setters...\r\n}\r\n```\r\n```\r\npublic class AApproval   {\r\n\r\n...\r\n\r\n  @JsonProperty(&quot;approvalDate&quot;)\r\n  private String approvalDate;\r\n\r\n...\r\n\r\n\r\n  public AApproval approvalDate(String approvalDate) {\r\n    this.approvalDate = approvalDate;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get approvalDate\r\n   * @return approvalDate\r\n  */\r\n  @ApiModelProperty(example = &quot;20230228125959&quot;, value = &quot;&quot;)\r\n\r\n\r\n  public String getApprovalDate() {\r\n    return approvalDate;\r\n  }\r\n\r\n  public void setApprovalDate(String approvalDate) {\r\n    this.approvalDate = approvalDate;\r\n  }\r\n}\r\n```\r\nand mapper:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface AMapper {\r\n\t@Mappings({\r\n\t\t\t\r\n\t\t\t@Mapping(target = &quot;plannedDate&quot;, source = &quot;plannedTime&quot;, dateFormat = MiscUtil.YYYY_MM_DD),\r\n\t\t\t@Mapping(target = &quot;approval.approvalDate&quot;, source = &quot;approval.approvalDate&quot;, dateFormat = MiscUtil.yyyyMMdd_HHmmss),\r\n\t\t\t...... })\r\n\tA toModel(somepackages.other.A source);\r\n\r\n}\r\n```\r\nalso already tried to do this but still fails to generate \r\n```\r\n\t@Named(&quot;unwrap&quot;)\r\n\t@Mapping(target = &quot;approvalDate&quot;, source = &quot;approvalDate&quot;, dateFormat = MiscUtil.yyyyMMdd_HHmmss)\r\n\tdefault AApproval approval(Optional&lt;somepackages.other.AApproval&gt; optional) {\r\n\r\n\t}\r\n```\r\n\r\nI have seen [this][1] not exactly what I am looking for.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/58313504/3816852","title":"MapStruct map Optional Object to none optional fields and also use formatting","body":"<p>I want to map subfields of the Optional object to a none Optional object and use also formatting.</p>\n<p>These are not small classes to write the mappings all by hand...</p>\n<p>I did try to take the object out, using the @named, however it still can not find the object using the source attribute in the @mapping, it gives only the option of &quot;present&quot; or &quot;empty&quot; which are boolean in the source attribute.</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A implements java.io.Serializable, Comparable&lt;A&gt; {\n....\n\n    @Embedded\n    private AApproval approval;\n    \n...\ngetters setters\n\n\n//THIS IS IMPORTANT, getter is optional !!!\n    public Optional&lt;AApproval&gt; getApproval() {\n        return Optional.ofNullable(approval);\n    }\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class AApproval {\n....\n    @Basic\n    @Column(name = &quot;approval_date&quot;, nullable = true)\n    private LocalDateTime approvalDate;\n.....\ngetters setter toString ....\n}\n</code></pre>\n<p>want to map to this</p>\n<pre><code>@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-04-23T12:23:23.456347+02:00[Europe/NA]&quot;)\n\npublic class A   {\n....\n\n  @JsonProperty(&quot;approval&quot;)\n  private AApproval approval = null;\n\ngetter setters...\n}\n</code></pre>\n<pre><code>public class AApproval   {\n\n...\n\n  @JsonProperty(&quot;approvalDate&quot;)\n  private String approvalDate;\n\n...\n\n\n  public AApproval approvalDate(String approvalDate) {\n    this.approvalDate = approvalDate;\n    return this;\n  }\n\n  /**\n   * Get approvalDate\n   * @return approvalDate\n  */\n  @ApiModelProperty(example = &quot;20230228125959&quot;, value = &quot;&quot;)\n\n\n  public String getApprovalDate() {\n    return approvalDate;\n  }\n\n  public void setApprovalDate(String approvalDate) {\n    this.approvalDate = approvalDate;\n  }\n}\n</code></pre>\n<p>and mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface AMapper {\n    @Mappings({\n            \n            @Mapping(target = &quot;plannedDate&quot;, source = &quot;plannedTime&quot;, dateFormat = MiscUtil.YYYY_MM_DD),\n            @Mapping(target = &quot;approval.approvalDate&quot;, source = &quot;approval.approvalDate&quot;, dateFormat = MiscUtil.yyyyMMdd_HHmmss),\n            ...... })\n    A toModel(somepackages.other.A source);\n\n}\n</code></pre>\n<p>also already tried to do this but still fails to generate</p>\n<pre><code>    @Named(&quot;unwrap&quot;)\n    @Mapping(target = &quot;approvalDate&quot;, source = &quot;approvalDate&quot;, dateFormat = MiscUtil.yyyyMMdd_HHmmss)\n    default AApproval approval(Optional&lt;somepackages.other.AApproval&gt; optional) {\n\n    }\n</code></pre>\n<p>I have seen <a href=\"https://stackoverflow.com/a/58313504/3816852\">this</a> not exactly what I am looking for.</p>\n"},{"tags":["java","spring-boot","openapi","spring-annotations"],"owner":{"account_id":19842768,"reputation":1,"user_id":14535052,"display_name":"kamilslaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682248846,"creation_date":1682248846,"question_id":76084531,"body_markdown":"I was asked to generate the following OpenAPI definition in the Spring Boot:\r\n```json\r\n&quot;responses&quot;: {\r\n  &quot;200&quot;: {\r\n    &quot;description&quot;: &quot;Successful operation&quot;,\r\n    &quot;content&quot;: {\r\n      &quot;application/json&quot;: {\r\n        &quot;schema&quot;: {\r\n          &quot;$ref&quot;: &quot;#/components/schemas/Entities&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n...\r\n&quot;components&quot;: {\r\n  &quot;schemas&quot;: {\r\n    &quot;Entities&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;description&quot;: &quot;Some description&quot;,\r\n      &quot;items&quot;: {\r\n        &quot;$ref&quot;: &quot;#/components/schemas/Entity&quot;\r\n      }\r\n    },\r\n    &quot;Entity&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      ...\r\n    }\r\n  }\r\n}\r\n```\r\nThe type returned by a controller is `List&lt;Entity&gt;`, so it is the JSON array with no surrounding object:\r\n```json\r\n[{}, {}, {}]\r\n```\r\n\r\nHow can I make it? Is it possible to generate it using the annotations only?\r\n\r\n\r\nI was trying to achieve it with the following annotation:\r\n\r\n```java\r\n@PostMapping(&quot;/entities&quot;)\r\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;, content = {\r\n       @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                array = @ArraySchema(schema = @Schema(name = &quot;Entities&quot;,\r\n                                                      description = &quot;Some description&quot;,\r\n                                                      implementation = Entity.class)))\r\n    })\r\npublic List&lt;Entity&gt; getEntities() { ... }\r\n```\r\n\r\nbut what I get is the direct Entity #ref in the *responses* block, without the `Entities` scheme and &quot;*Some description*&quot;:\r\n\r\n```json\r\nresponses&quot;: {\r\n  &quot;200&quot;: {\r\n    &quot;description&quot;: &quot;Successful operation&quot;,\r\n    &quot;content&quot;: {\r\n      &quot;application/json&quot;: {\r\n        &quot;schema&quot;: {\r\n          &quot;type&quot;: &quot;array&quot;,\r\n          &quot;items&quot;: {\r\n            &quot;$ref&quot;: &quot;#/components/schemas/Entity&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n...\r\n&quot;components&quot;: {\r\n  &quot;schemas&quot;: {\r\n    &quot;Entity&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      ...\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Generating type #ref for List&lt;&gt; response in Spring Boot OpenAPI","body":"<p>I was asked to generate the following OpenAPI definition in the Spring Boot:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;responses&quot;: {\n  &quot;200&quot;: {\n    &quot;description&quot;: &quot;Successful operation&quot;,\n    &quot;content&quot;: {\n      &quot;application/json&quot;: {\n        &quot;schema&quot;: {\n          &quot;$ref&quot;: &quot;#/components/schemas/Entities&quot;\n        }\n      }\n    }\n  }\n}\n...\n&quot;components&quot;: {\n  &quot;schemas&quot;: {\n    &quot;Entities&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;description&quot;: &quot;Some description&quot;,\n      &quot;items&quot;: {\n        &quot;$ref&quot;: &quot;#/components/schemas/Entity&quot;\n      }\n    },\n    &quot;Entity&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      ...\n    }\n  }\n}\n</code></pre>\n<p>The type returned by a controller is <code>List&lt;Entity&gt;</code>, so it is the JSON array with no surrounding object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{}, {}, {}]\n</code></pre>\n<p>How can I make it? Is it possible to generate it using the annotations only?</p>\n<p>I was trying to achieve it with the following annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/entities&quot;)\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successful operation&quot;, content = {\n       @Content(mediaType = MediaType.APPLICATION_JSON_VALUE,\n                array = @ArraySchema(schema = @Schema(name = &quot;Entities&quot;,\n                                                      description = &quot;Some description&quot;,\n                                                      implementation = Entity.class)))\n    })\npublic List&lt;Entity&gt; getEntities() { ... }\n</code></pre>\n<p>but what I get is the direct Entity #ref in the <em>responses</em> block, without the <code>Entities</code> scheme and &quot;<em>Some description</em>&quot;:</p>\n<pre class=\"lang-json prettyprint-override\"><code>responses&quot;: {\n  &quot;200&quot;: {\n    &quot;description&quot;: &quot;Successful operation&quot;,\n    &quot;content&quot;: {\n      &quot;application/json&quot;: {\n        &quot;schema&quot;: {\n          &quot;type&quot;: &quot;array&quot;,\n          &quot;items&quot;: {\n            &quot;$ref&quot;: &quot;#/components/schemas/Entity&quot;\n          }\n        }\n      }\n    }\n  }\n}\n...\n&quot;components&quot;: {\n  &quot;schemas&quot;: {\n    &quot;Entity&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      ...\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","tcp","network-programming","pcap4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682247318,"post_id":76083842,"comment_id":134182176,"body_markdown":"Why is the destination port the same as the source port at the same address?","body":"Why is the destination port the same as the source port at the same address?"},{"owner":{"account_id":23932398,"reputation":1,"user_id":17926692,"display_name":"Cường Nguyễn Mạnh"},"score":0,"creation_date":1682247401,"post_id":76083842,"comment_id":134182181,"body_markdown":"i use 12345 and 12346 for 2 ports, i only want to send a simple packet for an address. please helpme","body":"i use 12345 and 12346 for 2 ports, i only want to send a simple packet for an address. please helpme"},{"owner":{"account_id":23932398,"reputation":1,"user_id":17926692,"display_name":"Cường Nguyễn Mạnh"},"score":0,"creation_date":1682247499,"post_id":76083842,"comment_id":134182195,"body_markdown":"I am looking up for some library jar has short and sweeet code . like scapy :((((","body":"I am looking up for some library jar has short and sweeet code . like scapy :(((("},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682247689,"post_id":76083842,"comment_id":134182219,"body_markdown":"Sorry - my mistake. I read them as the same port. You&#39;d be better to post the *full* stack trace (formatted as code)","body":"Sorry - my mistake. I read them as the same port. You&#39;d be better to post the <i>full</i> stack trace (formatted as code)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682248400,"post_id":76083842,"comment_id":134182299,"body_markdown":"Interesting to see the source code, but not what I requested ;)","body":"Interesting to see the source code, but not what I requested ;)"},{"owner":{"account_id":23932398,"reputation":1,"user_id":17926692,"display_name":"Cường Nguyễn Mạnh"},"score":0,"creation_date":1682248941,"post_id":76083842,"comment_id":134182357,"body_markdown":"I also install the pcap4j sample in maven central, it still got Error, is it deprecated ?","body":"I also install the pcap4j sample in maven central, it still got Error, is it deprecated ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682249037,"post_id":76083842,"comment_id":134182363,"body_markdown":"Did you try using non-promiscuous mode?","body":"Did you try using non-promiscuous mode?"},{"owner":{"account_id":23932398,"reputation":1,"user_id":17926692,"display_name":"Cường Nguyễn Mạnh"},"score":0,"creation_date":1682250368,"post_id":76083842,"comment_id":134182490,"body_markdown":"Yes, g00se, but result is constant","body":"Yes, g00se, but result is constant"}],"owner":{"account_id":23932398,"reputation":1,"user_id":17926692,"display_name":"Cường Nguyễn Mạnh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682248813,"creation_date":1682238711,"question_id":76083842,"body_markdown":"I got \r\nPacketSendPacket failed: The request is not supported.  (50)\r\n\r\nWhile i try to send a simple packet to loopback\r\n\r\n\r\n```\r\nimport org.pcap4j.core.PcapHandle;\r\nimport org.pcap4j.core.PcapNetworkInterface;\r\nimport org.pcap4j.core.Pcaps;\r\nimport org.pcap4j.packet.Packet;\r\nimport org.pcap4j.packet.TcpPacket;\r\nimport org.pcap4j.packet.namednumber.TcpPort;\r\n\r\nimport java.net.InetAddress;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws Exception {\r\n        PcapNetworkInterface nif = Pcaps.getDevByAddress(InetAddress.getLoopbackAddress());\r\n\r\n        int snaplen = 65536;\r\n        int timeout = 10;\r\n        PcapHandle handle = nif.openLive(snaplen, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, timeout);\r\n\r\n        TcpPort srcPort = TcpPort.getInstance((short) 12345);\r\n        TcpPort dstPort = TcpPort.getInstance((short) 12346);\r\n\r\n        TcpPacket.Builder tcpBuilder = new TcpPacket.Builder();\r\n        tcpBuilder.srcPort(srcPort)\r\n                .dstPort(dstPort)\r\n                .acknowledgmentNumber(1)\r\n                .sequenceNumber(1)\r\n                .window((byte) 100)\r\n                .padding(&quot;123123123&quot;.getBytes());\r\n\r\n        Packet tcpPacket = tcpBuilder.build();\r\n\r\n        handle.sendPacket(tcpPacket); // PcapNativeException, request not supported (50)\r\n        handle.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am using pcap4j: 1.8.2\r\n\r\nplease correct me // suggest me some library friendly, easy to use for beginner, like scapy/python\r\n\r\n\r\n\r\nUpdate:\r\n\r\nI got Ex at:\r\n\r\n    int rc = NativeMappings.pcap_sendpacket(handle, bytes, len);\r\n    if (rc &lt; 0) {\r\n        throw new PcapNativeException(&quot;Error occurred in              \r\n                pcap_sendpacket(): &quot; + getError(), rc);\r\n    }\r\n\r\n\r\nand NativeMappings.pcap_sendpacket was define with native keyword:\r\n\r\n    static native int pcap_sendpacket(Pointer p, byte[] buf, int size);\r\n\r\n    Exception in thread &quot;main&quot; org.pcap4j.core.PcapNativeException: \r\n    Error occurred in pcap_sendpacket(): send error: PacketSendPacket \r\n        failed: \r\n    The request is not supported.  (50)\r\n\r\n\tat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1046)\r\n\tat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1017)\r\n\tat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1007)\r\n\tat Test.main(Test.java:31)","title":"Java - Send a TCP packet to loopback address using pcap4j","body":"<p>I got\nPacketSendPacket failed: The request is not supported.  (50)</p>\n<p>While i try to send a simple packet to loopback</p>\n<pre><code>import org.pcap4j.core.PcapHandle;\nimport org.pcap4j.core.PcapNetworkInterface;\nimport org.pcap4j.core.Pcaps;\nimport org.pcap4j.packet.Packet;\nimport org.pcap4j.packet.TcpPacket;\nimport org.pcap4j.packet.namednumber.TcpPort;\n\nimport java.net.InetAddress;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        PcapNetworkInterface nif = Pcaps.getDevByAddress(InetAddress.getLoopbackAddress());\n\n        int snaplen = 65536;\n        int timeout = 10;\n        PcapHandle handle = nif.openLive(snaplen, PcapNetworkInterface.PromiscuousMode.PROMISCUOUS, timeout);\n\n        TcpPort srcPort = TcpPort.getInstance((short) 12345);\n        TcpPort dstPort = TcpPort.getInstance((short) 12346);\n\n        TcpPacket.Builder tcpBuilder = new TcpPacket.Builder();\n        tcpBuilder.srcPort(srcPort)\n                .dstPort(dstPort)\n                .acknowledgmentNumber(1)\n                .sequenceNumber(1)\n                .window((byte) 100)\n                .padding(&quot;123123123&quot;.getBytes());\n\n        Packet tcpPacket = tcpBuilder.build();\n\n        handle.sendPacket(tcpPacket); // PcapNativeException, request not supported (50)\n        handle.close();\n    }\n}\n\n</code></pre>\n<p>I am using pcap4j: 1.8.2</p>\n<p>please correct me // suggest me some library friendly, easy to use for beginner, like scapy/python</p>\n<p>Update:</p>\n<p>I got Ex at:</p>\n<pre><code>int rc = NativeMappings.pcap_sendpacket(handle, bytes, len);\nif (rc &lt; 0) {\n    throw new PcapNativeException(&quot;Error occurred in              \n            pcap_sendpacket(): &quot; + getError(), rc);\n}\n</code></pre>\n<p>and NativeMappings.pcap_sendpacket was define with native keyword:</p>\n<pre><code>static native int pcap_sendpacket(Pointer p, byte[] buf, int size);\n\nException in thread &quot;main&quot; org.pcap4j.core.PcapNativeException: \nError occurred in pcap_sendpacket(): send error: PacketSendPacket \n    failed: \nThe request is not supported.  (50)\n\nat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1046)\nat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1017)\nat org.pcap4j.core.PcapHandle.sendPacket(PcapHandle.java:1007)\nat Test.main(Test.java:31)\n</code></pre>\n"},{"tags":["java","android","android-volley"],"owner":{"account_id":15349625,"reputation":11,"user_id":15972573,"display_name":"Byakuran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682248522,"creation_date":1682248522,"question_id":76084512,"body_markdown":"I get the user data from SharedPrefManager and set the values to viewbinding but when I tried to proceed to the next activity it stuck in progress dialog.\r\n\r\nI tried to remove the code that gets user details:\r\n\r\n```\r\nUser user = SharedPrefManager.getInstance(this).getUser();\r\n\r\nbinding.nameBox.setText(user.getUsername());\r\nbinding.emailBox.setText(user.getEmail());\r\nbinding.phoneBox.setText(user.getPhone());\r\nbinding.addressBox.setText(user.getAddress());\r\n```\r\n\r\nBut I need to get the user details so they will not enter it repeatedly. I am still no good in viewbinding but I still understand some part of it. I just couldn&#39;t understand why this (probably) simple thing of getting and setting user data can be difficult. Any help is greatly appreciated!\r\n\r\nhere is the code:\r\n\r\n```\r\npublic class CheckoutActivity extends AppCompatActivity {\r\n\r\n    ActivityCheckoutBinding binding;\r\n    CartAdapter adapter;\r\n    ArrayList&lt;Product&gt; products;\r\n    double totalPrice = 0;\r\n    final int tax = 0;\r\n    ProgressDialog progressDialog;\r\n    Cart cart;\r\n    String name;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityCheckoutBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        User user = SharedPrefManager.getInstance(this).getUser();\r\n\r\n        //setting the values to the textviews\r\n\r\n        binding.nameBox.setText(user.getUsername());\r\n        binding.emailBox.setText(user.getEmail());\r\n        binding.phoneBox.setText(user.getPhone());\r\n        binding.addressBox.setText(user.getAddress());\r\n\r\n        progressDialog = new ProgressDialog(this);\r\n        progressDialog.setCancelable(false);\r\n        progressDialog.setMessage(&quot;Processing...&quot;);\r\n\r\n        products = new ArrayList&lt;&gt;();\r\n\r\n        cart = TinyCartHelper.getCart();\r\n\r\n        for(Map.Entry&lt;Item, Integer&gt; item : cart.getAllItemsWithQty().entrySet()) {\r\n            Product product = (Product) item.getKey();\r\n            int quantity = item.getValue();\r\n            product.setQuantity(quantity);\r\n\r\n            products.add(product);\r\n        }\r\n\r\n        adapter = new CartAdapter(this, products, new CartAdapter.CartListener() {\r\n            @Override\r\n            public void onQuantityChanged() {\r\n                binding.subtotal.setText(String.format(&quot;PHP %.2f&quot;,cart.getTotalPrice()));\r\n                //binding.subtotal.setText(String.valueOf(cart.getTotalPrice()));\r\n            }\r\n        });\r\n\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n        DividerItemDecoration itemDecoration = new DividerItemDecoration(this, layoutManager.getOrientation());\r\n        binding.cartList.setLayoutManager(layoutManager);\r\n        binding.cartList.addItemDecoration(itemDecoration);\r\n        binding.cartList.setAdapter(adapter);\r\n\r\n        binding.subtotal.setText(String.format(&quot;PHP %.2f&quot;,cart.getTotalPrice()));\r\n\r\n        totalPrice = (cart.getTotalPrice().doubleValue() * tax / 100) + cart.getTotalPrice().doubleValue();\r\n        binding.total.setText(&quot;PHP &quot; + totalPrice);\r\n\r\n        binding.checkoutBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                processOrder();\r\n            }\r\n        });\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    }\r\n\r\n    void processOrder() {\r\n        progressDialog.show();\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n\r\n        JSONObject productOrder = new JSONObject();\r\n        JSONObject dataObject = new JSONObject();\r\n\r\n        try {\r\n\r\n            productOrder.put(&quot;address&quot;,binding.addressBox.getText().toString());\r\n            productOrder.put(&quot;buyer&quot;,binding.nameBox.getText().toString());\r\n            productOrder.put(&quot;comment&quot;, binding.commentBox.getText().toString());\r\n            productOrder.put(&quot;created_at&quot;, Calendar.getInstance().getTimeInMillis());\r\n            productOrder.put(&quot;last_update&quot;, Calendar.getInstance().getTimeInMillis());\r\n            productOrder.put(&quot;date_ship&quot;, Calendar.getInstance().getTimeInMillis());\r\n            productOrder.put(&quot;email&quot;, binding.emailBox.getText().toString());\r\n            productOrder.put(&quot;phone&quot;, binding.phoneBox.getText().toString());\r\n            productOrder.put(&quot;serial&quot;, &quot;cab8c1a4e4421a3b&quot;);\r\n            productOrder.put(&quot;shipping&quot;, &quot;&quot;);\r\n            productOrder.put(&quot;shipping_location&quot;, &quot;&quot;);\r\n            productOrder.put(&quot;shipping_rate&quot;, &quot;0.0&quot;);\r\n            productOrder.put(&quot;status&quot;, &quot;WAITING&quot;);\r\n            productOrder.put(&quot;tax&quot;, tax);\r\n            productOrder.put(&quot;total_fees&quot;, totalPrice);\r\n\r\n            JSONArray product_order_detail = new JSONArray();\r\n            for(Map.Entry&lt;Item, Integer&gt; item : cart.getAllItemsWithQty().entrySet()) {\r\n                Product product = (Product) item.getKey();\r\n                int quantity = item.getValue();\r\n                product.setQuantity(quantity);\r\n\r\n                JSONObject productObj = new JSONObject();\r\n                productObj.put(&quot;amount&quot;, quantity);\r\n                productObj.put(&quot;price_item&quot;, product.getPrice());\r\n                productObj.put(&quot;product_id&quot;, product.getId());\r\n                productObj.put(&quot;product_name&quot;, product.getName());\r\n                product_order_detail.put(productObj);\r\n            }\r\n\r\n            dataObject.put(&quot;product_order&quot;,productOrder);\r\n            dataObject.put(&quot;product_order_detail&quot;,product_order_detail);\r\n\r\n            Log.e(&quot;err&quot;, dataObject.toString());\r\n\r\n        } catch (JSONException e) {}\r\n\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, Constants.POST_ORDER_URL, dataObject, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                try {\r\n                    if (response.getString(&quot;status&quot;).equals(&quot;success&quot;)) {\r\n                        Toast.makeText(CheckoutActivity.this, &quot;Success order.&quot;, Toast.LENGTH_SHORT).show();\r\n                        String orderNumber = response.getJSONObject(&quot;data&quot;).getString(&quot;code&quot;);\r\n                        new AlertDialog.Builder(CheckoutActivity.this)\r\n                                .setTitle(&quot;Order Successful&quot;)\r\n                                .setCancelable(false)\r\n                                .setMessage(&quot;Your order number is: &quot; + orderNumber)\r\n                        .setPositiveButton(&quot;Pay Now&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                Intent intent = new Intent(CheckoutActivity.this, PaymentActivity.class);\r\n                                intent.putExtra(&quot;orderCode&quot;, orderNumber);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }\r\n                        }).show();\r\n                    } else {\r\n                        new AlertDialog.Builder(CheckoutActivity.this)\r\n                                .setTitle(&quot;Order Failed&quot;)\r\n                                .setMessage(&quot;Something went wrong, please try again.&quot;)\r\n                                .setCancelable(false)\r\n                                .setPositiveButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                                    }\r\n                                }).show();\r\n                        Toast.makeText(CheckoutActivity.this, &quot;Failed order.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    progressDialog.dismiss();\r\n                    Log.e(&quot;res&quot;, response.toString());\r\n                } catch (Exception e) {}\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        }) {\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n                headers.put(&quot;Security&quot;,&quot;secure_code&quot;);\r\n                return headers;\r\n            }\r\n        } ;\r\n\r\n        queue.add(request);\r\n\r\n    }\r\n}\r\n```","title":"what is the correct way of getting user data from SharedPrefManager and setting it to viewbinding?","body":"<p>I get the user data from SharedPrefManager and set the values to viewbinding but when I tried to proceed to the next activity it stuck in progress dialog.</p>\n<p>I tried to remove the code that gets user details:</p>\n<pre><code>User user = SharedPrefManager.getInstance(this).getUser();\n\nbinding.nameBox.setText(user.getUsername());\nbinding.emailBox.setText(user.getEmail());\nbinding.phoneBox.setText(user.getPhone());\nbinding.addressBox.setText(user.getAddress());\n</code></pre>\n<p>But I need to get the user details so they will not enter it repeatedly. I am still no good in viewbinding but I still understand some part of it. I just couldn't understand why this (probably) simple thing of getting and setting user data can be difficult. Any help is greatly appreciated!</p>\n<p>here is the code:</p>\n<pre><code>public class CheckoutActivity extends AppCompatActivity {\n\n    ActivityCheckoutBinding binding;\n    CartAdapter adapter;\n    ArrayList&lt;Product&gt; products;\n    double totalPrice = 0;\n    final int tax = 0;\n    ProgressDialog progressDialog;\n    Cart cart;\n    String name;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityCheckoutBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        User user = SharedPrefManager.getInstance(this).getUser();\n\n        //setting the values to the textviews\n\n        binding.nameBox.setText(user.getUsername());\n        binding.emailBox.setText(user.getEmail());\n        binding.phoneBox.setText(user.getPhone());\n        binding.addressBox.setText(user.getAddress());\n\n        progressDialog = new ProgressDialog(this);\n        progressDialog.setCancelable(false);\n        progressDialog.setMessage(&quot;Processing...&quot;);\n\n        products = new ArrayList&lt;&gt;();\n\n        cart = TinyCartHelper.getCart();\n\n        for(Map.Entry&lt;Item, Integer&gt; item : cart.getAllItemsWithQty().entrySet()) {\n            Product product = (Product) item.getKey();\n            int quantity = item.getValue();\n            product.setQuantity(quantity);\n\n            products.add(product);\n        }\n\n        adapter = new CartAdapter(this, products, new CartAdapter.CartListener() {\n            @Override\n            public void onQuantityChanged() {\n                binding.subtotal.setText(String.format(&quot;PHP %.2f&quot;,cart.getTotalPrice()));\n                //binding.subtotal.setText(String.valueOf(cart.getTotalPrice()));\n            }\n        });\n\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        DividerItemDecoration itemDecoration = new DividerItemDecoration(this, layoutManager.getOrientation());\n        binding.cartList.setLayoutManager(layoutManager);\n        binding.cartList.addItemDecoration(itemDecoration);\n        binding.cartList.setAdapter(adapter);\n\n        binding.subtotal.setText(String.format(&quot;PHP %.2f&quot;,cart.getTotalPrice()));\n\n        totalPrice = (cart.getTotalPrice().doubleValue() * tax / 100) + cart.getTotalPrice().doubleValue();\n        binding.total.setText(&quot;PHP &quot; + totalPrice);\n\n        binding.checkoutBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                processOrder();\n            }\n        });\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    }\n\n    void processOrder() {\n        progressDialog.show();\n        RequestQueue queue = Volley.newRequestQueue(this);\n\n        JSONObject productOrder = new JSONObject();\n        JSONObject dataObject = new JSONObject();\n\n        try {\n\n            productOrder.put(&quot;address&quot;,binding.addressBox.getText().toString());\n            productOrder.put(&quot;buyer&quot;,binding.nameBox.getText().toString());\n            productOrder.put(&quot;comment&quot;, binding.commentBox.getText().toString());\n            productOrder.put(&quot;created_at&quot;, Calendar.getInstance().getTimeInMillis());\n            productOrder.put(&quot;last_update&quot;, Calendar.getInstance().getTimeInMillis());\n            productOrder.put(&quot;date_ship&quot;, Calendar.getInstance().getTimeInMillis());\n            productOrder.put(&quot;email&quot;, binding.emailBox.getText().toString());\n            productOrder.put(&quot;phone&quot;, binding.phoneBox.getText().toString());\n            productOrder.put(&quot;serial&quot;, &quot;cab8c1a4e4421a3b&quot;);\n            productOrder.put(&quot;shipping&quot;, &quot;&quot;);\n            productOrder.put(&quot;shipping_location&quot;, &quot;&quot;);\n            productOrder.put(&quot;shipping_rate&quot;, &quot;0.0&quot;);\n            productOrder.put(&quot;status&quot;, &quot;WAITING&quot;);\n            productOrder.put(&quot;tax&quot;, tax);\n            productOrder.put(&quot;total_fees&quot;, totalPrice);\n\n            JSONArray product_order_detail = new JSONArray();\n            for(Map.Entry&lt;Item, Integer&gt; item : cart.getAllItemsWithQty().entrySet()) {\n                Product product = (Product) item.getKey();\n                int quantity = item.getValue();\n                product.setQuantity(quantity);\n\n                JSONObject productObj = new JSONObject();\n                productObj.put(&quot;amount&quot;, quantity);\n                productObj.put(&quot;price_item&quot;, product.getPrice());\n                productObj.put(&quot;product_id&quot;, product.getId());\n                productObj.put(&quot;product_name&quot;, product.getName());\n                product_order_detail.put(productObj);\n            }\n\n            dataObject.put(&quot;product_order&quot;,productOrder);\n            dataObject.put(&quot;product_order_detail&quot;,product_order_detail);\n\n            Log.e(&quot;err&quot;, dataObject.toString());\n\n        } catch (JSONException e) {}\n\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.POST, Constants.POST_ORDER_URL, dataObject, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try {\n                    if (response.getString(&quot;status&quot;).equals(&quot;success&quot;)) {\n                        Toast.makeText(CheckoutActivity.this, &quot;Success order.&quot;, Toast.LENGTH_SHORT).show();\n                        String orderNumber = response.getJSONObject(&quot;data&quot;).getString(&quot;code&quot;);\n                        new AlertDialog.Builder(CheckoutActivity.this)\n                                .setTitle(&quot;Order Successful&quot;)\n                                .setCancelable(false)\n                                .setMessage(&quot;Your order number is: &quot; + orderNumber)\n                        .setPositiveButton(&quot;Pay Now&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                Intent intent = new Intent(CheckoutActivity.this, PaymentActivity.class);\n                                intent.putExtra(&quot;orderCode&quot;, orderNumber);\n                                startActivity(intent);\n                                finish();\n                            }\n                        }).show();\n                    } else {\n                        new AlertDialog.Builder(CheckoutActivity.this)\n                                .setTitle(&quot;Order Failed&quot;)\n                                .setMessage(&quot;Something went wrong, please try again.&quot;)\n                                .setCancelable(false)\n                                .setPositiveButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialogInterface, int i) {\n\n                                    }\n                                }).show();\n                        Toast.makeText(CheckoutActivity.this, &quot;Failed order.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    progressDialog.dismiss();\n                    Log.e(&quot;res&quot;, response.toString());\n                } catch (Exception e) {}\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n\n            }\n        }) {\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;Security&quot;,&quot;secure_code&quot;);\n                return headers;\n            }\n        } ;\n\n        queue.add(request);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","foreign-keys","constraints"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1682185548,"post_id":76081032,"comment_id":134176969,"body_markdown":"Are you sure that you have understood the question? I don&#39;t think there is a documented deterministic order for checking foreign keys. It would surprise me as that would limit performance improvements for no clear benefit. Perhaps they rather wanted you to experiment with different scenarios to see how it works? Do they bite at commit or immediately, for example?","body":"Are you sure that you have understood the question? I don&#39;t think there is a documented deterministic order for checking foreign keys. It would surprise me as that would limit performance improvements for no clear benefit. Perhaps they rather wanted you to experiment with different scenarios to see how it works? Do they bite at commit or immediately, for example?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":3,"creation_date":1682186325,"post_id":76081032,"comment_id":134177070,"body_markdown":"SQL is a declarative language, not an imperative one. All defined contraints will be checked but you cannot controle the specific ordering. But above all, why do you care? All constraints need to be correct or the data won&#39;t be inserted.","body":"SQL is a declarative language, not an imperative one. All defined contraints will be checked but you cannot controle the specific ordering. But above all, why do you care? All constraints need to be correct or the data won&#39;t be inserted."},{"owner":{"account_id":28381010,"reputation":1,"user_id":21708274,"display_name":"Damian"},"score":0,"creation_date":1682192088,"post_id":76081032,"comment_id":134177734,"body_markdown":"@ewramner I am pretty sure that this is about &#39;in sequence or not in sequence&#39;; I did one class giving perfect exceptions but it was checking all tables with PK at once  (single SELECT) - the teacher said that messages were good but it was not FK constraints emulation; I am bit frustrated, because i can test oracle as a black box only, while the teacher is testing my class as a white box; if he would test it as a black box, he could not tell the difference.","body":"@ewramner I am pretty sure that this is about &#39;in sequence or not in sequence&#39;; I did one class giving perfect exceptions but it was checking all tables with PK at once  (single SELECT) - the teacher said that messages were good but it was not FK constraints emulation; I am bit frustrated, because i can test oracle as a black box only, while the teacher is testing my class as a white box; if he would test it as a black box, he could not tell the difference."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1682198698,"post_id":76081032,"comment_id":134178467,"body_markdown":"If you have to analyse how FK constraints work, why are you looking at a proprietary database that is closed-source? Instead, look at an open-source database and then you can read the source code and figure out exactly how it works and what order that database applies the constraints.","body":"If you have to analyse how FK constraints work, why are you looking at a proprietary database that is closed-source? Instead, look at an open-source database and then you can read the source code and figure out exactly how it works and what order that database applies the constraints."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1682248121,"post_id":76081032,"comment_id":134182273,"body_markdown":"What is your 1 clear specific researched non-duplicate question? &quot;is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?&quot; You cannot tell anything about a program by observing its output except that it output what you saw when you saw it. There is never any way to &quot;check&quot; by observation. Was this an assignment? What exactly did it say? Why are you asking this? PS Please avoid social &amp; meta commentary in posts. Please give a [mre] in code questions. [ask] [Help] If you want to know what the program will do, read the relevant manuals.","body":"What is your 1 clear specific researched non-duplicate question? &quot;is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?&quot; You cannot tell anything about a program by observing its output except that it output what you saw when you saw it. There is never any way to &quot;check&quot; by observation. Was this an assignment? What exactly did it say? Why are you asking this? PS Please avoid social &amp; meta commentary in posts. Please give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in code questions. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> If you want to know what the program will do, read the relevant manuals."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1682248555,"post_id":76081032,"comment_id":134182317,"body_markdown":"Please clarify via edits, not comments. Please use standard spelling &amp; punctuation. [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822/3404097) [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/q/261592/3404097) [ask] [Help] PS Looking at a different program than a given program tells you nothing about the given program.","body":"Please clarify via edits, not comments. Please use standard spelling &amp; punctuation. <a href=\"https://meta.stackoverflow.com/q/334822/3404097\">How do I ask and answer homework questions?</a> <a href=\"https://meta.stackoverflow.com/q/261592/3404097\">How much research effort is expected of Stack Overflow users?</a> <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> PS Looking at a different program than a given program tells you nothing about the given program."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682198261,"creation_date":1682198261,"answer_id":76081970,"question_id":76081032,"body_markdown":"&gt; Is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?\r\n\r\nNo (if you **ONLY** have SQL Developer and an `INSERT` statement).\r\n\r\n---\r\n\r\nSQL Developer is a client application (an IDE) that is run locally by the user to talk to a database (that may be remote or local). Other than performing syntax highlighting and checking, SQL Developer effectively does no processing of SQL statements. The client application will send those SQL statements to the database for the database&#39;s SQL engine to evaluate and then will wait for the database to respond and display the response to user. It is the database that will parse the SQL statements.\r\n\r\nIf you only have SQL Developer then you do **NOT** have a database and there is nothing to process the SQL statements and there will be no tables to insert into and there will be no foreign key constraints. You have to have a database.\r\n\r\n","title":"Oracle FK constraint reverse engineering using SQL Developer","body":"<blockquote>\n<p>Is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?</p>\n</blockquote>\n<p>No (if you <strong>ONLY</strong> have SQL Developer and an <code>INSERT</code> statement).</p>\n<hr />\n<p>SQL Developer is a client application (an IDE) that is run locally by the user to talk to a database (that may be remote or local). Other than performing syntax highlighting and checking, SQL Developer effectively does no processing of SQL statements. The client application will send those SQL statements to the database for the database's SQL engine to evaluate and then will wait for the database to respond and display the response to user. It is the database that will parse the SQL statements.</p>\n<p>If you only have SQL Developer then you do <strong>NOT</strong> have a database and there is nothing to process the SQL statements and there will be no tables to insert into and there will be no foreign key constraints. You have to have a database.</p>\n"},{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682241152,"creation_date":1682241152,"answer_id":76084010,"question_id":76081032,"body_markdown":"&gt;is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?\r\n\r\nNo. Sequence of foreign key evaluation is not guarantied, so even if you&#39;ll find out sequence based on some kind of suit test, sequence may change with update, change of load of load on server, change of optimization, if you&#39;re in maintenance window, etc.\r\n\r\nYou cannot fully simulate DBMS behavior since it is not possible to simulate even using DBMS itself. \r\n\r\nThe best you can do within setup of &quot;only INSERT&quot; is to INSERT and ROLLBACK.\r\nAnd see what error was raised if any.\r\n\r\nSecond best strategy select sequence of foreign key checks you like and use it. Information on **what** foreign key is violated is not important: what is important is a fact that one or more of them **were violated**.","title":"Oracle FK constraint reverse engineering using SQL Developer","body":"<blockquote>\n<p>is it possible to figure out that DBMS is processing FKs in sequence using only SQL Developer and INSERT statement?</p>\n</blockquote>\n<p>No. Sequence of foreign key evaluation is not guarantied, so even if you'll find out sequence based on some kind of suit test, sequence may change with update, change of load of load on server, change of optimization, if you're in maintenance window, etc.</p>\n<p>You cannot fully simulate DBMS behavior since it is not possible to simulate even using DBMS itself.</p>\n<p>The best you can do within setup of &quot;only INSERT&quot; is to INSERT and ROLLBACK.\nAnd see what error was raised if any.</p>\n<p>Second best strategy select sequence of foreign key checks you like and use it. Information on <strong>what</strong> foreign key is violated is not important: what is important is a fact that one or more of them <strong>were violated</strong>.</p>\n"}],"owner":{"account_id":28381010,"reputation":1,"user_id":21708274,"display_name":"Damian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1682248394,"creation_date":1682184710,"question_id":76081032,"body_markdown":"I got homework to analyze how FK constraints work and simulate it using Java/JDBC.\r\n\r\nIs it possible to figure out that a DBMS is processing foreign keys in sequence using\r\nonly SQL Developer and INSERT statement?\r\n\r\n```\r\nINSERT INTO GRADES (idn, idu, idp, ido, kind) VALUES (1, 1, 1, 1, &#39;C&#39;)\r\n```\r\n(idn, idu, idp, and ido are FKs.)\r\n\r\nI did test all combinations of valid/invalid keys--I noticed that the DBMS gives only one exception at a time (even if a few FKs are invalid) and it checks them from right to left--I will get an exception only for ido in case ido is invalid, validity of the rest is irrelevant, or I will get an exception for idp if ido is valid and idn and idu might be valid or invalid.\r\n\r\nCan I infer that the algorithm in the above case looks like this?\r\n```\r\n    if(!isValid(ido) {\r\n        throw new SQLexception(ido);\r\n    } else if(!isValid(idp) {\r\n        throw new SQLexception(idp);\r\n    } else if(!isValid(idu) {\r\n        throw new SQLexception(idu);\r\n    } else if(!isValid(idn) {\r\n        throw new SQLexception(idn);\r\n    }\r\n```\r\n\r\nWhat is a better way to check how a DBMS is verifying FK constraints?\r\n","title":"Oracle FK constraint reverse engineering using SQL Developer","body":"<p>I got homework to analyze how FK constraints work and simulate it using Java/JDBC.</p>\n<p>Is it possible to figure out that a DBMS is processing foreign keys in sequence using\nonly SQL Developer and INSERT statement?</p>\n<pre><code>INSERT INTO GRADES (idn, idu, idp, ido, kind) VALUES (1, 1, 1, 1, 'C')\n</code></pre>\n<p>(idn, idu, idp, and ido are FKs.)</p>\n<p>I did test all combinations of valid/invalid keys--I noticed that the DBMS gives only one exception at a time (even if a few FKs are invalid) and it checks them from right to left--I will get an exception only for ido in case ido is invalid, validity of the rest is irrelevant, or I will get an exception for idp if ido is valid and idn and idu might be valid or invalid.</p>\n<p>Can I infer that the algorithm in the above case looks like this?</p>\n<pre><code>    if(!isValid(ido) {\n        throw new SQLexception(ido);\n    } else if(!isValid(idp) {\n        throw new SQLexception(idp);\n    } else if(!isValid(idu) {\n        throw new SQLexception(idu);\n    } else if(!isValid(idn) {\n        throw new SQLexception(idn);\n    }\n</code></pre>\n<p>What is a better way to check how a DBMS is verifying FK constraints?</p>\n"},{"tags":["java","file","readonly"],"comments":[{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":0,"creation_date":1330409723,"post_id":9477257,"comment_id":11994148,"body_markdown":"Well, you could write it to a DVD-R where it can be replaced, but the original always remains written.","body":"Well, you could write it to a DVD-R where it can be replaced, but the original always remains written."},{"owner":{"account_id":406517,"reputation":48699,"user_id":776084,"accept_rate":79,"display_name":"RanRag"},"score":0,"creation_date":1330409793,"post_id":9477257,"comment_id":11994162,"body_markdown":"Are you looking for [File.setReadOnly()](http://docs.oracle.com/javase/1.4.2/docs/api/java/io/File.html#setReadOnly())","body":"Are you looking for <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/File.html#setReadOnly()\" rel=\"nofollow noreferrer\">File.setReadOnly()</a>"},{"owner":{"account_id":92454,"reputation":18356,"user_id":253387,"accept_rate":79,"display_name":"Samuel"},"score":1,"creation_date":1330416349,"post_id":9477257,"comment_id":11995631,"body_markdown":"A DVD-ROM would be sort of a solution but unfortunately it would not be very scaleable and probably people are not very willing to insert a DVD-ROM to run a program :p","body":"A DVD-ROM would be sort of a solution but unfortunately it would not be very scaleable and probably people are not very willing to insert a DVD-ROM to run a program :p"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1330425238,"post_id":9477257,"comment_id":11998157,"body_markdown":"What is the use-case for doing such a thing?","body":"What is the use-case for doing such a thing?"},{"owner":{"account_id":92454,"reputation":18356,"user_id":253387,"accept_rate":79,"display_name":"Samuel"},"score":0,"creation_date":1330436802,"post_id":9477257,"comment_id":12002131,"body_markdown":"If somebody runs my program and authenticates I want to be sure that network services from a server arrive at the computer the user registered my program on or not at all. (for example if somebody copies the program and authentication and installs it on another computer I want to be able to identify requests from the new computer as invalid) - I hope I&#39;m not being confusing?","body":"If somebody runs my program and authenticates I want to be sure that network services from a server arrive at the computer the user registered my program on or not at all. (for example if somebody copies the program and authentication and installs it on another computer I want to be able to identify requests from the new computer as invalid) - I hope I&#39;m not being confusing?"},{"owner":{"account_id":92454,"reputation":18356,"user_id":253387,"accept_rate":79,"display_name":"Samuel"},"score":0,"creation_date":1330436997,"post_id":9477257,"comment_id":12002223,"body_markdown":"I could thus check an immutable file&#39;s content and it&#39;s creation date","body":"I could thus check an immutable file&#39;s content and it&#39;s creation date"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1682249673,"post_id":9477257,"comment_id":134182420,"body_markdown":"Maybe this will help: [Java Authentication and Authorization Service (JAAS) Reference Guide](https://docs.oracle.com/en/java/javase/11/security/java-authentication-and-authorization-service-jaas-reference-guide.html#GUID-2A935F5E-0803-411D-B6BC-F8C64D01A25C)","body":"Maybe this will help: <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-authentication-and-authorization-service-jaas-reference-guide.html#GUID-2A935F5E-0803-411D-B6BC-F8C64D01A25C\" rel=\"nofollow noreferrer\">Java Authentication and Authorization Service (JAAS) Reference Guide</a>"}],"answers":[{"tags":[],"owner":{"account_id":324083,"reputation":2451,"user_id":644467,"accept_rate":68,"display_name":"Java"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1330409882,"creation_date":1330409882,"answer_id":9477321,"question_id":9477257,"body_markdown":"yes we can make read only file in java using setReadOnly() method.\r\n\r\nAfter using this method, you will not be able to write or edit into the file.\r\n\r\n    import java.io.File;\r\n    \r\n    public class FileReadOnly {\r\n      public static void main(String[] args) {\r\n        File file = new File(&quot;c:/file.txt&quot;);\r\n        file.setReadOnly();\r\n        System.out.println(&quot;File is in read only mode&quot;);\r\n        }\r\n    }\r\n\r\nor in this way also.\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class FileAttributesDemo {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        // Create a new file, by default canWrite=true, readonly=false\r\n        File file = new File(&quot;test.txt&quot;);\r\n        if (file.exists()) {\r\n          file.delete();\r\n        }\r\n        file.createNewFile();\r\n        System.out.println(&quot;Before. canWrite?&quot; + file.canWrite());\r\n    \r\n        // set to read-only, atau canWrite = false */\r\n        file.setWritable(false);\r\n        System.out.println(&quot;After. canWrite?&quot; + file.canWrite());\r\n      }\r\n    }","title":"Create a read-only file","body":"<p>yes we can make read only file in java using setReadOnly() method.</p>\n\n<p>After using this method, you will not be able to write or edit into the file.</p>\n\n<pre><code>import java.io.File;\n\npublic class FileReadOnly {\n  public static void main(String[] args) {\n    File file = new File(\"c:/file.txt\");\n    file.setReadOnly();\n    System.out.println(\"File is in read only mode\");\n    }\n}\n</code></pre>\n\n<p>or in this way also.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class FileAttributesDemo {\n\n  public static void main(String[] args) throws IOException {\n    // Create a new file, by default canWrite=true, readonly=false\n    File file = new File(\"test.txt\");\n    if (file.exists()) {\n      file.delete();\n    }\n    file.createNewFile();\n    System.out.println(\"Before. canWrite?\" + file.canWrite());\n\n    // set to read-only, atau canWrite = false */\n    file.setWritable(false);\n    System.out.println(\"After. canWrite?\" + file.canWrite());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069190,"reputation":40445,"user_id":1068879,"accept_rate":71,"display_name":"Frankline"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330409905,"creation_date":1330409905,"answer_id":9477323,"question_id":9477257,"body_markdown":"If you simply just need to create a Read-Only file, then won&#39;t the code below be sufficient? Unless I am missing something from your question:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class FileAttributesDemo {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        // Create a new file, by default canWrite=true, readonly=false\r\n        File file = new File(&quot;test.txt&quot;);\r\n        if (file.exists()) {\r\n          file.delete();\r\n        }\r\n        file.createNewFile();\r\n        System.out.println(&quot;Before. canWrite?&quot; + file.canWrite());\r\n    \r\n        // set to read-only, atau canWrite = false */\r\n        file.setWritable(false);\r\n        System.out.println(&quot;After. canWrite?&quot; + file.canWrite());\r\n      }\r\n    }","title":"Create a read-only file","body":"<p>If you simply just need to create a Read-Only file, then won't the code below be sufficient? Unless I am missing something from your question:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class FileAttributesDemo {\n\n  public static void main(String[] args) throws IOException {\n    // Create a new file, by default canWrite=true, readonly=false\n    File file = new File(\"test.txt\");\n    if (file.exists()) {\n      file.delete();\n    }\n    file.createNewFile();\n    System.out.println(\"Before. canWrite?\" + file.canWrite());\n\n    // set to read-only, atau canWrite = false */\n    file.setWritable(false);\n    System.out.println(\"After. canWrite?\" + file.canWrite());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1173545,"reputation":396,"user_id":1150111,"display_name":"Kenneth Funk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1330433041,"creation_date":1330410311,"answer_id":9477397,"question_id":9477257,"body_markdown":"Setting a file to read only is not going to make it so no one can ever change it.  It takes about 3 seconds to unset the read only flag.  The file can then be opened in a hex editor or other program that can handle the file type and changes can be made.","title":"Create a read-only file","body":"<p>Setting a file to read only is not going to make it so no one can ever change it.  It takes about 3 seconds to unset the read only flag.  The file can then be opened in a hex editor or other program that can handle the file type and changes can be made.</p>\n"},{"tags":[],"owner":{"account_id":341779,"reputation":3729,"user_id":672584,"accept_rate":62,"display_name":"Jake Walsh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330413694,"creation_date":1330413694,"answer_id":9477920,"question_id":9477257,"body_markdown":"To make it so setWritable(true) does not enable writing again you could extend File and override the setWritable() methods.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.Override;\r\n    \r\n    public class FileAttributeDemo2 {\r\n        private static class ReadOnlyFile extends File {\r\n            public ReadOnlyFile(String pathname) {\r\n                super(pathname);\r\n            }\r\n    \r\n            @Override\r\n            public boolean setWritable(boolean writeable) {\r\n                return setWritable(writeable, true);\r\n            }\r\n    \r\n            @Override\r\n            public boolean setWritable(boolean writeable, boolean ownerOnly) {\r\n                if (!writeable) {\r\n                    return super.setWritable(false, ownerOnly);\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public static void main (String[] args) throws IOException {\r\n            File file = new ReadOnlyFile(&quot;test.txt&quot;);\r\n            if (file.exists()) {\r\n                file.delete();\r\n            }\r\n            file.createNewFile();\r\n            System.out.println(&quot;Before. canWrite? &quot; + file.canWrite());\r\n    \r\n            file.setWritable(false);\r\n            System.out.println(&quot;Set writable false. canWrite? &quot; + file.canWrite());\r\n    \r\n            file.setWritable(true);\r\n            System.out.println(&quot;Set writable true. canWrite? &quot; + file.canWrite());\r\n    \r\n        }\r\n    }\r\n\r\nwhich produces the output:\r\n\r\n\r\n    Before. canWrite? true \r\n    Set Writable False. canWrite? false \r\n    Set Writable True. canWrite? false\r\n\r\n","title":"Create a read-only file","body":"<p>To make it so setWritable(true) does not enable writing again you could extend File and override the setWritable() methods.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.lang.Override;\n\npublic class FileAttributeDemo2 {\n    private static class ReadOnlyFile extends File {\n        public ReadOnlyFile(String pathname) {\n            super(pathname);\n        }\n\n        @Override\n        public boolean setWritable(boolean writeable) {\n            return setWritable(writeable, true);\n        }\n\n        @Override\n        public boolean setWritable(boolean writeable, boolean ownerOnly) {\n            if (!writeable) {\n                return super.setWritable(false, ownerOnly);\n            }\n            return false;\n        }\n    }\n\n    public static void main (String[] args) throws IOException {\n        File file = new ReadOnlyFile(\"test.txt\");\n        if (file.exists()) {\n            file.delete();\n        }\n        file.createNewFile();\n        System.out.println(\"Before. canWrite? \" + file.canWrite());\n\n        file.setWritable(false);\n        System.out.println(\"Set writable false. canWrite? \" + file.canWrite());\n\n        file.setWritable(true);\n        System.out.println(\"Set writable true. canWrite? \" + file.canWrite());\n\n    }\n}\n</code></pre>\n\n<p>which produces the output:</p>\n\n<pre><code>Before. canWrite? true \nSet Writable False. canWrite? false \nSet Writable True. canWrite? false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1362594,"reputation":6622,"user_id":1299675,"accept_rate":69,"display_name":"Sam Su"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1372327979,"creation_date":1372327979,"answer_id":17340425,"question_id":9477257,"body_markdown":"Try:\r\n\r\n - file.setReadOnly()\r\n - Runtime.getRuntime().exec(&quot;attrib &quot; + &quot;&quot; + file.getAbsolutePath() + &quot;&quot; + &quot; +R&quot;); //(works on Windows)","title":"Create a read-only file","body":"<p>Try:</p>\n\n<ul>\n<li>file.setReadOnly()</li>\n<li>Runtime.getRuntime().exec(\"attrib \" + \"\" + file.getAbsolutePath() + \"\" + \" +R\"); //(works on Windows)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14720306,"reputation":1,"user_id":10631136,"display_name":"K&#220;RŞADCAN AKAY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557862221,"creation_date":1557862221,"answer_id":56137378,"question_id":9477257,"body_markdown":"Read-only way can be useful altough it is not impossible to change or crack.So if you can not create an unreachable file then you can convert its contents to not understandable thanks to some kind of Encryption algorithms.For example AES may be so usefull.  ","title":"Create a read-only file","body":"<p>Read-only way can be useful altough it is not impossible to change or crack.So if you can not create an unreachable file then you can convert its contents to not understandable thanks to some kind of Encryption algorithms.For example AES may be so usefull.  </p>\n"},{"tags":[],"owner":{"account_id":9026880,"reputation":11,"user_id":6725898,"display_name":"Bablu Gope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573741352,"creation_date":1573729957,"answer_id":58855455,"question_id":9477257,"body_markdown":"In this case simply you have to create a file using File class after that by reference you have to call setReadOnly() method.\r\n```    \r\n    File f=new File(&quot;abc.txt&quot;);\r\n    f.setReadOnly();\r\n```\r\n","title":"Create a read-only file","body":"<p>In this case simply you have to create a file using File class after that by reference you have to call setReadOnly() method.</p>\n\n<pre><code>    File f=new File(\"abc.txt\");\n    f.setReadOnly();\n</code></pre>\n"}],"owner":{"account_id":92454,"reputation":18356,"user_id":253387,"accept_rate":79,"display_name":"Samuel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1682247888,"creation_date":1330409530,"question_id":9477257,"body_markdown":"I was wondering wether it is possible to create or simulate a file with a content set at creation and the assurance that nobody can ever change the file.\r\nIf possible, can I do it in java?","title":"Create a read-only file","body":"<p>I was wondering wether it is possible to create or simulate a file with a content set at creation and the assurance that nobody can ever change the file.\nIf possible, can I do it in java?</p>\n"},{"tags":["java","spring","spring-boot","cucumber","mockito"],"comments":[{"owner":{"account_id":2660180,"reputation":165,"user_id":2300077,"accept_rate":33,"display_name":"Vijay Kalidindi"},"score":0,"creation_date":1485318893,"post_id":41347764,"comment_id":70871552,"body_markdown":"Did you manage to get it working? I am facing the same problem","body":"Did you manage to get it working? I am facing the same problem"},{"owner":{"account_id":6647432,"reputation":428,"user_id":5130993,"display_name":"Bogdan Minciu"},"score":0,"creation_date":1485360655,"post_id":41347764,"comment_id":70896344,"body_markdown":"Yes, please see my answer below, and I hope it helps.","body":"Yes, please see my answer below, and I hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":6647432,"reputation":428,"user_id":5130993,"display_name":"Bogdan Minciu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1485360608,"creation_date":1485360608,"answer_id":41856331,"question_id":41347764,"body_markdown":"OK, so I found out that the `@MockBean` annotation is ignored because I was running the tests with Cucumber instead of running them through Spring Boot. Duh...\r\n\r\nSo I replaced `@MockBean` with `@Mock`, and then I manually inject that mock into my service layer.\r\n\r\nSo now my test looks like this:\r\n\r\n    @SpringBootTest(classes = CentralApp.class)\r\n    @ContextConfiguration\r\n    public class RefreshActiveJobsStepDefs {\r\n\r\n      @Inject\r\n      private SchedulerService schedulerService;\r\n\r\n      @Mock\r\n      private AgentRestClient agentRestClient;\r\n\r\n      @Before\r\n      public void setup() throws Exception {\r\n       MockitoAnnotations.initMocks(this);\r\n       given(agentRestClient.get(anyString())).willReturn(&quot;FINISHED&quot;);\r\n       schedulerService.setAgentRestClient(agentRestClient);\r\n      }\r\n      //Skipping the actual Given-When-Then Cucumber steps...\r\n    }\r\n\r\nAs you can see I&#39;ve also removed the `@CucumberOptions(glue=...)` annotation, and now I make sure to pass it though the runner, which for CLI would be by using the `--glue` option.\r\n\r\nI hope this helps.","title":"Spring @MockBean not injected with Cucumber","body":"<p>OK, so I found out that the <code>@MockBean</code> annotation is ignored because I was running the tests with Cucumber instead of running them through Spring Boot. Duh...</p>\n\n<p>So I replaced <code>@MockBean</code> with <code>@Mock</code>, and then I manually inject that mock into my service layer.</p>\n\n<p>So now my test looks like this:</p>\n\n<pre><code>@SpringBootTest(classes = CentralApp.class)\n@ContextConfiguration\npublic class RefreshActiveJobsStepDefs {\n\n  @Inject\n  private SchedulerService schedulerService;\n\n  @Mock\n  private AgentRestClient agentRestClient;\n\n  @Before\n  public void setup() throws Exception {\n   MockitoAnnotations.initMocks(this);\n   given(agentRestClient.get(anyString())).willReturn(\"FINISHED\");\n   schedulerService.setAgentRestClient(agentRestClient);\n  }\n  //Skipping the actual Given-When-Then Cucumber steps...\n}\n</code></pre>\n\n<p>As you can see I've also removed the <code>@CucumberOptions(glue=...)</code> annotation, and now I make sure to pass it though the runner, which for CLI would be by using the <code>--glue</code> option.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7498529,"reputation":45,"user_id":5697817,"display_name":"3WJ"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1485364834,"creation_date":1485364834,"answer_id":41857751,"question_id":41347764,"body_markdown":"@MockBean is not ignored, the bean is mocked but it&#39;s not injected, so you can inject it via @inject, this works fine for me :\r\n\r\n    @Inject\r\n    @MockBean\r\n    private AgentRestClient agentRestClient;","title":"Spring @MockBean not injected with Cucumber","body":"<p>@MockBean is not ignored, the bean is mocked but it's not injected, so you can inject it via @inject, this works fine for me :</p>\n\n<pre><code>@Inject\n@MockBean\nprivate AgentRestClient agentRestClient;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1018166,"reputation":895,"user_id":1029242,"display_name":"wangf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522139891,"creation_date":1522139891,"answer_id":49508094,"question_id":41347764,"body_markdown":"@3wj&#39;s approach works for me.\r\nIn my case, the bean is optionally inject into a controller. Looks in this case, @MockBean will not work, I guess the reason is the bean is not hard referenced. Add a additional annotation @Autowired to make the bean hard referenced, then Spring will initialize the bean.\r\n\r\n    @RestController\r\n    public class MyController {\r\n\r\n\t    public MyController(@Autowired(required = false) IMyService myService) {\r\n\t    \tthis.myService = myService;\r\n\t    }\r\n    \r\n\t    @GetMapping(&quot;/the/path&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; getData() {\r\n\t\t    if(this.myService==null){\r\n\t\t    \t//Throw service unavaillable exception\r\n\t\t    }\r\n\t\t    String data = this.myService.getData();\r\n\t\t    return new ResponseEntity&lt;&gt;(data, HttpStatus.OK);\r\n\t    }\r\n    }\r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    public class MyControllerIT {\r\n\r\n\t    @Value(&quot;${local.server.port}&quot;)\r\n\t    private int port;\r\n\r\n\t    private RestTemplate restTemplate;\r\n\r\n\t    @Autowired\r\n\t    @MockBean\r\n\t    private IMyService myService \r\n\r\n\t    @Test\r\n\t    public void testQuery() throws Exception {\r\n\t\t    // restTemplate to call rest API....\r\n\t    }\r\n\r\n    }","title":"Spring @MockBean not injected with Cucumber","body":"<p>@3wj's approach works for me.\nIn my case, the bean is optionally inject into a controller. Looks in this case, @MockBean will not work, I guess the reason is the bean is not hard referenced. Add a additional annotation @Autowired to make the bean hard referenced, then Spring will initialize the bean.</p>\n\n<pre><code>@RestController\npublic class MyController {\n\n    public MyController(@Autowired(required = false) IMyService myService) {\n        this.myService = myService;\n    }\n\n    @GetMapping(\"/the/path\")\n    public ResponseEntity&lt;String&gt; getData() {\n        if(this.myService==null){\n            //Throw service unavaillable exception\n        }\n        String data = this.myService.getData();\n        return new ResponseEntity&lt;&gt;(data, HttpStatus.OK);\n    }\n}\n\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\npublic class MyControllerIT {\n\n    @Value(\"${local.server.port}\")\n    private int port;\n\n    private RestTemplate restTemplate;\n\n    @Autowired\n    @MockBean\n    private IMyService myService \n\n    @Test\n    public void testQuery() throws Exception {\n        // restTemplate to call rest API....\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682247853,"creation_date":1680543422,"answer_id":75922258,"question_id":41347764,"body_markdown":"I bumped into this issue in 2023 and managed to solve it thanks to [this comment][1] in the [GitHub issue][2]\r\n&gt;The class annotated with @CucumberContextConfiguration is passed to springs TestContextManager and subject to the same processing the class would be in JUnit. So this should result in the application context being created with a mocked MyService bean.\r\n\r\nIn other words, you need to move the `@MockBean` declaration to the `@CucumberContextConfiguration` class and then inject it in your step definition class (for example using `@Autowired`). \r\n\r\nHere is the code that worked for me:\r\n\r\n    @SpringBootTest\r\n    @CucumberContextConfiguration\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            plugin = {&quot;pretty&quot;},\r\n            glue = &quot;xxx&quot;,\r\n            features = &quot;classpath:xxx&quot;\r\n    )\r\n    public class AcceptanceTestSuite {\r\n        @MockBean MyMock mock;\r\n    }\r\n\r\nAnd then\r\n    \r\n    public class ScenarioStepDefinitions {\r\n        @Autowired MyMock mock;\r\n    \r\n        // ... steps\r\n    }\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/issues/1470#issuecomment-638688625\r\n  [2]: https://github.com/cucumber/cucumber-jvm/issues/1470","title":"Spring @MockBean not injected with Cucumber","body":"<p>I bumped into this issue in 2023 and managed to solve it thanks to <a href=\"https://github.com/cucumber/cucumber-jvm/issues/1470#issuecomment-638688625\" rel=\"nofollow noreferrer\">this comment</a> in the <a href=\"https://github.com/cucumber/cucumber-jvm/issues/1470\" rel=\"nofollow noreferrer\">GitHub issue</a></p>\n<blockquote>\n<p>The class annotated with @CucumberContextConfiguration is passed to springs TestContextManager and subject to the same processing the class would be in JUnit. So this should result in the application context being created with a mocked MyService bean.</p>\n</blockquote>\n<p>In other words, you need to move the <code>@MockBean</code> declaration to the <code>@CucumberContextConfiguration</code> class and then inject it in your step definition class (for example using <code>@Autowired</code>).</p>\n<p>Here is the code that worked for me:</p>\n<pre><code>@SpringBootTest\n@CucumberContextConfiguration\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        plugin = {&quot;pretty&quot;},\n        glue = &quot;xxx&quot;,\n        features = &quot;classpath:xxx&quot;\n)\npublic class AcceptanceTestSuite {\n    @MockBean MyMock mock;\n}\n</code></pre>\n<p>And then</p>\n<pre><code>public class ScenarioStepDefinitions {\n    @Autowired MyMock mock;\n\n    // ... steps\n}\n</code></pre>\n"}],"owner":{"account_id":6647432,"reputation":428,"user_id":5130993,"display_name":"Bogdan Minciu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16596,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41856331,"answer_count":4,"score":8,"last_activity_date":1682247853,"creation_date":1482852098,"question_id":41347764,"body_markdown":"I&#39;m implementing a `SchedulerService` that uses a `AgentRestClient` bean to get some data from an external system. It looks something like this:\r\n\r\n    @Service\r\n    public class SchedulerService {\r\n      \r\n      @Inject\r\n      private AgentRestClient agentRestClient;\r\n\r\n      public String updateStatus(String uuid) {\r\n        String status = agentRestClient.get(uuid);\r\n        ...\r\n      }\r\n      ...\r\n    }\r\n\r\nTo test this service, I&#39;m using Cucumber while at the same time I&#39;m trying to mock the behavior of `AgentRestClient` using Spring Boot&#39;s `@MockBean` annotation, as follows:\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.java.Before;\r\n    \r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = CentralApp.class)\r\n    @CucumberOptions(glue = {&quot;com.company.project.cucumber.stepdefs&quot;, &quot;cucumber.api.spring&quot;})\r\n    public class RefreshActiveJobsStepDefs {\r\n\r\n      @MockBean\r\n      private AgentRestClient agentRestClient;\r\n\r\n      @Inject\r\n      private SchedulerService schedulerService;\r\n\r\n      @Before\r\n      public void setUp() throws Exception {\r\n        MockitoAnnotations.initMocks(this);\r\n        given(agentRestClient.get(anyString())).willReturn(&quot;FINISHED&quot;);//agentRestClient is always null here\r\n      }\r\n\r\n      //Skipping the actual Given-When-Then Cucumber steps...\r\n    }\r\n\r\nWhen I try to run any Cucumber scenario, the `agentRestClient` is never mocked/injected. The `setUp()` method fails with a NPE:\r\n\r\n    java.lang.NullPointerException\r\n      at com.company.project.cucumber.stepdefs.scheduler.RefreshActiveJobsStepDefs.setUp(RefreshActiveJobsStepDefs.java:38)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at cucumber.runtime.Utils$1.call(Utils.java:37)\r\n      at cucumber.runtime.Timeout.timeout(Timeout.java:13)\r\n      at cucumber.runtime.Utils.invoke(Utils.java:31)\r\n      at cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:60)\r\n      at cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:223)\r\n      at cucumber.runtime.Runtime.runHooks(Runtime.java:211)\r\n      at cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:201)\r\n      at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:40)\r\n      at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\r\n      at cucumber.runtime.Runtime.run(Runtime.java:121)\r\n      at cucumber.api.cli.Main.run(Main.java:36)\r\n      at cucumber.api.cli.Main.main(Main.java:18)\r\n\r\nTo get to this point I followed the following 2 resources, but still no luck getting it working:\r\n\r\n - https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\r\n - http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\r\n\r\nThe culprit seems to be Cucumber integration into Spring, because when I try the same approach with a plain JUnit `@Test` method, mocking works as expected.\r\n\r\nSo could you please tell me what Cucumber or Spring configuration have I missed or misunderstood?\r\n\r\nThanks,\r\nBogdan","title":"Spring @MockBean not injected with Cucumber","body":"<p>I'm implementing a <code>SchedulerService</code> that uses a <code>AgentRestClient</code> bean to get some data from an external system. It looks something like this:</p>\n\n<pre><code>@Service\npublic class SchedulerService {\n\n  @Inject\n  private AgentRestClient agentRestClient;\n\n  public String updateStatus(String uuid) {\n    String status = agentRestClient.get(uuid);\n    ...\n  }\n  ...\n}\n</code></pre>\n\n<p>To test this service, I'm using Cucumber while at the same time I'm trying to mock the behavior of <code>AgentRestClient</code> using Spring Boot's <code>@MockBean</code> annotation, as follows:</p>\n\n<pre><code>import cucumber.api.CucumberOptions;\nimport cucumber.api.java.Before;\n\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = CentralApp.class)\n@CucumberOptions(glue = {\"com.company.project.cucumber.stepdefs\", \"cucumber.api.spring\"})\npublic class RefreshActiveJobsStepDefs {\n\n  @MockBean\n  private AgentRestClient agentRestClient;\n\n  @Inject\n  private SchedulerService schedulerService;\n\n  @Before\n  public void setUp() throws Exception {\n    MockitoAnnotations.initMocks(this);\n    given(agentRestClient.get(anyString())).willReturn(\"FINISHED\");//agentRestClient is always null here\n  }\n\n  //Skipping the actual Given-When-Then Cucumber steps...\n}\n</code></pre>\n\n<p>When I try to run any Cucumber scenario, the <code>agentRestClient</code> is never mocked/injected. The <code>setUp()</code> method fails with a NPE:</p>\n\n<pre><code>java.lang.NullPointerException\n  at com.company.project.cucumber.stepdefs.scheduler.RefreshActiveJobsStepDefs.setUp(RefreshActiveJobsStepDefs.java:38)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n  at java.lang.reflect.Method.invoke(Method.java:498)\n  at cucumber.runtime.Utils$1.call(Utils.java:37)\n  at cucumber.runtime.Timeout.timeout(Timeout.java:13)\n  at cucumber.runtime.Utils.invoke(Utils.java:31)\n  at cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:60)\n  at cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:223)\n  at cucumber.runtime.Runtime.runHooks(Runtime.java:211)\n  at cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:201)\n  at cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:40)\n  at cucumber.runtime.model.CucumberFeature.run(CucumberFeature.java:165)\n  at cucumber.runtime.Runtime.run(Runtime.java:121)\n  at cucumber.api.cli.Main.run(Main.java:36)\n  at cucumber.api.cli.Main.main(Main.java:18)\n</code></pre>\n\n<p>To get to this point I followed the following 2 resources, but still no luck getting it working:</p>\n\n<ul>\n<li><a href=\"https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4\" rel=\"noreferrer\">https://spring.io/blog/2016/04/15/testing-improvements-in-spring-boot-1-4</a></li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"noreferrer\">http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html</a></li>\n</ul>\n\n<p>The culprit seems to be Cucumber integration into Spring, because when I try the same approach with a plain JUnit <code>@Test</code> method, mocking works as expected.</p>\n\n<p>So could you please tell me what Cucumber or Spring configuration have I missed or misunderstood?</p>\n\n<p>Thanks,\nBogdan</p>\n"},{"tags":["java","authentication","hardware","copy-protection","piracy-protection"],"comments":[{"owner":{"account_id":10448,"reputation":91684,"user_id":19746,"accept_rate":91,"display_name":"Piskvor left the building"},"score":0,"creation_date":1244130112,"post_id":445911,"comment_id":759491,"body_markdown":"Java, Java, hmmm...wasn&#39;t that supposed to be cross-platform? (hint: hardware &quot;protection&quot; dongles have problems to work correctly on a *single* platform)","body":"Java, Java, hmmm...wasn&#39;t that supposed to be cross-platform? (hint: hardware &quot;protection&quot; dongles have problems to work correctly on a <i>single</i> platform)"},{"owner":{"display_name":"anon"},"score":1,"creation_date":1265981356,"post_id":445911,"comment_id":2210690,"body_markdown":"Beware! Aladdin is spelled incorrectly. The link is called &quot;Aladin&quot; with just one &#39;d&#39; when it should be &quot;Aladdin&quot; with two of them.","body":"Beware! Aladdin is spelled incorrectly. The link is called &quot;Aladin&quot; with just one &#39;d&#39; when it should be &quot;Aladdin&quot; with two of them."}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1232007423,"creation_date":1232005145,"answer_id":445945,"question_id":445911,"body_markdown":"Please just don&#39;t.  Sell your software at a price point that represents its worth, with a basic key-scheme if you must to **keep honest people honest**, and leave it at that.  The pirates will always steal it, and a hardware dongle will just cause grief for your honest customers.\r\n\r\nBesides, any scheme you build in will just be defeated by reverse engineering; if you make it a pain to use your software, you will motivate otherwise honest people to defeat it, or to search the internet for a crack.  Simply make the protection less painful than searching for a crack.","title":"Piracy protection using USB based hardware solution","body":"<p>Please just don't.  Sell your software at a price point that represents its worth, with a basic key-scheme if you must to <strong>keep honest people honest</strong>, and leave it at that.  The pirates will always steal it, and a hardware dongle will just cause grief for your honest customers.</p>\n\n<p>Besides, any scheme you build in will just be defeated by reverse engineering; if you make it a pain to use your software, you will motivate otherwise honest people to defeat it, or to search the internet for a crack.  Simply make the protection less painful than searching for a crack.</p>\n"},{"tags":[],"owner":{"account_id":713,"reputation":5665,"user_id":932,"accept_rate":86,"display_name":"Nikos Steiakakis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1232008007,"creation_date":1232008007,"answer_id":446007,"question_id":445911,"body_markdown":"Even though my view on the subject is to not use such piracy protection schemes, I can give you a few pointers since we have used such a solution in the past. In particular we used Aladdin tokens as well. \r\n\r\nThis solution in terms of security is quite robust, since it is something that you either have it on the system, or you don&#39;t. It&#39;s not something that you can easily override, provided that your code is secure as well. \r\n\r\nOn the down side, we came across a problem that made us drop the Hardware token solution. Our application is an intranet web Application, (i.e. a web app running in the local intranet of the customer, not a hosted solution) and quite often the customers wanted to deploy our app on blade servers or even virtual servers, where they did not have USB ports! \r\n\r\nSo before you choose such a solution, take such factors under consideration.","title":"Piracy protection using USB based hardware solution","body":"<p>Even though my view on the subject is to not use such piracy protection schemes, I can give you a few pointers since we have used such a solution in the past. In particular we used Aladdin tokens as well. </p>\n\n<p>This solution in terms of security is quite robust, since it is something that you either have it on the system, or you don't. It's not something that you can easily override, provided that your code is secure as well. </p>\n\n<p>On the down side, we came across a problem that made us drop the Hardware token solution. Our application is an intranet web Application, (i.e. a web app running in the local intranet of the customer, not a hosted solution) and quite often the customers wanted to deploy our app on blade servers or even virtual servers, where they did not have USB ports! </p>\n\n<p>So before you choose such a solution, take such factors under consideration.</p>\n"},{"tags":[],"owner":{"account_id":10394,"reputation":19277,"user_id":19624,"display_name":"Richard Harrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1232008994,"creation_date":1232008994,"answer_id":446043,"question_id":445911,"body_markdown":"I&#39;ve used such products and they are a pain. I personally wouldn&#39;t spend any money at all on a hardware scheme or a 3rd party protection scheme. \r\n\r\nDo not be tempted by a hardware based protection scheme.\r\n\r\nThe only things that are certain:\r\n\r\n  - Any protection schemes will be cracked.\r\n  - You will annoy legitimate customers\r\n  - You will lose time supporting problems related to the protection\r\n  - There will be problems when a legitimate customer cannot use your product because of the protection.\r\n  - It is a better investment to use any time and funds that you would have spent on protection on improving the product or finding more customers.\r\n\r\nThe **golden rule** of protection is to make it painless for your customers. Hardware protection schemes make life inconvenient for your customers and easier for those who&#39;ve ripped you off, which clearly isn&#39;t right.\r\n\r\n","title":"Piracy protection using USB based hardware solution","body":"<p>I've used such products and they are a pain. I personally wouldn't spend any money at all on a hardware scheme or a 3rd party protection scheme. </p>\n\n<p>Do not be tempted by a hardware based protection scheme.</p>\n\n<p>The only things that are certain:</p>\n\n<ul>\n<li>Any protection schemes will be cracked.</li>\n<li>You will annoy legitimate customers</li>\n<li>You will lose time supporting problems related to the protection</li>\n<li>There will be problems when a legitimate customer cannot use your product because of the protection.</li>\n<li>It is a better investment to use any time and funds that you would have spent on protection on improving the product or finding more customers.</li>\n</ul>\n\n<p>The <strong>golden rule</strong> of protection is to make it painless for your customers. Hardware protection schemes make life inconvenient for your customers and easier for those who've ripped you off, which clearly isn't right.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232044463,"creation_date":1232044463,"answer_id":447905,"question_id":445911,"body_markdown":"Just as another slightly different opinion:\r\n\r\nThere&#39;s one situation where I would gladly accept the &quot;dongle&quot; approach. MATLAB has a pricing structure where if you install something on a single fixed machine, it costs $X. If you want to install it as a concurrent license (license server on the network) for one person to use it at a time, it costs $4X. That makes no sense whatsoever for rarely-used software. \r\n\r\nThe business model for buying a super-accurate torque wrench shouldn&#39;t matter how many people want to use it, and if person A wants to use it but person B is already using it, then person B has to finish using it before person A can make use of it. I don&#39;t have any problem with software following this model by using physical tokens, if it&#39;s being used at sites where it&#39;s shared by multiple users. It&#39;s a much fairer business model than jacking up the price for a concurrent license. The physical-token approach may be less attractive to individual customers, but if you have a product that command the price, then why not?\r\n\r\nIf you don&#39;t have a product that&#39;s in demand to that degree, I wouldn&#39;t bother.\r\n\r\nAnd you&#39;d better have a mechanism for dealing with lost tokens. (alas I don&#39;t have any idea there)","title":"Piracy protection using USB based hardware solution","body":"<p>Just as another slightly different opinion:</p>\n\n<p>There's one situation where I would gladly accept the \"dongle\" approach. MATLAB has a pricing structure where if you install something on a single fixed machine, it costs $X. If you want to install it as a concurrent license (license server on the network) for one person to use it at a time, it costs $4X. That makes no sense whatsoever for rarely-used software. </p>\n\n<p>The business model for buying a super-accurate torque wrench shouldn't matter how many people want to use it, and if person A wants to use it but person B is already using it, then person B has to finish using it before person A can make use of it. I don't have any problem with software following this model by using physical tokens, if it's being used at sites where it's shared by multiple users. It's a much fairer business model than jacking up the price for a concurrent license. The physical-token approach may be less attractive to individual customers, but if you have a product that command the price, then why not?</p>\n\n<p>If you don't have a product that's in demand to that degree, I wouldn't bother.</p>\n\n<p>And you'd better have a mechanism for dealing with lost tokens. (alas I don't have any idea there)</p>\n"},{"tags":[],"owner":{"account_id":6928,"reputation":160,"user_id":11805,"display_name":"SoftDeveloper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1244126949,"creation_date":1244126949,"answer_id":951073,"question_id":445911,"body_markdown":"Whilst I agree with most of the other answers, there is a case where hardware dongles work and that is for low volume, high value software. Popular high volume software will always be cracked so there is little point in annoying your customers with a costly hardware system.\r\n\r\nHowever it is unlikely that anyone will bother going to the effort of cracking specialised, low-volume software. Yet if it is easy to just install on another machine many customers may &#39;forget&#39; to buy another license, and you lose out on valuable income. Here dongle protection works as they need to come back to you for another dongle if they want to run two copies simultaneously.\r\n\r\nI&#39;ve used Aladdin dongles but be aware there are software emulators available for these and so you must also program the memory on the dongle with something an emulator cannot know.","title":"Piracy protection using USB based hardware solution","body":"<p>Whilst I agree with most of the other answers, there is a case where hardware dongles work and that is for low volume, high value software. Popular high volume software will always be cracked so there is little point in annoying your customers with a costly hardware system.</p>\n\n<p>However it is unlikely that anyone will bother going to the effort of cracking specialised, low-volume software. Yet if it is easy to just install on another machine many customers may 'forget' to buy another license, and you lose out on valuable income. Here dongle protection works as they need to come back to you for another dongle if they want to run two copies simultaneously.</p>\n\n<p>I've used Aladdin dongles but be aware there are software emulators available for these and so you must also program the memory on the dongle with something an emulator cannot know.</p>\n"},{"tags":[],"owner":{"account_id":33394,"reputation":2255,"user_id":93447,"accept_rate":40,"display_name":"Jem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244127899,"creation_date":1244127899,"answer_id":951155,"question_id":445911,"body_markdown":"First, make sure that it will not be counter-productive. It has a non-negligible cost in development, test, maintenance and customer support. Cases where such a protection is the more appropriate is when your software is THE software, almost with a machine dedicated to it. \r\n\r\nI know that latest wibu products have a pretty good robustness, and are in practice hacker proof. (Other similar products probably exist also). Basically, parts of your code can be encrypted in the key itself, with an encryption key changing all the time. They ran worldwide hacker contests where no one was able to use unauthorized versions of a protected software.\r\n\r\n","title":"Piracy protection using USB based hardware solution","body":"<p>First, make sure that it will not be counter-productive. It has a non-negligible cost in development, test, maintenance and customer support. Cases where such a protection is the more appropriate is when your software is THE software, almost with a machine dedicated to it. </p>\n\n<p>I know that latest wibu products have a pretty good robustness, and are in practice hacker proof. (Other similar products probably exist also). Basically, parts of your code can be encrypted in the key itself, with an encryption key changing all the time. They ran worldwide hacker contests where no one was able to use unauthorized versions of a protected software.</p>\n"},{"tags":[],"owner":{"account_id":148651,"reputation":51,"user_id":360587,"display_name":"Krayol"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1280933175,"creation_date":1280933175,"answer_id":3406681,"question_id":445911,"body_markdown":"Just to add evidence to what SoftDeveloper says.  In the area of low value software, protection is counterproductive.  Likewise for high volume.\r\n\r\nHowever, our money-earner is a product that sells for &#163;10-25K per user license.  The vast majority of our consumer base is very careful to be compliant - large corporations - and for some of these we have sold unlimited unprotected products. \r\n\r\nHowever, we have had evidence in the past that when used by smaller companies for short-term use attempts have been made to break the protection.  When you stand to lose &#163;100K+ per incident, you must at least discourage that.\r\n\r\nIn the past we have used SuperPro but that product is weak and obsolete now.\r\n\r\nFor our latest product we are still evaluating, but Sentinel/Aladdin (http://www.safenet-inc.com/sentinelhasp/), SecuTech Unikey (http://www.esecutech.com/Software-Protection/UniKey-Family/UniKey-Drive/UniKey-Drive-Overview.html) and KeyLok Fortress (http://www.keylok.com) are among the subset selected.\r\n\r\nOne thing we are doing is allowing extreme flexibility in the model.  That way when marketing comes up with the next bright idea, we will be ready.  Also, ensuring extremely robust and informative license control is vital too.  Protection shouldn&#39;t mean a bad customer experience (although it often can!).","title":"Piracy protection using USB based hardware solution","body":"<p>Just to add evidence to what SoftDeveloper says.  In the area of low value software, protection is counterproductive.  Likewise for high volume.</p>\n\n<p>However, our money-earner is a product that sells for £10-25K per user license.  The vast majority of our consumer base is very careful to be compliant - large corporations - and for some of these we have sold unlimited unprotected products. </p>\n\n<p>However, we have had evidence in the past that when used by smaller companies for short-term use attempts have been made to break the protection.  When you stand to lose £100K+ per incident, you must at least discourage that.</p>\n\n<p>In the past we have used SuperPro but that product is weak and obsolete now.</p>\n\n<p>For our latest product we are still evaluating, but Sentinel/Aladdin (<a href=\"http://www.safenet-inc.com/sentinelhasp/\" rel=\"noreferrer\">http://www.safenet-inc.com/sentinelhasp/</a>), SecuTech Unikey (<a href=\"http://www.esecutech.com/Software-Protection/UniKey-Family/UniKey-Drive/UniKey-Drive-Overview.html\" rel=\"noreferrer\">http://www.esecutech.com/Software-Protection/UniKey-Family/UniKey-Drive/UniKey-Drive-Overview.html</a>) and KeyLok Fortress (<a href=\"http://www.keylok.com\" rel=\"noreferrer\">http://www.keylok.com</a>) are among the subset selected.</p>\n\n<p>One thing we are doing is allowing extreme flexibility in the model.  That way when marketing comes up with the next bright idea, we will be ready.  Also, ensuring extremely robust and informative license control is vital too.  Protection shouldn't mean a bad customer experience (although it often can!).</p>\n"},{"tags":[],"owner":{"account_id":653867,"reputation":11,"user_id":459365,"display_name":"hans freim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1285583237,"creation_date":1285583237,"answer_id":3802940,"question_id":445911,"body_markdown":"For piracy protection I use [OM-p][1]\r\nThey provide:\r\n- free piracy consulting\r\n- free anti piracy monitoring\r\n- and payed piracy takedowns\r\n\r\n\r\n  [1]: http://om-p.com &quot;OM-p&quot;","title":"Piracy protection using USB based hardware solution","body":"<p>For piracy protection I use <a href=\"http://om-p.com\" rel=\"nofollow\" title=\"OM-p\">OM-p</a>\nThey provide:\n- free piracy consulting\n- free anti piracy monitoring\n- and payed piracy takedowns</p>\n"},{"tags":[],"owner":{"account_id":251379,"reputation":710,"user_id":528719,"display_name":"John Browne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292281472,"creation_date":1292281472,"answer_id":4434354,"question_id":445911,"body_markdown":"Modern dongles, used correctly, can provide very strong levels of protection against illegal copying. CodeMeter from Wibu-Systems has survived several public cracking contests (most recently in China!) with no winners.\r\n\r\nThe reason is strong encryption: the executable is encrypted completely with AES 128-bit encryption, and the key generation for decryption occurs only in the dongle. Since the half-life of the keys is short, even discovering one key (which would require enormous effort) doesn&#39;t provide a universal crack. \r\n\r\nCrackers are very smart people, and won&#39;t work any harder than necessary to crack software. It&#39;s easy to leave vulnerabilities in the software if software protection isn&#39;t the main focus of your research and development efforts. Getting a good dongle and following carefully the manufacturer&#39;s suggestions for protecting are the best insurance against illegal copying.\r\n\r\nSome useful questions when evaluating a system for protection:\r\n1. Does it support the OS versions you want to target with your executable?\r\n2. Does it encrypt the communications between the dongle and the OS?\r\n3. Can it detect debuggers and lock the license if a debugger is running?\r\n4. Does it use a smart card chip (harder to sniff with hardware tools)?\r\n5. Does it use a single key or multiple keys?\r\n6. Does it support the license models (pay per use, pay per time, etc) that you want?\r\n7. Are a rich set of tools available to make it easy to use?\r\n8. Can it protect other file types besides .exe files?\r\n9. How good is their developer support? Has it been outsourced to another country?\r\n10. How many reference customers can they provide?\r\n\r\nCost can be $50-$100 per copy (or less or more; depends on a bunch of factors). Most reputable vendors will provide you with pricing information with a simple phone call.\r\n\r\nHope this helps.","title":"Piracy protection using USB based hardware solution","body":"<p>Modern dongles, used correctly, can provide very strong levels of protection against illegal copying. CodeMeter from Wibu-Systems has survived several public cracking contests (most recently in China!) with no winners.</p>\n\n<p>The reason is strong encryption: the executable is encrypted completely with AES 128-bit encryption, and the key generation for decryption occurs only in the dongle. Since the half-life of the keys is short, even discovering one key (which would require enormous effort) doesn't provide a universal crack. </p>\n\n<p>Crackers are very smart people, and won't work any harder than necessary to crack software. It's easy to leave vulnerabilities in the software if software protection isn't the main focus of your research and development efforts. Getting a good dongle and following carefully the manufacturer's suggestions for protecting are the best insurance against illegal copying.</p>\n\n<p>Some useful questions when evaluating a system for protection:\n1. Does it support the OS versions you want to target with your executable?\n2. Does it encrypt the communications between the dongle and the OS?\n3. Can it detect debuggers and lock the license if a debugger is running?\n4. Does it use a smart card chip (harder to sniff with hardware tools)?\n5. Does it use a single key or multiple keys?\n6. Does it support the license models (pay per use, pay per time, etc) that you want?\n7. Are a rich set of tools available to make it easy to use?\n8. Can it protect other file types besides .exe files?\n9. How good is their developer support? Has it been outsourced to another country?\n10. How many reference customers can they provide?</p>\n\n<p>Cost can be $50-$100 per copy (or less or more; depends on a bunch of factors). Most reputable vendors will provide you with pricing information with a simple phone call.</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4418,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":445945,"answer_count":9,"score":6,"last_activity_date":1682247786,"creation_date":1232003888,"question_id":445911,"body_markdown":"i want to protect my Java product by using some USB-based authentication and password management solution like you can buy it here:\r\n[aladdin][1]\r\nThis mean that you have to connect a USB stick with a special software on it, before you can start your application.\r\n\r\nI would like to here some experience of users which have used hardware like this.\r\n\r\n - Is this as safe as it sounds?\r\n - General: How much money you would spend to\r\n   protect a software which would sell\r\n   100 times?\r\n\r\n\r\nI will obfuscate my Java code and save some user specific OS settings in a crypted file which is lying somewhere on the hard disk. I dont want to constrain the user to do a online registration, because the internet is not necessary for the application.\r\n\r\nThanks\r\n\r\n\r\n**Comment:**\r\nThe company i am working for is using [Wibu][2] for now more than 5 years.\r\n\r\n\r\n  [1]: http://www.aladdin.com\r\n  [2]: http://www.wibu.com/uk.html","title":"Piracy protection using USB based hardware solution","body":"<p>i want to protect my Java product by using some USB-based authentication and password management solution like you can buy it here:\n<a href=\"http://www.aladdin.com\" rel=\"nofollow noreferrer\">aladdin</a>\nThis mean that you have to connect a USB stick with a special software on it, before you can start your application.</p>\n\n<p>I would like to here some experience of users which have used hardware like this.</p>\n\n<ul>\n<li>Is this as safe as it sounds?</li>\n<li>General: How much money you would spend to\nprotect a software which would sell\n100 times?</li>\n</ul>\n\n<p>I will obfuscate my Java code and save some user specific OS settings in a crypted file which is lying somewhere on the hard disk. I dont want to constrain the user to do a online registration, because the internet is not necessary for the application.</p>\n\n<p>Thanks</p>\n\n<p><strong>Comment:</strong>\nThe company i am working for is using <a href=\"http://www.wibu.com/uk.html\" rel=\"nofollow noreferrer\">Wibu</a> for now more than 5 years.</p>\n"},{"tags":["java","class","security","copy-protection"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1303522432,"post_id":5761519,"comment_id":6597715,"body_markdown":"No, there&#39;s not. Security through obscurity fails in pretty much all cases.","body":"No, there&#39;s not. Security through obscurity fails in pretty much all cases."},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303522596,"post_id":5761519,"comment_id":6597739,"body_markdown":"@Brian Roach Ok, but in that case, how do you break the class described above?","body":"@Brian Roach Ok, but in that case, how do you break the class described above?"},{"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"score":0,"creation_date":1303523130,"post_id":5761519,"comment_id":6597783,"body_markdown":"Can you clarify what specifically you&#39;re trying to protect against? Where is this code running and what potential threats are there? E.g. is this in a deployed server environment and you&#39;re worried about other code getting access to a secret, or is it running on a client device like a phone or applet.","body":"Can you clarify what specifically you&#39;re trying to protect against? Where is this code running and what potential threats are there? E.g. is this in a deployed server environment and you&#39;re worried about other code getting access to a secret, or is it running on a client device like a phone or applet."},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303523746,"post_id":5761519,"comment_id":6597836,"body_markdown":"@WhiteFang34 I have made another edit. The objective is to make sure other code cannot get access to the secret.","body":"@WhiteFang34 I have made another edit. The objective is to make sure other code cannot get access to the secret."},{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":1,"creation_date":1303524041,"post_id":5761519,"comment_id":6597862,"body_markdown":"If you make a hash of the secret and store that, then no one can get it, but you can verify that a client class has the secret by comparing a hash of their supplied &quot;secret&quot; to the hash. http://en.wikipedia.org/wiki/Cryptographic_hash_function","body":"If you make a hash of the secret and store that, then no one can get it, but you can verify that a client class has the secret by comparing a hash of their supplied &quot;secret&quot; to the hash. <a href=\"http://en.wikipedia.org/wiki/Cryptographic_hash_function\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Cryptographic_hash_function</a>"},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303524212,"post_id":5761519,"comment_id":6597881,"body_markdown":"@Yar ok, but the class must restore the plain secret, not only store a hash","body":"@Yar ok, but the class must restore the plain secret, not only store a hash"},{"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"score":0,"creation_date":1303524604,"post_id":5761519,"comment_id":6597900,"body_markdown":"Yeah hashes are kind of aggressive that way. It&#39;s hard to get your data back.","body":"Yeah hashes are kind of aggressive that way. It&#39;s hard to get your data back."},{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":0,"creation_date":1303525170,"post_id":5761519,"comment_id":6597945,"body_markdown":"I enjoyed the &quot;instances are not made at compile-time&quot; part, BTW.","body":"I enjoyed the &quot;instances are not made at compile-time&quot; part, BTW."},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303726193,"post_id":5761519,"comment_id":6619698,"body_markdown":"I am adding a bounty to raise attention. If anyone has more angles to share about this issue, let us know. Thanks.","body":"I am adding a bounty to raise attention. If anyone has more angles to share about this issue, let us know. Thanks."},{"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"score":0,"creation_date":1303834275,"post_id":5761519,"comment_id":6641857,"body_markdown":"The question is more what do you want to achieve with that secret ? Why do you need at all to store it on the client ? What is the business need ? Responding to that question would allow us to better anderstand the problem and what are the best pratices in that case.","body":"The question is more what do you want to achieve with that secret ? Why do you need at all to store it on the client ? What is the business need ? Responding to that question would allow us to better anderstand the problem and what are the best pratices in that case."},{"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"score":0,"creation_date":1303838615,"post_id":5761519,"comment_id":6643027,"body_markdown":"The question is a general question about Java safety and security. I want to find out what is possible when it comes to holding a secret (factors, conditions, etc...). It is an exploration question.","body":"The question is a general question about Java safety and security. I want to find out what is possible when it comes to holding a secret (factors, conditions, etc...). It is an exploration question."},{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":1,"creation_date":1303844360,"post_id":5761519,"comment_id":6644550,"body_markdown":"This question doesn&#39;t have a general answer, just like &quot;what lock is best for my door?&quot;. Common, what neighborhood are you living in? Some require no locks at all, in some you better have a metal door with bars across. Same here: the question is MEANINGLESS until you decide who&#39;s your attacker.","body":"This question doesn&#39;t have a general answer, just like &quot;what lock is best for my door?&quot;. Common, what neighborhood are you living in? Some require no locks at all, in some you better have a metal door with bars across. Same here: the question is MEANINGLESS until you decide who&#39;s your attacker."},{"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"score":0,"creation_date":1303906200,"post_id":5761519,"comment_id":6656361,"body_markdown":"You have your general question. Here a  general response: You can&#39;t store AND use a secret in an unstrusted environment. There are no bargain for it. We already given explanation why. Even on your beloved server, you have to trust your administrator  you have to trust the gatekeeper... This is not related to JAVA. Did you ever wondered why all software you can install endup being hacked ? Do you really think you can do better than Sony or Microsoft ? If a solution was available and well know why in hell would not everybody use it instead of being hacked?","body":"You have your general question. Here a  general response: You can&#39;t store AND use a secret in an unstrusted environment. There are no bargain for it. We already given explanation why. Even on your beloved server, you have to trust your administrator  you have to trust the gatekeeper... This is not related to JAVA. Did you ever wondered why all software you can install endup being hacked ? Do you really think you can do better than Sony or Microsoft ? If a solution was available and well know why in hell would not everybody use it instead of being hacked?"}],"answers":[{"tags":[],"owner":{"account_id":68692,"reputation":126924,"user_id":200291,"accept_rate":81,"display_name":"icktoofay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1303522384,"creation_date":1303522384,"answer_id":5761528,"question_id":5761519,"body_markdown":"No, you cannot embed a secret in a class that way. If you compiled that, then I could just run `strings` on the resulting class file and it might be in there.\r\n\r\nOne way you may go about doing this if you&#39;re only trying to validate it is by storing a hash in it. Once you want to validate the input, hash that and compare the hashes.","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>No, you cannot embed a secret in a class that way. If you compiled that, then I could just run <code>strings</code> on the resulting class file and it might be in there.</p>\n\n<p>One way you may go about doing this if you're only trying to validate it is by storing a hash in it. Once you want to validate the input, hash that and compare the hashes.</p>\n"},{"tags":[],"owner":{"account_id":329612,"reputation":71055,"user_id":653230,"display_name":"WhiteFang34"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1303525459,"creation_date":1303522604,"answer_id":5761546,"question_id":5761519,"body_markdown":"No, it&#39;s not safe from other Java code. Your secret could be retrieved from an instance of `Safe` like this:\r\n\r\n    Field field = safe.getClass().getDeclaredField(&quot;secret&quot;);\r\n    field.setAccessible(true);\r\n    String secret = (String) field.get(safe);\r\n\r\n**Update:** If you control the loading of the other Java code that you want to hide the secret from you can probably use a custom `SecurityManager` or `ClassLoader` to prevent access to it. You need to control the environment that this runs in to work though, e.g. a server you restrict access to.\r\n\r\nYour edited question however mentions that the code can run on any desktop or device. In that case there&#39;s really nothing you can do to protect the secret from other processes that could do just about anything. Even if you encrypt it in memory another process can just intercept the key or even the plaintext secret as its passed around.\r\n\r\nIf you don&#39;t control the environment that you need something to be secure in then you likely need to consider a different approach. Perhaps you can avoid storing the secret in memory altogether?\r\n","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>No, it's not safe from other Java code. Your secret could be retrieved from an instance of <code>Safe</code> like this:</p>\n\n<pre><code>Field field = safe.getClass().getDeclaredField(\"secret\");\nfield.setAccessible(true);\nString secret = (String) field.get(safe);\n</code></pre>\n\n<p><strong>Update:</strong> If you control the loading of the other Java code that you want to hide the secret from you can probably use a custom <code>SecurityManager</code> or <code>ClassLoader</code> to prevent access to it. You need to control the environment that this runs in to work though, e.g. a server you restrict access to.</p>\n\n<p>Your edited question however mentions that the code can run on any desktop or device. In that case there's really nothing you can do to protect the secret from other processes that could do just about anything. Even if you encrypt it in memory another process can just intercept the key or even the plaintext secret as its passed around.</p>\n\n<p>If you don't control the environment that you need something to be secure in then you likely need to consider a different approach. Perhaps you can avoid storing the secret in memory altogether?</p>\n"},{"tags":[],"owner":{"account_id":342751,"reputation":3380,"user_id":674066,"display_name":"Vicente Plata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303522766,"creation_date":1303522766,"answer_id":5761562,"question_id":5761519,"body_markdown":"You can obfuscate it from the .class file by using proguard or similar tools. You may also sign your JAR so other packages can&#39;t access it. Signing your JAR may help too.","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>You can obfuscate it from the .class file by using proguard or similar tools. You may also sign your JAR so other packages can't access it. Signing your JAR may help too.</p>\n"},{"tags":[],"owner":{"account_id":78148,"reputation":5208,"user_id":222593,"accept_rate":91,"display_name":"seand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1303525780,"creation_date":1303523825,"answer_id":5761619,"question_id":5761519,"body_markdown":"You can make a secret &quot;hard&quot; to access but you can&#39;t make it impossible.  There&#39;s a saying (Bruce Schneier I believe):  Against a casual user, anything works.  Against a determined cracker nothing works.","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>You can make a secret \"hard\" to access but you can't make it impossible.  There's a saying (Bruce Schneier I believe):  Against a casual user, anything works.  Against a determined cracker nothing works.</p>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1303525374,"creation_date":1303525052,"answer_id":5761697,"question_id":5761519,"body_markdown":"This &quot;security&quot; is laughable.\r\n\r\nWhere does it run? On my desktop? I connect to the JVM with debugger and view all the secrets in clear text.\r\n\r\nOr I place my code next to it and use reflection to dump the content.\r\n\r\nOr I inject my own code modification via BCEL, and modify the constructor of Safe to dump the &quot;secret&quot; value to a file.\r\n\r\nOr I simply replace the whole package with mine with the same name by placing it into bootstrap classloader.\r\n\r\nOr I can even modify and compile java sources to get a modified JVM.\r\n\r\nOr... my, one can list dozens of ways to extract a value from a runtime instance!\r\n\r\nThe real question in any security design is: **who is a attacker**? What is the threat model? Without answering this the topic is pointless.\r\n","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>This \"security\" is laughable.</p>\n\n<p>Where does it run? On my desktop? I connect to the JVM with debugger and view all the secrets in clear text.</p>\n\n<p>Or I place my code next to it and use reflection to dump the content.</p>\n\n<p>Or I inject my own code modification via BCEL, and modify the constructor of Safe to dump the \"secret\" value to a file.</p>\n\n<p>Or I simply replace the whole package with mine with the same name by placing it into bootstrap classloader.</p>\n\n<p>Or I can even modify and compile java sources to get a modified JVM.</p>\n\n<p>Or... my, one can list dozens of ways to extract a value from a runtime instance!</p>\n\n<p>The real question in any security design is: <strong>who is a attacker</strong>? What is the threat model? Without answering this the topic is pointless.</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303583899,"creation_date":1303525552,"answer_id":5761728,"question_id":5761519,"body_markdown":"http://code.google.com/p/joe-e/ is an object-capability subset of java which is meant to allow decomposable security -- the ability for one part of a program to preserve its security properties even when other parts of the program are controlled, compromised, or manipulated by an attacker.\r\n\r\n\r\nThat said, valid JVMs are allowed to extend the semantics of the language with additional language facilities, such as the ability to attach a debugger at runtime.  Code that can use `Runtime` to invoke shell access could attach a debugger to many stock JVMs and work around `private` access limitations even if the JVM is set up so that normal reflection respects field `private`ness.\r\n\r\n\r\nJoe-E disallows a lot of the reflective abuses of information hiding that could complicate this, and of course disallows unfiltered access to `Runtime`.\r\n","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p><a href=\"http://code.google.com/p/joe-e/\" rel=\"nofollow\">http://code.google.com/p/joe-e/</a> is an object-capability subset of java which is meant to allow decomposable security -- the ability for one part of a program to preserve its security properties even when other parts of the program are controlled, compromised, or manipulated by an attacker.</p>\n\n<p>That said, valid JVMs are allowed to extend the semantics of the language with additional language facilities, such as the ability to attach a debugger at runtime.  Code that can use <code>Runtime</code> to invoke shell access could attach a debugger to many stock JVMs and work around <code>private</code> access limitations even if the JVM is set up so that normal reflection respects field <code>private</code>ness.</p>\n\n<p>Joe-E disallows a lot of the reflective abuses of information hiding that could complicate this, and of course disallows unfiltered access to <code>Runtime</code>.</p>\n"},{"tags":[],"owner":{"account_id":202319,"reputation":4688,"user_id":449325,"display_name":"alpian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303928305,"creation_date":1303928305,"answer_id":5808654,"question_id":5761519,"body_markdown":"I think you can do this, but you end up pushing the security problem somewhere else.  Is there any reason that &quot;secret&quot; cannot be encrypted using (for simplicity) your favourite symmetric key algorithm?  The gimmeTheSecret() method would have to take an additional parameter being the secret key use to decrypt the secret.\r\n\r\nOf course then the problem becomes that this secret key needs to be known and entered by a user or a machine storing it somewhere securely.  You could use some kind of Hardware Security Module depending on how sensitive the data is and how much you want to spend!","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>I think you can do this, but you end up pushing the security problem somewhere else.  Is there any reason that \"secret\" cannot be encrypted using (for simplicity) your favourite symmetric key algorithm?  The gimmeTheSecret() method would have to take an additional parameter being the secret key use to decrypt the secret.</p>\n\n<p>Of course then the problem becomes that this secret key needs to be known and entered by a user or a machine storing it somewhere securely.  You could use some kind of Hardware Security Module depending on how sensitive the data is and how much you want to spend!</p>\n"},{"tags":[],"owner":{"account_id":239150,"reputation":8342,"user_id":508537,"accept_rate":60,"display_name":"Briguy37"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303960235,"creation_date":1303960235,"answer_id":5813166,"question_id":5761519,"body_markdown":"Assuming information passed to method calls are safe, a key is a good solution.  The key doesn&#39;t need to be stored anywhere in the app, and because of this, the information can&#39;t be accessed through Java only.  It gets interesting if you want a way to share the secret with others without giving them your key, which is what the shareSecret method is for below.  However, it becomes tricky managing this.  One process could be:\r\n\r\n1) The secret seeker requests access, entering a temp key that is stored\r\n\r\n2) The secret keeper grants access with their key, the temp key is deleted, and a temp Safe object is created that works for the temp key.\r\n\r\n3) The secret seeker enters the temp key and a permanent key, the temp Safe object is deleted, and a new permanent Safe object is created that can be accessed with the permanent key.  \r\n\r\nAgain, assuming parameters passed to method calls are safe, the main problem with the above procedure is that someone could have hijacked the temp key between 1 and 2 and use it to view the temp secret between steps 2 and 3.  However, it would make it tougher to crack than storing it in a plain-text string.\r\n\r\n    public final class Safe {\r\n        private String secret;\r\n    \r\n        public Safe(String secret, String key){\r\n            this.secret = encode(secret, key}\r\n    \r\n        public String getSecret(String key){\r\n            return decode(this.secret, credentials);\r\n        }\r\n    \r\n        public Safe shareSecret(String fromKey, String toKey){\r\n            return new Safe(decode(this.secret, fromKey), toKey); \r\n        }\r\n    \r\n        private String encode(String secret, String key){\r\n           //Code to encode the secret based on key here...\r\n        }\r\n    \r\n        private String decode(String secret, String key){\r\n           //Code to decode the secret based on key here...\r\n        }\r\n    }\r\n\r\n","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>Assuming information passed to method calls are safe, a key is a good solution.  The key doesn't need to be stored anywhere in the app, and because of this, the information can't be accessed through Java only.  It gets interesting if you want a way to share the secret with others without giving them your key, which is what the shareSecret method is for below.  However, it becomes tricky managing this.  One process could be:</p>\n\n<p>1) The secret seeker requests access, entering a temp key that is stored</p>\n\n<p>2) The secret keeper grants access with their key, the temp key is deleted, and a temp Safe object is created that works for the temp key.</p>\n\n<p>3) The secret seeker enters the temp key and a permanent key, the temp Safe object is deleted, and a new permanent Safe object is created that can be accessed with the permanent key.  </p>\n\n<p>Again, assuming parameters passed to method calls are safe, the main problem with the above procedure is that someone could have hijacked the temp key between 1 and 2 and use it to view the temp secret between steps 2 and 3.  However, it would make it tougher to crack than storing it in a plain-text string.</p>\n\n<pre><code>public final class Safe {\n    private String secret;\n\n    public Safe(String secret, String key){\n        this.secret = encode(secret, key}\n\n    public String getSecret(String key){\n        return decode(this.secret, credentials);\n    }\n\n    public Safe shareSecret(String fromKey, String toKey){\n        return new Safe(decode(this.secret, fromKey), toKey); \n    }\n\n    private String encode(String secret, String key){\n       //Code to encode the secret based on key here...\n    }\n\n    private String decode(String secret, String key){\n       //Code to decode the secret based on key here...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304175829,"creation_date":1304174706,"answer_id":5842472,"question_id":5761519,"body_markdown":"&gt; Some people question the relevance of\r\n&gt; the issue I am raising here. Although\r\n&gt; I am asking a general question in\r\n&gt; order to trigger an open conversation,\r\n&gt; there is a very concrete application\r\n&gt; to this class:\r\n&gt; \r\n&gt; If I want to decrypt some messages, I\r\n&gt; need to load a private key data into a\r\n&gt; class. If I can&#39;t prevent other Java\r\n&gt; code from accessing it, then it is\r\n&gt; impossible to create a secure system.\r\n&gt; Of course, if I want to decrypt a\r\n&gt; message, I should rather do it in the\r\n&gt; class than giving away the secret, but\r\n&gt; still, the safe has to remain\r\n&gt; unbreakable.\r\n\r\nFirst in security, unbreakable doesn&#39;t exist. There is tiny chance that by random I find your encription key by just writting random things on my keyboard. If your key is complex is would make you a really unlucky man, but this is possible.\r\n\r\nSecond point, using a public/private key value pair to protect communications between a client and a server is really common and it works perfectly if done right. But one must understand that this really protect the communication between the two computers. It doesn&#39;t protect the computer themselves. The whole thing is based on total trust the computer have from each-other.\r\n\r\nThird point, when you have ***physical access*** to a computer you can do everything you want with it, in particular this include spying everything a program do. And all content of the computer. Content can be encrypted yes, but while being used, it is not encrypted anymore. This is a major problem of public/private key system : the private key are stored somewhere so you must be sure this place is safe.\r\n\r\nThis flow can be perfectly acceptable for you if you trust the computers involved in the communication. This is the case for exemple when you connect to your bank account.\r\n\r\nBank computers are trusted by the bank, and the provided access to external word is really restricted and controlled. They are &quot;safe&quot;.\r\n\r\nIf you give away your own private key or access credential to the bank. You are compromized, but it is your responsability and problem. Because it is not in your interrest to be compromised, you&#39;ll do your best to avoid that. That nice, because you are the one with full control on your computer.\r\n\r\nBut let say you access to your bank from a public computer, or a computer from another person. Then a simple keylogger can just record the keys and mouse move you make when you enter your password.\r\n\r\nSecurity on client side is based on trust you can have on the client. If you can trust him, this is perfect, it work. If you can&#39;t, then it is broken.","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<blockquote>\n  <p>Some people question the relevance of\n  the issue I am raising here. Although\n  I am asking a general question in\n  order to trigger an open conversation,\n  there is a very concrete application\n  to this class:</p>\n  \n  <p>If I want to decrypt some messages, I\n  need to load a private key data into a\n  class. If I can't prevent other Java\n  code from accessing it, then it is\n  impossible to create a secure system.\n  Of course, if I want to decrypt a\n  message, I should rather do it in the\n  class than giving away the secret, but\n  still, the safe has to remain\n  unbreakable.</p>\n</blockquote>\n\n<p>First in security, unbreakable doesn't exist. There is tiny chance that by random I find your encription key by just writting random things on my keyboard. If your key is complex is would make you a really unlucky man, but this is possible.</p>\n\n<p>Second point, using a public/private key value pair to protect communications between a client and a server is really common and it works perfectly if done right. But one must understand that this really protect the communication between the two computers. It doesn't protect the computer themselves. The whole thing is based on total trust the computer have from each-other.</p>\n\n<p>Third point, when you have <strong><em>physical access</em></strong> to a computer you can do everything you want with it, in particular this include spying everything a program do. And all content of the computer. Content can be encrypted yes, but while being used, it is not encrypted anymore. This is a major problem of public/private key system : the private key are stored somewhere so you must be sure this place is safe.</p>\n\n<p>This flow can be perfectly acceptable for you if you trust the computers involved in the communication. This is the case for exemple when you connect to your bank account.</p>\n\n<p>Bank computers are trusted by the bank, and the provided access to external word is really restricted and controlled. They are \"safe\".</p>\n\n<p>If you give away your own private key or access credential to the bank. You are compromized, but it is your responsability and problem. Because it is not in your interrest to be compromised, you'll do your best to avoid that. That nice, because you are the one with full control on your computer.</p>\n\n<p>But let say you access to your bank from a public computer, or a computer from another person. Then a simple keylogger can just record the keys and mouse move you make when you enter your password.</p>\n\n<p>Security on client side is based on trust you can have on the client. If you can trust him, this is perfect, it work. If you can't, then it is broken.</p>\n"},{"tags":[],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304179213,"creation_date":1304179213,"answer_id":5842956,"question_id":5761519,"body_markdown":"There is another angle to this issue: Java delivered Permissions. In a context where the environment is controlled, one can assign a set of permissions to classes loaded with a secure class loader.\r\n\r\nJava delivers 3 permissions objects related to the implementation of security: \r\n\r\n&gt; PrivateCredentialPermission SecurityPermission AuthPermission\r\n\r\nThese can help improve and control access to functionalities when implementing a cryptography system. They are necessarily sufficient to make the system secure.","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>There is another angle to this issue: Java delivered Permissions. In a context where the environment is controlled, one can assign a set of permissions to classes loaded with a secure class loader.</p>\n\n<p>Java delivers 3 permissions objects related to the implementation of security: </p>\n\n<blockquote>\n  <p>PrivateCredentialPermission SecurityPermission AuthPermission</p>\n</blockquote>\n\n<p>These can help improve and control access to functionalities when implementing a cryptography system. They are necessarily sufficient to make the system secure.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1304243769,"creation_date":1304243769,"answer_id":5847698,"question_id":5761519,"body_markdown":"If you need to run untrusted code, the best way to do this is to run it in a separate JVM.  This way the untrusted code can be given the strictest limitations and even be killed if for example you have a run away CPU or crash the JVM. The only access the code can make is via the means you provide it an use reflection will not give you access to classes in another JVM no matter what you do.\r\n\r\nYou can even construct a jail or maze for your application.  This can allow the untrusted code to run in what appears to be a real system, but in reality it is not. (The purpose of which is to tie you any would be hacker long enough to see what they are doing)\r\n\r\nYou could even run the JVM in its own virtual machine so it looks like you have complete (but dummy) system to &quot;invade&quot;.  A virtual machine can be saved for analysis and wiped to a preset state very easily.\r\n\r\nThe ultimate solution is to place the untrusted code on a dummy LAN of its own. (Something they did to analyse the stuxnet worm. ;)","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>If you need to run untrusted code, the best way to do this is to run it in a separate JVM.  This way the untrusted code can be given the strictest limitations and even be killed if for example you have a run away CPU or crash the JVM. The only access the code can make is via the means you provide it an use reflection will not give you access to classes in another JVM no matter what you do.</p>\n\n<p>You can even construct a jail or maze for your application.  This can allow the untrusted code to run in what appears to be a real system, but in reality it is not. (The purpose of which is to tie you any would be hacker long enough to see what they are doing)</p>\n\n<p>You could even run the JVM in its own virtual machine so it looks like you have complete (but dummy) system to \"invade\".  A virtual machine can be saved for analysis and wiped to a preset state very easily.</p>\n\n<p>The ultimate solution is to place the untrusted code on a dummy LAN of its own. (Something they did to analyse the stuxnet worm. ;)</p>\n"},{"tags":[],"owner":{"account_id":30006,"reputation":1200,"user_id":81502,"accept_rate":50,"display_name":"bgiles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381335739,"creation_date":1381335739,"answer_id":19277478,"question_id":5761519,"body_markdown":"Adding a comment for anyone else who stumbles across this old thread....\r\n\r\nSometimes all you need is a &#39;signed&#39; value, not an &#39;encrypted&#39; value. E.g., (encoded) license tokens need to be signed but they shouldn&#39;t need to be encrypted. In these cases you can distribute the PUBLIC key and it&#39;s not an issue that anyone can see it. You&#39;re still protected since nobody else can create the signed token.\r\n\r\nYou can also use the public key to send encrypted messages to the server.\r\n\r\nOf course this won&#39;t stop a knowledgeable and determined attacker - see the other responses. In this case someone could simply replace your public key with their own, esp. if you don&#39;t validate the cert chain. But if you can use signatures instead of encryption it will save you major headaches.\r\n","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>Adding a comment for anyone else who stumbles across this old thread....</p>\n\n<p>Sometimes all you need is a 'signed' value, not an 'encrypted' value. E.g., (encoded) license tokens need to be signed but they shouldn't need to be encrypted. In these cases you can distribute the PUBLIC key and it's not an issue that anyone can see it. You're still protected since nobody else can create the signed token.</p>\n\n<p>You can also use the public key to send encrypted messages to the server.</p>\n\n<p>Of course this won't stop a knowledgeable and determined attacker - see the other responses. In this case someone could simply replace your public key with their own, esp. if you don't validate the cert chain. But if you can use signatures instead of encryption it will save you major headaches.</p>\n"}],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5305,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5761546,"answer_count":12,"score":8,"last_activity_date":1682247757,"creation_date":1303522220,"question_id":5761519,"body_markdown":"This is a brainstorming question about what&#39;s possible in Java (or not). I want to know if it is possible to hide a secret within a class and prevent anyone from accessing it **using Java code or any of its feature only** (security, reflection, serialization, class loaders, you-name-it...).\r\n\r\nHere is what I have in mind so far:\r\n\r\n    public final class Safe {\r\n        \r\n        private String secret;\r\n        private HashMap&lt;String, Credentials&gt; validCertificates\r\n                = new HashMap&lt;String, Credentials&gt;();\r\n        \r\n        public Safe(String aSecret) {\r\n            this.secret = aSecret;\r\n        }\r\n        \r\n        public final class Credentials {\r\n            private String user;\r\n            private Credentials(String user) {\r\n                this.user = user;\r\n            }\r\n        }\r\n        \r\n        public final Credentials getCredential(String user) {\r\n            // Following test is just for illustrating the intention...\r\n            if ( &quot;accepted&quot;.equals(user) ) {\r\n                return new Credentials(user);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        public String gimmeTheSecret(Credentials cred) {\r\n            if ( this.validCertificates.get(cred.user) == cred ) {\r\n                return secret;\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n        private void writeObject(ObjectOutputStream stream) throws IOException {\r\n            throw new RuntimeException(&quot;No no no no no no no!!!&quot;);\r\n        }\r\n        \r\n    }\r\n\r\nCan it be improved? Should it be improved? Is the idea of locking a secret in a safe class impossible to achieve?\r\n\r\n**EDIT**\r\n\r\n*Relevance:*\r\n\r\nSome people question the relevance of the issue I am raising here. Although I am asking a general question in order to trigger an open conversation, there is a very concrete application to this class:\r\n\r\n- If I want to decrypt some messages, I need to load a private key data into a class. If I can&#39;t prevent other Java code from accessing it, then it is impossible to create a secure system. Of course, if I want to decrypt a message, I should rather do it in the class than giving away the secret, but still, the safe has to remain unbreakable.\r\n\r\n*Clarification:*\r\n\r\n- Instances of the class are only created at runtime, not at compile time\r\n- Code can run in web server applications or any desktop or device applications\r\n- The class is only used to store a secret at runtime, in memory, no plans to persist it (for persistence, one can/should use classic encryption techniques)\r\n\r\n*Facts:*\r\n\r\n- To implement security in a Java application, one should set a SecurityManager instance where *checking* methods are overridden as needed\r\n- This application can load untrusted code with secure class loaders and assign a protection domain for the classes it loads. This domain ***should not*** include a RuntimePermission(&quot;setSecurityManager&quot;).\r\n- Untrusted code can try to change the SecurityManager, but since the Secure Class Loader did not grant the setSecurityManager permission, a SecurityException will be thrown.\r\n\r\n*Solved issues:*\r\n\r\nRegarding the execution environment, we need to distinguish two cases:\r\n\r\n - **Controlled environment:** We get to start the application that will use untrusted code trying to break our &#39;safe&#39;. \r\n\r\nIf we set a proper SecurityManager disabling reflection and restricting permissions on any loaded untrusted code, then our secret is safe.\r\n\r\n - **Uncontrolled environment:** Hacker gets to start the application which uses untrusted code trying to break our &#39;safe&#39;.\r\n\r\nThe hacker can create his own application with its own security manager and Secure Class loader. It could load our code from the classpath and execute it as if it were our own application. In this case, he could break the safe.\r\n\r\n- As established in [a separate question][2], sun.misc.Unsafe cannot break a security manager\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/reflect/ReflectPermission.html\r\n  [2]: https://stackoverflow.com/questions/5761702/can-one-break-a-secure-class-loader-with-a-sun-misc-unsafe","title":"Can a secret be hidden in a &#39;safe&#39; java class offering access credentials?","body":"<p>This is a brainstorming question about what's possible in Java (or not). I want to know if it is possible to hide a secret within a class and prevent anyone from accessing it <strong>using Java code or any of its feature only</strong> (security, reflection, serialization, class loaders, you-name-it...).</p>\n<p>Here is what I have in mind so far:</p>\n<pre><code>public final class Safe {\n    \n    private String secret;\n    private HashMap&lt;String, Credentials&gt; validCertificates\n            = new HashMap&lt;String, Credentials&gt;();\n    \n    public Safe(String aSecret) {\n        this.secret = aSecret;\n    }\n    \n    public final class Credentials {\n        private String user;\n        private Credentials(String user) {\n            this.user = user;\n        }\n    }\n    \n    public final Credentials getCredential(String user) {\n        // Following test is just for illustrating the intention...\n        if ( &quot;accepted&quot;.equals(user) ) {\n            return new Credentials(user);\n        } else {\n            return null;\n        }\n    }\n    \n    public String gimmeTheSecret(Credentials cred) {\n        if ( this.validCertificates.get(cred.user) == cred ) {\n            return secret;\n        } else {\n            return null;\n        }\n    }\n    \n    private void writeObject(ObjectOutputStream stream) throws IOException {\n        throw new RuntimeException(&quot;No no no no no no no!!!&quot;);\n    }\n    \n}\n</code></pre>\n<p>Can it be improved? Should it be improved? Is the idea of locking a secret in a safe class impossible to achieve?</p>\n<p><strong>EDIT</strong></p>\n<p><em>Relevance:</em></p>\n<p>Some people question the relevance of the issue I am raising here. Although I am asking a general question in order to trigger an open conversation, there is a very concrete application to this class:</p>\n<ul>\n<li>If I want to decrypt some messages, I need to load a private key data into a class. If I can't prevent other Java code from accessing it, then it is impossible to create a secure system. Of course, if I want to decrypt a message, I should rather do it in the class than giving away the secret, but still, the safe has to remain unbreakable.</li>\n</ul>\n<p><em>Clarification:</em></p>\n<ul>\n<li>Instances of the class are only created at runtime, not at compile time</li>\n<li>Code can run in web server applications or any desktop or device applications</li>\n<li>The class is only used to store a secret at runtime, in memory, no plans to persist it (for persistence, one can/should use classic encryption techniques)</li>\n</ul>\n<p><em>Facts:</em></p>\n<ul>\n<li>To implement security in a Java application, one should set a SecurityManager instance where <em>checking</em> methods are overridden as needed</li>\n<li>This application can load untrusted code with secure class loaders and assign a protection domain for the classes it loads. This domain <em><strong>should not</strong></em> include a RuntimePermission(&quot;setSecurityManager&quot;).</li>\n<li>Untrusted code can try to change the SecurityManager, but since the Secure Class Loader did not grant the setSecurityManager permission, a SecurityException will be thrown.</li>\n</ul>\n<p><em>Solved issues:</em></p>\n<p>Regarding the execution environment, we need to distinguish two cases:</p>\n<ul>\n<li><strong>Controlled environment:</strong> We get to start the application that will use untrusted code trying to break our 'safe'.</li>\n</ul>\n<p>If we set a proper SecurityManager disabling reflection and restricting permissions on any loaded untrusted code, then our secret is safe.</p>\n<ul>\n<li><strong>Uncontrolled environment:</strong> Hacker gets to start the application which uses untrusted code trying to break our 'safe'.</li>\n</ul>\n<p>The hacker can create his own application with its own security manager and Secure Class loader. It could load our code from the classpath and execute it as if it were our own application. In this case, he could break the safe.</p>\n<ul>\n<li>As established in <a href=\"https://stackoverflow.com/questions/5761702/can-one-break-a-secure-class-loader-with-a-sun-misc-unsafe\">a separate question</a>, sun.misc.Unsafe cannot break a security manager</li>\n</ul>\n"},{"tags":["java","security","licensing","copy-protection","license-key"],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1353423867,"creation_date":1353423867,"answer_id":13476015,"question_id":13475672,"body_markdown":"If you want a simple scheme, you could put the company name and the MAC address together, compute a hash (e.g. [SHA-1][1]), and use that as the activation key.\r\n\r\nFor some Java code, see https://stackoverflow.com/questions/1515489/java-compute-sha-1\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SHA-1","title":"java license enforcement, algorithm for creating activation key?","body":"<p>If you want a simple scheme, you could put the company name and the MAC address together, compute a hash (e.g. <a href=\"http://en.wikipedia.org/wiki/SHA-1\" rel=\"nofollow noreferrer\">SHA-1</a>), and use that as the activation key.</p>\n\n<p>For some Java code, see <a href=\"https://stackoverflow.com/questions/1515489/java-compute-sha-1\">Compute SHA-1 of byte array</a></p>\n"}],"owner":{"account_id":1068213,"reputation":1436,"user_id":1068156,"accept_rate":49,"display_name":"jadrijan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"closed_date":1433276433,"accepted_answer_id":13476015,"answer_count":1,"score":1,"last_activity_date":1682247640,"creation_date":1353422705,"question_id":13475672,"body_markdown":"I&#39;ve decided to use the TrueLicense library to enforce a copy protection for an Java application I developed. Since TrueLicense does not offer a copy protection schema, I need one. I simply want to use the Company Name in combination with the Mac ID to create a license. \r\nWhat I need is an algorithm to create an activation key from Company Name and the Mac ID, and I was wondering if anyone could point me in the right direction?\r\n\r\nI understand that a knowledgeable person can crack an application within minutes. I understand that no matter what protection I use someone can always get past it. My intention is to unable simple users from copying the application onto multiple machines.\r\n\r\nOnce again, I need an algorithm to create the activation key from Company Name and Mac ID. Thank you","title":"java license enforcement, algorithm for creating activation key?","body":"<p>I've decided to use the TrueLicense library to enforce a copy protection for an Java application I developed. Since TrueLicense does not offer a copy protection schema, I need one. I simply want to use the Company Name in combination with the Mac ID to create a license. \nWhat I need is an algorithm to create an activation key from Company Name and the Mac ID, and I was wondering if anyone could point me in the right direction?</p>\n\n<p>I understand that a knowledgeable person can crack an application within minutes. I understand that no matter what protection I use someone can always get past it. My intention is to unable simple users from copying the application onto multiple machines.</p>\n\n<p>Once again, I need an algorithm to create the activation key from Company Name and Mac ID. Thank you</p>\n"},{"tags":["java","jar","decompiling","copy-protection"],"comments":[{"owner":{"account_id":428639,"reputation":1266,"user_id":811098,"accept_rate":52,"display_name":"Pouya"},"score":0,"creation_date":1437551023,"post_id":9633455,"comment_id":51070426,"body_markdown":"I found out that suggested duplicate actually does answer my question. Thanks for the directions.","body":"I found out that suggested duplicate actually does answer my question. Thanks for the directions."}],"answers":[{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1331294159,"creation_date":1331293323,"answer_id":9633474,"question_id":9633455,"body_markdown":"As Java preserves most of the &quot;metadata&quot; during compilation (which allows dynamic loading and reflection), it is a straight forward to decompile (not only disassemble) the compiled class files. That&#39;s why the recovered code is very similar to the original.\r\n\r\nWhile not perfect, your probably only option is to use an obfuscator, such as [ProGuard][1].\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"How to protect a Jar file from being decompiled?","body":"<p>As Java preserves most of the \"metadata\" during compilation (which allows dynamic loading and reflection), it is a straight forward to decompile (not only disassemble) the compiled class files. That's why the recovered code is very similar to the original.</p>\n\n<p>While not perfect, your probably only option is to use an obfuscator, such as <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">ProGuard</a>.</p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1331293379,"creation_date":1331293379,"answer_id":9633488,"question_id":9633455,"body_markdown":"You can&#39;t. At the minimum, the JVM is going to need to get the code out in order to run it. And if the JVM can get the code out, anyone can.\r\n\r\nThe best you can do is obfuscate the code, but I would recommend against it because it will make tracking down production bugs very difficult because the stack traces will be hard to follow.","title":"How to protect a Jar file from being decompiled?","body":"<p>You can't. At the minimum, the JVM is going to need to get the code out in order to run it. And if the JVM can get the code out, anyone can.</p>\n\n<p>The best you can do is obfuscate the code, but I would recommend against it because it will make tracking down production bugs very difficult because the stack traces will be hard to follow.</p>\n"},{"tags":[],"owner":{"account_id":559233,"reputation":741,"user_id":921574,"display_name":"anakkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331293404,"creation_date":1331293404,"answer_id":9633495,"question_id":9633455,"body_markdown":"There is no possibility to protect the code from disassembling. You can use obfuscation tool like &#39;proguard&#39;. Even after decompilation it will be almost impossible to understand the code. ","title":"How to protect a Jar file from being decompiled?","body":"<p>There is no possibility to protect the code from disassembling. You can use obfuscation tool like 'proguard'. Even after decompilation it will be almost impossible to understand the code. </p>\n"},{"tags":[],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331293666,"creation_date":1331293666,"answer_id":9633556,"question_id":9633455,"body_markdown":"Obfuscate your code using some obfuscator in the market. Obfuscators change the names of your class and its methods to some weird looking names so that it becomes hard for people to make sense of the code. Mind it, people would still be able to decompile your code but only thing is it would be hard for them to understand it due to the jumbled names.\r\n\r\nDownside of this is, it would be hard for you to debug and support the obfuscated code in case your customer faces some issues as the stack traces in the exceptions would have the jumbled up class and method names.","title":"How to protect a Jar file from being decompiled?","body":"<p>Obfuscate your code using some obfuscator in the market. Obfuscators change the names of your class and its methods to some weird looking names so that it becomes hard for people to make sense of the code. Mind it, people would still be able to decompile your code but only thing is it would be hard for them to understand it due to the jumbled names.</p>\n\n<p>Downside of this is, it would be hard for you to debug and support the obfuscated code in case your customer faces some issues as the stack traces in the exceptions would have the jumbled up class and method names.</p>\n"},{"tags":[],"owner":{"account_id":1251771,"reputation":403,"user_id":1212054,"accept_rate":0,"display_name":"krupal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1331297595,"creation_date":1331297595,"answer_id":9634370,"question_id":9633455,"body_markdown":"it&#39;s never impossible to reverse-engineer in java\r\nbut i think that Proguard is the best. It is also possible to integrate it with your IDE (for example NetBeans). \r\nand ygard for ant","title":"How to protect a Jar file from being decompiled?","body":"<p>it's never impossible to reverse-engineer in java\nbut i think that Proguard is the best. It is also possible to integrate it with your IDE (for example NetBeans). \nand ygard for ant</p>\n"}],"owner":{"account_id":428639,"reputation":1266,"user_id":811098,"accept_rate":52,"display_name":"Pouya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19488,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1437550961,"accepted_answer_id":9633474,"answer_count":5,"score":10,"last_activity_date":1682247619,"creation_date":1331293237,"question_id":9633455,"body_markdown":"I&#39;m developing an application using java but I&#39;m not going to release the code. The problem is, I tested one of these jar de-compilers and it was able to get the code from my jar file almost perfectly!\r\nMy question is how can I distribute my jar file without my code being extracted from it?","title":"How to protect a Jar file from being decompiled?","body":"<p>I'm developing an application using java but I'm not going to release the code. The problem is, I tested one of these jar de-compilers and it was able to get the code from my jar file almost perfectly!\nMy question is how can I distribute my jar file without my code being extracted from it?</p>\n"},{"tags":["java","reverse-engineering","copy-protection","commerce"],"comments":[{"owner":{"account_id":40400,"reputation":38837,"user_id":117069,"accept_rate":92,"display_name":"RCIX"},"score":0,"creation_date":1274918014,"post_id":2466424,"comment_id":2969733,"body_markdown":"http://superuser.com/questions/14224/how-to-explain-drm-cannot-work/14764#14764","body":"<a href=\"http://superuser.com/questions/14224/how-to-explain-drm-cannot-work/14764#14764\" title=\"how to explain drm cannot work\">superuser.com/questions/14224/how-to-explain-drm-cannot-work&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":167666,"reputation":8848,"user_id":392626,"accept_rate":50,"display_name":"Kissaki"},"score":0,"creation_date":1287337672,"post_id":2466424,"comment_id":4225316,"body_markdown":"Could you change the question title to reflect that this is about DRM / securing your app from cracking?","body":"Could you change the question title to reflect that this is about DRM / securing your app from cracking?"}],"answers":[{"tags":[],"owner":{"account_id":107007,"reputation":31656,"user_id":284731,"display_name":"zellio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268867439,"creation_date":1268866086,"answer_id":2466454,"question_id":2466424,"body_markdown":"Unless your application is specifically web based your users will find it to be a huge hassle to require an internet connection in order that they might access the product. What you are suggesting will work, unless it gets broken, like all DRM systems do. I understand the want to protect your intellectual property, but with many companies as examples, these systems are usually broken or the product does much worse because of them.","title":"Making commercial Java software (DRM)","body":"<p>Unless your application is specifically web based your users will find it to be a huge hassle to require an internet connection in order that they might access the product. What you are suggesting will work, unless it gets broken, like all DRM systems do. I understand the want to protect your intellectual property, but with many companies as examples, these systems are usually broken or the product does much worse because of them.</p>\n"},{"tags":[],"owner":{"account_id":104635,"reputation":10035,"user_id":279623,"accept_rate":82,"display_name":"Tomislav Nakic-Alfirevic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268866120,"creation_date":1268866120,"answer_id":2466456,"question_id":2466424,"body_markdown":"That&#39;s a really tricky task, especially with something running in a VM.\r\nI would say you might be thinking in the right direction. Obfuscating it to make it reasonably hard to modify might prevent people from circumventing the built in licence checks.\r\n\r\nHowever, ultimately, if your application is self-contained, it will always be crackable. If you can build it so that it uses _services_ you provide, than you can probably command it&#39;s use.","title":"Making commercial Java software (DRM)","body":"<p>That's a really tricky task, especially with something running in a VM.\nI would say you might be thinking in the right direction. Obfuscating it to make it reasonably hard to modify might prevent people from circumventing the built in licence checks.</p>\n\n<p>However, ultimately, if your application is self-contained, it will always be crackable. If you can build it so that it uses <em>services</em> you provide, than you can probably command it's use.</p>\n"},{"tags":[],"owner":{"account_id":94094,"reputation":20597,"user_id":257090,"accept_rate":96,"display_name":"codenheim"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1268866251,"creation_date":1268866251,"answer_id":2466463,"question_id":2466424,"body_markdown":"&gt; I have really no idea of how to\r\n&gt; protect it from being cracked and\r\n&gt; distributed as warez.\r\n\r\nFirst, you&#39;d be better choosing a language besides Java, if this is a concern. This is why C++ is still alive and well in the commercial apps world. Unless you are going to use an actual Java compiler to native exe, I&#39;d reconsider Java for IP protection reasons.\r\n\r\nFor that matter, even C++ isn&#39;t impervious to cracking, but IP prorection vs. cracking are two separate, important concerns.","title":"Making commercial Java software (DRM)","body":"<blockquote>\n  <p>I have really no idea of how to\n  protect it from being cracked and\n  distributed as warez.</p>\n</blockquote>\n\n<p>First, you'd be better choosing a language besides Java, if this is a concern. This is why C++ is still alive and well in the commercial apps world. Unless you are going to use an actual Java compiler to native exe, I'd reconsider Java for IP protection reasons.</p>\n\n<p>For that matter, even C++ isn't impervious to cracking, but IP prorection vs. cracking are two separate, important concerns.</p>\n"},{"tags":[],"owner":{"account_id":87413,"reputation":2482,"user_id":242405,"accept_rate":89,"display_name":"defectivehalt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268867737,"creation_date":1268866917,"answer_id":2466521,"question_id":2466424,"body_markdown":"That is some of the harshest DRM I&#39;ve ever heard of, your users would hate it. \r\n\r\nAlso, keep in mind that there are a lot of good Java decompilers out there due to the nature of the language and someone determined enough could just find areas of the program dealing with your DRM and bypass/disable it &lt;strike&gt;then recompile it&lt;/strike&gt; ([according to this](https://stackoverflow.com/questions/2242055/is-java-code-obfuscation-actually-effective-vs-decompilers) a recompilation would be unrealistic)... so you would even have to go out of your way to implement your code as complex as possible to prevent a hacker from being successful. (Which could be done with one of those code obfuscation tools they may have out there.)","title":"Making commercial Java software (DRM)","body":"<p>That is some of the harshest DRM I've ever heard of, your users would hate it. </p>\n\n<p>Also, keep in mind that there are a lot of good Java decompilers out there due to the nature of the language and someone determined enough could just find areas of the program dealing with your DRM and bypass/disable it <strike>then recompile it</strike> (<a href=\"https://stackoverflow.com/questions/2242055/is-java-code-obfuscation-actually-effective-vs-decompilers\">according to this</a> a recompilation would be unrealistic)... so you would even have to go out of your way to implement your code as complex as possible to prevent a hacker from being successful. (Which could be done with one of those code obfuscation tools they may have out there.)</p>\n"},{"tags":[],"owner":{"account_id":70624,"reputation":3493,"user_id":204634,"accept_rate":59,"display_name":"lorenzog"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1268867518,"creation_date":1268867518,"answer_id":2466573,"question_id":2466424,"body_markdown":"I am sorry to turn you down, but *first* you should have an idea of what you want to build; then you should *prove* that your idea not only works, but is also loved by users to the point where they *want* to pirate it. Thirdly, you have to make sure that the time you are investing in making it &quot;secure&quot; is actually worth the value of the application.\r\n\r\nIf you sell it for a dollar, and you only sell ten copies, and you spent 100 hours making it secure, you do the math and tell me if your time was worth that little money.\r\n\r\nThe take-home message here is: everything can be cracked or copied. At the end there are much brighter people than us doing this (iPhone cracking, digital TV, games, etc) and nobody found the silver bullet. Only thing you can do is make it **harder** to crack your application (often at the expenses of usability, ease of installation, and by cutting corners for some use scenarios). Asking yourself if it&#39;s worth the hassle it&#39;s always a good starting point.","title":"Making commercial Java software (DRM)","body":"<p>I am sorry to turn you down, but <em>first</em> you should have an idea of what you want to build; then you should <em>prove</em> that your idea not only works, but is also loved by users to the point where they <em>want</em> to pirate it. Thirdly, you have to make sure that the time you are investing in making it \"secure\" is actually worth the value of the application.</p>\n\n<p>If you sell it for a dollar, and you only sell ten copies, and you spent 100 hours making it secure, you do the math and tell me if your time was worth that little money.</p>\n\n<p>The take-home message here is: everything can be cracked or copied. At the end there are much brighter people than us doing this (iPhone cracking, digital TV, games, etc) and nobody found the silver bullet. Only thing you can do is make it <strong>harder</strong> to crack your application (often at the expenses of usability, ease of installation, and by cutting corners for some use scenarios). Asking yourself if it's worth the hassle it's always a good starting point.</p>\n"},{"tags":[],"owner":{"account_id":24584,"reputation":1167,"user_id":62628,"accept_rate":60,"display_name":"Zak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268867642,"creation_date":1268867642,"answer_id":2466583,"question_id":2466424,"body_markdown":"Don&#39;t bother.\r\n\r\nThe gaming industry has been battling piracy for decades. Online multiplayer games with a central server typically require a subscription to play. That model is fairly resistant to piracy. Pretty much all other games are heavily pirated, despite innumerable attempts at DRM.\r\n\r\nYour app will be cracked and pirated, no matter what language you write it in and what tools you use to prevent it. If your DRM actually works, the people who would have pirated it still won&#39;t buy it. Furthermore, legitimate users will prefer other products that don&#39;t have intrusive DRM. If there are no competing products and yours has any market to speak of, someone will create one.","title":"Making commercial Java software (DRM)","body":"<p>Don't bother.</p>\n\n<p>The gaming industry has been battling piracy for decades. Online multiplayer games with a central server typically require a subscription to play. That model is fairly resistant to piracy. Pretty much all other games are heavily pirated, despite innumerable attempts at DRM.</p>\n\n<p>Your app will be cracked and pirated, no matter what language you write it in and what tools you use to prevent it. If your DRM actually works, the people who would have pirated it still won't buy it. Furthermore, legitimate users will prefer other products that don't have intrusive DRM. If there are no competing products and yours has any market to speak of, someone will create one.</p>\n"},{"tags":[],"owner":{"account_id":79868,"reputation":4170,"user_id":226174,"display_name":"Rickard von Essen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268868131,"creation_date":1268867721,"answer_id":2466596,"question_id":2466424,"body_markdown":"I see a specific weakness in your example, besides the comment most people already put in that DRM is hard(impossible) to implement and often simple to circumvent. \r\n\r\nIn your second point:\r\n&gt; If everything is fine, the server\r\n&gt; returns some crucial missing parts of\r\n&gt; the program bound to that certain pc\r\n&gt; along with the usage limit of say 2\r\n&gt; days\r\n\r\nThis 2 (or X) days limit will most likely be extremely simple to circumvent, this would just a few minutes to find and patch (crack).  \r\n\r\nIf you really want to have a DRM model the only reasonable way to go is to put at significant part of the application as a web service and require constant connection from the users.\r\n\r\nBefore you try any of this, be sure to read [Exploiting Software][1] and you will think twice before trying to do DRM.\r\n\r\n\r\n  [1]: http://www.amazon.com/Exploiting-Software-How-Break-Code/dp/0201786958/ref=pd_ys_iyr_img","title":"Making commercial Java software (DRM)","body":"<p>I see a specific weakness in your example, besides the comment most people already put in that DRM is hard(impossible) to implement and often simple to circumvent. </p>\n\n<p>In your second point:</p>\n\n<blockquote>\n  <p>If everything is fine, the server\n  returns some crucial missing parts of\n  the program bound to that certain pc\n  along with the usage limit of say 2\n  days</p>\n</blockquote>\n\n<p>This 2 (or X) days limit will most likely be extremely simple to circumvent, this would just a few minutes to find and patch (crack).  </p>\n\n<p>If you really want to have a DRM model the only reasonable way to go is to put at significant part of the application as a web service and require constant connection from the users.</p>\n\n<p>Before you try any of this, be sure to read <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201786958\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Exploiting Software</a> and you will think twice before trying to do DRM.</p>\n"},{"tags":[],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268867734,"creation_date":1268867734,"answer_id":2466597,"question_id":2466424,"body_markdown":"To paraphrase a Mr Jeff Atwood, it is better to make it easier for your customer to pay you than it is to crack your app. In other words, I think you are attacking the wrong problem. Make buying your product REALLY easy and then your customers won&#39;t feel they need to go to the effort of cracking it.","title":"Making commercial Java software (DRM)","body":"<p>To paraphrase a Mr Jeff Atwood, it is better to make it easier for your customer to pay you than it is to crack your app. In other words, I think you are attacking the wrong problem. Make buying your product REALLY easy and then your customers won't feel they need to go to the effort of cracking it.</p>\n"},{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268867790,"creation_date":1268867790,"answer_id":2466608,"question_id":2466424,"body_markdown":"I would have a look at the backlash from the game Spore before deciding on a licensing scheme.  They had it phone home, and only allowed so-many installations, etc. etc. etc.  Spore was supposed to be their &quot;Killer App&quot; and it really had a hard time simply because of the licensing.  You say you are willing to have fewer sales than see people using it for free, but you may want to be careful what you ask for.  I was really looking forward to spore (and so were my children) but I never did buy it because of the DRM scheme.\r\n\r\nNo matter what you do, it&#39;ll be cracked in very short order especially if the program really is worth anything.\r\n\r\nIf you do go with a licensing scheme, make it simple and usable so you are not punishing those that have actually paid for your software.  Also, I would avoid any phone-home style checks, that way your customers will be able to continue to use the software even if you don&#39;t want to keep paying for that domain 3 years from now.","title":"Making commercial Java software (DRM)","body":"<p>I would have a look at the backlash from the game Spore before deciding on a licensing scheme.  They had it phone home, and only allowed so-many installations, etc. etc. etc.  Spore was supposed to be their \"Killer App\" and it really had a hard time simply because of the licensing.  You say you are willing to have fewer sales than see people using it for free, but you may want to be careful what you ask for.  I was really looking forward to spore (and so were my children) but I never did buy it because of the DRM scheme.</p>\n\n<p>No matter what you do, it'll be cracked in very short order especially if the program really is worth anything.</p>\n\n<p>If you do go with a licensing scheme, make it simple and usable so you are not punishing those that have actually paid for your software.  Also, I would avoid any phone-home style checks, that way your customers will be able to continue to use the software even if you don't want to keep paying for that domain 3 years from now.</p>\n"},{"tags":[],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"down_vote_count":4,"up_vote_count":20,"is_accepted":true,"score":16,"last_activity_date":1268868636,"creation_date":1268868636,"answer_id":2466666,"question_id":2466424,"body_markdown":"I work for a company selling *protected* Java software.\r\n\r\nI won&#39;t comment on the scheme for user authentication, but I can comment on the online license check.\r\n\r\nDon&#39;t make it even &quot;work for two days&quot;: that&#39;s how I pirate most software... Virtual Machine set &quot;back in time&quot; and externally firewalled so that it doesn&#39;t &quot;phone home&quot; anymore (that is: only allowing it to contact the server once, to get the trial key), always reimaged from the point where the software got freshly installed and bingo, the 30-days trial (or two days trial) has become a lifetime trial.  Why do I do this?  To learn how to better protect our app of course ;)   (ok, ok, I do it just for fun too)\r\n\r\nWhat we do in our commercial Java software is to check the license at every startup.\r\n\r\nWe&#39;ve got hundreds of customers and nobody ever bitched about it. Not once. We generate a unique class at each run, which is different at every run, which depends both on things unique for that launch on the client side and on things generated once on the server side.\r\n\r\nIn addition to that having the app contact your server at every launch is a great way to gather analytics: download to trial ratio, nb average launches per trial, etc. And it&#39;s not nasty anymore than having an Urchin/Google JavaScript tracker on each webpage is nasty.\r\n\r\nSimply make it clear to people that your software performs the online licence check: we&#39;got a huge checkbox either on or off saying: &quot;Online licence verification: OK/Failed&quot;. And that&#39;s it.  People know there&#39;s a check. If they don&#39;t like it, they go use inferior competitor products and life is good. \r\n\r\nPeople are used to live in a wired world.\r\n\r\nHow often can you *not* access GMail because your Internet connection is down? How often can you *not* access FaceBook or SO because your Internet connection is down?\r\n\r\nPoint is: make as much computation as possible dependent on the server side:\r\n\r\n - licence check\r\n - save user preferences\r\n - backup of the data generated by your app \r\n - etc.\r\n\r\nNobody will complain.  You&#39;ll have 0.1% of your user complain and anyway you don&#39;t want these users: they&#39;re the one who would complain about other things and post negative feedback about your app online.  You better have them not to use your software at all and complain about the fact that it requires an always-on Internet connection (which 99.99% of your target demographic and hence they won&#39;t care about the complain) rather than actually have them use the app, and complain about other things related to your app.\r\n\r\nRegarding decompiling, .class can usually be decompiled back to .java unless you&#39;re using a code flow obfuscator that produces valid bytecode but that it impossible to be generated from .java file (hence it is impossible to get back a valid .java file).\r\n\r\nString obfuscator helps make it harder to figure out.\r\n\r\nSource code obfuscator helps make it harder to figure out.\r\n\r\nBytecode obfuscator like the free Proguard makes it harder (and produce faster code, especially noticeable in the mobile world) to figure out.\r\n\r\nIf you&#39;re shipping Windows/Linux only then you can use a Java-to-native converter like Excelsior Jet (not free and kinda expensive for startups, but it produces native code from which you simply *cannot* find the .java files back).\r\n \r\nAs a funny side note you&#39;ll see people trying to mess with your online server... At about 30 beta-testers we had already people (which we know where part of the trial) trying to pirate our online servers.\r\n\r\n\r\n\r\n","title":"Making commercial Java software (DRM)","body":"<p>I work for a company selling <em>protected</em> Java software.</p>\n\n<p>I won't comment on the scheme for user authentication, but I can comment on the online license check.</p>\n\n<p>Don't make it even \"work for two days\": that's how I pirate most software... Virtual Machine set \"back in time\" and externally firewalled so that it doesn't \"phone home\" anymore (that is: only allowing it to contact the server once, to get the trial key), always reimaged from the point where the software got freshly installed and bingo, the 30-days trial (or two days trial) has become a lifetime trial.  Why do I do this?  To learn how to better protect our app of course ;)   (ok, ok, I do it just for fun too)</p>\n\n<p>What we do in our commercial Java software is to check the license at every startup.</p>\n\n<p>We've got hundreds of customers and nobody ever bitched about it. Not once. We generate a unique class at each run, which is different at every run, which depends both on things unique for that launch on the client side and on things generated once on the server side.</p>\n\n<p>In addition to that having the app contact your server at every launch is a great way to gather analytics: download to trial ratio, nb average launches per trial, etc. And it's not nasty anymore than having an Urchin/Google JavaScript tracker on each webpage is nasty.</p>\n\n<p>Simply make it clear to people that your software performs the online licence check: we'got a huge checkbox either on or off saying: \"Online licence verification: OK/Failed\". And that's it.  People know there's a check. If they don't like it, they go use inferior competitor products and life is good. </p>\n\n<p>People are used to live in a wired world.</p>\n\n<p>How often can you <em>not</em> access GMail because your Internet connection is down? How often can you <em>not</em> access FaceBook or SO because your Internet connection is down?</p>\n\n<p>Point is: make as much computation as possible dependent on the server side:</p>\n\n<ul>\n<li>licence check</li>\n<li>save user preferences</li>\n<li>backup of the data generated by your app </li>\n<li>etc.</li>\n</ul>\n\n<p>Nobody will complain.  You'll have 0.1% of your user complain and anyway you don't want these users: they're the one who would complain about other things and post negative feedback about your app online.  You better have them not to use your software at all and complain about the fact that it requires an always-on Internet connection (which 99.99% of your target demographic and hence they won't care about the complain) rather than actually have them use the app, and complain about other things related to your app.</p>\n\n<p>Regarding decompiling, .class can usually be decompiled back to .java unless you're using a code flow obfuscator that produces valid bytecode but that it impossible to be generated from .java file (hence it is impossible to get back a valid .java file).</p>\n\n<p>String obfuscator helps make it harder to figure out.</p>\n\n<p>Source code obfuscator helps make it harder to figure out.</p>\n\n<p>Bytecode obfuscator like the free Proguard makes it harder (and produce faster code, especially noticeable in the mobile world) to figure out.</p>\n\n<p>If you're shipping Windows/Linux only then you can use a Java-to-native converter like Excelsior Jet (not free and kinda expensive for startups, but it produces native code from which you simply <em>cannot</em> find the .java files back).</p>\n\n<p>As a funny side note you'll see people trying to mess with your online server... At about 30 beta-testers we had already people (which we know where part of the trial) trying to pirate our online servers.</p>\n"},{"tags":[],"owner":{"account_id":94583,"reputation":1387,"user_id":258146,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268869417,"creation_date":1268869417,"answer_id":2466704,"question_id":2466424,"body_markdown":"I think, given the context, the most effective form of protection for now would be the limited demo/license key approach: it would give people time to fall in love with your application so that they are willing to pay for it, yet prevent casual copying.\r\n\r\nOnce you know that your app hit it big, and that crackers provably siphon off a significant portion of your possible earnings, then you can still add additional checks.\r\n\r\nAnother thing to consider is where your app is going to be used: if it&#39;s something people would put on the their laptops to use on the go, network connectivity is not a given.\r\n","title":"Making commercial Java software (DRM)","body":"<p>I think, given the context, the most effective form of protection for now would be the limited demo/license key approach: it would give people time to fall in love with your application so that they are willing to pay for it, yet prevent casual copying.</p>\n\n<p>Once you know that your app hit it big, and that crackers provably siphon off a significant portion of your possible earnings, then you can still add additional checks.</p>\n\n<p>Another thing to consider is where your app is going to be used: if it's something people would put on the their laptops to use on the go, network connectivity is not a given.</p>\n"},{"tags":[],"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268869603,"creation_date":1268869603,"answer_id":2466715,"question_id":2466424,"body_markdown":"As long as it&#39;s an Internet application, you could restrict it in that manner. Short of cracking the program, this would work fine except for replay attacks.\r\n\r\nFor example, if I can capture the traffic that is going to your server, and simply replay it back to my program each time, I&#39;m still good. For example, I could create my own &quot;web server&quot; and ensure the program hits that instead of your server.","title":"Making commercial Java software (DRM)","body":"<p>As long as it's an Internet application, you could restrict it in that manner. Short of cracking the program, this would work fine except for replay attacks.</p>\n\n<p>For example, if I can capture the traffic that is going to your server, and simply replay it back to my program each time, I'm still good. For example, I could create my own \"web server\" and ensure the program hits that instead of your server.</p>\n"},{"tags":[],"owner":{"account_id":112223,"reputation":1,"user_id":296112,"display_name":"tchufa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1268870185,"creation_date":1268870185,"answer_id":2466748,"question_id":2466424,"body_markdown":"You should read &quot;Surreptitious Software&quot; from Collberg and Nagra. This book is really good to help you understand how software protection mechanisms work (such as Code obfuscation, watermarking, birthmarking, etc...). \r\n\r\nAs lorenzog said, total security doesn&#39;t exist and software security is like a constant race between software vendors and pirates. \r\n\r\nYou should use cheap obfuscating transformations (so the overhead they incur isn&#39;t killing the performances) to prevent as many attackers (remember most of them are script kiddies) as possible to &quot;steal&quot; your killer algorithms or any secret data.\r\n\r\nIf you&#39;re willing to push the security further you can birthmark your algorithms and watermark your copies in order to find who leaked your creation. But even if you do, this doesn&#39;t mean your software is 100% secured. Plus the time you&#39;ll spend adding these mechanisms might not be worth the effort.\r\n\r\nThese concepts are really well explained in the book I mentioned before which is worth reading.\r\n\r\n\r\n\r\n","title":"Making commercial Java software (DRM)","body":"<p>You should read \"Surreptitious Software\" from Collberg and Nagra. This book is really good to help you understand how software protection mechanisms work (such as Code obfuscation, watermarking, birthmarking, etc...). </p>\n\n<p>As lorenzog said, total security doesn't exist and software security is like a constant race between software vendors and pirates. </p>\n\n<p>You should use cheap obfuscating transformations (so the overhead they incur isn't killing the performances) to prevent as many attackers (remember most of them are script kiddies) as possible to \"steal\" your killer algorithms or any secret data.</p>\n\n<p>If you're willing to push the security further you can birthmark your algorithms and watermark your copies in order to find who leaked your creation. But even if you do, this doesn't mean your software is 100% secured. Plus the time you'll spend adding these mechanisms might not be worth the effort.</p>\n\n<p>These concepts are really well explained in the book I mentioned before which is worth reading.</p>\n"},{"tags":[],"owner":{"account_id":110515,"reputation":2310,"user_id":292412,"accept_rate":80,"display_name":"Eric"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1269825984,"creation_date":1269825984,"answer_id":2535349,"question_id":2466424,"body_markdown":"If I had enough reputation points, I&#39;d vote this question down.  Commercial software protection is a waste of time, money, and effort for many reasons.  Concentrate on making a piece of software worth buying.  If your software is popular enough to maintain wide seeding by pirates, you&#39;re probably successful enough at that point that you won&#39;t even worry about piracy.  Anyway, crackers crack software protection mostly for fun.  The stronger your protection, the better the challenge it presents and the more they want to crack it.  Your best effort will cost you thousands, take months, and be cracked in only days.   ","title":"Making commercial Java software (DRM)","body":"<p>If I had enough reputation points, I'd vote this question down.  Commercial software protection is a waste of time, money, and effort for many reasons.  Concentrate on making a piece of software worth buying.  If your software is popular enough to maintain wide seeding by pirates, you're probably successful enough at that point that you won't even worry about piracy.  Anyway, crackers crack software protection mostly for fun.  The stronger your protection, the better the challenge it presents and the more they want to crack it.  Your best effort will cost you thousands, take months, and be cracked in only days.   </p>\n"}],"owner":{"account_id":42533,"reputation":27694,"user_id":123927,"accept_rate":94,"display_name":"Fluffy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9266,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"closed_date":1681544470,"accepted_answer_id":2466666,"answer_count":14,"score":17,"last_activity_date":1682247583,"creation_date":1268865624,"question_id":2466424,"body_markdown":"I intend to make some software to be sold over internet. I&#39;ve only created open-source before, so I have really no idea of how to protect it from being cracked and distributed as warez. Bearing in mind that I know like two programms that aren&#39;t either cracked or not really useful I decided that the only more or less reliable way may look like this: \r\n\r\n1. Connect to a server and provide licensing info and some sort of hardware summary info\r\n2. If everything is fine, the server returns some crucial missing parts of the program bound to that certain pc along with the usage limit of say 2 days\r\n3. That crucial stuff is not saved to hard drive, so it is downloaded every time the program starts, if the programm runs more than 2 days, data is downloaded again\r\n4. If the same info is used from different computers, suspend the customer account\r\n\r\nWhat do you think about this? It may seem a bit to restrictive, but I&#39;d better make less sales at first then eventually see my precious killer app downloaded for free. Anyways, first I need some basic theory/tutorials/guides about how to ensure that user only uses a certain Java app if he has paid for it, so please suggest some. \r\n\r\nThanks","title":"Making commercial Java software (DRM)","body":"<p>I intend to make some software to be sold over internet. I've only created open-source before, so I have really no idea of how to protect it from being cracked and distributed as warez. Bearing in mind that I know like two programms that aren't either cracked or not really useful I decided that the only more or less reliable way may look like this: </p>\n\n<ol>\n<li>Connect to a server and provide licensing info and some sort of hardware summary info</li>\n<li>If everything is fine, the server returns some crucial missing parts of the program bound to that certain pc along with the usage limit of say 2 days</li>\n<li>That crucial stuff is not saved to hard drive, so it is downloaded every time the program starts, if the programm runs more than 2 days, data is downloaded again</li>\n<li>If the same info is used from different computers, suspend the customer account</li>\n</ol>\n\n<p>What do you think about this? It may seem a bit to restrictive, but I'd better make less sales at first then eventually see my precious killer app downloaded for free. Anyways, first I need some basic theory/tutorials/guides about how to ensure that user only uses a certain Java app if he has paid for it, so please suggest some. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","encryption","zip","passwords"],"answers":[{"tags":[],"owner":{"account_id":45829,"reputation":11165,"user_id":135247,"display_name":"Curtis Tasker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1247248353,"creation_date":1247248353,"answer_id":1111019,"question_id":1109731,"body_markdown":"Since you want old style zip password protection rather than the new AES encryption, your choices are limited.  A quick search has turned up neither source code nor free libraries to handle the old stuff.   Your best bet is probably calling a command line zip tool, assuming one is installed.\r\n\r\nAt this point I&#39;d ask myself why I&#39;m even bothering to use the old style password protection, as its extremely easy to crack (a few hours tops).  About all it stops is mildly nosy nontechnical people.","title":"Create password protected zip in Java","body":"<p>Since you want old style zip password protection rather than the new AES encryption, your choices are limited.  A quick search has turned up neither source code nor free libraries to handle the old stuff.   Your best bet is probably calling a command line zip tool, assuming one is installed.</p>\n\n<p>At this point I'd ask myself why I'm even bothering to use the old style password protection, as its extremely easy to crack (a few hours tops).  About all it stops is mildly nosy nontechnical people.</p>\n"}],"owner":{"account_id":23724,"reputation":13660,"user_id":59666,"accept_rate":76,"display_name":"mgamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1111019,"answer_count":1,"score":2,"last_activity_date":1682247549,"creation_date":1247234499,"question_id":1109731,"body_markdown":"My question is similar to this one: [Write a password protected Zip file in Java][1], but what I need is to create password protected zip file using mechanism simpler than AES beause not every archive manager can unpack AES-protected zip files (for example WinRar is not able to do that). Do you know some free library that can password protect zip file?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/166340/write-a-password-protected-zip-file-in-java","title":"Create password protected zip in Java","body":"<p>My question is similar to this one: <a href=\"https://stackoverflow.com/questions/166340/write-a-password-protected-zip-file-in-java\">Write a password protected Zip file in Java</a>, but what I need is to create password protected zip file using mechanism simpler than AES beause not every archive manager can unpack AES-protected zip files (for example WinRar is not able to do that). Do you know some free library that can password protect zip file?</p>\n"},{"tags":["java","security","watermark","copy-protection"],"comments":[{"owner":{"account_id":110659,"reputation":13540,"user_id":292731,"accept_rate":89,"display_name":"Justin L."},"score":0,"creation_date":1277856061,"post_id":3145619,"comment_id":3232578,"body_markdown":"I&#39;m curious as to how software watermarking typically works.","body":"I&#39;m curious as to how software watermarking typically works."},{"owner":{"account_id":76381,"reputation":7199,"user_id":218682,"display_name":"catchmeifyoutry"},"score":0,"creation_date":1277857558,"post_id":3145619,"comment_id":3232672,"body_markdown":"do you actually want names of companies / products? Or a &quot;people that ...&quot; kind of answer?","body":"do you actually want names of companies / products? Or a &quot;people that ...&quot; kind of answer?"},{"owner":{"account_id":144393,"reputation":60657,"user_id":353410,"accept_rate":100,"display_name":"Dr. belisarius"},"score":0,"creation_date":1277859370,"post_id":3145619,"comment_id":3232773,"body_markdown":"I hate when my programs get wet :)","body":"I hate when my programs get wet :)"},{"owner":{"account_id":159885,"reputation":137,"user_id":379565,"display_name":"James Hamilton"},"score":0,"creation_date":1277902446,"post_id":3145619,"comment_id":3236764,"body_markdown":"@Justin - watermarking software involves embedded some extra information in a program, usually automatically. The simplest example would be declaring a string variable with a copyright notice - that&#39;s a simple static watermark. A dynamic watermark would be where code is embedded which generates the watermark while it&#39;s running - the program is then examined while running, for example examining values of variables, or the contents of the stack.\n\n@catchmeifyoutry no need for company names\n\n@belisarius don&#39;t drink around your computer :P","body":"@Justin - watermarking software involves embedded some extra information in a program, usually automatically. The simplest example would be declaring a string variable with a copyright notice - that&#39;s a simple static watermark. A dynamic watermark would be where code is embedded which generates the watermark while it&#39;s running - the program is then examined while running, for example examining values of variables, or the contents of the stack.  @catchmeifyoutry no need for company names  @belisarius don&#39;t drink around your computer :P"},{"owner":{"account_id":110659,"reputation":13540,"user_id":292731,"accept_rate":89,"display_name":"Justin L."},"score":0,"creation_date":1277925484,"post_id":3145619,"comment_id":3240513,"body_markdown":"I&#39;d imagine though that it&#39;d be fairly easy to remove a watermark that simple, if you have the source code anyway?","body":"I&#39;d imagine though that it&#39;d be fairly easy to remove a watermark that simple, if you have the source code anyway?"},{"owner":{"account_id":159885,"reputation":137,"user_id":379565,"display_name":"James Hamilton"},"score":0,"creation_date":1277929963,"post_id":3145619,"comment_id":3241241,"body_markdown":"Yes, of course. That was just a simple example. Most work looks at augmenting binary, or byte-code programmes rather than source code. I&#39;m looking at Java byte-code watermarking specifically. Most existing algorithms (especially static ones) are susceptible to simple attacks. While stronger algorithms are not always very &#39;stealthy&#39; - i.e. it&#39;s easy to find the watermark code by static\\dynamic\\statistical analysis of the code.","body":"Yes, of course. That was just a simple example. Most work looks at augmenting binary, or byte-code programmes rather than source code. I&#39;m looking at Java byte-code watermarking specifically. Most existing algorithms (especially static ones) are susceptible to simple attacks. While stronger algorithms are not always very &#39;stealthy&#39; - i.e. it&#39;s easy to find the watermark code by static\\dynamic\\statistical analysis of the code."}],"answers":[{"tags":[],"owner":{"account_id":48541,"reputation":629,"user_id":144282,"display_name":"Jason Wang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1277860014,"creation_date":1277860014,"answer_id":3145833,"question_id":3145619,"body_markdown":"Thats a very interesting question. I would have up-voted you if I got the permission;-).\r\n\r\nI actually wonderred the same question 4 years ago when I was doing my masters on dynamic software watermarks. I heard from some sources that IBM once won a law suit on copyright cases against some company, where software watermark actually got used as a hard evidence. But saidly its merely a heresay as I cannot find any source for that story. \r\n\r\nAnother case is that a chinese company successfully proved that google china stole their dict data and used in google&#39;s chinese PinYin input system. [See this][1] \r\n\r\n\r\nI dont really have an answer to your question. But I believe software watermarks will be recogised as a powerful tool not only in the acdemic world. The reason is with the burst of app store iphone/ipad/android applications, there is real money,lots of money involved in the piracy--anti-piracy battle. \r\n\r\nThere have been so many cases that people simply download paid apps and reverse engineer them,make minor modifications and then claim copyright and release the apps to make money. \r\n\r\nSo I will bet a company will be there that speciallises in utilising software watermarks to prove owership, might combind with using obfuscation to make reverser engineering harder.\r\n\r\nThe market is huge, the problem is getting bigger and the solution has been established (at least in acdemic world) ;-) \r\n\r\nIt might be time for me to re-read my paper and see what I can do to make some money ;-).\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://www.computerworld.com/s/article/9016079/Google_used_rival_s_database_inadvertently_","title":"Who Uses Software Watermarking?","body":"<p>Thats a very interesting question. I would have up-voted you if I got the permission;-).</p>\n\n<p>I actually wonderred the same question 4 years ago when I was doing my masters on dynamic software watermarks. I heard from some sources that IBM once won a law suit on copyright cases against some company, where software watermark actually got used as a hard evidence. But saidly its merely a heresay as I cannot find any source for that story. </p>\n\n<p>Another case is that a chinese company successfully proved that google china stole their dict data and used in google's chinese PinYin input system. <a href=\"http://www.computerworld.com/s/article/9016079/Google_used_rival_s_database_inadvertently_\" rel=\"nofollow noreferrer\">See this</a> </p>\n\n<p>I dont really have an answer to your question. But I believe software watermarks will be recogised as a powerful tool not only in the acdemic world. The reason is with the burst of app store iphone/ipad/android applications, there is real money,lots of money involved in the piracy--anti-piracy battle. </p>\n\n<p>There have been so many cases that people simply download paid apps and reverse engineer them,make minor modifications and then claim copyright and release the apps to make money. </p>\n\n<p>So I will bet a company will be there that speciallises in utilising software watermarks to prove owership, might combind with using obfuscation to make reverser engineering harder.</p>\n\n<p>The market is huge, the problem is getting bigger and the solution has been established (at least in acdemic world) ;-) </p>\n\n<p>It might be time for me to re-read my paper and see what I can do to make some money ;-).</p>\n"},{"tags":[],"owner":{"account_id":66479,"reputation":27633,"user_id":194982,"accept_rate":65,"display_name":"bguiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277865969,"creation_date":1277865969,"answer_id":3146148,"question_id":3145619,"body_markdown":"Having worked at three completely different places before, I can say that obfuscation is commonly used - all of them do. Watermarking? Well, I&#39;m only hearing of it now.\r\n\r\nAnyway, this obviously represents a very small sample size, so I&#39;d like to hear what others have to say too.","title":"Who Uses Software Watermarking?","body":"<p>Having worked at three completely different places before, I can say that obfuscation is commonly used - all of them do. Watermarking? Well, I'm only hearing of it now.</p>\n\n<p>Anyway, this obviously represents a very small sample size, so I'd like to hear what others have to say too.</p>\n"},{"tags":[],"owner":{"account_id":187924,"reputation":11357,"user_id":426332,"accept_rate":68,"display_name":"Mehdi LAMRANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485460857,"creation_date":1485460857,"answer_id":41881935,"question_id":3145619,"body_markdown":"The following case is often used as a typical example \r\n(Excerpt from the book &quot;Surreptious Software&quot;, from Christian Collberg &amp; Jasvir Nagra) :\r\n\r\n&gt; IBM sued a rival for theft of their PC-AT ROM. They argued that the defendant’s programmers pushed and popped registers in the same order as in the original code, which was essentially a birthmark. They also argued that it would be highly unlikely for two programs to both say push R1; push R2; add when push R2; push R1; add is semantically equivalent\r\n\r\n*Counsel for IBM Corporation. Software birthmarks. Talk to BCS Technology of Software Protection Special Interest Group. (1985)*","title":"Who Uses Software Watermarking?","body":"<p>The following case is often used as a typical example \n(Excerpt from the book \"Surreptious Software\", from Christian Collberg &amp; Jasvir Nagra) :</p>\n\n<blockquote>\n  <p>IBM sued a rival for theft of their PC-AT ROM. They argued that the defendant’s programmers pushed and popped registers in the same order as in the original code, which was essentially a birthmark. They also argued that it would be highly unlikely for two programs to both say push R1; push R2; add when push R2; push R1; add is semantically equivalent</p>\n</blockquote>\n\n<p><em>Counsel for IBM Corporation. Software birthmarks. Talk to BCS Technology of Software Protection Special Interest Group. (1985)</em></p>\n"}],"owner":{"account_id":159885,"reputation":137,"user_id":379565,"display_name":"James Hamilton"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1857,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":3145833,"answer_count":3,"score":13,"last_activity_date":1682247481,"creation_date":1277855738,"question_id":3145619,"body_markdown":"I&#39;m a PhD student looking at software watermarking techniques and I always get asked &#39;who uses it?&#39; The answer to which I don&#39;t know. There is a large amount of academic work on the subject (most notably from Collberg et al.) but very little indication of it&#39;s prevalence in industry. Software watermarking involves embedding a unique identifier into software in order to prove ownership, in a similar way to that of multimedia watermarking. So, maybe programmers here can answer the question: &#39;who uses software watermarking?&#39;","title":"Who Uses Software Watermarking?","body":"<p>I'm a PhD student looking at software watermarking techniques and I always get asked 'who uses it?' The answer to which I don't know. There is a large amount of academic work on the subject (most notably from Collberg et al.) but very little indication of it's prevalence in industry. Software watermarking involves embedding a unique identifier into software in order to prove ownership, in a similar way to that of multimedia watermarking. So, maybe programmers here can answer the question: 'who uses software watermarking?'</p>\n"},{"tags":["java","encryption","classloader","copy-protection"],"comments":[{"owner":{"account_id":106034,"reputation":35823,"user_id":282658,"accept_rate":100,"display_name":"JUST MY correct OPINION"},"score":9,"creation_date":1290522945,"post_id":4257027,"comment_id":4612292,"body_markdown":"For every can there&#39;s a can opener.  If the class can be executed in the JVM its contents can be obtained in some way.  Consider a hacked OpenJDK that dumps the guts of loaded classes, for example, as a trivial example.","body":"For every can there&#39;s a can opener.  If the class can be executed in the JVM its contents can be obtained in some way.  Consider a hacked OpenJDK that dumps the guts of loaded classes, for example, as a trivial example."},{"owner":{"account_id":243878,"reputation":5443,"user_id":2240807,"accept_rate":86,"display_name":"Lucas Moeskops"},"score":0,"creation_date":1290523141,"post_id":4257027,"comment_id":4612336,"body_markdown":"If your code is so great that it needs to be encrypted you better just copyright the algorithm imho :)","body":"If your code is so great that it needs to be encrypted you better just copyright the algorithm imho :)"}],"answers":[{"tags":[],"owner":{"account_id":32058,"reputation":6692,"user_id":88485,"accept_rate":100,"display_name":"Gerco Dries"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1290523083,"creation_date":1290523083,"answer_id":4257085,"question_id":4257027,"body_markdown":"Encryption doesn&#39;t add much safety to obfuscation. Anyone that is able to run your program will also be able to dump the decypted bytecode to disk. I assume this is why encrypting the bytecode isn&#39;t very common, where signing it is for example.\r\n\r\nIf you do want to encrypt your bytecode, make sure you also obfuscate it and I think the method you are currently using would work just fine without adding any frameworks or libraries.","title":"How can you protect/encrypt your Java classes?","body":"<p>Encryption doesn't add much safety to obfuscation. Anyone that is able to run your program will also be able to dump the decypted bytecode to disk. I assume this is why encrypting the bytecode isn't very common, where signing it is for example.</p>\n\n<p>If you do want to encrypt your bytecode, make sure you also obfuscate it and I think the method you are currently using would work just fine without adding any frameworks or libraries.</p>\n"},{"tags":[],"owner":{"account_id":63517,"reputation":11633,"user_id":187986,"accept_rate":79,"display_name":"Jason Nichols"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1663504845,"creation_date":1290523413,"answer_id":4257134,"question_id":4257027,"body_markdown":"Short answer, you can&#39;t.  Encryption doesn&#39;t work. Here&#39;s an oldish article about why it&#39;s [pointless to use an encrypted class loader][1]:\r\n\r\n&gt; Unfortunately, you would be wrong,\r\n&gt; both in thinking that you were the\r\n&gt; first to come up with this idea and in\r\n&gt; thinking that it actually works. And\r\n&gt; the reason has nothing to do with the\r\n&gt; strength of your encryption scheme.\r\n\r\nYou can obfuscate it, but that will only go so far, and in the end I&#39;m a firm believer that your time would be better spend fixing bugs or adding features.\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077342/cracking-java-byte-code-encryption.html","title":"How can you protect/encrypt your Java classes?","body":"<p>Short answer, you can't.  Encryption doesn't work. Here's an oldish article about why it's <a href=\"https://www.infoworld.com/article/2077342/cracking-java-byte-code-encryption.html\" rel=\"nofollow noreferrer\">pointless to use an encrypted class loader</a>:</p>\n<blockquote>\n<p>Unfortunately, you would be wrong,\nboth in thinking that you were the\nfirst to come up with this idea and in\nthinking that it actually works. And\nthe reason has nothing to do with the\nstrength of your encryption scheme.</p>\n</blockquote>\n<p>You can obfuscate it, but that will only go so far, and in the end I'm a firm believer that your time would be better spend fixing bugs or adding features.</p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1290525350,"creation_date":1290525350,"answer_id":4257512,"question_id":4257027,"body_markdown":"The only way you can protect your code is simply to not allow the user to run it. Instead of distributing an application, sell access to an online service. Your code is then sat on a server and the only thing you&#39;re exposing is the interface.\r\n\r\nThe alternative is to protect your code with contracts and lawyers, but unless you wrote something *really* good then this is going to cost you more than the revenue you&#39;d otherwise have lost.","title":"How can you protect/encrypt your Java classes?","body":"<p>The only way you can protect your code is simply to not allow the user to run it. Instead of distributing an application, sell access to an online service. Your code is then sat on a server and the only thing you're exposing is the interface.</p>\n\n<p>The alternative is to protect your code with contracts and lawyers, but unless you wrote something <em>really</em> good then this is going to cost you more than the revenue you'd otherwise have lost.</p>\n"},{"tags":[],"owner":{"account_id":11381299,"reputation":76,"user_id":8344146,"display_name":"J.Profi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500637774,"creation_date":1500637774,"answer_id":45236920,"question_id":4257027,"body_markdown":"We use the [JarProtector][1] library to encrypt our jar files. No obfuscation, but only encryption. There is no option to change the encryption key, but defineClass() will never be called.\r\n\r\n\r\n  [1]: http://bfa-it.com/?lang=en&amp;id=products/jarprotector","title":"How can you protect/encrypt your Java classes?","body":"<p>We use the <a href=\"http://bfa-it.com/?lang=en&amp;id=products/jarprotector\" rel=\"nofollow noreferrer\">JarProtector</a> library to encrypt our jar files. No obfuscation, but only encryption. There is no option to change the encryption key, but defineClass() will never be called.</p>\n"}],"owner":{"account_id":209343,"reputation":4288,"user_id":460306,"accept_rate":79,"display_name":"greuze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":4257134,"answer_count":4,"score":1,"last_activity_date":1682247457,"creation_date":1290522787,"question_id":4257027,"body_markdown":"Some time ago, in my work I needed to protect some classes against other people to read the code. For that purpose, I created a EncryptedClassLoader, that loaded previously encrypted classes, and can load normal (not encrypted) classes as well.\r\nWorking in that way was a little complicated, and testing too (compile, then encrypt, and then decrypt).\r\n\r\nIs there any free framework to do what I needed, and is easy to handle? I mean, not only obfuscate, but also encrypt the files, so none can read or debug that part of code. It would also be great that I can change the keys for encryption easily (in my application, it was hardcoded).\r\n\r\nThanks in advance.","title":"How can you protect/encrypt your Java classes?","body":"<p>Some time ago, in my work I needed to protect some classes against other people to read the code. For that purpose, I created a EncryptedClassLoader, that loaded previously encrypted classes, and can load normal (not encrypted) classes as well.\nWorking in that way was a little complicated, and testing too (compile, then encrypt, and then decrypt).</p>\n\n<p>Is there any free framework to do what I needed, and is easy to handle? I mean, not only obfuscate, but also encrypt the files, so none can read or debug that part of code. It would also be great that I can change the keys for encryption easily (in my application, it was hardcoded).</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","ddos","denial-of-service","flooding"],"answers":[{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1306011995,"creation_date":1306011995,"answer_id":6084451,"question_id":6084270,"body_markdown":"There are a few options to try to deal with a DDoS, but you need to make certain certain parts are optimized.\r\n\r\nFor example, your `checkLog` function needs to be amazingly fast, so you may want to use a &#39;hashmap&#39; perhaps, so you can quickly check, but, to ensure everything goes fast you may want to look at the ConcurrentHashMap ([http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html][1]), so you can better read and write to it.\r\n\r\nYou could also look at load-balancing your front-end, so that one server isn&#39;t having to do everything.\r\n\r\nDepending on what actions needs to be done on the server, find a quick way to verify that someone has been authenticated, but this could slow down your server if you don&#39;t have special hardware to better handle decryption of a token, for example.\r\n\r\nYou may also want to look at using NIO ([http://tutorials.jenkov.com/java-nio/index.html][2]), to better scale to a large number of connections.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [2]: http://tutorials.jenkov.com/java-nio/index.html","title":"Java Login Server Flood Protection","body":"<p>There are a few options to try to deal with a DDoS, but you need to make certain certain parts are optimized.</p>\n\n<p>For example, your <code>checkLog</code> function needs to be amazingly fast, so you may want to use a 'hashmap' perhaps, so you can quickly check, but, to ensure everything goes fast you may want to look at the ConcurrentHashMap (<a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow\">http://download.oracle.com/javase/1,5.0/docs/api/java/util/concurrent/ConcurrentHashMap.html</a>), so you can better read and write to it.</p>\n\n<p>You could also look at load-balancing your front-end, so that one server isn't having to do everything.</p>\n\n<p>Depending on what actions needs to be done on the server, find a quick way to verify that someone has been authenticated, but this could slow down your server if you don't have special hardware to better handle decryption of a token, for example.</p>\n\n<p>You may also want to look at using NIO (<a href=\"http://tutorials.jenkov.com/java-nio/index.html\" rel=\"nofollow\">http://tutorials.jenkov.com/java-nio/index.html</a>), to better scale to a large number of connections.</p>\n"},{"tags":[],"owner":{"account_id":285534,"reputation":1683,"user_id":584260,"accept_rate":100,"display_name":"Axel Knauf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306015148,"creation_date":1306015148,"answer_id":6084711,"question_id":6084270,"body_markdown":"Ideally, you would not want to have the malicious requests hit your application at all but rather intercept/drop the traffic before it reaches your application servers. This way your read clients will not encounter any issues e. g. with degraded performance while the attack is under way. \r\n\r\n[ServerFault](https://serverfault.com/) may be a good place to ask, if you intend going down that road. ","title":"Java Login Server Flood Protection","body":"<p>Ideally, you would not want to have the malicious requests hit your application at all but rather intercept/drop the traffic before it reaches your application servers. This way your read clients will not encounter any issues e. g. with degraded performance while the attack is under way. </p>\n\n<p><a href=\"https://serverfault.com/\">ServerFault</a> may be a good place to ask, if you intend going down that road. </p>\n"}],"owner":{"account_id":352277,"reputation":137,"user_id":689264,"accept_rate":71,"display_name":"Travis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2907,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":6084451,"answer_count":2,"score":1,"last_activity_date":1682247430,"creation_date":1306009571,"question_id":6084270,"body_markdown":"my java server is currently being DDoSed by thousands of different ip&#39;s. To counter it, i&#39;ve been blocking the ip&#39;s through the dedicated servers firewall. However just more and more keep coming. This attack is flooding my login server causing players to not be able to login.\r\n\r\nI&#39;ve asked on other places such as a forum for my type of java application, and i&#39;ve gotten barely any answers. However they told me it&#39;s a form of DDoS, also another user referred me to this however I don&#39;t believe this would work. http://www.java2s.com/Open-Source/Java-Document/Net/mina-2.0.0-M1/org/apache/mina/filter/firewall/ConnectionThrottleFilter.java.htm\r\n\r\nSo apparently it&#39;s a DoS on my login server, anyone have any clues? I&#39;ll provide the login server&#39;s main framework below.\r\n\r\n   \ttry {\r\n\t\tshutdownClientHandler = false;\r\n\t\tclientListener = new java.net.ServerSocket(serverlistenerPort, 1, null);\r\n\t\tmisc.println(&quot;Login server is now online!&quot;);\r\n\t\twhile (true) {\r\n\t\ttry {\r\n\t\t\tjava.net.Socket s = clientListener.accept();\r\n\t\t\ts.setTcpNoDelay(true);\r\n\t\t\tString connectingHost = s.getInetAddress().getHostName();\r\n\t\t\tif (true) {\r\n\t\t\t\tif (checkLog(&quot;flooders&quot;, connectingHost)) {\r\n\t\t\t\t\t//misc.println(&quot;Flooder Detected, closing connection.&quot;);\r\n\t\t\t\t\ts.close(); // Closes the connection immediately.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconnections.add(connectingHost);\r\n\t\t\t\t\tif (checkHost(connectingHost)) {\r\n\t\t\t\t\t\tmisc.println(&quot;Connection from &quot;+connectingHost+&quot;:&quot;+s.getPort());\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tplayerHandler.newPlayerClient(s, connectingHost);\r\n\t\t\t\t\t\t} catch (Exception E) {misc.println(&quot;Login Server crash detected. Protecting...&quot;);\r\n\t\t\t\t\t\ts.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmisc.println(&quot;ClientHandler: Rejected &quot;+connectingHost+&quot;:&quot;+s.getPort());\r\n\t\t\t\t\ts.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tmisc.println(&quot;ClientHandler: Rejected &quot;+connectingHost+&quot;:&quot;+s.getPort());\r\n\t\t\t\ts.close();\r\n\t\t\t}\r\n\t\t\tThread.sleep(30;\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogError(e.getMessage());\r\n\t\t}\r\n\t\t}\r\n\t} catch (java.io.IOException ioe) {\r\n\t\tif (!shutdownClientHandler) {\r\n\t\t\tmisc.println(&quot;World is already online!&quot;);\r\n\t\t} else {\r\n\t\t\tmisc.println(&quot;ClientHandler was shut down.&quot;);\r\n\t\t}\r\n\t}","title":"Java Login Server Flood Protection","body":"<p>my java server is currently being DDoSed by thousands of different ip's. To counter it, i've been blocking the ip's through the dedicated servers firewall. However just more and more keep coming. This attack is flooding my login server causing players to not be able to login.</p>\n\n<p>I've asked on other places such as a forum for my type of java application, and i've gotten barely any answers. However they told me it's a form of DDoS, also another user referred me to this however I don't believe this would work. <a href=\"http://www.java2s.com/Open-Source/Java-Document/Net/mina-2.0.0-M1/org/apache/mina/filter/firewall/ConnectionThrottleFilter.java.htm\" rel=\"nofollow\">http://www.java2s.com/Open-Source/Java-Document/Net/mina-2.0.0-M1/org/apache/mina/filter/firewall/ConnectionThrottleFilter.java.htm</a></p>\n\n<p>So apparently it's a DoS on my login server, anyone have any clues? I'll provide the login server's main framework below.</p>\n\n<pre><code>try {\n    shutdownClientHandler = false;\n    clientListener = new java.net.ServerSocket(serverlistenerPort, 1, null);\n    misc.println(\"Login server is now online!\");\n    while (true) {\n    try {\n        java.net.Socket s = clientListener.accept();\n        s.setTcpNoDelay(true);\n        String connectingHost = s.getInetAddress().getHostName();\n        if (true) {\n            if (checkLog(\"flooders\", connectingHost)) {\n                //misc.println(\"Flooder Detected, closing connection.\");\n                s.close(); // Closes the connection immediately.\n            } else {\n                connections.add(connectingHost);\n                if (checkHost(connectingHost)) {\n                    misc.println(\"Connection from \"+connectingHost+\":\"+s.getPort());\n                    try {\n                        playerHandler.newPlayerClient(s, connectingHost);\n                    } catch (Exception E) {misc.println(\"Login Server crash detected. Protecting...\");\n                    s.close();\n                }\n            } else {\n                misc.println(\"ClientHandler: Rejected \"+connectingHost+\":\"+s.getPort());\n                s.close();\n            }\n        }\n        } else {\n            misc.println(\"ClientHandler: Rejected \"+connectingHost+\":\"+s.getPort());\n            s.close();\n        }\n        Thread.sleep(30;\n    } catch (Exception e) {\n        logError(e.getMessage());\n    }\n    }\n} catch (java.io.IOException ioe) {\n    if (!shutdownClientHandler) {\n        misc.println(\"World is already online!\");\n    } else {\n        misc.println(\"ClientHandler was shut down.\");\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","passwords","servlet-filters","copy-protection"],"comments":[{"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"score":0,"creation_date":1306499346,"post_id":6151927,"comment_id":7145301,"body_markdown":"Are you saying you store the PDF&#39;s password protected? or that you want users to enter a password before they can access a pdf?","body":"Are you saying you store the PDF&#39;s password protected? or that you want users to enter a password before they can access a pdf?"}],"answers":[{"tags":[],"owner":{"account_id":219778,"reputation":917,"user_id":476860,"accept_rate":80,"display_name":"Akintayo Olusegun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306499472,"creation_date":1306499472,"answer_id":6152263,"question_id":6151927,"body_markdown":"1. Create a servlet\r\n2. Set url-pattern to *.pdf\r\n3. Whenever your pdf url is called, the servlet is executed.\r\n4. Do whatever you want from the servlet before returning the PDF to the user in response.","title":"How to protect pdf file with Tomcat filters?","body":"<ol>\n<li>Create a servlet</li>\n<li>Set url-pattern to *.pdf</li>\n<li>Whenever your pdf url is called, the servlet is executed.</li>\n<li>Do whatever you want from the servlet before returning the PDF to the user in response.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306500220,"creation_date":1306500220,"answer_id":6152389,"question_id":6151927,"body_markdown":"It should be fairly straight forward to write a `Filter` to intercept all requests that return a PDF. Filter&#39;s doFilter() method has access to the request and response so you can modify it however you like.","title":"How to protect pdf file with Tomcat filters?","body":"<p>It should be fairly straight forward to write a <code>Filter</code> to intercept all requests that return a PDF. Filter's doFilter() method has access to the request and response so you can modify it however you like.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306500837,"creation_date":1306500837,"answer_id":6152506,"question_id":6151927,"body_markdown":"Filters are not the way to solve this particular problem.  Filters allow you to modify requests and cause them to be redirected or redispatched to different servlets.  But they don&#39;t allow you to rewrite the response body.  From what I understand, this is what you are trying to do.\r\n\r\nYou will have to do the PDF file modification in a Servlet, as described in @Aardvocate&#39;s answer.","title":"How to protect pdf file with Tomcat filters?","body":"<p>Filters are not the way to solve this particular problem.  Filters allow you to modify requests and cause them to be redirected or redispatched to different servlets.  But they don't allow you to rewrite the response body.  From what I understand, this is what you are trying to do.</p>\n\n<p>You will have to do the PDF file modification in a Servlet, as described in @Aardvocate's answer.</p>\n"},{"tags":[],"owner":{"account_id":336649,"reputation":5489,"user_id":664421,"accept_rate":100,"display_name":"kensen john"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1306720311,"creation_date":1306500989,"answer_id":6152533,"question_id":6151927,"body_markdown":"From the filter we invoke a Java class to do the actual &quot;injecting of password&quot;.\r\n\r\nThe entry in the web.xml will redirect your call to a particular filter.\r\n\r\n    &lt;!--web.xml call all calls to .pdf will invoke the particular filter.--&gt;\r\n    &lt;filter&gt;\r\n       &lt;filter-name&gt;PDF Filter&lt;/filter-name&gt;\r\n       &lt;filter-class&gt;PDFFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n       &lt;filter-name&gt;PDF Filter&lt;/filter-name&gt;\r\n       &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n    //This is the actual filter\r\n    public class PDFFilter implements Filter \r\n    {\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response,\r\n    \t\t\tFilterChain chain) throws IOException, ServletException \r\n    \t{\r\n    \t\tPDFPasswordInjector pdfPassInject = new PDFPasswordInjector();\r\n            //use HttpServletRequestWrapper to get the pdf location/pdf name\r\n            pdfPassInject.injectPassword( &quot;&lt;pdf location&gt;&quot; );\r\n    \t\t\r\n    \t\tchain.doFilter(request, response);\r\n    \t}\r\n    }\r\n    \r\n    //Java class to inject the password\r\n    public class PDFPasswordInjector\r\n    {\r\n    \tpublic boolean injectPassword( String sPDFName )\r\n            {\r\n                    // retrieve password from DB\r\n                    // use API to inject password to PDF\r\n            }\r\n    }\r\n\r\n","title":"How to protect pdf file with Tomcat filters?","body":"<p>From the filter we invoke a Java class to do the actual \"injecting of password\".</p>\n\n<p>The entry in the web.xml will redirect your call to a particular filter.</p>\n\n<pre><code>&lt;!--web.xml call all calls to .pdf will invoke the particular filter.--&gt;\n&lt;filter&gt;\n   &lt;filter-name&gt;PDF Filter&lt;/filter-name&gt;\n   &lt;filter-class&gt;PDFFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n   &lt;filter-name&gt;PDF Filter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;*.pdf&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n//This is the actual filter\npublic class PDFFilter implements Filter \n{\n    public void doFilter(ServletRequest request, ServletResponse response,\n            FilterChain chain) throws IOException, ServletException \n    {\n        PDFPasswordInjector pdfPassInject = new PDFPasswordInjector();\n        //use HttpServletRequestWrapper to get the pdf location/pdf name\n        pdfPassInject.injectPassword( \"&lt;pdf location&gt;\" );\n\n        chain.doFilter(request, response);\n    }\n}\n\n//Java class to inject the password\npublic class PDFPasswordInjector\n{\n    public boolean injectPassword( String sPDFName )\n        {\n                // retrieve password from DB\n                // use API to inject password to PDF\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":212514,"reputation":1541,"user_id":465374,"accept_rate":92,"display_name":"user465374"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6152533,"answer_count":4,"score":0,"last_activity_date":1682247279,"creation_date":1306497463,"question_id":6151927,"body_markdown":"I am currently running a tomcat instance with struts 1 and I would like tomcat to detect when pdf files are requested in the URL (For example of a link: `http://www.***.com/files/action=download&amp;name=myreport.pdf`).\r\n\r\nAt this point I want a java class to be instantiated, then using a pdf API I want to inject a password to a file.  The main point here is that I do not want to have the password store in the original pdf file I am serving instead I want the password to be injected at runtime by Tomcat.\r\n\r\nPlease let me know if you have  any ideas, I did a little of research and I came across tomcat filters but I am unsure if this will resolve this problem. \r\n\r\nPlease note the passwords are store in a database table. \r\n\r\n          \r\n\r\nThanks   \r\n","title":"How to protect pdf file with Tomcat filters?","body":"<p>I am currently running a tomcat instance with struts 1 and I would like tomcat to detect when pdf files are requested in the URL (For example of a link: <code>http://www.***.com/files/action=download&amp;name=myreport.pdf</code>).</p>\n<p>At this point I want a java class to be instantiated, then using a pdf API I want to inject a password to a file.  The main point here is that I do not want to have the password store in the original pdf file I am serving instead I want the password to be injected at runtime by Tomcat.</p>\n<p>Please let me know if you have  any ideas, I did a little of research and I came across tomcat filters but I am unsure if this will resolve this problem.</p>\n<p>Please note the passwords are store in a database table.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":28325137,"reputation":201,"user_id":21660270,"display_name":"Mirco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682033949,"creation_date":1682033949,"answer_id":76068901,"question_id":76068635,"body_markdown":"1. extend your config options to\r\n```\r\n...\r\n&lt;configOptions&gt;\r\n &lt;useTags&gt;true&lt;/useTags&gt;\r\n &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n&lt;/configOptions&gt;\r\n```\r\nThen the tag will be used to generate the name\r\n\r\n2. in your openapi-definition you have currently specified a dictionary that has a `string` as a value. Use\r\n```\r\nadditionalProperties:\r\n  type: object\r\n```\r\nto get `ResponseEntity&lt;Map&lt;String, Object&gt;&gt;` \r\n\r\n3. I&#39;m not entirely sure what you&#39;re trying to accomplish here. Maybe the invalid specification in 2. caused this as well?","title":"How to name classes created by OpenAPI Generator and get Map in response?","body":"<ol>\n<li>extend your config options to</li>\n</ol>\n<pre><code>...\n&lt;configOptions&gt;\n &lt;useTags&gt;true&lt;/useTags&gt;\n &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n&lt;/configOptions&gt;\n</code></pre>\n<p>Then the tag will be used to generate the name</p>\n<ol start=\"2\">\n<li>in your openapi-definition you have currently specified a dictionary that has a <code>string</code> as a value. Use</li>\n</ol>\n<pre><code>additionalProperties:\n  type: object\n</code></pre>\n<p>to get <code>ResponseEntity&lt;Map&lt;String, Object&gt;&gt;</code></p>\n<ol start=\"3\">\n<li>I'm not entirely sure what you're trying to accomplish here. Maybe the invalid specification in 2. caused this as well?</li>\n</ol>\n"}],"owner":{"account_id":1613111,"reputation":2349,"user_id":1491537,"accept_rate":42,"display_name":"kostepanych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682247240,"creation_date":1682029313,"question_id":76068635,"body_markdown":"Using OpenApi generator with Spring Boot\r\n\r\nHere is my translation.yml file:\r\n```\r\nopenapi: 3.0.1\r\ninfo:\r\n  title: OpenAPI definition\r\n  version: v0\r\nservers:\r\n  - url: http://localhost:8088/\r\n    description: Generated server url\r\npaths:\r\n  /api/translation/{module}/{locale}:\r\n    get:\r\n      tags:\r\n        - translations\r\n      summary: Get translations by module, locale and tenantId\r\n      operationId: getTranslations\r\n      parameters:\r\n        - name: module\r\n          in: path\r\n          required: true\r\n          schema:\r\n            type: string\r\n        - name: locale\r\n          in: path\r\n          required: true\r\n          schema:\r\n            type: string\r\n        - name: tenantId\r\n          in: query\r\n          required: true\r\n          schema:\r\n            type: integer\r\n            format: int64\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: Get the translations\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: object\r\n                additionalProperties:\r\n                  type: string\r\n              example:\r\n                nav:\r\n                  payments:\r\n                    invoice:\r\n                      details:\r\n                        title: Payments Details\r\n                        all: AllPayments\r\n                      orders: Orders\r\n                      dashboard: Dashboard\r\n                    title: Payments\r\n                  home:\r\n                    title: Home\r\n```\r\nand here is pom.xml:\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;6.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;\r\n                                ${project.basedir}/src/main/resources/translation.yml\r\n                            &lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;apiPackage&gt;test.inbound_api&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;test.inbound_api.model&lt;/modelPackage&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n1. The name of generated interface is `ApiApi.java`. How to generate something like `TranslationApi.java`? **RESOLVED**\r\n2. The generated interface method returns `ResponseEntity&lt;Map&lt;String, String&gt;&gt;` how to make it return `ResponseEntity&lt;Map&lt;String, Object&gt;&gt;`? **RESOLVED**\r\n3. How to correctly provide the `example` with tree structure? In swaggerUi I get now `Example Value &quot;string&quot;.` The `example` in my code displayed correctly in Swagger Editor, but not present in the generated interface class. That&#39;s what I want to achieve: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KquGH.jpg","title":"How to name classes created by OpenAPI Generator and get Map in response?","body":"<p>Using OpenApi generator with Spring Boot</p>\n<p>Here is my translation.yml file:</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: OpenAPI definition\n  version: v0\nservers:\n  - url: http://localhost:8088/\n    description: Generated server url\npaths:\n  /api/translation/{module}/{locale}:\n    get:\n      tags:\n        - translations\n      summary: Get translations by module, locale and tenantId\n      operationId: getTranslations\n      parameters:\n        - name: module\n          in: path\n          required: true\n          schema:\n            type: string\n        - name: locale\n          in: path\n          required: true\n          schema:\n            type: string\n        - name: tenantId\n          in: query\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        '200':\n          description: Get the translations\n          content:\n            application/json:\n              schema:\n                type: object\n                additionalProperties:\n                  type: string\n              example:\n                nav:\n                  payments:\n                    invoice:\n                      details:\n                        title: Payments Details\n                        all: AllPayments\n                      orders: Orders\n                      dashboard: Dashboard\n                    title: Payments\n                  home:\n                    title: Home\n</code></pre>\n<p>and here is pom.xml:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;\n                                ${project.basedir}/src/main/resources/translation.yml\n                            &lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;apiPackage&gt;test.inbound_api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;test.inbound_api.model&lt;/modelPackage&gt;\n                            &lt;configOptions&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<ol>\n<li>The name of generated interface is <code>ApiApi.java</code>. How to generate something like <code>TranslationApi.java</code>? <strong>RESOLVED</strong></li>\n<li>The generated interface method returns <code>ResponseEntity&lt;Map&lt;String, String&gt;&gt;</code> how to make it return <code>ResponseEntity&lt;Map&lt;String, Object&gt;&gt;</code>? <strong>RESOLVED</strong></li>\n<li>How to correctly provide the <code>example</code> with tree structure? In swaggerUi I get now <code>Example Value &quot;string&quot;.</code> The <code>example</code> in my code displayed correctly in Swagger Editor, but not present in the generated interface class. That's what I want to achieve: <a href=\"https://i.stack.imgur.com/KquGH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KquGH.jpg\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":["java","jar","java-native-interface","copy-protection"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1340632291,"post_id":11190539,"comment_id":14686615,"body_markdown":"&quot;As the JNI code cannot be decompiled&quot; -- maybe not as easily as Java byte code, but still possible.","body":"&quot;As the JNI code cannot be decompiled&quot; -- maybe not as easily as Java byte code, but still possible."},{"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"score":0,"creation_date":1340632373,"post_id":11190539,"comment_id":14686655,"body_markdown":"Duplicate of [Can I use native compilation as Java obfuscation](http://stackoverflow.com/q/4232283/127035)","body":"Duplicate of <a href=\"http://stackoverflow.com/q/4232283/127035\">Can I use native compilation as Java obfuscation</a>"},{"owner":{"account_id":1357275,"reputation":8542,"user_id":1295422,"accept_rate":98,"display_name":"Manitoba"},"score":0,"creation_date":1340632586,"post_id":11190539,"comment_id":14686740,"body_markdown":"@PhilippReichart Yeah I know thta using a basic debugger will give me a big clue on how the code works, but that will certainly limit the amount of person that will crack my app.","body":"@PhilippReichart Yeah I know thta using a basic debugger will give me a big clue on how the code works, but that will certainly limit the amount of person that will crack my app."},{"owner":{"account_id":231753,"reputation":806,"user_id":496143,"display_name":"Chris Ortner"},"score":1,"creation_date":1340632707,"post_id":11190539,"comment_id":14686793,"body_markdown":"Have a look at [this article](http://www.excelsior-usa.com/articles/java-obfuscators.html). It shows some ways to make it harder to reverse-engineer your Java application.","body":"Have a look at <a href=\"http://www.excelsior-usa.com/articles/java-obfuscators.html\" rel=\"nofollow noreferrer\">this article</a>. It shows some ways to make it harder to reverse-engineer your Java application."},{"owner":{"account_id":1357275,"reputation":8542,"user_id":1295422,"accept_rate":98,"display_name":"Manitoba"},"score":0,"creation_date":1340632720,"post_id":11190539,"comment_id":14686804,"body_markdown":"The best thing would be a kind of custom JRE detector that would stop the dumper.","body":"The best thing would be a kind of custom JRE detector that would stop the dumper."}],"answers":[{"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340643223,"creation_date":1340639594,"answer_id":11192775,"question_id":11190539,"body_markdown":"I&#39;ve searched for something like this a lot and here&#39;s my take on it.\r\n\r\nWrite your own custom boot strap class loader at the JVM level, which would have to be coded in C. This class loader would use a cryptographic key to decrypt the already encryped java class files on the fly into byte arrays for class definition.\r\n\r\nNow you&#39;re left with where to store your cryptographic key and how to secure it.\r\n\r\nIn the end, you may be better off just purchasing Excelsior-Jet, I&#39;ve used it before and it&#39;s a really great app. Well worth the $3,000 or so you would spend on it.","title":"Protect Java source using JNI","body":"<p>I've searched for something like this a lot and here's my take on it.</p>\n\n<p>Write your own custom boot strap class loader at the JVM level, which would have to be coded in C. This class loader would use a cryptographic key to decrypt the already encryped java class files on the fly into byte arrays for class definition.</p>\n\n<p>Now you're left with where to store your cryptographic key and how to secure it.</p>\n\n<p>In the end, you may be better off just purchasing Excelsior-Jet, I've used it before and it's a really great app. Well worth the $3,000 or so you would spend on it.</p>\n"}],"owner":{"account_id":1357275,"reputation":8542,"user_id":1295422,"accept_rate":98,"display_name":"Manitoba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11192775,"answer_count":1,"score":1,"last_activity_date":1682247150,"creation_date":1340632147,"question_id":11190539,"body_markdown":"I just had an idea,\r\nis that possible to protect my java sources (packed into a jar file) which are loaded with a custom class loader, using a JNI code or something?\r\n\r\nAs the JNI code cannot be decompiled, it could be great to be able to protect the java code too.\r\n\r\nIs that possible?\r\n\r\nThanks.","title":"Protect Java source using JNI","body":"<p>I just had an idea,\nis that possible to protect my java sources (packed into a jar file) which are loaded with a custom class loader, using a JNI code or something?</p>\n\n<p>As the JNI code cannot be decompiled, it could be great to be able to protect the java code too.</p>\n\n<p>Is that possible?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":184855,"reputation":10523,"user_id":421162,"display_name":"Kerem Baydoğan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1301712828,"creation_date":1301711087,"answer_id":5520706,"question_id":5520693,"body_markdown":" - This code compiles and runs smoothly.\r\n - It uses no iterator so more readable.\r\n - list is your collection.\r\n - result is filtered form (no null no empty).\r\n\r\n----------------------------------------    \r\n\r\n\r\n    \r\n    public static void listRemove() {\r\n        List&lt;String&gt; list = Arrays.asList(&quot;&quot;, &quot;Hi&quot;, &quot;&quot;, &quot;How&quot;, &quot;are&quot;, &quot;you&quot;);\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\r\n        for (String str : list) {\r\n            if (str != null &amp;&amp; !str.isEmpty()) {\r\n                result.add(str);\r\n            }\r\n        }\r\n\r\n        System.out.println(result);\r\n    }\r\n\r\n    ","title":"In Java, remove empty elements from a list of Strings","body":"<ul>\n<li>This code compiles and runs smoothly.</li>\n<li>It uses no iterator so more readable.</li>\n<li>list is your collection.</li>\n<li>result is filtered form (no null no empty).</li>\n</ul>\n\n<hr>\n\n<pre><code>public static void listRemove() {\n    List&lt;String&gt; list = Arrays.asList(\"\", \"Hi\", \"\", \"How\", \"are\", \"you\");\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n\n    for (String str : list) {\n        if (str != null &amp;&amp; !str.isEmpty()) {\n            result.add(str);\n        }\n    }\n\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1301712851,"creation_date":1301711095,"answer_id":5520707,"question_id":5520693,"body_markdown":"1. If you were asking *how* to remove the empty strings, you can do it like this (where `l` is an `ArrayList&lt;String&gt;`) - this removes all `null` references and strings of length 0:\r\n\r\n        Iterator&lt;String&gt; i = l.iterator();\r\n        while (i.hasNext())\r\n        {\r\n            String s = i.next();\r\n            if (s == null || s.isEmpty())\r\n            {\r\n                i.remove();\r\n            }\r\n        }\r\n\r\n1. Don&#39;t confuse an `ArrayList` with arrays, an `ArrayList` is a dynamic data-structure that resizes according to it&#39;s contents. If you use the code above, you don&#39;t have to do anything to get the result as you&#39;ve described it -if your `ArrayList` was [&quot;&quot;,&quot;Hi&quot;,&quot;&quot;,&quot;How&quot;,&quot;are&quot;,&quot;you&quot;], after removing as above, it&#39;s going to be exactly what you need - `[&quot;Hi&quot;,&quot;How&quot;,&quot;are&quot;,&quot;you&quot;]`.\r\n\r\n  However, if you *must* have a &#39;sanitized&#39; **copy** of the original list (while leaving the original as it is) and by &#39;*store it back*&#39; you meant &#39;*make a copy*&#39;, then krmby&#39;s code in the other answer will serve you just fine.","title":"In Java, remove empty elements from a list of Strings","body":"<ol>\n<li><p>If you were asking <em>how</em> to remove the empty strings, you can do it like this (where <code>l</code> is an <code>ArrayList&lt;String&gt;</code>) - this removes all <code>null</code> references and strings of length 0:</p>\n\n<pre><code>Iterator&lt;String&gt; i = l.iterator();\nwhile (i.hasNext())\n{\n    String s = i.next();\n    if (s == null || s.isEmpty())\n    {\n        i.remove();\n    }\n}\n</code></pre></li>\n<li><p>Don't confuse an <code>ArrayList</code> with arrays, an <code>ArrayList</code> is a dynamic data-structure that resizes according to it's contents. If you use the code above, you don't have to do anything to get the result as you've described it -if your <code>ArrayList</code> was [\"\",\"Hi\",\"\",\"How\",\"are\",\"you\"], after removing as above, it's going to be exactly what you need - <code>[\"Hi\",\"How\",\"are\",\"you\"]</code>.</p>\n\n<p>However, if you <em>must</em> have a 'sanitized' <strong>copy</strong> of the original list (while leaving the original as it is) and by '<em>store it back</em>' you meant '<em>make a copy</em>', then krmby's code in the other answer will serve you just fine.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1301713350,"creation_date":1301712932,"answer_id":5520807,"question_id":5520693,"body_markdown":"There are a few approaches that you could use:\r\n\r\n  1. Iterate over the list, calling `Iterator.remove()` for the list elements you want to remove.  This is the simplest.\r\n\r\n  1. Repeatedly call `List.remove(Object)`.  This is simple too, but performs worst of all ... because you repeatedly scan the *entire list*.  (However, this might be an option for a mutable list whose iterator didn&#39;t support `remove` ... for some reason.)\r\n\r\n  1. Create a new list, iterate over the old list, adding elements that you want to retain to a new list.  \r\n\r\n  1. If you can&#39;t return the new list, as 3. above and then clear the old list and use `addAll` to add the elements of the new list back to it.\r\n\r\nWhich of these is fastest depends on the class of the original list, its size, and the number of elements that need to be removed.  Here are some of the factors:\r\n\r\n  - For an `ArrayList`, each individual `remove` operation is `O(N)`, where `N` is the list size.  It is expensive to remove multiple elements from a large ArrayList using the `Iterator.remove()` method (or the `ArrayList.remove(element)` method).  \r\n\r\n    By contrast, the `Iterator.remove` method for a `LinkedList` is `O(1)`.\r\n\r\n  - For an `ArrayList`, creating and copying a list is `O(N)` and  *relatively* cheap, especially if you can ensure that the destination list&#39;s capacity is large enough (but not too large).\r\n\r\n    By contrast, creating and copying to a `LinkedList` is also `O(N)`, but considerably more expensive.\r\n\r\nAll of this adds up to a fairly complicated decision tree.  If the lists are small (say 10 or less elements) you can probably get away with any of the approaches above.  If the lists could be large, you need to weigh up all of the issues in the list of the expected list size and expected number of removals.  (Otherwise you might end up with quadratic performance.)","title":"In Java, remove empty elements from a list of Strings","body":"<p>There are a few approaches that you could use:</p>\n\n<ol>\n<li><p>Iterate over the list, calling <code>Iterator.remove()</code> for the list elements you want to remove.  This is the simplest.</p></li>\n<li><p>Repeatedly call <code>List.remove(Object)</code>.  This is simple too, but performs worst of all ... because you repeatedly scan the <em>entire list</em>.  (However, this might be an option for a mutable list whose iterator didn't support <code>remove</code> ... for some reason.)</p></li>\n<li><p>Create a new list, iterate over the old list, adding elements that you want to retain to a new list.  </p></li>\n<li><p>If you can't return the new list, as 3. above and then clear the old list and use <code>addAll</code> to add the elements of the new list back to it.</p></li>\n</ol>\n\n<p>Which of these is fastest depends on the class of the original list, its size, and the number of elements that need to be removed.  Here are some of the factors:</p>\n\n<ul>\n<li><p>For an <code>ArrayList</code>, each individual <code>remove</code> operation is <code>O(N)</code>, where <code>N</code> is the list size.  It is expensive to remove multiple elements from a large ArrayList using the <code>Iterator.remove()</code> method (or the <code>ArrayList.remove(element)</code> method).  </p>\n\n<p>By contrast, the <code>Iterator.remove</code> method for a <code>LinkedList</code> is <code>O(1)</code>.</p></li>\n<li><p>For an <code>ArrayList</code>, creating and copying a list is <code>O(N)</code> and  <em>relatively</em> cheap, especially if you can ensure that the destination list's capacity is large enough (but not too large).</p>\n\n<p>By contrast, creating and copying to a <code>LinkedList</code> is also <code>O(N)</code>, but considerably more expensive.</p></li>\n</ul>\n\n<p>All of this adds up to a fairly complicated decision tree.  If the lists are small (say 10 or less elements) you can probably get away with any of the approaches above.  If the lists could be large, you need to weigh up all of the issues in the list of the expected list size and expected number of removals.  (Otherwise you might end up with quadratic performance.)</p>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":1,"up_vote_count":104,"is_accepted":false,"score":103,"last_activity_date":1301712963,"creation_date":1301712963,"answer_id":5520808,"question_id":5520693,"body_markdown":"    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;));\r\n    System.out.println(list);\r\n    list.removeAll(Arrays.asList(&quot;&quot;, null));\r\n    System.out.println(list);\r\n\r\nOutput:\r\n\r\n    [, Hi, null, How]\r\n    [Hi, How]","title":"In Java, remove empty elements from a list of Strings","body":"<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"\", \"Hi\", null, \"How\"));\nSystem.out.println(list);\nlist.removeAll(Arrays.asList(\"\", null));\nSystem.out.println(list);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[, Hi, null, How]\n[Hi, How]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103755,"reputation":21224,"user_id":277740,"accept_rate":51,"display_name":"tokhi"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1669889719,"creation_date":1374152560,"answer_id":17724228,"question_id":5520693,"body_markdown":"Its a very late answer, but you can also use the `Collections.singleton`:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;));\r\n    // in one line\r\n    list.removeAll(Arrays.asList(&quot;&quot;, null))\r\n\r\n    // separately\r\n    list.removeAll(Collections.singleton(null));\r\n    list.removeAll(Collections.singleton(&quot;&quot;));","title":"In Java, remove empty elements from a list of Strings","body":"<p>Its a very late answer, but you can also use the <code>Collections.singleton</code>:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;));\n// in one line\nlist.removeAll(Arrays.asList(&quot;&quot;, null))\n\n// separately\nlist.removeAll(Collections.singleton(null));\nlist.removeAll(Collections.singleton(&quot;&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1452703591,"creation_date":1452703591,"answer_id":34772329,"question_id":5520693,"body_markdown":"Another way to do this now that we have Java 8 lambda expressions.\r\n\r\n    arrayList.removeIf(item -&gt; item == null || &quot;&quot;.equals(item));","title":"In Java, remove empty elements from a list of Strings","body":"<p>Another way to do this now that we have Java 8 lambda expressions.</p>\n\n<pre><code>arrayList.removeIf(item -&gt; item == null || \"\".equals(item));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3572749,"reputation":149,"user_id":2982704,"display_name":"user2982704"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456213548,"creation_date":1456213177,"answer_id":35571493,"question_id":5520693,"body_markdown":"       private List cleanInputs(String[] inputArray) {\r\n            List&lt;String&gt; result = new ArrayList&lt;String&gt;(inputArray.length);\r\n            for (String input : inputArray) {\r\n                if (input != null) {\r\n                    String str = input.trim();\r\n                    if (!str.isEmpty()) {\r\n                        result.add(str);\r\n                    }\r\n                }\r\n            }\r\n            return result;\r\n        }","title":"In Java, remove empty elements from a list of Strings","body":"<pre><code>   private List cleanInputs(String[] inputArray) {\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;(inputArray.length);\n        for (String input : inputArray) {\n            if (input != null) {\n                String str = input.trim();\n                if (!str.isEmpty()) {\n                    result.add(str);\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1785872,"reputation":27,"user_id":1627355,"display_name":"Asaf Blum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467098900,"creation_date":1458557123,"answer_id":36128937,"question_id":5520693,"body_markdown":"Regarding the comment of Andrew Mairose - Although a fine solution, I would just like to add that this solution will not work on &lt;b&gt;fixed size&lt;/b&gt; lists.\r\n\r\nYou could attempt doing like so:\r\n\r\n    Arrays.asList(new String[]{&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, &quot;    &quot;})\r\n        .removeIf(item -&gt; item == null || &quot;&quot;.equals(item));\r\n\r\nBut you&#39;ll encounter an `UnsupportedOperationException at java.util.AbstractList.remove`(since `asList` returns a non-resizable List). \r\n\r\nA different solution might be this:\r\n\r\n    List&lt;String&gt; collect =\r\n        Stream.of(new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, null, &quot;&quot;})\r\n            .filter(item -&gt; item != null &amp;&amp; !&quot;&quot;.equals(item))\r\n            .collect(Collectors.toList());\r\n\r\nWhich will produce a nice list of strings :-)","title":"In Java, remove empty elements from a list of Strings","body":"<p>Regarding the comment of Andrew Mairose - Although a fine solution, I would just like to add that this solution will not work on <b>fixed size</b> lists.</p>\n\n<p>You could attempt doing like so:</p>\n\n<pre><code>Arrays.asList(new String[]{\"a\", \"b\", null, \"c\", \"    \"})\n    .removeIf(item -&gt; item == null || \"\".equals(item));\n</code></pre>\n\n<p>But you'll encounter an <code>UnsupportedOperationException at java.util.AbstractList.remove</code>(since <code>asList</code> returns a non-resizable List). </p>\n\n<p>A different solution might be this:</p>\n\n<pre><code>List&lt;String&gt; collect =\n    Stream.of(new String[]{\"a\", \"b\", \"c\", null, \"\"})\n        .filter(item -&gt; item != null &amp;&amp; !\"\".equals(item))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>Which will produce a nice list of strings :-)</p>\n"},{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492006951,"creation_date":1492006951,"answer_id":43372312,"question_id":5520693,"body_markdown":"Going to drop this lil nugget in here:\r\n\r\n    Stream.of(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;, &quot;are&quot;, &quot;you&quot;)\r\n      .filter(t -&gt; !Strings.isNullOrEmpty(t))\r\n      .collect(ImmutableList.toImmutableList());\r\n\r\nI wish with all of my heart that Java had a `filterNot`.","title":"In Java, remove empty elements from a list of Strings","body":"<p>Going to drop this lil nugget in here:</p>\n\n<pre><code>Stream.of(\"\", \"Hi\", null, \"How\", \"are\", \"you\")\n  .filter(t -&gt; !Strings.isNullOrEmpty(t))\n  .collect(ImmutableList.toImmutableList());\n</code></pre>\n\n<p>I wish with all of my heart that Java had a <code>filterNot</code>.</p>\n"},{"tags":[],"owner":{"account_id":5138970,"reputation":811,"user_id":4116924,"display_name":"AnT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528690125,"creation_date":1528690125,"answer_id":50790401,"question_id":5520693,"body_markdown":"If you get `UnsupportedOperationException` from using one of ther answer above and your `List` is created from `Arrays.asList()`, it is because you can&#39;t edit such `List`.\r\n\r\nTo fix, wrap the `Arrays.asList()` inside `new LinkedList&lt;String&gt;()`:\r\n\r\n        List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(split));\r\n\r\nSource is from this [answer](https://stackoverflow.com/a/2965808).","title":"In Java, remove empty elements from a list of Strings","body":"<p>If you get <code>UnsupportedOperationException</code> from using one of ther answer above and your <code>List</code> is created from <code>Arrays.asList()</code>, it is because you can't edit such <code>List</code>.</p>\n\n<p>To fix, wrap the <code>Arrays.asList()</code> inside <code>new LinkedList&lt;String&gt;()</code>:</p>\n\n<pre><code>    List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(split));\n</code></pre>\n\n<p>Source is from this <a href=\"https://stackoverflow.com/a/2965808\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":13438787,"reputation":155,"user_id":9696526,"display_name":"The Hunter"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1532085235,"creation_date":1532084452,"answer_id":51441056,"question_id":5520693,"body_markdown":"If you are using Java 8 then try this using lambda expression and [org.apache.commons.lang.StringUtils][1], that will also clear `null` and `blank` values from `array` input\r\n\r\n\tpublic static String[] cleanArray(String[] array) {\r\n\t\treturn Arrays.stream(array).filter(x -&gt; !StringUtils.isBlank(x)).toArray(String[]::new);\r\n\t}\r\n\r\nref - https://stackoverflow.com/a/41935895/9696526\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank(java.lang.String)","title":"In Java, remove empty elements from a list of Strings","body":"<p>If you are using Java 8 then try this using lambda expression and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank(java.lang.String)\" rel=\"noreferrer\">org.apache.commons.lang.StringUtils</a>, that will also clear <code>null</code> and <code>blank</code> values from <code>array</code> input</p>\n\n<pre><code>public static String[] cleanArray(String[] array) {\n    return Arrays.stream(array).filter(x -&gt; !StringUtils.isBlank(x)).toArray(String[]::new);\n}\n</code></pre>\n\n<p>ref - <a href=\"https://stackoverflow.com/a/41935895/9696526\">https://stackoverflow.com/a/41935895/9696526</a></p>\n"},{"tags":[],"owner":{"account_id":915763,"reputation":101,"user_id":948595,"accept_rate":100,"display_name":"sandybarasker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606847623,"creation_date":1606847623,"answer_id":65096454,"question_id":5520693,"body_markdown":" \r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, &quot;&quot;, &quot;How&quot;));\r\n               Stream&lt;String&gt; stream = list .stream();\r\n               Predicate&lt;String&gt; empty = empt-&gt;(empt.equals(&quot;&quot;));\r\n                Predicate&lt;String&gt; emptyRev = empty.negate();\r\n               list=  stream.filter(emptyRev).collect(Collectors.toList());\r\n\r\nOR \r\n\r\n    list =  list .stream().filter(empty-&gt;(!empty.equals(&quot;&quot;))).collect(Collectors.toList());\r\n\r\n \r\n","title":"In Java, remove empty elements from a list of Strings","body":"<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, &quot;&quot;, &quot;How&quot;));\n           Stream&lt;String&gt; stream = list .stream();\n           Predicate&lt;String&gt; empty = empt-&gt;(empt.equals(&quot;&quot;));\n            Predicate&lt;String&gt; emptyRev = empty.negate();\n           list=  stream.filter(emptyRev).collect(Collectors.toList());\n</code></pre>\n<p>OR</p>\n<pre><code>list =  list .stream().filter(empty-&gt;(!empty.equals(&quot;&quot;))).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668520802,"creation_date":1606851727,"answer_id":65097416,"question_id":5520693,"body_markdown":"lukastymo&#39;s answer seems the best one. \r\n\r\nBut it may be worth mentioning this approach as well for it&#39;s extensibility:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;));\r\n\r\n    list = list.stream()\r\n               .filter(item -&gt; item != null &amp;&amp; !item.isEmpty())\r\n               .collect(Collectors.toList());\r\n\r\n    System.out.println(list);\r\n\r\nWhat I mean by that (extensibility) is you could then add additional filters, such as:\r\n\r\n              .filter(item -&gt; !item.startsWith(&quot;a&quot;))\r\n\r\n... although of course that&#39;s not specifically relevant to the question.","title":"In Java, remove empty elements from a list of Strings","body":"<p>lukastymo's answer seems the best one.</p>\n<p>But it may be worth mentioning this approach as well for it's extensibility:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;&quot;, &quot;Hi&quot;, null, &quot;How&quot;));\n\nlist = list.stream()\n           .filter(item -&gt; item != null &amp;&amp; !item.isEmpty())\n           .collect(Collectors.toList());\n\nSystem.out.println(list);\n</code></pre>\n<p>What I mean by that (extensibility) is you could then add additional filters, such as:</p>\n<pre><code>          .filter(item -&gt; !item.startsWith(&quot;a&quot;))\n</code></pre>\n<p>... although of course that's not specifically relevant to the question.</p>\n"},{"tags":[],"owner":{"account_id":28357153,"reputation":1,"user_id":21687714,"display_name":"virendra khade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681974092,"creation_date":1681974092,"answer_id":76061362,"question_id":5520693,"body_markdown":"// Here i have posted two approaches, please go through it\r\n\r\n\tprivate static void consumerExample() {\r\n\t\tList&lt;String&gt; list = Arrays.asList(&quot;Java&quot;, &quot;\\n \\n&quot;, &quot;Python&quot;, &quot; &quot;, null);\r\n\t\tSystem.out.println(&quot;==================== &quot;);\r\n\t\tConsumer&lt;List&lt;String&gt;&gt; modify = list1 -&gt; {\r\n\t\t\tfor (int i = 0; i &lt; list1.size(); i++)\r\n\t\t\t\tif (getOnlyStrings(list1.get(i)).length() &gt; 0)\r\n\t\t\t\t\tSystem.out.println(list1.get(i));\r\n\t\t};\r\n\t\tmodify.accept(list);\r\n\t\tSystem.out.println(&quot;====================&quot;);\r\n\t}\r\n\r\n\tpublic static String getOnlyStrings(String s) {\r\n\t\tString str = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tPattern pattern = Pattern.compile(&quot;[^a-z A-Z]&quot;);\r\n\t\t\tif (s == null || s.trim().length() == 0)\r\n\t\t\t\treturn &quot;&quot;;\r\n\t\t\tMatcher matcher = pattern.matcher(s);\r\n\t\t\tstr = matcher.replaceAll(&quot;&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn str;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tconsumerExample();\r\n\t\tList&lt;String&gt; list = Arrays.asList(&quot;Java&quot;, &quot;\\n \\n&quot;, &quot;Python&quot;, &quot; &quot;, null);\r\n\r\n\t\tList&lt;String&gt; collection = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, null, &quot;B&quot;, null, &quot;C&quot;, &quot;&quot;, &quot;D&quot;));\r\n\r\n\t\t// collection.removeIf(s -&gt; s == null || &quot;&quot;.equals(s));\r\n\r\n\t\t// System.out.println(collection);\r\n\r\n\t\tlist.stream().filter(p -&gt; getOnlyStrings(p).length() &gt; 0).forEach(System.out::println);\r\n\t\t;\r\n\t}\r\n","title":"In Java, remove empty elements from a list of Strings","body":"<p>// Here i have posted two approaches, please go through it</p>\n<pre><code>private static void consumerExample() {\n    List&lt;String&gt; list = Arrays.asList(&quot;Java&quot;, &quot;\\n \\n&quot;, &quot;Python&quot;, &quot; &quot;, null);\n    System.out.println(&quot;==================== &quot;);\n    Consumer&lt;List&lt;String&gt;&gt; modify = list1 -&gt; {\n        for (int i = 0; i &lt; list1.size(); i++)\n            if (getOnlyStrings(list1.get(i)).length() &gt; 0)\n                System.out.println(list1.get(i));\n    };\n    modify.accept(list);\n    System.out.println(&quot;====================&quot;);\n}\n\npublic static String getOnlyStrings(String s) {\n    String str = &quot;&quot;;\n    try {\n        Pattern pattern = Pattern.compile(&quot;[^a-z A-Z]&quot;);\n        if (s == null || s.trim().length() == 0)\n            return &quot;&quot;;\n        Matcher matcher = pattern.matcher(s);\n        str = matcher.replaceAll(&quot;&quot;);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return str;\n}\n\npublic static void main(String[] args) {\n    consumerExample();\n    List&lt;String&gt; list = Arrays.asList(&quot;Java&quot;, &quot;\\n \\n&quot;, &quot;Python&quot;, &quot; &quot;, null);\n\n    List&lt;String&gt; collection = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, null, &quot;B&quot;, null, &quot;C&quot;, &quot;&quot;, &quot;D&quot;));\n\n    // collection.removeIf(s -&gt; s == null || &quot;&quot;.equals(s));\n\n    // System.out.println(collection);\n\n    list.stream().filter(p -&gt; getOnlyStrings(p).length() &gt; 0).forEach(System.out::println);\n    ;\n}\n</code></pre>\n"}],"owner":{"account_id":327464,"reputation":849,"user_id":649859,"accept_rate":18,"display_name":"Niranjan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173141,"favorite_count":0,"down_vote_count":1,"up_vote_count":74,"answer_count":14,"score":73,"last_activity_date":1682245429,"creation_date":1301710795,"question_id":5520693,"body_markdown":"In Java, I have an ArrayList of Strings like:\r\n\r\n    [,Hi, ,How,are,you]\r\n\r\nI want to remove the null and empty elements, how to change it so it is like this:\r\n\r\n    [Hi,How,are,you]","title":"In Java, remove empty elements from a list of Strings","body":"<p>In Java, I have an ArrayList of Strings like:</p>\n\n<pre><code>[,Hi, ,How,are,you]\n</code></pre>\n\n<p>I want to remove the null and empty elements, how to change it so it is like this:</p>\n\n<pre><code>[Hi,How,are,you]\n</code></pre>\n"},{"tags":["java","class","linked-list","nodes"],"comments":[{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":0,"creation_date":1680235650,"post_id":75894776,"comment_id":133867415,"body_markdown":"If this is Java, add the Java tag to your question.","body":"If this is Java, add the Java tag to your question."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1680245792,"post_id":75894776,"comment_id":133868717,"body_markdown":"From the error message it looks like `getTail().getData()` is expected to return the data of the tail node, but your implementation of `getTail` returns the data, not the node. It would have been helpful if you woud include the literal code challenge description; then such things would have been clear.","body":"From the error message it looks like <code>getTail().getData()</code> is expected to return the data of the tail node, but your implementation of <code>getTail</code> returns the data, not the node. It would have been helpful if you woud include the literal code challenge description; then such things would have been clear."},{"owner":{"account_id":27652602,"reputation":1,"user_id":21107154,"display_name":"Mike W"},"score":0,"creation_date":1680281394,"post_id":75894776,"comment_id":133877405,"body_markdown":"Thanks for your comment, this is the part of getHead and getTai: A getter for the head instance variable named getHead\nA getter for the tail instance variable named getTail.","body":"Thanks for your comment, this is the part of getHead and getTai: A getter for the head instance variable named getHead A getter for the tail instance variable named getTail."},{"owner":{"account_id":27652602,"reputation":1,"user_id":21107154,"display_name":"Mike W"},"score":0,"creation_date":1680282486,"post_id":75894776,"comment_id":133877657,"body_markdown":"I added below code, but still shows same error:public Node getTa() {\n        if (size == 0) {\n            return null;\n        }\n        Node current = head;\n            while (current.next != null) {\n            current = current.next;\n        }\n        return current;\n    }\n\t\n    public T getTail() {\n        Node tail = getTa();\n        if (tail != null) {\n            return tail.getData();\n        }\n        return null;\n    }","body":"I added below code, but still shows same error:public Node getTa() {         if (size == 0) {             return null;         }         Node current = head;             while (current.next != null) {             current = current.next;         }         return current;     } \t     public T getTail() {         Node tail = getTa();         if (tail != null) {             return tail.getData();         }         return null;     }"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1682244834,"post_id":75894776,"comment_id":134181905,"body_markdown":"Can you add the code in `LinkedListTests`? It seems like the error(s) are in there.","body":"Can you add the code in <code>LinkedListTests</code>? It seems like the error(s) are in there."}],"owner":{"account_id":27652602,"reputation":1,"user_id":21107154,"display_name":"Mike W"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682244718,"creation_date":1680235541,"question_id":75894776,"body_markdown":"I encountered below error when compile my assignment (the code compile passed but bottom error came up right after)\r\n\r\n    mnt/ro/voccontent1/gradinglib/ccc_v1_c_48ao_206651/asn281740_9/\r\n    asn281741_1/asnlib.0/LinkedListTests.java:64: error: cannot find sym\r\n    bol                                                                 \r\n                assertEquals(&quot;Julia&quot;, ( (LinkedList) list2).getTail().ge\r\n    tData(), &quot;The tail shjould point at the node with data \\&quot;Julia\\&quot; &quot;);\r\n                                                                     ^  \r\n          symbol:   method getData()                                    \r\n          location: class Object                                        \r\n        1 error                                                         \r\n        Error: Could not find or load main class RunTest                \r\n        Caused by: java.lang.ClassNotFoundException: RunTest \r\n\r\nAnd Below is part from my starting code for a linkedlist.java, not sure where I got wrong to get above error, is it the way I construct getTail() method?\r\n\r\n    import java.util.NoSuchElementException;\r\n    \r\n        \r\n    public class LinkedList&lt;T&gt; implements List&lt;T&gt; {\r\n        \r\n        private class Node{\r\n    \t\tT data;\r\n    \t\tNode next;\r\n    \r\n    \t\tNode(T data, Node next) {\r\n    \t\t\tthis.data = data;\r\n                this.next = next;\r\n    \t\t}\r\n            Node(T data){\r\n                this.data = data;\r\n            }\r\n            Node getNext(){\r\n                return next;\r\n            }\r\n            \r\n            T getData(){\r\n                return data;\r\n            }        \r\n            \r\n            void setNext(Node next){\r\n                this.next = next;\r\n            }\r\n            \r\n    \r\n    \t}    \r\n       \r\n        private Node head;\r\n        private Node tail;\r\n        private int size;\r\n        \r\n       \r\n        \r\n        public T getTail(){\r\n           \r\n    \t\t\treturn this.tail.data;\r\n    \t\t}\r\n    \t\r\n        \r\n        public T getHead(){\r\n            \r\n    \t\t\treturn this.head.data;\r\n    \t\t\r\n    \t}\r\n        \r\n        public LinkedList() {\r\n            this.head = null;\r\n            this.tail = null;\r\n            this.size = 0;\r\n        }\r\n        public LinkedList(Node head, Node tail, int size) {\r\n    \t\tthis.head = head;\r\n    \t\tthis.tail = tail;\r\n    \t\tthis.size = size;\r\n    \t}\r\n        \r\n        private Node getNodeAt(int index) throws Exception {\r\n    \t\tif (this.isEmpty()) {\r\n    \t\t\tthrow new Exception(&quot;Linked List is Empty...&quot;);\r\n    \t\t} else if (index &lt; 0 || index &gt;= this.size()-1) {\r\n    \t\t\tthrow new Exception(&quot;Your index is out of the list bounds&quot;);\r\n    \t\t} else {\r\n    \t\t\tNode retval = this.head;\r\n    \t\t\tfor (int i = 0; i &lt; index; i++) {\r\n    \t\t\t\tretval = retval.next;\r\n    \t\t\t}\r\n    \t\t\treturn retval;\r\n    \t\t}\r\n    \t}\r\n\r\nI tried to add getData in Node class but didn&#39;t work\r\n","title":"How to debug an error in my linked list: &quot;Error: Could not find or load main class RunTest&quot;","body":"<p>I encountered below error when compile my assignment (the code compile passed but bottom error came up right after)</p>\n<pre><code>mnt/ro/voccontent1/gradinglib/ccc_v1_c_48ao_206651/asn281740_9/\nasn281741_1/asnlib.0/LinkedListTests.java:64: error: cannot find sym\nbol                                                                 \n            assertEquals(&quot;Julia&quot;, ( (LinkedList) list2).getTail().ge\ntData(), &quot;The tail shjould point at the node with data \\&quot;Julia\\&quot; &quot;);\n                                                                 ^  \n      symbol:   method getData()                                    \n      location: class Object                                        \n    1 error                                                         \n    Error: Could not find or load main class RunTest                \n    Caused by: java.lang.ClassNotFoundException: RunTest \n</code></pre>\n<p>And Below is part from my starting code for a linkedlist.java, not sure where I got wrong to get above error, is it the way I construct getTail() method?</p>\n<pre><code>import java.util.NoSuchElementException;\n\n    \npublic class LinkedList&lt;T&gt; implements List&lt;T&gt; {\n    \n    private class Node{\n        T data;\n        Node next;\n\n        Node(T data, Node next) {\n            this.data = data;\n            this.next = next;\n        }\n        Node(T data){\n            this.data = data;\n        }\n        Node getNext(){\n            return next;\n        }\n        \n        T getData(){\n            return data;\n        }        \n        \n        void setNext(Node next){\n            this.next = next;\n        }\n        \n\n    }    \n   \n    private Node head;\n    private Node tail;\n    private int size;\n    \n   \n    \n    public T getTail(){\n       \n            return this.tail.data;\n        }\n    \n    \n    public T getHead(){\n        \n            return this.head.data;\n        \n    }\n    \n    public LinkedList() {\n        this.head = null;\n        this.tail = null;\n        this.size = 0;\n    }\n    public LinkedList(Node head, Node tail, int size) {\n        this.head = head;\n        this.tail = tail;\n        this.size = size;\n    }\n    \n    private Node getNodeAt(int index) throws Exception {\n        if (this.isEmpty()) {\n            throw new Exception(&quot;Linked List is Empty...&quot;);\n        } else if (index &lt; 0 || index &gt;= this.size()-1) {\n            throw new Exception(&quot;Your index is out of the list bounds&quot;);\n        } else {\n            Node retval = this.head;\n            for (int i = 0; i &lt; index; i++) {\n                retval = retval.next;\n            }\n            return retval;\n        }\n    }\n</code></pre>\n<p>I tried to add getData in Node class but didn't work</p>\n"},{"tags":["java","templates","dependencies","uml","class-diagram"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1646401843,"post_id":71352348,"comment_id":126120376,"body_markdown":"Does this answer your question? [How to show Dependency Injection on a UML class diagram?](https://stackoverflow.com/questions/4488481/how-to-show-dependency-injection-on-a-uml-class-diagram)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4488481/how-to-show-dependency-injection-on-a-uml-class-diagram\">How to show Dependency Injection on a UML class diagram?</a>"},{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":1,"creation_date":1646409968,"post_id":71352348,"comment_id":126123399,"body_markdown":"What makes youthink that you cannot bind an association?  An association is a classifier. And a classifier can be a template. The notation would seem weird, but not much more than the association specialization (i.e. as association can inherit from another association and this can be shown with an inheritance &quot;arrow&quot;,  we could assume that template bindinw would use a likewise notation).","body":"What makes youthink that you cannot bind an association?  An association is a classifier. And a classifier can be a template. The notation would seem weird, but not much more than the association specialization (i.e. as association can inherit from another association and this can be shown with an inheritance &quot;arrow&quot;,  we could assume that template bindinw would use a likewise notation)."}],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646725683,"creation_date":1646692951,"answer_id":71388098,"question_id":71352348,"body_markdown":"## Complete your diagram? \r\n\r\nThe assumption that an association cannot be bound seems unfounded.  According to the UML specs, a classifier can be templated,  and a template can be bound.  This is straightforward for classes.  Associations are also classifiers, and I found no evidence that the general rules don&#39;t apply to them.  \r\n\r\nYou may therefore very well complete your diagram if you think it increases readability.  Use the same notation:  add an association between `Foo_Test` and `Bar_Test`, as well as a `&#171;bind&#187;` arrow from that association to the template association (btw. it may seem weird to link with an arrow two lines, but even if it’s rate, it’s legit; generalization are also possible for associations, see [here][1]).    \r\n\r\n## How to use templates in UML\r\n\r\nTemplates are an additional level of abstraction. Models that stay at the same level of abstractions tend to be easier to understand. It is therefore preferable to isolate relationships between template classes (bottom of your diagram) in a separate diagram focused on the “meta” level. \r\n\r\nIt’s then not an issue to show a set of bound classes and highlight one of the bindings with a template class:\r\nthe reader can refer to the other diagram easily. But when combined with bindings, teplates quickly lead to very complex diagrams that are difficult to understand.\r\n\r\nYou may instead prefer to keep diagram as simple as possible. \r\n \r\nBut first, let’s clarify the `&#171;bind&#187;` relation between a template and the bound class.  It is neither an inheritance nor a realization, and has still some mysteries:\r\n\r\n&gt; A Classifier that is parameterized using a RedefinableTemplateSignature is called a template Classifier, while a\r\nClassifier with one or more TemplateBindings is called a bound Classifier.&lt;br&gt;&lt;br&gt; (...) **the details of how the contents are merged into a bound element are left open**. In the case of Classifier the semantics are equivalent to inserting an anonymous general bound Classifier representing the intermediate result for each binding, and specializing all these intermediate results by the bound Classifier.\r\n&lt;br&gt;&lt;br&gt;(...) A bound Classifier may have contents **in addition to those resulting from its bindings**.\r\n\r\nSo, the way the template work is not fully defined by UML but you can assume that a bound class gets all the content  &quot;bound&quot; (instead of &quot;inherited&quot;, my own analogy) from the templates. \r\n\r\n## Simplify your diagram?\r\n\r\nWith this in mind you can use a notational shortcut:  The notation allows you to show anonymous bound class, using directly the binding in the class.  The binding arrow are then implicit.  The dependency to `Test` moreover also becomes implicit, simplifying the diagram.  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIdeally, the bottom part would be in a separate diagram. But if you keep it,,  you may avoid the association between `Bar` and `Test` (since it is deduced from a `item: T` in the template), unless you think it is important. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63418944/3723423\r\n  [2]: https://i.stack.imgur.com/L9kWW.png","title":"How to represent dependency injection with generics in UML class diagram?","body":"<h2>Complete your diagram?</h2>\n<p>The assumption that an association cannot be bound seems unfounded.  According to the UML specs, a classifier can be templated,  and a template can be bound.  This is straightforward for classes.  Associations are also classifiers, and I found no evidence that the general rules don't apply to them.</p>\n<p>You may therefore very well complete your diagram if you think it increases readability.  Use the same notation:  add an association between <code>Foo_Test</code> and <code>Bar_Test</code>, as well as a <code>«bind»</code> arrow from that association to the template association (btw. it may seem weird to link with an arrow two lines, but even if it’s rate, it’s legit; generalization are also possible for associations, see <a href=\"https://stackoverflow.com/a/63418944/3723423\">here</a>).</p>\n<h2>How to use templates in UML</h2>\n<p>Templates are an additional level of abstraction. Models that stay at the same level of abstractions tend to be easier to understand. It is therefore preferable to isolate relationships between template classes (bottom of your diagram) in a separate diagram focused on the “meta” level.</p>\n<p>It’s then not an issue to show a set of bound classes and highlight one of the bindings with a template class:\nthe reader can refer to the other diagram easily. But when combined with bindings, teplates quickly lead to very complex diagrams that are difficult to understand.</p>\n<p>You may instead prefer to keep diagram as simple as possible.</p>\n<p>But first, let’s clarify the <code>«bind»</code> relation between a template and the bound class.  It is neither an inheritance nor a realization, and has still some mysteries:</p>\n<blockquote>\n<p>A Classifier that is parameterized using a RedefinableTemplateSignature is called a template Classifier, while a\nClassifier with one or more TemplateBindings is called a bound Classifier.<br><br> (...) <strong>the details of how the contents are merged into a bound element are left open</strong>. In the case of Classifier the semantics are equivalent to inserting an anonymous general bound Classifier representing the intermediate result for each binding, and specializing all these intermediate results by the bound Classifier.\n<br><br>(...) A bound Classifier may have contents <strong>in addition to those resulting from its bindings</strong>.</p>\n</blockquote>\n<p>So, the way the template work is not fully defined by UML but you can assume that a bound class gets all the content  &quot;bound&quot; (instead of &quot;inherited&quot;, my own analogy) from the templates.</p>\n<h2>Simplify your diagram?</h2>\n<p>With this in mind you can use a notational shortcut:  The notation allows you to show anonymous bound class, using directly the binding in the class.  The binding arrow are then implicit.  The dependency to <code>Test</code> moreover also becomes implicit, simplifying the diagram.</p>\n<p><a href=\"https://i.stack.imgur.com/L9kWW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L9kWW.png\" alt=\"enter image description here\" /></a></p>\n<p>Ideally, the bottom part would be in a separate diagram. But if you keep it,,  you may avoid the association between <code>Bar</code> and <code>Test</code> (since it is deduced from a <code>item: T</code> in the template), unless you think it is important.</p>\n"}],"owner":{"account_id":23709158,"reputation":23,"user_id":17731255,"display_name":"sha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71388098,"answer_count":1,"score":2,"last_activity_date":1682244367,"creation_date":1646401528,"question_id":71352348,"body_markdown":"I&#39;m having trouble representing the following piece of code in a UML class diagram:\r\n\r\n```\r\npublic class Test {\r\n    // something\r\n}\r\n\r\npublic class Bar&lt;T&gt; {\r\n    private T item;\r\n\r\n    public Bar(T item) {\r\n        this.item = item;\r\n    }\r\n\r\n    // something\r\n}\r\n\r\npublic class Foo&lt;T&gt; {\r\n    private Bar&lt;T&gt; bar;\r\n\r\n    public Foo(Bar&lt;T&gt; bar) {\r\n        this.bar = bar;\r\n    }\r\n\r\n    // something\r\n}\r\n\r\npublic class Caller {\r\n    private Test item;\r\n    private Foo&lt;Test&gt; foo;\r\n    private Bar&lt;Test&gt; bar;\r\n\r\n    public Caller() {\r\n        item = new Test();\r\n        bar = new Bar&lt;Test&gt;(item);\r\n        foo = new Foo&lt;Test&gt;(bar);\r\n    }\r\n\r\n    // something\r\n}\r\n```\r\n\r\nAs of now, I thought to represent it this way:\r\n\r\n[![This Way][1]][1]\r\n\r\nSince I know you can&#39;t directly bind an association, but you need a bound class first. I don&#39;t know if it&#39;s correct and, if it is, wouldn&#39;t this result in a much more complex diagram when there are more classes?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3h9Ie.png","title":"How to represent dependency injection with generics in UML class diagram?","body":"<p>I'm having trouble representing the following piece of code in a UML class diagram:</p>\n<pre><code>public class Test {\n    // something\n}\n\npublic class Bar&lt;T&gt; {\n    private T item;\n\n    public Bar(T item) {\n        this.item = item;\n    }\n\n    // something\n}\n\npublic class Foo&lt;T&gt; {\n    private Bar&lt;T&gt; bar;\n\n    public Foo(Bar&lt;T&gt; bar) {\n        this.bar = bar;\n    }\n\n    // something\n}\n\npublic class Caller {\n    private Test item;\n    private Foo&lt;Test&gt; foo;\n    private Bar&lt;Test&gt; bar;\n\n    public Caller() {\n        item = new Test();\n        bar = new Bar&lt;Test&gt;(item);\n        foo = new Foo&lt;Test&gt;(bar);\n    }\n\n    // something\n}\n</code></pre>\n<p>As of now, I thought to represent it this way:</p>\n<p><a href=\"https://i.stack.imgur.com/3h9Ie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3h9Ie.png\" alt=\"This Way\" /></a></p>\n<p>Since I know you can't directly bind an association, but you need a bound class first. I don't know if it's correct and, if it is, wouldn't this result in a much more complex diagram when there are more classes?</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682231901,"post_id":76083043,"comment_id":134180723,"body_markdown":"Folder is an abstract class, and getFolder is an abstract method! You should use an extended instance of Folder of either the IMAP or POP3 type, and assign an instance with getFolder method not continually declare the same code. What API are you using? This?    https://javadoc.io/static/org.jodd/jodd-mail/3.8.5/jodd/mail/ReceiveMailSession.html","body":"Folder is an abstract class, and getFolder is an abstract method! You should use an extended instance of Folder of either the IMAP or POP3 type, and assign an instance with getFolder method not continually declare the same code. What API are you using? This?    <a href=\"https://javadoc.io/static/org.jodd/jodd-mail/3.8.5/jodd/mail/ReceiveMailSession.html\" rel=\"nofollow noreferrer\">javadoc.io/static/org.jodd/jodd-mail/3.8.5/jodd/mail/&hellip;</a>"},{"owner":{"account_id":24983556,"reputation":11,"user_id":18845583,"display_name":"jiuli"},"score":0,"creation_date":1682236705,"post_id":76083043,"comment_id":134181134,"body_markdown":"@Samuel Marchant\nThank you for your answer. Yes, I used this API. I was able to get messages in this folder through the getMessages method, but using the search method will return an empty array","body":"@Samuel Marchant Thank you for your answer. Yes, I used this API. I was able to get messages in this folder through the getMessages method, but using the search method will return an empty array"},{"owner":{"account_id":24983556,"reputation":11,"user_id":18845583,"display_name":"jiuli"},"score":0,"creation_date":1682237755,"post_id":76083043,"comment_id":134181213,"body_markdown":"@Samuel Marchant this version : https://javadoc.io/static/org.jodd/jodd-mail/6.0.5/jodd/mail/ReceiveMailSession.html#%3Cinit%3E(javax.mail.Session,javax.mail.Store,java.io.File)","body":"@Samuel Marchant this version : <a href=\"https://javadoc.io/static/org.jodd/jodd-mail/6.0.5/jodd/mail/ReceiveMailSession.html#%3Cinit%3E(javax.mail.Session,javax.mail.Store,java.io.File)\" rel=\"nofollow noreferrer\">javadoc.io/static/org.jodd/jodd-mail/6.0.5/jodd/mail/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1682246192,"post_id":76083043,"comment_id":134182037,"body_markdown":"The code you were using was mixing Ali&#39;s , while you can you would need to obtain the part of the kids API and then from that the part of that, that is standard API mail to use the standard piece of API.","body":"The code you were using was mixing Ali&#39;s , while you can you would need to obtain the part of the kids API and then from that the part of that, that is standard API mail to use the standard piece of API."}],"answers":[{"tags":[],"owner":{"account_id":24983556,"reputation":11,"user_id":18845583,"display_name":"jiuli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682244145,"creation_date":1682242758,"answer_id":76084107,"question_id":76083043,"body_markdown":"I found the problem that I couldn&#39;t use a subclass of SearchTerm \r\n   \r\n\r\n    //error\r\n     SearchTerm term1 = new SubjectTerm(&quot;123&quot;);\r\n    //success\r\n    SearchTerm term = new SearchTerm() {\r\n        public boolean match(Message message) {\r\n            try {\r\n                if (message.getSubject().contains(&quot;test&quot;)) {\r\n                    return true;\r\n                }\r\n            } catch (MessagingException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            return false;\r\n        }\r\n    };","title":"about java mail search","body":"<p>I found the problem that I couldn't use a subclass of SearchTerm</p>\n<pre><code>//error\n SearchTerm term1 = new SubjectTerm(&quot;123&quot;);\n//success\nSearchTerm term = new SearchTerm() {\n    public boolean match(Message message) {\n        try {\n            if (message.getSubject().contains(&quot;test&quot;)) {\n                return true;\n            }\n        } catch (MessagingException ex) {\n            ex.printStackTrace();\n        }\n        return false;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":24983556,"reputation":11,"user_id":18845583,"display_name":"jiuli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682244145,"creation_date":1682221948,"question_id":76083043,"body_markdown":"I can&#39;t find mail using java mail fodler.search\r\n\r\n\r\n\r\nI use java mail fodler.search Whatever the search() argument is, the resulting message is an empty array\r\n```\r\n        ReceiveMailSession receiveMailSession = createReceiveMailSession();\r\n        receiveMailSession.open();\r\n\r\n        List&lt;EmailListDTO&gt; emailListDTOList = new ArrayList&lt;&gt;();\r\n\r\n        SearchTerm searchTerm = buildSearchTerm(searchDTO);\r\n        if (StringUtils.isNotBlank(searchDTO.getFolder())) {\r\n            Folder folder = receiveMailSession.getFolder(searchDTO.getFolder());\r\n            if (folder.exists()) {\r\n                folder.open(Folder.READ_WRITE);\r\n                Message[] messages = folder.search(searchTerm);\r\n                for (Message message : messages) {\r\n                    emailListDTOList.add(messageToEmailListDTO(message, null));\r\n                }\r\n                folder.close(true);\r\n            }\r\n\r\n        }\r\n```","title":"about java mail search","body":"<p>I can't find mail using java mail fodler.search</p>\n<p>I use java mail fodler.search Whatever the search() argument is, the resulting message is an empty array</p>\n<pre><code>        ReceiveMailSession receiveMailSession = createReceiveMailSession();\n        receiveMailSession.open();\n\n        List&lt;EmailListDTO&gt; emailListDTOList = new ArrayList&lt;&gt;();\n\n        SearchTerm searchTerm = buildSearchTerm(searchDTO);\n        if (StringUtils.isNotBlank(searchDTO.getFolder())) {\n            Folder folder = receiveMailSession.getFolder(searchDTO.getFolder());\n            if (folder.exists()) {\n                folder.open(Folder.READ_WRITE);\n                Message[] messages = folder.search(searchTerm);\n                for (Message message : messages) {\n                    emailListDTOList.add(messageToEmailListDTO(message, null));\n                }\n                folder.close(true);\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","solr","solrj","solrcloud"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1682243552,"post_id":76062790,"comment_id":134181751,"body_markdown":"Why do you need to access it? `solrClient.request` should be enough.","body":"Why do you need to access it? <code>solrClient.request</code> should be enough."}],"owner":{"account_id":28358544,"reputation":1,"user_id":21688901,"display_name":"Steve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682243567,"creation_date":1681984462,"question_id":76062790,"body_markdown":"i have upgraded solr version in my java code from v8 to v9.2.0 and getting error as &#39;getLbClient()&#39; has protected access in &#39;org.apache.solr.client.solrj.impl.CloudSolrClient&#39; in the java method\r\n\r\n\tpublic Version getVersion() {\r\n\t\t// Concurrent access might cause multiple fetches, but who cares?\r\n\t\tif (null != version) {\r\n\t\t\treturn version;\r\n\t\t}\r\n\t\t// TODO reconcile w/ repo service version\r\n\r\n\t\t// Ensure connected so that we can get the live nodes\r\n\t\t// If our connection attempt fails here, we&#39;ll try again next time we&#39;re asked\r\n\t\tsolrClient.connect();\r\n\r\n\t\t// Note that we ignore the possibility of a cluster containing nodes of different versions\r\n\r\n\t\t// We have to use this crazy scheme because CommonParams.ADMIN_PATHS\r\n\t\t// does not contain /admin/info/system\r\n\r\n\t\t// Problem is that CloudSolrClient insists on putting a collection in the URL\r\n\t\t// for paths not in ADMIN_PATHS, so we instead circumvent and use the underlying LBHttpSolrClient\r\n\r\n\t\t// See code in CloudSolrClient.sendRequest(SolrRequest request, List&lt;String&gt; inputCollections)\r\n\r\n\t\tfinal List&lt;String&gt; liveNodeUrls = (List&lt;String&gt;) solrClient.getClusterState().getLiveNodes();\r\n\r\n\t\tfinal GenericSolrRequest genericSolrRequest = new GenericSolrRequest(\r\n\t\t      GET,\r\n\t\t      &quot;/admin/info/system&quot;,\r\n\t\t      null);\r\n\r\n\t\tfinal LBSolrClient.Req rawRequest = new LBSolrClient.Req(\r\n\t\t      genericSolrRequest,\r\n\t\t      liveNodeUrls);\r\n\r\n\t\tfinal LBSolrClient.Rsp rawResponse;\r\n\t\ttry {\r\n\t\t\trawResponse = solrClient.getLbClient().request(rawRequest);\r\n\t\t}\r\n\t\tcatch (final SolrServerException | IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\r\n\t\tfinal NamedList&lt;?&gt; luceneProps = (NamedList&lt;?&gt;) ((LBSolrClient.Rsp) rawResponse).getResponse().get(&quot;lucene&quot;);\r\n\t\tversion = Version.valueOf(String.valueOf(luceneProps.get(&quot;solr-spec-version&quot;)));\r\n\t\treturn version;\r\n\t}\r\n\r\n\r\n\r\n\r\nI got few other errors as well but now stuck on this error only &#39;getLbClient()&#39; has protected access in &#39;org.apache.solr.client.solrj.impl.CloudSolrClient&#39;","title":"getLbClient()&#39; has protected access in &#39;org.apache.solr.client.solrj.impl.CloudSolrClient","body":"<p>i have upgraded solr version in my java code from v8 to v9.2.0 and getting error as 'getLbClient()' has protected access in 'org.apache.solr.client.solrj.impl.CloudSolrClient' in the java method</p>\n<pre><code>public Version getVersion() {\n    // Concurrent access might cause multiple fetches, but who cares?\n    if (null != version) {\n        return version;\n    }\n    // TODO reconcile w/ repo service version\n\n    // Ensure connected so that we can get the live nodes\n    // If our connection attempt fails here, we'll try again next time we're asked\n    solrClient.connect();\n\n    // Note that we ignore the possibility of a cluster containing nodes of different versions\n\n    // We have to use this crazy scheme because CommonParams.ADMIN_PATHS\n    // does not contain /admin/info/system\n\n    // Problem is that CloudSolrClient insists on putting a collection in the URL\n    // for paths not in ADMIN_PATHS, so we instead circumvent and use the underlying LBHttpSolrClient\n\n    // See code in CloudSolrClient.sendRequest(SolrRequest request, List&lt;String&gt; inputCollections)\n\n    final List&lt;String&gt; liveNodeUrls = (List&lt;String&gt;) solrClient.getClusterState().getLiveNodes();\n\n    final GenericSolrRequest genericSolrRequest = new GenericSolrRequest(\n          GET,\n          &quot;/admin/info/system&quot;,\n          null);\n\n    final LBSolrClient.Req rawRequest = new LBSolrClient.Req(\n          genericSolrRequest,\n          liveNodeUrls);\n\n    final LBSolrClient.Rsp rawResponse;\n    try {\n        rawResponse = solrClient.getLbClient().request(rawRequest);\n    }\n    catch (final SolrServerException | IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    final NamedList&lt;?&gt; luceneProps = (NamedList&lt;?&gt;) ((LBSolrClient.Rsp) rawResponse).getResponse().get(&quot;lucene&quot;);\n    version = Version.valueOf(String.valueOf(luceneProps.get(&quot;solr-spec-version&quot;)));\n    return version;\n}\n</code></pre>\n<p>I got few other errors as well but now stuck on this error only 'getLbClient()' has protected access in 'org.apache.solr.client.solrj.impl.CloudSolrClient'</p>\n"},{"tags":["java","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682242958,"creation_date":1682242958,"answer_id":76084126,"question_id":76083979,"body_markdown":"In your frontend you need to create same object as backend with all equal spelled properties.\r\n\r\nThen when you subscribe to that endpoint, for example in angular you can do like this: \r\n\r\n    this.myService.test().subscribe(res:ResponseResult){\r\n    //here the &#39;res&#39; will be your response object you recieve from backend\r\n    }","title":"how to check reponse equal a object with spring boot mvc?","body":"<p>In your frontend you need to create same object as backend with all equal spelled properties.</p>\n<p>Then when you subscribe to that endpoint, for example in angular you can do like this:</p>\n<pre><code>this.myService.test().subscribe(res:ResponseResult){\n//here the 'res' will be your response object you recieve from backend\n}\n</code></pre>\n"}],"owner":{"account_id":22820977,"reputation":101,"user_id":16970845,"display_name":"Smile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682243438,"creation_date":1682240678,"question_id":76083979,"body_markdown":"I want to check the response of a post request. I know how to check response result by checking all properties.But I think I have to much duplicate code.I want to check with Object.\r\nthis is code for properties check:\r\n\r\n```java\r\n      mockMvc.perform(\r\n                post(&quot;/api/v1/clients/test&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(mapper.writeValueAsString(client))\r\n        )\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andExpect(jsonPath(&quot;$.data&quot;).isEmpty())\r\n                .andExpect(jsonPath(&quot;$.statusCode&quot;).isNumber())\r\n                .andExpect(jsonPath(&quot;$.statusCode&quot;).value(200))\r\n                .andExpect(jsonPath(&quot;$.message&quot;).value(&quot;success&quot;))\r\n                .andExpect(jsonPath(&quot;$.success&quot;).value(true));\r\n```\r\nthe response body look like this\r\n```json\r\n{&quot;statusCode&quot;:200,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:null,&quot;success&quot;:true}\r\n```\r\n\r\nI have a java object\r\n```java\r\npublic class ResponseResult {\r\n    private boolean isSuccess;\r\n    private int statusCode;\r\n    private String message;\r\n    private Object data;\r\n}\r\n```\r\nI want to create a object, then check the object equal the response body. How can I do this?","title":"how to check reponse equal a object with spring boot mvc?","body":"<p>I want to check the response of a post request. I know how to check response result by checking all properties.But I think I have to much duplicate code.I want to check with Object.\nthis is code for properties check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      mockMvc.perform(\n                post(&quot;/api/v1/clients/test&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(mapper.writeValueAsString(client))\n        )\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andExpect(jsonPath(&quot;$.data&quot;).isEmpty())\n                .andExpect(jsonPath(&quot;$.statusCode&quot;).isNumber())\n                .andExpect(jsonPath(&quot;$.statusCode&quot;).value(200))\n                .andExpect(jsonPath(&quot;$.message&quot;).value(&quot;success&quot;))\n                .andExpect(jsonPath(&quot;$.success&quot;).value(true));\n</code></pre>\n<p>the response body look like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;statusCode&quot;:200,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:null,&quot;success&quot;:true}\n</code></pre>\n<p>I have a java object</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResponseResult {\n    private boolean isSuccess;\n    private int statusCode;\n    private String message;\n    private Object data;\n}\n</code></pre>\n<p>I want to create a object, then check the object equal the response body. How can I do this?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5849714,"reputation":86,"user_id":5362509,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682243192,"creation_date":1682243192,"answer_id":76084144,"question_id":76083913,"body_markdown":"I have done a similar thing. I have added a check box for each item in the first activity RecyclerView. The user can check those thems whose details he wants to send to the next activity. The data can be sent to the next activity as an array of models(class) along with the intent. I shared my code with someone just yesterday. You can refer to the same answer.\r\nhttps://stackoverflow.com/a/76075368/5362509\r\n","title":"how to send selected data item from firebase recycle view to the recycle view of different activity","body":"<p>I have done a similar thing. I have added a check box for each item in the first activity RecyclerView. The user can check those thems whose details he wants to send to the next activity. The data can be sent to the next activity as an array of models(class) along with the intent. I shared my code with someone just yesterday. You can refer to the same answer.\n<a href=\"https://stackoverflow.com/a/76075368/5362509\">https://stackoverflow.com/a/76075368/5362509</a></p>\n"}],"owner":{"account_id":23706478,"reputation":3,"user_id":17728874,"display_name":"Dante Nero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76084144,"answer_count":1,"score":0,"last_activity_date":1682243192,"creation_date":1682239737,"question_id":76083913,"body_markdown":"i am creating a meeting schedule android app in which a &quot;meeting schedule activity&quot; have a filed as &quot;add attendees&quot; and when it is clicked a list of all users will be shown in recycle view and User should be able to select some of Users from the all users listed in recycle.[the feature which want to add my app is mention in this pic](https://i.stack.imgur.com/MjL2k.png)\r\n\r\n**my question is how to make multiple selection from recycle view (listOfUser activity) and how send those selected data item to the another recycle view of different activity (schedule activity) ** \r\n\r\n\r\ni am adding code of adpter,main activity,view holder classes\r\n\r\n**main activity(ListOfUsersActivity.java)\r\n**\r\n\r\n```\r\npackage com.example.firebaseapplication;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\nimport android.os.PersistableBundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.widget.SearchView;\r\n\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ListOfUserActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView rcv;\r\n    myAdapter adapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list_of_user);\r\n        setTitle(&quot;List of Register Users&quot;);\r\n\r\n        rcv = (RecyclerView) findViewById(R.id.rclView);\r\n        rcv.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n\r\n        FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Registered Users&quot;), Model.class)\r\n                        .build();\r\n\r\n        adapter = new myAdapter(options);\r\n        rcv.setAdapter(adapter);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n    }\r\n```\r\n**Adepter (myAdepter.java)**\r\n```\r\npackage com.example.firebaseapplication;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Filter;\r\nimport android.widget.Filterable;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class myAdapter extends FirebaseRecyclerAdapter&lt;Model,myViewHolder&gt; {\r\n\r\n    public myAdapter(FirebaseRecyclerOptions&lt;Model&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater=LayoutInflater.from(parent.getContext());\r\n        View view=inflater.inflate(R.layout.single_row_layout,parent,false);\r\n\r\n        return new myViewHolder(view);\r\n    }\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Model model) {\r\n    holder.textViewName.setText(model.getName());\r\n    holder.textViewDepartment.setText(model.getDepartment());\r\n    Glide.with(holder.img.getContext()).load(model.getPurl()).into(holder.img);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**ViewHolder(myViewholder.java)**\r\n```\r\npackage com.example.firebaseapplication;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\n\r\npublic class myViewHolder extends RecyclerView.ViewHolder{\r\n     CircleImageView img;;\r\n    TextView textViewName,textViewDepartment;\r\n    @SuppressLint(&quot;WrongViewCast&quot;)\r\n    public myViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n        img = (CircleImageView) itemView.findViewById(R.id.single_row_layout_img1);\r\n        textViewName = (TextView)itemView.findViewById(R.id.single_row_layout_t1);\r\n        textViewDepartment = (TextView)itemView.findViewById(R.id.single_row_layout_t2);\r\n\r\n    }\r\n}\r\n\r\n```\r\n","title":"how to send selected data item from firebase recycle view to the recycle view of different activity","body":"<p>i am creating a meeting schedule android app in which a &quot;meeting schedule activity&quot; have a filed as &quot;add attendees&quot; and when it is clicked a list of all users will be shown in recycle view and User should be able to select some of Users from the all users listed in recycle.<a href=\"https://i.stack.imgur.com/MjL2k.png\" rel=\"nofollow noreferrer\">the feature which want to add my app is mention in this pic</a></p>\n<p>**my question is how to make multiple selection from recycle view (listOfUser activity) and how send those selected data item to the another recycle view of different activity (schedule activity) **</p>\n<p>i am adding code of adpter,main activity,view holder classes</p>\n<p>**main activity(ListOfUsersActivity.java)\n**</p>\n<pre><code>package com.example.firebaseapplication;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\nimport android.os.PersistableBundle;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.SearchView;\n\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.ArrayList;\n\npublic class ListOfUserActivity extends AppCompatActivity {\n\n    private RecyclerView rcv;\n    myAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_list_of_user);\n        setTitle(&quot;List of Register Users&quot;);\n\n        rcv = (RecyclerView) findViewById(R.id.rclView);\n        rcv.setLayoutManager(new LinearLayoutManager(this));\n\n\n        FirebaseRecyclerOptions&lt;Model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Registered Users&quot;), Model.class)\n                        .build();\n\n        adapter = new myAdapter(options);\n        rcv.setAdapter(adapter);\n\n\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n    }\n</code></pre>\n<p><strong>Adepter (myAdepter.java)</strong></p>\n<pre><code>package com.example.firebaseapplication;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Filter;\nimport android.widget.Filterable;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.firebase.ui.database.FirebaseRecyclerAdapter;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\n\nimport java.util.ArrayList;\n\npublic class myAdapter extends FirebaseRecyclerAdapter&lt;Model,myViewHolder&gt; {\n\n    public myAdapter(FirebaseRecyclerOptions&lt;Model&gt; options) {\n        super(options);\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater=LayoutInflater.from(parent.getContext());\n        View view=inflater.inflate(R.layout.single_row_layout,parent,false);\n\n        return new myViewHolder(view);\n    }\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull Model model) {\n    holder.textViewName.setText(model.getName());\n    holder.textViewDepartment.setText(model.getDepartment());\n    Glide.with(holder.img.getContext()).load(model.getPurl()).into(holder.img);\n    }\n\n}\n\n</code></pre>\n<p><strong>ViewHolder(myViewholder.java)</strong></p>\n<pre><code>package com.example.firebaseapplication;\n\nimport android.annotation.SuppressLint;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\n\npublic class myViewHolder extends RecyclerView.ViewHolder{\n     CircleImageView img;;\n    TextView textViewName,textViewDepartment;\n    @SuppressLint(&quot;WrongViewCast&quot;)\n    public myViewHolder(@NonNull View itemView) {\n        super(itemView);\n        img = (CircleImageView) itemView.findViewById(R.id.single_row_layout_img1);\n        textViewName = (TextView)itemView.findViewById(R.id.single_row_layout_t1);\n        textViewDepartment = (TextView)itemView.findViewById(R.id.single_row_layout_t2);\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","queue","producer-consumer","java-threads","reentrantlock"],"owner":{"account_id":28386468,"reputation":1,"user_id":21712864,"display_name":"ole_sh_ka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682242915,"creation_date":1682242915,"question_id":76084124,"body_markdown":"There is a queue with priorities and four threads – two produce and enter priority values into the queue (the value and priority are the same) and two extract priority values from it.\r\n\r\nAnd I need to separate Consumer Threads with this logic:\r\n\r\n**The first thread of the threads extracting priority values from the queue can only extract values from 1 to 5, the second - values from 6 to 10.**\r\n\r\nProgram should use ReentrantLock and Condition for a synchronization.\r\n\r\nI have this program code:\r\n\r\nQueue class:\r\n```\r\nimport java.util.concurrent.locks.*;\r\n\r\npublic class Queue implements PriorityQueue {\r\n    private int[] heap; // массив кучи\r\n    private int space; // количество элементов в очереди\r\n    private ReentrantLock lock; // блокировка\r\n    private Condition notFull; // объект управления &quot;не полный&quot;\r\n    private Condition notEmpty; // объект управления &quot;не пустой&quot;\r\n\r\npublic Queue(){\r\n        heap = new int[10];\r\n        space = 0;\r\n        lock = new ReentrantLock();\r\n        notFull = lock.newCondition();\r\n        notEmpty = lock.newCondition();\r\n    }\r\n\r\npublic void insert(int val){\r\n        lock.lock();\r\n        try {\r\n            while (full()) {\r\n                notFull.await();\r\n            }\r\n            int cur = space;\r\n            heap[space++] = val;\r\n\r\n            while (cur &gt; 0 &amp;&amp; heap[cur] &gt; heap[(cur - 1) / 2]) {\r\n                change(cur, (cur - 1) / 2);\r\n                cur = ((cur - 1) / 2);\r\n            }\r\n\r\n            notEmpty.signalAll();\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\npublic int deleteMax(){\r\n        lock.lock();\r\n        try {\r\n            while (empty()) {\r\n                notEmpty.await();\r\n            }\r\n            int res = heap[0];\r\n            space--;\r\n            heap[0] = heap[space];\r\n\r\n\r\n            int current = 0;\r\n            while (current * 2 + 1 &lt; space) {\r\n                int max;\r\n                int left = current * 2 + 1;\r\n                int right = current * 2 + 2;\r\n                if (right &lt; space &amp;&amp; heap[right] &gt; heap[left])\r\n                    max = right;\r\n                else max = left;\r\n                if (heap[current] &lt; heap[max]) {\r\n                    change(current, max);\r\n                    current = max;\r\n                } else break;\r\n            }\r\n\r\n            notFull.signalAll();\r\n            return res;\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n            return -1;\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\npublic boolean full(){\r\n        return space == 10;\r\n    }\r\n\r\npublic boolean empty(){\r\n        return space == 0;\r\n    }\r\n\r\nprivate void change(int one, int two){\r\n        int hold = heap[one];\r\n        heap[one] = heap[two];\r\n        heap[two] = hold;\r\n    }\r\n\r\n    public int getMax(){\r\n        return heap[0];\r\n    }\r\n\r\n    public void printQueue(){\r\n        lock.lock();\r\n        int l = heap.length;\r\n        System.out.println(&quot;Queue: &quot;);\r\n        for (int i = 0; i &lt; l; i++){\r\n            System.out.printf(&quot;%3s&quot;, heap[i]);\r\n        }\r\n        System.out.println();\r\n        lock.unlock();\r\n    }\r\n}\r\n\r\n```\r\n\r\nProducer class:\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class Producer implements Runnable {\r\n    private Queue queue;\r\n    private Random random = new Random();\r\n\r\npublic Producer(Queue queue) {\r\n        this.queue = queue;\r\n    }\r\n\r\npublic void run() {\r\n        while (true) {\r\n            try {\r\n                int k = random.nextInt(1, 3);\r\n                for (int i = 0; i &lt; k; i++) {\r\n                    int val = random.nextInt(1, 10);\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Producer add &quot; + val);\r\n                    queue.insert(val);\r\n                    queue.printQueue();\r\n                }\r\n                Thread.sleep(3000);\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;-------ERRORRRRRR&quot;);\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsumer class:\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class Consumer implements Runnable {\r\n    private Queue queue;\r\n    private int bound1; // либо 1, либо 6\r\n    private int bound2; // либо 5, либо 10\r\n\r\npublic Consumer(Queue queue, int bound1, int bound2) {\r\n        this.queue = queue;\r\n        this.bound1 = bound1;\r\n        this.bound2 = bound2;\r\n    }\r\n\r\npublic void run(){\r\n        while(true){\r\n            try {\r\n                int val = queue.getMax();\r\n                if (bound1 &lt;= val &amp;&amp; val &lt;= bound2){\r\n                    System.out.println(Thread.currentThread().getName() + &quot; Consumer take &quot; + queue.deleteMax());\r\n                    queue.printQueue();\r\n                }else {\r\n                    //System.out.println( Thread.currentThread().getName() + &quot; ------------val isnt correct---------&quot;);\r\n                }\r\n                Thread.sleep(3000);\r\n            }catch (InterruptedException e){\r\n                System.out.println(&quot;-------ERRORRRRRR&quot;);\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMain class:\r\n\r\n```\r\n\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        Queue queue = new Queue();\r\n        Thread p1 = new Thread(new Producer(queue));\r\n        Thread p2 = new Thread(new Producer(queue));\r\n        Thread c1 = new Thread(new Consumer(queue, 1, 5));\r\n        Thread c2 = new Thread(new Consumer(queue, 6, 10));\r\n\r\n        p1.start();\r\n        p2.start();\r\n        c1.start();\r\n        c2.start();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAs you can see I separates Consumer Threads in Consumer class using bound1 and bound2.\r\n\r\nBut now I have to change this implementation and use the third (or more) Condition object and make separation inside Queue class.\r\n\r\nI tried, but honestly I don&#39;t clearly understand how to implement separation using Condition. There&#39;s my attempt, but the Consumer threads are extracting all values without separation.\r\n\r\n\r\n```\r\npublic class Queue implements PriorityQueue {\r\n    private int[] heap; // массив кучи\r\n    private int space; // количество элементов в очереди\r\n    private ReentrantLock lock; // блокировка\r\n    private Condition notFull; // объект управления &quot;не полный&quot;\r\n    private Condition notEmpty_1_5; // объект управления &quot;не пустой&quot;\r\n    private Condition notEmpty_6_10;\r\n\r\npublic Queue(){\r\n        heap = new int[10];\r\n        space = 0;\r\n        lock = new ReentrantLock();\r\n        notFull = lock.newCondition();\r\n        notEmpty_1_5 = lock.newCondition();\r\n        notEmpty_6_10 = lock.newCondition();\r\n    }\r\n\r\npublic void insert(int val){\r\n        lock.lock();\r\n        try {\r\n            while (full()) {\r\n                notFull.await();\r\n            }\r\n            int cur = space;\r\n            heap[space++] = val;\r\n\r\n            while (cur &gt; 0 &amp;&amp; heap[cur] &gt; heap[(cur - 1) / 2]) {\r\n                change(cur, (cur - 1) / 2);\r\n                cur = ((cur - 1) / 2);\r\n            }\r\n\r\n            System.out.println(Thread.currentThread().getName() + &quot; Producer add &quot; + val);\r\n            printQueue();\r\n\r\n            if (val &gt;= 1 &amp;&amp; val &lt;= 5) notEmpty_1_5.signalAll();\r\n            else notEmpty_6_10.signalAll();\r\n\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\npublic int deleteMax(){\r\n        lock.lock();\r\n        try {\r\n            int res = heap[0];\r\n            while (empty()) {\r\n                if (res &gt;= 1 &amp;&amp; res &lt;= 5) notEmpty_1_5.await();\r\n                else notEmpty_6_10.await();\r\n            }\r\n\r\n            space--;\r\n            heap[0] = heap[space];\r\n\r\n            int current = 0;\r\n            while (current * 2 + 1 &lt; space) {\r\n                int max;\r\n                int left = current * 2 + 1;\r\n                int right = current * 2 + 2;\r\n                if (right &lt; space &amp;&amp; heap[right] &gt; heap[left])\r\n                    max = right;\r\n                else max = left;\r\n                if (heap[current] &lt; heap[max]) {\r\n                    change(current, max);\r\n                    current = max;\r\n                } else break;\r\n            }\r\n\r\n            System.out.println(Thread.currentThread().getName() + &quot; Consumer take &quot; + res);\r\n            printQueue();\r\n\r\n            notFull.signalAll();\r\n            return res;\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n            return -1;\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n```\r\n\r\nCan you help me and explain the correct way to make this separation?","title":"Java Queue with Consumer and Producer (ReentrantLock) Issue","body":"<p>There is a queue with priorities and four threads – two produce and enter priority values into the queue (the value and priority are the same) and two extract priority values from it.</p>\n<p>And I need to separate Consumer Threads with this logic:</p>\n<p><strong>The first thread of the threads extracting priority values from the queue can only extract values from 1 to 5, the second - values from 6 to 10.</strong></p>\n<p>Program should use ReentrantLock and Condition for a synchronization.</p>\n<p>I have this program code:</p>\n<p>Queue class:</p>\n<pre><code>import java.util.concurrent.locks.*;\n\npublic class Queue implements PriorityQueue {\n    private int[] heap; // массив кучи\n    private int space; // количество элементов в очереди\n    private ReentrantLock lock; // блокировка\n    private Condition notFull; // объект управления &quot;не полный&quot;\n    private Condition notEmpty; // объект управления &quot;не пустой&quot;\n\npublic Queue(){\n        heap = new int[10];\n        space = 0;\n        lock = new ReentrantLock();\n        notFull = lock.newCondition();\n        notEmpty = lock.newCondition();\n    }\n\npublic void insert(int val){\n        lock.lock();\n        try {\n            while (full()) {\n                notFull.await();\n            }\n            int cur = space;\n            heap[space++] = val;\n\n            while (cur &gt; 0 &amp;&amp; heap[cur] &gt; heap[(cur - 1) / 2]) {\n                change(cur, (cur - 1) / 2);\n                cur = ((cur - 1) / 2);\n            }\n\n            notEmpty.signalAll();\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } finally {\n            lock.unlock();\n        }\n    }\n\npublic int deleteMax(){\n        lock.lock();\n        try {\n            while (empty()) {\n                notEmpty.await();\n            }\n            int res = heap[0];\n            space--;\n            heap[0] = heap[space];\n\n\n            int current = 0;\n            while (current * 2 + 1 &lt; space) {\n                int max;\n                int left = current * 2 + 1;\n                int right = current * 2 + 2;\n                if (right &lt; space &amp;&amp; heap[right] &gt; heap[left])\n                    max = right;\n                else max = left;\n                if (heap[current] &lt; heap[max]) {\n                    change(current, max);\n                    current = max;\n                } else break;\n            }\n\n            notFull.signalAll();\n            return res;\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            return -1;\n        } finally {\n            lock.unlock();\n        }\n    }\n\npublic boolean full(){\n        return space == 10;\n    }\n\npublic boolean empty(){\n        return space == 0;\n    }\n\nprivate void change(int one, int two){\n        int hold = heap[one];\n        heap[one] = heap[two];\n        heap[two] = hold;\n    }\n\n    public int getMax(){\n        return heap[0];\n    }\n\n    public void printQueue(){\n        lock.lock();\n        int l = heap.length;\n        System.out.println(&quot;Queue: &quot;);\n        for (int i = 0; i &lt; l; i++){\n            System.out.printf(&quot;%3s&quot;, heap[i]);\n        }\n        System.out.println();\n        lock.unlock();\n    }\n}\n\n</code></pre>\n<p>Producer class:</p>\n<pre><code>import java.util.Random;\n\npublic class Producer implements Runnable {\n    private Queue queue;\n    private Random random = new Random();\n\npublic Producer(Queue queue) {\n        this.queue = queue;\n    }\n\npublic void run() {\n        while (true) {\n            try {\n                int k = random.nextInt(1, 3);\n                for (int i = 0; i &lt; k; i++) {\n                    int val = random.nextInt(1, 10);\n                    System.out.println(Thread.currentThread().getName() + &quot; Producer add &quot; + val);\n                    queue.insert(val);\n                    queue.printQueue();\n                }\n                Thread.sleep(3000);\n            } catch (InterruptedException e) {\n                System.out.println(&quot;-------ERRORRRRRR&quot;);\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Consumer class:</p>\n<pre><code>import java.util.Random;\n\npublic class Consumer implements Runnable {\n    private Queue queue;\n    private int bound1; // либо 1, либо 6\n    private int bound2; // либо 5, либо 10\n\npublic Consumer(Queue queue, int bound1, int bound2) {\n        this.queue = queue;\n        this.bound1 = bound1;\n        this.bound2 = bound2;\n    }\n\npublic void run(){\n        while(true){\n            try {\n                int val = queue.getMax();\n                if (bound1 &lt;= val &amp;&amp; val &lt;= bound2){\n                    System.out.println(Thread.currentThread().getName() + &quot; Consumer take &quot; + queue.deleteMax());\n                    queue.printQueue();\n                }else {\n                    //System.out.println( Thread.currentThread().getName() + &quot; ------------val isnt correct---------&quot;);\n                }\n                Thread.sleep(3000);\n            }catch (InterruptedException e){\n                System.out.println(&quot;-------ERRORRRRRR&quot;);\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>\npublic class Main {\n    public static void main(String[] args){\n        Queue queue = new Queue();\n        Thread p1 = new Thread(new Producer(queue));\n        Thread p2 = new Thread(new Producer(queue));\n        Thread c1 = new Thread(new Consumer(queue, 1, 5));\n        Thread c2 = new Thread(new Consumer(queue, 6, 10));\n\n        p1.start();\n        p2.start();\n        c1.start();\n        c2.start();\n\n\n    }\n}\n</code></pre>\n<p>As you can see I separates Consumer Threads in Consumer class using bound1 and bound2.</p>\n<p>But now I have to change this implementation and use the third (or more) Condition object and make separation inside Queue class.</p>\n<p>I tried, but honestly I don't clearly understand how to implement separation using Condition. There's my attempt, but the Consumer threads are extracting all values without separation.</p>\n<pre><code>public class Queue implements PriorityQueue {\n    private int[] heap; // массив кучи\n    private int space; // количество элементов в очереди\n    private ReentrantLock lock; // блокировка\n    private Condition notFull; // объект управления &quot;не полный&quot;\n    private Condition notEmpty_1_5; // объект управления &quot;не пустой&quot;\n    private Condition notEmpty_6_10;\n\npublic Queue(){\n        heap = new int[10];\n        space = 0;\n        lock = new ReentrantLock();\n        notFull = lock.newCondition();\n        notEmpty_1_5 = lock.newCondition();\n        notEmpty_6_10 = lock.newCondition();\n    }\n\npublic void insert(int val){\n        lock.lock();\n        try {\n            while (full()) {\n                notFull.await();\n            }\n            int cur = space;\n            heap[space++] = val;\n\n            while (cur &gt; 0 &amp;&amp; heap[cur] &gt; heap[(cur - 1) / 2]) {\n                change(cur, (cur - 1) / 2);\n                cur = ((cur - 1) / 2);\n            }\n\n            System.out.println(Thread.currentThread().getName() + &quot; Producer add &quot; + val);\n            printQueue();\n\n            if (val &gt;= 1 &amp;&amp; val &lt;= 5) notEmpty_1_5.signalAll();\n            else notEmpty_6_10.signalAll();\n\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } finally {\n            lock.unlock();\n        }\n    }\n\npublic int deleteMax(){\n        lock.lock();\n        try {\n            int res = heap[0];\n            while (empty()) {\n                if (res &gt;= 1 &amp;&amp; res &lt;= 5) notEmpty_1_5.await();\n                else notEmpty_6_10.await();\n            }\n\n            space--;\n            heap[0] = heap[space];\n\n            int current = 0;\n            while (current * 2 + 1 &lt; space) {\n                int max;\n                int left = current * 2 + 1;\n                int right = current * 2 + 2;\n                if (right &lt; space &amp;&amp; heap[right] &gt; heap[left])\n                    max = right;\n                else max = left;\n                if (heap[current] &lt; heap[max]) {\n                    change(current, max);\n                    current = max;\n                } else break;\n            }\n\n            System.out.println(Thread.currentThread().getName() + &quot; Consumer take &quot; + res);\n            printQueue();\n\n            notFull.signalAll();\n            return res;\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n            return -1;\n        } finally {\n            lock.unlock();\n        }\n    }\n</code></pre>\n<p>Can you help me and explain the correct way to make this separation?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-cloud-config"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":3,"creation_date":1682191018,"post_id":76081400,"comment_id":134177591,"body_markdown":"The easy way to find out if your app will start without Spring Security properties is to try to start your app without configuration properties and see what happens. You can also have your app throw an exception during initialization if it can&#39;t load a property from the configuration server (so the app won&#39;t start).  If an attacker can take down your config server and refresh your app then the attacker already has enough access to get your data without doing those things (plus more info can be extracted from a fully-initialized Java process).","body":"The easy way to find out if your app will start without Spring Security properties is to try to start your app without configuration properties and see what happens. You can also have your app throw an exception during initialization if it can&#39;t load a property from the configuration server (so the app won&#39;t start).  If an attacker can take down your config server and refresh your app then the attacker already has enough access to get your data without doing those things (plus more info can be extracted from a fully-initialized Java process)."},{"owner":{"account_id":14809303,"reputation":75,"user_id":10695430,"display_name":"Panicking Developer"},"score":0,"creation_date":1682200975,"post_id":76081400,"comment_id":134178687,"body_markdown":"Good idea, the app indeed does not boot.","body":"Good idea, the app indeed does not boot."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682242290,"creation_date":1682200935,"answer_id":76082126,"question_id":76081400,"body_markdown":"Referring to the part 3 of the [12 factor app][1] principle, you should store your configuration on the environment (your server).\r\n\r\nAs an example, when deploying your application on the cloud, you have the concept of *[secrets][2]* that are crypted values you store in your server such as: credentials, passwords, keys etc...\r\n\r\n\r\n  [1]: https://12factor.net/config\r\n  [2]: https://learn.microsoft.com/en-us/azure/key-vault/general/basic-concepts","title":"Is it a good practice to store spring.security.* properties in configuration server?","body":"<p>Referring to the part 3 of the <a href=\"https://12factor.net/config\" rel=\"nofollow noreferrer\">12 factor app</a> principle, you should store your configuration on the environment (your server).</p>\n<p>As an example, when deploying your application on the cloud, you have the concept of <em><a href=\"https://learn.microsoft.com/en-us/azure/key-vault/general/basic-concepts\" rel=\"nofollow noreferrer\">secrets</a></em> that are crypted values you store in your server such as: credentials, passwords, keys etc...</p>\n"}],"owner":{"account_id":14809303,"reputation":75,"user_id":10695430,"display_name":"Panicking Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682242290,"creation_date":1682189394,"question_id":76081400,"body_markdown":"Is it a good practice to store spring.security.* properties, used by SpringBoot app, in configuration server? There are two problems that bothers me:\r\n- in case of lack of conectivity, can application boot without any security at all? \r\n- can any potential attacker trigger context refres (if I understand correctly spring will refresh all beans and configurations) and in case of lack of conectivity the security will be gone?","title":"Is it a good practice to store spring.security.* properties in configuration server?","body":"<p>Is it a good practice to store spring.security.* properties, used by SpringBoot app, in configuration server? There are two problems that bothers me:</p>\n<ul>\n<li>in case of lack of conectivity, can application boot without any security at all?</li>\n<li>can any potential attacker trigger context refres (if I understand correctly spring will refresh all beans and configurations) and in case of lack of conectivity the security will be gone?</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1580245079,"post_id":59956919,"comment_id":106032796,"body_markdown":"Please provide example input with expected output and current output.  Currently you at least have a logic issue because you check `if (array [j] == 0)` then immediately check if `array[j] != 0`,these both could never be true at the same time.","body":"Please provide example input with expected output and current output.  Currently you at least have a logic issue because you check <code>if (array [j] == 0)</code> then immediately check if <code>array[j] != 0</code>,these both could never be true at the same time."},{"owner":{"account_id":3701688,"reputation":3358,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1580245297,"post_id":59956919,"comment_id":106032887,"body_markdown":"You check if `array[j]` is 0, but if it is then your loop only runs while `array[j]` is NOT 0 so it never runs. `if (array[j] == 0) { while (array[j] != 0)`","body":"You check if <code>array[j]</code> is 0, but if it is then your loop only runs while <code>array[j]</code> is NOT 0 so it never runs. <code>if (array[j] == 0) { while (array[j] != 0)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17261145,"reputation":240,"user_id":12498994,"display_name":"Xgh05t"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580251640,"creation_date":1580245540,"answer_id":59957020,"question_id":59956919,"body_markdown":"I can&#39;t provide an exact code, but you should look up the dutch national flag problem and try to build up your solution from that. The gist of it is that, whenever you see a 0, swap it with the rightmost element and move the pointer `r--` if that makes sense and keep doing it until your left pointer `l` is `l &lt; r`.\r\n\r\nThe pseudo code would be something like this \r\n```\r\nint l = 0; int r = array.size() - 1;\r\nwhile(l &lt; r) {\r\n if(array[l] == 0) swap(array[l], array[r--]);\r\n else l++;\r\n}\r\n```\r\nIt should work, but I haven&#39;t thought it through, it should give you an idea on a way to solve it at least.\r\n\r\nHere is what it could look like in Java:\r\n \r\n\r\n    public class Test { \r\n    \r\n        public static void exchange(int[] array){\r\n        \tint l = 0; \r\n        \tint r = array.length;\r\n        \twhile (l &lt; r) {\r\n    \t    \t if(array[l] == 0) {\r\n    \t    \t\t r--;\r\n    \t             int temp = array[l];\r\n    \t             array[l] = array[r];\r\n    \t             array[r] = temp;\r\n    \t    \t }\r\n    \t    \t else {\r\n    \t    \t\t l++;\r\n    \t    \t }\r\n        \t}\r\n        \tSystem.out.println(Arrays.toString(array));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int[] a = new int[] {5,4,0,3,2,0,1,7,0};\r\n            exchange(a);\r\n        }\r\n       }\r\n\r\n   **Output:**\r\n   &gt;[5, 4, 7, 3, 2, 1, 0, 0, 0]\r\n\r\n","title":"Moving every zero to the right side of a given array of integers","body":"<p>I can't provide an exact code, but you should look up the dutch national flag problem and try to build up your solution from that. The gist of it is that, whenever you see a 0, swap it with the rightmost element and move the pointer <code>r--</code> if that makes sense and keep doing it until your left pointer <code>l</code> is <code>l &lt; r</code>.</p>\n\n<p>The pseudo code would be something like this </p>\n\n<pre><code>int l = 0; int r = array.size() - 1;\nwhile(l &lt; r) {\n if(array[l] == 0) swap(array[l], array[r--]);\n else l++;\n}\n</code></pre>\n\n<p>It should work, but I haven't thought it through, it should give you an idea on a way to solve it at least.</p>\n\n<p>Here is what it could look like in Java:</p>\n\n<pre><code>public class Test { \n\n    public static void exchange(int[] array){\n        int l = 0; \n        int r = array.length;\n        while (l &lt; r) {\n             if(array[l] == 0) {\n                 r--;\n                 int temp = array[l];\n                 array[l] = array[r];\n                 array[r] = temp;\n             }\n             else {\n                 l++;\n             }\n        }\n        System.out.println(Arrays.toString(array));\n    }\n\n    public static void main(String[] args) {\n        int[] a = new int[] {5,4,0,3,2,0,1,7,0};\n        exchange(a);\n    }\n   }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>[5, 4, 7, 3, 2, 1, 0, 0, 0]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580250207,"creation_date":1580248432,"answer_id":59957611,"question_id":59956919,"body_markdown":"The listed &quot;expected output&quot; does not quite reflect what the instructions say. If all you want is to move the zeros to the end, without modifying the order of other entries, then the expected output would be &quot;5, 4, 3, 2, 1, 7, 0, 0, 0&quot;, not &quot;5, 4, 7, 3, 2, 1, 0, 0, 0&quot;. \r\nThe following code for the exchange method leaves the order unmodified:\r\n\r\n       public static void exchange(int[] array) {\r\n          int l = 0;\r\n          int r = array.length - 1;\r\n          while (l &lt; r) {\r\n             if (array[l] == 0) {\r\n                for (int i = l + 1; i &lt;= r; i++) {\r\n                   array[i - 1] = array[i];\r\n                }\r\n                array[r--] = 0;\r\n             }\r\n             else l++; //\r\n          }\r\n          System.out.println(Arrays.toString(array));\r\n       }\r\n\r\n","title":"Moving every zero to the right side of a given array of integers","body":"<p>The listed \"expected output\" does not quite reflect what the instructions say. If all you want is to move the zeros to the end, without modifying the order of other entries, then the expected output would be \"5, 4, 3, 2, 1, 7, 0, 0, 0\", not \"5, 4, 7, 3, 2, 1, 0, 0, 0\". \nThe following code for the exchange method leaves the order unmodified:</p>\n\n<pre><code>   public static void exchange(int[] array) {\n      int l = 0;\n      int r = array.length - 1;\n      while (l &lt; r) {\n         if (array[l] == 0) {\n            for (int i = l + 1; i &lt;= r; i++) {\n               array[i - 1] = array[i];\n            }\n            array[r--] = 0;\n         }\n         else l++; //\n      }\n      System.out.println(Arrays.toString(array));\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1580253589,"creation_date":1580253589,"answer_id":59958537,"question_id":59956919,"body_markdown":"If you wouldn&#39;t mind the cost of creating a new array, or if you want to keep the original array unchanged, you can consider a new array of the same size as the original one, as the brand new array&#39;s values default to zero&#39;s, so you just need to put non-zero values at the beginning of the new array and no need to append zeros at the end.\r\n\r\n\tprivate static int[] exchange(int[] a) {\r\n\t\tint[] someArray = new int[a.length];\r\n\t\tint count = 0;\r\n\t\tfor (int num : a) {\r\n\t\t\tif (num != 0) {\r\n\t\t\t\tsomeArray[count] = num;\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n        return someArray;\r\n\t}\r\n\r\n    int[] a = new int[] { 5, 4, 0, 3, 2, 0, 1, 7, 0 };\r\n\tSystem.out.println(Arrays.toString(exchange(a)));\r\n\r\n","title":"Moving every zero to the right side of a given array of integers","body":"<p>If you wouldn't mind the cost of creating a new array, or if you want to keep the original array unchanged, you can consider a new array of the same size as the original one, as the brand new array's values default to zero's, so you just need to put non-zero values at the beginning of the new array and no need to append zeros at the end.</p>\n\n<pre><code>private static int[] exchange(int[] a) {\n    int[] someArray = new int[a.length];\n    int count = 0;\n    for (int num : a) {\n        if (num != 0) {\n            someArray[count] = num;\n            count++;\n        }\n    }\n    return someArray;\n}\n\nint[] a = new int[] { 5, 4, 0, 3, 2, 0, 1, 7, 0 };\nSystem.out.println(Arrays.toString(exchange(a)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17261145,"reputation":240,"user_id":12498994,"display_name":"Xgh05t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582750468,"creation_date":1582750468,"answer_id":60422375,"question_id":59956919,"body_markdown":"Figured out the in-place, I was just practicing code and this just popped into my head, O(1) space solution for this problem!\r\nThe idea is very similar to the un-stable code, only difference being, instead of tracking the last place and randomly swapping, we tracking from the beginning and do it in a stable manner, by making sure we send non-zeroes to the beginning in a left to right traversal.\r\n\r\nPseudo code:\r\n```\r\nfor(int lastNonZero = 0, cur = 0; cur &lt; nums.size(); cur++) {\r\n    if(nums[cur] != 0) {\r\n        swap(nums[lastNonZero++], nums[cur]);\r\n     }\r\n}\r\n```","title":"Moving every zero to the right side of a given array of integers","body":"<p>Figured out the in-place, I was just practicing code and this just popped into my head, O(1) space solution for this problem!\nThe idea is very similar to the un-stable code, only difference being, instead of tracking the last place and randomly swapping, we tracking from the beginning and do it in a stable manner, by making sure we send non-zeroes to the beginning in a left to right traversal.</p>\n\n<p>Pseudo code:</p>\n\n<pre><code>for(int lastNonZero = 0, cur = 0; cur &lt; nums.size(); cur++) {\n    if(nums[cur] != 0) {\n        swap(nums[lastNonZero++], nums[cur]);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28345808,"reputation":1,"user_id":21678055,"display_name":"prathamesh shimpi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682241487,"creation_date":1681878044,"answer_id":76050738,"question_id":59956919,"body_markdown":"```\r\npackage numberprograms;\r\n\r\npublic class ShiftAll0AtEndInArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint count = 0;\r\n\t\tint arr[] = new int[] {5,0,4,9,0};\r\n\t\tint tempArr[] = new int[arr.length];\r\n\t\t// shift all zero in right side ;\r\n\t\tfor (int i = 0; i&lt;arr.length; i++) {\r\n\t\t\tif(arr[i] != 0) {\r\n\t\t\t\ttempArr[count] = arr[i];\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t//now print array;\r\n\t\tfor (int i = 0; i&lt;tempArr.length; i++) {\r\n\t\t\tSystem.out.print(&quot; &quot;+ tempArr[i]);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"Moving every zero to the right side of a given array of integers","body":"<pre><code>package numberprograms;\n\npublic class ShiftAll0AtEndInArray {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int count = 0;\n        int arr[] = new int[] {5,0,4,9,0};\n        int tempArr[] = new int[arr.length];\n        // shift all zero in right side ;\n        for (int i = 0; i&lt;arr.length; i++) {\n            if(arr[i] != 0) {\n                tempArr[count] = arr[i];\n                count++;\n            }\n            \n        }\n        //now print array;\n        for (int i = 0; i&lt;tempArr.length; i++) {\n            System.out.print(&quot; &quot;+ tempArr[i]);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11439152,"reputation":23,"user_id":8385376,"display_name":"Elham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59958537,"answer_count":5,"score":1,"last_activity_date":1682241487,"creation_date":1580245021,"question_id":59956919,"body_markdown":"I am trying to move every zero to the right side of a given array of integers. But the while loop dose not work correctly and the output is same as input array. How can I fix it?\r\ninput : [5,4,0,3,2,0,1,7,0]\r\nexpected output: [5,4,7,3,2,1,0,0,0]\r\n\r\n\r\n```\r\npublic class Examp167 {\r\n    public static void exchange(int[] array){\r\n        for (int j=0; j&lt;array.length; j++){\r\n            if (array[j]==0){\r\n                while (array[j] != 0) {\r\n                    for (int i=array.length-1; i!=j ; i--) {\r\n                        int temp = array[j];\r\n                        array[j] = array[i];\r\n                        array[i] = temp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.print(array[j]+ &quot; &quot;);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        int[] a = new int[] {5,4,0,3,2,0,1,7,0};\r\n        exchange(a);\r\n    }\r\n}\r\n```","title":"Moving every zero to the right side of a given array of integers","body":"<p>I am trying to move every zero to the right side of a given array of integers. But the while loop dose not work correctly and the output is same as input array. How can I fix it?\ninput : [5,4,0,3,2,0,1,7,0]\nexpected output: [5,4,7,3,2,1,0,0,0]</p>\n\n<pre><code>public class Examp167 {\n    public static void exchange(int[] array){\n        for (int j=0; j&lt;array.length; j++){\n            if (array[j]==0){\n                while (array[j] != 0) {\n                    for (int i=array.length-1; i!=j ; i--) {\n                        int temp = array[j];\n                        array[j] = array[i];\n                        array[i] = temp;\n                    }\n                }\n            }\n            System.out.print(array[j]+ \" \");\n        }\n    }\n    public static void main(String[] args) {\n        int[] a = new int[] {5,4,0,3,2,0,1,7,0};\n        exchange(a);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security","basic-authentication","spring-boot-security"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681841793,"post_id":76047493,"comment_id":134121045,"body_markdown":"But then why a 401 on a GET if its permitAll()? if you are sending auth header with the GET remove it and see if it no longer responds with a 401. it seems to be reaching some internal spring check. Also take the permitAll() out and test if a GET hits your entry point.","body":"But then why a 401 on a GET if its permitAll()? if you are sending auth header with the GET remove it and see if it no longer responds with a 401. it seems to be reaching some internal spring check. Also take the permitAll() out and test if a GET hits your entry point."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":1,"creation_date":1681843374,"post_id":76047493,"comment_id":134121394,"body_markdown":"When i remove a auth header, i got a 200. I removed `.antMatchers(HttpMethod.GET).permitAll()` and i got a same error like a post request. I think the problem is with the permitAll","body":"When i remove a auth header, i got a 200. I removed <code>.antMatchers(HttpMethod.GET).permitAll()</code> and i got a same error like a post request. I think the problem is with the permitAll"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681843857,"post_id":76047493,"comment_id":134121477,"body_markdown":"There is a known bug/feature in spring security that causes a request to be ‘validated’ if it has an Authorization header long before the permitAll is hit. I believe that is what we have observed. Don’t pass credentials unless they are valid.","body":"There is a known bug/feature in spring security that causes a request to be ‘validated’ if it has an Authorization header long before the permitAll is hit. I believe that is what we have observed. Don’t pass credentials unless they are valid."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1681845038,"post_id":76047493,"comment_id":134121698,"body_markdown":"why spring security don&#39;t call `AuthenticationEntryPoint` by pass bad credentials","body":"why spring security don&#39;t call <code>AuthenticationEntryPoint</code> by pass bad credentials"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681844000,"creation_date":1681844000,"answer_id":76048137,"question_id":76047493,"body_markdown":"There is a known bug/feature in spring security that causes a request to be ‘validated’ if it has an Authorization header long before the permitAll() is hit. I believe that is what we have observed. Don’t pass credentials unless they are valid.","title":"authenticationEntryPoint won&#39;t work for permit() http method with credentials submitted","body":"<p>There is a known bug/feature in spring security that causes a request to be ‘validated’ if it has an Authorization header long before the permitAll() is hit. I believe that is what we have observed. Don’t pass credentials unless they are valid.</p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76048137,"answer_count":1,"score":0,"last_activity_date":1682240913,"creation_date":1681839046,"question_id":76047493,"body_markdown":"```\r\n@Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      // @formatter:off\r\n      httpSecurity\r\n               .csrf()\r\n               .disable()\r\n               .authorizeRequests()\r\n               .antMatchers(HttpMethod.GET).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .httpBasic()\r\n               .and()\r\n               .exceptionHandling()\r\n               .authenticationEntryPoint(authenticationEntryPoint());\r\n      // @formatter:on\r\n   }\r\n\r\n   private static AuthenticationEntryPoint authenticationEntryPoint()\r\n   {\r\n      return (request, response, authException) -&gt; {\r\n         response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;);\r\n         response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n         response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n         String message = authException.getMessage();\r\n         if (request.getHeaders(&quot;Authorization&quot;).hasMoreElements()) {\r\n            message += &quot;. Wrong Authorization Key.&quot;;\r\n         } else {\r\n            message += &quot;. Missing Authorization Key im Header.&quot;;\r\n         }\r\n         response.getWriter().format(&quot;&quot;&quot;\r\n                                              {\r\n                                                &quot;errors&quot;:[\r\n                                                  {\r\n                                                    &quot;status&quot;: %d,\r\n                                                    &quot;title&quot;: &quot;%s&quot;,\r\n                                                    &quot;detail&quot;: &quot;%s&quot;\r\n                                                  }\r\n                                                ]\r\n                                              }\r\n                                              &quot;&quot;&quot;,\r\n                                     HttpStatus.UNAUTHORIZED.value(),\r\n                                     HttpStatus.UNAUTHORIZED.name(),\r\n                                     message\r\n         );\r\n      };\r\n   }\r\n```\r\n\r\nwhy i send a post request with wrong credentials, i got:\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;status&quot;: 401,\r\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\r\n            &quot;detail&quot;: &quot;Full authentication is required to access this resource. Wrong Authorization Key.&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nfor a get method i don&#39;t get a formatted error:\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-18T17:07:35.663+00:00&quot;,\r\n    &quot;status&quot;: 401,\r\n    &quot;error&quot;: &quot;Unauthorized&quot;,\r\n    &quot;path&quot;: &quot;/xxx/1111&quot;\r\n}\r\n```\r\n\r\nI also get a pretty response like a post","title":"authenticationEntryPoint won&#39;t work for permit() http method with credentials submitted","body":"<pre><code>@Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      // @formatter:off\n      httpSecurity\n               .csrf()\n               .disable()\n               .authorizeRequests()\n               .antMatchers(HttpMethod.GET).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .httpBasic()\n               .and()\n               .exceptionHandling()\n               .authenticationEntryPoint(authenticationEntryPoint());\n      // @formatter:on\n   }\n\n   private static AuthenticationEntryPoint authenticationEntryPoint()\n   {\n      return (request, response, authException) -&gt; {\n         response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;Realm\\&quot;&quot;);\n         response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n         response.setStatus(HttpStatus.UNAUTHORIZED.value());\n         String message = authException.getMessage();\n         if (request.getHeaders(&quot;Authorization&quot;).hasMoreElements()) {\n            message += &quot;. Wrong Authorization Key.&quot;;\n         } else {\n            message += &quot;. Missing Authorization Key im Header.&quot;;\n         }\n         response.getWriter().format(&quot;&quot;&quot;\n                                              {\n                                                &quot;errors&quot;:[\n                                                  {\n                                                    &quot;status&quot;: %d,\n                                                    &quot;title&quot;: &quot;%s&quot;,\n                                                    &quot;detail&quot;: &quot;%s&quot;\n                                                  }\n                                                ]\n                                              }\n                                              &quot;&quot;&quot;,\n                                     HttpStatus.UNAUTHORIZED.value(),\n                                     HttpStatus.UNAUTHORIZED.name(),\n                                     message\n         );\n      };\n   }\n</code></pre>\n<p>why i send a post request with wrong credentials, i got:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;status&quot;: 401,\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\n            &quot;detail&quot;: &quot;Full authentication is required to access this resource. Wrong Authorization Key.&quot;\n        }\n    ]\n}\n</code></pre>\n<p>for a get method i don't get a formatted error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-18T17:07:35.663+00:00&quot;,\n    &quot;status&quot;: 401,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;path&quot;: &quot;/xxx/1111&quot;\n}\n</code></pre>\n<p>I also get a pretty response like a post</p>\n"},{"tags":["java","solr","nutch"],"owner":{"account_id":27672582,"reputation":21,"user_id":21123078,"display_name":"Jayasuryaa Govindraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682240050,"creation_date":1682236217,"question_id":76083689,"body_markdown":"I am trying to create a webgraph in Apache Nutch after performing crawling. This is the command I am using to create the webgraph.\r\n\r\n`bin/nutch webgraph -segmentDir crawl/segments/ -webgraphdb crawl/webgraphdb`\r\n\r\nI get this error after running it. \r\n\r\n\r\n```\r\nOutlinkDb job did not succeed, job id: job_local306968781_0001, job status: FAILED, reason: NA\r\n2023-04-23 02:32:53,083 ERROR o.a.n.s.w.WebGraph [main] WebGraph: java.lang.RuntimeException: OutlinkDb job did not succeed, job id: job_local306968781_0001, job status: FAILED, reason: NA\r\n\tat org.apache.nutch.scoring.webgraph.WebGraph.createWebGraph(WebGraph.java:610)\r\n\tat org.apache.nutch.scoring.webgraph.WebGraph.run(WebGraph.java:809)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\r\n\tat org.apache.nutch.scoring.webgraph.WebGraph.main(WebGraph.java:724)\r\n\r\n```\r\n\r\n\r\n\r\nI see that I have 2 segments in my segments folder. I noticed the error only occurs for the second segment.\r\n\r\nCould someone please help me to get the webgraph using Nutch and tell me where I am going wrong. ","title":"Nutch 1.19 Webgraph command error: OutlinkDb job did not succeed, job id: job_local306968781_0001, job status: FAILED, reason: NA","body":"<p>I am trying to create a webgraph in Apache Nutch after performing crawling. This is the command I am using to create the webgraph.</p>\n<p><code>bin/nutch webgraph -segmentDir crawl/segments/ -webgraphdb crawl/webgraphdb</code></p>\n<p>I get this error after running it.</p>\n<pre><code>OutlinkDb job did not succeed, job id: job_local306968781_0001, job status: FAILED, reason: NA\n2023-04-23 02:32:53,083 ERROR o.a.n.s.w.WebGraph [main] WebGraph: java.lang.RuntimeException: OutlinkDb job did not succeed, job id: job_local306968781_0001, job status: FAILED, reason: NA\n    at org.apache.nutch.scoring.webgraph.WebGraph.createWebGraph(WebGraph.java:610)\n    at org.apache.nutch.scoring.webgraph.WebGraph.run(WebGraph.java:809)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\n    at org.apache.nutch.scoring.webgraph.WebGraph.main(WebGraph.java:724)\n\n</code></pre>\n<p>I see that I have 2 segments in my segments folder. I noticed the error only occurs for the second segment.</p>\n<p>Could someone please help me to get the webgraph using Nutch and tell me where I am going wrong.</p>\n"},{"tags":["java","dll","pascal","mql4","metatrader4"],"answers":[{"tags":[],"owner":{"account_id":35123,"reputation":25701,"user_id":99354,"accept_rate":87,"display_name":"Marco van de Voort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682239684,"creation_date":1682239684,"answer_id":76083911,"question_id":76024454,"body_markdown":"You seem to assume that Pascal string = Java string.  They are not the same.\r\n\r\nRewrite the interface to use pchar in Pascal and and read up on JNI options in Java to interface to (char *)   Probably char[].","title":"MetaTrader (MQL4) &gt; .DLL (Delphi/Pascal) &gt; .jar (Java) | Java-Thread seems to close immediately when opened via .dll (ShellExecute) via mql-call","body":"<p>You seem to assume that Pascal string = Java string.  They are not the same.</p>\n<p>Rewrite the interface to use pchar in Pascal and and read up on JNI options in Java to interface to (char *)   Probably char[].</p>\n"}],"owner":{"account_id":5642869,"reputation":1,"user_id":4466050,"display_name":"Duke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682239684,"creation_date":1681588463,"question_id":76024454,"body_markdown":"(I use Windows 11 Home) To establish a communication between MetaTrader4 and my own Java Application I want to use stdin and stdout pipes. At this moment, I try to open my .jar from a .dll called by mql.\r\n\r\nBut when I start my MQL Expert, import the dll (successful), I only get a blink of an eye console window. Also I cant find a matching thread in taskmanager\r\n\r\n\r\nMy Java:\r\n```\r\nimport javax.swing.*;\r\npublic class SystemOutTest {\r\n       public static void main(String[] args) throws InterruptedException {\r\n          JFrame frame = new JFrame(&quot;Text Window&quot;);\r\n          JLabel label = new JLabel(&quot;Hello, World!&quot;);\r\n          frame.add(label);\r\n          frame.setSize(200, 100);\r\n          frame.setVisible(true);\r\n          \r\n          Thread.sleep(9000);\r\n       }\r\n}\r\n```\r\n\r\n\r\nMy .dll:\r\n```\r\nlibrary JarLauncher;\r\n\r\nuses\r\n    Windows, ShellAPI;\r\n\r\nfunction LaunchJar(const AFileName: string; const AArguments: string): Integer; stdcall;\r\n\r\n\tvar\r\n\tJavaPath: string;\r\n\r\n\tbegin\r\n\t\tJavaPath := &#39;C:\\Program Files (x86)\\Java\\jre1.8.0_361\\bin\\java.exe&#39;;\r\n\t\tResult := ShellExecute(\r\n\t\t\t0,\r\n\t\t\tnil,\r\n\t\t\t&#39;java.exe&#39;,\r\n\t\t\t&#39;-Xmx1024M -Xms1024M -jar testpilot.jar&#39;,\r\n\t\t\tnil,\r\n\t\t\tSW_SHOW\r\n\t\t);\r\n\tend;\r\n\r\nexports\r\n\tLaunchJar;\r\n\r\nbegin\r\nend.\r\n```\r\n\r\nAnd my MQL:\r\n```\r\n\r\n#import &quot;JarLauncher.dll&quot;\r\nint LaunchJar(string AFileName, string AArguments);\r\n#import\r\n\r\nvoid OnInit()\r\n{\r\n   // string jarFile = &quot;C:\\\\path\\\\to\\\\testpilot.jar&quot;;\r\n   string jarFile = &quot;testpilot.jar&quot;;\r\n   string arguments = &quot;&quot;;\r\n   \r\n   int result = LaunchJar(jarFile, arguments);\r\n   if (result &lt;= 0)\r\n   {\r\n      Print(&quot;Failed to launch JAR file!&quot;);\r\n   }\r\n   else\r\n   {\r\n      Print(result);\r\n   }\r\n   Sleep(9000);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI know MT4 is 32Bit, so I got my Lazarus and Eclipse and JRE to 32Bit.\r\nI get no Errors.\r\nGot through some trouble there (ERR 126, file not found), so I am confident, that my MQL finds the dll and executes fine.\r\n\r\nMy Output in MT4 Console is:\r\n\r\n```\r\n2023.04.15 20:43:28.558    maybeload [DJI30],H1: 42\r\n2023.04.15 20:43:26.064    Expert maybeload [DJI30],H1: loaded successfully\r\n```\r\n\r\nI think 42 is no Error Code but a Process Handle?\r\n\r\n\r\nIn my dll I played around with ShellExcecute with different Variations of java.exe and full path and javaw.exe and -jar argument and also SW_SHOWNORMAL and SW_SHOWDEFAULT and SW_SHOW. Nothing changed a bit.\r\n\r\nI can start my .jar from cmd and from explorer (doubleclick) without Problems and see the window.\r\n\r\nI couldnot run it via rundll32, probably because I messed up the command.\r\n\r\nI figured it could be some problem with MQL Thread Handling... but im stuck since days now.\r\nThank you very much!","title":"MetaTrader (MQL4) &gt; .DLL (Delphi/Pascal) &gt; .jar (Java) | Java-Thread seems to close immediately when opened via .dll (ShellExecute) via mql-call","body":"<p>(I use Windows 11 Home) To establish a communication between MetaTrader4 and my own Java Application I want to use stdin and stdout pipes. At this moment, I try to open my .jar from a .dll called by mql.</p>\n<p>But when I start my MQL Expert, import the dll (successful), I only get a blink of an eye console window. Also I cant find a matching thread in taskmanager</p>\n<p>My Java:</p>\n<pre><code>import javax.swing.*;\npublic class SystemOutTest {\n       public static void main(String[] args) throws InterruptedException {\n          JFrame frame = new JFrame(&quot;Text Window&quot;);\n          JLabel label = new JLabel(&quot;Hello, World!&quot;);\n          frame.add(label);\n          frame.setSize(200, 100);\n          frame.setVisible(true);\n          \n          Thread.sleep(9000);\n       }\n}\n</code></pre>\n<p>My .dll:</p>\n<pre><code>library JarLauncher;\n\nuses\n    Windows, ShellAPI;\n\nfunction LaunchJar(const AFileName: string; const AArguments: string): Integer; stdcall;\n\n    var\n    JavaPath: string;\n\n    begin\n        JavaPath := 'C:\\Program Files (x86)\\Java\\jre1.8.0_361\\bin\\java.exe';\n        Result := ShellExecute(\n            0,\n            nil,\n            'java.exe',\n            '-Xmx1024M -Xms1024M -jar testpilot.jar',\n            nil,\n            SW_SHOW\n        );\n    end;\n\nexports\n    LaunchJar;\n\nbegin\nend.\n</code></pre>\n<p>And my MQL:</p>\n<pre><code>\n#import &quot;JarLauncher.dll&quot;\nint LaunchJar(string AFileName, string AArguments);\n#import\n\nvoid OnInit()\n{\n   // string jarFile = &quot;C:\\\\path\\\\to\\\\testpilot.jar&quot;;\n   string jarFile = &quot;testpilot.jar&quot;;\n   string arguments = &quot;&quot;;\n   \n   int result = LaunchJar(jarFile, arguments);\n   if (result &lt;= 0)\n   {\n      Print(&quot;Failed to launch JAR file!&quot;);\n   }\n   else\n   {\n      Print(result);\n   }\n   Sleep(9000);\n}\n\n</code></pre>\n<p>I know MT4 is 32Bit, so I got my Lazarus and Eclipse and JRE to 32Bit.\nI get no Errors.\nGot through some trouble there (ERR 126, file not found), so I am confident, that my MQL finds the dll and executes fine.</p>\n<p>My Output in MT4 Console is:</p>\n<pre><code>2023.04.15 20:43:28.558    maybeload [DJI30],H1: 42\n2023.04.15 20:43:26.064    Expert maybeload [DJI30],H1: loaded successfully\n</code></pre>\n<p>I think 42 is no Error Code but a Process Handle?</p>\n<p>In my dll I played around with ShellExcecute with different Variations of java.exe and full path and javaw.exe and -jar argument and also SW_SHOWNORMAL and SW_SHOWDEFAULT and SW_SHOW. Nothing changed a bit.</p>\n<p>I can start my .jar from cmd and from explorer (doubleclick) without Problems and see the window.</p>\n<p>I couldnot run it via rundll32, probably because I messed up the command.</p>\n<p>I figured it could be some problem with MQL Thread Handling... but im stuck since days now.\nThank you very much!</p>\n"},{"tags":["java","static","static-classes"],"comments":[{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":1,"creation_date":1344269072,"post_id":11831791,"comment_id":15731183,"body_markdown":"In that case, you have to ensure or force yourself to put `FavsPopupFragment` inside another class.","body":"In that case, you have to ensure or force yourself to put <code>FavsPopupFragment</code> inside another class."},{"owner":{"account_id":92694,"reputation":11510,"user_id":253938,"accept_rate":81,"display_name":"RenniePet"},"score":0,"creation_date":1411595645,"post_id":11831791,"comment_id":40767704,"body_markdown":"For me the reason that I&#39;m looking at this question is that I&#39;m coming from C#/.Net, and there you can have static top level classes. Although it turns out that &quot;static&quot; means two different things in the two technologies.","body":"For me the reason that I&#39;m looking at this question is that I&#39;m coming from C#/.Net, and there you can have static top level classes. Although it turns out that &quot;static&quot; means two different things in the two technologies."}],"answers":[{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1344268824,"creation_date":1344268824,"answer_id":11831828,"question_id":11831791,"body_markdown":"You can&#39;t create a top level static class; that&#39;s what the compiler is trying to tell you. Also have a look at the answer [here][1] as to *why* this is the case. The gist is:\r\n\r\n&gt; What the static boils down to is that an instance of the class can\r\n&gt; stand on its own. Or, the other way around: a non-static inner class\r\n&gt; (= instance inner class) cannot exist without an instance of the outer\r\n&gt; class. Since a top-level class does not have an outer class, it can&#39;t\r\n&gt; be anything but static.\r\n&gt; \r\n&gt; Because all top-level classes are static, having the static keyword in\r\n&gt; a top-level class definition is pointless.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7370832/193906","title":"Why is a static class illegal in Java?","body":"<p>You can't create a top level static class; that's what the compiler is trying to tell you. Also have a look at the answer <a href=\"https://stackoverflow.com/a/7370832/193906\">here</a> as to <em>why</em> this is the case. The gist is:</p>\n\n<blockquote>\n  <p>What the static boils down to is that an instance of the class can\n  stand on its own. Or, the other way around: a non-static inner class\n  (= instance inner class) cannot exist without an instance of the outer\n  class. Since a top-level class does not have an outer class, it can't\n  be anything but static.</p>\n  \n  <p>Because all top-level classes are static, having the static keyword in\n  a top-level class definition is pointless.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344268826,"creation_date":1344268826,"answer_id":11831829,"question_id":11831791,"body_markdown":"Remove static from class definition. Only nested [classes][1] can be static.\r\n\r\n&gt; for the class FavsPopupFragment; only public, abstract &amp; final are\r\n&gt; permitted\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/classdecl.html","title":"Why is a static class illegal in Java?","body":"<p>Remove static from class definition. Only nested <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classdecl.html\" rel=\"nofollow\">classes</a> can be static.</p>\n\n<blockquote>\n  <p>for the class FavsPopupFragment; only public, abstract &amp; final are\n  permitted</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1225655,"reputation":38395,"user_id":1207921,"accept_rate":79,"display_name":"Karakuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344268841,"creation_date":1344268841,"answer_id":11831835,"question_id":11831791,"body_markdown":"I don&#39;t think you can create instances of a static class using the new keyword. This is a fragment anyway, so it probably should not be static anyway. ","title":"Why is a static class illegal in Java?","body":"<p>I don't think you can create instances of a static class using the new keyword. This is a fragment anyway, so it probably should not be static anyway. </p>\n"},{"tags":[],"owner":{"account_id":474638,"reputation":9270,"user_id":1592398,"accept_rate":90,"display_name":"code-jaff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344270273,"creation_date":1344269214,"answer_id":11831935,"question_id":11831791,"body_markdown":"You cant use `static` modifier for top level classes, though there can be nested classes which can be modified with `static` keyword.\r\n\r\nIn this case either you need to remove the static modifier, or make sure this class nested into another top level class.\r\n\r\n**Extra info**\r\n\r\n&gt; There&#39;s no such thing as a static class. The static modifier in this\r\n&gt; case (static nested) says that the nested class is a static member of the outer class.\r\n&gt; That means it can be accessed, as with other static members, without\r\n&gt; having an instance of the outer class.\r\n&gt; \r\n&gt; Just as a static method does not have access to the instance variables\r\n&gt; and nonstatic methods of the class, a static nested class does not\r\n&gt; have access to the instance variables and nonstatic methods of the\r\n&gt; outer class","title":"Why is a static class illegal in Java?","body":"<p>You cant use <code>static</code> modifier for top level classes, though there can be nested classes which can be modified with <code>static</code> keyword.</p>\n\n<p>In this case either you need to remove the static modifier, or make sure this class nested into another top level class.</p>\n\n<p><strong>Extra info</strong></p>\n\n<blockquote>\n  <p>There's no such thing as a static class. The static modifier in this\n  case (static nested) says that the nested class is a static member of the outer class.\n  That means it can be accessed, as with other static members, without\n  having an instance of the outer class.</p>\n  \n  <p>Just as a static method does not have access to the instance variables\n  and nonstatic methods of the class, a static nested class does not\n  have access to the instance variables and nonstatic methods of the\n  outer class</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344269500,"creation_date":1344269500,"answer_id":11832013,"question_id":11831791,"body_markdown":"**1.** `static` **canNOT** be used at `Package level.`\r\n\r\n**2.** `static` is **possible within the Class level.**\r\n\r\n**3.** But you can still **use static on a class**, when the class is an `inner class`, ie. `(static inner class)`, commonly known as **Top level class.**","title":"Why is a static class illegal in Java?","body":"<p><strong>1.</strong> <code>static</code> <strong>canNOT</strong> be used at <code>Package level.</code></p>\n\n<p><strong>2.</strong> <code>static</code> is <strong>possible within the Class level.</strong></p>\n\n<p><strong>3.</strong> But you can still <strong>use static on a class</strong>, when the class is an <code>inner class</code>, ie. <code>(static inner class)</code>, commonly known as <strong>Top level class.</strong></p>\n"},{"tags":[],"owner":{"account_id":1142837,"reputation":13532,"user_id":1126273,"accept_rate":81,"display_name":"Bal&#225;zs &#201;des"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1682239523,"creation_date":1344270409,"answer_id":11832233,"question_id":11831791,"body_markdown":"As the previous answers stated, you can&#39;t use the static keyword in top level classes. But i wonder, why did you want it to be static? \r\n\r\nAn example of how static/non static classes can be instantiated:\r\n\r\n    public class A\r\n    {\r\n        public class B{}\r\n    \r\n        public static class C{}\r\n    \r\n        public static void foo()\r\n        {\r\n    \t    B b = new B(); //incorrect\r\n    \r\n            A a = new A();\r\n    \t    A.B b = a.new B(); //correct\r\n    \r\n            C c = new C(); //correct\r\n        }\r\n        public void bar()\r\n        {\r\n            B b = new B();\r\n            C c = new C(); // both are correct\r\n        }\r\n    }\r\n\r\nAnd from a completely different class:\r\n\r\n    public class D\r\n    {\r\n        public void foo()\r\n        {\r\n            A.B b = new A.B() //incorrect\r\n\r\n            A a = new A()\r\n            A.B b = a.new B() //correct\r\n            \r\n            A.C c = new A.C() //correct\r\n        }\r\n    }\r\n\r\n","title":"Why is a static class illegal in Java?","body":"<p>As the previous answers stated, you can't use the static keyword in top level classes. But i wonder, why did you want it to be static?</p>\n<p>An example of how static/non static classes can be instantiated:</p>\n<pre><code>public class A\n{\n    public class B{}\n\n    public static class C{}\n\n    public static void foo()\n    {\n        B b = new B(); //incorrect\n\n        A a = new A();\n        A.B b = a.new B(); //correct\n\n        C c = new C(); //correct\n    }\n    public void bar()\n    {\n        B b = new B();\n        C c = new C(); // both are correct\n    }\n}\n</code></pre>\n<p>And from a completely different class:</p>\n<pre><code>public class D\n{\n    public void foo()\n    {\n        A.B b = new A.B() //incorrect\n\n        A a = new A()\n        A.B b = a.new B() //correct\n        \n        A.C c = new A.C() //correct\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2540378,"reputation":3941,"user_id":2206295,"accept_rate":0,"display_name":"Jyoti Prakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434556281,"creation_date":1364190955,"answer_id":15608527,"question_id":11831791,"body_markdown":" - `static` can be used at the inner class level. Top level can&#39;t be `static`, as said before, only `public`, `abstract` &amp; `final` are permitted.\r\n   \r\n - `static` is mainly used inside class level for methods and variables.","title":"Why is a static class illegal in Java?","body":"<ul>\n<li><p><code>static</code> can be used at the inner class level. Top level can't be <code>static</code>, as said before, only <code>public</code>, <code>abstract</code> &amp; <code>final</code> are permitted.</p></li>\n<li><p><code>static</code> is mainly used inside class level for methods and variables.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9299705,"reputation":906,"user_id":6905587,"display_name":"Andrew Glukhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482827043,"creation_date":1482827043,"answer_id":41341537,"question_id":11831791,"body_markdown":"A top-level class is by definition already top-level, so there is no point in declaring it static; it is an error to do so. The compiler will detect and report this error.","title":"Why is a static class illegal in Java?","body":"<p>A top-level class is by definition already top-level, so there is no point in declaring it static; it is an error to do so. The compiler will detect and report this error.</p>\n"},{"tags":[],"owner":{"account_id":8203380,"reputation":161,"user_id":6173984,"display_name":"Vishal Sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579513063,"creation_date":1579513063,"answer_id":59820454,"question_id":11831791,"body_markdown":"The access modifier supported for top level are class are as follows : \r\n\r\n**1) public**\r\n\r\n**2) default**\r\n\r\n**3) abstract**\r\n\r\n**4) final**\r\n\r\n**5) strictfp.**\r\n\r\n**Reason: Top level class** \r\n\r\nBecause the static keyword is meant for providing memory and executing logic without creating Objects, a class does not have a value logic directly, so the static keyword is not allowed for outer class and mainly as mentioned above static can&#39;t be used at Package level. It only used within the Class level.","title":"Why is a static class illegal in Java?","body":"<p>The access modifier supported for top level are class are as follows : </p>\n\n<p><strong>1) public</strong></p>\n\n<p><strong>2) default</strong></p>\n\n<p><strong>3) abstract</strong></p>\n\n<p><strong>4) final</strong></p>\n\n<p><strong>5) strictfp.</strong></p>\n\n<p><strong>Reason: Top level class</strong> </p>\n\n<p>Because the static keyword is meant for providing memory and executing logic without creating Objects, a class does not have a value logic directly, so the static keyword is not allowed for outer class and mainly as mentioned above static can't be used at Package level. It only used within the Class level.</p>\n"}],"owner":{"account_id":342367,"reputation":2625,"user_id":673492,"accept_rate":88,"display_name":"JDx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87731,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":11831828,"answer_count":9,"score":35,"last_activity_date":1682239523,"creation_date":1344268669,"question_id":11831791,"body_markdown":"I&#39;m developing an Android application but have hit a bit of a brick wall, I keep getting the error:\r\n\r\n    Illegal modifier for the class FavsPopupFragment; only public, abstract &amp; final are permitted\r\n\r\nThis happened after following [this answer][1] to another SO question. Here is the code that I have:\r\n\r\n    package com.package.name;\r\n\r\n    /* Imports were here */\r\n\r\n    public static class FavsPopupFragment extends SherlockDialogFragment {\r\n\t\r\n\t    static FavsPopupFragment newInstance() {\r\n\t\t    FavsPopupFragment frag = new FavsPopupFragment();\r\n\t\t    return frag;\r\n\t    }\r\n    }\r\n\r\nThe error appears on the class name. I don&#39;t understand why this won&#39;t work, please help. Thank you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8311800/673492","title":"Why is a static class illegal in Java?","body":"<p>I'm developing an Android application but have hit a bit of a brick wall, I keep getting the error:</p>\n<pre><code>Illegal modifier for the class FavsPopupFragment; only public, abstract &amp; final are permitted\n</code></pre>\n<p>This happened after following <a href=\"https://stackoverflow.com/a/8311800/673492\">this answer</a> to another SO question. Here is the code that I have:</p>\n<pre><code>package com.package.name;\n\n/* Imports were here */\n\npublic static class FavsPopupFragment extends SherlockDialogFragment {\n\n    static FavsPopupFragment newInstance() {\n        FavsPopupFragment frag = new FavsPopupFragment();\n        return frag;\n    }\n}\n</code></pre>\n<p>The error appears on the class name. I don't understand why this won't work, please help. Thank you.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1095361,"reputation":3953,"user_id":1089062,"accept_rate":100,"display_name":"Boj"},"down_vote_count":1,"up_vote_count":108,"is_accepted":true,"score":107,"last_activity_date":1590173687,"creation_date":1383522193,"answer_id":19759615,"question_id":19759338,"body_markdown":"It is always set to 4.0.0 in Maven 2 and 3, because, at present, there is no other model.\r\n\r\n&gt; Notice that `modelVersion` contains 4.0.0. That is currently the only supported POM version, and is always required. [[source](https://maven.apache.org/pom.html#quick-overview)]\r\n\r\nBut it wouldn&#39;t necessarily *need* to always be set to 4.0.0 if there was another version of the model. A POM has to comply with a model. Let&#39;s say Maven 4 comes up with model 4.1. If you write your pom to comply with 4.1, it wouldn&#39;t be compatible with Maven 3 and model 4.0.0.\r\n\r\nIt&#39;s defined as a mandatory, possibly to enforce a specific XML model in case new models are defined.","title":"Why modelVersion of pom.xml is necessary and always set to 4.0.0?","body":"<p>It is always set to 4.0.0 in Maven 2 and 3, because, at present, there is no other model.</p>\n\n<blockquote>\n  <p>Notice that <code>modelVersion</code> contains 4.0.0. That is currently the only supported POM version, and is always required. [<a href=\"https://maven.apache.org/pom.html#quick-overview\" rel=\"noreferrer\">source</a>]</p>\n</blockquote>\n\n<p>But it wouldn't necessarily <em>need</em> to always be set to 4.0.0 if there was another version of the model. A POM has to comply with a model. Let's say Maven 4 comes up with model 4.1. If you write your pom to comply with 4.1, it wouldn't be compatible with Maven 3 and model 4.0.0.</p>\n\n<p>It's defined as a mandatory, possibly to enforce a specific XML model in case new models are defined.</p>\n"},{"tags":[],"owner":{"account_id":2186371,"reputation":2995,"user_id":1934704,"accept_rate":57,"display_name":"Toumi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1427472635,"creation_date":1427472635,"answer_id":29305227,"question_id":19759338,"body_markdown":"model version is the version of project descriptor  your POM conforms to.\r\nIt needs to be included and is set.\r\nThe value 4.0.0 just indicated that it is compatible Maven 3.","title":"Why modelVersion of pom.xml is necessary and always set to 4.0.0?","body":"<p>model version is the version of project descriptor  your POM conforms to.\nIt needs to be included and is set.\nThe value 4.0.0 just indicated that it is compatible Maven 3.</p>\n"},{"tags":[],"owner":{"account_id":3139797,"reputation":561,"user_id":2935910,"accept_rate":71,"display_name":"Asanke"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1506476240,"creation_date":1506476240,"answer_id":46438174,"question_id":19759338,"body_markdown":"The Correct answer should be the combination of the answers by @Toumi and @Boj. Also have a look at https://cwiki.apache.org/confluence/display/MAVEN/POM+Model+Version+5.0.0 for more background of this.","title":"Why modelVersion of pom.xml is necessary and always set to 4.0.0?","body":"<p>The Correct answer should be the combination of the answers by @Toumi and @Boj. Also have a look at <a href=\"https://cwiki.apache.org/confluence/display/MAVEN/POM+Model+Version+5.0.0\" rel=\"noreferrer\">https://cwiki.apache.org/confluence/display/MAVEN/POM+Model+Version+5.0.0</a> for more background of this.</p>\n"},{"tags":[],"owner":{"account_id":1279032,"reputation":3329,"user_id":1233600,"accept_rate":46,"display_name":"Nilotpal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574843863,"creation_date":1574836977,"answer_id":59064455,"question_id":19759338,"body_markdown":"**modelVersion** - containing the model version of the POM. \r\nMaven 1.x used a model which contained a &lt;modelVersion&gt;3.0.0&lt;/modelVersion&gt; element as an immediate child of the root. \r\nMaven 2.x / 3.x has used a &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; element. \r\n\r\n**version** - containing the version of the project. If this attribute is missing then the parent element must be present and the version will be inherited from the parent project.","title":"Why modelVersion of pom.xml is necessary and always set to 4.0.0?","body":"<p><strong>modelVersion</strong> - containing the model version of the POM. \nMaven 1.x used a model which contained a 3.0.0 element as an immediate child of the root. \nMaven 2.x / 3.x has used a 4.0.0 element. </p>\n\n<p><strong>version</strong> - containing the version of the project. If this attribute is missing then the parent element must be present and the version will be inherited from the parent project.</p>\n"}],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52462,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":19759615,"answer_count":4,"score":118,"last_activity_date":1682239366,"creation_date":1383520140,"question_id":19759338,"body_markdown":"I have noticed that Maven&#39;s `&lt;modelVersion&gt;&lt;/modelVersion&gt;` of `pom.xml` is always set to `4.0.0`.\r\n\r\nCan you please help me understand what is the importance of this tag and why it should be set to `4.0.0`?\r\n\r\n\r\n","title":"Why modelVersion of pom.xml is necessary and always set to 4.0.0?","body":"<p>I have noticed that Maven's <code>&lt;modelVersion&gt;&lt;/modelVersion&gt;</code> of <code>pom.xml</code> is always set to <code>4.0.0</code>.</p>\n<p>Can you please help me understand what is the importance of this tag and why it should be set to <code>4.0.0</code>?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642288403,"post_id":70725347,"comment_id":125032299,"body_markdown":"Did you move the .dmg file to the application folder before or after you tried to run Eclipse? Is there more information when you run Eclipse from the command line?","body":"Did you move the .dmg file to the application folder before or after you tried to run Eclipse? Is there more information when you run Eclipse from the command line?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1642313065,"post_id":70725347,"comment_id":125035002,"body_markdown":"You&#39;re not running it out of the .dmg itself, are you?","body":"You&#39;re not running it out of the .dmg itself, are you?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642341124,"post_id":70725347,"comment_id":125039825,"body_markdown":"I would guess so. I&#39;m not a macOS user/expert and only know that a .dmg file is mounted into the file system, but if the configuration area of Eclipse is inside the .dmg file, then it will be initialized on the first start-up and since it contains absolute paths mounting to a different location (which I guess is the case when moving the .dmg file) would not work (I know that for sure for Windows and Linux, but for a .dmg file on macOS I only guess).","body":"I would guess so. I&#39;m not a macOS user/expert and only know that a .dmg file is mounted into the file system, but if the configuration area of Eclipse is inside the .dmg file, then it will be initialized on the first start-up and since it contains absolute paths mounting to a different location (which I guess is the case when moving the .dmg file) would not work (I know that for sure for Windows and Linux, but for a .dmg file on macOS I only guess)."},{"owner":{"account_id":18465149,"reputation":576,"user_id":13451563,"display_name":"sadnapoleon"},"score":0,"creation_date":1642358833,"post_id":70725347,"comment_id":125044352,"body_markdown":"Would my &#39;workspace&#39; folder also have to be in applications? It&#39;s currently is in Documents.","body":"Would my &#39;workspace&#39; folder also have to be in applications? It&#39;s currently is in Documents."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1642406374,"post_id":70725347,"comment_id":125052916,"body_markdown":"Having the workspace in _Documents_ sounds good to me (I would guess this is also the default).","body":"Having the workspace in <i>Documents</i> sounds good to me (I would guess this is also the default)."},{"owner":{"account_id":18465149,"reputation":576,"user_id":13451563,"display_name":"sadnapoleon"},"score":1,"creation_date":1642440703,"post_id":70725347,"comment_id":125066314,"body_markdown":"short term solution: don&#39;t close Eclipse","body":"short term solution: don&#39;t close Eclipse"},{"owner":{"account_id":39285,"reputation":375,"user_id":113211,"accept_rate":100,"display_name":"Garret Raziel"},"score":1,"creation_date":1644269064,"post_id":70725347,"comment_id":125556449,"body_markdown":"This is happening for me on Monterey on Intel mac. I&#39;ve installed eclipse-ide from homebrew and it worked, before I first closed it. It&#39;s definitely not related to running eclipse from dmg itself. This is most likely a bug in eclipse and should be reported.","body":"This is happening for me on Monterey on Intel mac. I&#39;ve installed eclipse-ide from homebrew and it worked, before I first closed it. It&#39;s definitely not related to running eclipse from dmg itself. This is most likely a bug in eclipse and should be reported."},{"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"score":1,"creation_date":1646382457,"post_id":70725347,"comment_id":126113827,"body_markdown":"I saw this in Reddit instead of reinstalling you can use this as a temporary solution. codesign --force --deep --sign - /Applications/eclipse.app   [https://www.reddit.com/r/eclipse/comments/s4t79o/eclipse_doesnt_start_after_osx_monterey_121/]","body":"I saw this in Reddit instead of reinstalling you can use this as a temporary solution. codesign --force --deep --sign - /Applications/eclipse.app   [<a href=\"https://www.reddit.com/r/eclipse/comments/s4t79o/eclipse_doesnt_start_after_osx_monterey_121/]\" rel=\"nofollow noreferrer\">reddit.com/r/eclipse/comments/s4t79o/&hellip;</a>"},{"owner":{"account_id":53851,"reputation":1783,"user_id":161022,"accept_rate":80,"display_name":"lmsurprenant"},"score":0,"creation_date":1657558784,"post_id":70725347,"comment_id":128834222,"body_markdown":"The bug is described at https://bugs.eclipse.org/bugs/show_bug.cgi?id=578883 but there are no useful updates there as of the time of this comment.","body":"The bug is described at <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=578883\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=578883</a> but there are no useful updates there as of the time of this comment."}],"answers":[{"tags":[],"owner":{"account_id":19109979,"reputation":31,"user_id":13956197,"display_name":"Ifeoluwa Afuwape"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668277152,"creation_date":1646642346,"answer_id":71378345,"question_id":70725347,"body_markdown":"Move the Eclipse app in application folder to bin, reinstall from your .dmg file and it will work again with all your temporary files and setup intact.","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>Move the Eclipse app in application folder to bin, reinstall from your .dmg file and it will work again with all your temporary files and setup intact.</p>\n"},{"tags":[],"owner":{"account_id":24648788,"reputation":1,"user_id":18546128,"display_name":"Camille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647974128,"creation_date":1647974128,"answer_id":71577293,"question_id":70725347,"body_markdown":"I was having the same issue (also macOS Monterey) and I just re-downloaded the dmg, and when moving the app into Applications, it asked me if I wanted to replace the current Eclipse app and I said yes. Now it opened up just fine and is working.","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>I was having the same issue (also macOS Monterey) and I just re-downloaded the dmg, and when moving the app into Applications, it asked me if I wanted to replace the current Eclipse app and I said yes. Now it opened up just fine and is working.</p>\n"},{"tags":[],"owner":{"account_id":3714692,"reputation":2288,"user_id":3091196,"display_name":"debugger89"},"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1649088783,"creation_date":1649088783,"answer_id":71740449,"question_id":70725347,"body_markdown":"Faced the same issue each time I&#39;m restarting the Macbook pro M1, and a random Reddit thread provided me with a way to fix it. Open a terminal and run,\r\n\r\n    sudo codesign --force --deep --sign - /Applications/Eclipse.app\r\n\r\nNot sure why this codesigning fixes the problem. But seems to be a bug in the eclipse itself. Hope this helps someone.","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>Faced the same issue each time I'm restarting the Macbook pro M1, and a random Reddit thread provided me with a way to fix it. Open a terminal and run,</p>\n<pre><code>sudo codesign --force --deep --sign - /Applications/Eclipse.app\n</code></pre>\n<p>Not sure why this codesigning fixes the problem. But seems to be a bug in the eclipse itself. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":13230530,"reputation":61,"user_id":9920467,"display_name":"Suraj Kudale"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1649162041,"creation_date":1649162041,"answer_id":71751865,"question_id":70725347,"body_markdown":"running this in terminal works for me : \r\n\r\n    sudo codesign --force --deep --sign - /Applications/Eclipse.app","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>running this in terminal works for me :</p>\n<pre><code>sudo codesign --force --deep --sign - /Applications/Eclipse.app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":417785,"reputation":909,"user_id":793970,"accept_rate":100,"display_name":"Sushant Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663223031,"creation_date":1663223031,"answer_id":73726450,"question_id":70725347,"body_markdown":"The Issue does not occur for every restarts, but it happened the below cmd worked for me:\r\n\r\n    sudo codesign --force --deep --sign - /Applications/Eclipse.app\r\n\r\nThought of creating an alias for it in ~/.zshrc\r\n\r\n    alias signEclipse=&quot;sudo codesign --force --deep --sign - /Applications/Eclipse.app&quot;\r\n\r\n","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>The Issue does not occur for every restarts, but it happened the below cmd worked for me:</p>\n<pre><code>sudo codesign --force --deep --sign - /Applications/Eclipse.app\n</code></pre>\n<p>Thought of creating an alias for it in ~/.zshrc</p>\n<pre><code>alias signEclipse=&quot;sudo codesign --force --deep --sign - /Applications/Eclipse.app&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17768132,"reputation":151,"user_id":12902480,"display_name":"Ranga"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667081062,"creation_date":1667081062,"answer_id":74249173,"question_id":70725347,"body_markdown":"I faced the same issue each time I restarted the Macbook pro M1 Max,(Note Eclipse was downloaded via Homebrew) and \r\ntried below but it turned out to be &quot;/Applications/Eclipse.app: Is a directory&quot; \r\n\r\n    sudo codesign --force --deep --sign - /Applications/Eclipse.app\r\n\r\nthe issue was the file structure Eclipse saved was different \r\n(you can check the file structure by cd to the Eclipse through the terminal)\r\nas per the file structure, the path was \r\n\r\n    sudo codesign --force --deep --sign - /Applications/Eclipse\\ JEE.app\r\n\r\nI hope this helps someone.","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>I faced the same issue each time I restarted the Macbook pro M1 Max,(Note Eclipse was downloaded via Homebrew) and\ntried below but it turned out to be &quot;/Applications/Eclipse.app: Is a directory&quot;</p>\n<pre><code>sudo codesign --force --deep --sign - /Applications/Eclipse.app\n</code></pre>\n<p>the issue was the file structure Eclipse saved was different\n(you can check the file structure by cd to the Eclipse through the terminal)\nas per the file structure, the path was</p>\n<pre><code>sudo codesign --force --deep --sign - /Applications/Eclipse\\ JEE.app\n</code></pre>\n<p>I hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":153280,"reputation":2419,"user_id":368416,"accept_rate":58,"display_name":"singhspk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679322740,"creation_date":1679322740,"answer_id":75791598,"question_id":70725347,"body_markdown":"I had a project that was creating log files in the ```/Applications/Eclipse.app/Contents/MacOS/``` folder. This caused the signature mismatch. If this happens for you, cd into the above directory remove everything other than the default (eclipse directory). After that, debugger99&#39;s suggestion of signing will work. \r\n\r\n```sudo codesign --force --deep --sign - /Applications/Eclipse.app```\r\n\r\n","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>I had a project that was creating log files in the <code>/Applications/Eclipse.app/Contents/MacOS/</code> folder. This caused the signature mismatch. If this happens for you, cd into the above directory remove everything other than the default (eclipse directory). After that, debugger99's suggestion of signing will work.</p>\n<p><code>sudo codesign --force --deep --sign - /Applications/Eclipse.app</code></p>\n"},{"tags":[],"owner":{"account_id":28118301,"reputation":21,"user_id":21484986,"display_name":"Emmanuel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679697475,"creation_date":1679697475,"answer_id":75838592,"question_id":70725347,"body_markdown":"This is what actually worked for me: \r\n\r\nsudo codesign --force --deep --sign - /Applications/Eclipse\\ Java.app","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>This is what actually worked for me:</p>\n<p>sudo codesign --force --deep --sign - /Applications/Eclipse\\ Java.app</p>\n"},{"tags":[],"owner":{"account_id":4136806,"reputation":61,"user_id":3393296,"display_name":"chross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682239141,"creation_date":1682239141,"answer_id":76083868,"question_id":70725347,"body_markdown":"For Apple Silicon Macs (M1/M2), this command worked:\r\n\r\n```\r\nxattr -d com.apple.quarantine /Applications/eclipse.app\r\n```\r\n\r\nI used it in order to launch BIRT Designer flavor of eclipse.\r\n\r\n","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>For Apple Silicon Macs (M1/M2), this command worked:</p>\n<pre><code>xattr -d com.apple.quarantine /Applications/eclipse.app\n</code></pre>\n<p>I used it in order to launch BIRT Designer flavor of eclipse.</p>\n"}],"owner":{"account_id":18465149,"reputation":576,"user_id":13451563,"display_name":"sadnapoleon"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30424,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":71740449,"answer_count":9,"score":43,"last_activity_date":1682239141,"creation_date":1642280078,"question_id":70725347,"body_markdown":"\r\nI downloaded Eclipse on my Mac for school, following these instructions:\r\n\r\n&lt;blockquote&gt;\r\nIn your browser, go to Eclipse Downloads. Do not use the Eclipse Installer. Instead follow these steps to download and install Eclipse.\r\n\r\n\r\nFind the Eclipse IDE for Java Developers package (make sure you do not pick the wrong package) and click on the appropriate download link for your operating system (Windows, Mac, or Linux) and architecture (32-bit or 64-bit). There are many other packages but this is the one that you&#39;ll need in this class.\r\n\r\nOnce the download has completed, locate the downloaded file. This file will be a compressed (i.e., a &quot;.zip&quot;, or &quot;.tar.gz&quot;) file. Uncompress this file into the directory of your choice. It doesn&#39;t really matter where you put the Eclipse installation folder as long as you know how to retrieve it. You can optionally create a shortcut of the Eclipse IDE executable file (&quot;eclipse.exe&quot; on Windows, or &quot;eclipse&quot; on Linux, or &quot;Eclipse&quot; on Mac OS X) found in the directory that is created. To start Eclipse you just double-click on the executable file or the shortcut\r\n\r\n&lt;/blockquote&gt;\r\nI downloaded the Eclipse macOS x86_64 version, and moved it into my applications folder. I was able to open Eclipse, and everything works perfectly, and I can work if it&#39;s open; but after I close Eclipse and a couple hours go by, I get the following messages once I try to reopen it. &quot;Eclipse quit unexpectedly&quot; and &quot;The application “Eclipse” can’t be opened.&quot;\r\n\r\nI had the .dmg file in my downloads folder, which might have been the problem. I moved it into my applications folder with Eclipse, and that still doesn&#39;t work.\r\n\r\nI have tried to delete and redownload Eclipse multiple times, and nothing works.\r\n\r\ndo you have any suggestions on how I can fix this?","title":"The application “Eclipse” can’t be opened. (macOS Monterey)","body":"<p>I downloaded Eclipse on my Mac for school, following these instructions:</p>\n<blockquote>\nIn your browser, go to Eclipse Downloads. Do not use the Eclipse Installer. Instead follow these steps to download and install Eclipse.\n<p>Find the Eclipse IDE for Java Developers package (make sure you do not pick the wrong package) and click on the appropriate download link for your operating system (Windows, Mac, or Linux) and architecture (32-bit or 64-bit). There are many other packages but this is the one that you'll need in this class.</p>\n<p>Once the download has completed, locate the downloaded file. This file will be a compressed (i.e., a &quot;.zip&quot;, or &quot;.tar.gz&quot;) file. Uncompress this file into the directory of your choice. It doesn't really matter where you put the Eclipse installation folder as long as you know how to retrieve it. You can optionally create a shortcut of the Eclipse IDE executable file (&quot;eclipse.exe&quot; on Windows, or &quot;eclipse&quot; on Linux, or &quot;Eclipse&quot; on Mac OS X) found in the directory that is created. To start Eclipse you just double-click on the executable file or the shortcut</p>\n</blockquote>\nI downloaded the Eclipse macOS x86_64 version, and moved it into my applications folder. I was able to open Eclipse, and everything works perfectly, and I can work if it's open; but after I close Eclipse and a couple hours go by, I get the following messages once I try to reopen it. \"Eclipse quit unexpectedly\" and \"The application “Eclipse” can’t be opened.\"\n<p>I had the .dmg file in my downloads folder, which might have been the problem. I moved it into my applications folder with Eclipse, and that still doesn't work.</p>\n<p>I have tried to delete and redownload Eclipse multiple times, and nothing works.</p>\n<p>do you have any suggestions on how I can fix this?</p>\n"},{"tags":["java","encryption","message-digest"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1682154810,"post_id":76076383,"comment_id":134173288,"body_markdown":"Identical bit sequences are represented differently for an unsigned (C#) and signed (Java, two&#39;s complement) byte type, which is not a bug. Check the hex encoded values. If you want your implementation to be functionally identical to the C# code, you need to post the C# code so that a comparison is possible. If you just want to check your own implementation, you could use CMAC/AES test vectors, e.g. [here](https://github.com/ircmaxell/quality-checker/blob/master/tmp/gh_18/PHP-PasswordLib-master/test/Data/Vectors/cmac-aes.sp-800-38b.test-vectors).","body":"Identical bit sequences are represented differently for an unsigned (C#) and signed (Java, two&#39;s complement) byte type, which is not a bug. Check the hex encoded values. If you want your implementation to be functionally identical to the C# code, you need to post the C# code so that a comparison is possible. If you just want to check your own implementation, you could use CMAC/AES test vectors, e.g. <a href=\"https://github.com/ircmaxell/quality-checker/blob/master/tmp/gh_18/PHP-PasswordLib-master/test/Data/Vectors/cmac-aes.sp-800-38b.test-vectors\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1682154943,"post_id":76076383,"comment_id":134173302,"body_markdown":"A (probable) bug is that your key seems to be hex encoded according to your description, but you UTF-8 encode it. Correct would be a hex decoding, e.g. with `HexFormat.of().parseHex()`. Whether this also applies to your message depends on your message (is it also hex encoded (as e.g. with the test vectors), or is it a text that should be UTF-8 encoded etc.?). Post (non-productive) sample data.","body":"A (probable) bug is that your key seems to be hex encoded according to your description, but you UTF-8 encode it. Correct would be a hex decoding, e.g. with <code>HexFormat.of().parseHex()</code>. Whether this also applies to your message depends on your message (is it also hex encoded (as e.g. with the test vectors), or is it a text that should be UTF-8 encoded etc.?). Post (non-productive) sample data."},{"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"score":0,"creation_date":1682236752,"post_id":76076383,"comment_id":134181139,"body_markdown":"@Topaco You gave me the clue, that was happening (a poor description of the data i&#39;ve been provided) all of them the key and message should be hex decoded first and shouldn&#39;t be UTF-8 byte encoded.","body":"@Topaco You gave me the clue, that was happening (a poor description of the data i&#39;ve been provided) all of them the key and message should be hex decoded first and shouldn&#39;t be UTF-8 byte encoded."}],"answers":[{"tags":[],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682237507,"creation_date":1682237507,"answer_id":76083763,"question_id":76076383,"body_markdown":"I had a poor specification of the problem. My inputs happened to be hex encoded (each 2 characters from the string should be treated as an hex number representation, each pair had to be converted to the byte representation of the number).\r\n\r\nThis kind of encoding is also the usual way to represent the CMAC output so as a result I define 2 functions:\r\n\r\n~~~java\r\n\r\npublic static byte[] stringToByteHexpairs(String input){\r\n    \r\n    byte[] output= new byte[input.length()/2];\r\n    int k = 0;\r\n    for (int i = 0; i &lt;= input.length() - 2 ; i += 2) {\r\n         String par = input.substring(i, i+2);\r\n         output[k] = (byte) Integer.parseInt(par,16);\r\n         k++;\r\n    }\r\n    return output;\r\n}\r\n\r\npublic static String bytesToHexString(byte[] array) {\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        sb.append(String.format(&quot;%02X&quot;,array[i]));\r\n    }\r\n    return sb.toString();\r\n}\r\n\r\n~~~\r\n\r\nAnd I use it before in place of the wrong byte transformation on the code I provided. BONUS I also add the output transformation that is espected:\r\n\r\n~~~java\r\nKeyParameter parameter = new KeyParameter(stringToByteHexpairs(KEY));\r\nbyte[] messageBytes = stringToByteHexpairs(message);\r\n\r\n...\r\n\r\nmac.update(messageBytes, 0, messageBytes.length);\r\n\r\n...\r\n\r\nmac.doFinal(out, 0);\r\nreturn bytesToHexString(out);\r\n\r\n~~~","title":"Should I do any transformation to AES CMAC provided key?","body":"<p>I had a poor specification of the problem. My inputs happened to be hex encoded (each 2 characters from the string should be treated as an hex number representation, each pair had to be converted to the byte representation of the number).</p>\n<p>This kind of encoding is also the usual way to represent the CMAC output so as a result I define 2 functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static byte[] stringToByteHexpairs(String input){\n    \n    byte[] output= new byte[input.length()/2];\n    int k = 0;\n    for (int i = 0; i &lt;= input.length() - 2 ; i += 2) {\n         String par = input.substring(i, i+2);\n         output[k] = (byte) Integer.parseInt(par,16);\n         k++;\n    }\n    return output;\n}\n\npublic static String bytesToHexString(byte[] array) {\n\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; array.length; i++) {\n        sb.append(String.format(&quot;%02X&quot;,array[i]));\n    }\n    return sb.toString();\n}\n\n</code></pre>\n<p>And I use it before in place of the wrong byte transformation on the code I provided. BONUS I also add the output transformation that is espected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyParameter parameter = new KeyParameter(stringToByteHexpairs(KEY));\nbyte[] messageBytes = stringToByteHexpairs(message);\n\n...\n\nmac.update(messageBytes, 0, messageBytes.length);\n\n...\n\nmac.doFinal(out, 0);\nreturn bytesToHexString(out);\n\n</code></pre>\n"}],"owner":{"account_id":2544073,"reputation":359,"user_id":2209264,"accept_rate":85,"display_name":"Antonio E."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682237507,"creation_date":1682107134,"question_id":76076383,"body_markdown":"I&#39;ve been provided with a `java.util.String` 32 characters length. The `String` contains 16 pairs of hexadecimal characters which represent the key that I should use on an AES and CMAC message signature creation.\r\n\r\nI&#39;ve a problem getting the correct message signed with the provided key, I&#39;m using &#39;bouncycastle&#39; library. I show you my code:\r\n\r\n~~~java\r\n        KeyParameter parameter = new KeyParameter(KEY.getBytes(StandardCharsets.UTF_8));\r\n\r\n        AESEngine aes = new AESEngine();\r\n        CMac mac = new CMac(aes);\r\n        mac.init(parameter);\r\n        mac.update(message.getBytes(StandardCharsets.UTF_8), 0, message.getBytes(StandardCharsets.UTF_8).length);\r\n        byte[] out = new byte[mac.getMacSize()];\r\n        mac.doFinal(out, 0);\r\n~~~\r\n\r\nA partner is implementing this very code in C# with the same library. We found that byte in java has signed number representation although C# don&#39;t. Trying to make parallel implementation of this get&#39;s me a bit disoriented.\r\n\r\nI&#39;m able to get the proper `int[]` from 0 to 255 values that my partner gets when processing the key.","title":"Should I do any transformation to AES CMAC provided key?","body":"<p>I've been provided with a <code>java.util.String</code> 32 characters length. The <code>String</code> contains 16 pairs of hexadecimal characters which represent the key that I should use on an AES and CMAC message signature creation.</p>\n<p>I've a problem getting the correct message signed with the provided key, I'm using 'bouncycastle' library. I show you my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        KeyParameter parameter = new KeyParameter(KEY.getBytes(StandardCharsets.UTF_8));\n\n        AESEngine aes = new AESEngine();\n        CMac mac = new CMac(aes);\n        mac.init(parameter);\n        mac.update(message.getBytes(StandardCharsets.UTF_8), 0, message.getBytes(StandardCharsets.UTF_8).length);\n        byte[] out = new byte[mac.getMacSize()];\n        mac.doFinal(out, 0);\n</code></pre>\n<p>A partner is implementing this very code in C# with the same library. We found that byte in java has signed number representation although C# don't. Trying to make parallel implementation of this get's me a bit disoriented.</p>\n<p>I'm able to get the proper <code>int[]</code> from 0 to 255 values that my partner gets when processing the key.</p>\n"},{"tags":["java","android","android-permissions","android-windowmanager","system-alert-window"],"answers":[{"tags":[],"owner":{"account_id":27623280,"reputation":31,"user_id":21083805,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678418684,"creation_date":1678418684,"answer_id":75692021,"question_id":75241783,"body_markdown":"Oh stupid mistake, the target sdk version in my AndroidManifest.xml should&#39;ve been greater or equal than the android version of my deployable device or emulator...\r\n\r\nIt&#39;s ok now. The application can be seen properly now.","title":"Android: App Can&#39;t Be Granted SYSTEM_ALERT_WINDOW,","body":"<p>Oh stupid mistake, the target sdk version in my AndroidManifest.xml should've been greater or equal than the android version of my deployable device or emulator...</p>\n<p>It's ok now. The application can be seen properly now.</p>\n"},{"tags":[],"owner":{"account_id":1417315,"reputation":127,"user_id":1342672,"accept_rate":75,"display_name":"Xlythe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682236909,"creation_date":1682236909,"answer_id":76083732,"question_id":75241783,"body_markdown":"I had the same issue. It turned out one of the dependencies I was using has\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; android:maxSdkVersion=&quot;29&quot; /&gt;\r\n```\r\nand the maxSdkVersion was overwriting the permission in my app.\r\n\r\nI had to manually specify to ignore that attribute with tools:remove.\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\r\n```","title":"Android: App Can&#39;t Be Granted SYSTEM_ALERT_WINDOW,","body":"<p>I had the same issue. It turned out one of the dependencies I was using has</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; android:maxSdkVersion=&quot;29&quot; /&gt;\n</code></pre>\n<p>and the maxSdkVersion was overwriting the permission in my app.</p>\n<p>I had to manually specify to ignore that attribute with tools:remove.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; tools:remove=&quot;android:maxSdkVersion&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":27623280,"reputation":31,"user_id":21083805,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682236909,"creation_date":1674699808,"question_id":75241783,"body_markdown":"I am creating an android application that uses WindowManager type: `TYPE_APLICATION_OVERLAY` so it requires this permission in the manifest file: \r\n\r\n`&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;`\r\n\r\nWhich already exists in the AndroidManifest.xml.\r\n\r\nThe problem is that once I launched my app, then go manually to my device&#39;s *Draw Over Other Apps* settings to grant the said permission, my app **is not there**.\r\n\r\nIs there something missing? Or is *Draw Over Other Apps* settings the correct place to go to grant `SYSTEM_ALERT_WINDOW`?\r\n\r\nMy target device is android 11, api level 30.\r\n\r\n\r\n\r\nI&#39;ve followed exactly this [instruction][1] here.\r\n\r\nI&#39;ve tried launching an `Intent` action `Settings.ACTION_MANAGE_OVERLAY_PERMISSION` to automatically go the same setting to grant permission but it just go to my device&#39;s *Draw Over Other Apps* settings to which my app is excluded.\r\n\r\n\r\n[Screenshot to Draw Over Other Apps Settings](https://i.stack.imgur.com/AVbGh.jpg)\r\n\r\n\r\n  [1]: https://medium.com/@kevalpatel2106/create-chat-heads-like-facebook-messenger-32f7f1a62064","title":"Android: App Can&#39;t Be Granted SYSTEM_ALERT_WINDOW,","body":"<p>I am creating an android application that uses WindowManager type: <code>TYPE_APLICATION_OVERLAY</code> so it requires this permission in the manifest file:</p>\n<p><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;</code></p>\n<p>Which already exists in the AndroidManifest.xml.</p>\n<p>The problem is that once I launched my app, then go manually to my device's <em>Draw Over Other Apps</em> settings to grant the said permission, my app <strong>is not there</strong>.</p>\n<p>Is there something missing? Or is <em>Draw Over Other Apps</em> settings the correct place to go to grant <code>SYSTEM_ALERT_WINDOW</code>?</p>\n<p>My target device is android 11, api level 30.</p>\n<p>I've followed exactly this <a href=\"https://medium.com/@kevalpatel2106/create-chat-heads-like-facebook-messenger-32f7f1a62064\" rel=\"nofollow noreferrer\">instruction</a> here.</p>\n<p>I've tried launching an <code>Intent</code> action <code>Settings.ACTION_MANAGE_OVERLAY_PERMISSION</code> to automatically go the same setting to grant permission but it just go to my device's <em>Draw Over Other Apps</em> settings to which my app is excluded.</p>\n<p><a href=\"https://i.stack.imgur.com/AVbGh.jpg\" rel=\"nofollow noreferrer\">Screenshot to Draw Over Other Apps Settings</a></p>\n"},{"tags":["java","java-stream","resource-leak"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679500308,"post_id":75814437,"comment_id":133734065,"body_markdown":"You don’t need to close a Stream created from a Collection. So you may just ignore this false warning. However, `.limit(item -&gt; !Thread.currentThread().isInterrupted())` doesn’t work at all. `limit` expects a `long` argument.","body":"You don’t need to close a Stream created from a Collection. So you may just ignore this false warning. However, <code>.limit(item -&gt; !Thread.currentThread().isInterrupted())</code> doesn’t work at all. <code>limit</code> expects a <code>long</code> argument."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682237994,"post_id":75814437,"comment_id":134181237,"body_markdown":"The `Stream` is not closed because you are not performing a [terminal operation](https://www.codejava.net/java-core/collections/java-8-stream-terminal-operations-examples).","body":"The <code>Stream</code> is not closed because you are not performing a <a href=\"https://www.codejava.net/java-core/collections/java-8-stream-terminal-operations-examples\" rel=\"nofollow noreferrer\">terminal operation</a>."}],"answers":[{"tags":[],"owner":{"account_id":13964622,"reputation":49,"user_id":10084790,"display_name":"Shmuel Greenberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682236621,"creation_date":1682236621,"answer_id":76083717,"question_id":75814437,"body_markdown":"It may be that it&#39;s giving the warning because you&#39;re \r\nnot short-circuiting the stream, although it does sound quite unlikely.\r\nPerhaps the `_publisher.subscriber()` isn&#39;t short circuiting?","title":"problem with resource leak warning from stream","body":"<p>It may be that it's giving the warning because you're\nnot short-circuiting the stream, although it does sound quite unlikely.\nPerhaps the <code>_publisher.subscriber()</code> isn't short circuiting?</p>\n"}],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682236621,"creation_date":1679499867,"question_id":75814437,"body_markdown":"I have the following code causing a `Potential resource leak: &#39;&lt;unssigned Closable value&gt;&#39; may not be closed` warning in static code check:\r\n\r\n    Stream&lt;? extends someClass&gt; stream = someCollection.stream()\r\n        .limit(item -&gt; !Thread.currentThread().isInterrupted()) //\r\n        .limit(more limit criteria) //\r\n        .peek(container) //\r\n        .map(item -&gt; new someClass(r, container.value()));\r\n\r\n    _publisher = new StreamPublisher&lt;&gt;();\r\n    _publisher.subscribe(subscriber);\r\n    _publisher.attach(stream);\r\n\r\nI already tried to wrap the stream into a try-with-resource, but this does not resolve the issue:\r\n\r\n    try (Stream&lt;? extends someClass&gt; stream = someCollection.stream()\r\n        .limit(item -&gt; !Thread.currentThread().isInterrupted()) //\r\n        .limit(more limit criteria) //\r\n        .peek(container) //\r\n        .map(item -&gt; new someClass(r, container.value()))) {\r\n\r\n            _publisher = new StreamPublisher&lt;&gt;();\r\n            _publisher.subscribe(subscriber);\r\n            _publisher.attach(stream);\r\n        }\r\n\r\nAny idea how to get rid of the warning?","title":"problem with resource leak warning from stream","body":"<p>I have the following code causing a <code>Potential resource leak: '&lt;unssigned Closable value&gt;' may not be closed</code> warning in static code check:</p>\n<pre><code>Stream&lt;? extends someClass&gt; stream = someCollection.stream()\n    .limit(item -&gt; !Thread.currentThread().isInterrupted()) //\n    .limit(more limit criteria) //\n    .peek(container) //\n    .map(item -&gt; new someClass(r, container.value()));\n\n_publisher = new StreamPublisher&lt;&gt;();\n_publisher.subscribe(subscriber);\n_publisher.attach(stream);\n</code></pre>\n<p>I already tried to wrap the stream into a try-with-resource, but this does not resolve the issue:</p>\n<pre><code>try (Stream&lt;? extends someClass&gt; stream = someCollection.stream()\n    .limit(item -&gt; !Thread.currentThread().isInterrupted()) //\n    .limit(more limit criteria) //\n    .peek(container) //\n    .map(item -&gt; new someClass(r, container.value()))) {\n\n        _publisher = new StreamPublisher&lt;&gt;();\n        _publisher.subscribe(subscriber);\n        _publisher.attach(stream);\n    }\n</code></pre>\n<p>Any idea how to get rid of the warning?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1860488,"reputation":6632,"user_id":1685157,"display_name":"Paolo Forgia"},"score":0,"creation_date":1492160899,"post_id":43408522,"comment_id":73876200,"body_markdown":"just loop the array and sum them","body":"just loop the array and sum them"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1492160925,"post_id":43408522,"comment_id":73876209,"body_markdown":"Check if the value is less than or equal -10, or greater than or equal 10.","body":"Check if the value is less than or equal -10, or greater than or equal 10."},{"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1492160940,"post_id":43408522,"comment_id":73876218,"body_markdown":"access its array index note that array index starts with 0 `A[0] A[1] A[3]` also please follow naming convention by reading this http://www.oracle.com/technetwork/java/codeconventions-135099.html also note that when you say array it should be plural with `s` example `int[] students = new int[5];`","body":"access its array index note that array index starts with 0 <code>A[0] A[1] A[3]</code> also please follow naming convention by reading this <a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconventions-135099.html</a> also note that when you say array it should be plural with <code>s</code> example <code>int[] students = new int[5];</code>"}],"answers":[{"tags":[],"owner":{"account_id":4843761,"reputation":181,"user_id":3908057,"display_name":"Nick Meyer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538880182,"creation_date":1492161054,"answer_id":43408586,"question_id":43408522,"body_markdown":"To get the sum of two numbers in an array:\r\n  \r\n  1. Call the array and return a value within it by using the index of the value you want to retrieve\r\n  2. Add that value to another call to the array (again, with desired index specified)\r\n  3. Assign that value to the type you require\r\n\r\nKeep in mind that when calling an array to access a stored value, use the index (or position) of the value within the array — then add one. We use this formula of indexOfValue + 1 as *most* languages start indexing arrays at the 0th position (although this is *not always* true, for example, Fortran indexes its arrays beginning with 1. So ‘integer anArray(50)’ would create an array capable of storing 50 int elements, starting at index 1 and ending at index 50). Another consequence of this structural design within programming languages is that the last value of an array can be accessed using sizeOfArray - 1.\r\n\r\nTo clarify these concepts, look at this code:\r\n\r\n    \tint[] a = {1,23,4,55};\r\n\t\tint firstSum = a[1] + a[3]; // performs 23 + 55\r\n\t\tint[] b = {2,5,-66,23};\r\n\t\tint secondSum = b[2] + b[3]; // performs -66 + 23\r\n        int sumOfLastValues = a[a.length - 1] + b[b.length - 1];","title":"Calculate the sum of all two digits integers in an array","body":"<p>To get the sum of two numbers in an array:</p>\n\n<ol>\n<li>Call the array and return a value within it by using the index of the value you want to retrieve</li>\n<li>Add that value to another call to the array (again, with desired index specified)</li>\n<li>Assign that value to the type you require</li>\n</ol>\n\n<p>Keep in mind that when calling an array to access a stored value, use the index (or position) of the value within the array — then add one. We use this formula of indexOfValue + 1 as <em>most</em> languages start indexing arrays at the 0th position (although this is <em>not always</em> true, for example, Fortran indexes its arrays beginning with 1. So ‘integer anArray(50)’ would create an array capable of storing 50 int elements, starting at index 1 and ending at index 50). Another consequence of this structural design within programming languages is that the last value of an array can be accessed using sizeOfArray - 1.</p>\n\n<p>To clarify these concepts, look at this code:</p>\n\n<pre><code>    int[] a = {1,23,4,55};\n    int firstSum = a[1] + a[3]; // performs 23 + 55\n    int[] b = {2,5,-66,23};\n    int secondSum = b[2] + b[3]; // performs -66 + 23\n    int sumOfLastValues = a[a.length - 1] + b[b.length - 1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3009832,"reputation":657,"user_id":2553588,"display_name":"jvdhooft"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1492161246,"creation_date":1492161246,"answer_id":43408629,"question_id":43408522,"body_markdown":"If you want to sum the elements which contain two digits only, you could use the following:\r\n\r\n    int[] arr = {1, 23, 4, 55};\r\n    int sum = 0;\r\n    for (int i : arr) {\r\n        if (Math.abs(i) &gt; 9 &amp;&amp; Math.abs(i) &lt; 100) {\r\n            sum += i;\r\n        }\r\n    }","title":"Calculate the sum of all two digits integers in an array","body":"<p>If you want to sum the elements which contain two digits only, you could use the following:</p>\n\n<pre><code>int[] arr = {1, 23, 4, 55};\nint sum = 0;\nfor (int i : arr) {\n    if (Math.abs(i) &gt; 9 &amp;&amp; Math.abs(i) &lt; 100) {\n        sum += i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10278910,"reputation":27,"user_id":7584818,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492168760,"creation_date":1492168760,"answer_id":43410504,"question_id":43408522,"body_markdown":"I will give you some code I have tried for it:\r\n\r\n    int sum1 = 0, sum2 = 0;\r\n            \tint[] arr1 = {1, 23, 4, 55};\r\n            \tfor(int i: arr1){\r\n            \t\tif(i/10 &gt; 0 &amp;&amp; i/100 == 0){\r\n            \t\t\tsum1 += i;\r\n            \t\t}\r\n            \t\telse if(i/-10 &gt; 0 &amp;&amp; i/-100 == 0){\r\n            \t\t\tsum1 -=i;\r\n            \t\t}\r\n            \t}\r\n            \tint[] arr2 = {2, 5, -66, 23};\r\n            \tfor(int i: arr2){\r\n            \t\tif(i/10 &gt; 0 &amp;&amp; i/100 == 0){\r\n            \t\t\tsum2 += i;\r\n            \t\t}\r\n            \t\telse if(i/-10 &gt; 0 &amp;&amp; i/-100 == 0){\r\n            \t\t\tsum2 +=i;\r\n            \t\t}\r\n            \t}\r\n            System.out.println(sum1);\r\n            System.out.println(sum2);\r\nThe results are:\r\n\r\n    78\r\n    -43\r\n\r\n","title":"Calculate the sum of all two digits integers in an array","body":"<p>I will give you some code I have tried for it:</p>\n\n<pre><code>int sum1 = 0, sum2 = 0;\n            int[] arr1 = {1, 23, 4, 55};\n            for(int i: arr1){\n                if(i/10 &gt; 0 &amp;&amp; i/100 == 0){\n                    sum1 += i;\n                }\n                else if(i/-10 &gt; 0 &amp;&amp; i/-100 == 0){\n                    sum1 -=i;\n                }\n            }\n            int[] arr2 = {2, 5, -66, 23};\n            for(int i: arr2){\n                if(i/10 &gt; 0 &amp;&amp; i/100 == 0){\n                    sum2 += i;\n                }\n                else if(i/-10 &gt; 0 &amp;&amp; i/-100 == 0){\n                    sum2 +=i;\n                }\n            }\n        System.out.println(sum1);\n        System.out.println(sum2);\n</code></pre>\n\n<p>The results are:</p>\n\n<pre><code>78\n-43\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1570544,"reputation":3380,"user_id":1458328,"accept_rate":33,"display_name":"Saurabh Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615251295,"creation_date":1615251295,"answer_id":66539303,"question_id":43408522,"body_markdown":"You can convert to string and check. \r\n\r\n        for(int num : v) {\r\n        \r\n        // check for size\r\n        string str = to_string(num);\r\n        if( (str.size() == 2) || (str.size()==3 &amp;&amp; (str[0]==&#39;+&#39; || str[0]==&#39;-&#39;) ) )\r\n            sum += num;\r\n    }\r\n    \r\n    cout&lt;&lt;sum;","title":"Calculate the sum of all two digits integers in an array","body":"<p>You can convert to string and check.</p>\n<pre><code>    for(int num : v) {\n    \n    // check for size\n    string str = to_string(num);\n    if( (str.size() == 2) || (str.size()==3 &amp;&amp; (str[0]=='+' || str[0]=='-') ) )\n        sum += num;\n}\n\ncout&lt;&lt;sum;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23944991,"reputation":1,"user_id":17937455,"display_name":"Sankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642210901,"creation_date":1642210901,"answer_id":70718272,"question_id":43408522,"body_markdown":"Runnable code can be downloaded from https://github.com/sankarees/playground/blob/main/calculate-the-sum-of-all-two-digits-integers-in-an-array\r\n\r\nSnipper code:\r\n\r\n\tpublic static int getSumOfTwoDigits(int[] numbers) {\r\n\t\tint sum = 0;\r\n\t\tfor (int number : numbers) {\r\n\t\t\tint divident = (number &lt; 0 ? number * -1 : number) / 10;\r\n\t\t\tif (divident &gt; 0 &amp;&amp; divident &lt; 10) {\r\n\t\t\t\tsum += number;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n","title":"Calculate the sum of all two digits integers in an array","body":"<p>Runnable code can be downloaded from <a href=\"https://github.com/sankarees/playground/blob/main/calculate-the-sum-of-all-two-digits-integers-in-an-array\" rel=\"nofollow noreferrer\">https://github.com/sankarees/playground/blob/main/calculate-the-sum-of-all-two-digits-integers-in-an-array</a></p>\n<p>Snipper code:</p>\n<pre><code>public static int getSumOfTwoDigits(int[] numbers) {\n    int sum = 0;\n    for (int number : numbers) {\n        int divident = (number &lt; 0 ? number * -1 : number) / 10;\n        if (divident &gt; 0 &amp;&amp; divident &lt; 10) {\n            sum += number;\n        }\n    }\n    return sum;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918409,"reputation":11,"user_id":9341782,"display_name":"Prateek Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682235941,"creation_date":1682234699,"answer_id":76083603,"question_id":43408522,"body_markdown":"You can use java 8 streams.\r\n\r\nHere k is the integer array given in the question:\r\n\r\n    Arrays.stream(k).filter(p-&gt;(Math.abs(p)&gt;9 &amp;&amp; Math.abs(p&lt;100)).sum();\r\n\r\n \r\n","title":"Calculate the sum of all two digits integers in an array","body":"<p>You can use java 8 streams.</p>\n<p>Here k is the integer array given in the question:</p>\n<pre><code>Arrays.stream(k).filter(p-&gt;(Math.abs(p)&gt;9 &amp;&amp; Math.abs(p&lt;100)).sum();\n</code></pre>\n"}],"owner":{"account_id":6892144,"reputation":73,"user_id":5295212,"accept_rate":86,"display_name":"Prabin Poudel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13579,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":43408629,"answer_count":6,"score":0,"last_activity_date":1682235941,"creation_date":1492160834,"question_id":43408522,"body_markdown":"I want to calculate the sum of all integers in an array which contain two digits. For example:\r\n\r\n    int[] arr1 = {1, 23, 4, 55};\r\n    int[] arr2 = {2, 5, -66, 23};\r\n\r\nThe result for the first array should be `23 + 55 = 78`, while the result for the second array should be `-66 + 23 = -43`. How can I achieve this?","title":"Calculate the sum of all two digits integers in an array","body":"<p>I want to calculate the sum of all integers in an array which contain two digits. For example:</p>\n\n<pre><code>int[] arr1 = {1, 23, 4, 55};\nint[] arr2 = {2, 5, -66, 23};\n</code></pre>\n\n<p>The result for the first array should be <code>23 + 55 = 78</code>, while the result for the second array should be <code>-66 + 23 = -43</code>. How can I achieve this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9511,"page":481,"page_size":100}
