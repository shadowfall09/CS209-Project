{"items":[{"tags":["java","android","react-native","android-studio","gradle"],"comments":[{"owner":{"account_id":23596473,"reputation":486,"user_id":17633524,"display_name":"Dev Vyaas"},"score":0,"creation_date":1686429778,"post_id":76441328,"comment_id":134798337,"body_markdown":"can you share your package.json file ?\n\ni would suggest in your project root directory, first run :\n\n rm -rf node_modules\n\ncheck your react-native version and rn-gradle version if they are compatible.\n\ncheck compileSdkVersion in your build.gradle file in app if its defined then good otherwise define a SDK version.\n\nand run npm install.\nLet me know what do you get after following this.","body":"can you share your package.json file ?  i would suggest in your project root directory, first run :   rm -rf node_modules  check your react-native version and rn-gradle version if they are compatible.  check compileSdkVersion in your build.gradle file in app if its defined then good otherwise define a SDK version.  and run npm install. Let me know what do you get after following this."}],"owner":{"account_id":26506249,"reputation":23,"user_id":20142369,"display_name":"Frontmir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686321993,"creation_date":1686321993,"question_id":76441328,"body_markdown":"when i run my project i get build error like this. I started getting this error in my last project and my project is not opening. But there is no such error in my previous projects, they work without any problems while running them.\r\n   \r\n PS C:\\Users\\Bilal\\Desktop\\menu\\menu_app&gt; npx react-native run-android\r\ninfo Starting JS server...\r\ninfo Launching emulator...\r\ninfo Successfully launched emulator.\r\ninfo Installing the app...\r\n5 actionable tasks: 5 up-to-date\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nBuild file &#39;C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\android\\app\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Could not find implementation class &#39;com.facebook.react.ReactPlugin&#39; for plugin &#39;com.facebook.react&#39; specified in jar:file:/C:/Users/Bilal/.gradle/caches/jars-9/ed982d2a7012eb31e78a8c4df346a1ad/react-native-gradle-plugin.jar!/META-INF/gradle-plugins/com.facebook.react.properties.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBU�LD FAILED in 3s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* Where:\r\nBuild file &#39;C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\android\\app\\build.gradle&#39; line: 2\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; Could not find implementation class &#39;com.facebook.react.ReactPlugin&#39; for plugin &#39;com.facebook.react&#39; specified in jar:file:/C:/Users/Bilal/.gradle/caches/jars-9/ed982d2a7012eb31e78a8c4df346a1ad/react-native-gradle-plugin.jar!/META-INF/gradle-plugins/com.facebook.react.properties.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; compileSdkVersion is not specified. Please add it to build.gradle\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBU�LD FAILED in 3s\r\n\r\n    at makeError (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\nPS C:\\Users\\Bilal\\Desktop\\menu\\menu_app&gt;\r\n\r\nThe things I did to fix it was to clean the gradle with the ./gradle clean command, but my command didn&#39;t work, it was working in my other projects. I tried to fix it by resetting the invalidate cache from Android studio, but it didn&#39;t work. Can you help with my problem? I am ready to provide other necessary information. What are your suggestions? If I reinstall from scratch, will it be android studio?\r\n ","title":"React-native CLI gradle BUILD FAILED","body":"<p>when i run my project i get build error like this. I started getting this error in my last project and my project is not opening. But there is no such error in my previous projects, they work without any problems while running them.</p>\n<p>PS C:\\Users\\Bilal\\Desktop\\menu\\menu_app&gt; npx react-native run-android\ninfo Starting JS server...\ninfo Launching emulator...\ninfo Successfully launched emulator.\ninfo Installing the app...\n5 actionable tasks: 5 up-to-date</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li><p>Where:\nBuild file 'C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\android\\app\\build.gradle' line: 2</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating project ':app'.</p>\n</li>\n</ul>\n<blockquote>\n<p>Could not find implementation class 'com.facebook.react.ReactPlugin' for plugin 'com.facebook.react' specified in jar:file:/C:/Users/Bilal/.gradle/caches/jars-9/ed982d2a7012eb31e78a8c4df346a1ad/react-native-gradle-plugin.jar!/META-INF/gradle-plugins/com.facebook.react.properties.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':app'.</li>\n</ul>\n<blockquote>\n<p>compileSdkVersion is not specified. Please add it to build.gradle</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BU�LD FAILED in 3s</p>\n<p>error Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li><p>Where:\nBuild file 'C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\android\\app\\build.gradle' line: 2</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating project ':app'.</p>\n</li>\n</ul>\n<blockquote>\n<p>Could not find implementation class 'com.facebook.react.ReactPlugin' for plugin 'com.facebook.react' specified in jar:file:/C:/Users/Bilal/.gradle/caches/jars-9/ed982d2a7012eb31e78a8c4df346a1ad/react-native-gradle-plugin.jar!/META-INF/gradle-plugins/com.facebook.react.properties.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nA problem occurred configuring project ':app'.</li>\n</ul>\n<blockquote>\n<p>compileSdkVersion is not specified. Please add it to build.gradle</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BU�LD FAILED in 3s</p>\n<pre><code>at makeError (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\nat C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\nat async Command.handleAction (C:\\Users\\Bilal\\Desktop\\menu\\menu_app\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.\nPS C:\\Users\\Bilal\\Desktop\\menu\\menu_app&gt;</p>\n<p>The things I did to fix it was to clean the gradle with the ./gradle clean command, but my command didn't work, it was working in my other projects. I tried to fix it by resetting the invalidate cache from Android studio, but it didn't work. Can you help with my problem? I am ready to provide other necessary information. What are your suggestions? If I reinstall from scratch, will it be android studio?</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng","assertion"],"answers":[{"comments":[{"owner":{"account_id":19543065,"reputation":25,"user_id":14300460,"display_name":"vinay ajmera"},"score":0,"creation_date":1621139336,"post_id":67459631,"comment_id":119402387,"body_markdown":"I am not getting any console output for compare and palindrom.","body":"I am not getting any console output for compare and palindrom."},{"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"score":0,"creation_date":1621159405,"post_id":67459631,"comment_id":119406005,"body_markdown":"@vinayajmera the output will be printed only for failures not for pass","body":"@vinayajmera the output will be printed only for failures not for pass"}],"tags":[],"owner":{"account_id":9132670,"reputation":18609,"user_id":6793637,"accept_rate":0,"display_name":"PDHide"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1620577790,"creation_date":1620575433,"answer_id":67459631,"question_id":67459495,"body_markdown":"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html\r\n\r\nsee the full list of support assertion , so there is no specific method for checking greater than, use equals and true.\r\n\r\n    import org.testng.Assert;\r\n    \r\n    Assert.assertEquals(2, 2);\r\n    Assert.assertFalse( 2 &gt; 30 , &quot;comparing 2 greater than 30&quot;);\r\n    Assert.assertEquals(&quot;teet&quot;, new StringBuilder(&quot;teet&quot;).reverse().toString());\r\n\r\n    Assert.assertTrue(&quot;teet&quot;.contentEquals(new StringBuilder(&quot;teet&quot;).reverse().toString())\r\n\r\n","title":"How to use Assert method and Selenium with TestNg framework to compare two integers","body":"<p><a href=\"https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html</a></p>\n<p>see the full list of support assertion , so there is no specific method for checking greater than, use equals and true.</p>\n<pre><code>import org.testng.Assert;\n\nAssert.assertEquals(2, 2);\nAssert.assertFalse( 2 &gt; 30 , &quot;comparing 2 greater than 30&quot;);\nAssert.assertEquals(&quot;teet&quot;, new StringBuilder(&quot;teet&quot;).reverse().toString());\n\nAssert.assertTrue(&quot;teet&quot;.contentEquals(new StringBuilder(&quot;teet&quot;).reverse().toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686321782,"creation_date":1686321782,"answer_id":76441308,"question_id":67459495,"body_markdown":"you can do this :\r\n\r\n    Assert.assertTrue(number1 &gt; number2 ,&quot;if condition is false this message will be written&quot;);\r\nHere we need to assert that number is greater than number 2, eaaasy !","title":"How to use Assert method and Selenium with TestNg framework to compare two integers","body":"<p>you can do this :</p>\n<pre><code>Assert.assertTrue(number1 &gt; number2 ,&quot;if condition is false this message will be written&quot;);\n</code></pre>\n<p>Here we need to assert that number is greater than number 2, eaaasy !</p>\n"}],"owner":{"account_id":19543065,"reputation":25,"user_id":14300460,"display_name":"vinay ajmera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":892,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":67459631,"answer_count":2,"score":0,"last_activity_date":1686321782,"creation_date":1620574632,"question_id":67459495,"body_markdown":"I am practicing Selenium using the TestNG framework and assertion and there are 3 things that I can&#39;t solve.\r\nnote: there is no page for XPath.. integers are static.\r\n\r\n1. selenium script to Compare 3 and 5.\r\n\r\n2. selenium script to get boolean result of 3&gt;5.\r\n\r\n3. Selenium script for a string to check palindrom.","title":"How to use Assert method and Selenium with TestNg framework to compare two integers","body":"<p>I am practicing Selenium using the TestNG framework and assertion and there are 3 things that I can't solve.\nnote: there is no page for XPath.. integers are static.</p>\n<ol>\n<li><p>selenium script to Compare 3 and 5.</p>\n</li>\n<li><p>selenium script to get boolean result of 3&gt;5.</p>\n</li>\n<li><p>Selenium script for a string to check palindrom.</p>\n</li>\n</ol>\n"},{"tags":["java","swing","user-interface"],"answers":[{"comments":[{"owner":{"display_name":"user1181445"},"score":0,"creation_date":1369420200,"post_id":16739081,"comment_id":24111816,"body_markdown":"This is a very sloppy way to do it. There is a `JSeparator` class for a reason.","body":"This is a very sloppy way to do it. There is a <code>JSeparator</code> class for a reason."},{"owner":{"account_id":1925356,"reputation":5057,"user_id":1735954,"accept_rate":85,"display_name":"Azad"},"score":1,"creation_date":1369426685,"post_id":16739081,"comment_id":24114696,"body_markdown":"@Legend: *This is a very sloppy way*, thanks for telling me I didn&#39;t know that, please show us an example on *JSeparator*.","body":"@Legend: <i>This is a very sloppy way</i>, thanks for telling me I didn&#39;t know that, please show us an example on <i>JSeparator</i>."}],"tags":[],"owner":{"account_id":1925356,"reputation":5057,"user_id":1735954,"accept_rate":85,"display_name":"Azad"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1369411779,"creation_date":1369411089,"answer_id":16739081,"question_id":16738770,"body_markdown":"*How do I allow the user to click and drag the JPanel to move the window*&lt;br/&gt;\r\nHere is the way :\r\n\r\n       private int x;\r\n        private int y;\r\n        //.....\r\n        //On mouse pressed:\r\n        jpanel.addMouseListener(new MouseAdapter(){\r\n           public void mousePressed(MouseEvent ev){\r\n            x = ev.getX ();\r\n            y = ev.getY();\r\n           }\r\n        });\r\n        //....\r\n        //on mouse dragged\r\n        jpanel.addMouseMotionListener(new MouseMotionAdapter() {\r\n                    public void mouseDragged(MouseEvent evt) {\r\n                        int x = evt.getXOnScreen()-this.x;\r\n                        int y = evt.getYOnScreen -this.y;\r\n                        this.setLocation(x,y); \r\n                     \r\n                    }\r\n                });\r\n`this.setLocation(x,y)` will moves the *Frame* not the *panel*, I thought that your class extended `JFrame`.&lt;br/&gt;\r\nHowever, you can create a method that returns a point (x,y) and set it to the *window*.","title":"Make JPanel draggable","body":"<p><em>How do I allow the user to click and drag the JPanel to move the window</em><br/>\nHere is the way :</p>\n\n<pre><code>   private int x;\n    private int y;\n    //.....\n    //On mouse pressed:\n    jpanel.addMouseListener(new MouseAdapter(){\n       public void mousePressed(MouseEvent ev){\n        x = ev.getX ();\n        y = ev.getY();\n       }\n    });\n    //....\n    //on mouse dragged\n    jpanel.addMouseMotionListener(new MouseMotionAdapter() {\n                public void mouseDragged(MouseEvent evt) {\n                    int x = evt.getXOnScreen()-this.x;\n                    int y = evt.getYOnScreen -this.y;\n                    this.setLocation(x,y); \n\n                }\n            });\n</code></pre>\n\n<p><code>this.setLocation(x,y)</code> will moves the <em>Frame</em> not the <em>panel</em>, I thought that your class extended <code>JFrame</code>.<br/>\nHowever, you can create a method that returns a point (x,y) and set it to the <em>window</em>.</p>\n"},{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686321253,"creation_date":1542246330,"answer_id":53311287,"question_id":16738770,"body_markdown":"There wasn&#39;t really an answer with the `Point` class so I will add my contribution. Instead of storing the `x, y` cords of the MouseEvent, We store a `Point`. Here is how you can do it:\r\n\r\nDefine 2 variables of type `java.awt.Point`:\r\n\r\n    private Point initialMouseLocation;\r\n    private Point initialPanelLocation;\r\n\r\nOnce the mouse is pressed, we store its initial location and the relative location of the panel using a `MouseListener`:\r\n\r\n    panel.addMouseListener(new MouseAdapter() {\r\n           public void mousePressed(MouseEvent e) {\r\n               initialMouseLocation = e.getLocationOnScreen();\r\n               initialPanelLocation = panel.getLocation();\r\n            }\r\n        });\r\n\r\nWhen the mouse is dragged we calculate its travel distance and use it to offset the relative location of the panel:\r\n\r\n    panel.addMouseMotionListener(new MouseAdapter() {\r\n        public void mouseDragged(MouseEvent e) {\r\n            Point finalMouseLocation = e.getLocationOnScreen();\r\n                    int deltaX = finalMouseLocation.x - initialMouseLocation.x;\r\n                    int deltaY = finalMouseLocation.y - initialMouseLocation.y;\r\n                    Point newLocation = new Point(initialPanelLocation.x + deltaX, \r\n                        initialPanelLocation.y + deltaY);\r\n                    panel.setLocation(newLocation);\r\n        }\r\n    });\r\n\r\nA complete code sample of a DraggableHelper class is below:\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    public class DraggableHelper {\r\n\r\n        private Point initialMouseLocation;\r\n\r\n        private Point initialComponentLocation;\r\n\r\n        public DraggableHelper(Component component) {\r\n\r\n            component.addMouseListener(new MouseAdapter() {\r\n                public void mousePressed(MouseEvent e) {\r\n                    initialMouseLocation = e.getLocationOnScreen();\r\n                    initialComponentLocation = component.getLocation();\r\n                }\r\n            });\r\n\r\n            component.addMouseMotionListener(new MouseAdapter() {\r\n                public void mouseDragged(MouseEvent e) {\r\n                    Point finalMouseLocation = e.getLocationOnScreen();\r\n                    int deltaX = finalMouseLocation.x - initialMouseLocation.x;\r\n                    int deltaY = finalMouseLocation.y - initialMouseLocation.y;\r\n                    Point newLocation = new Point(initialComponentLocation.x + deltaX, initialComponentLocation.y + deltaY);\r\n                    component.setLocation(newLocation);\r\n                }\r\n            });\r\n        }\r\n\r\n    }","title":"Make JPanel draggable","body":"<p>There wasn't really an answer with the <code>Point</code> class so I will add my contribution. Instead of storing the <code>x, y</code> cords of the MouseEvent, We store a <code>Point</code>. Here is how you can do it:</p>\n<p>Define 2 variables of type <code>java.awt.Point</code>:</p>\n<pre><code>private Point initialMouseLocation;\nprivate Point initialPanelLocation;\n</code></pre>\n<p>Once the mouse is pressed, we store its initial location and the relative location of the panel using a <code>MouseListener</code>:</p>\n<pre><code>panel.addMouseListener(new MouseAdapter() {\n       public void mousePressed(MouseEvent e) {\n           initialMouseLocation = e.getLocationOnScreen();\n           initialPanelLocation = panel.getLocation();\n        }\n    });\n</code></pre>\n<p>When the mouse is dragged we calculate its travel distance and use it to offset the relative location of the panel:</p>\n<pre><code>panel.addMouseMotionListener(new MouseAdapter() {\n    public void mouseDragged(MouseEvent e) {\n        Point finalMouseLocation = e.getLocationOnScreen();\n                int deltaX = finalMouseLocation.x - initialMouseLocation.x;\n                int deltaY = finalMouseLocation.y - initialMouseLocation.y;\n                Point newLocation = new Point(initialPanelLocation.x + deltaX, \n                    initialPanelLocation.y + deltaY);\n                panel.setLocation(newLocation);\n    }\n});\n</code></pre>\n<p>A complete code sample of a DraggableHelper class is below:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class DraggableHelper {\n\n    private Point initialMouseLocation;\n\n    private Point initialComponentLocation;\n\n    public DraggableHelper(Component component) {\n\n        component.addMouseListener(new MouseAdapter() {\n            public void mousePressed(MouseEvent e) {\n                initialMouseLocation = e.getLocationOnScreen();\n                initialComponentLocation = component.getLocation();\n            }\n        });\n\n        component.addMouseMotionListener(new MouseAdapter() {\n            public void mouseDragged(MouseEvent e) {\n                Point finalMouseLocation = e.getLocationOnScreen();\n                int deltaX = finalMouseLocation.x - initialMouseLocation.x;\n                int deltaY = finalMouseLocation.y - initialMouseLocation.y;\n                Point newLocation = new Point(initialComponentLocation.x + deltaX, initialComponentLocation.y + deltaY);\n                component.setLocation(newLocation);\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4891,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1686321253,"creation_date":1369410048,"question_id":16738770,"body_markdown":"I extended the toolbar on a mac using a JPanel (see image), but the part that is the actualy toolbar (not the JPanel) is the only part that you can click and drag. How do I allow the user to click and drag the JPanel to move the window, just like they would the toolbar\r\n\r\nThe top mm or so of the image is the actual toolbar (with the text), the rest is the JPanel (with buttons).\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wg3UZ.png\r\n\r\nHere is the code for the UnifiedToolPanel, which is set to the north of the border layout in the JFrame:\r\n\r\n\r\n    package gui;\r\n    import java.awt.Color;\r\n    import java.awt.GradientPaint;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Window;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.WindowFocusListener;\r\n    import java.awt.event.WindowListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.Border;\r\n    \r\n    import com.jgoodies.forms.factories.Borders;\r\n\r\n    public class UnifiedToolbarPanel extends JPanel implements WindowFocusListener {\r\n    \r\n        public static final Color OS_X_UNIFIED_TOOLBAR_FOCUSED_BOTTOM_COLOR =\r\n                new Color(64, 64, 64);\r\n        public static final Color OS_X_UNIFIED_TOOLBAR_UNFOCUSED_BORDER_COLOR =\r\n                new Color(135, 135, 135);    \r\n        \r\n        public static final Color OS_X_TOP_FOCUSED_GRADIENT = new Color(214+8, 214+8, 214+8);\r\n        public static final Color OS_X_BOTTOM_FOCUSED_GRADIENT = new Color(217, 217, 217);\r\n        public static final Color OS_X_TOP_UNFOCUSED_GRADIENT = new Color(240+3, 240+3, 240+3);\r\n        public static final Color OS_X_BOTTOM_UNFOCUSED_GRADIENT = new Color(219, 219, 219);\r\n    \r\n    \r\n        public UnifiedToolbarPanel() {\r\n            // make the component transparent\r\n            setOpaque(true);\r\n            Window window = SwingUtilities.getWindowAncestor(this);\r\n            // create an empty border around the panel\r\n            // note the border below is created using JGoodies Forms\r\n            setBorder(Borders.createEmptyBorder(&quot;3dlu, 3dlu, 1dlu, 3dlu&quot;));\r\n        }\r\n        \r\n    \r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g;\r\n            Window window = SwingUtilities.getWindowAncestor(this);\r\n            Color color1  = window.isFocused() ? OS_X_TOP_FOCUSED_GRADIENT\r\n            \t\t: OS_X_TOP_UNFOCUSED_GRADIENT;\r\n            Color color2 = window.isFocused() ? color1.darker()\r\n            \t\t: OS_X_BOTTOM_UNFOCUSED_GRADIENT;\r\n            int w = getWidth();\r\n            int h = getHeight();\r\n            GradientPaint gp = new GradientPaint(\r\n                0, 0, color1, 0, h, color2);\r\n            g2d.setPaint(gp);\r\n            g2d.fillRect(0, 0, w, h);\r\n        }\r\n    \r\n        @Override\r\n        public Border getBorder() {\r\n            Window window = SwingUtilities.getWindowAncestor(this);\r\n            return window != null &amp;&amp; window.isFocused()\r\n                    ? BorderFactory.createMatteBorder(0,0,1,0,\r\n                            OS_X_UNIFIED_TOOLBAR_FOCUSED_BOTTOM_COLOR)\r\n                    : BorderFactory.createMatteBorder(0,0,1,0,\r\n                           OS_X_UNIFIED_TOOLBAR_UNFOCUSED_BORDER_COLOR);\r\n        }\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void windowGainedFocus(WindowEvent e) {\r\n    \t\trepaint();\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic void windowLostFocus(WindowEvent e) {\r\n    \t\trepaint();\r\n    \t}\r\n    }\r\n\r\n","title":"Make JPanel draggable","body":"<p>I extended the toolbar on a mac using a JPanel (see image), but the part that is the actualy toolbar (not the JPanel) is the only part that you can click and drag. How do I allow the user to click and drag the JPanel to move the window, just like they would the toolbar</p>\n\n<p>The top mm or so of the image is the actual toolbar (with the text), the rest is the JPanel (with buttons).\n<img src=\"https://i.stack.imgur.com/wg3UZ.png\" alt=\"enter image description here\"></p>\n\n<p>Here is the code for the UnifiedToolPanel, which is set to the north of the border layout in the JFrame:</p>\n\n<pre><code>package gui;\nimport java.awt.Color;\nimport java.awt.GradientPaint;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Window;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowFocusListener;\nimport java.awt.event.WindowListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.Border;\n\nimport com.jgoodies.forms.factories.Borders;\n\npublic class UnifiedToolbarPanel extends JPanel implements WindowFocusListener {\n\n    public static final Color OS_X_UNIFIED_TOOLBAR_FOCUSED_BOTTOM_COLOR =\n            new Color(64, 64, 64);\n    public static final Color OS_X_UNIFIED_TOOLBAR_UNFOCUSED_BORDER_COLOR =\n            new Color(135, 135, 135);    \n\n    public static final Color OS_X_TOP_FOCUSED_GRADIENT = new Color(214+8, 214+8, 214+8);\n    public static final Color OS_X_BOTTOM_FOCUSED_GRADIENT = new Color(217, 217, 217);\n    public static final Color OS_X_TOP_UNFOCUSED_GRADIENT = new Color(240+3, 240+3, 240+3);\n    public static final Color OS_X_BOTTOM_UNFOCUSED_GRADIENT = new Color(219, 219, 219);\n\n\n    public UnifiedToolbarPanel() {\n        // make the component transparent\n        setOpaque(true);\n        Window window = SwingUtilities.getWindowAncestor(this);\n        // create an empty border around the panel\n        // note the border below is created using JGoodies Forms\n        setBorder(Borders.createEmptyBorder(\"3dlu, 3dlu, 1dlu, 3dlu\"));\n    }\n\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n        Window window = SwingUtilities.getWindowAncestor(this);\n        Color color1  = window.isFocused() ? OS_X_TOP_FOCUSED_GRADIENT\n                : OS_X_TOP_UNFOCUSED_GRADIENT;\n        Color color2 = window.isFocused() ? color1.darker()\n                : OS_X_BOTTOM_UNFOCUSED_GRADIENT;\n        int w = getWidth();\n        int h = getHeight();\n        GradientPaint gp = new GradientPaint(\n            0, 0, color1, 0, h, color2);\n        g2d.setPaint(gp);\n        g2d.fillRect(0, 0, w, h);\n    }\n\n    @Override\n    public Border getBorder() {\n        Window window = SwingUtilities.getWindowAncestor(this);\n        return window != null &amp;&amp; window.isFocused()\n                ? BorderFactory.createMatteBorder(0,0,1,0,\n                        OS_X_UNIFIED_TOOLBAR_FOCUSED_BOTTOM_COLOR)\n                : BorderFactory.createMatteBorder(0,0,1,0,\n                       OS_X_UNIFIED_TOOLBAR_UNFOCUSED_BORDER_COLOR);\n    }\n\n\n    @Override\n    public void windowGainedFocus(WindowEvent e) {\n        repaint();\n    }\n\n\n    @Override\n    public void windowLostFocus(WindowEvent e) {\n        repaint();\n    }\n}\n</code></pre>\n"},{"tags":["java","class","cannot-find-symbol"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686315248,"post_id":76440423,"comment_id":134785767,"body_markdown":"`javac *.java` -- use a proper build tool. Maven is popular.","body":"<code>javac *.java</code> -- use a proper build tool. Maven is popular."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686315314,"post_id":76440423,"comment_id":134785785,"body_markdown":"please, put the relevant, all of the relevant and only the relevant code in your question. Don&#39;t post information as links to images, but as formatted text.","body":"please, put the relevant, all of the relevant and only the relevant code in your question. Don&#39;t post information as links to images, but as formatted text."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1686316314,"post_id":76440423,"comment_id":134785990,"body_markdown":"@SamuelMarchant underscore is valid in package name.","body":"@SamuelMarchant underscore is valid in package name."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686316812,"post_id":76440423,"comment_id":134786119,"body_markdown":"@Mar-Z , thanks.","body":"@Mar-Z , thanks."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686317182,"post_id":76440423,"comment_id":134786206,"body_markdown":"@A_Pag5329 while calling the compiler you should be in the root directory of the project and add the package name before the file name. Like: javac students_class/ClassroomVer2.java","body":"@A_Pag5329 while calling the compiler you should be in the root directory of the project and add the package name before the file name. Like: javac students_class/ClassroomVer2.java"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1686318492,"post_id":76440423,"comment_id":134786535,"body_markdown":"Try import StudentVer2;  statement in   ClassroomVer2  . It could be a minor  compiler glitch . Don&#39;t forget package location names and declarations at tops of file should match.   I think with packages declared at top you must actually commit &quot;import&quot; statements for any file used whether in sane folder or others!  If you had no package declarations it could then be implicit. implicit (no declarations) implies everything will be in the one folder.With package statement declare import of everything used. With java API they are in different packages so only those require declaring in implicit.","body":"Try import StudentVer2;  statement in   ClassroomVer2  . It could be a minor  compiler glitch . Don&#39;t forget package location names and declarations at tops of file should match.   I think with packages declared at top you must actually commit &quot;import&quot; statements for any file used whether in sane folder or others!  If you had no package declarations it could then be implicit. implicit (no declarations) implies everything will be in the one folder.With package statement declare import of everything used. With java API they are in different packages so only those require declaring in implicit."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689318140,"post_id":76440423,"comment_id":135199171,"body_markdown":"Put all the classes into the `students_class` package. Classes in the default package haven&#39;t worked completely since JDK 1.4 twenty years ago.","body":"Put all the classes into the <code>students_class</code> package. Classes in the default package haven&#39;t worked completely since JDK 1.4 twenty years ago."}],"answers":[{"tags":[],"owner":{"account_id":28739128,"reputation":27,"user_id":22009651,"display_name":"Alisabrljak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686316525,"creation_date":1686316525,"answer_id":76440635,"question_id":76440423,"body_markdown":"I think the issue you&#39;re facing is due to the complilation process not being able to find the symbol (class) &#39;StudentVer2&#39; when compiling &#39;ClassroomVer2.java &#39;. This happens because the compiler needs to know the location of the &#39;StudentVer2&#39; class file in order to compile &#39;ClassroomVer2.java&#39;.\r\n\r\n","title":"How will I be able to resolve the &quot;cannot find symbol&quot; issue for this code?","body":"<p>I think the issue you're facing is due to the complilation process not being able to find the symbol (class) 'StudentVer2' when compiling 'ClassroomVer2.java '. This happens because the compiler needs to know the location of the 'StudentVer2' class file in order to compile 'ClassroomVer2.java'.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686318804,"creation_date":1686318804,"answer_id":76440934,"question_id":76440423,"body_markdown":"You need to make certain that `public class ClassroomVer2` and `public class StudentVer2` are both in the `students_class` package.  If `StudentVer2` is in a different package, then put the following in the `ClassroomVer2` class.\r\n```\r\nimport &lt;other parent packages&gt;.StudentVer2;\r\n```\r\nI tried both options and in each case had no unresolved symbol errors.","title":"How will I be able to resolve the &quot;cannot find symbol&quot; issue for this code?","body":"<p>You need to make certain that <code>public class ClassroomVer2</code> and <code>public class StudentVer2</code> are both in the <code>students_class</code> package.  If <code>StudentVer2</code> is in a different package, then put the following in the <code>ClassroomVer2</code> class.</p>\n<pre><code>import &lt;other parent packages&gt;.StudentVer2;\n</code></pre>\n<p>I tried both options and in each case had no unresolved symbol errors.</p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686320635,"creation_date":1686319022,"answer_id":76440967,"question_id":76440423,"body_markdown":"Try import StudentVer2;  statement in   ClassroomVer2.\r\n   I think with packages declared at top you must actually commit &quot;import&quot; statements for any file used whether in sane folder or others! \r\n If you had no package declarations it could then be implicit. implicit (no declarations) implies everything will be in the one folder.\r\n\r\nWith package statement declare import of everything used. With java API they are in different packages so only those require declaring in implicit.\r\n\r\nDon&#39;t forget package location names and declarations at tops of file should match. \r\nAlso conventional package systems the files start to be in the 3rd folder deep, and the first package folder named is conventionally one of /com /org  or. /net","title":"How will I be able to resolve the &quot;cannot find symbol&quot; issue for this code?","body":"<p>Try import StudentVer2;  statement in   ClassroomVer2.\nI think with packages declared at top you must actually commit &quot;import&quot; statements for any file used whether in sane folder or others!\nIf you had no package declarations it could then be implicit. implicit (no declarations) implies everything will be in the one folder.</p>\n<p>With package statement declare import of everything used. With java API they are in different packages so only those require declaring in implicit.</p>\n<p>Don't forget package location names and declarations at tops of file should match.\nAlso conventional package systems the files start to be in the 3rd folder deep, and the first package folder named is conventionally one of /com /org  or. /net</p>\n"}],"owner":{"account_id":28787434,"reputation":1,"user_id":22047606,"display_name":"A_Pag5329"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686320635,"creation_date":1686314939,"question_id":76440423,"body_markdown":"I am making a Java program about a simple student management system. Here&#39;s the summary of how the code works:\r\n\r\n1. Student class\r\n    - Represents a student with attributes such as the name and grade\r\n    - Provides methods to access and modify the student&#39;s name and grade.\r\n\r\n2. Classroom class\r\n    - Manages a classroom of students.\r\n    - Stores a list of students and a maximum number of students.\r\n    - Provides methods to add a student, remove a student by name or index, and retrieve all students.                             Removal of a student will occur if they have the same name as another student.\r\n    - Includes methods to find the student with the highest grade and calculate the class average grade.\r\n\r\n3. ClassroomStudentMain class\r\n    - Create an instance of the Classroom class with a limit of 5 students.\r\n    - Adds five students to the classroom with their respective names and grades.\r\n    - Prints the list of all students and their respective grades.\r\n    - Finds and prints the name and grade of the student with the highest grade.\r\n    - Calculates and prints the average grade of the class.\r\n\r\nI already made an iteration of the code where the 3 classes are in one Java file named &quot;ClassroomStudentMain.java&quot;. Here&#39;s the implementation of the Java file I am pertaining to.\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nclass Classroom {\r\n    private int studentLimit;\r\n    private List&lt;Student&gt; students;\r\n\r\n    public Classroom(int studentLimit) {\r\n        this.studentLimit = studentLimit;\r\n        this.students = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public boolean addStudent(Student student) {\r\n        if (students.size() &lt; studentLimit) {\r\n            students.add(student);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public boolean removeStudentByName(String name) {\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            if (students.get(i).getName().equals(name)) {\r\n                students.remove(i);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public boolean removeStudentByIndex(int index) {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; students.size()) {\r\n            students.remove(index);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public List&lt;Student&gt; getAllStudents() {\r\n        return students;\r\n    }\r\n\r\n    public Student getStudentWithHighestGrade() {\r\n        Student highestGradeStudent = null;\r\n        double highestGrade = -1;\r\n\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            Student student = students.get(i);\r\n            if (student.getGrade() &gt; highestGrade) {\r\n                highestGrade = student.getGrade();\r\n                highestGradeStudent = student;\r\n            }\r\n        }\r\n        return highestGradeStudent;\r\n    }\r\n\r\n    public double getClassAverage() {\r\n        if (students.isEmpty()) {\r\n            return 0;\r\n        }\r\n\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            Student student = students.get(i);\r\n            sum += student.getGrade();\r\n        }\r\n        return sum / students.size();\r\n    }\r\n}\r\n\r\nclass Student {\r\n    private String name;\r\n    private double grade;\r\n\r\n    public Student(String name, double grade) {\r\n        this.name = name;\r\n        this.grade = grade;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public double getGrade() {\r\n        return grade;\r\n    }\r\n\r\n    public void setGrade(double grade) {\r\n        this.grade = grade;\r\n    }\r\n}\r\n\r\npublic class ClassroomStudentsMain {\r\n    public static void main(String[] args) {\r\n        Classroom classroom = new Classroom(5);\r\n\r\n        classroom.addStudent(new Student(&quot;John&quot;, 80));\r\n        classroom.addStudent(new Student(&quot;Alice&quot;, 90));\r\n        classroom.addStudent(new Student(&quot;Bob&quot;, 75));\r\n        classroom.addStudent(new Student(&quot;Emily&quot;, 95));\r\n        classroom.addStudent(new Student(&quot;Tom&quot;, 85));\r\n\r\n        System.out.println(&quot;All Students: &quot;);\r\n        List&lt;Student&gt; students = classroom.getAllStudents();\r\n\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            Student student = students.get(i);\r\n            System.out.println(student.getName() + &quot; - Grade: &quot; + student.getGrade());\r\n        }\r\n\r\n        System.out.println(&quot;\\nHighest Grade Student: &quot;);\r\n        Student highestGradeStudent = classroom.getStudentWithHighestGrade();\r\n        System.out.println(highestGradeStudent.getName() + &quot; - Grade: &quot; + highestGradeStudent.getGrade());\r\n\r\n        System.out.println(&quot;\\nClass Average Grade: &quot; + classroom.getClassAverage());\r\n    }\r\n}\r\n```\r\n\r\nThis iteration of the code works properly and it generated the class files necessary. Now I am trying to make an iteration where the 3 classes: Classroom, Student, and ClassroomStudentsMain are seperate Java files. I already made a folder for the 2 classes: ClassroomVer2, and StudentVer2, named &quot;students_class&quot;. I  implemented the codes for the classes the exact same way as I implemented them in the first iteration of the code above. Let me insert the respective codes for the 2 classes I am pertaining to.\r\n\r\nThis is for the StudentVer2 class. \r\n&quot;StudentVer2.java&quot;\r\n```\r\npackage students_class;\r\n\r\npublic class StudentVer2 {\r\n    private String name;\r\n    private double grade;\r\n\r\n    public StudentVer2(String name, double grade) {\r\n        this.name = name;\r\n        this.grade = grade;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public double getGrade() {\r\n        return grade;\r\n    }\r\n\r\n    public void setGrade(double grade) {\r\n        this.grade = grade;\r\n    }\r\n}\r\n```\r\n\r\nThis is for the ClassroomVer2 class. \r\n&quot;ClassroomVer2.java&quot;\r\n```\r\npackage students_class;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ClassroomVer2 {\r\n    private int studentLimit;\r\n    private List&lt;StudentVer2&gt; students;\r\n\r\n    public ClassroomVer2(int studentLimit) {\r\n        this.studentLimit = studentLimit;\r\n        this.students = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public boolean addStudent(StudentVer2 student) {\r\n        if (students.size() &lt; studentLimit) {\r\n            students.add(student);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public boolean removeStudentByName(String name) {\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            if (students.get(i).getName().equals(name)) {\r\n                students.remove(i);\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public boolean removeStudentByIndex(int index) {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; students.size()) {\r\n            students.remove(index);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public List&lt;StudentVer2&gt; getAllStudents() {\r\n        return students;\r\n    }\r\n\r\n    public StudentVer2 getStudentWithHighestGrade() {\r\n        StudentVer2 highestGradeStudent = null;\r\n        double highestGrade = -1;\r\n\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            StudentVer2 student = students.get(i);\r\n            if (student.getGrade() &gt; highestGrade) {\r\n                highestGrade = student.getGrade();\r\n                highestGradeStudent = student;\r\n            }\r\n        }\r\n        return highestGradeStudent;\r\n    }\r\n\r\n    public double getClassAverage() {\r\n        if (students.isEmpty()) {\r\n            return 0;\r\n        }\r\n\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; students.size(); i++) {\r\n            StudentVer2 student = students.get(i);\r\n            sum += student.getGrade();\r\n        }\r\n        return sum / students.size();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe StudentVer2.java file compiled without any issues and generated a class file of its own. However, when I tried to compile and generate the class file for the ClassroomVer2.java file, it showed these errors, here are the errors that popped up in VS Code.\r\n\r\nClassroomVer2.java:8: error: cannot find symbol\r\n    private List&lt;StudentVer2&gt; students;\r\n                 ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:15: error: cannot find symbol\r\n    public boolean addStudent(StudentVer2 student) {\r\n                              ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:41: error: cannot find symbol\r\n    public List&lt;StudentVer2&gt; getAllStudents() {\r\n                ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:45: error: cannot find symbol\r\n    public StudentVer2 getStudentWithHighestGrade() {\r\n           ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:46: error: cannot find symbol\r\n        StudentVer2 highestGradeStudent = null;\r\n        ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:50: error: cannot find symbol\r\n            StudentVer2 student = students.get(i);\r\n            ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n\r\nClassroomVer2.java:66: error: cannot find symbol\r\n            StudentVer2 student = students.get(i);\r\n            ^\r\n  symbol:   class StudentVer2\r\n  location: class ClassroomVer2\r\n7 errors\r\n\r\n\r\nHow can I resolve this?\r\n\r\n\r\nI attempted to generate the class file for ClassroomVer2.java in the Command Prompt. However, I got the exact same error &quot;Cannot find symbol&quot;. I also tried renaming the folder, where the StudentVer2.java and ClassroomVer2.java files are located, a couple of times as well. Still no luck. ;(","title":"How will I be able to resolve the &quot;cannot find symbol&quot; issue for this code?","body":"<p>I am making a Java program about a simple student management system. Here's the summary of how the code works:</p>\n<ol>\n<li><p>Student class</p>\n<ul>\n<li>Represents a student with attributes such as the name and grade</li>\n<li>Provides methods to access and modify the student's name and grade.</li>\n</ul>\n</li>\n<li><p>Classroom class</p>\n<ul>\n<li>Manages a classroom of students.</li>\n<li>Stores a list of students and a maximum number of students.</li>\n<li>Provides methods to add a student, remove a student by name or index, and retrieve all students.                             Removal of a student will occur if they have the same name as another student.</li>\n<li>Includes methods to find the student with the highest grade and calculate the class average grade.</li>\n</ul>\n</li>\n<li><p>ClassroomStudentMain class</p>\n<ul>\n<li>Create an instance of the Classroom class with a limit of 5 students.</li>\n<li>Adds five students to the classroom with their respective names and grades.</li>\n<li>Prints the list of all students and their respective grades.</li>\n<li>Finds and prints the name and grade of the student with the highest grade.</li>\n<li>Calculates and prints the average grade of the class.</li>\n</ul>\n</li>\n</ol>\n<p>I already made an iteration of the code where the 3 classes are in one Java file named &quot;ClassroomStudentMain.java&quot;. Here's the implementation of the Java file I am pertaining to.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nclass Classroom {\n    private int studentLimit;\n    private List&lt;Student&gt; students;\n\n    public Classroom(int studentLimit) {\n        this.studentLimit = studentLimit;\n        this.students = new ArrayList&lt;&gt;();\n    }\n\n    public boolean addStudent(Student student) {\n        if (students.size() &lt; studentLimit) {\n            students.add(student);\n            return true;\n        }\n        return false;\n    }\n\n    public boolean removeStudentByName(String name) {\n        for (int i = 0; i &lt; students.size(); i++) {\n            if (students.get(i).getName().equals(name)) {\n                students.remove(i);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public boolean removeStudentByIndex(int index) {\n        if (index &gt;= 0 &amp;&amp; index &lt; students.size()) {\n            students.remove(index);\n            return true;\n        }\n        return false;\n    }\n\n    public List&lt;Student&gt; getAllStudents() {\n        return students;\n    }\n\n    public Student getStudentWithHighestGrade() {\n        Student highestGradeStudent = null;\n        double highestGrade = -1;\n\n        for (int i = 0; i &lt; students.size(); i++) {\n            Student student = students.get(i);\n            if (student.getGrade() &gt; highestGrade) {\n                highestGrade = student.getGrade();\n                highestGradeStudent = student;\n            }\n        }\n        return highestGradeStudent;\n    }\n\n    public double getClassAverage() {\n        if (students.isEmpty()) {\n            return 0;\n        }\n\n        double sum = 0;\n        for (int i = 0; i &lt; students.size(); i++) {\n            Student student = students.get(i);\n            sum += student.getGrade();\n        }\n        return sum / students.size();\n    }\n}\n\nclass Student {\n    private String name;\n    private double grade;\n\n    public Student(String name, double grade) {\n        this.name = name;\n        this.grade = grade;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public double getGrade() {\n        return grade;\n    }\n\n    public void setGrade(double grade) {\n        this.grade = grade;\n    }\n}\n\npublic class ClassroomStudentsMain {\n    public static void main(String[] args) {\n        Classroom classroom = new Classroom(5);\n\n        classroom.addStudent(new Student(&quot;John&quot;, 80));\n        classroom.addStudent(new Student(&quot;Alice&quot;, 90));\n        classroom.addStudent(new Student(&quot;Bob&quot;, 75));\n        classroom.addStudent(new Student(&quot;Emily&quot;, 95));\n        classroom.addStudent(new Student(&quot;Tom&quot;, 85));\n\n        System.out.println(&quot;All Students: &quot;);\n        List&lt;Student&gt; students = classroom.getAllStudents();\n\n        for (int i = 0; i &lt; students.size(); i++) {\n            Student student = students.get(i);\n            System.out.println(student.getName() + &quot; - Grade: &quot; + student.getGrade());\n        }\n\n        System.out.println(&quot;\\nHighest Grade Student: &quot;);\n        Student highestGradeStudent = classroom.getStudentWithHighestGrade();\n        System.out.println(highestGradeStudent.getName() + &quot; - Grade: &quot; + highestGradeStudent.getGrade());\n\n        System.out.println(&quot;\\nClass Average Grade: &quot; + classroom.getClassAverage());\n    }\n}\n</code></pre>\n<p>This iteration of the code works properly and it generated the class files necessary. Now I am trying to make an iteration where the 3 classes: Classroom, Student, and ClassroomStudentsMain are seperate Java files. I already made a folder for the 2 classes: ClassroomVer2, and StudentVer2, named &quot;students_class&quot;. I  implemented the codes for the classes the exact same way as I implemented them in the first iteration of the code above. Let me insert the respective codes for the 2 classes I am pertaining to.</p>\n<p>This is for the StudentVer2 class.\n&quot;StudentVer2.java&quot;</p>\n<pre><code>package students_class;\n\npublic class StudentVer2 {\n    private String name;\n    private double grade;\n\n    public StudentVer2(String name, double grade) {\n        this.name = name;\n        this.grade = grade;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public double getGrade() {\n        return grade;\n    }\n\n    public void setGrade(double grade) {\n        this.grade = grade;\n    }\n}\n</code></pre>\n<p>This is for the ClassroomVer2 class.\n&quot;ClassroomVer2.java&quot;</p>\n<pre><code>package students_class;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ClassroomVer2 {\n    private int studentLimit;\n    private List&lt;StudentVer2&gt; students;\n\n    public ClassroomVer2(int studentLimit) {\n        this.studentLimit = studentLimit;\n        this.students = new ArrayList&lt;&gt;();\n    }\n\n    public boolean addStudent(StudentVer2 student) {\n        if (students.size() &lt; studentLimit) {\n            students.add(student);\n            return true;\n        }\n        return false;\n    }\n\n    public boolean removeStudentByName(String name) {\n        for (int i = 0; i &lt; students.size(); i++) {\n            if (students.get(i).getName().equals(name)) {\n                students.remove(i);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public boolean removeStudentByIndex(int index) {\n        if (index &gt;= 0 &amp;&amp; index &lt; students.size()) {\n            students.remove(index);\n            return true;\n        }\n        return false;\n    }\n\n    public List&lt;StudentVer2&gt; getAllStudents() {\n        return students;\n    }\n\n    public StudentVer2 getStudentWithHighestGrade() {\n        StudentVer2 highestGradeStudent = null;\n        double highestGrade = -1;\n\n        for (int i = 0; i &lt; students.size(); i++) {\n            StudentVer2 student = students.get(i);\n            if (student.getGrade() &gt; highestGrade) {\n                highestGrade = student.getGrade();\n                highestGradeStudent = student;\n            }\n        }\n        return highestGradeStudent;\n    }\n\n    public double getClassAverage() {\n        if (students.isEmpty()) {\n            return 0;\n        }\n\n        double sum = 0;\n        for (int i = 0; i &lt; students.size(); i++) {\n            StudentVer2 student = students.get(i);\n            sum += student.getGrade();\n        }\n        return sum / students.size();\n    }\n}\n\n</code></pre>\n<p>The StudentVer2.java file compiled without any issues and generated a class file of its own. However, when I tried to compile and generate the class file for the ClassroomVer2.java file, it showed these errors, here are the errors that popped up in VS Code.</p>\n<p>ClassroomVer2.java:8: error: cannot find symbol\nprivate List students;\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:15: error: cannot find symbol\npublic boolean addStudent(StudentVer2 student) {\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:41: error: cannot find symbol\npublic List getAllStudents() {\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:45: error: cannot find symbol\npublic StudentVer2 getStudentWithHighestGrade() {\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:46: error: cannot find symbol\nStudentVer2 highestGradeStudent = null;\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:50: error: cannot find symbol\nStudentVer2 student = students.get(i);\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2</p>\n<p>ClassroomVer2.java:66: error: cannot find symbol\nStudentVer2 student = students.get(i);\n^\nsymbol:   class StudentVer2\nlocation: class ClassroomVer2\n7 errors</p>\n<p>How can I resolve this?</p>\n<p>I attempted to generate the class file for ClassroomVer2.java in the Command Prompt. However, I got the exact same error &quot;Cannot find symbol&quot;. I also tried renaming the folder, where the StudentVer2.java and ClassroomVer2.java files are located, a couple of times as well. Still no luck. ;(</p>\n"},{"tags":["java","json","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686313166,"creation_date":1686312750,"answer_id":76440122,"question_id":76437635,"body_markdown":"&gt; I am using a custom Deserializer\r\n\r\nKafka already has a JsonDeserializer class that returns JsonNode, and can be iterated the same as a Map.\r\n\r\n---\r\n\r\n&gt; create a csv file\r\n\r\nI&#39;d recommend you use [json lines](https://jsonlines.org/).\r\n\r\nBut otherwise, you need to consider the fact that multiple consumer threads, or separate servers are running, so you&#39;d end up with many files (unless you guarantee you have a single partition topic).\r\n\r\nIn any case, I assume you already know the structure of your JSON in order to actually write CSV headers?\r\n\r\nSo,\r\n\r\n1. Create a POJO\r\n2. Add Jackson csv dataformat dependency \r\n3. Rewrite your Deserializer to return a POJO, rather than a Map (replace TypeReference with `YourCsvClass.class`)\r\n4. Open a file handle before your consumer starts, or keep a `Map&lt;String, File&gt;` to store an open file per key, which you must flush each file handle when consumer batch is complete, and close each file handle on JVM shutdown (or after consumer batch) \r\n5. Append `message.value()` to that file within the consumer loop. You do not need Streams here, nor does the Consumer iterator need to become a Map \r\n\r\nI&#39;ll note that Kafka isn&#39;t really related to your problem, other than you shouldn&#39;t try to create one file per record. Refer https://www.baeldung.com/java-converting-json-to-csv\r\n\r\nAlso worth pointing out the Kafka Connect HDFS/S3 Sink can already do this for you, and will properly handle multiple partition topics (though the filename cannot be changed to use the record key)","title":"create a map using key value of ConsumerRecord kafka","body":"<blockquote>\n<p>I am using a custom Deserializer</p>\n</blockquote>\n<p>Kafka already has a JsonDeserializer class that returns JsonNode, and can be iterated the same as a Map.</p>\n<hr />\n<blockquote>\n<p>create a csv file</p>\n</blockquote>\n<p>I'd recommend you use <a href=\"https://jsonlines.org/\" rel=\"nofollow noreferrer\">json lines</a>.</p>\n<p>But otherwise, you need to consider the fact that multiple consumer threads, or separate servers are running, so you'd end up with many files (unless you guarantee you have a single partition topic).</p>\n<p>In any case, I assume you already know the structure of your JSON in order to actually write CSV headers?</p>\n<p>So,</p>\n<ol>\n<li>Create a POJO</li>\n<li>Add Jackson csv dataformat dependency</li>\n<li>Rewrite your Deserializer to return a POJO, rather than a Map (replace TypeReference with <code>YourCsvClass.class</code>)</li>\n<li>Open a file handle before your consumer starts, or keep a <code>Map&lt;String, File&gt;</code> to store an open file per key, which you must flush each file handle when consumer batch is complete, and close each file handle on JVM shutdown (or after consumer batch)</li>\n<li>Append <code>message.value()</code> to that file within the consumer loop. You do not need Streams here, nor does the Consumer iterator need to become a Map</li>\n</ol>\n<p>I'll note that Kafka isn't really related to your problem, other than you shouldn't try to create one file per record. Refer <a href=\"https://www.baeldung.com/java-converting-json-to-csv\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-converting-json-to-csv</a></p>\n<p>Also worth pointing out the Kafka Connect HDFS/S3 Sink can already do this for you, and will properly handle multiple partition topics (though the filename cannot be changed to use the record key)</p>\n"}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686320552,"creation_date":1686290966,"question_id":76437635,"body_markdown":"I am using KafkaConsumer to read messages from a list of kafka topics. I am using a custom Deserializer. below is the method from Deserializer:\r\n\r\n    public Object deserialize(String s, byte[] bytes) {\r\n        if (!isEmpty(bytes)) {\r\n          try {\r\n            return objectMapper.readValue(bytes, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n            });\r\n          } catch (Exception e) {\r\n            LOGGER.error(&quot;Error while deserializing bytes[] {} to json object &quot;, new String(bytes), e);\r\n          }\r\n        }\r\n    \r\n        return null;\r\n      }\r\n\r\nNo error happens here. Following is the screenshot of `ConsumerRecords` that I get:\r\n[![enter image description here][1]][1]\r\n\r\nThe `ConsumerRecord` value tag has the values as a Map.\r\nSo following is my requirement:\r\n - Use the messages from the topic to create a csv file.\r\n - because there are multiple topics, so it&#39;s required to create multiple files using messages from each topic.\r\n\r\n**Probable Solution:**\r\n - separate the messages by topic. each topic can have a list of messages.\r\n - so, I need a `Map&lt;String, List&lt;Map&lt;String, Value&gt;&gt;&gt;`. here the key(String) should be the topics and the value is :\r\nValue tag from `ConsumerRecord` in screenshot.\r\n\r\nQuestions:\r\n1. How can I get the value tag from `ConsumerRecord` return as Map. Till now this is the best I could do:\r\n\r\n     List&lt;Object&gt; customerMigrationKafkaMessages =\r\n                consumerRecords.stream()\r\n                    .flatMap(c -&gt; StreamSupport.stream(c.spliterator(), false).map(ConsumerRecord::value))\r\n                    .collect(Collectors.toList());\r\n2. But, need to iterate `ConsumerRecords` in a way that I can create a Map. Key is the topic name, and value is the `List` object of the Map from above step.\r\n3. Why do I need step1. as HashMap? 1. The keyset would serve as the header of the csv that I have to create. 2. The valueSet will the rows in the csv file.\r\n\r\nPlease help me with some ideas, I am not able to code this.\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/DAG8x.png\r\n\r\nEdit 1:\r\nAdding my comments to the answer from @OneCricketer\r\n1. https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka#:~:text=already%20has%20a-,JsonDeserializer,-class%20that%20returns - I have tried using this:\r\n\r\n    kafka.value.deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\nBut keep getting exception: `Caused by: java.lang.IllegalStateException: No type information in headers and no default type provided`\r\n\r\n2. https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:~:text=structure%20of%20your-,JSON,-in%20order%20to : Yes, I know the structure. But, as I mentioned, there are multiple topics, so I will end up creating multiple POJO(which I did plan earlier), but later I am again converting those POJO to string and then writing to the file. Also, will have to create a Map before deserialization happens, so that I can use the right class type corresponding to the topic. Example:\r\n```java\r\nMap myMap = new HashMap&lt;&gt;();\r\n    myMap.put(&quot;TopicA&quot;, MyClassA.class);\r\n    myMap.put(&quot;TopicB&quot;, MyClassB.class);\r\n    public Object deserialize(String topic, String s, byte[] bytes) {\r\n      if (!isEmpty(bytes)) {\r\n        try {\r\n          return objectMapper.readValue(bytes, myMap.get(topic));\r\n        } catch (Exception e) {\r\n          LOGGER.error(&quot;Error while deserializing bytes[] {} to json object &quot;, new String(bytes), e);\r\n        }\r\n      }\r\n      return null;\r\n```\r\n3. https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:~:text=YourCsvClass.class)-,Open,-a%20file%20handle - I might have misunderstood this.I can have a list of messages for each topic, and all those messages should go to a one file, and not file per message.\r\nSo, if I have 4 topics processed. I need to have 4 files created.\r\n\r\n\r\n\r\n\r\n","title":"create a map using key value of ConsumerRecord kafka","body":"<p>I am using KafkaConsumer to read messages from a list of kafka topics. I am using a custom Deserializer. below is the method from Deserializer:</p>\n<pre><code>public Object deserialize(String s, byte[] bytes) {\n    if (!isEmpty(bytes)) {\n      try {\n        return objectMapper.readValue(bytes, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n      } catch (Exception e) {\n        LOGGER.error(&quot;Error while deserializing bytes[] {} to json object &quot;, new String(bytes), e);\n      }\n    }\n\n    return null;\n  }\n</code></pre>\n<p>No error happens here. Following is the screenshot of <code>ConsumerRecords</code> that I get:\n<a href=\"https://i.stack.imgur.com/DAG8x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DAG8x.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>ConsumerRecord</code> value tag has the values as a Map.\nSo following is my requirement:</p>\n<ul>\n<li>Use the messages from the topic to create a csv file.</li>\n<li>because there are multiple topics, so it's required to create multiple files using messages from each topic.</li>\n</ul>\n<p><strong>Probable Solution:</strong></p>\n<ul>\n<li>separate the messages by topic. each topic can have a list of messages.</li>\n<li>so, I need a <code>Map&lt;String, List&lt;Map&lt;String, Value&gt;&gt;&gt;</code>. here the key(String) should be the topics and the value is :\nValue tag from <code>ConsumerRecord</code> in screenshot.</li>\n</ul>\n<p>Questions:</p>\n<ol>\n<li><p>How can I get the value tag from <code>ConsumerRecord</code> return as Map. Till now this is the best I could do:</p>\n<p>List customerMigrationKafkaMessages =\nconsumerRecords.stream()\n.flatMap(c -&gt; StreamSupport.stream(c.spliterator(), false).map(ConsumerRecord::value))\n.collect(Collectors.toList());</p>\n</li>\n<li><p>But, need to iterate <code>ConsumerRecords</code> in a way that I can create a Map. Key is the topic name, and value is the <code>List</code> object of the Map from above step.</p>\n</li>\n<li><p>Why do I need step1. as HashMap? 1. The keyset would serve as the header of the csv that I have to create. 2. The valueSet will the rows in the csv file.</p>\n</li>\n</ol>\n<p>Please help me with some ideas, I am not able to code this.\nThanks!</p>\n<p>Edit 1:\nAdding my comments to the answer from @OneCricketer</p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka#:%7E:text=already%20has%20a-,JsonDeserializer,-class%20that%20returns\">https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka#:~:text=already%20has%20a-,JsonDeserializer,-class%20that%20returns</a> - I have tried using this:</p>\n<p>kafka.value.deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nBut keep getting exception: <code>Caused by: java.lang.IllegalStateException: No type information in headers and no default type provided</code></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:%7E:text=structure%20of%20your-,JSON,-in%20order%20to\">https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:~:text=structure%20of%20your-,JSON,-in%20order%20to</a> : Yes, I know the structure. But, as I mentioned, there are multiple topics, so I will end up creating multiple POJO(which I did plan earlier), but later I am again converting those POJO to string and then writing to the file. Also, will have to create a Map before deserialization happens, so that I can use the right class type corresponding to the topic. Example:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Map myMap = new HashMap&lt;&gt;();\n    myMap.put(&quot;TopicA&quot;, MyClassA.class);\n    myMap.put(&quot;TopicB&quot;, MyClassB.class);\n    public Object deserialize(String topic, String s, byte[] bytes) {\n      if (!isEmpty(bytes)) {\n        try {\n          return objectMapper.readValue(bytes, myMap.get(topic));\n        } catch (Exception e) {\n          LOGGER.error(&quot;Error while deserializing bytes[] {} to json object &quot;, new String(bytes), e);\n        }\n      }\n      return null;\n</code></pre>\n<ol start=\"3\">\n<li><a href=\"https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:%7E:text=YourCsvClass.class\">https://stackoverflow.com/questions/76437635/create-a-map-using-key-value-of-consumerrecord-kafka/76440122#76440122:~:text=YourCsvClass.class</a>)-,Open,-a%20file%20handle - I might have misunderstood this.I can have a list of messages for each topic, and all those messages should go to a one file, and not file per message.\nSo, if I have 4 topics processed. I need to have 4 files created.</li>\n</ol>\n"},{"tags":["java","cartesian"],"owner":{"account_id":15854522,"reputation":15,"user_id":11439321,"display_name":"Callum Bell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686320217,"creation_date":1686320217,"question_id":76441123,"body_markdown":"Is there a way to convert Cartesian coordinates to Lat and Lon while only knowing the X and Y Cartesian coordinates?\r\n\r\nI&#39;m trying to create a Java program to do they conversions and after some reading I currently have the following where R = the approx radius of the Earth in km 6371 and z I have assumed as 0.0: \r\n\r\n\r\n```\r\n        // Convert Cartesian coordinates to latitude and longitude\r\n        double longitude = Math.atan2(y, x);\r\n        double latitude = Math.asin(z / R);\r\n\r\n        // Convert radians to degrees\r\n        longitude = Math.toDegrees(longitude);\r\n        latitude = Math.toDegrees(latitude);\r\n```\r\n\r\n","title":"Converting Cartesian Coordinates to Lat and Lon with only x and y Cartesian Coordinates (Java)","body":"<p>Is there a way to convert Cartesian coordinates to Lat and Lon while only knowing the X and Y Cartesian coordinates?</p>\n<p>I'm trying to create a Java program to do they conversions and after some reading I currently have the following where R = the approx radius of the Earth in km 6371 and z I have assumed as 0.0:</p>\n<pre><code>        // Convert Cartesian coordinates to latitude and longitude\n        double longitude = Math.atan2(y, x);\n        double latitude = Math.asin(z / R);\n\n        // Convert radians to degrees\n        longitude = Math.toDegrees(longitude);\n        latitude = Math.toDegrees(latitude);\n</code></pre>\n"},{"tags":["java","amazon-sqs"],"answers":[{"comments":[{"owner":{"account_id":1261937,"reputation":518,"user_id":1219968,"accept_rate":75,"display_name":"Joe Ernst"},"score":2,"creation_date":1568051581,"post_id":25321327,"comment_id":102144071,"body_markdown":"Worked for me too, once I noticed the difference between &quot;.withAttributeNames()&quot; and &quot;.withMessageAttributeNames()&quot;.  Attention to detail is required here.  Doh!","body":"Worked for me too, once I noticed the difference between &quot;.withAttributeNames()&quot; and &quot;.withMessageAttributeNames()&quot;.  Attention to detail is required here.  Doh!"},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1623762397,"post_id":25321327,"comment_id":120166261,"body_markdown":"Great answer, but I still don&#39;t know how to receive the custom headers :(","body":"Great answer, but I still don&#39;t know how to receive the custom headers :("}],"tags":[],"owner":{"account_id":457338,"reputation":861,"user_id":3893676,"display_name":"Ramesh Sen"},"comment_count":2,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1408077445,"creation_date":1408077445,"answer_id":25321327,"question_id":25107605,"body_markdown":"You have to specify which message attributes you want in your request (or use &quot;All&quot; to get all message attributes). So in your case you could use either\r\n\r\n    List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest.withMessageAttributeNames(&quot;attributeTest&quot;)).getMessages();\r\nor\r\n\r\n    List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest.withMessageAttributeNames(&quot;All&quot;)).getMessages();\r\n\r\nIf you want the standard attributes (ApproximateFirstReceiveTimestamp, ApproximateReceiveCount, SenderId, and SentTimestamp) along with your messages, use `withAttributeNames(&quot;All&quot;)`. You can find more detail in the Javadocs for [ReceiveMessageRequest](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/model/ReceiveMessageRequest.html). ","title":"Amazon SQS Java SDK - cannot receive message attributes","body":"<p>You have to specify which message attributes you want in your request (or use \"All\" to get all message attributes). So in your case you could use either</p>\n\n<pre><code>List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest.withMessageAttributeNames(\"attributeTest\")).getMessages();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest.withMessageAttributeNames(\"All\")).getMessages();\n</code></pre>\n\n<p>If you want the standard attributes (ApproximateFirstReceiveTimestamp, ApproximateReceiveCount, SenderId, and SentTimestamp) along with your messages, use <code>withAttributeNames(\"All\")</code>. You can find more detail in the Javadocs for <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sqs/model/ReceiveMessageRequest.html\">ReceiveMessageRequest</a>. </p>\n"},{"tags":[],"owner":{"account_id":4985641,"reputation":11,"user_id":4009348,"display_name":"Fr&#233;d&#233;ric PREVOST"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686320142,"creation_date":1686143538,"answer_id":76423678,"question_id":25107605,"body_markdown":"There are two different methods:\r\n\r\n - `messageAttributeNames()` which gets custom attributes send with the message,\r\n - `attributeNames()` which gets system attributes linked to the message (`retryCount`, ...)","title":"Amazon SQS Java SDK - cannot receive message attributes","body":"<p>There are two different methods:</p>\n<ul>\n<li><code>messageAttributeNames()</code> which gets custom attributes send with the message,</li>\n<li><code>attributeNames()</code> which gets system attributes linked to the message (<code>retryCount</code>, ...)</li>\n</ul>\n"}],"owner":{"account_id":191647,"reputation":601,"user_id":432344,"display_name":"John Simoes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16771,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":25321327,"answer_count":2,"score":35,"last_activity_date":1686320142,"creation_date":1407089291,"question_id":25107605,"body_markdown":"After posting a message with an attribute to SQS with the following code before sending it (and checking in SQS console to see if everything is posted correctly)...\r\n\r\n    messageRequest.addMessageAttributesEntry(\r\n            &quot;attributeTest&quot;, \r\n            new MessageAttributeValue()\r\n                .withDataType(&quot;String&quot;)\r\n                .withStringValue(&quot;attributeTest 123&quot;));\r\n\r\nI cannot retrieve any of the message attributes in the message. All I see, as a result, is &quot;0 attributes.&quot;. Reinspecting the message in Amazon SQS console, the message - and the attribute - are still there.\r\n\r\n    // Message was previously checked in SQS console and contains \r\n    // an attribute named &quot;attributeTest&quot;\r\n\r\n    AmazonSQS sqs = ...\r\n    List&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\r\n    for (Message : messages) \r\n    {\r\n        Map&lt;String, MessageAttributeValue&gt; attributes = message.getMessageAttributes();\r\n        System.out.println(&quot;&quot; + attributes.size() + &quot; attributes.&quot;);\r\n    }\r\n\r\nI am using Amazon SQS SDK v1.8 in Java 1.7 with Play Framework 2.2.3. At first I thought it could be the SQS version but tried upgrading to 1.8.7 with no avail.\r\n\r\nThe official documentation found [here][1] does not provide any sourcecode to read the attributes at all. Nor github searches, stack overflow. I&#39;ve been trying for a few hours without any success.\r\n\r\nThanks for any help!\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/SQSMessageAttributes.html","title":"Amazon SQS Java SDK - cannot receive message attributes","body":"<p>After posting a message with an attribute to SQS with the following code before sending it (and checking in SQS console to see if everything is posted correctly)...</p>\n\n<pre><code>messageRequest.addMessageAttributesEntry(\n        \"attributeTest\", \n        new MessageAttributeValue()\n            .withDataType(\"String\")\n            .withStringValue(\"attributeTest 123\"));\n</code></pre>\n\n<p>I cannot retrieve any of the message attributes in the message. All I see, as a result, is \"0 attributes.\". Reinspecting the message in Amazon SQS console, the message - and the attribute - are still there.</p>\n\n<pre><code>// Message was previously checked in SQS console and contains \n// an attribute named \"attributeTest\"\n\nAmazonSQS sqs = ...\nList&lt;Message&gt; messages = sqs.receiveMessage(receiveMessageRequest).getMessages();\nfor (Message : messages) \n{\n    Map&lt;String, MessageAttributeValue&gt; attributes = message.getMessageAttributes();\n    System.out.println(\"\" + attributes.size() + \" attributes.\");\n}\n</code></pre>\n\n<p>I am using Amazon SQS SDK v1.8 in Java 1.7 with Play Framework 2.2.3. At first I thought it could be the SQS version but tried upgrading to 1.8.7 with no avail.</p>\n\n<p>The official documentation found <a href=\"http://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/SQSMessageAttributes.html\" rel=\"noreferrer\">here</a> does not provide any sourcecode to read the attributes at all. Nor github searches, stack overflow. I've been trying for a few hours without any success.</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686310780,"post_id":76439387,"comment_id":134784784,"body_markdown":"Please show a [mcve]. Where else are you using ktableMaster since that&#39;s your error?","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Where else are you using ktableMaster since that&#39;s your error?"},{"owner":{"account_id":2871238,"reputation":185,"user_id":2464547,"accept_rate":75,"display_name":"Ignatius Samuel Megis"},"score":0,"creation_date":1686320446,"post_id":76439387,"comment_id":134786976,"body_markdown":"sorry,  I already edit,","body":"sorry,  I already edit,"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686357010,"post_id":76439387,"comment_id":134792378,"body_markdown":"Are you able to create two separate StreamsConfig properties, with two StreamBuilders , then run two separate topologies with unique `application.id`?","body":"Are you able to create two separate StreamsConfig properties, with two StreamBuilders , then run two separate topologies with unique <code>application.id</code>?"},{"owner":{"account_id":2871238,"reputation":185,"user_id":2464547,"accept_rate":75,"display_name":"Ignatius Samuel Megis"},"score":0,"creation_date":1686535266,"post_id":76439387,"comment_id":134806929,"body_markdown":"i see, let me try with different consumer.group. Thanks anyway @OneCricketeer","body":"i see, let me try with different consumer.group. Thanks anyway @OneCricketeer"}],"owner":{"account_id":2871238,"reputation":185,"user_id":2464547,"accept_rate":75,"display_name":"Ignatius Samuel Megis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686320129,"creation_date":1686306622,"question_id":76439387,"body_markdown":"I have trouble when create kstream from topic source A and B. topic A and B is different schema.\r\nso i build different stream in one project.\r\n\r\nhere snip my code :\r\n```\r\nString ktableMaster = &quot;TOPIC_NAME_MASTER&quot;;\r\n\r\npublic KStream&lt;String, SchemaA&gt; KstreamA(StreamsBuilder builder) {\r\n    KStream&lt;String, SchemaA&gt; kstreamA = builder.stream(sourceTopicA, Consumed.with(Serdes.String(), serdeA))\r\n                        .selectKey(&quot;specific-key&quot;);\r\n    }\r\n    KStream&lt;String, SchemaA&gt; schemaACompleteKstream = KstreamA.join(ktableMaster, (k, v) -&gt; k, new SchemaCompleteA()); \r\n    \r\n    schemaACompleteKstream\r\n                .map(new KeyValueMapper&lt;String, SchemaA, KeyValue&lt;? extends String, ? extends SchemaA&gt;&gt;() {\r\n                    @Override\r\n                    public KeyValue&lt;? extends String, ? extends SchemaA&gt; apply(String s, SchemaA SchemaCompleteA) {\r\n                        return new KeyValue&lt;&gt;(null, SchemaCompleteA);\r\n                    }\r\n                }).to(destTopicSchemaA, Produced.with(null, schemaASerdeComplete));\r\n```\r\n\r\nthen i build code for schema B in same class ,\r\n\r\n    public KStream&lt;String, SchemaB&gt; KstreamB(StreamsBuilder builder) {\r\n        KStream&lt;String, SchemaB&gt; kstreamB = builder.stream(sourceTopicB, Consumed.with(Serdes.String(), serdeB))\r\n                            .selectKey(&quot;specific-key&quot;);\r\n        }\r\n        KStream&lt;String, SchemaB&gt; schemaBCompleteKstream = KstreamB.join(ktableMaster, (k, v) -&gt; k, new SchemaCompleteB());\r\n        \r\n        schemaBCompleteKstream\r\n                    .map(new KeyValueMapper&lt;String, SchemaB, KeyValue&lt;? extends String, ? extends SchemaB&gt;&gt;() {\r\n                        @Override\r\n                        public KeyValue&lt;? extends String, ? extends SchemaB&gt; apply(String s, SchemaB SchemaCompleteB) {\r\n                            return new KeyValue&lt;&gt;(null, SchemaCompleteB);\r\n                        }\r\n                    }).to(destTopicSchemaB, Produced.with(null, schemaBSerdeComplete));\r\n\r\nthen i get eror like this \r\n\r\n&gt; Could not start stream: ; nested exception is org.apache.kafka.streams.errors.TopologyException: Invalid topology: Topic ktableMaster has already been registered by another source.\r\n\r\n I know i can&#39;t use one topology in join same topic ","title":"mutiple source topic and join master topic then produce to final topic","body":"<p>I have trouble when create kstream from topic source A and B. topic A and B is different schema.\nso i build different stream in one project.</p>\n<p>here snip my code :</p>\n<pre><code>String ktableMaster = &quot;TOPIC_NAME_MASTER&quot;;\n\npublic KStream&lt;String, SchemaA&gt; KstreamA(StreamsBuilder builder) {\n    KStream&lt;String, SchemaA&gt; kstreamA = builder.stream(sourceTopicA, Consumed.with(Serdes.String(), serdeA))\n                        .selectKey(&quot;specific-key&quot;);\n    }\n    KStream&lt;String, SchemaA&gt; schemaACompleteKstream = KstreamA.join(ktableMaster, (k, v) -&gt; k, new SchemaCompleteA()); \n    \n    schemaACompleteKstream\n                .map(new KeyValueMapper&lt;String, SchemaA, KeyValue&lt;? extends String, ? extends SchemaA&gt;&gt;() {\n                    @Override\n                    public KeyValue&lt;? extends String, ? extends SchemaA&gt; apply(String s, SchemaA SchemaCompleteA) {\n                        return new KeyValue&lt;&gt;(null, SchemaCompleteA);\n                    }\n                }).to(destTopicSchemaA, Produced.with(null, schemaASerdeComplete));\n</code></pre>\n<p>then i build code for schema B in same class ,</p>\n<pre><code>public KStream&lt;String, SchemaB&gt; KstreamB(StreamsBuilder builder) {\n    KStream&lt;String, SchemaB&gt; kstreamB = builder.stream(sourceTopicB, Consumed.with(Serdes.String(), serdeB))\n                        .selectKey(&quot;specific-key&quot;);\n    }\n    KStream&lt;String, SchemaB&gt; schemaBCompleteKstream = KstreamB.join(ktableMaster, (k, v) -&gt; k, new SchemaCompleteB());\n    \n    schemaBCompleteKstream\n                .map(new KeyValueMapper&lt;String, SchemaB, KeyValue&lt;? extends String, ? extends SchemaB&gt;&gt;() {\n                    @Override\n                    public KeyValue&lt;? extends String, ? extends SchemaB&gt; apply(String s, SchemaB SchemaCompleteB) {\n                        return new KeyValue&lt;&gt;(null, SchemaCompleteB);\n                    }\n                }).to(destTopicSchemaB, Produced.with(null, schemaBSerdeComplete));\n</code></pre>\n<p>then i get eror like this</p>\n<blockquote>\n<p>Could not start stream: ; nested exception is org.apache.kafka.streams.errors.TopologyException: Invalid topology: Topic ktableMaster has already been registered by another source.</p>\n</blockquote>\n<p>I know i can't use one topology in join same topic</p>\n"},{"tags":["java","spring-boot","spring-kafka","aws-msk"],"owner":{"account_id":24035636,"reputation":1,"user_id":18015953,"display_name":"dcandu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686320095,"creation_date":1686320095,"question_id":76441109,"body_markdown":"we&#39;re using containerized Spring boot application which connects to `MSK Apache Kafka 2.8.2` using this library `org.springframework.kafka 2.6.3`\r\nwe got a lot of errors, as example. \r\n\r\n```\r\njava.lang.IllegalStateException: This error handler cannot process &#39;java.lang.IllegalStateException&#39;s; no record information is available\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:151)\r\n\tat org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:113)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1394)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1095)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalStateException: Some partitions are unassigned but all consumers are at maximum capacity\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractStickyAssignor.constrainedAssign(AbstractStickyAssignor.java:248)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractStickyAssignor.assign(AbstractStickyAssignor.java:81)\r\n\tat org.apache.kafka.clients.consumer.CooperativeStickyAssignor.assign(CooperativeStickyAssignor.java:64)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractPartitionAssignor.assign(AbstractPartitionAssignor.java:66)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.performAssignment(ConsumerCoordinator.java:590)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.onJoinLeader(AbstractCoordinator.java:689)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.access$1400(AbstractCoordinator.java:111)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$JoinGroupResponseHandler.handle(AbstractCoordinator.java:602)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$JoinGroupResponseHandler.handle(AbstractCoordinator.java:575)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$CoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:1132)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator$CoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:1107)\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)\r\n\tat org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:419)\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:359)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:513)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1268)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1230)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1238)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1133)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1054)\r\n\t... 3 common frames omitted\r\n```\r\n\r\nBefore these storm of errors we got the following errors, but just few of them\r\n\r\n\r\n```\r\norg.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1134)\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:999)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1504)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doCommitSync(KafkaMessageListenerContainer.java:2351)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.commitSync(KafkaMessageListenerContainer.java:2346)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.ackImmediate(KafkaMessageListenerContainer.java:1471)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.processAck(KafkaMessageListenerContainer.java:1450)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2500(KafkaMessageListenerContainer.java:450)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ConsumerAcknowledgment.acknowledge(KafkaMessageListenerContainer.java:2484)\r\n\tat com.welikan.core.event_handler.api.BaseAcknowledgingTenantEventHandler.handle(BaseAcknowledgingTenantEventHandler.java:38)\r\n\tat com.welikan.core.common.services.kafka.impl.KafkaTenantTopicServiceImpl.lambda$buildOnMessageCallback$3(KafkaTenantTopicServiceImpl.java:93)\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:33)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2033)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2006)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1943)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1883)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1777)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1498)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1149)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1054)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nAlso in cloudwatch logs we have a lot of rebalances events.\r\n\r\n\r\nFor consumer we have the following configuration:\r\n```\r\nmax.poll.records = 50\r\npartition.assignment.strategy = CooperativeStickyAssignor\r\n```\r\n\r\nWe tried to increase `max.poll.intervall` from 5 minutes up to 10 minutes.","title":"Spring Kafka library consumer exception","body":"<p>we're using containerized Spring boot application which connects to <code>MSK Apache Kafka 2.8.2</code> using this library <code>org.springframework.kafka 2.6.3</code>\nwe got a lot of errors, as example.</p>\n<pre><code>java.lang.IllegalStateException: This error handler cannot process 'java.lang.IllegalStateException's; no record information is available\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:151)\n    at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:113)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1394)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1095)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalStateException: Some partitions are unassigned but all consumers are at maximum capacity\n    at org.apache.kafka.clients.consumer.internals.AbstractStickyAssignor.constrainedAssign(AbstractStickyAssignor.java:248)\n    at org.apache.kafka.clients.consumer.internals.AbstractStickyAssignor.assign(AbstractStickyAssignor.java:81)\n    at org.apache.kafka.clients.consumer.CooperativeStickyAssignor.assign(CooperativeStickyAssignor.java:64)\n    at org.apache.kafka.clients.consumer.internals.AbstractPartitionAssignor.assign(AbstractPartitionAssignor.java:66)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.performAssignment(ConsumerCoordinator.java:590)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.onJoinLeader(AbstractCoordinator.java:689)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.access$1400(AbstractCoordinator.java:111)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$JoinGroupResponseHandler.handle(AbstractCoordinator.java:602)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$JoinGroupResponseHandler.handle(AbstractCoordinator.java:575)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$CoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:1132)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator$CoordinatorResponseHandler.onSuccess(AbstractCoordinator.java:1107)\n    at org.apache.kafka.clients.consumer.internals.RequestFuture$1.onSuccess(RequestFuture.java:206)\n    at org.apache.kafka.clients.consumer.internals.RequestFuture.fireSuccess(RequestFuture.java:169)\n    at org.apache.kafka.clients.consumer.internals.RequestFuture.complete(RequestFuture.java:129)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient$RequestFutureCompletionHandler.fireCompletion(ConsumerNetworkClient.java:602)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.firePendingCompletedRequests(ConsumerNetworkClient.java:412)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:297)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236)\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:419)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:359)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:513)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1268)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1230)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1210)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1238)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1133)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1054)\n    ... 3 common frames omitted\n</code></pre>\n<p>Before these storm of errors we got the following errors, but just few of them</p>\n<pre><code>org.apache.kafka.clients.consumer.CommitFailedException: Offset commit cannot be completed since the consumer is not part of an active group for auto partition assignment; it is likely that the consumer was kicked out of the group.\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.sendOffsetCommitRequest(ConsumerCoordinator.java:1134)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.commitOffsetsSync(ConsumerCoordinator.java:999)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.commitSync(KafkaConsumer.java:1504)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doCommitSync(KafkaMessageListenerContainer.java:2351)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.commitSync(KafkaMessageListenerContainer.java:2346)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.ackImmediate(KafkaMessageListenerContainer.java:1471)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.processAck(KafkaMessageListenerContainer.java:1450)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2500(KafkaMessageListenerContainer.java:450)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$ConsumerAcknowledgment.acknowledge(KafkaMessageListenerContainer.java:2484)\n    at com.welikan.core.event_handler.api.BaseAcknowledgingTenantEventHandler.handle(BaseAcknowledgingTenantEventHandler.java:38)\n    at com.welikan.core.common.services.kafka.impl.KafkaTenantTopicServiceImpl.lambda$buildOnMessageCallback$3(KafkaTenantTopicServiceImpl.java:93)\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:33)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2033)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2006)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:1943)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:1883)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1777)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1498)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1149)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1054)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Also in cloudwatch logs we have a lot of rebalances events.</p>\n<p>For consumer we have the following configuration:</p>\n<pre><code>max.poll.records = 50\npartition.assignment.strategy = CooperativeStickyAssignor\n</code></pre>\n<p>We tried to increase <code>max.poll.intervall</code> from 5 minutes up to 10 minutes.</p>\n"},{"tags":["javascript","java","android","linux-device-driver","lineageos"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1686319878,"post_id":76441068,"comment_id":134786827,"body_markdown":"Why do you want a static IP address? What do you expect to do with this device?","body":"Why do you want a static IP address? What do you expect to do with this device?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686334080,"post_id":76441068,"comment_id":134789688,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"score":0,"creation_date":1686549769,"post_id":76441068,"comment_id":134807989,"body_markdown":"Hi @Community,  Once I have been loaded the fir_driver module the eth1 node will be created and using the following command I set the Ip for it &quot;$ ifconfig eth1 5.5.5.6 up&quot; after issuing the command the particular mentioned IP is assigned to the eth1 and making it down using following command &quot;$ ifconfig eth1 down&quot; and Making it Up using command &quot;$ ifconfig eth1 up&quot;,this case I am checking validate the particular given IP is persistent or not.  In this Case I am facing IP is Wavering. once the &quot;eth1&quot; is up. please, help me over to resolve this issue","body":"Hi @Community,  Once I have been loaded the fir_driver module the eth1 node will be created and using the following command I set the Ip for it &quot;$ ifconfig eth1 5.5.5.6 up&quot; after issuing the command the particular mentioned IP is assigned to the eth1 and making it down using following command &quot;$ ifconfig eth1 down&quot; and Making it Up using command &quot;$ ifconfig eth1 up&quot;,this case I am checking validate the particular given IP is persistent or not.  In this Case I am facing IP is Wavering. once the &quot;eth1&quot; is up. please, help me over to resolve this issue"},{"owner":{"account_id":5791001,"reputation":15534,"user_id":5264491,"display_name":"Ian Abbott"},"score":0,"creation_date":1686662453,"post_id":76441068,"comment_id":134827564,"body_markdown":"Can&#39;t you change it to static in the Android settings for the network connection? Another alternative would be to configure your DHCP server to reserve a fixed IP address for the MAC address so it always gets the same one.","body":"Can&#39;t you change it to static in the Android settings for the network connection? Another alternative would be to configure your DHCP server to reserve a fixed IP address for the MAC address so it always gets the same one."},{"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"score":0,"creation_date":1686759674,"post_id":76441068,"comment_id":134844408,"body_markdown":"Hi @IanAbbott, In my system I can&#39;t able to give a direct dhcp commands to make it disable, If I tried to issue the direct dhcp commands its throwing the error like &quot;inaccessable or not found&quot;. How I can add dhcp utility to my Android device?","body":"Hi @IanAbbott, In my system I can&#39;t able to give a direct dhcp commands to make it disable, If I tried to issue the direct dhcp commands its throwing the error like &quot;inaccessable or not found&quot;. How I can add dhcp utility to my Android device?"},{"owner":{"account_id":5791001,"reputation":15534,"user_id":5264491,"display_name":"Ian Abbott"},"score":0,"creation_date":1686760560,"post_id":76441068,"comment_id":134844597,"body_markdown":"On my phone, I go to &#39;Settings&#39; -&gt; &#39;Network &amp; Internet&#39; -&gt; &#39;Internet&#39;. I don&#39;t have an Ethernet connection, but I press the gear icon for the Wi-Fi connection I am using to go to the &#39;Network details&#39; dialog for that connection. Then I press the pencil icon to edit the details. Then expand the &#39;Advanced options&#39; section. Then under &#39;IP settings&#39; it is possible to choose between &#39;DHCP&#39; or &#39;Static&#39;. Selecting &#39;Static&#39; allows the IP address, gateway, network prefix length, and DNS server addresses to be configured.","body":"On my phone, I go to &#39;Settings&#39; -&gt; &#39;Network &amp; Internet&#39; -&gt; &#39;Internet&#39;. I don&#39;t have an Ethernet connection, but I press the gear icon for the Wi-Fi connection I am using to go to the &#39;Network details&#39; dialog for that connection. Then I press the pencil icon to edit the details. Then expand the &#39;Advanced options&#39; section. Then under &#39;IP settings&#39; it is possible to choose between &#39;DHCP&#39; or &#39;Static&#39;. Selecting &#39;Static&#39; allows the IP address, gateway, network prefix length, and DNS server addresses to be configured."},{"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"score":0,"creation_date":1686839098,"post_id":76441068,"comment_id":134856852,"body_markdown":"Hi, In the Issue that I have Mentioned, the DHCP not come into picture. Its Completely Statically communication establishment, I am able to set the static IP but once I made it DOWN and UP I can&#39;t able to see the IP that I have provided","body":"Hi, In the Issue that I have Mentioned, the DHCP not come into picture. Its Completely Statically communication establishment, I am able to set the static IP but once I made it DOWN and UP I can&#39;t able to see the IP that I have provided"},{"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"score":0,"creation_date":1686839319,"post_id":76441068,"comment_id":134856854,"body_markdown":"Hi, In the Issue that I have Mentioned, the DHCP not come into picture. Its Completely Statically communication establishment, I am able to set the static IP but once I made it DOWN and UP I can&#39;t able to see the IP that I have provided","body":"Hi, In the Issue that I have Mentioned, the DHCP not come into picture. Its Completely Statically communication establishment, I am able to set the static IP but once I made it DOWN and UP I can&#39;t able to see the IP that I have provided"},{"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"score":0,"creation_date":1687184741,"post_id":76441068,"comment_id":134897593,"body_markdown":"Hi,\n@Ian Abbott in this part I am Loading the Driver that Creates one interface node with no dynamic IP Address so DHCP not Came into picture, I can only able to set the static IP for that but its not persistent","body":"Hi, @Ian Abbott in this part I am Loading the Driver that Creates one interface node with no dynamic IP Address so DHCP not Came into picture, I can only able to set the static IP for that but its not persistent"}],"owner":{"account_id":23571513,"reputation":1,"user_id":17611596,"display_name":"Chaithra "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686319789,"creation_date":1686319789,"question_id":76441068,"body_markdown":"I am having jetson AGX Board with the Ethernet PCIE Connection and Installed Android 10 with Lineage 17.1-OS and I have Loaded the Fir_Driver Module. Once,the module has been loaded the ethernet node (interface) will be created. If I set the Static IP for that node and trying to make it up and down the IP is getting lost its not persistant. \r\n\r\nHow I can set the permanent static IP for the Ethernet node over PCIE Connection, which retains the persistant IP when I make it UP and DOWN also?\r\n\r\nPlease, help me over to resolve the issue.\r\n\r\nThanks,\r\nChaithra\r\n","title":"How to set permanent static IP for Android 10 for the ethernet Over PCIE Connection?","body":"<p>I am having jetson AGX Board with the Ethernet PCIE Connection and Installed Android 10 with Lineage 17.1-OS and I have Loaded the Fir_Driver Module. Once,the module has been loaded the ethernet node (interface) will be created. If I set the Static IP for that node and trying to make it up and down the IP is getting lost its not persistant.</p>\n<p>How I can set the permanent static IP for the Ethernet node over PCIE Connection, which retains the persistant IP when I make it UP and DOWN also?</p>\n<p>Please, help me over to resolve the issue.</p>\n<p>Thanks,\nChaithra</p>\n"},{"tags":["java","testing","interface","junit5"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1686326179,"post_id":76441020,"comment_id":134788216,"body_markdown":"There is also an _abstract class_, and also just basic inheritance of a parent class.  You can have the parent class hold the logic and the sub-classes hold the data.","body":"There is also an <i>abstract class</i>, and also just basic inheritance of a parent class.  You can have the parent class hold the logic and the sub-classes hold the data."}],"owner":{"account_id":3716204,"reputation":45,"user_id":3092355,"display_name":"SenorPez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686319436,"creation_date":1686319436,"question_id":76441020,"body_markdown":"As part of my integration tests, I have 5-6 &quot;example&quot; objects that are used to verify the various parts of the software come together correctly. For each of those example objects, I&#39;d like to define a &quot;standard set&quot; of tests to run.\r\n\r\nHow do I enforce that those tests are always written? Is an interface defining the tests appropriate? Or is there a better way?","title":"Require a Defined Test Set In Java","body":"<p>As part of my integration tests, I have 5-6 &quot;example&quot; objects that are used to verify the various parts of the software come together correctly. For each of those example objects, I'd like to define a &quot;standard set&quot; of tests to run.</p>\n<p>How do I enforce that those tests are always written? Is an interface defining the tests appropriate? Or is there a better way?</p>\n"},{"tags":["java","spring-boot","api","amazon-ec2"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1686326892,"post_id":76441008,"comment_id":134788388,"body_markdown":"Enough to ensure that someone else on the network can&#39;t intercept the secret?  Probably.  Enough to ensure a sufficiently motivated user can&#39;t intercept the secret?  [Absolutely not](https://security.stackexchange.com/questions/99952/how-to-intercepting-ios-https-traffic).","body":"Enough to ensure that someone else on the network can&#39;t intercept the secret?  Probably.  Enough to ensure a sufficiently motivated user can&#39;t intercept the secret?  <a href=\"https://security.stackexchange.com/questions/99952/how-to-intercepting-ios-https-traffic\">Absolutely not</a>."}],"owner":{"account_id":22467634,"reputation":1,"user_id":16668542,"display_name":"federzvz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686319342,"creation_date":1686319342,"question_id":76441008,"body_markdown":"Is it enough that my API is published on a server with HTTPS to be secure?\r\n\r\nI have an API built with JAVA + SpringBoot, it has the security of a SECRET, that is, for example, when I make a POST request from my mobile application, in the POST header I send a TOKEN which is a secret that in the backend (Java + SpringBoot) would be validating if the SECRET is correct.\r\n\r\nIt is then that I would like to know if by deploying my API on an AWS EC2 server which has HTTPS encryption, this would be enough so that my API requests cannot be inspected and that secret token is &quot;stolen&quot; giving them the green light to consume my API freely outside my mobile application.\r\n\r\nCurrently, how the API is built and since I am still working in localhost with the Backend in development mode, the requests to the backend go through HTTP (Not HTTPS) and I can inspect everything about the request to my API, it is then that I would like to encrypt all this and that the &quot;SECRET TOKEN&quot; cannot be visualized.\r\n\r\nI plan to make API requests from mobile applications made in React Native as well as from a web page.\r\n\r\nSo I wonder if deploying to an AWS EC2 server with HTTPS security would fix this.","title":"Is it enough that my SpringBoot API is published on a EC2 server with HTTPS to be secure?","body":"<p>Is it enough that my API is published on a server with HTTPS to be secure?</p>\n<p>I have an API built with JAVA + SpringBoot, it has the security of a SECRET, that is, for example, when I make a POST request from my mobile application, in the POST header I send a TOKEN which is a secret that in the backend (Java + SpringBoot) would be validating if the SECRET is correct.</p>\n<p>It is then that I would like to know if by deploying my API on an AWS EC2 server which has HTTPS encryption, this would be enough so that my API requests cannot be inspected and that secret token is &quot;stolen&quot; giving them the green light to consume my API freely outside my mobile application.</p>\n<p>Currently, how the API is built and since I am still working in localhost with the Backend in development mode, the requests to the backend go through HTTP (Not HTTPS) and I can inspect everything about the request to my API, it is then that I would like to encrypt all this and that the &quot;SECRET TOKEN&quot; cannot be visualized.</p>\n<p>I plan to make API requests from mobile applications made in React Native as well as from a web page.</p>\n<p>So I wonder if deploying to an AWS EC2 server with HTTPS security would fix this.</p>\n"},{"tags":["java","spring","swagger","openapi","swagger-2.0"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":1,"creation_date":1670415166,"post_id":74716286,"comment_id":131870365,"body_markdown":"Do you want to get error message in the swagger UI or when actually using your API/service?","body":"Do you want to get error message in the swagger UI or when actually using your API/service?"},{"owner":{"account_id":2296144,"reputation":739,"user_id":2017536,"accept_rate":62,"display_name":"Mumzee"},"score":0,"creation_date":1670416016,"post_id":74716286,"comment_id":131870681,"body_markdown":"When actually using the API, basically the response of the API should have the error message.","body":"When actually using the API, basically the response of the API should have the error message."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1670416347,"post_id":74716286,"comment_id":131870819,"body_markdown":"What Java framework / middleware do you use?","body":"What Java framework / middleware do you use?"},{"owner":{"account_id":2296144,"reputation":739,"user_id":2017536,"accept_rate":62,"display_name":"Mumzee"},"score":0,"creation_date":1670416806,"post_id":74716286,"comment_id":131871003,"body_markdown":"Springboot version 2.7.5","body":"Springboot version 2.7.5"},{"owner":{"account_id":1762272,"reputation":303,"user_id":1609041,"accept_rate":75,"display_name":"Saad Khan"},"score":0,"creation_date":1698769772,"post_id":74716286,"comment_id":136446358,"body_markdown":"I am looking for a way to show an error message in the swagger UI when a pattern match fails. Any suggestions","body":"I am looking for a way to show an error message in the swagger UI when a pattern match fails. Any suggestions"}],"owner":{"account_id":2296144,"reputation":739,"user_id":2017536,"accept_rate":62,"display_name":"Mumzee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686319166,"creation_date":1670413999,"question_id":74716286,"body_markdown":"I have a Swagger definition for a Rest API, with [regex patterns][1] for validation of fields in the request body. But when the validation fails, a default error message is thrown - \r\n`{field}: must match {regex pattern}`. With regex pattern in the error message, it makes less sense to the end user. How to customise this message preferably by using Swagger? I could add a handler in Java for 400 Bad request exception and handle it there, but that will be the last option, to modify java code. \r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/data-models/data-types/#pattern","title":"Custom validation error message in Swagger","body":"<p>I have a Swagger definition for a Rest API, with <a href=\"https://swagger.io/docs/specification/data-models/data-types/#pattern\" rel=\"nofollow noreferrer\">regex patterns</a> for validation of fields in the request body. But when the validation fails, a default error message is thrown -\n<code>{field}: must match {regex pattern}</code>. With regex pattern in the error message, it makes less sense to the end user. How to customise this message preferably by using Swagger? I could add a handler in Java for 400 Bad request exception and handle it there, but that will be the last option, to modify java code.</p>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1640501298,"post_id":70483980,"comment_id":124595435,"body_markdown":"You must read from the output stream,  now you are just calling toString(). What gets printed is not an adress, and is not the output from the command.","body":"You must read from the output stream,  now you are just calling toString(). What gets printed is not an adress, and is not the output from the command."},{"owner":{"account_id":16640376,"reputation":7,"user_id":12026064,"display_name":"user12026064"},"score":0,"creation_date":1640666297,"post_id":70483980,"comment_id":124627790,"body_markdown":"Open XTerm, type hcidump and hit enter. This &quot;process&quot; scans for other local BLE devices. If one is found then a report is displayed in the terminal while the process continues to scan until the user types cntl C. It is this &quot;real-time&quot; output that I want to duplicate in java/JFX. The methods suggested so far only seem to function after the process ends and then only if it ends naturally on it&#39;s own. I&#39;m nearly convinced that ProcessBuilder doesn&#39;t allow real-time transfer of process output. Maybe apache commons CommandLine will transfer real-time...","body":"Open XTerm, type hcidump and hit enter. This &quot;process&quot; scans for other local BLE devices. If one is found then a report is displayed in the terminal while the process continues to scan until the user types cntl C. It is this &quot;real-time&quot; output that I want to duplicate in java/JFX. The methods suggested so far only seem to function after the process ends and then only if it ends naturally on it&#39;s own. I&#39;m nearly convinced that ProcessBuilder doesn&#39;t allow real-time transfer of process output. Maybe apache commons CommandLine will transfer real-time..."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640699911,"post_id":70483980,"comment_id":124636422,"body_markdown":"@user12026064 Do you get &quot;immediately&quot; output when you use the &quot;ping&quot; command instead like in `.command(&quot;ping&quot;, &quot;-c&quot;, &quot;4&quot;, &quot;127.0.0.1&quot;)`?","body":"@user12026064 Do you get &quot;immediately&quot; output when you use the &quot;ping&quot; command instead like in <code>.command(&quot;ping&quot;, &quot;-c&quot;, &quot;4&quot;, &quot;127.0.0.1&quot;)</code>?"},{"owner":{"account_id":16640376,"reputation":7,"user_id":12026064,"display_name":"user12026064"},"score":0,"creation_date":1640706220,"post_id":70483980,"comment_id":124638549,"body_markdown":"Using the debug mode I see that once the sub-process .start() is executed the parent process waits until the sub=process ends. i.e. no subsequent code is executed. Well that&#39;s not a surprise. Others have claimed to solve this problem by creating another thread that runs in the background. Guess I&#39;ll work on that...","body":"Using the debug mode I see that once the sub-process .start() is executed the parent process waits until the sub=process ends. i.e. no subsequent code is executed. Well that&#39;s not a surprise. Others have claimed to solve this problem by creating another thread that runs in the background. Guess I&#39;ll work on that..."},{"owner":{"account_id":16640376,"reputation":7,"user_id":12026064,"display_name":"user12026064"},"score":0,"creation_date":1640706850,"post_id":70483980,"comment_id":124638783,"body_markdown":"Progman, yes, after a process terminates normally I get the appropriate output. The hcidump command does not normally terminate but runs until it&#39;s manually terminated. That is the whole problem. Thanks to all who have helped.","body":"Progman, yes, after a process terminates normally I get the appropriate output. The hcidump command does not normally terminate but runs until it&#39;s manually terminated. That is the whole problem. Thanks to all who have helped."}],"answers":[{"tags":[],"owner":{"account_id":21300608,"reputation":11,"user_id":15676420,"display_name":"Onur Uysal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686318942,"creation_date":1686318942,"answer_id":76440955,"question_id":70483980,"body_markdown":"I just had a similar problem and saw your question while searching for a solution. I could solve it eventually by using a buffered reader, writer, two threads as subclasses and a completable future.\r\n\r\nRight after creating the process I create these.\r\n\r\n    pb = new ProcessBuilder(/*Your command*/);\r\n\r\n        try {\r\n            setActiveProcess(pb.start());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        Thread wait = new Thread(new ProcessWait());\r\n        Thread read = new Thread(new AsyncRead());\r\n        read.start();\r\n        wait.start();\r\n\r\nThe set activeProcess method simply creates the reader and writer instances as follows\r\n\r\n    private void setActiveProcess(Process p) {\r\n        if (p == null) {\r\n            activeProcess = null;\r\n            writer = null;\r\n            reader = null;\r\n            readFinished = null;\r\n        }\r\n        else {\r\n            activeProcess = p;\r\n            writer = new BufferedWriter(new OutputStreamWriter(activeProcess.getOutputStream()));\r\n            reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            readFinished = new CompletableFuture&lt;Boolean&gt;();\r\n        }\r\n    }\r\n\r\nThen the read thread actively waits for process output\r\n\r\n    private class AsyncRead implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            int s;\r\n            try {\r\n                while (reader != null &amp;&amp; ((s = reader.read()) != -1)) {\r\n                    System.out.print((char)s);\r\n                }\r\n                if (readFinished != null) {\r\n                    readFinished.complete(true);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nand wait thread actively waits for process to finish without blocking\r\n\r\n     private class ProcessWait implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            int status = -1;\r\n            try {\r\n                status = activeProcess.waitFor();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (status != 0) {\r\n                System.err.println(&quot;Process failed&quot;);\r\n                return;\r\n            }\r\n            try {\r\n                Boolean finished = readFinished.get();\r\n                if (finished) {\r\n                    setActiveProcess(null);\r\n                    removeFiles();\r\n                }\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\nThe readFinished variable ensures that the process is not set to null before the reading is not over. I used it for compiling and running C++ programs you can see the whole code in : https://github.com/Onnrr/ProcessBuilderCppCompile","title":"ProcessBuilder process not providing real time output","body":"<p>I just had a similar problem and saw your question while searching for a solution. I could solve it eventually by using a buffered reader, writer, two threads as subclasses and a completable future.</p>\n<p>Right after creating the process I create these.</p>\n<pre><code>pb = new ProcessBuilder(/*Your command*/);\n\n    try {\n        setActiveProcess(pb.start());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    Thread wait = new Thread(new ProcessWait());\n    Thread read = new Thread(new AsyncRead());\n    read.start();\n    wait.start();\n</code></pre>\n<p>The set activeProcess method simply creates the reader and writer instances as follows</p>\n<pre><code>private void setActiveProcess(Process p) {\n    if (p == null) {\n        activeProcess = null;\n        writer = null;\n        reader = null;\n        readFinished = null;\n    }\n    else {\n        activeProcess = p;\n        writer = new BufferedWriter(new OutputStreamWriter(activeProcess.getOutputStream()));\n        reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        readFinished = new CompletableFuture&lt;Boolean&gt;();\n    }\n}\n</code></pre>\n<p>Then the read thread actively waits for process output</p>\n<pre><code>private class AsyncRead implements Runnable {\n    @Override\n    public void run() {\n        int s;\n        try {\n            while (reader != null &amp;&amp; ((s = reader.read()) != -1)) {\n                System.out.print((char)s);\n            }\n            if (readFinished != null) {\n                readFinished.complete(true);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>and wait thread actively waits for process to finish without blocking</p>\n<pre><code> private class ProcessWait implements Runnable {\n    @Override\n    public void run() {\n        int status = -1;\n        try {\n            status = activeProcess.waitFor();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        if (status != 0) {\n            System.err.println(&quot;Process failed&quot;);\n            return;\n        }\n        try {\n            Boolean finished = readFinished.get();\n            if (finished) {\n                setActiveProcess(null);\n                removeFiles();\n            }\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n        \n    }\n}\n</code></pre>\n<p>The readFinished variable ensures that the process is not set to null before the reading is not over. I used it for compiling and running C++ programs you can see the whole code in : <a href=\"https://github.com/Onnrr/ProcessBuilderCppCompile\" rel=\"nofollow noreferrer\">https://github.com/Onnrr/ProcessBuilderCppCompile</a></p>\n"}],"owner":{"account_id":16640376,"reputation":7,"user_id":12026064,"display_name":"user12026064"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686318942,"creation_date":1640487995,"question_id":70483980,"body_markdown":"I&#39;m running ProcessBuilder in a java program using eclipse IDE and Ubuntu 20.04. Specifically for bluetooth LE commands. For commands like &quot;hciconfig&quot; the process completes and I can print the output to the console or a textarea (JFX). Other commands like hcidump run continuously until manually terminated. For these commands I&#39;m unable to print the intermediate output while the process is running. I&#39;ve tried both the apache.commons CommandLine and the java ProcessBuilder methods probably 6 ways to sundown each. This should be a fairly straightforward task but so far no luck. Here is the java code:\r\n\r\n    Process pb = new ProcessBuilder()\r\n            .command(&quot;hcidump&quot;, &quot;-i&quot;, &quot;hci0&quot;)\r\n            .redirectOutput(ProcessBuilder.Redirect.INHERIT)\r\n            .start();\r\n\r\n\tSystem.out.println(pb.getOutputStream().toString());\r\n\r\nThe printed output stream appears to be an address:\r\njava.lang.ProcessImpl$ProcessPipeOutputStream@b06aa6f\r\n\r\nHow do I access the process output while the process is still running?\r\n\r\n\r\n","title":"ProcessBuilder process not providing real time output","body":"<p>I'm running ProcessBuilder in a java program using eclipse IDE and Ubuntu 20.04. Specifically for bluetooth LE commands. For commands like &quot;hciconfig&quot; the process completes and I can print the output to the console or a textarea (JFX). Other commands like hcidump run continuously until manually terminated. For these commands I'm unable to print the intermediate output while the process is running. I've tried both the apache.commons CommandLine and the java ProcessBuilder methods probably 6 ways to sundown each. This should be a fairly straightforward task but so far no luck. Here is the java code:</p>\n<pre><code>Process pb = new ProcessBuilder()\n        .command(&quot;hcidump&quot;, &quot;-i&quot;, &quot;hci0&quot;)\n        .redirectOutput(ProcessBuilder.Redirect.INHERIT)\n        .start();\n\nSystem.out.println(pb.getOutputStream().toString());\n</code></pre>\n<p>The printed output stream appears to be an address:\njava.lang.ProcessImpl$ProcessPipeOutputStream@b06aa6f</p>\n<p>How do I access the process output while the process is still running?</p>\n"},{"tags":["java","android","csv"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1686317639,"post_id":76440784,"comment_id":134786301,"body_markdown":"can you share the log","body":"can you share the log"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1686317790,"post_id":76440784,"comment_id":134786347,"body_markdown":"on the log you will find something like **cant fin file on XX/XXX/XX/raw/players.csv&quot;**\ni suggest to move the file to that location XX/XXX/XX/raw/players.csv","body":"on the log you will find something like <b>cant fin file on XX/XXX/XX/raw/players.csv&quot;</b> i suggest to move the file to that location XX/XXX/XX/raw/players.csv"},{"owner":{"account_id":26384098,"reputation":13,"user_id":20036903,"display_name":"Eduard Atoyan"},"score":0,"creation_date":1686317873,"post_id":76440784,"comment_id":134786373,"body_markdown":"But its in there","body":"But its in there"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1686318410,"post_id":76440784,"comment_id":134786511,"body_markdown":"`new FileReader(&quot;raw/players.csv&quot;)` means &quot;read the file &quot;&lt;user.dir&gt;/raw/players.cvs&quot;. &quot;user.dir&quot; is the directory in which the Java virtual machine is started. This is usually *not* your project directory. Try `System.out.println(System.getProperty(&quot;user.dir&quot;))`. If `raw/players.csv` is part of your project files, you might want to use [Class.getResourceAsStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)) instead. And do not use `FileReader`, use `InputStreamReader` with an explicitly specified file encoding.","body":"<code>new FileReader(&quot;raw&#47;players.csv&quot;)</code> means &quot;read the file &quot;&lt;user.dir&gt;/raw/players.cvs&quot;. &quot;user.dir&quot; is the directory in which the Java virtual machine is started. This is usually <i>not</i> your project directory. Try <code>System.out.println(System.getProperty(&quot;user.dir&quot;))</code>. If <code>raw&#47;players.csv</code> is part of your project files, you might want to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">Class.getResourceAsStream</a> instead. And do not use <code>FileReader</code>, use <code>InputStreamReader</code> with an explicitly specified file encoding."},{"owner":{"account_id":26384098,"reputation":13,"user_id":20036903,"display_name":"Eduard Atoyan"},"score":0,"creation_date":1686321214,"post_id":76440784,"comment_id":134787168,"body_markdown":"It worked, thanks","body":"It worked, thanks"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686327278,"post_id":76440784,"comment_id":134788465,"body_markdown":"As a note, you can use _.._ in the relative path name, also.  So, if it&#39;s off by one directory, you can use _&quot;../raw/players.csv&quot;_.","body":"As a note, you can use <i>..</i> in the relative path name, also.  So, if it&#39;s off by one directory, you can use <i>&quot;../raw/players.csv&quot;</i>."}],"answers":[{"comments":[{"owner":{"account_id":26384098,"reputation":13,"user_id":20036903,"display_name":"Eduard Atoyan"},"score":0,"creation_date":1686318971,"post_id":76440913,"comment_id":134786629,"body_markdown":"Sorry, but where do i put this method?","body":"Sorry, but where do i put this method?"},{"owner":{"account_id":4763954,"reputation":25,"user_id":3850612,"display_name":"vajnaivik"},"score":0,"creation_date":1686319401,"post_id":76440913,"comment_id":134786720,"body_markdown":"Somewhere in your existing code, so that it&#39;s called at some point.    \nIn this example you could insert it into PlayerManager even:    \n\n`private static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV() {  \n    newFileLocation();  \n  \n    List&lt;List&lt;String&gt;&gt; players = new ArrayList&lt;&gt;();  \n    return players;  \n}  \n\nprivate static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV2() {\n    // original code...\n}`","body":"Somewhere in your existing code, so that it&#39;s called at some point.     In this example you could insert it into PlayerManager even:      <code>private static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV() {       newFileLocation();          List&lt;List&lt;String&gt;&gt; players = new ArrayList&lt;&gt;();       return players;   }    private static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV2() {     &#47;&#47; original code... }</code>"},{"owner":{"account_id":4763954,"reputation":25,"user_id":3850612,"display_name":"vajnaivik"},"score":0,"creation_date":1686319739,"post_id":76440913,"comment_id":134786800,"body_markdown":"Sorry for the garbage formatting, I can&#39;t figure out linebreaks in this thing.","body":"Sorry for the garbage formatting, I can&#39;t figure out linebreaks in this thing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686322026,"post_id":76440913,"comment_id":134787356,"body_markdown":"@vajnaivik afaik you can&#39;t format code in comments. Getting the current directory is much simpler: it&#39;s in property `user.dir`","body":"@vajnaivik afaik you can&#39;t format code in comments. Getting the current directory is much simpler: it&#39;s in property <code>user.dir</code>"}],"tags":[],"owner":{"account_id":4763954,"reputation":25,"user_id":3850612,"display_name":"vajnaivik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686318602,"creation_date":1686318602,"answer_id":76440913,"question_id":76440784,"body_markdown":"The file is probably not at the location the program expects it.&lt;br&gt;\r\nTry creating a file with the method below, that will give you a clue where to put the input file.\r\n```\r\n    private static void newFileLocation() {\r\n        File test = new File(&quot;data.txt&quot;);\r\n\r\n        try {\r\n            test.createNewFile();\r\n            System.out.println(&quot;File created at: &quot; + test.getAbsolutePath());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Trying to get informaton from csv file","body":"<p>The file is probably not at the location the program expects it.<br>\nTry creating a file with the method below, that will give you a clue where to put the input file.</p>\n<pre><code>    private static void newFileLocation() {\n        File test = new File(&quot;data.txt&quot;);\n\n        try {\n            test.createNewFile();\n            System.out.println(&quot;File created at: &quot; + test.getAbsolutePath());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26384098,"reputation":13,"user_id":20036903,"display_name":"Eduard Atoyan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686318602,"creation_date":1686317560,"question_id":76440784,"body_markdown":"So i tried to get info from csv file and then filter it so i get six random rows which&#39;s 17nd column is equal to my string position which I get as an argument while calling function in other activity, the only thing that is not working is my CSV reader, in my logs it says could find file ENOENT, i tried litteraly evrything, but couldnt find solution, hope someone will help me with this\r\n\r\n\r\n     public class PlayerManager {\r\n    public static List&lt;List&lt;String&gt;&gt; getSixRandomPlayers(String position) {\r\n        List&lt;List&lt;String&gt;&gt; players = readPlayersFromCSV();\r\n        List&lt;List&lt;String&gt;&gt; filteredPlayers = filterPlayersByPosition(players, position);\r\n        return selectRandomPlayers(filteredPlayers, 6);\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV() {\r\n        List&lt;List&lt;String&gt;&gt; players = new ArrayList&lt;&gt;();\r\n        try (BufferedReader reader = new BufferedReader(new FileReader(&quot;raw/players.csv&quot;))) {\r\n            String line;\r\n\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                String[] playerData = line.split(&quot;,&quot;);\r\n                List&lt;String&gt; player = new ArrayList&lt;&gt;();\r\n                player.add(playerData[0]); // 1st column\r\n                player.add(playerData[2]); // 3rd column\r\n                player.add(playerData[6]); // 7nd column\r\n                player.add(playerData[13]); // 14nd column\r\n                player.add(playerData[7]); // 8th column\r\n                player.add(playerData[16]); // 16nd column\r\n                players.add(player);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return players;\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; filterPlayersByPosition(List&lt;List&lt;String&gt;&gt; players, String position) {\r\n        List&lt;List&lt;String&gt;&gt; filteredPlayers = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;String&gt; player : players) {\r\n            String playerPosition = player.get(16);\r\n            if (playerPosition.equals(position)) {\r\n                filteredPlayers.add(player);\r\n            }\r\n        }\r\n\r\n        return filteredPlayers;\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; selectRandomPlayers(List&lt;List&lt;String&gt;&gt; players, int count) {\r\n        Collections.shuffle(players);\r\n        return players.subList(0, Math.min(count, players.size()));\r\n    }\r\n}\r\n\r\n\r\nThis is the log\r\n2023-06-09 17:36:22.140 19626-19626/com.samsung.futtrivia W/System.err: java.io.FileNotFoundException: raw/players.csv: open failed: ENOENT (No such file or directory)\r\n","title":"Trying to get informaton from csv file","body":"<p>So i tried to get info from csv file and then filter it so i get six random rows which's 17nd column is equal to my string position which I get as an argument while calling function in other activity, the only thing that is not working is my CSV reader, in my logs it says could find file ENOENT, i tried litteraly evrything, but couldnt find solution, hope someone will help me with this</p>\n<pre><code> public class PlayerManager {\npublic static List&lt;List&lt;String&gt;&gt; getSixRandomPlayers(String position) {\n    List&lt;List&lt;String&gt;&gt; players = readPlayersFromCSV();\n    List&lt;List&lt;String&gt;&gt; filteredPlayers = filterPlayersByPosition(players, position);\n    return selectRandomPlayers(filteredPlayers, 6);\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; readPlayersFromCSV() {\n    List&lt;List&lt;String&gt;&gt; players = new ArrayList&lt;&gt;();\n    try (BufferedReader reader = new BufferedReader(new FileReader(&quot;raw/players.csv&quot;))) {\n        String line;\n\n\n        while ((line = reader.readLine()) != null) {\n            String[] playerData = line.split(&quot;,&quot;);\n            List&lt;String&gt; player = new ArrayList&lt;&gt;();\n            player.add(playerData[0]); // 1st column\n            player.add(playerData[2]); // 3rd column\n            player.add(playerData[6]); // 7nd column\n            player.add(playerData[13]); // 14nd column\n            player.add(playerData[7]); // 8th column\n            player.add(playerData[16]); // 16nd column\n            players.add(player);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return players;\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; filterPlayersByPosition(List&lt;List&lt;String&gt;&gt; players, String position) {\n    List&lt;List&lt;String&gt;&gt; filteredPlayers = new ArrayList&lt;&gt;();\n\n    for (List&lt;String&gt; player : players) {\n        String playerPosition = player.get(16);\n        if (playerPosition.equals(position)) {\n            filteredPlayers.add(player);\n        }\n    }\n\n    return filteredPlayers;\n}\n\nprivate static List&lt;List&lt;String&gt;&gt; selectRandomPlayers(List&lt;List&lt;String&gt;&gt; players, int count) {\n    Collections.shuffle(players);\n    return players.subList(0, Math.min(count, players.size()));\n}\n</code></pre>\n<p>}</p>\n<p>This is the log\n2023-06-09 17:36:22.140 19626-19626/com.samsung.futtrivia W/System.err: java.io.FileNotFoundException: raw/players.csv: open failed: ENOENT (No such file or directory)</p>\n"},{"tags":["java","internationalization","code-generation","properties-file"],"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1436162954,"post_id":31238644,"comment_id":50475467,"body_markdown":"This sounds a lot like the resource system in Android development... I wonder if it can be used for non-Android projects?","body":"This sounds a lot like the resource system in Android development... I wonder if it can be used for non-Android projects?"},{"owner":{"account_id":6647315,"reputation":1344,"user_id":5130921,"accept_rate":50,"display_name":"Aarjav"},"score":0,"creation_date":1453257107,"post_id":31238644,"comment_id":57519273,"body_markdown":"Would you want to use this http://owner.aeonbits.org/docs/welcome/ ? there are other useful features it provides which you maybe interested in such as the reload and hot reload stuff.","body":"Would you want to use this <a href=\"http://owner.aeonbits.org/docs/welcome/\" rel=\"nofollow noreferrer\">owner.aeonbits.org/docs/welcome</a> ? there are other useful features it provides which you maybe interested in such as the reload and hot reload stuff."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436163156,"creation_date":1436163156,"answer_id":31238790,"question_id":31238644,"body_markdown":"Best the other way around:\r\n\r\n    public enum Message {\r\n        HELLO_WORLD,\r\n        HELLO_UNIVERSE;\r\n\r\n        public String xlat(Locale locale) {\r\n            resourceBundle.getString(toString(), locale);\r\n        }\r\n    }\r\n\r\nGenerate from that enum a properties template. This can be repeated for new messages if your base language resides in a separate `..._en.properties`.\r\n\r\nThe generation can be done using values() - without parsing. Though maybe you want to introduce some annotation for properties comments or such.","title":"Generate string constants from properties file keys","body":"<p>Best the other way around:</p>\n\n<pre><code>public enum Message {\n    HELLO_WORLD,\n    HELLO_UNIVERSE;\n\n    public String xlat(Locale locale) {\n        resourceBundle.getString(toString(), locale);\n    }\n}\n</code></pre>\n\n<p>Generate from that enum a properties template. This can be repeated for new messages if your base language resides in a separate <code>..._en.properties</code>.</p>\n\n<p>The generation can be done using values() - without parsing. Though maybe you want to introduce some annotation for properties comments or such.</p>\n"},{"comments":[{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":0,"creation_date":1490547328,"post_id":31240254,"comment_id":73148929,"body_markdown":"Why do you append to the file?","body":"Why do you append to the file?"},{"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"score":0,"creation_date":1555918044,"post_id":31240254,"comment_id":98250937,"body_markdown":"in case you worry about sw engineering first read https://softwareengineering.stackexchange.com/questions/49572/is-it-a-bad-practice-to-have-an-interface-to-define-constants","body":"in case you worry about sw engineering first read <a href=\"https://softwareengineering.stackexchange.com/questions/49572/is-it-a-bad-practice-to-have-an-interface-to-define-constants\" title=\"is it a bad practice to have an interface to define constants\">softwareengineering.stackexchange.com/questions/49572/&hellip;</a>"}],"tags":[],"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1436168574,"creation_date":1436168574,"answer_id":31240254,"question_id":31238644,"body_markdown":"Following code will generate interface **MyProperties** in your root directory of the project then after you can use that interface anywhere.\r\n\r\n\tpublic class PropertiesToInterfaceGenerator {\r\n\t\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\tInputStream inputStream =PropertiesToInterfaceGenerator.class.getClassLoader().getResourceAsStream(&quot;xyz.properties&quot;);\r\n\t\t\tif(null != inputStream ){\r\n\t\t\t\tproperties.load(inputStream);\r\n\t\t\t}\r\n\t\t\tgenerate(properties);\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic static void generate(Properties properties) {\r\n\t\t\tEnumeration e = properties.propertyNames();\r\n\t\t\ttry {\r\n\t\t\t\tFileWriter aWriter = new FileWriter(&quot;MyProperties.java&quot;, true);\r\n\t\t\t\taWriter.write(&quot;public interface MyProperties{\\n&quot;);\r\n\t\t\t\twhile (e.hasMoreElements()) {\r\n\t\t\t\t\tString key = (String) e.nextElement();\r\n\t\t\t\t\tString val =  properties.getProperty(key);\r\n\t\t\t\t\taWriter.write(&quot;\\tpublic static String &quot;+key+&quot; = \\&quot;&quot;+val+&quot;\\&quot;;\\n&quot;);\r\n\t\t\t\t}\r\n\t\t\t\taWriter.write(&quot; }\\n&quot;);\r\n\t\t\t\taWriter.flush();      \r\n\t\t\t\taWriter.close();\r\n\t\t\t}catch(Exception ex){\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Generate string constants from properties file keys","body":"<p>Following code will generate interface <strong>MyProperties</strong> in your root directory of the project then after you can use that interface anywhere.</p>\n\n<pre><code>public class PropertiesToInterfaceGenerator {\n\n    public static void main(String[] args) throws IOException {\n\n        Properties properties = new Properties();\n        InputStream inputStream =PropertiesToInterfaceGenerator.class.getClassLoader().getResourceAsStream(\"xyz.properties\");\n        if(null != inputStream ){\n            properties.load(inputStream);\n        }\n        generate(properties);\n    }\n\n\n    public static void generate(Properties properties) {\n        Enumeration e = properties.propertyNames();\n        try {\n            FileWriter aWriter = new FileWriter(\"MyProperties.java\", true);\n            aWriter.write(\"public interface MyProperties{\\n\");\n            while (e.hasMoreElements()) {\n                String key = (String) e.nextElement();\n                String val =  properties.getProperty(key);\n                aWriter.write(\"\\tpublic static String \"+key+\" = \\\"\"+val+\"\\\";\\n\");\n            }\n            aWriter.write(\" }\\n\");\n            aWriter.flush();      \n            aWriter.close();\n        }catch(Exception ex){\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3587063,"reputation":272,"user_id":2993992,"accept_rate":29,"display_name":"Ming Zhu"},"score":0,"creation_date":1557511266,"post_id":34945040,"comment_id":98803636,"body_markdown":"It&#39;s only about the keys, which is a good idea to reference these keys in your code without a typo...","body":"It&#39;s only about the keys, which is a good idea to reference these keys in your code without a typo..."}],"tags":[],"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453964429,"creation_date":1453460268,"answer_id":34945040,"question_id":31238644,"body_markdown":"No, nobody has ever written such sort of plugin that have all capabilities you have expexted, because:\r\n\r\n* Internationalization may have A LOT OF entries, and you will eventually got a gigantic class, interface, enum or whatever on the end, which is bad.\r\n* A maven/gradle plugin do generate classes for you, but only at compile time. I see you mentioned *auto-completion*, which means you will need an IDE plugin, too, meaning a plugin for a building tool(gradle/ant/...) is not enough. The interaction betweeen these plugins could be error-prone.\r\n* Later in project, if you, or your colleagues, want a new translation entry, and you will have to regenerate the classes. That&#39;s a bit tiring.\r\n\r\nWhen dealing with internationalization, something like i18n is recommended.  If you don&#39;t want a new library or your project is small, you can opt to use eclipse&#39;s externalize strings function, for that, see \r\n\r\nAndriod: https://stackoverflow.com/questions/4527136/\r\n\r\nOther: [help.eclipse.org - Java development user guide &gt; Reference &gt; Wizards and Dialogs &gt; Externalize Strings Wizard](http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-wizard-externalize-strings.htm)","title":"Generate string constants from properties file keys","body":"<p>No, nobody has ever written such sort of plugin that have all capabilities you have expexted, because:</p>\n\n<ul>\n<li>Internationalization may have A LOT OF entries, and you will eventually got a gigantic class, interface, enum or whatever on the end, which is bad.</li>\n<li>A maven/gradle plugin do generate classes for you, but only at compile time. I see you mentioned <em>auto-completion</em>, which means you will need an IDE plugin, too, meaning a plugin for a building tool(gradle/ant/...) is not enough. The interaction betweeen these plugins could be error-prone.</li>\n<li>Later in project, if you, or your colleagues, want a new translation entry, and you will have to regenerate the classes. That's a bit tiring.</li>\n</ul>\n\n<p>When dealing with internationalization, something like i18n is recommended.  If you don't want a new library or your project is small, you can opt to use eclipse's externalize strings function, for that, see </p>\n\n<p>Andriod: <a href=\"https://stackoverflow.com/questions/4527136/\">Externalize strings for Android project</a></p>\n\n<p>Other: <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-wizard-externalize-strings.htm\" rel=\"nofollow noreferrer\">help.eclipse.org - Java development user guide > Reference > Wizards and Dialogs > Externalize Strings Wizard</a></p>\n"},{"tags":[],"owner":{"account_id":2930965,"reputation":10535,"user_id":2511197,"accept_rate":50,"display_name":"rec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686318548,"creation_date":1685359388,"answer_id":76356911,"question_id":31238644,"body_markdown":"Yes, apparently people have already written such code.\r\n\r\nHave a look at this project: https://github.com/kklisura/props-to-constants-generator\r\n\r\nFrom its intro section:\r\n\r\n&gt; props-to-constants-generator generates a constants class of keys in your properties file. This enables you to have compile time dependency of keys on a properties file.\r\n&gt;\r\n&gt; Technically, props-to-constants-generator is an Java annotation processor that processes PropertySourceConstants annotations which contain information from which properties file you wish to generate constants and output constants class name. For every PropertySourceConstants annotation, it reads a specified properties file and outputs the class containing constants of property keys.\r\n\r\nMaven supports Java annotation processor, so it should work with Maven - although I have not tried it myself (yet).\r\n\r\n**Update** The `props-to-constants-generator` works well when used in a command-line Maven build. Unfortunately, when used in Eclipse, the problem seems to be that the annotation processor is invoked before the `*.properties` files are copied to `target/classes` causing the processor to fail when doing a fresh build (cf. https://stackoverflow.com/a/55992061/2511197).","title":"Generate string constants from properties file keys","body":"<p>Yes, apparently people have already written such code.</p>\n<p>Have a look at this project: <a href=\"https://github.com/kklisura/props-to-constants-generator\" rel=\"nofollow noreferrer\">https://github.com/kklisura/props-to-constants-generator</a></p>\n<p>From its intro section:</p>\n<blockquote>\n<p>props-to-constants-generator generates a constants class of keys in your properties file. This enables you to have compile time dependency of keys on a properties file.</p>\n<p>Technically, props-to-constants-generator is an Java annotation processor that processes PropertySourceConstants annotations which contain information from which properties file you wish to generate constants and output constants class name. For every PropertySourceConstants annotation, it reads a specified properties file and outputs the class containing constants of property keys.</p>\n</blockquote>\n<p>Maven supports Java annotation processor, so it should work with Maven - although I have not tried it myself (yet).</p>\n<p><strong>Update</strong> The <code>props-to-constants-generator</code> works well when used in a command-line Maven build. Unfortunately, when used in Eclipse, the problem seems to be that the annotation processor is invoked before the <code>*.properties</code> files are copied to <code>target/classes</code> causing the processor to fail when doing a fresh build (cf. <a href=\"https://stackoverflow.com/a/55992061/2511197\">https://stackoverflow.com/a/55992061/2511197</a>).</p>\n"}],"owner":{"account_id":160565,"reputation":4062,"user_id":380722,"accept_rate":56,"display_name":"imgx64"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2431,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31240254,"answer_count":4,"score":7,"last_activity_date":1686318548,"creation_date":1436162414,"question_id":31238644,"body_markdown":"I&#39;m using .properties files for message internationalization. For example:\r\n\r\n    HELLO_WORLD = Hello World\r\n    HELLO_UNIVERSE = Hello Universe\r\n\r\nAnd then in Java code:\r\n\r\n    String foo = resourceBundle.getString(&quot;HELLO_WORLD&quot;);\r\n\r\nString literals like `&quot;HELLO_WORLD&quot;` are problematic because they&#39;re error-prone and can&#39;t be autocompleted. I&#39;d like to generate code from the keys in the properties file like this:\r\n\r\n    public interface Messages { // Or abstract class with private constructor\r\n        public static final String HELLO_WORLD = &quot;HELLO_WORLD&quot;;\r\n        public static final String HELLO_UNIVERSE = &quot;HELLO_UNIVERSE&quot;;\r\n    }\r\n\r\nAnd then use it like this:\r\n\r\n    String foo = resourceBundle.getString(Messages.HELLO_WORLD);\r\n\r\nIs there a standard way to do this? I prefer a Maven plugin, but any stand-alone tool that I can run manually would be good enough for my needs.","title":"Generate string constants from properties file keys","body":"<p>I'm using .properties files for message internationalization. For example:</p>\n\n<pre><code>HELLO_WORLD = Hello World\nHELLO_UNIVERSE = Hello Universe\n</code></pre>\n\n<p>And then in Java code:</p>\n\n<pre><code>String foo = resourceBundle.getString(\"HELLO_WORLD\");\n</code></pre>\n\n<p>String literals like <code>\"HELLO_WORLD\"</code> are problematic because they're error-prone and can't be autocompleted. I'd like to generate code from the keys in the properties file like this:</p>\n\n<pre><code>public interface Messages { // Or abstract class with private constructor\n    public static final String HELLO_WORLD = \"HELLO_WORLD\";\n    public static final String HELLO_UNIVERSE = \"HELLO_UNIVERSE\";\n}\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>String foo = resourceBundle.getString(Messages.HELLO_WORLD);\n</code></pre>\n\n<p>Is there a standard way to do this? I prefer a Maven plugin, but any stand-alone tool that I can run manually would be good enough for my needs.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686310494,"post_id":76439589,"comment_id":134784731,"body_markdown":"Did you try mvn -X ... ?","body":"Did you try mvn -X ... ?"},{"owner":{"account_id":5577000,"reputation":1315,"user_id":4420124,"accept_rate":100,"display_name":"Laszlowaty"},"score":0,"creation_date":1686311037,"post_id":76439589,"comment_id":134784843,"body_markdown":"Yes, it didn&#39;t help :)","body":"Yes, it didn&#39;t help :)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686311288,"post_id":76439589,"comment_id":134784888,"body_markdown":"Which version is defined? Is it a SNAPSHOT version? If it&#39;s not there maven can not download ... which Maven version do you use? Please show the log output ?","body":"Which version is defined? Is it a SNAPSHOT version? If it&#39;s not there maven can not download ... which Maven version do you use? Please show the log output ?"}],"answers":[{"tags":[],"owner":{"account_id":5577000,"reputation":1315,"user_id":4420124,"accept_rate":100,"display_name":"Laszlowaty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686318390,"creation_date":1686311117,"answer_id":76439890,"question_id":76439589,"body_markdown":"Ok, what actually helped was to create mock-library with the same version and name as the original and put it in my .m2 folder. This wasy `dependency:tree` command finished successfully. ","title":"Dependency missing from the artifactory. How to find which pom requires it?","body":"<p>Ok, what actually helped was to create mock-library with the same version and name as the original and put it in my .m2 folder. This wasy <code>dependency:tree</code> command finished successfully.</p>\n"}],"owner":{"account_id":5577000,"reputation":1315,"user_id":4420124,"accept_rate":100,"display_name":"Laszlowaty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439890,"answer_count":1,"score":0,"last_activity_date":1686318390,"creation_date":1686308224,"question_id":76439589,"body_markdown":"I have kinda strange problem. Maven is not able to download one of the **internal** dependencies - this dependency doesn&#39;t exist in artifactory for version that is required. I want to find where it comes from, so I can update pom file to specify correct version.\r\n\r\nLet&#39;s call this dependency `com.x.y`\r\n\r\nWhat was tried:\r\n - Checking all poms in project - no `com.x.y` anywhere. I was using both `grep` command and later manually going through the files.\r\n - I have checked bitbucket, all connected projects using find option. There was dependency `com.x.y` in some of the poms, but in different versions (so it didn&#39;t help)\r\n- I grepped my `~/.m2/repositories` - it did find dependency, but in the different version.\r\n- Obviosly I&#39;ve tried various `mvn dependency:tree` and `mvn dependency:analyze` - command failed, because, well, it wasn&#39;t able to download `com.x.y` from the artifactory (maybe there is some switch to make it work? I couldn&#39;t find any).\r\n\r\nSo, how do I find out where this dependency is defined?","title":"Dependency missing from the artifactory. How to find which pom requires it?","body":"<p>I have kinda strange problem. Maven is not able to download one of the <strong>internal</strong> dependencies - this dependency doesn't exist in artifactory for version that is required. I want to find where it comes from, so I can update pom file to specify correct version.</p>\n<p>Let's call this dependency <code>com.x.y</code></p>\n<p>What was tried:</p>\n<ul>\n<li>Checking all poms in project - no <code>com.x.y</code> anywhere. I was using both <code>grep</code> command and later manually going through the files.</li>\n<li>I have checked bitbucket, all connected projects using find option. There was dependency <code>com.x.y</code> in some of the poms, but in different versions (so it didn't help)</li>\n<li>I grepped my <code>~/.m2/repositories</code> - it did find dependency, but in the different version.</li>\n<li>Obviosly I've tried various <code>mvn dependency:tree</code> and <code>mvn dependency:analyze</code> - command failed, because, well, it wasn't able to download <code>com.x.y</code> from the artifactory (maybe there is some switch to make it work? I couldn't find any).</li>\n</ul>\n<p>So, how do I find out where this dependency is defined?</p>\n"},{"tags":["java","selenium","automated-tests","ui-automation","selenium-webdriver"],"comments":[{"owner":{"account_id":1789022,"reputation":899,"user_id":1629833,"accept_rate":68,"display_name":"Mike"},"score":0,"creation_date":1349350583,"post_id":12725982,"comment_id":17187668,"body_markdown":"@Zohaib: I click on YES if i find the post useful. How do i accept an answers. Please help. Thanks","body":"@Zohaib: I click on YES if i find the post useful. How do i accept an answers. Please help. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349351168,"creation_date":1349351168,"answer_id":12726566,"question_id":12725982,"body_markdown":"Record your test through selenium ide and export it to selenium rc junit or testng as per your wish.\r\n\r\nThere will be a line like **selenium.selectFrame(frameName)**.. Use the same frame name in **driver.switchToFrame(frameName).**","title":"How do I switch to a Frame and click on the pop up using web driver (Selenium - Java)?","body":"<p>Record your test through selenium ide and export it to selenium rc junit or testng as per your wish.</p>\n\n<p>There will be a line like <strong>selenium.selectFrame(frameName)</strong>.. Use the same frame name in <strong>driver.switchToFrame(frameName).</strong></p>\n"},{"comments":[{"owner":{"account_id":1789022,"reputation":899,"user_id":1629833,"accept_rate":68,"display_name":"Mike"},"score":0,"creation_date":1349685700,"post_id":12746070,"comment_id":17271687,"body_markdown":"Thanks... How do I accept this answer as the correct one.. I don&#39;t have accept answer option... Thanks....","body":"Thanks... How do I accept this answer as the correct one.. I don&#39;t have accept answer option... Thanks...."}],"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1349439312,"creation_date":1349439312,"answer_id":12746070,"question_id":12725982,"body_markdown":"If the frame is the only frame on the page then you can go with\r\n\r\n`driver.switch.frame(0);`  //not a good way though\r\n\r\nor\r\n\r\nyou can use xpath or anything to identify your iframe and then use that as below\r\n\r\n    driver.switch.frame(driver.findElementByXpath(&quot;//iframe[contains(@src,&#39;forsee&#39;)]&quot;))\r\n\r\nThe element identification should be unique..the xpath given above is just one way..but it might not be unique..depends on your entire html.\r\n\r\nHope that helps..\r\n","title":"How do I switch to a Frame and click on the pop up using web driver (Selenium - Java)?","body":"<p>If the frame is the only frame on the page then you can go with</p>\n\n<p><code>driver.switch.frame(0);</code>  //not a good way though</p>\n\n<p>or</p>\n\n<p>you can use xpath or anything to identify your iframe and then use that as below</p>\n\n<pre><code>driver.switch.frame(driver.findElementByXpath(\"//iframe[contains(@src,'forsee')]\"))\n</code></pre>\n\n<p>The element identification should be unique..the xpath given above is just one way..but it might not be unique..depends on your entire html.</p>\n\n<p>Hope that helps..</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686321767,"post_id":76440818,"comment_id":134787290,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76440818/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"score":0,"creation_date":1686544251,"post_id":76440818,"comment_id":134807519,"body_markdown":"This I have solved myself by navigating till the month. I just need to select the date now.","body":"This I have solved myself by navigating till the month. I just need to select the date now."}],"tags":[],"owner":{"account_id":26164749,"reputation":1,"user_id":19850733,"display_name":"Chinmay Agrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686317852,"creation_date":1686317852,"answer_id":76440818,"question_id":12725982,"body_markdown":"@niharika_neo - I have tried both ways in my case but, it didn&#39;t work. I was facing problem in a calendar pop-up which had month-year written in between and navigating arrows on other 2 sides.","title":"How do I switch to a Frame and click on the pop up using web driver (Selenium - Java)?","body":"<p>@niharika_neo - I have tried both ways in my case but, it didn't work. I was facing problem in a calendar pop-up which had month-year written in between and navigating arrows on other 2 sides.</p>\n"}],"owner":{"account_id":1789022,"reputation":899,"user_id":1629833,"accept_rate":68,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12746070,"answer_count":3,"score":2,"last_activity_date":1686317852,"creation_date":1349348995,"question_id":12725982,"body_markdown":"    &lt;iframe height=&quot;0&quot; frameborder=&quot;0&quot; width=&quot;500&quot; scrolling=&quot;no&quot; style=&quot;position: absolute; top: 185.5px; left: 460.5px; height: 357px; width: 500px; z-index: 10002; border: medium none; background-color: rgb(255, 255, 255); opacity: 0;&quot; src=&quot;/foresee/shim.gif&quot; alt=&quot;Survey Invitation Helper Window - Please Ignore&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; height=device-height;&quot;&gt;\r\n    &lt;style&gt;\r\n    &lt;title&gt;shim.gif (GIF Image, 1&amp;nbsp;&#215;&amp;nbsp;1 pixels)&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;img src=&quot;https://www3-qan.tivo.com/foresee/shim.gif&quot; alt=&quot;https://www3-qan.tivo.com/foresee/shim.gif&quot;&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    &lt;/iframe&gt;\r\n    &lt;div class=&quot;fsrwin&quot; style=&quot;position: absolute; width: 500px; z-index: 10005; left: 460.5px; top: 185.5px; opacity: 1;&quot;&gt;\r\n    &lt;div class=&quot;innerwin&quot;&gt;\r\n    &lt;div class=&quot;fsr_top&quot;&gt;\r\n    &lt;div class=&quot;fsr_middle&quot;&gt;\r\n    &lt;div class=&quot;fsr_closeBody fsr_closeButtons&quot;&gt;\r\n    &lt;button id=&quot;decline&quot; class=&quot;fsr_closeSticky fsr_button fsr_decline&quot;&gt;No thanks&lt;/button&gt;\r\n    &lt;button id=&quot;accept&quot; class=&quot;fsr_closeSticky fsr_button fsr_accept&quot;&gt;Yes, I&#39;ll give feedback&lt;/button&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\nI understand that I should switch to frame in order to do to any operations in the frame.\r\n\r\nMy problem in there is:\r\n\r\n - How do I switch to frame? (I am not able to figure out the right\r\n   locator to use in the switch statement (driver.switchto().frame(&quot;WHAT\r\n   SHOULD GO IN HERE&quot;)))?\r\n   \r\n - Is there a way to check if this frame exists when i navigate to a new\r\n   page every time?\r\n\r\nThanks a ton for the help....\r\nMike","title":"How do I switch to a Frame and click on the pop up using web driver (Selenium - Java)?","body":"<pre><code>&lt;iframe height=\"0\" frameborder=\"0\" width=\"500\" scrolling=\"no\" style=\"position: absolute; top: 185.5px; left: 460.5px; height: 357px; width: 500px; z-index: 10002; border: medium none; background-color: rgb(255, 255, 255); opacity: 0;\" src=\"/foresee/shim.gif\" alt=\"Survey Invitation Helper Window - Please Ignore\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width; height=device-height;\"&gt;\n&lt;style&gt;\n&lt;title&gt;shim.gif (GIF Image, 1&amp;nbsp;×&amp;nbsp;1 pixels)&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;img src=\"https://www3-qan.tivo.com/foresee/shim.gif\" alt=\"https://www3-qan.tivo.com/foresee/shim.gif\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;/iframe&gt;\n&lt;div class=\"fsrwin\" style=\"position: absolute; width: 500px; z-index: 10005; left: 460.5px; top: 185.5px; opacity: 1;\"&gt;\n&lt;div class=\"innerwin\"&gt;\n&lt;div class=\"fsr_top\"&gt;\n&lt;div class=\"fsr_middle\"&gt;\n&lt;div class=\"fsr_closeBody fsr_closeButtons\"&gt;\n&lt;button id=\"decline\" class=\"fsr_closeSticky fsr_button fsr_decline\"&gt;No thanks&lt;/button&gt;\n&lt;button id=\"accept\" class=\"fsr_closeSticky fsr_button fsr_accept\"&gt;Yes, I'll give feedback&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I understand that I should switch to frame in order to do to any operations in the frame.</p>\n\n<p>My problem in there is:</p>\n\n<ul>\n<li><p>How do I switch to frame? (I am not able to figure out the right\nlocator to use in the switch statement (driver.switchto().frame(\"WHAT\nSHOULD GO IN HERE\")))?</p></li>\n<li><p>Is there a way to check if this frame exists when i navigate to a new\npage every time?</p></li>\n</ul>\n\n<p>Thanks a ton for the help....\nMike</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686320171,"post_id":76440712,"comment_id":134786910,"body_markdown":"Use `org.hibernate.dialect.Oracle10gDialect`; see the duplink for the explanation.","body":"Use <code>org.hibernate.dialect.Oracle10gDialect</code>; see the duplink for the explanation."}],"owner":{"account_id":26298814,"reputation":1,"user_id":19964606,"display_name":"SATHEESH MUNNA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686320143,"answer_count":0,"score":0,"last_activity_date":1686317833,"creation_date":1686317028,"question_id":76440712,"body_markdown":"Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle11gDialect] as strategy [org.hibernate.dialect.Dialect]\r\n\r\nThe configuration in application.properties file is \r\n\r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\r\nspring.datasource.username=bms\r\nspring.datasource.password=system\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle11gDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nHow to resolve this problem?\r\nI have tried but it&#39;s not working\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.Oracle11gDialect","body":"<p>Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.Oracle11gDialect] as strategy [org.hibernate.dialect.Dialect]</p>\n<p>The configuration in application.properties file is</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@localhost:1521:xe\nspring.datasource.username=bms\nspring.datasource.password=system\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.Oracle11gDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>How to resolve this problem?\nI have tried but it's not working</p>\n"},{"tags":["java","opengl","2d","lwjgl"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1686012470,"post_id":76410578,"comment_id":134737981,"body_markdown":"We&#39;d need to see the CPU code that drives this, but I think what is going on is that you pass only one light at a time to the vertex and fragment shaders.  So where the lights meet, there should be overlapping light sources (more than one light) and instead you get a hard and kind of arbitrary boundary where ever the last tile got drawn.","body":"We&#39;d need to see the CPU code that drives this, but I think what is going on is that you pass only one light at a time to the vertex and fragment shaders.  So where the lights meet, there should be overlapping light sources (more than one light) and instead you get a hard and kind of arbitrary boundary where ever the last tile got drawn."},{"owner":{"account_id":22425632,"reputation":3106,"user_id":16632281,"display_name":"Yun"},"score":0,"creation_date":1686023069,"post_id":76410578,"comment_id":134738760,"body_markdown":"To add to markspace: what you&#39;ll want to do, is to have multiple lights in the shaders (e.g. an array of lights) and loop over them, adding their diffuse contributions. If the object uses ambient light, then only add it once.","body":"To add to markspace: what you&#39;ll want to do, is to have multiple lights in the shaders (e.g. an array of lights) and loop over them, adding their diffuse contributions. If the object uses ambient light, then only add it once."},{"owner":{"account_id":28760672,"reputation":1,"user_id":22026640,"display_name":"Philliam"},"score":0,"creation_date":1686165837,"post_id":76410578,"comment_id":134763444,"body_markdown":"Yeah, you are probably right. I feel kinda dumb for not realizing that on my own. I will try it out and post the result.","body":"Yeah, you are probably right. I feel kinda dumb for not realizing that on my own. I will try it out and post the result."},{"owner":{"account_id":28760672,"reputation":1,"user_id":22026640,"display_name":"Philliam"},"score":0,"creation_date":1686169086,"post_id":76410578,"comment_id":134764009,"body_markdown":"Yes it worked! Thank you, guys.","body":"Yes it worked! Thank you, guys."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1686194074,"post_id":76410578,"comment_id":134766629,"body_markdown":"What&#39;s the lightPosition? Only one light is being accounted for in each pixel, which is the one whose lightPosition you used","body":"What&#39;s the lightPosition? Only one light is being accounted for in each pixel, which is the one whose lightPosition you used"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686599229,"post_id":76440807,"comment_id":134818229,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76440807/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28760672,"reputation":1,"user_id":22026640,"display_name":"Philliam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686317773,"creation_date":1686317773,"answer_id":76440807,"question_id":76410578,"body_markdown":"The problem was that I only sent one light to the shader. Fixed it easily buy sending in an array of lights.","title":"How do I make multiple 2D lights in OpenGL look good","body":"<p>The problem was that I only sent one light to the shader. Fixed it easily buy sending in an array of lights.</p>\n"}],"owner":{"account_id":28760672,"reputation":1,"user_id":22026640,"display_name":"Philliam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686317773,"creation_date":1686007803,"question_id":76410578,"body_markdown":"I am making a 2D top-down game using LWJGL. I have implemented multiple point lights using shaders but they don&#180;t look good. Or they do look good until the lights meet. I will put screenshots and the code below:\r\n\r\n[![Screenshot][1]][1]\r\n\r\nVertex shader:\r\n```\r\n#version 400 core\r\n\r\nin vec2 position;\r\nin vec2 texCoords;\r\n\r\nout vec2 passTexCoords;\r\nout float lightDistance;\r\n\r\nuniform mat4 uProjection;\r\nuniform mat4 uView;\r\nuniform vec2 lightPosition;\r\nuniform float aspect;\r\n\r\nvoid main(void) {\r\n\tgl_Position = uProjection * uView * vec4(position, 1.0, 1.0);\r\n\tpassTexCoords = texCoords;\r\n\r\n\tvec4 cameraLightPos = uProjection * uView * vec4(lightPosition, 1.0, 1.0);\r\n\tvec2 finalLightPos = vec2(cameraLightPos.x * aspect, cameraLightPos.y);\r\n\tvec2 finalPos = vec2(gl_Position.x * aspect, gl_Position.y);\r\n\tlightDistance = distance(finalLightPos, finalPos);\r\n}\r\n```\r\n\r\nFragment shader:\r\n```\r\n#version 400 core\r\n\r\nin vec2 passTexCoords;\r\nin float lightDistance;\r\n\r\nuniform sampler2D textureSampler;\r\nuniform vec3 lightColor;\r\nuniform float lightIntensity;\r\nuniform bool affectedByAmbient;\r\nuniform vec3 ambientColor;\r\nuniform vec3 fontColor;\r\n\r\nvoid main(void) {\r\n\tvec4 tex_color = texture(textureSampler, passTexCoords);\r\n\tif (tex_color.a &lt; 1.0)\r\n\t\tdiscard;\r\n\r\n\tfloat diffuse = 0.0;\r\n\r\n\tif (lightDistance &lt;= lightIntensity)\r\n\t\tdiffuse = 1.0 - abs(lightDistance / lightIntensity);\r\n\r\n\tif (affectedByAmbient)\r\n\t\tgl_FragColor = vec4(\r\n\t\t\t\tmin(tex_color.rgb * ((lightColor * diffuse) + ambientColor),\r\n\t\t\t\t\t\ttex_color.rgb), 1.0);\r\n\telse\r\n\t\tgl_FragColor = vec4(\r\n\t\t\t\tmin(\r\n\t\t\t\t\t\t(tex_color.rgb * fontColor)\r\n\t\t\t\t\t\t\t\t* ((lightColor * diffuse) + vec3(1, 1, 1)),\r\n\t\t\t\t\t\ttex_color.rgb), 1.0);\r\n}\r\n```\r\n\r\nAs you can see when 2 or more lights meet it doesn&#39;t look good. I have no idea on how to fix this so I would greatly appreciate some help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KSt8p.png","title":"How do I make multiple 2D lights in OpenGL look good","body":"<p>I am making a 2D top-down game using LWJGL. I have implemented multiple point lights using shaders but they don´t look good. Or they do look good until the lights meet. I will put screenshots and the code below:</p>\n<p><a href=\"https://i.stack.imgur.com/KSt8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSt8p.png\" alt=\"Screenshot\" /></a></p>\n<p>Vertex shader:</p>\n<pre><code>#version 400 core\n\nin vec2 position;\nin vec2 texCoords;\n\nout vec2 passTexCoords;\nout float lightDistance;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform vec2 lightPosition;\nuniform float aspect;\n\nvoid main(void) {\n    gl_Position = uProjection * uView * vec4(position, 1.0, 1.0);\n    passTexCoords = texCoords;\n\n    vec4 cameraLightPos = uProjection * uView * vec4(lightPosition, 1.0, 1.0);\n    vec2 finalLightPos = vec2(cameraLightPos.x * aspect, cameraLightPos.y);\n    vec2 finalPos = vec2(gl_Position.x * aspect, gl_Position.y);\n    lightDistance = distance(finalLightPos, finalPos);\n}\n</code></pre>\n<p>Fragment shader:</p>\n<pre><code>#version 400 core\n\nin vec2 passTexCoords;\nin float lightDistance;\n\nuniform sampler2D textureSampler;\nuniform vec3 lightColor;\nuniform float lightIntensity;\nuniform bool affectedByAmbient;\nuniform vec3 ambientColor;\nuniform vec3 fontColor;\n\nvoid main(void) {\n    vec4 tex_color = texture(textureSampler, passTexCoords);\n    if (tex_color.a &lt; 1.0)\n        discard;\n\n    float diffuse = 0.0;\n\n    if (lightDistance &lt;= lightIntensity)\n        diffuse = 1.0 - abs(lightDistance / lightIntensity);\n\n    if (affectedByAmbient)\n        gl_FragColor = vec4(\n                min(tex_color.rgb * ((lightColor * diffuse) + ambientColor),\n                        tex_color.rgb), 1.0);\n    else\n        gl_FragColor = vec4(\n                min(\n                        (tex_color.rgb * fontColor)\n                                * ((lightColor * diffuse) + vec3(1, 1, 1)),\n                        tex_color.rgb), 1.0);\n}\n</code></pre>\n<p>As you can see when 2 or more lights meet it doesn't look good. I have no idea on how to fix this so I would greatly appreciate some help.</p>\n"},{"tags":["java","spring-boot","jackson","xml-deserialization","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686316826,"creation_date":1686316826,"answer_id":76440676,"question_id":76397222,"body_markdown":"The feature you are looking for it to override the default serializer that Spring is using.  You declare your own Bean for this mapper and configure the mapper to do what you want.\r\n\r\nI am more familiar with the need to do this for JSON (with Jackson) but the technique is the same to override the (Jackson) mapper for XML.  Here are two articles, albeit for JSON, but they should set you on the right track:\r\n\r\n1. https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\r\n2. https://www.geeksforgeeks.org/spring-boot-customize-the-jackson-objectmapper/","title":"Spring Boot Jackson XML Deserialization Ignore Property","body":"<p>The feature you are looking for it to override the default serializer that Spring is using.  You declare your own Bean for this mapper and configure the mapper to do what you want.</p>\n<p>I am more familiar with the need to do this for JSON (with Jackson) but the technique is the same to override the (Jackson) mapper for XML.  Here are two articles, albeit for JSON, but they should set you on the right track:</p>\n<ol>\n<li><a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-customize-jackson-objectmapper</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/spring-boot-customize-the-jackson-objectmapper/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/spring-boot-customize-the-jackson-objectmapper/</a></li>\n</ol>\n"}],"owner":{"account_id":4575944,"reputation":51,"user_id":3714383,"display_name":"user3714383"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686316826,"creation_date":1685813648,"question_id":76397222,"body_markdown":"During XML deserialization I want to ignore property @XmlSchemaType without modifying annotated class.\r\n\r\nDO We have any such ignore control through application.property in spring boot?","title":"Spring Boot Jackson XML Deserialization Ignore Property","body":"<p>During XML deserialization I want to ignore property @XmlSchemaType without modifying annotated class.</p>\n<p>DO We have any such ignore control through application.property in spring boot?</p>\n"},{"tags":["java","spring","spring-boot","printing"],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686316811,"creation_date":1686316811,"question_id":76440674,"body_markdown":"initially I will give what are the printers connected to my laptop to the user.\r\n\r\nthen user will have to choose the printer name and some string.\r\n\r\nmy task is to print the given string via the selected printer.\r\n\r\n\r\n`\r\n@GetMapping(&quot;/printPreview&quot;)\r\n    public String printpage(@RequestBody PrinterOutput printerOutput) throws Exception {\r\n        String input = printerOutput.getContent(); // Replace with your desired input\r\n\r\n        // Print the input string\r\n        try {\r\n            // Create a printer job\r\n            PrinterJob job = PrinterJob.getPrinterJob();\r\n\r\n            // Get the default printer\r\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\r\n\r\n            // Set the default printer for the job\r\n            job.setPrintService(defaultPrintService);\r\n\r\n            // Set a printable object\r\n            job.setPrintable(new Printable() {\r\n                @Override\r\n                public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\r\n                    if (pageIndex &gt; 0)\r\n                    {\r\n                        return NO_SUCH_PAGE;\r\n                    }\r\n\r\n                    // Get the graphics context\r\n                    Graphics2D g2d = (Graphics2D) graphics;\r\n\r\n                    // Set the font and position for printing\r\n                    g2d.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));\r\n                    g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());\r\n\r\n                    // Print the input string\r\n                    g2d.drawString(input, 5, 12);\r\n\r\n                    return PAGE_EXISTS;\r\n                }\r\n            });\r\n\r\n            job.setCopies(1);\r\n            // Send the job to the printer\r\n            job.print();\r\n            System.out.println(&quot;printing&quot;);\r\n        } catch (PrinterException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;Sucess&quot;;\r\n    }\r\n\r\n\r\nthe above code is working find but it is printing only via default printer, i want it to be via the selected printer.\r\n\r\n\r\n\r\n```\r\n @GetMapping(&quot;/print&quot;)\r\n    public String printDemo(@RequestBody PrinterOutput printerOutput) throws Exception {\r\n        String input = printerOutput.getContent(); // Replace with your desired input\r\n        String printerName = printerOutput.getPrinterName();\r\n        // Print the input string\r\n        try {\r\n            // Get the print service for the specified printer name\r\n            PrintService printService = findPrintService(printerName);\r\n\r\n            if (printService == null) {\r\n                return &quot;Printer not found: &quot; + printerName;\r\n            }\r\n\r\n            // Create a printer job\r\n            PrinterJob job = PrinterJob.getPrinterJob();\r\n\r\n            // Set the print service for the job\r\n            job.setPrintService(printService);\r\n\r\n            // Set a printable object\r\n            job.setPrintable(new Printable() {\r\n                @Override\r\n                public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\r\n                    if (pageIndex &gt; 0) {\r\n                        return NO_SUCH_PAGE;\r\n                    }\r\n\r\n                    // Get the graphics context\r\n                    Graphics2D g2d = (Graphics2D) graphics;\r\n\r\n                    // Set the font and position for printing\r\n                    g2d.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));\r\n                    g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());\r\n\r\n                    // Print the input string\r\n                    g2d.drawString(input, 5, 12);\r\n\r\n                    return PAGE_EXISTS;\r\n                }\r\n            });\r\n\r\n            job.setCopies(1);\r\n            // Send the job to the printer\r\n            job.print();\r\n            System.out.println(&quot;Printing to: &quot; + printerName);\r\n        } catch (PrinterException e) {\r\n            e.printStackTrace();\r\n            return &quot;Failed to print: &quot; + e.getMessage();\r\n        }\r\n\r\n        return &quot;Success&quot;;\r\n    }\r\n\r\n    private PrintService findPrintService(String printerName) {\r\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n\r\n        for (PrintService printService : printServices) {\r\n            if (printService.getName().equalsIgnoreCase(printerName)) {\r\n                return printService;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\nthis is what i have tried but not working as expected.\r\n","title":"print the given string via the selected printer in spring boot?","body":"<p>initially I will give what are the printers connected to my laptop to the user.</p>\n<p>then user will have to choose the printer name and some string.</p>\n<p>my task is to print the given string via the selected printer.</p>\n<p>`\n@GetMapping(&quot;/printPreview&quot;)\npublic String printpage(@RequestBody PrinterOutput printerOutput) throws Exception {\nString input = printerOutput.getContent(); // Replace with your desired input</p>\n<pre><code>    // Print the input string\n    try {\n        // Create a printer job\n        PrinterJob job = PrinterJob.getPrinterJob();\n\n        // Get the default printer\n        PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\n\n        // Set the default printer for the job\n        job.setPrintService(defaultPrintService);\n\n        // Set a printable object\n        job.setPrintable(new Printable() {\n            @Override\n            public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\n                if (pageIndex &gt; 0)\n                {\n                    return NO_SUCH_PAGE;\n                }\n\n                // Get the graphics context\n                Graphics2D g2d = (Graphics2D) graphics;\n\n                // Set the font and position for printing\n                g2d.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));\n                g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());\n\n                // Print the input string\n                g2d.drawString(input, 5, 12);\n\n                return PAGE_EXISTS;\n            }\n        });\n\n        job.setCopies(1);\n        // Send the job to the printer\n        job.print();\n        System.out.println(&quot;printing&quot;);\n    } catch (PrinterException e) {\n        e.printStackTrace();\n    }\n    return &quot;Sucess&quot;;\n}\n</code></pre>\n<p>the above code is working find but it is printing only via default printer, i want it to be via the selected printer.</p>\n<pre><code> @GetMapping(&quot;/print&quot;)\n    public String printDemo(@RequestBody PrinterOutput printerOutput) throws Exception {\n        String input = printerOutput.getContent(); // Replace with your desired input\n        String printerName = printerOutput.getPrinterName();\n        // Print the input string\n        try {\n            // Get the print service for the specified printer name\n            PrintService printService = findPrintService(printerName);\n\n            if (printService == null) {\n                return &quot;Printer not found: &quot; + printerName;\n            }\n\n            // Create a printer job\n            PrinterJob job = PrinterJob.getPrinterJob();\n\n            // Set the print service for the job\n            job.setPrintService(printService);\n\n            // Set a printable object\n            job.setPrintable(new Printable() {\n                @Override\n                public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\n                    if (pageIndex &gt; 0) {\n                        return NO_SUCH_PAGE;\n                    }\n\n                    // Get the graphics context\n                    Graphics2D g2d = (Graphics2D) graphics;\n\n                    // Set the font and position for printing\n                    g2d.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));\n                    g2d.translate(pageFormat.getImageableX(), pageFormat.getImageableY());\n\n                    // Print the input string\n                    g2d.drawString(input, 5, 12);\n\n                    return PAGE_EXISTS;\n                }\n            });\n\n            job.setCopies(1);\n            // Send the job to the printer\n            job.print();\n            System.out.println(&quot;Printing to: &quot; + printerName);\n        } catch (PrinterException e) {\n            e.printStackTrace();\n            return &quot;Failed to print: &quot; + e.getMessage();\n        }\n\n        return &quot;Success&quot;;\n    }\n\n    private PrintService findPrintService(String printerName) {\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n\n        for (PrintService printService : printServices) {\n            if (printService.getName().equalsIgnoreCase(printerName)) {\n                return printService;\n            }\n        }\n\n        return null;\n    }\n</code></pre>\n<p>this is what i have tried but not working as expected.</p>\n"},{"tags":["java","git","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3049546,"reputation":385,"user_id":2743625,"accept_rate":83,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1459887580,"creation_date":1459887580,"answer_id":36436257,"question_id":36070308,"body_markdown":"The issue was that I was using a symlink in my path to the git repo. Fixed by going to &quot;File -&gt; Settings -&gt; Version Control&quot; and editing my project root to use the absolute path.\r\n\r\nFrom &quot;/home/user/project/path&quot; to &quot;/mnt/storage/project/path&quot;","title":"Git features in Intellij Idea not working","body":"<p>The issue was that I was using a symlink in my path to the git repo. Fixed by going to \"File -> Settings -> Version Control\" and editing my project root to use the absolute path.</p>\n\n<p>From \"/home/user/project/path\" to \"/mnt/storage/project/path\"</p>\n"},{"tags":[],"owner":{"account_id":10307764,"reputation":71,"user_id":7604490,"display_name":"Gil Nz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599730427,"creation_date":1599729030,"answer_id":63826455,"question_id":36070308,"body_markdown":"I had an issue IntelliJ git plugin, where I was not able to push changes to my GitHub repo, I came to find out that I was using the wrong credentials for my GitHub account.","title":"Git features in Intellij Idea not working","body":"<p>I had an issue IntelliJ git plugin, where I was not able to push changes to my GitHub repo, I came to find out that I was using the wrong credentials for my GitHub account.</p>\n"},{"tags":[],"owner":{"account_id":5897111,"reputation":33,"user_id":4641923,"display_name":"Maynor Song Lara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686316702,"creation_date":1686316702,"answer_id":76440662,"question_id":36070308,"body_markdown":"Invalidate caches and restart: Sometimes IntelliJ caches can cause issues. Try going to &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot; and choose the appropriate option to invalidate caches and restart IntelliJ.","title":"Git features in Intellij Idea not working","body":"<p>Invalidate caches and restart: Sometimes IntelliJ caches can cause issues. Try going to &quot;File&quot; -&gt; &quot;Invalidate Caches / Restart&quot; and choose the appropriate option to invalidate caches and restart IntelliJ.</p>\n"}],"owner":{"account_id":3049546,"reputation":385,"user_id":2743625,"accept_rate":83,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12071,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36436257,"answer_count":3,"score":2,"last_activity_date":1686316702,"creation_date":1458243979,"question_id":36070308,"body_markdown":"I have a project that I have to import into Intellij Idea under a subdirectory of the git repo. The git repo is &quot;myProject&quot; and I need to checkout &quot;myProject/projects/&quot;. When I do this, I can checkout branches inside Idea, but that is the only VCS functionality that appears to be working. I cannot annotate files or show history.\r\n\r\nI&#39;ve had this issue in Idea 15 Ultimate as well as the new 16 RC. Currently using: \r\n\r\nIntelliJ IDEA (Minerva) IU-144.4199.23\r\nBuild #IU-144.4199, built on February 19, 2016\r\nJRE: 1.8.0_72-b15 amd64\r\nJVM: OpenJDK 64-Bit Server VM by Oracle Corporation\r\n\r\n","title":"Git features in Intellij Idea not working","body":"<p>I have a project that I have to import into Intellij Idea under a subdirectory of the git repo. The git repo is \"myProject\" and I need to checkout \"myProject/projects/\". When I do this, I can checkout branches inside Idea, but that is the only VCS functionality that appears to be working. I cannot annotate files or show history.</p>\n\n<p>I've had this issue in Idea 15 Ultimate as well as the new 16 RC. Currently using: </p>\n\n<p>IntelliJ IDEA (Minerva) IU-144.4199.23\nBuild #IU-144.4199, built on February 19, 2016\nJRE: 1.8.0_72-b15 amd64\nJVM: OpenJDK 64-Bit Server VM by Oracle Corporation</p>\n"},{"tags":["java","spring-boot","spring-mvc","intellij-idea","spring-data-jpa"],"comments":[{"owner":{"account_id":346246,"reputation":1480,"user_id":679663,"accept_rate":78,"display_name":"M Rijalul Kahfi"},"score":0,"creation_date":1686279510,"post_id":76436885,"comment_id":134780366,"body_markdown":"It&#39;s hard to give the workaround without seeing what your code is actually doing. Please give any code snippets.","body":"It&#39;s hard to give the workaround without seeing what your code is actually doing. Please give any code snippets."},{"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"score":0,"creation_date":1686280287,"post_id":76436885,"comment_id":134780429,"body_markdown":"Since the question has no snippet code, I can suggest you to use try catch instead and give the response as you will.","body":"Since the question has no snippet code, I can suggest you to use try catch instead and give the response as you will."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686287620,"post_id":76436885,"comment_id":134781016,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1686288499,"post_id":76436885,"comment_id":134781094,"body_markdown":"Can you share what are you getting in the response and what you expect? Because it&#39;s hard to tell from this code snippet","body":"Can you share what are you getting in the response and what you expect? Because it&#39;s hard to tell from this code snippet"}],"answers":[{"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1686288034,"post_id":76436937,"comment_id":134781051,"body_markdown":"Use edit button to edit the question instead of adding the information into the answer section","body":"Use edit button to edit the question instead of adding the information into the answer section"}],"tags":[],"owner":{"account_id":28784378,"reputation":21,"user_id":22045235,"display_name":"Tirta Salsabila"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686316506,"creation_date":1686279776,"answer_id":76436937,"question_id":76436885,"body_markdown":"```\r\nprivate String callUrlApi(int nipp, String nama) throws IOException {\r\n        String apiUrl = &quot;http://---------------------------&quot;;\r\n        String encodedNama = URLEncoder.encode(nama, String.valueOf(StandardCharsets.UTF_8));\r\n        String urlString = apiUrl + &quot;?nipp=&quot; + nipp + &quot;&amp;nama=&quot; + encodedNama;\r\n\r\n        HttpURLConnection connection = null;\r\n        BufferedReader reader = null;\r\n        StringBuilder response = new StringBuilder();\r\n\r\n        try {\r\n            URL url = new URL(urlString);\r\n            connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer QGAv_R-w_1621330285&quot;);\r\n\r\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n        } finally {\r\n            if (reader != null) {\r\n                reader.close();\r\n            }\r\n            if (connection != null) {\r\n                connection.disconnect();\r\n            }\r\n        }\r\n\r\n        return response.toString();\r\n    }\r\n```","title":"Remove text java.io.IOException: from message response Java spring boot","body":"<pre><code>private String callUrlApi(int nipp, String nama) throws IOException {\n        String apiUrl = &quot;http://---------------------------&quot;;\n        String encodedNama = URLEncoder.encode(nama, String.valueOf(StandardCharsets.UTF_8));\n        String urlString = apiUrl + &quot;?nipp=&quot; + nipp + &quot;&amp;nama=&quot; + encodedNama;\n\n        HttpURLConnection connection = null;\n        BufferedReader reader = null;\n        StringBuilder response = new StringBuilder();\n\n        try {\n            URL url = new URL(urlString);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer QGAv_R-w_1621330285&quot;);\n\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                response.append(line);\n            }\n        } finally {\n            if (reader != null) {\n                reader.close();\n            }\n            if (connection != null) {\n                connection.disconnect();\n            }\n        }\n\n        return response.toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":28784378,"reputation":21,"user_id":22045235,"display_name":"Tirta Salsabila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686316506,"creation_date":1686279042,"question_id":76436885,"body_markdown":"[java.io.IOException](https://i.stack.imgur.com/OFA7k.jpg)\r\n\r\n\r\n\r\nHow to remove this exception text from respons without deleting throws IOException? ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎\r\n```\r\nprivate String callUrlApi(int nipp, String nama) throws IOException {\r\n        String apiUrl = &quot;http://---------------------------&quot;;\r\n        String encodedNama = URLEncoder.encode(nama, String.valueOf(StandardCharsets.UTF_8));\r\n        String urlString = apiUrl + &quot;?nipp=&quot; + nipp + &quot;&amp;nama=&quot; + encodedNama;\r\n\r\n        HttpURLConnection connection = null;\r\n        BufferedReader reader = null;\r\n        StringBuilder response = new StringBuilder();\r\n\r\n        try {\r\n            URL url = new URL(urlString);\r\n            connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer QGAv_R-w_1621330285&quot;);\r\n\r\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n        } finally {\r\n            if (reader != null) {\r\n                reader.close();\r\n            }\r\n            if (connection != null) {\r\n                connection.disconnect();\r\n            }\r\n        }\r\n\r\n        return response.toString();\r\n    } \r\n```\r\n","title":"Remove text java.io.IOException: from message response Java spring boot","body":"<p><a href=\"https://i.stack.imgur.com/OFA7k.jpg\" rel=\"nofollow noreferrer\">java.io.IOException</a></p>\n<p>How to remove this exception text from respons without deleting throws IOException? ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎</p>\n<pre><code>private String callUrlApi(int nipp, String nama) throws IOException {\n        String apiUrl = &quot;http://---------------------------&quot;;\n        String encodedNama = URLEncoder.encode(nama, String.valueOf(StandardCharsets.UTF_8));\n        String urlString = apiUrl + &quot;?nipp=&quot; + nipp + &quot;&amp;nama=&quot; + encodedNama;\n\n        HttpURLConnection connection = null;\n        BufferedReader reader = null;\n        StringBuilder response = new StringBuilder();\n\n        try {\n            URL url = new URL(urlString);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;GET&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer QGAv_R-w_1621330285&quot;);\n\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                response.append(line);\n            }\n        } finally {\n            if (reader != null) {\n                reader.close();\n            }\n            if (connection != null) {\n                connection.disconnect();\n            }\n        }\n\n        return response.toString();\n    } \n</code></pre>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1519137452,"creation_date":1519137053,"answer_id":48887560,"question_id":48887470,"body_markdown":"Yes, you can return an `org.mockito.stubbing.Answer`.\r\n\r\n    class AddingAnswer implements Answer {\r\n        int current = 0;\r\n        public Object answer(InvocationOnMock invocation) {\r\n            int result = current;\r\n            current += 100;\r\n            return result;\r\n        }\r\n    }\r\n\r\nwhich you can then wire to your mock like this\r\n\r\n    Answer answer = new AddingAnswer();\r\n    when(myClass.myMethod()).then(answer);\r\n\r\n\r\nOr in the generic version you want\r\n\r\n    class DynamicAnswer&lt;T&gt; implements Answer {\r\n        T currentValue;\r\n        UnaryOperator&lt;T&gt; adjustment;\r\n        public DynamicAnswer(T seed, UnaryOperator&lt;T&gt; ad) {\r\n            currentValue = seed;\r\n            adjustment = ad;\r\n        }\r\n        public Object answer(InvocationOnMock invocation) {\r\n            T result = currentValue;\r\n            currentValue = adjustment.apply(currentValue);\r\n            return result;\r\n        }\r\n    }","title":"Dynamic return values with Mockito","body":"<p>Yes, you can return an <code>org.mockito.stubbing.Answer</code>.</p>\n\n<pre><code>class AddingAnswer implements Answer {\n    int current = 0;\n    public Object answer(InvocationOnMock invocation) {\n        int result = current;\n        current += 100;\n        return result;\n    }\n}\n</code></pre>\n\n<p>which you can then wire to your mock like this</p>\n\n<pre><code>Answer answer = new AddingAnswer();\nwhen(myClass.myMethod()).then(answer);\n</code></pre>\n\n<p>Or in the generic version you want</p>\n\n<pre><code>class DynamicAnswer&lt;T&gt; implements Answer {\n    T currentValue;\n    UnaryOperator&lt;T&gt; adjustment;\n    public DynamicAnswer(T seed, UnaryOperator&lt;T&gt; ad) {\n        currentValue = seed;\n        adjustment = ad;\n    }\n    public Object answer(InvocationOnMock invocation) {\n        T result = currentValue;\n        currentValue = adjustment.apply(currentValue);\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1519149254,"post_id":48887687,"comment_id":84788136,"body_markdown":"Who said it&#39;s a unit test? And rather than specifying every single return value, I prefer to define a simple supplier in this particular case.","body":"Who said it&#39;s a unit test? And rather than specifying every single return value, I prefer to define a simple supplier in this particular case."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1519137419,"creation_date":1519137419,"answer_id":48887687,"question_id":48887470,"body_markdown":"You can use `thenAnswer()` as described on mockitos web site.\r\n\r\n    when(mock.myMethod()).thenAnswer(new Answer&lt;Integer&gt;(){\r\n            private final int seed=100;\r\n            private int previousVal=0;\r\n            public Integer answer(InvocationOnMock invocation) throws Throwable {\r\n                int currentVal= previousVal;\r\n                previousVal += seed;\r\n                return currentVal;\r\n            }\r\n    });\r\n\r\nbut usually this requirement arises from a flawed testing approach: \r\n\r\nEach method in a unittest class should verify a *single expectation* on the code under test. Therefore there should be no need for such &quot;dynamic&quot; test value generation.","title":"Dynamic return values with Mockito","body":"<p>You can use <code>thenAnswer()</code> as described on mockitos web site.</p>\n\n<pre><code>when(mock.myMethod()).thenAnswer(new Answer&lt;Integer&gt;(){\n        private final int seed=100;\n        private int previousVal=0;\n        public Integer answer(InvocationOnMock invocation) throws Throwable {\n            int currentVal= previousVal;\n            previousVal += seed;\n            return currentVal;\n        }\n});\n</code></pre>\n\n<p>but usually this requirement arises from a flawed testing approach: </p>\n\n<p>Each method in a unittest class should verify a <em>single expectation</em> on the code under test. Therefore there should be no need for such \"dynamic\" test value generation.</p>\n"},{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1519139652,"creation_date":1519139652,"answer_id":48888396,"question_id":48887470,"body_markdown":"The easiest way may be to combine Mockitos Answer with lambdas, streams and iterators. The resulting code is\r\n\r\n    Iterator&lt;Integer&gt; values = Stream.iterate(0, n -&gt; n + 100).iterator();\r\n    when(myClass.myMethod()).thenAnswer(i -&gt; values.next());\r\n\r\nThe code can be made a little more efficient if you use an IntStream and a PrimitiveIterator.OfInt as the iterator type, but that is probably overkill for a unit test...","title":"Dynamic return values with Mockito","body":"<p>The easiest way may be to combine Mockitos Answer with lambdas, streams and iterators. The resulting code is</p>\n\n<pre><code>Iterator&lt;Integer&gt; values = Stream.iterate(0, n -&gt; n + 100).iterator();\nwhen(myClass.myMethod()).thenAnswer(i -&gt; values.next());\n</code></pre>\n\n<p>The code can be made a little more efficient if you use an IntStream and a PrimitiveIterator.OfInt as the iterator type, but that is probably overkill for a unit test...</p>\n"}],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9035,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48887560,"answer_count":3,"score":4,"last_activity_date":1686315581,"creation_date":1519136791,"question_id":48887470,"body_markdown":"One typically defines return values for a Mockito mock during compile time, i.e. statically:\r\n\r\n```java\r\nMyClass myClass = Mockito.mock(MyClass.class);\r\nwhen(myClass.myMethod()).thenReturn(0, 100, 200, ...);\r\n```\r\n\r\nIs there a way to do this dynamically by supplying a seed and a function, e.g.:\r\n\r\n```java\r\nwhen(mock.myMethod()).thenReturn(seed, previousVal -&gt; previousVal + 100);\r\n```","title":"Dynamic return values with Mockito","body":"<p>One typically defines return values for a Mockito mock during compile time, i.e. statically:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyClass myClass = Mockito.mock(MyClass.class);\nwhen(myClass.myMethod()).thenReturn(0, 100, 200, ...);\n</code></pre>\n<p>Is there a way to do this dynamically by supplying a seed and a function, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mock.myMethod()).thenReturn(seed, previousVal -&gt; previousVal + 100);\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":1,"creation_date":1685947641,"post_id":76362442,"comment_id":134726425,"body_markdown":"Have you tried changing the field ```Book```in ```Author``` to ```List&lt;Book&gt;```. This way a one to many Mapping should work.","body":"Have you tried changing the field <code>Book</code>in <code>Author</code> to <code>List&lt;Book&gt;</code>. This way a one to many Mapping should work."},{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":0,"creation_date":1685993309,"post_id":76362442,"comment_id":134735804,"body_markdown":"Agree with @fnymmm - why should an author be bound to exactly one book? Prefer using a one-to-many relation there.","body":"Agree with @fnymmm - why should an author be bound to exactly one book? Prefer using a one-to-many relation there."},{"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"score":0,"creation_date":1686038426,"post_id":76362442,"comment_id":134740599,"body_markdown":"first of all clarify your functional need, do you really want an author to have exactly 0 or 1 book? because that is what we see from your code provided","body":"first of all clarify your functional need, do you really want an author to have exactly 0 or 1 book? because that is what we see from your code provided"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1686052798,"post_id":76362442,"comment_id":134743572,"body_markdown":"Will have exactly 1 book.\n@fnymmm and Arno as I said in post, the entities are just imitation of real scenario.","body":"Will have exactly 1 book. @fnymmm and Arno as I said in post, the entities are just imitation of real scenario."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686315039,"creation_date":1686314723,"answer_id":76440393,"question_id":76362442,"body_markdown":"&gt; 1. What I understood is this field is readonly and set by hibernate for me, I should explicitly never update this field anywhere, is my understanding correct?\r\n\r\nYes, as soon as the same field is used for association you cannot touch it. If you need to update value in the DB you must do it via updating `Book.author`. In your entity just create a private setter in your `Booke` entity to make sure the field won&#39;t be touched.\r\n\r\n&gt; 2. Can we safely use authorId presented as new field in hql/jpql and sql queries\r\n\r\nYou can, but you probably shouldn&#39;t. In your question above you wrote:\r\n&gt; Here, we previously had a roadblock, as book.author.authorId was being used in too many places and that requires additional join or to query author table just to get only id.\r\n\r\nIf you look into generated code you&#39;ll find out that there&#39;s no `join` clause generated as Hibernate is smart enough to take the value from `author_id` column of `Books` table. I. e. if you write JPQL-query like \r\n```hql\r\nselect book from Book book where book.author.auhtorId = :authorId\r\n```\r\nthe resulting query would be\r\n```sql\r\nselect b.* from books b where b.author_id = ?`\r\n```\r\n\r\n&gt; 3. Will this field be correctly managed by hibernate?\r\n\r\nYes, Hibernate relies mostly on reflection so even with private accessors the code is correct.\r\n\r\n&gt; 4. Do we need to set it explicitly?\r\n\r\nNo, you needn&#39;t do it. You need to care about `Book.author` because it&#39;s associated entity. As soon as `Book.authorId` is annotated with `@Column(name = &quot;authorId&quot;, insertable = false,updatable = false)` Hibernate expects you won&#39;t update it, in terms of your code this is enough:\r\n```java\r\nAuthor author = repository.findById();\r\nBook b = new Book();\r\nb.setAuthor(author)\r\n```\r\n\r\nP.S. In the snippet above instead of `Author author = repository.findById();` you could use `Author author = repository.getById();` saving one DB call as `JpaRepository.getById()` returns a proxy with `id` instead of actually fetching data.","title":"Using second field for same column in entity for hashcode equals and entity management","body":"<blockquote>\n<ol>\n<li>What I understood is this field is readonly and set by hibernate for me, I should explicitly never update this field anywhere, is my understanding correct?</li>\n</ol>\n</blockquote>\n<p>Yes, as soon as the same field is used for association you cannot touch it. If you need to update value in the DB you must do it via updating <code>Book.author</code>. In your entity just create a private setter in your <code>Booke</code> entity to make sure the field won't be touched.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Can we safely use authorId presented as new field in hql/jpql and sql queries</li>\n</ol>\n</blockquote>\n<p>You can, but you probably shouldn't. In your question above you wrote:</p>\n<blockquote>\n<p>Here, we previously had a roadblock, as book.author.authorId was being used in too many places and that requires additional join or to query author table just to get only id.</p>\n</blockquote>\n<p>If you look into generated code you'll find out that there's no <code>join</code> clause generated as Hibernate is smart enough to take the value from <code>author_id</code> column of <code>Books</code> table. I. e. if you write JPQL-query like</p>\n<pre><code>select book from Book book where book.author.auhtorId = :authorId\n</code></pre>\n<p>the resulting query would be</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select b.* from books b where b.author_id = ?`\n</code></pre>\n<blockquote>\n<ol start=\"3\">\n<li>Will this field be correctly managed by hibernate?</li>\n</ol>\n</blockquote>\n<p>Yes, Hibernate relies mostly on reflection so even with private accessors the code is correct.</p>\n<blockquote>\n<ol start=\"4\">\n<li>Do we need to set it explicitly?</li>\n</ol>\n</blockquote>\n<p>No, you needn't do it. You need to care about <code>Book.author</code> because it's associated entity. As soon as <code>Book.authorId</code> is annotated with <code>@Column(name = &quot;authorId&quot;, insertable = false,updatable = false)</code> Hibernate expects you won't update it, in terms of your code this is enough:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Author author = repository.findById();\nBook b = new Book();\nb.setAuthor(author)\n</code></pre>\n<p>P.S. In the snippet above instead of <code>Author author = repository.findById();</code> you could use <code>Author author = repository.getById();</code> saving one DB call as <code>JpaRepository.getById()</code> returns a proxy with <code>id</code> instead of actually fetching data.</p>\n"}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76440393,"answer_count":1,"score":1,"last_activity_date":1686315039,"creation_date":1685431350,"question_id":76362442,"body_markdown":"We are using spring data jpa with hibernate in our project.\r\n\r\nFollowing is sample representation of entities.\r\n\r\n```java \r\n@Entity\r\npublic class Author {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long authorId;\r\n \r\n    private String firstName;\r\n \r\n    @OneToOne(mappedBy = &quot;author&quot;)\r\n    private Book book;\r\n\r\n\r\n \r\n    ...\r\n}\r\n\r\n\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @OneToOne(fetch= FetchType.LAZY)\r\n    private Author author;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nPlease forgive any syntax issues.\r\n\r\nWe have only `OneToOne` association field for author in book entity.This has many drawbacks for our design.\r\n\r\n1. Author is lazily fetched always.\r\n2. We uniquely identify Book with Author id \r\n3. We have `authorId` in book table as foreign key.\r\n4. If you understand closely, we cannot use `authorId` to uniquely identify record, just because of hibernate lazy associations, in equals and hashcode contract even if we want to use it. If we use author association in equals and hashcode, it will eagerly call author entity for each book which we do not want.\r\n5. Here, we previously had a roadblock, as `book.author.authorId` was being used in too many places and that requires additional join or to query author table just to get *only id*.\r\n\r\n**To solve this we created another field authorId in Book entity.**  \r\n- With this field we can do like `book.authorId` in all queries without fetching author entity.\r\n- This is way where we make `insertable` and `updateable` false as mentioned in many forums to have single column mapped to multiple fields.\r\n\r\n```java\r\n@Entity\r\npublic class Book {\r\n \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n \r\n    private String title;\r\n \r\n    @OneToOne\r\n    private Author author;\r\n    \r\n    @Column(name = &quot;authorId&quot;, insertable = false,updatable = false)\r\n    private Long authorId\r\n\r\n    ...\r\n}\r\n```\r\n\r\n\r\n**I have tested following till now:**\r\n1. Get with authorId works fine.\r\n2. It works with hql jpql with basic tests\r\n3. Not sure about limitations though.\r\n\r\n**Questions are:**\r\n1. What I understood is this field is readonly and set by hibernate for me, I should explicitly never update this field anywhere, is my understanding correct?\r\n2. Can we safely use authorId presented as new field in hql/jpql and sql queries\r\n3. Will this field be correctly managed by hibernate?\r\n4. Do we need to set it explicitly? Eg: when I create Book, I can do like this\r\n\r\n```java \r\nAuthor author = repository.findById();\r\nBook b = new Book();\r\nb.setAuthor(author)\r\nb.setAuthorId(author.getId)\r\n```\r\nalso any other case where I explicitly need to set book.authorId ?\r\nWill it be correctly managed then by hibernate?\r\n","title":"Using second field for same column in entity for hashcode equals and entity management","body":"<p>We are using spring data jpa with hibernate in our project.</p>\n<p>Following is sample representation of entities.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Author {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long authorId;\n \n    private String firstName;\n \n    @OneToOne(mappedBy = &quot;author&quot;)\n    private Book book;\n\n\n \n    ...\n}\n\n\n@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @OneToOne(fetch= FetchType.LAZY)\n    private Author author;\n\n    ...\n}\n</code></pre>\n<p>Please forgive any syntax issues.</p>\n<p>We have only <code>OneToOne</code> association field for author in book entity.This has many drawbacks for our design.</p>\n<ol>\n<li>Author is lazily fetched always.</li>\n<li>We uniquely identify Book with Author id</li>\n<li>We have <code>authorId</code> in book table as foreign key.</li>\n<li>If you understand closely, we cannot use <code>authorId</code> to uniquely identify record, just because of hibernate lazy associations, in equals and hashcode contract even if we want to use it. If we use author association in equals and hashcode, it will eagerly call author entity for each book which we do not want.</li>\n<li>Here, we previously had a roadblock, as <code>book.author.authorId</code> was being used in too many places and that requires additional join or to query author table just to get <em>only id</em>.</li>\n</ol>\n<p><strong>To solve this we created another field authorId in Book entity.</strong></p>\n<ul>\n<li>With this field we can do like <code>book.authorId</code> in all queries without fetching author entity.</li>\n<li>This is way where we make <code>insertable</code> and <code>updateable</code> false as mentioned in many forums to have single column mapped to multiple fields.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Book {\n \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n \n    private String title;\n \n    @OneToOne\n    private Author author;\n    \n    @Column(name = &quot;authorId&quot;, insertable = false,updatable = false)\n    private Long authorId\n\n    ...\n}\n</code></pre>\n<p><strong>I have tested following till now:</strong></p>\n<ol>\n<li>Get with authorId works fine.</li>\n<li>It works with hql jpql with basic tests</li>\n<li>Not sure about limitations though.</li>\n</ol>\n<p><strong>Questions are:</strong></p>\n<ol>\n<li>What I understood is this field is readonly and set by hibernate for me, I should explicitly never update this field anywhere, is my understanding correct?</li>\n<li>Can we safely use authorId presented as new field in hql/jpql and sql queries</li>\n<li>Will this field be correctly managed by hibernate?</li>\n<li>Do we need to set it explicitly? Eg: when I create Book, I can do like this</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Author author = repository.findById();\nBook b = new Book();\nb.setAuthor(author)\nb.setAuthorId(author.getId)\n</code></pre>\n<p>also any other case where I explicitly need to set book.authorId ?\nWill it be correctly managed then by hibernate?</p>\n"},{"tags":["java","lombok","builder"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686314847,"creation_date":1686314847,"answer_id":76440409,"question_id":76440230,"body_markdown":"Instead of redefining the `Builder` class, redefine the two-argument constructor of `MyLombokClass`:\r\n\r\n    public MyLombokClass(String name, String greeting) {\r\n        this.name = name;\r\n        this.greeting = greeting + name;\r\n    }\r\n\r\nIntelliJ reports an error about reassigning the `final` field `name`, but after annotation processing, `name` will not be final, so this will work if you actually compile the code.\r\n\r\nLooking at the generated code from [here][1], an alternative way is to check if a field is set by checking `fieldName$set`, and get the default value using the `$default$fieldName` method, declared as static in the outer class of `Builder`.\r\n\r\nSo this would work:\r\n\r\n\r\n    public static class Builder\r\n    {\r\n        public MyLombokClass build()\r\n        {\r\n            return new MyLombokClass(\r\n                    name$set ? name$value : MyLombokClass.$default$name(),\r\n                    greeting + (name$set ? name$value : MyLombokClass.$default$name()));\r\n        }\r\n    }\r\n\r\nNote that again IntelliJ highlights the `$default$name` calls in red, seemingly cannot find them. But if you compile, it actually does work.\r\n\r\nSimilar to `xxx$value`, I&#39;m not sure if these generated names are stable, and whether they will change in the future.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Builder","title":"Using default values in Lombok @Builder overridden build() method","body":"<p>Instead of redefining the <code>Builder</code> class, redefine the two-argument constructor of <code>MyLombokClass</code>:</p>\n<pre><code>public MyLombokClass(String name, String greeting) {\n    this.name = name;\n    this.greeting = greeting + name;\n}\n</code></pre>\n<p>IntelliJ reports an error about reassigning the <code>final</code> field <code>name</code>, but after annotation processing, <code>name</code> will not be final, so this will work if you actually compile the code.</p>\n<p>Looking at the generated code from <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">here</a>, an alternative way is to check if a field is set by checking <code>fieldName$set</code>, and get the default value using the <code>$default$fieldName</code> method, declared as static in the outer class of <code>Builder</code>.</p>\n<p>So this would work:</p>\n<pre><code>public static class Builder\n{\n    public MyLombokClass build()\n    {\n        return new MyLombokClass(\n                name$set ? name$value : MyLombokClass.$default$name(),\n                greeting + (name$set ? name$value : MyLombokClass.$default$name()));\n    }\n}\n</code></pre>\n<p>Note that again IntelliJ highlights the <code>$default$name</code> calls in red, seemingly cannot find them. But if you compile, it actually does work.</p>\n<p>Similar to <code>xxx$value</code>, I'm not sure if these generated names are stable, and whether they will change in the future.</p>\n"}],"owner":{"account_id":28787372,"reputation":11,"user_id":22047561,"display_name":"user22047561"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686314847,"creation_date":1686313503,"question_id":76440230,"body_markdown":"Is it ever possible to access the default values of Lombok Builders?\r\nI have some logic in my `Builder` that relies on that value being set, sort of like this:\r\n\r\n```\r\n@Builder(toBuilder = true, builderClassName = &quot;Builder&quot;)\r\n@Data\r\npublic class MyLombokClass\r\n{\r\n    @lombok.Builder.Default private final String name = &quot;Default McDefaultson&quot;;\r\n    private final String greeting;\r\n\r\n    public static class Builder\r\n    {\r\n        public MyLombokClass build()\r\n        {\r\n            return new MyLombokClass(\r\n                name$value,\r\n                greeting + name$value);\r\n        }\r\n    }\r\n}\r\n```\r\nSo when it&#39;s overridden like this, we actually lose the default value of `name` when it hasn&#39;t been set:\r\n```\r\nvoid greet(String greeting)\r\n{\r\n    MyLombokClass lombokked = MyLombokClass.builder()\r\n        .greeting(greeting)\r\n        .build();\r\n\r\n    System.out.println(lombokked.getGreeting());\r\n    System.out.println(lombokked.getName());\r\n}\r\n\r\n&gt;&gt;&gt; greet(&quot;Hello &quot;)\r\nHello null\r\nnull\r\n```\r\nNow I have a very large object with lots of fields on, so I&#39;d ideally like to move to using Lombok to reduce boilerplate code. However, the `build()` method requires logic to transform fields based on other values set in the class.\r\n\r\nIdeally, what I&#39;d like to be able to do is have the default value of `name` available before the object is built. That way, if the value is never set, we can still build correctly with an overridden `build()` method.\r\n\r\nI can do this with a non-lombok class/builder, like so:\r\n```\r\npublic static class Builder\r\n{\r\n    private String name = &quot;Default McDefaultson&quot;;\r\n    private String greeting;\r\n\r\n    public Builder setName(String name)\r\n    {\r\n        this.name = name;\r\n        return this;\r\n    }\r\n\r\n    public Builder setGreeting(String greeting)\r\n    {\r\n        this.greeting = greeting;\r\n        return this;\r\n    }\r\n\r\n    public MyClass build()\r\n    {\r\n        return new MyClass(\r\n            name,\r\n            greeting + name);\r\n    }\r\n}\r\n\r\n&gt;&gt;&gt; greet(&quot;Goodbye &quot;)\r\nGoodbye Default McDefaultson\r\nDefault McDefaultson\r\n```\r\nWhilst this is possible to solve with either a null check on a non-`@Default` field, or using the `name$set` flag, or by building the object then copying over the fields, it starts to become lots of hassle with lots of these fields, or a complicated `build()` logic.\r\nThis is an issue for me, cause I have a very large object which needs some fields to be either set explicitly or rely on default values **in the build() method** to control the setting of other fields.","title":"Using default values in Lombok @Builder overridden build() method","body":"<p>Is it ever possible to access the default values of Lombok Builders?\nI have some logic in my <code>Builder</code> that relies on that value being set, sort of like this:</p>\n<pre><code>@Builder(toBuilder = true, builderClassName = &quot;Builder&quot;)\n@Data\npublic class MyLombokClass\n{\n    @lombok.Builder.Default private final String name = &quot;Default McDefaultson&quot;;\n    private final String greeting;\n\n    public static class Builder\n    {\n        public MyLombokClass build()\n        {\n            return new MyLombokClass(\n                name$value,\n                greeting + name$value);\n        }\n    }\n}\n</code></pre>\n<p>So when it's overridden like this, we actually lose the default value of <code>name</code> when it hasn't been set:</p>\n<pre><code>void greet(String greeting)\n{\n    MyLombokClass lombokked = MyLombokClass.builder()\n        .greeting(greeting)\n        .build();\n\n    System.out.println(lombokked.getGreeting());\n    System.out.println(lombokked.getName());\n}\n\n&gt;&gt;&gt; greet(&quot;Hello &quot;)\nHello null\nnull\n</code></pre>\n<p>Now I have a very large object with lots of fields on, so I'd ideally like to move to using Lombok to reduce boilerplate code. However, the <code>build()</code> method requires logic to transform fields based on other values set in the class.</p>\n<p>Ideally, what I'd like to be able to do is have the default value of <code>name</code> available before the object is built. That way, if the value is never set, we can still build correctly with an overridden <code>build()</code> method.</p>\n<p>I can do this with a non-lombok class/builder, like so:</p>\n<pre><code>public static class Builder\n{\n    private String name = &quot;Default McDefaultson&quot;;\n    private String greeting;\n\n    public Builder setName(String name)\n    {\n        this.name = name;\n        return this;\n    }\n\n    public Builder setGreeting(String greeting)\n    {\n        this.greeting = greeting;\n        return this;\n    }\n\n    public MyClass build()\n    {\n        return new MyClass(\n            name,\n            greeting + name);\n    }\n}\n\n&gt;&gt;&gt; greet(&quot;Goodbye &quot;)\nGoodbye Default McDefaultson\nDefault McDefaultson\n</code></pre>\n<p>Whilst this is possible to solve with either a null check on a non-<code>@Default</code> field, or using the <code>name$set</code> flag, or by building the object then copying over the fields, it starts to become lots of hassle with lots of these fields, or a complicated <code>build()</code> logic.\nThis is an issue for me, cause I have a very large object which needs some fields to be either set explicitly or rely on default values <strong>in the build() method</strong> to control the setting of other fields.</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686312146,"post_id":76438916,"comment_id":134785078,"body_markdown":"Re, &quot;The function may be called _for the same philosopher_ more than once, even before the last call ends.&quot; Wait! What? That makes no sense. What is it supposed to mean if the framework calls `wantsToEat(N,...)` when philosopher `N` currently _is_ eating in some different thread? How is the &quot;philosopher&quot; supposed to behave in that case? IMO you should ask your instructor for clarification. It&#39;s possible that maybe the question got mangled in translation somewhere.","body":"Re, &quot;The function may be called <i>for the same philosopher</i> more than once, even before the last call ends.&quot; Wait! What? That makes no sense. What is it supposed to mean if the framework calls <code>wantsToEat(N,...)</code> when philosopher <code>N</code> currently <i>is</i> eating in some different thread? How is the &quot;philosopher&quot; supposed to behave in that case? IMO you should ask your instructor for clarification. It&#39;s possible that maybe the question got mangled in translation somewhere."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1686312540,"post_id":76438916,"comment_id":134785168,"body_markdown":"Re, &quot;The code is failing for [a] few test cases...&quot; Failing how? What does the framework tell you? Do those test cases have names? Is there any description of what they are testing for?","body":"Re, &quot;The code is failing for [a] few test cases...&quot; Failing how? What does the framework tell you? Do those test cases have names? Is there any description of what they are testing for?"},{"owner":{"account_id":4123584,"reputation":1,"user_id":10290799,"display_name":"statviks"},"score":0,"creation_date":1686342684,"post_id":76438916,"comment_id":134791021,"body_markdown":"The framework takes &#39;n&#39; as an input where n is the number of times each philosopher will call the function. For n=10 sometimes it passes sometimes it fails. I don&#39;t have access of code which is being used for calling *wantsToEat* or the runnables passed in the method.","body":"The framework takes &#39;n&#39; as an input where n is the number of times each philosopher will call the function. For n=10 sometimes it passes sometimes it fails. I don&#39;t have access of code which is being used for calling <i>wantsToEat</i> or the runnables passed in the method."},{"owner":{"account_id":4123584,"reputation":1,"user_id":10290799,"display_name":"statviks"},"score":0,"creation_date":1686342931,"post_id":76438916,"comment_id":134791064,"body_markdown":"If say philosopher 0 is eating in some thread and *wantsToEat* is called again then it is expected that philosopher 0 completes eating, puts down the forks and waits till  he/she gets chance to eat again.","body":"If say philosopher 0 is eating in some thread and <i>wantsToEat</i> is called again then it is expected that philosopher 0 completes eating, puts down the forks and waits till  he/she gets chance to eat again."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686344517,"post_id":76438916,"comment_id":134791261,"body_markdown":"My answer—now deleted—was worse than wrong because the method that I proposed to force a naively written `DiningPhilosophers` class into deadlock would have _incorrectly_ failed your implementation. I said I would delay the return from the `pickLeftFork` and `pickRightFork` functions until all five philosophers had tried to claim at least one fork. But, your implementation guarantees that at least three of the philosophers would not even _try_ to claim a fork until the other two have eaten. I never would have allowed _any_ of your philosophers to have even one fork...","body":"My answer—now deleted—was worse than wrong because the method that I proposed to force a naively written <code>DiningPhilosophers</code> class into deadlock would have <i>incorrectly</i> failed your implementation. I said I would delay the return from the <code>pickLeftFork</code> and <code>pickRightFork</code> functions until all five philosophers had tried to claim at least one fork. But, your implementation guarantees that at least three of the philosophers would not even <i>try</i> to claim a fork until the other two have eaten. I never would have allowed <i>any</i> of your philosophers to have even one fork..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686344737,"post_id":76438916,"comment_id":134791284,"body_markdown":"...Is it just me? or might the person who wrote the actual test harness have made a similar mistake? **Q:** Did any rule forbid your philosophers from communicating with each other? They kind-of _do_ communicate through the shared `forks[]` array. IMO, that doesn&#39;t go against the spirit of the dining philosophers because each philosopher only &quot;talks&quot; to his immediate neighbors, and they only talk about who is holding the fork. But maybe your use of the `forks[]` array violates some dodgy assumption (e.g., like _my_ dodgy assumption) that&#39;s built-in to the test harness.","body":"...Is it just me? or might the person who wrote the actual test harness have made a similar mistake? <b>Q:</b> Did any rule forbid your philosophers from communicating with each other? They kind-of <i>do</i> communicate through the shared <code>forks[]</code> array. IMO, that doesn&#39;t go against the spirit of the dining philosophers because each philosopher only &quot;talks&quot; to his immediate neighbors, and they only talk about who is holding the fork. But maybe your use of the <code>forks[]</code> array violates some dodgy assumption (e.g., like <i>my</i> dodgy assumption) that&#39;s built-in to the test harness."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686438596,"post_id":76438916,"comment_id":134799003,"body_markdown":"Maybe a dumb question but, Your code assumes a ring of exactly five philosophers. Five _is_ the traditional number, but a simulation could be constructed for any number of philosophers greater than one. Are you certain that your code will only ever be tested on a ring of five?","body":"Maybe a dumb question but, Your code assumes a ring of exactly five philosophers. Five <i>is</i> the traditional number, but a simulation could be constructed for any number of philosophers greater than one. Are you certain that your code will only ever be tested on a ring of five?"}],"owner":{"account_id":4123584,"reputation":1,"user_id":10290799,"display_name":"statviks"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686314815,"creation_date":1686302562,"question_id":76438916,"body_markdown":"# Question\r\nFive silent philosophers sit at a round table with bowls of spaghetti. Forks are placed between each pair of adjacent philosophers.\r\n\r\nEach philosopher must alternately think and eat. However, a philosopher can only eat spaghetti when they have both left and right forks. Each fork can be held by only one philosopher and so a philosopher can use the fork only if it is not being used by another philosopher. After an individual philosopher finishes eating, they need to put down both forks so that the forks become available to others. A philosopher can take the fork on their right or the one on their left as they become available, but cannot start eating before getting both forks.\r\n\r\nEating is not limited by the remaining amounts of spaghetti or stomach space; an infinite supply and an infinite demand are assumed.\r\n\r\nDesign a discipline of behaviour (a concurrent algorithm) such that no philosopher will starve; i.e., each can forever continue to alternate between eating and thinking, assuming that no philosopher can know when others may want to eat or think.\r\n\r\nThe philosophers&#39; ids are numbered from 0 to 4 in a clockwise order. Implement the function void wantsToEat(philosopher, pickLeftFork, pickRightFork, eat, putLeftFork, putRightFork) where:\r\n\r\n\r\n- philosopher is the id of the philosopher who wants to eat.\r\n- pickLeftFork and pickRightFork are functions you can call to pick the corresponding forks of that philosopher.\r\n- eat is a function you can call to let the philosopher eat once he has picked both forks.\r\n- putLeftFork and putRightFork are functions you can call to put down the corresponding forks of that philosopher.\r\n- The philosophers are assumed to be thinking as long as they are not asking to eat (the function is not being called with their number).\r\nFive threads, each representing a philosopher, will simultaneously use one object of your class to simulate the process. The function may be called for the same philosopher more than once, even before the last call ends.\r\n\r\n \r\n\r\n# Approach\r\n\r\nI have created two synchronized method to pick and put down forks. *wantToEat* waits untill both forks are picked and at the end it put down forks. \r\nDeadlock would be avoided as I am not holding one fork and waiting other to be available. *Hold and wait* will not be applicable. \r\n\r\nCorrect me if I am wrong, if a method is synchronized then:\r\n- Two threads can&#39;t execute the same method at a time.\r\n- Method would become atomic(i.e. the thread executing the method would complete executing the method before other thread can start executing ) and results of the method would be visible to other threads(i.e updates in boolean array would be visible to other threads).\r\n\r\nThe code is failing for few testcases. Can&#39;t think of a reason what could be the issue during concurrent execution. \r\n\r\n# Code\r\n```\r\nclass DiningPhilosophers {\r\n\r\n    private volatile boolean [] forks;\r\n\r\n    private int getRightFork(int index){\r\n        return (index+1)%5;\r\n    }\r\n\r\n    public DiningPhilosophers() {\r\n        forks = new boolean[5];\r\n    }\r\n\r\n    private synchronized boolean pickForks(int index){\r\n        int leftForkIndex = index;\r\n        int rightForkIndex = getRightFork(index);\r\n        if(!forks[leftForkIndex] &amp;&amp; !forks[rightForkIndex]){\r\n            forks[leftForkIndex] = true;\r\n            forks[rightForkIndex] = true;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private synchronized void putDownForks(int index){\r\n        int leftForkIndex = index;\r\n        int rightForkIndex = getRightFork(index);\r\n        if(forks[leftForkIndex] &amp;&amp; forks[rightForkIndex] ){\r\n            forks[leftForkIndex] = false;\r\n            forks[rightForkIndex] = false;\r\n        }\r\n    }\r\n\r\n    // call the run() method of any runnable to execute its code\r\n    public void wantsToEat(int philosopher,\r\n                           Runnable pickLeftFork,\r\n                           Runnable pickRightFork,\r\n                           Runnable eat,\r\n                           Runnable putLeftFork,\r\n                           Runnable putRightFork) throws InterruptedException {\r\n\r\n            while(!pickForks(philosopher)){\r\n                Thread.sleep(1);\r\n            }\r\n\r\n            pickLeftFork.run();\r\n            pickRightFork.run();\r\n            eat.run();\r\n            putLeftFork.run();\r\n            putRightFork.run();\r\n            putDownForks(philosopher);\r\n    }\r\n}\r\n\r\n```","title":"Concurrent solution for dining philosophers problem failing","body":"<h1>Question</h1>\n<p>Five silent philosophers sit at a round table with bowls of spaghetti. Forks are placed between each pair of adjacent philosophers.</p>\n<p>Each philosopher must alternately think and eat. However, a philosopher can only eat spaghetti when they have both left and right forks. Each fork can be held by only one philosopher and so a philosopher can use the fork only if it is not being used by another philosopher. After an individual philosopher finishes eating, they need to put down both forks so that the forks become available to others. A philosopher can take the fork on their right or the one on their left as they become available, but cannot start eating before getting both forks.</p>\n<p>Eating is not limited by the remaining amounts of spaghetti or stomach space; an infinite supply and an infinite demand are assumed.</p>\n<p>Design a discipline of behaviour (a concurrent algorithm) such that no philosopher will starve; i.e., each can forever continue to alternate between eating and thinking, assuming that no philosopher can know when others may want to eat or think.</p>\n<p>The philosophers' ids are numbered from 0 to 4 in a clockwise order. Implement the function void wantsToEat(philosopher, pickLeftFork, pickRightFork, eat, putLeftFork, putRightFork) where:</p>\n<ul>\n<li>philosopher is the id of the philosopher who wants to eat.</li>\n<li>pickLeftFork and pickRightFork are functions you can call to pick the corresponding forks of that philosopher.</li>\n<li>eat is a function you can call to let the philosopher eat once he has picked both forks.</li>\n<li>putLeftFork and putRightFork are functions you can call to put down the corresponding forks of that philosopher.</li>\n<li>The philosophers are assumed to be thinking as long as they are not asking to eat (the function is not being called with their number).\nFive threads, each representing a philosopher, will simultaneously use one object of your class to simulate the process. The function may be called for the same philosopher more than once, even before the last call ends.</li>\n</ul>\n<h1>Approach</h1>\n<p>I have created two synchronized method to pick and put down forks. <em>wantToEat</em> waits untill both forks are picked and at the end it put down forks.\nDeadlock would be avoided as I am not holding one fork and waiting other to be available. <em>Hold and wait</em> will not be applicable.</p>\n<p>Correct me if I am wrong, if a method is synchronized then:</p>\n<ul>\n<li>Two threads can't execute the same method at a time.</li>\n<li>Method would become atomic(i.e. the thread executing the method would complete executing the method before other thread can start executing ) and results of the method would be visible to other threads(i.e updates in boolean array would be visible to other threads).</li>\n</ul>\n<p>The code is failing for few testcases. Can't think of a reason what could be the issue during concurrent execution.</p>\n<h1>Code</h1>\n<pre><code>class DiningPhilosophers {\n\n    private volatile boolean [] forks;\n\n    private int getRightFork(int index){\n        return (index+1)%5;\n    }\n\n    public DiningPhilosophers() {\n        forks = new boolean[5];\n    }\n\n    private synchronized boolean pickForks(int index){\n        int leftForkIndex = index;\n        int rightForkIndex = getRightFork(index);\n        if(!forks[leftForkIndex] &amp;&amp; !forks[rightForkIndex]){\n            forks[leftForkIndex] = true;\n            forks[rightForkIndex] = true;\n            return true;\n        }\n        return false;\n    }\n\n    private synchronized void putDownForks(int index){\n        int leftForkIndex = index;\n        int rightForkIndex = getRightFork(index);\n        if(forks[leftForkIndex] &amp;&amp; forks[rightForkIndex] ){\n            forks[leftForkIndex] = false;\n            forks[rightForkIndex] = false;\n        }\n    }\n\n    // call the run() method of any runnable to execute its code\n    public void wantsToEat(int philosopher,\n                           Runnable pickLeftFork,\n                           Runnable pickRightFork,\n                           Runnable eat,\n                           Runnable putLeftFork,\n                           Runnable putRightFork) throws InterruptedException {\n\n            while(!pickForks(philosopher)){\n                Thread.sleep(1);\n            }\n\n            pickLeftFork.run();\n            pickRightFork.run();\n            eat.run();\n            putLeftFork.run();\n            putRightFork.run();\n            putDownForks(philosopher);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1686232135,"post_id":76432509,"comment_id":134773195,"body_markdown":"The component bean would be a singleton, so its instance variable should only be injected once.","body":"The component bean would be a singleton, so its instance variable should only be injected once."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686233832,"post_id":76432509,"comment_id":134773634,"body_markdown":"This wouldn&#39;t work as injection on `static` members isn&#39;t allowed.","body":"This wouldn&#39;t work as injection on <code>static</code> members isn&#39;t allowed."}],"answers":[{"comments":[{"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"score":1,"creation_date":1686825294,"post_id":76440227,"comment_id":134853966,"body_markdown":"That&#39;s what I was thinking, it was working just because `SomeBean` is a singleton bean (by chance). Thanks @jonathan","body":"That&#39;s what I was thinking, it was working just because <code>SomeBean</code> is a singleton bean (by chance). Thanks @jonathan"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1687419054,"post_id":76440227,"comment_id":134934734,"body_markdown":"You&#39;re welcome :) With IOC/DI, the need for static variables sorta just goes away. The DI container can assemble the object graph you need for you if you tell it what to do!","body":"You&#39;re welcome :) With IOC/DI, the need for static variables sorta just goes away. The DI container can assemble the object graph you need for you if you tell it what to do!"}],"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686314049,"creation_date":1686313498,"answer_id":76440227,"question_id":76432509,"body_markdown":"Spring, CDI (and likely others like Guice, etc) don&#39;t allow you to &quot;inject&quot; a bean into a `static` field as a rule. Why would this be?\r\n\r\nWhile Spring certainly _could_ support injecting contents into static fields, conflict would arise if two copies of the bean were managed since static fields are shard among all instances of the class. In your example, you have exactly one managed instance, and it would &quot;work&quot; in that very narrow scope, but projects aren&#39;t usually that simplistic, which is why it is not supported by Spring:\r\n\r\n```\r\n&lt;!-- not a real spring definition, just an example --&gt;\r\n&lt;bean id=&quot;example1&quot; class=&quot;com.example.SomeBean&quot;&gt;\r\n    &lt;property name=&quot;dependency&quot; value=&quot;dependencyV1&quot;/&gt;\r\n&lt;/bean&gt;\r\n&lt;bean id=&quot;example2&quot; class=&quot;com.example.SomeBean&quot;&gt;\r\n    &lt;property name=&quot;dependency&quot; value=&quot;alternateDependencyV2&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\n\r\nThere are other reasons around classloading, constructors, and the whole philosophy of DI/IOC, but that is the main reason.\r\n\r\nAnd there are ways to defeat this protection (not recommended): https://www.baeldung.com/spring-inject-static-field","title":"Inject a bean as static dependency","body":"<p>Spring, CDI (and likely others like Guice, etc) don't allow you to &quot;inject&quot; a bean into a <code>static</code> field as a rule. Why would this be?</p>\n<p>While Spring certainly <em>could</em> support injecting contents into static fields, conflict would arise if two copies of the bean were managed since static fields are shard among all instances of the class. In your example, you have exactly one managed instance, and it would &quot;work&quot; in that very narrow scope, but projects aren't usually that simplistic, which is why it is not supported by Spring:</p>\n<pre><code>&lt;!-- not a real spring definition, just an example --&gt;\n&lt;bean id=&quot;example1&quot; class=&quot;com.example.SomeBean&quot;&gt;\n    &lt;property name=&quot;dependency&quot; value=&quot;dependencyV1&quot;/&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;example2&quot; class=&quot;com.example.SomeBean&quot;&gt;\n    &lt;property name=&quot;dependency&quot; value=&quot;alternateDependencyV2&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>There are other reasons around classloading, constructors, and the whole philosophy of DI/IOC, but that is the main reason.</p>\n<p>And there are ways to defeat this protection (not recommended): <a href=\"https://www.baeldung.com/spring-inject-static-field\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-inject-static-field</a></p>\n"}],"owner":{"account_id":4108248,"reputation":552,"user_id":3371582,"display_name":"IJR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76440227,"answer_count":1,"score":0,"last_activity_date":1686314049,"creation_date":1686231890,"question_id":76432509,"body_markdown":"Inyecting dependency bean as static, could lead to problems?\r\n```\r\n@Component\r\npublic class SomeBean {\r\n    \r\n    @Autowired\r\n    private static DependencyBean dependency;\r\n    ...\r\n}\r\n```","title":"Inject a bean as static dependency","body":"<p>Inyecting dependency bean as static, could lead to problems?</p>\n<pre><code>@Component\npublic class SomeBean {\n    \n    @Autowired\n    private static DependencyBean dependency;\n    ...\n}\n</code></pre>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1686314260,"post_id":76440303,"comment_id":134785543,"body_markdown":"I&#39;m not on a mac so I can&#39;t test, but try `Files.readAttributes(path)`. Also, it&#39;s very possible that there&#39;s just no API for this in the Java core libraries.","body":"I&#39;m not on a mac so I can&#39;t test, but try <code>Files.readAttributes(path)</code>. Also, it&#39;s very possible that there&#39;s just no API for this in the Java core libraries."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686315198,"post_id":76440303,"comment_id":134785751,"body_markdown":"Try `System.out.println(Files.readAttributes(pathObject, &quot;user:*&quot;));`","body":"Try <code>System.out.println(Files.readAttributes(pathObject, &quot;user:*&quot;));</code>"}],"owner":{"account_id":22840943,"reputation":11,"user_id":16987971,"display_name":"MeMeBall"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686314046,"creation_date":1686314046,"question_id":76440303,"body_markdown":"I have been trying to find a way to read file tags with Java, however, I have hit a roadblock.\r\nI was hoping I can do something like this:\r\n```java\r\nString[] tags = file.getTags();\r\n```\r\n\r\nOr\r\n\r\n```java\r\nString[] tags = file.getAttributes().tags();\r\n```\r\n\r\nThe use of a third-party library would also be good.\r\n\r\nI was searching stuff up and found: https://stackoverflow.com/questions/2435580/tagging-files-with-colors-in-os-x-finder-from-shell-scripts and https://stackoverflow.com/questions/9607132/mac-os-x-finder-labels-in-java. However, both used a shell script.","title":"Read file tags in Java","body":"<p>I have been trying to find a way to read file tags with Java, however, I have hit a roadblock.\nI was hoping I can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] tags = file.getTags();\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] tags = file.getAttributes().tags();\n</code></pre>\n<p>The use of a third-party library would also be good.</p>\n<p>I was searching stuff up and found: <a href=\"https://stackoverflow.com/questions/2435580/tagging-files-with-colors-in-os-x-finder-from-shell-scripts\">Tagging files with colors in OS X Finder from shell scripts</a> and <a href=\"https://stackoverflow.com/questions/9607132/mac-os-x-finder-labels-in-java\">Mac OS X Finder Labels in Java</a>. However, both used a shell script.</p>\n"},{"tags":["java","cdn"],"answers":[{"comments":[{"owner":{"account_id":23684907,"reputation":7,"user_id":17709996,"display_name":"mavericano"},"score":0,"creation_date":1686741463,"post_id":76440300,"comment_id":134840006,"body_markdown":"Unfortunately, I have no control over CDN and its naming policies and since upon changing the avatar user&#39;s id stays the same, the name does not change and there is no way for me to affect it.","body":"Unfortunately, I have no control over CDN and its naming policies and since upon changing the avatar user&#39;s id stays the same, the name does not change and there is no way for me to affect it."},{"owner":{"account_id":9051441,"reputation":463,"user_id":6741399,"display_name":"MarcC"},"score":0,"creation_date":1686776816,"post_id":76440300,"comment_id":134847523,"body_markdown":"I&#39;m suggesting to replace the part &quot;hashing user&#39;s id and using it as a file name&quot;. This part has nothing to do with the CDN. Do you control the way you retrieve the file name associated with a user id?","body":"I&#39;m suggesting to replace the part &quot;hashing user&#39;s id and using it as a file name&quot;. This part has nothing to do with the CDN. Do you control the way you retrieve the file name associated with a user id?"},{"owner":{"account_id":23684907,"reputation":7,"user_id":17709996,"display_name":"mavericano"},"score":0,"creation_date":1686929623,"post_id":76440300,"comment_id":134870738,"body_markdown":"I do not retrieve it in any way, I can only get user&#39;s id and then hash it to get the filename.","body":"I do not retrieve it in any way, I can only get user&#39;s id and then hash it to get the filename."}],"tags":[],"owner":{"account_id":9051441,"reputation":463,"user_id":6741399,"display_name":"MarcC"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686314031,"creation_date":1686314031,"answer_id":76440300,"question_id":76421976,"body_markdown":"The best practice in this field is to make resources idempotent (ie. the content associated to a name cannot change, each content gets a unique name).\r\n\r\nSo if the user changes his avatar, you are actually creating a new resource with a new name.\r\nYou save the name as an attribute of the user profile and forget about the old one.\r\nWhen you want to display his avatar you look up for the name of the resource.\r\nThe CDN caches this new content.\r\n\r\nHope it helps.","title":"How to properly check for updates in a CDN?","body":"<p>The best practice in this field is to make resources idempotent (ie. the content associated to a name cannot change, each content gets a unique name).</p>\n<p>So if the user changes his avatar, you are actually creating a new resource with a new name.\nYou save the name as an attribute of the user profile and forget about the old one.\nWhen you want to display his avatar you look up for the name of the resource.\nThe CDN caches this new content.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":23684907,"reputation":7,"user_id":17709996,"display_name":"mavericano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686314031,"creation_date":1686131218,"question_id":76421976,"body_markdown":"I have a CDN, which stores avatars, one can get access to an avatar by hashing user&#39;s id and using it as a file name. I only get an avatar for a user and store it locally. But if a user decides to update his/her avatar, user does it through a different service. Once user updates his avatar, filename in the CDN does not change, but the file itself changes. So, the question is: how, from backend perspective, should I check for updates in CDN in order to always store the most recent avatar locally?","title":"How to properly check for updates in a CDN?","body":"<p>I have a CDN, which stores avatars, one can get access to an avatar by hashing user's id and using it as a file name. I only get an avatar for a user and store it locally. But if a user decides to update his/her avatar, user does it through a different service. Once user updates his avatar, filename in the CDN does not change, but the file itself changes. So, the question is: how, from backend perspective, should I check for updates in CDN in order to always store the most recent avatar locally?</p>\n"},{"tags":["java","json","elasticsearch"],"comments":[{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1523542688,"post_id":49798654,"comment_id":86612412,"body_markdown":"is the string a valid query? You might want to run that through kibana&#39;s dev console or try it out via curl.","body":"is the string a valid query? You might want to run that through kibana&#39;s dev console or try it out via curl."},{"owner":{"account_id":6989822,"reputation":121,"user_id":5359497,"display_name":"Julian8"},"score":0,"creation_date":1523552456,"post_id":49798654,"comment_id":86618974,"body_markdown":"Yes it is. I allready tested it.","body":"Yes it is. I allready tested it."},{"owner":{"account_id":1683292,"reputation":1594,"user_id":1547080,"accept_rate":43,"display_name":"ChrisDekker"},"score":1,"creation_date":1524341684,"post_id":49798654,"comment_id":86936019,"body_markdown":"Did you ever managed to get this working?","body":"Did you ever managed to get this working?"},{"owner":{"account_id":272022,"reputation":2174,"user_id":1759987,"accept_rate":59,"display_name":"Aaron"},"score":1,"creation_date":1525303397,"post_id":49798654,"comment_id":87307865,"body_markdown":"We ended up doing sterms#distinct_values for the &quot;&lt;aggregation_name&gt;&quot; (see https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html). We found the TYPE of the aggregation wasn&#39;t getting set otherwise. See also dadoonet&#39;s answer in https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/3","body":"We ended up doing sterms#distinct_values for the &quot;&lt;aggregation_name&gt;&quot; (see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>). We found the TYPE of the aggregation wasn&#39;t getting set otherwise. See also dadoonet&#39;s answer in <a href=\"https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/3\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/&hellip;</a>"},{"owner":{"account_id":202181,"reputation":919,"user_id":449081,"display_name":"Owen"},"score":0,"creation_date":1539966884,"post_id":49798654,"comment_id":92705562,"body_markdown":"I&#39;m having the same problem. I&#39;m using ES 6.3 and cannot construct a SearchResponse object from a json string using the example linked to by Aaron.","body":"I&#39;m having the same problem. I&#39;m using ES 6.3 and cannot construct a SearchResponse object from a json string using the example linked to by Aaron."},{"owner":{"account_id":1939934,"reputation":92,"user_id":1746356,"display_name":"Ambuj"},"score":0,"creation_date":1548235771,"post_id":49798654,"comment_id":95466510,"body_markdown":"Owen if you still need the answer for your question you can check my answer https://stackoverflow.com/questions/25425243/create-dummy-searchresponse-instance-for-elasticsearch-test-case/54322918#54322918 . Hopefully it will help","body":"Owen if you still need the answer for your question you can check my answer <a href=\"https://stackoverflow.com/questions/25425243/create-dummy-searchresponse-instance-for-elasticsearch-test-case/54322918#54322918\" title=\"create dummy searchresponse instance for elasticsearch test case\">stackoverflow.com/questions/25425243/&hellip;</a> . Hopefully it will help"}],"answers":[{"comments":[{"owner":{"account_id":449347,"reputation":115,"user_id":844080,"display_name":"Minh Khoi"},"score":1,"creation_date":1564555241,"post_id":57117845,"comment_id":101064425,"body_markdown":"Hi, I tried to do as your suggestion, however, the aggregation now has type as ParsedStringTerms instead of StringTerms. Do you have any idea how can I convert it back to StringTerms?","body":"Hi, I tried to do as your suggestion, however, the aggregation now has type as ParsedStringTerms instead of StringTerms. Do you have any idea how can I convert it back to StringTerms?"},{"owner":{"account_id":1153814,"reputation":3543,"user_id":1134961,"accept_rate":50,"display_name":"technocrat"},"score":0,"creation_date":1564572895,"post_id":57117845,"comment_id":101074137,"body_markdown":"What version of Elasticsearch are you on?  It&#39;s listed here: https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1776  If you add that to your getDefaultNamedXContents() map, does it work?","body":"What version of Elasticsearch are you on?  It&#39;s listed here: <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1776\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch/blob/master/client/&hellip;</a>  If you add that to your getDefaultNamedXContents() map, does it work?"},{"owner":{"account_id":449347,"reputation":115,"user_id":844080,"display_name":"Minh Khoi"},"score":1,"creation_date":1564644826,"post_id":57117845,"comment_id":101100723,"body_markdown":"I&#39;m using Elasticsearch 6.4.3. Moreover, the method ParsedStringTerms.fromXContent() return a ParsedStringTerm object instead of a StringTerm object.","body":"I&#39;m using Elasticsearch 6.4.3. Moreover, the method ParsedStringTerms.fromXContent() return a ParsedStringTerm object instead of a StringTerm object."},{"owner":{"account_id":50062,"reputation":5633,"user_id":149212,"display_name":"Matt Hulse"},"score":1,"creation_date":1594917859,"post_id":57117845,"comment_id":111302045,"body_markdown":"I see the same behavior as @MinhKhoi.  A ParsedStringTerms cannot be cast to a StringTerm object.","body":"I see the same behavior as @MinhKhoi.  A ParsedStringTerms cannot be cast to a StringTerm object."}],"tags":[],"owner":{"account_id":1153814,"reputation":3543,"user_id":1134961,"accept_rate":50,"display_name":"technocrat"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1563561890,"creation_date":1563560522,"answer_id":57117845,"question_id":49798654,"body_markdown":"**Background:**  \r\nI&#39;m writing this answer from my experience of creating a **SearchResponse** object for the purpose of writing a **Java Unit Test**.  The goal was to take any JSON response object from an Elasticsearch query, marshall that into a **SearchResponse** object, and Unit Test the business logic of creating a consumable output.\r\n\r\nWe&#39;re using Elasticsearch 6.7, the high-level rest client, and parsing the **SearchResponse** using Elastic&#39;s POJOs (vs just doing a .toString() and manipulating it with GSON or Jackson).\r\n\r\n\r\n**Explanation of the solution:**  \r\nElasticsearch&#39;s high-level rest client generically parses results from the low-level rest client.  The **SearchRequest**&#39;s response JSON is converted into a **SearchResponse** Object in the [**RestHighLevelClient**][1] on line 129 in the *search* method.  This method calls [*performRequestAndParseEntity*][2] on line 1401, which accepts an `entityParser` as a `CheckedFunction&lt;XContentParser, Resp, IOException&gt;`. Finally, we can see that when invoking the [`entityParser`][2] on line 1401, it calls the [`parseEntity`][3] method on line 1714 which determines the **XContentType** for the entity and ultimately performs the parse.  Notably, when the parser is created on line 1726 a [`registry`][3] is passed into the parser.  This *registry* contains all the possible XContent values a response field may be.  The *registry* is created when the **RestHighLevelClient** is constructed on [line 288][3]. The full list of types, including Aggregation types, is listed on [line 1748][4].\r\n\r\n\r\n**Onto the solution:**  \r\nAfter reading the Elasticsearch discussion on this, it would appear that if you want to inject a JSON Response from Elastic into the **SearchResponse** object, it is necessary to create a **NamedXContentRegistry** and list of XContents testing you have to re-create the parsing.  A helper method to do that, [sourced from Elastic&#39;s discussion][5]:\r\n\r\n    public static List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\r\n        Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(TopHitsAggregationBuilder.NAME, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\r\n        map.put(StringTerms.NAME, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\r\n        List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\r\n                .map(entry -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField(entry.getKey()), entry.getValue()))\r\n                .collect(Collectors.toList());\r\n      return entries;\r\n    }\r\n\r\nThe map in the above code needs to have ***ALL*** of the Aggregations that&#39;s necessary for your test. There are more than two, two are here for brevity.\r\n\r\nUsing this helper getNamedXContents() method, you can now use the following method to take a JSON String and inject it into the SearchResponse.  [Also sourced from Elastic&#39;s Discussion][5]:\r\n\r\n    public static SearchResponse getSearchResponseFromJson(String jsonResponse){\r\n        try {\r\n            NamedXContentRegistry registry = new NamedXContentRegistry(getDefaultNamedXContents());\r\n            XContentParser parser = JsonXContent.jsonXContent.createParser(registry, jsonResponse);\r\n            return SearchResponse.fromXContent(parser);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;exception &quot; + e);\r\n        }catch (Exception e){\r\n            System.out.println(&quot;exception &quot; + e);\r\n        }\r\n        return new SearchResponse();\r\n    }\r\n\r\n**Applying the solution with an Aggregation result:**  \r\nElasticsearch needs a hint to know what type of aggregation to parse this as.  The hint is provided by elastic when adding **?typed_keys** to the query.  An example is shown in the Elasticsearch documentation on [Aggregation Type Hints][6].\r\n\r\nTo inject the JSON String into a **SearchResponse** object, one must (1) Use the methods above and (2) Inject a string with type hints in it.\r\n\r\n**Primary Sources:**\r\n\r\n 1. https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6\r\n 2. https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java \r\n 3. https://github.com/elastic/elasticsearch/blob/master/test/framework/src/main/java/org/elasticsearch/test/InternalAggregationTestCase.java\r\n 4. https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-aggregation-type.html\r\n\r\n\r\nNote: There are a lot of articles from circa-2015 that say this is impossible.  That is obviously incorrect.\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L929\r\n  [2]: https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1401\r\n  [3]: https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L288\r\n  [4]: https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1748\r\n  [5]: https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6\r\n  [6]: https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-aggregation-type.html","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p><strong>Background:</strong><br>\nI'm writing this answer from my experience of creating a <strong>SearchResponse</strong> object for the purpose of writing a <strong>Java Unit Test</strong>.  The goal was to take any JSON response object from an Elasticsearch query, marshall that into a <strong>SearchResponse</strong> object, and Unit Test the business logic of creating a consumable output.</p>\n\n<p>We're using Elasticsearch 6.7, the high-level rest client, and parsing the <strong>SearchResponse</strong> using Elastic's POJOs (vs just doing a .toString() and manipulating it with GSON or Jackson).</p>\n\n<p><strong>Explanation of the solution:</strong><br>\nElasticsearch's high-level rest client generically parses results from the low-level rest client.  The <strong>SearchRequest</strong>'s response JSON is converted into a <strong>SearchResponse</strong> Object in the <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L929\" rel=\"noreferrer\"><strong>RestHighLevelClient</strong></a> on line 129 in the <em>search</em> method.  This method calls <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1401\" rel=\"noreferrer\"><em>performRequestAndParseEntity</em></a> on line 1401, which accepts an <code>entityParser</code> as a <code>CheckedFunction&lt;XContentParser, Resp, IOException&gt;</code>. Finally, we can see that when invoking the <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1401\" rel=\"noreferrer\"><code>entityParser</code></a> on line 1401, it calls the <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L288\" rel=\"noreferrer\"><code>parseEntity</code></a> method on line 1714 which determines the <strong>XContentType</strong> for the entity and ultimately performs the parse.  Notably, when the parser is created on line 1726 a <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L288\" rel=\"noreferrer\"><code>registry</code></a> is passed into the parser.  This <em>registry</em> contains all the possible XContent values a response field may be.  The <em>registry</em> is created when the <strong>RestHighLevelClient</strong> is constructed on <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L288\" rel=\"noreferrer\">line 288</a>. The full list of types, including Aggregation types, is listed on <a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java#L1748\" rel=\"noreferrer\">line 1748</a>.</p>\n\n<p><strong>Onto the solution:</strong><br>\nAfter reading the Elasticsearch discussion on this, it would appear that if you want to inject a JSON Response from Elastic into the <strong>SearchResponse</strong> object, it is necessary to create a <strong>NamedXContentRegistry</strong> and list of XContents testing you have to re-create the parsing.  A helper method to do that, <a href=\"https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6\" rel=\"noreferrer\">sourced from Elastic's discussion</a>:</p>\n\n<pre><code>public static List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\n    Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(TopHitsAggregationBuilder.NAME, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\n    map.put(StringTerms.NAME, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\n    List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\n            .map(entry -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField(entry.getKey()), entry.getValue()))\n            .collect(Collectors.toList());\n  return entries;\n}\n</code></pre>\n\n<p>The map in the above code needs to have <strong><em>ALL</em></strong> of the Aggregations that's necessary for your test. There are more than two, two are here for brevity.</p>\n\n<p>Using this helper getNamedXContents() method, you can now use the following method to take a JSON String and inject it into the SearchResponse.  <a href=\"https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6\" rel=\"noreferrer\">Also sourced from Elastic's Discussion</a>:</p>\n\n<pre><code>public static SearchResponse getSearchResponseFromJson(String jsonResponse){\n    try {\n        NamedXContentRegistry registry = new NamedXContentRegistry(getDefaultNamedXContents());\n        XContentParser parser = JsonXContent.jsonXContent.createParser(registry, jsonResponse);\n        return SearchResponse.fromXContent(parser);\n    } catch (IOException e) {\n        System.out.println(\"exception \" + e);\n    }catch (Exception e){\n        System.out.println(\"exception \" + e);\n    }\n    return new SearchResponse();\n}\n</code></pre>\n\n<p><strong>Applying the solution with an Aggregation result:</strong><br>\nElasticsearch needs a hint to know what type of aggregation to parse this as.  The hint is provided by elastic when adding <strong>?typed_keys</strong> to the query.  An example is shown in the Elasticsearch documentation on <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-aggregation-type.html\" rel=\"noreferrer\">Aggregation Type Hints</a>.</p>\n\n<p>To inject the JSON String into a <strong>SearchResponse</strong> object, one must (1) Use the methods above and (2) Inject a string with type hints in it.</p>\n\n<p><strong>Primary Sources:</strong></p>\n\n<ol>\n<li><a href=\"https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6\" rel=\"noreferrer\">https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394/6</a></li>\n<li><a href=\"https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java\" rel=\"noreferrer\">https://github.com/elastic/elasticsearch/blob/master/client/rest-high-level/src/main/java/org/elasticsearch/client/RestHighLevelClient.java</a> </li>\n<li><a href=\"https://github.com/elastic/elasticsearch/blob/master/test/framework/src/main/java/org/elasticsearch/test/InternalAggregationTestCase.java\" rel=\"noreferrer\">https://github.com/elastic/elasticsearch/blob/master/test/framework/src/main/java/org/elasticsearch/test/InternalAggregationTestCase.java</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-aggregation-type.html\" rel=\"noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/returning-aggregation-type.html</a></li>\n</ol>\n\n<p>Note: There are a lot of articles from circa-2015 that say this is impossible.  That is obviously incorrect.</p>\n"},{"tags":[],"owner":{"account_id":16480686,"reputation":61,"user_id":11907534,"display_name":"Dan Petrescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575273323,"creation_date":1575273323,"answer_id":59134652,"question_id":49798654,"body_markdown":"Based on the answer above, I managed to do it like this:\r\n\r\nI wrote an JSON like this:\r\n\r\n    XContentBuilder builder = XContentFactory.jsonBuilder();\r\n    response.toXContent(builder, ToXContent.EMPTY_PARAMS);\r\n    String result = Strings.toString(builder);\r\n\r\nand then I manged to read it like this:\r\n\r\n     try {\r\n         NamedXContentRegistry registry = new NamedXContentRegistry(getDefaultNamedXContents());\r\n         XContentParser parser = JsonXContent.jsonXContent.createParser(registry, DeprecationHandler.THROW_UNSUPPORTED_OPERATION, result);\r\n         SearchResponse searchResponse = SearchResponse.fromXContent(parser);\r\n     } catch (IOException e) {\r\n         System.out.println(&quot;exception &quot; + e);\r\n     } catch (Exception e) {\r\n         System.out.println(&quot;exception &quot; + e);\r\n     }\r\n\r\n    public static List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\r\n        Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(TopHitsAggregationBuilder.NAME, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\r\n        map.put(StringTerms.NAME, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\r\n        List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\r\n                .map(entry -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField(entry.getKey()), entry.getValue()))\r\n                .collect(Collectors.toList());\r\n        return entries;\r\n    }\r\n\r\nHope it works :)\r\n\r\n","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p>Based on the answer above, I managed to do it like this:</p>\n\n<p>I wrote an JSON like this:</p>\n\n<pre><code>XContentBuilder builder = XContentFactory.jsonBuilder();\nresponse.toXContent(builder, ToXContent.EMPTY_PARAMS);\nString result = Strings.toString(builder);\n</code></pre>\n\n<p>and then I manged to read it like this:</p>\n\n<pre><code> try {\n     NamedXContentRegistry registry = new NamedXContentRegistry(getDefaultNamedXContents());\n     XContentParser parser = JsonXContent.jsonXContent.createParser(registry, DeprecationHandler.THROW_UNSUPPORTED_OPERATION, result);\n     SearchResponse searchResponse = SearchResponse.fromXContent(parser);\n } catch (IOException e) {\n     System.out.println(\"exception \" + e);\n } catch (Exception e) {\n     System.out.println(\"exception \" + e);\n }\n\npublic static List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\n    Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(TopHitsAggregationBuilder.NAME, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\n    map.put(StringTerms.NAME, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\n    List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\n            .map(entry -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField(entry.getKey()), entry.getValue()))\n            .collect(Collectors.toList());\n    return entries;\n}\n</code></pre>\n\n<p>Hope it works :)</p>\n"},{"tags":[],"owner":{"account_id":22289916,"reputation":11,"user_id":16516982,"display_name":"Damon DG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627146004,"creation_date":1627133729,"answer_id":68510489,"question_id":49798654,"body_markdown":"you need to add `?typed_keys` end of your request URL, such as `/cranking/_search?typed_keys`, take a look at this [reference][1].\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html#return-agg-type\r\n\r\nand you&#39;d better add more `parse` registry in the `NamedXContentRegistry` just like the framework source code. Following is all of the registry entry:\r\n\r\n    \r\n    private List&lt;NamedXContentRegistry.Entry&gt; getProvidedNamedXContents() {\r\n        List&lt;NamedXContentRegistry.Entry&gt; entries = new ArrayList&lt;&gt;();\r\n\r\n        for (NamedXContentProvider service : ServiceLoader.load(NamedXContentProvider.class)) {\r\n            entries.addAll(service.getNamedXContentParsers());\r\n        }\r\n\r\n        return entries;\r\n    }\r\n    \r\n    private NamedXContentRegistry getDefaultNamedXContentRegistry() {\r\n        List&lt;NamedXContentRegistry.Entry&gt; entries = new ArrayList&lt;&gt;();\r\n        entries.addAll(getDefaultNamedXContents());\r\n        entries.addAll(getProvidedNamedXContents());\r\n        return new NamedXContentRegistry(entries);\r\n    }\r\n\r\n\r\n    private List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\r\n        Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;cardinality&quot;, (p, c) -&gt; ParsedCardinality.fromXContent(p, (String) c));\r\n        map.put(&quot;hdr_percentiles&quot;, (p, c) -&gt; ParsedHDRPercentiles.fromXContent(p, (String) c));\r\n        map.put(&quot;hdr_percentile_ranks&quot;, (p, c) -&gt; ParsedHDRPercentileRanks.fromXContent(p, (String) c));\r\n        map.put(&quot;tdigest_percentiles&quot;, (p, c) -&gt; ParsedTDigestPercentiles.fromXContent(p, (String) c));\r\n        map.put(&quot;tdigest_percentile_ranks&quot;, (p, c) -&gt; ParsedTDigestPercentileRanks.fromXContent(p, (String) c));\r\n        map.put(&quot;percentiles_bucket&quot;, (p, c) -&gt; ParsedPercentilesBucket.fromXContent(p, (String) c));\r\n        map.put(&quot;min&quot;, (p, c) -&gt; ParsedMin.fromXContent(p, (String) c));\r\n        map.put(&quot;max&quot;, (p, c) -&gt; ParsedMax.fromXContent(p, (String) c));\r\n        map.put(&quot;sum&quot;, (p, c) -&gt; ParsedSum.fromXContent(p, (String) c));\r\n        map.put(&quot;avg&quot;, (p, c) -&gt; ParsedAvg.fromXContent(p, (String) c));\r\n        map.put(&quot;value_count&quot;, (p, c) -&gt; ParsedValueCount.fromXContent(p, (String) c));\r\n        map.put(&quot;simple_value&quot;, (p, c) -&gt; ParsedSimpleValue.fromXContent(p, (String) c));\r\n        map.put(&quot;derivative&quot;, (p, c) -&gt; ParsedDerivative.fromXContent(p, (String) c));\r\n        map.put(&quot;bucket_metric_value&quot;, (p, c) -&gt; ParsedBucketMetricValue.fromXContent(p, (String) c));\r\n        map.put(&quot;stats&quot;, (p, c) -&gt; ParsedStats.fromXContent(p, (String) c));\r\n        map.put(&quot;stats_bucket&quot;, (p, c) -&gt; ParsedStatsBucket.fromXContent(p, (String) c));\r\n        map.put(&quot;extended_stats&quot;, (p, c) -&gt; ParsedExtendedStats.fromXContent(p, (String) c));\r\n        map.put(&quot;extended_stats_bucket&quot;, (p, c) -&gt; ParsedExtendedStatsBucket.fromXContent(p, (String) c));\r\n        map.put(&quot;geo_bounds&quot;, (p, c) -&gt; ParsedGeoBounds.fromXContent(p, (String) c));\r\n        map.put(&quot;geo_centroid&quot;, (p, c) -&gt; ParsedGeoCentroid.fromXContent(p, (String) c));\r\n        map.put(&quot;histogram&quot;, (p, c) -&gt; ParsedHistogram.fromXContent(p, (String) c));\r\n        map.put(&quot;date_histogram&quot;, (p, c) -&gt; ParsedDateHistogram.fromXContent(p, (String) c));\r\n        map.put(&quot;sterms&quot;, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\r\n        map.put(&quot;lterms&quot;, (p, c) -&gt; ParsedLongTerms.fromXContent(p, (String) c));\r\n        map.put(&quot;dterms&quot;, (p, c) -&gt; ParsedDoubleTerms.fromXContent(p, (String) c));\r\n        map.put(&quot;missing&quot;, (p, c) -&gt; ParsedMissing.fromXContent(p, (String) c));\r\n        map.put(&quot;nested&quot;, (p, c) -&gt; ParsedNested.fromXContent(p, (String) c));\r\n        map.put(&quot;reverse_nested&quot;, (p, c) -&gt; ParsedReverseNested.fromXContent(p, (String) c));\r\n        map.put(&quot;global&quot;, (p, c) -&gt; ParsedGlobal.fromXContent(p, (String) c));\r\n        map.put(&quot;filter&quot;, (p, c) -&gt; ParsedFilter.fromXContent(p, (String) c));\r\n        map.put(&quot;sampler&quot;, (p, c) -&gt; ParsedSampler.fromXContent(p, (String) c));\r\n        map.put(&quot;geohash_grid&quot;, (p, c) -&gt; ParsedGeoHashGrid.fromXContent(p, (String) c));\r\n        map.put(&quot;range&quot;, (p, c) -&gt; ParsedRange.fromXContent(p, (String) c));\r\n        map.put(&quot;date_range&quot;, (p, c) -&gt; ParsedDateRange.fromXContent(p, (String) c));\r\n        map.put(&quot;geo_distance&quot;, (p, c) -&gt; ParsedGeoDistance.fromXContent(p, (String) c));\r\n        map.put(&quot;filters&quot;, (p, c) -&gt; ParsedFilters.fromXContent(p, (String) c));\r\n        map.put(&quot;adjacency_matrix&quot;, (p, c) -&gt; ParsedAdjacencyMatrix.fromXContent(p, (String) c));\r\n        map.put(&quot;siglterms&quot;, (p, c) -&gt; ParsedSignificantLongTerms.fromXContent(p, (String) c));\r\n        map.put(&quot;sigsterms&quot;, (p, c) -&gt; ParsedSignificantStringTerms.fromXContent(p, (String) c));\r\n        map.put(&quot;scripted_metric&quot;, (p, c) -&gt; ParsedScriptedMetric.fromXContent(p, (String) c));\r\n        map.put(&quot;ip_range&quot;, (p, c) -&gt; ParsedBinaryRange.fromXContent(p, (String) c));\r\n        map.put(&quot;top_hits&quot;, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\r\n        map.put(&quot;composite&quot;, (p, c) -&gt; ParsedComposite.fromXContent(p, (String) c));\r\n        List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\r\n                .map((entry) -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField((String) entry.getKey()), entry.getValue()))\r\n                .collect(Collectors.toList());\r\n        entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;term&quot;), (parser, context) -&gt; TermSuggestion.fromXContent(parser, (String) context)));\r\n        entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;phrase&quot;), (parser, context) -&gt; PhraseSuggestion.fromXContent(parser, (String) context)));\r\n        entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;completion&quot;), (parser, context) -&gt; CompletionSuggestion.fromXContent(parser, (String) context)));\r\n        return entries;\r\n    }","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p>you need to add <code>?typed_keys</code> end of your request URL, such as <code>/cranking/_search?typed_keys</code>, take a look at this <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html#return-agg-type\" rel=\"nofollow noreferrer\">reference</a>.</p>\n<p>and you'd better add more <code>parse</code> registry in the <code>NamedXContentRegistry</code> just like the framework source code. Following is all of the registry entry:</p>\n<pre><code>private List&lt;NamedXContentRegistry.Entry&gt; getProvidedNamedXContents() {\n    List&lt;NamedXContentRegistry.Entry&gt; entries = new ArrayList&lt;&gt;();\n\n    for (NamedXContentProvider service : ServiceLoader.load(NamedXContentProvider.class)) {\n        entries.addAll(service.getNamedXContentParsers());\n    }\n\n    return entries;\n}\n\nprivate NamedXContentRegistry getDefaultNamedXContentRegistry() {\n    List&lt;NamedXContentRegistry.Entry&gt; entries = new ArrayList&lt;&gt;();\n    entries.addAll(getDefaultNamedXContents());\n    entries.addAll(getProvidedNamedXContents());\n    return new NamedXContentRegistry(entries);\n}\n\n\nprivate List&lt;NamedXContentRegistry.Entry&gt; getDefaultNamedXContents() {\n    Map&lt;String, ContextParser&lt;Object, ? extends Aggregation&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;cardinality&quot;, (p, c) -&gt; ParsedCardinality.fromXContent(p, (String) c));\n    map.put(&quot;hdr_percentiles&quot;, (p, c) -&gt; ParsedHDRPercentiles.fromXContent(p, (String) c));\n    map.put(&quot;hdr_percentile_ranks&quot;, (p, c) -&gt; ParsedHDRPercentileRanks.fromXContent(p, (String) c));\n    map.put(&quot;tdigest_percentiles&quot;, (p, c) -&gt; ParsedTDigestPercentiles.fromXContent(p, (String) c));\n    map.put(&quot;tdigest_percentile_ranks&quot;, (p, c) -&gt; ParsedTDigestPercentileRanks.fromXContent(p, (String) c));\n    map.put(&quot;percentiles_bucket&quot;, (p, c) -&gt; ParsedPercentilesBucket.fromXContent(p, (String) c));\n    map.put(&quot;min&quot;, (p, c) -&gt; ParsedMin.fromXContent(p, (String) c));\n    map.put(&quot;max&quot;, (p, c) -&gt; ParsedMax.fromXContent(p, (String) c));\n    map.put(&quot;sum&quot;, (p, c) -&gt; ParsedSum.fromXContent(p, (String) c));\n    map.put(&quot;avg&quot;, (p, c) -&gt; ParsedAvg.fromXContent(p, (String) c));\n    map.put(&quot;value_count&quot;, (p, c) -&gt; ParsedValueCount.fromXContent(p, (String) c));\n    map.put(&quot;simple_value&quot;, (p, c) -&gt; ParsedSimpleValue.fromXContent(p, (String) c));\n    map.put(&quot;derivative&quot;, (p, c) -&gt; ParsedDerivative.fromXContent(p, (String) c));\n    map.put(&quot;bucket_metric_value&quot;, (p, c) -&gt; ParsedBucketMetricValue.fromXContent(p, (String) c));\n    map.put(&quot;stats&quot;, (p, c) -&gt; ParsedStats.fromXContent(p, (String) c));\n    map.put(&quot;stats_bucket&quot;, (p, c) -&gt; ParsedStatsBucket.fromXContent(p, (String) c));\n    map.put(&quot;extended_stats&quot;, (p, c) -&gt; ParsedExtendedStats.fromXContent(p, (String) c));\n    map.put(&quot;extended_stats_bucket&quot;, (p, c) -&gt; ParsedExtendedStatsBucket.fromXContent(p, (String) c));\n    map.put(&quot;geo_bounds&quot;, (p, c) -&gt; ParsedGeoBounds.fromXContent(p, (String) c));\n    map.put(&quot;geo_centroid&quot;, (p, c) -&gt; ParsedGeoCentroid.fromXContent(p, (String) c));\n    map.put(&quot;histogram&quot;, (p, c) -&gt; ParsedHistogram.fromXContent(p, (String) c));\n    map.put(&quot;date_histogram&quot;, (p, c) -&gt; ParsedDateHistogram.fromXContent(p, (String) c));\n    map.put(&quot;sterms&quot;, (p, c) -&gt; ParsedStringTerms.fromXContent(p, (String) c));\n    map.put(&quot;lterms&quot;, (p, c) -&gt; ParsedLongTerms.fromXContent(p, (String) c));\n    map.put(&quot;dterms&quot;, (p, c) -&gt; ParsedDoubleTerms.fromXContent(p, (String) c));\n    map.put(&quot;missing&quot;, (p, c) -&gt; ParsedMissing.fromXContent(p, (String) c));\n    map.put(&quot;nested&quot;, (p, c) -&gt; ParsedNested.fromXContent(p, (String) c));\n    map.put(&quot;reverse_nested&quot;, (p, c) -&gt; ParsedReverseNested.fromXContent(p, (String) c));\n    map.put(&quot;global&quot;, (p, c) -&gt; ParsedGlobal.fromXContent(p, (String) c));\n    map.put(&quot;filter&quot;, (p, c) -&gt; ParsedFilter.fromXContent(p, (String) c));\n    map.put(&quot;sampler&quot;, (p, c) -&gt; ParsedSampler.fromXContent(p, (String) c));\n    map.put(&quot;geohash_grid&quot;, (p, c) -&gt; ParsedGeoHashGrid.fromXContent(p, (String) c));\n    map.put(&quot;range&quot;, (p, c) -&gt; ParsedRange.fromXContent(p, (String) c));\n    map.put(&quot;date_range&quot;, (p, c) -&gt; ParsedDateRange.fromXContent(p, (String) c));\n    map.put(&quot;geo_distance&quot;, (p, c) -&gt; ParsedGeoDistance.fromXContent(p, (String) c));\n    map.put(&quot;filters&quot;, (p, c) -&gt; ParsedFilters.fromXContent(p, (String) c));\n    map.put(&quot;adjacency_matrix&quot;, (p, c) -&gt; ParsedAdjacencyMatrix.fromXContent(p, (String) c));\n    map.put(&quot;siglterms&quot;, (p, c) -&gt; ParsedSignificantLongTerms.fromXContent(p, (String) c));\n    map.put(&quot;sigsterms&quot;, (p, c) -&gt; ParsedSignificantStringTerms.fromXContent(p, (String) c));\n    map.put(&quot;scripted_metric&quot;, (p, c) -&gt; ParsedScriptedMetric.fromXContent(p, (String) c));\n    map.put(&quot;ip_range&quot;, (p, c) -&gt; ParsedBinaryRange.fromXContent(p, (String) c));\n    map.put(&quot;top_hits&quot;, (p, c) -&gt; ParsedTopHits.fromXContent(p, (String) c));\n    map.put(&quot;composite&quot;, (p, c) -&gt; ParsedComposite.fromXContent(p, (String) c));\n    List&lt;NamedXContentRegistry.Entry&gt; entries = map.entrySet().stream()\n            .map((entry) -&gt; new NamedXContentRegistry.Entry(Aggregation.class, new ParseField((String) entry.getKey()), entry.getValue()))\n            .collect(Collectors.toList());\n    entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;term&quot;), (parser, context) -&gt; TermSuggestion.fromXContent(parser, (String) context)));\n    entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;phrase&quot;), (parser, context) -&gt; PhraseSuggestion.fromXContent(parser, (String) context)));\n    entries.add(new NamedXContentRegistry.Entry(Suggest.Suggestion.class, new ParseField(&quot;completion&quot;), (parser, context) -&gt; CompletionSuggestion.fromXContent(parser, (String) context)));\n    return entries;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636465182,"creation_date":1636465182,"answer_id":69899194,"question_id":49798654,"body_markdown":"I ran into the same problem using ElasticSearch 7.15. The answer given by technocrat above, really helped to crack this down but it still didn&#39;t work for me as the aggregates were not recognized.\r\nThe aggregations in my JSON looked like the one below:\r\n\r\n    {\r\n      ...\r\n      &quot;aggregations&quot;: {\r\n        &quot;my-agg-name&quot;: {                 \r\n          &quot;buckets&quot;: []\r\n        }\r\n      }\r\n    }\r\n\r\nLike explained in [this article][1] the issue was due to the expectation of aggregations to come back in the response as **sterms#my-agg-name** while the original JSON contained just the name of the aggregation **my-agg-name**.\r\nUsing the code above and also adding the relevant aggregation type to the registry did not work.\r\n\r\nI found out that a simple solution consists in returning the aggregation type in the response. So as per the example in [the official documentation for the aggregation feature][2], adding ***typed_key*** to my aggregation request:\r\n\r\n    GET /my-index-000001/_search?typed_keys\r\n    {\r\n      &quot;aggs&quot;: {\r\n        &quot;my-agg-name&quot;: {\r\n          &quot;histogram&quot;: {\r\n            &quot;field&quot;: &quot;my-field&quot;,\r\n            &quot;interval&quot;: 1000\r\n          }\r\n        }\r\n      }\r\n    } \r\n\r\nwill return relevant aggregate types in the response as you can see below (***histogram#my-agg-name***):\r\n\r\n    {\r\n      ...\r\n      &quot;aggregations&quot;: {\r\n        &quot;histogram#my-agg-name&quot;: {                 \r\n          &quot;buckets&quot;: []\r\n        }\r\n      }\r\n    }\r\n\r\nNow the parser will recognize the relevant aggregation type and the conversion will be successful.\r\nIf it doesn&#39;t then please make sure that the aggregation type returned in the answer is included in the registry map as per previous answers.\r\nThis worked for me with ElasticSearch 7.15.\r\n\r\n\r\n\r\n\r\n  [1]: https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p>I ran into the same problem using ElasticSearch 7.15. The answer given by technocrat above, really helped to crack this down but it still didn't work for me as the aggregates were not recognized.\nThe aggregations in my JSON looked like the one below:</p>\n<pre><code>{\n  ...\n  &quot;aggregations&quot;: {\n    &quot;my-agg-name&quot;: {                 \n      &quot;buckets&quot;: []\n    }\n  }\n}\n</code></pre>\n<p>Like explained in <a href=\"https://discuss.elastic.co/t/elasticsearch-json-response-to-searchresponse-object/124394\" rel=\"nofollow noreferrer\">this article</a> the issue was due to the expectation of aggregations to come back in the response as <strong>sterms#my-agg-name</strong> while the original JSON contained just the name of the aggregation <strong>my-agg-name</strong>.\nUsing the code above and also adding the relevant aggregation type to the registry did not work.</p>\n<p>I found out that a simple solution consists in returning the aggregation type in the response. So as per the example in <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html\" rel=\"nofollow noreferrer\">the official documentation for the aggregation feature</a>, adding <em><strong>typed_key</strong></em> to my aggregation request:</p>\n<pre><code>GET /my-index-000001/_search?typed_keys\n{\n  &quot;aggs&quot;: {\n    &quot;my-agg-name&quot;: {\n      &quot;histogram&quot;: {\n        &quot;field&quot;: &quot;my-field&quot;,\n        &quot;interval&quot;: 1000\n      }\n    }\n  }\n} \n</code></pre>\n<p>will return relevant aggregate types in the response as you can see below (<em><strong>histogram#my-agg-name</strong></em>):</p>\n<pre><code>{\n  ...\n  &quot;aggregations&quot;: {\n    &quot;histogram#my-agg-name&quot;: {                 \n      &quot;buckets&quot;: []\n    }\n  }\n}\n</code></pre>\n<p>Now the parser will recognize the relevant aggregation type and the conversion will be successful.\nIf it doesn't then please make sure that the aggregation type returned in the answer is included in the registry map as per previous answers.\nThis worked for me with ElasticSearch 7.15.</p>\n"},{"tags":[],"owner":{"account_id":11935386,"reputation":1283,"user_id":8734046,"display_name":"jwpol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686313630,"creation_date":1686313630,"answer_id":76440250,"question_id":49798654,"body_markdown":"Let me approach the problem from a different direction. What do you need ```SearchResponse``` for? In most of the cases you need it in test to be returned from for example ```RestHighLevelClient``` search methods when you want to test a service logic.\r\n\r\nIf so, then why not to mock the ```SearchResponse```? \r\nLet&#39;s say you receive a ```SearchResponse``` for the following ES query:\r\n```\r\nGET index_name/_search\r\n{\r\n  &quot;aggs&quot;: {\r\n    &quot;AGG_NAME&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;someField&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nand the response:\r\n```json\r\n{\r\n  &quot;aggregations&quot; : {\r\n    &quot;AGG_NAME&quot;: {\r\n      &quot;buckets&quot;: [\r\n        {\r\n          &quot;key&quot;: &quot;AAA&quot;,\r\n          &quot;doc_count&quot;: 100\r\n        },\r\n        {\r\n          &quot;key&quot;: &quot;BBB&quot;,\r\n          &quot;doc_count&quot;: 200\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\nNow in the service you convert it into the ```Map&lt;String, Long&gt;``` having the bucket count:\r\n```java\r\n    Map&lt;String, Long&gt; searchResponseToMap(SearchResponse searchResponse) {\r\n        var buckets = Optional.ofNullable(searchResponse)\r\n            .map(SearchResponse::getAggregations)\r\n            .map(aggregations -&gt; (ParsedStringTerms) aggregations.get(&quot;AGG_NAME&quot;))\r\n            .map(ParsedTerms::getBuckets)\r\n            .orElse(List.of());\r\n\r\n        return buckets.stream().collect(Collectors.toMap(Bucket::getKeyAsString, Bucket::getDocCount));\r\n    }\r\n\r\n```\r\n\r\nIn test instead of creating a SearchResponse as suggested in the other answers you could mock it like this:\r\n```java\r\n@Test\r\nvoid shouldReturnAggregations() {\r\n    // AAA/BBB buckets\r\n    Terms.Bucket aaa = mock(Terms.Bucket.class);\r\n    ParsedStringTerms.ParsedBucket bbb = mock(ParsedStringTerms.ParsedBucket.class);\r\n    when(aaa.getKeyAsString()).thenReturn(&quot;AAA&quot;);\r\n    when(aaa.getDocCount()).thenReturn(100L);\r\n    when(bbb.getKeyAsString()).thenReturn(&quot;BBB&quot;);\r\n    when(bbb.getDocCount()).thenReturn(200L);\r\n    \r\n    // AGG_NAME\r\n    ParsedStringTerms aggName = mock(ParsedStringTerms.class);\r\n    when(aggName.getBuckets()).thenAnswer(invocation -&gt; List.of(aaa, bbb));\r\n    \r\n    Aggregations aggregations = mock(Aggregations.class);\r\n    when(aggregations.get(&quot;AGG_NAME&quot;)).thenReturn(aggName);\r\n    \r\n    // searchResponse\r\n    SearchResponse searchResponse = mock(SearchResponse.class);\r\n    when(searchResponse.getAggregations()).thenReturn(aggregations);\r\n    \r\n    when(esRepository.search(any())).thenReturn(searchResponse);\r\n    \r\n    // When\r\n    Map&lt;String, Long&gt; result = service.fetchAndTransform();\r\n    \r\n    // Then\r\n    assertThat(result).containsEntry(&quot;AAA&quot;, 100L)\r\n        .containsEntry(&quot;BBB&quot;, 200L);\r\n}\r\n\r\n```\r\n","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p>Let me approach the problem from a different direction. What do you need <code>SearchResponse</code> for? In most of the cases you need it in test to be returned from for example <code>RestHighLevelClient</code> search methods when you want to test a service logic.</p>\n<p>If so, then why not to mock the <code>SearchResponse</code>?\nLet's say you receive a <code>SearchResponse</code> for the following ES query:</p>\n<pre><code>GET index_name/_search\n{\n  &quot;aggs&quot;: {\n    &quot;AGG_NAME&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;someField&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>and the response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;aggregations&quot; : {\n    &quot;AGG_NAME&quot;: {\n      &quot;buckets&quot;: [\n        {\n          &quot;key&quot;: &quot;AAA&quot;,\n          &quot;doc_count&quot;: 100\n        },\n        {\n          &quot;key&quot;: &quot;BBB&quot;,\n          &quot;doc_count&quot;: 200\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>Now in the service you convert it into the <code>Map&lt;String, Long&gt;</code> having the bucket count:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Map&lt;String, Long&gt; searchResponseToMap(SearchResponse searchResponse) {\n        var buckets = Optional.ofNullable(searchResponse)\n            .map(SearchResponse::getAggregations)\n            .map(aggregations -&gt; (ParsedStringTerms) aggregations.get(&quot;AGG_NAME&quot;))\n            .map(ParsedTerms::getBuckets)\n            .orElse(List.of());\n\n        return buckets.stream().collect(Collectors.toMap(Bucket::getKeyAsString, Bucket::getDocCount));\n    }\n\n</code></pre>\n<p>In test instead of creating a SearchResponse as suggested in the other answers you could mock it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid shouldReturnAggregations() {\n    // AAA/BBB buckets\n    Terms.Bucket aaa = mock(Terms.Bucket.class);\n    ParsedStringTerms.ParsedBucket bbb = mock(ParsedStringTerms.ParsedBucket.class);\n    when(aaa.getKeyAsString()).thenReturn(&quot;AAA&quot;);\n    when(aaa.getDocCount()).thenReturn(100L);\n    when(bbb.getKeyAsString()).thenReturn(&quot;BBB&quot;);\n    when(bbb.getDocCount()).thenReturn(200L);\n    \n    // AGG_NAME\n    ParsedStringTerms aggName = mock(ParsedStringTerms.class);\n    when(aggName.getBuckets()).thenAnswer(invocation -&gt; List.of(aaa, bbb));\n    \n    Aggregations aggregations = mock(Aggregations.class);\n    when(aggregations.get(&quot;AGG_NAME&quot;)).thenReturn(aggName);\n    \n    // searchResponse\n    SearchResponse searchResponse = mock(SearchResponse.class);\n    when(searchResponse.getAggregations()).thenReturn(aggregations);\n    \n    when(esRepository.search(any())).thenReturn(searchResponse);\n    \n    // When\n    Map&lt;String, Long&gt; result = service.fetchAndTransform();\n    \n    // Then\n    assertThat(result).containsEntry(&quot;AAA&quot;, 100L)\n        .containsEntry(&quot;BBB&quot;, 200L);\n}\n\n</code></pre>\n"}],"owner":{"account_id":6989822,"reputation":121,"user_id":5359497,"display_name":"Julian8"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14775,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1686313630,"creation_date":1523541760,"question_id":49798654,"body_markdown":"I want to serialize a json string to an Elasticsearch SearchResponse object. It works fine if the json string doesn&#39;t contains an aggregation. \r\n\r\nIf the json string contains an aggregation the XContentParser throws an \r\n&lt;i&gt;ParsingException[Could not parse aggregation keyed as [target_field]&lt;/i&gt; \r\nexception.\r\n\r\nThe code I use to serialize the json string to an Elasticsearch SearchResponse object: \r\n\r\n\r\n        Settings settings = Settings.builder().build();\r\n        SearchModule searchModule = new SearchModule(settings, false, new ArrayList&lt;&gt;());\r\n\r\n        NamedXContentRegistry xContentRegistry = new NamedXContentRegistry(searchModule.getNamedXContents());\r\n        \r\n        JsonXContentParser xContentParser = new JsonXContentParser(xContentRegistry,\r\n                new JsonFactory().createParser(json));\r\n        SearchResponse response = SearchResponse.fromXContent(xContentParser);\r\n\r\n It seems that I have to register aggregations to the NamedXContentRegistry but i don&#39;t know how to. ","title":"How do you convert an Elasticsearch JSON String Response, with an Aggregation, to an Elasticsearch SearchResponse Object","body":"<p>I want to serialize a json string to an Elasticsearch SearchResponse object. It works fine if the json string doesn't contains an aggregation. </p>\n\n<p>If the json string contains an aggregation the XContentParser throws an \n<i>ParsingException[Could not parse aggregation keyed as [target_field]</i> \nexception.</p>\n\n<p>The code I use to serialize the json string to an Elasticsearch SearchResponse object: </p>\n\n<pre><code>    Settings settings = Settings.builder().build();\n    SearchModule searchModule = new SearchModule(settings, false, new ArrayList&lt;&gt;());\n\n    NamedXContentRegistry xContentRegistry = new NamedXContentRegistry(searchModule.getNamedXContents());\n\n    JsonXContentParser xContentParser = new JsonXContentParser(xContentRegistry,\n            new JsonFactory().createParser(json));\n    SearchResponse response = SearchResponse.fromXContent(xContentParser);\n</code></pre>\n\n<p>It seems that I have to register aggregations to the NamedXContentRegistry but i don't know how to. </p>\n"},{"tags":["java","spring-boot","docker","maven","docker-compose"],"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686092066,"post_id":76418894,"comment_id":134751187,"body_markdown":"What&#39;s the `mvnw` file in `COPY pom.xml mvnw ./`? Usually it&#39;s just `mvn`.","body":"What&#39;s the <code>mvnw</code> file in <code>COPY pom.xml mvnw .&#47;</code>? Usually it&#39;s just <code>mvn</code>."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686092309,"post_id":76418894,"comment_id":134751211,"body_markdown":"@GeroldBroser I use default mvnw file produced by Spring Boot.","body":"@GeroldBroser I use default mvnw file produced by Spring Boot."},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1686094669,"post_id":76418894,"comment_id":134751404,"body_markdown":"Some typical things to check here: is the `mvnw` script executable?  Does it have Unix line endings?  The very first line of the script should name an interpreter, does that interpreter exist in the base image?","body":"Some typical things to check here: is the <code>mvnw</code> script executable?  Does it have Unix line endings?  The very first line of the script should name an interpreter, does that interpreter exist in the base image?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686094804,"post_id":76418894,"comment_id":134751410,"body_markdown":"@DavidMaze I also add `RUN chmod +x mvnw` before `RUN ./mvnw dependency:resolve` but nothing changed. I still get the same error.","body":"@DavidMaze I also add <code>RUN chmod +x mvnw</code> before <code>RUN .&#47;mvnw dependency:resolve</code> but nothing changed. I still get the same error."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686095595,"post_id":76418894,"comment_id":134751477,"body_markdown":"[Dockerfile&#39;s `COPY` doc](https://docs.docker.com/engine/reference/builder/#copy) doesn&#39;t mention the _current dir_ `./...` syntax. Also, [&quot;_The default working directory for running binaries within a container is the root directory (`/`)._&quot;](https://docs.docker.com/engine/reference/run/#workdir). What if you try it without the _current dir_ `.`?","body":"<a href=\"https://docs.docker.com/engine/reference/builder/#copy\" rel=\"nofollow noreferrer\">Dockerfile&#39;s <code>COPY</code> doc</a> doesn&#39;t mention the <i>current dir</i> <code>.&#47;...</code> syntax. Also, <a href=\"https://docs.docker.com/engine/reference/run/#workdir\" rel=\"nofollow noreferrer\">&quot;<i>The default working directory for running binaries within a container is the root directory (<code>&#47;</code>).</i>&quot;</a>. What if you try it without the <i>current dir</i> <code>.</code>?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686096633,"post_id":76418894,"comment_id":134751569,"body_markdown":"@GeroldBroser Which line should I revise it?","body":"@GeroldBroser Which line should I revise it?"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686096748,"post_id":76418894,"comment_id":134751577,"body_markdown":"I&#39;d try it in the first `COPY` and the two `RUN`  lines.","body":"I&#39;d try it in the first <code>COPY</code> and the two <code>RUN</code>  lines."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686097459,"post_id":76418894,"comment_id":134751625,"body_markdown":"@GeroldBroser I revised `COPY pom.xml mvnw /` , `RUN /mvnw dependency:resolve` and `RUN /mvnw package` but nothing changed. I still get the same issue.","body":"@GeroldBroser I revised <code>COPY pom.xml mvnw &#47;</code> , <code>RUN &#47;mvnw dependency:resolve</code> and <code>RUN &#47;mvnw package</code> but nothing changed. I still get the same issue."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686097529,"post_id":76418894,"comment_id":134751632,"body_markdown":"Perhaps [How to run maven wrapper from docker?](https://stackoverflow.com/a/58409132/1744774) helps.","body":"Perhaps <a href=\"https://stackoverflow.com/a/58409132/1744774\">How to run maven wrapper from docker?</a> helps."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686097632,"post_id":76418894,"comment_id":134751643,"body_markdown":"@GeroldBroser I also tried to add `chnod +x ./mvnw` but I still get the same issue","body":"@GeroldBroser I also tried to add <code>chnod +x .&#47;mvnw</code> but I still get the same issue"},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686104465,"post_id":76418894,"comment_id":134752173,"body_markdown":"Mmmh, I tried it with `COPY pom.xml mvnw /`, `RUN /mvnw dependency:resolve` and `RUN /mvnw package` here now and it worked.","body":"Mmmh, I tried it with <code>COPY pom.xml mvnw &#47;</code>, <code>RUN &#47;mvnw dependency:resolve</code> and <code>RUN &#47;mvnw package</code> here now and it worked."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686105821,"post_id":76418894,"comment_id":134752277,"body_markdown":"This is weird. First I got the same error as you. Then I removed the `.`s and it worked. Now I added them again and it still works.","body":"This is weird. First I got the same error as you. Then I removed the <code>.</code>s and it worked. Now I added them again and it still works."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686130738,"post_id":76418894,"comment_id":134755795,"body_markdown":"@GeroldBroser I still couldn&#39;t fix the issue.","body":"@GeroldBroser I still couldn&#39;t fix the issue."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686313372,"creation_date":1686313372,"answer_id":76440206,"question_id":76418894,"body_markdown":"Here is the **answer** shown below\r\n\r\n1 ) Use `maven:3.8.4-openjdk-17-slim` to detect Maven instead of openjdk:17-jdk-slim for building stage.\r\n\r\n2 ) Revise the part of `Copy Maven files for dependency resolution`\r\n\r\n2 ) Change `Resolve project dependencies` and `Package the application` to `Build the project and create the executable JAR`\r\n\r\nHere is the updated Dockerfile shown below\r\n\r\n    # Stage 1: Build stage\r\n    FROM maven:3.8.4-openjdk-17-slim AS build\r\n    \r\n    # Copy Maven files for dependency resolution\r\n    COPY pom.xml ./\r\n    COPY .mvn .mvn\r\n    \r\n    # Copy application source code\r\n    COPY src src\r\n    \r\n    # Build the project and create the executable JAR\r\n    RUN mvn clean install\r\n    \r\n    # Stage 2: Run stage\r\n    FROM openjdk:17-jdk-slim\r\n\r\n    # Set working directory\r\n    WORKDIR ays-be\r\n    \r\n    # Copy the JAR file from the build stage\r\n    COPY --from=build target/*.jar /app/ays-be.jar\r\n    \r\n    # Expose port 9790\r\n    EXPOSE 9790\r\n    \r\n    # Set the entrypoint command for running the application\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/ays-be.jar&quot;]","title":"Spring Boot Docker -&gt; Cannot run docker-compose up -d (RUN ./mvnw dependency:resolve issue)","body":"<p>Here is the <strong>answer</strong> shown below</p>\n<p>1 ) Use <code>maven:3.8.4-openjdk-17-slim</code> to detect Maven instead of openjdk:17-jdk-slim for building stage.</p>\n<p>2 ) Revise the part of <code>Copy Maven files for dependency resolution</code></p>\n<p>2 ) Change <code>Resolve project dependencies</code> and <code>Package the application</code> to <code>Build the project and create the executable JAR</code></p>\n<p>Here is the updated Dockerfile shown below</p>\n<pre><code># Stage 1: Build stage\nFROM maven:3.8.4-openjdk-17-slim AS build\n\n# Copy Maven files for dependency resolution\nCOPY pom.xml ./\nCOPY .mvn .mvn\n\n# Copy application source code\nCOPY src src\n\n# Build the project and create the executable JAR\nRUN mvn clean install\n\n# Stage 2: Run stage\nFROM openjdk:17-jdk-slim\n\n# Set working directory\nWORKDIR ays-be\n\n# Copy the JAR file from the build stage\nCOPY --from=build target/*.jar /app/ays-be.jar\n\n# Expose port 9790\nEXPOSE 9790\n\n# Set the entrypoint command for running the application\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/ays-be.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76440206,"answer_count":1,"score":0,"last_activity_date":1686313372,"creation_date":1686091379,"question_id":76418894,"body_markdown":"I have a problem to run Spring Boot with Docker. When I run docker-compose.yml through this command docker-compose up -d, I get this issue shown below.\r\n\r\n     =&gt; ERROR [build 4/6] RUN ./mvnw dependency:resolve                                                                                                                                0.9s \r\n    ------\r\n     &gt; [build 4/6] RUN ./mvnw dependency:resolve:\r\n    #0 0.230 /bin/sh: 1: ./mvnw: not found\r\n    ------\r\n    failed to solve: executor failed running [/bin/sh -c ./mvnw dependency:resolve]: exit code: 127\r\n\r\nHow can I fix the issue?\r\n\r\n\r\nHere is the **Dockerfile** shown below\r\n\r\n    # Stage 1: Build stage\r\n    FROM openjdk:17-jdk-slim AS build\r\n    \r\n    # Copy Maven files for dependency resolution\r\n    COPY pom.xml mvnw ./\r\n    COPY .mvn .mvn\r\n    \r\n    # Resolve project dependencies\r\n    RUN ./mvnw dependency:resolve\r\n    \r\n    # Copy application source code\r\n    COPY src src\r\n    \r\n    # Package the application\r\n    RUN ./mvnw package\r\n    \r\n    # Stage 2: Run stage\r\n    FROM openjdk:17-jdk-slim\r\n    \r\n    # Set working directory\r\n    WORKDIR ays-be\r\n    \r\n    # Copy the JAR file from the build stage\r\n    COPY --from=build target/*.jar /app/ays-be.jar\r\n    \r\n    # Expose port 9790\r\n    EXPOSE 9790\r\n    \r\n    # Set the entrypoint command for running the application\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/ays-be.jar&quot;]\r\n\r\nHere is the **docker-compose.yml** file shown below\r\n\r\n    version: &quot;3.9&quot;\r\n    services:\r\n      mysql:\r\n        image: mysql:8.0\r\n        container_name: ays-db\r\n        environment:\r\n          MYSQL_DATABASE: ays\r\n          MYSQL_USER: ays\r\n          MYSQL_PASSWORD: ayspass\r\n          MYSQL_ROOT_PASSWORD: ayspass\r\n          MYSQL_ROOT_HOST: &#39;%&#39;\r\n          MYSQL_PORT: 3306\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        networks:\r\n          - ays\r\n    \r\n      ays-be:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        container_name: ays-be\r\n        ports:\r\n          - &quot;9790:9790&quot;\r\n        depends_on:\r\n          - mysql\r\n        environment:\r\n          - SPRING_PROFILES_ACTIVE=development\r\n          - AYS_DB_USERNAME=ays\r\n          - AYS_DB_PASSWORD=ayspass\r\n          - AYS_DB_URL=jdbc:mysql://mysql:3306/ays\r\n        networks:\r\n          - ays\r\n    \r\n    \r\n    # Volumes\r\n    volumes:\r\n      db-data:\r\n    \r\n    networks:\r\n      ays:","title":"Spring Boot Docker -&gt; Cannot run docker-compose up -d (RUN ./mvnw dependency:resolve issue)","body":"<p>I have a problem to run Spring Boot with Docker. When I run docker-compose.yml through this command docker-compose up -d, I get this issue shown below.</p>\n<pre><code> =&gt; ERROR [build 4/6] RUN ./mvnw dependency:resolve                                                                                                                                0.9s \n------\n &gt; [build 4/6] RUN ./mvnw dependency:resolve:\n#0 0.230 /bin/sh: 1: ./mvnw: not found\n------\nfailed to solve: executor failed running [/bin/sh -c ./mvnw dependency:resolve]: exit code: 127\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the <strong>Dockerfile</strong> shown below</p>\n<pre><code># Stage 1: Build stage\nFROM openjdk:17-jdk-slim AS build\n\n# Copy Maven files for dependency resolution\nCOPY pom.xml mvnw ./\nCOPY .mvn .mvn\n\n# Resolve project dependencies\nRUN ./mvnw dependency:resolve\n\n# Copy application source code\nCOPY src src\n\n# Package the application\nRUN ./mvnw package\n\n# Stage 2: Run stage\nFROM openjdk:17-jdk-slim\n\n# Set working directory\nWORKDIR ays-be\n\n# Copy the JAR file from the build stage\nCOPY --from=build target/*.jar /app/ays-be.jar\n\n# Expose port 9790\nEXPOSE 9790\n\n# Set the entrypoint command for running the application\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/ays-be.jar&quot;]\n</code></pre>\n<p>Here is the <strong>docker-compose.yml</strong> file shown below</p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n  mysql:\n    image: mysql:8.0\n    container_name: ays-db\n    environment:\n      MYSQL_DATABASE: ays\n      MYSQL_USER: ays\n      MYSQL_PASSWORD: ayspass\n      MYSQL_ROOT_PASSWORD: ayspass\n      MYSQL_ROOT_HOST: '%'\n      MYSQL_PORT: 3306\n    volumes:\n      - db-data:/var/lib/mysql\n    ports:\n      - &quot;3306:3306&quot;\n    networks:\n      - ays\n\n  ays-be:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: ays-be\n    ports:\n      - &quot;9790:9790&quot;\n    depends_on:\n      - mysql\n    environment:\n      - SPRING_PROFILES_ACTIVE=development\n      - AYS_DB_USERNAME=ays\n      - AYS_DB_PASSWORD=ayspass\n      - AYS_DB_URL=jdbc:mysql://mysql:3306/ays\n    networks:\n      - ays\n\n\n# Volumes\nvolumes:\n  db-data:\n\nnetworks:\n  ays:\n</code></pre>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686215490,"post_id":76430253,"comment_id":134769581,"body_markdown":"What do you want if multiple payloads have the same value in the `list`? You either have to decide which `Payload` to pick, or map to a list of payloads.","body":"What do you want if multiple payloads have the same value in the <code>list</code>? You either have to decide which <code>Payload</code> to pick, or map to a list of payloads."},{"owner":{"account_id":15103407,"reputation":51,"user_id":10899779,"display_name":"Dominic"},"score":0,"creation_date":1686215912,"post_id":76430253,"comment_id":134769667,"body_markdown":"Hello, sry I&#39;ve forget to tell, all values of the List&lt;String&gt; are unique.","body":"Hello, sry I&#39;ve forget to tell, all values of the List&lt;String&gt; are unique."}],"answers":[{"comments":[{"owner":{"account_id":15103407,"reputation":51,"user_id":10899779,"display_name":"Dominic"},"score":0,"creation_date":1686216463,"post_id":76430378,"comment_id":134769772,"body_markdown":"Thanks, but I want to avoid nested fors and preferred a method with lambda. If its possible.","body":"Thanks, but I want to avoid nested fors and preferred a method with lambda. If its possible."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686216564,"post_id":76430378,"comment_id":134769789,"body_markdown":"Not a good requirement. Your code will be a lot clearer and simpler in that form rather than as streams plus lambdas","body":"Not a good requirement. Your code will be a lot clearer and simpler in that form rather than as streams plus lambdas"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686223109,"post_id":76430378,"comment_id":134771036,"body_markdown":"@Dominic Sure it&#39;s possible. But you should always prefer to go for the more readable approach. Compare this to the accepted answer, and try to see which is easier to understand and maintain.","body":"@Dominic Sure it&#39;s possible. But you should always prefer to go for the more readable approach. Compare this to the accepted answer, and try to see which is easier to understand and maintain."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686216166,"creation_date":1686216166,"answer_id":76430378,"question_id":76430253,"body_markdown":"In this case, I&#39;d probably just go for the simple, imperative approach:\r\n\r\n```\r\nMap&lt;String, Payload&gt; map = new HashMap&lt;&gt;();\r\nfor (Payload payload : list) {\r\n  for (String value : payload.list) {\r\n    map.put(value, payload); // you may want to check this returns null\r\n  }\r\n}\r\nreturn map;\r\n```","title":"Convert list of payloads with a property List&lt;String&gt; to HashMap&lt;String, Payload)","body":"<p>In this case, I'd probably just go for the simple, imperative approach:</p>\n<pre><code>Map&lt;String, Payload&gt; map = new HashMap&lt;&gt;();\nfor (Payload payload : list) {\n  for (String value : payload.list) {\n    map.put(value, payload); // you may want to check this returns null\n  }\n}\nreturn map;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15103407,"reputation":51,"user_id":10899779,"display_name":"Dominic"},"score":0,"creation_date":1686312108,"post_id":76430439,"comment_id":134785063,"body_markdown":"Map.entry() not exists in Java8 but you helped me a lot to understand how I could solved it. Thx.","body":"Map.entry() not exists in Java8 but you helped me a lot to understand how I could solved it. Thx."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686313127,"post_id":76430439,"comment_id":134785303,"body_markdown":"@Dominic Have updated the answer for java 8. Upvote would be great.","body":"@Dominic Have updated the answer for java 8. Upvote would be great."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686313038,"creation_date":1686216597,"answer_id":76430439,"question_id":76430253,"body_markdown":"Assume given `List&lt;Payload&gt; payloads` with stream API it could be done as follows:\r\n\r\n\r\n        payloads.stream().flatMap(payload -&gt;\r\n                payload.list.stream().map(listValue -&gt; Map.entry(listValue, payload))\r\n        ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nWith Java 8 use `new AbstractMap.SimpleEntry()` instead of `Map.entry()`\r\n\r\nAlthough, it may be worthy to use @Jorn approach","title":"Convert list of payloads with a property List&lt;String&gt; to HashMap&lt;String, Payload)","body":"<p>Assume given <code>List&lt;Payload&gt; payloads</code> with stream API it could be done as follows:</p>\n<pre><code>    payloads.stream().flatMap(payload -&gt;\n            payload.list.stream().map(listValue -&gt; Map.entry(listValue, payload))\n    ).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>With Java 8 use <code>new AbstractMap.SimpleEntry()</code> instead of <code>Map.entry()</code></p>\n<p>Although, it may be worthy to use @Jorn approach</p>\n"}],"owner":{"account_id":15103407,"reputation":51,"user_id":10899779,"display_name":"Dominic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430439,"answer_count":2,"score":0,"last_activity_date":1686313038,"creation_date":1686215087,"question_id":76430253,"body_markdown":"I&#39;ve a list of payloads and a payload looks like\r\n\r\n```\r\nPayload {\r\n public int id;\r\n public String name;\r\n public String foo;\r\n public List&lt;String&gt; list;\r\n}\r\n```\r\n\r\nnow I want this to a HashMap where the key is a value of the `list` property, like\r\n\r\n```\r\npayloads = [\r\n {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\r\n {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},\r\n ...\r\n];\r\n```\r\nto HashMap&lt;String, Payload&gt;\r\n```\r\nmap = [\r\n{key: &quot;AAA&quot;, value: {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\r\n{key: &quot;BBB&quot;, value: {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\r\n{key: &quot;CCC&quot;, value: {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},,\r\n{key: &quot;DDD&quot;, value: {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},,\r\n]\r\n```\r\n\r\nI&#39;ve tried `.flatMap()` and own mapping collectors but nothing worked. If I research I only find solutions to group by flat payload objects, like Payload.name nothing if the group key is in a List of these objects.\r\n\r\nAny ideas?","title":"Convert list of payloads with a property List&lt;String&gt; to HashMap&lt;String, Payload)","body":"<p>I've a list of payloads and a payload looks like</p>\n<pre><code>Payload {\n public int id;\n public String name;\n public String foo;\n public List&lt;String&gt; list;\n}\n</code></pre>\n<p>now I want this to a HashMap where the key is a value of the <code>list</code> property, like</p>\n<pre><code>payloads = [\n {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\n {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},\n ...\n];\n</code></pre>\n<p>to HashMap&lt;String, Payload&gt;</p>\n<pre><code>map = [\n{key: &quot;AAA&quot;, value: {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\n{key: &quot;BBB&quot;, value: {id:45, name:&quot;Alfred&quot;, foo:&quot;bar&quot;, list:[&quot;AAA&quot;, &quot;BBB&quot;]},\n{key: &quot;CCC&quot;, value: {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},,\n{key: &quot;DDD&quot;, value: {id:2, name:&quot;John&quot;, foo:&quot;various&quot;, list:[&quot;CCC&quot;, &quot;DDD&quot;]},,\n]\n</code></pre>\n<p>I've tried <code>.flatMap()</code> and own mapping collectors but nothing worked. If I research I only find solutions to group by flat payload objects, like Payload.name nothing if the group key is in a List of these objects.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","database","oracle","jdbc"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":2,"creation_date":1686304220,"post_id":76437904,"comment_id":134783647,"body_markdown":"Does it work? If so then you have answered your own question. If not, what error are you getting?","body":"Does it work? If so then you have answered your own question. If not, what error are you getting?"},{"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"score":0,"creation_date":1686318302,"post_id":76437904,"comment_id":134786488,"body_markdown":"yes the way is proposed works fine i just wanted to see if there is a way not to code the url and make data source take care the work like it do in case of service name","body":"yes the way is proposed works fine i just wanted to see if there is a way not to code the url and make data source take care the work like it do in case of service name"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686312616,"creation_date":1686312616,"answer_id":76440101,"question_id":76437904,"body_markdown":"It looks like from the documentation, you would use `.setDatabaseName(sid)` but I don&#39;t have an Oracle database to test against.\r\n\r\n\r\n```\r\n      String url = &quot;jdbc:oracle:thin:@&quot; + hostname + &quot;:&quot; + port + &quot;:&quot; + sid;\r\n      dataSource.setUrl(url);\r\n      dataSource.setUser(username);\r\n      dataSource.setPassword(password);\r\n      dataSource.setDatabaseName(sid);\r\n```\r\n\r\nref:\r\nhttps://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html#setDatabaseName_java_lang_String_\r\n\r\n&gt; Set the name of a particular database on a server. In Oracle&#39;s jargon this is called SID (System Identifier).\r\n","title":"Oracle Database JDBC connection using datasource","body":"<p>It looks like from the documentation, you would use <code>.setDatabaseName(sid)</code> but I don't have an Oracle database to test against.</p>\n<pre><code>      String url = &quot;jdbc:oracle:thin:@&quot; + hostname + &quot;:&quot; + port + &quot;:&quot; + sid;\n      dataSource.setUrl(url);\n      dataSource.setUser(username);\n      dataSource.setPassword(password);\n      dataSource.setDatabaseName(sid);\n</code></pre>\n<p>ref:\n<a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html#setDatabaseName_java_lang_String\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html#setDatabaseName_java_lang_String</a>_</p>\n<blockquote>\n<p>Set the name of a particular database on a server. In Oracle's jargon this is called SID (System Identifier).</p>\n</blockquote>\n"}],"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76440101,"answer_count":1,"score":1,"last_activity_date":1686312616,"creation_date":1686293735,"question_id":76437904,"body_markdown":"I am connecting to oracle database via datasource , as all know we have two types of connection one using sid and another using service name .\r\nFor Service name connection \r\n```\r\n        OracleDataSource dataSource = new OracleDataSource();\r\n        dataSource.setDriverType(&quot;thin&quot;);\r\n        dataSource.setServerName(hostname);\r\n        dataSource.setPortNumber(Integer.parseInt(port));\r\n        dataSource.setServiceName(serviceName);\r\n        dataSource.setUser(username);\r\n        dataSource.setPassword(password);\r\n```\r\nThis works perfectly fine but in this case if i want to establish a connection using sid There is no method called setSid() or anything like that Is there any way or should I use \r\n```   OracleDataSource dataSource = new OracleDataSource();\r\n      String url = &quot;jdbc:oracle:thin:@&quot; + hostname + &quot;:&quot; + port + &quot;:&quot; + sid;\r\n      dataSource.setUrl(url);\r\n      dataSource.setUser(username);\r\n      dataSource.setPassword(password);\r\n```\r\nIs my approach correct or am i missing something \r\nJDBC doc for reference https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html","title":"Oracle Database JDBC connection using datasource","body":"<p>I am connecting to oracle database via datasource , as all know we have two types of connection one using sid and another using service name .\nFor Service name connection</p>\n<pre><code>        OracleDataSource dataSource = new OracleDataSource();\n        dataSource.setDriverType(&quot;thin&quot;);\n        dataSource.setServerName(hostname);\n        dataSource.setPortNumber(Integer.parseInt(port));\n        dataSource.setServiceName(serviceName);\n        dataSource.setUser(username);\n        dataSource.setPassword(password);\n</code></pre>\n<p>This works perfectly fine but in this case if i want to establish a connection using sid There is no method called setSid() or anything like that Is there any way or should I use</p>\n<pre><code>      String url = &quot;jdbc:oracle:thin:@&quot; + hostname + &quot;:&quot; + port + &quot;:&quot; + sid;\n      dataSource.setUrl(url);\n      dataSource.setUser(username);\n      dataSource.setPassword(password);\n</code></pre>\n<p>Is my approach correct or am i missing something\nJDBC doc for reference <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/pool/OracleDataSource.html</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1686309859,"post_id":76439686,"comment_id":134784604,"body_markdown":"Why not use an environment variable? Those override whatever is in properties files and are easy to set up via IDE in your local environment.","body":"Why not use an environment variable? Those override whatever is in properties files and are easy to set up via IDE in your local environment."},{"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"score":0,"creation_date":1686310262,"post_id":76439686,"comment_id":134784680,"body_markdown":"Because there is a reason for it to be in the file.","body":"Because there is a reason for it to be in the file."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1686312092,"post_id":76439686,"comment_id":134785059,"body_markdown":"What about including an additional [optional] property file with higher priority?","body":"What about including an additional [optional] property file with higher priority?"}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686312421,"creation_date":1686312421,"answer_id":76440080,"question_id":76439686,"body_markdown":"According to [Spring Documentation][1], config data, such as `application.properties` and `application-develop.properties` files, always takes precedence over `@PropertySource`.\r\n\r\n&gt; Spring Boot uses a very particular PropertySource order that is\r\n&gt; designed to allow sensible overriding of values. Later property\r\n&gt; sources can override the values defined in earlier ones. Sources are\r\n&gt; considered in the following order:\r\n&gt; \r\n&gt;  1. Default properties (specified by setting\r\n&gt;     `SpringApplication.setDefaultProperties`).\r\n&gt;  2. `@PropertySource` annotations on your `@Configuration` classes. \r\n&gt;  3. Config data (such as `application.properties` files).\r\n&gt; \r\n&gt;     ...\r\n\r\nHence, any value specified in `application-develop.properties` will override the corresponding value in `credentials.properties`.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"How to overwrite value from .properties file?","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">Spring Documentation</a>, config data, such as <code>application.properties</code> and <code>application-develop.properties</code> files, always takes precedence over <code>@PropertySource</code>.</p>\n<blockquote>\n<p>Spring Boot uses a very particular PropertySource order that is\ndesigned to allow sensible overriding of values. Later property\nsources can override the values defined in earlier ones. Sources are\nconsidered in the following order:</p>\n<ol>\n<li><p>Default properties (specified by setting\n<code>SpringApplication.setDefaultProperties</code>).</p>\n</li>\n<li><p><code>@PropertySource</code> annotations on your <code>@Configuration</code> classes.</p>\n</li>\n<li><p>Config data (such as <code>application.properties</code> files).</p>\n<p>...</p>\n</li>\n</ol>\n</blockquote>\n<p>Hence, any value specified in <code>application-develop.properties</code> will override the corresponding value in <code>credentials.properties</code>.</p>\n"}],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76440080,"answer_count":1,"score":1,"last_activity_date":1686312421,"creation_date":1686309170,"question_id":76439686,"body_markdown":"Application read master password from externalized `credentials.properties` file:\r\n\r\n    @PropertySources({\r\n            @PropertySource(&quot;file:${user.home}/.app/credentials.properties&quot;),\r\n            @PropertySource(value = &quot;classpath:application.properties&quot;)\r\n    })\r\n\r\nApplication properties `application.properties`:\r\n\r\n    spring.profiles.active=@activatedProperties@\r\n\r\n\r\nis loaded from `application-{PROFILE}.properties` file for active profile.\r\n\r\nHow to overwrite settings located in `file:${user.home}/.app/credentials.properties` but only for specific profile (develop)? \r\n\r\nI would change the setting value in IDE and not in filesystem.","title":"How to overwrite value from .properties file?","body":"<p>Application read master password from externalized <code>credentials.properties</code> file:</p>\n<pre><code>@PropertySources({\n        @PropertySource(&quot;file:${user.home}/.app/credentials.properties&quot;),\n        @PropertySource(value = &quot;classpath:application.properties&quot;)\n})\n</code></pre>\n<p>Application properties <code>application.properties</code>:</p>\n<pre><code>spring.profiles.active=@activatedProperties@\n</code></pre>\n<p>is loaded from <code>application-{PROFILE}.properties</code> file for active profile.</p>\n<p>How to overwrite settings located in <code>file:${user.home}/.app/credentials.properties</code> but only for specific profile (develop)?</p>\n<p>I would change the setting value in IDE and not in filesystem.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","gcp-secret-manager"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1686316881,"post_id":76440079,"comment_id":134786138,"body_markdown":"How do you deploy? What&#39;s the permission of your runtime service account? Do you have error entries in the logs?","body":"How do you deploy? What&#39;s the permission of your runtime service account? Do you have error entries in the logs?"},{"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"score":0,"creation_date":1686561684,"post_id":76440079,"comment_id":134810149,"body_markdown":"The deployment is happening using  a docker file. I think the credentials are not getting set in the docker container. Will confirm and respond","body":"The deployment is happening using  a docker file. I think the credentials are not getting set in the docker container. Will confirm and respond"}],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686312415,"creation_date":1686312415,"question_id":76440079,"body_markdown":"I have a Spring-boot based micro-service which is getting the database URL and credentials from GCP secret manager. I was able to run the service on my local and the secrets were being fetched from GCP secret manager without any error.\r\nI have also configured circleCI to deploy the application to GCP portal. But during the deployment, I can see that the service is not fetching the secrets fro Secret manager but instead trying to use the provided strings as username and password.\r\nMy application.properties file looks like following:-\r\n\r\n    spring.cloud.gcp.secretmanager.enabled=true\r\n    spring.config.import=sm://\r\n    server.port=8000\r\n    \r\n    spring.datasource.url=jdbc:postgresql://${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-host-dev}:5432/postgres\r\n    spring.datasource.username=${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-username-dev}\r\n    spring.datasource.password=${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-password-dev}\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\nAny reason why this would work on local and not on GCP portal?","title":"Spring boot not able to get secrets from Google secret manager during deployment in GCP","body":"<p>I have a Spring-boot based micro-service which is getting the database URL and credentials from GCP secret manager. I was able to run the service on my local and the secrets were being fetched from GCP secret manager without any error.\nI have also configured circleCI to deploy the application to GCP portal. But during the deployment, I can see that the service is not fetching the secrets fro Secret manager but instead trying to use the provided strings as username and password.\nMy application.properties file looks like following:-</p>\n<pre><code>spring.cloud.gcp.secretmanager.enabled=true\nspring.config.import=sm://\nserver.port=8000\n\nspring.datasource.url=jdbc:postgresql://${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-host-dev}:5432/postgres\nspring.datasource.username=${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-username-dev}\nspring.datasource.password=${sm://projects/sandbox-dev-rotw-316c/secrets/ms-java-database-password-dev}\nspring.datasource.driver-class-name=org.postgresql.Driver\n</code></pre>\n<p>Any reason why this would work on local and not on GCP portal?</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686311718,"post_id":76439960,"comment_id":134784964,"body_markdown":"Check that you&#39;ve actually added `slf4j-simple` as you are hinting at in the comment before the code block. That library provides an implementation, which is what the error message tells you is missing.","body":"Check that you&#39;ve actually added <code>slf4j-simple</code> as you are hinting at in the comment before the code block. That library provides an implementation, which is what the error message tells you is missing."},{"owner":{"account_id":5500680,"reputation":5767,"user_id":4370109,"display_name":"Brian Tompsett - 汤莱恩"},"score":0,"creation_date":1686593051,"post_id":76439960,"comment_id":134817156,"body_markdown":"Does this answer your question? [SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;](https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686312330,"creation_date":1686311754,"answer_id":76439980,"question_id":76439960,"body_markdown":"So SLF4J by itself is _just_ an API. You need to provide an implementation on the classpath. \r\n\r\nThe quickest/easiest is the following:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut something like LogBack would be better suited for production.\r\n\r\n\r\nEDIT\r\n=== \r\n\r\nYou&#39;ve since edited your post to show you&#39;re including the dependency. If you are still getting that error, it means it&#39;s still not finding the implementation at runtime, which likely indicates a build setup problem. Can you post your entire gradle configuration and build log?","title":"Unable to get log and it throws error as Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>So SLF4J by itself is <em>just</em> an API. You need to provide an implementation on the classpath.</p>\n<p>The quickest/easiest is the following:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but something like LogBack would be better suited for production.</p>\n<h1>EDIT</h1>\n<p>You've since edited your post to show you're including the dependency. If you are still getting that error, it means it's still not finding the implementation at runtime, which likely indicates a build setup problem. Can you post your entire gradle configuration and build log?</p>\n"}],"owner":{"account_id":2390165,"reputation":1301,"user_id":2090153,"accept_rate":30,"display_name":"selvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686312330,"creation_date":1686311606,"question_id":76439960,"body_markdown":"I am getting below error, unable to get log statement. I haved added log config as well as in application.properties.\r\n\r\n    logging.level.com.google=TRACE\r\n    logging.level.com.example.com=TRACE\r\n\r\n**Error Log:**\r\n\r\n&gt; SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n&gt; SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J:\r\n&gt; See http://www.slf4j.org/codes.html#StaticLoggerBinder for further\r\n&gt; details.\r\n\r\n**Dependency:**\r\n\r\n    implementation(libs.slf4j.api)\r\n    implementation(libs.slf4j.simple)\r\n\r\n**Code:**\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class Test {\r\n    \r\n      @Test\r\n        public void testSearh() throws Exception {\r\n    \t\tlog.trace(&quot;Test...........&quot;);\r\n    }\r\n    }","title":"Unable to get log and it throws error as Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder","body":"<p>I am getting below error, unable to get log statement. I haved added log config as well as in application.properties.</p>\n<pre><code>logging.level.com.google=TRACE\nlogging.level.com.example.com=TRACE\n</code></pre>\n<p><strong>Error Log:</strong></p>\n<blockquote>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J:\nSee <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further\ndetails.</p>\n</blockquote>\n<p><strong>Dependency:</strong></p>\n<pre><code>implementation(libs.slf4j.api)\nimplementation(libs.slf4j.simple)\n</code></pre>\n<p><strong>Code:</strong></p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class Test {\n\n  @Test\n    public void testSearh() throws Exception {\n        log.trace(&quot;Test...........&quot;);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","noclassdeffounderror"],"comments":[{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1686287107,"post_id":76437275,"comment_id":134780977,"body_markdown":"Why not to use spring boot and initializr? https://start.spring.io/","body":"Why not to use spring boot and initializr? <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1686292045,"post_id":76437275,"comment_id":134781509,"body_markdown":"make sure that the spring-context or something releative jar is exist in your ecplise ide env?","body":"make sure that the spring-context or something releative jar is exist in your ecplise ide env?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1686294026,"post_id":76437275,"comment_id":134781813,"body_markdown":"Can you show your build path? How are you running the program?","body":"Can you show your build path? How are you running the program?"}],"owner":{"account_id":24729898,"reputation":11,"user_id":18618002,"display_name":"kaW"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686312285,"creation_date":1686285977,"question_id":76437275,"body_markdown":"When I ran this program on eclipse IDE, I&#39;m getting this error.\r\n\r\nError: Unable to initialize main class springApplication.Main\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext\r\n\r\n\r\n\r\nhere&#39;s my HelloWorld.java class, Main.java class and beans.xml file.\r\n\r\n*HelloWorld.java*\r\n```\r\npackage springApplication;\r\n\r\npublic class HelloWorld {\r\n\t   private String message;\r\n\r\n\t   public void setMessage(String message){\r\n\t      this.message  = message;\r\n\t   }\r\n\t   public void getMessage(){\r\n\t      System.out.println(&quot;Your Message : &quot; + message);\r\n\t   }\r\n\t}\r\n\r\n```\r\n\r\n\r\n*Main.java*\r\n```\r\npackage springApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class Main {\r\n   public static void main(String[] args) {\r\n\t   \r\n//\t   System.out.println(&quot;Helloooo&quot;);\r\n\t   \r\n      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n      HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\r\n      obj.getMessage();\r\n   }\r\n}\r\n\r\n```\r\n\r\n*beans.xml*\r\n```\r\n&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\r\n\r\n&lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\r\n   xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\r\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n   &lt;bean id = &quot;helloWorld&quot; class = &quot;com.springApplication.HelloWorld&quot;&gt;\r\n      &lt;property name = &quot;message&quot; value = &quot;Hello World!&quot;/&gt;\r\n   &lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n","title":"I&#39;m trying to run my first spring application on eclipse IDE. Even though I&#39;ve added the correct spring jars also, I&#39;m getting this error","body":"<p>When I ran this program on eclipse IDE, I'm getting this error.</p>\n<p>Error: Unable to initialize main class springApplication.Main\nCaused by: java.lang.NoClassDefFoundError: org/springframework/context/ApplicationContext</p>\n<p>here's my HelloWorld.java class, Main.java class and beans.xml file.</p>\n<p><em>HelloWorld.java</em></p>\n<pre><code>package springApplication;\n\npublic class HelloWorld {\n       private String message;\n\n       public void setMessage(String message){\n          this.message  = message;\n       }\n       public void getMessage(){\n          System.out.println(&quot;Your Message : &quot; + message);\n       }\n    }\n\n</code></pre>\n<p><em>Main.java</em></p>\n<pre><code>package springApplication;\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class Main {\n   public static void main(String[] args) {\n       \n//     System.out.println(&quot;Helloooo&quot;);\n       \n      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\n      HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\n      obj.getMessage();\n   }\n}\n\n</code></pre>\n<p><em>beans.xml</em></p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns = &quot;http://www.springframework.org/schema/beans&quot;\n   xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation = &quot;http://www.springframework.org/schema/beans\n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n\n   &lt;bean id = &quot;helloWorld&quot; class = &quot;com.springApplication.HelloWorld&quot;&gt;\n      &lt;property name = &quot;message&quot; value = &quot;Hello World!&quot;/&gt;\n   &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","timestamp"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1400848174,"post_id":23829248,"comment_id":36663467,"body_markdown":"I&#39;m not sure what the question is.  Are you saying you don&#39;t know how to use `getTime()` and then do the subtraction to give you the milliseconds?  Or are you saying  you don&#39;t know how to turn the interval into numbers and words like `&quot;15 minutes&quot;`?","body":"I&#39;m not sure what the question is.  Are you saying you don&#39;t know how to use <code>getTime()</code> and then do the subtraction to give you the milliseconds?  Or are you saying  you don&#39;t know how to turn the interval into numbers and words like <code>&quot;15 minutes&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400850208,"creation_date":1400848185,"answer_id":23829307,"question_id":23829248,"body_markdown":"Here you go,\r\n\r\n    Timestamp loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;);\r\n    Timestamp loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;);\r\n    long interval = loggedouttime.getTime() - loggedintime.getTime();\r\n    //total hours\r\n    long hours = interval / (60 * 60 * 1000);\r\n    //time period that should be represented in minutes\r\n    long minutes = (interval % (60 * 60 * 1000)) / (60 * 1000);\r\n    //time period that should be represented in seconds\r\n    long seconds = (interval % (60 * 1000)) / 1000;\r\n    System.out.println(hours + &quot; hours &quot; + minutes + &quot; min &quot; + seconds + &quot; sec&quot;);\r\n\r\nNote : Please note that interval time is not accurate since milliseconds lesser than a Second (&lt;1000) are not considered\r\n    ","title":"Finding Time interval between two timestamps","body":"<p>Here you go,</p>\n\n<pre><code>Timestamp loggedintime=rs.getTimestamp(\"LOGIN_TIME\");\nTimestamp loggedouttime=rs.getTimestamp(\"LOGOUT_TIME\");\nlong interval = loggedouttime.getTime() - loggedintime.getTime();\n//total hours\nlong hours = interval / (60 * 60 * 1000);\n//time period that should be represented in minutes\nlong minutes = (interval % (60 * 60 * 1000)) / (60 * 1000);\n//time period that should be represented in seconds\nlong seconds = (interval % (60 * 1000)) / 1000;\nSystem.out.println(hours + \" hours \" + minutes + \" min \" + seconds + \" sec\");\n</code></pre>\n\n<p>Note : Please note that interval time is not accurate since milliseconds lesser than a Second (&lt;1000) are not considered</p>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400848194,"creation_date":1400848194,"answer_id":23829314,"question_id":23829248,"body_markdown":"You can use `getTime()` method of [TimeStamp](http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html#getTime) class.  \r\n\r\nTry this  \r\n\r\n    long diff = loggedouttime.getTime() - loggedintime.getTime();","title":"Finding Time interval between two timestamps","body":"<p>You can use <code>getTime()</code> method of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Timestamp.html#getTime\" rel=\"nofollow\">TimeStamp</a> class.  </p>\n\n<p>Try this  </p>\n\n<pre><code>long diff = loggedouttime.getTime() - loggedintime.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400848609,"creation_date":1400848609,"answer_id":23829485,"question_id":23829248,"body_markdown":"    long login=System.currentTimeMillis();\r\n    .\r\n    .\r\n    .\r\n    long logout=System.currentTimeMillis();\r\n    \r\n    long difInSeconds=(logout-login)/1000;\r\n    \r\n    long hours=difInSeconds/3600;\r\n    long minutes=difInSeconds%3600;\r\n    long seconds=difInSeconds-(hours*3600+minutes*60);\r\n\r\n","title":"Finding Time interval between two timestamps","body":"<pre><code>long login=System.currentTimeMillis();\n.\n.\n.\nlong logout=System.currentTimeMillis();\n\nlong difInSeconds=(logout-login)/1000;\n\nlong hours=difInSeconds/3600;\nlong minutes=difInSeconds%3600;\nlong seconds=difInSeconds-(hours*3600+minutes*60);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22704,"reputation":1611,"user_id":56280,"display_name":"Gerbrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686312076,"creation_date":1686312076,"answer_id":76440026,"question_id":23829248,"body_markdown":"For those stumbling on this question after searching: Java now has javax.time, which includes among others ZonedDateTime and Instant, that replaces Timestamp and has a lot more nice methods to deal with time.\r\n\r\nInterval isn&#39;t included in the standard, but there&#39;s a extension: [ThreeTen-Extra][1] that does.\r\nSo you can write something like:\r\n\r\n    Instant loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;).toInstant();\r\n    Instant loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;).toInstant();\r\n    Interval loggedInInterval  = Interval.of(loggedintime, loggedouttime);\r\n    System.out.println(&quot;Total time logged in: &quot; + loggedInInterval);\r\n\r\n  [1]: https://www.threeten.org/threeten-extra/","title":"Finding Time interval between two timestamps","body":"<p>For those stumbling on this question after searching: Java now has javax.time, which includes among others ZonedDateTime and Instant, that replaces Timestamp and has a lot more nice methods to deal with time.</p>\n<p>Interval isn't included in the standard, but there's a extension: <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> that does.\nSo you can write something like:</p>\n<pre><code>Instant loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;).toInstant();\nInstant loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;).toInstant();\nInterval loggedInInterval  = Interval.of(loggedintime, loggedouttime);\nSystem.out.println(&quot;Total time logged in: &quot; + loggedInInterval);\n</code></pre>\n"}],"owner":{"account_id":4311089,"reputation":215,"user_id":3522121,"accept_rate":48,"display_name":"user3522121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686312076,"creation_date":1400848028,"question_id":23829248,"body_markdown":"I am having two Timestamps : \r\n\r\n    Timestamp loggedintime=rs.getTimestamp(&quot;LOGIN_TIME&quot;);\r\n    Timestamp loggedouttime=rs.getTimestamp(&quot;LOGOUT_TIME&quot;);\r\n\r\nNow,What i was trying to do is that find the interval between these two timestamps like 15 minutes or 1 hour 10 minutes etc.\r\n\r\nBut I have no ides how this can be done.So please help me ","title":"Finding Time interval between two timestamps","body":"<p>I am having two Timestamps : </p>\n\n<pre><code>Timestamp loggedintime=rs.getTimestamp(\"LOGIN_TIME\");\nTimestamp loggedouttime=rs.getTimestamp(\"LOGOUT_TIME\");\n</code></pre>\n\n<p>Now,What i was trying to do is that find the interval between these two timestamps like 15 minutes or 1 hour 10 minutes etc.</p>\n\n<p>But I have no ides how this can be done.So please help me </p>\n"},{"tags":["java","date","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1386303156,"post_id":535004,"comment_id":30491317,"body_markdown":"See [my detailed answer](http://stackoverflow.com/a/20370992/642706) to a similar question on converting between milliseconds to date-time with example code using Joda-Time library.","body":"See <a href=\"http://stackoverflow.com/a/20370992/642706\">my detailed answer</a> to a similar question on converting between milliseconds to date-time with example code using Joda-Time library."},{"owner":{"account_id":7530967,"reputation":97,"user_id":6640175,"display_name":"JVJplus"},"score":0,"creation_date":1578335625,"post_id":535004,"comment_id":105397750,"body_markdown":"`private String getDateString(long timeInMilliseconds) {\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy &#39;at&#39; HH:mm:ss z&quot;);\n        return formatter.format(timeInMilliseconds);\n    } `","body":"<code>private String getDateString(long timeInMilliseconds) {         SimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE, d MMM yyyy &#39;at&#39; HH:mm:ss z&quot;);         return formatter.format(timeInMilliseconds);     } </code>"}],"answers":[{"tags":[],"owner":{"account_id":15611,"reputation":14858,"user_id":33165,"accept_rate":80,"display_name":"tcurdt"},"comment_count":0,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1331503728,"creation_date":1234313784,"answer_id":535013,"question_id":535004,"body_markdown":"    long timestamp = Long.parseLong(date)\r\n    Date expiry = new Date(timestamp * 1000)","title":"Unix epoch time to Java Date object","body":"<pre><code>long timestamp = Long.parseLong(date)\nDate expiry = new Date(timestamp * 1000)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"score":4,"creation_date":1319894582,"post_id":535017,"comment_id":9700467,"body_markdown":"Wouldn&#39;t this technically be incorrect as it doesn&#39;t take into account leap seconds?","body":"Wouldn&#39;t this technically be incorrect as it doesn&#39;t take into account leap seconds?"},{"owner":{"account_id":2981463,"reputation":845,"user_id":2531336,"display_name":"thecarpy"},"score":1,"creation_date":1413877188,"post_id":535017,"comment_id":41598406,"body_markdown":"Maciej, op&#39;s &quot;seconds-based&quot; epoch already accounts for leap seconds, it is &quot;seconds&quot;-based. So this answer is correct.","body":"Maciej, op&#39;s &quot;seconds-based&quot; epoch already accounts for leap seconds, it is &quot;seconds&quot;-based. So this answer is correct."},{"owner":{"account_id":3627323,"reputation":3688,"user_id":3024565,"accept_rate":80,"display_name":"Ishaan"},"score":1,"creation_date":1469891926,"post_id":535017,"comment_id":64730648,"body_markdown":"It gives me incorrect values if multiplied by 1000, isn&#39;t there a better way of doing it?","body":"It gives me incorrect values if multiplied by 1000, isn&#39;t there a better way of doing it?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1538084880,"post_id":535017,"comment_id":92031037,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":1534150,"reputation":934,"user_id":1430630,"display_name":"Luke"},"score":0,"creation_date":1581557721,"post_id":535017,"comment_id":106478437,"body_markdown":"The question was since the epoch, which is UTC while date expects the long to be from GMT, are they they same?","body":"The question was since the epoch, which is UTC while date expects the long to be from GMT, are they they same?"}],"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"comment_count":5,"down_vote_count":1,"up_vote_count":150,"is_accepted":true,"score":149,"last_activity_date":1234321211,"creation_date":1234313851,"answer_id":535017,"question_id":535004,"body_markdown":"How about just:\r\n\r\n    Date expiry = new Date(Long.parseLong(date));\r\n\r\nEDIT: as per [rde6173][1]&#39;s answer and taking a closer look at the input specified in the question , &quot;1081157732&quot; appears to be a seconds-based epoch value so you&#39;d want to multiply the long from parseLong() by 1000 to convert to milliseconds, which is what Java&#39;s Date constructor uses, so:\r\n\r\n    Date expiry = new Date(Long.parseLong(date) * 1000);\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/62195/rde6173","title":"Unix epoch time to Java Date object","body":"<p>How about just:</p>\n\n<pre><code>Date expiry = new Date(Long.parseLong(date));\n</code></pre>\n\n<p>EDIT: as per <a href=\"https://stackoverflow.com/users/62195/rde6173\">rde6173</a>'s answer and taking a closer look at the input specified in the question , \"1081157732\" appears to be a seconds-based epoch value so you'd want to multiply the long from parseLong() by 1000 to convert to milliseconds, which is what Java's Date constructor uses, so:</p>\n\n<pre><code>Date expiry = new Date(Long.parseLong(date) * 1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":5,"creation_date":1319838595,"post_id":535018,"comment_id":9695429,"body_markdown":"Usually Unix epoch time is measured in seconds, not milliseconds.","body":"Usually Unix epoch time is measured in seconds, not milliseconds."}],"tags":[],"owner":{"account_id":25119,"reputation":16621,"user_id":64331,"display_name":"Varkhan"},"comment_count":1,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1234313871,"creation_date":1234313871,"answer_id":535018,"question_id":535004,"body_markdown":"Hum.... if I am not mistaken, the UNIX Epoch time is actually the same thing as \r\n\r\n    System.currentTimeMillis()\r\n\r\nSo writing\r\n\r\n    try {\r\n        Date expiry = new Date(Long.parseLong(date));\r\n    }\r\n    catch(NumberFormatException e) {\r\n        // ...\r\n    }\r\n\r\nshould work (and be much faster that date parsing)","title":"Unix epoch time to Java Date object","body":"<p>Hum.... if I am not mistaken, the UNIX Epoch time is actually the same thing as </p>\n\n<pre><code>System.currentTimeMillis()\n</code></pre>\n\n<p>So writing</p>\n\n<pre><code>try {\n    Date expiry = new Date(Long.parseLong(date));\n}\ncatch(NumberFormatException e) {\n    // ...\n}\n</code></pre>\n\n<p>should work (and be much faster that date parsing)</p>\n"},{"comments":[{"owner":{"account_id":365234,"reputation":17197,"user_id":710051,"accept_rate":85,"display_name":"Makky"},"score":1,"creation_date":1330421519,"post_id":535026,"comment_id":11997012,"body_markdown":"This works a treat ...IDK Y this hasn&#39;t been checked as Answer :)","body":"This works a treat ...IDK Y this hasn&#39;t been checked as Answer :)"},{"owner":{"account_id":100045,"reputation":2725,"user_id":269876,"accept_rate":0,"display_name":"Lo-Tan"},"score":0,"creation_date":1351187080,"post_id":535026,"comment_id":17760791,"body_markdown":"Thank you for this answer.  I was sitting here trying to instantiate a date from an epoch and the result was always some day in 1970, and it was because I was unknowingly giving Java milliseconds, not seconds :)","body":"Thank you for this answer.  I was sitting here trying to instantiate a date from an epoch and the result was always some day in 1970, and it was because I was unknowingly giving Java milliseconds, not seconds :)"}],"tags":[],"owner":{"account_id":24462,"reputation":15581,"user_id":62195,"accept_rate":77,"display_name":"Ryan Emerle"},"comment_count":2,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1234314530,"creation_date":1234314053,"answer_id":535026,"question_id":535004,"body_markdown":"Epoch is the number of &lt;b&gt;seconds&lt;/b&gt; since Jan 1, 1970.. \r\n\r\nSo:\r\n\r\n    String epochString = &quot;1081157732&quot;;\r\n    long epoch = Long.parseLong( epochString );\r\n    Date expiry = new Date( epoch * 1000 );\r\n\r\n\r\nFor more information:\r\n[http://www.epochconverter.com/][1]\r\n\r\n\r\n  [1]: http://www.epochconverter.com/","title":"Unix epoch time to Java Date object","body":"<p>Epoch is the number of <b>seconds</b> since Jan 1, 1970.. </p>\n\n<p>So:</p>\n\n<pre><code>String epochString = \"1081157732\";\nlong epoch = Long.parseLong( epochString );\nDate expiry = new Date( epoch * 1000 );\n</code></pre>\n\n<p>For more information:\n<a href=\"http://www.epochconverter.com/\" rel=\"noreferrer\">http://www.epochconverter.com/</a></p>\n"},{"tags":[],"owner":{"account_id":2862762,"reputation":1,"user_id":2457672,"display_name":"Dinesh Jayabalan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427328265,"creation_date":1427328265,"answer_id":29268825,"question_id":535004,"body_markdown":"To convert seconds time stamp to millisecond time stamp. You could use the TimeUnit API and neat like this.\r\n\r\n`long milliSecondTimeStamp = MILLISECONDS.convert(secondsTimeStamp, SECONDS)`","title":"Unix epoch time to Java Date object","body":"<p>To convert seconds time stamp to millisecond time stamp. You could use the TimeUnit API and neat like this.</p>\n\n<p><code>long milliSecondTimeStamp = MILLISECONDS.convert(secondsTimeStamp, SECONDS)</code></p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1450930533,"post_id":34444188,"comment_id":56636302,"body_markdown":"Good answer. I would suggest dropping the `LocalDateTime` and just show a `ZonedDateTime`. In most business apps, `ZonedDateTime` is the best way to go. People tend to get themselves into trouble/confusion with the `LocalXXX` types.","body":"Good answer. I would suggest dropping the <code>LocalDateTime</code> and just show a <code>ZonedDateTime</code>. In most business apps, <code>ZonedDateTime</code> is the best way to go. People tend to get themselves into trouble/confusion with the <code>LocalXXX</code> types."}],"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1450985275,"creation_date":1450906989,"answer_id":34444188,"question_id":535004,"body_markdown":"# java.time\n\nUsing the [`java.time`][1] framework built into Java 8 and later.\n\n    import java.time.LocalDateTime;\n    import java.time.Instant;\n    import java.time.ZoneId;\n    \n    long epoch = Long.parseLong(&quot;1081157732&quot;);\n    Instant instant = Instant.ofEpochSecond(epoch);\n    ZonedDateTime.ofInstant(instant, ZoneOffset.UTC); # ZonedDateTime = 2004-04-05T09:35:32Z[UTC]\n\nIn this case you should better use [`ZonedDateTime`](http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) to mark it as date in [UTC][2] time zone because Epoch is defined in UTC in [Unix time][3] used by Java.\n\n[`ZoneOffset`](http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) contains a handy constant for the UTC time zone, as seen in last line above. Its superclass, [`ZoneId`](http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html) can be used to adjust into other time zones.\n\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\n\n\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\n  [3]: https://en.wikipedia.org/wiki/Unix_time","title":"Unix epoch time to Java Date object","body":"<h1>java.time</h1>\n<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><code>java.time</code></a> framework built into Java 8 and later.</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.Instant;\nimport java.time.ZoneId;\n\nlong epoch = Long.parseLong(&quot;1081157732&quot;);\nInstant instant = Instant.ofEpochSecond(epoch);\nZonedDateTime.ofInstant(instant, ZoneOffset.UTC); # ZonedDateTime = 2004-04-05T09:35:32Z[UTC]\n</code></pre>\n<p>In this case you should better use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> to mark it as date in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> time zone because Epoch is defined in UTC in <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">Unix time</a> used by Java.</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> contains a handy constant for the UTC time zone, as seen in last line above. Its superclass, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> can be used to adjust into other time zones.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\n</code></pre>\n"}],"owner":{"account_id":210,"reputation":83259,"user_id":264,"accept_rate":100,"display_name":"Xenph Yan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203905,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":535017,"answer_count":6,"score":105,"last_activity_date":1686311912,"creation_date":1234313582,"question_id":535004,"body_markdown":"I have a string containing the [UNIX Epoch time][1], and I need to convert it to a Java Date object.\r\n\r\n    String date = &quot;1081157732&quot;;\r\n    DateFormat df = new SimpleDateFormat(&quot;&quot;); // This line\r\n    try {\r\n      Date expiry = df.parse(date);\r\n     } catch (ParseException ex) {\r\n      ex.getStackTrace();\r\n    }\r\n\r\nThe marked line is where I&#39;m having trouble. I can&#39;t work out what the argument to SimpleDateFormat() should be, or even if I should be using SimpleDateFormat().\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unix_time","title":"Unix epoch time to Java Date object","body":"<p>I have a string containing the <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">UNIX Epoch time</a>, and I need to convert it to a Java Date object.</p>\n\n<pre><code>String date = \"1081157732\";\nDateFormat df = new SimpleDateFormat(\"\"); // This line\ntry {\n  Date expiry = df.parse(date);\n } catch (ParseException ex) {\n  ex.getStackTrace();\n}\n</code></pre>\n\n<p>The marked line is where I'm having trouble. I can't work out what the argument to SimpleDateFormat() should be, or even if I should be using SimpleDateFormat().</p>\n"},{"tags":["java","selenium-webdriver","jenkins","automation","cucumber"],"comments":[{"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"score":0,"creation_date":1686311723,"post_id":76439962,"comment_id":134784966,"body_markdown":"I thought of having a test with Thread.sleep(long); that waits for one hour. Can someone please give some suggestions on it?","body":"I thought of having a test with Thread.sleep(long); that waits for one hour. Can someone please give some suggestions on it?"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1686323378,"post_id":76439962,"comment_id":134787644,"body_markdown":"Can you split the tests into two test runs? Then you could configure a [Jenkins pipeline](https://www.jenkins.io/doc/book/pipeline/) to run the first 100 tests, and the next stage of the pipeline could be scheduled to run at a certain time of day, which would run the remaining 400 tests.","body":"Can you split the tests into two test runs? Then you could configure a <a href=\"https://www.jenkins.io/doc/book/pipeline/\" rel=\"nofollow noreferrer\">Jenkins pipeline</a> to run the first 100 tests, and the next stage of the pipeline could be scheduled to run at a certain time of day, which would run the remaining 400 tests."}],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686311618,"creation_date":1686311618,"question_id":76439962,"body_markdown":"I have 500 tests as part of my regression suite. I need to wait for 1 hour after 100 tests are executed and then process the remaining tests. How can I achieve this in Selenium Java with cucumber framework?\r\n\r\nThe reason for waiting is the rest of 400 tests will be executed only when \r\nThere is a scheduler that runs for every 30 mins. The rest of the 400 tests are dependent on initial 100 tests. Once initial 100 tests are processed by scheduler, then only I need to validate the rest of the 400 tests. Please suggest me a way to do that in jenkins. ","title":"I have 500 tests that execute in jenkins slave. How can I stop the test execution for 1 hour after 100 test case execution","body":"<p>I have 500 tests as part of my regression suite. I need to wait for 1 hour after 100 tests are executed and then process the remaining tests. How can I achieve this in Selenium Java with cucumber framework?</p>\n<p>The reason for waiting is the rest of 400 tests will be executed only when\nThere is a scheduler that runs for every 30 mins. The rest of the 400 tests are dependent on initial 100 tests. Once initial 100 tests are processed by scheduler, then only I need to validate the rest of the 400 tests. Please suggest me a way to do that in jenkins.</p>\n"},{"tags":["java","selenium-webdriver","remotewebdriver"],"answers":[{"tags":[],"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1566455553,"creation_date":1566455553,"answer_id":57603243,"question_id":57593369,"body_markdown":"You will have to use below hack to access the local storage in RemoteWebDriver . Tested it on chrome browser using RemoteWebdriver selenium-java - 4.0.0-alpha-2 , Chrome Version 76.0.3809.100 and ChromeDriver 76.0.3809.68 . Working fine for me.\r\n\r\nImport below classes\r\n\r\n     import org.openqa.selenium.remote.RemoteExecuteMethod;\r\n     import org.openqa.selenium.remote.html5.RemoteWebStorage;\r\n     import org.openqa.selenium.html5.LocalStorage;\r\n\r\nUse below code to access the local storage\r\n\r\n     RemoteExecuteMethod executeMethod = new RemoteExecuteMethod((RemoteWebDriver) driver);\r\n     RemoteWebStorage webStorage = new RemoteWebStorage(executeMethod);\r\n     LocalStorage storage = webStorage.getLocalStorage();\r\n     storage.setItem(&quot;test&quot;, &quot;test&quot;);","title":"WebStorage with RemoteWebDriver","body":"<p>You will have to use below hack to access the local storage in RemoteWebDriver . Tested it on chrome browser using RemoteWebdriver selenium-java - 4.0.0-alpha-2 , Chrome Version 76.0.3809.100 and ChromeDriver 76.0.3809.68 . Working fine for me.</p>\n\n<p>Import below classes</p>\n\n<pre><code> import org.openqa.selenium.remote.RemoteExecuteMethod;\n import org.openqa.selenium.remote.html5.RemoteWebStorage;\n import org.openqa.selenium.html5.LocalStorage;\n</code></pre>\n\n<p>Use below code to access the local storage</p>\n\n<pre><code> RemoteExecuteMethod executeMethod = new RemoteExecuteMethod((RemoteWebDriver) driver);\n RemoteWebStorage webStorage = new RemoteWebStorage(executeMethod);\n LocalStorage storage = webStorage.getLocalStorage();\n storage.setItem(\"test\", \"test\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5441431,"reputation":13,"user_id":4329423,"display_name":"Sim&#227;o Abreu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579604579,"creation_date":1579604579,"answer_id":59839717,"question_id":57593369,"body_markdown":"you forgot one import `import org.openqa.selenium.remote.RemoteWebDriver;\r\n`","title":"WebStorage with RemoteWebDriver","body":"<p>you forgot one import <code>import org.openqa.selenium.remote.RemoteWebDriver;\n</code></p>\n"}],"owner":{"account_id":1088745,"reputation":1549,"user_id":1083864,"accept_rate":68,"display_name":"Matthewek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57603243,"answer_count":2,"score":3,"last_activity_date":1686311598,"creation_date":1566395788,"question_id":57593369,"body_markdown":"I am trying to access WebStorage when running my tests, I am running tests locally using ChromeDriver and remotely in the pipeline using RemoteWebDriver.\r\n\r\nI am unable to access WebStorage when using RemoteWebDriver\r\n\r\n    WebStorage webStorage = (RemoteWebStorage) new Augmenter().augment(driver);\r\n\r\nI am getting:\r\n\r\n&gt; org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.remote.html5.RemoteWebStorage","title":"WebStorage with RemoteWebDriver","body":"<p>I am trying to access WebStorage when running my tests, I am running tests locally using ChromeDriver and remotely in the pipeline using RemoteWebDriver.</p>\n<p>I am unable to access WebStorage when using RemoteWebDriver</p>\n<pre><code>WebStorage webStorage = (RemoteWebStorage) new Augmenter().augment(driver);\n</code></pre>\n<p>I am getting:</p>\n<blockquote>\n<p>org.openqa.selenium.remote.RemoteWebDriver cannot be cast to org.openqa.selenium.remote.html5.RemoteWebStorage</p>\n</blockquote>\n"},{"tags":["java","for-loop","if-statement","arraylist","one-liner"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686303597,"post_id":76438992,"comment_id":134783527,"body_markdown":"Does [this](https://stackoverflow.com/a/3019388/5133585) solve your problem? If you are asking about something more general, please [edit] to show a more general situation of where you would need this.","body":"Does <a href=\"https://stackoverflow.com/a/3019388/5133585\">this</a> solve your problem? If you are asking about something more general, please <a href=\"https://stackoverflow.com/posts/76438992/edit\">edit</a> to show a more general situation of where you would need this."},{"owner":{"account_id":3492369,"reputation":6331,"user_id":2921691,"display_name":"Markus Safar"},"score":0,"creation_date":1686303700,"post_id":76438992,"comment_id":134783540,"body_markdown":"I&#39;m not a java developer and I know this is probably out of context BUT: Why would you prefer a &quot;one liner&quot; that is probably less readable instead of multiple lines that make sense the moment you look at them...","body":"I&#39;m not a java developer and I know this is probably out of context BUT: Why would you prefer a &quot;one liner&quot; that is probably less readable instead of multiple lines that make sense the moment you look at them..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686308196,"post_id":76438992,"comment_id":134784363,"body_markdown":"Should &quot;`measure`&quot; be `complexObject`?","body":"Should &quot;<code>measure</code>&quot; be <code>complexObject</code>?"},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311490,"post_id":76438992,"comment_id":134784928,"body_markdown":"@AndyTurner yes. Edited.","body":"@AndyTurner yes. Edited."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311593,"post_id":76438992,"comment_id":134784939,"body_markdown":"@MarkusSafar mostly personal. Too much boilerplate code to just create a list, add an element, and add the list to the map. In this small scope it makes sense, but in a way bigger structure (such as the one I&#39;m working on) it&#39;s really pointless code. Maybe it&#39;s subjective.","body":"@MarkusSafar mostly personal. Too much boilerplate code to just create a list, add an element, and add the list to the map. In this small scope it makes sense, but in a way bigger structure (such as the one I&#39;m working on) it&#39;s really pointless code. Maybe it&#39;s subjective."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686311722,"post_id":76438992,"comment_id":134784965,"body_markdown":"@Sweeper no I don&#39;t think so. What I need is a one-liner to create a list and add an element to it without instantiating it first. It would help to keep the structure of the logic as is for readability, while adopting that solution would totally delete the structure for one line.","body":"@Sweeper no I don&#39;t think so. What I need is a one-liner to create a list and add an element to it without instantiating it first. It would help to keep the structure of the logic as is for readability, while adopting that solution would totally delete the structure for one line."}],"answers":[{"comments":[{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686304792,"post_id":76439028,"comment_id":134783746,"body_markdown":"I had no idea this existed and this reduces drastically the amount of lines. However the question is about having a one line where you can create a list, add an element to it, and return the list. Thanks though!","body":"I had no idea this existed and this reduces drastically the amount of lines. However the question is about having a one line where you can create a list, add an element to it, and return the list. Thanks though!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686308161,"post_id":76439028,"comment_id":134784358,"body_markdown":"It is perhaps worth adding that the reason this should be preferred over OP&#39;s `containsKey/put` approach is that this avoids repeated lookups into the map.","body":"It is perhaps worth adding that the reason this should be preferred over OP&#39;s <code>containsKey&#47;put</code> approach is that this avoids repeated lookups into the map."}],"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686303459,"creation_date":1686303459,"answer_id":76439028,"question_id":76438992,"body_markdown":"If you are using jdk8 or higher, you can use stream to achieve it:\r\n```\r\nMap&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = complexObjectsList.stream().collect(Collectors.groupingBy(ComplexObject::getZonedDateTime))\r\n```","title":"Is there a one-liner for list creation and element addition?","body":"<p>If you are using jdk8 or higher, you can use stream to achieve it:</p>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = complexObjectsList.stream().collect(Collectors.groupingBy(ComplexObject::getZonedDateTime))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686304799,"post_id":76439063,"comment_id":134783748,"body_markdown":"I had no idea this existed and this reduces drastically the amount of lines. However the question is about having a one line where you can create a list, add an element to it, and return the list. Thanks though!","body":"I had no idea this existed and this reduces drastically the amount of lines. However the question is about having a one line where you can create a list, add an element to it, and return the list. Thanks though!"},{"owner":{"account_id":41850,"reputation":132328,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"score":0,"creation_date":1686323458,"post_id":76439063,"comment_id":134787662,"body_markdown":"You mean something like `new ArrayList&lt;&gt;(List.of(element))`?","body":"You mean something like <code>new ArrayList&lt;&gt;(List.of(element))</code>?"},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686566851,"post_id":76439063,"comment_id":134811236,"body_markdown":"yes! Exactly. I can&#39;t upvote yet unfortunately.","body":"yes! Exactly. I can&#39;t upvote yet unfortunately."}],"tags":[],"owner":{"account_id":41850,"reputation":132328,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686303725,"creation_date":1686303725,"answer_id":76439063,"question_id":76438992,"body_markdown":"You have multiple solutions to this problem, you could use `HashMap::compute` or [`Collectors::groupingBy`][1]\r\n\r\n    class Ideone\r\n    {\r\n    \tclass ComplexObject\r\n    \t{\r\n    \t\tZonedDateTime time;\r\n    \t\tZonedDateTime getDateTime() { return time; }\r\n    \t}\r\n    \t\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tList&lt;ComplexObject&gt; objects = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tMap&lt;ZonedDateTime, List&lt;ComplexObject&gt;&gt; map = objects.stream()\r\n    \t\t\t.collect(Collectors.groupingBy(ComplexObject::getDateTime));\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://ideone.com/oYfntC","title":"Is there a one-liner for list creation and element addition?","body":"<p>You have multiple solutions to this problem, you could use <code>HashMap::compute</code> or <a href=\"https://ideone.com/oYfntC\" rel=\"nofollow noreferrer\"><code>Collectors::groupingBy</code></a></p>\n<pre><code>class Ideone\n{\n    class ComplexObject\n    {\n        ZonedDateTime time;\n        ZonedDateTime getDateTime() { return time; }\n    }\n    \n    public static void main (String[] args) throws java.lang.Exception\n    {\n        List&lt;ComplexObject&gt; objects = new ArrayList&lt;&gt;();\n        \n        Map&lt;ZonedDateTime, List&lt;ComplexObject&gt;&gt; map = objects.stream()\n            .collect(Collectors.groupingBy(ComplexObject::getDateTime));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1686307926,"post_id":76439352,"comment_id":134784321,"body_markdown":"`Arrays.asList(element)` actually produces mutable, but non-resizable list.","body":"<code>Arrays.asList(element)</code> actually produces mutable, but non-resizable list."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686308013,"post_id":76439352,"comment_id":134784336,"body_markdown":"@AndreyB.Panfilov corrected.","body":"@AndreyB.Panfilov corrected."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1686312395,"post_id":76439352,"comment_id":134785135,"body_markdown":"I disagree a little, even though I know the status quo follows these directions.\nYou don&#39;t need visual clues such as {} to understand where a piece of code starts and where it finishes as one line structures are only one line and can be read like spoken english. Look:\n\nFor each element of the List, if the Map contains it, deepen it\nelse, add it\n\nAnd if you have to add boilerplate code such as instantiating a list, add an element to it and then add the list to the new element of the map, you disrupt the reading. It&#39;s definitely personal opinion though.","body":"I disagree a little, even though I know the status quo follows these directions. You don&#39;t need visual clues such as {} to understand where a piece of code starts and where it finishes as one line structures are only one line and can be read like spoken english. Look:  For each element of the List, if the Map contains it, deepen it else, add it  And if you have to add boilerplate code such as instantiating a list, add an element to it and then add the list to the new element of the map, you disrupt the reading. It&#39;s definitely personal opinion though."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1686313147,"post_id":76439352,"comment_id":134785308,"body_markdown":"@SalvatoreGrazioso of course, you&#39;re entitled to disagree. But, please recognize the data point that Google (and perhaps other companies) considers it not just a practice worth recommending, but a practice that is worth _enforcing_ within their codebase.","body":"@SalvatoreGrazioso of course, you&#39;re entitled to disagree. But, please recognize the data point that Google (and perhaps other companies) considers it not just a practice worth recommending, but a practice that is worth <i>enforcing</i> within their codebase."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692504993,"post_id":76439352,"comment_id":135631317,"body_markdown":"@SalvatoreGrazioso Those visual clues become vital when poring over code in a crashing app at 3 AM.","body":"@SalvatoreGrazioso Those visual clues become vital when poring over code in a crashing app at 3 AM."},{"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"score":0,"creation_date":1692610520,"post_id":76439352,"comment_id":135641981,"body_markdown":"@BasilBourque what do you need the visual clues for? It&#39;s exactly 1 line you don&#39;t need to know where it finishes. You can&#39;t omit {} with multiple rows.","body":"@BasilBourque what do you need the visual clues for? It&#39;s exactly 1 line you don&#39;t need to know where it finishes. You can&#39;t omit {} with multiple rows."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686308008,"creation_date":1686306302,"answer_id":76439352,"question_id":76438992,"body_markdown":"&gt; However the question is about having a one line where you can create a list, add an element to it, and return the list.\r\n\r\nDepends on the kind of list you want:\r\n\r\n* An unmodifiable, null-hostile list: `List.of(element)`.\r\n* A modifiable, non-resizable, null-tolerant list: `Arrays.asList(element)`.\r\n* A modifiable, resizable list: `new ArrayList&lt;&gt;(/* one of the above suggestions */)`, e.g. `new ArrayList&lt;&gt;(List.of(element))`.\r\n\r\nMany other ways also exist, e.g. `Stream.of(element).collect(toList())`, many other list implementations exist, e.g. `ImmutableList.of(element)` with Guava.\r\n\r\n----\r\n\r\nAnother way of approaching the problem outlined in the question, which is basically creating a new list and adding an element to it would be:\r\n\r\n```\r\nmap.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\r\n```\r\n\r\n----\r\n\r\nI challenge your preference towards omitting `{}` and doing things in one-liners: neither of these are good general approaches:\r\n\r\n* `{}` are useful visual cues, which help people reading the code to identify the start and end of blocks. They also guard against some kinds of mistakes when the code is modified in the future, for example intending to add something in the block, but not in fact doing so, because the braces are omitted.\r\n\r\n  Note that some style guides, e.g. [Google&#39;s Java style guide](https://google.github.io/styleguide/javaguide.html#s4.1-braces) require the use of optional braces, to improve readability of the code.\r\n\r\n* One-liners can, in certain circumstances, be the best way to write things; in many circumstances they can make things much harder to express.\r\n\r\n  I would probably choose `List.of(element)` or `Array.asList(element)` if I needed an unmodifiable list - that&#39;s nice and easy, clear. But once you start using `new ArrayList&lt;&gt;(List.of(element))`, that starts getting quite a bit harder to read, because there&#39;s a lot of burden imposed by the API - why the diamond brackets, why create a list and then create another list? You can hide some of this burden by extracting a method; but then, isn&#39;t a method more verbose than a variable?\r\n\r\n  So, you have to declare a variable if you write something as a not-one-liner. Does that matter? It doesn&#39;t make the code slower; it may make it easier to read, because you&#39;re given the opportunity to provide type information (unless you&#39;ve used `var`) and a name to indicate the purpose.\r\n\r\nUltimately, you should optimize for _readable_ code. Far more time is (or should be) spent reading code than writing code. The poor person who has to read your code next might be you - it&#39;s easy to forget what you meant when you return to the code a week, a month, a year later.\r\n\r\nBe kind, take the time to help future you.","title":"Is there a one-liner for list creation and element addition?","body":"<blockquote>\n<p>However the question is about having a one line where you can create a list, add an element to it, and return the list.</p>\n</blockquote>\n<p>Depends on the kind of list you want:</p>\n<ul>\n<li>An unmodifiable, null-hostile list: <code>List.of(element)</code>.</li>\n<li>A modifiable, non-resizable, null-tolerant list: <code>Arrays.asList(element)</code>.</li>\n<li>A modifiable, resizable list: <code>new ArrayList&lt;&gt;(/* one of the above suggestions */)</code>, e.g. <code>new ArrayList&lt;&gt;(List.of(element))</code>.</li>\n</ul>\n<p>Many other ways also exist, e.g. <code>Stream.of(element).collect(toList())</code>, many other list implementations exist, e.g. <code>ImmutableList.of(element)</code> with Guava.</p>\n<hr />\n<p>Another way of approaching the problem outlined in the question, which is basically creating a new list and adding an element to it would be:</p>\n<pre><code>map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\n</code></pre>\n<hr />\n<p>I challenge your preference towards omitting <code>{}</code> and doing things in one-liners: neither of these are good general approaches:</p>\n<ul>\n<li><p><code>{}</code> are useful visual cues, which help people reading the code to identify the start and end of blocks. They also guard against some kinds of mistakes when the code is modified in the future, for example intending to add something in the block, but not in fact doing so, because the braces are omitted.</p>\n<p>Note that some style guides, e.g. <a href=\"https://google.github.io/styleguide/javaguide.html#s4.1-braces\" rel=\"nofollow noreferrer\">Google's Java style guide</a> require the use of optional braces, to improve readability of the code.</p>\n</li>\n<li><p>One-liners can, in certain circumstances, be the best way to write things; in many circumstances they can make things much harder to express.</p>\n<p>I would probably choose <code>List.of(element)</code> or <code>Array.asList(element)</code> if I needed an unmodifiable list - that's nice and easy, clear. But once you start using <code>new ArrayList&lt;&gt;(List.of(element))</code>, that starts getting quite a bit harder to read, because there's a lot of burden imposed by the API - why the diamond brackets, why create a list and then create another list? You can hide some of this burden by extracting a method; but then, isn't a method more verbose than a variable?</p>\n<p>So, you have to declare a variable if you write something as a not-one-liner. Does that matter? It doesn't make the code slower; it may make it easier to read, because you're given the opportunity to provide type information (unless you've used <code>var</code>) and a name to indicate the purpose.</p>\n</li>\n</ul>\n<p>Ultimately, you should optimize for <em>readable</em> code. Far more time is (or should be) spent reading code than writing code. The poor person who has to read your code next might be you - it's easy to forget what you meant when you return to the code a week, a month, a year later.</p>\n<p>Be kind, take the time to help future you.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307492,"creation_date":1686307492,"answer_id":76439493,"question_id":76438992,"body_markdown":"You can use [computeIfAbsent][1] and achieve what you want and also get rid of the if-else block\r\n\r\n    Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\r\n        \r\n    for(var complexObject : complexObjectsList)\r\n        map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"Is there a one-liner for list creation and element addition?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">computeIfAbsent</a> and achieve what you want and also get rid of the if-else block</p>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\n    \nfor(var complexObject : complexObjectsList)\n    map.computeIfAbsent(complexObject.getZonedDateTime(), k -&gt; new ArrayList&lt;&gt;()).add(complexObject);\n</code></pre>\n"}],"owner":{"account_id":27667935,"reputation":3,"user_id":21119369,"display_name":"Salvatore Grazioso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439352,"answer_count":4,"score":0,"last_activity_date":1686311457,"creation_date":1686303157,"question_id":76438992,"body_markdown":"Say we have to iterate over a list of complex object, and &quot;group&quot; them in a map where a key is (for example) a date and the relative value is a list of complex objects that share that same date.\r\n\r\nI&#39;m a sucker for elegant and readable code, in my way though.\r\n\r\n1. I love one liners after loops and conditional constructs as they do not require &quot;{&quot; &amp; &quot;}&quot;;\r\n2. I hate declaring variables I will not re-use;\r\n\r\n\r\n```\r\nMap&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\t\r\nfor(var complexObject : complexObjectsList)\r\n\t\t\t\r\n\tif (map.containsKey(complexObject.getZonedDateTime()))\r\n\r\n\t\tmap.get(complexObject.getZonedDateTime()).add(complexObject);\r\n\r\n\telse\r\n\r\n\t\tmap.put(complexObject.getZonedDateTime(), new ArrayList&lt;ComplexObject&gt;().add(complexObject));\r\n\t\t\t\r\n```\r\n\r\nAs you can see, for and if/else constructs do not need {} nor additional lines.\r\n\r\nThe problem here, is:\r\n\r\nin the case of a date not present yet in the map, I would love to add it in a one-liner, also creating the list with the first element inside. However, since ArrayList&#39;s &quot;.add&quot; method does not return a List (which is what the map value expects) and, instead, returns a boolean, I cannot do so.\r\n\r\nI&#39;m forced to declare a new List a few lines higher, add the element in another line, and then pass it. Consequentially, I will have to use &quot;{}&quot;, multiple lines and a variable declaration that is not going to be used anymore.\r\n\r\nIs there a way to achieve this? Thanks a lot!","title":"Is there a one-liner for list creation and element addition?","body":"<p>Say we have to iterate over a list of complex object, and &quot;group&quot; them in a map where a key is (for example) a date and the relative value is a list of complex objects that share that same date.</p>\n<p>I'm a sucker for elegant and readable code, in my way though.</p>\n<ol>\n<li>I love one liners after loops and conditional constructs as they do not require &quot;{&quot; &amp; &quot;}&quot;;</li>\n<li>I hate declaring variables I will not re-use;</li>\n</ol>\n<pre><code>Map&lt;ZonedDateTime, List&lt;ComplexObject &gt;&gt; map = new HashMap&lt;&gt;();\n        \nfor(var complexObject : complexObjectsList)\n            \n    if (map.containsKey(complexObject.getZonedDateTime()))\n\n        map.get(complexObject.getZonedDateTime()).add(complexObject);\n\n    else\n\n        map.put(complexObject.getZonedDateTime(), new ArrayList&lt;ComplexObject&gt;().add(complexObject));\n            \n</code></pre>\n<p>As you can see, for and if/else constructs do not need {} nor additional lines.</p>\n<p>The problem here, is:</p>\n<p>in the case of a date not present yet in the map, I would love to add it in a one-liner, also creating the list with the first element inside. However, since ArrayList's &quot;.add&quot; method does not return a List (which is what the map value expects) and, instead, returns a boolean, I cannot do so.</p>\n<p>I'm forced to declare a new List a few lines higher, add the element in another line, and then pass it. Consequentially, I will have to use &quot;{}&quot;, multiple lines and a variable declaration that is not going to be used anymore.</p>\n<p>Is there a way to achieve this? Thanks a lot!</p>\n"},{"tags":["java","dependency-injection","cdi","java-7"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1375349307,"post_id":17989771,"comment_id":26302606,"body_markdown":"Searching for &quot;CDI without container&quot; directly revealed some very interesting articles for your topic.","body":"Searching for &quot;CDI without container&quot; directly revealed some very interesting articles for your topic."},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":0,"creation_date":1375349481,"post_id":17989771,"comment_id":26302728,"body_markdown":"Not for me @Seelenvirtuose can you give any reference?","body":"Not for me @Seelenvirtuose can you give any reference?"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1375352805,"post_id":17989771,"comment_id":26304770,"body_markdown":"First hit was [Bootstrapping CDI](http://antoniogoncalves.org/2011/01/12/bootstrapping-cdi-in-several-environments/). Second hit was [Control CDI containers](http://struberg.wordpress.com/2012/03/17/controlling-cdi-containers-in-se-and-ee/). Maybe these links help you.","body":"First hit was <a href=\"http://antoniogoncalves.org/2011/01/12/bootstrapping-cdi-in-several-environments/\" rel=\"nofollow noreferrer\">Bootstrapping CDI</a>. Second hit was <a href=\"http://struberg.wordpress.com/2012/03/17/controlling-cdi-containers-in-se-and-ee/\" rel=\"nofollow noreferrer\">Control CDI containers</a>. Maybe these links help you."}],"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5772,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"closed_date":1686315334,"answer_count":0,"score":11,"last_activity_date":1686310558,"creation_date":1375348259,"question_id":17989771,"body_markdown":"I want to write a simple Java Desktop Application using Java Swing. Usually I use **Spring Framework** to do the dependency injection and build the whole class structure. However, I&#39;ve seen that **CDI** is becoming more and more popular and want to give it a try. \r\n\r\nI would like to do the Dependency Injection of my project using CDI, but I don&#39;t know if this is possible without a Servlet container (as it is using Spring). Every single tutorial seems to be related with servlet containers or application servers.","title":"Using CDI without a Servlet Container","body":"<p>I want to write a simple Java Desktop Application using Java Swing. Usually I use <strong>Spring Framework</strong> to do the dependency injection and build the whole class structure. However, I've seen that <strong>CDI</strong> is becoming more and more popular and want to give it a try. </p>\n\n<p>I would like to do the Dependency Injection of my project using CDI, but I don't know if this is possible without a Servlet container (as it is using Spring). Every single tutorial seems to be related with servlet containers or application servers.</p>\n"},{"tags":["java","hook","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660504682,"creation_date":1660504682,"answer_id":73354492,"question_id":73321061,"body_markdown":"The method in question returns [a `MessageListenerContainer`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/config/KafkaListenerContainerFactory.html#createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)), not a smart life cycle.\r\n\r\nInterceptors can only return an assignable type, that&#39;s why your possible interceptor is not considered. ","title":"ByteBuddy AgentBuilder Problems setting a Hook to KafkaListenerContainerFactory","body":"<p>The method in question returns <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/config/KafkaListenerContainerFactory.html#createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)\" rel=\"nofollow noreferrer\">a <code>MessageListenerContainer</code></a>, not a smart life cycle.</p>\n<p>Interceptors can only return an assignable type, that's why your possible interceptor is not considered.</p>\n"}],"owner":{"account_id":26037970,"reputation":3,"user_id":19743191,"display_name":"Amitai Talmon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73354492,"answer_count":1,"score":0,"last_activity_date":1686310498,"creation_date":1660222707,"question_id":73321061,"body_markdown":"I am trying to set a method Hook to KafkaListenerContainerFactory.KafkaListenerContainerFactory()\r\nI am having problems defining the method signature and always get the error:\r\n\r\njava.lang.IllegalArgumentException: None of \r\n[private static net.bytebuddy.dynamic.DynamicType$Builder CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.lambda$install$0(net.bytebuddy.dynamic.DynamicType$Builder,net.bytebuddy.description.type.TypeDescription,java.lang.ClassLoader,net.bytebuddy.utility.JavaModule), \r\npublic static java.lang.Object CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.createListenerContainer(java.lang.Object,java.util.concurrent.Callable) \r\nthrows java.lang.Exception, INSTANCE] allows for delegation from public abstract org.springframework.kafka.listener.MessageListenerContainer org.springframework.kafka.config.KafkaListenerContainerFactory.createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)\r\n","title":"ByteBuddy AgentBuilder Problems setting a Hook to KafkaListenerContainerFactory","body":"<p>I am trying to set a method Hook to KafkaListenerContainerFactory.KafkaListenerContainerFactory()\nI am having problems defining the method signature and always get the error:</p>\n<p>java.lang.IllegalArgumentException: None of\n[private static net.bytebuddy.dynamic.DynamicType$Builder CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.lambda$install$0(net.bytebuddy.dynamic.DynamicType$Builder,net.bytebuddy.description.type.TypeDescription,java.lang.ClassLoader,net.bytebuddy.utility.JavaModule),\npublic static java.lang.Object CompanyURL.KafkaListenerAnnotationBeanPostProcessorHook.createListenerContainer(java.lang.Object,java.util.concurrent.Callable)\nthrows java.lang.Exception, INSTANCE] allows for delegation from public abstract org.springframework.kafka.listener.MessageListenerContainer org.springframework.kafka.config.KafkaListenerContainerFactory.createListenerContainer(org.springframework.kafka.config.KafkaListenerEndpoint)</p>\n"},{"tags":["java","spring-boot","aop","aspectj"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1561503991,"post_id":56763066,"comment_id":100083160,"body_markdown":"On a somewhat related note, have you looked into the Spring [PerformanceMonitorInterceptor](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/interceptor/PerformanceMonitorInterceptor.html) which seems to already do what you&#39;re attempting to implement?","body":"On a somewhat related note, have you looked into the Spring <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/aop/interceptor/PerformanceMonitorInterceptor.html\" rel=\"nofollow noreferrer\">PerformanceMonitorInterceptor</a> which seems to already do what you&#39;re attempting to implement?"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1561504129,"post_id":56763066,"comment_id":100083191,"body_markdown":"Otherwise, have you attempted using `@SpringBootTest` without restricting it to specific classes?","body":"Otherwise, have you attempted using <code>@SpringBootTest</code> without restricting it to specific classes?"},{"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"score":0,"creation_date":1561506371,"post_id":56763066,"comment_id":100083646,"body_markdown":"K. The real case is a bit difficult so I used it as an example. Remove &quot;classes&quot; on the annotation does not help.","body":"K. The real case is a bit difficult so I used it as an example. Remove &quot;classes&quot; on the annotation does not help."}],"answers":[{"comments":[{"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"score":0,"creation_date":1561534301,"post_id":56764020,"comment_id":100090807,"body_markdown":"Interesting. It works, but it feels a bit wrong. I was even able to remove `@ComponentScan`; probably because `SpringBootTestMain` is in the same package as the other classes.","body":"Interesting. It works, but it feels a bit wrong. I was even able to remove <code>@ComponentScan</code>; probably because <code>SpringBootTestMain</code> is in the same package as the other classes."},{"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"score":0,"creation_date":1561590955,"post_id":56764020,"comment_id":100118918,"body_markdown":"You can remove the `@ComponentScan` but then your whole app will start so as the app grows, it will take longer. And if there is a dependency that is unrelated but can&#39;t be created like a database or initial load then it will fail. If you can start your whole app just use `@SpringBootApplication` and let your regular app main start it. I thought you needed it because you had the `@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})` on your test class .","body":"You can remove the <code>@ComponentScan</code> but then your whole app will start so as the app grows, it will take longer. And if there is a dependency that is unrelated but can&#39;t be created like a database or initial load then it will fail. If you can start your whole app just use <code>@SpringBootApplication</code> and let your regular app main start it. I thought you needed it because you had the <code>@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})</code> on your test class ."}],"tags":[],"owner":{"account_id":13559789,"reputation":1287,"user_id":9781957,"display_name":"DCTID"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561513039,"creation_date":1561513039,"answer_id":56764020,"question_id":56763066,"body_markdown":"You need to start an `@SpringBootApplication`. However, it does not have to be the one you use to start your app in production. It can be a special one for this test only and can be in your test sources root not your src.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackageClasses = {DemoComponent.class, TimeLoggerAspect.class})\r\n    public class SpringBootTestMain {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringBootTestMain.class, args);\r\n        }\r\n\r\n    }\r\n\r\nThen in your test this is the only class you need to list.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = SpringBootTestMain.class)\r\n    public class DemoComponentFailTest {","title":"How to test an aspect with SpringBootTest?","body":"<p>You need to start an <code>@SpringBootApplication</code>. However, it does not have to be the one you use to start your app in production. It can be a special one for this test only and can be in your test sources root not your src.</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackageClasses = {DemoComponent.class, TimeLoggerAspect.class})\npublic class SpringBootTestMain {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootTestMain.class, args);\n    }\n\n}\n</code></pre>\n\n<p>Then in your test this is the only class you need to list.</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = SpringBootTestMain.class)\npublic class DemoComponentFailTest {\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9868284,"reputation":141,"user_id":7308950,"display_name":"Stefan Vitz"},"score":2,"creation_date":1620140626,"post_id":56849190,"comment_id":119109749,"body_markdown":"interestingly this is the only approach which worked for us.","body":"interestingly this is the only approach which worked for us."}],"tags":[],"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562059252,"creation_date":1562059252,"answer_id":56849190,"question_id":56763066,"body_markdown":"Another solution that seems to work is adding **`AnnotationAwareAspectJAutoProxyCreator`** in `classes` of `@SpringBootTest`, although I am not quite certain why.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(classes = { DemoComponent.class, \r\n                                TimeLoggerAspect.class,\r\n                                AnnotationAwareAspectJAutoProxyCreator.class })\r\n    public class DemoComponentFailTest {\r\n    \r\n      @Autowired\r\n      private DemoComponent demoComponent;\r\n    \r\n      @Test\r\n      public void shouldLogMethodTiming() {\r\n          demoComponent.sayHello();\r\n      }\r\n    }","title":"How to test an aspect with SpringBootTest?","body":"<p>Another solution that seems to work is adding <strong><code>AnnotationAwareAspectJAutoProxyCreator</code></strong> in <code>classes</code> of <code>@SpringBootTest</code>, although I am not quite certain why.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = { DemoComponent.class, \n                            TimeLoggerAspect.class,\n                            AnnotationAwareAspectJAutoProxyCreator.class })\npublic class DemoComponentFailTest {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  @Test\n  public void shouldLogMethodTiming() {\n      demoComponent.sayHello();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5275920,"reputation":1627,"user_id":4212710,"display_name":"typoerrpr"},"score":0,"creation_date":1613725001,"post_id":58881327,"comment_id":117169672,"body_markdown":"exactly what I needed!","body":"exactly what I needed!"},{"owner":{"account_id":12812682,"reputation":134,"user_id":9270299,"display_name":"youbl"},"score":0,"creation_date":1648799078,"post_id":58881327,"comment_id":126720467,"body_markdown":"thanks, my project use junit5, now worked.","body":"thanks, my project use junit5, now worked."}],"tags":[],"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1573836179,"creation_date":1573836179,"answer_id":58881327,"question_id":56763066,"body_markdown":"I had similar problem. My Aspect is listening on controller methods. To get it activated, importing the ```AnnotationAwareAspectJAutoProxyCreator``` made the trick:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @Import(AnnotationAwareAspectJAutoProxyCreator.class) // activate aspect\r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest {\r\n  \r\n        ...\r\n\r\n    }\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p>I had similar problem. My Aspect is listening on controller methods. To get it activated, importing the <code>AnnotationAwareAspectJAutoProxyCreator</code> made the trick:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@Import(AnnotationAwareAspectJAutoProxyCreator.class) // activate aspect\n@WebMvcTest(MyController.class)\npublic class MyControllerTest {\n\n    ...\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338288,"reputation":879,"user_id":667073,"accept_rate":80,"display_name":"wh81752"},"score":5,"creation_date":1657218015,"post_id":60302575,"comment_id":128764862,"body_markdown":"This cannot be correct simply because you change the implementation instead of the test method. The implementation is fine, it&#39;s just about how to kick-start spring-aop magic working when testing.","body":"This cannot be correct simply because you change the implementation instead of the test method. The implementation is fine, it&#39;s just about how to kick-start spring-aop magic working when testing."}],"tags":[],"owner":{"account_id":17520654,"reputation":96,"user_id":12706786,"display_name":"Raphael Costa"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1582123053,"creation_date":1582122467,"answer_id":60302575,"question_id":56763066,"body_markdown":"You have to put @EnableAspectJAutoProxy with your file @Configuration that declares the bean with @Aspect.\r\n\r\n    @Aspect\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class TimeLoggerAspect {\r\n    \r\n      private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\r\n    \r\n      @Around(&quot;@annotation(demo.TimeLogger)&quot;)\r\n      public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \r\n              throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n    \r\n        Object proceed = joinPoint.proceed();\r\n    \r\n        long totalTime = System.currentTimeMillis() - startTime;\r\n        log.info(&quot;Method &quot; + joinPoint.getSignature() + &quot;: &quot; + totalTime + &quot;ms&quot;);\r\n    \r\n        return proceed;\r\n      }\r\n    }\r\n\r\nI think that will do the work.","title":"How to test an aspect with SpringBootTest?","body":"<p>You have to put @EnableAspectJAutoProxy with your file @Configuration that declares the bean with @Aspect.</p>\n\n<pre><code>@Aspect\n@Configuration\n@EnableAspectJAutoProxy\npublic class TimeLoggerAspect {\n\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\n\n  @Around(\"@annotation(demo.TimeLogger)\")\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \n          throws Throwable {\n    long startTime = System.currentTimeMillis();\n\n    Object proceed = joinPoint.proceed();\n\n    long totalTime = System.currentTimeMillis() - startTime;\n    log.info(\"Method \" + joinPoint.getSignature() + \": \" + totalTime + \"ms\");\n\n    return proceed;\n  }\n}\n</code></pre>\n\n<p>I think that will do the work.</p>\n"},{"tags":[],"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674727351,"creation_date":1674727351,"answer_id":75244612,"question_id":56763066,"body_markdown":"When I had to test an aspect, I used the approach below.\r\n\r\n    @SpringBootTest\r\n    @ContextConfiguration(classes = {MyAspectImpl.class, MyAspectTest.TestConfiguration.class})\r\n    @EnableAspectJAutoProxy\r\n    public class MyAspectTest {\r\n\r\n      @org.springframework.boot.test.context.TestConfiguration\r\n    static class TestConfiguration {\r\n        @Bean\r\n        public MyAspectTestClass myAspectTestClass() {\r\n          return new MyAspectTestClass();\r\n        }\r\n      }\r\n\r\n      @Autowired\r\n      private MyAspectTestClass target;\r\n\r\n      @Test\r\n      public void testCorrectlySetsPoolNameUsingMethodParameter() {\r\n        target.testMethod();\r\n      }\r\n\r\n      @NoArgsConstructor\r\n      private static class MyAspectTestClass {\r\n        @MyAspect\r\n        public void testMethod() {\r\n         //Add some logic here\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p>When I had to test an aspect, I used the approach below.</p>\n<pre><code>@SpringBootTest\n@ContextConfiguration(classes = {MyAspectImpl.class, MyAspectTest.TestConfiguration.class})\n@EnableAspectJAutoProxy\npublic class MyAspectTest {\n\n  @org.springframework.boot.test.context.TestConfiguration\nstatic class TestConfiguration {\n    @Bean\n    public MyAspectTestClass myAspectTestClass() {\n      return new MyAspectTestClass();\n    }\n  }\n\n  @Autowired\n  private MyAspectTestClass target;\n\n  @Test\n  public void testCorrectlySetsPoolNameUsingMethodParameter() {\n    target.testMethod();\n  }\n\n  @NoArgsConstructor\n  private static class MyAspectTestClass {\n    @MyAspect\n    public void testMethod() {\n     //Add some logic here\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8774392,"reputation":21,"user_id":6560125,"display_name":"Srinivas Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686310461,"creation_date":1686310461,"answer_id":76439825,"question_id":56763066,"body_markdown":" `@Import (AnnotationAwareAspectJAutoProxyCreator.class)` This alone did not work for me.\r\n\r\nI had to Include my aspect class and controller class in ContextConfiguration. And then Autowire them in the test class.\r\n\r\n`@ContextConfiguration (classes = {MyController.class, MyAspect.class})`\r\n\r\n```\r\n@Autowired\r\nMyController myController;\r\n\r\n@Autowired\r\nMyAspect myAspect;\r\n```\r\nLeaving it here. Thought this might help somebody someday.\r\n\r\n","title":"How to test an aspect with SpringBootTest?","body":"<p><code>@Import (AnnotationAwareAspectJAutoProxyCreator.class)</code> This alone did not work for me.</p>\n<p>I had to Include my aspect class and controller class in ContextConfiguration. And then Autowire them in the test class.</p>\n<p><code>@ContextConfiguration (classes = {MyController.class, MyAspect.class})</code></p>\n<pre><code>@Autowired\nMyController myController;\n\n@Autowired\nMyAspect myAspect;\n</code></pre>\n<p>Leaving it here. Thought this might help somebody someday.</p>\n"}],"owner":{"account_id":129909,"reputation":1515,"user_id":328808,"accept_rate":80,"display_name":"Natan Cox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21908,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":60302575,"answer_count":6,"score":19,"last_activity_date":1686310461,"creation_date":1561503753,"question_id":56763066,"body_markdown":"I created a simple aspect in Spring using Spring Boot 2.1.6.RELEASE.\r\nIt basically logs the total time spent on a method.\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class TimeLoggerAspect {\r\n\r\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\r\n\r\n  @Around(&quot;@annotation(demo.TimeLogger)&quot;)\r\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \r\n          throws Throwable {\r\n    long startTime = System.currentTimeMillis();\r\n\r\n    Object proceed = joinPoint.proceed();\r\n\r\n    long totalTime = System.currentTimeMillis() - startTime;\r\n    log.info(&quot;Method &quot; + joinPoint.getSignature() + &quot;: &quot; + totalTime + &quot;ms&quot;);\r\n\r\n    return proceed;\r\n  }\r\n}\r\n```\r\n\r\nthe aspect is triggered by a `TimeLogger` annotation\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface TimeLogger {\r\n}\r\n```\r\n\r\nand is used in a component like this\r\n\r\n```\r\n@Component\r\npublic class DemoComponent {\r\n  @TimeLogger\r\n  public void sayHello() {\r\n    System.out.println(&quot;hello&quot;);\r\n  }\r\n}\r\n```\r\n\r\nA spring boot demo application will invoke `sayHello` via the `run` method of the `CommandLineRunner` interface.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n  @Autowired\r\n  private DemoComponent demoComponent;\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(DemoApplication.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(String... args) throws Exception {\r\n    demoComponent.sayHello();\r\n  }\r\n}\r\n```\r\n\r\nFor completeness, I add my modifications in `build.gradle`: adding libraries for aop, spring test and jupiter (junit).\r\n\r\n```\r\n\tcompile(&quot;org.springframework.boot:spring-boot-starter-aop&quot;)\r\n\r\n    testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\ttestCompile(&quot;org.junit.jupiter:junit-jupiter-api&quot;)\r\n\ttestRuntime(&quot;org.junit.jupiter:junit-jupiter-engine&quot;)\r\n```\r\n\r\nRunning the application will output (trimmed for readability)\r\n\r\n```\r\nhello\r\n... TimeLoggerAspect : Method void demo.DemoComponent.sayHello(): 4ms\r\n\r\n```\r\n\r\nSo far, so good. Now I create a test based on `@SpringBootTest` annotation and jupiter.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})\r\npublic class DemoComponentFailTest {\r\n\r\n  @Autowired\r\n  private DemoComponent demoComponent;\r\n\r\n  @Test\r\n  public void shouldLogMethodTiming() {\r\n      demoComponent.sayHello();\r\n  }\r\n}\r\n```\r\n\r\nand here I get the output\r\n\r\n```\r\nhello\r\n```\r\n\r\nNo output from the `TimeLoggerAspect`, since it seems it is not being triggered.\r\n\r\nIs something missing to trigger the aspect in the test? Or are there other ways of testing the aspect in spring boot?","title":"How to test an aspect with SpringBootTest?","body":"<p>I created a simple aspect in Spring using Spring Boot 2.1.6.RELEASE.\nIt basically logs the total time spent on a method.</p>\n\n<pre><code>@Aspect\n@Component\npublic class TimeLoggerAspect {\n\n  private static final Logger log = LoggerFactory.getLogger(TimeLoggerAspect.class);\n\n  @Around(\"@annotation(demo.TimeLogger)\")\n  public Object methodTimeLogger(ProceedingJoinPoint joinPoint) \n          throws Throwable {\n    long startTime = System.currentTimeMillis();\n\n    Object proceed = joinPoint.proceed();\n\n    long totalTime = System.currentTimeMillis() - startTime;\n    log.info(\"Method \" + joinPoint.getSignature() + \": \" + totalTime + \"ms\");\n\n    return proceed;\n  }\n}\n</code></pre>\n\n<p>the aspect is triggered by a <code>TimeLogger</code> annotation</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface TimeLogger {\n}\n</code></pre>\n\n<p>and is used in a component like this</p>\n\n<pre><code>@Component\npublic class DemoComponent {\n  @TimeLogger\n  public void sayHello() {\n    System.out.println(\"hello\");\n  }\n}\n</code></pre>\n\n<p>A spring boot demo application will invoke <code>sayHello</code> via the <code>run</code> method of the <code>CommandLineRunner</code> interface.</p>\n\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    demoComponent.sayHello();\n  }\n}\n</code></pre>\n\n<p>For completeness, I add my modifications in <code>build.gradle</code>: adding libraries for aop, spring test and jupiter (junit).</p>\n\n<pre><code>    compile(\"org.springframework.boot:spring-boot-starter-aop\")\n\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n    testCompile(\"org.junit.jupiter:junit-jupiter-api\")\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine\")\n</code></pre>\n\n<p>Running the application will output (trimmed for readability)</p>\n\n<pre><code>hello\n... TimeLoggerAspect : Method void demo.DemoComponent.sayHello(): 4ms\n\n</code></pre>\n\n<p>So far, so good. Now I create a test based on <code>@SpringBootTest</code> annotation and jupiter.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {DemoComponent.class, TimeLoggerAspect.class})\npublic class DemoComponentFailTest {\n\n  @Autowired\n  private DemoComponent demoComponent;\n\n  @Test\n  public void shouldLogMethodTiming() {\n      demoComponent.sayHello();\n  }\n}\n</code></pre>\n\n<p>and here I get the output</p>\n\n<pre><code>hello\n</code></pre>\n\n<p>No output from the <code>TimeLoggerAspect</code>, since it seems it is not being triggered.</p>\n\n<p>Is something missing to trigger the aspect in the test? Or are there other ways of testing the aspect in spring boot?</p>\n"},{"tags":["java","android","nullpointerexception"],"answers":[{"comments":[{"owner":{"account_id":28766078,"reputation":1,"user_id":22030966,"display_name":"Nauman Qureshi"},"score":0,"creation_date":1686315026,"post_id":76439817,"comment_id":134785724,"body_markdown":"Hey it throws the same error.\nSame line.\n\nError:\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference","body":"Hey it throws the same error. Same line.  Error:  Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference"},{"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"score":0,"creation_date":1686317931,"post_id":76439817,"comment_id":134786387,"body_markdown":"try this\n`View parentView = your_navigationView.getHeaderView(0);\nTextView text = (TextView)parentView.findViewById(R.id.textView)`","body":"try this <code>View parentView = your_navigationView.getHeaderView(0); TextView text = (TextView)parentView.findViewById(R.id.textView)</code>"},{"owner":{"account_id":28766078,"reputation":1,"user_id":22030966,"display_name":"Nauman Qureshi"},"score":0,"creation_date":1686591650,"post_id":76439817,"comment_id":134816874,"body_markdown":"Hey it throws the exact same error...","body":"Hey it throws the exact same error..."}],"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686310354,"creation_date":1686310354,"answer_id":76439817,"question_id":76416341,"body_markdown":"\r\nchange your code like as follow\r\n\r\n     tv = nav.findViewById(R.id.tvusername);\r\n\r\nPlease accept this answer if it solved your problem or was the most helpful in finding your solution","title":"NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference","body":"<p>change your code like as follow</p>\n<pre><code> tv = nav.findViewById(R.id.tvusername);\n</code></pre>\n<p>Please accept this answer if it solved your problem or was the most helpful in finding your solution</p>\n"}],"owner":{"account_id":28766078,"reputation":1,"user_id":22030966,"display_name":"Nauman Qureshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686310354,"creation_date":1686066525,"question_id":76416341,"body_markdown":"i am getting this NullPointerException Error in Java trying to run my app in android Studio.\r\nBelow is my JavaFile\r\n\r\n```\r\npackage com.example.app;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.Manifest;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.Cursor;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.example.app.AboutusFragment;\r\nimport com.example.app.AddProductFragment;\r\nimport com.example.app.AllProductsFragment;\r\nimport com.example.app.CartFragment;\r\nimport com.example.app.CategoryFragment;\r\nimport com.example.app.CatlistFragment;\r\nimport com.example.app.ChangePwdFragment;\r\nimport com.example.app.ContactusFragment;\r\nimport com.example.app.HomeFragment;\r\nimport com.example.app.LoginFragment;\r\nimport com.example.app.MediMartDbHelper;\r\nimport com.example.app.MediMartUtils;\r\nimport com.example.app.OrderHistoryFragment;\r\nimport com.example.app.OrdersFragment;\r\nimport com.example.app.R;\r\nimport com.example.app.RegisterFragment;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\r\nimport com.google.android.material.snackbar.Snackbar;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    private DrawerLayout dlayout;\r\n    private NavigationView nav;\r\n    private ActionBarDrawerToggle drawerToggle;\r\n    private Toolbar toolbar;\r\n    private SharedPreferences sp;\r\n    private MediMartDbHelper db;\r\n    private TextView tv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        init();\r\n        drawerToggle=new ActionBarDrawerToggle(this.getParent(),dlayout,toolbar,R.string.on,R.string.Off);\r\n        dlayout.addDrawerListener(drawerToggle);\r\n        drawerToggle.syncState();\r\n        nav.setNavigationItemSelectedListener(this);\r\n        permissions();\r\n        MediMartUtils.loadFragment(this,new CategoryFragment());\r\n        loadmenu();\r\n    }\r\n\r\n    public void init(){\r\n        dlayout=findViewById(R.id.dlayout);\r\n        nav= findViewById(R.id.nav_view);\r\n        toolbar= findViewById(R.id.toolbar);\r\n        tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\r\n        sp=getSharedPreferences(&quot;users&quot;,MODE_PRIVATE);\r\n        db=new MediMartDbHelper(this);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setTitle(&quot;My Shop&quot;);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.search_menu,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        if(item.getItemId()==R.id.mcart){\r\n            String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\r\n            if(user.equals(&quot;guest&quot;)) {\r\n                MediMartUtils.loadFragment(this, new LoginFragment());\r\n                Snackbar.make(getCurrentFocus(),&quot;Please Login First&quot;,BaseTransientBottomBar.LENGTH_LONG).show();\r\n            }else{\r\n                MediMartUtils.loadFragment(this, new CartFragment());\r\n            }\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    public void loadmenu(){\r\n        String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\r\n        Menu menu=nav.getMenu();\r\n        switch(user) {\r\n            case &quot;guest&quot;:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.gadmin, false);\r\n                menu.setGroupVisible(R.id.guser, false);\r\n                menu.setGroupVisible(R.id.gcustomer, false);\r\n                tv.setText(&quot;Welcome Guest&quot;);\r\n                break;\r\n            case &quot;admin&quot;:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.gadmin, true);\r\n                menu.setGroupVisible(R.id.guser, true);\r\n                menu.setGroupVisible(R.id.gcustomer, false);\r\n                tv.setText(&quot;Welcome Administrator&quot;);\r\n                break;\r\n            default:\r\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\r\n                menu.setGroupVisible(R.id.guser, true);\r\n                menu.setGroupVisible(R.id.gcustomer, true);\r\n                menu.setGroupVisible(R.id.gadmin, false);\r\n                Cursor c=db.findcustomer(user);\r\n                c.moveToNext();\r\n                tv.setText(&quot;Welcome &quot;+c.getString(1));\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void permissions(){\r\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n            if(checkSelfPermission(Manifest.permission.CALL_PHONE)!= PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions(new String[]{Manifest.permission.CALL_PHONE},100);\r\n            }\r\n            if(checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\r\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},200);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        Fragment f=null;\r\n        switch (item.getItemId()){\r\n            case R.id.mhome:\r\n                f=new HomeFragment();\r\n                break;\r\n            case R.id.mcat:\r\n                f=new CatlistFragment();\r\n                break;\r\n            case R.id.mnoti:\r\n                f=new OrderHistoryFragment();\r\n                break;\r\n            case R.id.mproducts:\r\n                f=new CategoryFragment();\r\n                break;\r\n            case R.id.morders:\r\n                f=new OrdersFragment();\r\n                break;\r\n            case R.id.mchangepwd:\r\n                f=new ChangePwdFragment();\r\n                break;\r\n            case  R.id.maddpro:\r\n                f=new AddProductFragment();\r\n                break;\r\n            case R.id.mshowall:\r\n                f=new AllProductsFragment();\r\n                break;\r\n            case R.id.mlogout:\r\n                SharedPreferences.Editor edit=sp.edit();\r\n                edit.remove(&quot;userid&quot;);\r\n                edit.remove(&quot;role&quot;);\r\n                edit.commit();\r\n                f=new CategoryFragment();\r\n                Toast.makeText(this, &quot;Sign out successfully..&quot;, Toast.LENGTH_SHORT).show();\r\n                dlayout.closeDrawer(GravityCompat.START);\r\n                return MediMartUtils.loadwithoutHistoryFragment(this,f);\r\n            case  R.id.mcart:\r\n                f=new CartFragment();\r\n                break;\r\n        }\r\n        dlayout.closeDrawer(GravityCompat.START);\r\n        return MediMartUtils.loadFragment(this,f);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n        if(dlayout.isDrawerOpen(GravityCompat.START)){\r\n            dlayout.closeDrawer(GravityCompat.START);\r\n        }\r\n        if(getSupportFragmentManager().getBackStackEntryCount()==0) {\r\n            super.onBackPressed();\r\n        }else{\r\n            getSupportFragmentManager().popBackStack();\r\n        }\r\n    }\r\n\r\n    public void login(View view) {\r\n        MediMartUtils.loadFragment(this,new LoginFragment());\r\n    }\r\n\r\n    public void register(View view) {\r\n        MediMartUtils.loadFragment(this,new RegisterFragment());\r\n    }\r\n\r\n    public void contactus(View view) {\r\n        MediMartUtils.loadFragment(this,new ContactusFragment());\r\n    }\r\n\r\n    public void aboutus(View view) {\r\n        MediMartUtils.loadFragment(this,new AboutusFragment());\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my activity home layout file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.come/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/dlayout&quot;&gt;\r\n\r\n    &lt;include\r\n        layout=&quot;@layout/main_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        /&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:headerLayout=&quot;@layout/drawer_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot;\r\n    /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nAnd here, where the id tvusername is assigned\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;220dp&quot;\r\n    android:background=&quot;#ffffff&quot;\r\n    android:layout_gravity=&quot;top&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;10dp&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:id=&quot;@+id/imageView14&quot;\r\n        app:srcCompat=&quot;@drawable/grocerrylogo&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView28&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;4dp&quot;\r\n            android:text=&quot;Shopify Cart&quot;\r\n            android:textColor=&quot;#8F10a5&quot;\r\n            android:textSize=&quot;25dp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvusername&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;8dp&quot;\r\n            android:text=&quot;Welcome Guest&quot;\r\n            android:textColor=&quot;#640873&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nI have seen plenty of similiar post but and i tried to learn from them but it doesnt resonate within me. I truly do not understand why this error is thrown in line 75 which is this one:\r\n\r\n\r\n```\r\ntv= nav.getHeaderView(0).findViewById(R.id.tvusername);\r\n```\r\n\r\nAnd Line 61 which is this one: (probably because the error first comes from within the method)\r\n\r\n\r\n```\r\ninit();\r\n```\r\n\r\nI can imagine that the error is pretty obvious and im just unable to see it :D\r\nThanks alot!\r\n\r\nIf i have to provide any more information please let me know, this is my first posts on here.\r\n\r\n\r\n\r\nI am trying to assign a ressource id to TextView tv; \r\nAnd i am getting the error: \r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference\r\n                                                                                                    \tat com.example.app.HomeActivity.init(HomeActivity.java:75)\r\n                                                                                                    \tat com.example.app.HomeActivity.onCreate(HomeActivity.java:61)\r\n```\r\n\r\nI am not sure why its not working and where the error seems to be","title":"NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.view.View.findViewById(int)&#39; on a null object reference","body":"<p>i am getting this NullPointerException Error in Java trying to run my app in android Studio.\nBelow is my JavaFile</p>\n<pre><code>package com.example.app;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\n\nimport android.Manifest;\nimport android.content.SharedPreferences;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\nimport com.example.app.AboutusFragment;\nimport com.example.app.AddProductFragment;\nimport com.example.app.AllProductsFragment;\nimport com.example.app.CartFragment;\nimport com.example.app.CategoryFragment;\nimport com.example.app.CatlistFragment;\nimport com.example.app.ChangePwdFragment;\nimport com.example.app.ContactusFragment;\nimport com.example.app.HomeFragment;\nimport com.example.app.LoginFragment;\nimport com.example.app.MediMartDbHelper;\nimport com.example.app.MediMartUtils;\nimport com.example.app.OrderHistoryFragment;\nimport com.example.app.OrdersFragment;\nimport com.example.app.R;\nimport com.example.app.RegisterFragment;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.android.material.snackbar.BaseTransientBottomBar;\nimport com.google.android.material.snackbar.Snackbar;\n\nimport java.util.List;\n\npublic class HomeActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n\n    private DrawerLayout dlayout;\n    private NavigationView nav;\n    private ActionBarDrawerToggle drawerToggle;\n    private Toolbar toolbar;\n    private SharedPreferences sp;\n    private MediMartDbHelper db;\n    private TextView tv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        init();\n        drawerToggle=new ActionBarDrawerToggle(this.getParent(),dlayout,toolbar,R.string.on,R.string.Off);\n        dlayout.addDrawerListener(drawerToggle);\n        drawerToggle.syncState();\n        nav.setNavigationItemSelectedListener(this);\n        permissions();\n        MediMartUtils.loadFragment(this,new CategoryFragment());\n        loadmenu();\n    }\n\n    public void init(){\n        dlayout=findViewById(R.id.dlayout);\n        nav= findViewById(R.id.nav_view);\n        toolbar= findViewById(R.id.toolbar);\n        tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\n        sp=getSharedPreferences(&quot;users&quot;,MODE_PRIVATE);\n        db=new MediMartDbHelper(this);\n        setSupportActionBar(toolbar);\n        getSupportActionBar().setTitle(&quot;My Shop&quot;);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.search_menu,menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        if(item.getItemId()==R.id.mcart){\n            String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\n            if(user.equals(&quot;guest&quot;)) {\n                MediMartUtils.loadFragment(this, new LoginFragment());\n                Snackbar.make(getCurrentFocus(),&quot;Please Login First&quot;,BaseTransientBottomBar.LENGTH_LONG).show();\n            }else{\n                MediMartUtils.loadFragment(this, new CartFragment());\n            }\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n    public void loadmenu(){\n        String user=sp.getString(&quot;userid&quot;,&quot;guest&quot;);\n        Menu menu=nav.getMenu();\n        switch(user) {\n            case &quot;guest&quot;:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.gadmin, false);\n                menu.setGroupVisible(R.id.guser, false);\n                menu.setGroupVisible(R.id.gcustomer, false);\n                tv.setText(&quot;Welcome Guest&quot;);\n                break;\n            case &quot;admin&quot;:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.gadmin, true);\n                menu.setGroupVisible(R.id.guser, true);\n                menu.setGroupVisible(R.id.gcustomer, false);\n                tv.setText(&quot;Welcome Administrator&quot;);\n                break;\n            default:\n                Log.d(&quot;Nauman&quot;, &quot; i am in loadmenu: &quot; + user);\n                menu.setGroupVisible(R.id.guser, true);\n                menu.setGroupVisible(R.id.gcustomer, true);\n                menu.setGroupVisible(R.id.gadmin, false);\n                Cursor c=db.findcustomer(user);\n                c.moveToNext();\n                tv.setText(&quot;Welcome &quot;+c.getString(1));\n                break;\n        }\n    }\n\n    private void permissions(){\n        if(Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n            if(checkSelfPermission(Manifest.permission.CALL_PHONE)!= PackageManager.PERMISSION_GRANTED){\n                requestPermissions(new String[]{Manifest.permission.CALL_PHONE},100);\n            }\n            if(checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)!= PackageManager.PERMISSION_GRANTED){\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},200);\n            }\n        }\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        Fragment f=null;\n        switch (item.getItemId()){\n            case R.id.mhome:\n                f=new HomeFragment();\n                break;\n            case R.id.mcat:\n                f=new CatlistFragment();\n                break;\n            case R.id.mnoti:\n                f=new OrderHistoryFragment();\n                break;\n            case R.id.mproducts:\n                f=new CategoryFragment();\n                break;\n            case R.id.morders:\n                f=new OrdersFragment();\n                break;\n            case R.id.mchangepwd:\n                f=new ChangePwdFragment();\n                break;\n            case  R.id.maddpro:\n                f=new AddProductFragment();\n                break;\n            case R.id.mshowall:\n                f=new AllProductsFragment();\n                break;\n            case R.id.mlogout:\n                SharedPreferences.Editor edit=sp.edit();\n                edit.remove(&quot;userid&quot;);\n                edit.remove(&quot;role&quot;);\n                edit.commit();\n                f=new CategoryFragment();\n                Toast.makeText(this, &quot;Sign out successfully..&quot;, Toast.LENGTH_SHORT).show();\n                dlayout.closeDrawer(GravityCompat.START);\n                return MediMartUtils.loadwithoutHistoryFragment(this,f);\n            case  R.id.mcart:\n                f=new CartFragment();\n                break;\n        }\n        dlayout.closeDrawer(GravityCompat.START);\n        return MediMartUtils.loadFragment(this,f);\n    }\n\n    @Override\n    public void onBackPressed() {\n\n        if(dlayout.isDrawerOpen(GravityCompat.START)){\n            dlayout.closeDrawer(GravityCompat.START);\n        }\n        if(getSupportFragmentManager().getBackStackEntryCount()==0) {\n            super.onBackPressed();\n        }else{\n            getSupportFragmentManager().popBackStack();\n        }\n    }\n\n    public void login(View view) {\n        MediMartUtils.loadFragment(this,new LoginFragment());\n    }\n\n    public void register(View view) {\n        MediMartUtils.loadFragment(this,new RegisterFragment());\n    }\n\n    public void contactus(View view) {\n        MediMartUtils.loadFragment(this,new ContactusFragment());\n    }\n\n    public void aboutus(View view) {\n        MediMartUtils.loadFragment(this,new AboutusFragment());\n    }\n\n}\n</code></pre>\n<p>Here is my activity home layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.come/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/dlayout&quot;&gt;\n\n    &lt;include\n        layout=&quot;@layout/main_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        /&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/drawer_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot;\n    /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>And here, where the id tvusername is assigned</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;220dp&quot;\n    android:background=&quot;#ffffff&quot;\n    android:layout_gravity=&quot;top&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;10dp&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:id=&quot;@+id/imageView14&quot;\n        app:srcCompat=&quot;@drawable/grocerrylogo&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView28&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;4dp&quot;\n            android:text=&quot;Shopify Cart&quot;\n            android:textColor=&quot;#8F10a5&quot;\n            android:textSize=&quot;25dp&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvusername&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:padding=&quot;8dp&quot;\n            android:text=&quot;Welcome Guest&quot;\n            android:textColor=&quot;#640873&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I have seen plenty of similiar post but and i tried to learn from them but it doesnt resonate within me. I truly do not understand why this error is thrown in line 75 which is this one:</p>\n<pre><code>tv= nav.getHeaderView(0).findViewById(R.id.tvusername);\n</code></pre>\n<p>And Line 61 which is this one: (probably because the error first comes from within the method)</p>\n<pre><code>init();\n</code></pre>\n<p>I can imagine that the error is pretty obvious and im just unable to see it :D\nThanks alot!</p>\n<p>If i have to provide any more information please let me know, this is my first posts on here.</p>\n<p>I am trying to assign a ressource id to TextView tv;\nAnd i am getting the error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.view.View.findViewById(int)' on a null object reference\n                                                                                                        at com.example.app.HomeActivity.init(HomeActivity.java:75)\n                                                                                                        at com.example.app.HomeActivity.onCreate(HomeActivity.java:61)\n</code></pre>\n<p>I am not sure why its not working and where the error seems to be</p>\n"},{"tags":["java","selenium-grid","qaf"],"owner":{"account_id":28787216,"reputation":1,"user_id":22047438,"display_name":"Shravan Jessu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686310120,"creation_date":1686310120,"question_id":76439792,"body_markdown":"I&#39;m executing tests in selenium HQ with few capabilities, even though the capabilities are correct few times instead of selecting browser based on the capability&#39;s client send it is attempting the tests in a different browser. The actual capability after driver gets created are with a different browser than what client requested for.\r\n\r\nThe redirecting of browser is happening after connection to selenium hq is happened. So, I&#39;m thinking it&#39;s not our code issue because the same code works fine at times. but when we run multiple tests (capabilities client passes looks good) instead of desired browser other browser is being set for execution. And getting hung from there.\r\n\r\nWhen execution started with on Selenium HQ remote Microsoft Edge browser, test should start on the same browser. Could someone please assist with this?","title":"Execution on Selenium HQ Remote browser redirecting to a different than requested","body":"<p>I'm executing tests in selenium HQ with few capabilities, even though the capabilities are correct few times instead of selecting browser based on the capability's client send it is attempting the tests in a different browser. The actual capability after driver gets created are with a different browser than what client requested for.</p>\n<p>The redirecting of browser is happening after connection to selenium hq is happened. So, I'm thinking it's not our code issue because the same code works fine at times. but when we run multiple tests (capabilities client passes looks good) instead of desired browser other browser is being set for execution. And getting hung from there.</p>\n<p>When execution started with on Selenium HQ remote Microsoft Edge browser, test should start on the same browser. Could someone please assist with this?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686233672,"post_id":76432757,"comment_id":134773594,"body_markdown":"You&#39;ll need to create some thread-safe way to collect those requests, executes a query every so often, then lets the callers know their answer is ready. Such a system can be designed in many ways, which is why I voted to close as Too broad.","body":"You&#39;ll need to create some thread-safe way to collect those requests, executes a query every so often, then lets the callers know their answer is ready. Such a system can be designed in many ways, which is why I voted to close as Too broad."},{"owner":{"account_id":3779737,"reputation":572,"user_id":3139567,"display_name":"Goikiu"},"score":0,"creation_date":1686239399,"post_id":76432757,"comment_id":134774938,"body_markdown":"A solution may also be to put all the request in a database and have a scheduled job that run each X time and collect a lot of request from db to be taken and worked. Needs other hacks also.","body":"A solution may also be to put all the request in a database and have a scheduled job that run each X time and collect a lot of request from db to be taken and worked. Needs other hacks also."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686310094,"creation_date":1686310094,"answer_id":76439789,"question_id":76432757,"body_markdown":"Well, there are multiple possible solutions, however, anyway the general approach is to store requests in a thread-safe manner; schedule a job in a separate thread at a desired rate capable of bulk load stored data; notify a request handler in some way when bulk load is complete.\r\n\r\nIn some more details it could be done as follows:\r\n1. For each request create a `CompletableFuture` and put in along with received data in an a thread-safe collection. For example, `ArrayBlockingQueue&lt;DataAndFutureContainer&gt;` or `ConcurrentHashMap&lt;DataToLoad, CompletableFuture&gt;`\r\n2. Schedule a job at a desired rate via `@Scheduled` (if using Spring) or `Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate()` \r\n3. That job should retrieve (for example via `ArrayBlockingQueue.poll()` or `ConcurrentHashMap.remove()`) all data **available at the moment**, do bulk load (or whatever you want), and fulfil the related `CompletableFuture` via `.complete()` with result of bulk load (or whatever)\r\n4. Request handler, which have created that futures in step 1 waits on it by `future.get()`, thus gets the result of a bulk load.\r\n\r\nAlso, some optimisations is available depending on your framework. For example, with Spring you could return [DeferredResult][1] from request handler and use instead of `CompletableFuture`. If you are using Spring WebFlux, you could return `Mono.fromFuture()`\r\n\r\nThats a brief description of a approach, be careful in details.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-deferred-result","title":"REST Request from multiple clients, collect all requests per second basis, process them in bulk &amp; send response back to each clients","body":"<p>Well, there are multiple possible solutions, however, anyway the general approach is to store requests in a thread-safe manner; schedule a job in a separate thread at a desired rate capable of bulk load stored data; notify a request handler in some way when bulk load is complete.</p>\n<p>In some more details it could be done as follows:</p>\n<ol>\n<li>For each request create a <code>CompletableFuture</code> and put in along with received data in an a thread-safe collection. For example, <code>ArrayBlockingQueue&lt;DataAndFutureContainer&gt;</code> or <code>ConcurrentHashMap&lt;DataToLoad, CompletableFuture&gt;</code></li>\n<li>Schedule a job at a desired rate via <code>@Scheduled</code> (if using Spring) or <code>Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate()</code></li>\n<li>That job should retrieve (for example via <code>ArrayBlockingQueue.poll()</code> or <code>ConcurrentHashMap.remove()</code>) all data <strong>available at the moment</strong>, do bulk load (or whatever you want), and fulfil the related <code>CompletableFuture</code> via <code>.complete()</code> with result of bulk load (or whatever)</li>\n<li>Request handler, which have created that futures in step 1 waits on it by <code>future.get()</code>, thus gets the result of a bulk load.</li>\n</ol>\n<p>Also, some optimisations is available depending on your framework. For example, with Spring you could return <a href=\"https://www.baeldung.com/spring-deferred-result\" rel=\"nofollow noreferrer\">DeferredResult</a> from request handler and use instead of <code>CompletableFuture</code>. If you are using Spring WebFlux, you could return <code>Mono.fromFuture()</code></p>\n<p>Thats a brief description of a approach, be careful in details.</p>\n"}],"owner":{"account_id":6871209,"reputation":1370,"user_id":5281471,"accept_rate":100,"display_name":"SOWMITHRA KUMAR G M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439789,"answer_count":1,"score":0,"last_activity_date":1686310094,"creation_date":1686233563,"question_id":76432757,"body_markdown":"We are having a web server which receives 100s of client requests every seconds.\r\n\r\n1. Need to collect all REST request from clients per second basis. \r\n2. For collected requests, prepare bulk request to Elasticsearch &amp; get the response.\r\n3. Parse Elasticsearch response &amp; prepare individual responses for each REST clients.\r\n4. Send each response to REST clients.\r\n\r\nI can take care of Elasticsearch bulk request &amp; need help in creating a REST API which solves above stated problem.\r\n\r\nCurrently, for each client request, server is making a single Elasticsearch call would be very expensive and to avoid it, needed a solution.\r\n","title":"REST Request from multiple clients, collect all requests per second basis, process them in bulk &amp; send response back to each clients","body":"<p>We are having a web server which receives 100s of client requests every seconds.</p>\n<ol>\n<li>Need to collect all REST request from clients per second basis.</li>\n<li>For collected requests, prepare bulk request to Elasticsearch &amp; get the response.</li>\n<li>Parse Elasticsearch response &amp; prepare individual responses for each REST clients.</li>\n<li>Send each response to REST clients.</li>\n</ol>\n<p>I can take care of Elasticsearch bulk request &amp; need help in creating a REST API which solves above stated problem.</p>\n<p>Currently, for each client request, server is making a single Elasticsearch call would be very expensive and to avoid it, needed a solution.</p>\n"},{"tags":["java","oauth-2.0","playframework","google-drive-api","google-oauth"],"owner":{"account_id":21769145,"reputation":1,"user_id":16072500,"display_name":"George Middletown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686309850,"creation_date":1686309850,"question_id":76439756,"body_markdown":"Here is the method I wrote in Java:\r\n\r\n      public static String uploadToDrive(String directoryPath) throws IOException, GeneralSecurityException {\r\n\t    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n\t    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n\t            .setApplicationName(APPLICATION_NAME)\r\n\t            .build();\r\n\r\n\t    // Create a new file.\r\n\t    File fileMetadata = new File();\r\n\t    fileMetadata.setName(&quot;My Spreadsheet&quot;);\r\n\t    fileMetadata.setMimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\r\n\r\n\t    java.io.File filePath = new java.io.File(directoryPath);\r\n\t    FileContent mediaContent = new FileContent(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, filePath);\r\n\t    File file = service.files().create(fileMetadata, mediaContent)\r\n\t            .setFields(&quot;id&quot;)\r\n\t            .execute();\r\n\r\n\t    // Share the file with the authorized user.\r\n\t    \r\n\t    String userEmail = service.about().get().setFields(&quot;user(emailAddress)&quot;).execute().getUser().getEmailAddress();\r\n\r\n\r\n\t    Permission userPermission = new Permission()\r\n\t            .setType(&quot;anyone&quot;)\r\n\t            .setRole(&quot;reader&quot;);\r\n\t    \r\n\t    service.permissions().create(file.getId(), userPermission).execute();\r\n\r\n\t    return &quot;https://docs.google.com/spreadsheets/d/&quot; + file.getId();\r\n\t}\r\n\r\nI want the file in the given path to be uploaded to Google Drive. The problem is that the file is uploaded to the account of the user in the credentials file. I want the file to be uploaded to the drive of the user authenticated in that browser session. How can I achieve this?","title":"Google Drive API upload file to the currently authenticated user on browser","body":"<p>Here is the method I wrote in Java:</p>\n<pre><code>  public static String uploadToDrive(String directoryPath) throws IOException, GeneralSecurityException {\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    Drive service = new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME)\n            .build();\n\n    // Create a new file.\n    File fileMetadata = new File();\n    fileMetadata.setName(&quot;My Spreadsheet&quot;);\n    fileMetadata.setMimeType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);\n\n    java.io.File filePath = new java.io.File(directoryPath);\n    FileContent mediaContent = new FileContent(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, filePath);\n    File file = service.files().create(fileMetadata, mediaContent)\n            .setFields(&quot;id&quot;)\n            .execute();\n\n    // Share the file with the authorized user.\n    \n    String userEmail = service.about().get().setFields(&quot;user(emailAddress)&quot;).execute().getUser().getEmailAddress();\n\n\n    Permission userPermission = new Permission()\n            .setType(&quot;anyone&quot;)\n            .setRole(&quot;reader&quot;);\n    \n    service.permissions().create(file.getId(), userPermission).execute();\n\n    return &quot;https://docs.google.com/spreadsheets/d/&quot; + file.getId();\n}\n</code></pre>\n<p>I want the file in the given path to be uploaded to Google Drive. The problem is that the file is uploaded to the account of the user in the credentials file. I want the file to be uploaded to the drive of the user authenticated in that browser session. How can I achieve this?</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","scheduler"],"owner":{"account_id":25376019,"reputation":135,"user_id":19189151,"display_name":"Deepak Samria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1686309789,"creation_date":1686309789,"question_id":76439749,"body_markdown":"I got stuck in one problem about quartz schedular. Actually, the requirement is we have to schedule the job like monthly, half yearly and yearly. Now, the twist is we have to change the trigger time if the trigger time on any job falls on Holiday. So there are two thing, first we can schedule the job on next day and the other one to schedule on the job on previous day. I didn&#39;t find anything which can help me on this.\r\n\r\nIf my requirement is only to schdeule the job after the trigger day then it is pretty simple to write logic on the job itself. But we need to satisfy the previous day condition as well.\r\n\r\nIt would be great for me if anyone can help on this.","title":"Re-schedule the speific trigger of quartz job","body":"<p>I got stuck in one problem about quartz schedular. Actually, the requirement is we have to schedule the job like monthly, half yearly and yearly. Now, the twist is we have to change the trigger time if the trigger time on any job falls on Holiday. So there are two thing, first we can schedule the job on next day and the other one to schedule on the job on previous day. I didn't find anything which can help me on this.</p>\n<p>If my requirement is only to schdeule the job after the trigger day then it is pretty simple to write logic on the job itself. But we need to satisfy the previous day condition as well.</p>\n<p>It would be great for me if anyone can help on this.</p>\n"},{"tags":["java","spring-boot","kotlin","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686309281,"creation_date":1686309281,"answer_id":76439696,"question_id":76438998,"body_markdown":"&gt; I am confused where is the border between ValueObjects and Primitive types. \r\n\r\nFor information coming _into_ the system, where the information is represented as general purpose data structures, the usual guidance is to parse that information into a fit-for-purpose data structure as early as possible.\r\n\r\nBut as early as possible is a balance of trade-offs; on the one hand the sooner we wrap the data the longer we accrue the advantages of wrapping the data, but on the other hand we&#39;re introducing coupling.\r\n\r\nIn other words, we want to think about potential re-usability of parts that are coupled to a particular domain model.\r\n\r\nFor information _leaving_ the system, this is mostly about copying the information from the domain model&#39;s representation to a general purpose representation, and as a rule we don&#39;t normally need to worry about data constraints or parsing, so the advantages of the fit-for-purpose representation are reduced.\r\n\r\nIn the case of &quot;queries&quot;, we might never see the information in its domain representation at all -- there are plenty of cases where we might take the representation provided by our persistence store and copying it into an HTTP response without ever introducing a &quot;ValueObject&quot;.\r\n\r\nRecommended reading:\r\n\r\n- [Parse Don&#39;t Validate][1]\r\n- [At the Boundaries, Applications are not Object Oriented][2]\r\n\r\n\r\n  [1]: https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/\r\n  [2]: https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/","title":"Border between ValueObjects and Primitives - DDD and Clean Architecture","body":"<blockquote>\n<p>I am confused where is the border between ValueObjects and Primitive types.</p>\n</blockquote>\n<p>For information coming <em>into</em> the system, where the information is represented as general purpose data structures, the usual guidance is to parse that information into a fit-for-purpose data structure as early as possible.</p>\n<p>But as early as possible is a balance of trade-offs; on the one hand the sooner we wrap the data the longer we accrue the advantages of wrapping the data, but on the other hand we're introducing coupling.</p>\n<p>In other words, we want to think about potential re-usability of parts that are coupled to a particular domain model.</p>\n<p>For information <em>leaving</em> the system, this is mostly about copying the information from the domain model's representation to a general purpose representation, and as a rule we don't normally need to worry about data constraints or parsing, so the advantages of the fit-for-purpose representation are reduced.</p>\n<p>In the case of &quot;queries&quot;, we might never see the information in its domain representation at all -- there are plenty of cases where we might take the representation provided by our persistence store and copying it into an HTTP response without ever introducing a &quot;ValueObject&quot;.</p>\n<p>Recommended reading:</p>\n<ul>\n<li><a href=\"https://lexi-lambda.github.io/blog/2019/11/05/parse-don-t-validate/\" rel=\"nofollow noreferrer\">Parse Don't Validate</a></li>\n<li><a href=\"https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/\" rel=\"nofollow noreferrer\">At the Boundaries, Applications are not Object Oriented</a></li>\n</ul>\n"}],"owner":{"display_name":"user19111862"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686309281,"creation_date":1686303199,"question_id":76438998,"body_markdown":"I am confused where is the border between ValueObjects and Primitive types.\r\nShould Application services takes as arguments ValueObjects or primitive types?\r\nSame in communication between Infrastructure adapters from Application services:\r\nFor e.g.:\r\n\r\nApplication Service/CQRS layer (Examples in kotlin - Spring boot application)\r\n```\r\ndata class RegisterNewUserCommand(\r\n    val username: String,\r\n    val rawPassword: String,\r\n    val email: String)\r\n```\r\nor\r\n```\r\ndata class RegisterNewUserCommand(\r\n    val username: Username,\r\n    val rawPassword: RawPassword,\r\n    val email: Email)\r\n```\r\n\r\nand Application Ports to communicate with Infrastructure Layer:\r\n```\r\ninterface CouponsRepository {\r\n    fun findByCode(couponCode: CouponCode): Coupon?\r\n}\r\n```\r\nor\r\n```\r\ninterface CouponsRepository {\r\n    fun findByCode(couponCode: String): Coupon?\r\n}\r\n```\r\n\r\nI tried to find some examples of code but there are no clear answer for my problem.\r\nFinal question is: Should Application (and Domain) layer operate only on ValueObjects and Entities? ","title":"Border between ValueObjects and Primitives - DDD and Clean Architecture","body":"<p>I am confused where is the border between ValueObjects and Primitive types.\nShould Application services takes as arguments ValueObjects or primitive types?\nSame in communication between Infrastructure adapters from Application services:\nFor e.g.:</p>\n<p>Application Service/CQRS layer (Examples in kotlin - Spring boot application)</p>\n<pre><code>data class RegisterNewUserCommand(\n    val username: String,\n    val rawPassword: String,\n    val email: String)\n</code></pre>\n<p>or</p>\n<pre><code>data class RegisterNewUserCommand(\n    val username: Username,\n    val rawPassword: RawPassword,\n    val email: Email)\n</code></pre>\n<p>and Application Ports to communicate with Infrastructure Layer:</p>\n<pre><code>interface CouponsRepository {\n    fun findByCode(couponCode: CouponCode): Coupon?\n}\n</code></pre>\n<p>or</p>\n<pre><code>interface CouponsRepository {\n    fun findByCode(couponCode: String): Coupon?\n}\n</code></pre>\n<p>I tried to find some examples of code but there are no clear answer for my problem.\nFinal question is: Should Application (and Domain) layer operate only on ValueObjects and Entities?</p>\n"},{"tags":["java","arrays","spring","spring-boot","byte"],"comments":[{"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"score":0,"creation_date":1686309138,"post_id":76439185,"comment_id":134784494,"body_markdown":"Is there a need to load 5GB file into memory ? Save it, load as InputStream (or don&#39;t save and take inputstream from request) and read with buffer, or if it&#39;s character file, use java&#39;s built-in FileReader (or find inputstream parser for your use-case)","body":"Is there a need to load 5GB file into memory ? Save it, load as InputStream (or don&#39;t save and take inputstream from request) and read with buffer, or if it&#39;s character file, use java&#39;s built-in FileReader (or find inputstream parser for your use-case)"},{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686312491,"post_id":76439185,"comment_id":134785158,"body_markdown":"Only issue with streaming is it will hold on to the instance and might not work in concurrent request or microservice architecture","body":"Only issue with streaming is it will hold on to the instance and might not work in concurrent request or microservice architecture"},{"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"score":0,"creation_date":1686326653,"post_id":76439185,"comment_id":134788337,"body_markdown":"What concurrent request do you mean ? when it comes to uploading file ? or microservice ? don&#39;t know how that is related. I think biggest issue here is that you want to hold 5 GB of data in memory. If your problem is architecture here, you might have done some bad decisions. Describing your exact use-case might be more explanatory","body":"What concurrent request do you mean ? when it comes to uploading file ? or microservice ? don&#39;t know how that is related. I think biggest issue here is that you want to hold 5 GB of data in memory. If your problem is architecture here, you might have done some bad decisions. Describing your exact use-case might be more explanatory"}],"answers":[{"comments":[{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686312374,"post_id":76439515,"comment_id":134785130,"body_markdown":"You explained it well the line Java limitation is hardly mentioned anywhere when I was searching for the issue","body":"You explained it well the line Java limitation is hardly mentioned anywhere when I was searching for the issue"}],"tags":[],"owner":{"account_id":27994772,"reputation":111,"user_id":21380272,"display_name":"Dario Arena"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307629,"creation_date":1686307629,"answer_id":76439515,"question_id":76439185,"body_markdown":"I think this is not really a problem in Spring or in the ByteArray itself but it is a limitation of the java language itself. Historically the size of an array is tracked by an int value which is 32 bit so the maximum theoretical elements in an array could be 2^32 -1 ~= 2B elements. So, unfortunately, large files cannot be easily kept in memory to access them as a array of bytes. One solution could be to save them as a file on disk once they are uploaded and access their content via a Scanner or the NIO APIs (or with an external library such as Apache Commons I/O)","title":"Increase the size of byte array in Java","body":"<p>I think this is not really a problem in Spring or in the ByteArray itself but it is a limitation of the java language itself. Historically the size of an array is tracked by an int value which is 32 bit so the maximum theoretical elements in an array could be 2^32 -1 ~= 2B elements. So, unfortunately, large files cannot be easily kept in memory to access them as a array of bytes. One solution could be to save them as a file on disk once they are uploaded and access their content via a Scanner or the NIO APIs (or with an external library such as Apache Commons I/O)</p>\n"},{"comments":[{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686312315,"post_id":76439646,"comment_id":134785116,"body_markdown":"Issue with this is commons file upload still uses javax pacakage but since servlet 3 and in spring boot 3 we cant use javax we have to use jakarta","body":"Issue with this is commons file upload still uses javax pacakage but since servlet 3 and in spring boot 3 we cant use javax we have to use jakarta"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686362001,"post_id":76439646,"comment_id":134792650,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76439646/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":9716378,"reputation":1,"user_id":7206641,"display_name":"M. Mhlanga"},"score":0,"creation_date":1686411672,"post_id":76439646,"comment_id":134796547,"body_markdown":"Thanks @CoderAkki. BTW I&#39;m new to stack overflow, this is my second answer. I will soon adapt","body":"Thanks @CoderAkki. BTW I&#39;m new to stack overflow, this is my second answer. I will soon adapt"}],"tags":[],"owner":{"account_id":9716378,"reputation":1,"user_id":7206641,"display_name":"M. Mhlanga"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686308767,"creation_date":1686308767,"answer_id":76439646,"question_id":76439185,"body_markdown":"You might wanna look at this article: Spring and Apache FileUpload\r\n\r\n[Spring and Apache FileUpload][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-apache-file-upload","title":"Increase the size of byte array in Java","body":"<p>You might wanna look at this article: Spring and Apache FileUpload</p>\n<p><a href=\"https://www.baeldung.com/spring-apache-file-upload\" rel=\"nofollow noreferrer\">Spring and Apache FileUpload</a></p>\n"},{"comments":[{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686310875,"post_id":76439680,"comment_id":134784807,"body_markdown":"But if this over multiple instances over server wont it be a sticky session and the instance will be busy till the file is completly streamed and if any netwrok issue occurs client has to retrigger it","body":"But if this over multiple instances over server wont it be a sticky session and the instance will be busy till the file is completly streamed and if any netwrok issue occurs client has to retrigger it"},{"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"score":0,"creation_date":1686554598,"post_id":76439680,"comment_id":134808708,"body_markdown":"He wants to upload more than 2GB. It is netural that server can deal it with less efficient. But there are some advanced ways with wotking with files. Best one (I know) is S3 bucket. Backend do not operate anything with files. All things are dealt on front side","body":"He wants to upload more than 2GB. It is netural that server can deal it with less efficient. But there are some advanced ways with wotking with files. Best one (I know) is S3 bucket. Backend do not operate anything with files. All things are dealt on front side"}],"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686309121,"creation_date":1686309121,"answer_id":76439680,"question_id":76439185,"body_markdown":"When dealing with large file uploads in Spring Boot, relying solely on in-memory storage may not be the most efficient approach. Uploading files of 2GB to 5GB can quickly exhaust the available memory and cause issues like the one you encountered.\r\n\r\nTo handle large file uploads in Spring Boot, it&#39;s recommended to use streaming techniques instead of storing the entire file in memory. One way to achieve this is by utilizing Spring&#39;s MultipartFile API combined with streaming libraries like Apache Commons IO or Java NIO.\r\n\r\nHere&#39;s an example of how you can handle large file uploads using streaming with Spring Boot:\r\n\r\nAdd the necessary dependencies to your project. For Apache Commons IO, you can include the following dependency in your pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n2. Modify your Spring controller to handle the file upload using streaming techniques. Instead of using file.getBytes(), you can process the file in chunks using a BufferedInputStream and write it to a temporary file or directly to a desired location.\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    @RestController\r\n    public class FileUploadController {\r\n    \r\n        @PostMapping(&quot;/upload&quot;)\r\n        public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            try (BufferedInputStream inputStream = new BufferedInputStream(file.getInputStream())) {\r\n                // Specify the desired location or create a temporary file\r\n                File outputFile = new File(&quot;/path/to/save/file.ext&quot;);\r\n    \r\n                try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                    // Buffer size for reading from input stream\r\n                    byte[] buffer = new byte[8192];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                }\r\n    \r\n                return ResponseEntity.ok(&quot;File uploaded successfully.&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error uploading file.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBy using streaming techniques, you can avoid loading the entire file into memory and process it in smaller chunks, making it feasible to handle large file uploads in Spring Boot.","title":"Increase the size of byte array in Java","body":"<p>When dealing with large file uploads in Spring Boot, relying solely on in-memory storage may not be the most efficient approach. Uploading files of 2GB to 5GB can quickly exhaust the available memory and cause issues like the one you encountered.</p>\n<p>To handle large file uploads in Spring Boot, it's recommended to use streaming techniques instead of storing the entire file in memory. One way to achieve this is by utilizing Spring's MultipartFile API combined with streaming libraries like Apache Commons IO or Java NIO.</p>\n<p>Here's an example of how you can handle large file uploads using streaming with Spring Boot:</p>\n<p>Add the necessary dependencies to your project. For Apache Commons IO, you can include the following dependency in your pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Modify your Spring controller to handle the file upload using streaming techniques. Instead of using file.getBytes(), you can process the file in chunks using a BufferedInputStream and write it to a temporary file or directly to a desired location.</p>\n<p>import org.apache.commons.io.IOUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;</p>\n<p>import java.io.BufferedInputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;</p>\n<p>@RestController\npublic class FileUploadController {</p>\n<pre><code> @PostMapping(&quot;/upload&quot;)\n public ResponseEntity&lt;String&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\n     try (BufferedInputStream inputStream = new BufferedInputStream(file.getInputStream())) {\n         // Specify the desired location or create a temporary file\n         File outputFile = new File(&quot;/path/to/save/file.ext&quot;);\n\n         try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n             // Buffer size for reading from input stream\n             byte[] buffer = new byte[8192];\n             int bytesRead;\n             while ((bytesRead = inputStream.read(buffer)) != -1) {\n                 outputStream.write(buffer, 0, bytesRead);\n             }\n         }\n\n         return ResponseEntity.ok(&quot;File uploaded successfully.&quot;);\n     } catch (IOException e) {\n         e.printStackTrace();\n         return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error uploading file.&quot;);\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>By using streaming techniques, you can avoid loading the entire file into memory and process it in smaller chunks, making it feasible to handle large file uploads in Spring Boot.</p>\n"}],"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686309121,"creation_date":1686304764,"question_id":76439185,"body_markdown":"I having a spring multipart controller, I am trying to upload files of 2GB - 5GB. Spring multipart resolves get the whole file in memory when i try to do file.getBytes() I get an error Required array length 2147483639 + 9 is too large. \r\n\r\nIt works well with file size of 2,147,483,647 bytes which is the max size of integer.\r\n\r\nAny way to increase the capacity of byte array or any other way to handle large file using spring boot.\r\n\r\nUsing Java 17 and Spring boot 3 so Commons fileupload is not supported as its using javax ","title":"Increase the size of byte array in Java","body":"<p>I having a spring multipart controller, I am trying to upload files of 2GB - 5GB. Spring multipart resolves get the whole file in memory when i try to do file.getBytes() I get an error Required array length 2147483639 + 9 is too large.</p>\n<p>It works well with file size of 2,147,483,647 bytes which is the max size of integer.</p>\n<p>Any way to increase the capacity of byte array or any other way to handle large file using spring boot.</p>\n<p>Using Java 17 and Spring boot 3 so Commons fileupload is not supported as its using javax</p>\n"},{"tags":["java","java-8","nio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1686309171,"post_id":76439632,"comment_id":134784497,"body_markdown":"Please post, *as text* the name you want, and tell us what OS you&#39;re using, and the output of `System.out.println(java.nio.charset.Charset.defaultCharset());`","body":"Please post, <i>as text</i> the name you want, and tell us what OS you&#39;re using, and the output of <code>System.out.println(java.nio.charset.Charset.defaultCharset()&zwnj;&#8203;);</code>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1686309470,"post_id":76439632,"comment_id":134784541,"body_markdown":"I suggest that you post a [mcve]. Post code that calls method `addEntry`. Then post the result that you want to get after running method `addEntry` and also post the result that you are getting now.","body":"I suggest that you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Post code that calls method <code>addEntry</code>. Then post the result that you want to get after running method <code>addEntry</code> and also post the result that you are getting now."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686314903,"post_id":76439632,"comment_id":134785695,"body_markdown":"@Abra sorry, but I can&#39;t write code that run method `addEntry` here.","body":"@Abra sorry, but I can&#39;t write code that run method <code>addEntry</code> here."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686315130,"post_id":76439632,"comment_id":134785738,"body_markdown":"@g00se I use windows. The output of `System.out.println(java.nio.charset.Charset.defaultCharset());` is `UTF-8`","body":"@g00se I use windows. The output of <code>System.out.println(java.nio.charset.Charset.defaultCharset()&zwnj;&#8203;);</code> is <code>UTF-8</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686315249,"post_id":76439632,"comment_id":134785768,"body_markdown":"And the name as text is..?","body":"And the name as text is..?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686317066,"post_id":76439632,"comment_id":134786176,"body_markdown":"@g00se _/test_тестовая_папка/test1.jpg_","body":"@g00se <i>/test_тестовая_папка/test1.jpg</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686321064,"post_id":76439632,"comment_id":134787127,"body_markdown":"OK. Why in fact are you using `FileSystems.newFileSystem`? Is it not your regular file system you want to use?","body":"OK. Why in fact are you using <code>FileSystems.newFileSystem</code>? Is it not your regular file system you want to use?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686331792,"post_id":76439632,"comment_id":134789285,"body_markdown":"@g00se I use it because i download file. And when download this code create folder and parent folders for the file that i download. For example, in my UI i have folder _test_тестовая_папка_ and file in it _test1.jpg_. I click download on folder and then this code is executed. And folders was created on my computer as in the screen.","body":"@g00se I use it because i download file. And when download this code create folder and parent folders for the file that i download. For example, in my UI i have folder <i>test_тестовая_папка</i> and file in it <i>test1.jpg</i>. I click download on folder and then this code is executed. And folders was created on my computer as in the screen."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686332600,"post_id":76439632,"comment_id":134789430,"body_markdown":"Apologies for no formatting in comments, but why not just: `public static void saveInputStreamAsFile(Path targetDir, InputStream in, String fileName) throws IOException {Path target = Path.of(targetDir.toString(), fileName);Files.copy(in, target);}` ?","body":"Apologies for no formatting in comments, but why not just: <code>public static void saveInputStreamAsFile(Path targetDir, InputStream in, String fileName) throws IOException {Path target = Path.of(targetDir.toString(), fileName);Files.copy(in, target);}</code> ?"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686565944,"post_id":76439632,"comment_id":134811044,"body_markdown":"@g00se actually, I download a folder with files. So, if I have _/test_dir/test1.img_,  _/test_dir/test2.img_, I click download on _test_dir_, I should get on my computer dir with name  _test_dir_ and 2 files in it.","body":"@g00se actually, I download a folder with files. So, if I have <i>/test_dir/test1.img</i>,  <i>/test_dir/test2.img</i>, I click download on <i>test_dir</i>, I should get on my computer dir with name  <i>test_dir</i> and 2 files in it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686567857,"post_id":76439632,"comment_id":134811430,"body_markdown":"Well it&#39;s pretty easy to fix up what I gave you to cope with that","body":"Well it&#39;s pretty easy to fix up what I gave you to cope with that"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686574054,"post_id":76439632,"comment_id":134812789,"body_markdown":"@g00se is copy create folder too? I mean if I have _/test_1/test_2/test_3/test.png_ and on my computer I don&#39;t have any of this folder, will I have them all after use method `copy`?","body":"@g00se is copy create folder too? I mean if I have <i>/test_1/test_2/test_3/test.png</i> and on my computer I don&#39;t have any of this folder, will I have them all after use method <code>copy</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686576085,"post_id":76439632,"comment_id":134813299,"body_markdown":"It’s impossible to match your code with the task you’re describing in the comments. This code doesn’t “download a folder with files”. It receives *a single `InputStream`* as input. Then, it creates a new filesystem at `_uri`. It’s still not clear why or what `_uri` is pointing to.","body":"It’s impossible to match your code with the task you’re describing in the comments. This code doesn’t “download a folder with files”. It receives <i>a single <code>InputStream</code></i> as input. Then, it creates a new filesystem at <code>_uri</code>. It’s still not clear why or what <code>_uri</code> is pointing to."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686576560,"post_id":76439632,"comment_id":134813413,"body_markdown":"You can make this the first line of the code I gave you: `if (!Files.exists(targetDir)) { Files.createDirectories(targetDir); }`","body":"You can make this the first line of the code I gave you: <code>if (!Files.exists(targetDir)) { Files.createDirectories(targetDir); }</code>"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686633733,"post_id":76439632,"comment_id":134821842,"body_markdown":"@g00se I have this in my code. It works fine for English letters, but not correctly for Cyrillic letters.","body":"@g00se I have this in my code. It works fine for English letters, but not correctly for Cyrillic letters."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686633856,"post_id":76439632,"comment_id":134821855,"body_markdown":"@Holger uri - it is where my jar file is exist on server. So I get folder with file from server to my computer.","body":"@Holger uri - it is where my jar file is exist on server. So I get folder with file from server to my computer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686640903,"post_id":76439632,"comment_id":134822918,"body_markdown":"So, this code is *running on the server* and *copying a file into a jar file*? And all the stuff about “download a folder with files” you’re talking about, is entirely irrelevant to this code? And we had to ask for five days, to eventually get the actual purpose of the code you have problems with?","body":"So, this code is <i>running on the server</i> and <i>copying a file into a jar file</i>? And all the stuff about “download a folder with files” you’re talking about, is entirely irrelevant to this code? And we had to ask for five days, to eventually get the actual purpose of the code you have problems with?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686645130,"post_id":76439632,"comment_id":134823716,"body_markdown":"If the main problem is that you are having difficulty creating a file/folder with Cyrillic letters, then you should be testing using code that&#39;s even simpler. Probably just the single line `Files.createDirectories(pathWithCyrillicName);`","body":"If the main problem is that you are having difficulty creating a file/folder with Cyrillic letters, then you should be testing using code that&#39;s even simpler. Probably just the single line <code>Files.createDirectories(pathWithCyrillicName);</code>"},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686649141,"post_id":76439632,"comment_id":134824609,"body_markdown":"@g00se yes, if I did this code I get 1 directory with wrong name.","body":"@g00se yes, if I did this code I get 1 directory with wrong name."},{"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"score":0,"creation_date":1686649192,"post_id":76439632,"comment_id":134824620,"body_markdown":"@g00se I use `zipfilesystem` proveder for create this directory.","body":"@g00se I use <code>zipfilesystem</code> proveder for create this directory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686654052,"post_id":76439632,"comment_id":134825621,"body_markdown":"Out of interest, what is the value of system property `sun.jnu.encoding`? Obviously, a significant matter in your screenshot is that evidently paths with Cyrillic letters are fine as far as your OS is concerned, but one of them is looking very wrong. You should probably post *in your question* the one-liner we just discussed showing the problem of creating such a path. And possibly the result in the file manager as screenshot","body":"Out of interest, what is the value of system property <code>sun.jnu.encoding</code>? Obviously, a significant matter in your screenshot is that evidently paths with Cyrillic letters are fine as far as your OS is concerned, but one of them is looking very wrong. You should probably post <i>in your question</i> the one-liner we just discussed showing the problem of creating such a path. And possibly the result in the file manager as screenshot"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686658571,"post_id":76439632,"comment_id":134826611,"body_markdown":"You create a zip/jar file, add entries to it, transfer it to another computer, extract it there, to find that the *end result* is wrong and do *not* actually know which step in this chain causes the error. In fact, the lack of a binding standard regarding file name encoding in zip files implies that a disagreement between creator and extractor does not indicate an error on either side. The zip fs provider [supports specifying a name encoding](https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html#zip-file-system-properties-heading) but you need to know which you need.","body":"You create a zip/jar file, add entries to it, transfer it to another computer, extract it there, to find that the <i>end result</i> is wrong and do <i>not</i> actually know which step in this chain causes the error. In fact, the lack of a binding standard regarding file name encoding in zip files implies that a disagreement between creator and extractor does not indicate an error on either side. The zip fs provider <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/jdk.zipfs/module-summary.html#zip-file-system-properties-heading\" rel=\"nofollow noreferrer\">supports specifying a name encoding</a> but you need to know which you need."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686661511,"post_id":76439632,"comment_id":134827334,"body_markdown":"That&#39;s all good @Holger, but seemingly we are being told that the simple `Files.createDirectories` is failing irrespective of zip files","body":"That&#39;s all good @Holger, but seemingly we are being told that the simple <code>Files.createDirectories</code> is failing irrespective of zip files"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686670514,"post_id":76439632,"comment_id":134829589,"body_markdown":"@g00se Are you sure that the OP tested whether `Files.createDirectories(…)` is “failing irrespective of zip files”? You seem to assume that when you say “simple”, the OP understands that you mean “with a `Path` belonging to the local filesystem rather than zip filesystem”.","body":"@g00se Are you sure that the OP tested whether <code>Files.createDirectories(…)</code> is “failing irrespective of zip files”? You seem to assume that when you say “simple”, the OP understands that you mean “with a <code>Path</code> belonging to the local filesystem rather than zip filesystem”."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686671872,"post_id":76439632,"comment_id":134829924,"body_markdown":"Yes, we&#39;d better check that. Please comment @AnnKont","body":"Yes, we&#39;d better check that. Please comment @AnnKont"}],"owner":{"account_id":16711576,"reputation":434,"user_id":12078701,"display_name":"AnnKont"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686308620,"creation_date":1686308620,"question_id":76439632,"body_markdown":"I want create directory with cyrillic name. But when I did it, I get normal folder and folder with not correct name.\r\nHow I can fix it? I need only 1 folder with correct name.\r\n\r\n```\r\n public void addEntry(String name, InputStream inputStream)\r\n    throws IOException {\r\n\r\n    if (inputStream == null) {\r\n      return;\r\n    }\r\n\r\n    try (FileSystem fileSystem = FileSystems.newFileSystem(\r\n        _uri, Collections.emptyMap())) {\r\n\r\n      Path path = fileSystem.getPath(name);\r\n\r\n      Path parentPath = path.getParent();\r\n\r\n      if (parentPath != null) {\r\n        Files.createDirectories(parentPath); //here is creating \r\n      }\r\n\r\n      Files.copy(inputStream, path, StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n  }\r\n```\r\n\r\n[![2 folders][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G2W61.jpg","title":"java nio create directory cyrillic name","body":"<p>I want create directory with cyrillic name. But when I did it, I get normal folder and folder with not correct name.\nHow I can fix it? I need only 1 folder with correct name.</p>\n<pre><code> public void addEntry(String name, InputStream inputStream)\n    throws IOException {\n\n    if (inputStream == null) {\n      return;\n    }\n\n    try (FileSystem fileSystem = FileSystems.newFileSystem(\n        _uri, Collections.emptyMap())) {\n\n      Path path = fileSystem.getPath(name);\n\n      Path parentPath = path.getParent();\n\n      if (parentPath != null) {\n        Files.createDirectories(parentPath); //here is creating \n      }\n\n      Files.copy(inputStream, path, StandardCopyOption.REPLACE_EXISTING);\n    }\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G2W61.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2W61.jpg\" alt=\"2 folders\" /></a></p>\n"},{"tags":["java","spring","spring-boot","jakarta-migration"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1686153875,"post_id":76424906,"comment_id":134761167,"body_markdown":"Look closer at this part in your stack trace `spring-plugin-core-2.0.0.RELEASE`. It is indeed not remotely related to Swagger and SpringFox.","body":"Look closer at this part in your stack trace <code>spring-plugin-core-2.0.0.RELEASE</code>. It is indeed not remotely related to Swagger and SpringFox."},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":0,"creation_date":1686218922,"post_id":76424906,"comment_id":134770248,"body_markdown":"@BalusC , Got that, But you can also see that I have the Spring Core 6.0.6 Jar, Hope you&#39;ve noticed it. Looked for Spring Plugin Jar why its being 2.0.0 even if I have Spring Core 6, Spring Boot 3+ etc. Could you please provide some solution to this?","body":"@BalusC , Got that, But you can also see that I have the Spring Core 6.0.6 Jar, Hope you&#39;ve noticed it. Looked for Spring Plugin Jar why its being 2.0.0 even if I have Spring Core 6, Spring Boot 3+ etc. Could you please provide some solution to this?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1686219020,"post_id":76424906,"comment_id":134770258,"body_markdown":"Sorry, I don&#39;t do Spring. First step for you would be to carefully check dependency tree.","body":"Sorry, I don&#39;t do Spring. First step for you would be to carefully check dependency tree."}],"answers":[{"tags":[],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686220226,"creation_date":1686220226,"answer_id":76430942,"question_id":76424906,"body_markdown":"The solution to fix the problem would be to add javax.servlet api dependency , But still the question remains as to what might have caused Spring Boot 6 jar to look out for javax namespace instead of Jakarta namespace!!!.\r\n\r\nHere is the solution , [link][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/java/exception-handling/solved-the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build-path-in-eclipse/","title":"Getting java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present in Spring boot latest migrated application","body":"<p>The solution to fix the problem would be to add javax.servlet api dependency , But still the question remains as to what might have caused Spring Boot 6 jar to look out for javax namespace instead of Jakarta namespace!!!.</p>\n<p>Here is the solution , <a href=\"https://howtodoinjava.com/java/exception-handling/solved-the-superclass-javax-servlet-http-httpservlet-was-not-found-on-the-java-build-path-in-eclipse/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430942,"answer_count":1,"score":0,"last_activity_date":1686308601,"creation_date":1686151798,"question_id":76424906,"body_markdown":"I have recently started the migration of our application from Spring Web version 5.x.x to 6.0.6 \r\nIt progressively took to upgrade of Java 8 to 17 and Spring Boot version 2.x.x to 3 and  which are the necessary libraries for this upgrade to be successful\r\n\r\nAnd in such process I have resolved many errors with help of beautiful platforms like Stackoverflow, Spring docs and many wonderful bloggers sites. However I am stumbled upon this as to why this contradictory behaviour is happening where as spring docs apparently says [here][1] that spring core has migrated from javax to Jakarta namespace. \r\n\r\nNow I am getting this exception. My question is why is still Spring Core(6.0) library referring to javax namespace when it says in documentation it refers to Jakarta namespace, where it must have referred to this \r\n\r\n&gt; jakarta.servlet.http.HttpServletRequest\r\n\r\nHere&#39;s the exception. \r\n&gt; java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\r\n\tat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[?:?]\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[?:?]\r\n\tat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[?:?]\r\n\tat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\r\n\tat sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[?:?]\r\n\tat sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[?:?]\r\n\tat java.lang.Class.getGenericInterfaces(Class.java:1211) ~[?:?]\r\n\tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.6.jar:6.0.6]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n\r\nCan someone elaborate, why this might be happening why the latest core library is referring to old javax HttpServletRequest??\r\n\r\nI have already gone through relevant questions, But they don&#39;t answer my query to the point and they talk about Swagger and SpringFox dependency fixes!! Check [here][2] an example.\r\n\r\n  \r\n\r\n\r\n  [1]: https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga\r\n  [2]: https://stackoverflow.com/questions/75718156/type-javax-servlet-http-httpservletrequest-not-present-how-to-solve-this-in-spri","title":"Getting java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present in Spring boot latest migrated application","body":"<p>I have recently started the migration of our application from Spring Web version 5.x.x to 6.0.6\nIt progressively took to upgrade of Java 8 to 17 and Spring Boot version 2.x.x to 3 and  which are the necessary libraries for this upgrade to be successful</p>\n<p>And in such process I have resolved many errors with help of beautiful platforms like Stackoverflow, Spring docs and many wonderful bloggers sites. However I am stumbled upon this as to why this contradictory behaviour is happening where as spring docs apparently says <a href=\"https://spring.io/blog/2022/11/16/spring-framework-6-0-goes-ga\" rel=\"nofollow noreferrer\">here</a> that spring core has migrated from javax to Jakarta namespace.</p>\n<p>Now I am getting this exception. My question is why is still Spring Core(6.0) library referring to javax namespace when it says in documentation it refers to Jakarta namespace, where it must have referred to this</p>\n<blockquote>\n<p>jakarta.servlet.http.HttpServletRequest</p>\n</blockquote>\n<p>Here's the exception.</p>\n<blockquote>\n<p>java.lang.TypeNotPresentException: Type javax.servlet.http.HttpServletRequest not present\nat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[?:?]\nat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[?:?]\nat sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[?:?]\nat sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[?:?]\nat sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[?:?]\nat sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[?:?]\nat java.lang.Class.getGenericInterfaces(Class.java:1211) ~[?:?]\nat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:500) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.core.ResolvableType.as(ResolvableType.java:448) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.core.ResolvableType.forClass(ResolvableType.java:1048) ~[spring-core-6.0.6.jar:6.0.6]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.getTargetType(PluginRegistriesBeanDefinitionRegistrar.java:101) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.plugin.core.config.PluginRegistriesBeanDefinitionRegistrar.registerBeanDefinitions(PluginRegistriesBeanDefinitionRegistrar.java:71) ~[spring-plugin-core-2.0.0.RELEASE.jar:2.0.0.RELEASE]\nat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-6.0.6.jar:6.0.6]\nat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:373) ~[spring-context-6.0.6.jar:6.0.6]\nat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]</p>\n</blockquote>\n<p>Can someone elaborate, why this might be happening why the latest core library is referring to old javax HttpServletRequest??</p>\n<p>I have already gone through relevant questions, But they don't answer my query to the point and they talk about Swagger and SpringFox dependency fixes!! Check <a href=\"https://stackoverflow.com/questions/75718156/type-javax-servlet-http-httpservletrequest-not-present-how-to-solve-this-in-spri\">here</a> an example.</p>\n"},{"tags":["java","gradle","testing","automated-tests","junit5"],"answers":[{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686308478,"creation_date":1686308478,"answer_id":76439618,"question_id":75669754,"body_markdown":"Since your build failed, you cannot be sure the report was generated. You could be looking at a stale report of a previous run.","title":"Gradle Test report is giving incorrect duration in Test Summary","body":"<p>Since your build failed, you cannot be sure the report was generated. You could be looking at a stale report of a previous run.</p>\n"}],"owner":{"account_id":14399098,"reputation":952,"user_id":10401397,"display_name":"O_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686308478,"creation_date":1678254415,"question_id":75669754,"body_markdown":"Can someone help me with fixing duration of Test Summary for gradle test report. When I run tests, the gradle report gives incorrect test duration information. In console, I can see that gradle test task took 1m 35s(the correct execution time), but the report says 13min 26 seconds. \r\nP.S I am running tests in parallel mode using gradle test --parallel command\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nyAJ9.png","title":"Gradle Test report is giving incorrect duration in Test Summary","body":"<p>Can someone help me with fixing duration of Test Summary for gradle test report. When I run tests, the gradle report gives incorrect test duration information. In console, I can see that gradle test task took 1m 35s(the correct execution time), but the report says 13min 26 seconds.\nP.S I am running tests in parallel mode using gradle test --parallel command\n<a href=\"https://i.stack.imgur.com/nyAJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nyAJ9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle","jpa","jdbc","spring-batch"],"comments":[{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446822706,"post_id":33569623,"comment_id":54917618,"body_markdown":"looks OS IP layer or firewall or network device that detects inactive connections for more than specific time and force closes them..\nSo either to configure your connection pool to close idle connections before that network layer does it, or configure &quot;keep alive&quot; in it.","body":"looks OS IP layer or firewall or network device that detects inactive connections for more than specific time and force closes them.. So either to configure your connection pool to close idle connections before that network layer does it, or configure &quot;keep alive&quot; in it."},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446822965,"post_id":33569623,"comment_id":54917784,"body_markdown":"thank you for your answer. could you please help me how to configure this in my case ?","body":"thank you for your answer. could you please help me how to configure this in my case ?"},{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446824681,"post_id":33569623,"comment_id":54918926,"body_markdown":"i&#39;m not sure i can help since i never done that, but is this connection (user/pass@url) working for other processes ? or exception occurs only after some time ?","body":"i&#39;m not sure i can help since i never done that, but is this connection (user/pass@url) working for other processes ? or exception occurs only after some time ?"},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446825076,"post_id":33569623,"comment_id":54919170,"body_markdown":"this exception happens only for batches. I could connect easly to database when I deploy my web application","body":"this exception happens only for batches. I could connect easly to database when I deploy my web application"},{"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"score":0,"creation_date":1446826815,"post_id":33569623,"comment_id":54920243,"body_markdown":"why do you have &quot;/old3804a&quot; at the end of the url ? after look at it again and at the exception, your process not able to connect so issue in configurations","body":"why do you have &quot;/old3804a&quot; at the end of the url ? after look at it again and at the exception, your process not able to connect so issue in configurations"},{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1446826916,"post_id":33569623,"comment_id":54920301,"body_markdown":"it is the url we use to connect to database. This is not the cause of the issue.","body":"it is the url we use to connect to database. This is not the cause of the issue."}],"answers":[{"comments":[{"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"score":0,"creation_date":1447060041,"post_id":33573596,"comment_id":54986022,"body_markdown":"Hi nabeel. Thank you for your answer. I did the suggested change : same error as before. I updated my question with more details at the end that could help understand better my issue.","body":"Hi nabeel. Thank you for your answer. I did the suggested change : same error as before. I updated my question with more details at the end that could help understand better my issue."}],"tags":[],"owner":{"account_id":7089996,"reputation":319,"user_id":5425515,"display_name":"nabeel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446835665,"creation_date":1446835665,"answer_id":33573596,"question_id":33569623,"body_markdown":"might be missing the &quot;//&quot; in the Service Name format ?\r\n\r\n\r\nOracle JDBC Thin Driver Formats\r\n\r\n\r\nOracle JDBC Thin using a Service Name:\r\n\r\n\r\n    jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;service_name&gt;\r\n    \r\n    Example: jdbc:oracle:thin:@//192.168.2.1:1521/XE\r\n\r\nOracle JDBC Thin using an SID:\r\n\r\n    jdbc:oracle:thin:@&lt;host&gt;:&lt;port&gt;:&lt;SID&gt;\r\n    \r\n    Example: jdbc:oracle:thin:192.168.2.1:1521:X01A\r\n\r\nNote: Support for SID is being phased out. Oracle recommends that users switch over to using service names.\r\n\r\n\r\nOracle JDBC Thin using a TNSName:\r\n\r\n    jdbc:oracle:thin:@&lt;TNSName&gt;\r\n    \r\n    Example: jdbc:oracle:thin:@GL\r\n\r\nNote: Support for TNSNames was added in the driver release 10.2.0.1 \r\n\r\n","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>might be missing the \"//\" in the Service Name format ?</p>\n\n<p>Oracle JDBC Thin Driver Formats</p>\n\n<p>Oracle JDBC Thin using a Service Name:</p>\n\n<pre><code>jdbc:oracle:thin:@//&lt;host&gt;:&lt;port&gt;/&lt;service_name&gt;\n\nExample: jdbc:oracle:thin:@//192.168.2.1:1521/XE\n</code></pre>\n\n<p>Oracle JDBC Thin using an SID:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;host&gt;:&lt;port&gt;:&lt;SID&gt;\n\nExample: jdbc:oracle:thin:192.168.2.1:1521:X01A\n</code></pre>\n\n<p>Note: Support for SID is being phased out. Oracle recommends that users switch over to using service names.</p>\n\n<p>Oracle JDBC Thin using a TNSName:</p>\n\n<pre><code>jdbc:oracle:thin:@&lt;TNSName&gt;\n\nExample: jdbc:oracle:thin:@GL\n</code></pre>\n\n<p>Note: Support for TNSNames was added in the driver release 10.2.0.1 </p>\n"},{"tags":[],"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447171074,"creation_date":1447171074,"answer_id":33634196,"question_id":33569623,"body_markdown":"I resolved the problem. I was using the bad JRE version. I used jdk1.7 instead of WASD8 JRE. To do this change, you must go to run configuration --&gt; JRE --&gt; tick &#39;Alternate JRE&#39; and choose in the list WASD8 JRE (maybe in your case it should be diffrent)","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>I resolved the problem. I was using the bad JRE version. I used jdk1.7 instead of WASD8 JRE. To do this change, you must go to run configuration --> JRE --> tick 'Alternate JRE' and choose in the list WASD8 JRE (maybe in your case it should be diffrent)</p>\n"},{"tags":[],"owner":{"account_id":1007051,"reputation":477,"user_id":1020512,"display_name":"Kambaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686307909,"creation_date":1686307909,"answer_id":76439555,"question_id":33569623,"body_markdown":"these errors are most likely about connection problems, usually wrong/missing configuration, dependency or network connection, which can be fixed. But just fyi, for anyone who had an exception like this: \r\n\r\n`Error oracle.net.ns.NetException: Undefined Error`\r\n\r\nafter some googling, it is some issue about directory or OS username containing spaces, it turned out that you had to enter this JVM argument: \r\n\r\n`-Duser.name=somenamewithoutspaces`\r\n\r\nAfter that it worked.\r\nFound [this][1] comment: \r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/DBE-9823/Oracle-JDBC-driver-doesnt-work-when-username-contains-non-ascii-characters-IO-Error-Undefined-Error-oracle.net.ns.NetException#focus=Comments-27-3912478.0-0","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>these errors are most likely about connection problems, usually wrong/missing configuration, dependency or network connection, which can be fixed. But just fyi, for anyone who had an exception like this:</p>\n<p><code>Error oracle.net.ns.NetException: Undefined Error</code></p>\n<p>after some googling, it is some issue about directory or OS username containing spaces, it turned out that you had to enter this JVM argument:</p>\n<p><code>-Duser.name=somenamewithoutspaces</code></p>\n<p>After that it worked.\nFound <a href=\"https://youtrack.jetbrains.com/issue/DBE-9823/Oracle-JDBC-driver-doesnt-work-when-username-contains-non-ascii-characters-IO-Error-Undefined-Error-oracle.net.ns.NetException#focus=Comments-27-3912478.0-0\" rel=\"nofollow noreferrer\">this</a> comment:</p>\n"}],"owner":{"account_id":2761043,"reputation":300,"user_id":2377943,"accept_rate":50,"display_name":"Nabil Salah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686307909,"creation_date":1446822004,"question_id":33569623,"body_markdown":"I have this error after executing my batch :\r\n\r\n    2015-11-06 15:45:32,179 [SchemaValidator                         ] ERROR | could not get database metadata\r\n    java.sql.SQLRecoverableException: Erreur d&#39;E/S: Socket read timed out\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:419)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:536)\r\n    \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:228)\r\n    \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n    \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:521)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:187)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\r\n    \tat org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:46)\r\n    \tat org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:130)\r\n    \tat org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:349)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1327)\r\n    \tat org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)\r\n    \tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:669)\r\n    \tat org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:132)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:225)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:308)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:282)\r\n    \tat org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:574)\r\n    Caused by: oracle.net.ns.NetException: Socket read timed out\r\n    \tat oracle.net.ns.Packet.receive(Packet.java:321)\r\n    \tat oracle.net.ns.DataPacket.receive(DataPacket.java:103)\r\n    \tat oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:175)\r\n    \tat oracle.net.ns.NetInputStream.read(NetInputStream.java:100)\r\n    \tat oracle.net.ns.Packet.extractData(Packet.java:423)\r\n    \tat oracle.net.ns.AcceptPacket.&lt;init&gt;(AcceptPacket.java:136)\r\n    \tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:312)\r\n    \tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1054)\r\n    \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:308)\r\n\r\nThis my DB configuration from a .properties :\r\n\r\n    batch.jdbc.driver=oracle.jdbc.driver.OracleDriver\r\n    batch.jdbc.url=jdbc:oracle:thin:@*********:****/*****\r\n    batch.jdbc.user=*****\r\n    batch.jdbc.pwd=*****\r\nand this is the config.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSourceCredentialsProvider&quot;\r\n    \t\tclass=&quot;com.natixis.sphinx.security.credentials.AlcasarCredentialsProvider&quot;&gt;\r\n    \t\t&lt;property name=&quot;ldapEntry&quot; value=&quot;${batch.jdbc.ldapEntry}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;application&quot; ref=&quot;application&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot;\r\n    \t\t\tvalue=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${batch.jdbc.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${batch.jdbc.user}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${batch.jdbc.pwd}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;entityManagerFactory&quot;\r\n    \t\t\tref=&quot;entityManagerFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Spring Configuration Entity Manager Factory --&gt;\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t&lt;bean\r\n    \t\t\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;jpaPropertyMap&quot;&gt;\r\n    \t\t\t&lt;map&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.use_second_level_cache&quot;\r\n    \t\t\t\t\tvalue=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.use_query_cache&quot;\r\n    \t\t\t\t\tvalue=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.cache.provider_class&quot;\r\n    \t\t\t\t\tvalue=&quot;net.sf.ehcache.hibernate.SingletonEhCacheProvider&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.use_sql_comments&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.dialect&quot;\r\n    \t\t\t\t\tvalue=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n    \t\t\t\t&lt;entry key=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot;\r\n    \t\t\t\t\tvalue=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;/map&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;namedParameterJdbcTemplate&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\r\n    \t\t&lt;constructor-arg ref=&quot;template&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;template&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;!-- &lt;property name=&quot;fetchSize&quot; value=&quot;#{pageSize+1}&quot; /&gt; --&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    &lt;/beans&gt;\r\n\r\nActually I could access easily to our local web application, and I could see in logs the connection trace to DB, but it is not the case for the batch.\r\n\r\nWhat I notice in the logs before throwing the error, it get stuck some seconds at this log level : \r\n\r\n    2015-11-09 09:56:55,728 [DozerBeanMapper                         ] INFO  | Initializing a new instance of the dozer bean mapper.\r\n\r\nAnd after I have this :\r\n\r\n    2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] WARN  | SQL Error: 17002, SQLState: 08006\r\n    2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] ERROR | Erreur d&#39;E/S: Socket read timed out\r\n    2015-11-09 09:57:59,232 [CommandLineJobRunner                    ] ERROR | Job Terminated in error: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n\r\nAny help ?","title":"oracle.net.ns.NetException: Socket read timed out","body":"<p>I have this error after executing my batch :</p>\n\n<pre><code>2015-11-06 15:45:32,179 [SchemaValidator                         ] ERROR | could not get database metadata\njava.sql.SQLRecoverableException: Erreur d'E/S: Socket read timed out\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:419)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:536)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:228)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:521)\n    at java.sql.DriverManager.getConnection(DriverManager.java:571)\n    at java.sql.DriverManager.getConnection(DriverManager.java:187)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:149)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\n    at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:46)\n    at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)\n    at org.hibernate.tool.hbm2ddl.SchemaValidator.validate(SchemaValidator.java:130)\n    at org.hibernate.impl.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:349)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1327)\n    at org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:669)\n    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:132)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:225)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:308)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.start(CommandLineJobRunner.java:282)\n    at org.springframework.batch.core.launch.support.CommandLineJobRunner.main(CommandLineJobRunner.java:574)\nCaused by: oracle.net.ns.NetException: Socket read timed out\n    at oracle.net.ns.Packet.receive(Packet.java:321)\n    at oracle.net.ns.DataPacket.receive(DataPacket.java:103)\n    at oracle.net.ns.NetInputStream.getNextPacket(NetInputStream.java:230)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:175)\n    at oracle.net.ns.NetInputStream.read(NetInputStream.java:100)\n    at oracle.net.ns.Packet.extractData(Packet.java:423)\n    at oracle.net.ns.AcceptPacket.&lt;init&gt;(AcceptPacket.java:136)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:312)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1054)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:308)\n</code></pre>\n\n<p>This my DB configuration from a .properties :</p>\n\n<pre><code>batch.jdbc.driver=oracle.jdbc.driver.OracleDriver\nbatch.jdbc.url=jdbc:oracle:thin:@*********:****/*****\nbatch.jdbc.user=*****\nbatch.jdbc.pwd=*****\n</code></pre>\n\n<p>and this is the config.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\"&gt;\n\n    &lt;bean id=\"dataSourceCredentialsProvider\"\n        class=\"com.natixis.sphinx.security.credentials.AlcasarCredentialsProvider\"&gt;\n        &lt;property name=\"ldapEntry\" value=\"${batch.jdbc.ldapEntry}\" /&gt;\n        &lt;property name=\"application\" ref=\"application\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\"\n            value=\"oracle.jdbc.driver.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"${batch.jdbc.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${batch.jdbc.user}\" /&gt;\n        &lt;property name=\"password\" value=\"${batch.jdbc.pwd}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Transaction manager for a single JPA EntityManagerFactory (alternative to JTA) --&gt;\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\"\n            ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Spring Configuration Entity Manager Factory --&gt;\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean\n                class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaPropertyMap\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"hibernate.cache.use_second_level_cache\"\n                    value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.cache.use_query_cache\"\n                    value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.cache.provider_class\"\n                    value=\"net.sf.ehcache.hibernate.SingletonEhCacheProvider\" /&gt;\n                &lt;entry key=\"hibernate.show_sql\" value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.use_sql_comments\" value=\"false\" /&gt;\n                &lt;entry key=\"hibernate.format_sql\" value=\"false\" /&gt;\n                &lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n                &lt;entry key=\"hibernate.dialect\"\n                    value=\"org.hibernate.dialect.Oracle10gDialect\" /&gt;\n                &lt;entry key=\"hibernate.temp.use_jdbc_metadata_defaults\"\n                    value=\"false\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"namedParameterJdbcTemplate\"\n        class=\"org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate\"&gt;\n        &lt;constructor-arg ref=\"template\" /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"template\"\n        class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;!-- &lt;property name=\"fetchSize\" value=\"#{pageSize+1}\" /&gt; --&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Actually I could access easily to our local web application, and I could see in logs the connection trace to DB, but it is not the case for the batch.</p>\n\n<p>What I notice in the logs before throwing the error, it get stuck some seconds at this log level : </p>\n\n<pre><code>2015-11-09 09:56:55,728 [DozerBeanMapper                         ] INFO  | Initializing a new instance of the dozer bean mapper.\n</code></pre>\n\n<p>And after I have this :</p>\n\n<pre><code>2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] WARN  | SQL Error: 17002, SQLState: 08006\n2015-11-09 09:57:59,227 [JDBCExceptionReporter                   ] ERROR | Erreur d'E/S: Socket read timed out\n2015-11-09 09:57:59,232 [CommandLineJobRunner                    ] ERROR | Job Terminated in error: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n</code></pre>\n\n<p>Any help ?</p>\n"},{"tags":["java","android","scrollview","pinchzoom"],"answers":[{"comments":[{"owner":{"account_id":28670002,"reputation":1,"user_id":21953250,"display_name":"Alain-Ren&#233;"},"score":0,"creation_date":1685095960,"post_id":76323923,"comment_id":134616942,"body_markdown":"Hello @Cactustictacs,\n\nThanks for the tips, i have tried to change scrollView with match_parent but unfortuantely that makes no changes\n\nIn the actual code i published Scrollview is working fine but pinch out doesn&#39;t work any more\n\nif it take off scrollview lines then pinch out is working but i can&#39;t scrollview.\n\nHope i am clear in my explaination\n\nThanks","body":"Hello @Cactustictacs,  Thanks for the tips, i have tried to change scrollView with match_parent but unfortuantely that makes no changes  In the actual code i published Scrollview is working fine but pinch out doesn&#39;t work any more  if it take off scrollview lines then pinch out is working but i can&#39;t scrollview.  Hope i am clear in my explaination  Thanks"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1685121284,"post_id":76323923,"comment_id":134622260,"body_markdown":"@Alain-Ren&#233; it&#39;s a long time since I dealt with this, but I&#39;m guessing the problem is your `ScrollView` is consuming the touch events when it thinks you&#39;re scrolling, so your `TextView`s stop receiving them. There are some other questions about `MotionEvent`s inside `ScrollView`s on the site, so have a look around to see if any of those help with what you&#39;re doing! One thing you could try is calling https://developer.android.com/reference/android/widget/ScrollView#requestDisallowInterceptTouchEvent(boolean) when your `TextView` sees the second pointer, so it can &quot;take control&quot; of the event","body":"@Alain-Ren&#233; it&#39;s a long time since I dealt with this, but I&#39;m guessing the problem is your <code>ScrollView</code> is consuming the touch events when it thinks you&#39;re scrolling, so your <code>TextView</code>s stop receiving them. There are some other questions about <code>MotionEvent</code>s inside <code>ScrollView</code>s on the site, so have a look around to see if any of those help with what you&#39;re doing! One thing you could try is calling <a href=\"https://developer.android.com/reference/android/widget/ScrollView#requestDisallowInterceptTouchEvent(boolean)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a> when your <code>TextView</code> sees the second pointer, so it can &quot;take control&quot; of the event"}],"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684933907,"creation_date":1684933907,"answer_id":76323923,"question_id":76323315,"body_markdown":"Your `ScrollView`&#39;s height can&#39;t be `wrap_content` - the whole point is to have a window that&#39;s smaller than its content, so the content can scroll up and down behind it. I&#39;m guessing you want a height of `match_parent` (so the scrollable area fills the screen) but you can make it any size you want, so long as it&#39;s not `wrap_content`. If you do that, it&#39;ll just expand off the bottom of the screen, and won&#39;t be scrollable (because it&#39;s the same size as its contents).\r\n\r\nI&#39;m assuming your `TextView`s handle re-laying out when you change their text size, but if not you might need to call `requestLayout()` on them","title":"Android studio : issue using Zoom &amp; scrollview together","body":"<p>Your <code>ScrollView</code>'s height can't be <code>wrap_content</code> - the whole point is to have a window that's smaller than its content, so the content can scroll up and down behind it. I'm guessing you want a height of <code>match_parent</code> (so the scrollable area fills the screen) but you can make it any size you want, so long as it's not <code>wrap_content</code>. If you do that, it'll just expand off the bottom of the screen, and won't be scrollable (because it's the same size as its contents).</p>\n<p>I'm assuming your <code>TextView</code>s handle re-laying out when you change their text size, but if not you might need to call <code>requestLayout()</code> on them</p>\n"}],"owner":{"account_id":28670002,"reputation":1,"user_id":21953250,"display_name":"Alain-Ren&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686307597,"creation_date":1684929754,"question_id":76323315,"body_markdown":"I use this code to pinch zoom screen then it works fine. But when i add scrollview in XML then scroll view works fine but pinch zoom screen doesn&#39;t work any more.\r\nactually i need both features\r\nmy question is how to use scrollview and pinch zoom in the same time because i really need scrollview ?\r\nThanks fo help\r\n\r\n```\r\n//Bellow is my java code Regle_du_jeu.java`\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\npackage com.yiking.openspirit.oracle_yi_king2;\r\n//zoom is working text field by text field - they are 4 of them\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.view.View;\r\nimport android.view.MotionEvent;\r\nimport android.widget.TextView;\r\n\r\npublic class Regle_du_jeu extends Activity implements View.OnTouchListener {\r\n\r\n    TextView text;TextView text1;TextView text2;\r\n    TextView text3;TextView text4;\r\n    TextView ScrollView;\r\n    final static float move = 200;\r\n    float ratio = 1.0f;\r\n    int bastDst;\r\n    float baseratio;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.regle_du_jeu);\r\n    \r\n        text1 = findViewById(R.id.regle_jeu1);\r\n        text1.setTextSize(ratio + 15);\r\n        text2 = findViewById(R.id.regle_jeu2);\r\n        text2.setTextSize(ratio + 15);\r\n        text3 = findViewById(R.id.regle_jeu3);\r\n        text3.setTextSize(ratio + 15);\r\n        text4 = findViewById(R.id.regle_jeu4);\r\n        text4.setTextSize(ratio + 15);\r\n    }\r\n    \r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        if (event.getPointerCount() == 2) {\r\n            int action = event.getAction();\r\n            int mainaction = action &amp; MotionEvent.ACTION_MASK;\r\n            if (mainaction == MotionEvent.ACTION_POINTER_DOWN) {\r\n                bastDst = getDistance(event);\r\n                baseratio = ratio;\r\n            } else {\r\n\r\n// if ACTION_POINTER_UP then after finding the distance\r\n// we will increase the text size by 15\r\nfloat scale = (getDistance(event) - bastDst) / move;\r\nfloat factor = (float) Math.pow(2, scale);\r\nratio = Math.min(1024.0f, Math.max(0.1f, baseratio \\* factor));\r\n//     text.setTextSize(ratio + 15);\r\ntext1.setTextSize(ratio + 15);\r\ntext2.setTextSize(ratio + 15);\r\ntext3.setTextSize(ratio + 15);\r\ntext4.setTextSize(ratio + 15);\r\n}\r\n}\r\nreturn true;\r\n}\r\n\r\n    // get distance between the touch event\r\n    private int getDistance(MotionEvent event) {\r\n        int dx = (int) (event.getX(0) - event.getX(1));\r\n        int dy = (int) (event.getY(0) - event.getY(1));\r\n        return (int) Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n    \r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        return false;\r\n    }\r\n\r\n}\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\nbelow is XML =\\&gt; regle_du_jeu.xml\r\n\r\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\r\n\r\n   &lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    style=&quot;@style/monlayout_blanc&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_gravity=&quot;left&quot;\r\n    android:background=&quot;#792B82&quot;\r\n    tools:context=&quot;com.yiking.openspirit.oracle_yi_king2.Regle_du_jeu&quot;\r\n    android:id=&quot;@+id/scrollView&quot;\r\n    \\&gt;\r\n\r\n    &lt;LinearLayout\r\n        style=&quot;@style/monlayout_blanc&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;left&quot;\r\n            &gt;              \r\n        &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                style=&quot;@style/titre_bleu&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/regle_jeu_layout&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu1&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu2&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu3&quot;\r\n                /&gt;\r\n             &lt;TextView\r\n                android:text=&quot;@string/m_expli2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;left&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginRight=&quot;5dp&quot;\r\n                android:justificationMode=&quot;inter_word&quot;\r\n                style=&quot;@style/aff_std_gris_sp&quot;\r\n                android:id=&quot;@+id/regle_jeu4&quot;\r\n                /&gt;\r\n          &lt;/LinearLayout&gt;\r\n\r\n```\r\n","title":"Android studio : issue using Zoom &amp; scrollview together","body":"<p>I use this code to pinch zoom screen then it works fine. But when i add scrollview in XML then scroll view works fine but pinch zoom screen doesn't work any more.\nactually i need both features\nmy question is how to use scrollview and pinch zoom in the same time because i really need scrollview ?\nThanks fo help</p>\n<pre><code>//Bellow is my java code Regle_du_jeu.java`\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\npackage com.yiking.openspirit.oracle_yi_king2;\n//zoom is working text field by text field - they are 4 of them\nimport android.app.Activity;\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.view.View;\nimport android.view.MotionEvent;\nimport android.widget.TextView;\n\npublic class Regle_du_jeu extends Activity implements View.OnTouchListener {\n\n    TextView text;TextView text1;TextView text2;\n    TextView text3;TextView text4;\n    TextView ScrollView;\n    final static float move = 200;\n    float ratio = 1.0f;\n    int bastDst;\n    float baseratio;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.regle_du_jeu);\n    \n        text1 = findViewById(R.id.regle_jeu1);\n        text1.setTextSize(ratio + 15);\n        text2 = findViewById(R.id.regle_jeu2);\n        text2.setTextSize(ratio + 15);\n        text3 = findViewById(R.id.regle_jeu3);\n        text3.setTextSize(ratio + 15);\n        text4 = findViewById(R.id.regle_jeu4);\n        text4.setTextSize(ratio + 15);\n    }\n    \n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getPointerCount() == 2) {\n            int action = event.getAction();\n            int mainaction = action &amp; MotionEvent.ACTION_MASK;\n            if (mainaction == MotionEvent.ACTION_POINTER_DOWN) {\n                bastDst = getDistance(event);\n                baseratio = ratio;\n            } else {\n\n// if ACTION_POINTER_UP then after finding the distance\n// we will increase the text size by 15\nfloat scale = (getDistance(event) - bastDst) / move;\nfloat factor = (float) Math.pow(2, scale);\nratio = Math.min(1024.0f, Math.max(0.1f, baseratio \\* factor));\n//     text.setTextSize(ratio + 15);\ntext1.setTextSize(ratio + 15);\ntext2.setTextSize(ratio + 15);\ntext3.setTextSize(ratio + 15);\ntext4.setTextSize(ratio + 15);\n}\n}\nreturn true;\n}\n\n    // get distance between the touch event\n    private int getDistance(MotionEvent event) {\n        int dx = (int) (event.getX(0) - event.getX(1));\n        int dy = (int) (event.getY(0) - event.getY(1));\n        return (int) Math.sqrt(dx * dx + dy * dy);\n    }\n    \n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        return false;\n    }\n\n}\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\nbelow is XML =\\&gt; regle_du_jeu.xml\n\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\n\n   &lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    style=&quot;@style/monlayout_blanc&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_gravity=&quot;left&quot;\n    android:background=&quot;#792B82&quot;\n    tools:context=&quot;com.yiking.openspirit.oracle_yi_king2.Regle_du_jeu&quot;\n    android:id=&quot;@+id/scrollView&quot;\n    \\&gt;\n\n    &lt;LinearLayout\n        style=&quot;@style/monlayout_blanc&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        &gt;\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;left&quot;\n            &gt;              \n        &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                style=&quot;@style/titre_bleu&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:layout_gravity=&quot;center_vertical&quot;/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/regle_jeu_layout&quot;\n            &gt;\n            &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu1&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu2&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu3&quot;\n                /&gt;\n             &lt;TextView\n                android:text=&quot;@string/m_expli2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;left&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:justificationMode=&quot;inter_word&quot;\n                style=&quot;@style/aff_std_gris_sp&quot;\n                android:id=&quot;@+id/regle_jeu4&quot;\n                /&gt;\n          &lt;/LinearLayout&gt;\n\n</code></pre>\n"},{"tags":["java","classloader","javadoc","java-11","java-9"],"owner":{"account_id":16136962,"reputation":11,"user_id":11649187,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686306908,"creation_date":1610470498,"question_id":65688394,"body_markdown":"I want to modify the Javadoc output, for this purpose I create a custom Doclet that reuse the default one and wrap DocletEnvironment in my proxy class that contains my custom filtering logic.\r\n\r\n**NOTE: java 11 javadoc API used**\r\n\r\nMy Doclet class:\r\n```\r\npublic class MyDoclet implements Doclet {\r\n    private final HtmlDoclet htmlDoclet;\r\n\r\n    public MyDoclet() {\r\n        htmlDoclet = new HtmlDoclet(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean run(DocletEnvironment docEnv) {\r\n        var proxy = new DocletEnvironmentProxy(docEnv);\r\n        return htmlDoclet.run(proxy);\r\n    }\r\n\r\n//other code...\r\n}\r\n```    \r\nMy DocletEnvironment proxy class:\r\n``` \r\npublic class DocletEnvironmentProxy implements DocletEnvironment  {\r\n    public static final String TAG = &quot;peek_me&quot;;\r\n    private final DocletEnvironment environment;\r\n    private Set&lt;? extends Element&gt; filteredElements;\r\n\r\n    public DocletEnvironmentProxy(DocletEnvironment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;? extends Element&gt; getIncludedElements() {\r\n        if (filteredElements == null) {\r\n            filteredElements = filterElements(environment.getIncludedElements());\r\n        }\r\n        return filteredElements;\r\n    }\r\n//other code...\r\n}\r\n```\r\n\r\nBut when I try to run it I get:\r\n*java.lang.ClassCastException: class mypackage.DocletEnvironmentProxy cannot be cast to class jdk.javadoc.internal.tool. DocEnvImpl (mypackage.DocletEnvironmentProxy is in unnamed module of loader java.net.URLClassLoader @3dfc5fb8; jdk.javadoc.internal.tool.DocEnvImpl is in module jdk.javadoc of loader &#39;app&#39;)*\r\n\r\nI found the [bug][1] related to it and interesting [comment][2] for it, which says &quot;this is not a recognized way to perform customization&quot; \r\n\r\nI spent a lot of time looking for the &quot;correct&quot; description of the customization approach but did not find anything related to it. Only some guides from Oracle on the basic [Doclet API][3] usages.\r\n\r\nMaybe someone knows where I can find the &quot;correct&quot; approach or already solved the Doclet customization issue?\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8224092\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8224092?focusedCommentId=14306030&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14306030\r\n  [3]: https://openjdk.java.net/groups/compiler/using-new-doclet.html","title":"How to customize Javadoc output for the Java 9+","body":"<p>I want to modify the Javadoc output, for this purpose I create a custom Doclet that reuse the default one and wrap DocletEnvironment in my proxy class that contains my custom filtering logic.</p>\n<p><strong>NOTE: java 11 javadoc API used</strong></p>\n<p>My Doclet class:</p>\n<pre><code>public class MyDoclet implements Doclet {\n    private final HtmlDoclet htmlDoclet;\n\n    public MyDoclet() {\n        htmlDoclet = new HtmlDoclet(this);\n    }\n\n    @Override\n    public boolean run(DocletEnvironment docEnv) {\n        var proxy = new DocletEnvironmentProxy(docEnv);\n        return htmlDoclet.run(proxy);\n    }\n\n//other code...\n}\n</code></pre>\n<p>My DocletEnvironment proxy class:</p>\n<pre><code>public class DocletEnvironmentProxy implements DocletEnvironment  {\n    public static final String TAG = &quot;peek_me&quot;;\n    private final DocletEnvironment environment;\n    private Set&lt;? extends Element&gt; filteredElements;\n\n    public DocletEnvironmentProxy(DocletEnvironment environment) {\n        this.environment = environment;\n    }\n\n    @Override\n    public Set&lt;? extends Element&gt; getIncludedElements() {\n        if (filteredElements == null) {\n            filteredElements = filterElements(environment.getIncludedElements());\n        }\n        return filteredElements;\n    }\n//other code...\n}\n</code></pre>\n<p>But when I try to run it I get:\n<em>java.lang.ClassCastException: class mypackage.DocletEnvironmentProxy cannot be cast to class jdk.javadoc.internal.tool. DocEnvImpl (mypackage.DocletEnvironmentProxy is in unnamed module of loader java.net.URLClassLoader @3dfc5fb8; jdk.javadoc.internal.tool.DocEnvImpl is in module jdk.javadoc of loader 'app')</em></p>\n<p>I found the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8224092\" rel=\"nofollow noreferrer\">bug</a> related to it and interesting <a href=\"https://bugs.openjdk.java.net/browse/JDK-8224092?focusedCommentId=14306030&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14306030\" rel=\"nofollow noreferrer\">comment</a> for it, which says &quot;this is not a recognized way to perform customization&quot;</p>\n<p>I spent a lot of time looking for the &quot;correct&quot; description of the customization approach but did not find anything related to it. Only some guides from Oracle on the basic <a href=\"https://openjdk.java.net/groups/compiler/using-new-doclet.html\" rel=\"nofollow noreferrer\">Doclet API</a> usages.</p>\n<p>Maybe someone knows where I can find the &quot;correct&quot; approach or already solved the Doclet customization issue?</p>\n"},{"tags":["java","spring-boot","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686229542,"post_id":76430213,"comment_id":134772486,"body_markdown":"What JDBC driver and version are you using? Can you reproduce the problem using JDBC directly (using `PreparedStatement.addBatch()` and `PreparedStatement.executeBatch()`)?","body":"What JDBC driver and version are you using? Can you reproduce the problem using JDBC directly (using <code>PreparedStatement.addBatch()</code> and <code>PreparedStatement.executeBatch()</code>)?"},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686297716,"post_id":76430213,"comment_id":134782433,"body_markdown":"I am using MariaDB JDBC driver version `3.0.10` (`org.mariadb.jdbc:mariadb-java-client:3.0.10`). I reproduced the problem using `PreparedStatement` directly as you explained, the results are the same: `executeBatch()` inserts only 1 row without any exceptions when there is a trigger, if I drop the trigger and execute batch all the rows are inserted correctly.","body":"I am using MariaDB JDBC driver version <code>3.0.10</code> (<code>org.mariadb.jdbc:mariadb-java-client:3.0.10</code>). I reproduced the problem using <code>PreparedStatement</code> directly as you explained, the results are the same: <code>executeBatch()</code> inserts only 1 row without any exceptions when there is a trigger, if I drop the trigger and execute batch all the rows are inserted correctly."},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686297838,"post_id":76430213,"comment_id":134782450,"body_markdown":"Maybe I should try with other JDBC drivers","body":"Maybe I should try with other JDBC drivers"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686298716,"post_id":76430213,"comment_id":134782621,"body_markdown":"I&#39;d use the official driver. Does the issue reproduce with the latest version (currently `3.1.4`)? Perhaps you can report this here (ideally with the JDBC reproducer, removing jOOQ if it&#39;s not related to jOOQ)? https://github.com/mariadb-corporation/mariadb-connector-j","body":"I&#39;d use the official driver. Does the issue reproduce with the latest version (currently <code>3.1.4</code>)? Perhaps you can report this here (ideally with the JDBC reproducer, removing jOOQ if it&#39;s not related to jOOQ)? <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">github.com/mariadb-corporation/mariadb-connector-j</a>"},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686300203,"post_id":76430213,"comment_id":134782881,"body_markdown":"Isn&#39;t the one I am using official driver? I will try with latest version. I will update the question(and maybe answer if I find the underlying issue) and remove jOOQ.","body":"Isn&#39;t the one I am using official driver? I will try with latest version. I will update the question(and maybe answer if I find the underlying issue) and remove jOOQ."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1686303591,"post_id":76430213,"comment_id":134783525,"body_markdown":"Yes it&#39;s the official one. I just replied to your idea of *&quot;I should try iwth other JDBC drivers&quot;*. I wouldn&#39;t use a non-official driver.","body":"Yes it&#39;s the official one. I just replied to your idea of <i>&quot;I should try iwth other JDBC drivers&quot;</i>. I wouldn&#39;t use a non-official driver."}],"answers":[{"comments":[{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1686526168,"post_id":76439400,"comment_id":134806250,"body_markdown":"Related issue: https://jira.mariadb.org/browse/MDEV-24411","body":"Related issue: <a href=\"https://jira.mariadb.org/browse/MDEV-24411\" rel=\"nofollow noreferrer\">jira.mariadb.org/browse/MDEV-24411</a>"}],"tags":[],"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686306721,"creation_date":1686306721,"answer_id":76439400,"question_id":76430213,"body_markdown":"After helpful guidance from [Lukas Eder][1], I&#39;ve discovered the issue I was experiencing is not a bug with jOOQ itself but with the [MariaDB JDBC driver][2].\r\nI am documenting steps to take before asking jOOQ related questions for the sake of public knowledge. It may assist others(or myself) who encounter similar problem in the future.\r\n\r\n 1. Check for side effects when you think jOOQ is not working as expected. Side effects can be anything from application level `VisitListener`s to database level triggers. I spent hours trying to solve the problem until I found it was because of a trigger.\r\n 2. Reproduce the problem using JDBC directly. If the same problem occurs then most likely it&#39;s not the problem with the jOOQ\r\n 3. It&#39;s always best to use the official driver but for the sake of identifying the problem try switching the JDBC driver if you can. For example from MariaDB Connector/J to MySQL Connector/J.\r\n\r\nI followed above steps and resolved the problem after switching from [MariaDB Connector/J][2] to [MySQL Connector/J][3]. This confirms that the issue is not with jOOQ itself, but with the specific MariaDB JDBC driver I was using. I think I can continue using MySQL driver since it&#39;s compatible with the JDBC 4.2 specification according to the documentation.\r\n\r\n&gt; MySQL Connector/J 8.0 is a JDBC Type 4 driver that is compatible with the JDBC 4.2 specification. \r\n\r\n   \r\n\r\n  [1]: https://stackoverflow.com/users/521799/lukas-eder\r\n  [2]: https://github.com/mariadb-corporation/mariadb-connector-j\r\n  [3]: https://github.com/mysql/mysql-connector-j","title":"jOOQ&#39;s batchInsert() doesn&#39;t behave as expected with &quot;after insert&quot; trigger","body":"<p>After helpful guidance from <a href=\"https://stackoverflow.com/users/521799/lukas-eder\">Lukas Eder</a>, I've discovered the issue I was experiencing is not a bug with jOOQ itself but with the <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">MariaDB JDBC driver</a>.\nI am documenting steps to take before asking jOOQ related questions for the sake of public knowledge. It may assist others(or myself) who encounter similar problem in the future.</p>\n<ol>\n<li>Check for side effects when you think jOOQ is not working as expected. Side effects can be anything from application level <code>VisitListener</code>s to database level triggers. I spent hours trying to solve the problem until I found it was because of a trigger.</li>\n<li>Reproduce the problem using JDBC directly. If the same problem occurs then most likely it's not the problem with the jOOQ</li>\n<li>It's always best to use the official driver but for the sake of identifying the problem try switching the JDBC driver if you can. For example from MariaDB Connector/J to MySQL Connector/J.</li>\n</ol>\n<p>I followed above steps and resolved the problem after switching from <a href=\"https://github.com/mariadb-corporation/mariadb-connector-j\" rel=\"nofollow noreferrer\">MariaDB Connector/J</a> to <a href=\"https://github.com/mysql/mysql-connector-j\" rel=\"nofollow noreferrer\">MySQL Connector/J</a>. This confirms that the issue is not with jOOQ itself, but with the specific MariaDB JDBC driver I was using. I think I can continue using MySQL driver since it's compatible with the JDBC 4.2 specification according to the documentation.</p>\n<blockquote>\n<p>MySQL Connector/J 8.0 is a JDBC Type 4 driver that is compatible with the JDBC 4.2 specification.</p>\n</blockquote>\n"}],"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76439400,"answer_count":1,"score":1,"last_activity_date":1686306721,"creation_date":1686214737,"question_id":76430213,"body_markdown":"### Description\r\nI have a trigger that inserts into `sku_price_history` table after inserting into `sku` table:\r\n```sql\r\nDELIMITER $$\r\nCREATE TRIGGER trig_after_sku_insert\r\n    AFTER INSERT\r\nON sku FOR EACH ROW\r\nBEGIN\r\n    INSERT INTO sku_price_history(sku_id, action_type, purchase_price, selling_price, base_margin_rate,\r\n                                  vat, vat_type, tax_type, selling_price_started_at, updated_by)\r\n    VALUES (NEW.id, &#39;CREATE&#39;, NEW.purchase_price, NEW.selling_price, NEW.base_margin_rate,\r\n            NEW.vat, NEW.vat_type, NEW.tax_type, NOW(), NEW.created_by);\r\nEND $$\r\nDELIMITER ;\r\n```\r\n\r\nThen, I am trying to do a simple batch insert using jOOQ&#39;s [DSLContext.batchInsert()](https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#batchInsert(java.util.Collection)):\r\n```java\r\nvoid saveMany(List&lt;SkuDto.SaveBody&gt; skus) {\r\n    List&lt;SkuRecord&gt; skuRecords = new ArrayList&lt;&gt;();\r\n    for(SkuDto.SaveBody sku : skus) {\r\n        SkuRecord skuRecord = ctx.newRecord(SKU, sku);\r\n        skuRecords.add(skuRecord);\r\n    }\r\n    ctx.batchInsert(skuRecords).execute();\r\n}\r\n```\r\n### Problem\r\nAbove statement inserts only the first row into `sku` table even though there are many records. No exception is thrown and batch size is correct according to `LoggerListener`:\r\n\r\n```java\r\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Executing batch query : sql query\r\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Batch size            : 3\r\n```\r\n\r\n\r\n### What I tried\r\n1. I executed the same code after dropping the trigger and it worked. So the trigger seems to be a main reason here.\r\n2. Then, I tried to simulate the problem using an SQL client, run multiple insert statements in transaction:\r\n```sql\r\nSET autocommit = OFF;\r\nSTART TRANSACTION;\r\nINSERT INTO sku (fields) VALUES (values);\r\nINSERT INTO sku (fields) VALUES (values);\r\nINSERT INTO sku (fields) VALUES (values);\r\nCOMMIT;\r\n```\r\nAbove SQL statement worked as expected, records were inserted into both `sku` and `sku_price_history` tables. \r\n\r\nI may be missing some points about triggers and batch insert but I couldn&#39;t find relevant information. I am using Spring Boot with default configurations.\r\n\r\n#### Versions:\r\n- jOOQ: 3.18.2\r\n- Java: 17\r\n- Spring Boot: 3.0.5\r\n- Database (include vendor): MariaDB 10.6 (RDS)","title":"jOOQ&#39;s batchInsert() doesn&#39;t behave as expected with &quot;after insert&quot; trigger","body":"<h3>Description</h3>\n<p>I have a trigger that inserts into <code>sku_price_history</code> table after inserting into <code>sku</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>DELIMITER $$\nCREATE TRIGGER trig_after_sku_insert\n    AFTER INSERT\nON sku FOR EACH ROW\nBEGIN\n    INSERT INTO sku_price_history(sku_id, action_type, purchase_price, selling_price, base_margin_rate,\n                                  vat, vat_type, tax_type, selling_price_started_at, updated_by)\n    VALUES (NEW.id, 'CREATE', NEW.purchase_price, NEW.selling_price, NEW.base_margin_rate,\n            NEW.vat, NEW.vat_type, NEW.tax_type, NOW(), NEW.created_by);\nEND $$\nDELIMITER ;\n</code></pre>\n<p>Then, I am trying to do a simple batch insert using jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/DSLContext.html#batchInsert(java.util.Collection)\" rel=\"nofollow noreferrer\">DSLContext.batchInsert()</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void saveMany(List&lt;SkuDto.SaveBody&gt; skus) {\n    List&lt;SkuRecord&gt; skuRecords = new ArrayList&lt;&gt;();\n    for(SkuDto.SaveBody sku : skus) {\n        SkuRecord skuRecord = ctx.newRecord(SKU, sku);\n        skuRecords.add(skuRecord);\n    }\n    ctx.batchInsert(skuRecords).execute();\n}\n</code></pre>\n<h3>Problem</h3>\n<p>Above statement inserts only the first row into <code>sku</code> table even though there are many records. No exception is thrown and batch size is correct according to <code>LoggerListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Executing batch query : sql query\nDEBUG 65174 --- [nio-9292-exec-1] org.jooq.tools.LoggerListener : Batch size            : 3\n</code></pre>\n<h3>What I tried</h3>\n<ol>\n<li>I executed the same code after dropping the trigger and it worked. So the trigger seems to be a main reason here.</li>\n<li>Then, I tried to simulate the problem using an SQL client, run multiple insert statements in transaction:</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>SET autocommit = OFF;\nSTART TRANSACTION;\nINSERT INTO sku (fields) VALUES (values);\nINSERT INTO sku (fields) VALUES (values);\nINSERT INTO sku (fields) VALUES (values);\nCOMMIT;\n</code></pre>\n<p>Above SQL statement worked as expected, records were inserted into both <code>sku</code> and <code>sku_price_history</code> tables.</p>\n<p>I may be missing some points about triggers and batch insert but I couldn't find relevant information. I am using Spring Boot with default configurations.</p>\n<h4>Versions:</h4>\n<ul>\n<li>jOOQ: 3.18.2</li>\n<li>Java: 17</li>\n<li>Spring Boot: 3.0.5</li>\n<li>Database (include vendor): MariaDB 10.6 (RDS)</li>\n</ul>\n"},{"tags":["java","spring-boot","gemfire","spring-data-gemfire"],"owner":{"account_id":16605836,"reputation":1,"user_id":12000349,"display_name":"Nina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686306617,"creation_date":1686294681,"question_id":76437999,"body_markdown":"I’m creating a gemfire region using spring data geode. I have used the @Region annotation on my entity class. \r\n\r\nI need to create this region based on a property from my application properties file.\r\n\r\nIs there a way to achieve this ? \r\n\r\nI tried to use @ConditionalOnExpression along with the @Region annotation. The region is never created.\r\n\r\nPFB source code.\r\n\r\n\r\n```\r\n@ConditionalOnExpression(value=“${cache.enable.user}”)\r\n@Region(“Users”)\r\nPublic class User {\r\n     String name;\r\n     int age;\r\n}\r\n```\r\n\r\nThe property is available and the same conditional expression is working on other beans annotated with @Component. \r\n\r\nPlease help to let me know if we can conditionally create regions based on the property.\r\n\r\nThanks !\r\n","title":"Using @Region with conditionals","body":"<p>I’m creating a gemfire region using spring data geode. I have used the @Region annotation on my entity class.</p>\n<p>I need to create this region based on a property from my application properties file.</p>\n<p>Is there a way to achieve this ?</p>\n<p>I tried to use @ConditionalOnExpression along with the @Region annotation. The region is never created.</p>\n<p>PFB source code.</p>\n<pre><code>@ConditionalOnExpression(value=“${cache.enable.user}”)\n@Region(“Users”)\nPublic class User {\n     String name;\n     int age;\n}\n</code></pre>\n<p>The property is available and the same conditional expression is working on other beans annotated with @Component.</p>\n<p>Please help to let me know if we can conditionally create regions based on the property.</p>\n<p>Thanks !</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1686303310,"post_id":76438987,"comment_id":134783449,"body_markdown":"`RandomGenerator` was introduced in Java 17 (and in Java 17 your code works for me). What Java version are you using?","body":"<code>RandomGenerator</code> was introduced in Java 17 (and in Java 17 your code works for me). What Java version are you using?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686304285,"post_id":76438987,"comment_id":134783661,"body_markdown":"`javac -version` will show you that you&#39;re using &lt; 17","body":"<code>javac -version</code> will show you that you&#39;re using &lt; 17"},{"owner":{"account_id":2469905,"reputation":23,"user_id":2152073,"display_name":"maverick_xinwei"},"score":0,"creation_date":1686338292,"post_id":76438987,"comment_id":134790348,"body_markdown":"Thanks for all the help. Indeed, the older version was configured in pom.xml.","body":"Thanks for all the help. Indeed, the older version was configured in pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686305552,"creation_date":1686305552,"answer_id":76439264,"question_id":76438987,"body_markdown":"=&gt; java.util.random package and the RandomGenerator interface were introduced in Java 17, so you need to be using Java 17 or a later version to utilize this feature. If you are using version of Java which is lower than 17, you won&#39;t have access to the nextInt(int, int) method through the Random class.\r\n\r\n=&gt; Using Java - 17 you can try below code snippet :\r\n\r\n    import java.util.Random;\r\n    import java.util.random.RandomGenerator;\r\n    import java.util.random.RandomGeneratorFactory;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            RandomGenerator generator = RandomGeneratorFactory.getDefault().create();\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                int b = generator.nextInt(5, 10);\r\n                System.out.println(b);\r\n            }\r\n        }\r\n    }","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>=&gt; java.util.random package and the RandomGenerator interface were introduced in Java 17, so you need to be using Java 17 or a later version to utilize this feature. If you are using version of Java which is lower than 17, you won't have access to the nextInt(int, int) method through the Random class.</p>\n<p>=&gt; Using Java - 17 you can try below code snippet :</p>\n<pre><code>import java.util.Random;\nimport java.util.random.RandomGenerator;\nimport java.util.random.RandomGeneratorFactory;\n\npublic class Main {\n    public static void main(String[] args) {\n        RandomGenerator generator = RandomGeneratorFactory.getDefault().create();\n        for (int i = 0; i &lt; 10; i++) {\n            int b = generator.nextInt(5, 10);\n            System.out.println(b);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27687294,"reputation":45,"user_id":21134798,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686306425,"creation_date":1686306425,"answer_id":76439367,"question_id":76438987,"body_markdown":"I ran your code fine using JDK 17 and reproduced your error using an early JDK (JDK 12, I think).\r\n\r\njava.util.Random appears to exist in JDK 12 (maybe earlier but I didn&#39;t check). But the nextInt(int, int) method did not appear until JDK 17 (as the other poster has mentioned). Whereas the earlier JDK does have nextInt(int).\r\n\r\nI therefore suggest checking your JRE / JDK settings.","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>I ran your code fine using JDK 17 and reproduced your error using an early JDK (JDK 12, I think).</p>\n<p>java.util.Random appears to exist in JDK 12 (maybe earlier but I didn't check). But the nextInt(int, int) method did not appear until JDK 17 (as the other poster has mentioned). Whereas the earlier JDK does have nextInt(int).</p>\n<p>I therefore suggest checking your JRE / JDK settings.</p>\n"}],"owner":{"account_id":2469905,"reputation":23,"user_id":2152073,"display_name":"maverick_xinwei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439264,"answer_count":2,"score":0,"last_activity_date":1686306425,"creation_date":1686303135,"question_id":76438987,"body_markdown":"I am new to JAVA and trying to generate some pseudo random integers.\r\n\r\n\r\n\r\nI tried the following code snippet which complained \r\n&gt; no suitable method found for nextInt(int,int)\r\n\r\n```\r\n        java.util.Random rnd = new java.util.Random();\r\n        for(int i =0; i&lt;10; i++) {\r\n            int b = rnd.nextInt(5, 10);\r\n            System.out.println(b);\r\n        }\r\n```\r\n\r\nI am aware of the alternative way to call nextInt by only providing one argument as the range. But what I don&#39;t understand is why nextInt(int, int) cannot be resolved in the case above given that the class java.util.Random implements java.util.random.RandomGenerator which has a default implementation of nextInt(int, int) ? ","title":"nextInt(int, int) symbol cannot be found when it&#39;s called from a java.util.Random object","body":"<p>I am new to JAVA and trying to generate some pseudo random integers.</p>\n<p>I tried the following code snippet which complained</p>\n<blockquote>\n<p>no suitable method found for nextInt(int,int)</p>\n</blockquote>\n<pre><code>        java.util.Random rnd = new java.util.Random();\n        for(int i =0; i&lt;10; i++) {\n            int b = rnd.nextInt(5, 10);\n            System.out.println(b);\n        }\n</code></pre>\n<p>I am aware of the alternative way to call nextInt by only providing one argument as the range. But what I don't understand is why nextInt(int, int) cannot be resolved in the case above given that the class java.util.Random implements java.util.random.RandomGenerator which has a default implementation of nextInt(int, int) ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1673453984,"post_id":75086008,"comment_id":132504027,"body_markdown":"Why dont you use a custom view?","body":"Why dont you use a custom view?"},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673454615,"post_id":75086008,"comment_id":132504302,"body_markdown":"Problem is I dont know how, because dimensions width and height are very precisely determined, I could not find how. And mobile phones are each diffenet...","body":"Problem is I dont know how, because dimensions width and height are very precisely determined, I could not find how. And mobile phones are each diffenet..."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1673454851,"post_id":75086008,"comment_id":132504410,"body_markdown":"You dont have to bother about the width. It&#39;ll be full my default. And the height can be `wrap-content`.","body":"You dont have to bother about the width. It&#39;ll be full my default. And the height can be <code>wrap-content</code>."},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673455610,"post_id":75086008,"comment_id":132504692,"body_markdown":"I saw on more apps with same button on right side, so it must be some piece of code...This I would appreciate :)","body":"I saw on more apps with same button on right side, so it must be some piece of code...This I would appreciate :)"},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1673514631,"post_id":75086008,"comment_id":132517774,"body_markdown":"You can see recommendation with Caution on bottom of this page! &gt;  https://developer.android.com/develop/ui/views/notifications/custom-notification","body":"You can see recommendation with Caution on bottom of this page! &gt;  <a href=\"https://developer.android.com/develop/ui/views/notifications/custom-notification\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/notifications/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8894236,"reputation":764,"user_id":6643946,"accept_rate":86,"display_name":"DanMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686306039,"creation_date":1686306039,"answer_id":76439315,"question_id":75086008,"body_markdown":"To show this play/pause control you should create a media session and use PlaybackState.\r\nSomething like this\r\n\r\n  \r\n\r\n      override fun onCreate() {\r\n            super.onCreate()\r\n            initVideoPlayer()\r\n            initMediaSession()\r\n        }\r\n        private fun initMediaSession() {\r\n            mediaSession = MediaSessionCompat(this, &quot;PlayVideoSession&quot;)\r\n            mediaSession?.setCallback(object : MediaSessionCompat.Callback() {\r\n                override fun onPlay() {\r\n                    audioManager?.requestAudioFocus(\r\n                        audioFocusChangeListener,\r\n                        AudioManager.STREAM_MUSIC,\r\n                        AudioManager.AUDIOFOCUS_GAIN\r\n                    )\r\n                    exoPlayer?.play()\r\n                    showNotification()\r\n                }\r\n    \r\n                override fun onPause() {\r\n                    exoPlayer?.pause()\r\n                }\r\n            })\r\n            mediaSession?.isActive = true\r\n        }\r\n    \r\n        private fun createNotification(): Notification? {\r\n            if (mediaSession == null) return null\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                val channel = NotificationChannel(\r\n                    NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS,\r\n                    getString(R.string.notification_name_player_controls),\r\n                    NotificationManager.IMPORTANCE_LOW\r\n                )\r\n                channel.description = getString(R.string.notification_description_player_controls)\r\n                val notificationManager = getSystemService(\r\n                    NotificationManager::class.java\r\n                )\r\n                notificationManager.createNotificationChannel(channel)\r\n            }\r\n    \r\n            val mediaStyle = androidx.media.app.NotificationCompat.MediaStyle()\r\n                .setMediaSession(mediaSession!!.sessionToken)\r\n                .setShowActionsInCompactView()\r\n    \r\n            val notificationBuilder = NotificationCompat.Builder(\r\n                this,\r\n                NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS\r\n            )\r\n                .setStyle(mediaStyle)\r\n                .setSmallIcon(R.drawable.ic_play_notification)\r\n                .setAutoCancel(false)\r\n                .setOngoing(true)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n    \r\n            return notificationBuilder.build()\r\n    \r\n        }\r\n    \r\n      private fun getActions(): Long {\r\n            return if (exoPlayer?.isPlaying == true) PlaybackStateCompat.ACTION_PAUSE else PlaybackStateCompat.ACTION_PLAY\r\n    \r\n        }\r\n\r\n\r\n\r\nI strongly recommend you to read this [post][1] \r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2020/08/playing-nicely-with-media-controls.html","title":"Android notification how to create play /pause button?","body":"<p>To show this play/pause control you should create a media session and use PlaybackState.\nSomething like this</p>\n<pre><code>  override fun onCreate() {\n        super.onCreate()\n        initVideoPlayer()\n        initMediaSession()\n    }\n    private fun initMediaSession() {\n        mediaSession = MediaSessionCompat(this, &quot;PlayVideoSession&quot;)\n        mediaSession?.setCallback(object : MediaSessionCompat.Callback() {\n            override fun onPlay() {\n                audioManager?.requestAudioFocus(\n                    audioFocusChangeListener,\n                    AudioManager.STREAM_MUSIC,\n                    AudioManager.AUDIOFOCUS_GAIN\n                )\n                exoPlayer?.play()\n                showNotification()\n            }\n\n            override fun onPause() {\n                exoPlayer?.pause()\n            }\n        })\n        mediaSession?.isActive = true\n    }\n\n    private fun createNotification(): Notification? {\n        if (mediaSession == null) return null\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val channel = NotificationChannel(\n                NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS,\n                getString(R.string.notification_name_player_controls),\n                NotificationManager.IMPORTANCE_LOW\n            )\n            channel.description = getString(R.string.notification_description_player_controls)\n            val notificationManager = getSystemService(\n                NotificationManager::class.java\n            )\n            notificationManager.createNotificationChannel(channel)\n        }\n\n        val mediaStyle = androidx.media.app.NotificationCompat.MediaStyle()\n            .setMediaSession(mediaSession!!.sessionToken)\n            .setShowActionsInCompactView()\n\n        val notificationBuilder = NotificationCompat.Builder(\n            this,\n            NotificationHelper.NOTIFICATION_CHANNEL_ID_PLAYER_CONTROLS\n        )\n            .setStyle(mediaStyle)\n            .setSmallIcon(R.drawable.ic_play_notification)\n            .setAutoCancel(false)\n            .setOngoing(true)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n\n        return notificationBuilder.build()\n\n    }\n\n  private fun getActions(): Long {\n        return if (exoPlayer?.isPlaying == true) PlaybackStateCompat.ACTION_PAUSE else PlaybackStateCompat.ACTION_PLAY\n\n    }\n</code></pre>\n<p>I strongly recommend you to read this <a href=\"https://android-developers.googleblog.com/2020/08/playing-nicely-with-media-controls.html\" rel=\"nofollow noreferrer\">post</a></p>\n"}],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686306039,"creation_date":1673453643,"question_id":75086008,"body_markdown":"I am not able to create bigger play/pause button in Decorated notification.\r\nHow can I do it?\r\nHere is what I have:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n\r\n            if (statusPlay){\r\n                notification = new NotificationCompat.Builder(this,FOREGROUND_CHANNEL_ID)\r\n                        .setSmallIcon(R.drawable.ic_books_mini2)\r\n                        .setContentTitle(tmpTitle)\r\n                        .setContentText(&quot;&quot;+notificationPercentage + &quot;%  &quot; + tmpAuthor)\r\n                        .setLargeIcon(artwork)\r\n                        .setCategory(NotificationCompat.CATEGORY_TRANSPORT) //CATEGORY_SERVICE\r\n                        .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\r\n                        .addAction(R.drawable.ic_pause_white,&quot;pause&quot;,lPendingPauseIntent)\r\n                        .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\r\n                        .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\r\n                                .setShowActionsInCompactView(0,1,2)\r\n                                .setMediaSession(mediaSession.getSessionToken())\r\n                        )\r\n                        .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                        .setColorized(true)\r\n                        .setContentIntent(pendingIntent) \r\n                        .setAutoCancel(true)\r\n                        .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                        .setOngoing(true);\r\n\r\n            }else {\r\n                notification = new NotificationCompat.Builder(this, FOREGROUND_CHANNEL_ID)\r\n                        .setSmallIcon(R.drawable.ic_books_mini2)\r\n                        .setContentTitle(tmpTitle)\r\n                        .setContentText(&quot;&quot; + notificationPercentage + &quot;%  &quot; + tmpAuthor)\r\n                        .setLargeIcon(artwork)\r\n                        .setCategory(NotificationCompat.CATEGORY_TRANSPORT)\r\n                        .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\r\n                        .addAction(R.drawable.ic_play_arrow_white,&quot;play&quot;,lPendingPlayIntent)\r\n                        .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\r\n                        .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\r\n                                .setShowActionsInCompactView(0,1,2)\r\n                                .setMediaSession(mediaSession.getSessionToken())\r\n                        )\r\n                        .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                        .setColorized(true)\r\n                        .setContentIntent(pendingIntent) \r\n                        .setAutoCancel(true)\r\n                        .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                        .setOngoing(true)\r\n                        ;\r\n\r\n                ;\r\n            }\r\n\r\n\r\n        }\r\n\r\nThis looks like this with small buttons on bottom:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut required is this bigger button:\r\n[![enter image description here][2]][2]\r\n\r\nIn official poages of android development ,they recommend to use this Decorated Media Custom View in notifications due to restricted space and colors to be visible with texts. Many thanks for help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sdwc0.jpg\r\n  [2]: https://i.stack.imgur.com/uyZ6L.jpg","title":"Android notification how to create play /pause button?","body":"<p>I am not able to create bigger play/pause button in Decorated notification.\nHow can I do it?\nHere is what I have:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n\n        if (statusPlay){\n            notification = new NotificationCompat.Builder(this,FOREGROUND_CHANNEL_ID)\n                    .setSmallIcon(R.drawable.ic_books_mini2)\n                    .setContentTitle(tmpTitle)\n                    .setContentText(&quot;&quot;+notificationPercentage + &quot;%  &quot; + tmpAuthor)\n                    .setLargeIcon(artwork)\n                    .setCategory(NotificationCompat.CATEGORY_TRANSPORT) //CATEGORY_SERVICE\n                    .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\n                    .addAction(R.drawable.ic_pause_white,&quot;pause&quot;,lPendingPauseIntent)\n                    .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\n                    .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\n                            .setShowActionsInCompactView(0,1,2)\n                            .setMediaSession(mediaSession.getSessionToken())\n                    )\n                    .setPriority(NotificationCompat.PRIORITY_LOW)\n                    .setColorized(true)\n                    .setContentIntent(pendingIntent) \n                    .setAutoCancel(true)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setOngoing(true);\n\n        }else {\n            notification = new NotificationCompat.Builder(this, FOREGROUND_CHANNEL_ID)\n                    .setSmallIcon(R.drawable.ic_books_mini2)\n                    .setContentTitle(tmpTitle)\n                    .setContentText(&quot;&quot; + notificationPercentage + &quot;%  &quot; + tmpAuthor)\n                    .setLargeIcon(artwork)\n                    .setCategory(NotificationCompat.CATEGORY_TRANSPORT)\n                    .addAction(R.drawable.prev10w,&quot;prev10&quot;,lPendingSeekPrevIntent)\n                    .addAction(R.drawable.ic_play_arrow_white,&quot;play&quot;,lPendingPlayIntent)\n                    .addAction(R.drawable.next10w,&quot;next10&quot;,lPendingSeekNextIntent)\n                    .setStyle(new androidx.media.app.NotificationCompat.DecoratedMediaCustomViewStyle()\n                            .setShowActionsInCompactView(0,1,2)\n                            .setMediaSession(mediaSession.getSessionToken())\n                    )\n                    .setPriority(NotificationCompat.PRIORITY_LOW)\n                    .setColorized(true)\n                    .setContentIntent(pendingIntent) \n                    .setAutoCancel(true)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setOngoing(true)\n                    ;\n\n            ;\n        }\n\n\n    }\n</code></pre>\n<p>This looks like this with small buttons on bottom:\n<a href=\"https://i.stack.imgur.com/Sdwc0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sdwc0.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But required is this bigger button:\n<a href=\"https://i.stack.imgur.com/uyZ6L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uyZ6L.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In official poages of android development ,they recommend to use this Decorated Media Custom View in notifications due to restricted space and colors to be visible with texts. Many thanks for help.</p>\n"},{"tags":["java","android","in-app-purchase","google-play"],"comments":[{"owner":{"account_id":1291782,"reputation":6791,"user_id":1243753,"accept_rate":89,"display_name":"Ifrit"},"score":1,"creation_date":1411674755,"post_id":22668528,"comment_id":40803695,"body_markdown":"Did you find an answer to this?","body":"Did you find an answer to this?"},{"owner":{"account_id":1513044,"reputation":391,"user_id":1414683,"display_name":"Pierre Merienne"},"score":0,"creation_date":1411817491,"post_id":22668528,"comment_id":40853333,"body_markdown":"I did not find any solution to consumes in app product. I think this might be design like this on purpose.","body":"I did not find any solution to consumes in app product. I think this might be design like this on purpose."},{"owner":{"account_id":1592566,"reputation":3223,"user_id":1475574,"accept_rate":78,"display_name":"Khalid Taha"},"score":0,"creation_date":1510963926,"post_id":22668528,"comment_id":81675175,"body_markdown":"Did you find any answer for this ?\nI need it","body":"Did you find any answer for this ? I need it"}],"answers":[{"tags":[],"owner":{"account_id":1812955,"reputation":1242,"user_id":1648645,"accept_rate":0,"display_name":"sibaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413458463,"creation_date":1413458463,"answer_id":26403130,"question_id":22668528,"body_markdown":"I&#39;m trying to implement something that sounds similar to your approach.  In our case our target audience is children, hence we&#39;re not expecting the consumer to be the person paying, and that the parent might buy several copies, one for each child.  Hence the normal model (of one thing per customer) doesn&#39;t work.\r\n \r\nAs licencing (per child) is actually dealt with by our servers, any payments (we&#39;re handling them as a consumables), have to be actioned on the app, then the token passed to the server to be verified, then the server updates the licenses, and the next time the child concerned interrogates their licences, they perceive the payment to have been actioned.  The app then has to mark them as consumed, even though activation is not something it has direct control of.  Instead it seems the only option is to manage a table of all of the purchaseTokens, and mark them internally as consumed, and so the app has to periodically ask if any of the tokens pending for the current (google) user, need consuming, and tick them off when they do.  As an extension to this, we have to over complicate the payment process by checking ourselves if the child requesting (or the google user that&#39;s paying) should be blocked from proceeding, in case they have payments that might be pending from another child.  \r\n\r\nIt would be so much simpler, if google were to allow the server to mark the consumable as used, but I&#39;ve yet to find a solution.  Lets hope APIv4 has it.  \r\n","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>I'm trying to implement something that sounds similar to your approach.  In our case our target audience is children, hence we're not expecting the consumer to be the person paying, and that the parent might buy several copies, one for each child.  Hence the normal model (of one thing per customer) doesn't work.</p>\n\n<p>As licencing (per child) is actually dealt with by our servers, any payments (we're handling them as a consumables), have to be actioned on the app, then the token passed to the server to be verified, then the server updates the licenses, and the next time the child concerned interrogates their licences, they perceive the payment to have been actioned.  The app then has to mark them as consumed, even though activation is not something it has direct control of.  Instead it seems the only option is to manage a table of all of the purchaseTokens, and mark them internally as consumed, and so the app has to periodically ask if any of the tokens pending for the current (google) user, need consuming, and tick them off when they do.  As an extension to this, we have to over complicate the payment process by checking ourselves if the child requesting (or the google user that's paying) should be blocked from proceeding, in case they have payments that might be pending from another child.  </p>\n\n<p>It would be so much simpler, if google were to allow the server to mark the consumable as used, but I've yet to find a solution.  Lets hope APIv4 has it.  </p>\n"},{"comments":[{"owner":{"account_id":1284799,"reputation":416,"user_id":1238106,"display_name":"robinryf"},"score":0,"creation_date":1591016201,"post_id":61498428,"comment_id":109888430,"body_markdown":"I think it is good that you can acknowledge from backend but I guess you should not call it for consumables? The documentation is sparse on this.\nI think there is no way around tracking on your own Database which products have already been purchased. And as long as the client does not consume the IAP. Google Play won&#39;t allow that another item is purchased.","body":"I think it is good that you can acknowledge from backend but I guess you should not call it for consumables? The documentation is sparse on this. I think there is no way around tracking on your own Database which products have already been purchased. And as long as the client does not consume the IAP. Google Play won&#39;t allow that another item is purchased."}],"tags":[],"owner":{"account_id":178698,"reputation":918,"user_id":410855,"display_name":"mdi"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588244941,"creation_date":1588152246,"answer_id":61498428,"question_id":22668528,"body_markdown":"It&#39;s now possible to at least Acknowledge using the Android Publisher V3 API, see:\r\n\r\nhttps://developers.google.com/android-publisher/getting_started\r\n\r\nhttps://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge\r\n\r\nLooks like Consume is still only possible from the client.","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>It's now possible to at least Acknowledge using the Android Publisher V3 API, see:</p>\n\n<p><a href=\"https://developers.google.com/android-publisher/getting_started\" rel=\"noreferrer\">https://developers.google.com/android-publisher/getting_started</a></p>\n\n<p><a href=\"https://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge\" rel=\"noreferrer\">https://developers.google.com/android-publisher/api-ref/purchases/products/acknowledge</a></p>\n\n<p>Looks like Consume is still only possible from the client.</p>\n"},{"tags":[],"owner":{"account_id":3610250,"reputation":44882,"user_id":3011380,"accept_rate":48,"display_name":"zangw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678866928,"creation_date":1678866928,"answer_id":75741866,"question_id":22668528,"body_markdown":"The `purchases.products.consume` of the Android Publisher V3 API could consume a purchase for an inapp item.\r\n\r\nhttps://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume\r\n\r\n```\r\nPOST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/purchases/products/{productId}/tokens/{token}:consume\r\n```\r\n\r\n","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>The <code>purchases.products.consume</code> of the Android Publisher V3 API could consume a purchase for an inapp item.</p>\n<p><a href=\"https://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume\" rel=\"nofollow noreferrer\">https://developers.google.com/android-publisher/api-ref/rest/v3/purchases.products/consume</a></p>\n<pre><code>POST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/purchases/products/{productId}/tokens/{token}:consume\n</code></pre>\n"}],"owner":{"account_id":1513044,"reputation":391,"user_id":1414683,"display_name":"Pierre Merienne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4941,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1686305179,"creation_date":1395854491,"question_id":22668528,"body_markdown":"Consuming google play in-app products can easily be done from the client application (http://developer.android.com/google/play/billing/api.html#consume).\r\n\r\nHowever I can&#39;t find any information about doing this consume request from a backend server. The Purchase Status API (http://developer.android.com/google/play/billing/gp-purchase-status-api.html) is designed to be used from backend servers, however it doesn&#39;t provide any methods to consumes in-app products.\r\n\r\nIs there a way to consume google play in-app products from backend server?","title":"Is there a way to consume google play in-app products from backend server?","body":"<p>Consuming google play in-app products can easily be done from the client application (<a href=\"http://developer.android.com/google/play/billing/api.html#consume\">http://developer.android.com/google/play/billing/api.html#consume</a>).</p>\n\n<p>However I can't find any information about doing this consume request from a backend server. The Purchase Status API (<a href=\"http://developer.android.com/google/play/billing/gp-purchase-status-api.html\">http://developer.android.com/google/play/billing/gp-purchase-status-api.html</a>) is designed to be used from backend servers, however it doesn't provide any methods to consumes in-app products.</p>\n\n<p>Is there a way to consume google play in-app products from backend server?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1687847063,"post_id":76439198,"comment_id":134989821,"body_markdown":"I read that and am still confused. When `onException` triggers, does it proceed to `doCatch` or not? Is `onWhen` happening at the same time as `doCatch`, or before, or?","body":"I read that and am still confused. When <code>onException</code> triggers, does it proceed to <code>doCatch</code> or not? Is <code>onWhen</code> happening at the same time as <code>doCatch</code>, or before, or?"},{"owner":{"account_id":16330540,"reputation":51,"user_id":11794001,"display_name":"PauAL"},"score":1,"creation_date":1688396225,"post_id":76439198,"comment_id":135065209,"body_markdown":"As I understand it, the `onWhen` clause is calculated even before the `onException` is triggered. That is why you cannot use any exception property in the `onWhen` clause.\n\nThen, if the `onWhen` and the `onException` conditions are met, the `doCatch` block triggers.","body":"As I understand it, the <code>onWhen</code> clause is calculated even before the <code>onException</code> is triggered. That is why you cannot use any exception property in the <code>onWhen</code> clause.  Then, if the <code>onWhen</code> and the <code>onException</code> conditions are met, the <code>doCatch</code> block triggers."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1689070722,"post_id":76439198,"comment_id":135157913,"body_markdown":"Thanks. I pay attention a lot on the order of words and if the syntax of Camel put `onException().onWhen()` but actually it&#39;s like `onWhen() -&gt; exception -&gt; onException() -&gt; doCatch()`, for me it&#39;s confusing, unbearable and impossible to comprehend. Thanks bro.","body":"Thanks. I pay attention a lot on the order of words and if the syntax of Camel put <code>onException().onWhen()</code> but actually it&#39;s like <code>onWhen() -&gt; exception -&gt; onException() -&gt; doCatch()</code>, for me it&#39;s confusing, unbearable and impossible to comprehend. Thanks bro."}],"tags":[],"owner":{"account_id":16330540,"reputation":51,"user_id":11794001,"display_name":"PauAL"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686304870,"creation_date":1686304870,"answer_id":76439198,"question_id":75362802,"body_markdown":"I was struggling with this until I read the method&#39;s documentation:\r\n\r\n&gt; Sets an additional predicate that should be true before the onException is triggered. &lt;p&gt;\r\nTo be used for fine grained controlling whether a thrown exception should be intercepted by this exception typeor not.\r\n\r\nThat may explain why you are able to see the exception details in the processor and not in the &quot;onWhen&quot; clause.\r\n\r\nHope it helps.\r\n\r\nRegards.","title":"Apache Camel - onWhen() predicate cannot retrieve EXCEPTION_CAUGHT, but in the processor it is present","body":"<p>I was struggling with this until I read the method's documentation:</p>\n<blockquote>\n<p>Sets an additional predicate that should be true before the onException is triggered. <p>\nTo be used for fine grained controlling whether a thrown exception should be intercepted by this exception typeor not.</p>\n</blockquote>\n<p>That may explain why you are able to see the exception details in the processor and not in the &quot;onWhen&quot; clause.</p>\n<p>Hope it helps.</p>\n<p>Regards.</p>\n"}],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439198,"answer_count":1,"score":0,"last_activity_date":1686304870,"creation_date":1675694687,"question_id":75362802,"body_markdown":"I cannot access caught exception in `onWhen(predicate)` after `doCatch()`, but I can see it in the processor in `doCatch()`. This is inconvenient when I want to define a finer-grained predicate in `onWhen()`. \r\n\r\n```java\r\ndoCatch(ProcessingException.class).onWhen(predicate) // &lt;&lt;&lt; here I cannot see exception\r\n    .process(MyProcessor.class) // &lt;&lt;&lt; here I see exception\r\n    ...\r\n```\r\n\r\n`exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class)` returns null in the predicate. I see `exchange.getAllProperties()` does not contain the key. \r\n\r\nAny idea? Is it by design? Now I cannot decide enter catch processor or not depending on exception message. \r\n\r\n","title":"Apache Camel - onWhen() predicate cannot retrieve EXCEPTION_CAUGHT, but in the processor it is present","body":"<p>I cannot access caught exception in <code>onWhen(predicate)</code> after <code>doCatch()</code>, but I can see it in the processor in <code>doCatch()</code>. This is inconvenient when I want to define a finer-grained predicate in <code>onWhen()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>doCatch(ProcessingException.class).onWhen(predicate) // &lt;&lt;&lt; here I cannot see exception\n    .process(MyProcessor.class) // &lt;&lt;&lt; here I see exception\n    ...\n</code></pre>\n<p><code>exchange.getProperty(Exchange.EXCEPTION_CAUGHT, Exception.class)</code> returns null in the predicate. I see <code>exchange.getAllProperties()</code> does not contain the key.</p>\n<p>Any idea? Is it by design? Now I cannot decide enter catch processor or not depending on exception message.</p>\n"},{"tags":["java","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":2,"creation_date":1686305834,"post_id":76439194,"comment_id":134783951,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1686305857,"post_id":76439194,"comment_id":134783955,"body_markdown":"Besides that, please also show us how `myRef` is defined.","body":"Besides that, please also show us how <code>myRef</code> is defined."}],"owner":{"account_id":28786530,"reputation":1,"user_id":22046875,"display_name":"nanamogus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686304846,"creation_date":1686304846,"question_id":76439194,"body_markdown":"I connected Firebase DataBase to my app via Firebase tool, and it has no problem writing data to database. However, I am facing a problem of not being able to read it. \r\n\r\nArrayList&lt;Event&gt; events is used to fill ListView, but hen using getValue(Event.class),event is null.\r\n\r\n```\r\n   myRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Event event = dataSnapshot.getValue(Event.class);\r\n                    events.add(event);\r\n                }\r\n            }\r\n```\r\nEvent class\r\n\r\n```\r\npackage com.example.volunteer.classes;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Event implements Serializable {\r\n    protected String title;\r\n    protected String location;\r\n    protected String desc;\r\n    private String host_username;\r\n    protected String reqs;\r\n    protected String event_img;\r\n    protected long date;\r\n    private String key;\r\n    public Event(){};\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public Event(String title, String location, String desc, String host_username, String reqs, long date){\r\n        this.title = title;\r\n        this.location = location;\r\n        this.desc = desc;\r\n        this.host_username = host_username;\r\n        this.reqs = reqs;\r\n        this.date = date;\r\n    }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n It was supposed to fill ArrayList&lt;Event&gt; events with objects from Firebase, however debugger shows that it is empty.","title":"Firebase DataBase snapshot.getValue(.class) return null","body":"<p>I connected Firebase DataBase to my app via Firebase tool, and it has no problem writing data to database. However, I am facing a problem of not being able to read it.</p>\n<p>ArrayList events is used to fill ListView, but hen using getValue(Event.class),event is null.</p>\n<pre><code>   myRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    Event event = dataSnapshot.getValue(Event.class);\n                    events.add(event);\n                }\n            }\n</code></pre>\n<p>Event class</p>\n<pre><code>package com.example.volunteer.classes;\n\nimport java.io.Serializable;\n\npublic class Event implements Serializable {\n    protected String title;\n    protected String location;\n    protected String desc;\n    private String host_username;\n    protected String reqs;\n    protected String event_img;\n    protected long date;\n    private String key;\n    public Event(){};\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public Event(String title, String location, String desc, String host_username, String reqs, long date){\n        this.title = title;\n        this.location = location;\n        this.desc = desc;\n        this.host_username = host_username;\n        this.reqs = reqs;\n        this.date = date;\n    }\n\n    }\n}\n\n</code></pre>\n<p>It was supposed to fill ArrayList events with objects from Firebase, however debugger shows that it is empty.</p>\n"},{"tags":["java","build","eclipse-plugin","eclipse-pde","buckminster"],"answers":[{"tags":[],"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249209904,"creation_date":1249209904,"answer_id":1218643,"question_id":1211468,"body_markdown":"Buckminster sits on top of PDE build, so there&#39;s no getting away from PDE build in the near future.\r\n\r\nYou could try another free plug-in that sits on top of PDE build: [Plugin Builder][1] as it does the generation of the ANT XML and the nasty map file that PDE build requires.  It even has the extension for SVN-based map files as opposed to CSV.  I successfully setup Plugin Builder running from Hudson for my team&#39;s build needs.\r\n\r\nAnother alternative is to look at [Tycho][2] (Tycho is the OSGi/Eclipse related bit of the next version of Maven).  It is a work-in-progress and it does use PDE build under the covers.  I tried and failed with some experiments with Tycho, but they do have a recent new alpha/beta build, so you may have more success (and there are other people who are successfully using it).\r\n\r\n\r\n  [1]: http://www.pluginbuilder.org/\r\n  [2]: http://docs.codehaus.org/display/M2ECLIPSE/Tycho+user+docs","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>Buckminster sits on top of PDE build, so there's no getting away from PDE build in the near future.</p>\n\n<p>You could try another free plug-in that sits on top of PDE build: <a href=\"http://www.pluginbuilder.org/\" rel=\"nofollow noreferrer\">Plugin Builder</a> as it does the generation of the ANT XML and the nasty map file that PDE build requires.  It even has the extension for SVN-based map files as opposed to CSV.  I successfully setup Plugin Builder running from Hudson for my team's build needs.</p>\n\n<p>Another alternative is to look at <a href=\"http://docs.codehaus.org/display/M2ECLIPSE/Tycho+user+docs\" rel=\"nofollow noreferrer\">Tycho</a> (Tycho is the OSGi/Eclipse related bit of the next version of Maven).  It is a work-in-progress and it does use PDE build under the covers.  I tried and failed with some experiments with Tycho, but they do have a recent new alpha/beta build, so you may have more success (and there are other people who are successfully using it).</p>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249286153,"creation_date":1249286153,"answer_id":1221123,"question_id":1211468,"body_markdown":"The only problem I&#39;ve had with PDE build is the map file for checking out.  I wrote my own ant task to do the checkout for me using SVN, based on conventions on where the plugins are located, instead of having to explicitly state in the map file all the file paths.  Worked wonders and now I can just add plugins to my svn repository and refer to them in the feature.xml and it just works.","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>The only problem I've had with PDE build is the map file for checking out.  I wrote my own ant task to do the checkout for me using SVN, based on conventions on where the plugins are located, instead of having to explicitly state in the map file all the file paths.  Worked wonders and now I can just add plugins to my svn repository and refer to them in the feature.xml and it just works.</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249287752,"creation_date":1249286960,"answer_id":1221162,"question_id":1211468,"body_markdown":"We&#39;re building using buckminster(check out, compiling, testing and byte obfuscation). I haven&#39;t tried a PDE-script, but if you have a complicated setup with a lot of dependencies on other libraries/projects I think buckminster will scale better.  ","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>We're building using buckminster(check out, compiling, testing and byte obfuscation). I haven't tried a PDE-script, but if you have a complicated setup with a lot of dependencies on other libraries/projects I think buckminster will scale better.  </p>\n"},{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273819068,"creation_date":1273819068,"answer_id":2832281,"question_id":1211468,"body_markdown":"I&#39;ve recently started to move our entire Eclipse build-infrastructure from PDE build to Buckminster, and I have mostly good things to say about Buckminster. While builds based on the PDE build scripts/templates tend to be very brittle and requires a large amount of surrounding infrastructure to work, Buckminster feels quite robust and does not require any significant additional scripting around it. Buckminster does take a while to get into, but thanks to the excellent documentation and the very helpful newsgroup, I was able to get a full build to work in a few days.\r\n\r\nBuckminster is what Eclipse should&#39;ve had from the very beginning to handle headless builds.\r\n","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>I've recently started to move our entire Eclipse build-infrastructure from PDE build to Buckminster, and I have mostly good things to say about Buckminster. While builds based on the PDE build scripts/templates tend to be very brittle and requires a large amount of surrounding infrastructure to work, Buckminster feels quite robust and does not require any significant additional scripting around it. Buckminster does take a while to get into, but thanks to the excellent documentation and the very helpful newsgroup, I was able to get a full build to work in a few days.</p>\n\n<p>Buckminster is what Eclipse should've had from the very beginning to handle headless builds.</p>\n"}],"owner":{"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2504,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1686304801,"creation_date":1249031447,"question_id":1211468,"body_markdown":"I am trying to set up a headless build for a big eclipse feature, containing other features and plugins. \r\n\r\nAs some needed plugins are generated using GMF and EMF, the build workflow must be something like this: \r\n\r\n 1. SVN Check-out\r\n 2. Invoke Generation\r\n 3. Run Tests\r\n 4. Build all\r\n 5. Publish update-site\r\n\r\nOver the last couple of weeks, i played around with PDE Headless Build and Buckminster. Anyhow i still got problems with both and can&#39;t decide on which i should spent my effort.\r\n\r\nSo what would you prefer? What experience you made? Anybody out there who needed to set up  a similiar workflow before?\r\n\r\nThank you for all answers :)","title":"Headless build of eclipse features - PDE Tools or Buckminster?","body":"<p>I am trying to set up a headless build for a big eclipse feature, containing other features and plugins. </p>\n\n<p>As some needed plugins are generated using GMF and EMF, the build workflow must be something like this: </p>\n\n<ol>\n<li>SVN Check-out</li>\n<li>Invoke Generation</li>\n<li>Run Tests</li>\n<li>Build all</li>\n<li>Publish update-site</li>\n</ol>\n\n<p>Over the last couple of weeks, i played around with PDE Headless Build and Buckminster. Anyhow i still got problems with both and can't decide on which i should spent my effort.</p>\n\n<p>So what would you prefer? What experience you made? Anybody out there who needed to set up  a similiar workflow before?</p>\n\n<p>Thank you for all answers :)</p>\n"},{"tags":["java","optaplanner","timefold"],"comments":[{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1685551847,"post_id":76373547,"comment_id":134677366,"body_markdown":"If you can run the solver once, what prevents you running it a second time? If you can run it in one thread, what prevents you from running two threads? I probably do not understand the question well enough.","body":"If you can run the solver once, what prevents you running it a second time? If you can run it in one thread, what prevents you from running two threads? I probably do not understand the question well enough."},{"owner":{"account_id":8982434,"reputation":11,"user_id":10404707,"display_name":"meisner97"},"score":0,"creation_date":1686255641,"post_id":76373547,"comment_id":134777897,"body_markdown":"@Luk&#225;šPetrovick&#253; I want to provide end user with recommendations to tweak some variables so that the planner can give them acceptable results.","body":"@Luk&#225;šPetrovick&#253; I want to provide end user with recommendations to tweak some variables so that the planner can give them acceptable results."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686303673,"creation_date":1686303673,"answer_id":76439054,"question_id":76373547,"body_markdown":"There is no functionality for this in OptaPlanner or [Timefold][1] (yet).\r\n\r\nThat said, nothing prevents you from making the change to the data set and running the solver again. You can use [SolverManager][2] to execute multiple solvers at the same time. It is then up to you how you present the results to the user.\r\n\r\n\r\n  [1]: https://timefold.ai/blog/2023/optaplanner-fork/\r\n  [2]: https://timefold.ai/docs/timefold-solver/latest/configuration/configuration.html#solverManager","title":"Is there any way to modify a problem with change in variables in opta planner and run it in parallel with the original one","body":"<p>There is no functionality for this in OptaPlanner or <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">Timefold</a> (yet).</p>\n<p>That said, nothing prevents you from making the change to the data set and running the solver again. You can use <a href=\"https://timefold.ai/docs/timefold-solver/latest/configuration/configuration.html#solverManager\" rel=\"nofollow noreferrer\">SolverManager</a> to execute multiple solvers at the same time. It is then up to you how you present the results to the user.</p>\n"}],"owner":{"account_id":8982434,"reputation":11,"user_id":10404707,"display_name":"meisner97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76439054,"answer_count":1,"score":0,"last_activity_date":1686303694,"creation_date":1685536503,"question_id":76373547,"body_markdown":"For instance if we have a problem statement to schedule number of rooms to a group of people for a specific time(in minutes) for a given length of day(in hours).\r\n\r\nI&#39;m setting the configuration so as to say that the perfect job would result in 0 hard score. Let&#39;s say due to some complications the scheduler could not find a perfect solution with 0 hard score, is it possible for me to run a parallel scheduling job with some change in variables i.e. increasing the length of the day by 1 hour or reducing the time 1 group can have the room for or increasing the number of rooms.\r\n\r\nIs it possible to run parallel scheduling jobs in case the original job cannot provide a solution with 0 hard score?\r\n\r\nThanks.","title":"Is there any way to modify a problem with change in variables in opta planner and run it in parallel with the original one","body":"<p>For instance if we have a problem statement to schedule number of rooms to a group of people for a specific time(in minutes) for a given length of day(in hours).</p>\n<p>I'm setting the configuration so as to say that the perfect job would result in 0 hard score. Let's say due to some complications the scheduler could not find a perfect solution with 0 hard score, is it possible for me to run a parallel scheduling job with some change in variables i.e. increasing the length of the day by 1 hour or reducing the time 1 group can have the room for or increasing the number of rooms.</p>\n<p>Is it possible to run parallel scheduling jobs in case the original job cannot provide a solution with 0 hard score?</p>\n<p>Thanks.</p>\n"},{"tags":["java","mongodb","spring-boot","query-by-example"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1624441796,"post_id":68095404,"comment_id":120358096,"body_markdown":"Can you add an example how you perform the search now?","body":"Can you add an example how you perform the search now?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1624442200,"post_id":68095404,"comment_id":120358260,"body_markdown":"at your service.","body":"at your service."}],"answers":[{"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1624447849,"post_id":68097721,"comment_id":120360543,"body_markdown":"@Greg Maybe you should check the reason for not compiling? What exactly does not compile?","body":"@Greg Maybe you should check the reason for not compiling? What exactly does not compile?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1624459360,"post_id":68097721,"comment_id":120365972,"body_markdown":"sorry, no, it does compile.","body":"sorry, no, it does compile."}],"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624442728,"creation_date":1624442728,"answer_id":68097721,"question_id":68095404,"body_markdown":"This should work by definining ExampleMatcher of your own:\r\n\r\n    ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll();\r\n\r\nThen query would be like:\r\n\r\n    repository.findAll(\r\n        Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)), exampleMatcher));\r\n\r\nSee [API docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matchingAll--):\r\n\r\n&gt; Create a new ExampleMatcher _**including all non-null properties**_ by default matching all predicates derived from the example.","title":"How to use Example Matcher with nested fields not fully filled","body":"<p>This should work by definining ExampleMatcher of your own:</p>\n<pre><code>ExampleMatcher exampleMatcher = ExampleMatcher.matchingAll();\n</code></pre>\n<p>Then query would be like:</p>\n<pre><code>repository.findAll(\n    Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)), exampleMatcher));\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matchingAll--\" rel=\"nofollow noreferrer\">API docs</a>:</p>\n<blockquote>\n<p>Create a new ExampleMatcher <em><strong>including all non-null properties</strong></em> by default matching all predicates derived from the example.</p>\n</blockquote>\n"}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68097721,"answer_count":1,"score":0,"last_activity_date":1686303238,"creation_date":1624433326,"question_id":68095404,"body_markdown":"I&#39;ve got the following structure:\r\n\r\n    @Document\r\n    class A {\r\n    String value1;\r\n    B b;\r\n    }\r\n    \r\n    class B {\r\n    String value1;\r\n    String value2;\r\n    Integer value3;\r\n    }\r\n\r\nThen I save a document with the following values:\r\n\r\n    {\r\n    value1: &quot;val&quot;,\r\n    b: {\r\n    value1: &quot;val1&quot;,\r\n    value2: &quot;val2&quot;\r\n    value3: 156\r\n    }\r\n    }\r\n\r\nWhen I create an example with both values in B filled I get a match, when I fill only A.value1 and B.value1 I don&#39;t get a match. How can I make the match ingore null values in nested fields?\r\n\r\nSearch:\r\n\r\n    repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)))\r\n\r\nDoesn&#39;t match because some of the B fields are not filled.\r\n\r\nSearch:\r\n\r\n    repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, &quot;val2&quot;, 156)))\r\n\r\nMatches as all the fields are filled.","title":"How to use Example Matcher with nested fields not fully filled","body":"<p>I've got the following structure:</p>\n<pre><code>@Document\nclass A {\nString value1;\nB b;\n}\n\nclass B {\nString value1;\nString value2;\nInteger value3;\n}\n</code></pre>\n<p>Then I save a document with the following values:</p>\n<pre><code>{\nvalue1: &quot;val&quot;,\nb: {\nvalue1: &quot;val1&quot;,\nvalue2: &quot;val2&quot;\nvalue3: 156\n}\n}\n</code></pre>\n<p>When I create an example with both values in B filled I get a match, when I fill only A.value1 and B.value1 I don't get a match. How can I make the match ingore null values in nested fields?</p>\n<p>Search:</p>\n<pre><code>repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, null, null)))\n</code></pre>\n<p>Doesn't match because some of the B fields are not filled.</p>\n<p>Search:</p>\n<pre><code>repository.findAll(Example.of(new A(&quot;val&quot;, new B(&quot;val1&quot;, &quot;val2&quot;, 156)))\n</code></pre>\n<p>Matches as all the fields are filled.</p>\n"},{"tags":["java","android","kotlin","permissions"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":1,"creation_date":1545482653,"post_id":53895647,"comment_id":94637288,"body_markdown":"use this for request permission its awesome  https://stackoverflow.com/a/49201404/9130109","body":"use this for request permission its awesome  <a href=\"https://stackoverflow.com/a/49201404/9130109\">stackoverflow.com/a/49201404/9130109</a>"}],"answers":[{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545482109,"creation_date":1545482109,"answer_id":53895707,"question_id":53895647,"body_markdown":"The method `shouldShowRequestPermissionRationale` returns true if it is required to explain the user why the permission is required. In the first time the permission is requested, this method returns **false**.\r\n\r\nBut if the user denies the permission once, when the permission is requested another time, this method returns **true** because it might be a good idea to explain the user why this permission is required for the app.\r\n\r\nWhen the permission is already granted, this method will return **false**.\r\n\r\nSo a good practice would be to first check what this method returns and if it is required to explain to the user, explain it using a dialog or something followed by requesting the permission, otherwise ask the permission directly.\r\n\r\nYou can also have a look at my [library][1] which ease up this whole process and other processes regarding run-time permissions. \r\n\r\n\r\n  [1]: https://github.com/nabinbhandari/Android-Permissions","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>The method <code>shouldShowRequestPermissionRationale</code> returns true if it is required to explain the user why the permission is required. In the first time the permission is requested, this method returns <strong>false</strong>.</p>\n\n<p>But if the user denies the permission once, when the permission is requested another time, this method returns <strong>true</strong> because it might be a good idea to explain the user why this permission is required for the app.</p>\n\n<p>When the permission is already granted, this method will return <strong>false</strong>.</p>\n\n<p>So a good practice would be to first check what this method returns and if it is required to explain to the user, explain it using a dialog or something followed by requesting the permission, otherwise ask the permission directly.</p>\n\n<p>You can also have a look at my <a href=\"https://github.com/nabinbhandari/Android-Permissions\" rel=\"nofollow noreferrer\">library</a> which ease up this whole process and other processes regarding run-time permissions. </p>\n"},{"tags":[],"owner":{"account_id":4783927,"reputation":13,"user_id":3864976,"display_name":"cracktichi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686303092,"creation_date":1686303092,"answer_id":76438980,"question_id":53895647,"body_markdown":"Addition info:\r\n*Some case must use correct mapping permission requested and permission use to check shouldShowRequestPermissionRationale.*\r\n\r\nIn my case, I had used permission &quot;granular media permissions&quot; of Android 13 (READ_MEDIA_IMAGES/READ_MEDIA_AUDIO/READ_MEDIA_VIDEO) on device Android 10 and function **shouldShowRequestPermissionRationale** alway return **false**.\r\n\r\nWhen i try use READ_EXTERNAL_STORAGE, it&#39; working and return true when use not have choose &quot;Never ask again&quot;\r\n\r\nSo let try old basicly permission before try another permission.\r\n\r\nGood luck!","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>Addition info:\n<em>Some case must use correct mapping permission requested and permission use to check shouldShowRequestPermissionRationale.</em></p>\n<p>In my case, I had used permission &quot;granular media permissions&quot; of Android 13 (READ_MEDIA_IMAGES/READ_MEDIA_AUDIO/READ_MEDIA_VIDEO) on device Android 10 and function <strong>shouldShowRequestPermissionRationale</strong> alway return <strong>false</strong>.</p>\n<p>When i try use READ_EXTERNAL_STORAGE, it' working and return true when use not have choose &quot;Never ask again&quot;</p>\n<p>So let try old basicly permission before try another permission.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":6153574,"reputation":11374,"user_id":4797289,"display_name":"Rasoul Miri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686303092,"creation_date":1545481694,"question_id":53895647,"body_markdown":"how can use **shouldShowRequestPermissionRationale** before call permission and use in Activity. \r\n\r\nbecause before ActivityCompat.requestPermissions this return false\r\n\r\n    if(ActivityCompat.shouldShowRequestPermissionRationale(context,permission)){\r\n        // true\r\n    }else{\r\n        // false (always false)\r\n    }","title":"why shouldShowRequestPermissionRationale not work?","body":"<p>how can use <strong>shouldShowRequestPermissionRationale</strong> before call permission and use in Activity. </p>\n\n<p>because before ActivityCompat.requestPermissions this return false</p>\n\n<pre><code>if(ActivityCompat.shouldShowRequestPermissionRationale(context,permission)){\n    // true\n}else{\n    // false (always false)\n}\n</code></pre>\n"},{"tags":["java","spring-boot","user-interface","vaadin","footer"],"answers":[{"comments":[{"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"score":0,"creation_date":1686294049,"post_id":76437121,"comment_id":134781818,"body_markdown":"Thanks for your answer, the problem with Vaadin documentation on adding a footer is that it doesn&#39;t work on my project because of `@Route(&quot;&quot;)` annotation(it&#39;s already used by MainView) and after removing it, the footer is not displayed at all. Maybe you know how to add it properly.","body":"Thanks for your answer, the problem with Vaadin documentation on adding a footer is that it doesn&#39;t work on my project because of <code>@Route(&quot;&quot;)</code> annotation(it&#39;s already used by MainView) and after removing it, the footer is not displayed at all. Maybe you know how to add it properly."}],"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686288041,"creation_date":1686283190,"answer_id":76437121,"question_id":76434788,"body_markdown":"Footer is not a feature in AppLayout. You have two options.\r\n\r\n1. Do not use AppLayout, but create your own custom layout by composing layout components to achieve the desired result. I.e. implement RouterLayout interface and showRouterLayoutContent methods. This approach will allow you to do what ever you want.\r\n\r\n2. You can also do the above so that you use AppLayout in the composition as a building block instead of extending it.\r\n\r\nSee also: https://stackoverflow.com/questions/72543362/vaadin-14-adding-footer-application-wide-to-applayout\r\n","title":"Add footer using Vaadin framework","body":"<p>Footer is not a feature in AppLayout. You have two options.</p>\n<ol>\n<li><p>Do not use AppLayout, but create your own custom layout by composing layout components to achieve the desired result. I.e. implement RouterLayout interface and showRouterLayoutContent methods. This approach will allow you to do what ever you want.</p>\n</li>\n<li><p>You can also do the above so that you use AppLayout in the composition as a building block instead of extending it.</p>\n</li>\n</ol>\n<p>See also: <a href=\"https://stackoverflow.com/questions/72543362/vaadin-14-adding-footer-application-wide-to-applayout\">Vaadin 14: Adding Footer application-wide to AppLayout</a></p>\n"},{"tags":[],"owner":{"account_id":17267487,"reputation":3,"user_id":12503874,"display_name":"Juergen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302907,"creation_date":1686302762,"answer_id":76438939,"question_id":76434788,"body_markdown":"I had the same issue. You can try this:\r\n\r\n    public class CustomLayout extends VerticalLayout implements AfterNavigationObserver, RouterLayout {\r\n    AppLayout navigation;\r\n    Div container = new Div();\r\n    Div footer = new Div();\r\n\r\n    public CustomLayout(AuthenticatedUser authenticatedUser, AccessAnnotationChecker accessChecker) {\r\n        setSpacing(false);\r\n        navigation = new Navigation(authenticatedUser, accessChecker);\r\n\r\n        container.setSizeFull();\r\n\r\n        add(navigation, container, footer);\r\n        footer.add(new Text(&quot;I&#39;m a fixed footer!&quot;));\r\n    }\r\n\r\n    public void showRouterLayoutContent(HasElement content) {\r\n        container.removeAll();\r\n        container.getElement().setChild(0, content.getElement());\r\n    }\r\n\r\n    @Override\r\n    public void afterNavigation(AfterNavigationEvent event) {\r\n        getElement().scrollIntoView();\r\n    }\r\n}\r\n\r\n\r\nAnd then inside your Views just add this:\r\n\r\n    @Route(value = &quot;your-route-path&quot;, layout = CustomLayout.class)\r\n","title":"Add footer using Vaadin framework","body":"<p>I had the same issue. You can try this:</p>\n<pre><code>public class CustomLayout extends VerticalLayout implements AfterNavigationObserver, RouterLayout {\nAppLayout navigation;\nDiv container = new Div();\nDiv footer = new Div();\n\npublic CustomLayout(AuthenticatedUser authenticatedUser, AccessAnnotationChecker accessChecker) {\n    setSpacing(false);\n    navigation = new Navigation(authenticatedUser, accessChecker);\n\n    container.setSizeFull();\n\n    add(navigation, container, footer);\n    footer.add(new Text(&quot;I'm a fixed footer!&quot;));\n}\n\npublic void showRouterLayoutContent(HasElement content) {\n    container.removeAll();\n    container.getElement().setChild(0, content.getElement());\n}\n\n@Override\npublic void afterNavigation(AfterNavigationEvent event) {\n    getElement().scrollIntoView();\n}\n</code></pre>\n<p>}</p>\n<p>And then inside your Views just add this:</p>\n<pre><code>@Route(value = &quot;your-route-path&quot;, layout = CustomLayout.class)\n</code></pre>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686302907,"creation_date":1686249331,"question_id":76434788,"body_markdown":"I want to add a footer using vaadin framework, and I don&#39;t want to add it for all pages. With header everything was easy to set, but I don&#39;t find any up-to-date documentation on how to add also a footer on all pages.\r\n\r\n\r\n```\r\npublic class MainLayout extends AppLayout {\r\n\r\n    public MainLayout() {\r\n        addHeader();\r\n        addFooter();\r\n    }\r\n\r\n    private void addHeader() {\r\n        Text text = new Text(&quot;This is a header&quot;);\r\n\r\n        HorizontalLayout header = new HorizontalLayout(text);\r\n        header.setWidth(&quot;100%&quot;);\r\n        header.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\r\n\r\n        addToNavbar(header);\r\n    }\r\n\r\n    private void addFooter() {\r\n        Text text = new Text(&quot;This is a footer&quot;);\r\n\r\n        HorizontalLayout footer = new HorizontalLayout(text);\r\n        footer.setWidth(&quot;100%&quot;);\r\n        footer.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\r\n        \r\n        // Missing method to add footer like for header\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI also tried implementing it as an extension for MainLayout and still doesn&#39;t show the footer\r\n\r\n\r\n```\r\n@ParentLayout(MainLayout.class)\r\npublic class FooterLayout extends VerticalLayout implements RouterLayout {\r\n\r\n    private final Div container = new Div();\r\n\r\n    public FooterLayout() {\r\n        Div footer = new Div();\r\n        add(container, footer);\r\n        footer.add(new Text(&quot;I&#39;m a fixed footer!&quot;));\r\n        add(footer);\r\n    }\r\n\r\n    public void showRouterLayoutContent(HasElement content) {\r\n        container.removeAll();\r\n        container.getElement().setChild(0, content.getElement());\r\n    }\r\n}\r\n```\r\n\r\nAre there any solutions for my problem ? The main idea is that header and footer should be on every page that uses MainLayout\r\n","title":"Add footer using Vaadin framework","body":"<p>I want to add a footer using vaadin framework, and I don't want to add it for all pages. With header everything was easy to set, but I don't find any up-to-date documentation on how to add also a footer on all pages.</p>\n<pre><code>public class MainLayout extends AppLayout {\n\n    public MainLayout() {\n        addHeader();\n        addFooter();\n    }\n\n    private void addHeader() {\n        Text text = new Text(&quot;This is a header&quot;);\n\n        HorizontalLayout header = new HorizontalLayout(text);\n        header.setWidth(&quot;100%&quot;);\n        header.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\n\n        addToNavbar(header);\n    }\n\n    private void addFooter() {\n        Text text = new Text(&quot;This is a footer&quot;);\n\n        HorizontalLayout footer = new HorizontalLayout(text);\n        footer.setWidth(&quot;100%&quot;);\n        footer.setDefaultVerticalComponentAlignment(FlexComponent.Alignment.CENTER);\n        \n        // Missing method to add footer like for header\n    }\n    \n}\n</code></pre>\n<p>I also tried implementing it as an extension for MainLayout and still doesn't show the footer</p>\n<pre><code>@ParentLayout(MainLayout.class)\npublic class FooterLayout extends VerticalLayout implements RouterLayout {\n\n    private final Div container = new Div();\n\n    public FooterLayout() {\n        Div footer = new Div();\n        add(container, footer);\n        footer.add(new Text(&quot;I'm a fixed footer!&quot;));\n        add(footer);\n    }\n\n    public void showRouterLayoutContent(HasElement content) {\n        container.removeAll();\n        container.getElement().setChild(0, content.getElement());\n    }\n}\n</code></pre>\n<p>Are there any solutions for my problem ? The main idea is that header and footer should be on every page that uses MainLayout</p>\n"},{"tags":["java","spring-boot","hibernate","stored-procedures","error-handling"],"owner":{"account_id":28786128,"reputation":1,"user_id":22046551,"display_name":"Steve Bang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302705,"creation_date":1686301592,"question_id":76438799,"body_markdown":"My store procedure will request is:\r\n\r\n- @USER_ID BIGINT,\r\n- @Country_Name VARCHAR(15)= NULL,\r\n- @ZONE BIT= NULL,\r\n- @STATUS BIT= 1,\r\n- @All_Rows INT OUTPUT\r\n\r\nAnd result is:\r\n\r\n     COUNTRY_ID | CONTRY_NAME | ZONE | STATUS | CACULATE_FIELD |\r\n\r\nAnd a output\r\n\r\nI call this function is:\r\n`DECLARE @All_Rows INT; usp_GetALLByUser_Id @User_ID = 201, @All_Rows = @All_Rows OUTPUT, SELECT @All_Rows;`\r\n\r\nWhen I get result in java code:\r\n\r\n    public List&lt;Contry&gt; getAllCommunitiesByUserId(Long userId) {\r\n    \r\n        StoredProcedureQuery storedProcedure = entityManager\r\n                .createStoredProcedureQuery(&quot;usp_GetAllCountry);\r\n    \r\n            storedProcedure.registerStoredProcedureParameter(&quot;User_ID&quot;, Long.class,  ParameterMode.IN);\r\n            storedProcedure.registerStoredProcedureParameter(&quot;All_Rows&quot;, Integer.class,     ParameterMode.OUT);\r\n            // Set input parameter values\r\n           storedProcedure.setParameter(&quot;User_ID&quot;, userId);\r\n            // Execute the stored procedure\r\n            storedProcedure.execute();\r\n            Object object = storedProcedure.getOutputParameterValue(&quot;All_Rows&quot;);\r\n    \r\n            // Get the output parameter value\r\n            List&lt;Object[]&gt; list = storedProcedure.getResultList();\r\n    \r\n    \r\n            return null;\r\n    }\r\n\r\nWhen I run the application, and call this function, this error is:\r\n*com.microsoft.sqlserver.jdbc.SQLServerException: The index 5 is out of range.*\r\n*Error preparing registered callable parameter*\r\n\r\nI hope any one can see this post and help me to resolve for this isue. Thannks for all.","title":"How to handle the multiple result and get the output paramater from a Store Procedure in java?","body":"<p>My store procedure will request is:</p>\n<ul>\n<li>@USER_ID BIGINT,</li>\n<li>@Country_Name VARCHAR(15)= NULL,</li>\n<li>@ZONE BIT= NULL,</li>\n<li>@STATUS BIT= 1,</li>\n<li>@All_Rows INT OUTPUT</li>\n</ul>\n<p>And result is:</p>\n<pre><code> COUNTRY_ID | CONTRY_NAME | ZONE | STATUS | CACULATE_FIELD |\n</code></pre>\n<p>And a output</p>\n<p>I call this function is:\n<code>DECLARE @All_Rows INT; usp_GetALLByUser_Id @User_ID = 201, @All_Rows = @All_Rows OUTPUT, SELECT @All_Rows;</code></p>\n<p>When I get result in java code:</p>\n<pre><code>public List&lt;Contry&gt; getAllCommunitiesByUserId(Long userId) {\n\n    StoredProcedureQuery storedProcedure = entityManager\n            .createStoredProcedureQuery(&quot;usp_GetAllCountry);\n\n        storedProcedure.registerStoredProcedureParameter(&quot;User_ID&quot;, Long.class,  ParameterMode.IN);\n        storedProcedure.registerStoredProcedureParameter(&quot;All_Rows&quot;, Integer.class,     ParameterMode.OUT);\n        // Set input parameter values\n       storedProcedure.setParameter(&quot;User_ID&quot;, userId);\n        // Execute the stored procedure\n        storedProcedure.execute();\n        Object object = storedProcedure.getOutputParameterValue(&quot;All_Rows&quot;);\n\n        // Get the output parameter value\n        List&lt;Object[]&gt; list = storedProcedure.getResultList();\n\n\n        return null;\n}\n</code></pre>\n<p>When I run the application, and call this function, this error is:\n<em>com.microsoft.sqlserver.jdbc.SQLServerException: The index 5 is out of range.</em>\n<em>Error preparing registered callable parameter</em></p>\n<p>I hope any one can see this post and help me to resolve for this isue. Thannks for all.</p>\n"},{"tags":["java","pdf","itext","pdfbox","itext7"],"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302485,"creation_date":1686294961,"question_id":76438025,"body_markdown":"I have a requirement where I need to flatten all the annotations present in the PDF. I&#39;m trying to loop through all the stamp annotations and then adding that annotation as an image in PDF directly. The code I&#39;m using is working fine for normal PDFs, but it is failing for rotated page PDFs. \r\nBelow is the code I&#39;m using to add stamp annotations to the PDF :\r\n\r\n``` \r\n        String dest = &quot;ITEXT_NEW_DOC.pdf&quot;;       \r\n\t      PdfWriter writer = new PdfWriter(dest); \r\n\t      PdfDocument pdfDoc = new PdfDocument(writer);              \r\n\t      PdfPage page = pdfDoc.addNewPage();               \r\n\t      page.setRotation(0);\r\n\t      Document document = new Document(pdfDoc);               \r\n\t      document.add(new Paragraph(&quot;Hello world, this is a test pdf file.&quot;));\r\n\t      document.close();\r\n\r\n\t\tPdfReader reader1 = new PdfReader(new File(dest));\r\n\t\tPdfDocument doc = new PdfDocument(reader1, new PdfWriter(&quot;ITEXT_STAMP_ADDED.pdf&quot;), new StampingProperties().useAppendMode());\r\n\t\tString filePath = &quot;new_rectangle.png&quot;;\r\n\r\n\t\tImageData img = ImageDataFactory.create(filePath);\r\n        PdfFormXObject xObj = new PdfFormXObject(new Rectangle(img.getWidth(), img.getHeight()));\r\n        if (rotation == 90) \r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if(rotation == 270)\r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if (rotation == 180) \r\n\t\t{\r\n\t\t\txObj.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\r\n\t\t}\r\n\t\tRectangle rect = new Rectangle(0,0,300,250);\r\n        PdfCanvas canvas = new PdfCanvas(xObj, doc);\r\n        canvas.addImageAt(img, 0, 0,false);\r\n        PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\r\n        stamp.setNormalAppearance(xObj.getPdfObject());\r\n        int flag = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\r\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\r\n        stamp.setFlags(flag);\r\n        stamp.setName(new PdfString(&quot;TestStamp1&quot;));\r\n        doc.getPage(1).addAnnotation(stamp);\r\n\r\n\t\tImageData img1 = ImageDataFactory.create(filePath);\r\n        PdfFormXObject xObj1 = new PdfFormXObject(new Rectangle(img1.getWidth(), img1.getHeight()));\r\n        if (rotation == 90) \r\n\t\t{\r\n        \txObj1.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if(rotation == 270)\r\n\t\t{\r\n\t\t\txObj1.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\r\n\t\t}\r\n\t\telse if (rotation == 180) \r\n\t\t{\r\n\t\t\txObj1.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\r\n\t\t}\r\n\t\tRectangle rect1 = new Rectangle(100,400,300,250);\r\n        PdfCanvas canvas1 = new PdfCanvas(xObj1, doc);\r\n        canvas1.addImageAt(img1, 0, 0,false);\r\n        PdfStampAnnotation stamp1 = new PdfStampAnnotation(rect1);\r\n        stamp1.setNormalAppearance(xObj1.getPdfObject());\r\n        int flag1 = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\r\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\r\n        stamp1.setFlags(flag1);\r\n        stamp1.setName(new PdfString(&quot;TestStamp2&quot;));\r\n        doc.getPage(1).addAnnotation(stamp1);\r\n\r\n        \r\n        doc.close();\r\n\t\r\n        System.out.println(&quot;COMPLETED&quot;);\r\n```\r\n\r\nOnce the stamp added PDF is created, I&#39;m using the below code to flatten them:\r\n\r\n```\r\n\r\n\t\t  String src=&quot;ITEXT_STAMP_ADDED.pdf&quot;;\r\n\t\t  String dest=&quot;ITEXT_STAMP_FLATTENED.pdf&quot;;\r\n\t        PdfDocument pdfDocument = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\r\n\t        Document document = new Document(pdfDocument);\r\n\r\n\t        for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) \r\n\t        {\r\n\t            PdfPage page = pdfDocument.getPage(i);\r\n\t            PdfCanvas canvas = new PdfCanvas(page);\r\n\t            List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\r\n\t            for (PdfAnnotation annot : annotations) \r\n\t            {\r\n\t            \tif(annot instanceof PdfStampAnnotation)\r\n\t            \t{\r\n\t            \t\tPdfDictionary appearanceObject = annot.getAppearanceObject(PdfName.N);\r\n\t            \t\tif (appearanceObject != null) \r\n\t            \t\t{\r\n\t            \t\t\tPdfFormXObject appearanceXObj = new PdfFormXObject((PdfStream) appearanceObject.clone());\r\n\t            \t\t\tRectangle rect = annot.getRectangle().toRectangle();\r\n\t            \t\t\tcanvas.addXObjectFittedIntoRectangle(appearanceXObj, rect);\r\n//using addXObject was not working at all, so used fit into rectangle.\r\n//\t                    canvas.addXObject(appearanceXObj, rect.getX(), rect.getY());\r\n\t            \t\t\tpage.removeAnnotation(annot);\r\n\t            \t\t}\r\n\t            \t}\r\n\t            }\r\n\t        }\r\n\t        //Flatten the acroform\r\n\t        PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDocument, true);\r\n\t        form.flattenFields();\r\n\t        document.close();\r\n\t        System.out.println(&quot;COMPLETED&quot;);\t  \r\n```\r\n\r\nThe above code is fine for normal pdfs, but for rotated PDFs this isn&#39;t working fine. I&#39;m getting the rotated images in the resulting PDF. Can anyone let us know what can be done so that the input PDF and the resulting PDF should looks same?\r\n\r\nI&#39;m even ok with using PDFBox to achieve this.\r\n\r\nAttaching the files generated and images used:\r\n\r\n[new_rectangle.png][1]\r\n\r\n[ITEXT_0_STAMP_ADDED.pdf][4]\r\n\r\n[ITEXT_0_STAMP_FLATTENED.pdf][3]\r\n\r\n[ITEXT_180_STAMP_ADDED.pdf][7]\r\n\r\n[ITEXT_180_STAMP_FLATTENED.pdf][5]\r\n\r\n[ITEXT_270_STAMP_ADDED.pdf][2]\r\n\r\n[ITEXT_270_STAMP_FLATTENED.pdf][6]\r\n\r\n\r\nAll the above code is in IText-7.2.3 version.\r\n\r\n  [1]: https://drive.google.com/file/d/1IDHzR3Qkao99B0XjHeodPNTKhLxegBtx/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1KXy29tm-wkGQs5Kt81a5aAlk9MQRxkSm/view?usp=sharing\r\n  [3]: https://drive.google.com/file/d/1MZNxmXe2gYZTcfjVJ02hGAyhOO2RdsSL/view?usp=sharing\r\n  [4]: https://drive.google.com/file/d/1QqxVf_wRePpJxDyq8vhQxUH83e7bP1zS/view?usp=sharing\r\n  [5]: https://drive.google.com/file/d/1XPd0TZQTFrwUSUcUiEPRI4E7tVTIoG5f/view?usp=sharing\r\n  [6]: https://drive.google.com/file/d/1aoBxTVaxTk_0OVHmq5ZA4QeEbV--hioU/view?usp=sharing\r\n  [7]: https://drive.google.com/file/d/1lhzDjoLclP2BgcgdiH07MJES3JxfCXL9/view?usp=sharing","title":"Issue while flattening annotations in a pdf using Itext or PDFBox. Currently I&#39;m trying using IText 7.2.3","body":"<p>I have a requirement where I need to flatten all the annotations present in the PDF. I'm trying to loop through all the stamp annotations and then adding that annotation as an image in PDF directly. The code I'm using is working fine for normal PDFs, but it is failing for rotated page PDFs.\nBelow is the code I'm using to add stamp annotations to the PDF :</p>\n<pre><code>        String dest = &quot;ITEXT_NEW_DOC.pdf&quot;;       \n          PdfWriter writer = new PdfWriter(dest); \n          PdfDocument pdfDoc = new PdfDocument(writer);              \n          PdfPage page = pdfDoc.addNewPage();               \n          page.setRotation(0);\n          Document document = new Document(pdfDoc);               \n          document.add(new Paragraph(&quot;Hello world, this is a test pdf file.&quot;));\n          document.close();\n\n        PdfReader reader1 = new PdfReader(new File(dest));\n        PdfDocument doc = new PdfDocument(reader1, new PdfWriter(&quot;ITEXT_STAMP_ADDED.pdf&quot;), new StampingProperties().useAppendMode());\n        String filePath = &quot;new_rectangle.png&quot;;\n\n        ImageData img = ImageDataFactory.create(filePath);\n        PdfFormXObject xObj = new PdfFormXObject(new Rectangle(img.getWidth(), img.getHeight()));\n        if (rotation == 90) \n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\n        }\n        else if(rotation == 270)\n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\n        }\n        else if (rotation == 180) \n        {\n            xObj.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\n        }\n        Rectangle rect = new Rectangle(0,0,300,250);\n        PdfCanvas canvas = new PdfCanvas(xObj, doc);\n        canvas.addImageAt(img, 0, 0,false);\n        PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\n        stamp.setNormalAppearance(xObj.getPdfObject());\n        int flag = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\n        stamp.setFlags(flag);\n        stamp.setName(new PdfString(&quot;TestStamp1&quot;));\n        doc.getPage(1).addAnnotation(stamp);\n\n        ImageData img1 = ImageDataFactory.create(filePath);\n        PdfFormXObject xObj1 = new PdfFormXObject(new Rectangle(img1.getWidth(), img1.getHeight()));\n        if (rotation == 90) \n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{0, 1, -1, 0, 0, 0}));\n        }\n        else if(rotation == 270)\n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{0,  -1, 1, 0, 0, 0}));\n        }\n        else if (rotation == 180) \n        {\n            xObj1.put(PdfName.Matrix, new PdfArray(new int[]{-1, 0, 0, -1, 0, 0}));\n        }\n        Rectangle rect1 = new Rectangle(100,400,300,250);\n        PdfCanvas canvas1 = new PdfCanvas(xObj1, doc);\n        canvas1.addImageAt(img1, 0, 0,false);\n        PdfStampAnnotation stamp1 = new PdfStampAnnotation(rect1);\n        stamp1.setNormalAppearance(xObj1.getPdfObject());\n        int flag1 = PdfAnnotation.LOCKED_CONTENTS | PdfAnnotation.READ_ONLY\n                | PdfAnnotation.LOCKED | PdfAnnotation.PRINT ;\n        stamp1.setFlags(flag1);\n        stamp1.setName(new PdfString(&quot;TestStamp2&quot;));\n        doc.getPage(1).addAnnotation(stamp1);\n\n        \n        doc.close();\n    \n        System.out.println(&quot;COMPLETED&quot;);\n</code></pre>\n<p>Once the stamp added PDF is created, I'm using the below code to flatten them:</p>\n<pre><code>\n          String src=&quot;ITEXT_STAMP_ADDED.pdf&quot;;\n          String dest=&quot;ITEXT_STAMP_FLATTENED.pdf&quot;;\n            PdfDocument pdfDocument = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\n            Document document = new Document(pdfDocument);\n\n            for (int i = 1; i &lt;= pdfDocument.getNumberOfPages(); i++) \n            {\n                PdfPage page = pdfDocument.getPage(i);\n                PdfCanvas canvas = new PdfCanvas(page);\n                List&lt;PdfAnnotation&gt; annotations = page.getAnnotations();\n                for (PdfAnnotation annot : annotations) \n                {\n                    if(annot instanceof PdfStampAnnotation)\n                    {\n                        PdfDictionary appearanceObject = annot.getAppearanceObject(PdfName.N);\n                        if (appearanceObject != null) \n                        {\n                            PdfFormXObject appearanceXObj = new PdfFormXObject((PdfStream) appearanceObject.clone());\n                            Rectangle rect = annot.getRectangle().toRectangle();\n                            canvas.addXObjectFittedIntoRectangle(appearanceXObj, rect);\n//using addXObject was not working at all, so used fit into rectangle.\n//                      canvas.addXObject(appearanceXObj, rect.getX(), rect.getY());\n                            page.removeAnnotation(annot);\n                        }\n                    }\n                }\n            }\n            //Flatten the acroform\n            PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDocument, true);\n            form.flattenFields();\n            document.close();\n            System.out.println(&quot;COMPLETED&quot;);      \n</code></pre>\n<p>The above code is fine for normal pdfs, but for rotated PDFs this isn't working fine. I'm getting the rotated images in the resulting PDF. Can anyone let us know what can be done so that the input PDF and the resulting PDF should looks same?</p>\n<p>I'm even ok with using PDFBox to achieve this.</p>\n<p>Attaching the files generated and images used:</p>\n<p><a href=\"https://drive.google.com/file/d/1IDHzR3Qkao99B0XjHeodPNTKhLxegBtx/view?usp=sharing\" rel=\"nofollow noreferrer\">new_rectangle.png</a></p>\n<p><a href=\"https://drive.google.com/file/d/1QqxVf_wRePpJxDyq8vhQxUH83e7bP1zS/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_0_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1MZNxmXe2gYZTcfjVJ02hGAyhOO2RdsSL/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_0_STAMP_FLATTENED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1lhzDjoLclP2BgcgdiH07MJES3JxfCXL9/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_180_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1XPd0TZQTFrwUSUcUiEPRI4E7tVTIoG5f/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_180_STAMP_FLATTENED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1KXy29tm-wkGQs5Kt81a5aAlk9MQRxkSm/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_270_STAMP_ADDED.pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1aoBxTVaxTk_0OVHmq5ZA4QeEbV--hioU/view?usp=sharing\" rel=\"nofollow noreferrer\">ITEXT_270_STAMP_FLATTENED.pdf</a></p>\n<p>All the above code is in IText-7.2.3 version.</p>\n"},{"tags":["java","mockito","deprecated"],"answers":[{"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1681127205,"post_id":41909594,"comment_id":134002319,"body_markdown":"And I did wonder why mine is NOT deprecated ;-)","body":"And I did wonder why mine is NOT deprecated ;-)"}],"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":1,"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1539168178,"creation_date":1485605132,"answer_id":41909594,"question_id":41909538,"body_markdown":"[`org.mockito.runners.MockitoJUnitRunner`][1] is now indeed deprecated, you are supposed to use [`org.mockito.junit.MockitoJUnitRunner`][2] instead. As you can see only the package name has changed, the simple name of the class is still **`MockitoJUnitRunner`**.\r\n\r\nExcerpt from the javadoc of `org.mockito.runners.MockitoJUnitRunner`:\r\n\r\n&gt; Moved to [`MockitoJUnitRunner`][2], this class will be removed with\r\n&gt; Mockito 3\r\n\r\n\r\n  [1]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\r\n  [2]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html","title":"MockitoJUnitRunner is deprecated","body":"<p><a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.runners.MockitoJUnitRunner</code></a> is now indeed deprecated, you are supposed to use <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.junit.MockitoJUnitRunner</code></a> instead. As you can see only the package name has changed, the simple name of the class is still <strong><code>MockitoJUnitRunner</code></strong>.</p>\n\n<p>Excerpt from the javadoc of <code>org.mockito.runners.MockitoJUnitRunner</code>:</p>\n\n<blockquote>\n  <p>Moved to <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>MockitoJUnitRunner</code></a>, this class will be removed with\n  Mockito 3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":0,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1512766763,"creation_date":1485606595,"answer_id":41909801,"question_id":41909538,"body_markdown":"You can try this:\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nBecause you add `@Before` annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add `@BeforeCLass`\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try this:</p>\n\n<pre><code>@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>Because you add <code>@Before</code> annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add <code>@BeforeCLass</code></p>\n"},{"tags":[],"owner":{"account_id":9605894,"reputation":373,"user_id":7131969,"display_name":"git pull origin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510063423,"creation_date":1510063423,"answer_id":47159903,"question_id":41909538,"body_markdown":"There is also a `@Rule` option:\r\n\r\n    @Rule \r\n    public MockitoRule rule = MockitoJUnit.rule();\r\n\r\nOr in Kotlin:\r\n\r\n    @get:Rule\r\n    var rule = MockitoJUnit.rule()","title":"MockitoJUnitRunner is deprecated","body":"<p>There is also a <code>@Rule</code> option:</p>\n\n<pre><code>@Rule \npublic MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>@get:Rule\nvar rule = MockitoJUnit.rule()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574068084,"creation_date":1573206006,"answer_id":58763984,"question_id":41909538,"body_markdown":"You can try importing the following:\r\n\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n\r\nAlso, if you are using ***Eclipse***, just press **Ctrl + Shift + O** and it will auto import it.","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try importing the following:</p>\n\n<pre><code>import org.mockito.runners.MockitoJUnitRunner;\n</code></pre>\n\n<p>Also, if you are using <strong><em>Eclipse</em></strong>, just press <strong>Ctrl + Shift + O</strong> and it will auto import it.</p>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610009502,"creation_date":1610004486,"answer_id":65608188,"question_id":41909538,"body_markdown":"I managed to fix this when I updated the dependencies to the latest versions in my case:\r\n\r\n    def mockito_version = &#39;2.28.2&#39;\r\n\r\n    // For local unit tests on your development machine\r\n    testImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\r\n\r\n    // For instrumentation tests on Android devices and emulators\r\n    androidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\r\n\r\nThen I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\r\nfrom \r\n\r\n    import org.mockito.runners.MockitoJUnitRunner; \r\n\r\nto\r\n\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>I managed to fix this when I updated the dependencies to the latest versions in my case:</p>\n<pre><code>def mockito_version = '2.28.2'\n\n// For local unit tests on your development machine\ntestImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\n\n// For instrumentation tests on Android devices and emulators\nandroidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\n</code></pre>\n<p>Then I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\nfrom</p>\n<pre><code>import org.mockito.runners.MockitoJUnitRunner; \n</code></pre>\n<p>to</p>\n<pre><code>import org.mockito.junit.MockitoJUnitRunner;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20071835,"reputation":127,"user_id":14716403,"display_name":"Bartek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302380,"creation_date":1686302380,"answer_id":76438898,"question_id":41909538,"body_markdown":"JunitRunner worked, thank you all","title":"MockitoJUnitRunner is deprecated","body":"<p>JunitRunner worked, thank you all</p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61251,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":41909594,"answer_count":6,"score":81,"last_activity_date":1686302380,"creation_date":1485604725,"question_id":41909538,"body_markdown":"I&#39;m trying to make a unit test with `@InjectMocks` and `@Mock`.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProblemDefinitionTest {\r\n    \r\n        @InjectMocks\r\n        ProblemDefinition problemDefinition;\r\n    \r\n        @Mock\r\n        Matrix matrixMock;    \r\n       \r\n        @Test\r\n        public void sanityCheck() {\r\n            Assert.assertNotNull(problemDefinition);\r\n            Assert.assertNotNull(matrixMock);\r\n        }\r\n    }\r\n\r\nWhen I don&#39;t include the `@RunWith` annotation, the test fails. But\r\n\r\n&gt; The type MockitoJUnitRunner is deprecated\r\n\r\nI&#39;m using Mockito 2.6.9. How should I go about this?","title":"MockitoJUnitRunner is deprecated","body":"<p>I'm trying to make a unit test with <code>@InjectMocks</code> and <code>@Mock</code>.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ProblemDefinitionTest {\n\n    @InjectMocks\n    ProblemDefinition problemDefinition;\n\n    @Mock\n    Matrix matrixMock;    \n\n    @Test\n    public void sanityCheck() {\n        Assert.assertNotNull(problemDefinition);\n        Assert.assertNotNull(matrixMock);\n    }\n}\n</code></pre>\n\n<p>When I don't include the <code>@RunWith</code> annotation, the test fails. But</p>\n\n<blockquote>\n  <p>The type MockitoJUnitRunner is deprecated</p>\n</blockquote>\n\n<p>I'm using Mockito 2.6.9. How should I go about this?</p>\n"},{"tags":["java","annotations","mapstruct","annotation-processing","feign"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686258201,"post_id":76435326,"comment_id":134778304,"body_markdown":"Are you asking how an implementation of [`java.lang.annotation.Annotation`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html) is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does `@Inject` from CDI allow dependencies to be injected)?","body":"Are you asking how an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html\" rel=\"nofollow noreferrer\"><code>java.lang.annotation.Annotation</code></a> is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does <code>@Inject</code> from CDI allow dependencies to be injected)?"},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686319563,"post_id":76435326,"comment_id":134786757,"body_markdown":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing.","body":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340322,"post_id":76435326,"comment_id":134790696,"body_markdown":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at _compile-time_, then an implementation of [`Processor`](https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html) must be present during compilation. If it&#39;s an annotation processed at _run-time_, then some code somewhere is calling methods like [`getAnnotation(Class)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)) and acting accordingly.","body":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at <i>compile-time</i>, then an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\"><code>Processor</code></a> must be present during compilation. If it&#39;s an annotation processed at <i>run-time</i>, then some code somewhere is calling methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>getAnnotation(Class)</code></a> and acting accordingly."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340506,"post_id":76435326,"comment_id":134790729,"body_markdown":"And if it&#39;s [an agent](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html) that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps.","body":"And if it&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">an agent</a> that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps."},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686689541,"post_id":76435326,"comment_id":134833313,"body_markdown":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer.","body":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer."}],"answers":[{"comments":[{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686319784,"post_id":76435682,"comment_id":134786808,"body_markdown":"Yes. I&#39;m looking for the implementation classes. In Eclipse I can go to an own implementation class from an interface using Ctrl + Clikc, but I cannot do that with thrid party libraries annotations.","body":"Yes. I&#39;m looking for the implementation classes. In Eclipse I can go to an own implementation class from an interface using Ctrl + Clikc, but I cannot do that with thrid party libraries annotations."}],"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302216,"creation_date":1686258287,"answer_id":76435682,"question_id":76435326,"body_markdown":"Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.\r\n\r\nFor example, MapStruct goes through all the classes and handles those with a `@Mapper` Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. `@Mapper(componentModel = &quot;spring&quot;)`). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.\r\n\r\nIn JavaEE Context, it is basically the same thing, it&#39;s just that the injection is achieved a bit differently (e.g. CDI).\r\n\r\nI have no experience with `feign`, but I think it should use a similar approach.","title":"Java annotation implementation logic","body":"<p>Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.</p>\n<p>For example, MapStruct goes through all the classes and handles those with a <code>@Mapper</code> Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. <code>@Mapper(componentModel = &quot;spring&quot;)</code>). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.</p>\n<p>In JavaEE Context, it is basically the same thing, it's just that the injection is achieved a bit differently (e.g. CDI).</p>\n<p>I have no experience with <code>feign</code>, but I think it should use a similar approach.</p>\n"}],"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302216,"creation_date":1686254473,"question_id":76435326,"body_markdown":"I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?\r\n\r\nThanks.\r\n\r\nKnow how Java generates an implementation for an interface in runtime.","title":"Java annotation implementation logic","body":"<p>I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?</p>\n<p>Thanks.</p>\n<p>Know how Java generates an implementation for an interface in runtime.</p>\n"},{"tags":["java","spring-boot","drools"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686143819,"post_id":76423457,"comment_id":134758612,"body_markdown":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that.","body":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that."},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686151834,"post_id":76423457,"comment_id":134760712,"body_markdown":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured","body":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1686162823,"post_id":76423457,"comment_id":134762897,"body_markdown":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing.","body":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686203558,"post_id":76423457,"comment_id":134767540,"body_markdown":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it).","body":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it)."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1686229687,"post_id":76423457,"comment_id":134772541,"body_markdown":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said","body":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686246297,"post_id":76423457,"comment_id":134776309,"body_markdown":"I have added the drools dependencies, can you all please help me now?","body":"I have added the drools dependencies, can you all please help me now?"}],"answers":[{"tags":[],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302140,"creation_date":1686302140,"answer_id":76438865,"question_id":76423457,"body_markdown":"Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with `@Entity` and other JPA related annotations. This was causing ths issue.","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with <code>@Entity</code> and other JPA related annotations. This was causing ths issue.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302140,"creation_date":1686141943,"question_id":76423457,"body_markdown":"I am using drools in my project. For some reason, drools is expecing the class `org.springframework.jdbc.core.RowMapper`. This solves if I include `spring-jdbc` depencency, but I don&#39;t have any database configured so my app doesn&#39;t start. \r\nWhy does drools need `spring-jdbc`? Please help\r\n\r\nUPDATE: I tried this with an older version of drools by using `drools-compiler` dependency (from [this][1] tutorial). I got the same exception. \r\n\r\nBelow are my drools dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is how I am setting it up:\r\n\r\n```\r\npublic class DroolsBeanFactory {\r\n    private KieServices kieServices = KieServices.Factory.get();\r\n\r\n    private void getKieRepository() {\r\n        final KieRepository kieRepository = kieServices.getRepository();\r\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\r\n    }\r\n\r\n    public KieSession getKieSession(String droolsFilePath){\r\n        getKieRepository();\r\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n\r\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\r\n\r\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\r\n        kb.buildAll();\r\n        KieModule kieModule = kb.getKieModule();\r\n\r\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\r\n\r\n        return kContainer.newKieSession();\r\n    }\r\n}\r\n```\r\n\r\nBelow is the exception I am getting\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;someService&#39; defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\r\n\tat com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 18 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\r\n\tat java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\t... 38 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: null\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\r\n\t... 40 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 40 common frames omitted\r\n```\r\n\r\n\r\n  [1]: https://www.javainuse.com/drools_hello","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>I am using drools in my project. For some reason, drools is expecing the class <code>org.springframework.jdbc.core.RowMapper</code>. This solves if I include <code>spring-jdbc</code> depencency, but I don't have any database configured so my app doesn't start.\nWhy does drools need <code>spring-jdbc</code>? Please help</p>\n<p>UPDATE: I tried this with an older version of drools by using <code>drools-compiler</code> dependency (from <a href=\"https://www.javainuse.com/drools_hello\" rel=\"nofollow noreferrer\">this</a> tutorial). I got the same exception.</p>\n<p>Below are my drools dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is how I am setting it up:</p>\n<pre><code>public class DroolsBeanFactory {\n    private KieServices kieServices = KieServices.Factory.get();\n\n    private void getKieRepository() {\n        final KieRepository kieRepository = kieServices.getRepository();\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\n    }\n\n    public KieSession getKieSession(String droolsFilePath){\n        getKieRepository();\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\n\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\n        kb.buildAll();\n        KieModule kieModule = kb.getKieModule();\n\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\n\n        return kContainer.newKieSession();\n    }\n}\n</code></pre>\n<p>Below is the exception I am getting</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'someService' defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 16 common frames omitted\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\n    at com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 18 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\n    at java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    ... 38 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\n    ... 40 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\n    at org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\n    at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":21977509,"reputation":11,"user_id":16253098,"display_name":"Didier Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302118,"creation_date":1686302118,"question_id":76438862,"body_markdown":"I&#39;ve these classes :\r\n\r\n\r\n```\r\npublic class InventoryItemTbEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;UUID&quot;)\r\n    private UUID uuid;\r\n    ....\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity locationChangeAudit;\r\n\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity dispositionChangeAudit;\r\n\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\r\n    })    @Embedded\r\n    private RowAuditEntity changeAudit;\r\n```\r\nand\r\n```\r\n@Embeddable\r\npublic class RowAuditEntity {\r\n\r\n    @Nonnull\r\n    protected String program;\r\n\r\n    @Nonnull\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    protected OffsetDateTime date;\r\n\r\n    @Nonnull\r\n    protected String userid;\r\n```\r\n\r\nBut I get an issue when the EntityManagerFactory is initialized. \r\nIssue is ``` Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column &#39;userid&#39; is duplicated in mapping for entity &#39;xxx.jpa.inventory.item.InventoryItemTbEntity&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column) ```\r\n\r\nI&#39;m using Hibernate ORM core version 6.1.6.Final.\r\nIt seems Hibernate don&#39;t recognise @AttributeOverrides/@AttributeOverride annotation.\r\n\r\nI already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.\r\n\r\nCan someone help me with ? \r\n\r\n@AttributeOverrides/@AttributeOverride should be interpreted by hibernate","title":"duplicated column in jpa mapping when using @AttributeOverride for embeddedClasses","body":"<p>I've these classes :</p>\n<pre><code>public class InventoryItemTbEntity {\n\n    @Id\n    @Column(name = &quot;UUID&quot;)\n    private UUID uuid;\n    ....\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity locationChangeAudit;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity dispositionChangeAudit;\n\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\n    })    @Embedded\n    private RowAuditEntity changeAudit;\n</code></pre>\n<p>and</p>\n<pre><code>@Embeddable\npublic class RowAuditEntity {\n\n    @Nonnull\n    protected String program;\n\n    @Nonnull\n    @Temporal(TemporalType.TIMESTAMP)\n    protected OffsetDateTime date;\n\n    @Nonnull\n    protected String userid;\n</code></pre>\n<p>But I get an issue when the EntityManagerFactory is initialized.\nIssue is <code>Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'userid' is duplicated in mapping for entity 'xxx.jpa.inventory.item.InventoryItemTbEntity' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</code></p>\n<p>I'm using Hibernate ORM core version 6.1.6.Final.\nIt seems Hibernate don't recognise @AttributeOverrides/@AttributeOverride annotation.</p>\n<p>I already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.</p>\n<p>Can someone help me with ?</p>\n<p>@AttributeOverrides/@AttributeOverride should be interpreted by hibernate</p>\n"},{"tags":["java","maven","junit","jacoco","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":15229857,"reputation":27,"user_id":10989294,"display_name":"charlyne"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1564129293,"creation_date":1564129293,"answer_id":57215946,"question_id":53983849,"body_markdown":"maybe you can try this:\r\nadd &lt;dependency&gt; child3 itself in child3&#39;s pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n    &lt;artifactId&gt;child3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>maybe you can try this:\nadd  child3 itself in child3's pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;XXXX&lt;/groupId&gt;\n&lt;artifactId&gt;child3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1331177,"reputation":91,"user_id":8890369,"display_name":"Omar.R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566385480,"creation_date":1566385480,"answer_id":57590204,"question_id":53983849,"body_markdown":"I&#39;ve encounter the same issue when implementing Jacoco for a Maven project.\r\nUnfortunately, I&#39;m afraid that the only solution is adding a new child module to the Maven project. \r\nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\r\nSo, you should have something like below configuration:\r\n\r\n    parent --&gt; Goal: Prepare agent\r\n       child1 --&gt; Goal: report\r\n       child2 --&gt; Goal: report\r\n       child3-report --&gt; Goal: report\r\n       child4-Aggregator --&gt; Goal: report-aggregate\r\n\r\nIn your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.\r\n\r\n\r\n\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I've encounter the same issue when implementing Jacoco for a Maven project.\nUnfortunately, I'm afraid that the only solution is adding a new child module to the Maven project. \nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\nSo, you should have something like below configuration:</p>\n\n<pre><code>parent --&gt; Goal: Prepare agent\n   child1 --&gt; Goal: report\n   child2 --&gt; Goal: report\n   child3-report --&gt; Goal: report\n   child4-Aggregator --&gt; Goal: report-aggregate\n</code></pre>\n\n<p>In your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.</p>\n"},{"tags":[],"owner":{"account_id":1100999,"reputation":11,"user_id":1093400,"display_name":"user1093400"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591747070,"creation_date":1591732420,"answer_id":62290791,"question_id":53983849,"body_markdown":"What I did is adding a report goal to include the report of the module itself.\r\n\r\n    &lt;execution&gt;\r\n      &lt;id&gt;report-unit-tests&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;report&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>What I did is adding a report goal to include the report of the module itself.</p>\n\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;report-unit-tests&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;report&lt;/goal&gt;\n  &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591809425,"creation_date":1591809425,"answer_id":62309382,"question_id":53983849,"body_markdown":"There are multiple issues raised (https://github.com/jacoco/jacoco/issues/812) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. \r\n\r\nThere is also a pending PR (https://github.com/jacoco/jacoco/pull/1007). ","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>There are multiple issues raised (<a href=\"https://github.com/jacoco/jacoco/issues/812\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/issues/812</a>) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. </p>\n\n<p>There is also a pending PR (<a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/pull/1007</a>). </p>\n"},{"tags":[],"owner":{"account_id":493973,"reputation":33,"user_id":1103591,"display_name":"imsandli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686302090,"creation_date":1686302090,"answer_id":76438856,"question_id":53983849,"body_markdown":"The [PR](https://github.com/jacoco/jacoco/pull/1007) @sidgate mentioned is merged. Now you can configure it in maven like:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nConsider also the [documentation](https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject).","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>The <a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">PR</a> @sidgate mentioned is merged. Now you can configure it in maven like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Consider also the <a href=\"https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62309382,"answer_count":5,"score":2,"last_activity_date":1686302090,"creation_date":1546233474,"question_id":53983849,"body_markdown":"I have a multi-module maven project. \r\n\r\n    parent\r\n       child1\r\n       child2\r\n       child3-report\r\n\r\nAll child projects have unit tests, and `child3` depends on `child1` and `child2`. Following the pom for child3\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;0.8.2&lt;/version&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;report-aggregate&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThe jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?\r\n\r\nDon&#39;t want to create fourth submodule just for reports.\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I have a multi-module maven project. </p>\n\n<pre><code>parent\n   child1\n   child2\n   child3-report\n</code></pre>\n\n<p>All child projects have unit tests, and <code>child3</code> depends on <code>child1</code> and <code>child2</code>. Following the pom for child3</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n     &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;0.8.2&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?</p>\n\n<p>Don't want to create fourth submodule just for reports.</p>\n"},{"tags":["java","mongodb","micronaut"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1686382895,"post_id":76438362,"comment_id":134793890,"body_markdown":"you need to specify the collection name on the entity `Recipe` class and annotate it with `@MappedEntity` and specify the collection name in the annotation","body":"you need to specify the collection name on the entity <code>Recipe</code> class and annotate it with <code>@MappedEntity</code> and specify the collection name in the annotation"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686516058,"post_id":76438362,"comment_id":134805468,"body_markdown":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!","body":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686595256,"post_id":76438362,"comment_id":134817560,"body_markdown":"@deadshot I treid annotate the ```@MappedEntity``` annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?","body":"@deadshot I treid annotate the <code>@MappedEntity</code> annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1686634028,"post_id":76438362,"comment_id":134821874,"body_markdown":"you can provide collection name like this `@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)`","body":"you can provide collection name like this <code>@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)</code>"}],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302062,"creation_date":1686297971,"question_id":76438362,"body_markdown":"I&#39;m trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn&#39;t return my saved items.\r\nI&#39;m using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut. \r\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.\r\n\r\nThe Problem, I think, is that Micronaut doesn&#39;t fetch the right collection so it never returns anything.\r\n\r\nI tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.\r\n\r\nI don&#39;t really want to use the bare MongoClient and write the whole Repository myself, thats why I&#39;m looking for a way to pass the collection name into the auto-generated repository.\r\n\r\nMy Repo Looks like this, I&#39;m passing the connection string via application.yml:\r\n```\r\n@MongoRepository(databaseName = &quot;recipes&quot;)\r\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\r\n\r\n    //case-insensitive search using collations\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\r\n    List&lt;Recipe&gt; findByName(String name);\r\n\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\r\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\r\n}\r\n```\r\n\r\nAfter some research I found this class on Micronauts GitHub repo:\r\n\r\n```\r\n@Experimental\r\npublic interface MongoCollectionNameProvider {\r\n\r\n    /**\r\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\r\n     * @param persistentEntity The persistent entity that is associated to the collection\r\n     * @return The collection name\r\n     */\r\n    @NonNull\r\n    String provide(@NonNull PersistentEntity persistentEntity);\r\n\r\n}\r\n```\r\n\r\nBut I&#39;m not sure how I can use it","title":"Setting MongoDb collection name with Micronaut Annotation","body":"<p>I'm trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn't return my saved items.\nI'm using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut.\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.</p>\n<p>The Problem, I think, is that Micronaut doesn't fetch the right collection so it never returns anything.</p>\n<p>I tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.</p>\n<p>I don't really want to use the bare MongoClient and write the whole Repository myself, thats why I'm looking for a way to pass the collection name into the auto-generated repository.</p>\n<p>My Repo Looks like this, I'm passing the connection string via application.yml:</p>\n<pre><code>@MongoRepository(databaseName = &quot;recipes&quot;)\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\n\n    //case-insensitive search using collations\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\n    List&lt;Recipe&gt; findByName(String name);\n\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\n}\n</code></pre>\n<p>After some research I found this class on Micronauts GitHub repo:</p>\n<pre><code>@Experimental\npublic interface MongoCollectionNameProvider {\n\n    /**\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\n     * @param persistentEntity The persistent entity that is associated to the collection\n     * @return The collection name\n     */\n    @NonNull\n    String provide(@NonNull PersistentEntity persistentEntity);\n\n}\n</code></pre>\n<p>But I'm not sure how I can use it</p>\n"},{"tags":["java","apache-flink","serviceloader","shardingsphere"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686301596,"post_id":76438793,"comment_id":134783137,"body_markdown":"Show us the code and the error you&#39;re getting","body":"Show us the code and the error you&#39;re getting"},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302010,"post_id":76438793,"comment_id":134783203,"body_markdown":"@Jorn edited question, added some context","body":"@Jorn edited question, added some context"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686302429,"post_id":76438793,"comment_id":134783275,"body_markdown":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown.","body":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302936,"post_id":76438793,"comment_id":134783375,"body_markdown":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class.","body":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class."}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686301969,"creation_date":1686301547,"question_id":76438793,"body_markdown":"When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.\r\n\r\nI am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn&#39;t be feasible, what&#39;s the correct way to do this?\r\n\r\nEDIT:\r\n\r\nShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn&#39;t loaded.\r\n```\r\n Collection&lt;T&gt; foundRules = findRules(clazz);\r\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\r\n        return foundRules.iterator().next(); \r\n```\r\n```\r\njava.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:591)\r\n\tat org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\r\n\tat org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\r\n\tat org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\r\n\tat com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\r\n\tat org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is how ShardignSphere SPI loads its dependencies:\r\n```\r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n```\r\npublic final class ShardingSphereServiceLoader&lt;T&gt; {\r\n    \r\n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    private final Class&lt;T&gt; serviceInterface;\r\n    \r\n    @Getter\r\n    private final Collection&lt;T&gt; services;\r\n    \r\n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\r\n        this.serviceInterface = serviceInterface;\r\n        validate();\r\n        services = load();\r\n    }\r\n    \r\n    private void validate() {\r\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\r\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\r\n    }\r\n    \r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Get service instances.\r\n     *\r\n     * @param serviceInterface service interface\r\n     * @param &lt;T&gt; type of service interface\r\n     * @return service instances\r\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\r\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\r\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getServiceInstances() {\r\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\r\n    }\r\n    \r\n    @SneakyThrows(ReflectiveOperationException.class)\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private Collection&lt;T&gt; createNewServiceInstances() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (Object each : services) {\r\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getSingletonServiceInstances() {\r\n        return services;\r\n    }\r\n}\r\n\r\n","title":"Can&#39;t access ServiceLoader from Flink Taskmanager Node","body":"<p>When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.</p>\n<p>I am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn't be feasible, what's the correct way to do this?</p>\n<p>EDIT:</p>\n<p>ShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn't loaded.</p>\n<pre><code> Collection&lt;T&gt; foundRules = findRules(clazz);\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\n        return foundRules.iterator().next(); \n</code></pre>\n<pre><code>java.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:591)\n    at org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\n    at org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\n    at org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\n    at org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\n    at com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\n    at com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\n    at org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is how ShardignSphere SPI loads its dependencies:</p>\n<pre><code>    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>public final class ShardingSphereServiceLoader&lt;T&gt; {\n    \n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\n    \n    private final Class&lt;T&gt; serviceInterface;\n    \n    @Getter\n    private final Collection&lt;T&gt; services;\n    \n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\n        this.serviceInterface = serviceInterface;\n        validate();\n        services = load();\n    }\n    \n    private void validate() {\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\n    }\n    \n    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n    \n    /**\n     * Get service instances.\n     *\n     * @param serviceInterface service interface\n     * @param &lt;T&gt; type of service interface\n     * @return service instances\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\n    }\n    \n    private Collection&lt;T&gt; getServiceInstances() {\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\n    }\n    \n    @SneakyThrows(ReflectiveOperationException.class)\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Collection&lt;T&gt; createNewServiceInstances() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (Object each : services) {\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\n        }\n        return result;\n    }\n    \n    private Collection&lt;T&gt; getSingletonServiceInstances() {\n        return services;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-zookeeper"],"comments":[{"owner":{"account_id":5946027,"reputation":692,"user_id":4675501,"accept_rate":85,"display_name":"Jayram Kumar"},"score":0,"creation_date":1686226099,"post_id":39347665,"comment_id":134771633,"body_markdown":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data.","body":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data."}],"answers":[{"comments":[{"owner":{"account_id":1907399,"reputation":1010,"user_id":1721972,"accept_rate":29,"display_name":"Sandeep Das"},"score":0,"creation_date":1540480160,"post_id":39360395,"comment_id":92890323,"body_markdown":"Is there any API in JAVA to get it ?","body":"Is there any API in JAVA to get it ?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1601596291,"post_id":39360395,"comment_id":113464068,"body_markdown":"consumer.assignment()","body":"consumer.assignment()"}],"tags":[],"owner":{"account_id":352422,"reputation":3179,"user_id":689500,"accept_rate":33,"display_name":"Shawn Guo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473215417,"creation_date":1473215417,"answer_id":39360395,"question_id":39347665,"body_markdown":"You can check how `$KAFKA_HOME/bin/kafka-consumer-groups.sh` works and integrate its implementation into your `kafka manager tool`, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).\r\n\r\nGROUP                          TOPIC                          **PARTITION**  CURRENT-OFFSET  LOG-END-OFFSET  LAG             **OWNER**  \r\n&lt;consumer group&gt; page_visits_10k                **0**          500             3333            2833            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **1**          0               3334            3334            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **2**          0               3333            3333            **consumer-1_/10.139.176.190**  ","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>You can check how <code>$KAFKA_HOME/bin/kafka-consumer-groups.sh</code> works and integrate its implementation into your <code>kafka manager tool</code>, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).</p>\n\n<p>GROUP                          TOPIC                          <strong>PARTITION</strong>  CURRENT-OFFSET  LOG-END-OFFSET  LAG             <strong>OWNER</strong><br>\n page_visits_10k                <strong>0</strong>          500             3333            2833            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>1</strong>          0               3334            3334            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>2</strong>          0               3333            3333            <strong>consumer-1_/10.139.176.190</strong>  </p>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686301873,"creation_date":1686210040,"answer_id":76429621,"question_id":39347665,"body_markdown":"I know it does not directly answer the question, but still relevant.\r\n\r\nIf you want to see the IP address of the consumer that is currently connected to a partition use the following command \r\n```\r\nkafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\r\n```\r\n\r\nE.g.\r\n```\r\n# kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\r\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\r\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\r\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\r\n```","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I know it does not directly answer the question, but still relevant.</p>\n<p>If you want to see the IP address of the consumer that is currently connected to a partition use the following command</p>\n<pre><code>kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\n</code></pre>\n<p>E.g.</p>\n<pre><code># kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\n</code></pre>\n"}],"owner":{"account_id":4289870,"reputation":366,"user_id":3506539,"display_name":"Himanshu Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6362,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39360395,"answer_count":2,"score":9,"last_activity_date":1686301873,"creation_date":1473160359,"question_id":39347665,"body_markdown":"I am building a `kafka manager tool` and I need to check which topic-partition is assigned to which consumer in a consumer group.\r\n\r\nSuppose there is consumer-Group `group-A` consuming topic `topic-A` with `n partitions`, so there can be multiple consumers in `group-A` hosted in `different VM&#39;s`. So how to find which partitioned is assigned to which consumer host? Is it possible in `kafka 0.9.1`?\r\n\r\nThanks in advance.","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I am building a <code>kafka manager tool</code> and I need to check which topic-partition is assigned to which consumer in a consumer group.</p>\n\n<p>Suppose there is consumer-Group <code>group-A</code> consuming topic <code>topic-A</code> with <code>n partitions</code>, so there can be multiple consumers in <code>group-A</code> hosted in <code>different VM's</code>. So how to find which partitioned is assigned to which consumer host? Is it possible in <code>kafka 0.9.1</code>?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","timer","push-notification"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686294503,"post_id":76431519,"comment_id":134781884,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9965924,"reputation":101,"user_id":7373632,"display_name":"Jie Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225985,"creation_date":1686225985,"answer_id":76431699,"question_id":76431519,"body_markdown":"suggest use `ticker`\r\n```\r\nval tickerChannel = ticker(delayMillis = 15 * 1000)\r\n```","title":"android studio timer not canceling","body":"<p>suggest use <code>ticker</code></p>\n<pre><code>val tickerChannel = ticker(delayMillis = 15 * 1000)\n</code></pre>\n"}],"owner":{"account_id":27832473,"reputation":11,"user_id":21250633,"display_name":"Avenger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686301631,"creation_date":1686224611,"question_id":76431519,"body_markdown":"i&#39;m writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.\r\n\r\ni found other questions on stackoverflow like this one but none of the solutions helped me.\r\n\r\nhere is the code\r\n\r\n`           \r\n\r\n    @Override           \r\n    public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    //if item is checked update status to 1 and stop timer\r\n                    myDB.updateStatus(item.getId(), 1);\r\n                    Reminder_stopTimer();\r\n                }else{\r\n                    //if item is not checked update status to 0 and start timer\r\n                    myDB.updateStatus(item.getId(), 0);\r\n                    Reminder_startTimer();\r\n\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n    public void setTasks(List&lt;ToDoModel&gt; mList){\r\n        this.mList = mList;\r\n        notifyDataSetChanged();\r\n        Reminder_startTimer();\r\n    }\r\n\r\n\r\n\r\n    //method to delete Task\r\n    public void deleteTask(int position){\r\n        ToDoModel item = mList.get(position);\r\n        //delete task from database\r\n        myDB.deleteTask(item.getId());\r\n        //delete task from list\r\n        mList.remove(position);\r\n        notifyItemRemoved(position);\r\n        Reminder_stopTimer();\r\n    }\r\n\r\n    \r\n    public void startStop(){\r\n        if (timerRunning){\r\n            Reminder_stopTimer();\r\n        }else {\r\n            Reminder_startTimer();\r\n        }\r\n    }\r\n    //timer for task reminder\r\n    public void Reminder_startTimer(){\r\n        countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\r\n            @Override\r\n            public void onTick(long l) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                activity.makeNotification();\r\n            }\r\n        }.start();\r\n\r\n        timerRunning = true;\r\n    }\r\n\r\n    public void Reminder_stopTimer(){\r\n        timerRunning = false;\r\n        countDownTimer.cancel();\r\n\r\n    }\r\n    }\r\n`","title":"android studio timer not canceling","body":"<p>i'm writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.</p>\n<p>i found other questions on stackoverflow like this one but none of the solutions helped me.</p>\n<p>here is the code</p>\n<p>`</p>\n<pre><code>@Override           \npublic void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n            if(isChecked){\n                //if item is checked update status to 1 and stop timer\n                myDB.updateStatus(item.getId(), 1);\n                Reminder_stopTimer();\n            }else{\n                //if item is not checked update status to 0 and start timer\n                myDB.updateStatus(item.getId(), 0);\n                Reminder_startTimer();\n\n            }\n\n        }\n\n\n    });\n\n}\n\npublic void setTasks(List&lt;ToDoModel&gt; mList){\n    this.mList = mList;\n    notifyDataSetChanged();\n    Reminder_startTimer();\n}\n\n\n\n//method to delete Task\npublic void deleteTask(int position){\n    ToDoModel item = mList.get(position);\n    //delete task from database\n    myDB.deleteTask(item.getId());\n    //delete task from list\n    mList.remove(position);\n    notifyItemRemoved(position);\n    Reminder_stopTimer();\n}\n\n\npublic void startStop(){\n    if (timerRunning){\n        Reminder_stopTimer();\n    }else {\n        Reminder_startTimer();\n    }\n}\n//timer for task reminder\npublic void Reminder_startTimer(){\n    countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\n        @Override\n        public void onTick(long l) {\n\n        }\n\n        @Override\n        public void onFinish() {\n            activity.makeNotification();\n        }\n    }.start();\n\n    timerRunning = true;\n}\n\npublic void Reminder_stopTimer(){\n    timerRunning = false;\n    countDownTimer.cancel();\n\n}\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1686208153,"post_id":76427861,"comment_id":134768265,"body_markdown":"Scala&#39;s `List` is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s `List` is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use).","body":"Scala&#39;s <code>List</code> is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s <code>List</code> is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use)."}],"answers":[{"comments":[{"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"score":0,"creation_date":1686184642,"post_id":76427894,"comment_id":134765918,"body_markdown":"Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type `Interface` is expected.","body":"Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type <code>Interface</code> is expected."},{"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"score":0,"creation_date":1686301554,"post_id":76427894,"comment_id":134783130,"body_markdown":"@IgorUrisman I have expanded my answer to explain why this cannot work.","body":"@IgorUrisman I have expanded my answer to explain why this cannot work."}],"tags":[],"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686301509,"creation_date":1686184109,"answer_id":76427894,"question_id":76427861,"body_markdown":"You don&#39;t need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.\r\n\r\nJust create your Scala list and convert it explicitly when required by the interface.\r\n\r\n    import scala.jdk.CollectionConverters._\r\n    class Implementation[T] extends Interface[T] {\r\n      def makeScalaList(): List[T]\r\n      override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n    }\r\n\r\n@Igor asked:\r\n\r\n&gt; Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.\r\n\r\nThis will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.\r\n\r\nWhen you write the following Scala.\r\n\r\n    implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\r\n    val list: List[String] = ...\r\n    val javaSubList = list.subList(0, 3)\r\n\r\nThe Scala compiler notices that `subList` is not a member of `scala.collection.List`. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:\r\n\r\n    public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\r\n        new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\r\n    }\r\n    \r\n    scala.collection.List&lt;String&gt; list = ...\r\n    java.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\r\n\r\n    \r\nSo while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Ga&#235;l&#39;s answer does.\r\n\r\nIf you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You don't need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.</p>\n<p>Just create your Scala list and convert it explicitly when required by the interface.</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n</code></pre>\n<p>@Igor asked:</p>\n<blockquote>\n<p>Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.</p>\n</blockquote>\n<p>This will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.</p>\n<p>When you write the following Scala.</p>\n<pre><code>implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\nval list: List[String] = ...\nval javaSubList = list.subList(0, 3)\n</code></pre>\n<p>The Scala compiler notices that <code>subList</code> is not a member of <code>scala.collection.List</code>. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:</p>\n<pre><code>public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\n    new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\n}\n\nscala.collection.List&lt;String&gt; list = ...\njava.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\n</code></pre>\n<p>So while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Gaël's answer does.</p>\n<p>If you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.</p>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1686243485,"post_id":76428702,"comment_id":134775759,"body_markdown":"Oh the pain of Scala-Java interop!","body":"Oh the pain of Scala-Java interop!"}],"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686199895,"creation_date":1686199895,"answer_id":76428702,"question_id":76427861,"body_markdown":"You can create a &quot;proxy layer&quot; with an abstract class:\r\n\r\n```scala\r\nimport scala.jdk.CollectionConverters._\r\n\r\nabstract class ScalaInterface[T] extends Interface[T] {\r\n  def makeScalaList(): List[T]\r\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n}\r\n\r\nclass Implementation[T] extends ScalaInterface[T] {\r\n  override def makeScalaList(): List[T] = ???\r\n}\r\n```\r\n\r\nInstead of implementing `Interface`, you implement `ScalaInterface`.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You can create a &quot;proxy layer&quot; with an abstract class:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.jdk.CollectionConverters._\n\nabstract class ScalaInterface[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n\nclass Implementation[T] extends ScalaInterface[T] {\n  override def makeScalaList(): List[T] = ???\n}\n</code></pre>\n<p>Instead of implementing <code>Interface</code>, you implement <code>ScalaInterface</code>.</p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686301509,"creation_date":1686183639,"question_id":76427861,"body_markdown":"This Java interface is defined in a library:\r\n```\r\npublic interface Interface&lt;T&gt; {\r\n  List&lt;T&gt; makeList();\r\n}\r\n```\r\n\r\nI&#39;d like to have a Scala class that implements it, but returns a Scala list instead of `java.util.List`. This is the best I could think of but it&#39;s not working:\r\n```\r\nimport scala.jdk.CollectionConverters._\r\nclass Implementation[T] extends Interface[T] {\r\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn&#39;t seem to do anything\r\n  override def makeList(): List[T] = ???\r\n}\r\n```\r\n`error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type`. Clearly, I can make each user of `Implementation` do its own conversion, but I was hoping for something neater.\r\n\r\n**EDIT:** From the responses, it appears that this is not possible.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>This Java interface is defined in a library:</p>\n<pre><code>public interface Interface&lt;T&gt; {\n  List&lt;T&gt; makeList();\n}\n</code></pre>\n<p>I'd like to have a Scala class that implements it, but returns a Scala list instead of <code>java.util.List</code>. This is the best I could think of but it's not working:</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn't seem to do anything\n  override def makeList(): List[T] = ???\n}\n</code></pre>\n<p><code>error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type</code>. Clearly, I can make each user of <code>Implementation</code> do its own conversion, but I was hoping for something neater.</p>\n<p><strong>EDIT:</strong> From the responses, it appears that this is not possible.</p>\n"},{"tags":["java","unix","ms-word","aspose","aspose.words"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299168,"post_id":76438431,"comment_id":134782690,"body_markdown":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (`\\n` instead of `\\r\\n`)","body":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (<code>\\n</code> instead of <code>\\r\\n</code>)"},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1686299599,"post_id":76438431,"comment_id":134782773,"body_markdown":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both","body":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299882,"post_id":76438431,"comment_id":134782823,"body_markdown":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) I&#39;ll test it on my (Unix) machine","body":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I&#39;ll test it on my (Unix) machine"}],"answers":[{"comments":[{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1686313407,"post_id":76438663,"comment_id":134785347,"body_markdown":"I am facing this issue while running in server(i.e UNIX). How can i fix this issue ? after running my jar in UNIX i have to get the report that have page numbers and mask the data in word document it is mismatching.","body":"I am facing this issue while running in server(i.e UNIX). How can i fix this issue ? after running my jar in UNIX i have to get the report that have page numbers and mask the data in word document it is mismatching."},{"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"score":0,"creation_date":1686314456,"post_id":76438663,"comment_id":134785599,"body_markdown":"You should install or provide the fonts required to render the document to get an accurate page numbers detection.","body":"You should install or provide the fonts required to render the document to get an accurate page numbers detection."}],"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686300768,"creation_date":1686300436,"answer_id":76438663,"question_id":76438431,"body_markdown":"The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the [fonts are substituted][1]. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by `LayoutCollector`. You can implement [IWarningCallback][2] to get a notification when font substitution is performed.\r\n\r\nThe following articles can be useful for you:\r\n\r\n&lt;https://docs.aspose.com/words/java/specify-truetype-fonts-location/&gt;\r\n\r\n&lt;https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/&gt;\r\n\r\n\r\n  [1]: https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the <a href=\"https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\" rel=\"nofollow noreferrer\">fonts are substituted</a>. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by <code>LayoutCollector</code>. You can implement <a href=\"https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/\" rel=\"nofollow noreferrer\">IWarningCallback</a> to get a notification when font substitution is performed.</p>\n<p>The following articles can be useful for you:</p>\n<p><a href=\"https://docs.aspose.com/words/java/specify-truetype-fonts-location/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/specify-truetype-fonts-location/</a></p>\n<p><a href=\"https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/</a></p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438663,"answer_count":1,"score":1,"last_activity_date":1686300768,"creation_date":1686298619,"question_id":76438431,"body_markdown":"I am using LayoutCollector in aspose-words library to get the page number of a node.\r\n```\r\nDocument document=new Document(filePath);\r\nLayoutCollector layoutCollector=new LayoutCollector(doc);\r\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\r\nfor(Node node:paragraphNodes)\r\n{\r\n if(node.getType==NodeType.PARAGRAPH){\r\n int pageNumber=layoutCollector.getStartPageIndex(node);\r\nSystem.out.println(pageNumber);\r\n}\r\n```\r\n\r\nWhile i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>I am using LayoutCollector in aspose-words library to get the page number of a node.</p>\n<pre><code>Document document=new Document(filePath);\nLayoutCollector layoutCollector=new LayoutCollector(doc);\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\nfor(Node node:paragraphNodes)\n{\n if(node.getType==NodeType.PARAGRAPH){\n int pageNumber=layoutCollector.getStartPageIndex(node);\nSystem.out.println(pageNumber);\n}\n</code></pre>\n<p>While i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?</p>\n"},{"tags":["java","ios","katalon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686304836,"post_id":76438658,"comment_id":134783757,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28786211,"reputation":1,"user_id":22046619,"display_name":"Hmimida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686300385,"creation_date":1686300385,"question_id":76438658,"body_markdown":"What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio&#39;s web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?\r\n\r\nsame problem when i change navigateur ","title":"Katalon web recorder erreur IOS","body":"<p>What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio's web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?</p>\n<p>same problem when i change navigateur</p>\n"},{"tags":["java","spring-boot","stored-procedures","spring-data-jpa","illegalargumentexception"],"owner":{"account_id":3007310,"reputation":434,"user_id":2551561,"accept_rate":25,"display_name":"Gurpreet Kaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686299778,"creation_date":1686286151,"question_id":76437285,"body_markdown":"There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it&#39;s giving me exception: java.lang.IllegalArgumentException: Type cannot be null\r\n\r\nProcedure call using prepared statement:\r\n   \r\n\r\n    declare p_transaction_header \r\n    transaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\r\n\r\n    prepareCall.setString(1, &quot;test&quot;);\r\n            prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\r\n            prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\r\n            prepareCall.setString(4, fileId);\r\n            prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\r\n            prepareCall.executeQuery();\r\n\r\n            vocherId = prepareCall.getString(5);\r\n            rejStatus = prepareCall.getString(6);\r\n            rejReason = prepareCall.getString(7);\r\n\r\n            openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\r\n\r\n\r\n\r\nSolution I am trying:\r\n  \r\n\r\n    @Procedure(name = &quot;open_transaction&quot;)\r\n    OpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\r\n\r\n    public class OpenTransactionBo {\r\n\r\n    private String vocherId;\r\n\r\n    private String rejStatus;\r\n\r\n    private String rejReason;\r\n}\r\n\r\n","title":"Call stored procedure using spring data jpa where procedure is","body":"<p>There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it's giving me exception: java.lang.IllegalArgumentException: Type cannot be null</p>\n<p>Procedure call using prepared statement:</p>\n<pre><code>declare p_transaction_header \ntransaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\n\nprepareCall.setString(1, &quot;test&quot;);\n        prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\n        prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\n        prepareCall.setString(4, fileId);\n        prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\n        prepareCall.executeQuery();\n\n        vocherId = prepareCall.getString(5);\n        rejStatus = prepareCall.getString(6);\n        rejReason = prepareCall.getString(7);\n\n        openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\n</code></pre>\n<p>Solution I am trying:</p>\n<pre><code>@Procedure(name = &quot;open_transaction&quot;)\nOpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\n\npublic class OpenTransactionBo {\n\nprivate String vocherId;\n\nprivate String rejStatus;\n\nprivate String rejReason;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","servlets","netbeans","tomcat7"],"answers":[{"comments":[{"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"score":0,"creation_date":1595678662,"post_id":63087795,"comment_id":111561391,"body_markdown":"I tried to change the antiResourceLocking but it doesn&#39;t work yet. I still have the same error.","body":"I tried to change the antiResourceLocking but it doesn&#39;t work yet. I still have the same error."},{"owner":{"account_id":2076874,"reputation":149,"user_id":1865722,"display_name":"learning-man"},"score":0,"creation_date":1664958275,"post_id":63087795,"comment_id":130585332,"body_markdown":"the same for me, adding antiResourceLocking=&quot;true&quot; does not solve the issue. Any update?","body":"the same for me, adding antiResourceLocking=&quot;true&quot; does not solve the issue. Any update?"},{"owner":{"account_id":69594,"reputation":20627,"user_id":202382,"accept_rate":77,"display_name":"Richard77"},"score":1,"creation_date":1670913827,"post_id":63087795,"comment_id":131977038,"body_markdown":"I change the flag to `antiResourceLocking=&quot;true&quot;`, I&#39;m still getting the same issue.","body":"I change the flag to <code>antiResourceLocking=&quot;true&quot;</code>, I&#39;m still getting the same issue."}],"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595676987,"creation_date":1595676581,"answer_id":63087795,"question_id":63087693,"body_markdown":"&gt; Deploying application with war file &#39;test.war&#39; to context &#39;/hello&#39; to server &#39;http://localhost:8080/manager/&#39;\r\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\r\nFAIL - Application already exists at path /hello\r\n\r\nTomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.\r\n\r\n**Resolution**\r\nThis can be fixed by adding \r\n\r\n&gt;     &lt;Context antiResourceLocking=&quot;true&quot;&gt;\r\n\r\n to tomcat context. The **antiResourceLocking** is by default set to false. More details can be read at http://tomcat.apache.org/tomcat-9.0-doc/config/context.html","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<blockquote>\n<p>Deploying application with war file 'test.war' to context '/hello' to server 'http://localhost:8080/manager/'\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\nFAIL - Application already exists at path /hello</p>\n</blockquote>\n<p>Tomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.</p>\n<p><strong>Resolution</strong>\nThis can be fixed by adding</p>\n<blockquote>\n<pre><code>&lt;Context antiResourceLocking=&quot;true&quot;&gt;\n</code></pre>\n</blockquote>\n<p>to tomcat context. The <strong>antiResourceLocking</strong> is by default set to false. More details can be read at <a href=\"http://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-9.0-doc/config/context.html</a></p>\n"},{"tags":[],"owner":{"account_id":21291742,"reputation":1,"user_id":18284091,"display_name":"Raf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299469,"creation_date":1686299329,"answer_id":76438528,"question_id":63087693,"body_markdown":"helped for me\r\n`antiResourceLocking=&quot;true&quot;`\r\n`mvn cargo:redeploy`\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>helped for me\n<code>antiResourceLocking=&quot;true&quot;</code>\n<code>mvn cargo:redeploy</code></p>\n"}],"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63087795,"answer_count":2,"score":1,"last_activity_date":1686299469,"creation_date":1595675912,"question_id":63087693,"body_markdown":"I&#39;m having a problem that I don&#39;t know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.\r\n\r\nHere the error :\r\n```\r\nDeploying on Apache Tomcat or TomEE\r\n    profile mode: false\r\n    debug mode: false\r\n    force redeploy: true\r\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\r\nECHEC - l&#39;application existe d&#233;j&#224; dans le chemin [/secondapp]\r\n\r\n```\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>I'm having a problem that I don't know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.</p>\n<p>Here the error :</p>\n<pre><code>Deploying on Apache Tomcat or TomEE\n    profile mode: false\n    debug mode: false\n    force redeploy: true\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\nDeployment is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\nECHEC - l'application existe déjà dans le chemin [/secondapp]\n\n</code></pre>\n"},{"tags":["java","mysql","mybatis"],"answers":[{"tags":[],"owner":{"account_id":184171,"reputation":2746,"user_id":420047,"accept_rate":79,"display_name":"Daniel Novak"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323169338,"creation_date":1291126222,"answer_id":4314627,"question_id":4283159,"body_markdown":"The `&lt;insert&gt;`, `&lt;update&gt;`and `&lt;delete&gt;` statements return the number of affected rows, as is common with database APIs.\r\n\r\nIf a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.\r\n\r\nUsing the options of `&lt;insert&gt;`, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.\r\n\r\nIt may be instructive to use the [MyBatis generator][mbg] to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces &quot;example&quot; classes that are used as temporary containers to pass around data.\r\n\r\n[mbg]: http://code.google.com/p/mybatis/wiki/Generator","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>The <code>&lt;insert&gt;</code>, <code>&lt;update&gt;</code>and <code>&lt;delete&gt;</code> statements return the number of affected rows, as is common with database APIs.</p>\n\n<p>If a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.</p>\n\n<p>Using the options of <code>&lt;insert&gt;</code>, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.</p>\n\n<p>It may be instructive to use the <a href=\"http://code.google.com/p/mybatis/wiki/Generator\" rel=\"noreferrer\">MyBatis generator</a> to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces \"example\" classes that are used as temporary containers to pass around data.</p>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1456996613,"post_id":4427362,"comment_id":59207504,"body_markdown":"Assuming you use annotation for select and with `@Options(useGeneratedKeys=true)`","body":"Assuming you use annotation for select and with <code>@Options(useGeneratedKeys=true)</code>"}],"tags":[],"owner":{"account_id":225702,"reputation":64,"user_id":1543136,"display_name":"edwinkun"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1292232255,"creation_date":1292232255,"answer_id":4427362,"question_id":4283159,"body_markdown":"you can get your generated ids from save methods,\r\nlets say a bean with ID and name properties,\r\n\r\n    bean.setName(&quot;xxx&quot;);\r\n    mapper.save(bean);\r\n    // here is your id\r\n    logger.debug(bean.getID);","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>you can get your generated ids from save methods,\nlets say a bean with ID and name properties,</p>\n\n<pre><code>bean.setName(\"xxx\");\nmapper.save(bean);\n// here is your id\nlogger.debug(bean.getID);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1310141684,"creation_date":1308835908,"answer_id":6454886,"question_id":4283159,"body_markdown":"Actually, it&#39;s possible to do it, with the `@Options` annotation (provided you&#39;re using auto_increment or something similar in your database) :\r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(null, #{name})&quot;) \r\n    @Options(useGeneratedKeys=true, keyProperty=&quot;idName&quot;)\r\n    int insertTable3(SomeBean myBean); \r\n\r\nNote that the `keyProperty=&quot;idName&quot;` part is not necessary if the key property in SomeBean is named &quot;id&quot;. There&#39;s also a `keyColumn` attribute available, for the rare cases when MyBatis can&#39;t find the primary key column by himself. Please also note that by using `@Options`, you&#39;re submitting your method to some default parameters ; it&#39;s important to consult the doc (linked below -- page 60 in the current version) !\r\n\r\n**(Old answer)** The (quite recent) `@SelectKey` annotation can be used for more complex key retrieval (sequences, identity() function...). Here&#39;s what the [MyBatis 3 User Guide][1] (pdf) offers as examples :\r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\r\n&gt; insert: \r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(#{nameId}, #{name})&quot;) \r\n    @SelectKey(statement=&quot;call next value for TestSequence&quot;, keyProperty=&quot;nameId&quot;, before=true, resultType=int.class) \r\n    int insertTable3(Name name); \r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve an identity value after an insert: \r\n\r\n    @Insert(&quot;insert into table2 (name) values(#{name})&quot;)\r\n    @SelectKey(statement=&quot;call identity()&quot;, keyProperty=&quot;nameId&quot;, before=false, resultType=int.class)\r\n    int insertTable2(Name name);\r\n\r\n  [1]: http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>Actually, it's possible to do it, with the <code>@Options</code> annotation (provided you're using auto_increment or something similar in your database) :</p>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(null, #{name})\") \n@Options(useGeneratedKeys=true, keyProperty=\"idName\")\nint insertTable3(SomeBean myBean); \n</code></pre>\n\n<p>Note that the <code>keyProperty=\"idName\"</code> part is not necessary if the key property in SomeBean is named \"id\". There's also a <code>keyColumn</code> attribute available, for the rare cases when MyBatis can't find the primary key column by himself. Please also note that by using <code>@Options</code>, you're submitting your method to some default parameters ; it's important to consult the doc (linked below -- page 60 in the current version) !</p>\n\n<p><strong>(Old answer)</strong> The (quite recent) <code>@SelectKey</code> annotation can be used for more complex key retrieval (sequences, identity() function...). Here's what the <a href=\"http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs\" rel=\"noreferrer\">MyBatis 3 User Guide</a> (pdf) offers as examples :</p>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\n  insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(#{nameId}, #{name})\") \n@SelectKey(statement=\"call next value for TestSequence\", keyProperty=\"nameId\", before=true, resultType=int.class) \nint insertTable3(Name name); \n</code></pre>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve an identity value after an insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table2 (name) values(#{name})\")\n@SelectKey(statement=\"call identity()\", keyProperty=\"nameId\", before=false, resultType=int.class)\nint insertTable2(Name name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299335,"creation_date":1630061024,"answer_id":68952069,"question_id":4283159,"body_markdown":"I didn&#39;t like most of the answers I found online for returning generated keys because\r\n\r\n1. All of the solutions I found called a &quot;setter&quot; on the inbound object\r\n2. None of the solutions returned the generated column from the method\r\n\r\nI came up with the following solution which addresses points 1 &amp; 2 above which\r\n\r\n1. Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)\r\n2. Requires an additional [default method](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html) on the interface to return the value\r\n\r\n```\r\npublic interface MyMapper {\r\n   /**\r\n    * this method is used by the mybatis mapper\r\n    * I don&#39;t call this method directly in my application code   \r\n    */\r\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\r\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\r\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\r\n\r\n   /**\r\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\r\n     */\r\n   default long insert(MyTable tableBean) {\r\n      LongReference idReference = new LongReference();\r\n      insert(tableBean, idReference);\r\n      return idReference.getValue();\r\n   }\r\n}\r\n```\r\n\r\nThis requires an additional class which can be re-used on similar methods in future\r\n```\r\npublic class LongReference {\r\n    private Long value;\r\n\r\n    // getter &amp; setter\r\n}\r\n\r\n```\r\n   \r\n    ","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>I didn't like most of the answers I found online for returning generated keys because</p>\n<ol>\n<li>All of the solutions I found called a &quot;setter&quot; on the inbound object</li>\n<li>None of the solutions returned the generated column from the method</li>\n</ol>\n<p>I came up with the following solution which addresses points 1 &amp; 2 above which</p>\n<ol>\n<li>Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)</li>\n<li>Requires an additional <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default method</a> on the interface to return the value</li>\n</ol>\n<pre><code>public interface MyMapper {\n   /**\n    * this method is used by the mybatis mapper\n    * I don't call this method directly in my application code   \n    */\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\n\n   /**\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\n     */\n   default long insert(MyTable tableBean) {\n      LongReference idReference = new LongReference();\n      insert(tableBean, idReference);\n      return idReference.getValue();\n   }\n}\n</code></pre>\n<p>This requires an additional class which can be re-used on similar methods in future</p>\n<pre><code>public class LongReference {\n    private Long value;\n\n    // getter &amp; setter\n}\n\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39263,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1686299335,"creation_date":1290755255,"question_id":4283159,"body_markdown":"- [See this related question][1] for Postgres. For some reason, the solution doesn&#39;t work for me - the return value of the insert statement is always &quot;1&quot;.\r\n- See this other question for an [XML based solution][2]. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.\r\n\r\nI didn&#39;t find a matching annotation to `&lt;selectkey&gt;` (see this [open issue][3])\r\nHow do I proceed?\r\n\r\nExamining mybatis code reveals that `INSERT` is implemented via `UPDATE`, and always returns the number of inserted rows! So ... unless I&#39;m completely missing something here, there&#39;s no way to do this using the current (3.0.3) implementation.\r\n\r\n  [1]: https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\r\n  [2]: https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\r\n  [3]: http://code.google.com/p/mybatis/issues/detail?id=10","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<ul>\n<li><a href=\"https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\">See this related question</a> for Postgres. For some reason, the solution doesn't work for me - the return value of the insert statement is always \"1\".</li>\n<li>See this other question for an <a href=\"https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\">XML based solution</a>. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.</li>\n</ul>\n\n<p>I didn't find a matching annotation to <code>&lt;selectkey&gt;</code> (see this <a href=\"http://code.google.com/p/mybatis/issues/detail?id=10\" rel=\"noreferrer\">open issue</a>)\nHow do I proceed?</p>\n\n<p>Examining mybatis code reveals that <code>INSERT</code> is implemented via <code>UPDATE</code>, and always returns the number of inserted rows! So ... unless I'm completely missing something here, there's no way to do this using the current (3.0.3) implementation.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1685701613,"post_id":76385060,"comment_id":134701239,"body_markdown":"not work , i will try this. it shows &quot;The webpage at tel:8806288365 could not be loaded because:\n\nnet::ERR_UNKNOWN_URL_SCHEME&quot;","body":"not work , i will try this. it shows &quot;The webpage at tel:8806288365 could not be loaded because:  net::ERR_UNKNOWN_URL_SCHEME&quot;"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1685732443,"post_id":76385060,"comment_id":134707694,"body_markdown":"Please share your html content sample that you are showing on WebView","body":"Please share your html content sample that you are showing on WebView"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1685868553,"post_id":76385060,"comment_id":134718791,"body_markdown":"&quot;The webpage at tel:8806288365 could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME&quot; this message show","body":"&quot;The webpage at tel:8806288365 could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME&quot; this message show"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1685944016,"post_id":76385060,"comment_id":134725963,"body_markdown":"Please share your web url that you loading on webview","body":"Please share your web url that you loading on webview"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1686180197,"post_id":76385060,"comment_id":134765525,"body_markdown":"link(html): &lt;a href=&quot;tel:8806288365&quot; &gt;phone&lt;/a&gt;","body":"link(html): &lt;a href=&quot;tel:8806288365&quot; &gt;phone&lt;/a&gt;"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1686298909,"post_id":76385060,"comment_id":134782652,"body_markdown":"I have updated the code with your html content and its working.","body":"I have updated the code with your html content and its working."}],"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686298847,"creation_date":1685647263,"answer_id":76385060,"question_id":76383728,"body_markdown":"To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView&#39;s URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.\r\n\r\nCreate a Custom WebViewClient and implement as below-\r\n\r\n    val webView = findViewById&lt;WebView&gt;(R.id.webView)\r\n    webView.webViewClient = CustomWebViewClient()\r\n    val htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\r\n    webView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\r\n\r\n    class CustomWebViewClient : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\r\n    //        return super.shouldOverrideUrlLoading(view, request)\r\n            val url = request?.url?.toString()\r\n            if (url?.startsWith(&quot;tel:&quot;) == true) {\r\n                val intent = Intent(Intent.ACTION_DIAL)\r\n                intent.data = Uri.parse(url)\r\n                view?.context?.startActivity(intent)\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView's URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.</p>\n<p>Create a Custom WebViewClient and implement as below-</p>\n<pre><code>val webView = findViewById&lt;WebView&gt;(R.id.webView)\nwebView.webViewClient = CustomWebViewClient()\nval htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\nwebView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\n\nclass CustomWebViewClient : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n//        return super.shouldOverrideUrlLoading(view, request)\n        val url = request?.url?.toString()\n        if (url?.startsWith(&quot;tel:&quot;) == true) {\n            val intent = Intent(Intent.ACTION_DIAL)\n            intent.data = Uri.parse(url)\n            view?.context?.startActivity(intent)\n            return true\n        }\n        return false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686299230,"creation_date":1685635045,"question_id":76383728,"body_markdown":"I have problem to open direct contact link in android webview \r\nError : &quot;\r\n\r\nWebpage not available\r\n\r\nThe webpage at tel:8806288365 could not be loaded because:\r\n\r\nnet::ERR_UNKNOWN_URL_SCHEME&quot; \r\nPlease help .. \r\nThnaks \r\n\r\nIf any link like tel:, whatsapp: open in android webview , then I want to open dialer and whatsapp like this \r\n\r\nMy Code:\r\n```\r\nclass WebViewClientDemo extends WebViewClient {\r\n    @Override\r\n    //Keep webview in app when clicking links\r\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n//        view.loadUrl(url);\r\n//        return true;\r\n\r\n        if (url.startsWith(&quot;tel:&quot;)) {\r\n            // Handle telephone URLs\r\n            Intent intent = new Intent(Intent.ACTION_DIAL);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\r\n            // Handle email URLs\r\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else {\r\n            // Load all other URLs within the WebView\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>I have problem to open direct contact link in android webview\nError : &quot;</p>\n<p>Webpage not available</p>\n<p>The webpage at 8806288365 could not be loaded because:</p>\n<p>net::ERR_UNKNOWN_URL_SCHEME&quot;\nPlease help ..\nThnaks</p>\n<p>If any link like , whatsapp: open in android webview , then I want to open dialer and whatsapp like this</p>\n<p>My Code:</p>\n<pre><code>class WebViewClientDemo extends WebViewClient {\n    @Override\n    //Keep webview in app when clicking links\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n//        view.loadUrl(url);\n//        return true;\n\n        if (url.startsWith(&quot;tel:&quot;)) {\n            // Handle telephone URLs\n            Intent intent = new Intent(Intent.ACTION_DIAL);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\n            // Handle email URLs\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else {\n            // Load all other URLs within the WebView\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","list","for-loop","arraylist","addition"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686297439,"post_id":76438204,"comment_id":134782374,"body_markdown":"you already are adding elements to a list in that code.","body":"you already are adding elements to a list in that code."}],"answers":[{"comments":[{"owner":{"account_id":6100446,"reputation":9,"user_id":4759646,"display_name":"louberlu"},"score":0,"creation_date":1686377888,"post_id":76438440,"comment_id":134793501,"body_markdown":"I understand why, thanks. I&#39;ll update later.","body":"I understand why, thanks. I&#39;ll update later."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686298717,"creation_date":1686298717,"answer_id":76438440,"question_id":76438204,"body_markdown":"You update a single object `tampon` of type `Terme[]`. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:\r\n\r\n```java\r\nfor(Terme element : right) {\r\n    Terme[] newElement = { element, left.get(i), };\r\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\r\n    res.add(newElement);\r\n    this.printPair(res);\r\n    i++;\r\n}\r\n```\r\nIf the `tampon` field is now unused, you can remove it, and rename my `newElement` to `tampon` again.","title":"How to add an element to a list in Java?","body":"<p>You update a single object <code>tampon</code> of type <code>Terme[]</code>. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Terme element : right) {\n    Terme[] newElement = { element, left.get(i), };\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\n    res.add(newElement);\n    this.printPair(res);\n    i++;\n}\n</code></pre>\n<p>If the <code>tampon</code> field is now unused, you can remove it, and rename my <code>newElement</code> to <code>tampon</code> again.</p>\n"}],"owner":{"account_id":6100446,"reputation":9,"user_id":4759646,"display_name":"louberlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76438440,"answer_count":1,"score":-2,"last_activity_date":1686298717,"creation_date":1686296595,"question_id":76438204,"body_markdown":"I&#39;m not a english native. If you found any error , please correct me.\r\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\r\nHere it is:\r\n\r\n```\r\nprivate List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tint i = 0;\r\n\t\t\r\n\t\tfor(Terme element : right) {\r\n\t\t\ttampon[0] = element;\r\n\t\t\ttampon[1] = left.get(i);\r\n\t\t\tSystem.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\r\n\t\t\tres.add(tampon);\r\n\t\t\tthis.printPair(res);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n```\r\n\r\nI have add the println to find the problem. Here what it prints:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nThis method is used in this method of class:\r\n\r\n```\r\npublic void setDiff(Predicat[] couple) {\r\n\t\tList&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tliste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\r\n\t\tthis.printPair(liste);\r\n\t\tboolean simple;\r\n\t\t\r\n\t\tdo{\r\n\t\t\tres = new ArrayList&lt;Terme[]&gt;();\r\n\t\t\tfor(Terme[] element : liste) {\r\n\t\t\t\tif(element[0].isEquals(element[1]) == false) {\r\n\t\t\t\t\tres.add(element);\r\n\t\t\t\t}else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\r\n\t\t\t\t\tfor(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\r\n\t\t\t\t\t\tres.add(litt);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t}\r\n\t\t\tliste = res;\r\n\t\t\tdiff = liste;\r\n\t\t\tthis.printDiff();\r\n\t\t\tsimple = this.isSimple();\r\n\t\t}while(simple == false);\r\n\t\tdiff = liste;\r\n\t}\r\n```\r\n\r\n\r\nHere what it shows when called:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nWhat I want is the following results:\r\n```\r\nPairing: {{x,y},{x,a},{f(t),u}}\r\nDiff: {{x,y},{x,a},{f(t),u}}\r\n```\r\n\r\nFor those who are curious about the program i&#39;m writing just tell me how to share it.\r\n\r\nThanks in advance.","title":"How to add an element to a list in Java?","body":"<p>I'm not a english native. If you found any error , please correct me.\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\nHere it is:</p>\n<pre><code>private List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        int i = 0;\n        \n        for(Terme element : right) {\n            tampon[0] = element;\n            tampon[1] = left.get(i);\n            System.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\n            res.add(tampon);\n            this.printPair(res);\n            i++;\n        }\n        \n        return res;\n    }\n</code></pre>\n<p>I have add the println to find the problem. Here what it prints:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>This method is used in this method of class:</p>\n<pre><code>public void setDiff(Predicat[] couple) {\n        List&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        liste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\n        this.printPair(liste);\n        boolean simple;\n        \n        do{\n            res = new ArrayList&lt;Terme[]&gt;();\n            for(Terme[] element : liste) {\n                if(element[0].isEquals(element[1]) == false) {\n                    res.add(element);\n                }else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\n                    for(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\n                        res.add(litt);\n                    }\n                }\n                System.out.println(\n            }\n            liste = res;\n            diff = liste;\n            this.printDiff();\n            simple = this.isSimple();\n        }while(simple == false);\n        diff = liste;\n    }\n</code></pre>\n<p>Here what it shows when called:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>What I want is the following results:</p>\n<pre><code>Pairing: {{x,y},{x,a},{f(t),u}}\nDiff: {{x,y},{x,a},{f(t),u}}\n</code></pre>\n<p>For those who are curious about the program i'm writing just tell me how to share it.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql-5.5"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686299739,"post_id":76438359,"comment_id":134782798,"body_markdown":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the `ResultSet`. `getTimestamp(int)` will do that for you but it might be better to use a class from `java.time`","body":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the <code>ResultSet</code>. <code>getTimestamp(int)</code> will do that for you but it might be better to use a class from <code>java.time</code>"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686300986,"post_id":76438359,"comment_id":134783028,"body_markdown":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog","body":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686304094,"post_id":76438359,"comment_id":134783622,"body_markdown":"Ah I see sorry. I think I&#39;d need to look at an example binlog file","body":"Ah I see sorry. I think I&#39;d need to look at an example binlog file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686305575,"post_id":76438359,"comment_id":134783894,"body_markdown":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: `Instant i = Instant.ofEpochSecond(Long.valueOf(s));`","body":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: <code>Instant i = Instant.ofEpochSecond(Long.valueOf(s));</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1686307243,"post_id":76438359,"comment_id":134784192,"body_markdown":"@gee Please [edit] your question to include the binlog format you are using. Also [edit] your question to include the source code you have so far.","body":"@gee Please <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the binlog format you are using. Also <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the source code you have so far."},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538255,"post_id":76438359,"comment_id":134807144,"body_markdown":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;","body":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538353,"post_id":76438359,"comment_id":134807149,"body_markdown":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000","body":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686555850,"post_id":76438359,"comment_id":134808924,"body_markdown":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds","body":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds"}],"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297921,"creation_date":1686297921,"question_id":76438359,"body_markdown":"how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\r\ni have known the length of the byte array of type datetime(3) is 8, but i don&#39;t know how to parse it to Timestamp\r\n\r\nthe way to parse the byte array to Timestamp","title":"how to parse the byte array of type datetime(3) in the binlog of mysql5.5","body":"<p>how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\ni have known the length of the byte array of type datetime(3) is 8, but i don't know how to parse it to Timestamp</p>\n<p>the way to parse the byte array to Timestamp</p>\n"},{"tags":["java","docker","networking","docker-compose"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686297902,"post_id":76438328,"comment_id":134782463,"body_markdown":"Are you sure your Java app listens to those `java.net` proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically.","body":"Are you sure your Java app listens to those <code>java.net</code> proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically."}],"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297680,"creation_date":1686297680,"question_id":76438328,"body_markdown":"I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).\r\n\r\nThis is curl from container:\r\n\r\n```\r\ncurl 2ip.ru\r\nx.x.x.18\r\n```\r\nAnd in requestbin i get this ip:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/su5Yz.jpg)](https://i.stack.imgur.com/su5Yz.jpg)\r\n\r\nThis is my JAVA_OPTS:\r\n\r\n```\r\n-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\r\n```\r\nAnd in docker-compose i use following envs:\r\n\r\n```\r\nhttp_proxy=&quot;http://10.0.1.13:8081&quot;\r\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\r\n```\r\nHow can i fix this? \r\n","title":"Java via proxy in docker container","body":"<p>I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).</p>\n<p>This is curl from container:</p>\n<pre><code>curl 2ip.ru\nx.x.x.18\n</code></pre>\n<p>And in requestbin i get this ip:</p>\n<p><a href=\"https://i.stack.imgur.com/su5Yz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/su5Yz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is my JAVA_OPTS:</p>\n<pre><code>-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\n</code></pre>\n<p>And in docker-compose i use following envs:</p>\n<pre><code>http_proxy=&quot;http://10.0.1.13:8081&quot;\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\n</code></pre>\n<p>How can i fix this?</p>\n"},{"tags":["java","android","google-maps","sdk","fatal-error"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1686295859,"post_id":76437933,"comment_id":134782106,"body_markdown":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n$","body":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManif&zwnj;&#8203;estValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;  $"}],"owner":{"account_id":27074305,"reputation":1,"user_id":20624511,"display_name":"Vidu Gajadeera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297547,"creation_date":1686294016,"question_id":76437933,"body_markdown":"My app that uses Google Maps SDK just started crashing with this exception:\r\n\r\n    FATAL EXCEPTION: main                         \r\n    Process: com.example.newspaperdelivery, PID: 29598\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  \r\n\t    You must have the following declaration within the &lt;application&gt; element:     \r\n\t    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \r\n        at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                        \tat com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                        \tat com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                        \tat com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                        \tat com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                        \tat androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\r\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\r\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\r\n        at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\r\n        at android.app.Activity.performCreate(Activity.java:6662)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n    2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n","title":"Android runtime fatal exception","body":"<p>My app that uses Google Maps SDK just started crashing with this exception:</p>\n<pre><code>FATAL EXCEPTION: main                         \nProcess: com.example.newspaperdelivery, PID: 29598\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\nCaused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\nCaused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\nCaused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app's AndroidManifest.xml does not exist.  \n    You must have the following declaration within the &lt;application&gt; element:     \n    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n    at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                         at com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                          at com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                           at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                          at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                          at com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                            at com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                         at com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                          at com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                            at com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                            at androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\n    at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\n    at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\n    at android.app.Activity.performCreate(Activity.java:6662)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1686242844,"post_id":76433994,"comment_id":134775619,"body_markdown":"Have you checked args with `System.out.println(args[0]);` ?","body":"Have you checked args with <code>System.out.println(args[0]);</code> ?"},{"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"score":2,"creation_date":1686243279,"post_id":76433994,"comment_id":134775719,"body_markdown":"do those input lines have windows/dos line endings (`\\r\\n`)? the error message a) references the last number in the line (`6228865`) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with `java` so making a guess at this point ...) I&#39;m wondering if a trailing `\\r` would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (`bash` command): `typeset -p output`?","body":"do those input lines have windows/dos line endings (<code>\\r\\n</code>)? the error message a) references the last number in the line (<code>6228865</code>) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with <code>java</code> so making a guess at this point ...) I&#39;m wondering if a trailing <code>\\r</code> would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (<code>bash</code> command): <code>typeset -p output</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686243505,"post_id":76433994,"comment_id":134775767,"body_markdown":"Note: An easier way to omit the first line is with `sed 1d`. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of `String::trim` would likely fix it.","body":"Note: An easier way to omit the first line is with <code>sed 1d</code>. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of <code>String::trim</code> would likely fix it."},{"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"score":1,"creation_date":1686243745,"post_id":76433994,"comment_id":134775813,"body_markdown":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a `\\r` at the end of the line (ie, end of the 2nd number)","body":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a <code>\\r</code> at the end of the line (ie, end of the 2nd number)"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1686245556,"post_id":76433994,"comment_id":134776150,"body_markdown":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - `sed` and `awk` immediately come to mind... for example `echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s/,/\\r\\n/g&#39;`","body":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - <code>sed</code> and <code>awk</code> immediately come to mind... for example <code>echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s&#47;,&#47;\\r\\n&#47;g&#39;</code>"},{"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"score":0,"creation_date":1686364385,"post_id":76433994,"comment_id":134792770,"body_markdown":"Thank you, I already checked the args[0] and printed without additional either `\\r`or `\\n`. I believe those characters exists in my args. And solved by using `trim()`.","body":"Thank you, I already checked the args[0] and printed without additional either <code>\\r</code>or <code>\\n</code>. I believe those characters exists in my args. And solved by using <code>trim()</code>."}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1686243190,"post_id":76434089,"comment_id":134775696,"body_markdown":"Could also try `echo $output | od -xc`","body":"Could also try <code>echo $output | od -xc</code>"}],"tags":[],"owner":{"account_id":28551451,"reputation":343,"user_id":21856268,"display_name":"lambda-larry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686252634,"creation_date":1686242934,"answer_id":76434089,"question_id":76433994,"body_markdown":"I suspect that there is a `\\r` at the end of the last argument, which explains why `Exception` is spelled `&quot;xception`.\r\n\r\nYou can confirm that it is the case by pipe the output to a hex dump.\r\n\r\n```\r\njava -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\r\n```\r\n\r\n\r\nYou can trim the `\\r` of with `tr -d &#39;\\r&#39;` in the bash part or strip the argument in the Java part.\r\n\r\n```java\r\nString[] values = args[0].strip().split(&quot;,&quot;);\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>I suspect that there is a <code>\\r</code> at the end of the last argument, which explains why <code>Exception</code> is spelled <code>&quot;xception</code>.</p>\n<p>You can confirm that it is the case by pipe the output to a hex dump.</p>\n<pre><code>java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\n</code></pre>\n<p>You can trim the <code>\\r</code> of with <code>tr -d '\\r'</code> in the bash part or strip the argument in the Java part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] values = args[0].strip().split(&quot;,&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"score":0,"creation_date":1686364443,"post_id":76434960,"comment_id":134792775,"body_markdown":"Thanks! It worked by using `.trim()` I didn&#39;t think of that.","body":"Thanks! It worked by using <code>.trim()</code> I didn&#39;t think of that."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686367616,"post_id":76434960,"comment_id":134792921,"body_markdown":"Sure thing, glad it helped.","body":"Sure thing, glad it helped."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686250959,"creation_date":1686250959,"answer_id":76434960,"question_id":76433994,"body_markdown":"If there is a _[non-printing character](https://en.wikipedia.org/wiki/Control_character)_ there, typically the _[String#strip](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip())_ method will remove it.  \r\n_[String#trim](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim())_ may work, also.\r\n\r\nTry the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] values = args[0].split(&quot;,&quot;);\r\n\r\n    System.out.println(Integer.parseInt(values[0].strip()));\r\n    System.out.println(Integer.parseInt(values[1].strip()));\r\n}\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>If there is a <em><a href=\"https://en.wikipedia.org/wiki/Control_character\" rel=\"nofollow noreferrer\">non-printing character</a></em> there, typically the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">String#strip</a></em> method will remove it.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">String#trim</a></em> may work, also.</p>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] values = args[0].split(&quot;,&quot;);\n\n    System.out.println(Integer.parseInt(values[0].strip()));\n    System.out.println(Integer.parseInt(values[1].strip()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686296940,"creation_date":1686296940,"answer_id":76438242,"question_id":76433994,"body_markdown":"Since you mentioned that your `bundletool.jar` produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a\r\n\r\n    nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , &#39;{print $1, $2}&#39;) )\r\n\r\nYou then have the first number in `${nums[0]}` and the second one in `${nums[1]}`\r\n\r\n","title":"Bash script command output error when splitting up and convert to int","body":"<p>Since you mentioned that your <code>bundletool.jar</code> produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a</p>\n<pre><code>nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , '{print $1, $2}') )\n</code></pre>\n<p>You then have the first number in <code>${nums[0]}</code> and the second one in <code>${nums[1]}</code></p>\n"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1686364485,"accepted_answer_id":76434960,"answer_count":3,"score":-2,"last_activity_date":1686296940,"creation_date":1686242166,"question_id":76433994,"body_markdown":"I create a bash script to read the output from another command (`java -jar ...`).\r\n\r\nThe result from the command is like below:\r\n```txt\r\nMIN,MAX\r\n6165350,6228865\r\n```\r\n\r\nI omit the first line using `head -2 | tail -1` so the output will become\r\n```txt\r\n6165350,6228865\r\n```\r\n\r\nAnd i save it to the variable called `output`\r\n```sh\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\n```\r\n\r\nLast, I create java file to split the output results\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        String[] values = args[0].split(&quot;,&quot;);\r\n\r\n        System.out.println(Integer.parseInt(values[0]));\r\n        System.out.println(Integer.parseInt(values[1]));\r\n    }\r\n}\r\n```\r\n\r\nAnd below is the final bash script\r\n```sh\r\n#!bin/bash\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\njava Demo $output\r\n```\r\n\r\nWhen i run the bash, why i&#39;m getting the error\r\n```txt\r\n6165350\r\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n        at Demo.main(Demo.java:8)\r\n```\r\n\r\nI get the correct results when i try to change the `output`\r\n```\r\noutput=&quot;6165350,6228865&quot;\r\n```\r\n\r\nThank you","title":"Bash script command output error when splitting up and convert to int","body":"<p>I create a bash script to read the output from another command (<code>java -jar ...</code>).</p>\n<p>The result from the command is like below:</p>\n<pre><code>MIN,MAX\n6165350,6228865\n</code></pre>\n<p>I omit the first line using <code>head -2 | tail -1</code> so the output will become</p>\n<pre><code>6165350,6228865\n</code></pre>\n<p>And i save it to the variable called <code>output</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>output=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\n</code></pre>\n<p>Last, I create java file to split the output results</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Demo {\n    public static void main(String[] args) {\n        String[] values = args[0].split(&quot;,&quot;);\n\n        System.out.println(Integer.parseInt(values[0]));\n        System.out.println(Integer.parseInt(values[1]));\n    }\n}\n</code></pre>\n<p>And below is the final bash script</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!bin/bash\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\njava Demo $output\n</code></pre>\n<p>When i run the bash, why i'm getting the error</p>\n<pre><code>6165350\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at Demo.main(Demo.java:8)\n</code></pre>\n<p>I get the correct results when i try to change the <code>output</code></p>\n<pre><code>output=&quot;6165350,6228865&quot;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","api","sonarqube","metrics","sonarqube-scan"],"owner":{"account_id":28785840,"reputation":1,"user_id":22046321,"display_name":"irfan basha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686296611,"creation_date":1686296611,"question_id":76438210,"body_markdown":"Needed Sonar API to get the metrics from last analysed branch \r\n\r\nI am fetching the sonar metrics using this api call. https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\r\n\r\nThis gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.","title":"Sonar API Metrics","body":"<p>Needed Sonar API to get the metrics from last analysed branch</p>\n<p>I am fetching the sonar metrics using this api call. <a href=\"https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\" rel=\"nofollow noreferrer\">https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage</a></p>\n<p>This gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1686244645,"post_id":76433481,"comment_id":134775986,"body_markdown":"How did you install the CLI? What&#39;s the output of `java -version` on your box?","body":"How did you install the CLI? What&#39;s the output of <code>java -version</code> on your box?"},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686246641,"post_id":76433481,"comment_id":134776368,"body_markdown":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus.","body":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686247324,"post_id":76433481,"comment_id":134776519,"body_markdown":"Could you try `mvn quarkus:dev` w/o `compile`, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks.","body":"Could you try <code>mvn quarkus:dev</code> w/o <code>compile</code>, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686250290,"post_id":76433481,"comment_id":134777038,"body_markdown":"No, this does not fail like the CLI. It starts up Dev mode as expected.","body":"No, this does not fail like the CLI. It starts up Dev mode as expected."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686254855,"post_id":76433481,"comment_id":134777779,"body_markdown":"Thanks for checking. Do you have `mvnw` in the project? Could you check whether using `mvnw` vs `mvn` makes a difference? The CLI would prefer `mvnw` if it exists. Thanks.","body":"Thanks for checking. Do you have <code>mvnw</code> in the project? Could you check whether using <code>mvnw</code> vs <code>mvn</code> makes a difference? The CLI would prefer <code>mvnw</code> if it exists. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686400141,"post_id":76433481,"comment_id":134795250,"body_markdown":"With `mvnw` the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose.","body":"With <code>mvnw</code> the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose."}],"answers":[{"comments":[{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686400473,"post_id":76438187,"comment_id":134795285,"body_markdown":"Based on this I found that the JAVA_HOME variable is wrongly set. I use `jenv` which apparently was configured incorrectly. I found that there was a plugin to manage it better: https://stackoverflow.com/a/36238219/878523 .\nThis made the JAVA_HOME variable to be configured correctly and the CLI commands are working again. Thanks a lot.","body":"Based on this I found that the JAVA_HOME variable is wrongly set. I use <code>jenv</code> which apparently was configured incorrectly. I found that there was a plugin to manage it better: <a href=\"https://stackoverflow.com/a/36238219/878523\">stackoverflow.com/a/36238219/878523</a> . This made the JAVA_HOME variable to be configured correctly and the CLI commands are working again. Thanks a lot."}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686296476,"creation_date":1686296476,"answer_id":76438187,"question_id":76433481,"body_markdown":"The CLI Homebrew packaging is using the following script to determine the `java` binary that will be executed:\r\n\r\n```bash\r\n# OS specific support.  $var _must_ be set to either true or false.\r\ncygwin=false;\r\ndarwin=false;\r\ncase &quot;`uname`&quot; in\r\n  CYGWIN*) cygwin=true ;;\r\n  Darwin*) darwin=true\r\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\r\n             JAVA_VERSION=&quot;CurrentJDK&quot;\r\n           else\r\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\r\n           fi\r\n\t\t   if [ -z &quot;$JAVA_HOME&quot; ]; then\r\n\t\t      if [ -x &quot;/usr/libexec/java_home&quot; ]; then\r\n\t\t\t      JAVA_HOME=`/usr/libexec/java_home`\r\n\t\t\t  else\r\n\t\t\t      JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\r\n\t\t\t  fi\r\n           fi       \r\n           ;;\r\nesac\r\n\r\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\r\n  if [ -r /etc/gentoo-release ] ; then\r\n    JAVA_HOME=`java-config --jre-home`\r\n  fi\r\nfi\r\n\r\n# For Cygwin, ensure paths are in UNIX format before anything is touched\r\nif $cygwin ; then\r\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\r\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\r\nfi\r\n\r\n# If a specific java binary isn&#39;t specified search for the standard &#39;java&#39; binary\r\nif [ -z &quot;$JAVACMD&quot; ] ; then\r\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n      # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n    else\r\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n  else\r\n    JAVACMD=`which java`\r\n  fi\r\nfi\r\n```\r\n\r\nIf you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the `java` from your `$PATH` than Maven is using.\r\n\r\nIt&#39;s very environment-dependent so it&#39;s hard to help more without having the environment at hand.","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>The CLI Homebrew packaging is using the following script to determine the <code>java</code> binary that will be executed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\ncase &quot;`uname`&quot; in\n  CYGWIN*) cygwin=true ;;\n  Darwin*) darwin=true\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\n             JAVA_VERSION=&quot;CurrentJDK&quot;\n           else\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\n           fi\n           if [ -z &quot;$JAVA_HOME&quot; ]; then\n              if [ -x &quot;/usr/libexec/java_home&quot; ]; then\n                  JAVA_HOME=`/usr/libexec/java_home`\n              else\n                  JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\n              fi\n           fi       \n           ;;\nesac\n\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\n  if [ -r /etc/gentoo-release ] ; then\n    JAVA_HOME=`java-config --jre-home`\n  fi\nfi\n\n# For Cygwin, ensure paths are in UNIX format before anything is touched\nif $cygwin ; then\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\nfi\n\n# If a specific java binary isn't specified search for the standard 'java' binary\nif [ -z &quot;$JAVACMD&quot; ] ; then\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\n    fi\n  else\n    JAVACMD=`which java`\n  fi\nfi\n</code></pre>\n<p>If you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the <code>java</code> from your <code>$PATH</code> than Maven is using.</p>\n<p>It's very environment-dependent so it's hard to help more without having the environment at hand.</p>\n"}],"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438187,"answer_count":1,"score":1,"last_activity_date":1686296476,"creation_date":1686238230,"question_id":76433481,"body_markdown":"In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.   \r\nNormally I use the Quarkus CLI and execute `quarkus dev` or `quarkus test` while developing.   \r\n\r\nAfter upgrading I noticed that these commands no longer work and give the following error:    \r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n```\r\n\r\nIt seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).    \r\nI have verified my configuration using `mvn clean verify`, `mvn compile quarkus:dev` and `mvn compile quarkus:test` which all build successfully.    \r\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.   \r\nThe application runs in a Java 17 based Docker container without any problems.   \r\nThe problem here is that Quarkus CLI seems to choose a different Java version.   \r\n\r\nWhat is the reason Quarkus CLI choses Java 11 instead of Java 17?   \r\nHow can I configure Quarkus CLI to use the same Java version as Maven?   \r\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?    ","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.<br />\nNormally I use the Quarkus CLI and execute <code>quarkus dev</code> or <code>quarkus test</code> while developing.</p>\n<p>After upgrading I noticed that these commands no longer work and give the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n    at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n    at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\n</code></pre>\n<p>It seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).<br />\nI have verified my configuration using <code>mvn clean verify</code>, <code>mvn compile quarkus:dev</code> and <code>mvn compile quarkus:test</code> which all build successfully.<br />\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.<br />\nThe application runs in a Java 17 based Docker container without any problems.<br />\nThe problem here is that Quarkus CLI seems to choose a different Java version.</p>\n<p>What is the reason Quarkus CLI choses Java 11 instead of Java 17?<br />\nHow can I configure Quarkus CLI to use the same Java version as Maven?<br />\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?</p>\n"},{"tags":["java","android","svg"],"answers":[{"comments":[{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":2,"creation_date":1289368297,"post_id":4141570,"comment_id":4466862,"body_markdown":"Batik is pure java and open source. If it&#39;s not supported natively on the Android platform, you might try compiling it from source and bundling it with your project.","body":"Batik is pure java and open source. If it&#39;s not supported natively on the Android platform, you might try compiling it from source and bundling it with your project."},{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":0,"creation_date":1289371439,"post_id":4141570,"comment_id":4467209,"body_markdown":"You probably will need some files from Batik. Android doesn&#39;t use java class files so you&#39;ll probably have to compile the java source for Batik to native Android dex files for them to be useful. It may be a lot of files too.","body":"You probably will need some files from Batik. Android doesn&#39;t use java class files so you&#39;ll probably have to compile the java source for Batik to native Android dex files for them to be useful. It may be a lot of files too."}],"tags":[],"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1686295959,"creation_date":1289367825,"answer_id":4141570,"question_id":4141544,"body_markdown":"Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See [this answer][3] and [this post][4] for details.\r\n\r\nBatik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won&#39;t work out-of-the-box on Android.\r\n\r\n\r\n  [3]: https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\r\n  [4]: https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\r\n","title":"svg files rendering in android","body":"<p>Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See <a href=\"https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\">this answer</a> and <a href=\"https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\" rel=\"nofollow noreferrer\">this post</a> for details.</p>\n<p>Batik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won't work out-of-the-box on Android.</p>\n"},{"comments":[{"owner":{"account_id":352210,"reputation":2900,"user_id":689152,"accept_rate":57,"display_name":"dsdsdsdsd"},"score":0,"creation_date":1461334140,"post_id":7421159,"comment_id":61166437,"body_markdown":"I think this answer is referring to browser-based apps on android, as opposed to native-apps on android ?","body":"I think this answer is referring to browser-based apps on android, as opposed to native-apps on android ?"}],"tags":[],"owner":{"account_id":152374,"reputation":12714,"user_id":366856,"accept_rate":69,"display_name":"jbeard4"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316024829,"creation_date":1316024829,"answer_id":7421159,"question_id":4141544,"body_markdown":"If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.\r\n\r\nAlternatively, if you do not require support for scripting or animation, you try using this library: http://code.google.com/p/svg-android/","title":"svg files rendering in android","body":"<p>If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.</p>\n\n<p>Alternatively, if you do not require support for scripting or animation, you try using this library: <a href=\"http://code.google.com/p/svg-android/\" rel=\"nofollow\">http://code.google.com/p/svg-android/</a></p>\n"},{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359982476,"creation_date":1359982476,"answer_id":14687238,"question_id":4141544,"body_markdown":"Another alternative is AndroidSVG (http://code.google.com/p/androidsvg/).\r\n","title":"svg files rendering in android","body":"<p>Another alternative is AndroidSVG (<a href=\"http://code.google.com/p/androidsvg/\" rel=\"nofollow\">http://code.google.com/p/androidsvg/</a>).</p>\n"}],"owner":{"account_id":229944,"reputation":909,"user_id":493244,"accept_rate":47,"display_name":"user493244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9123,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":4141570,"answer_count":3,"score":5,"last_activity_date":1686295959,"creation_date":1289367544,"question_id":4141544,"body_markdown":"I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I&#39;m getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?","title":"svg files rendering in android","body":"<p>I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I'm getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686245051,"post_id":76434242,"comment_id":134776064,"body_markdown":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. `Objects::requireNonNull`.","body":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. <code>Objects::requireNonNull</code>."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1686245342,"creation_date":1686245342,"answer_id":76434329,"question_id":76434242,"body_markdown":"You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:\r\n```java\r\nprivate static String question(final MyPojo mypojo) {\r\n    return Optional.ofNullable(mypojo)\r\n              .map(MyPojo::someField)\r\n              .map(String::toLowerCase)\r\n              .orElse(null);\r\n}\r\n```","title":"Use Java Optional to refactor null check","body":"<p>You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String question(final MyPojo mypojo) {\n    return Optional.ofNullable(mypojo)\n              .map(MyPojo::someField)\n              .map(String::toLowerCase)\n              .orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686246813,"creation_date":1686246813,"answer_id":76434513,"question_id":76434242,"body_markdown":"The old fashioned way is with the `? :` operators:\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        return (null == mypojo) ? null\r\n            : (null == mypojo.someField()) ? null\r\n            : mypojo.someField().toLowerCase();\r\n    }\r\n```","title":"Use Java Optional to refactor null check","body":"<p>The old fashioned way is with the <code>? :</code> operators:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        return (null == mypojo) ? null\n            : (null == mypojo.someField()) ? null\n            : mypojo.someField().toLowerCase();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686295908,"creation_date":1686247476,"answer_id":76434581,"question_id":76434242,"body_markdown":"First change the record:\r\n```\r\npublic record MyPojo( String someField, String someOtherField )\r\n{\r\n    public MyPojo\r\n    {\r\n        Objects.requireNonNull( someField );\r\n        Objects.requireNonNull( someOtherField );\r\n    }\r\n}\r\n```\r\nThis ensures that the attributes are never `null`.\r\n\r\nThen `question()` can look like this:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().toLowerCase() \r\n        : null;\r\n}\r\n```\r\n\r\nIf `null` should be allowed and you insist to use `Optional`, you need to modify the Pojo like this:\r\n```\r\npublic final class MyPojo\r\n{\r\n    private final String m_SomeField;\r\n    private final String m_SomeOtherField;\r\n    public MyPojo( String someField, String someOtherField )\r\n    {\r\n        m_SomeField = someField;\r\n        m_SomeOtherField = someOtherField;\r\n    }\r\n\r\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\r\n    …\r\n}\r\n```\r\n\r\n`question()` would look like this afterwards:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \r\n        : null;\r\n}\r\n```\r\nThe approach suggested in [this answer][1] works, but it is strongly discouraged to abuse `Optional` in this way as a replacement for `if-then-else` or `?-:`. See [here][2] as one reference:\r\n\r\n&gt; Another mistake is misusing `Optional` and treating it as a replacement  for conditional statements. Although `Optional` provides convenient methods like `orElse()` and `orElseGet()` to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that `Optional` is not intended to replace traditional `if-else` statements. Instead, it should be used when the absence of a value is a valid and expected outcome.\r\n&gt;\r\n&gt; […]\r\n&gt; \r\n&gt; […] Adhering to best practices such as preferring `Optional` as a method return type […] will enhance the readability and maintainability of your code.\r\n\r\n  [1]: https://stackoverflow.com/a/76434329/1554195\r\n  [2]: https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=","title":"Use Java Optional to refactor null check","body":"<p>First change the record:</p>\n<pre><code>public record MyPojo( String someField, String someOtherField )\n{\n    public MyPojo\n    {\n        Objects.requireNonNull( someField );\n        Objects.requireNonNull( someOtherField );\n    }\n}\n</code></pre>\n<p>This ensures that the attributes are never <code>null</code>.</p>\n<p>Then <code>question()</code> can look like this:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().toLowerCase() \n        : null;\n}\n</code></pre>\n<p>If <code>null</code> should be allowed and you insist to use <code>Optional</code>, you need to modify the Pojo like this:</p>\n<pre><code>public final class MyPojo\n{\n    private final String m_SomeField;\n    private final String m_SomeOtherField;\n    public MyPojo( String someField, String someOtherField )\n    {\n        m_SomeField = someField;\n        m_SomeOtherField = someOtherField;\n    }\n\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\n    …\n}\n</code></pre>\n<p><code>question()</code> would look like this afterwards:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \n        : null;\n}\n</code></pre>\n<p>The approach suggested in <a href=\"https://stackoverflow.com/a/76434329/1554195\">this answer</a> works, but it is strongly discouraged to abuse <code>Optional</code> in this way as a replacement for <code>if-then-else</code> or <code>?-:</code>. See <a href=\"https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=\" rel=\"nofollow noreferrer\">here</a> as one reference:</p>\n<blockquote>\n<p>Another mistake is misusing <code>Optional</code> and treating it as a replacement  for conditional statements. Although <code>Optional</code> provides convenient methods like <code>orElse()</code> and <code>orElseGet()</code> to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that <code>Optional</code> is not intended to replace traditional <code>if-else</code> statements. Instead, it should be used when the absence of a value is a valid and expected outcome.</p>\n<p>[…]</p>\n<p>[…] Adhering to best practices such as preferring <code>Optional</code> as a method return type […] will enhance the readability and maintainability of your code.</p>\n</blockquote>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76434329,"answer_count":3,"score":0,"last_activity_date":1686295908,"creation_date":1686244347,"question_id":76434242,"body_markdown":"What I am trying to achieve:\r\n\r\nUse Java Optional to refactor null check.\r\n\r\nBackground:\r\n\r\nI have a straightforward POJO class:\r\n\r\n```\r\npublic record MyPojo(String someField, String someOtherField)\r\n```\r\n\r\nAnd this method:\r\n\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        if (null == mypojo) {\r\n            return null;\r\n        } else if (null == mypojo.someField()) {\r\n            return null;\r\n        } else {\r\n            return mypojo.someField().toLowerCase();\r\n        }\r\n    }\r\n```\r\n\r\nIssue:\r\n\r\nAs you can see, while super easy to understand, this code is very verbose and lengthy.\r\nMyPojo can be bull, and so can MyPojo.someField.\r\nI need to check those two preconditions before applying my business logic (here lower case just for example)\r\n\r\nQuestion:\r\n\r\nIs there a smarter way, either using Optional, or something smarter, to refactor this?\r\n","title":"Use Java Optional to refactor null check","body":"<p>What I am trying to achieve:</p>\n<p>Use Java Optional to refactor null check.</p>\n<p>Background:</p>\n<p>I have a straightforward POJO class:</p>\n<pre><code>public record MyPojo(String someField, String someOtherField)\n</code></pre>\n<p>And this method:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        if (null == mypojo) {\n            return null;\n        } else if (null == mypojo.someField()) {\n            return null;\n        } else {\n            return mypojo.someField().toLowerCase();\n        }\n    }\n</code></pre>\n<p>Issue:</p>\n<p>As you can see, while super easy to understand, this code is very verbose and lengthy.\nMyPojo can be bull, and so can MyPojo.someField.\nI need to check those two preconditions before applying my business logic (here lower case just for example)</p>\n<p>Question:</p>\n<p>Is there a smarter way, either using Optional, or something smarter, to refactor this?</p>\n"},{"tags":["java","spring","spring-boot","algorithm"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1686295620,"post_id":76438047,"comment_id":134782071,"body_markdown":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests.","body":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1686295791,"post_id":76438047,"comment_id":134782098,"body_markdown":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters.","body":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters."},{"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"score":0,"creation_date":1686296981,"post_id":76438047,"comment_id":134782295,"body_markdown":"@birca123 No I need to read about it. Thanks for the suggestion.","body":"@birca123 No I need to read about it. Thanks for the suggestion."},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1686304222,"post_id":76438047,"comment_id":134783649,"body_markdown":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway.","body":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway."}],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686295191,"creation_date":1686295191,"question_id":76438047,"body_markdown":"I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration. \r\n\r\nIs there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?","title":"Dynamically adding the endpoints in Spring Controller","body":"<p>I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration.</p>\n<p>Is there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9844,"page":381,"page_size":100}
