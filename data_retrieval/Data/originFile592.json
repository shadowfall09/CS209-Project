{"items":[{"tags":["python","java","windows","optapy"],"comments":[{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1678131061,"post_id":75622934,"comment_id":133470570,"body_markdown":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?","body":"What the exception above &quot;During the handling of the above exception, another exception occur&quot;? The traceback in the image does not point to any optapy code (and seems to be related to prettifying the actual traceback). Can you give the full traceback please?"}],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294959,"creation_date":1678294959,"answer_id":75676054,"question_id":75622934,"body_markdown":"From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is `JAVA_HOME`, not `JAVA-HOME`; ensure `JAVA_HOME` is set to the path where Java JDK-17.0.6.10 is installed.","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>From the top error message, it appears Java 8 is being used; OptaPlanner and OptaPy require Java 11. The environment variable that need to be set is <code>JAVA_HOME</code>, not <code>JAVA-HOME</code>; ensure <code>JAVA_HOME</code> is set to the path where Java JDK-17.0.6.10 is installed.</p>\n"}],"owner":{"account_id":27923646,"reputation":1,"user_id":21323198,"display_name":"vctrgv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678294959,"creation_date":1677814298,"question_id":75622934,"body_markdown":"I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn&#39;t let me and all I get is a big error where it says the OSError: could not get source code.\r\n\r\npd: I&#39;m using python 3.9\r\n\r\n[error message](https://i.stack.imgur.com/Wh1oh.png)\r\n[error message 2](https://i.stack.imgur.com/LWluE.png)\r\n\r\nI hope someone can help me with this problem and tell me what to do","title":"Optapy error with getting the rigth JAVA version and couldn&#39;t get source code in a ipynb","body":"<p>I am trying to use the library optapy with a conda environment created locally. I have installed all of the libraries I needes to, also installed Java JDK-17.0.6.10 and created a JAVA-HOME variable. But when I try to run and try to use optapy it doesn't let me and all I get is a big error where it says the OSError: could not get source code.</p>\n<p>pd: I'm using python 3.9</p>\n<p><a href=\"https://i.stack.imgur.com/Wh1oh.png\" rel=\"nofollow noreferrer\">error message</a>\n<a href=\"https://i.stack.imgur.com/LWluE.png\" rel=\"nofollow noreferrer\">error message 2</a></p>\n<p>I hope someone can help me with this problem and tell me what to do</p>\n"},{"tags":["java","kotlin","android-tv","leanback"],"owner":{"account_id":27873048,"reputation":1,"user_id":21283114,"display_name":"dev123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294941,"creation_date":1678294941,"question_id":75676048,"body_markdown":"I need to add a banner (that is not selectable or focusable) between two rows.\r\n\r\nWhen I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top. \r\n\r\nIf I add the view to FrameLayout programmatically like [this](https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment), the view is in the foreground with rows scrolling in the background. \r\n\r\nI want the view to scroll with the rows. \r\n\r\nIf I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?","title":"Add view to RowsSupportFragment AndroidTV Leanback?","body":"<p>I need to add a banner (that is not selectable or focusable) between two rows.</p>\n<p>When I add it as an ImageView to FrameLayout xml, the view is in the background with the rows scrolling on top.</p>\n<p>If I add the view to FrameLayout programmatically like <a href=\"https://stackoverflow.com/questions/54287201/add-custom-view-to-androidtvs-leanback-rowssupportfragment\">this</a>, the view is in the foreground with rows scrolling in the background.</p>\n<p>I want the view to scroll with the rows.</p>\n<p>If I create a custom FrameLayout and add the view would it scroll with the content? Or is there another way to achieve this?</p>\n"},{"tags":["java","selenium","selenium-webdriver","geckodriver","selenium-java"],"comments":[{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1687665345,"post_id":72185792,"comment_id":134967392,"body_markdown":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi.","body":"As far as I know, devtools support only Chrome as of now. We may either use old LogType.PERFORMANCE such entities or wait for BiDi."}],"owner":{"account_id":2378991,"reputation":100,"user_id":2081492,"display_name":"Lucas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678294611,"creation_date":1652183412,"question_id":72185792,"body_markdown":"In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.\r\n\r\nFor the tests I am using:\r\n\r\n - Firefox 100.0\r\n - geckodriver 0.31\r\n - Selenium 4.1.4\r\n\r\n```\r\npublic static void main(String... args) {\r\n    \r\n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\r\n\r\n    try {\r\n        \r\n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\r\n        devTools.createSessionIfThereIsNotOne();\r\n        devTools.send(Log.enable());\r\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\r\n\r\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\r\n\r\n    } finally {\r\n        webDriver.quit();   \r\n    }\r\n}\r\n```\r\n\r\nRunning the previous snippet will always raise the following errors.\r\n\r\n```\r\nJavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\r\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=400 text=Bad Request\r\njava.io.IOException: Invalid Status code=400 text=Bad Request\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n```\r\nUnable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\r\nBuild info: version: &#39;4.1.4&#39;, revision: &#39;535d840ee2&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.13&#39;\r\nDriver info: driver.version: FirefoxDriver\r\n```","title":"Unable to establish websocket connection error getting Firefox console logs using Selenium for Java","body":"<p>In my Selenium tests using Firefox I always get an error when I try to get the browser console logs. Same code works fine for Chrome and Edge.</p>\n<p>For the tests I am using:</p>\n<ul>\n<li>Firefox 100.0</li>\n<li>geckodriver 0.31</li>\n<li>Selenium 4.1.4</li>\n</ul>\n<pre><code>public static void main(String... args) {\n    \n    WebDriver webDriver = WebDriverManager.firefoxdriver().create();\n\n    try {\n        \n        DevTools devTools = ((HasDevTools) webDriver).getDevTools();\n        devTools.createSessionIfThereIsNotOne();\n        devTools.send(Log.enable());\n        devTools.addListener(Log.entryAdded(), logEntry -&gt; System.out.println(logEntry.getText()));\n\n        webDriver.navigate().to(&quot;https://stackoverflow.com&quot;);\n\n    } finally {\n        webDriver.quit();   \n    }\n}\n</code></pre>\n<p>Running the previous snippet will always raise the following errors.</p>\n<pre><code>JavaScript error: chrome://remote/content/server/WebSocketHandshake.jsm, line 182: Error: The handshake request has incorrect Origin header http://localhost:60734\nMay 10, 2022 1:32:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=400 text=Bad Request\njava.io.IOException: Invalid Status code=400 text=Bad Request\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:314)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:435)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<pre><code>Unable to establish websocket connection to http://localhost:60734/devtools/browser/69e68eb4-b5c5-45c4-b53f-62023f856b44\nBuild info: version: '4.1.4', revision: '535d840ee2'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.13'\nDriver info: driver.version: FirefoxDriver\n</code></pre>\n"},{"tags":["java","arrays","indexof"],"comments":[{"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"score":1,"creation_date":1337315037,"post_id":10646520,"comment_id":13804481,"body_markdown":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses","body":"jmort&#39;s answer does give the position, the other two are good for doing something when it is found. thx for the quick respnses"}],"answers":[{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1337313989,"creation_date":1337313989,"answer_id":10646562,"question_id":10646520,"body_markdown":"You have to check each item in the array individually, as each array item is a separate string:\r\n\r\n    String[] full = { &quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot; };\r\n    String doT = &quot;b2&quot;;\r\n   \r\n    for(int i = 0; i &lt; full.length; i++) {\r\n        if(full[i].contains(doT)) {\r\n            System.out.println(&quot;Found item at index &quot; + i);\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You have to check each item in the array individually, as each array item is a separate string:</p>\n\n<pre><code>String[] full = { \"a1a\", \"b2b\", \"c3c\" };\nString doT = \"b2\";\n\nfor(int i = 0; i &lt; full.length; i++) {\n    if(full[i].contains(doT)) {\n        System.out.println(\"Found item at index \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314003,"creation_date":1337314003,"answer_id":10646565,"question_id":10646520,"body_markdown":"You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.\r\n\r\n    for (String s : FullDirPrt) {\r\n        if (s.indexOf(&quot;bs&quot;) &gt; 0) {\r\n            // do something\r\n        }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>You are matching on the entire string, you are going to have to loop through the whole list or array, and then check each indexOf on each of those strings.</p>\n\n<pre><code>for (String s : FullDirPrt) {\n    if (s.indexOf(\"bs\") &gt; 0) {\n        // do something\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337314183,"creation_date":1337314183,"answer_id":10646584,"question_id":10646520,"body_markdown":"With Simple String array without using List also you can do like below.\r\n\r\n    String[] full={&quot;a1a&quot;, &quot;b2b&quot;, &quot;c3c&quot;};\r\n    String doT = &quot;b2&quot;;\r\n    for(String str:full){\r\n    if(str.contains(doT)){\r\n    System.out.println(str+&quot; contains &quot;+doT);\r\n    }\r\n    }","title":"Java - find indexof for part of a needle in array haystack","body":"<p>With Simple String array without using List also you can do like below.</p>\n\n<pre><code>String[] full={\"a1a\", \"b2b\", \"c3c\"};\nString doT = \"b2\";\nfor(String str:full){\nif(str.contains(doT)){\nSystem.out.println(str+\" contains \"+doT);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22811207,"reputation":1,"user_id":16962469,"display_name":"Aditya Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678294080,"creation_date":1677862311,"answer_id":75629824,"question_id":10646520,"body_markdown":"    public int stringFinder(String haystack, String needle) {\r\n        return haystack.indexOf(needle);       \r\n    } \r\n\r\n&gt; haystack is String\r\n&gt; needle which is to find in It\r\n\r\n    string.indexOf(stringTofind)","title":"Java - find indexof for part of a needle in array haystack","body":"<pre><code>public int stringFinder(String haystack, String needle) {\n    return haystack.indexOf(needle);       \n} \n</code></pre>\n<blockquote>\n<p>haystack is String\nneedle which is to find in It</p>\n</blockquote>\n<pre><code>string.indexOf(stringTofind)\n</code></pre>\n"}],"owner":{"account_id":1220345,"reputation":2383,"user_id":1187098,"accept_rate":62,"display_name":"art vanderlay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10646562,"answer_count":4,"score":1,"last_activity_date":1678294080,"creation_date":1337313626,"question_id":10646520,"body_markdown":"I am trying to find what array index position contains part of a string.\r\n\r\n    FullDirPrt = &quot;a1a&quot; &quot;b2b&quot; &quot;c3c&quot;\r\n\r\n    String doT =&quot;b2&quot;;\r\n    int DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\r\n\r\nIf I search for b2b it returns indexOf. If I search for only b2, it returns -1.\r\n","title":"Java - find indexof for part of a needle in array haystack","body":"<p>I am trying to find what array index position contains part of a string.</p>\n\n<pre><code>FullDirPrt = \"a1a\" \"b2b\" \"c3c\"\n\nString doT =\"b2\";\nint DotPos = Arrays.asList(FullDirPrt).indexOf(doT);\n</code></pre>\n\n<p>If I search for b2b it returns indexOf. If I search for only b2, it returns -1.</p>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1678284913,"post_id":75673879,"comment_id":133502832,"body_markdown":"Most likely, `func1` is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a [MRE](https://stackoverflow.com/help/minimal-reproducible-example). \nThe root problem with your code (aside from overusing `vars`) is that `func1` is side-effecting. Having `accum` as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here.","body":"Most likely, <code>func1</code> is called twice (perhaps, with different arguments) .. you&#39;d have to show (a lot) more of the code for it to be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>.  The root problem with your code (aside from overusing <code>vars</code>) is that <code>func1</code> is side-effecting. Having <code>accum</code> as a  mutable class member whose state changes when a method is invoked is fundamentally what causes all of the badness you experience here."},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678293764,"post_id":75673879,"comment_id":133505779,"body_markdown":"what could be a better way to achieve the goal of counting the requests here?\n\nHave verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this","body":"what could be a better way to achieve the goal of counting the requests here?  Have verified that func1 is being called just once but it calls another function func3 which has a map call to func2 but the df being passed for that is empty. Updating the code to reflect this"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678300405,"post_id":75673879,"comment_id":133507620,"body_markdown":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like `df.count()` would do what you are looking for &#129335;","body":"I am not sure what are the &quot;requests&quot; you are counting  ... Seems like <code>df.count()</code> would do what you are looking for ðŸ¤·"},{"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"score":0,"creation_date":1678343227,"post_id":75673879,"comment_id":133514595,"body_markdown":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit","body":"there is actually a logic in func2 which does not make it a add(1) call every time. func2 call could result in either adding 1 or 2 to the accumulator and I need this accumulator value later in the code to compare against a request breach limit"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1678372955,"post_id":75673879,"comment_id":133522862,"body_markdown":"I dunno ... then maybe you are adding 2 too often &#129335;\nLook, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;","body":"I dunno ... then maybe you are adding 2 too often ðŸ¤· Look, your question is essentially this: &quot;I have some code that I won&#39;t show, with some logic that I won&#39;t explain, and it doesn&#39;t work. Why?&quot;"}],"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294040,"creation_date":1678283138,"question_id":75673879,"body_markdown":"I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below: \r\n\r\n    abstract class A{\r\n      var accum = sparkCtx.accumulator(0)\r\n      def func1(df) {\r\n        var df2 = df.map(func2)\r\n        func3(df2)\r\n      }\r\n      def func3(df2) {\r\n        //filter operation on df2 which basically makes the count 0\r\n        var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\r\n        var df4 = df3.map(func2)\r\n    }\r\n    class B extends A{\r\n      def func2() {\r\n        accum.add(1)\r\n       //return df\r\n      }\r\n    }\r\n\r\nWhat am I doing wrong here?\r\n","title":"Spark accumulator giving twice the sum","body":"<p>I have a piece of code where I am declaring an accumulator in the parent class. I have a function in this parent class which maps a DataFrame to a function defined in the child classes. I have the accumulator increment by 1 in the child class function, so that every time the mapping function is called the accumulator increments by 1. So if the mapping function is called x times, accumulator should hold the value x. However I am seeing accumulator shows approx 2x on logging. The code looks something like below:</p>\n<pre><code>abstract class A{\n  var accum = sparkCtx.accumulator(0)\n  def func1(df) {\n    var df2 = df.map(func2)\n    func3(df2)\n  }\n  def func3(df2) {\n    //filter operation on df2 which basically makes the count 0\n    var df3 = df2.filter(&quot;Condition which never satisfies&quot;)\n    var df4 = df3.map(func2)\n}\nclass B extends A{\n  def func2() {\n    accum.add(1)\n   //return df\n  }\n}\n</code></pre>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"owner":{"account_id":9896308,"reputation":143,"user_id":7327706,"display_name":"Arczi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678294016,"creation_date":1678294016,"question_id":75675890,"body_markdown":"Hello I have problem to solve, I have class:\r\n\r\n    @Entity\r\n    public class Test {\r\n      private String a;\r\n      private String b;\r\n      private String c;\r\n      private String d;\r\n      private String e;\r\n    }\r\n\r\nThis entity is saved into database.\r\nNow I have (list may be changed)\r\n\r\n    List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\r\n\r\nNow database should return object with this aggregated ID from field (a,b,d);\r\nIs it way to resolve it via repository, specification etc ?\r\n\r\nActually I resolving it by switch and I check string and return correct field, but I it looks messy.\r\n\r\nAny idea to do it in better way ?\r\n","title":"Best way to dynamic aggregate field","body":"<p>Hello I have problem to solve, I have class:</p>\n<pre><code>@Entity\npublic class Test {\n  private String a;\n  private String b;\n  private String c;\n  private String d;\n  private String e;\n}\n</code></pre>\n<p>This entity is saved into database.\nNow I have (list may be changed)</p>\n<pre><code>List&lt;String&gt; w = List.of(&quot;a&quot;,&quot;b&quot;,&quot;d&quot;);\n</code></pre>\n<p>Now database should return object with this aggregated ID from field (a,b,d);\nIs it way to resolve it via repository, specification etc ?</p>\n<p>Actually I resolving it by switch and I check string and return correct field, but I it looks messy.</p>\n<p>Any idea to do it in better way ?</p>\n"},{"tags":["java","keystore","client-certificates","pem","pkcs#12"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678308285,"post_id":75665942,"comment_id":133509559,"body_markdown":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to _convert_ to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use `openssl pkcs12 -export -legacy`) (2) use a program that handles PEM, like https://keystore-explorer.org (3) use https://www.BouncyCastle.org to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box.","body":"PEM is not a keystore format supported by Java. You can (1) use OpenSSL to <i>convert</i> to PKCS12, which Java can read (except OpenSSL 3.0.0 up uses PKCS12 options that older versions of Java can&#39;t read, in that case use <code>openssl pkcs12 -export -legacy</code>) (2) use a program that handles PEM, like <a href=\"https://keystore-explorer.org\" rel=\"nofollow noreferrer\">keystore-explorer.org</a> (3) use <a href=\"https://www.BouncyCastle.org\" rel=\"nofollow noreferrer\">BouncyCastle.org</a> to read the PEM . Only (3) is now in scope for Stack, but there are hundreds of existing Qs and As from past years on all of these, just put &#39;convert PEM to Java&#39; or &#39;read PEM in Java&#39; or similar in the search box."}],"owner":{"account_id":26085885,"reputation":1,"user_id":19783418,"display_name":"User 3598"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293718,"creation_date":1678214168,"question_id":75665942,"body_markdown":"I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.\r\n\r\nI also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;\r\n\r\n    String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\r\n    String certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    byte[] stream = Base64.getDecoder().decode(certificateContent);\r\n    InputStream input = new ByteArrayInputStream(stream);\r\n    keyStore.load(input,keyStorePassword.toCharArray());\r\n\r\nHow can I import this into KeyStore? Any advice or hints are much welcome.","title":"Import of PEM certificate chain and key to Java Keystore","body":"<p>I have a base-64 encoded PEM string which contains a certificate chain and private key. When I am trying to load the same in &quot;JKS&quot; type keystore its giving &quot;java.io.IOException: Invalid keystore format&quot; error.</p>\n<p>I also tried the same with &quot;PKCS12&quot; keystore and it gives the error &quot;java.io.IOException: toDerInputStream rejects tag type 45&quot;</p>\n<pre><code>String keyStorePassword = destination.get(&quot;keyStorePassword&quot;).get().toString();\nString certificateContent = certificateObject.getContent(); //Base 64 encoded pem string\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;); //KeyStore.getInstance(&quot;PKCS12&quot;);\nbyte[] stream = Base64.getDecoder().decode(certificateContent);\nInputStream input = new ByteArrayInputStream(stream);\nkeyStore.load(input,keyStorePassword.toCharArray());\n</code></pre>\n<p>How can I import this into KeyStore? Any advice or hints are much welcome.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714144,"post_id":12985827,"comment_id":17614188,"body_markdown":"@VincenzoSanchez : I didn&#39;t feel so...","body":"@VincenzoSanchez : I didn&#39;t feel so..."},{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":2,"creation_date":1350714200,"post_id":12985827,"comment_id":17614194,"body_markdown":"Priyanka please edit your question, format code. It is difficult to read your code.","body":"Priyanka please edit your question, format code. It is difficult to read your code."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1350714259,"post_id":12985827,"comment_id":17614201,"body_markdown":"What system are you trying to login to?","body":"What system are you trying to login to?"},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"MaveÅˆãƒ„"},"score":0,"creation_date":1350714657,"post_id":12985827,"comment_id":17614251,"body_markdown":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password","body":"I am trying to login using user name Priyanka and password Priyanka but is showing in correct user name and password"}],"answers":[{"tags":[],"owner":{"account_id":1428198,"reputation":1965,"user_id":1386998,"accept_rate":62,"display_name":"Zombie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677788268,"creation_date":1350715212,"answer_id":12985963,"question_id":12985827,"body_markdown":"    private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\r\n    private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\r\n    protected void onPreExecute() {\r\n      this.dialog.setMessage(&quot;Loading ...&quot;);\r\n      this.dialog.show();\r\n    }\r\n    @Override\r\n    protected Void doInBackground(final Void...unused) {\r\n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;\r\n        username);\r\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;\r\n        password);\r\n      String auth = BusinessLogic_login.candidatelogin(username, password);\r\n      String userid = auth;\r\n      Log.i(&quot;priyanka&quot;, &quot;auth&quot;\r\n        auth);\r\n      if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\r\n        flag = true;\r\n        Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\r\n          public void run() {\r\n            final AlertDialog alertDialog51;\r\n            alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n            alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\r\n            alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                alertDialog51.dismiss();\r\n              }\r\n            });\r\n            alertDialog51.show();\r\n          }\r\n        });\r\n      }\r\n      return null;\r\n    }\r\n    @Override\r\n    protected void onPostExecute(Void result) {\r\n      if (!flag) {\r\n        Intent intnt = new Intent(getBaseContext(), Tab.class);\r\n        startActivity(intnt);\r\n      }\r\n      if (this.dialog.isShowing()) {\r\n        this.dialog.dismiss();\r\n      }\r\n     }\r\n    }\r\n\r\ntry this code... Have a `boolean` value called **flag** and set it to false. I have just used it.. you have to initialize it.\r\n\r\n`onPostExecute()` will run in the UI thread.. if you call intent in `doInBackground()` method it doesnt change in `UIThread` and you cant see the changes is what i got to know from your code.. check this","title":"Issue while navigating to new activity when using async task","body":"<pre><code>private class LoginTask extends AsyncTask &lt; Void, Void, Void &gt; {\nprivate final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);@Override\nprotected void onPreExecute() {\n  this.dialog.setMessage(&quot;Loading ...&quot;);\n  this.dialog.show();\n}\n@Override\nprotected Void doInBackground(final Void...unused) {\n  Log.i(&quot;Priyanka&quot;, &quot;username&quot;\n    username);\n  Log.i(&quot;Priyanka&quot;, &quot;password&quot;\n    password);\n  String auth = BusinessLogic_login.candidatelogin(username, password);\n  String userid = auth;\n  Log.i(&quot;priyanka&quot;, &quot;auth&quot;\n    auth);\n  if (auth.equals(&quot;0&quot;) || (auth.equals(&quot;&quot;))) {\n    flag = true;\n    Rig_ParkingActivity.this.runOnUiThread(new Runnable() {\n      public void run() {\n        final AlertDialog alertDialog51;\n        alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n        alertDialog51.setMessage(Html.fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\n        alertDialog51.setButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n          public void onClick(DialogInterface dialog, int which) {\n            alertDialog51.dismiss();\n          }\n        });\n        alertDialog51.show();\n      }\n    });\n  }\n  return null;\n}\n@Override\nprotected void onPostExecute(Void result) {\n  if (!flag) {\n    Intent intnt = new Intent(getBaseContext(), Tab.class);\n    startActivity(intnt);\n  }\n  if (this.dialog.isShowing()) {\n    this.dialog.dismiss();\n  }\n }\n}\n</code></pre>\n<p>try this code... Have a <code>boolean</code> value called <strong>flag</strong> and set it to false. I have just used it.. you have to initialize it.</p>\n<p><code>onPostExecute()</code> will run in the UI thread.. if you call intent in <code>doInBackground()</code> method it doesnt change in <code>UIThread</code> and you cant see the changes is what i got to know from your code.. check this</p>\n"}],"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"MaveÅˆãƒ„"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":12985963,"answer_count":1,"score":-4,"last_activity_date":1678293331,"creation_date":1350713846,"question_id":12985827,"body_markdown":"Can anyone please tell me how to login? I am trying to login in with the user name `Priyanka` and password `Priyanka` but it is unsuccessful.\r\n\r\nCan anyone help me out?\r\n\r\n\tpackage org.example.rig_parking;\r\n \r\n\timport android.app.Activity;\r\n\timport android.app.AlertDialog;\r\n\timport android.app.ProgressDialog;\r\n\timport android.content.Context;\r\n\timport android.content.DialogInterface;\r\n\timport android.content.Intent;\r\n\timport android.graphics.Typeface;\r\n\timport android.os.AsyncTask;\r\n\timport android.os.Bundle;\r\n\timport android.text.Html;\r\n\timport android.util.Log;\r\n\timport android.view.View;\r\n\timport android.view.View.OnClickListener;\r\n\timport android.widget.Button;\r\n\timport android.widget.EditText;\r\n\timport android.widget.TextView;\r\n\timport android.widget.Toast;\r\n\r\n\t public class Rig_ParkingActivity extends Activity {\r\n    \r\n\tString username,password;\r\n\t\r\n\t    @Override\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\r\n\t        setContentView(R.layout.main);\r\n        \r\n\r\n\t        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\r\n\t        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\r\n\t        myTextView.setTypeface(myTypeface);\r\n\t        TextView forget_main = (TextView)findViewById(R.id.forget_main);\r\n\t        forget_main.setTypeface(myTypeface);\r\n\t        final EditText email_main = (EditText)findViewById(R.id.email_main);\r\n\t        email_main.setTypeface(myTypeface);\r\n\t        final EditText password_main = (EditText)findViewById(R.id.password_main);\r\n\t        password_main.setTypeface(myTypeface);\r\n        \r\n        \tButton copy=(Button) findViewById(R.id.copyright);\r\n\t        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\r\n\t        copy.setTypeface(myTypeface);\r\n        \r\n        \tTextView register=(TextView) findViewById(R.id.register_main);       \r\n       \t register.setTypeface(myTypeface);\r\n       \r\n\t        register.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Register.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t /*      forget_main.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t Intent register=new Intent(getApplicationContext(),Tab.class);\t\r\n\t\t startActivity(register);\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t        */\r\n\t        TextView login=(TextView) findViewById(R.id.login_main);       \r\n\t        login.setTypeface(myTypeface);\r\n\t        login.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\r\n\t\t\t\tusername=email_main.getText().toString();\r\n\t\t\t\tpassword=password_main.getText().toString();\r\n\t\t\t\t\r\n\t\t\t\tif(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\r\n\t            {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show();                      \t\t\r\n\t            }\t\t\t\t\t\t\t\t\t\r\n\t\t\t\telse if(username.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse if(password.equals(&quot;&quot;))\r\n\t\t\t\t {\r\n\t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n\t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n\t\t\t \t  \t\talertDialog51.setMessage(Html\r\n\t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n\t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n\t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n\t\t\t \t  \t\t           }\r\n\t\t\t \t  \t\t     });\t  \t\t\r\n\t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n\t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t \t  \t\t   }\r\n\t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n\t\t\t \t  \t\talertDialog51.show(); \r\n\t\t\t\t }\r\n\t\t\t\telse{\r\n\t\t\t\tLoginTask logintsk=new LoginTask();\r\n\t\t\t\tlogintsk.execute();\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n        \r\n\t    }\r\n\t    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \r\n   \t \r\n\t        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\r\n        \r\n        \t@Override\r\n    \tprotected void onPreExecute() { \r\n\r\n                this.dialog.setMessage(&quot;Loading ...&quot;); \r\n                this.dialog.show(); \r\n\t        } \r\n\r\n        \r\n        @Override\r\n    \tprotected Void doInBackground(final Void... unused) { \r\n        \t\r\n          Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\r\n          Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\r\n          String auth=BusinessLogic_login.candidatelogin(username, password); \r\n          String userid=auth; \r\n            Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\r\n            if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\r\n    \t\t{\r\n    \t\t\tRig_ParkingActivity.this.runOnUiThread(new Runnable() {\t\t\t\t\r\n    \t\t\t\tpublic void run() {\t\t\t\t\t\r\n    \t\t\t\t\tfinal AlertDialog alertDialog51;\t  \t\t\t\t\r\n  \t\t\t \t  \t  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\r\n  \t\t\t \t  \t\talertDialog51.setMessage(Html\r\n  \t\t                   .fromHtml(&quot;&lt;font color=&#39;#00beb4&#39;&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));\t\t  \t  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t        \t  \t\t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton(&quot;Ok&quot;,\r\n  \t\t\t \t  \t\t\tnew DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\tint which) {\t\t\t \t  \t\t\t\r\n  \t\t\t \t  \t\t\talertDialog51.dismiss();\t\r\n  \t\t\t \t  \t\t           }\r\n  \t\t\t \t  \t\t     });\t  \t\t\r\n  \t\t\t \t  \t\talertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n  \t\t\t \t  \t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n  \t\t\t \t  \t\t\t\t\t\t\t\tint which) {\r\n  \t\t\t \t  \t\t\t\t\t\t\talertDialog51.dismiss();\t\t\t\t\t\t\t\t\t\t\t    \r\n  \t\t\t \t  \t\t   }\r\n  \t\t\t \t  \t\t});\t\t\t  \t\t\t\t\r\n  \t\t\t \t  \t\talertDialog51.show(); \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t});\t\t\r\n    \t\t}\r\n    \t\telse {\t\t\t\r\n    \t\t\r\n    \t\tIntent intnt=new Intent(getBaseContext(), Tab.class);\r\n    \t\tstartActivity(intnt);    \t\t\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t}\r\n            return null; // don&#39;t interact with the ui! \r\n        } \r\n         \r\n        @Override\r\n    \tprotected void onPostExecute(Void result)  \r\n        {  \r\n                if (this.dialog.isShowing()) \r\n                { \r\n                this.dialog.dismiss(); \r\n                }\r\n          } \r\n      }  \r\n      }","title":"Issue while navigating to new activity when using async task","body":"<p>Can anyone please tell me how to login? I am trying to login in with the user name <code>Priyanka</code> and password <code>Priyanka</code> but it is unsuccessful.</p>\n<p>Can anyone help me out?</p>\n<pre><code>package org.example.rig_parking;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.Typeface;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.Html;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n public class Rig_ParkingActivity extends Activity {\n\nString username,password;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    \n\n        Typeface myTypeface = Typeface.createFromAsset(getAssets(), &quot;fonts/semibold.ttf&quot;);\n        TextView myTextView = (TextView)findViewById(R.id.rig_parkmain);\n        myTextView.setTypeface(myTypeface);\n        TextView forget_main = (TextView)findViewById(R.id.forget_main);\n        forget_main.setTypeface(myTypeface);\n        final EditText email_main = (EditText)findViewById(R.id.email_main);\n        email_main.setTypeface(myTypeface);\n        final EditText password_main = (EditText)findViewById(R.id.password_main);\n        password_main.setTypeface(myTypeface);\n    \n        Button copy=(Button) findViewById(R.id.copyright);\n        copy.setText(&quot;(c)Rig Parking 2010-2012,All Rights Reserved&quot;);\n        copy.setTypeface(myTypeface);\n    \n        TextView register=(TextView) findViewById(R.id.register_main);       \n     register.setTypeface(myTypeface);\n   \n        register.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Register.class);    \n     startActivity(register);               \n        }\n    });\n    \n /*      forget_main.setOnClickListener(new OnClickListener() {         \n        public void onClick(View arg0) {\n        \n     Intent register=new Intent(getApplicationContext(),Tab.class); \n     startActivity(register);               \n        }\n    });\n        */\n        TextView login=(TextView) findViewById(R.id.login_main);       \n        login.setTypeface(myTypeface);\n        login.setOnClickListener(new OnClickListener() {\n        \n        public void onClick(View arg0) {\n        \n            username=email_main.getText().toString();\n            password=password_main.getText().toString();\n            \n            if(username.equals(&quot;&quot;)&amp;&amp;password.equals(&quot;&quot;))\n            {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt; Enter Email and Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                     \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();                           \n            }                                   \n            else if(username.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter Email    &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else if(password.equals(&quot;&quot;))\n             {\n                final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;    Enter  Password   &lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                        \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show(); \n             }\n            else{\n            LoginTask logintsk=new LoginTask();\n            logintsk.execute();             \n            }\n            \n        }\n    });\n    \n    }\n    private class LoginTask extends AsyncTask&lt;Void, Void, Void&gt; { \n \n        private final ProgressDialog dialog = new ProgressDialog(Rig_ParkingActivity.this);\n    \n        @Override\n    protected void onPreExecute() { \n\n            this.dialog.setMessage(&quot;Loading ...&quot;); \n            this.dialog.show(); \n        } \n\n    \n    @Override\n    protected Void doInBackground(final Void... unused) { \n        \n      Log.i(&quot;Priyanka&quot;, &quot;username&quot;+username);\n      Log.i(&quot;Priyanka&quot;, &quot;password&quot;+password);\n      String auth=BusinessLogic_login.candidatelogin(username, password); \n      String userid=auth; \n        Log.i(&quot;priyanka&quot;, &quot;auth&quot;+auth);\n        if(auth.equals(&quot;0&quot;)||(auth.equals(&quot;&quot;)))\n        {\n            Rig_ParkingActivity.this.runOnUiThread(new Runnable() {             \n                public void run() {                 \n                    final AlertDialog alertDialog51;                    \n                  alertDialog51 = new AlertDialog.Builder(Rig_ParkingActivity.this).create();\n                    alertDialog51.setMessage(Html\n                       .fromHtml(&quot;&lt;font color='#00beb4'&gt;&lt;b&gt;Enter correct Email or Password&lt;/b&gt;&lt;/font&gt;&quot;));                                                                                                       \n                    alertDialog51.setButton(&quot;Ok&quot;,\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog,\n                                int which) {                            \n                        alertDialog51.dismiss();    \n                               }\n                         });            \n                    alertDialog51.setButton2(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog,\n                                            int which) {\n                                        alertDialog51.dismiss();                                                \n                       }\n                    });                         \n                    alertDialog51.show();               \n                }\n            });     \n        }\n        else {          \n        \n        Intent intnt=new Intent(getBaseContext(), Tab.class);\n        startActivity(intnt);           \n                                        \n        }\n        return null; // don't interact with the ui! \n    } \n     \n    @Override\n    protected void onPostExecute(Void result)  \n    {  \n            if (this.dialog.isShowing()) \n            { \n            this.dialog.dismiss(); \n            }\n      } \n  }  \n  }\n</code></pre>\n"},{"tags":["java","kotlin","android-listfragment"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678293489,"post_id":75675714,"comment_id":133505683,"body_markdown":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?","body":"What is your question? Have you tried anything yourself? Which part are you having difficulty with? Have you looked at the official Android documentation to find anything there that will help?"}],"owner":{"account_id":15375821,"reputation":1,"user_id":11092577,"display_name":"Andres Mora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678293328,"creation_date":1678293084,"question_id":75675714,"body_markdown":"I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.\r\n\r\n\r\n```\r\nclass CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\r\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val binding =\r\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        return ViewHolder(binding)\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return characters.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        val character = characters[position]\r\n        holder.name.text = character.name\r\n        holder.quantity.text = character.quantity.toString()\r\n\r\n        val currentPrice = (12000 * character.quantity)\r\n        holder.price.text = currentPrice.toString()\r\n\r\n        Glide.with(holder.itemView)\r\n            .load(character.image)\r\n            .thumbnail(0.1f)\r\n            .into(holder.image)\r\n\r\n        holder.btnAdd.setOnClickListener{\r\n            ++character.quantity\r\n            updateFields(holder, position)\r\n        }\r\n        holder.btnRemove.setOnClickListener{\r\n            if (character.quantity &gt; 0){\r\n                --character.quantity\r\n                updateFields(holder, position)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun updateTotal(){\r\n        var total = 0\r\n\r\n        characters.forEach { character -&gt;\r\n            total += when(character.status) {\r\n                &quot;Alive&quot; -&gt; character.quantity * 14400\r\n                &quot;Dead&quot; -&gt; character.quantity * 9600\r\n                else -&gt; character.quantity * 12000\r\n            }\r\n        }\r\n        tvTotalPrice.text =  &quot;\\$$total&quot;\r\n    }\r\n\r\n    private fun updateFields(holder: ViewHolder, position: Int){\r\n        val character = characters[position]\r\n        holder.quantity.text = character.quantity.toString()\r\n        val currentPrice = (12000 * character.quantity)\r\n        var totalBalance = 0\r\n        totalBalance = when(characters[position].status) {\r\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\r\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\r\n            else -&gt; currentPrice\r\n        }\r\n        holder.price.text = totalBalance.toString()\r\n        updateTotal()\r\n    }\r\n\r\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n        val image: ImageView = binding.characterImage\r\n        val name: TextView = binding.characterName\r\n        val price: TextView = binding.tvPrice\r\n        val quantity: TextView = binding.tvCurrentQuantity\r\n        val btnAdd: Button = binding.buttonAdd\r\n        val btnRemove: Button = binding.buttonRemove\r\n    }\r\n\r\n    fun updateCharacters(characters: List&lt;Character&gt;) {\r\n        this.characters = characters\r\n        notifyDataSetChanged()\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have to build a button that allows to click to go to a new fragment view and only display the selected elements.","title":"I need clone this fragment list view to build to cart shop section only the elements selected","body":"<p>I need to clone this list view fragment to build to the store section of the basket only with the selected items, if it reaches 0 the item should not be displayed.</p>\n<pre><code>class CharacterRecyclerViewAdapter(private var characters: List&lt;Character&gt;, private var tvTotalPrice: TextView) :\n    RecyclerView.Adapter&lt;CharacterRecyclerViewAdapter.ViewHolder&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val binding =\n            CharacterItemBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        return ViewHolder(binding)\n    }\n\n    override fun getItemCount(): Int {\n        return characters.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val character = characters[position]\n        holder.name.text = character.name\n        holder.quantity.text = character.quantity.toString()\n\n        val currentPrice = (12000 * character.quantity)\n        holder.price.text = currentPrice.toString()\n\n        Glide.with(holder.itemView)\n            .load(character.image)\n            .thumbnail(0.1f)\n            .into(holder.image)\n\n        holder.btnAdd.setOnClickListener{\n            ++character.quantity\n            updateFields(holder, position)\n        }\n        holder.btnRemove.setOnClickListener{\n            if (character.quantity &gt; 0){\n                --character.quantity\n                updateFields(holder, position)\n            }\n        }\n    }\n\n    private fun updateTotal(){\n        var total = 0\n\n        characters.forEach { character -&gt;\n            total += when(character.status) {\n                &quot;Alive&quot; -&gt; character.quantity * 14400\n                &quot;Dead&quot; -&gt; character.quantity * 9600\n                else -&gt; character.quantity * 12000\n            }\n        }\n        tvTotalPrice.text =  &quot;\\$$total&quot;\n    }\n\n    private fun updateFields(holder: ViewHolder, position: Int){\n        val character = characters[position]\n        holder.quantity.text = character.quantity.toString()\n        val currentPrice = (12000 * character.quantity)\n        var totalBalance = 0\n        totalBalance = when(characters[position].status) {\n            &quot;Alive&quot; -&gt; ((currentPrice * 1.20).toInt())\n            &quot;Dead&quot; -&gt; (currentPrice - (currentPrice * 0.20)).toInt()\n            else -&gt; currentPrice\n        }\n        holder.price.text = totalBalance.toString()\n        updateTotal()\n    }\n\n    inner class ViewHolder(binding: CharacterItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        val image: ImageView = binding.characterImage\n        val name: TextView = binding.characterName\n        val price: TextView = binding.tvPrice\n        val quantity: TextView = binding.tvCurrentQuantity\n        val btnAdd: Button = binding.buttonAdd\n        val btnRemove: Button = binding.buttonRemove\n    }\n\n    fun updateCharacters(characters: List&lt;Character&gt;) {\n        this.characters = characters\n        notifyDataSetChanged()\n    }\n\n}\n</code></pre>\n<p>I have to build a button that allows to click to go to a new fragment view and only display the selected elements.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678293315,"creation_date":1678292197,"answer_id":75675538,"question_id":75675470,"body_markdown":"Set in application.properties the path to the data file:\r\n\r\n\r\n    spring.datasource.platform=h2\r\n    spring.datasource.schema=classpath:/h2/schema-h2.sql\r\n    spring.datasource.data=classpath:/h2/data-h2.sql\r\n\r\n\r\nThe data file is located in the resources/h2 directory with the name data-h2.sql for this example.","title":"Spring boot Rest API give empty data in browser","body":"<p>Set in application.properties the path to the data file:</p>\n<pre><code>spring.datasource.platform=h2\nspring.datasource.schema=classpath:/h2/schema-h2.sql\nspring.datasource.data=classpath:/h2/data-h2.sql\n</code></pre>\n<p>The data file is located in the resources/h2 directory with the name data-h2.sql for this example.</p>\n"}],"owner":{"account_id":25565227,"reputation":5,"user_id":19346828,"display_name":"Othmane Boudali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678293315,"creation_date":1678291829,"question_id":75675470,"body_markdown":"Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn&#39;t inserted into the database however tables are created successfully when I call the findAll API I get an empty data.\r\n\r\nthis is application.properties\r\n```\r\nserver.port=8080\r\nspring.h2.console.enabled=true\r\nspring.jpa.show-sql=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:todo\r\nspring.datasource.username=to\r\nspring.datasource.password=\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\r\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \r\n\r\n\r\n```\r\nthis is todo.java\r\n```\r\npackage todo.model;\r\n\r\nimport java.time.LocalDate;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;todo&quot;)\r\npublic class Todo {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String task;\r\n\tprivate LocalDate date;\r\n\tprivate boolean isDone;\r\n\r\n}\r\n\r\n```\r\nthis todo.repository\r\n```\r\npackage todo.repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport todo.model.Todo;\r\n\r\n@Repository\r\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\r\n\r\n}\r\n```\r\nthis is todo.controller\r\n```\r\n\r\npackage todo.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport todo.model.Todo;\r\nimport todo.repositories.TodoRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/todo&quot;)\r\npublic class TodoController {\r\n\r\n\t@Autowired\r\n\tTodoRepository todoRepository;\r\n\r\n\t@GetMapping(&quot;/findall&quot;)\r\n\tpublic List&lt;Todo&gt; fetchAll() {\r\n\r\n\t\treturn this.todoRepository.findAll();\r\n\r\n\t}\r\n\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\r\n\r\n\t}\r\n}\r\n\r\n```\r\nthis is data.sql\r\n```\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;sleep&#39;,&#39;200-12-05&#39;,false);\r\nINSERT INTO todo (task,date,is_done) VALUES (&#39;down&#39;,&#39;2001-12-05&#39;,true);\r\n\r\n\r\n```\r\n\r\n","title":"Spring boot Rest API give empty data in browser","body":"<p>Ineed to help I have a spring boot project with h2 database. I added data in the data.sql but the data wasn't inserted into the database however tables are created successfully when I call the findAll API I get an empty data.</p>\n<p>this is application.properties</p>\n<pre><code>server.port=8080\nspring.h2.console.enabled=true\nspring.jpa.show-sql=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:todo\nspring.datasource.username=to\nspring.datasource.password=\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nlogging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG\nlogging.level.org.springframework.jdbc.core.StatementCreatorUtils=TRACE \n\n\n</code></pre>\n<p>this is todo.java</p>\n<pre><code>package todo.model;\n\nimport java.time.LocalDate;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;todo&quot;)\npublic class Todo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String task;\n    private LocalDate date;\n    private boolean isDone;\n\n}\n\n</code></pre>\n<p>this todo.repository</p>\n<pre><code>package todo.repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport todo.model.Todo;\n\n@Repository\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\n\n}\n</code></pre>\n<p>this is todo.controller</p>\n<pre><code>\npackage todo.controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport todo.model.Todo;\nimport todo.repositories.TodoRepository;\n\n@RestController\n@RequestMapping(&quot;/todo&quot;)\npublic class TodoController {\n\n    @Autowired\n    TodoRepository todoRepository;\n\n    @GetMapping(&quot;/findall&quot;)\n    public List&lt;Todo&gt; fetchAll() {\n\n        return this.todoRepository.findAll();\n\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; addTodo(@RequestBody Todo todo) {\n\n        return new ResponseEntity&lt;&gt;(this.todoRepository.save(todo), HttpStatus.CREATED);\n\n    }\n}\n\n</code></pre>\n<p>this is data.sql</p>\n<pre><code>INSERT INTO todo (task,date,is_done) VALUES ('sleep','200-12-05',false);\nINSERT INTO todo (task,date,is_done) VALUES ('down','2001-12-05',true);\n\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5181005,"reputation":2233,"user_id":4146722,"display_name":"Pratik Tank"},"score":1,"creation_date":1505554738,"post_id":46252389,"comment_id":79468288,"body_markdown":"Possible duplicate of [Simple way to count character occurrences in a string](https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/6100712/simple-way-to-count-character-occurrences-in-a-string\">Simple way to count character occurrences in a string</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505554874,"post_id":46252389,"comment_id":79468334,"body_markdown":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need","body":"@PratikTank i have checked this one but the problem is it is count only single charter which user must know, It is not fulfill my need"},{"owner":{"account_id":3365385,"reputation":22807,"user_id":2826147,"accept_rate":60,"display_name":"Amit Vaghela"},"score":1,"creation_date":1505555077,"post_id":46252389,"comment_id":79468399,"body_markdown":"Possible duplicate of [Find occurrences of characters in a Java String](https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3763970/find-occurrences-of-characters-in-a-java-string\">Find occurrences of characters in a Java String</a>"},{"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"score":0,"creation_date":1505555626,"post_id":46252389,"comment_id":79468560,"body_markdown":"Who has down voted my question , Please dnt do this again without reading the question. \nI am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;","body":"Who has down voted my question , Please dnt do this again without reading the question.  I am not new to stack overflow i know how to ask question and after research i have come here , Please read the question carefully i have mention a word &quot;in sequence&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555898,"creation_date":1505554911,"answer_id":46252436,"question_id":46252389,"body_markdown":"try this\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int cnt=0;\r\n       for (int i=0;i&lt;one.length();i++){\r\n           for (int j=0;j&lt;two.length();j++){\r\n                if(one.charAt(i) == two.charAt(j) ){\r\n                    cnt++;\r\n                }\r\n            }\r\n        }\r\n\r\n    Toast.makeText(this, &quot;count&quot;+cnt, Toast.LENGTH_SHORT).show();","title":"Count of of characters matched in sequence of two string","body":"<p>try this</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint cnt=0;\n   for (int i=0;i&lt;one.length();i++){\n       for (int j=0;j&lt;two.length();j++){\n            if(one.charAt(i) == two.charAt(j) ){\n                cnt++;\n            }\n        }\n    }\n\nToast.makeText(this, \"count\"+cnt, Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5524527,"reputation":42811,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505556589,"creation_date":1505554971,"answer_id":46252448,"question_id":46252389,"body_markdown":"Maybe something like this will do it.\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n    int counter = 0;\r\n\r\n    // Iterate over the string character by character - stop when reaching the\r\n    // end of the shortest string\r\n    for( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\r\n        // Compare the strings character at the current position/index\r\n        if(one.charAt(i) == two.charAt(i)) {\r\n            // The characters matched so increment the counter\r\n            counter++;\r\n        } \r\n    }","title":"Count of of characters matched in sequence of two string","body":"<p>Maybe something like this will do it.</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\nint counter = 0;\n\n// Iterate over the string character by character - stop when reaching the\n// end of the shortest string\nfor( int i=0; i&lt;one.length() &amp;&amp; i&lt;two.length(); i++ ) {\n    // Compare the strings character at the current position/index\n    if(one.charAt(i) == two.charAt(i)) {\n        // The characters matched so increment the counter\n        counter++;\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555056,"creation_date":1505555056,"answer_id":46252459,"question_id":46252389,"body_markdown":"\r\n    import java.io.*;\r\n    import java.util.*;\r\n    class happy {\r\n        public static void main(String args[])\r\n        {\r\n            String one=&quot;ABCDEFGHIJK&quot;;\r\n            String two=&quot;ZANDEFGHOPQ&quot;;\r\n            int a=0,c=0;\r\n            if(one.length()&lt;two.length())\r\n                a=one.length();\r\n            else\r\n                a=two.length();\r\n\t        for(int i=0;i&lt;a;i++)\r\n            {\r\n                if(one.charAt(i)==(two.charAt(i)))\r\n                    c++;\r\n            }\r\n            System.out.println(c);\r\n        }\r\n    }\r\n","title":"Count of of characters matched in sequence of two string","body":"<pre><code>import java.io.*;\nimport java.util.*;\nclass happy {\n    public static void main(String args[])\n    {\n        String one=\"ABCDEFGHIJK\";\n        String two=\"ZANDEFGHOPQ\";\n        int a=0,c=0;\n        if(one.length()&lt;two.length())\n            a=one.length();\n        else\n            a=two.length();\n        for(int i=0;i&lt;a;i++)\n        {\n            if(one.charAt(i)==(two.charAt(i)))\n                c++;\n        }\n        System.out.println(c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8537036"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505555575,"creation_date":1505555575,"answer_id":46252542,"question_id":46252389,"body_markdown":"    public class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString one=&quot;ABCDEFGHIJK&quot;;\r\n\t\tString two=&quot;ZANDEFGHOPQ&quot;;\r\n\t\tint size1 = one.length();\r\n\t\tint size2 = two.length();\r\n\t\tint i = 0;\r\n\t\tint j = (size1 &gt;= size2 ? size2 : size1);\r\n\t\tchar[] oneTab = one.toCharArray();\r\n\t\tchar[] twoTab = two.toCharArray();\r\n\t\tint k = 0;\r\n\t\tfor(i = 0; i&lt; j; i++){\r\n\t\t\tif((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\r\n\t\t\t\tk = k+1;\r\n\t\t\t};\r\n\t\t};\r\n\t\tSystem.out.println(k);\t\t\r\n\t}\r\n}","title":"Count of of characters matched in sequence of two string","body":"<pre><code>public class Test {\n\npublic static void main(String[] args) {\n\n    String one=\"ABCDEFGHIJK\";\n    String two=\"ZANDEFGHOPQ\";\n    int size1 = one.length();\n    int size2 = two.length();\n    int i = 0;\n    int j = (size1 &gt;= size2 ? size2 : size1);\n    char[] oneTab = one.toCharArray();\n    char[] twoTab = two.toCharArray();\n    int k = 0;\n    for(i = 0; i&lt; j; i++){\n        if((String.valueOf(oneTab[i])).equals(String.valueOf(twoTab[i]))){\n            k = k+1;\n        };\n    };\n    System.out.println(k);      \n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9785479,"reputation":101,"user_id":7829081,"display_name":"I_Really_Want_To_Heal_Myself"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292938,"creation_date":1678292938,"answer_id":75675690,"question_id":46252389,"body_markdown":"I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing *len* in the loop by its definition.\r\n\r\n```java\r\npublic class TestClass {\r\n    public static void main(String[] args) {\r\n        String one = &quot;ABCDEFGHIJK&quot;;\r\n        String two = &quot;ZANDEFGHOPQ&quot;;\r\n        int len = Math.min(one.length(), two.length());\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\r\n        }\r\n        System.out.println(counter);\r\n    }\r\n}\r\n```","title":"Count of of characters matched in sequence of two string","body":"<p>I know it is a rather old question, but perhaps someone will find this &quot;if-less&quot; answer a nice one. One can shorten it a bit further by replacing <em>len</em> in the loop by its definition.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        String one = &quot;ABCDEFGHIJK&quot;;\n        String two = &quot;ZANDEFGHOPQ&quot;;\n        int len = Math.min(one.length(), two.length());\n        int counter = 0;\n        for (int i = 0; i &lt; len; i++) {\n            counter += (one.charAt(i) == two.charAt(i)) ? 1 : 0;\n        }\n        System.out.println(counter);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1600690,"reputation":926,"user_id":1481766,"accept_rate":44,"display_name":"Amit Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1678292938,"creation_date":1505554531,"question_id":46252389,"body_markdown":"I want to match two string  and get how many chars matched in sequence. \r\nLike :\r\n\r\n    String one=&quot;ABCDEFGHIJK&quot;;\r\n    String two=&quot;ZANDEFGHOPQ&quot;;\r\n\r\nlike you can see that it must return 5 chars in sequence matched because **DEFGH** are exist on both sequence.\r\n\r\n\r\nThanks","title":"Count of of characters matched in sequence of two string","body":"<p>I want to match two string  and get how many chars matched in sequence. \nLike :</p>\n\n<pre><code>String one=\"ABCDEFGHIJK\";\nString two=\"ZANDEFGHOPQ\";\n</code></pre>\n\n<p>like you can see that it must return 5 chars in sequence matched because <strong>DEFGH</strong> are exist on both sequence.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","time","libgdx"],"comments":[{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1388974837,"post_id":20941866,"comment_id":31450788,"body_markdown":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?","body":"getPosition() &quot;returns the playback position in seconds&quot;. what exactly do you mean by duration?"},{"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"score":2,"creation_date":1389050158,"post_id":20941866,"comment_id":31486994,"body_markdown":"duration is the final time of the music : e.g 3 mins 30","body":"duration is the final time of the music : e.g 3 mins 30"},{"owner":{"account_id":1933470,"reputation":647,"user_id":1742376,"display_name":"doomsdaymachine"},"score":0,"creation_date":1389059814,"post_id":20941866,"comment_id":31489987,"body_markdown":"yea, i don&#39;t think libgdx has built-in functions to simple get that info.","body":"yea, i don&#39;t think libgdx has built-in functions to simple get that info."},{"owner":{"account_id":6450014,"reputation":11895,"user_id":4997239,"accept_rate":61,"display_name":"Hasen"},"score":0,"creation_date":1607508045,"post_id":20941866,"comment_id":115291937,"body_markdown":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing.","body":"@doomsdaymachine I think by the &#39;duration&#39; of the music, he was referring to the duration of the music. But I&#39;m only guessing."}],"answers":[{"tags":[],"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1388978289,"creation_date":1388978289,"answer_id":20942424,"question_id":20941866,"body_markdown":"To be clear by &quot;duration&quot; you mean the total time the music would play without looping.\r\n\r\nI don&#39;t think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).\r\n\r\nYou may be able to get this information out of the files you&#39;re loading into system, though (e.g., if they&#39;re wav or mp3 files there should be APIs to query their duration).","title":"Libgdx get duration of a Music","body":"<p>To be clear by \"duration\" you mean the total time the music would play without looping.</p>\n\n<p>I don't think the Libgdx sound APIs expose this (the lowest common denominator sound API across desktop, Android and Web is pretty low ...).</p>\n\n<p>You may be able to get this information out of the files you're loading into system, though (e.g., if they're wav or mp3 files there should be APIs to query their duration).</p>\n"},{"tags":[],"owner":{"account_id":3259572,"reputation":301,"user_id":2745392,"accept_rate":83,"display_name":"srikanth"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1389037155,"creation_date":1389037155,"answer_id":20957878,"question_id":20941866,"body_markdown":"if ur looking to stop the music when u want then by using\r\n\r\n    music.stop(); \r\nor pause the music by \r\n\r\n    music.pause(); \r\nor for other tasks refer to this link  https://github.com/libgdx/libgdx/wiki/Streaming-music \r\n","title":"Libgdx get duration of a Music","body":"<p>if ur looking to stop the music when u want then by using</p>\n\n<pre><code>music.stop(); \n</code></pre>\n\n<p>or pause the music by </p>\n\n<pre><code>music.pause(); \n</code></pre>\n\n<p>or for other tasks refer to this link  <a href=\"https://github.com/libgdx/libgdx/wiki/Streaming-music\" rel=\"nofollow\">https://github.com/libgdx/libgdx/wiki/Streaming-music</a> </p>\n"},{"tags":[],"owner":{"account_id":1220565,"reputation":3341,"user_id":1187293,"accept_rate":88,"display_name":"SteveL"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409245990,"creation_date":1409232220,"answer_id":25549916,"question_id":20941866,"body_markdown":"Its an old question but I will give my answer for the future visitors\r\n\r\nTo get the duration of a music file you can use the gdx-audio extension.\r\n\r\n\t\tFileHandle file=Gdx.files.internal(filepath);\r\n\t\tFileHandle external=Gdx.files.external(&quot;mygame/&quot;+filepath);\r\n\t\tif(!external.exists())file.copyTo(external); //copy the file to the external storage \r\n\t\tMpg123Decoder\tdecoder = new Mpg123Decoder(external);\r\n\t\tSystem.out.println(&quot;name:&quot;+filepath+&quot;  duration:&quot;+decoder.getLength());","title":"Libgdx get duration of a Music","body":"<p>Its an old question but I will give my answer for the future visitors</p>\n\n<p>To get the duration of a music file you can use the gdx-audio extension.</p>\n\n<pre><code>    FileHandle file=Gdx.files.internal(filepath);\n    FileHandle external=Gdx.files.external(\"mygame/\"+filepath);\n    if(!external.exists())file.copyTo(external); //copy the file to the external storage \n    Mpg123Decoder   decoder = new Mpg123Decoder(external);\n    System.out.println(\"name:\"+filepath+\"  duration:\"+decoder.getLength());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678292898,"creation_date":1678292898,"answer_id":75675682,"question_id":20941866,"body_markdown":"You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:\r\n\r\n        float pos = 0;\r\n\t\tboolean repeat = true;\r\n\t\tmusic.play(); // no real sound output expected here\r\n\t\twhile (repeat) {\r\n\t\t\tpos += 1F; // seek second by second\r\n\t\t\tmusic.setPosition(pos);\r\n\t\t\trepeat = music.getPosition() != 0; // will reset to 0 when completed\r\n\t\t}\r\n\t\tmusic.stop();\r\n\t\tSystem.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\r\n\r\nBut it&#39;s a little ugly. Maybe better use a library like [Jaudiotagger][1] as recommended here: https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\r\n\r\n\r\n  [1]: https://www.jthink.net/jaudiotagger/","title":"Libgdx get duration of a Music","body":"<p>You can seek to the end of the song to get the duration if you want to do it with libGDX tools alone:</p>\n<pre><code>    float pos = 0;\n    boolean repeat = true;\n    music.play(); // no real sound output expected here\n    while (repeat) {\n        pos += 1F; // seek second by second\n        music.setPosition(pos);\n        repeat = music.getPosition() != 0; // will reset to 0 when completed\n    }\n    music.stop();\n    System.out.println(&quot;Duration is: &quot; + pos + &quot; seconds&quot;);\n</code></pre>\n<p>But it's a little ugly. Maybe better use a library like <a href=\"https://www.jthink.net/jaudiotagger/\" rel=\"nofollow noreferrer\">Jaudiotagger</a> as recommended here: <a href=\"https://stackoverflow.com/questions/33610055/check-audio-file-duration-in-java\">Check audio file duration in java</a></p>\n"}],"owner":{"account_id":2753111,"reputation":1235,"user_id":2372006,"accept_rate":89,"display_name":"LeSam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1678292898,"creation_date":1388974284,"question_id":20941866,"body_markdown":"Im trying to get the duration of a Music, in libgdx\r\n\r\nIm **not** talking about :\r\n\r\n \tgetPosition();\r\n\r\nWhat I want is the Duration of the music. (in seconds)\r\n\r\nThanks","title":"Libgdx get duration of a Music","body":"<p>Im trying to get the duration of a Music, in libgdx</p>\n\n<p>Im <strong>not</strong> talking about :</p>\n\n<pre><code>getPosition();\n</code></pre>\n\n<p>What I want is the Duration of the music. (in seconds)</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","apache-zookeeper","acl"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678326973,"post_id":75675666,"comment_id":133512602,"body_markdown":"Try setting `listeners=PLAINTEXT://0.0.0.0:9092` instead if you want to be able to connect remotely. Also, you don&#39;t need sudo","body":"Try setting <code>listeners=PLAINTEXT:&#47;&#47;0.0.0.0:9092</code> instead if you want to be able to connect remotely. Also, you don&#39;t need sudo"}],"owner":{"account_id":27100332,"reputation":3,"user_id":20647019,"display_name":"snigln"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678292838,"creation_date":1678292838,"question_id":75675666,"body_markdown":"So I&#180;m running zookeeper and kafka on the same machine, I&#180;ve modified the server.properties file as the following\r\n\r\n\r\n```\r\n# Licensed to the Apache Software Foundation (ASF) under one or more\r\n# contributor license agreements.  See the NOTICE file distributed with\r\n# this work for additional information regarding copyright ownership.\r\n# The ASF licenses this file to You under the Apache License, Version 2.0\r\n# (the &quot;License&quot;); you may not use this file except in compliance with\r\n# the License.  You may obtain a copy of the License at\r\n#\r\n#    http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n#\r\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\r\n# See kafka.server.KafkaConfig for additional details and defaults\r\n#\r\n\r\n############################# Server Basics #############################\r\n\r\n# The id of the broker. This must be set to a unique integer for each broker.\r\nbroker.id=0\r\n\r\n############################# Socket Server Settings #############################\r\n\r\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\r\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\r\n#   FORMAT:\r\n#     listeners = listener_name://host_name:port\r\n#   EXAMPLE:\r\n#     listeners = PLAINTEXT://your.host.name:9092\r\nlisteners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Listener name, hostname and port the broker will advertise to clients.\r\n# If not set, it uses the value for &quot;listeners&quot;.\r\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\r\n\r\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\r\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\r\n\r\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\r\nnum.network.threads=3\r\n\r\n# The number of threads that the server uses for processing requests, which may include disk I/O\r\nnum.io.threads=8\r\n\r\n# The send buffer (SO_SNDBUF) used by the socket server\r\nsocket.send.buffer.bytes=102400\r\n\r\n# The receive buffer (SO_RCVBUF) used by the socket server\r\nsocket.receive.buffer.bytes=102400\r\n\r\n# The maximum size of a request that the socket server will accept (protection against OOM)\r\nsocket.request.max.bytes=104857600\r\n\r\n# Enables ACL authorizer by configuring class name\r\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\r\n\r\n############################# Log Basics #############################\r\n\r\n# A comma separated list of directories under which to store log files\r\nlog.dirs=/tmp/kafka-logs\r\n\r\n# The default number of log partitions per topic. More partitions allow greater\r\n# parallelism for consumption, but this will also result in more files across\r\n# the brokers.\r\nnum.partitions=1\r\n\r\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\r\n# This value is recommended to be increased for installations with data dirs located in RAID array.\r\nnum.recovery.threads.per.data.dir=1\r\n\r\n############################# Internal Topic Settings  #############################\r\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\r\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\r\noffsets.topic.replication.factor=1\r\ntransaction.state.log.replication.factor=1\r\ntransaction.state.log.min.isr=1\r\n\r\n############################# Log Flush Policy #############################\r\n\r\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\r\n# the OS cache lazily. The following configurations control the flush of data to disk.\r\n# There are a few important trade-offs here:\r\n#    1. Durability: Unflushed data may be lost if you are not using replication.\r\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\r\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\r\n# The settings below allow one to configure the flush policy to flush data after a period of time or\r\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\r\n\r\n# The number of messages to accept before forcing a flush of data to disk\r\n#log.flush.interval.messages=10000\r\n\r\n# The maximum amount of time a message can sit in a log before we force a flush\r\n#log.flush.interval.ms=1000\r\n\r\n############################# Log Retention Policy #############################\r\n\r\n# The following configurations control the disposal of log segments. The policy can\r\n# be set to delete segments after a period of time, or after a given size has accumulated.\r\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\r\n# from the end of the log.\r\n\r\n# The minimum age of a log file to be eligible for deletion due to age\r\nlog.retention.hours=168\r\n\r\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\r\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\r\n#log.retention.bytes=1073741824\r\n\r\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\r\n#log.segment.bytes=1073741824\r\n\r\n# The interval at which log segments are checked to see if they can be deleted according\r\n# to the retention policies\r\nlog.retention.check.interval.ms=300000\r\n\r\n############################# Zookeeper #############################\r\n\r\n# Zookeeper connection string (see zookeeper docs for details).\r\n# This is a comma separated host:port pairs, each corresponding to a zk\r\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\r\n# You can also append an optional chroot string to the urls to specify the\r\n# root directory for all kafka znodes.\r\nzookeeper.connect=localhost:2181\r\n\r\n# Timeout in ms for connecting to zookeeper\r\nzookeeper.connection.timeout.ms=18000\r\n\r\n\r\n############################# Group Coordinator Settings #############################\r\n\r\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\r\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\r\n# The default value for this is 3 seconds.\r\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\r\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\r\ngroup.initial.rebalance.delay.ms=0\r\n\r\n# Grant permissions to the Kafka admin user\r\nsuperUser=User:*;\r\n\r\n# Allow all clients to connect to the broker\r\nUser:*;Host:*,Permission:allow,Operation:All;\r\n\r\n# Grant read and write permissions to a specific topic\r\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\r\n\r\n```\r\n\r\n\r\nSo when i try add a ACL with this command for example:\r\n&gt; sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test\r\n\r\nI get this crash message:\r\n\r\n```\r\nAdding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\r\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\r\n\r\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\r\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\r\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\r\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\r\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\r\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\r\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\r\n        at kafka.admin.AclCommand.main(AclCommand.scala)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\r\n```\r\n\r\n\r\nIt seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I can&#180;t seem to find the issue about this line and every guide that I could find have the exact same line. \r\n\r\nI&#180;ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.","title":"Error whilst creating ACL on Apache Kafka","body":"<p>So IÂ´m running zookeeper and kafka on the same machine, IÂ´ve modified the server.properties file as the following</p>\n<pre><code># Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the &quot;License&quot;); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#    http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# This configuration file is intended for use in ZK-based mode, where Apache ZooKeeper is required.\n# See kafka.server.KafkaConfig for additional details and defaults\n#\n\n############################# Server Basics #############################\n\n# The id of the broker. This must be set to a unique integer for each broker.\nbroker.id=0\n\n############################# Socket Server Settings #############################\n\n# The address the socket server listens on. If not configured, the host name will be equal to the value of\n# java.net.InetAddress.getCanonicalHostName(), with PLAINTEXT listener name, and port 9092.\n#   FORMAT:\n#     listeners = listener_name://host_name:port\n#   EXAMPLE:\n#     listeners = PLAINTEXT://your.host.name:9092\nlisteners=PLAINTEXT://192.168.1.88:9092\n\n# Listener name, hostname and port the broker will advertise to clients.\n# If not set, it uses the value for &quot;listeners&quot;.\nadvertised.listeners=PLAINTEXT://192.168.1.88:9092\n\n# Maps listener names to security protocols, the default is for them to be the same. See the config documentation for more details\n#listener.security.protocol.map=PLAINTEXT:PLAINTEXT,SSL:SSL,SASL_PLAINTEXT:SASL_PLAINTEXT,SASL_SSL:SASL_SSL\n\n# The number of threads that the server uses for receiving requests from the network and sending responses to the network\nnum.network.threads=3\n\n# The number of threads that the server uses for processing requests, which may include disk I/O\nnum.io.threads=8\n\n# The send buffer (SO_SNDBUF) used by the socket server\nsocket.send.buffer.bytes=102400\n\n# The receive buffer (SO_RCVBUF) used by the socket server\nsocket.receive.buffer.bytes=102400\n\n# The maximum size of a request that the socket server will accept (protection against OOM)\nsocket.request.max.bytes=104857600\n\n# Enables ACL authorizer by configuring class name\nauthorizer.class.name=kafka.security.authorizer.AclAuthorizer\n\n############################# Log Basics #############################\n\n# A comma separated list of directories under which to store log files\nlog.dirs=/tmp/kafka-logs\n\n# The default number of log partitions per topic. More partitions allow greater\n# parallelism for consumption, but this will also result in more files across\n# the brokers.\nnum.partitions=1\n\n# The number of threads per data directory to be used for log recovery at startup and flushing at shutdown.\n# This value is recommended to be increased for installations with data dirs located in RAID array.\nnum.recovery.threads.per.data.dir=1\n\n############################# Internal Topic Settings  #############################\n# The replication factor for the group metadata internal topics &quot;__consumer_offsets&quot; and &quot;__transaction_state&quot;\n# For anything other than development testing, a value greater than 1 is recommended to ensure availability such as 3.\noffsets.topic.replication.factor=1\ntransaction.state.log.replication.factor=1\ntransaction.state.log.min.isr=1\n\n############################# Log Flush Policy #############################\n\n# Messages are immediately written to the filesystem but by default we only fsync() to sync\n# the OS cache lazily. The following configurations control the flush of data to disk.\n# There are a few important trade-offs here:\n#    1. Durability: Unflushed data may be lost if you are not using replication.\n#    2. Latency: Very large flush intervals may lead to latency spikes when the flush does occur as there will be a lot of data to flush.\n#    3. Throughput: The flush is generally the most expensive operation, and a small flush interval may lead to excessive seeks.\n# The settings below allow one to configure the flush policy to flush data after a period of time or\n# every N messages (or both). This can be done globally and overridden on a per-topic basis.\n\n# The number of messages to accept before forcing a flush of data to disk\n#log.flush.interval.messages=10000\n\n# The maximum amount of time a message can sit in a log before we force a flush\n#log.flush.interval.ms=1000\n\n############################# Log Retention Policy #############################\n\n# The following configurations control the disposal of log segments. The policy can\n# be set to delete segments after a period of time, or after a given size has accumulated.\n# A segment will be deleted whenever *either* of these criteria are met. Deletion always happens\n# from the end of the log.\n\n# The minimum age of a log file to be eligible for deletion due to age\nlog.retention.hours=168\n\n# A size-based retention policy for logs. Segments are pruned from the log unless the remaining\n# segments drop below log.retention.bytes. Functions independently of log.retention.hours.\n#log.retention.bytes=1073741824\n\n# The maximum size of a log segment file. When this size is reached a new log segment will be created.\n#log.segment.bytes=1073741824\n\n# The interval at which log segments are checked to see if they can be deleted according\n# to the retention policies\nlog.retention.check.interval.ms=300000\n\n############################# Zookeeper #############################\n\n# Zookeeper connection string (see zookeeper docs for details).\n# This is a comma separated host:port pairs, each corresponding to a zk\n# server. e.g. &quot;127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002&quot;.\n# You can also append an optional chroot string to the urls to specify the\n# root directory for all kafka znodes.\nzookeeper.connect=localhost:2181\n\n# Timeout in ms for connecting to zookeeper\nzookeeper.connection.timeout.ms=18000\n\n\n############################# Group Coordinator Settings #############################\n\n# The following configuration specifies the time, in milliseconds, that the GroupCoordinator will delay the initial consumer rebalance.\n# The rebalance will be further delayed by the value of group.initial.rebalance.delay.ms as new members join the group, up to a maximum of max.poll.interval.ms.\n# The default value for this is 3 seconds.\n# We override this to 0 here as it makes for a better out-of-the-box experience for development and testing.\n# However, in production environments the default value of 3 seconds is more suitable as this will help to avoid unnecessary, and potentially expensive, rebalances during application startup.\ngroup.initial.rebalance.delay.ms=0\n\n# Grant permissions to the Kafka admin user\nsuperUser=User:*;\n\n# Allow all clients to connect to the broker\nUser:*;Host:*,Permission:allow,Operation:All;\n\n# Grant read and write permissions to a specific topic\nTopic:test-topic,PermissionType:Allow,Principal:User:test-user,Operation:Read,Write;\n\n</code></pre>\n<p>So when i try add a ACL with this command for example:</p>\n<blockquote>\n<p>sudo /usr/local/kafka/bin/kafka-acls.sh --bootstrap-server 192.168.1.88:9092 --add --allow-principal User:producer --allow-host 10.20.20.33 --operation write --topic test</p>\n</blockquote>\n<p>I get this crash message:</p>\n<pre><code>Adding ACLs for resource `ResourcePattern(resourceType=TOPIC, name=test, patternType=LITERAL)`:\n        (principal=User:producer, host=10.20.20.33, operation=WRITE, permissionType=ALLOW)\n\nError while executing ACL command: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\njava.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n        at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)\n        at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)\n        at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$3(AclCommand.scala:115)\n        at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n        at scala.collection.immutable.Map$Map1.foreach(Map.scala:193)\n        at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n        at kafka.admin.AclCommand$AdminClientService.$anonfun$addAcls$1(AclCommand.scala:112)\n        at kafka.admin.AclCommand$AdminClientService.addAcls(AclCommand.scala:111)\n        at kafka.admin.AclCommand$.main(AclCommand.scala:73)\n        at kafka.admin.AclCommand.main(AclCommand.scala)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: createAcls\n</code></pre>\n<p>It seems aswell that i cant even describe the topic that I created earlier after I added the &quot;authorizer.class.name=kafka.security.authorizer.AclAuthorizer&quot; line to the server.properties file. Everything worked fine before this and I was able to stream data without any authorization, but I canÂ´t seem to find the issue about this line and every guide that I could find have the exact same line.</p>\n<p>IÂ´ve checked that kafka and zookeeper are running properly since I can do everything with out the authorizer class in the properties file. I tried to give root user on the broker machine all permisions on the cluster and that resulted in the same crash. Any help would be amazing and let me know if you need any further infromation.</p>\n"},{"tags":["java","testcontainers","localstack"],"answers":[{"tags":[],"owner":{"account_id":27965298,"reputation":86,"user_id":21356283,"display_name":"bentsku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678291898,"creation_date":1678291866,"answer_id":75675478,"question_id":75660363,"body_markdown":"It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\r\nCould try replacing the network alias with the followings?\r\n\r\n```\r\npublic class LocalStackContainerExtended extends LocalStackContainer {\r\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n   // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\r\n   // You need to also include an alias for the to-be-created bucket\r\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\r\n\r\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n       super(dockerImageName);\r\n\r\n       withServices(Service.S3);\r\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\r\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\r\n   }\r\n\r\n   @Override\r\n   public void start() {\r\n       super.start();\r\n       try {\r\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n       } catch (Exception e) {\r\n           throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nWhen receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.\r\n\r\nMore informations about virtual host addressing in LocalStack: https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\r\n\r\nYou then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use `LOCALSTACK_S3_NETWORK_ALIAS ` as the `overrideEndpoint` (but beware, only for the client targeting S3!). Most other clients can use the endpoint `localstack:4566` pointing to your container. \r\n\r\n```\r\npublic class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n   ...\r\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\r\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n   }\r\n   ...\r\n}\r\n```","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>It might be that LocalStack is not recognising your incoming request as a Virtual Host addressed one.\nCould try replacing the network alias with the followings?</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_S3_NETWORK_ALIAS = &quot;s3.localhost.localstack.cloud&quot;;\n   // You need to also include an alias for the to-be-created bucket\n   public static final String BUCKET_LOCALSTACK_S3_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + LOCALSTACK_S3_NETWORK_ALIAS\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_S3_NETWORK_ALIAS);\n       withNetworkAliases(BUCKET_LOCALSTACK_S3_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>When receiving a request with this host, S3 should recognise the request and parse it properly. What is happening right now is that it does not recognise the bucket in your request, as it does not extract it from the host because it does not follow the pattern.</p>\n<p>More informations about virtual host addressing in LocalStack: <a href=\"https://docs.localstack.cloud/user-guide/aws/s3/#getting-started\" rel=\"nofollow noreferrer\">https://docs.localstack.cloud/user-guide/aws/s3/#getting-started</a></p>\n<p>You then need to also configure the client to use the right endpoint. Your S3 client will take care of prefixing your endpoint with the bucket name when targeting S3, so you need to use <code>LOCALSTACK_S3_NETWORK_ALIAS </code> as the <code>overrideEndpoint</code> (but beware, only for the client targeting S3!). Most other clients can use the endpoint <code>localstack:4566</code> pointing to your container.</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_S3_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":2219863,"reputation":191,"user_id":1959534,"accept_rate":95,"display_name":"David S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678291898,"creation_date":1678182722,"question_id":75660363,"body_markdown":"Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can&#39;t get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.\r\n\r\nMy extended Testcontainer looks like this:\r\n\r\n    public class LocalStackContainerExtended extends LocalStackContainer {\r\n       public static final String BUCKET_NAME = &quot;testBucket&quot;;\r\n       // Need to include bucket in network alias as we&#39;re not running any DNS resolver in test\r\n       public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\r\n\r\n       public LocalStackContainerExtended(DockerImageName dockerImageName) {\r\n           super(dockerImageName);\r\n\r\n           withServices(Service.S3);\r\n           withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\r\n       }\r\n\r\n       @Override\r\n       public void start() {\r\n           super.start();\r\n           try {\r\n               execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\r\n           } catch (Exception e) {\r\n               throw new RuntimeException();\r\n        }\r\n    }\r\n\r\nAWS SDK client config for the component that needs to talk with Localstack:\r\n\r\n    @Bean\r\n    // AwsConfigService collection class of aws override values\r\n    public S3Client getS3Client(AwsConfigService awsConfigService) {\r\n        S3ClientBuilder builder = S3Client.builder()\r\n            .region(awsConfigService.getRegion());\r\n\r\n        return awsConfigService.getOverrideEndpoint()\r\n            .map(URI::create)\r\n            .map(builder::endpointOverride)\r\n            .orElse(builder).build();\r\n    }\r\n\r\nTestcontainer setup for the component:\r\n\r\n    public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\r\n       ...\r\n       public void setLocalstackConfig(LocalStackContainerExtended localstack) {\r\n          withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\r\n          String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\r\n          withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\r\n       }\r\n       ...\r\n    }\r\n\r\nBut when running tests between the the client and Testcontainer I always get the following error:\r\n\r\n&gt; The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp\r\n\r\nWhat have I miss-configured or what is missing?","title":"Testcontainers - Localstack - S3 - Virtual Host Addressing Not Working","body":"<p>Been trying to get Testcontainers to work with virtual host addressing for the last couple of days as path style addressing is on the way out. But for the life of me I can't get the AWS SDK V2 for Java to work with Testcontainers.LocalStackContainer.</p>\n<p>My extended Testcontainer looks like this:</p>\n<pre><code>public class LocalStackContainerExtended extends LocalStackContainer {\n   public static final String BUCKET_NAME = &quot;testBucket&quot;;\n   // Need to include bucket in network alias as we're not running any DNS resolver in test\n   public static final String LOCALSTACK_NETWORK_ALIAS = BUCKET_NAME + &quot;.&quot; + &quot;localstack&quot;;\n\n   public LocalStackContainerExtended(DockerImageName dockerImageName) {\n       super(dockerImageName);\n\n       withServices(Service.S3);\n       withNetworkAliases(LOCALSTACK_NETWORK_ALIAS);\n   }\n\n   @Override\n   public void start() {\n       super.start();\n       try {\n           execInContainer(&quot;awslocal&quot;, &quot;s3api&quot;, &quot;create-bucket&quot;, &quot;--bucket&quot;, BUCKET_NAME);\n       } catch (Exception e) {\n           throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>AWS SDK client config for the component that needs to talk with Localstack:</p>\n<pre><code>@Bean\n// AwsConfigService collection class of aws override values\npublic S3Client getS3Client(AwsConfigService awsConfigService) {\n    S3ClientBuilder builder = S3Client.builder()\n        .region(awsConfigService.getRegion());\n\n    return awsConfigService.getOverrideEndpoint()\n        .map(URI::create)\n        .map(builder::endpointOverride)\n        .orElse(builder).build();\n}\n</code></pre>\n<p>Testcontainer setup for the component:</p>\n<pre><code>public class AppContainer extends GenericContainer&lt;AppContainer&gt;{\n   ...\n   public void setLocalstackConfig(LocalStackContainerExtended localstack) {\n      withEnv(&quot;awsConfigService.region&quot;, localstack.getRegion());\n      String overrideEndpoint = String.format(&quot;http://%s:%s&quot;, LOCALSTACK_NETWORK_ALIAS,&quot;4566&quot;);\n      withEnv(&quot;awsConfigService.override.endpoint&quot;, overrideEndpoint);\n   }\n   ...\n}\n</code></pre>\n<p>But when running tests between the the client and Testcontainer I always get the following error:</p>\n<blockquote>\n<p>The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: 7a62c49f-347e-4fc4-9331-6e8eEXAMPLE, Extended Request ID: MzRISOwyjmnupEEE949DD2EAF7F477/JypPGXLh0OVFGcJaaO3KW/hRAqKOpIEEp</p>\n</blockquote>\n<p>What have I miss-configured or what is missing?</p>\n"},{"tags":["java","android","ios","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678291186,"creation_date":1678291186,"answer_id":75675343,"question_id":75675247,"body_markdown":"You can create a link to your playstore app and have an icon with your other app&#39;s icon. Post that fire a intent to go to the market and open your app install page\r\n\r\n```\r\nstartActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\r\n```","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>You can create a link to your playstore app and have an icon with your other app's icon. Post that fire a intent to go to the market and open your app install page</p>\n<pre><code>startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;market://details?id=&quot; + packageNameOfYourOtherApp)));\n</code></pre>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678291186,"creation_date":1678290619,"question_id":75675247,"body_markdown":"I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.\r\n\r\nIs it possible to do that on Android ?\r\n\r\nThanks.","title":"Equivalent of SKStoreProductViewController for Android?","body":"<p>I want to cross promote another of my apps from inside my app, with an interstitial inside my app, as it can be done on iOS with SKStoreProductViewController.</p>\n<p>Is it possible to do that on Android ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","lazy-loading"],"comments":[{"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"score":0,"creation_date":1386347000,"post_id":20428560,"comment_id":30514054,"body_markdown":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?","body":"&quot;all 50 properties are instantiated as well&quot; -- could you modify this constructor so that instead of instantiating objects that you simply store null if the property does not exist or is not to be used?"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1386347003,"post_id":20428560,"comment_id":30514057,"body_markdown":"`totalMemory()` may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current **and future** objects, measured in bytes.&quot; (http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory())","body":"<code>totalMemory()</code> may not be doing exactly what you think it is - &quot;the total amount of memory currently available for current <b>and future</b> objects, measured in bytes.&quot; (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#totalMemory()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>)"},{"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"score":2,"creation_date":1386347017,"post_id":20428560,"comment_id":30514074,"body_markdown":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility.","body":"Only idea I have is maybe something with reflection.  Try write one method for all 50 calls.  Other than that, try refactoring your object.  If there are many properties its not using, that&#39;s a sign it has too much state, too much responsibility."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1386347313,"post_id":20428560,"comment_id":30514238,"body_markdown":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them.","body":"My &quot;answer&quot; wasn&#39;t really going to work.  It would help if we saw the structure of the NodeProperty type and how ConfigNode references them."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386347763,"post_id":20428560,"comment_id":30514515,"body_markdown":"I&#39;ve added an example of how it looks with a couple sample properties.","body":"I&#39;ve added an example of how it looks with a couple sample properties."},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1386348203,"post_id":20428560,"comment_id":30514790,"body_markdown":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern.","body":"Lazy loading will not solve your memory issue; it will delay it.  Assuming that you need a million config objects, then you really need 2.5gig of memory to hold them.  For memory constraints, consider the flyweight pattern."},{"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"score":0,"creation_date":1386348583,"post_id":20428560,"comment_id":30515018,"body_markdown":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern.","body":"@DwB For certain applications, any properties that aren&#39;t used, do not need to be instantiated. I imagine there should be considerable savings here. For other applications, they will instantiate everything. Perhaps I can consider both lazy loading and the flyweight pattern."}],"answers":[{"tags":[],"owner":{"account_id":208605,"reputation":5884,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386348193,"creation_date":1386347625,"answer_id":20428942,"question_id":20428560,"body_markdown":"**Approach 1**&lt;br&gt;\r\nHere&#39;s another approach you could use given the `NodeConfig` code: \r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pTwoWay;\r\n        public NodeProperty pBinary;\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n        \r\n        public NodeProperty getProperty(NodePropertyEnum nodeProp) {\r\n            switch(nodeProp) {\r\n                case TWO_WAY: \r\n                    if (pTwoWay != null) {return pTwoWay;}\r\n                    pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE ); \r\n                case BINARY_MODE: \r\n                    if (pBinary != null) {return pBinary;}\r\n                    pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.VISIBLE); \r\n                // other cases\r\n                default: \r\n                    throw new IllegalArgumentException();\r\n            }\r\n        }\r\n    }\r\n\r\n**Approach 2**&lt;BR&gt;\r\nLooks like a case for `Singleton` design pattern. Rather than checking for `propOne` instance to be `null`, it will be better if you make all Property classes singleton. Something like: \r\n\r\n    public class NodeProperty {\r\n        \r\n        private static volatile NodeProperty instance = null;\r\n        \r\n        private NodeProperty() {\r\n            // instantiatin logic\r\n        }\r\n        \r\n        public NodeProperty getInstance() {\r\n            if(instance == null) {\r\n                synchronized(NodeProperty.class) {\r\n                    if(instance==null) {\r\n                        instance = new NodeProperty();\r\n                    }\r\n                } \r\n            }\r\n        }\r\n\r\n    }\r\n\r\n","title":"Less verbose way to do lazy loading","body":"<p><strong>Approach 1</strong><br>\nHere's another approach you could use given the <code>NodeConfig</code> code: \n    public class NodeConfig {</p>\n\n<pre><code>    public NodeProperty pTwoWay;\n    public NodeProperty pBinary;\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n\n    public NodeProperty getProperty(NodePropertyEnum nodeProp) {\n        switch(nodeProp) {\n            case TWO_WAY: \n                if (pTwoWay != null) {return pTwoWay;}\n                pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE ); \n            case BINARY_MODE: \n                if (pBinary != null) {return pBinary;}\n                pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.VISIBLE); \n            // other cases\n            default: \n                throw new IllegalArgumentException();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Approach 2</strong><BR>\nLooks like a case for <code>Singleton</code> design pattern. Rather than checking for <code>propOne</code> instance to be <code>null</code>, it will be better if you make all Property classes singleton. Something like: </p>\n\n<pre><code>public class NodeProperty {\n\n    private static volatile NodeProperty instance = null;\n\n    private NodeProperty() {\n        // instantiatin logic\n    }\n\n    public NodeProperty getInstance() {\n        if(instance == null) {\n            synchronized(NodeProperty.class) {\n                if(instance==null) {\n                    instance = new NodeProperty();\n                }\n            } \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678290657,"creation_date":1386347757,"answer_id":20428998,"question_id":20428560,"body_markdown":"Guava&#39;s [Suppliers][1] library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn&#39;t have).\r\n\r\n    import com.google.common.base.Supplier;\r\n    import com.google.common.base.Suppliers;\r\n\r\n    private Supplier&lt;NodeProperty&gt; propOneSupplier =\r\n        Suppliers.memoize(() -&gt; new NodeProperty(...));\r\n\r\n    public NodeProperty propOne() {\r\n        return propOneSupplier.get();\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html","title":"Less verbose way to do lazy loading","body":"<p>Guava's <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/base/Suppliers.html\" rel=\"nofollow noreferrer\">Suppliers</a> library can do all the logic of lazy-loading for you (including thread-safety, which your example doesn't have).</p>\n<pre><code>import com.google.common.base.Supplier;\nimport com.google.common.base.Suppliers;\n\nprivate Supplier&lt;NodeProperty&gt; propOneSupplier =\n    Suppliers.memoize(() -&gt; new NodeProperty(...));\n\npublic NodeProperty propOne() {\n    return propOneSupplier.get();\n}\n</code></pre>\n"}],"owner":{"account_id":256108,"reputation":19126,"user_id":536607,"accept_rate":88,"display_name":"MxLDevs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20428942,"answer_count":2,"score":1,"last_activity_date":1678290657,"creation_date":1386346440,"question_id":20428560,"body_markdown":"I am refactoring a class called `ConfigNode` that stores 50 &quot;properties&quot;. Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.\r\n\r\nCurrently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million `Config` objects, Java tells me I&#39;m using 2.5 gigs of memory. When I comment out the property instantiation, Java says I&#39;m using 300 MB.\r\n\r\nThe benchmark code I&#39;m using is\r\n\r\n    Runtime.getRuntime().gc();\r\n    // do my stuff\r\n    Runtime.getRuntime().gc();\r\n    long memory = Runtime.getRuntime().totalMemory();\r\n    System.out.println(&quot;Memory used: &quot; + memory / 1000000 + &quot; MB&quot;);\r\n\r\nSo I&#39;m thinking of rewriting the class to lazy load a property when it&#39;s accessed, but having to write something like \r\n\r\n    // This is probably not thread safe, so it could be even more verbose\r\n    public NodeProperty propOne() {\r\n       if (propOne == null) {\r\n          propOne = new NodeProperty( ... )\r\n       }\r\n       return propOne\r\n    }\r\n\r\nAnd then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?\r\n\r\nHere is how the NodeConfig looks like\r\n\r\n    public class NodeConfig {\r\n\r\n        public NodeProperty pVersion = new NodeProperty( &quot;Spec Version&quot;, Status.REQUIRED, Visibility.HIDDEN);\r\n        public NodeProperty pTwoWay = new NodeProperty( &quot;Two way&quot;, Status.OPTIONAL, Visibility.VISIBLE );\r\n        public NodeProperty pBinary = new NodeProperty( &quot;Binary mode&quot;, Status.OPTIONAL, Visibility.HIDDEN);\r\n\r\n        // more properties\r\n\r\n        public NodeConfig() {\r\n            // \r\n        }\r\n    }\r\n","title":"Less verbose way to do lazy loading","body":"<p>I am refactoring a class called <code>ConfigNode</code> that stores 50 \"properties\". Each property is an object of its own. All properties are optional, and most of the time, many of them are not set.</p>\n\n<p>Currently, the class is written so that when it is instantiated, all 50 properties are instantiated as well. When you create a million <code>Config</code> objects, Java tells me I'm using 2.5 gigs of memory. When I comment out the property instantiation, Java says I'm using 300 MB.</p>\n\n<p>The benchmark code I'm using is</p>\n\n<pre><code>Runtime.getRuntime().gc();\n// do my stuff\nRuntime.getRuntime().gc();\nlong memory = Runtime.getRuntime().totalMemory();\nSystem.out.println(\"Memory used: \" + memory / 1000000 + \" MB\");\n</code></pre>\n\n<p>So I'm thinking of rewriting the class to lazy load a property when it's accessed, but having to write something like </p>\n\n<pre><code>// This is probably not thread safe, so it could be even more verbose\npublic NodeProperty propOne() {\n   if (propOne == null) {\n      propOne = new NodeProperty( ... )\n   }\n   return propOne\n}\n</code></pre>\n\n<p>And then do it for all of the properties seems kind of verbose. Is there anything in Java that can help me reduce the amount of code I have to write (and consequently, maintain)?</p>\n\n<p>Here is how the NodeConfig looks like</p>\n\n<pre><code>public class NodeConfig {\n\n    public NodeProperty pVersion = new NodeProperty( \"Spec Version\", Status.REQUIRED, Visibility.HIDDEN);\n    public NodeProperty pTwoWay = new NodeProperty( \"Two way\", Status.OPTIONAL, Visibility.VISIBLE );\n    public NodeProperty pBinary = new NodeProperty( \"Binary mode\", Status.OPTIONAL, Visibility.HIDDEN);\n\n    // more properties\n\n    public NodeConfig() {\n        // \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288719,"creation_date":1678288719,"answer_id":75674917,"question_id":75674802,"body_markdown":"The `Mono` has this operator:\r\n\r\n\r\n\t/**\r\n\t * Transform the item emitted by this {@link Mono} into a Publisher, then forward\r\n\t * its emissions into the returned {@link Flux}.\r\n\t *\r\n\t * &lt;p&gt;\r\n\t * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\r\n\t *\r\n\t * @param mapper the\r\n\t * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\r\n\t * @param &lt;R&gt; the merged sequence type\r\n\t *\r\n\t * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\r\n\t */\r\n\tpublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>The <code>Mono</code> has this operator:</p>\n<pre><code>/**\n * Transform the item emitted by this {@link Mono} into a Publisher, then forward\n * its emissions into the returned {@link Flux}.\n *\n * &lt;p&gt;\n * &lt;img class=&quot;marble&quot; src=&quot;doc-files/marbles/flatMapMany.svg&quot; alt=&quot;&quot;&gt;\n *\n * @param mapper the\n * {@link Function} to produce a sequence of R from the eventual passed {@link Subscriber#onNext}\n * @param &lt;R&gt; the merged sequence type\n *\n * @return a new {@link Flux} as the sequence is not guaranteed to be single at most\n */\npublic final &lt;R&gt; Flux&lt;R&gt; flatMapMany(Function&lt;? super T, ? extends Publisher&lt;? extends R&gt;&gt; mapper) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678290041,"creation_date":1678289007,"answer_id":75674956,"question_id":75674802,"body_markdown":"In your first example nothing happens with `validate(id1,id2);` because no one subscribes to it. You should build your reactive chain from the start to the end.\r\n\r\nTo return `Flux` after the successful validation you should use `flatMapMany()`\r\n&lt;!-- language: java --&gt;\r\n    return validate(id1,id2)\r\n            .filter(valid -&gt; valid)\r\n            .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\r\n\r\nFrom `flatMapMany()` docs:\r\n\r\n     * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>In your first example nothing happens with <code>validate(id1,id2);</code> because no one subscribes to it. You should build your reactive chain from the start to the end.</p>\n<p>To return <code>Flux</code> after the successful validation you should use <code>flatMapMany()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>return validate(id1,id2)\n        .filter(valid -&gt; valid)\n        .flatMapMany(__ -&gt; facilityService.getFacilityResponse(id1,id2));\n</code></pre>\n<p>From <code>flatMapMany()</code> docs:</p>\n<pre><code> * Transform the item emitted by this {@link Mono} into a Publisher, then forward  * its emissions into the returned {@link Flux}.\n</code></pre>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674956,"answer_count":2,"score":0,"last_activity_date":1678290296,"creation_date":1678288121,"question_id":75674802,"body_markdown":"I have a validator method that returns a `Mono&lt;Boolean&gt;`. \r\nThe validation is happening as expected and returns bad request exception in case of invalid `id1` or `id2`. \r\n\r\n```\r\npublic static Mono&lt;Boolean&gt; validate(String id1, String id2) {\r\n   //some condition to check id1 &amp; id2.\r\n   // either return Mono.just(false)/mono.just(true)\r\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \r\n}\r\n```\r\n\r\nHowever, the control is going to the next line instead of returning from the execution. \r\nHere is the method where the validator method is referred: \r\n\r\n```\r\npublic Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\r\n    validate(id1,id2);\r\n    return facilityService.getFacilityResponse(id1,id2);  \r\n }\r\n```\r\n\r\nThe validator method returns `Mono&lt;Boolean&gt;`, but the method returns `Flux&lt;FacilitiesResponse&gt;`. How to re-write this whole method in `reactive` way such that it returns `Flux&lt; FacilitiesResponse&gt;` ? \r\n\r\nI tried something like below:\r\n```\r\nreturn validate(id1,id2)\r\n       .filter(valid -&gt; valid)\r\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \r\n```\r\n\r\nbut it gives me `Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;` instead. \r\n\r\nUnfortunately,  I cannot change the return type of `facilityService.getFacilityResponse(id1,id2)`.\r\n\r\n\r\n","title":"How to return Flux of objects after calling a mono boolean method","body":"<p>I have a validator method that returns a <code>Mono&lt;Boolean&gt;</code>.\nThe validation is happening as expected and returns bad request exception in case of invalid <code>id1</code> or <code>id2</code>.</p>\n<pre><code>public static Mono&lt;Boolean&gt; validate(String id1, String id2) {\n   //some condition to check id1 &amp; id2.\n   // either return Mono.just(false)/mono.just(true)\n   // or return Mono.error(new BadRequestException(&quot;&quot;)); \n}\n</code></pre>\n<p>However, the control is going to the next line instead of returning from the execution.\nHere is the method where the validator method is referred:</p>\n<pre><code>public Flux&lt;FacilitiesResponse&gt; validateAndGetFacilityResponse(String id1, String id2) {\n    validate(id1,id2);\n    return facilityService.getFacilityResponse(id1,id2);  \n }\n</code></pre>\n<p>The validator method returns <code>Mono&lt;Boolean&gt;</code>, but the method returns <code>Flux&lt;FacilitiesResponse&gt;</code>. How to re-write this whole method in <code>reactive</code> way such that it returns <code>Flux&lt; FacilitiesResponse&gt;</code> ?</p>\n<p>I tried something like below:</p>\n<pre><code>return validate(id1,id2)\n       .filter(valid -&gt; valid)\n       .map(valid -&gt; facilityService.getFacilityResponse(id1,id2)) \n</code></pre>\n<p>but it gives me <code>Mono&lt;Flux&lt; FacilitiesResponse&gt;&gt;</code> instead.</p>\n<p>Unfortunately,  I cannot change the return type of <code>facilityService.getFacilityResponse(id1,id2)</code>.</p>\n"},{"tags":["java","eclipse","excel","syntax","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1391652611,"creation_date":1391638848,"answer_id":21589821,"question_id":21589784,"body_markdown":"You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block\r\n\r\n    private void processFile() {\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); // &lt;--Syntax error  \r\n         ...//snip\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n      } \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>You need to place all statements after the declarations in a code block, e.g. method rather than the class block. Logically it probably makes sense to place all statements in the code block but the non-declarative statements need to be enclosed within the new block</p>\n\n<pre><code>private void processFile() {\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); // &lt;--Syntax error  \n     ...//snip\n  } catch (Exception e) {\n     e.printStackTrace();\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391638920,"creation_date":1391638920,"answer_id":21589838,"question_id":21589784,"body_markdown":"Place all of your code within a main method:\r\n\r\n \tpublic static void main(String[] args) {\r\n            //All of your code goes here\r\n\r\n\t}\r\n\r\nStatements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Place all of your code within a main method:</p>\n\n<pre><code>public static void main(String[] args) {\n        //All of your code goes here\n\n}\n</code></pre>\n\n<p>Statements (this does not include declarations) must be executed inside a block.  It appears that you are conducting a test of some code and that this is not meant to be an actual object in your code, so you must place it within the main method.</p>\n"},{"tags":[],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391734768,"creation_date":1391734768,"answer_id":21617379,"question_id":21589784,"body_markdown":"Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>Issue resolved. I created a new project in Eclipse, added the POI (jar) to the libraries and the syntax error is no longer displayed.</p>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524215997,"creation_date":1524215997,"answer_id":49938253,"question_id":21589784,"body_markdown":"**Paste try and catch block inside any method**. Above question your try block only inside the class that&#39;s why your getting **Syntax Error message** or Learn deeply about try \r\n\r\n \r\n\r\n    public void yourMethod(){    \r\n            try \r\n             {\r\n               //Write the workbook in file system\r\n               FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n                        workbook.write(out);\r\n                        out.close();\r\n                        System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n                    } \r\n                    catch (Exception e)\r\n                    {\r\n                        e.printStackTrace();\r\n                }\r\n            }","title":"Syntax error on token(s), misplaced construct(s)","body":"<p><strong>Paste try and catch block inside any method</strong>. Above question your try block only inside the class that's why your getting <strong>Syntax Error message</strong> or Learn deeply about try </p>\n\n<pre><code>public void yourMethod(){    \n        try \n         {\n           //Write the workbook in file system\n           FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n                    workbook.write(out);\n                    out.close();\n                    System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n                } \n                catch (Exception e)\n                {\n                    e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":3973269,"reputation":129,"user_id":3277243,"display_name":"user3277243"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109549,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1678290190,"creation_date":1391638731,"question_id":21589784,"body_markdown":"How to fix this error ---&gt; Syntax error on token(s), misplaced construct(s) \r\nThe error is at the line below indicated.\r\nNote: This code was copied on the web and trying to get it to work as a learning tool \r\nI&#39;m using Eclipse\r\nThanks!\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.TreeMap;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class EcellTest22 {\r\n    \t //Blank workbook\r\n        XSSFWorkbook workbook = new XSSFWorkbook();\r\n    \r\n        //Create a blank sheet\r\n        XSSFSheet sheet = workbook.createSheet(&quot;Employee Data&quot;);\r\n    \r\n        //This data needs to be written (Object[])\r\n        Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\r\n         //\r\n        data.put(&quot;1&quot;, new Object[]{&quot;ID&quot;,&quot;NAME&quot;, &quot;LASTNAME&quot;}); &lt;--Syntax error on token(s), misplaced construct(s) \r\n    \r\n    \r\n        data.put(&quot;2&quot;, new Object[]{1, &quot;Amit&quot;, &quot;Shukla&quot;});\r\n        data.put(&quot;3&quot;, new Object[]{2, &quot;Lokesh&quot;, &quot;Gupta&quot;});\r\n        data.put(&quot;4&quot;, new Object[]{3, &quot;John&quot;, &quot;Adwards&quot;});\r\n        data.put(&quot;5&quot;, new Object[]{4, &quot;Brian&quot;, &quot;Schultz&quot;});\r\n    \r\n        //Iterate over data and write to sheet\r\n        Set&lt;String&gt; keyset = data.keySet();\r\n    \r\n        int rownum = 0;\r\n        for (String key : keyset) \r\n        {\r\n            //create a row of excelsheet\r\n            Row row = sheet.createRow(rownum++);\r\n    \r\n            //get object array of prerticuler key\r\n            Object[] objArr = data.get(key);\r\n    \r\n            int cellnum = 0;\r\n    \r\n            for (Object obj : objArr) \r\n            {\r\n                Cell cell = row.createCell(cellnum++);\r\n                if (obj instanceof String) \r\n                {\r\n                    cell.setCellValue((String) obj);\r\n                }\r\n                else if (obj instanceof Integer) \r\n                {\r\n                    cell.setCellValue((Integer) obj);\r\n                }\r\n            }\r\n        }\r\n        try \r\n        {\r\n            //Write the workbook in file system\r\n            FileOutputStream out = new FileOutputStream(new File(&quot;C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx&quot;));\r\n            workbook.write(out);\r\n            out.close();\r\n            System.out.println(&quot;howtodoinjava_demo.xlsx written successfully on disk.&quot;);\r\n        } \r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Syntax error on token(s), misplaced construct(s)","body":"<p>How to fix this error ---> Syntax error on token(s), misplaced construct(s) \nThe error is at the line below indicated.\nNote: This code was copied on the web and trying to get it to work as a learning tool \nI'm using Eclipse\nThanks!</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.TreeMap;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class EcellTest22 {\n     //Blank workbook\n    XSSFWorkbook workbook = new XSSFWorkbook();\n\n    //Create a blank sheet\n    XSSFSheet sheet = workbook.createSheet(\"Employee Data\");\n\n    //This data needs to be written (Object[])\n    Map&lt;String, Object[]&gt; data = new TreeMap&lt;String, Object[]&gt;();\n     //\n    data.put(\"1\", new Object[]{\"ID\",\"NAME\", \"LASTNAME\"}); &lt;--Syntax error on token(s), misplaced construct(s) \n\n\n    data.put(\"2\", new Object[]{1, \"Amit\", \"Shukla\"});\n    data.put(\"3\", new Object[]{2, \"Lokesh\", \"Gupta\"});\n    data.put(\"4\", new Object[]{3, \"John\", \"Adwards\"});\n    data.put(\"5\", new Object[]{4, \"Brian\", \"Schultz\"});\n\n    //Iterate over data and write to sheet\n    Set&lt;String&gt; keyset = data.keySet();\n\n    int rownum = 0;\n    for (String key : keyset) \n    {\n        //create a row of excelsheet\n        Row row = sheet.createRow(rownum++);\n\n        //get object array of prerticuler key\n        Object[] objArr = data.get(key);\n\n        int cellnum = 0;\n\n        for (Object obj : objArr) \n        {\n            Cell cell = row.createCell(cellnum++);\n            if (obj instanceof String) \n            {\n                cell.setCellValue((String) obj);\n            }\n            else if (obj instanceof Integer) \n            {\n                cell.setCellValue((Integer) obj);\n            }\n        }\n    }\n    try \n    {\n        //Write the workbook in file system\n        FileOutputStream out = new FileOutputStream(new File(\"C:\\\\Documents and Settings\\\\admin\\\\Desktop\\\\imp data\\\\howtodoinjava_demo.xlsx\"));\n        workbook.write(out);\n        out.close();\n        System.out.println(\"howtodoinjava_demo.xlsx written successfully on disk.\");\n    } \n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"answers":[{"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678289910,"creation_date":1678289910,"answer_id":75675118,"question_id":75672712,"body_markdown":"You can&#39;t set a TTL on a scope ([see documentation here][1]): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;\r\n\r\nAs for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for *all documents* in the collection.\r\n\r\nYou can also set TTL on individual documents (using the KV API).\r\n\r\n\r\n  [1]: https://docs.couchbase.com/server/current/learn/data/expiration.html","title":"Using scope with TTL in Couchbase","body":"<p>You can't set a TTL on a scope (<a href=\"https://docs.couchbase.com/server/current/learn/data/expiration.html\" rel=\"nofollow noreferrer\">see documentation here</a>): &quot;TTL can be established on collections: it cannot be established on scopes.&quot;</p>\n<p>As for TTL on a collection, expiration will NOT delete the collection. Setting a TTL on a collection specifies the TTL for <em>all documents</em> in the collection.</p>\n<p>You can also set TTL on individual documents (using the KV API).</p>\n"}],"owner":{"account_id":4750084,"reputation":2919,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75675118,"answer_count":1,"score":1,"last_activity_date":1678289910,"creation_date":1678276495,"question_id":75672712,"body_markdown":"I have a couple of questions in couchbase 7 version :\r\n\r\n1. What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.\r\n\r\n2. What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.","title":"Using scope with TTL in Couchbase","body":"<p>I have a couple of questions in couchbase 7 version :</p>\n<ol>\n<li><p>What will a TTL set on scope do ? I assume it will delete the data and collections within it because its not clearly described.</p>\n</li>\n<li><p>What will a TTL set on collection do ? I know it will delete the collection but seems we will also have to delete the K,V first which is the data.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-data","matcher","query-by-example"],"answers":[{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1551334752,"creation_date":1551293007,"answer_id":54912452,"question_id":54911363,"body_markdown":"Try this:\r\n\r\n    Teacher t = new Teacher(&quot;Peter&quot;);\r\n    Example&lt;Teacher&gt; te = Example.of(t,\r\n        ExampleMatcher.matching()\r\n            .withStringMatcher(StringMatcher.CONTAINING)\r\n            .withIgnoreCase());\r\n\r\nWith `ExampleMatcher.matching()` or `ExampleMatcher.matchingAll()` comparison is done against all non-null fields in your example teacher `t` so just name (assumed from &quot;Peter&quot;).\r\n\r\n**NOTE**: with primitive values you just need to add them to `withIgnorePaths(..)` or change them to boxed types like `int -&gt; Integer`, there are no other easy workarounds.\r\n\r\nIf you need to search only by `int area` set no name but are\r\n in your example `t`\r\n\r\n    t.setArea(55);\r\n\r\nor if you had `Date created`, searching by created:\r\n\r\n    t.setCreated(someDate);\r\n\r\nyou can even set them all to narrow the search by applying them all.\r\n\r\nFrom [the docs](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--)\r\n\r\n&gt; static ExampleMatcher matching()    \r\n&gt; ( &amp; static ExampleMatcher matchingAll() )    \r\n\r\n&gt;Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.","title":"How to make ExampleMatcher to match just one property?","body":"<p>Try this:</p>\n\n<pre><code>Teacher t = new Teacher(\"Peter\");\nExample&lt;Teacher&gt; te = Example.of(t,\n    ExampleMatcher.matching()\n        .withStringMatcher(StringMatcher.CONTAINING)\n        .withIgnoreCase());\n</code></pre>\n\n<p>With <code>ExampleMatcher.matching()</code> or <code>ExampleMatcher.matchingAll()</code> comparison is done against all non-null fields in your example teacher <code>t</code> so just name (assumed from \"Peter\").</p>\n\n<p><strong>NOTE</strong>: with primitive values you just need to add them to <code>withIgnorePaths(..)</code> or change them to boxed types like <code>int -&gt; Integer</code>, there are no other easy workarounds.</p>\n\n<p>If you need to search only by <code>int area</code> set no name but are\n in your example <code>t</code></p>\n\n<pre><code>t.setArea(55);\n</code></pre>\n\n<p>or if you had <code>Date created</code>, searching by created:</p>\n\n<pre><code>t.setCreated(someDate);\n</code></pre>\n\n<p>you can even set them all to narrow the search by applying them all.</p>\n\n<p>From <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html#matching--\" rel=\"noreferrer\">the docs</a></p>\n\n<blockquote>\n  <p>static ExampleMatcher matching()<br>\n  ( &amp; static ExampleMatcher matchingAll() )    </p>\n  \n  <p>Create a new ExampleMatcher including all non-null properties by default matching all predicates derived from the example.</p>\n</blockquote>\n"}],"owner":{"account_id":9240345,"reputation":145,"user_id":6863816,"display_name":"Jigu Jigu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8178,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54912452,"answer_count":1,"score":8,"last_activity_date":1678289852,"creation_date":1551288989,"question_id":54911363,"body_markdown":"How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?\r\n\r\nAssume my class like this :\r\n\r\n    Public Class Teacher() {\r\n    \tString id;\r\n    \tString name;\r\n    \tString address;\r\n    \tString phone;\r\n    \tint area;\r\n    \t..other properties is here...\r\n    }\r\n\r\nIf I want to match by the name:\r\n\r\n    Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\r\n    \r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \r\n\r\nand if I want to match by the address:\r\n\r\n    ExampleMatcher matcher = ExampleMatcher.matchingAny()\r\n    .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\r\n    .withIgnoreCase()\r\n    .withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\r\n\r\nso I need to repeat the `withIgnorePaths(..)` How to avoid that?\r\n\r\n\r\n","title":"How to make ExampleMatcher to match just one property?","body":"<p>How to implement ExampleMatcher, to match just one property randomly from my class and ignore the other properties?</p>\n<p>Assume my class like this :</p>\n<pre><code>Public Class Teacher() {\n    String id;\n    String name;\n    String address;\n    String phone;\n    int area;\n    ..other properties is here...\n}\n</code></pre>\n<p>If I want to match by the name:</p>\n<pre><code>Teacher TeacherExample = new Teacher(&quot;Peter&quot;);\n\nExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;address&quot;, &quot;phone&quot;,&quot;area&quot;,...);   //no name \n</code></pre>\n<p>and if I want to match by the address:</p>\n<pre><code>ExampleMatcher matcher = ExampleMatcher.matchingAny()\n.withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)\n.withIgnoreCase()\n.withIgnorePaths(&quot;id&quot;, &quot;name&quot;, &quot;phone&quot;,&quot;area&quot;,...); //no address\n</code></pre>\n<p>so I need to repeat the <code>withIgnorePaths(..)</code> How to avoid that?</p>\n"},{"tags":["java","spring","hibernate","backend"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678290966,"post_id":75675015,"comment_id":133504891,"body_markdown":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s `save()` method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both.","body":"You should assign the value of the optional to a new object before adding the new keyword/item relationship and then call the repository&#39;s <code>save()</code> method to update the object. Depending on your cascade settings, saving one of the objects should update all related tables, otherwise you may need to save both."}],"owner":{"account_id":15543294,"reputation":23,"user_id":18222922,"display_name":"aalvisj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678289338,"creation_date":1678289338,"question_id":75675015,"body_markdown":"I&#39;m trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.\r\n\r\nThis looks like this in the &quot;Item&quot; class:\r\n\r\n```\r\n@ManyToMany()\r\n@JoinTable(\r\n\tname = &quot;item_keywords&quot;,\r\n\tjoinColumns = @JoinColumn(name = &quot;item_id&quot;),\r\n\tinverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\r\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\r\n```\r\n\r\nAnd like this in the &quot;Keyword&quot; class:\r\n\r\n```\r\n@ManyToMany(mappedBy = &quot;keywords&quot;)\r\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n```\r\n\r\nMy problem is then creating a function that makes it possible to link an existing Item to an existing Keyword. \r\n\r\nI used a function that takes the item&#39;s ID as well as a keyword as input, and tries to achieve this by running the following code snippet:\r\n\r\n```\r\nOptional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\r\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\r\n\r\n\r\nif (keywordInTable.isPresent()) {\r\n    optionalItem.get().addKeyword(keywordInTable.get());\r\n    keywordInTable.get().addItem(optionalItem.get());\r\n    return true;\r\n    }\r\n```\r\n\r\nThe addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.\r\n\r\nAlso, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.\r\n\r\nCould anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.","title":"Java &amp; Spring Boot: Adding a new &quot;link&quot; in a ManyToMany relationship?","body":"<p>I'm trying to implement a webshop type app that has items with specific keywords. Since an item can have multiple keywords and a keyword can be applied to multiple items, I used the &quot;@ManyToMany&quot; annotation.</p>\n<p>This looks like this in the &quot;Item&quot; class:</p>\n<pre><code>@ManyToMany()\n@JoinTable(\n    name = &quot;item_keywords&quot;,\n    joinColumns = @JoinColumn(name = &quot;item_id&quot;),\n    inverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;))\nprivate List&lt;Keyword&gt; keywords = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And like this in the &quot;Keyword&quot; class:</p>\n<pre><code>@ManyToMany(mappedBy = &quot;keywords&quot;)\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n</code></pre>\n<p>My problem is then creating a function that makes it possible to link an existing Item to an existing Keyword.</p>\n<p>I used a function that takes the item's ID as well as a keyword as input, and tries to achieve this by running the following code snippet:</p>\n<pre><code>Optional&lt;Item&gt; optionalItem = itemRepository.findById(itemId);\nOptional&lt;Keyword&gt; keywordInTable = keywordRepository.findByName(keyword);\n\n\nif (keywordInTable.isPresent()) {\n    optionalItem.get().addKeyword(keywordInTable.get());\n    keywordInTable.get().addItem(optionalItem.get());\n    return true;\n    }\n</code></pre>\n<p>The addKeyword and addItem functions simply append a Keyword Item to the lists defined above. Running this code snippet does return &quot;true&quot;. I expected the &quot;item_keywords&quot; database to obtain a new entry with the item and keyword id after execution. However, nothing changes in the &quot;item_keywords&quot; database after execution.</p>\n<p>Also, the item and keyword repositories extend org.springframework.data.jpa.repository.JpaRepository, if that is useful information.</p>\n<p>Could anyone perhaps explain me why this might be the case and provide me some directions for how to change it? I would be very grateful.</p>\n"},{"tags":["java","maven","gradle","querydsl"],"answers":[{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678289162,"creation_date":1678289162,"answer_id":75674987,"question_id":75625807,"body_markdown":"Because Maven throws together things that should not be thrown together which Gradle properly separates.\r\nThe class using the services you define is run as part of annotation processing.\r\nSo your services are not needed as `implementation` dependencies, but as `annotationProcessor` dependencies.\r\n\r\nReplace\r\n```groovy\r\nimplementation project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nby\r\n```groovy\r\nannotationProcessor project(&#39;:querydsl-ext-apt&#39;)\r\n```\r\nand your services are found where necessary.","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>Because Maven throws together things that should not be thrown together which Gradle properly separates.\nThe class using the services you define is run as part of annotation processing.\nSo your services are not needed as <code>implementation</code> dependencies, but as <code>annotationProcessor</code> dependencies.</p>\n<p>Replace</p>\n<pre><code>implementation project(':querydsl-ext-apt')\n</code></pre>\n<p>by</p>\n<pre><code>annotationProcessor project(':querydsl-ext-apt')\n</code></pre>\n<p>and your services are found where necessary.</p>\n"}],"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75674987,"answer_count":1,"score":0,"last_activity_date":1678289162,"creation_date":1677838791,"question_id":75625807,"body_markdown":"I have created a repository here https://github.com/bigbang4u2/query-dsl-hibernate-types (This has been copied from [here][1]). \r\n\r\nRepository created by me [here][2] contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don&#39;t know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl\r\n\r\nI need to to work with gradle as that&#39;s what I am using in my project\r\n\r\nKindly help\r\n\r\n\r\n  [1]: https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\r\n  [2]: https://github.com/bigbang4u2/query-dsl-hibernate-types","title":"Service loader not can&#39;t find providers when using gradle but works with maven","body":"<p>I have created a repository here <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">https://github.com/bigbang4u2/query-dsl-hibernate-types</a> (This has been copied from <a href=\"https://github.com/jwgmeligmeyling/hibernate-types-querydsl-apt\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Repository created by me <a href=\"https://github.com/bigbang4u2/query-dsl-hibernate-types\" rel=\"nofollow noreferrer\">here</a> contains both gradle and maven. When using maven all providers are loaded correctly in service loader (see querydsl-ext-apt where providers are present and also listed in META-INF/services). For some reason don't know why maven is able to generate all querydsl QClass with extensions listed in META-INF but when I use gradle all these are ignored and just generate QClasses which are native to querydsl</p>\n<p>I need to to work with gradle as that's what I am using in my project</p>\n<p>Kindly help</p>\n"},{"tags":["java","kotlin","http2","bidi"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678281750,"post_id":75672933,"comment_id":133501789,"body_markdown":"This sounds like it might be a good use case for gRPC.","body":"This sounds like it might be a good use case for gRPC."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678282200,"post_id":75672933,"comment_id":133501926,"body_markdown":"You should take a look to Server Sent Event https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events. Using  base64-encoding you will be able to send multiple file on the same connection.","body":"You should take a look to Server Sent Event <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/&zwnj;&#8203;&hellip;</a>. Using  base64-encoding you will be able to send multiple file on the same connection."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282239,"post_id":75672933,"comment_id":133501941,"body_markdown":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?","body":"@LouisWasserman Does gRPC support streaming, let&#39;s say, 1 GB of data without keeping all of it in memory until it has been processed further?"},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678282376,"post_id":75672933,"comment_id":133501975,"body_markdown":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction.","body":"@Thomas Server Sent Events, as the name suggests, is for sending data from server to client but this does not seem to support having the client send data repeatedly. The server only responds to data sent by the client but it does not send events on its own without client interaction."},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678283132,"post_id":75672933,"comment_id":133502210,"body_markdown":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request.","body":"@SimaoGomesViana I mean, one way SSE throw a single canal and other way use classic http with a reference of the request."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678284466,"post_id":75672933,"comment_id":133502662,"body_markdown":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?","body":"@Thomas Sorry, I don&#39;t understand your suggestion. Could you elaborate?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678285612,"post_id":75672933,"comment_id":133503064,"body_markdown":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data.","body":"Sure.  Just use a bidirectional streaming RPC with modest individual chunks of data."},{"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"score":0,"creation_date":1678288046,"post_id":75672933,"comment_id":133503819,"body_markdown":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?","body":"@LouisWasserman Okay, thank you, I&#39;ll try to look into that later. For now, is there a way to do that using HTTP/2 only?"}],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17217,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678288973,"creation_date":1678288973,"answer_id":75674952,"question_id":75672933,"body_markdown":"[Disclaimer, I work on the Jetty Project.]\r\n\r\nThis is possible with Jetty&#39;s `HttpClient`, exactly like you want:\r\n\r\n```java\r\nHTTP2Client http2Client = new HTTP2Client();\r\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\r\nclient.start();\r\n\r\nOutputStreamRequestContent content = new OutputStreamRequestContent();\r\nInputStreamResponseListener listener = new InputStreamResponseListener();\r\n\r\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\r\n    .method(HttpMethod.POST)\r\n    .body(content)\r\n    .send(listener);\r\n\r\n// Optionally, get the response (with headers) \r\n// from the server and verify it is a 200.\r\nResponse response = listener.get(5, TimeUnit.SECONDS);\r\nassertEquals(HttpStatus.OK_200, response.getStatus());\r\n\r\nInputStream input = listener.getInputStream();\r\nOutputStream output = content.getOutputStream();\r\n\r\n// Write some content and expect the response\r\n// (assuming it is echoed back in this example).\r\noutput.write(&#39;a&#39;);\r\nint read = input.read();\r\nassertEquals(&#39;a&#39;, read);\r\n\r\noutput.write(&#39;b&#39;);\r\nread = input.read();\r\nassertEquals(&#39;b&#39;, read);\r\n\r\n// Terminate.\r\noutput.close();\r\nread = input.read();\r\nassertEquals(-1, read);\r\n\r\nclient.stop();\r\n```","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>[Disclaimer, I work on the Jetty Project.]</p>\n<p>This is possible with Jetty's <code>HttpClient</code>, exactly like you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HTTP2Client http2Client = new HTTP2Client();\nHttpClient client = new HttpClient(new HttpClientTransportOverHTTP2(http2Client));\nclient.start();\n\nOutputStreamRequestContent content = new OutputStreamRequestContent();\nInputStreamResponseListener listener = new InputStreamResponseListener();\n\nclient.newRequest(&quot;http://localhost:8080/path&quot;)\n    .method(HttpMethod.POST)\n    .body(content)\n    .send(listener);\n\n// Optionally, get the response (with headers) \n// from the server and verify it is a 200.\nResponse response = listener.get(5, TimeUnit.SECONDS);\nassertEquals(HttpStatus.OK_200, response.getStatus());\n\nInputStream input = listener.getInputStream();\nOutputStream output = content.getOutputStream();\n\n// Write some content and expect the response\n// (assuming it is echoed back in this example).\noutput.write('a');\nint read = input.read();\nassertEquals('a', read);\n\noutput.write('b');\nread = input.read();\nassertEquals('b', read);\n\n// Terminate.\noutput.close();\nread = input.read();\nassertEquals(-1, read);\n\nclient.stop();\n</code></pre>\n"}],"owner":{"account_id":20817839,"reputation":396,"user_id":15290244,"display_name":"Simao Gomes Viana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678288973,"creation_date":1678277831,"question_id":75672933,"body_markdown":"I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.\r\n\r\nAfter each piece of data, the server responds with a JSON, containing the related information.\r\n\r\nThe requirements are as follows:\r\n- The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)\r\n- This must happen on a single connection and can&#39;t be split up into multiple requests (for reasons I am not going to disclose now)\r\n- The data being streamed is binary.\r\n\r\nI have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can&#39;t be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.\r\n\r\nThe idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.\r\n\r\n\r\nHere is my current attempt at OkHttp:\r\n\r\n```kotlin\r\nval request = Request.Builder()\r\n    .url(&quot;/media&quot;.customApiUrl)\r\n    .post(object : RequestBody() {\r\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\r\n\r\n        override fun writeTo(sink: BufferedSink) {\r\n            sink.writeAll(pipeIn.source())\r\n        }\r\n    })\r\n    .build()\r\nOkHttpClient().newBuilder()\r\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\r\n    .build()\r\n    .newCall(request).enqueue(object : Callback {\r\n        override fun onFailure(call: Call, e: IOException) {\r\n            TODO(&quot;Not yet implemented&quot;)\r\n        }\r\n\r\n        override fun onResponse(call: Call, response: Response) {\r\n            // this is never called\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n\r\n    })\r\n```\r\n\r\nThis was my attempt at Ktor:\r\n\r\n```kotlin\r\n        logger.debug(&quot;Making HTTP call&quot;)\r\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\r\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\r\n            setBody(pipeIn)\r\n            logger.debug(&quot;Media session ready to execute&quot;)\r\n        }.execute {\r\n            // This is never called (checked using breakpoint)\r\n            logger.debug(&quot;Media session executing&quot;)\r\n        }\r\n        // this is also never called but that&#39;s fine\r\n        logger.info(&quot;Media session closed&quot;)\r\n```\r\n\r\nThis is how the streams are created:\r\n\r\n```kotlin\r\n        val pipeOut = PipedOutputStream()\r\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\r\n```\r\n\r\nHow `pipeOut` is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.\r\n\r\nI would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.\r\n\r\n**Edit:** I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.","title":"How to implement bidirectional HTTP/2 communication in Java/Kotlin","body":"<p>I have a PHP script which accepts a long-running HTTP/2 connection and processes pieces of data as they are streamed from the client. The amount of data streamed from client to server until the connection is closed is expected to be in realm of 5 GB.</p>\n<p>After each piece of data, the server responds with a JSON, containing the related information.</p>\n<p>The requirements are as follows:</p>\n<ul>\n<li>The PHP script cannot be a standalone application (i .e. a separate PHP server with WebSocket support is not an option hence the HTTP/2 attempt)</li>\n<li>This must happen on a single connection and can't be split up into multiple requests (for reasons I am not going to disclose now)</li>\n<li>The data being streamed is binary.</li>\n</ul>\n<p>I have tried using Ktor, OkHttp and the Java 11 HTTP Client but the problem I get is that the response body can't be used until the request has finished. The important aspect here is that it is  bidirectional and interleaved. The RFC for HTTP/2 says that this behavior is supported.</p>\n<p>The idea is that some thread writes data into an OutputStream, which is fed into the HTTP client using a pipe. Same thread uses the InputStream from the connection to receive the response. From what I understood, the second part never happens because the HTTP client is waiting for the OutputStream to be closed.</p>\n<p>Here is my current attempt at OkHttp:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val request = Request.Builder()\n    .url(&quot;/media&quot;.customApiUrl)\n    .post(object : RequestBody() {\n        override fun contentType(): MediaType = &quot;application/octet-stream&quot;.toMediaType()\n\n        override fun writeTo(sink: BufferedSink) {\n            sink.writeAll(pipeIn.source())\n        }\n    })\n    .build()\nOkHttpClient().newBuilder()\n    .protocols(listOf(Protocol.H2_PRIOR_KNOWLEDGE))\n    .build()\n    .newCall(request).enqueue(object : Callback {\n        override fun onFailure(call: Call, e: IOException) {\n            TODO(&quot;Not yet implemented&quot;)\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            // this is never called\n            logger.debug(&quot;Media session executing&quot;)\n        }\n\n    })\n</code></pre>\n<p>This was my attempt at Ktor:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        logger.debug(&quot;Making HTTP call&quot;)\n        httpClient.preparePut(&quot;/media&quot;.customApiUrl) {\n            contentType(ContentType(&quot;application&quot;, &quot;octet-stream&quot;))\n            setBody(pipeIn)\n            logger.debug(&quot;Media session ready to execute&quot;)\n        }.execute {\n            // This is never called (checked using breakpoint)\n            logger.debug(&quot;Media session executing&quot;)\n        }\n        // this is also never called but that's fine\n        logger.info(&quot;Media session closed&quot;)\n</code></pre>\n<p>This is how the streams are created:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>        val pipeOut = PipedOutputStream()\n        val pipeIn = PipedInputStream().also { it.connect(pipeOut) }\n</code></pre>\n<p>How <code>pipeOut</code> is used and where it is stored has been omitted for brevity as it is irrelevant. The debug log statement should be called, even if no byte has been transmitted yet in either direction so that the InputStream from the response can be used.</p>\n<p>I would accept any Java or Kotlin response that runs on the JVM and supports HTTP/2. The InputStream and OutputStream of the connection should be readable and writable, respectively, at any time, even if not all of the bytes have been transmitted to the server yet.</p>\n<p><strong>Edit:</strong> I am also debugging the PHP script at the moment. A suggestion for a solution of above mentioned scenario or correction of my code would be appreciated.</p>\n"},{"tags":["java","java-8","java-stream","atomicinteger","atomic-values"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1629258503,"post_id":68826181,"comment_id":121636342,"body_markdown":"all the code that you write inside a lambda function must be `functional` what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable `bool` this is why it&#39;s preventing it from doing the same. Please use a different logic like : `list.stream().any( c -&gt; c.getName != null )`","body":"all the code that you write inside a lambda function must be <code>functional</code> what that means is : any code that is executing inside the lambda function should not have an impact anywhere else. Your code has that impact on the variable <code>bool</code> this is why it&#39;s preventing it from doing the same. Please use a different logic like : <code>list.stream().any( c -&gt; c.getName != null )</code>"},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629259617,"post_id":68826181,"comment_id":121636486,"body_markdown":"Please post a [https://stackoverflow.com/help/minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) I can&#39;t reproduce your problem.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">https://stackoverflow.com/help/minimal-reproducible-example</a> I can&#39;t reproduce your problem."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1629297656,"post_id":68826181,"comment_id":121650459,"body_markdown":"The three most upvoted answers of the [duplicate link](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final) should provide you with enough information.","body":"The three most upvoted answers of the <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">duplicate link</a> should provide you with enough information."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629327148,"post_id":68826181,"comment_id":121660810,"body_markdown":"The &quot;performance&quot; impact of using `AtomicBoolean` is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first `getName != null` is found is quite large and easily measurable even with very modestly size lists.","body":"The &quot;performance&quot; impact of using <code>AtomicBoolean</code> is so tiny it would be nearly impossible to measure. However, the performance impact of using a stream that iterates over every element when it doesn&#39;t need to, instead of using a simple loop that exits early when the first <code>getName != null</code> is found is quite large and easily measurable even with very modestly size lists."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629328378,"post_id":68826181,"comment_id":121661036,"body_markdown":"The *effectively final* restriction only applies to local variables. Because you are setting an instance field, you can simply use: `boolean bool = true;` and set it from within the lambda.","body":"The <i>effectively final</i> restriction only applies to local variables. Because you are setting an instance field, you can simply use: <code>boolean bool = true;</code> and set it from within the lambda."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1629483762,"post_id":68826181,"comment_id":121707702,"body_markdown":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it.","body":"@Bohemian your comment is very informative and would be awesome as an answer. I converted my answer into community wiki and would be glad if you insert this valuable information at the start of the answer or allow me to incorporate it."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1629484160,"post_id":68826181,"comment_id":121707817,"body_markdown":"@CausingUnderflowsEverywhere use my comments as you like.","body":"@CausingUnderflowsEverywhere use my comments as you like."},{"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"score":0,"creation_date":1630375294,"post_id":68826181,"comment_id":121932791,"body_markdown":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);\n list.add(true);\n list.get(0);","body":"I have used a list with fixed size and it is working fine List&lt;Boolean&gt; list = new ArrayList&lt;&gt;(1);  list.add(true);  list.get(0);"}],"answers":[{"tags":[],"owner":{"account_id":1029091,"reputation":307,"user_id":1037770,"display_name":"Omeri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678288889,"creation_date":1629259018,"answer_id":68826376,"question_id":68826181,"body_markdown":"You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.\r\n\r\nSomething like this:\r\n\r\n    boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n\r\nThe choice `bool` is not a good one for variable name by the way.\r\n\r\nEdit:  \r\n- Replaced Boolean with base type per comment.\r\n- Used `anyMatch()` instead of `filter()` count per comment\r\nThanks\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>You could avoid the problem by using the lambda expression to return true or false if there are any names that are not null, and assign the result to your boolean.</p>\n<p>Something like this:</p>\n<pre><code>boolean hasAnyWithNames = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>The choice <code>bool</code> is not a good one for variable name by the way.</p>\n<p>Edit:</p>\n<ul>\n<li>Replaced Boolean with base type per comment.</li>\n<li>Used <code>anyMatch()</code> instead of <code>filter()</code> count per comment\nThanks</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629484690,"creation_date":1629260216,"answer_id":68826482,"question_id":68826181,"body_markdown":"The effectively final restriction only applies to local variables.   \r\nSince you are setting an instance field, you can simply use: \r\n`boolean bool = true;` and set it from within the lambda. \r\n\r\nIf you need to use a local variable, add the `final` modifier to the declaration.\r\n\r\nRegarding the overhead of using `AtomicBoolean`, keep in mind that streams also have overhead and if you&#39;re only using them for iteration you&#39;re better off using a for loop instead:\r\n\r\n```\r\nboolean bool = true;\r\n\r\n    public void testBool(){\r\n        for (var c : list) {\r\n            if (c.getName() != null) {\r\n                bool = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n```    \r\n\r\nLastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:\r\n\r\n```\r\nboolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\r\n```\r\n\r\n**Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.*","title":"Java 8 variable should be final or effectively final issue","body":"<p>The effectively final restriction only applies to local variables.<br />\nSince you are setting an instance field, you can simply use:\n<code>boolean bool = true;</code> and set it from within the lambda.</p>\n<p>If you need to use a local variable, add the <code>final</code> modifier to the declaration.</p>\n<p>Regarding the overhead of using <code>AtomicBoolean</code>, keep in mind that streams also have overhead and if you're only using them for iteration you're better off using a for loop instead:</p>\n<pre><code>boolean bool = true;\n\n    public void testBool(){\n        for (var c : list) {\n            if (c.getName() != null) {\n                bool = true;\n                break;\n            }\n        }\n    }\n</code></pre>\n<p>Lastly, as @Neela mentioned in a comment, a more efficient use of streams would be with the following code*:</p>\n<pre><code>boolean bool = list.stream().anyMatch(c -&gt; c.getName() != null);\n</code></pre>\n<p>*<em>Note, the original code has an error that results in bool always being true and this is avoided by not presetting true and directly putting the result of anyMatch.</em></p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1629297547,"accepted_answer_id":68826376,"answer_count":2,"score":0,"last_activity_date":1678288889,"creation_date":1629257127,"question_id":68826181,"body_markdown":"I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.\r\n\r\n    AtomicBoolean bool = new AtomicBoolean(true);\r\n    public void testBool(){\r\n    list.stream().forEach(c-&gt;{ \r\n          if( c.getName() != null){\r\n    \tbool.set(true);\r\n    \t}\r\n    });\r\n    \r\n    }\r\n    \r\n    public void test(){\r\n      if(bool.get()){\r\n    \tSystem.out.println(&quot;value is there&quot;);\r\n      }\r\n    }\r\n\r\nBut I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage? \r\nWithout this am getting the error as a variable should be a final or effectively final error.\r\n\r\nPlease help me to resolve this issue.\r\n\r\nThanks in advance.\r\n\r\n","title":"Java 8 variable should be final or effectively final issue","body":"<p>I am using Java 8 stream Iteration with a variable that should be used in other classes also. So I have used the below code.</p>\n<pre><code>AtomicBoolean bool = new AtomicBoolean(true);\npublic void testBool(){\nlist.stream().forEach(c-&gt;{ \n      if( c.getName() != null){\n    bool.set(true);\n    }\n});\n\n}\n\npublic void test(){\n  if(bool.get()){\n    System.out.println(&quot;value is there&quot;);\n  }\n}\n</code></pre>\n<p>But I heard like using the Atomic Object will be a performance hit sometimes. Is there any alternate approach to use the variables outside the forEach block with Java 8 usage?\nWithout this am getting the error as a variable should be a final or effectively final error.</p>\n<p>Please help me to resolve this issue.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","regex","parsing","active-directory","ldap"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1504312753,"post_id":31309673,"comment_id":78979791,"body_markdown":"Does this really need doing fi you supply the arguments via the `{0}` mechanism?","body":"Does this really need doing fi you supply the arguments via the <code>{0}</code> mechanism?"}],"answers":[{"tags":[],"owner":{"account_id":1633932,"reputation":2930,"user_id":1507941,"accept_rate":83,"display_name":"Pluto"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1515115920,"creation_date":1484853202,"answer_id":41749853,"question_id":31309673,"body_markdown":"For escaping LDAP filters, I relied on this page to write the code below: http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\r\n\r\n    String LdapEscape(String ldap)\r\n    {\r\n        if(ldap == null) return &quot;&quot;;\r\n        return ldap.replace(&quot;\\\\&quot;, &quot;\\\\5C&quot;).replace(&quot;*&quot;, &quot;\\\\2A&quot;).replace(&quot;(&quot;, &quot;\\\\28&quot;).replace(&quot;)&quot;, &quot;\\\\29&quot;).replace(&quot;\\000&quot;, &quot;\\\\00&quot;);\r\n    }\r\n\r\nThe most important thing to keep in mind here is that replacing `\\` with `\\5C` must happen first so that you don&#39;t double escape any characters. Otherwise it&#39;s very straightforward; there aren&#39;t any special tricks to watch out for.\r\n\r\nI&#39;d like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:\r\n\r\n    LdapEscape(&quot;(!(sn=m*))&quot;); // \\28!\\28sn=m\\2A\\29\r\n\r\n","title":"Parse ldap filter to escape special characters","body":"<p>For escaping LDAP filters, I relied on this page to write the code below: <a href=\"http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters\" rel=\"noreferrer\">http://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx#Special_Characters</a></p>\n\n<pre><code>String LdapEscape(String ldap)\n{\n    if(ldap == null) return \"\";\n    return ldap.replace(\"\\\\\", \"\\\\5C\").replace(\"*\", \"\\\\2A\").replace(\"(\", \"\\\\28\").replace(\")\", \"\\\\29\").replace(\"\\000\", \"\\\\00\");\n}\n</code></pre>\n\n<p>The most important thing to keep in mind here is that replacing <code>\\</code> with <code>\\5C</code> must happen first so that you don't double escape any characters. Otherwise it's very straightforward; there aren't any special tricks to watch out for.</p>\n\n<p>I'd like to point out that this is meant to escape individual values placed in LDAP filters, not the entire LDAP filter. However if you wanted, you could use that function to escape something like this so it can be searched for:</p>\n\n<pre><code>LdapEscape(\"(!(sn=m*))\"); // \\28!\\28sn=m\\2A\\29\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904582,"reputation":521,"user_id":939742,"display_name":"Chris Janicki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678288551,"creation_date":1504305600,"answer_id":46008789,"question_id":31309673,"body_markdown":"The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. &#233;, &#225;, &#246;, etc.) need special handling too.  Here&#39;s my verbose solution.  \r\n\r\n    /** \r\n\t * Filter components need to escape special chars.\r\n\t * Note that each piece of the filter needs to be escaped, \r\n\t * not the whole filter expression, for example:\r\n\t * \r\n\t * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, J&#246;hn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\r\n\t * \r\n\t * @see Oracle Directory Server Enterprise Edition 11g Reference doc\r\n\t * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\r\n\t * @param s A String field within the search expression\r\n\t * @return The escaped string, safe for use in the search expression.\r\n\t */\r\n\tpublic static String esc(String s)\r\n\t{\r\n\t\tif(s == null) return &quot;&quot;;\r\n\t\tStringBuilder sb = new StringBuilder(s.length());\r\n\t\tfor (byte c : s.getBytes(StandardCharsets.UTF_8))\r\n\t\t{\r\n\t\t\tif (c==&#39;\\\\&#39;) { sb.append(&quot;\\\\5c&quot;); }\r\n\t\t\telse if (c==&#39;*&#39;) { sb.append(&quot;\\\\2a&quot;); }\r\n\t\t\telse if (c==&#39;(&#39;) { sb.append(&quot;\\\\28&quot;); }\r\n\t\t\telse if (c==&#39;)&#39;) { sb.append(&quot;\\\\29&quot;); }\r\n\t\t\telse if (c==0) { sb.append(&quot;\\\\00&quot;); }\r\n\t\t\telse if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8&#39;s non-7-bit characters, e.g. &#233;, &#225;, etc...\r\n\t\t\telse { sb.append((char)c); }\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t/** \r\n\t * @return The least significant 16 bits as a two-character hex string, \r\n\t * padded by a leading &#39;0&#39; if necessary.\r\n\t */\r\n\tpublic static String to2CharHexString(int i)\r\n\t{\r\n\t\tString s = Integer.toHexString(i &amp; 0xff);\r\n\t\tif (s.length()==1) return &quot;0&quot;+s;\r\n\t\telse return s;\r\n\t}\r\n","title":"Parse ldap filter to escape special characters","body":"<p>The answer by Pluto is great and concise, but non-ASCII UTF-8 characters (e.g. Ã©, Ã¡, Ã¶, etc.) need special handling too.  Here's my verbose solution.</p>\n<pre><code>/** \n * Filter components need to escape special chars.\n * Note that each piece of the filter needs to be escaped, \n * not the whole filter expression, for example:\n * \n * &quot;(&amp;(cn=&quot;+ esc(&quot;Admins&quot;) +&quot;)(member=&quot;+ esc(&quot;CN=Doe\\\\, JÃ¶hn,OU=ImPeople,DC=ds,DC=augur,DC=com&quot;) +&quot;))&quot;\n * \n * @see Oracle Directory Server Enterprise Edition 11g Reference doc\n * @see http://docs.oracle.com/cd/E29127_01/doc.111170/e28969/ds-ldif-search-filters.htm#gdxoy\n * @param s A String field within the search expression\n * @return The escaped string, safe for use in the search expression.\n */\npublic static String esc(String s)\n{\n    if(s == null) return &quot;&quot;;\n    StringBuilder sb = new StringBuilder(s.length());\n    for (byte c : s.getBytes(StandardCharsets.UTF_8))\n    {\n        if (c=='\\\\') { sb.append(&quot;\\\\5c&quot;); }\n        else if (c=='*') { sb.append(&quot;\\\\2a&quot;); }\n        else if (c=='(') { sb.append(&quot;\\\\28&quot;); }\n        else if (c==')') { sb.append(&quot;\\\\29&quot;); }\n        else if (c==0) { sb.append(&quot;\\\\00&quot;); }\n        else if ((c&amp;0xff)&gt;127) { sb.append(&quot;\\\\&quot;).append(to2CharHexString((c))); } // UTF-8's non-7-bit characters, e.g. Ã©, Ã¡, etc...\n        else { sb.append((char)c); }\n    }\n    return sb.toString();\n}\n\n/** \n * @return The least significant 16 bits as a two-character hex string, \n * padded by a leading '0' if necessary.\n */\npublic static String to2CharHexString(int i)\n{\n    String s = Integer.toHexString(i &amp; 0xff);\n    if (s.length()==1) return &quot;0&quot;+s;\n    else return s;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10102165,"reputation":2457,"user_id":7465947,"display_name":"horstr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591425930,"creation_date":1591271720,"answer_id":62193991,"question_id":31309673,"body_markdown":"You can&#39;t reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2=&quot; + value + &quot;))&quot;;\r\nsearch(filter);\r\n```\r\n\r\nThe resulting filter matches all objects because the code does not escape `value`:\r\n\r\n```\r\n(|(attr1=constvalue)(attr2=*)(objectClass=*))\r\n```\r\n\r\nThere is no way to escape `value` based on the final filter because the start and end position cannot be identified anymore.\r\n\r\nTo resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that&#39;s error-prone, so I don&#39;t recommend that.\r\n\r\nAll it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java&#39;s `DirContext` already provides a mechanism you can take advantage of. `DirContext.search` has a `filterExpr` parameter that represents a filter template that can contain placeholders and a `filterArgs` parameter representing a list of corresponding values.\r\n\r\nWith that, the example above would turn into:\r\n\r\n```\r\nString value = &quot;*)(objectClass=*&quot;;\r\nString filter = &quot;(|(attr1=constvalue)(attr2={0}))&quot;;\r\nsearch(filter, new String[] { value });\r\n```\r\nImplementation of `search`:\r\n```\r\ndircontext.search(basedn, filter, valuearray, null);\r\n```\r\n\r\nThat is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.\r\n\r\nGenerally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.","title":"Parse ldap filter to escape special characters","body":"<p>You can't reliably escape values in an LDAP filter provided by the caller if that filter represents the final filter to be used for the query. Consider the following filter assembled by the caller:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2=\" + value + \"))\";\nsearch(filter);\n</code></pre>\n\n<p>The resulting filter matches all objects because the code does not escape <code>value</code>:</p>\n\n<pre><code>(|(attr1=constvalue)(attr2=*)(objectClass=*))\n</code></pre>\n\n<p>There is no way to escape <code>value</code> based on the final filter because the start and end position cannot be identified anymore.</p>\n\n<p>To resolve this ambiguity and filter injection issue, the input values must be escaped while building the filter, not afterwards. However, this does not mean that the caller has to deal with escaping details directly - that's error-prone, so I don't recommend that.</p>\n\n<p>All it takes for the EJB to handle escaping is knowing the desired filter including placeholders instead of actual values and a list of values. Java's <code>DirContext</code> already provides a mechanism you can take advantage of. <code>DirContext.search</code> has a <code>filterExpr</code> parameter that represents a filter template that can contain placeholders and a <code>filterArgs</code> parameter representing a list of corresponding values.</p>\n\n<p>With that, the example above would turn into:</p>\n\n<pre><code>String value = \"*)(objectClass=*\";\nString filter = \"(|(attr1=constvalue)(attr2={0}))\";\nsearch(filter, new String[] { value });\n</code></pre>\n\n<p>Implementation of <code>search</code>:</p>\n\n<pre><code>dircontext.search(basedn, filter, valuearray, null);\n</code></pre>\n\n<p>That is the best compromise I can think of. It fully addresses LDAP filter injection issues, yet it does not require the caller to handle escaping, the caller only has to provide a filter template and a list of values.</p>\n\n<p>Generally, using library facilities for escaping should be preferred over custom code to ensure that all cases are handled correctly. The other two answers illustrate that.</p>\n"},{"tags":[],"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591970331,"creation_date":1591970331,"answer_id":62345781,"question_id":31309673,"body_markdown":"Here&#39;s mine:\r\n\r\n\t\tstatic public string LDAPEscape(string s)\r\n\t\t{\r\n\t\t\tStringBuilder sb = new StringBuilder(s.Length);\r\n\t\t\tint i;\r\n\t\t\tfor (i = 0; i &lt; s.Length; i++)\r\n\t\t\t{\r\n\t\t\t\tchar c = s[i];\r\n\t\t\t\tif (&quot;/*)(\\\\\\0&quot;.IndexOf(c) &gt;= 0)\r\n\t\t\t\t\tsb.Append(&#39;\\\\&#39;).Append(((uint)c).ToString(&quot;x2&quot;));\r\n\t\t\t\telse\r\n\t\t\t\t\tsb.Append(c);\r\n\t\t\t}\r\n\t\t\treturn sb.ToString();\r\n\t\t}","title":"Parse ldap filter to escape special characters","body":"<p>Here's mine:</p>\n\n<pre><code>    static public string LDAPEscape(string s)\n    {\n        StringBuilder sb = new StringBuilder(s.Length);\n        int i;\n        for (i = 0; i &lt; s.Length; i++)\n        {\n            char c = s[i];\n            if (\"/*)(\\\\\\0\".IndexOf(c) &gt;= 0)\n                sb.Append('\\\\').Append(((uint)c).ToString(\"x2\"));\n            else\n                sb.Append(c);\n        }\n        return sb.ToString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619532335,"creation_date":1619532335,"answer_id":67284683,"question_id":31309673,"body_markdown":"If using maven repository [apache-ldap-api][1] as LDAP client library, we can use Util class [FilterEncoder][2] to handle encoding of special characters in LDAP search filter values as below\r\n\r\n    filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\r\n\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\r\n  [2]: https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html","title":"Parse ldap filter to escape special characters","body":"<p>If using maven repository <a href=\"https://mvnrepository.com/artifact/org.apache.directory.api/apache-ldap-api\" rel=\"nofollow noreferrer\">apache-ldap-api</a> as LDAP client library, we can use Util class <a href=\"https://nightlies.apache.org/directory/api/1.0.2/apidocs/org/apache/directory/api/ldap/model/filter/FilterEncoder.html\" rel=\"nofollow noreferrer\">FilterEncoder</a> to handle encoding of special characters in LDAP search filter values as below</p>\n<pre><code>filter = &quot;(attributeKey=&quot; + FilterEncoder.encodeFilterValue(attributeValue) + &quot;)&quot;;\n</code></pre>\n"}],"owner":{"account_id":3135547,"reputation":1278,"user_id":2652122,"accept_rate":71,"display_name":"Robert Mugattarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15014,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41749853,"answer_count":5,"score":7,"last_activity_date":1678288551,"creation_date":1436423215,"question_id":31309673,"body_markdown":"An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\r\n&lt;br&gt;&lt;br&gt;The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\r\n&lt;br&gt;and for distinguished name attibute values as specified here:\r\n&lt;br&gt;https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\r\n&lt;br&gt;In order to accomplish this the service must do the following:\r\n\r\n 1. Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.\r\n 2. Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.\r\n 3. Combine the results as the new escaped filter and pass it on.\r\n\r\nJava native `javax.naming.ldap.Rdn` escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\r\n&lt;br&gt;&lt;br&gt;Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\r\n&lt;br&gt;&lt;br&gt;Any ideas on how to solve this? Can this task be automated at all?","title":"Parse ldap filter to escape special characters","body":"<p>An ejb service takes a ldap filter as string and returns a result from ActiveDirectory.\n<br><br>The problem is that sometimes attribute values contain special characters that need to be escaped for the entire filter as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa746475(v=vs.85).aspx</a>\n<br>and for distinguished name attibute values as specified here:\n<br><a href=\"https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/aa366101(v=vs.85).aspx</a>\n<br>In order to accomplish this the service must do the following:</p>\n\n<ol>\n<li>Analyze the string for dn values, separate them and escape them as per dn escape rules if they are not already escaped.</li>\n<li>Search the remainder of the string for special characters in attribute values and escape them as per general filter escape rules if they are not already escaped.</li>\n<li>Combine the results as the new escaped filter and pass it on.</li>\n</ol>\n\n<p>Java native <code>javax.naming.ldap.Rdn</code> escapes dn values all right but is not idempotent. As for the other tasks, so far I have been unable to find a library that would allow me to accomplish them.\n<br><br>Right now I am inclined to think that the job of escaping the ldap filter should be done by the user of the service rather than by the service itself as it is very hard for the service to tell escapes from actual values. Also, parsing a complex string such as a ldap filter without a well tested library seems to me error prone.\n<br><br>Any ideas on how to solve this? Can this task be automated at all?</p>\n"},{"tags":["java","spring","spring-mvc","localization","internationalization"],"answers":[{"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1504292732,"creation_date":1345835142,"answer_id":12115254,"question_id":12107317,"body_markdown":"I think you need to write your own [LocaleResolver][1] that wraps a list of Spring&#39;s locale resolvers. You call them one after the other until a `Locale` is resolved. If the list does not produce a `Locale`, you provide a default behavior in your `LocaleResolver`.\r\n\r\nHere are some links you might find useful:\r\n\r\nhttp://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\r\n\r\nhttps://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\r\n\r\nOr if you prefer a view from both the links:\r\n\r\n    package org.lds.stack.web.spring.i18n;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.web.servlet.LocaleResolver;\r\n    import org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\r\n    import org.springframework.web.servlet.i18n.FixedLocaleResolver;\r\n    \r\n    /**\r\n     * This locale resolver provides the ability to define a list of resolvers from which to determine\r\n     * the locale.  This allows us to give preference to certain locale resolution schemes by putting\r\n     * them earlier in the list.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The order of resolvers from which to find the given locale (or set a specified locale) could be\r\n     * defined in the spring context file with something like:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t&amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\r\n     * \t\t\t&amp;lt;list&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\r\n     * \t\t\t\t\t&amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\r\n     * \t\t\t\t&amp;lt;/bean&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t\t&amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\r\n     * \t\t\t&amp;lt;/list&amp;gt;\r\n     * \t\t&amp;lt;/property&amp;gt;\r\n     * \t&amp;lt;/bean&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\r\n     * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\r\n     * resolver as the LocaleResolver by virtue of the id being &quot;localeResolver&quot;.\r\n     * &lt;p/&gt;\r\n     * \r\n     * NOTE: If the default resolver order, shown above, will work for your application, then you can \r\n     * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \r\n     * attribute values for minor customizations.  The namespace handler is defined as follows:\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;stack-web:locale-resolver /&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * Additionally, in order to change the locale based on a url parameter, you can configure a\r\n     * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\r\n     * resolver, so that they can be found when resolveLocale(...) is called on them.  \r\n     * &lt;p/&gt;\r\n     * \r\n     * The interceptor configuration might look as follows:\r\n     * &lt;pre&gt;\r\n     * \t&amp;lt;mvc:interceptors&amp;gt;\r\n     *\t\t&amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\r\n     *\t&amp;lt;/mvc:interceptors&amp;gt;\r\n     * &lt;/pre&gt;\r\n     */\r\n    public class ChainedLocaleResolver implements LocaleResolver {\r\n    \t\r\n    \tprivate List&lt;LocaleResolver&gt; localeResolvers;\r\n    \t\r\n    \tpublic ChainedLocaleResolver() {\r\n    \t\t//if anything other than this default order or set is desired, the list of resolvers\r\n    \t\t//to be chained should be set up in the bean definition as shown above\r\n    \t\tlocaleResolvers = new ArrayList&lt;LocaleResolver&gt;();\r\n    \t\t//TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\r\n    \t\tlocaleResolvers.add(new UrlLocaleResolver());\r\n    \t\tlocaleResolvers.add(new NoDefaultSessionLocaleResolver());\r\n    \t\tNoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\r\n    \t\tcookieLocaleResolver.setCookieMaxAge(31536000);\r\n    \t\tlocaleResolvers.add(cookieLocaleResolver);\r\n    \t\t//TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\r\n    \t\t//by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\r\n    \t\t//gets the default, and then if people did not use this one, they could add the fixed one back in.\r\n    \t\tlocaleResolvers.add(new AcceptHeaderLocaleResolver());\r\n    \t\tlocaleResolvers.add(new FixedLocaleResolver());\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Locale resolveLocale(HttpServletRequest request) {\r\n    \t\tLocale locale = null;\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\tlocale = resolver.resolveLocale(request);\r\n    \t\t\tif (locale != null) {\r\n    \t\t\t\treturn locale;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn locale;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\r\n    \t\tfor (LocaleResolver resolver : getLocaleResolvers()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tresolver.setLocale(request, response, locale);\r\n    \t\t\t} catch (UnsupportedOperationException uoe) {}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;LocaleResolver&gt; getLocaleResolvers() {\r\n    \t\treturn localeResolvers;\r\n    \t}\r\n    \tpublic void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\r\n    \t\tthis.localeResolvers = localeResolvers;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html","title":"Spring LocaleResolver chaining","body":"<p>I think you need to write your own <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/web/servlet/LocaleResolver.html\" rel=\"nofollow noreferrer\">LocaleResolver</a> that wraps a list of Spring's locale resolvers. You call them one after the other until a <code>Locale</code> is resolved. If the list does not produce a <code>Locale</code>, you provide a default behavior in your <code>LocaleResolver</code>.</p>\n\n<p>Here are some links you might find useful:</p>\n\n<p><a href=\"http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html\" rel=\"nofollow noreferrer\">http://code.lds.org/maven-sites/stack/modules/web-spring/3.0.8-SNAPSHOT/apidocs/org/lds/stack/web/spring/i18n/ChainedLocaleResolver.html</a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.lds.stack.web/stack-web-spring/3.0.8</a></p>\n\n<p>Or if you prefer a view from both the links:</p>\n\n<pre><code>package org.lds.stack.web.spring.i18n;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Locale;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.servlet.LocaleResolver;\nimport org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver;\nimport org.springframework.web.servlet.i18n.FixedLocaleResolver;\n\n/**\n * This locale resolver provides the ability to define a list of resolvers from which to determine\n * the locale.  This allows us to give preference to certain locale resolution schemes by putting\n * them earlier in the list.  \n * &lt;p/&gt;\n * \n * The order of resolvers from which to find the given locale (or set a specified locale) could be\n * defined in the spring context file with something like:\n * \n * &lt;pre&gt;\n * &amp;lt;bean id=&amp;quot;localeResolver&amp;quot; class=&amp;quot;org.lds.stack.web.spring.i18n.ChainedLocaleResolver&amp;quot;&amp;gt;\n *      &amp;lt;property name=&amp;quot;localeResolvers&amp;quot;&amp;gt;\n *          &amp;lt;list&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.UrlLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultSessionLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.lds.stack.web.spring.i18n.NoDefaultCookieLocaleResolver&amp;quot;&amp;gt;\n *                  &amp;lt;property name=&amp;quot;cookieMaxAge&amp;quot; value=&amp;quot;31536000&amp;quot;/&amp;gt;\n *              &amp;lt;/bean&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver&amp;quot; /&amp;gt;\n *              &amp;lt;bean class=&amp;quot;org.springframework.web.servlet.i18n.FixedLocaleResolver&amp;quot; /&amp;gt;\n *          &amp;lt;/list&amp;gt;\n *      &amp;lt;/property&amp;gt;\n *  &amp;lt;/bean&amp;gt;\n * &lt;/pre&gt;\n * \n * This allows you to remove, or re-order the locale resolution schemes to meet your needs.\n * Also note that the id of localeResolver is significant.  The Spring Framework knows to use this\n * resolver as the LocaleResolver by virtue of the id being \"localeResolver\".\n * &lt;p/&gt;\n * \n * NOTE: If the default resolver order, shown above, will work for your application, then you can \n * skip this verbose definition by utilizing the stack-web namespace handler, providing any exposed \n * attribute values for minor customizations.  The namespace handler is defined as follows:\n * \n * &lt;pre&gt;\n * &amp;lt;stack-web:locale-resolver /&amp;gt;\n * &lt;/pre&gt;\n * \n * Additionally, in order to change the locale based on a url parameter, you can configure a\n * LocaleChangeInterceptor, which will call the set method of all of the locales in the chained\n * resolver, so that they can be found when resolveLocale(...) is called on them.  \n * &lt;p/&gt;\n * \n * The interceptor configuration might look as follows:\n * &lt;pre&gt;\n *  &amp;lt;mvc:interceptors&amp;gt;\n *      &amp;lt;bean id=&amp;quot;localeChangeInterceptor&amp;quot; class=&amp;quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&amp;quot; /&amp;gt;\n *  &amp;lt;/mvc:interceptors&amp;gt;\n * &lt;/pre&gt;\n */\npublic class ChainedLocaleResolver implements LocaleResolver {\n\n    private List&lt;LocaleResolver&gt; localeResolvers;\n\n    public ChainedLocaleResolver() {\n        //if anything other than this default order or set is desired, the list of resolvers\n        //to be chained should be set up in the bean definition as shown above\n        localeResolvers = new ArrayList&lt;LocaleResolver&gt;();\n        //TODO: Is the Url resolver necessary if we have an interceptor that changes the locale from the url?\n        localeResolvers.add(new UrlLocaleResolver());\n        localeResolvers.add(new NoDefaultSessionLocaleResolver());\n        NoDefaultCookieLocaleResolver cookieLocaleResolver = new NoDefaultCookieLocaleResolver();\n        cookieLocaleResolver.setCookieMaxAge(31536000);\n        localeResolvers.add(cookieLocaleResolver);\n        //TODO: may need to create a NoDefault, but that seems difficult as the implementation is provided\n        //by the javax.servlet, ..., Also, maybe we could just remove the fixedLocaleResolver, as this one\n        //gets the default, and then if people did not use this one, they could add the fixed one back in.\n        localeResolvers.add(new AcceptHeaderLocaleResolver());\n        localeResolvers.add(new FixedLocaleResolver());\n    }\n\n    @Override\n    public Locale resolveLocale(HttpServletRequest request) {\n        Locale locale = null;\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            locale = resolver.resolveLocale(request);\n            if (locale != null) {\n                return locale;\n            }\n        }\n        return locale;\n    }\n\n    @Override\n    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {\n        for (LocaleResolver resolver : getLocaleResolvers()) {\n            try {\n                resolver.setLocale(request, response, locale);\n            } catch (UnsupportedOperationException uoe) {}\n        }\n    }\n\n    public List&lt;LocaleResolver&gt; getLocaleResolvers() {\n        return localeResolvers;\n    }\n    public void setLocaleResolvers(List&lt;LocaleResolver&gt; localeResolvers) {\n        this.localeResolvers = localeResolvers;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1030240,"reputation":365,"user_id":1038698,"accept_rate":31,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678288222,"creation_date":1678288222,"answer_id":75674825,"question_id":12107317,"body_markdown":"this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence\r\n\r\n 1. if LocaleIterceptor finds a &#39;lang&#39; request parameter, use that locale and also set a cookie \r\n2. Else, if there&#39;s a cookie, use that as the locale\r\n3. otherwise, fall back to the browser&#39;s locale.\r\n\r\nThis allows users and testers to quickly change the locale by just adding a &#39;?lang={locale} query parameter one time.  That&#39;ll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.","title":"Spring LocaleResolver chaining","body":"<p>this is useful and a good start.  An ideal chained resolver from my perspective would go in this order of precedence</p>\n<ol>\n<li>if LocaleIterceptor finds a 'lang' request parameter, use that locale and also set a cookie</li>\n<li>Else, if there's a cookie, use that as the locale</li>\n<li>otherwise, fall back to the browser's locale.</li>\n</ol>\n<p>This allows users and testers to quickly change the locale by just adding a '?lang={locale} query parameter one time.  That'll set a cookie for future requests.  Otherwise the pages will just go with locale sent by the browser.</p>\n"}],"owner":{"account_id":1126566,"reputation":3898,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2770,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":12115254,"answer_count":2,"score":7,"last_activity_date":1678288222,"creation_date":1345802899,"question_id":12107317,"body_markdown":"Is it possible to chain locale resolvers?\r\n\r\nI&#39;d like to take the locale value from:\r\n\r\n 1. The session if maps with my accepted languages\r\n\r\n 2. The cookie if maps with my accepted languages\r\n\r\n 3. If both don&#39;t contain locale information extract it from the accept language and do the best match with my accepted locales.\r\n\r\nHow would you do that?","title":"Spring LocaleResolver chaining","body":"<p>Is it possible to chain locale resolvers?</p>\n\n<p>I'd like to take the locale value from:</p>\n\n<ol>\n<li><p>The session if maps with my accepted languages</p></li>\n<li><p>The cookie if maps with my accepted languages</p></li>\n<li><p>If both don't contain locale information extract it from the accept language and do the best match with my accepted locales.</p></li>\n</ol>\n\n<p>How would you do that?</p>\n"},{"tags":["java","extjs"],"comments":[{"owner":{"account_id":65891,"reputation":278,"user_id":193606,"accept_rate":50,"display_name":"Josh"},"score":0,"creation_date":1687366268,"post_id":74428533,"comment_id":134928007,"body_markdown":"Similar to https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9","body":"Similar to <a href=\"https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9\" title=\"ant running from maven antrun plugin cant find scripting engine on java 9\">stackoverflow.com/questions/43067454/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27966383,"reputation":9,"user_id":21357137,"display_name":"lonke_junior"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678288175,"creation_date":1678288175,"answer_id":75674809,"question_id":74428533,"body_markdown":"I had same issue, but with Java 17. \r\n\r\nI changed Java to version 8 and I restarted all terminals and it resolved my problem. ","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>I had same issue, but with Java 17.</p>\n<p>I changed Java to version 8 and I restarted all terminals and it resolved my problem.</p>\n"}],"owner":{"account_id":1421719,"reputation":4330,"user_id":1346203,"accept_rate":13,"display_name":"klodoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1678288175,"creation_date":1668413063,"question_id":74428533,"body_markdown":"Following the &quot;default&quot; installation of extjs, I can&#39;t get it running with any Java &gt; version 14.\r\n\r\nWith Java 14 the main warning is:\r\n```\r\n[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\r\n```\r\n\r\nWith Java 15 the `ant` build is failing:\r\n```\r\nException information:\r\n=======================\r\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\r\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\r\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\r\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\r\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\r\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\r\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\r\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\r\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\r\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\r\n     at com.sencha.cli.Command.dispatch(Command.java:43)\r\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\r\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\r\n     at com.sencha.command.Sencha.main(Sencha.java:151)\r\n```\r\n\r\nhttps://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\r\n\r\nAny way to fix this?","title":"&quot;Unable to create javax script engine for javascript&quot; extjs","body":"<p>Following the &quot;default&quot; installation of extjs, I can't get it running with any Java &gt; version 14.</p>\n<p>With Java 14 the main warning is:</p>\n<pre><code>[ERR] Warning: Nashorn engine is planned to be removed from a future JDK release\n</code></pre>\n<p>With Java 15 the <code>ant</code> build is failing:</p>\n<pre><code>Exception information:\n=======================\n/home/ubuntu/my-ext-gen-app/node_modules/@sencha/cmd/dist/plugin.xml:378: The following error occurred while executing this line:\n/home/ubuntu/my-ext-gen-app/build.xml:15: Unable to create javax script engine for javascript\n     at com.sencha.ant.AntScript.execute(AntScript.java:121)\n     at com.sencha.command.plugin.PluginManager.execute(PluginManager.java:104)\n     at com.sencha.command.plugin.PluginManager.executeReverseFirst(PluginManager.java:145)\n     at com.sencha.command.environment.BuildEnvironment.execute(BuildEnvironment.java:309)\n     at com.sencha.command.environment.AppOrPackageEnvironment.execute(AppOrPackageEnvironment.java:729)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.doExecute(BasePluginCommands.java:125)\n     at com.sencha.command.app.AppCommands$BuildCommand.execute(AppCommands.java:470)\n     at com.sencha.command.app.AppCommands$WatchCommand.execute(AppCommands.java:909)\n     at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n     at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n     at com.sencha.util.MethodInvoker$Arguments.invoke(MethodInvoker.java:175)\n     at com.sencha.cli.Command.dispatch(Command.java:43)\n     at com.sencha.command.BasePluginCommands$BasePluginCommand.dispatch(BasePluginCommands.java:289)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.cli.Commands.dispatch(Commands.java:64)\n     at com.sencha.command.Sencha.dispatch(Sencha.java:80)\n     at com.sencha.command.Sencha.main(Sencha.java:151)\n</code></pre>\n<p><a href=\"https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html\" rel=\"noreferrer\">https://docs.sencha.com/extjs/7.6.0/guides/getting_started/getting_started_with_npm.html</a></p>\n<p>Any way to fix this?</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1678282390,"post_id":75673673,"comment_id":133501980,"body_markdown":"I would say that you don&#39;t need an interface for the configuration. The concrete implementations of ServiceX will need concrete implementations of the configuration. And I have a strong feeling that the method `Service.getConfig()` is a bad idea. Why would you like to leak the configuration of the service?","body":"I would say that you don&#39;t need an interface for the configuration. The concrete implementations of ServiceX will need concrete implementations of the configuration. And I have a strong feeling that the method <code>Service.getConfig()</code> is a bad idea. Why would you like to leak the configuration of the service?"}],"answers":[{"tags":[],"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678283548,"creation_date":1678283548,"answer_id":75673954,"question_id":75673673,"body_markdown":"You can use genericity in `Service` definition : \r\n\r\n```java\r\npublic interface Service&lt;T extends ServiceConfiguration&gt;{   \r\n   T getConfig()\r\n}\r\n```\r\n```public class ServiceA implements Service&lt;ServiceAConfiguration&gt;{}```\r\n\r\n\r\n```public class ServiceB implements Service&lt;ServiceBConfiguration&gt;{}```\r\n\r\n```java\r\npublic class ServiceAConfiguration implements ServiceConfiguration {\r\n    int port;\r\n    int version;\r\n    String url;\r\n}\r\n```\r\n```java\r\npublic class ServiceBConfiguration implements ServiceConfiguration {\r\n    int port;\r\n    Socket socket;\r\n    File file;\r\n}\r\n```\r\n\r\nYou no longer need to cast the configuration :\r\n\r\n```java\r\nService s = new ServiceA(...);\r\nServiceAConfiguration config = s.getConfig();\r\n```","title":"Different properties for different implementation of the Interface","body":"<p>You can use genericity in <code>Service</code> definition :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Service&lt;T extends ServiceConfiguration&gt;{   \n   T getConfig()\n}\n</code></pre>\n<p><code>public class ServiceA implements Service&lt;ServiceAConfiguration&gt;{}</code></p>\n<p><code>public class ServiceB implements Service&lt;ServiceBConfiguration&gt;{}</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    int port;\n    int version;\n    String url;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServiceBConfiguration implements ServiceConfiguration {\n    int port;\n    Socket socket;\n    File file;\n}\n</code></pre>\n<p>You no longer need to cast the configuration :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Service s = new ServiceA(...);\nServiceAConfiguration config = s.getConfig();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678287936,"creation_date":1678287936,"answer_id":75674764,"question_id":75673673,"body_markdown":"It looks to me that you are using `Configuration`s as data carriers, thus the need to expose the actual state (port, url, etc.). I suggest that you change the approach and provide it whatever has to be configured, or create new configured object (whatever is more appropriate for your use case).\r\n\r\nProperties make it look like configurations for a connection, so i will use that as placeholder.\r\n```\r\npublic interface ServiceConfiguration {\r\n\r\n   Connection configureConnection();\r\n}\r\n```\r\n```\r\npublic class ServiceAConfiguration implements ServiceConfiguration {\r\n    //properties\r\n    \r\n    @Override\r\n    Connection configureConnection() {\r\n        return a connection using port, version and url;\r\n    }\r\n}\r\n```\r\n```\r\npublic class ServiceBConfiguration implements ServiceConfiguration {\r\n    //properties\r\n\r\n    @Override\r\n    Connection configureConnection() {\r\n        return a connection using port, socket and file;\r\n    }\r\n}\r\n```\r\nLike this you don&#39;t need to expose the actual configuration details to the outside world and consequently you don&#39;t need to cast `ServiceConfiguration` to the actual class.","title":"Different properties for different implementation of the Interface","body":"<p>It looks to me that you are using <code>Configuration</code>s as data carriers, thus the need to expose the actual state (port, url, etc.). I suggest that you change the approach and provide it whatever has to be configured, or create new configured object (whatever is more appropriate for your use case).</p>\n<p>Properties make it look like configurations for a connection, so i will use that as placeholder.</p>\n<pre><code>public interface ServiceConfiguration {\n\n   Connection configureConnection();\n}\n</code></pre>\n<pre><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    //properties\n    \n    @Override\n    Connection configureConnection() {\n        return a connection using port, version and url;\n    }\n}\n</code></pre>\n<pre><code>public class ServiceBConfiguration implements ServiceConfiguration {\n    //properties\n\n    @Override\n    Connection configureConnection() {\n        return a connection using port, socket and file;\n    }\n}\n</code></pre>\n<p>Like this you don't need to expose the actual configuration details to the outside world and consequently you don't need to cast <code>ServiceConfiguration</code> to the actual class.</p>\n"}],"owner":{"account_id":5152626,"reputation":331,"user_id":4126768,"accept_rate":36,"display_name":"Dingo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678287936,"creation_date":1678282136,"question_id":75673673,"body_markdown":"I have interface `Service`\r\n\r\n`public interface Service{}`\r\n\r\nAnd multiple implementations \r\n\r\n`public class ServiceA implements Service{}`\r\n\r\n`public class ServiceB implements Service{}`\r\n\r\nNow each service has some kind of configuration, e.g\r\n\r\n    public interface Service{   \r\n       ServiceConfiguration getConfig()\r\n    }\r\n\r\n\r\nHowever each of these implementation requires different configuration. So for example `ServiceA` needs `port`,`version`,`url` , serviceB needs `port`,`socket`,`file` and so on.\r\n\r\nWhat is some elegant and good practice way to achieve this? The only thing that comes to my mind is create implementation of `ServiceConfiguration` (and use it as Marker interface ) for each service, and then cast it, e.g\r\n\r\n`public interface ServiceConfiguration {}`\r\n\r\n    public class ServiceAConfiguration implements ServiceConfiguration {\r\n        int port;\r\n        int version;\r\n        String url;\r\n    }\r\n\r\n    public class ServiceBConfiguration implements ServiceConfiguration {\r\n        int port;\r\n        Socket socket;\r\n        File file;\r\n    }\r\n\r\nAnd then casting it in code like:\r\n\r\n    Service s = new ServiceA(...);\r\n    ServiceAConfiguration config = (ServiceAConfiguration)s.getConfig();\r\n\r\nIs there better way, some kind of best practice or some design pattern for this? So far i have found only `AbstractDocument` design pattern for dealing with properties but i think that is not applicable here.\r\n\r\nThanks for helP!","title":"Different properties for different implementation of the Interface","body":"<p>I have interface <code>Service</code></p>\n<p><code>public interface Service{}</code></p>\n<p>And multiple implementations</p>\n<p><code>public class ServiceA implements Service{}</code></p>\n<p><code>public class ServiceB implements Service{}</code></p>\n<p>Now each service has some kind of configuration, e.g</p>\n<pre><code>public interface Service{   \n   ServiceConfiguration getConfig()\n}\n</code></pre>\n<p>However each of these implementation requires different configuration. So for example <code>ServiceA</code> needs <code>port</code>,<code>version</code>,<code>url</code> , serviceB needs <code>port</code>,<code>socket</code>,<code>file</code> and so on.</p>\n<p>What is some elegant and good practice way to achieve this? The only thing that comes to my mind is create implementation of <code>ServiceConfiguration</code> (and use it as Marker interface ) for each service, and then cast it, e.g</p>\n<p><code>public interface ServiceConfiguration {}</code></p>\n<pre><code>public class ServiceAConfiguration implements ServiceConfiguration {\n    int port;\n    int version;\n    String url;\n}\n\npublic class ServiceBConfiguration implements ServiceConfiguration {\n    int port;\n    Socket socket;\n    File file;\n}\n</code></pre>\n<p>And then casting it in code like:</p>\n<pre><code>Service s = new ServiceA(...);\nServiceAConfiguration config = (ServiceAConfiguration)s.getConfig();\n</code></pre>\n<p>Is there better way, some kind of best practice or some design pattern for this? So far i have found only <code>AbstractDocument</code> design pattern for dealing with properties but i think that is not applicable here.</p>\n<p>Thanks for helP!</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678290018,"post_id":75674749,"comment_id":133504547,"body_markdown":"You wrote: &quot;when I package the app as a JDK image&quot;. Does it mean the package contains Java libraries? I guess this would be wrong as they are already there on PCF. The error says that you need &quot;a single, compatible version of org.apache.catalina.core.StandardContext&quot;.","body":"You wrote: &quot;when I package the app as a JDK image&quot;. Does it mean the package contains Java libraries? I guess this would be wrong as they are already there on PCF. The error says that you need &quot;a single, compatible version of org.apache.catalina.core.StandardContext&quot;."}],"owner":{"account_id":375036,"reputation":3318,"user_id":725619,"accept_rate":53,"display_name":"RKodakandla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678287874,"creation_date":1678287874,"question_id":75674749,"body_markdown":"I have a spring boot app that&#39;s configured to use springboot 3.0.3 and JDK 17. I am able to run the app successfully in the IntelliJ but when I package the app as a JDK image and deploy on to our cloud provider, I get an error saying NoSuchMethodError.\r\n\r\nFrom the logs, I gather that there is some class level conflict but both the calling method and called method are from the same class that&#39;s loaded from the same exact file. I&#39;m really confused and unsure why this error is happening. I can paste my enter pom file if it helps to troubleshoot the issue.\r\n\r\n     [OUT] ***************************\r\n     [OUT] APPLICATION FAILED TO START\r\n     [OUT] ***************************\r\n     [OUT] Description:\r\n     [OUT] An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n     [OUT] org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n     [OUT] The following method did not exist:\r\n     [OUT] &#39;javax.servlet.ServletContext org.apache.catalina.core.StandardContext.getServletContext()&#39;\r\n     [OUT] The calling method&#39;s class, org.apache.catalina.core.StandardContext, was loaded from the following location:\r\n     [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\r\n     [OUT] The called method&#39;s class, org.apache.catalina.core.StandardContext, is available from the following locations:\r\n     [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\r\n     [OUT] The called method&#39;s class hierarchy was loaded from the following locations:\r\n     [OUT] org.apache.catalina.core.StandardContext: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.core.ContainerBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.util.LifecycleMBeanBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] org.apache.catalina.util.LifecycleBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\r\n     [OUT] Action:\r\n     [OUT] Correct the classpath of your application so that it contains a single, compatible version of org.apache.catalina.core.StandardContext","title":"Springboot app failing to start when deployed on to PCF","body":"<p>I have a spring boot app that's configured to use springboot 3.0.3 and JDK 17. I am able to run the app successfully in the IntelliJ but when I package the app as a JDK image and deploy on to our cloud provider, I get an error saying NoSuchMethodError.</p>\n<p>From the logs, I gather that there is some class level conflict but both the calling method and called method are from the same class that's loaded from the same exact file. I'm really confused and unsure why this error is happening. I can paste my enter pom file if it helps to troubleshoot the issue.</p>\n<pre><code> [OUT] ***************************\n [OUT] APPLICATION FAILED TO START\n [OUT] ***************************\n [OUT] Description:\n [OUT] An attempt was made to call a method that does not exist. The attempt was made from the following location:\n [OUT] org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n [OUT] The following method did not exist:\n [OUT] 'javax.servlet.ServletContext org.apache.catalina.core.StandardContext.getServletContext()'\n [OUT] The calling method's class, org.apache.catalina.core.StandardContext, was loaded from the following location:\n [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\n [OUT] The called method's class, org.apache.catalina.core.StandardContext, is available from the following locations:\n [OUT] jar:file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar!/org/apache/catalina/core/StandardContext.class\n [OUT] The called method's class hierarchy was loaded from the following locations:\n [OUT] org.apache.catalina.core.StandardContext: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.core.ContainerBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.util.LifecycleMBeanBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] org.apache.catalina.util.LifecycleBase: file:/home/vcap/app/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar\n [OUT] Action:\n [OUT] Correct the classpath of your application so that it contains a single, compatible version of org.apache.catalina.core.StandardContext\n</code></pre>\n"},{"tags":["java","xml","soap","xsd","jaxb"],"comments":[{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678133668,"post_id":75655387,"comment_id":133471226,"body_markdown":"annotating the attribute with @XmlElement(nillable=true) doesn&#39;t work?","body":"annotating the attribute with @XmlElement(nillable=true) doesn&#39;t work?"},{"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"score":0,"creation_date":1678133911,"post_id":75655387,"comment_id":133471284,"body_markdown":"doesn&#39;t work, it marks tag in the xsd like &lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt; but in the code variable year=0, not null","body":"doesn&#39;t work, it marks tag in the xsd like &lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt; but in the code variable year=0, not null"},{"owner":{"account_id":5582693,"reputation":587,"user_id":4424117,"display_name":"newuserua_ext"},"score":0,"creation_date":1678140948,"post_id":75655387,"comment_id":133472838,"body_markdown":"So set it as a string and give that variable regex that just able enter integer value","body":"So set it as a string and give that variable regex that just able enter integer value"}],"answers":[{"tags":[],"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287846,"creation_date":1678287493,"answer_id":75674676,"question_id":75655387,"body_markdown":"It looks like Skaffman&#39;s answer [JAXB: how to make JAXB NOT to unmarshal empty string to 0][1] in the link in the description is the best option after all.\r\n\r\nI annotated my fields like this:\r\n\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer year;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer month;\r\n    @XmlElement(required = true, type = String.class)\r\n    @XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\r\n    @XmlSchemaType(name = &quot;integer&quot;)\r\n    private Integer day;\r\n\r\nAdded some annotations to the class declaration:\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class LocalDate\r\n\r\nAnd created adapter class:\r\n\r\n    public class XmlStringToIntegerAdapter extends XmlAdapter&lt;String, Integer&gt; {\r\n    public Integer unmarshal(String value) {\r\n        return new Integer(value);\r\n    }\r\n\r\n    public String marshal(Integer value) {\r\n        if (value == null) {\r\n            return null;\r\n        }\r\n        return value.toString();\r\n    }}\r\n\r\n  [1]: https://stackoverflow.com/questions/5133250/jaxb-how-to-make-jaxb-not-to-unmarshal-empty-string-to-0#5133273","title":"How to get null object for Integer class from Soap message request?","body":"<p>It looks like Skaffman's answer <a href=\"https://stackoverflow.com/questions/5133250/jaxb-how-to-make-jaxb-not-to-unmarshal-empty-string-to-0#5133273\">JAXB: how to make JAXB NOT to unmarshal empty string to 0</a> in the link in the description is the best option after all.</p>\n<p>I annotated my fields like this:</p>\n<pre><code>@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer year;\n@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer month;\n@XmlElement(required = true, type = String.class)\n@XmlJavaTypeAdapter(XmlStringToIntegerAdapter.class)\n@XmlSchemaType(name = &quot;integer&quot;)\nprivate Integer day;\n</code></pre>\n<p>Added some annotations to the class declaration:</p>\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class LocalDate\n</code></pre>\n<p>And created adapter class:</p>\n<pre><code>public class XmlStringToIntegerAdapter extends XmlAdapter&lt;String, Integer&gt; {\npublic Integer unmarshal(String value) {\n    return new Integer(value);\n}\n\npublic String marshal(Integer value) {\n    if (value == null) {\n        return null;\n    }\n    return value.toString();\n}}\n</code></pre>\n"}],"owner":{"account_id":27913385,"reputation":1,"user_id":21315049,"display_name":"ivashchenko_ivan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678287846,"creation_date":1678133323,"question_id":75655387,"body_markdown":"Soap is a new technology for me. I get a Soap message request, this is a part of it\r\n\r\n```\r\n&lt;patient&gt;\r\n\t\t\t\t&lt;dateOfBirth&gt;\r\n\t\t\t\t\t&lt;year&gt;&lt;/year&gt;\r\n\t\t\t\t\t&lt;month&gt;&lt;/month&gt;\r\n\t\t\t\t\t&lt;day&gt;&lt;/day&gt;\r\n\t\t\t\t&lt;/dateOfBirth&gt;\r\n\t\t\t\t&lt;firstName&gt;Ivan&lt;/firstName&gt;\r\n\t\t\t\t&lt;lastName&gt;Luku&lt;/lastName&gt;\t\t\r\n\t\t\t&lt;/patient&gt;\r\n```\r\nThis is xsd schema for this part.\r\n\r\n```\r\nxs:complexType name=&quot;personVO&quot;&gt;\r\n&lt;xs:complexContent&gt;\r\n&lt;xs:extension base=&quot;tns:tenantableVO&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;dateOfBirth&quot; type=&quot;tns:localDateVO&quot;/&gt;\r\n&lt;xs:element name=&quot;firstName&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;xs:element name=&quot;lastName&quot; type=&quot;xs:string&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:extension&gt;\r\n&lt;/xs:complexContent&gt;\r\n&lt;/xs:complexType&gt;\r\n\r\n------------------------------------------\r\n&lt;xs:complexType name=&quot;localDateVO&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n&lt;xs:element name=&quot;day&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;xs:element name=&quot;month&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\r\n&lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\nAs you can see year, day, month in the dateOfBirth tag have empty value. This variable presented in java code like Integer type. What should I do to get null for this variable after got this request?\r\n\r\nI tried to write annotation above the get methods, but it didn&#39;t work. When I wrote annotation @XmlAttribute it gives me null always whether there are values or not.\r\n\r\n\r\n```\r\n    @XmlAttribute\r\n    public Integer getDay() {\r\n        return day;\r\n    }\r\n    @XmlAttribute\r\n    public Integer getMonth() {\r\n        return month;\r\n    }\r\n    @XmlAttribute\r\n    public Integer getYear() {\r\n        return year;\r\n    }\r\n```\r\nAnd I tried to do the same annotation for field, but it&#39;s give me error like this (Class has two properties of the same name)","title":"How to get null object for Integer class from Soap message request?","body":"<p>Soap is a new technology for me. I get a Soap message request, this is a part of it</p>\n<pre><code>&lt;patient&gt;\n                &lt;dateOfBirth&gt;\n                    &lt;year&gt;&lt;/year&gt;\n                    &lt;month&gt;&lt;/month&gt;\n                    &lt;day&gt;&lt;/day&gt;\n                &lt;/dateOfBirth&gt;\n                &lt;firstName&gt;Ivan&lt;/firstName&gt;\n                &lt;lastName&gt;Luku&lt;/lastName&gt;       \n            &lt;/patient&gt;\n</code></pre>\n<p>This is xsd schema for this part.</p>\n<pre><code>xs:complexType name=&quot;personVO&quot;&gt;\n&lt;xs:complexContent&gt;\n&lt;xs:extension base=&quot;tns:tenantableVO&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;dateOfBirth&quot; type=&quot;tns:localDateVO&quot;/&gt;\n&lt;xs:element name=&quot;firstName&quot; type=&quot;xs:string&quot;/&gt;\n&lt;xs:element name=&quot;lastName&quot; type=&quot;xs:string&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:extension&gt;\n&lt;/xs:complexContent&gt;\n&lt;/xs:complexType&gt;\n\n------------------------------------------\n&lt;xs:complexType name=&quot;localDateVO&quot;&gt;\n&lt;xs:sequence&gt;\n&lt;xs:element name=&quot;day&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;xs:element name=&quot;month&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;xs:element name=&quot;year&quot; type=&quot;xs:int&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot;/&gt;\n&lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p>As you can see year, day, month in the dateOfBirth tag have empty value. This variable presented in java code like Integer type. What should I do to get null for this variable after got this request?</p>\n<p>I tried to write annotation above the get methods, but it didn't work. When I wrote annotation @XmlAttribute it gives me null always whether there are values or not.</p>\n<pre><code>    @XmlAttribute\n    public Integer getDay() {\n        return day;\n    }\n    @XmlAttribute\n    public Integer getMonth() {\n        return month;\n    }\n    @XmlAttribute\n    public Integer getYear() {\n        return year;\n    }\n</code></pre>\n<p>And I tried to do the same annotation for field, but it's give me error like this (Class has two properties of the same name)</p>\n"},{"tags":["java","eclipse","gradle","cxf"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670335541,"post_id":74703600,"comment_id":131849115,"body_markdown":"No, eclipse has known support for this stuff. Most likely culprit: Eclipse thinks the project&#39;s &#39;release&#39; level is lower than 14. Gradle is technically turing complete so presumably if you change the gradle build file you need to tell either gradle or eclipse to reload a few things or it&#39;s not going to be able to pick up the change to sourceCompat. Also, &#39;sourceCompatibility&#39; is old style - the modern way is to combine source and target into &#39;release&#39;. A full answer to this question should probably include more details about how to properly set up the gradle build - I&#39;m not familiar enough.","body":"No, eclipse has known support for this stuff. Most likely culprit: Eclipse thinks the project&#39;s &#39;release&#39; level is lower than 14. Gradle is technically turing complete so presumably if you change the gradle build file you need to tell either gradle or eclipse to reload a few things or it&#39;s not going to be able to pick up the change to sourceCompat. Also, &#39;sourceCompatibility&#39; is old style - the modern way is to combine source and target into &#39;release&#39;. A full answer to this question should probably include more details about how to properly set up the gradle build - I&#39;m not familiar enough."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1670337096,"post_id":74703600,"comment_id":131849724,"body_markdown":"Eclipse knows about all these things and everything up to Java 18 (Java 19 in Eclipse 2022-12 released tomorrow). Check the project Java properties to see what compliance level you have set.","body":"Eclipse knows about all these things and everything up to Java 18 (Java 19 in Eclipse 2022-12 released tomorrow). Check the project Java properties to see what compliance level you have set."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1670338301,"post_id":74703600,"comment_id":131850259,"body_markdown":"compiler screenshot attached, as you suggested I&#39;ll try 2022-12 eclipse version as well","body":"compiler screenshot attached, as you suggested I&#39;ll try 2022-12 eclipse version as well"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670340148,"post_id":74703600,"comment_id":131851012,"body_markdown":"Eclipse 2022-09 supports Java 17, Java 18 and lower. How to reproduce your issue? Where is your issue: in the Java editor (project settings looks fine, but disabling _Use default compliance settings_ does not make sense here), running Gradle (Gradle preferences looks fine, but might be overridden by the Gradle run configuration) or when running your application (show your launch configuration).","body":"Eclipse 2022-09 supports Java 17, Java 18 and lower. How to reproduce your issue? Where is your issue: in the Java editor (project settings looks fine, but disabling <i>Use default compliance settings</i> does not make sense here), running Gradle (Gradle preferences looks fine, but might be overridden by the Gradle run configuration) or when running your application (show your launch configuration)."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676287809,"post_id":74703600,"comment_id":133100394,"body_markdown":"@howlger more screenshots added, thanks","body":"@howlger more screenshots added, thanks"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676290528,"post_id":74703600,"comment_id":133101128,"body_markdown":"Your `build.gradle` seems to be wrong. `sourceCompatibility = 1.8` means Java 8 which does not have those language features of Java 17 you are using. There should no `eclipse { ... }` section at all in your `build.gradle`.","body":"Your <code>build.gradle</code> seems to be wrong. <code>sourceCompatibility = 1.8</code> means Java 8 which does not have those language features of Java 17 you are using. There should no <code>eclipse { ... }</code> section at all in your <code>build.gradle</code>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676303848,"post_id":74703600,"comment_id":133105538,"body_markdown":"@howlger thanks for your input, I&#39;ve applied 17 instead of 1.8 but the issue still same","body":"@howlger thanks for your input, I&#39;ve applied 17 instead of 1.8 but the issue still same"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676304786,"post_id":74703600,"comment_id":133105884,"body_markdown":"According to your screenshot you still have `sourceCompatibility = 1.8` which is clearly wrong. Your `build.gradle` should not have an `eclipse { ... } section` at all! Please show your [minimal `build.gradle` with which your issue can be reproduced](https://stackoverflow.com/help/minimal-reproducible-example).","body":"According to your screenshot you still have <code>sourceCompatibility = 1.8</code> which is clearly wrong. Your <code>build.gradle</code> should not have an <code>eclipse { ... } section</code> at all! Please show your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal <code>build.gradle</code> with which your issue can be reproduced</a>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676306109,"post_id":74703600,"comment_id":133106339,"body_markdown":"@howlger, Please find the attached build gradle file. thanks\nhttps://notepad.link/share/O310KvZsEhGICCOhOazM","body":"@howlger, Please find the attached build gradle file. thanks <a href=\"https://notepad.link/share/O310KvZsEhGICCOhOazM\" rel=\"nofollow noreferrer\">notepad.link/share/O310KvZsEhGICCOhOazM</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676307302,"post_id":74703600,"comment_id":133106714,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Again, the whole `eclipse { ... }` section looks quite suspicious.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Again, the whole <code>eclipse { ... }</code> section looks quite suspicious."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676308051,"post_id":74703600,"comment_id":133106955,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251835/discussion-between-priyanwl2022-and-howlger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251835/discussion-between-priyanwl2022-and-howlger\">continue this discussion in chat</a>."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676325728,"post_id":74703600,"comment_id":133111471,"body_markdown":"@howlger\nPlease refer to the attached example &gt;&gt; https://drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/view?usp=sharing\nhope it helps you to reproduce the issue. Thank you so much.!","body":"@howlger Please refer to the attached example &gt;&gt; <a href=\"https://drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1vMPYPSFuxOuqi_i-v4_l7OAsOMyfLcGC/&hellip;</a> hope it helps you to reproduce the issue. Thank you so much.!"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676974874,"post_id":74703600,"comment_id":133240611,"body_markdown":"@howlger, I&#39;ve shared Minimal, Reproducible Example via above link. is it helpful for you.?","body":"@howlger, I&#39;ve shared Minimal, Reproducible Example via above link. is it helpful for you.?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676980940,"post_id":74703600,"comment_id":133242428,"body_markdown":"11 MB is far from being minimal. According to the screenshots, you have `sourceCompatibility = 1.8` which is wrong and I doubt inside `eclipse { ... }` is the right place.","body":"11 MB is far from being minimal. According to the screenshots, you have <code>sourceCompatibility = 1.8</code> which is wrong and I doubt inside <code>eclipse { ... }</code> is the right place."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1676994882,"post_id":74703600,"comment_id":133247230,"body_markdown":"@howlger, sorry that is because of the hidden .git folder, I&#39;ve removed that one.\nnow its almost 10KB","body":"@howlger, sorry that is because of the hidden .git folder, I&#39;ve removed that one. now its almost 10KB"},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677062954,"post_id":74703600,"comment_id":133261909,"body_markdown":"@howlger, have you got any clue from the example.? - thanks","body":"@howlger, have you got any clue from the example.? - thanks"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1677073238,"post_id":74703600,"comment_id":133265038,"body_markdown":"With a `build.gradle` file in `service/Service` that contains the three lines `plugins { id &#39;application&#39; }`, `sourceCompatibility = &#39;17&#39;` and `targetCompatibility = &#39;17&#39;` it works for me (imported via _File &gt; Import...: Grade &gt; Existing Gradle Project_ and fixing the broken Java example code, e.g. `switch (type)` where `type` is a String does not work with cases of enum types, etc.). It&#39;s recommended (and maybe required by Eclipse) to have `build.gradle` file in each Gradle project. Settings outside the project (to avoid redundancy), are hard to read and against self-contained modules.","body":"With a <code>build.gradle</code> file in <code>service&#47;Service</code> that contains the three lines <code>plugins { id &#39;application&#39; }</code>, <code>sourceCompatibility = &#39;17&#39;</code> and <code>targetCompatibility = &#39;17&#39;</code> it works for me (imported via <i>File &gt; Import...: Grade &gt; Existing Gradle Project</i> and fixing the broken Java example code, e.g. <code>switch (type)</code> where <code>type</code> is a String does not work with cases of enum types, etc.). It&#39;s recommended (and maybe required by Eclipse) to have <code>build.gradle</code> file in each Gradle project. Settings outside the project (to avoid redundancy), are hard to read and against self-contained modules."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1677074141,"post_id":74703600,"comment_id":133265328,"body_markdown":"`eclipse { jdt { sourceCompatibility = 17 } }` sets the source compatibility, but not the target compatibility and misses also to set the system library on the Java Build Path. You should have `sourceCompatibility = 17` and `targetCompatibility = 17` outside of `eclipse { ... }` in a `build.gradle` file instead.","body":"<code>eclipse { jdt { sourceCompatibility = 17 } }</code> sets the source compatibility, but not the target compatibility and misses also to set the system library on the Java Build Path. You should have <code>sourceCompatibility = 17</code> and <code>targetCompatibility = 17</code> outside of <code>eclipse { ... }</code> in a <code>build.gradle</code> file instead."},{"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"score":0,"creation_date":1677079250,"post_id":74703600,"comment_id":133267160,"body_markdown":"@howlger thanks a lot for your inputs. its really means a lot to me. seems lot of faults in my side even importing project part (previously I did using import git-project). Thanks again I&#39;ll fix the issues based on your advises. Have a nice day.!","body":"@howlger thanks a lot for your inputs. its really means a lot to me. seems lot of faults in my side even importing project part (previously I did using import git-project). Thanks again I&#39;ll fix the issues based on your advises. Have a nice day.!"}],"answers":[{"tags":[],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287583,"creation_date":1678287583,"answer_id":75674698,"question_id":74703600,"body_markdown":"This is not a solution but an alternative way, &lt;br/&gt;\r\nwe can used when we need to fix build issues in gradle + eclipse + java.&lt;br/&gt;\r\n&lt;br/&gt;\r\nI&#39;ve tried and resolved in a following way.&lt;br/&gt;\r\n\r\n 1. `./gradlew eclipse` and make project to eclipse type project\r\n \r\n 2. `./gradlew clean install`\r\n 3. import project to eclipse\r\n 4. get all libraries from\r\n    `&lt;projectName&gt;\\build\\install\\&lt;projectName&gt;\\lib\\`\r\n 5. apply them to build-path manually\r\n 6. run the project","title":"Why eclipse not detect java 14+ changes.?","body":"<p>This is not a solution but an alternative way, <br/>\nwe can used when we need to fix build issues in gradle + eclipse + java.<br/>\n<br/>\nI've tried and resolved in a following way.<br/></p>\n<ol>\n<li><p><code>./gradlew eclipse</code> and make project to eclipse type project</p>\n</li>\n<li><p><code>./gradlew clean install</code></p>\n</li>\n<li><p>import project to eclipse</p>\n</li>\n<li><p>get all libraries from\n<code>&lt;projectName&gt;\\build\\install\\&lt;projectName&gt;\\lib\\</code></p>\n</li>\n<li><p>apply them to build-path manually</p>\n</li>\n<li><p>run the project</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26206548,"reputation":21,"user_id":19886074,"display_name":"PriyanWL2022"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678287583,"creation_date":1670334408,"question_id":74703600,"body_markdown":"I&#39;m running java project which is using CXF. Eclipse version: 2022-09 (4.25.0). Gradle used as a build tool and using gradle-7.3 version. OpenJDK set to the build path and it is openjdk-17.0.1, also compiler \r\nin gradle file, tried with sourceCompatibility = 14 and latest versions.\r\n\r\n\r\nIt is not detecting below Java features.\r\n\r\n- record\r\n\r\n  `private record CommercialAgreement(Set&lt;Long&gt; agreementIds, Double value) {}`\r\n\r\n- diamond operator &lt;&gt; (without types)\r\n\r\n  `List&lt;Shop&gt; shops = getShopsList(ids, new TypeToken&lt;&gt;() {});`\r\n\r\n- arrow in case statement &amp; with return statements &amp; multi constants case labels\r\n\r\n    ```\r\n    return switch (date) {\r\n        case 1, 2 -&gt; format(input, begin);\r\n        case 3, 4, 5 -&gt; format(input, mid);\r\n        case 6, 7 -&gt; format(input, end);\r\n        default -&gt; input;\r\n    };\r\n    ```\r\n\r\nAre they known bugs or do we need to get some specific eclipse version to avoid these issues?\r\n\r\n[![Eclipse compiler tab][1]][1]\r\n\r\n[![Gradle configs tab][2]][2]\r\n\r\n\r\nMore screenshots added\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\nPlease find the updated gradle build file here &gt;&gt;\r\n[https://notepad.link/share/O310KvZsEhGICCOhOazM][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RayW5.png\r\n  [2]: https://i.stack.imgur.com/cqAKu.png\r\n  [3]: https://i.stack.imgur.com/xQNIa.png\r\n  [4]: https://i.stack.imgur.com/zBmt2.png\r\n  [5]: https://i.stack.imgur.com/5fko6.png\r\n  [6]: https://i.stack.imgur.com/CL7Xl.png\r\n  [7]: https://i.stack.imgur.com/qZmMf.png\r\n  [8]: https://notepad.link/share/O310KvZsEhGICCOhOazM","title":"Why eclipse not detect java 14+ changes.?","body":"<p>I'm running java project which is using CXF. Eclipse version: 2022-09 (4.25.0). Gradle used as a build tool and using gradle-7.3 version. OpenJDK set to the build path and it is openjdk-17.0.1, also compiler\nin gradle file, tried with sourceCompatibility = 14 and latest versions.</p>\n<p>It is not detecting below Java features.</p>\n<ul>\n<li><p>record</p>\n<p><code>private record CommercialAgreement(Set&lt;Long&gt; agreementIds, Double value) {}</code></p>\n</li>\n<li><p>diamond operator &lt;&gt; (without types)</p>\n<p><code>List&lt;Shop&gt; shops = getShopsList(ids, new TypeToken&lt;&gt;() {});</code></p>\n</li>\n<li><p>arrow in case statement &amp; with return statements &amp; multi constants case labels</p>\n<pre><code>return switch (date) {\n    case 1, 2 -&gt; format(input, begin);\n    case 3, 4, 5 -&gt; format(input, mid);\n    case 6, 7 -&gt; format(input, end);\n    default -&gt; input;\n};\n</code></pre>\n</li>\n</ul>\n<p>Are they known bugs or do we need to get some specific eclipse version to avoid these issues?</p>\n<p><a href=\"https://i.stack.imgur.com/RayW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RayW5.png\" alt=\"Eclipse compiler tab\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/cqAKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cqAKu.png\" alt=\"Gradle configs tab\" /></a></p>\n<p>More screenshots added</p>\n<p><a href=\"https://i.stack.imgur.com/xQNIa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQNIa.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zBmt2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zBmt2.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5fko6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fko6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CL7Xl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CL7Xl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qZmMf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZmMf.png\" alt=\"enter image description here\" /></a></p>\n<p>Please find the updated gradle build file here &gt;&gt;\n<a href=\"https://notepad.link/share/O310KvZsEhGICCOhOazM\" rel=\"nofollow noreferrer\">https://notepad.link/share/O310KvZsEhGICCOhOazM</a></p>\n"},{"tags":["java","android","radio-button"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1678285715,"post_id":75674288,"comment_id":133503094,"body_markdown":"You may change buttons text based on selected radio ... Where is the problem ?","body":"You may change buttons text based on selected radio ... Where is the problem ?"},{"owner":{"account_id":27642825,"reputation":25,"user_id":21099413,"display_name":"kyesia"},"score":0,"creation_date":1678287633,"post_id":75674288,"comment_id":133503696,"body_markdown":"Each button has a different function.","body":"Each button has a different function."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1678287746,"post_id":75674288,"comment_id":133503730,"body_markdown":"and ? ... you can have in onClick `if(radio1checked) { doButtonXCode1() } else { doButtonXCode2() }`","body":"and ? ... you can have in onClick <code>if(radio1checked) { doButtonXCode1() } else { doButtonXCode2() }</code>"}],"answers":[{"tags":[],"owner":{"account_id":11524089,"reputation":161,"user_id":8445079,"display_name":"Paolino L Angeletti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678287494,"creation_date":1678287494,"answer_id":75674678,"question_id":75674288,"body_markdown":"you can simply add in you XML layout two different radio groups, with their personal ID.\r\nSo, based on check selected, you hide and show the correct radio-groups.\r\n\r\nExample:\r\n\r\n    radioA.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n    \r\n           @Override\r\n           public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\r\n    //show groupA\r\n    //hide groupB\r\n           }\r\n       }\r\n    );     \r\n\r\n\r\n\r\n    radioB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n        \r\n               @Override\r\n               public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\r\n        //show groupB\r\n        //hide groupA\r\n               }\r\n           }\r\n        );   \r\n\r\n","title":"Show views depending on radio button selection","body":"<p>you can simply add in you XML layout two different radio groups, with their personal ID.\nSo, based on check selected, you hide and show the correct radio-groups.</p>\n<p>Example:</p>\n<pre><code>radioA.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n\n       @Override\n       public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\n//show groupA\n//hide groupB\n       }\n   }\n);     \n\n\n\nradioB.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n    \n           @Override\n           public void onCheckedChanged(CompoundButton buttonView,boolean isChecked) {\n    //show groupB\n    //hide groupA\n           }\n       }\n    );   \n</code></pre>\n"}],"owner":{"account_id":27642825,"reputation":25,"user_id":21099413,"display_name":"kyesia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75674678,"answer_count":1,"score":0,"last_activity_date":1678287494,"creation_date":1678285339,"question_id":75674288,"body_markdown":"Thank you for understanding my lack of English skills.\r\n\r\nI am working on an android app in java. Is there a way to change the group of 6 buttons according to the selection of A Radio button and B Radio button?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/F5y90.png)](https://i.stack.imgur.com/F5y90.png)[![enter image description here](https://i.stack.imgur.com/Fu9jf.png)](https://i.stack.imgur.com/Fu9jf.png)\r\n\r\nI didn&#39;t try because I didn&#39;t have a good idea.","title":"Show views depending on radio button selection","body":"<p>Thank you for understanding my lack of English skills.</p>\n<p>I am working on an android app in java. Is there a way to change the group of 6 buttons according to the selection of A Radio button and B Radio button?</p>\n<p><a href=\"https://i.stack.imgur.com/F5y90.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5y90.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/Fu9jf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fu9jf.png\" alt=\"enter image description here\" /></a></p>\n<p>I didn't try because I didn't have a good idea.</p>\n"},{"tags":["java","sql-server","hibernate","jpa"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1633468780,"post_id":69453483,"comment_id":122767067,"body_markdown":"Is this [relevant](https://stackoverflow.com/a/42485612/390122)?","body":"Is this <a href=\"https://stackoverflow.com/a/42485612/390122\">relevant</a>?"},{"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"score":0,"creation_date":1633504353,"post_id":69453483,"comment_id":122773710,"body_markdown":"The `@Type` annotation did the trick. I never noticed that the UUIDs were actually the same but had different representation. Thanks for googling that for me!","body":"The <code>@Type</code> annotation did the trick. I never noticed that the UUIDs were actually the same but had different representation. Thanks for googling that for me!"}],"answers":[{"tags":[],"owner":{"account_id":15139639,"reputation":31,"user_id":10925031,"display_name":"MadeInDigital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678287233,"creation_date":1678287233,"answer_id":75674624,"question_id":69453483,"body_markdown":"With Spring 3 / Hibernate 6 **@Type(type = &quot;uuid-char&quot;)** is not available anymore.\r\n\r\nYou can specify\r\n\r\n`spring.jpa.properties.hibernate.type.preferred_uuid_jdbc_type: CHAR`\r\n\r\nin your application.yml in order to convert uuid type globally.\r\n\r\nSee also: https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html","title":"JPA mapping for SQL Server UNIQUEIDENTIFIER with `default NEWID()`","body":"<p>With Spring 3 / Hibernate 6 <strong>@Type(type = &quot;uuid-char&quot;)</strong> is not available anymore.</p>\n<p>You can specify</p>\n<p><code>spring.jpa.properties.hibernate.type.preferred_uuid_jdbc_type: CHAR</code></p>\n<p>in your application.yml in order to convert uuid type globally.</p>\n<p>See also: <a href=\"https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html</a></p>\n"}],"owner":{"account_id":1051678,"reputation":6775,"user_id":3063077,"accept_rate":33,"display_name":"Ralf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678287233,"creation_date":1633448431,"question_id":69453483,"body_markdown":"I am struggling to insert JPA mapped entities (via a Spring Data `CrudRepository`) into a table on SQL Server 2019 that has a primary key column of type `UNIQUEIDENTIFIER` and a default value of `NEWID()`. \r\n\r\n```sql\r\nCREATE TABLE some_table\r\n(\r\n  id UNIQUEIDENTIFIER not null primary key default NEWID(),\r\n  -- ...\r\n)\r\n```\r\n\r\n\r\nThe problem is that all variations I managed to get to work involve a UUID generator on the JPA/Hibernate side and I end up with two different UUID values in the table and the saved JPA entity object.\r\n\r\nE.g. this mapping &quot;works&quot; in the sense that there is no error reported, but the saved entity object&#39;s `id` field contains a different UUID than what is saved as a PK value in the underlying table.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;some_table&quot;)\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @Column(columnDefinition = &quot;uniqueidentifier&quot;)\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    // ...\r\n}\r\n\r\n// id field not set\r\nmyEntityRepository.save(myEntity);\r\n// if field set, but value differs from DB\r\n```\r\nUsing `@GeneratedValue (strategy = GenerationType.IDENTITY)` yields a\r\n```\r\norg.hibernate.id.IdentifierGenerationException: unrecognized id type : uuid-binary -&gt; java.util.UUID\r\n```\r\ndespite the columndefinition.\r\n\r\nHow do I have to set up the mapping to either correctly pick up the UUID value generated by SQL Server or store the UUID value generated by a Hibernate generator strategy?","title":"JPA mapping for SQL Server UNIQUEIDENTIFIER with `default NEWID()`","body":"<p>I am struggling to insert JPA mapped entities (via a Spring Data <code>CrudRepository</code>) into a table on SQL Server 2019 that has a primary key column of type <code>UNIQUEIDENTIFIER</code> and a default value of <code>NEWID()</code>.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE some_table\n(\n  id UNIQUEIDENTIFIER not null primary key default NEWID(),\n  -- ...\n)\n</code></pre>\n<p>The problem is that all variations I managed to get to work involve a UUID generator on the JPA/Hibernate side and I end up with two different UUID values in the table and the saved JPA entity object.</p>\n<p>E.g. this mapping &quot;works&quot; in the sense that there is no error reported, but the saved entity object's <code>id</code> field contains a different UUID than what is saved as a PK value in the underlying table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;some_table&quot;)\npublic class MyEntity {\n\n    @Id\n    @Column(columnDefinition = &quot;uniqueidentifier&quot;)\n    @GeneratedValue\n    private UUID id;\n\n    // ...\n}\n\n// id field not set\nmyEntityRepository.save(myEntity);\n// if field set, but value differs from DB\n</code></pre>\n<p>Using <code>@GeneratedValue (strategy = GenerationType.IDENTITY)</code> yields a</p>\n<pre><code>org.hibernate.id.IdentifierGenerationException: unrecognized id type : uuid-binary -&gt; java.util.UUID\n</code></pre>\n<p>despite the columndefinition.</p>\n<p>How do I have to set up the mapping to either correctly pick up the UUID value generated by SQL Server or store the UUID value generated by a Hibernate generator strategy?</p>\n"},{"tags":["javascript","java","ecmascript-6"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678115945,"post_id":75652581,"comment_id":133466213,"body_markdown":"I mean... 400 means a bad request, we don&#39;t know the request you&#39;re making, what the request expects, or much else, so...","body":"I mean... 400 means a bad request, we don&#39;t know the request you&#39;re making, what the request expects, or much else, so..."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116173,"post_id":75652581,"comment_id":133466289,"body_markdown":"@DaveNewton could you please help me to debug this? This error is a generic error, how can I retrieve the full stack trace?","body":"@DaveNewton could you please help me to debug this? This error is a generic error, how can I retrieve the full stack trace?"},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116400,"post_id":75652581,"comment_id":133466378,"body_markdown":"@DaveNewton I am trying to make a request of https://developer.okta.com/docs/reference/api/users/#create-user-with-password","body":"@DaveNewton I am trying to make a request of <a href=\"https://developer.okta.com/docs/reference/api/users/#create-user-with-password\" rel=\"nofollow noreferrer\">developer.okta.com/docs/reference/api/users/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678116740,"post_id":75652581,"comment_id":133466498,"body_markdown":"A 400 means a bad request, so the thing I&#39;d look at first is what is actually in the request, which we cannot see. You can also test your requests using Postman or similar tool.","body":"A 400 means a bad request, so the thing I&#39;d look at first is what is actually in the request, which we cannot see. You can also test your requests using Postman or similar tool."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678116938,"post_id":75652581,"comment_id":133466560,"body_markdown":"@DaveNewton Using postman I can able to call this successfully, but using this code I am getting an error, I have pasted a link where you can find the API request details.","body":"@DaveNewton Using postman I can able to call this successfully, but using this code I am getting an error, I have pasted a link where you can find the API request details."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1678117070,"post_id":75652581,"comment_id":133466599,"body_markdown":"API docs show what&#39;s expected, not what you&#39;ve sent.","body":"API docs show what&#39;s expected, not what you&#39;ve sent."},{"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"score":0,"creation_date":1678118154,"post_id":75652581,"comment_id":133466957,"body_markdown":"@DaveNewton I added the JSON post data in the question.","body":"@DaveNewton I added the JSON post data in the question."}],"answers":[{"tags":[],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678287222,"creation_date":1678287222,"answer_id":75674619,"question_id":75652581,"body_markdown":"I have resolved this issue by using `getErrorStream()`, I updated the below code.\r\n\r\n    var stream_in = &quot;&quot;;\r\n    if(responseCode == &quot;200&quot;) {\r\n    \tstream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\r\n    } else {\r\n    \tstream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getErrorStream()));\r\n    }\r\n\r\nPlease suggest if I missed anything or anything I can improve on this.","title":"javascript java.io.IOException: Server returned HTTP response code 400","body":"<p>I have resolved this issue by using <code>getErrorStream()</code>, I updated the below code.</p>\n<pre><code>var stream_in = &quot;&quot;;\nif(responseCode == &quot;200&quot;) {\n    stream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\n} else {\n    stream_in = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getErrorStream()));\n}\n</code></pre>\n<p>Please suggest if I missed anything or anything I can improve on this.</p>\n"}],"owner":{"account_id":4201054,"reputation":1880,"user_id":3441151,"accept_rate":47,"display_name":"user3441151"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75674619,"answer_count":1,"score":0,"last_activity_date":1678287222,"creation_date":1678115792,"question_id":75652581,"body_markdown":"I am invoking the Rest API using the below code to create User in target application, but if I am posting the duplicate user information in Postman, I am getting &quot;400 Bad Request&quot; with below data as JSON.\r\n\r\n    {\r\n        &quot;errorCode&quot;: &quot;E0000001&quot;,\r\n        &quot;errorSummary&quot;: &quot;Api validation failed: login&quot;,\r\n        &quot;errorLink&quot;: &quot;E0000001&quot;,\r\n        &quot;errorId&quot;: &quot;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\r\n        &quot;errorCauses&quot;: [\r\n            {\r\n                &quot;errorSummary&quot;: &quot;login: An object with this field already exists in the current organization&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nI am using the below code to get the response and unable to get the response when I am get &quot;400 Bad Request&quot;.\r\n\r\nRest Call Details: https://developer.okta.com/docs/reference/api/users/#create-user-with-password\r\n\r\nIn the API call, I am posting the Authorization token in the header `SSWS xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxx`\r\n\r\nI am posting the below data in the body.\r\n\r\n    {\r\n    \t&quot;profile&quot;: {\r\n    \t\t&quot;firstName&quot;: &quot;John1&quot;,\r\n    \t\t&quot;lastName&quot;: &quot;Flow1&quot;,\r\n    \t\t&quot;email&quot;: &quot;john1.flow1@test.com&quot;,\r\n    \t\t&quot;login&quot;: &quot;john1.flow1@test.com&quot;,\r\n    \t\t&quot;mobilePhone&quot;: &quot;&quot;\r\n    \t},\r\n    \t&quot;credentials&quot;: {\r\n    \t\t&quot;password&quot;: {\r\n    \t\t\t&quot;value&quot;: &quot;xxxxxxxx&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\njava.io.IOException: Server returned HTTP response code: 400 for URL: https://test-app.testlab.com/api/v1/users&quot;\r\n\r\n    function CreateUserInApp(rest_url, api_token, postJSON) {\r\n        try {\r\n            var postValBytes = new java.lang.String(postJSON).getBytes(&quot;UTF8&quot;);\r\n            var posturl = new java.net.URL(rest_url);\r\n            var stream = posturl.openConnection();\r\n            stream.setRequestMethod(&quot;POST&quot;);\r\n            stream.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            stream.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            stream.setRequestProperty(&quot;Authorization&quot;, api_token);\r\n            stream.setDoOutput(true);\r\n            stream.setDoInput(true);\r\n            var outStream = stream.getOutputStream();\r\n            outStream[&quot;write(byte[])&quot;](postValBytes);\r\n            outStream.flush();\r\n            var responseCode = stream.getResponseCode();\r\n            var stream = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\r\n            var inputLine;\r\n            var response = new java.lang.StringBuilder();\r\n            while ((inputLine = stream.readLine()) != null) {\r\n                response.append(inputLine);\r\n            }\r\n            var response = response.toString();\r\n            return response;\r\n        } catch(e) {\r\n            return &quot;ERROR Is: &quot; + e.toString();\r\n        }\r\n    }\r\n\r\nI am not sure if I am closing the connection properly or not, please help me to resolve this issue.","title":"javascript java.io.IOException: Server returned HTTP response code 400","body":"<p>I am invoking the Rest API using the below code to create User in target application, but if I am posting the duplicate user information in Postman, I am getting &quot;400 Bad Request&quot; with below data as JSON.</p>\n<pre><code>{\n    &quot;errorCode&quot;: &quot;E0000001&quot;,\n    &quot;errorSummary&quot;: &quot;Api validation failed: login&quot;,\n    &quot;errorLink&quot;: &quot;E0000001&quot;,\n    &quot;errorId&quot;: &quot;xxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\n    &quot;errorCauses&quot;: [\n        {\n            &quot;errorSummary&quot;: &quot;login: An object with this field already exists in the current organization&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I am using the below code to get the response and unable to get the response when I am get &quot;400 Bad Request&quot;.</p>\n<p>Rest Call Details: <a href=\"https://developer.okta.com/docs/reference/api/users/#create-user-with-password\" rel=\"nofollow noreferrer\">https://developer.okta.com/docs/reference/api/users/#create-user-with-password</a></p>\n<p>In the API call, I am posting the Authorization token in the header <code>SSWS xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-xxxx</code></p>\n<p>I am posting the below data in the body.</p>\n<pre><code>{\n    &quot;profile&quot;: {\n        &quot;firstName&quot;: &quot;John1&quot;,\n        &quot;lastName&quot;: &quot;Flow1&quot;,\n        &quot;email&quot;: &quot;john1.flow1@test.com&quot;,\n        &quot;login&quot;: &quot;john1.flow1@test.com&quot;,\n        &quot;mobilePhone&quot;: &quot;&quot;\n    },\n    &quot;credentials&quot;: {\n        &quot;password&quot;: {\n            &quot;value&quot;: &quot;xxxxxxxx&quot;\n        }\n    }\n}\n</code></pre>\n<p>java.io.IOException: Server returned HTTP response code: 400 for URL: <a href=\"https://test-app.testlab.com/api/v1/users%22\" rel=\"nofollow noreferrer\">https://test-app.testlab.com/api/v1/users&quot;</a></p>\n<pre><code>function CreateUserInApp(rest_url, api_token, postJSON) {\n    try {\n        var postValBytes = new java.lang.String(postJSON).getBytes(&quot;UTF8&quot;);\n        var posturl = new java.net.URL(rest_url);\n        var stream = posturl.openConnection();\n        stream.setRequestMethod(&quot;POST&quot;);\n        stream.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        stream.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        stream.setRequestProperty(&quot;Authorization&quot;, api_token);\n        stream.setDoOutput(true);\n        stream.setDoInput(true);\n        var outStream = stream.getOutputStream();\n        outStream[&quot;write(byte[])&quot;](postValBytes);\n        outStream.flush();\n        var responseCode = stream.getResponseCode();\n        var stream = new java.io.BufferedReader(new java.io.InputStreamReader(stream.getInputStream()));\n        var inputLine;\n        var response = new java.lang.StringBuilder();\n        while ((inputLine = stream.readLine()) != null) {\n            response.append(inputLine);\n        }\n        var response = response.toString();\n        return response;\n    } catch(e) {\n        return &quot;ERROR Is: &quot; + e.toString();\n    }\n}\n</code></pre>\n<p>I am not sure if I am closing the connection properly or not, please help me to resolve this issue.</p>\n"},{"tags":["java","android","kotlin","webview","camera"],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678287010,"creation_date":1678287010,"question_id":75674587,"body_markdown":"I am trying to create a webView for my web application which has upload features using camera. I have build an option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field. Please Help..\r\n\r\nHere is my webView file :\r\n\r\n     webView.apply {\r\n                webViewClient = customWebViewClient\r\n                webChromeClient = customWebChromeClient\r\n    \r\n                loadUrl(&quot;https://xxxxxxxxxx&quot;)\r\n    \r\n                settings.apply {\r\n                    javaScriptEnabled = true\r\n                    pluginState = WebSettings.PluginState.OFF\r\n                    blockNetworkLoads = false\r\n                    loadsImagesAutomatically = true\r\n                    loadWithOverviewMode = true\r\n                    useWideViewPort = false\r\n                    allowFileAccess = true\r\n                    allowContentAccess = true\r\n                    javaScriptCanOpenWindowsAutomatically = true\r\n                    domStorageEnabled = true\r\n                    mediaPlaybackRequiresUserGesture = false\r\n                    userAgentString =\r\n                        &quot;Android Mozilla/5.0 AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30&quot;\r\n\r\nHere is my webChromeClient file:\r\n\r\n    private val customWebChromeClient = object : WebChromeClient() {\r\n        override fun onPermissionRequest(request: PermissionRequest) {\r\n            val PERMISSIONS = arrayOf(\r\n                PermissionRequest.RESOURCE_AUDIO_CAPTURE,\r\n                PermissionRequest.RESOURCE_VIDEO_CAPTURE,\r\n                PermissionRequest.RESOURCE_PROTECTED_MEDIA_ID,\r\n            )\r\n            runOnUiThread {\r\n                request.grant(PERMISSIONS)\r\n            }\r\n        }\r\n    \r\n        @RequiresApi(Build.VERSION_CODES.M)\r\n        override fun onShowFileChooser(\r\n            view: WebView?,\r\n            filePath: ValueCallback&lt;Array&lt;Uri&gt;&gt;?,\r\n            fileChooserParams: FileChooserParams?\r\n        ): Boolean {\r\n            verifyPermissions()\r\n            imagePathCallback?.onReceiveValue(null)\r\n    \r\n            imagePathCallback = null\r\n    \r\n            imagePathCallback = filePath\r\n    \r\n            val takePictureIntent = createImageCaptureIntent()\r\n    \r\n            val contentSelectionIntent = Intent(Intent.ACTION_GET_CONTENT)\r\n            contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE)\r\n            contentSelectionIntent.type = INTENT_FILE_TYPE\r\n            \r\n    \r\n            val intentArray: Array&lt;Intent?&gt; =\r\n                takePictureIntent?.let { arrayOf(it) } ?: arrayOfNulls(0)\r\n    \r\n            val chooserIntent = Intent(Intent.ACTION_CHOOSER)\r\n            chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent)\r\n            chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;File choose&quot;)\r\n            chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray)\r\n    \r\n            try {\r\n                startActivityForResult(chooserIntent, REQUEST_SELECT_FILE)\r\n    \r\n            } catch (e: ActivityNotFoundException) {\r\n                imagePathCallback = null\r\n                cameraImagePath = null\r\n    \r\n                Toast.makeText(\r\n                    this@MainActivity,\r\n                    &quot;Cannot open file chooser text&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show()\r\n    \r\n                return false\r\n            }\r\n    \r\n            return true\r\n        }\r\n    \r\n        private fun createImageCaptureIntent(): Intent? {\r\n            var captureImageIntent: Intent? = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\r\n    \r\n            if (captureImageIntent?.resolveActivity(packageManager) != null) {\r\n                var imageFile: File? = null\r\n    \r\n                try {\r\n                    imageFile = createImageFile()\r\n                    captureImageIntent.putExtra(&quot;CameraImagePath&quot;, cameraImagePath)\r\n    \r\n                } catch (ex: IOException) {\r\n                    ex.printStackTrace()\r\n                }\r\n    \r\n                if (imageFile != null) {\r\n    \r\n                    cameraImagePath = CAMERA_PHOTO_PATH_POSTFIX + imageFile.absolutePath\r\n                    Log.d(\r\n                        &quot;Success&quot;,\r\n                        &quot;ImageFile are the  $imageFile  and ${Uri.fromFile(imageFile)}&quot;\r\n                    )\r\n    \r\n                } else {\r\n                    captureImageIntent = null\r\n                }\r\n            }\r\n            return captureImageIntent\r\n        }\r\n    \r\n        private fun createImageFile(): File? {\r\n            val timeStamp = SimpleDateFormat.getDateInstance().format(Date())\r\n            val imageFileName = PHOTO_NAME_POSTFIX + timeStamp + &quot;_&quot;\r\n            val storageDir =\r\n                getExternalFilesDir(Environment.DIRECTORY_PICTURES)\r\n            val imageFile = File.createTempFile(imageFileName, PHOTO_EXTENSION, storageDir)\r\n    \r\n            return imageFile\r\n        }\r\n    }\r\n\r\n\r\nHere is my onActivityResult file:\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n    \r\n        if (requestCode != REQUEST_SELECT_FILE || imagePathCallback == null) return\r\n    \r\n        var results: Array&lt;Uri&gt;? = null\r\n        if (resultCode == RESULT_OK) {\r\n    \r\n            if (data == null || data.dataString == null) {\r\n    \r\n                if (cameraImagePath != null) results = arrayOf(Uri.parse(cameraImagePath))\r\n            } else {\r\n    \r\n                val dataString = data.dataString\r\n    \r\n                if (dataString != null) results = arrayOf(Uri.parse(dataString as String?))\r\n            }\r\n        } else if (resultCode == RESULT_CANCELED) {\r\n            Log.d(&quot;Success&quot;, &quot;Request Cancelled&quot;)\r\n        }\r\n    \r\n        imagePathCallback?.onReceiveValue(results)\r\n        imagePathCallback = null\r\n    }\r\n\r\n\r\n**Here is my permissions on Manifest file:**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\r\n    \r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n","title":"Camera is open and captured but not uploaded in webview [Android ]","body":"<p>I am trying to create a webView for my web application which has upload features using camera. I have build an option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field. Please Help..</p>\n<p>Here is my webView file :</p>\n<pre><code> webView.apply {\n            webViewClient = customWebViewClient\n            webChromeClient = customWebChromeClient\n\n            loadUrl(&quot;https://xxxxxxxxxx&quot;)\n\n            settings.apply {\n                javaScriptEnabled = true\n                pluginState = WebSettings.PluginState.OFF\n                blockNetworkLoads = false\n                loadsImagesAutomatically = true\n                loadWithOverviewMode = true\n                useWideViewPort = false\n                allowFileAccess = true\n                allowContentAccess = true\n                javaScriptCanOpenWindowsAutomatically = true\n                domStorageEnabled = true\n                mediaPlaybackRequiresUserGesture = false\n                userAgentString =\n                    &quot;Android Mozilla/5.0 AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30&quot;\n</code></pre>\n<p>Here is my webChromeClient file:</p>\n<pre><code>private val customWebChromeClient = object : WebChromeClient() {\n    override fun onPermissionRequest(request: PermissionRequest) {\n        val PERMISSIONS = arrayOf(\n            PermissionRequest.RESOURCE_AUDIO_CAPTURE,\n            PermissionRequest.RESOURCE_VIDEO_CAPTURE,\n            PermissionRequest.RESOURCE_PROTECTED_MEDIA_ID,\n        )\n        runOnUiThread {\n            request.grant(PERMISSIONS)\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    override fun onShowFileChooser(\n        view: WebView?,\n        filePath: ValueCallback&lt;Array&lt;Uri&gt;&gt;?,\n        fileChooserParams: FileChooserParams?\n    ): Boolean {\n        verifyPermissions()\n        imagePathCallback?.onReceiveValue(null)\n\n        imagePathCallback = null\n\n        imagePathCallback = filePath\n\n        val takePictureIntent = createImageCaptureIntent()\n\n        val contentSelectionIntent = Intent(Intent.ACTION_GET_CONTENT)\n        contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE)\n        contentSelectionIntent.type = INTENT_FILE_TYPE\n        \n\n        val intentArray: Array&lt;Intent?&gt; =\n            takePictureIntent?.let { arrayOf(it) } ?: arrayOfNulls(0)\n\n        val chooserIntent = Intent(Intent.ACTION_CHOOSER)\n        chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent)\n        chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;File choose&quot;)\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray)\n\n        try {\n            startActivityForResult(chooserIntent, REQUEST_SELECT_FILE)\n\n        } catch (e: ActivityNotFoundException) {\n            imagePathCallback = null\n            cameraImagePath = null\n\n            Toast.makeText(\n                this@MainActivity,\n                &quot;Cannot open file chooser text&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n\n            return false\n        }\n\n        return true\n    }\n\n    private fun createImageCaptureIntent(): Intent? {\n        var captureImageIntent: Intent? = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n\n        if (captureImageIntent?.resolveActivity(packageManager) != null) {\n            var imageFile: File? = null\n\n            try {\n                imageFile = createImageFile()\n                captureImageIntent.putExtra(&quot;CameraImagePath&quot;, cameraImagePath)\n\n            } catch (ex: IOException) {\n                ex.printStackTrace()\n            }\n\n            if (imageFile != null) {\n\n                cameraImagePath = CAMERA_PHOTO_PATH_POSTFIX + imageFile.absolutePath\n                Log.d(\n                    &quot;Success&quot;,\n                    &quot;ImageFile are the  $imageFile  and ${Uri.fromFile(imageFile)}&quot;\n                )\n\n            } else {\n                captureImageIntent = null\n            }\n        }\n        return captureImageIntent\n    }\n\n    private fun createImageFile(): File? {\n        val timeStamp = SimpleDateFormat.getDateInstance().format(Date())\n        val imageFileName = PHOTO_NAME_POSTFIX + timeStamp + &quot;_&quot;\n        val storageDir =\n            getExternalFilesDir(Environment.DIRECTORY_PICTURES)\n        val imageFile = File.createTempFile(imageFileName, PHOTO_EXTENSION, storageDir)\n\n        return imageFile\n    }\n}\n</code></pre>\n<p>Here is my onActivityResult file:</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode != REQUEST_SELECT_FILE || imagePathCallback == null) return\n\n    var results: Array&lt;Uri&gt;? = null\n    if (resultCode == RESULT_OK) {\n\n        if (data == null || data.dataString == null) {\n\n            if (cameraImagePath != null) results = arrayOf(Uri.parse(cameraImagePath))\n        } else {\n\n            val dataString = data.dataString\n\n            if (dataString != null) results = arrayOf(Uri.parse(dataString as String?))\n        }\n    } else if (resultCode == RESULT_CANCELED) {\n        Log.d(&quot;Success&quot;, &quot;Request Cancelled&quot;)\n    }\n\n    imagePathCallback?.onReceiveValue(results)\n    imagePathCallback = null\n}\n</code></pre>\n<p><strong>Here is my permissions on Manifest file:</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA2&quot; /&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n</code></pre>\n"},{"tags":["java","class","java.util.scanner"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1427580245,"post_id":29323116,"comment_id":46837167,"body_markdown":"This would seem to be somewhat fragile as another `class` could `close()` the `Scanner` and break everything - no? Maybe you should read the file into memory? Or is it very large?","body":"This would seem to be somewhat fragile as another <code>class</code> could <code>close()</code> the <code>Scanner</code> and break everything - no? Maybe you should read the file into memory? Or is it very large?"},{"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"score":0,"creation_date":1427580267,"post_id":29323116,"comment_id":46837176,"body_markdown":"one option would be to declare reader as a static field in your main class","body":"one option would be to declare reader as a static field in your main class"},{"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"score":0,"creation_date":1427580396,"post_id":29323116,"comment_id":46837203,"body_markdown":"another option would be to inject reader into other objects created from main class (assuming that main class is responsible for all the wirings)","body":"another option would be to inject reader into other objects created from main class (assuming that main class is responsible for all the wirings)"},{"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"score":0,"creation_date":1427580602,"post_id":29323116,"comment_id":46837260,"body_markdown":"@SergeyPauk How would I go about doing this, as I have indeed used objects to call other methods in the other classes","body":"@SergeyPauk How would I go about doing this, as I have indeed used objects to call other methods in the other classes"}],"answers":[{"tags":[],"owner":{"account_id":2248697,"reputation":740,"user_id":1981450,"display_name":"ar4ers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1427583498,"creation_date":1427580320,"answer_id":29323161,"question_id":29323116,"body_markdown":"Simply use `public static final Scanner in = new Scanner(System.in);` in you `main` class.\r\nAfter that you can call it from anywhere by `MainClassName.in`.\r\n\r\nAlso, be careful with arguments you pass to Scanner. I guess you wanted to put `InputFile` into `Scanner`, rather than `filename` =)\r\n\r\n    File InputFile = new File (filename);\r\n    Scanner reader = new Scanner(filename);","title":"How to use the same Scanner across multiple classes in Java","body":"<p>Simply use <code>public static final Scanner in = new Scanner(System.in);</code> in you <code>main</code> class.\nAfter that you can call it from anywhere by <code>MainClassName.in</code>.</p>\n\n<p>Also, be careful with arguments you pass to Scanner. I guess you wanted to put <code>InputFile</code> into <code>Scanner</code>, rather than <code>filename</code> =)</p>\n\n<pre><code>File InputFile = new File (filename);\nScanner reader = new Scanner(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2859980,"reputation":182,"user_id":2455432,"display_name":"Remo Liechti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427580667,"creation_date":1427580667,"answer_id":29323215,"question_id":29323116,"body_markdown":"There are so called [design patterns][1] that help you to deal with such daily issues. They show up best practises. \r\n\r\nYou are looking for something like a [Singleton][2], an instance of a class that is unique to your software echosystem.\r\n\r\nFor your example, you can do something like this:\r\n\r\n    public class MyScanner{\r\n       private static MyScanner instance = new MyScanner();\r\n       private MyScanner(){\r\n           // init the scanner\r\n       }\r\n    \r\n       //Get the only object available\r\n       public static MyScanner getInstance(){\r\n          return instance;\r\n       }\r\n    \r\n       public void read(File f){\r\n          // read your file\r\n       }\r\n    }\r\n\r\n  [1]: http://www.tutorialspoint.com/design_pattern/\r\n  [2]: http://www.tutorialspoint.com/design_pattern/singleton_pattern.htm","title":"How to use the same Scanner across multiple classes in Java","body":"<p>There are so called <a href=\"http://www.tutorialspoint.com/design_pattern/\" rel=\"nofollow\">design patterns</a> that help you to deal with such daily issues. They show up best practises. </p>\n\n<p>You are looking for something like a <a href=\"http://www.tutorialspoint.com/design_pattern/singleton_pattern.htm\" rel=\"nofollow\">Singleton</a>, an instance of a class that is unique to your software echosystem.</p>\n\n<p>For your example, you can do something like this:</p>\n\n<pre><code>public class MyScanner{\n   private static MyScanner instance = new MyScanner();\n   private MyScanner(){\n       // init the scanner\n   }\n\n   //Get the only object available\n   public static MyScanner getInstance(){\n      return instance;\n   }\n\n   public void read(File f){\n      // read your file\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427612166,"creation_date":1427581649,"answer_id":29323338,"question_id":29323116,"body_markdown":"Answering your question about dependency injection: here&#39;s a rough idea of [dependency injection][1] (via constructor):\r\n\r\n\tpublic void wire() {\r\n\t\t...\r\n\t\tScanner reader = new Scanner(filename);\r\n\t\tClassA objectA = new ClassA(reader);\r\n\t\tClassB objectB = new ClassB(reader);\r\n        ...\r\n\t}\r\n\r\nclass A (class B would have a similar constructor):\r\n\r\n    public class ClassA {\r\n    \r\n    \tprivate Scanner reader;\r\n    \t\r\n    \tpublic ClassA(Scanner reader) {\r\n    \t\tthis.reader = reader;\r\n    \t}\r\n        ...\r\n    }\r\n\r\nSo the idea is that you create and wire up your objects in wire() method.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dependency_injection","title":"How to use the same Scanner across multiple classes in Java","body":"<p>Answering your question about dependency injection: here's a rough idea of <a href=\"http://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow\">dependency injection</a> (via constructor):</p>\n\n<pre><code>public void wire() {\n    ...\n    Scanner reader = new Scanner(filename);\n    ClassA objectA = new ClassA(reader);\n    ClassB objectB = new ClassB(reader);\n    ...\n}\n</code></pre>\n\n<p>class A (class B would have a similar constructor):</p>\n\n<pre><code>public class ClassA {\n\n    private Scanner reader;\n\n    public ClassA(Scanner reader) {\n        this.reader = reader;\n    }\n    ...\n}\n</code></pre>\n\n<p>So the idea is that you create and wire up your objects in wire() method.</p>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678286975,"creation_date":1678286975,"answer_id":75674577,"question_id":29323116,"body_markdown":"An alternative to using the great [Singleton][1] solution like in [Remo Liechtis answer][2] would be to use:  \r\na **private static field** in a new or existing *&quot;utility class&quot;* e.g. &quot;IO&quot;.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class IO {\r\n        private static final Scanner s_scanner = new Scanner(System.in);\r\n\r\n        public static Scanner getScanner() {\r\n            return s_scanner;\r\n        }\r\n\r\n        public static void closeScanner() {\r\n            s_scanner.close();\r\n        }\r\n    }\r\n\r\nAnd then use the Scanner object by calling `IO.getScanner()`.  \r\nE.g.:  \r\n\r\n    IO.getScanner().nextLine()  \r\n\r\nor (for readability assign) the IO Scanner to a **private static field**.  \r\nE.g.:  \r\n\r\n    private static final Scanner s_scanner = IO.getScanner(); // Get Scanner from IO Class  \r\n    s_scanner.nextLine()  \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-singleton\r\n  [2]: https://stackoverflow.com/a/29323215/10749567","title":"How to use the same Scanner across multiple classes in Java","body":"<p>An alternative to using the great <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">Singleton</a> solution like in <a href=\"https://stackoverflow.com/a/29323215/10749567\">Remo Liechtis answer</a> would be to use:<br />\na <strong>private static field</strong> in a new or existing <em>&quot;utility class&quot;</em> e.g. &quot;IO&quot;.</p>\n<pre><code>import java.util.Scanner;\n\npublic class IO {\n    private static final Scanner s_scanner = new Scanner(System.in);\n\n    public static Scanner getScanner() {\n        return s_scanner;\n    }\n\n    public static void closeScanner() {\n        s_scanner.close();\n    }\n}\n</code></pre>\n<p>And then use the Scanner object by calling <code>IO.getScanner()</code>.<br />\nE.g.:</p>\n<pre><code>IO.getScanner().nextLine()  \n</code></pre>\n<p>or (for readability assign) the IO Scanner to a <strong>private static field</strong>.<br />\nE.g.:</p>\n<pre><code>private static final Scanner s_scanner = IO.getScanner(); // Get Scanner from IO Class  \ns_scanner.nextLine()  \n</code></pre>\n"}],"owner":{"account_id":5264699,"reputation":220,"user_id":4205078,"accept_rate":91,"display_name":"Samolivercz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15353,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29323161,"answer_count":4,"score":11,"last_activity_date":1678286975,"creation_date":1427580008,"question_id":29323116,"body_markdown":"I have a program that uses multiple classes, I want the other classes to be able to access the same scanner that I have declared in the main class.  \r\n\r\nI assume it would be done using some sort of get method, however I am unable to find any resources to help me. \r\n\r\nHere are the Scanners that I have made in my main class:\r\n \r\n\r\n    Scanner in = new Scanner(System.in);\r\n    \r\n    System.out.println(&quot;Enter a filename&quot;);\r\n    String filename = in.nextLine();\r\n    File InputFile = new File (filename);\r\n\r\n    Scanner reader = new Scanner(filename);\r\n\r\nThe reader Scanner is the one I want to be able to access across the other classes in my program.  \r\n\r\nCan anyone give me some guidance on how to do this?","title":"How to use the same Scanner across multiple classes in Java","body":"<p>I have a program that uses multiple classes, I want the other classes to be able to access the same scanner that I have declared in the main class.</p>\n<p>I assume it would be done using some sort of get method, however I am unable to find any resources to help me.</p>\n<p>Here are the Scanners that I have made in my main class:</p>\n<pre><code>Scanner in = new Scanner(System.in);\n\nSystem.out.println(&quot;Enter a filename&quot;);\nString filename = in.nextLine();\nFile InputFile = new File (filename);\n\nScanner reader = new Scanner(filename);\n</code></pre>\n<p>The reader Scanner is the one I want to be able to access across the other classes in my program.</p>\n<p>Can anyone give me some guidance on how to do this?</p>\n"},{"tags":["java","wiremock-standalone"],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678286321,"creation_date":1678286068,"question_id":75674418,"body_markdown":"My Java application creates a wiremock to a mapping directory.\r\n\r\n    final var  baseDir = System.getProperty(&quot;user.dir&quot;);\r\n    final var mappingsDir = baseDir + &quot;/src/test/resources/wm-mappings/app1&quot;;\r\n\r\nUnder app1 I have another folder called mappings.\r\n\r\n    wireMockServer = new WireMockServer(WireMockConfiguration\r\n        .options()\r\n        .port(56008)\r\n        .usingFilesUnderDirectory(mappingsDir));\r\n\r\nThis works fine, but I want to include another directory. How can I do that?","title":"wiremock adding multiple mapping directories","body":"<p>My Java application creates a wiremock to a mapping directory.</p>\n<pre><code>final var  baseDir = System.getProperty(&quot;user.dir&quot;);\nfinal var mappingsDir = baseDir + &quot;/src/test/resources/wm-mappings/app1&quot;;\n</code></pre>\n<p>Under app1 I have another folder called mappings.</p>\n<pre><code>wireMockServer = new WireMockServer(WireMockConfiguration\n    .options()\n    .port(56008)\n    .usingFilesUnderDirectory(mappingsDir));\n</code></pre>\n<p>This works fine, but I want to include another directory. How can I do that?</p>\n"},{"tags":["java","json","google-api"],"answers":[{"tags":[],"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447934264,"creation_date":1447023514,"answer_id":33600047,"question_id":33571883,"body_markdown":"[@pongrad][1] has investigated this issue and produced code which illustrates that the API works correctly in isolation.\r\n\r\nI recant this question as it is too isolated (suspect Maven transient dependency issue in the context of my other project dependencies).\r\n\r\n\r\n  [1]: https://github.com/google/google-api-java-client/issues/979#issuecomment-157899802","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p><a href=\"https://github.com/google/google-api-java-client/issues/979#issuecomment-157899802\" rel=\"nofollow\">@pongrad</a> has investigated this issue and produced code which illustrates that the API works correctly in isolation.</p>\n\n<p>I recant this question as it is too isolated (suspect Maven transient dependency issue in the context of my other project dependencies).</p>\n"},{"tags":[],"owner":{"account_id":16208510,"reputation":21,"user_id":11703141,"display_name":"Mercy Jemosop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678285820,"creation_date":1678285820,"answer_id":75674370,"question_id":33571883,"body_markdown":"For every change, restart IDE. This was the mistake I was making, not restarting the IDE after attempting the different solutions. My filename.json file is in the resource folder.\r\n\r\n````\r\nGoogleCredentials googleCredentials = GoogleCredentials\r\n.fromStream(new ClassPathResource(&quot;your file.json&quot;)\r\n.getInputStream());\r\n````\r\n\r\n","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p>For every change, restart IDE. This was the mistake I was making, not restarting the IDE after attempting the different solutions. My filename.json file is in the resource folder.</p>\n<pre><code>GoogleCredentials googleCredentials = GoogleCredentials\n.fromStream(new ClassPathResource(&quot;your file.json&quot;)\n.getInputStream());\n</code></pre>\n"}],"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678285820,"creation_date":1446829276,"question_id":33571883,"body_markdown":"Using Google Developer Console I have downloaded a `JSON` file of my public/private Credentials for my Service Account:\r\n\r\n    {\r\n      &quot;private_key_id&quot;: &quot;myPrivateKey&quot;,\r\n      &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\\myPrivateKeyString\\n-----END PRIVATE KEY-----\\n&quot;,\r\n      &quot;client_email&quot;: &quot;myClientEmail@developer.gserviceaccount.com&quot;,\r\n      &quot;client_id&quot;: &quot;myClientEmailId.apps.googleusercontent.com&quot;,\r\n      &quot;type&quot;: &quot;service_account&quot;\r\n    }\r\n\r\nThey are stored on the classpath in a file called `serviceAccountCredentials.json`\r\n\r\nWhen I try to execute the following code to return a `GoogleCredential` instance:\r\n\r\n         InputStream credentialsJSON = MyClass.class.getClassLoader().getResourceAsStream(&quot;serviceAccountCredentials.json&quot;);\r\n\t\tJsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n\t\tHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\treturn GoogleCredential.fromStream(credentialsJSON ,httpTransport,JSON_FACTORY);\r\n\r\n\r\nIt blows up with the following stack trace:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: no JSON input found\r\n    \tat com.google.api.client.repackaged.com.google.common.base.Preconditions.checkArgument(Preconditions.java:92)\r\n    \tat com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:49)\r\n    \tat com.google.api.client.json.JsonParser.startParsing(JsonParser.java:222)\r\n    \tat com.google.api.client.json.JsonParser.parse(JsonParser.java:379)\r\n    \tat com.google.api.client.json.JsonParser.parse(JsonParser.java:354)\r\n    \tat com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:87)\r\n    \tat com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:81)\r\n    \tat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.fromStream(GoogleCredential.java:250)\r\n\r\nI am able to print the contents of the file to the console using the following code:\r\n\r\n`System.out.println(IOUtils.toString(credentialsJSON));`\r\n\r\n**Therefore I know that the `JSON` file is accessible and contains content.**\r\n\r\nOne therefore assumes that this API is fundamentally broken?\r\n\r\nI favour a solution using JSON. I do not want to use a a `P12` file because:\r\n\r\n 1. I wish to supply my credentials from the classpath. `GoogleCredential.Builder` [does not provide a method which consumes an `InputStream`][1] (only `File`) so P12 is not an acceptable option:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n 2. Google implies in their UI for creating the credentials that `P12` is the legacy manner of authentication and that JSON should be used in the first instance:\r\n\r\n[![Image showing JSON is recommended][3]][3]\r\n\r\n\r\n  [1]: https://github.com/google/google-api-java-client/issues/857\r\n  [2]: http://i.stack.imgur.com/5JQYM.png\r\n  [3]: http://i.stack.imgur.com/wzZ7k.png","title":"GoogleCredential.fromStream(JSON_FILE_AS_INPUTSTREAM) does not work","body":"<p>Using Google Developer Console I have downloaded a <code>JSON</code> file of my public/private Credentials for my Service Account:</p>\n\n<pre><code>{\n  \"private_key_id\": \"myPrivateKey\",\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----\\myPrivateKeyString\\n-----END PRIVATE KEY-----\\n\",\n  \"client_email\": \"myClientEmail@developer.gserviceaccount.com\",\n  \"client_id\": \"myClientEmailId.apps.googleusercontent.com\",\n  \"type\": \"service_account\"\n}\n</code></pre>\n\n<p>They are stored on the classpath in a file called <code>serviceAccountCredentials.json</code></p>\n\n<p>When I try to execute the following code to return a <code>GoogleCredential</code> instance:</p>\n\n<pre><code>     InputStream credentialsJSON = MyClass.class.getClassLoader().getResourceAsStream(\"serviceAccountCredentials.json\");\n    JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    return GoogleCredential.fromStream(credentialsJSON ,httpTransport,JSON_FACTORY);\n</code></pre>\n\n<p>It blows up with the following stack trace:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: no JSON input found\n    at com.google.api.client.repackaged.com.google.common.base.Preconditions.checkArgument(Preconditions.java:92)\n    at com.google.api.client.util.Preconditions.checkArgument(Preconditions.java:49)\n    at com.google.api.client.json.JsonParser.startParsing(JsonParser.java:222)\n    at com.google.api.client.json.JsonParser.parse(JsonParser.java:379)\n    at com.google.api.client.json.JsonParser.parse(JsonParser.java:354)\n    at com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:87)\n    at com.google.api.client.json.JsonObjectParser.parseAndClose(JsonObjectParser.java:81)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.fromStream(GoogleCredential.java:250)\n</code></pre>\n\n<p>I am able to print the contents of the file to the console using the following code:</p>\n\n<p><code>System.out.println(IOUtils.toString(credentialsJSON));</code></p>\n\n<p><strong>Therefore I know that the <code>JSON</code> file is accessible and contains content.</strong></p>\n\n<p>One therefore assumes that this API is fundamentally broken?</p>\n\n<p>I favour a solution using JSON. I do not want to use a a <code>P12</code> file because:</p>\n\n<ol>\n<li>I wish to supply my credentials from the classpath. <code>GoogleCredential.Builder</code> <a href=\"https://github.com/google/google-api-java-client/issues/857\" rel=\"nofollow noreferrer\">does not provide a method which consumes an <code>InputStream</code></a> (only <code>File</code>) so P12 is not an acceptable option:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/5JQYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5JQYM.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>Google implies in their UI for creating the credentials that <code>P12</code> is the legacy manner of authentication and that JSON should be used in the first instance:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/wzZ7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wzZ7k.png\" alt=\"Image showing JSON is recommended\"></a></p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678279162,"post_id":75672971,"comment_id":133501030,"body_markdown":"Did you read the error message? `Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty);`","body":"Did you read the error message? <code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty);</code>"}],"answers":[{"tags":[],"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678285578,"creation_date":1678279788,"answer_id":75673253,"question_id":75672971,"body_markdown":"As @tgdavies mentioned in his comment, the CAR table does not exist in your database. This is most likely because by default Hibernate won&#39;t create it. You a have to set it up in your `application.yml`. To be more specific you need these 2 properties set up correctly:\r\n\r\n```\r\nspring.jpa.generate-ddl: true\r\nspring.jpa.hibernate.ddl-auto: create\r\n``` \r\n\r\nThe Hibernate property can have other values depending on your environment / use case. You can read about this more here: https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html ","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>As @tgdavies mentioned in his comment, the CAR table does not exist in your database. This is most likely because by default Hibernate won't create it. You a have to set it up in your <code>application.yml</code>. To be more specific you need these 2 properties set up correctly:</p>\n<pre><code>spring.jpa.generate-ddl: true\nspring.jpa.hibernate.ddl-auto: create\n</code></pre>\n<p>The Hibernate property can have other values depending on your environment / use case. You can read about this more here: <a href=\"https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.1.0.M1/reference/html/howto-database-initialization.html</a></p>\n"},{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678280135,"creation_date":1678279819,"answer_id":75673262,"question_id":75672971,"body_markdown":"Add @Table annotation into Car class and check it...!! Which will create table name with car. If we want to use different name from entity then we need to use @Table(name=&quot;[Table name we want]&quot;)","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>Add @Table annotation into Car class and check it...!! Which will create table name with car. If we want to use different name from entity then we need to use @Table(name=&quot;[Table name we want]&quot;)</p>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678285578,"creation_date":1678278114,"question_id":75672971,"body_markdown":"New to Spring, I&#39;m building a toy car dealership. This is my Entity class for cars:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Car {\r\n  @Id @GeneratedValue private Long id;\r\n  private String vin;\r\n  private String make;\r\n  private String model;\r\n  private Integer year;\r\n  private Long cost;\r\n\r\n  public Car() {}\r\n\r\n  public Car(String vin, String make, String model, Integer year, Long cost) {\r\n    this.vin = vin;\r\n    this.make = make;\r\n    this.model = model;\r\n    this.year = year;\r\n    this.cost = cost;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Car car = (Car) o;\r\n    return Objects.equals(id, car.id)\r\n        &amp;&amp; Objects.equals(vin, car.vin)\r\n        &amp;&amp; Objects.equals(make, car.make)\r\n        &amp;&amp; Objects.equals(model, car.model)\r\n        &amp;&amp; Objects.equals(year, car.year)\r\n        &amp;&amp; Objects.equals(cost, car.cost);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(id, vin, make, model, year, cost);\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\nMy repository class extends `CrudRepository`:\r\n\r\n```java\r\npublic interface CarRepository extends CrudRepository&lt;Car, Long&gt; {\r\n.\r\n.\r\n.\r\n```\r\n\r\nMy service interface:\r\n\r\n```java\r\npublic interface DealershipService {\r\n\r\n  Long getRevenue();\r\n\r\n  void sell(Car car);\r\n\r\n  void buy(Car car);\r\n.\r\n.\r\n.\r\n```\r\n\r\nAnd its implementation of `buy(Car car)`:\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  @Value(&quot;${revenue}&quot;)\r\n  private Long revenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(CarRepository carRepository) {\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n  @Override\r\n  public void buy(Car car) {\r\n    if (revenue &gt;= car.getCost()) {\r\n      carRepository.save(car);\r\n      revenue -= car.getCost();\r\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\r\n    } else {\r\n      log.warn(&quot;Unable to buy car {}; we&#39;re broke!&quot;, car);\r\n      throw new InsufficientRevenueException();\r\n    }\r\n  }\r\n\r\n.\r\n.\r\n.\r\n```\r\n\r\nI have the following test:\r\n\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class DealershipServiceIT {\r\n\r\n    @Autowired\r\n    private  DealershipService dealershipService;\r\n\r\n    @Test\r\n    public void whenMakingTransactions_revenueIsAffected(){\r\n        Car car = new Car(&quot;1234&quot;, &quot;Nissan&quot;, &quot;Sentra&quot;, 2012, 12_000L);\r\n        dealershipService.buy(car);\r\n        assertThat(dealershipService.getRevenue(), is(990_000L));\r\n    }\r\n}\r\n```\r\n\r\nWhen the code hits the line of `DealershipServiceImpl` where I call `save()` on the Car instance, I get the following exception:\r\n\r\n```\r\n2023-03-08T07:09:27.757-05:00  WARN 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42104, SQLState: 42S04\r\n2023-03-08T07:09:27.758-05:00 ERROR 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table &quot;CAR&quot; not found (this database is empty); SQL statement:\r\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\r\n2023-03-08T07:09:27.868-05:00  INFO 22592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-08T07:09:27.870-05:00  INFO 22592 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down&#39;\r\n2023-03-08T07:09:27.881-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-03-08T07:09:27.887-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?)]\r\n\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:656)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:409)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy104.save(Unknown Source)\r\n\tat com.jason.cardealership.service.impl.DealershipServiceImpl.buy(DealershipServiceImpl.java:43)\r\n\tat com.jason.cardealership.service.DealershipServiceIT.whenMakingTransactions_revenueIsAffected(DealershipServiceIT.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:142)\r\n\tat org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:131)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3419)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4073)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)\r\n\t... 86 more\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty); SQL statement:\r\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\r\n\tat org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:8358)\r\n\tat org.h2.command.Parser.readTableOrView(Parser.java:8328)\r\n\tat org.h2.command.Parser.parseInsert(Parser.java:1632)\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:814)\r\n\tat org.h2.command.Parser.parse(Parser.java:689)\r\n\tat org.h2.command.Parser.parse(Parser.java:661)\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:569)\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288)\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:327)\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n\t... 108 more\r\n\r\n```\r\n\r\nConsidering that I&#39;ve tagged my `Car` as an `@Entity`, I&#39;m not sure why I&#39;m getting that exception about the database being empty. Any help appreciated. If it matters, here are my spring-data-jpa and h2 dependencies in the pom.xml:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\t\t\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JdbcSQLSyntaxErrorException when calling save() for an Entity","body":"<p>New to Spring, I'm building a toy car dealership. This is my Entity class for cars:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString\npublic class Car {\n  @Id @GeneratedValue private Long id;\n  private String vin;\n  private String make;\n  private String model;\n  private Integer year;\n  private Long cost;\n\n  public Car() {}\n\n  public Car(String vin, String make, String model, Integer year, Long cost) {\n    this.vin = vin;\n    this.make = make;\n    this.model = model;\n    this.year = year;\n    this.cost = cost;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Car car = (Car) o;\n    return Objects.equals(id, car.id)\n        &amp;&amp; Objects.equals(vin, car.vin)\n        &amp;&amp; Objects.equals(make, car.make)\n        &amp;&amp; Objects.equals(model, car.model)\n        &amp;&amp; Objects.equals(year, car.year)\n        &amp;&amp; Objects.equals(cost, car.cost);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(id, vin, make, model, year, cost);\n  }\n\n\n}\n</code></pre>\n<p>My repository class extends <code>CrudRepository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CarRepository extends CrudRepository&lt;Car, Long&gt; {\n.\n.\n.\n</code></pre>\n<p>My service interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DealershipService {\n\n  Long getRevenue();\n\n  void sell(Car car);\n\n  void buy(Car car);\n.\n.\n.\n</code></pre>\n<p>And its implementation of <code>buy(Car car)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  @Value(&quot;${revenue}&quot;)\n  private Long revenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(CarRepository carRepository) {\n    this.carRepository = carRepository;\n  }\n\n  @Override\n  public void buy(Car car) {\n    if (revenue &gt;= car.getCost()) {\n      carRepository.save(car);\n      revenue -= car.getCost();\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\n    } else {\n      log.warn(&quot;Unable to buy car {}; we're broke!&quot;, car);\n      throw new InsufficientRevenueException();\n    }\n  }\n\n.\n.\n.\n</code></pre>\n<p>I have the following test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\npublic class DealershipServiceIT {\n\n    @Autowired\n    private  DealershipService dealershipService;\n\n    @Test\n    public void whenMakingTransactions_revenueIsAffected(){\n        Car car = new Car(&quot;1234&quot;, &quot;Nissan&quot;, &quot;Sentra&quot;, 2012, 12_000L);\n        dealershipService.buy(car);\n        assertThat(dealershipService.getRevenue(), is(990_000L));\n    }\n}\n</code></pre>\n<p>When the code hits the line of <code>DealershipServiceImpl</code> where I call <code>save()</code> on the Car instance, I get the following exception:</p>\n<pre><code>2023-03-08T07:09:27.757-05:00  WARN 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42104, SQLState: 42S04\n2023-03-08T07:09:27.758-05:00 ERROR 22592 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table &quot;CAR&quot; not found (this database is empty); SQL statement:\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\n2023-03-08T07:09:27.868-05:00  INFO 22592 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-03-08T07:09:27.870-05:00  INFO 22592 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'\n2023-03-08T07:09:27.881-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-03-08T07:09:27.887-05:00  INFO 22592 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [insert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?)]\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:257)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:656)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:409)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy104.save(Unknown Source)\n    at com.jason.cardealership.service.impl.DealershipServiceImpl.buy(DealershipServiceImpl.java:43)\n    at com.jason.cardealership.service.DealershipServiceIT.whenMakingTransactions_revenueIsAffected(DealershipServiceIT.java:27)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:64)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:81)\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.buildBatchStatement(AbstractBatchImpl.java:142)\n    at org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl.getBatchStatement(AbstractBatchImpl.java:131)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3419)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:4073)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:103)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)\n    ... 86 more\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CAR&quot; not found (this database is empty); SQL statement:\ninsert into car (cost, make, model, vin, year, id) values (?, ?, ?, ?, ?, ?) [42104-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385)\n    at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369)\n    at org.h2.command.Parser.readTableOrView(Parser.java:8358)\n    at org.h2.command.Parser.readTableOrView(Parser.java:8328)\n    at org.h2.command.Parser.parseInsert(Parser.java:1632)\n    at org.h2.command.Parser.parsePrepared(Parser.java:814)\n    at org.h2.command.Parser.parse(Parser.java:689)\n    at org.h2.command.Parser.parse(Parser.java:661)\n    at org.h2.command.Parser.prepareCommand(Parser.java:569)\n    at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631)\n    at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554)\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116)\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92)\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288)\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:327)\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n    ... 108 more\n\n</code></pre>\n<p>Considering that I've tagged my <code>Car</code> as an <code>@Entity</code>, I'm not sure why I'm getting that exception about the database being empty. Any help appreciated. If it matters, here are my spring-data-jpa and h2 dependencies in the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678317578,"post_id":75674176,"comment_id":133511458,"body_markdown":"Off-topic: Do you actually have a class or interface`string`, or did you intend to use `String`? Remember, Java is case sensitive.","body":"Off-topic: Do you actually have a class or interface<code>string</code>, or did you intend to use <code>String</code>? Remember, Java is case sensitive."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678318360,"post_id":75674176,"comment_id":133511562,"body_markdown":"Questions of this type should include, as text, a copy of the actual error message, and where it occurs /  what it points to. However, in this case, the example indicates a misunderstanding of basic inheritance. An instance of `C` already contains a `name` reference, and has `void setName (string)` and `string getName ()` methods. So, an instance of `C` has two variables called `name`.  One is a `string` (sic), the other is a `C`.","body":"Questions of this type should include, as text, a copy of the actual error message, and where it occurs /  what it points to. However, in this case, the example indicates a misunderstanding of basic inheritance. An instance of <code>C</code> already contains a <code>name</code> reference, and has <code>void setName (string)</code> and <code>string getName ()</code> methods. So, an instance of <code>C</code> has two variables called <code>name</code>.  One is a <code>string</code> (sic), the other is a <code>C</code>."}],"owner":{"account_id":27965807,"reputation":11,"user_id":21356690,"display_name":"Andr&#233; Gon&#231;alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678284799,"creation_date":1678284799,"question_id":75674176,"body_markdown":"I have an error when i try to integrate two webmethods:\r\nException Description: Name collision.  Two classes have the XML type with uri http://xxx and name yyy.\r\n\r\nThe input of first webmethod is of type A. The input of second webmethod is of type B. \r\n\r\n```\r\nclass C {\r\n string name;\r\n\r\n public string getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(string name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass A extends C {\r\n C name;\r\n\r\n public C getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(C name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n```\r\nclass B extends C {\r\n C name;\r\n\r\n public C getName() {\r\n  return name;\r\n }\r\n\r\n public void setName(C name) {\r\n  this.name= name;\r\n }\r\n}\r\n```\r\n\r\n(This is an example of my code; The classes are generated by an xsd)\r\n\r\nHow I fix this. Thank you for your help\r\n\r\nI try to use \r\n - @WebMethod (operationName = &quot;operationA&quot;) for first method;\r\n - @WebMethod (operationName = &quot;operationB&quot;) for second method;\r\n\r\nThis is not fix the problem","title":"Name collision. Two classes have the same XML type with uri and name","body":"<p>I have an error when i try to integrate two webmethods:\nException Description: Name collision.  Two classes have the XML type with uri http://xxx and name yyy.</p>\n<p>The input of first webmethod is of type A. The input of second webmethod is of type B.</p>\n<pre><code>class C {\n string name;\n\n public string getName() {\n  return name;\n }\n\n public void setName(string name) {\n  this.name= name;\n }\n}\n</code></pre>\n<pre><code>class A extends C {\n C name;\n\n public C getName() {\n  return name;\n }\n\n public void setName(C name) {\n  this.name= name;\n }\n}\n</code></pre>\n<pre><code>class B extends C {\n C name;\n\n public C getName() {\n  return name;\n }\n\n public void setName(C name) {\n  this.name= name;\n }\n}\n</code></pre>\n<p>(This is an example of my code; The classes are generated by an xsd)</p>\n<p>How I fix this. Thank you for your help</p>\n<p>I try to use</p>\n<ul>\n<li>@WebMethod (operationName = &quot;operationA&quot;) for first method;</li>\n<li>@WebMethod (operationName = &quot;operationB&quot;) for second method;</li>\n</ul>\n<p>This is not fix the problem</p>\n"},{"tags":["java","mongodb","spring-boot","rest","spring-mvc"],"comments":[{"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"score":1,"creation_date":1588535707,"post_id":61580731,"comment_id":108929573,"body_markdown":"Does this answer your question? [Spring Data JPA - &quot;No Property Found for Type&quot; Exception](https://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception\">Spring Data JPA - &quot;No Property Found for Type&quot; Exception</a>"}],"answers":[{"tags":[],"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590246113,"creation_date":1588535781,"answer_id":61580805,"question_id":61580731,"body_markdown":"Try changing the `Product` class as the following:\r\n\r\n    @Entity\r\n    public class Product {\r\n    \r\n        @Id\r\n        private String productId; // MongoRepository&lt;Product, String&gt;\r\n\r\n        // methods\r\n    }\r\n\r\nIn the `Product` class the `@Entity` annotation is missing and the `productId` should be a `String`, as specified in the repository.\r\n\r\nOr change to `extends MongoRepository&lt;Product, Integer&gt;` if you want to keep the current field type.\r\n\r\nIn any case, they should match.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Try changing the <code>Product</code> class as the following:</p>\n\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    private String productId; // MongoRepository&lt;Product, String&gt;\n\n    // methods\n}\n</code></pre>\n\n<p>In the <code>Product</code> class the <code>@Entity</code> annotation is missing and the <code>productId</code> should be a <code>String</code>, as specified in the repository.</p>\n\n<p>Or change to <code>extends MongoRepository&lt;Product, Integer&gt;</code> if you want to keep the current field type.</p>\n\n<p>In any case, they should match.</p>\n"},{"tags":[],"owner":{"account_id":18147066,"reputation":21,"user_id":13200292,"display_name":"Learning_To_Code"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1588540315,"creation_date":1588540315,"answer_id":61581686,"question_id":61580731,"body_markdown":"Make You That Your Spring Application Knows Where Your Classes Resides.\r\nUse `@ComponentScan(basePackages = &quot;com.package&quot;)`.\r\n\r\nMoreover If Your Product Class Is Something That You Want to Persist Mark It With `@Entity` So Spring Knows about It And Creates A Bean Out Of it.\r\n\r\nMark Your interface ProductService with `@service`, So that Spring Knows About it.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Make You That Your Spring Application Knows Where Your Classes Resides.\nUse <code>@ComponentScan(basePackages = \"com.package\")</code>.</p>\n\n<p>Moreover If Your Product Class Is Something That You Want to Persist Mark It With <code>@Entity</code> So Spring Knows about It And Creates A Bean Out Of it.</p>\n\n<p>Mark Your interface ProductService with <code>@service</code>, So that Spring Knows About it.</p>\n"},{"tags":[],"owner":{"account_id":27381903,"reputation":1,"user_id":20886378,"display_name":"Sundaram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678284766,"creation_date":1678284766,"answer_id":75674166,"question_id":61580731,"body_markdown":"Unsatisfieddependencyexception:\r\nRepository.java this page like @respository annotation class below being return type null and near optinal &lt;&gt; using default keyword\r\nThis method working me.","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>Unsatisfieddependencyexception:\nRepository.java this page like @respository annotation class below being return type null and near optinal &lt;&gt; using default keyword\nThis method working me.</p>\n"}],"owner":{"account_id":15856830,"reputation":121,"user_id":11441018,"display_name":"Dinuli Thalakumbura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61580805,"answer_count":3,"score":1,"last_activity_date":1678284766,"creation_date":1588535432,"question_id":61580731,"body_markdown":"I am building a REST API and can&#39;t seem to get rid of the org.springframework.beans.factory.UnsatisfiedDependencyException, I can&#39;t spot the issue in this. I will appreciate a fresh insight into this. \r\n\r\np.s: Using mongo DB for this \r\n\r\nfirst off the full error\r\n\r\n```\r\n2020-05-04 01:16:31.468  WARN 14412 \r\n--- [           main] ConfigServletWebServerApplicationContext : \r\nException encountered during context initialization - \r\ncancelling refresh attempt: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;productController&#39;: \r\nUnsatisfied dependency expressed through field &#39;productService&#39;; \r\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n Error creating bean with name &#39;productServiceImpl&#39;:\r\n Unsatisfied dependency expressed through field &#39;productRepo&#39;; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;productRepo&#39;: \r\nInvocation of init method failed; nested exception is org.springframework.data.mapping.PropertyReferenceException:\r\n No property id found for type Product!\r\n\r\n```\r\n\r\n```\r\npublic class Product {\r\n\r\n    @Id\r\n    private int ProductId;\r\n    \r\n// and other variables plus setters and getters \r\n```\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\r\n\r\n   // methods\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface ProductService {\r\n // methods\r\n}\r\n\r\n```\r\n```\r\n\r\n@Service\r\npublic class ProductServiceImpl implements ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepo productRepo;\r\n \r\n// implementations\r\n}\r\n```\r\n","title":"REST API: org.springframework.beans.factory.UnsatisfiedDependencyException:","body":"<p>I am building a REST API and can't seem to get rid of the org.springframework.beans.factory.UnsatisfiedDependencyException, I can't spot the issue in this. I will appreciate a fresh insight into this. </p>\n\n<p>p.s: Using mongo DB for this </p>\n\n<p>first off the full error</p>\n\n<pre><code>2020-05-04 01:16:31.468  WARN 14412 \n--- [           main] ConfigServletWebServerApplicationContext : \nException encountered during context initialization - \ncancelling refresh attempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'productController': \nUnsatisfied dependency expressed through field 'productService'; \nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException:\n Error creating bean with name 'productServiceImpl':\n Unsatisfied dependency expressed through field 'productRepo'; \nnested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'productRepo': \nInvocation of init method failed; nested exception is org.springframework.data.mapping.PropertyReferenceException:\n No property id found for type Product!\n\n</code></pre>\n\n<pre><code>public class Product {\n\n    @Id\n    private int ProductId;\n\n// and other variables plus setters and getters \n</code></pre>\n\n<pre><code>@Repository\npublic interface ProductRepo extends MongoRepository&lt;Product, String&gt; {\n\n   // methods\n}\n\n</code></pre>\n\n<pre><code>public interface ProductService {\n // methods\n}\n\n</code></pre>\n\n<pre><code>\n@Service\npublic class ProductServiceImpl implements ProductService {\n\n    @Autowired\n    private ProductRepo productRepo;\n\n// implementations\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":10617793,"reputation":81,"user_id":7819736,"display_name":"Lewis_McReu"},"score":0,"creation_date":1678280468,"post_id":75671472,"comment_id":133501434,"body_markdown":"Does your controller execute the same code for both of your endpoints?","body":"Does your controller execute the same code for both of your endpoints?"},{"owner":{"account_id":8430535,"reputation":11,"user_id":6326456,"display_name":"John Doe"},"score":0,"creation_date":1678281269,"post_id":75671472,"comment_id":133501643,"body_markdown":"@Lewis_McReu, yes it does.","body":"@Lewis_McReu, yes it does."}],"owner":{"account_id":8430535,"reputation":11,"user_id":6326456,"display_name":"John Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678284499,"creation_date":1678268754,"question_id":75671472,"body_markdown":"I already have seen different answers for the LazyInitializationException (could not initialize proxy - no Session) exception but I think my problem is different. \r\n\r\nI have a working API and a security-context.xml with &lt;s:intercept-url&gt; for each endpoints and I want to create a second API with different privileges.\r\n\r\nThen, I have added a second endpoint to my already existing controller : \r\n\r\n    @Controller\r\n    @Slf4j\r\n    @RequestMapping(path =[&quot;/settings/&quot;, &quot;/v2/settings/&quot;])\r\n    class ThisIsAController {\r\n\r\nAnd I have added the endpoints to my security-context.xml\r\n\r\n    &lt;s:intercept-url pattern=&quot;/settings/create/**&quot; access=&quot;hasAnyRole(&#39;ROLE&#39;)&quot; /&gt;\r\n    &lt;s:intercept-url pattern=&quot;/v2/settings/create/**&quot; access=&quot;hasAnyRole(&#39;ROLE&#39;)&quot; /&gt;\r\n\r\n\r\nBut When I tried to reach : \r\n\r\n&gt; /v2/settings/....\r\n\r\nI have the following exception : \r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: xxx.xxx.xxx.xxx.model.ModelClass.entries, could not initialize proxy - no Session\r\n\r\nAnd when I tried to reach the first api it works well. \r\n\r\nDoes anyone have any idea where the exception could be coming from?\r\n\r\nThanks\r\n","title":"RequestMapping with multiple endpoints and LazyInitializationException exception","body":"<p>I already have seen different answers for the LazyInitializationException (could not initialize proxy - no Session) exception but I think my problem is different.</p>\n<p>I have a working API and a security-context.xml with &lt;s:intercept-url&gt; for each endpoints and I want to create a second API with different privileges.</p>\n<p>Then, I have added a second endpoint to my already existing controller :</p>\n<pre><code>@Controller\n@Slf4j\n@RequestMapping(path =[&quot;/settings/&quot;, &quot;/v2/settings/&quot;])\nclass ThisIsAController {\n</code></pre>\n<p>And I have added the endpoints to my security-context.xml</p>\n<pre><code>&lt;s:intercept-url pattern=&quot;/settings/create/**&quot; access=&quot;hasAnyRole('ROLE')&quot; /&gt;\n&lt;s:intercept-url pattern=&quot;/v2/settings/create/**&quot; access=&quot;hasAnyRole('ROLE')&quot; /&gt;\n</code></pre>\n<p>But When I tried to reach :</p>\n<blockquote>\n<p>/v2/settings/....</p>\n</blockquote>\n<p>I have the following exception :</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: xxx.xxx.xxx.xxx.model.ModelClass.entries, could not initialize proxy - no Session\n</code></pre>\n<p>And when I tried to reach the first api it works well.</p>\n<p>Does anyone have any idea where the exception could be coming from?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875092,"post_id":75631512,"comment_id":133430383,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677875398,"post_id":75631512,"comment_id":133430451,"body_markdown":"I don&#39;t know what else I can add, it&#39;s just that the error and I don&#39;t know how to solve it","body":"I don&#39;t know what else I can add, it&#39;s just that the error and I don&#39;t know how to solve it"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875535,"post_id":75631512,"comment_id":133430486,"body_markdown":"If only the `@PostMapping` is relevant, remove all the other handler methods. Does the body of the method matter? If not, reduce it to the bare minimum. Provide your `main` method where you start the `SpringApplication`. Reduce it to the bare minimum to reproduce your error as well.","body":"If only the <code>@PostMapping</code> is relevant, remove all the other handler methods. Does the body of the method matter? If not, reduce it to the bare minimum. Provide your <code>main</code> method where you start the <code>SpringApplication</code>. Reduce it to the bare minimum to reproduce your error as well."},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677875671,"post_id":75631512,"comment_id":133430518,"body_markdown":"First of all `@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)` is not correct please fix this and check your code again. It must be `@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)`","body":"First of all <code>@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)</code> is not correct please fix this and check your code again. It must be <code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)</code>"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1677875889,"post_id":75631512,"comment_id":133430560,"body_markdown":"@G.Guvenal That&#39;s likely the answer. `MULTIPART_FORM_DATA_VALUE` is a String. `@PostMapping` default `value` element is a synonym for path. So their `@PostMapping` is registered to handle a path equal to the value of `MULTIPART_FORM_DATA_VALUE`, which obviously isn&#39;t `product`.","body":"@G.Guvenal That&#39;s likely the answer. <code>MULTIPART_FORM_DATA_VALUE</code> is a String. <code>@PostMapping</code> default <code>value</code> element is a synonym for path. So their <code>@PostMapping</code> is registered to handle a path equal to the value of <code>MULTIPART_FORM_DATA_VALUE</code>, which obviously isn&#39;t <code>product</code>."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1677876075,"post_id":75631512,"comment_id":133430597,"body_markdown":"now the error is &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data&#39; is not supported]&quot;","body":"now the error is &quot;Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data&#39; is not supported]&quot;"},{"owner":{"account_id":12206304,"reputation":169,"user_id":8909313,"display_name":"G.Guvenal"},"score":0,"creation_date":1677877225,"post_id":75631512,"comment_id":133430865,"body_markdown":"@JunqRal please edit your question with new error and screenshots.","body":"@JunqRal please edit your question with new error and screenshots."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677909119,"post_id":75631512,"comment_id":133434529,"body_markdown":"Check your html form tag attribute !!!   enctype=&quot;multipart/form-data&quot;","body":"Check your html form tag attribute !!!   enctype=&quot;multipart/form-data&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677879137,"creation_date":1677876983,"answer_id":75631796,"question_id":75631512,"body_markdown":"Change your     `@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)`\r\n because putting the media type there will actually map the URL to `/product/multipart/form-data` and not `/product/`\r\n\r\nchange it to this\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\r\nalso, you need to update the method signature to something like this (Change @RequestPart to @RequestParam)\r\n\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n           ObjectMapper objectMapper = new ObjectMapper();\r\n           ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\r\n        }\r\n\r\nand make sure you have the relevant dependencies commons-fileupload and commons-io\r\n\r\nalso I recomemend when Uploading set a maximum upload size for the file you can do it like this:\r\n\r\n    @Bean\r\n    public MultipartResolver multipartResolver() {\r\n        CommonsMultipartResolver resolver = new CommonsMultipartResolver();\r\n        resolver.setMaxUploadSize(1024 * 1024 * 5); // 5 MB\r\n        return resolver;\r\n    }\r\n\r\n\r\n\r\nand then in postman call `http://localhost:8078/product/`\r\n\r\nA second solution you can create the suitable converter in Spring:\r\nthe solution is like\r\n\r\n    public class ProductDtoConverter extends AbstractHttpMessageConverter&lt;ProductDto&gt; {\r\n        \r\n        public ProductDtoConverter() {\r\n            super(MediaType.APPLICATION_JSON);\r\n        }\r\n        \r\n        @Override\r\n        protected boolean supports(Class&lt;?&gt; clazz) {\r\n            return ProductDto.class.isAssignableFrom(clazz);\r\n        }\r\n        \r\n        @Override\r\n        protected ProductDto readInternal(Class&lt;? extends ProductDto&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n            String productDtoString = IOUtils.toString(inputMessage.getBody(), StandardCharsets.UTF_8);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.readValue(productDtoString, ProductDto.class);\r\n        }\r\n    }\r\n\r\n\r\nand in you AppConfig:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n        \r\n        @Bean\r\n        public ProductDtoConverter productDtoConverter() {\r\n            return new ProductDtoConverter();\r\n        }\r\n    }\r\n\r\n","title":"Spring boot - method &#39;POST&#39; is not supported (multipart/form-data)","body":"<p>Change your     <code>@PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)</code>\nbecause putting the media type there will actually map the URL to <code>/product/multipart/form-data</code> and not <code>/product/</code></p>\n<p>change it to this</p>\n<pre><code>@PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n</code></pre>\n<p>also, you need to update the method signature to something like this (Change @RequestPart to @RequestParam)</p>\n<pre><code>@PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;) MultipartFile file) {\n       ObjectMapper objectMapper = new ObjectMapper();\n       ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\n    }\n</code></pre>\n<p>and make sure you have the relevant dependencies commons-fileupload and commons-io</p>\n<p>also I recomemend when Uploading set a maximum upload size for the file you can do it like this:</p>\n<pre><code>@Bean\npublic MultipartResolver multipartResolver() {\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver();\n    resolver.setMaxUploadSize(1024 * 1024 * 5); // 5 MB\n    return resolver;\n}\n</code></pre>\n<p>and then in postman call <code>http://localhost:8078/product/</code></p>\n<p>A second solution you can create the suitable converter in Spring:\nthe solution is like</p>\n<pre><code>public class ProductDtoConverter extends AbstractHttpMessageConverter&lt;ProductDto&gt; {\n    \n    public ProductDtoConverter() {\n        super(MediaType.APPLICATION_JSON);\n    }\n    \n    @Override\n    protected boolean supports(Class&lt;?&gt; clazz) {\n        return ProductDto.class.isAssignableFrom(clazz);\n    }\n    \n    @Override\n    protected ProductDto readInternal(Class&lt;? extends ProductDto&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n        String productDtoString = IOUtils.toString(inputMessage.getBody(), StandardCharsets.UTF_8);\n        ObjectMapper objectMapper = new ObjectMapper();\n        return objectMapper.readValue(productDtoString, ProductDto.class);\n    }\n}\n</code></pre>\n<p>and in you AppConfig:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    \n    @Bean\n    public ProductDtoConverter productDtoConverter() {\n        return new ProductDtoConverter();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1578,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75631796,"answer_count":1,"score":-1,"last_activity_date":1678284468,"creation_date":1677874499,"question_id":75631512,"body_markdown":"I&#39;m trying to send through multipart/form-data  a post request from my products controller, where I upload a file of images and information of my product in json\r\n\r\n```\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    final ProductService productService;\r\n    final CategoryService categoryService;\r\n    final ProductMapper productMapper;\r\n    final S3Client s3Client;\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\r\n\r\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\r\n        this.productService = productService;\r\n        this.productMapper = productMapper;\r\n        this.categoryService = categoryService;\r\n        this.s3Client = s3Client;\r\n    }\r\n    @PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(value = &quot;file&quot;)MultipartFile file) {\r\n        try {\r\n            if (productService.existsByProduct(productDto.getProduct())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\r\n            }\r\n            ProductModel productModel = productMapper.toProductModel(productDto);\r\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\r\n            productModel.setProductCategory(categoryModel);\r\n\r\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\r\n\r\n            s3Client.putObject(PutObjectRequest\r\n                            .builder()\r\n                            .bucket(BUCKET_NAME)\r\n                            .key(fileName)\r\n                            .build(),\r\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nin my postman I&#39;m sending it like this, and getting the error 405\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9U3VG.png\r\n\r\nIn my console I am getting the error:\r\n\r\n```\r\nRequest method &#39;POST&#39; is not supported]\r\n```\r\n\r\nI don&#39;t understand why since I am sending a postMapping\r\n\r\n\r\nupdated error in postman:\r\n\r\n```\r\n\r\n{\r\n    &quot;cause&quot;: null,\r\n    &quot;stackTrace&quot;: [\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;from&quot;,\r\n            &quot;fileName&quot;: &quot;UnrecognizedPropertyException.java&quot;,\r\n            &quot;lineNumber&quot;: 61,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\r\n            &quot;fileName&quot;: &quot;DeserializationContext.java&quot;,\r\n            &quot;lineNumber&quot;: 1132,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.DeserializationContext&quot;\r\n        },\r\n        {\r\n            &quot;classLoaderName&quot;: &quot;app&quot;,\r\n            &quot;moduleName&quot;: null,\r\n            &quot;moduleVersion&quot;: null,\r\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\r\n            &quot;fileName&quot;: &quot;StdDeserializer.java&quot;,\r\n            &quot;lineNumber&quot;: 2202,\r\n            &quot;nativeMethod&quot;: false,\r\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer&quot;\r\n        }, ...\r\n```","title":"Spring boot - method &#39;POST&#39; is not supported (multipart/form-data)","body":"<p>I'm trying to send through multipart/form-data  a post request from my products controller, where I upload a file of images and information of my product in json</p>\n<pre><code>\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    final ProductService productService;\n    final CategoryService categoryService;\n    final ProductMapper productMapper;\n    final S3Client s3Client;\n\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\n\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\n        this.productService = productService;\n        this.productMapper = productMapper;\n        this.categoryService = categoryService;\n        this.s3Client = s3Client;\n    }\n    @PostMapping(MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestPart(&quot;productDto&quot;) @Valid ProductDto productDto, @RequestPart(value = &quot;file&quot;)MultipartFile file) {\n        try {\n            if (productService.existsByProduct(productDto.getProduct())) {\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\n            }\n            ProductModel productModel = productMapper.toProductModel(productDto);\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\n            productModel.setProductCategory(categoryModel);\n\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\n\n            s3Client.putObject(PutObjectRequest\n                            .builder()\n                            .bucket(BUCKET_NAME)\n                            .key(fileName)\n                            .build(),\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Cannot create product. Check if the fields sent in your request are correct.&quot;);\n        }\n    }\n\n\n\n</code></pre>\n<p>in my postman I'm sending it like this, and getting the error 405\n<a href=\"https://i.stack.imgur.com/9U3VG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9U3VG.png\" alt=\"enter image description here\" /></a></p>\n<p>In my console I am getting the error:</p>\n<pre><code>Request method 'POST' is not supported]\n</code></pre>\n<p>I don't understand why since I am sending a postMapping</p>\n<p>updated error in postman:</p>\n<pre><code>\n{\n    &quot;cause&quot;: null,\n    &quot;stackTrace&quot;: [\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;from&quot;,\n            &quot;fileName&quot;: &quot;UnrecognizedPropertyException.java&quot;,\n            &quot;lineNumber&quot;: 61,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException&quot;\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\n            &quot;fileName&quot;: &quot;DeserializationContext.java&quot;,\n            &quot;lineNumber&quot;: 1132,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.DeserializationContext&quot;\n        },\n        {\n            &quot;classLoaderName&quot;: &quot;app&quot;,\n            &quot;moduleName&quot;: null,\n            &quot;moduleVersion&quot;: null,\n            &quot;methodName&quot;: &quot;handleUnknownProperty&quot;,\n            &quot;fileName&quot;: &quot;StdDeserializer.java&quot;,\n            &quot;lineNumber&quot;: 2202,\n            &quot;nativeMethod&quot;: false,\n            &quot;className&quot;: &quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer&quot;\n        }, ...\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"score":1,"creation_date":1678282950,"post_id":75673775,"comment_id":133502152,"body_markdown":"You need `(?&lt;![0-9a-z])([a-z]+)`, include the letters into the character class inside the lookbehind.","body":"You need <code>(?&lt;![0-9a-z])([a-z]+)</code>, include the letters into the character class inside the lookbehind."},{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":0,"creation_date":1678283429,"post_id":75673775,"comment_id":133502303,"body_markdown":"Yep, @WiktorStribiÅ¼ew you are absolutely right, it works for both look-aheads and look-behinds. Thank you! Feel free to add it as proper answer and I&#39;m happy to approve.","body":"Yep, @WiktorStribiÅ¼ew you are absolutely right, it works for both look-aheads and look-behinds. Thank you! Feel free to add it as proper answer and I&#39;m happy to approve."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678283780,"creation_date":1678283780,"answer_id":75673995,"question_id":75673775,"body_markdown":"You need to include the letter pattern into the character class inside the lookbehind:\r\n```none\r\n(?&lt;![0-9a-z])([a-z]+)\r\n```\r\nNote that the capturing group around `[a-z]+` is superfluous, and should be removed.\r\n\r\nSee the [regex demo][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/G1PA5V/1","title":"Regext to find text segments where text in not preceded by a number","body":"<p>You need to include the letter pattern into the character class inside the lookbehind:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;![0-9a-z])([a-z]+)\n</code></pre>\n<p>Note that the capturing group around <code>[a-z]+</code> is superfluous, and should be removed.</p>\n<p>See the <a href=\"https://regex101.com/r/G1PA5V/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75673995,"answer_count":1,"score":3,"last_activity_date":1678283780,"creation_date":1678282662,"question_id":75673775,"body_markdown":"Using this text as an example: `foo 34abcd bar 7890xyz 123`.\r\nPlease help me find a regex to find all &quot;orphan&quot; numbers, that would be `123`; \r\nand regex to find all &quot;orphan&quot; texts, that would be `foo` and `bar`.\r\n\r\nTo find all number followed immediately by a text is simple, I use a simple regex \r\n`([0-9]+)([a-z]+)`. But how to find all non-conforming segments/words?\r\n\r\nTo find number not followed by a text, the &quot;orphan&quot; nuber, I tried to use regex negative look-ahead `([0-9]+)(?![a-z]+)`, but that return false positive like `3` from `34abcd`, because `3` is not followed by a letter. How can I make regex consider `34` and not a `3` and `4`?\r\n\r\nTo find texts not immediately predeced by a number, the &quot;orphan&quot; texts,\r\nI tried regex with negative look-behind, `(?&lt;![0-9]+)([a-z]+)`.\r\nBut it make false positive match on `34abcd` returning text `bcd`.\r\nThe look-behing seems to work only for exact texts, like (min|sec|year|years), but not for a any string of letters.\r\n\r\n\r\nBackground:\r\nI&#39;m trying to write a regex based parser for Java `Duration`, something more human friendly then the default parser in `Duration.parse`. Something what would parse &quot;1h 30min 5sec&quot; but also detect and report back any unparsable bits, like &quot;foo bar 30min&quot; shoudl complain about not recognizing &quot;foo bar&quot;.\r\n\r\nThere is a question for that\r\nhttps://stackoverflow.com/questions/6403851/parsing-time-strings-like-1h-30min\r\nbut the suggested solutions are not satisfactory.","title":"Regext to find text segments where text in not preceded by a number","body":"<p>Using this text as an example: <code>foo 34abcd bar 7890xyz 123</code>.\nPlease help me find a regex to find all &quot;orphan&quot; numbers, that would be <code>123</code>;\nand regex to find all &quot;orphan&quot; texts, that would be <code>foo</code> and <code>bar</code>.</p>\n<p>To find all number followed immediately by a text is simple, I use a simple regex\n<code>([0-9]+)([a-z]+)</code>. But how to find all non-conforming segments/words?</p>\n<p>To find number not followed by a text, the &quot;orphan&quot; nuber, I tried to use regex negative look-ahead <code>([0-9]+)(?![a-z]+)</code>, but that return false positive like <code>3</code> from <code>34abcd</code>, because <code>3</code> is not followed by a letter. How can I make regex consider <code>34</code> and not a <code>3</code> and <code>4</code>?</p>\n<p>To find texts not immediately predeced by a number, the &quot;orphan&quot; texts,\nI tried regex with negative look-behind, <code>(?&lt;![0-9]+)([a-z]+)</code>.\nBut it make false positive match on <code>34abcd</code> returning text <code>bcd</code>.\nThe look-behing seems to work only for exact texts, like (min|sec|year|years), but not for a any string of letters.</p>\n<p>Background:\nI'm trying to write a regex based parser for Java <code>Duration</code>, something more human friendly then the default parser in <code>Duration.parse</code>. Something what would parse &quot;1h 30min 5sec&quot; but also detect and report back any unparsable bits, like &quot;foo bar 30min&quot; shoudl complain about not recognizing &quot;foo bar&quot;.</p>\n<p>There is a question for that\n<a href=\"https://stackoverflow.com/questions/6403851/parsing-time-strings-like-1h-30min\">Parsing time strings like &quot;1h 30min&quot;</a>\nbut the suggested solutions are not satisfactory.</p>\n"},{"tags":["java","arrays","string","split","null"],"owner":{"account_id":27957674,"reputation":9,"user_id":21350177,"display_name":"Caio Christhian"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678204106,"answer_count":0,"score":0,"last_activity_date":1678283641,"creation_date":1678201681,"question_id":75663724,"body_markdown":"[code](https://i.stack.imgur.com/DiwFt.png)\r\n\r\n[i&#39;ve tried change the constructor](https://i.stack.imgur.com/DteZN.png)\r\n\r\nand tried do a for to replace the value like this but its not working\r\n\r\n```\r\npublic Cliente(String nome, String cpf, String tel, String end, String num, String cidade, String estado) {\r\n        if (nome == &quot;&quot;) {\r\n            this.nome = null;\r\n        } else {\r\n            this.nome = nome;\r\n        }\r\n\r\n        if (cpf == &quot;&quot;) {\r\n            this.cpf = null;\r\n        } else {\r\n            this.cpf = Long.valueOf(cpf.trim());\r\n        }\r\n\r\n        if (tel == &quot;&quot;) {\r\n            this.tel = null;\r\n        } else {\r\n            this.tel = Long.valueOf(tel.trim());\r\n        }\r\n\r\n        if (end == &quot;&quot;) {\r\n            this.end = null;\r\n        } else {\r\n            this.end = end;\r\n        }\r\n\r\n        if (num == &quot;&quot;) {\r\n            this.numero = null;\r\n        } else {\r\n            this.numero = Integer.valueOf(num.trim());\r\n        }\r\n\r\n        if (cidade == &quot;&quot;) {\r\n            this.cidade = null;\r\n        } else {\r\n            this.cidade = cidade;\r\n        }\r\n\r\n        if (estado == &quot;&quot;) {\r\n            this.estado = null;\r\n        } else {\r\n            this.estado = estado;\r\n        }\r\n    }\r\n```\r\ni think if i change the constructor would be works but i have no idea now.\r\n\r\nUPDATE: i found a solution\r\n[solution][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8jAbr.png","title":"how can i validate this string array if one value was null","body":"<p><a href=\"https://i.stack.imgur.com/DiwFt.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p><a href=\"https://i.stack.imgur.com/DteZN.png\" rel=\"nofollow noreferrer\">i've tried change the constructor</a></p>\n<p>and tried do a for to replace the value like this but its not working</p>\n<pre><code>public Cliente(String nome, String cpf, String tel, String end, String num, String cidade, String estado) {\n        if (nome == &quot;&quot;) {\n            this.nome = null;\n        } else {\n            this.nome = nome;\n        }\n\n        if (cpf == &quot;&quot;) {\n            this.cpf = null;\n        } else {\n            this.cpf = Long.valueOf(cpf.trim());\n        }\n\n        if (tel == &quot;&quot;) {\n            this.tel = null;\n        } else {\n            this.tel = Long.valueOf(tel.trim());\n        }\n\n        if (end == &quot;&quot;) {\n            this.end = null;\n        } else {\n            this.end = end;\n        }\n\n        if (num == &quot;&quot;) {\n            this.numero = null;\n        } else {\n            this.numero = Integer.valueOf(num.trim());\n        }\n\n        if (cidade == &quot;&quot;) {\n            this.cidade = null;\n        } else {\n            this.cidade = cidade;\n        }\n\n        if (estado == &quot;&quot;) {\n            this.estado = null;\n        } else {\n            this.estado = estado;\n        }\n    }\n</code></pre>\n<p>i think if i change the constructor would be works but i have no idea now.</p>\n<p>UPDATE: i found a solution\n<a href=\"https://i.stack.imgur.com/8jAbr.png\" rel=\"nofollow noreferrer\">solution</a></p>\n"},{"tags":["java","spring-boot","yaml"],"answers":[{"tags":[],"owner":{"account_id":5101035,"reputation":1027,"user_id":4090651,"display_name":"Yonatan Wilkof"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1448006449,"creation_date":1448006449,"answer_id":33821690,"question_id":33699171,"body_markdown":"Firstly, I believe your yaml file structure is invalid. In your Locator class you have given names to the fields - you should do the same in your yaml file. In the end it should look like this:\r\n\r\n    system:\r\n      locators:\r\n      - name: first.com\r\n        ports:\r\n          - 103\r\n          - 105\r\n      - name: second.com\r\n        ports:\r\n          - 105\r\n\r\nSecondly, you can leverage Spring Boot&#39;s rather advanced properties-to-bean auto mapping. As in every Spring Boot app, you need to annotate your main class with  @SpringBootApplication. Then, you can create a class representing your properties structure:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;system&quot;)\r\n    public class SystemProperties {\r\n    \r\n        private List&lt;Locator&gt; locators;\r\n    \r\n        public List&lt;Locator&gt; getLocators() {\r\n            return locators;\r\n        }\r\n    \r\n        public void setLocators(List&lt;Locator&gt; locators) {\r\n            this.locators = locators;\r\n        }\r\n    \r\n        public static class Locator {\r\n            private String name;\r\n            private List&lt;String&gt; ports;\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public List&lt;String&gt; getPorts() {\r\n                return ports;\r\n            }\r\n    \r\n            public void setPorts(List&lt;String&gt; ports) {\r\n                this.ports = ports;\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNotice the @ConfigurationProperties annotation that defines the prefix which is the root of this classe&#39;s mapped configuration. It can of course be any node in a yaml tree of properties, not necessarily the main level as in your case.\r\n\r\nFor further reading I would suggest this [blog post][1] and the [official documentation][2] as there are more ppowerful abilities when it comes to property bean mapping. \r\n\r\n\r\n  [1]: https://spring.io/blog/2013/10/30/empowering-your-apps-with-spring-boot-s-property-support\r\n  [2]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>Firstly, I believe your yaml file structure is invalid. In your Locator class you have given names to the fields - you should do the same in your yaml file. In the end it should look like this:</p>\n\n<pre><code>system:\n  locators:\n  - name: first.com\n    ports:\n      - 103\n      - 105\n  - name: second.com\n    ports:\n      - 105\n</code></pre>\n\n<p>Secondly, you can leverage Spring Boot's rather advanced properties-to-bean auto mapping. As in every Spring Boot app, you need to annotate your main class with  @SpringBootApplication. Then, you can create a class representing your properties structure:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"system\")\npublic class SystemProperties {\n\n    private List&lt;Locator&gt; locators;\n\n    public List&lt;Locator&gt; getLocators() {\n        return locators;\n    }\n\n    public void setLocators(List&lt;Locator&gt; locators) {\n        this.locators = locators;\n    }\n\n    public static class Locator {\n        private String name;\n        private List&lt;String&gt; ports;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;String&gt; getPorts() {\n            return ports;\n        }\n\n        public void setPorts(List&lt;String&gt; ports) {\n            this.ports = ports;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Notice the @ConfigurationProperties annotation that defines the prefix which is the root of this classe's mapped configuration. It can of course be any node in a yaml tree of properties, not necessarily the main level as in your case.</p>\n\n<p>For further reading I would suggest this <a href=\"https://spring.io/blog/2013/10/30/empowering-your-apps-with-spring-boot-s-property-support\" rel=\"noreferrer\">blog post</a> and the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html\" rel=\"noreferrer\">official documentation</a> as there are more ppowerful abilities when it comes to property bean mapping. </p>\n"},{"tags":[],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678282753,"creation_date":1678282753,"answer_id":75673800,"question_id":33699171,"body_markdown":"Assume the following config class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @ConfigurationProperties(prefix = &quot;app&quot;)\r\n    @Configuration\r\n    public class AppConfiguration {\r\n   \r\n    \r\n        List&lt;Users&gt; users;\r\n    }\r\n\r\nthe according application.yml entry would look like this:\r\n\r\n    app.users:\r\n      -\r\n        name: &quot;name1&quot;\r\n        password: &quot;password1&quot;\r\n      -\r\n        name: &quot;name2&quot;\r\n        password: &quot;password2&quot;\r\n      -\r\n        name: &quot;name3&quot;\r\n        password: &quot;password3&quot;","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>Assume the following config class:</p>\n<pre><code>@Getter\n@Setter\n@ConfigurationProperties(prefix = &quot;app&quot;)\n@Configuration\npublic class AppConfiguration {\n\n\n    List&lt;Users&gt; users;\n}\n</code></pre>\n<p>the according application.yml entry would look like this:</p>\n<pre><code>app.users:\n  -\n    name: &quot;name1&quot;\n    password: &quot;password1&quot;\n  -\n    name: &quot;name2&quot;\n    password: &quot;password2&quot;\n  -\n    name: &quot;name3&quot;\n    password: &quot;password3&quot;\n</code></pre>\n"}],"owner":{"account_id":327816,"reputation":705,"user_id":650399,"accept_rate":79,"display_name":"Brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5999,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33821690,"answer_count":2,"score":8,"last_activity_date":1678282753,"creation_date":1447438027,"question_id":33699171,"body_markdown":"I have a yaml file setup like this:\r\n\r\n    system:\r\n      locators:\r\n      - first.com\r\n        - 103\r\n        - 105\r\n      - second.com\r\n        - 105\r\n\r\nI want to load this as `@autowired` configuration that looks something like this:\r\n\r\n    @Autowired\r\n    List&lt;Locator&gt; locators;\r\n\r\nI&#39;m thinking that the Locator class would look something like this:\r\n\r\n    class Locator {\r\n        String name;\r\n        List&lt;String&gt; ports;\r\n    }\r\n\r\nBut I&#39;m not sure how to put this all together. Any help is appreciated!","title":"Need help figured out how to load nested list from yml in spring boot java app","body":"<p>I have a yaml file setup like this:</p>\n\n<pre><code>system:\n  locators:\n  - first.com\n    - 103\n    - 105\n  - second.com\n    - 105\n</code></pre>\n\n<p>I want to load this as <code>@autowired</code> configuration that looks something like this:</p>\n\n<pre><code>@Autowired\nList&lt;Locator&gt; locators;\n</code></pre>\n\n<p>I'm thinking that the Locator class would look something like this:</p>\n\n<pre><code>class Locator {\n    String name;\n    List&lt;String&gt; ports;\n}\n</code></pre>\n\n<p>But I'm not sure how to put this all together. Any help is appreciated!</p>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1539881325,"post_id":52869672,"comment_id":92671140,"body_markdown":"I would do anything possible to avoid having to do this; I wouldn&#39;t expect it to work very effectively.  For example, you could add another Kotlin function to launch the coroutine however you think is appropriate, that isn&#39;t a suspend fun, and call that from Java.","body":"I would do anything possible to avoid having to do this; I wouldn&#39;t expect it to work very effectively.  For example, you could add another Kotlin function to launch the coroutine however you think is appropriate, that isn&#39;t a suspend fun, and call that from Java."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1539956052,"post_id":52869672,"comment_id":92699495,"body_markdown":"I used to have [Java code](https://stackoverflow.com/questions/51808992/kotlin-suspend-fun/51811597#51811597) that managed to create an implementation of `Continuation` and call a `suspend fun`, but in Kotlin 1.3 `Continuation` declares `resumeWith(Result)`, where `Result` is a discriminated union of the result and an `internal class Failure` and there&#39;s just no way to supply that from Java, save for using reflection to access private members in Kotlin implementation.","body":"I used to have <a href=\"https://stackoverflow.com/questions/51808992/kotlin-suspend-fun/51811597#51811597\">Java code</a> that managed to create an implementation of <code>Continuation</code> and call a <code>suspend fun</code>, but in Kotlin 1.3 <code>Continuation</code> declares <code>resumeWith(Result)</code>, where <code>Result</code> is a discriminated union of the result and an <code>internal class Failure</code> and there&#39;s just no way to supply that from Java, save for using reflection to access private members in Kotlin implementation."}],"answers":[{"tags":[],"owner":{"account_id":1046776,"reputation":27433,"user_id":1051598,"accept_rate":20,"display_name":"Roman  Elizarov"},"down_vote_count":2,"up_vote_count":102,"is_accepted":true,"score":100,"last_activity_date":1539934234,"creation_date":1539934234,"answer_id":52887677,"question_id":52869672,"body_markdown":"First, add `org.jetbrains.kotlinx:kotlinx-coroutines-jdk8` module to your dependencies. In your Kotlin file define the following async function that corresponds to Java style of writing async APIs:\r\n\r\n    fun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =\r\n        GlobalScope.future { doSomething() }\r\n\r\nNow use `doSomethingAsync` from Java in the same way as you are using other asynchronous APIs in the Java world.\r\n","title":"Call Kotlin suspend function in Java class","body":"<p>First, add <code>org.jetbrains.kotlinx:kotlinx-coroutines-jdk8</code> module to your dependencies. In your Kotlin file define the following async function that corresponds to Java style of writing async APIs:</p>\n\n<pre><code>fun doSomethingAsync(): CompletableFuture&lt;List&lt;MyClass&gt;&gt; =\n    GlobalScope.future { doSomething() }\n</code></pre>\n\n<p>Now use <code>doSomethingAsync</code> from Java in the same way as you are using other asynchronous APIs in the Java world.</p>\n"},{"tags":[],"owner":{"account_id":7691285,"reputation":612,"user_id":5827505,"display_name":"Dragos Rachieru"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1574693733,"creation_date":1573484728,"answer_id":58803893,"question_id":52869672,"body_markdown":"For coroutines 1.3.0 use this:\r\n\r\n```\r\nBuildersKt.launch(GlobalScope.INSTANCE,\r\n                Dispatchers.getMain(),//context to be ran on\r\n                CoroutineStart.DEFAULT,\r\n                (coroutineScope, continuation) -&gt; suspendFunction(arguments)\r\n        );\r\n```\r\n\r\nFor java &lt; 8:\r\n\r\n```\r\nBuildersKt.launch(\r\n        GlobalScope.INSTANCE,\r\n        Dispatchers.getMain(),//context to be ran on\r\n        CoroutineStart.DEFAULT,\r\n        new Function2&lt;CoroutineScope, Continuation&lt;? super Unit&gt;, Unit/*or your return type here*/&gt;() {\r\n            @Override\r\n            public Unit/*or your return type here*/ invoke(CoroutineScope coroutineScope, Continuation&lt;? super Unit&gt; continuation) {\r\n                //do what you want\r\n                return Unit.INSTANCE; //or something with the defined type\r\n            }\r\n        }\r\n);\r\n```\r\n\r\nMy gradle file:\r\n\r\n```\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.50&quot;\r\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0&quot;\r\nimplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0&quot;\r\n```\r\nKotlin uses static classes for extension functions, launch is an extension function, so it is defined in BuildersKt. The first parameter is the target of the extension function, the rest are the parameters from the extension functions.","title":"Call Kotlin suspend function in Java class","body":"<p>For coroutines 1.3.0 use this:</p>\n\n<pre><code>BuildersKt.launch(GlobalScope.INSTANCE,\n                Dispatchers.getMain(),//context to be ran on\n                CoroutineStart.DEFAULT,\n                (coroutineScope, continuation) -&gt; suspendFunction(arguments)\n        );\n</code></pre>\n\n<p>For java &lt; 8:</p>\n\n<pre><code>BuildersKt.launch(\n        GlobalScope.INSTANCE,\n        Dispatchers.getMain(),//context to be ran on\n        CoroutineStart.DEFAULT,\n        new Function2&lt;CoroutineScope, Continuation&lt;? super Unit&gt;, Unit/*or your return type here*/&gt;() {\n            @Override\n            public Unit/*or your return type here*/ invoke(CoroutineScope coroutineScope, Continuation&lt;? super Unit&gt; continuation) {\n                //do what you want\n                return Unit.INSTANCE; //or something with the defined type\n            }\n        }\n);\n</code></pre>\n\n<p>My gradle file:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.50\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0\"\n</code></pre>\n\n<p>Kotlin uses static classes for extension functions, launch is an extension function, so it is defined in BuildersKt. The first parameter is the target of the extension function, the rest are the parameters from the extension functions.</p>\n"},{"tags":[],"owner":{"account_id":16070558,"reputation":191,"user_id":11599112,"display_name":"Kenvix Zure"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1678282349,"creation_date":1583827958,"answer_id":60613645,"question_id":52869672,"body_markdown":"If you dont want to use `org.jetbrains.kotlinx:kotlinx-coroutines-jdk8`, I have a new idea.\r\n\r\nWrite below code in your kotlin project.\r\n\r\n```kotlin\r\n@JvmOverloads\r\nfun &lt;R&gt; getContinuation(onFinished: BiConsumer&lt;R?, Throwable?&gt;, dispatcher: CoroutineDispatcher = Dispatchers.Default): Continuation&lt;R&gt; {\r\n    return object : Continuation&lt;R&gt; {\r\n            override val context: CoroutineContext\r\n                get() = dispatcher\r\n\r\n            override fun resumeWith(result: Result&lt;R&gt;) {\r\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\r\n            }\r\n    }\r\n}\r\n```\r\nI wrote it in my `Coroutines` class\r\n\r\nThen you can call your suspend function like:\r\n\r\n```java\r\nCoroutines coroutines = new Coroutines();  // My coroutines utils class\r\nUserUtils.INSTANCE.login(&quot;user&quot;, &quot;pass&quot;, coroutines.getContinuation(\r\n    (tokenResult, throwable) -&gt; {\r\n        System.out.println(&quot;Coroutines finished&quot;);\r\n        System.out.println(&quot;Result: &quot; + tokenResult);\r\n        System.out.println(&quot;Exception: &quot; + throwable);\r\n    }\r\n));\r\n```\r\n\r\nlogin() function is a suspend function.      \r\n`suspend fun login(username: String, password: String): TokenResult`\r\n\r\nFor your code, you can:\r\n```java\r\ndoSomething(getContinuation((result, throwable) -&gt; { \r\n       //TODO\r\n}));\r\n```\r\n\r\nBesides, you may want to run your callback code in a different thread (e.g. Main thread), just use `launch(Dispathers.Main)` to wrap `resumeWith()`\r\n\r\n```java\r\n...\r\n        override fun resumeWith(result: Result&lt;R&gt;) {\r\n            launch(Dispathers.Main) {\r\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\r\n            }\r\n        }\r\n...\r\n```\r\n\r\n---\r\n\r\nUpdate: My friend has developed a plugin [kotlin-jvm-blocking-bridge][1] that can **automatically generate** blocking bridges for calling suspend functions from Java with minimal effort, also give it a try.\r\n\r\n\r\n  [1]: https://github.com/Him188/kotlin-jvm-blocking-bridge","title":"Call Kotlin suspend function in Java class","body":"<p>If you dont want to use <code>org.jetbrains.kotlinx:kotlinx-coroutines-jdk8</code>, I have a new idea.</p>\n<p>Write below code in your kotlin project.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JvmOverloads\nfun &lt;R&gt; getContinuation(onFinished: BiConsumer&lt;R?, Throwable?&gt;, dispatcher: CoroutineDispatcher = Dispatchers.Default): Continuation&lt;R&gt; {\n    return object : Continuation&lt;R&gt; {\n            override val context: CoroutineContext\n                get() = dispatcher\n\n            override fun resumeWith(result: Result&lt;R&gt;) {\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\n            }\n    }\n}\n</code></pre>\n<p>I wrote it in my <code>Coroutines</code> class</p>\n<p>Then you can call your suspend function like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Coroutines coroutines = new Coroutines();  // My coroutines utils class\nUserUtils.INSTANCE.login(&quot;user&quot;, &quot;pass&quot;, coroutines.getContinuation(\n    (tokenResult, throwable) -&gt; {\n        System.out.println(&quot;Coroutines finished&quot;);\n        System.out.println(&quot;Result: &quot; + tokenResult);\n        System.out.println(&quot;Exception: &quot; + throwable);\n    }\n));\n</code></pre>\n<p>login() function is a suspend function.<br />\n<code>suspend fun login(username: String, password: String): TokenResult</code></p>\n<p>For your code, you can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>doSomething(getContinuation((result, throwable) -&gt; { \n       //TODO\n}));\n</code></pre>\n<p>Besides, you may want to run your callback code in a different thread (e.g. Main thread), just use <code>launch(Dispathers.Main)</code> to wrap <code>resumeWith()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        override fun resumeWith(result: Result&lt;R&gt;) {\n            launch(Dispathers.Main) {\n                onFinished.accept(result.getOrNull(), result.exceptionOrNull())\n            }\n        }\n...\n</code></pre>\n<hr />\n<p>Update: My friend has developed a plugin <a href=\"https://github.com/Him188/kotlin-jvm-blocking-bridge\" rel=\"nofollow noreferrer\">kotlin-jvm-blocking-bridge</a> that can <strong>automatically generate</strong> blocking bridges for calling suspend functions from Java with minimal effort, also give it a try.</p>\n"},{"tags":[],"owner":{"account_id":3178065,"reputation":1032,"user_id":2685454,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655886629,"creation_date":1655886629,"answer_id":72712129,"question_id":52869672,"body_markdown":"I created interface class based on @Kenvix answer to make it compatible with old Android SDK (lower than API 24)\r\n\r\n\r\n    interface CoroutineCallback&lt;RESULT&gt; {\r\n\r\n    companion object {\r\n\r\n        @JvmOverloads\r\n        fun &lt;R&gt; call(\r\n            callback: CoroutineCallback&lt;R&gt;,\r\n            dispatcher: CoroutineDispatcher = Dispatchers.Default\r\n        ): Continuation&lt;R&gt; {\r\n            return object : Continuation&lt;R&gt; {\r\n                override val context: CoroutineContext\r\n                    get() = dispatcher\r\n\r\n                override fun resumeWith(result: Result&lt;R&gt;) {\r\n                    callback.onComplete(result.getOrNull(), result.exceptionOrNull())\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n     fun onComplete(result: RESULT?, error: Throwable?)\r\n    }\r\n\r\n\r\n\r\nusage\r\n\r\n    class kotlinClass {\r\n      suspend doSomething(foo, bar) : FooBar {}\r\n    }\r\n\r\n\r\n    class javaClass {\r\n      void doSomething(){\r\n       kotlinClassObject.doSomething(&quot;foo&quot;, &quot;bar&quot;, CoroutineCallback.Companion.call((fooBar, error) -&gt; { \r\n         //do something with result or error\r\n       }));\r\n      }\r\n    }\r\n\r\nnow call suspend function from any java class by passing `CoroutineCallback`","title":"Call Kotlin suspend function in Java class","body":"<p>I created interface class based on @Kenvix answer to make it compatible with old Android SDK (lower than API 24)</p>\n<pre><code>interface CoroutineCallback&lt;RESULT&gt; {\n\ncompanion object {\n\n    @JvmOverloads\n    fun &lt;R&gt; call(\n        callback: CoroutineCallback&lt;R&gt;,\n        dispatcher: CoroutineDispatcher = Dispatchers.Default\n    ): Continuation&lt;R&gt; {\n        return object : Continuation&lt;R&gt; {\n            override val context: CoroutineContext\n                get() = dispatcher\n\n            override fun resumeWith(result: Result&lt;R&gt;) {\n                callback.onComplete(result.getOrNull(), result.exceptionOrNull())\n            }\n        }\n    }\n}\n\n fun onComplete(result: RESULT?, error: Throwable?)\n}\n</code></pre>\n<p>usage</p>\n<pre><code>class kotlinClass {\n  suspend doSomething(foo, bar) : FooBar {}\n}\n\n\nclass javaClass {\n  void doSomething(){\n   kotlinClassObject.doSomething(&quot;foo&quot;, &quot;bar&quot;, CoroutineCallback.Companion.call((fooBar, error) -&gt; { \n     //do something with result or error\n   }));\n  }\n}\n</code></pre>\n<p>now call suspend function from any java class by passing <code>CoroutineCallback</code></p>\n"}],"owner":{"account_id":16073,"reputation":6803,"user_id":34623,"accept_rate":54,"display_name":"mrtaikandi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50727,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":52887677,"answer_count":4,"score":96,"last_activity_date":1678282349,"creation_date":1539850334,"question_id":52869672,"body_markdown":"Assume we have the following suspend function:\r\n\r\n    suspend fun doSomething(): List&lt;MyClass&gt; { ... }\r\n\r\nIf I want to call this function in one of my existing Java classes (which I&#39;m not able to convert to Kotlin for now) and get its return value I have to provide a `Continuation&lt;? super List&lt;MyClass&gt;&gt;` as its parameter (Obviously). \r\n\r\nMy question is, How can I implement one. Specially its `getContext` getter.","title":"Call Kotlin suspend function in Java class","body":"<p>Assume we have the following suspend function:</p>\n\n<pre><code>suspend fun doSomething(): List&lt;MyClass&gt; { ... }\n</code></pre>\n\n<p>If I want to call this function in one of my existing Java classes (which I'm not able to convert to Kotlin for now) and get its return value I have to provide a <code>Continuation&lt;? super List&lt;MyClass&gt;&gt;</code> as its parameter (Obviously). </p>\n\n<p>My question is, How can I implement one. Specially its <code>getContext</code> getter.</p>\n"},{"tags":["java","kubernetes","sigterm","graceful-shutdown"],"owner":{"account_id":27752731,"reputation":21,"user_id":21186865,"display_name":"Agilulfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678282221,"creation_date":1678281632,"question_id":75673588,"body_markdown":"I have a Java application running inside Docker containers in Kubernetes. I would like to introduce a graceful shutdown of the application when Kubernetes sends a SIGTERM signal to the container and keep all the threads alive while the shutdown hook is running.\r\n\r\nI have used the addShutdownHook method to register a shutdown hook. It&#39;s working and the shutdown hook is ran each time a SIGTERM is sent. However, only that shutdown hook is ran and all the other threads are automatically terminated (e.g. DB connection, servlets, ...).\r\n\r\nI would like to keep all the threads alive while the shutdown hook is running. Is there any way to do that?","title":"How to ignore SIGTERM signal and keep threads alive","body":"<p>I have a Java application running inside Docker containers in Kubernetes. I would like to introduce a graceful shutdown of the application when Kubernetes sends a SIGTERM signal to the container and keep all the threads alive while the shutdown hook is running.</p>\n<p>I have used the addShutdownHook method to register a shutdown hook. It's working and the shutdown hook is ran each time a SIGTERM is sent. However, only that shutdown hook is ran and all the other threads are automatically terminated (e.g. DB connection, servlets, ...).</p>\n<p>I would like to keep all the threads alive while the shutdown hook is running. Is there any way to do that?</p>\n"},{"tags":["java","pdf","itext","pdfbox","itext7"],"comments":[{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678610076,"post_id":75673144,"comment_id":133564042,"body_markdown":"@mkl, whether my requirement possible?","body":"@mkl, whether my requirement possible?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678627223,"post_id":75673144,"comment_id":133566360,"body_markdown":"As far as I know there are no highlevel methods in iText 7 for flattening arbitrary annotations yet, only for flattening widget annotations (form fields). It should be possible, though, to flatten other annotations in a similar manner with iText 7. Thus, a solution would be to copy that form field flattening code and adapt it for other annotation types.","body":"As far as I know there are no highlevel methods in iText 7 for flattening arbitrary annotations yet, only for flattening widget annotations (form fields). It should be possible, though, to flatten other annotations in a similar manner with iText 7. Thus, a solution would be to copy that form field flattening code and adapt it for other annotation types."},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678775540,"post_id":75673144,"comment_id":133594102,"body_markdown":"@mkl I can try that. Can you provide me any POC of that?, \nand also In iText 5.5.9 version there is a method called setAnnotationFlattening (https://javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/text/pdf/PdfStamper.html#setAnnotationFlattening-boolean-) Isn&#39;t there any equivalent method in the current version of iText?","body":"@mkl I can try that. Can you provide me any POC of that?,  and also In iText 5.5.9 version there is a method called setAnnotationFlattening (<a href=\"https://javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/text/pdf/PdfStamper.html#setAnnotationFlattening-boolean-\" rel=\"nofollow noreferrer\">javadoc.io/doc/com.itextpdf/itextpdf/5.5.9/com/itextpdf/tex&zwnj;&#8203;t/&hellip;</a>) Isn&#39;t there any equivalent method in the current version of iText?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678779602,"post_id":75673144,"comment_id":133594927,"body_markdown":"Have a look at the iText forms class [`PdfAcroForm`](https://github.com/itext/itext7/blob/develop/forms/src/main/java/com/itextpdf/forms/PdfAcroForm.java). It has a method `flattenFields` to flatten the widget annotations of form fields. you can take this code as inspiration for a flattener of arbitrary annotations (at least those that bring along an appearance stream).","body":"Have a look at the iText forms class <a href=\"https://github.com/itext/itext7/blob/develop/forms/src/main/java/com/itextpdf/forms/PdfAcroForm.java\" rel=\"nofollow noreferrer\"><code>PdfAcroForm</code></a>. It has a method <code>flattenFields</code> to flatten the widget annotations of form fields. you can take this code as inspiration for a flattener of arbitrary annotations (at least those that bring along an appearance stream)."},{"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"score":0,"creation_date":1678779814,"post_id":75673144,"comment_id":133594984,"body_markdown":"will try it and get back if any issue arises. Anything on setAnnotationFlattening ?","body":"will try it and get back if any issue arises. Anything on setAnnotationFlattening ?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1678780354,"post_id":75673144,"comment_id":133595110,"body_markdown":"*&quot;Anything on setAnnotationFlattening ?&quot;* - As far as I can see that functionality has not been ported to iText 7.","body":"<i>&quot;Anything on setAnnotationFlattening ?&quot;</i> - As far as I can see that functionality has not been ported to iText 7."}],"owner":{"account_id":16104341,"reputation":15,"user_id":11624211,"display_name":"Akhil NagaSai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678282205,"creation_date":1678279166,"question_id":75673144,"body_markdown":"I have a document with a stamp annotation added to it, I can flatten the acroform present in the pdf, but this doesn&#39;t flatten the stamp annotations present in the pdf. I&#39;m attaching the normal pdf with stamp and acroform flattened pdf. \r\n\r\nI would like to flatten the annotations because if you open the flattened pdf in the Preview application of MAC, we can edit the pdf like moving the annotations and deleting them. I would like to avoid those. So if I can flatten the annotations in the pdf along with form fields, then I guess the movement of annotations will be restricted in the Preview application.\r\n\r\nThis is the code I have used to add the stamp:\r\n\r\n\tPdfReader reader1 = new PdfReader(file);\r\n    ByteArrayOutputStream mos = new ByteArrayOutputStream();\r\n    PdfDocument docc = new PdfDocument(reader1, new PdfWriter(mos),new StampingProperties().useAppendMode());\r\n    String filePath = &quot;rectangle.png&quot;;\r\n    ImageData img = ImageDataFactory.create(filePath);\r\n    Rectangle rect=null;\r\n    float w = img.getWidth();\r\n    float h = img.getHeight();\r\n    rect = new Rectangle(0,0,250,400);\r\n    PdfFormXObject xObj = new PdfFormXObject(new Rectangle(w,h));\r\n    PdfCanvas canvas = new PdfCanvas(xObj, docc);\r\n    canvas.addImageAt(img,0,0,false);\r\n    PdfStampAnnotation stamp = new PdfStampAnnotation(rect);\r\n    stamp.setNormalAppearance(xObj.getPdfObject());\r\n    docc.getPage(1).addAnnotation(stamp);\r\n    \r\n    docc.close();\r\n\r\n    file = new File(&quot;Annotation Added.pdf&quot;);\r\n    FileOutputStream fout1 = new FileOutputStream(file);\r\n    fout1.write(mos.toByteArray());\r\n    fout1.close();\r\n\r\nThese are the files :\r\n\r\n[PDF Before flattening with stamp annotation][1]\r\n\r\n[PDF After flattening][2]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1nP1W5H2-HPra8JKPrh9TvFR5wS7f1aBL/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1z2piiIeOmylZnblqCBNMUtrlSmJf4kWT/view?usp=sharing\r\n","title":"How to flatten stamp annotations in a pdf using iText or PdfBox?","body":"<p>I have a document with a stamp annotation added to it, I can flatten the acroform present in the pdf, but this doesn't flatten the stamp annotations present in the pdf. I'm attaching the normal pdf with stamp and acroform flattened pdf.</p>\n<p>I would like to flatten the annotations because if you open the flattened pdf in the Preview application of MAC, we can edit the pdf like moving the annotations and deleting them. I would like to avoid those. So if I can flatten the annotations in the pdf along with form fields, then I guess the movement of annotations will be restricted in the Preview application.</p>\n<p>This is the code I have used to add the stamp:</p>\n<pre><code>PdfReader reader1 = new PdfReader(file);\nByteArrayOutputStream mos = new ByteArrayOutputStream();\nPdfDocument docc = new PdfDocument(reader1, new PdfWriter(mos),new StampingProperties().useAppendMode());\nString filePath = &quot;rectangle.png&quot;;\nImageData img = ImageDataFactory.create(filePath);\nRectangle rect=null;\nfloat w = img.getWidth();\nfloat h = img.getHeight();\nrect = new Rectangle(0,0,250,400);\nPdfFormXObject xObj = new PdfFormXObject(new Rectangle(w,h));\nPdfCanvas canvas = new PdfCanvas(xObj, docc);\ncanvas.addImageAt(img,0,0,false);\nPdfStampAnnotation stamp = new PdfStampAnnotation(rect);\nstamp.setNormalAppearance(xObj.getPdfObject());\ndocc.getPage(1).addAnnotation(stamp);\n\ndocc.close();\n\nfile = new File(&quot;Annotation Added.pdf&quot;);\nFileOutputStream fout1 = new FileOutputStream(file);\nfout1.write(mos.toByteArray());\nfout1.close();\n</code></pre>\n<p>These are the files :</p>\n<p><a href=\"https://drive.google.com/file/d/1nP1W5H2-HPra8JKPrh9TvFR5wS7f1aBL/view?usp=sharing\" rel=\"nofollow noreferrer\">PDF Before flattening with stamp annotation</a></p>\n<p><a href=\"https://drive.google.com/file/d/1z2piiIeOmylZnblqCBNMUtrlSmJf4kWT/view?usp=sharing\" rel=\"nofollow noreferrer\">PDF After flattening</a></p>\n"},{"tags":["java","spring","hibernate","kotlin","transactions"],"comments":[{"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"score":0,"creation_date":1678406796,"post_id":75672318,"comment_id":133531325,"body_markdown":"Not sure if that will resolve the problem or not, but as you mention that the current code has it all in 1 single transaction, perhaps instead of removing the top level transactional entirely you could put an Transactional with propagation_requires_new on the two db calls, forcing them to be called in their own transaction, while the outer transaction is temporarily suspended.","body":"Not sure if that will resolve the problem or not, but as you mention that the current code has it all in 1 single transaction, perhaps instead of removing the top level transactional entirely you could put an Transactional with propagation_requires_new on the two db calls, forcing them to be called in their own transaction, while the outer transaction is temporarily suspended."},{"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"score":0,"creation_date":1678443652,"post_id":75672318,"comment_id":133537522,"body_markdown":"The main motivation for doing this redesign is to avoid connection pool exhaustion, so running the expensive calls inside another transaction is not a solution.","body":"The main motivation for doing this redesign is to avoid connection pool exhaustion, so running the expensive calls inside another transaction is not a solution."}],"answers":[{"tags":[],"owner":{"account_id":10617793,"reputation":81,"user_id":7819736,"display_name":"Lewis_McReu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678281323,"creation_date":1678281323,"answer_id":75673528,"question_id":75672318,"body_markdown":"I think you&#39;re on the right track with your current solutions for the LazyInitializationException.\r\nThe only other solution I can offer (but not recommend) is applying eager fetching to the relevant instance variables of the Entity class. I&#39;d go with a DTO myself.\r\n\r\nHowever, considering that methodWithDbCalls1, methodWithExternalCalls and methodWithDbCalls2 would be run in sequence based on your example, your transaction would still be blocked until the external calls were completed because the transaction would still be in use in the outer method call. Removing the transaction context from the inner method would do nothing to fix that. \r\n\r\nYou may want to consider using non-blocking calls for your external logic, perhaps with an Executor. That way the transaction and all logic that has to be executed within it can continue. If the following database calls require information from your long external requests, there&#39;s nothing to be done but wait for the information.","title":"Interrupted transactions and lazy loading","body":"<p>I think you're on the right track with your current solutions for the LazyInitializationException.\nThe only other solution I can offer (but not recommend) is applying eager fetching to the relevant instance variables of the Entity class. I'd go with a DTO myself.</p>\n<p>However, considering that methodWithDbCalls1, methodWithExternalCalls and methodWithDbCalls2 would be run in sequence based on your example, your transaction would still be blocked until the external calls were completed because the transaction would still be in use in the outer method call. Removing the transaction context from the inner method would do nothing to fix that.</p>\n<p>You may want to consider using non-blocking calls for your external logic, perhaps with an Executor. That way the transaction and all logic that has to be executed within it can continue. If the following database calls require information from your long external requests, there's nothing to be done but wait for the information.</p>\n"}],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678281963,"creation_date":1678274231,"question_id":75672318,"body_markdown":"Currently, I have this code:\r\n```\r\n@Transactional\r\nfun apiMethod() {\r\n  val entity: SomeEntity = myRepo.find()\r\n  methodWithDbCalls1(entity)\r\n  methodWithExternalCalls(entity)\r\n  methodWithDbCalls2(entity)\r\n}\r\n```\r\nBecause I have `@Transactional` on the top-level method all DB manipulation (including `entity`) runs in a single transaction.\r\n\r\nNow, `methodWithExternalCalls` calls some 3rd party service and these requests take a long time so it&#39;s not a good idea to block the whole transaction by that. So instead I want to wrap only the methods `methodWithDbCalls1` and `methodWithDbCalls2` into `@Transactional`, while `methodWithExternalCalls` must not run in a transaction at all. **The trouble now is that the `entity` is of course lazily loaded, so by dropping the encompassing transaction, I start getting lazy initialization exceptions.**\r\n\r\nMy question is how to handle that. Two solutions come to my mind, neither of them ideal:\r\n- prefetch those `entity` properties which are needed by either of the inner methods. This has the disadvantage that the outer method would be tightly bound to the inner methods logic. Moreover, it seems a little bit hacky.\r\n- materialize the `entity` into a suitable DTO. This seems a little bit cleaner but actually suffers from the same issue because &quot;suitable DTO&quot; again means tailor-made to the inner methods&#39; usage.\r\n\r\nAre there any better solutions? **I&#39;m especially interested in those that can avoid the necessity of the outer method knowing about the inner workings of the inner ones**.","title":"Interrupted transactions and lazy loading","body":"<p>Currently, I have this code:</p>\n<pre><code>@Transactional\nfun apiMethod() {\n  val entity: SomeEntity = myRepo.find()\n  methodWithDbCalls1(entity)\n  methodWithExternalCalls(entity)\n  methodWithDbCalls2(entity)\n}\n</code></pre>\n<p>Because I have <code>@Transactional</code> on the top-level method all DB manipulation (including <code>entity</code>) runs in a single transaction.</p>\n<p>Now, <code>methodWithExternalCalls</code> calls some 3rd party service and these requests take a long time so it's not a good idea to block the whole transaction by that. So instead I want to wrap only the methods <code>methodWithDbCalls1</code> and <code>methodWithDbCalls2</code> into <code>@Transactional</code>, while <code>methodWithExternalCalls</code> must not run in a transaction at all. <strong>The trouble now is that the <code>entity</code> is of course lazily loaded, so by dropping the encompassing transaction, I start getting lazy initialization exceptions.</strong></p>\n<p>My question is how to handle that. Two solutions come to my mind, neither of them ideal:</p>\n<ul>\n<li>prefetch those <code>entity</code> properties which are needed by either of the inner methods. This has the disadvantage that the outer method would be tightly bound to the inner methods logic. Moreover, it seems a little bit hacky.</li>\n<li>materialize the <code>entity</code> into a suitable DTO. This seems a little bit cleaner but actually suffers from the same issue because &quot;suitable DTO&quot; again means tailor-made to the inner methods' usage.</li>\n</ul>\n<p>Are there any better solutions? <strong>I'm especially interested in those that can avoid the necessity of the outer method knowing about the inner workings of the inner ones</strong>.</p>\n"},{"tags":["java","gradle","groovy"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678279942,"post_id":75672821,"comment_id":133501272,"body_markdown":"You&#39;re missing a `-` before `impl`: The artifact name ends in `-client-impl`, but you wrote `-clientimpl` (you&#39;re also missing a version number, but that might be comming from some BOM).","body":"You&#39;re missing a <code>-</code> before <code>impl</code>: The artifact name ends in <code>-client-impl</code>, but you wrote <code>-clientimpl</code> (you&#39;re also missing a version number, but that might be comming from some BOM)."},{"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"score":0,"creation_date":1678281656,"post_id":75672821,"comment_id":133501755,"body_markdown":"Thanks for noticing. It was a bad copy paste from somewhere or I accidentally removed it here, but in my code it is with -client-impl. So that&#39;s not it.\n\nAlso the version is not needed apparently.","body":"Thanks for noticing. It was a bad copy paste from somewhere or I accidentally removed it here, but in my code it is with -client-impl. So that&#39;s not it.  Also the version is not needed apparently."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678281784,"post_id":75672821,"comment_id":133501804,"body_markdown":"With the fixed name and a version, your code worked just fine for me (excluding the dependency).","body":"With the fixed name and a version, your code worked just fine for me (excluding the dependency)."}],"owner":{"account_id":17204995,"reputation":61,"user_id":12455768,"display_name":"terrinizer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678281817,"creation_date":1678277098,"question_id":75672821,"body_markdown":"I want to exclude the following dependency in build.gradle in a module, but it doesn&#39;t work\r\n\r\n            implementation(&quot;org.apache.chemistry.opencmis:chemistry-opencmis-client-impl&quot;) {\r\n        exclude group: &#39;org.codehaus.woodstox&#39;, module: &#39;woodstox-core-asl&#39;\r\n        }\r\n\r\nI still get the following dependency tree:\r\n \r\n\r\n    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-impl -&gt; 1.1.0\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-api:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0\r\n    |    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-bindings:1.1.0\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\r\n    |    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0 (*)\r\n    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2\r\n    |    |    |    |    |    |    |    +--- xml-resolver:xml-resolver:1.2\r\n    |    |    |    |    |    |    |    +--- org.ow2.asm:asm:9.0\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0\r\n    |    |    |    |    |    |    |    |    +--- org.glassfish.jaxb:jaxb-runtime:2.3.5 -&gt; 2.3.7 (*)\r\n    |    |    |    |    |    |    |    |    +--- com.fasterxml.woodstox:woodstox-core:6.2.7 -&gt; 6.3.1\r\n    |    |    |    |    |    |    |    |    |    \\--- org.codehaus.woodstox:stax2-api:4.2.1\r\n    |    |    |    |    |    |    |    |    +--- org.apache.ws.xmlschema:xmlschema-core:2.3.0\r\n    |    |    |    |    |    |    |    |    \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-wsdl:3.4.2\r\n    |    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    |    +--- wsdl4j:wsdl4j:1.6.3\r\n    |    |    |    |    |    |    |    |    |    \\--- org.ow2.asm:asm:9.0\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-databinding-jaxb:3.4.2\r\n    |    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-xml:3.4.2\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-simple:3.4.2\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\r\n    |    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\r\n    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-ws-addr:3.4.2\r\n    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\r\n    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-ws-policy:3.4.2\r\n    |    |    |    |    |    |    |              +--- wsdl4j:wsdl4j:1.6.3\r\n    |    |    |    |    |    |    |              +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    |              \\--- org.apache.neethi:neethi:3.1.1\r\n    |    |    |    |    |    |    |                   \\--- org.codehaus.woodstox:woodstox-core-asl:4.4.1\r\n    |    |    |    |    |    |    |                        +--- javax.xml.stream:stax-api:1.0-2 -&gt; org.codehaus.woodstox:stax2-api:4.2.1\r\n    |    |    |    |    |    |    |                        \\--- org.codehaus.woodstox:stax2-api:3.1.4 -&gt; 4.2.1\r\n    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2\r\n    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\r\n    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-ws-policy:3.0.12 -&gt; 3.4.2 (*)\r\n    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\r\n\r\nThis is gradle groovy. I&#39;m using gradle 7. I already read these pages but nothing seems to help:\r\n\r\nhttps://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\r\n\r\nhttps://tomgregory.com/how-to-exclude-gradle-dependencies/\r\n","title":"Exclude dependency in gradle 7","body":"<p>I want to exclude the following dependency in build.gradle in a module, but it doesn't work</p>\n<pre><code>        implementation(&quot;org.apache.chemistry.opencmis:chemistry-opencmis-client-impl&quot;) {\n    exclude group: 'org.codehaus.woodstox', module: 'woodstox-core-asl'\n    }\n</code></pre>\n<p>I still get the following dependency tree:</p>\n<pre><code>+--- org.apache.chemistry.opencmis:chemistry-opencmis-client-impl -&gt; 1.1.0\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-api:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0\n|    |    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-client-bindings:1.1.0\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-api:1.1.0 (*)\n|    |    |    |    |    |    +--- org.apache.chemistry.opencmis:chemistry-opencmis-commons-impl:1.1.0 (*)\n|    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2\n|    |    |    |    |    |    |    +--- xml-resolver:xml-resolver:1.2\n|    |    |    |    |    |    |    +--- org.ow2.asm:asm:9.0\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0\n|    |    |    |    |    |    |    |    +--- org.glassfish.jaxb:jaxb-runtime:2.3.5 -&gt; 2.3.7 (*)\n|    |    |    |    |    |    |    |    +--- com.fasterxml.woodstox:woodstox-core:6.2.7 -&gt; 6.3.1\n|    |    |    |    |    |    |    |    |    \\--- org.codehaus.woodstox:stax2-api:4.2.1\n|    |    |    |    |    |    |    |    +--- org.apache.ws.xmlschema:xmlschema-core:2.3.0\n|    |    |    |    |    |    |    |    \\--- jakarta.xml.bind:jakarta.xml.bind-api:2.3.3 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-wsdl:3.4.2\n|    |    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    |    +--- wsdl4j:wsdl4j:1.6.3\n|    |    |    |    |    |    |    |    |    \\--- org.ow2.asm:asm:9.0\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-databinding-jaxb:3.4.2\n|    |    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-xml:3.4.2\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-simple:3.4.2\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\n|    |    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-wsdl:3.4.2 (*)\n|    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-rt-ws-addr:3.4.2\n|    |    |    |    |    |    |         +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |         +--- org.apache.cxf:cxf-rt-bindings-soap:3.4.2 (*)\n|    |    |    |    |    |    |         \\--- org.apache.cxf:cxf-rt-ws-policy:3.4.2\n|    |    |    |    |    |    |              +--- wsdl4j:wsdl4j:1.6.3\n|    |    |    |    |    |    |              +--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    |              \\--- org.apache.neethi:neethi:3.1.1\n|    |    |    |    |    |    |                   \\--- org.codehaus.woodstox:woodstox-core-asl:4.4.1\n|    |    |    |    |    |    |                        +--- javax.xml.stream:stax-api:1.0-2 -&gt; org.codehaus.woodstox:stax2-api:4.2.1\n|    |    |    |    |    |    |                        \\--- org.codehaus.woodstox:stax2-api:3.1.4 -&gt; 4.2.1\n|    |    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2\n|    |    |    |    |    |    |    \\--- org.apache.cxf:cxf-core:3.4.2 -&gt; 3.5.0 (*)\n|    |    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-frontend-jaxws:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-transports-http:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    +--- org.apache.cxf:cxf-rt-ws-policy:3.0.12 -&gt; 3.4.2 (*)\n|    |    |    |    |    \\--- org.slf4j:slf4j-api:1.7.21 -&gt; 1.7.36\n</code></pre>\n<p>This is gradle groovy. I'm using gradle 7. I already read these pages but nothing seems to help:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html</a></p>\n<p><a href=\"https://tomgregory.com/how-to-exclude-gradle-dependencies/\" rel=\"nofollow noreferrer\">https://tomgregory.com/how-to-exclude-gradle-dependencies/</a></p>\n"},{"tags":["java","serialization","awt","serialversionuid"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1339855303,"post_id":11052627,"comment_id":14478477,"body_markdown":"possible duplicate of [What is a serialVersionUID and why should I use it?](http://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it\">What is a serialVersionUID and why should I use it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1339770624,"creation_date":1339770624,"answer_id":11052689,"question_id":11052627,"body_markdown":"`TestGUI` extends `Frame` which in turn implements `Serializable`. A requirement of the `Serializable` interface is to have a `final long serialVersionUID` field. See the [Serializable javadoc][1] for more info.\r\n\r\nTo quote the important part of that Javadoc:\r\n\r\n    ...it is strongly recommended that all serializable classes explicitly declare\r\n    serialVersionUID values, since the default serialVersionUID computation is highly\r\n    sensitive to class details that may vary depending on compiler implementations...\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html","title":"serialVersionUID field warning in eclipse","body":"<p><code>TestGUI</code> extends <code>Frame</code> which in turn implements <code>Serializable</code>. A requirement of the <code>Serializable</code> interface is to have a <code>final long serialVersionUID</code> field. See the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html\">Serializable javadoc</a> for more info.</p>\n\n<p>To quote the important part of that Javadoc:</p>\n\n<pre><code>...it is strongly recommended that all serializable classes explicitly declare\nserialVersionUID values, since the default serialVersionUID computation is highly\nsensitive to class details that may vary depending on compiler implementations...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":163609,"reputation":2000,"user_id":385868,"display_name":"Zagrev"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1678280974,"creation_date":1339771610,"answer_id":11052980,"question_id":11052627,"body_markdown":"Eclipse used to have that warning disabled by default. In Eclipse Indigo (3.7), the default was to enable the warning. You can change the setting in 2 places, one for everything in the workspace, and one for a single project.\r\n\r\nTo disable the warning for all projects in the **workspace**:\r\n\r\n**Preferences** -&gt; **Java** -&gt; **Compiler** -&gt; **Errors/Warnings** tab -&gt; **Potential programming problems** section -&gt; **Serializable class without serialVersionUID** -&gt; **Ignore**\r\n\r\nTo disable the warning for a **single project**:\r\n\r\nRight-click on the project -&gt; **Properties** -&gt; **Java Compiler** -&gt; **Errors/Warnings** -&gt; click **Enable project specific settings** (if necessary) -&gt; **Potential programming problems** section -&gt; **Serializable class without serialVersionUID** -&gt; **Ignore**","title":"serialVersionUID field warning in eclipse","body":"<p>Eclipse used to have that warning disabled by default. In Eclipse Indigo (3.7), the default was to enable the warning. You can change the setting in 2 places, one for everything in the workspace, and one for a single project.</p>\n<p>To disable the warning for all projects in the <strong>workspace</strong>:</p>\n<p><strong>Preferences</strong> -&gt; <strong>Java</strong> -&gt; <strong>Compiler</strong> -&gt; <strong>Errors/Warnings</strong> tab -&gt; <strong>Potential programming problems</strong> section -&gt; <strong>Serializable class without serialVersionUID</strong> -&gt; <strong>Ignore</strong></p>\n<p>To disable the warning for a <strong>single project</strong>:</p>\n<p>Right-click on the project -&gt; <strong>Properties</strong> -&gt; <strong>Java Compiler</strong> -&gt; <strong>Errors/Warnings</strong> -&gt; click <strong>Enable project specific settings</strong> (if necessary) -&gt; <strong>Potential programming problems</strong> section -&gt; <strong>Serializable class without serialVersionUID</strong> -&gt; <strong>Ignore</strong></p>\n"}],"owner":{"account_id":1560370,"reputation":664,"user_id":1450359,"accept_rate":57,"display_name":"Surender Thakran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12843,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":11052980,"answer_count":2,"score":15,"last_activity_date":1678280974,"creation_date":1339770425,"question_id":11052627,"body_markdown":"I have just started on AWT and made a simple program in it, it works fine but it shows a warning message in eclipse which i don&#39;t understand:\r\n\r\n&gt; The serializable class TestGUI does not declare a static final\r\n&gt; serialVersionUID field of type long\r\n\r\nI know that the warning message is not related to AWT and there was no need to post my whole code but when i tried to make a SSCCE of the code the warning also disappeared. Since I don&#39;t know why this warning is generated i didn&#39;t knew which part to retain in my SSCCE. Hence the whole code!\r\n\r\nMy code is:\r\n\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    public class TestGUI extends Frame {\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tprivate int x = 50;\r\n    \tprivate int y = 50;\r\n    \t\r\n    \tTestGUI(String s) {\r\n    \t\taddWindowListener(new WindowAdapter() {\r\n    \t\t\tpublic void windowClosing(WindowEvent we) {\r\n    \t\t\t\tsetVisible(false);\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\taddMouseListener(new MouseAdapter() {\r\n    \t\t\tpublic void mouseClicked(MouseEvent me) {\r\n    \t\t\t\tx = me.getX();\r\n    \t\t\t\ty = me.getY();\r\n    \t\t\t\trepaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tg.drawString(&quot;Hello Princess&quot;, 100, 100);\r\n    \t\tg.drawString(&quot;Mouse clicked here&quot;, x, y);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tTestGUI tg = new TestGUI(&quot;first&quot;);\r\n    \t\ttg.setSize(500, 500);\r\n    \t\ttg.setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n\r\nThanx in advance!","title":"serialVersionUID field warning in eclipse","body":"<p>I have just started on AWT and made a simple program in it, it works fine but it shows a warning message in eclipse which i don't understand:</p>\n\n<blockquote>\n  <p>The serializable class TestGUI does not declare a static final\n  serialVersionUID field of type long</p>\n</blockquote>\n\n<p>I know that the warning message is not related to AWT and there was no need to post my whole code but when i tried to make a SSCCE of the code the warning also disappeared. Since I don't know why this warning is generated i didn't knew which part to retain in my SSCCE. Hence the whole code!</p>\n\n<p>My code is:</p>\n\n<pre><code>import java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\npublic class TestGUI extends Frame {\n    /**\n     * @param args\n     */\n    private int x = 50;\n    private int y = 50;\n\n    TestGUI(String s) {\n        addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent we) {\n                setVisible(false);\n                System.exit(0);\n            }\n        });\n        addMouseListener(new MouseAdapter() {\n            public void mouseClicked(MouseEvent me) {\n                x = me.getX();\n                y = me.getY();\n                repaint();\n            }\n        });\n    }\n\n    public void paint(Graphics g) {\n        g.drawString(\"Hello Princess\", 100, 100);\n        g.drawString(\"Mouse clicked here\", x, y);\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        TestGUI tg = new TestGUI(\"first\");\n        tg.setSize(500, 500);\n        tg.setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>Thanx in advance!</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1678212382,"post_id":75663581,"comment_id":133488384,"body_markdown":"did you add the second part of my answer with containerFactory inside @KafkaListener?","body":"did you add the second part of my answer with containerFactory inside @KafkaListener?"},{"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"score":0,"creation_date":1678214856,"post_id":75663581,"comment_id":133489017,"body_markdown":"Yeah, I idid. Please see the update KafkaListener above","body":"Yeah, I idid. Please see the update KafkaListener above"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1678203782,"creation_date":1678203452,"answer_id":75664062,"question_id":75663581,"body_markdown":"Check this [article][1]. You have to provide the message converter for your custom java object `ExampleEvent`. The `@Payload` just by it self is able to receive just a `String` message.\r\n\r\nTry with\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Greeting&gt; exampleConsumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n          props,\r\n          new StringDeserializer(), \r\n          new JsonDeserializer&lt;&gt;(ExampleEvent.class));\r\n    }\r\n    \r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; \r\n      exampleKafkaListenerContainerFactory() {\r\n    \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; factory =\r\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(exampleConsumerFactory());\r\n        return factory;\r\n    }\r\n\r\nAnd then register this by\r\n\r\n          @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;,\r\n          containerFactory = &quot;exampleKafkaListenerContainerFactory&quot;  //&lt;-------\r\n      )\r\n      public void process(ExampleEvent event) {\r\n         this.helloKafkaService.handleMessage(event);\r\n         log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n     }\r\n\r\nAlso ensure that in your dependencies you already have the following otherwise add it manually\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://www.baeldung.com/spring-kafka#2-consuming-messages","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<p>Check this <a href=\"https://www.baeldung.com/spring-kafka#2-consuming-messages\" rel=\"nofollow noreferrer\">article</a>. You have to provide the message converter for your custom java object <code>ExampleEvent</code>. The <code>@Payload</code> just by it self is able to receive just a <code>String</code> message.</p>\n<p>Try with</p>\n<pre><code>@Bean\npublic ConsumerFactory&lt;String, Greeting&gt; exampleConsumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(\n      props,\n      new StringDeserializer(), \n      new JsonDeserializer&lt;&gt;(ExampleEvent.class));\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; \n  exampleKafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt; factory =\n      new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(exampleConsumerFactory());\n    return factory;\n}\n</code></pre>\n<p>And then register this by</p>\n<pre><code>      @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;,\n      containerFactory = &quot;exampleKafkaListenerContainerFactory&quot;  //&lt;-------\n  )\n  public void process(ExampleEvent event) {\n     this.helloKafkaService.handleMessage(event);\n     log.info(&quot;Processing event: &quot; + event.getExampleField());\n }\n</code></pre>\n<p>Also ensure that in your dependencies you already have the following otherwise add it manually</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678209790,"creation_date":1678209086,"answer_id":75665142,"question_id":75663581,"body_markdown":"&gt;`[example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent]` \r\n\r\nGiven that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that used to load the listener, for example because  Spring Dev Tools is being used.\r\n\r\nWhen specified via a property, the deserializer is loaded by the Kafka clients instead of Spring.\r\n\r\nOne way to avoid that is to add the deserializer directly to the consumer factory instead of via a property. You can use the constructor or setter on the factory, as shown in the other answer.","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<blockquote>\n<p><code>[example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent]</code></p>\n</blockquote>\n<p>Given that the packages are the same, this usually means that the deserializer was loaded by a different class loader to that used to load the listener, for example because  Spring Dev Tools is being used.</p>\n<p>When specified via a property, the deserializer is loaded by the Kafka clients instead of Spring.</p>\n<p>One way to avoid that is to add the deserializer directly to the consumer factory instead of via a property. You can use the constructor or setter on the factory, as shown in the other answer.</p>\n"}],"owner":{"account_id":6433608,"reputation":927,"user_id":4985852,"accept_rate":62,"display_name":"Zichen Ma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678280658,"creation_date":1678200927,"question_id":75663581,"body_markdown":"I am using SpringBoot 2.7.5 got an issue which the @KafkaListener got the MessageConversionException. The whole error logs show below:\r\n\r\n    Bean [example.package.api.kafka.HelloKafkaListener@30e312a2]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]\r\nThe consumer configurations:\r\n\r\n    consumer:\r\n      group-id: my-topic:HelloKafkaListener\r\n      auto-offset-reset: latest\r\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      properties:\r\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\r\n        spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n        request.timeout.ms: 5000\r\n\r\nThe versions I used are:\r\n\r\n    &lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\r\n    &lt;avro.version&gt;1.11.1&lt;/avro.version&gt; \r\n    &lt;spring.kafka.version&gt;2.8.10&lt;/spring.kafka.version&gt;\r\n\r\nMy pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n        &lt;version&gt;${avro.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n        &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy event.avsc is like this:\r\n\r\n    {\r\n      &quot;namespace&quot;: &quot;my.name.space&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;ExampleEvent&quot;,\r\n      &quot;doc&quot;: &quot;A sample event&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;exampleField&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nI use the confluent tool send the message in the terminal like this:\r\n\r\n        ./kafka-avro-console-producer \\\r\n        --broker-list localhost:59092 --topic my-topic \\\r\n        --property schema.registry.url=http://kafka-schema:80 \\\r\n        --property value.schema=&quot;$(cat ~/codebase/avro/event.avsc)&quot;\r\n        {&quot;exampleField&quot;:&quot;HELLO WORLD&quot;}\r\nAnd if using the `./kafka-avro-console-consumer` to get the message, it works well.\r\n \r\nMy listener is like this:\r\n\r\n    public class HelloKafkaListener {\r\n      private final HelloKafkaService helloKafkaService;\r\n      \r\n      @Autowired\r\n      public HelloKafkaListener(HelloKafkaService helloKafkaService) {\r\n        this.helloKafkaService = helloKafkaService;\r\n      }\r\n      \r\n      @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;\r\n      )\r\n    //  public void process(ConsumerRecord record) {\r\n    //    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\r\n    //  }\r\n      public void process(@Payload ExampleEvent event) {\r\n        this.helloKafkaService.handleMessage(event);\r\n        log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n      }\r\n    }\r\nIf I use `ConsumerRecord record`, it works I can see the `record.value().toString()` is `{&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}`, but switch to `ExampleEvent event`, it throws exception. Anyone knows why this happens? Many Thanks!\r\n\r\nThank you for the help! After reviewing the comments, I created a `DefaultKafkaConsumerFactory` and `ConcurrentKafkaListenerContainerFactory` like this: \r\n\r\n    @Bean\r\n      public DefaultKafkaConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory(\r\n          @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapAddress,\r\n          @Value(value = &quot;${spring.kafka.properties.schema.registry.url}&quot;) String schemaRegistryUrl\r\n      ) {\r\n        var props = Map.&lt;String, Object&gt;of(\r\n            ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\r\n            ConsumerConfig.GROUP_ID_CONFIG, groupId\r\n        );\r\n        var keyDeserializer = new ErrorHandlingDeserializer&lt;&gt;(new StringDeserializer());\r\n        var config = new HashMap&lt;String, Object&gt;();\r\n        config.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\r\n        config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n        var jsonDeserializer = new KafkaAvroDeserializer(null, config);\r\n        var valueDeserializer = new ErrorHandlingDeserializer&lt;&gt;(jsonDeserializer);\r\n    \r\n        var factory = new DefaultKafkaConsumerFactory(props, keyDeserializer, valueDeserializer, false);\r\n        \r\n        return factory;\r\n      }\r\n      \r\n      @Bean\r\n      public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt;\r\n      helloKafkaListenerContainerFactory(ConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory helloContainerFactory =\r\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        helloContainerFactory.setConsumerFactory(helloConsumerFactory);\r\n        return helloContainerFactory;\r\n      }\r\n\r\nUpdated Listener: \r\n\r\n      @KafkaListener(\r\n          topics = &quot;my-topic&quot;,\r\n          groupId = &quot;my-topic:HelloKafkaListener&quot;,\r\n          containerFactory = &quot;helloKafkaListenerContainerFactory&quot;\r\n      )\r\n    //  public void process(ConsumerRecord record) {\r\n    //    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\r\n    //  }\r\n      public void process(@Payload ExampleEvent event) {\r\n        this.helloKafkaService.handleMessage(event);\r\n        log.info(&quot;Processing event: &quot; + event.getExampleField());\r\n      }\r\n\r\nHowever, still got the same issue. ","title":"SpringBoot @KafkaListener got MessageConversionException: Cannot convert from A to B","body":"<p>I am using SpringBoot 2.7.5 got an issue which the @KafkaListener got the MessageConversionException. The whole error logs show below:</p>\n<pre><code>Bean [example.package.api.kafka.HelloKafkaListener@30e312a2]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [example.packageapi.ExampleEvent] to [example.packageapi.ExampleEvent] for GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}], failedMessage=GenericMessage [payload={&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}, headers={kafka_offset=37, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@3bb288b4, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=my-topic, kafka_receivedTimestamp=1678197991282, kafka_groupId=my-topic:HelloKafkaListener}]\n</code></pre>\n<p>The consumer configurations:</p>\n<pre><code>consumer:\n  group-id: my-topic:HelloKafkaListener\n  auto-offset-reset: latest\n  key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n  value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n  properties:\n    spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\n    spring.deserializer.value.delegate.class: io.confluent.kafka.serializers.KafkaAvroDeserializer\n    request.timeout.ms: 5000\n</code></pre>\n<p>The versions I used are:</p>\n<pre><code>&lt;confluent.version&gt;7.3.0&lt;/confluent.version&gt;\n&lt;avro.version&gt;1.11.1&lt;/avro.version&gt; \n&lt;spring.kafka.version&gt;2.8.10&lt;/spring.kafka.version&gt;\n</code></pre>\n<p>My pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n    &lt;artifactId&gt;avro&lt;/artifactId&gt;\n    &lt;version&gt;${avro.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-avro-serializer&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n    &lt;version&gt;${confluent.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My event.avsc is like this:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;my.name.space&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;ExampleEvent&quot;,\n  &quot;doc&quot;: &quot;A sample event&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;exampleField&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I use the confluent tool send the message in the terminal like this:</p>\n<pre><code>    ./kafka-avro-console-producer \\\n    --broker-list localhost:59092 --topic my-topic \\\n    --property schema.registry.url=http://kafka-schema:80 \\\n    --property value.schema=&quot;$(cat ~/codebase/avro/event.avsc)&quot;\n    {&quot;exampleField&quot;:&quot;HELLO WORLD&quot;}\n</code></pre>\n<p>And if using the <code>./kafka-avro-console-consumer</code> to get the message, it works well.</p>\n<p>My listener is like this:</p>\n<pre><code>public class HelloKafkaListener {\n  private final HelloKafkaService helloKafkaService;\n  \n  @Autowired\n  public HelloKafkaListener(HelloKafkaService helloKafkaService) {\n    this.helloKafkaService = helloKafkaService;\n  }\n  \n  @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;\n  )\n//  public void process(ConsumerRecord record) {\n//    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\n//  }\n  public void process(@Payload ExampleEvent event) {\n    this.helloKafkaService.handleMessage(event);\n    log.info(&quot;Processing event: &quot; + event.getExampleField());\n  }\n}\n</code></pre>\n<p>If I use <code>ConsumerRecord record</code>, it works I can see the <code>record.value().toString()</code> is <code>{&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}</code>, but switch to <code>ExampleEvent event</code>, it throws exception. Anyone knows why this happens? Many Thanks!</p>\n<p>Thank you for the help! After reviewing the comments, I created a <code>DefaultKafkaConsumerFactory</code> and <code>ConcurrentKafkaListenerContainerFactory</code> like this:</p>\n<pre><code>@Bean\n  public DefaultKafkaConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory(\n      @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapAddress,\n      @Value(value = &quot;${spring.kafka.properties.schema.registry.url}&quot;) String schemaRegistryUrl\n  ) {\n    var props = Map.&lt;String, Object&gt;of(\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\n        ConsumerConfig.GROUP_ID_CONFIG, groupId\n    );\n    var keyDeserializer = new ErrorHandlingDeserializer&lt;&gt;(new StringDeserializer());\n    var config = new HashMap&lt;String, Object&gt;();\n    config.put(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, schemaRegistryUrl);\n    config.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n    var jsonDeserializer = new KafkaAvroDeserializer(null, config);\n    var valueDeserializer = new ErrorHandlingDeserializer&lt;&gt;(jsonDeserializer);\n\n    var factory = new DefaultKafkaConsumerFactory(props, keyDeserializer, valueDeserializer, false);\n    \n    return factory;\n  }\n  \n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, ExampleEvent&gt;\n  helloKafkaListenerContainerFactory(ConsumerFactory&lt;String, ExampleEvent&gt; helloConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory helloContainerFactory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    helloContainerFactory.setConsumerFactory(helloConsumerFactory);\n    return helloContainerFactory;\n  }\n</code></pre>\n<p>Updated Listener:</p>\n<pre><code>  @KafkaListener(\n      topics = &quot;my-topic&quot;,\n      groupId = &quot;my-topic:HelloKafkaListener&quot;,\n      containerFactory = &quot;helloKafkaListenerContainerFactory&quot;\n  )\n//  public void process(ConsumerRecord record) {\n//    log.info(record.value().toString()); // it works: {&quot;exampleField&quot;: &quot;HELLO WORLD&quot;}\n//  }\n  public void process(@Payload ExampleEvent event) {\n    this.helloKafkaService.handleMessage(event);\n    log.info(&quot;Processing event: &quot; + event.getExampleField());\n  }\n</code></pre>\n<p>However, still got the same issue.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"owner":{"account_id":9178252,"reputation":77,"user_id":6823114,"display_name":"Baal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678280543,"creation_date":1678279882,"question_id":75673281,"body_markdown":"I am having issues with the pipeline working. After a few days of running, it stops producing results to the sink, without any exception.\r\n\r\n I donâ€™t see any back-pressure or Flink State leak.\r\nThe pipeline is still running and receiving records, but it&#39;s not producing any output.\r\nThe time during which it operates correctly seems to increase as the Parallelism is increased, but still ends at some point.\r\n\r\nThe flow of the pipeline is as follow:\r\n\r\n-&gt; keyBy ID -&gt; create GlobalWindow \r\n\r\n-&gt; Trigger when specific one type of record arrived \r\n\r\n-&gt; Evictor which removes all records before this specific trigger record timestamp minus 500ms \r\n\r\n-&gt; Process remaining records and generate new type of record and send it to the sink.\r\n\r\n----------\r\n\r\nThe characteristic of my data stream is as follow:\r\n\r\nAverage numbers of unique IDs in the same time : ~5.000\r\n\r\nNumber of records received per ID: ~100/s\r\n\r\nPercent of records that pass the filter operator: ~80%\r\n\r\nPercent of records that Evictor need to remove before processing: average around 60%\r\n\r\nThe percent of the processed result records, stand for ~10% of incoming records.\r\n\r\n----------\r\n\r\nFirst question is, how I can check what is causing the problem? Is it memory? Is it processing power? Is it some Flink related properties?\r\nCan anyone tell me what and where should I look for?\r\n\r\n-----\r\n\r\nAlso my reflection on this matter:\r\n\r\nI was wondering if GlobalWindow approach, is the best one here. I have many keyBy values, so Flink create ~5000 separate global windows. Additionally the percent amount of data which need to be Evicted before processed is large. In my opinion this can be the issue. \r\nDo I think correctly that using GlobalWindow is not the optimal solution for the data characteristic I have? \r\n","title":"Flink Global Window performance issue","body":"<p>I am having issues with the pipeline working. After a few days of running, it stops producing results to the sink, without any exception.</p>\n<p>I donâ€™t see any back-pressure or Flink State leak.\nThe pipeline is still running and receiving records, but it's not producing any output.\nThe time during which it operates correctly seems to increase as the Parallelism is increased, but still ends at some point.</p>\n<p>The flow of the pipeline is as follow:</p>\n<p>-&gt; keyBy ID -&gt; create GlobalWindow</p>\n<p>-&gt; Trigger when specific one type of record arrived</p>\n<p>-&gt; Evictor which removes all records before this specific trigger record timestamp minus 500ms</p>\n<p>-&gt; Process remaining records and generate new type of record and send it to the sink.</p>\n<hr />\n<p>The characteristic of my data stream is as follow:</p>\n<p>Average numbers of unique IDs in the same time : ~5.000</p>\n<p>Number of records received per ID: ~100/s</p>\n<p>Percent of records that pass the filter operator: ~80%</p>\n<p>Percent of records that Evictor need to remove before processing: average around 60%</p>\n<p>The percent of the processed result records, stand for ~10% of incoming records.</p>\n<hr />\n<p>First question is, how I can check what is causing the problem? Is it memory? Is it processing power? Is it some Flink related properties?\nCan anyone tell me what and where should I look for?</p>\n<hr />\n<p>Also my reflection on this matter:</p>\n<p>I was wondering if GlobalWindow approach, is the best one here. I have many keyBy values, so Flink create ~5000 separate global windows. Additionally the percent amount of data which need to be Evicted before processed is large. In my opinion this can be the issue.\nDo I think correctly that using GlobalWindow is not the optimal solution for the data characteristic I have?</p>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":22938329,"reputation":1,"user_id":17071471,"display_name":"Vrenotte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651274862,"creation_date":1651274862,"answer_id":72064562,"question_id":71638877,"body_markdown":"You are missing the netty library in your .minecraft folder or it is in the wrong version.\r\n\r\nIf you want MCP to be able to decompile the game, there should be a `1.8.8` folder in `~/.minecraft/libraries/com/mojang/netty`\r\n\r\nI have encountered this issue twice and fixed this in two different ways:\r\n- Retrieve it from another installation \r\n- Rename the existing folder and the inside jar `1.8.8` (instead of `1.6` or `1.7.7` in my case)","title":"How to fix error &quot;Error copying library com.mojang:netty:1.8.8&quot; for MCP 1.7.10","body":"<p>You are missing the netty library in your .minecraft folder or it is in the wrong version.</p>\n<p>If you want MCP to be able to decompile the game, there should be a <code>1.8.8</code> folder in <code>~/.minecraft/libraries/com/mojang/netty</code></p>\n<p>I have encountered this issue twice and fixed this in two different ways:</p>\n<ul>\n<li>Retrieve it from another installation</li>\n<li>Rename the existing folder and the inside jar <code>1.8.8</code> (instead of <code>1.6</code> or <code>1.7.7</code> in my case)</li>\n</ul>\n"}],"owner":{"account_id":21999318,"reputation":11,"user_id":16271250,"display_name":"Jackson-eng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678280056,"creation_date":1648403674,"question_id":71638877,"body_markdown":"I&#39;ve been trying to decompile MCP 1.7.10 but I keep getting this error. The error says it has something to do with Minecraft 1.8.8 but I want 1.7.10. I don&#39;t know if that has to do anything with it. Here is the error I keep getting:\r\n\r\n```\r\n== MCP 9.04 (data: 9.08, client: 1.7.10, server: 1.7.10) ==\r\n&quot;scalac&quot; is not found on the PATH.  Scala files will not be recompiled\r\n# found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle config, rg, ss\r\nLooking in C:\\Users\\jacks\\AppData\\Roaming\\.minecraft\\versions for mc installs... OK\r\nCopying assets... OK\r\nParsing JSON file... OK\r\nLooking for minecraft main jar... OK\r\n&gt; Checking libraries...\r\n        Copying library netty... Error copying library com.mojang:netty:1.8.8\r\nPress any key to continue . . .\r\n```","title":"How to fix error &quot;Error copying library com.mojang:netty:1.8.8&quot; for MCP 1.7.10","body":"<p>I've been trying to decompile MCP 1.7.10 but I keep getting this error. The error says it has something to do with Minecraft 1.8.8 but I want 1.7.10. I don't know if that has to do anything with it. Here is the error I keep getting:</p>\n<pre><code>== MCP 9.04 (data: 9.08, client: 1.7.10, server: 1.7.10) ==\n&quot;scalac&quot; is not found on the PATH.  Scala files will not be recompiled\n# found ff, ff patches, srgs, name csvs, doc csvs, param csvs, astyle, astyle config, rg, ss\nLooking in C:\\Users\\jacks\\AppData\\Roaming\\.minecraft\\versions for mc installs... OK\nCopying assets... OK\nParsing JSON file... OK\nLooking for minecraft main jar... OK\n&gt; Checking libraries...\n        Copying library netty... Error copying library com.mojang:netty:1.8.8\nPress any key to continue . . .\n</code></pre>\n"},{"tags":["java","android","database","sqlite","unique-constraint"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":4,"creation_date":1453662698,"post_id":34980137,"comment_id":57689410,"body_markdown":"You&#39;re trying to insert an already existing id. Since the key is UNIQUE, you can&#39;t.","body":"You&#39;re trying to insert an already existing id. Since the key is UNIQUE, you can&#39;t."},{"owner":{"display_name":"user5669913"},"score":0,"creation_date":1453662817,"post_id":34980137,"comment_id":57689456,"body_markdown":"what code should i edit? @ Hrundi V. Bakshi","body":"what code should i edit? @ Hrundi V. Bakshi"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":2,"creation_date":1453663475,"post_id":34980137,"comment_id":57689723,"body_markdown":"I&#39;d make the key an AUTOINCREMENT one. And then I&#39;d not pass the ID, since it would be automatically generated.","body":"I&#39;d make the key an AUTOINCREMENT one. And then I&#39;d not pass the ID, since it would be automatically generated."},{"owner":{"account_id":8934088,"reputation":12520,"user_id":6665568,"accept_rate":80,"display_name":"Natesh bhat"},"score":0,"creation_date":1552914352,"post_id":34980137,"comment_id":97178924,"body_markdown":"https://stackoverflow.com/a/45299979/6665568  . This answer fully fixed the issue for me . Handles cases if u directly wanna replace if row already present.","body":"<a href=\"https://stackoverflow.com/a/45299979/6665568\">stackoverflow.com/a/45299979/6665568</a>  . This answer fully fixed the issue for me . Handles cases if u directly wanna replace if row already present."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453662797,"creation_date":1453662797,"answer_id":34980197,"question_id":34980137,"body_markdown":"The table has a unique constraint on it.  That means that only one row can exist with a given ID value.  If you&#39;re trying to change some of the values for a row, use UPDATE not INSERT.  If you&#39;re trying to add this row, you need to either give it a different, unique ID or you need to delete the pre-existing row first.  Which of these is the right answer depends on what your app is doing.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>The table has a unique constraint on it.  That means that only one row can exist with a given ID value.  If you're trying to change some of the values for a row, use UPDATE not INSERT.  If you're trying to add this row, you need to either give it a different, unique ID or you need to delete the pre-existing row first.  Which of these is the right answer depends on what your app is doing.</p>\n"},{"tags":[],"owner":{"account_id":5857488,"reputation":1595,"user_id":4614310,"display_name":"Mateusz Herych"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1453662861,"creation_date":1453662861,"answer_id":34980212,"question_id":34980137,"body_markdown":"Your code probably violates primary key&#39;s uniqueness constraint on a `KEY_ID` field.\r\n\r\nTwo possible solutions are:\r\n\r\n1. Make sure that your `EventData.getId()` returns unique values per object. For now, I don&#39;t see you pass any identifier to its constructor and perhaps all the events are inserted with the same `id` value.\r\n2. If you don&#39;t care about generating ids by yourself, you can add `AUTOINCREMENT` setting to your `KEY_ID` column definition. This way `KEY_ID` field will be filled automatically and each row will have its own, unique value. Once there, don&#39;t forget to remove adding `KEY_ID` to `ContentValues` by yourself.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Your code probably violates primary key's uniqueness constraint on a <code>KEY_ID</code> field.</p>\n\n<p>Two possible solutions are:</p>\n\n<ol>\n<li>Make sure that your <code>EventData.getId()</code> returns unique values per object. For now, I don't see you pass any identifier to its constructor and perhaps all the events are inserted with the same <code>id</code> value.</li>\n<li>If you don't care about generating ids by yourself, you can add <code>AUTOINCREMENT</code> setting to your <code>KEY_ID</code> column definition. This way <code>KEY_ID</code> field will be filled automatically and each row will have its own, unique value. Once there, don't forget to remove adding <code>KEY_ID</code> to <code>ContentValues</code> by yourself.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6374619,"reputation":3321,"user_id":4946013,"display_name":"Kai Wang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470162329,"creation_date":1470162329,"answer_id":38727889,"question_id":34980137,"body_markdown":"Try checking if the ID is already existed. If true, do not insert, because you already have the row with this ID.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Try checking if the ID is already existed. If true, do not insert, because you already have the row with this ID.</p>\n"},{"tags":[],"owner":{"account_id":5642130,"reputation":3491,"user_id":4465605,"display_name":"HannahCarney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499163026,"creation_date":1499163026,"answer_id":44903076,"question_id":34980137,"body_markdown":"I originally put the new unique constraint infant of the old one. Instead make sure you&#39;re current unique column is first:\r\n\r\n    CREATE TABLE TEST (client_id TEXT unique, remote_id INT unique)","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I originally put the new unique constraint infant of the old one. Instead make sure you're current unique column is first:</p>\n\n<pre><code>CREATE TABLE TEST (client_id TEXT unique, remote_id INT unique)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6845381,"reputation":6435,"user_id":5264367,"accept_rate":12,"display_name":"Samir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610216242,"creation_date":1499330315,"answer_id":44943794,"question_id":34980137,"body_markdown":"My mistake was, I tried to fill `ID` column though it was already defined   as `INTEGER PRIMARY KEY AUTOINCREMENT`\r\n\r\n","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>My mistake was, I tried to fill <code>ID</code> column though it was already defined   as <code>INTEGER PRIMARY KEY AUTOINCREMENT</code></p>\n"},{"tags":[],"owner":{"account_id":12100225,"reputation":17,"user_id":8841812,"display_name":"Vickie Kangare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510048337,"creation_date":1510048337,"answer_id":47154737,"question_id":34980137,"body_markdown":"make id column id integer autoincrement, and do not put the id value into content values.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>make id column id integer autoincrement, and do not put the id value into content values.</p>\n"},{"tags":[],"owner":{"account_id":2725908,"reputation":3152,"user_id":5873832,"accept_rate":80,"display_name":"Dasser Basyouni"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1529235957,"creation_date":1529235957,"answer_id":50896304,"question_id":34980137,"body_markdown":"For developers using [Room Persistence Library][1]. You can use \r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)  // or OnConflictStrategy.IGNORE\r\n\r\nin DAO according to [Insert Documentation][2]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/room\r\n  [2]: https://developer.android.com/reference/android/arch/persistence/room/Insert","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>For developers using <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"noreferrer\">Room Persistence Library</a>. You can use </p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)  // or OnConflictStrategy.IGNORE\n</code></pre>\n\n<p>in DAO according to <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Insert\" rel=\"noreferrer\">Insert Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":9470871,"reputation":1070,"user_id":7041761,"display_name":"Neuron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541148722,"creation_date":1541148722,"answer_id":53115345,"question_id":34980137,"body_markdown":"I had the same problem and the problem was that I forgot to add `db.execSQL(YOUR_TABLE);` in my `DbHelper`","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I had the same problem and the problem was that I forgot to add <code>db.execSQL(YOUR_TABLE);</code> in my <code>DbHelper</code></p>\n"},{"tags":[],"owner":{"account_id":5745249,"reputation":785,"user_id":9766649,"display_name":"user155"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1552291181,"creation_date":1552289901,"answer_id":55097140,"question_id":34980137,"body_markdown":"If you use **Room** then instead of `@PrimaryKey` you should use `@PrimaryKey(autoGenerate = true)`\r\n\r\nand make your id variable optional:\r\n\r\n`@Entity(tableName = &quot;contact_table&quot;)\r\ndata class Contact(@PrimaryKey(autoGenerate = true) @ColumnInfo(name = &quot;id&quot;) var id: Long?,\r\n                   @ColumnInfo(name = &quot;name&quot;) val name: String,\r\n                   @ColumnInfo(name = &quot;phone&quot;) val phone: String)`\r\n\r\nand then when adding a new item, pass `null` as id, `insert` func will return new id, add it to your object\r\n\r\n    val contact = Contact(null, name, phone)\r\n    contact.id = ContactRoomDatabase.getDatabase().contactDao().insert(contact)","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>If you use <strong>Room</strong> then instead of <code>@PrimaryKey</code> you should use <code>@PrimaryKey(autoGenerate = true)</code></p>\n\n<p>and make your id variable optional:</p>\n\n<p><code>@Entity(tableName = \"contact_table\")\ndata class Contact(@PrimaryKey(autoGenerate = true) @ColumnInfo(name = \"id\") var id: Long?,\n                   @ColumnInfo(name = \"name\") val name: String,\n                   @ColumnInfo(name = \"phone\") val phone: String)</code></p>\n\n<p>and then when adding a new item, pass <code>null</code> as id, <code>insert</code> func will return new id, add it to your object</p>\n\n<pre><code>val contact = Contact(null, name, phone)\ncontact.id = ContactRoomDatabase.getDatabase().contactDao().insert(contact)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14876397,"reputation":196,"user_id":10742321,"display_name":"Angad Cheema"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1603275188,"creation_date":1603275188,"answer_id":64461346,"question_id":34980137,"body_markdown":"This is the case of duplicate id of the record in the database. Just clear the app storage and try again. A good solution would be adding below in your Dao class.     \r\n\r\n        @Insert (onConflict = OnConflictStrategy.REPLACE)\r\n\r\n\r\nCorrect solution to this problem is to make sure that the id is unique. Please have a look at this [Google Codelabs Room Example][1]\r\n\r\n\r\n  [1]: https://codelabs.developers.google.com/codelabs/android-room-with-a-view\r\n\r\nAnother way to avoid this would be adding `    @PrimaryKey(autoGenerate = true)\r\n`","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>This is the case of duplicate id of the record in the database. Just clear the app storage and try again. A good solution would be adding below in your Dao class.</p>\n<pre><code>    @Insert (onConflict = OnConflictStrategy.REPLACE)\n</code></pre>\n<p>Correct solution to this problem is to make sure that the id is unique. Please have a look at this <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view\" rel=\"noreferrer\">Google Codelabs Room Example</a></p>\n<p>Another way to avoid this would be adding <code>   @PrimaryKey(autoGenerate = true)</code></p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17297,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629581843,"creation_date":1629581843,"answer_id":68876923,"question_id":34980137,"body_markdown":"*For Kotlin model classes*\r\n\r\nIf you&#39;re assigning a **default value** to the primary key like this:\r\n\r\n```kotlin\r\ndata class MyModel(\r\n @PrimaryKey(autoGenerate = true) val id: Int = defaultValue\r\n)\r\n```\r\n\r\n**Make sure default value is `0` for `Long` and `Int` types.**\r\n\r\n---\r\n\r\nFrom the `autoGenerate` comment:\r\n\r\n&gt;  If the field type is `long` or `int` (or its TypeConverter converts it to a `long` or `int`), `Insert` methods treat `0` as **not-set** while inserting the item.\r\n\r\nIn my case, I used `-1` as the defaultValue and this error was occurring.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p><em>For Kotlin model classes</em></p>\n<p>If you're assigning a <strong>default value</strong> to the primary key like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyModel(\n @PrimaryKey(autoGenerate = true) val id: Int = defaultValue\n)\n</code></pre>\n<p><strong>Make sure default value is <code>0</code> for <code>Long</code> and <code>Int</code> types.</strong></p>\n<hr />\n<p>From the <code>autoGenerate</code> comment:</p>\n<blockquote>\n<p>If the field type is <code>long</code> or <code>int</code> (or its TypeConverter converts it to a <code>long</code> or <code>int</code>), <code>Insert</code> methods treat <code>0</code> as <strong>not-set</strong> while inserting the item.</p>\n</blockquote>\n<p>In my case, I used <code>-1</code> as the defaultValue and this error was occurring.</p>\n"},{"tags":[],"owner":{"account_id":23823633,"reputation":51,"user_id":17830998,"display_name":"Umut Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641293739,"creation_date":1641293739,"answer_id":70577650,"question_id":34980137,"body_markdown":"Guys i had the same problem and i cleared my local database from android settings and a clear run the app, that is work for me. Maybe you made a little change in db and you forgot.","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>Guys i had the same problem and i cleared my local database from android settings and a clear run the app, that is work for me. Maybe you made a little change in db and you forgot.</p>\n"},{"tags":[],"owner":{"account_id":19518003,"reputation":49,"user_id":14280462,"display_name":"faribakhandani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279989,"creation_date":1678279989,"answer_id":75673299,"question_id":34980137,"body_markdown":"I solved it by didn&#39;t insert the primary key manually when it is autoGenerate, this means that instead of putting value in the insert method for id, try to create an instance of entity class and use it in the insert method","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I solved it by didn't insert the primary key manually when it is autoGenerate, this means that instead of putting value in the insert method for id, try to create an instance of entity class and use it in the insert method</p>\n"}],"owner":{"display_name":"user5669913"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144433,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":34980212,"answer_count":13,"score":63,"last_activity_date":1678279989,"creation_date":1453662483,"question_id":34980137,"body_markdown":"I am trying to insert values in table. But there is only one value inserted. I am getting an error in log cat when I am trying to insert new values. \r\n\r\nLog cat shows :\r\n\r\n    abort at 13 in [INSERT INTO event(totalminutesfrom,dayofweek,title,location,totalminutesto,id) VALUES (?,?,?,?,?,?)]: UNIQUE constraint failed: event.id\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: Error inserting totalminutesfrom=694 dayofweek=null title=qxs location=Eded &amp; Mariz totalminutesto=0 id=0\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: event.id (code 1555)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:782)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.EventTableHelper.addEvent(EventTableHelper.java:76)\r\n    01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.AddEventActivity$5.onClick(AddEventActivity.java:217)\r\n\r\n\r\nIts showing error on these two lines while inserting row.\r\n\r\n    db.insert(TABLE, null, values);\r\n\r\n       db.addEvent(new EventData(eventTitle,dayOfWeek,totalMinutesFrom, totalMinutesTo,location));\r\n\r\n\r\n\r\nEventTableHelper\r\n\r\n\r\n        \r\n    public class EventTableHelper extends SQLiteOpenHelper {\r\n    \r\n    \r\n        private static final String TABLE = &quot;event&quot;;\r\n        private static final String KEY_ID = &quot;id&quot;;\r\n        private static final String KEY_TITLE = &quot;title&quot;;\r\n        private static final String KEY_LOCATION = &quot;location&quot;;\r\n        private static final String KEY_DAY_OF_WEEK = &quot;dayofweek&quot;;\r\n        private static final String KEY_TOTAL_MINUTES_FROM = &quot;totalminutesfrom&quot;;\r\n        private static final String KEY_TOTAL_MINUTES_TO = &quot;totalminutesto&quot;;\r\n    \r\n    \r\n    \r\n        public EventTableHelper(Context context) {\r\n            super(context, Constants.DATABASE_NAME, null, Constants.DATABASE_VERSION);\r\n            //3rd argument to be passed is CursorFactory instance\r\n        }\r\n    \r\n        // Creating Tables\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            //createTable(db);\r\n        }\r\n    \r\n        public void createTable(SQLiteDatabase db){\r\n            String CREATE_EVENTS_TABLE = &quot;CREATE TABLE &quot; + TABLE + &quot;(&quot;\r\n                    + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot; + KEY_TITLE + &quot; TEXT,&quot;\r\n                    + KEY_DAY_OF_WEEK +&quot;TEXT&quot; + KEY_TOTAL_MINUTES_FROM +&quot;INTEGER&quot;\r\n                    + KEY_TOTAL_MINUTES_TO + &quot;INTEGER&quot; +  KEY_LOCATION + &quot;TEXT&quot; +  &quot;)&quot;;\r\n    \r\n            db.execSQL(CREATE_EVENTS_TABLE);\r\n    \r\n        }\r\n        // Upgrading database\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            // Drop older table if existed\r\n           // db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE);\r\n    \r\n          //  createTable(db);\r\n    \r\n            // Create tables again\r\n            //onCreate(db);\r\n        }\r\n    \r\n        // code to add the new contact\r\n        public void addEvent(EventData event) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n    \r\n            ContentValues values = new ContentValues();\r\n            values.put(KEY_ID, event.getId());\r\n            values.put(KEY_TITLE,event.getTitle()); // Contact Name\r\n            values.put(KEY_DAY_OF_WEEK,event.getDayofWeek());\r\n            values.put(KEY_TOTAL_MINUTES_FROM,event.getFromMinutes());\r\n            values.put(KEY_TOTAL_MINUTES_TO,event.getToMinutes());\r\n            values.put(KEY_LOCATION,event.getLocation());\r\n            // Inserting Row\r\n            db.insert(TABLE, null, values);\r\n            //2nd argument is String containing nullColumnHack\r\n            db.close(); // Closing database connection\r\n        }\r\n    \r\n        // code to get the single contact\r\n       EventData getEvent(int id) {\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = db.query(TABLE, new String[] { KEY_ID,\r\n                            KEY_TITLE, KEY_DAY_OF_WEEK, KEY_TOTAL_MINUTES_FROM,KEY_TOTAL_MINUTES_TO,KEY_LOCATION }, KEY_ID + &quot;=?&quot;,\r\n                    new String[] { String.valueOf(id) }, null, null, null, null);\r\n            if (cursor != null)\r\n                cursor.moveToFirst();\r\n           EventData eventData = new EventData(Integer.parseInt(cursor.getString(0)),cursor.getString(1), cursor.getString(2),\r\n                   cursor.getInt(3),cursor.getInt(4),cursor.getString(5));\r\n    \r\n            return eventData;\r\n        }\r\n    \r\n    \r\n    \r\n        // code to get all contacts in a list view\r\n        public List&lt;EventData&gt; getAllEvents() {\r\n            List&lt;EventData&gt; conList = new ArrayList&lt;EventData&gt;();\r\n            // Select All Query\r\n            String selectQuery = &quot;SELECT  * FROM &quot; + TABLE;\r\n    \r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            Cursor cursor = db.rawQuery(selectQuery, null);\r\n    \r\n            // looping through all rows and adding to list\r\n            if (cursor.moveToFirst()) {\r\n                do {\r\n    \r\n                    EventData event = new EventData();\r\n    \r\n                    event.setId(Integer.parseInt(cursor.getString(0)));\r\n                    event.setTitle(cursor.getString(1));\r\n                    event.setDayofWeek(cursor.getString(2));\r\n                    event.setFromMinutes(cursor.getInt(3));\r\n                    event.setToMinutes(cursor.getInt(4));\r\n                    event.setLocation(cursor.getString(5));\r\n                    // Adding contact to list\r\n                    conList.add(event);\r\n                } while (cursor.moveToNext());\r\n            }\r\n    \r\n            // return contact list\r\n            return conList;\r\n        }\r\n    }\r\n\r\nHow to solve this??","title":"UNIQUE constraint failed: sqlite database : android","body":"<p>I am trying to insert values in table. But there is only one value inserted. I am getting an error in log cat when I am trying to insert new values. </p>\n\n<p>Log cat shows :</p>\n\n<pre><code>abort at 13 in [INSERT INTO event(totalminutesfrom,dayofweek,title,location,totalminutesto,id) VALUES (?,?,?,?,?,?)]: UNIQUE constraint failed: event.id\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: Error inserting totalminutesfrom=694 dayofweek=null title=qxs location=Eded &amp; Mariz totalminutesto=0 id=0\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase: android.database.sqlite.SQLiteConstraintException: UNIQUE constraint failed: event.id (code 1555)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:782)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1471)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1341)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.EventTableHelper.addEvent(EventTableHelper.java:76)\n01-24 11:34:39.764 7763-7763/com.example.siddhi.timetablelayout E/SQLiteDatabase:     at com.example.siddhi.timetablelayout.AddEventActivity$5.onClick(AddEventActivity.java:217)\n</code></pre>\n\n<p>Its showing error on these two lines while inserting row.</p>\n\n<pre><code>db.insert(TABLE, null, values);\n\n   db.addEvent(new EventData(eventTitle,dayOfWeek,totalMinutesFrom, totalMinutesTo,location));\n</code></pre>\n\n<p>EventTableHelper</p>\n\n<pre><code>public class EventTableHelper extends SQLiteOpenHelper {\n\n\n    private static final String TABLE = \"event\";\n    private static final String KEY_ID = \"id\";\n    private static final String KEY_TITLE = \"title\";\n    private static final String KEY_LOCATION = \"location\";\n    private static final String KEY_DAY_OF_WEEK = \"dayofweek\";\n    private static final String KEY_TOTAL_MINUTES_FROM = \"totalminutesfrom\";\n    private static final String KEY_TOTAL_MINUTES_TO = \"totalminutesto\";\n\n\n\n    public EventTableHelper(Context context) {\n        super(context, Constants.DATABASE_NAME, null, Constants.DATABASE_VERSION);\n        //3rd argument to be passed is CursorFactory instance\n    }\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        //createTable(db);\n    }\n\n    public void createTable(SQLiteDatabase db){\n        String CREATE_EVENTS_TABLE = \"CREATE TABLE \" + TABLE + \"(\"\n                + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_TITLE + \" TEXT,\"\n                + KEY_DAY_OF_WEEK +\"TEXT\" + KEY_TOTAL_MINUTES_FROM +\"INTEGER\"\n                + KEY_TOTAL_MINUTES_TO + \"INTEGER\" +  KEY_LOCATION + \"TEXT\" +  \")\";\n\n        db.execSQL(CREATE_EVENTS_TABLE);\n\n    }\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n       // db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE);\n\n      //  createTable(db);\n\n        // Create tables again\n        //onCreate(db);\n    }\n\n    // code to add the new contact\n    public void addEvent(EventData event) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_ID, event.getId());\n        values.put(KEY_TITLE,event.getTitle()); // Contact Name\n        values.put(KEY_DAY_OF_WEEK,event.getDayofWeek());\n        values.put(KEY_TOTAL_MINUTES_FROM,event.getFromMinutes());\n        values.put(KEY_TOTAL_MINUTES_TO,event.getToMinutes());\n        values.put(KEY_LOCATION,event.getLocation());\n        // Inserting Row\n        db.insert(TABLE, null, values);\n        //2nd argument is String containing nullColumnHack\n        db.close(); // Closing database connection\n    }\n\n    // code to get the single contact\n   EventData getEvent(int id) {\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = db.query(TABLE, new String[] { KEY_ID,\n                        KEY_TITLE, KEY_DAY_OF_WEEK, KEY_TOTAL_MINUTES_FROM,KEY_TOTAL_MINUTES_TO,KEY_LOCATION }, KEY_ID + \"=?\",\n                new String[] { String.valueOf(id) }, null, null, null, null);\n        if (cursor != null)\n            cursor.moveToFirst();\n       EventData eventData = new EventData(Integer.parseInt(cursor.getString(0)),cursor.getString(1), cursor.getString(2),\n               cursor.getInt(3),cursor.getInt(4),cursor.getString(5));\n\n        return eventData;\n    }\n\n\n\n    // code to get all contacts in a list view\n    public List&lt;EventData&gt; getAllEvents() {\n        List&lt;EventData&gt; conList = new ArrayList&lt;EventData&gt;();\n        // Select All Query\n        String selectQuery = \"SELECT  * FROM \" + TABLE;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n\n                EventData event = new EventData();\n\n                event.setId(Integer.parseInt(cursor.getString(0)));\n                event.setTitle(cursor.getString(1));\n                event.setDayofWeek(cursor.getString(2));\n                event.setFromMinutes(cursor.getInt(3));\n                event.setToMinutes(cursor.getInt(4));\n                event.setLocation(cursor.getString(5));\n                // Adding contact to list\n                conList.add(event);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return conList;\n    }\n}\n</code></pre>\n\n<p>How to solve this??</p>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628089896,"creation_date":1628089896,"answer_id":68653755,"question_id":68652842,"body_markdown":"See [this question](https://stackoverflow.com/questions/19823761/how-to-get-line-number-of-an-instance-variable-from-a-java-object-during-runtime), which discusses that you cannot get the line number of a declared field via reflection.\r\n\r\nTogether with the fact that reflection gives you a classes&#39; fields in [no particular order](https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html#getDeclaredFields()), it is obvious that it is not possible to observe the order of declared fields in a class at runtime, and it follows that you cannot order the keys in your YAML output according to their position/order in the source, because you cannot know that order.\r\n\r\nThe remedy is to transport the knowledge of the order to the runtime. Some possible ways to do this might be:\r\n\r\n * Annotate each field with a `weight` that defines the position of the resulting YAML key (ugly because you need annotations on the fields).\r\n * Autogenerate code by parsing the class&#39; definition discovering the order from there, and write it to some autogenerated source file whose code is then used to order the properties in your Representer (this solution, while avoiding bloat in the original class, is very complex and elaborate).\r\n * Hard-code the field order in the Representer. That&#39;s basically the previous solution but without autogenerating. Error-prone because the Representer must be adjusted each time the class is changed.\r\n\r\nI recommend against using any of those solutions. The YAML spec specifically says that key order must not convey content information, and if the order is important to you, you are already violating the YAML spec and should switch to a format that better serves your needs.","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>See <a href=\"https://stackoverflow.com/questions/19823761/how-to-get-line-number-of-an-instance-variable-from-a-java-object-during-runtime\">this question</a>, which discusses that you cannot get the line number of a declared field via reflection.</p>\n<p>Together with the fact that reflection gives you a classes' fields in <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Class.html#getDeclaredFields()\" rel=\"nofollow noreferrer\">no particular order</a>, it is obvious that it is not possible to observe the order of declared fields in a class at runtime, and it follows that you cannot order the keys in your YAML output according to their position/order in the source, because you cannot know that order.</p>\n<p>The remedy is to transport the knowledge of the order to the runtime. Some possible ways to do this might be:</p>\n<ul>\n<li>Annotate each field with a <code>weight</code> that defines the position of the resulting YAML key (ugly because you need annotations on the fields).</li>\n<li>Autogenerate code by parsing the class' definition discovering the order from there, and write it to some autogenerated source file whose code is then used to order the properties in your Representer (this solution, while avoiding bloat in the original class, is very complex and elaborate).</li>\n<li>Hard-code the field order in the Representer. That's basically the previous solution but without autogenerating. Error-prone because the Representer must be adjusted each time the class is changed.</li>\n</ul>\n<p>I recommend against using any of those solutions. The YAML spec specifically says that key order must not convey content information, and if the order is important to you, you are already violating the YAML spec and should switch to a format that better serves your needs.</p>\n"},{"tags":[],"owner":{"account_id":7766804,"reputation":1,"user_id":5877739,"display_name":"joesturge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279593,"creation_date":1678279593,"answer_id":75673217,"question_id":68652842,"body_markdown":"use this as your get properties function\r\n\r\n        @Override\r\n        protected Set&lt;Property&gt; getProperties(final Class&lt;?&gt; type) {\r\n            // This is the order to output properties, other properties will not be output\r\n            final List&lt;String&gt; order = List.of(&quot;name&quot;, &quot;lastName&quot;, &quot;address&quot;);\r\n            final Set&lt;Property&gt; result = new TreeSet&lt;&gt;(Comparator.comparingInt(a -&gt; order.indexOf(a.getName())));\r\n            result.addAll(super.getProperties(type)\r\n                               .stream()\r\n                               .filter(property -&gt; order.contains(property.getName()))\r\n                               .collect(Collectors.toSet()));\r\n            return result;\r\n        }","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>use this as your get properties function</p>\n<pre><code>    @Override\n    protected Set&lt;Property&gt; getProperties(final Class&lt;?&gt; type) {\n        // This is the order to output properties, other properties will not be output\n        final List&lt;String&gt; order = List.of(&quot;name&quot;, &quot;lastName&quot;, &quot;address&quot;);\n        final Set&lt;Property&gt; result = new TreeSet&lt;&gt;(Comparator.comparingInt(a -&gt; order.indexOf(a.getName())));\n        result.addAll(super.getProperties(type)\n                           .stream()\n                           .filter(property -&gt; order.contains(property.getName()))\n                           .collect(Collectors.toSet()));\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":18769316,"reputation":105,"user_id":13686510,"display_name":"Fredrik HD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68653755,"answer_count":2,"score":1,"last_activity_date":1678279593,"creation_date":1628086417,"question_id":68652842,"body_markdown":"I am using SnakeYaml to both load/dump data in Java. For this I have created a custom class with fields, say that the class looks something like this:\r\n\r\n```Java\r\npublic class Person {\r\n        private String name;\r\n        private String lastName;\r\n        private String address;\r\n        \r\n        public Person() {\r\n            // Do nothing\r\n        }\r\n        \r\n        // Getters and setters initialized for all the fields\r\n    }\r\n```\r\n\r\nNow, what I would like is that when I write a Person object to a file with SnakeYaml I would want to have the fields in the order they are defined in the class.\r\n\r\ne.g.\r\n\r\n    name: Patrick\r\n    lastName: Star\r\n    Age : 42\r\n\r\n\r\nThe problem is that for more advanced examples, this ordering is **not** achieved. Currently I am writing/dumping to a yaml file like the following:\r\n\r\n```\r\nConstructor struct = new Constructor(YamlIteratorModel.class);\r\nYaml yaml = new Yaml(struct);\r\n\r\ntry {\r\n   String path = &quot;Some/File/Path/yamlfile.yaml&quot;;\r\n   FileWriter writer = new FileWriter(path);\r\n   yaml.dump(iteratorModel, writer);\r\n} catch (IOExcepton e) {\r\n   // Do something\r\n}\r\n```\r\n\r\n\r\nWhat I have also tried is creating a **Representer** class which extends Representer and calls the Yaml constructor in a similar manner. This one is taken from another post, and it doesn&#39;t do the job for me as it only sorts the Properties in an order I am not entirely sure of (can&#39;t find the link right now but will update if I find it again)..\r\n\r\n\r\n```Java\r\npublic class ConfigurationModelRepresenter extends Representer {\r\n\r\n    /**\r\n     * Create object without specified dumper object\r\n     */\r\n    public ConfigurationModelRepresenter() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * Create object with dumper options\r\n     *\r\n     * @param options\r\n     */\r\n    public ConfigurationModelRepresenter(DumperOptions options) {\r\n        super(options);\r\n    }\r\n\r\n    /** {@inheritDoc} */\r\n    @Override\r\n    protected Set&lt;Property&gt; getProperties(Class&lt; ? extends Object&gt; type) {\r\n        Set&lt;Property&gt; propertySet;\r\n        if (typeDefinitions.containsKey(type)) {\r\n            propertySet = typeDefinitions.get(type).getProperties();\r\n        } else {\r\n            propertySet = getPropertyUtils().getProperties(type);\r\n        }\r\n\r\n        List&lt;Property&gt; propsList = new ArrayList&lt;&gt;(propertySet);\r\n        Collections.sort(propsList, new BeanPropertyComparator());\r\n\r\n        return new LinkedHashSet&lt;&gt;(propsList);\r\n    }\r\n\r\n    class BeanPropertyComparator implements Comparator&lt;Property&gt; {\r\n        @Override\r\n        public int compare(Property p1, Property p2) {\r\n            // p1.getType().get\r\n            if (p1.getType().getCanonicalName().contains(&quot;util&quot;) &amp;&amp; !p2.getType().getCanonicalName().contains(&quot;util&quot;)) {\r\n                return 1;\r\n            } else if (p2.getName().endsWith(&quot;Name&quot;) || p2.getName().equalsIgnoreCase(&quot;name&quot;)) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**SUMMARY**: How do I maintain the ordering when dumping an object to a YAML file (using SnakeYaml) e.g. the order the fields appear defined in the custom class?","title":"Order YAML file entries according to its java equivalent class (SnakeYaml)","body":"<p>I am using SnakeYaml to both load/dump data in Java. For this I have created a custom class with fields, say that the class looks something like this:</p>\n<pre><code>public class Person {\n        private String name;\n        private String lastName;\n        private String address;\n        \n        public Person() {\n            // Do nothing\n        }\n        \n        // Getters and setters initialized for all the fields\n    }\n</code></pre>\n<p>Now, what I would like is that when I write a Person object to a file with SnakeYaml I would want to have the fields in the order they are defined in the class.</p>\n<p>e.g.</p>\n<pre><code>name: Patrick\nlastName: Star\nAge : 42\n</code></pre>\n<p>The problem is that for more advanced examples, this ordering is <strong>not</strong> achieved. Currently I am writing/dumping to a yaml file like the following:</p>\n<pre><code>Constructor struct = new Constructor(YamlIteratorModel.class);\nYaml yaml = new Yaml(struct);\n\ntry {\n   String path = &quot;Some/File/Path/yamlfile.yaml&quot;;\n   FileWriter writer = new FileWriter(path);\n   yaml.dump(iteratorModel, writer);\n} catch (IOExcepton e) {\n   // Do something\n}\n</code></pre>\n<p>What I have also tried is creating a <strong>Representer</strong> class which extends Representer and calls the Yaml constructor in a similar manner. This one is taken from another post, and it doesn't do the job for me as it only sorts the Properties in an order I am not entirely sure of (can't find the link right now but will update if I find it again)..</p>\n<pre><code>public class ConfigurationModelRepresenter extends Representer {\n\n    /**\n     * Create object without specified dumper object\n     */\n    public ConfigurationModelRepresenter() {\n        super();\n    }\n\n    /**\n     * Create object with dumper options\n     *\n     * @param options\n     */\n    public ConfigurationModelRepresenter(DumperOptions options) {\n        super(options);\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    protected Set&lt;Property&gt; getProperties(Class&lt; ? extends Object&gt; type) {\n        Set&lt;Property&gt; propertySet;\n        if (typeDefinitions.containsKey(type)) {\n            propertySet = typeDefinitions.get(type).getProperties();\n        } else {\n            propertySet = getPropertyUtils().getProperties(type);\n        }\n\n        List&lt;Property&gt; propsList = new ArrayList&lt;&gt;(propertySet);\n        Collections.sort(propsList, new BeanPropertyComparator());\n\n        return new LinkedHashSet&lt;&gt;(propsList);\n    }\n\n    class BeanPropertyComparator implements Comparator&lt;Property&gt; {\n        @Override\n        public int compare(Property p1, Property p2) {\n            // p1.getType().get\n            if (p1.getType().getCanonicalName().contains(&quot;util&quot;) &amp;&amp; !p2.getType().getCanonicalName().contains(&quot;util&quot;)) {\n                return 1;\n            } else if (p2.getName().endsWith(&quot;Name&quot;) || p2.getName().equalsIgnoreCase(&quot;name&quot;)) {\n                return 1;\n            } else {\n                return -1;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>SUMMARY</strong>: How do I maintain the ordering when dumping an object to a YAML file (using SnakeYaml) e.g. the order the fields appear defined in the custom class?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":13996510,"reputation":400,"user_id":10109156,"display_name":"tornadoradon"},"score":0,"creation_date":1678200287,"post_id":75662210,"comment_id":133484521,"body_markdown":"Please, show your code if itâ€™s possible","body":"Please, show your code if itâ€™s possible"},{"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"score":0,"creation_date":1678210801,"post_id":75662210,"comment_id":133487954,"body_markdown":"@tornadoradon\n i&#39;ve add the rquired code","body":"@tornadoradon  i&#39;ve add the rquired code"}],"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678279497,"creation_date":1678193472,"question_id":75662210,"body_markdown":"Is it possible to have one adapter for 2 recycleviews ? \r\nI&#39;ve tried to do so but after I get out from an activity and return my recycleview is become empty \r\n\r\nThis is my adapter : \r\n\r\n```java\r\npublic class MyRecipeAdapter extends RecyclerView.Adapter&lt;MyRecipeAdapter.RecipeHolder&gt; {\r\n\r\n    ArrayList &lt;Recipe&gt; list_of_recipe;\r\n    Context context;\r\n\r\n    public MyRecipeAdapter (Context context ,   ArrayList &lt;Recipe&gt;list_of_recipe){\r\n        this.context = context ;\r\n        this.list_of_recipe = list_of_recipe ;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyRecipeAdapter.RecipeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_recipe_tap,parent,false);\r\n        //holder will take the info put it in the item layout\r\n        RecipeHolder holder = new RecipeHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @SuppressLint(&quot;RecyclerView&quot;)\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyRecipeAdapter.RecipeHolder holder, int position) {\r\n        Recipe recipe = list_of_recipe.get(position);\r\n        holder.recipename.setText(recipe.getRecipe_name());\r\n\r\n        Picasso.get().load(recipe.getImage()).into(holder.recipeImage);\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String id = list_of_recipe.get(position).getRecipe_id();\r\n\r\n                Intent intent = new Intent(context,RecipePage.class);\r\n                intent.putExtra(&quot;recipe_id_home&quot;,id);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list_of_recipe.size();\r\n    }\r\n\r\n\r\n\r\n    public class RecipeHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView recipeImage;\r\n        TextView recipename;\r\n        RelativeLayout recipe_parent ;\r\n\r\n        public RecipeHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            recipe_parent = (RelativeLayout) itemView.findViewById(R.id.recipe_parent);\r\n            recipeImage = (ImageView) itemView.findViewById(R.id.image);\r\n            recipename = (TextView) itemView.findViewById(R.id.name);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand I user it twice in 2 different fragments each fragment has a recycleview and I want both of them to show same layout inflated in the adapter `R.layout.single_recipe_tap`.\r\n\r\nThis is the first fragment :\r\n```java\r\n    //retriving user recipes\r\n        data_ref_recipe = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;);\r\n        Query query = data_ref_recipe.orderByChild(&quot;uid&quot;).equalTo(current_uid);\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n\r\n                    for (DataSnapshot data : snapshot.getChildren()) {\r\n                        Recipe recipe = data.getValue(Recipe.class);\r\n                        recipe_list.add(recipe);\r\n                    }\r\n                    newAdapter.notifyDataSetChanged();\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\r\n        myrecipe_cycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\r\n        //create the adapter\r\n        newAdapter = new MyRecipeAdapter(this.getContext(), recipe_list);\r\n        myrecipe_cycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\r\n```\r\n\r\nAnd this is the second fragment : \r\n```java\r\n    newAdapter = new MyRecipeAdapter(this.getContext(),recipe_list);\r\n        saved_recycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\r\n\r\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\r\n        saved_recycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\r\n\r\n        user_ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(current_uid).child(&quot;Saved Recipes&quot;);\r\n        user_ref.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                if (snapshot.exists()){\r\n\r\n                    for(DataSnapshot data : snapshot.getChildren()){\r\n\r\n                        //retrive id of recipe\r\n                        String id = data.getValue(String.class);\r\n\r\n                        //retrive recipe obj\r\n                        recipe_ref = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;).child(id);\r\n                        recipe_ref.addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                                Recipe recipe = snapshot.getValue(Recipe.class);\r\n                                recipe_list.add(0, recipe); //0 to put data in first not buttom\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                            }\r\n}); } newAdapter.notifyDataSetChanged();}\r\n```","title":"one adapter fot 2 recycleviews","body":"<p>Is it possible to have one adapter for 2 recycleviews ?\nI've tried to do so but after I get out from an activity and return my recycleview is become empty</p>\n<p>This is my adapter :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRecipeAdapter extends RecyclerView.Adapter&lt;MyRecipeAdapter.RecipeHolder&gt; {\n\n    ArrayList &lt;Recipe&gt; list_of_recipe;\n    Context context;\n\n    public MyRecipeAdapter (Context context ,   ArrayList &lt;Recipe&gt;list_of_recipe){\n        this.context = context ;\n        this.list_of_recipe = list_of_recipe ;\n    }\n\n    @NonNull\n    @Override\n    public MyRecipeAdapter.RecipeHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.single_recipe_tap,parent,false);\n        //holder will take the info put it in the item layout\n        RecipeHolder holder = new RecipeHolder(view);\n        return holder;\n    }\n\n    @SuppressLint(&quot;RecyclerView&quot;)\n    @Override\n    public void onBindViewHolder(@NonNull MyRecipeAdapter.RecipeHolder holder, int position) {\n        Recipe recipe = list_of_recipe.get(position);\n        holder.recipename.setText(recipe.getRecipe_name());\n\n        Picasso.get().load(recipe.getImage()).into(holder.recipeImage);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String id = list_of_recipe.get(position).getRecipe_id();\n\n                Intent intent = new Intent(context,RecipePage.class);\n                intent.putExtra(&quot;recipe_id_home&quot;,id);\n                context.startActivity(intent);\n            }\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list_of_recipe.size();\n    }\n\n\n\n    public class RecipeHolder extends RecyclerView.ViewHolder {\n\n        ImageView recipeImage;\n        TextView recipename;\n        RelativeLayout recipe_parent ;\n\n        public RecipeHolder(@NonNull View itemView) {\n            super(itemView);\n\n            recipe_parent = (RelativeLayout) itemView.findViewById(R.id.recipe_parent);\n            recipeImage = (ImageView) itemView.findViewById(R.id.image);\n            recipename = (TextView) itemView.findViewById(R.id.name);\n\n        }\n    }\n}\n</code></pre>\n<p>and I user it twice in 2 different fragments each fragment has a recycleview and I want both of them to show same layout inflated in the adapter <code>R.layout.single_recipe_tap</code>.</p>\n<p>This is the first fragment :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //retriving user recipes\n        data_ref_recipe = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;);\n        Query query = data_ref_recipe.orderByChild(&quot;uid&quot;).equalTo(current_uid);\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n\n                    for (DataSnapshot data : snapshot.getChildren()) {\n                        Recipe recipe = data.getValue(Recipe.class);\n                        recipe_list.add(recipe);\n                    }\n                    newAdapter.notifyDataSetChanged();\n\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\n        myrecipe_cycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\n        //create the adapter\n        newAdapter = new MyRecipeAdapter(this.getContext(), recipe_list);\n        myrecipe_cycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\n</code></pre>\n<p>And this is the second fragment :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    newAdapter = new MyRecipeAdapter(this.getContext(),recipe_list);\n        saved_recycle.setAdapter(newAdapter); // set the Adapter to RecyclerView\n\n        GridLayoutManager gridnewManager = new GridLayoutManager(this.getContext(),3);\n        saved_recycle.setLayoutManager(gridnewManager); // set LayoutManager to RecyclerView\n\n        user_ref = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(current_uid).child(&quot;Saved Recipes&quot;);\n        user_ref.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                if (snapshot.exists()){\n\n                    for(DataSnapshot data : snapshot.getChildren()){\n\n                        //retrive id of recipe\n                        String id = data.getValue(String.class);\n\n                        //retrive recipe obj\n                        recipe_ref = FirebaseDatabase.getInstance().getReference(&quot;Recipes&quot;).child(id);\n                        recipe_ref.addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                                Recipe recipe = snapshot.getValue(Recipe.class);\n                                recipe_list.add(0, recipe); //0 to put data in first not buttom\n\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n\n                            }\n}); } newAdapter.notifyDataSetChanged();}\n</code></pre>\n"},{"tags":["java","keycloak","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":15523182,"reputation":264,"user_id":11198812,"display_name":"Koppa P&#233;ter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678279431,"creation_date":1678279431,"answer_id":75673194,"question_id":75665181,"body_markdown":"I managed to fix the issue by creating an assembly descriptor in `src/assembly/assembly.xml` with the following content:\r\n\r\n```xml\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n    &lt;id&gt;with-dependencies&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n            &lt;unpack&gt;true&lt;/unpack&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;containerDescriptorHandlers&gt;\r\n        &lt;containerDescriptorHandler&gt;\r\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\r\n        &lt;/containerDescriptorHandler&gt;\r\n    &lt;/containerDescriptorHandlers&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nThen added this to my `pom.xml`:\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;descriptors&gt;\r\n        &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\r\n    &lt;/descriptors&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Java gRPC client cannot invoke server","body":"<p>I managed to fix the issue by creating an assembly descriptor in <code>src/assembly/assembly.xml</code> with the following content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n    &lt;id&gt;with-dependencies&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;containerDescriptorHandlers&gt;\n        &lt;containerDescriptorHandler&gt;\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\n        &lt;/containerDescriptorHandler&gt;\n    &lt;/containerDescriptorHandlers&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Then added this to my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;descriptors&gt;\n        &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\n    &lt;/descriptors&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":15523182,"reputation":264,"user_id":11198812,"display_name":"Koppa P&#233;ter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75673194,"answer_count":1,"score":1,"last_activity_date":1678279431,"creation_date":1678209250,"question_id":75665181,"body_markdown":"I am currently trying to implement a custom provider for keycloak. This provider needs to invoke a gRPC service. However I can&#39;t seem to make it work, and I don&#39;t really see why. I tried to invoke the gPRC service with multiple clients and it worked, however when I try to invoke it from my custom REST endpoint it gives me this error:\r\n\r\n```\r\n 2023-03-07 17:06:29,101 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (grpc-default-executor-0) Uncaught server error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n   at io.grpc.Status.asRuntimeException(Status.java:539)\r\n   at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n   at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:576)\r\n   at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:757)\r\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:736)\r\n   at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n   at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n   at java.base/java.lang.Thread.run(Thread.java:833)\r\n Caused by: java.io.FileNotFoundException\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:153)\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\r\n   at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollDomainSocketChannel.doConnect(EpollDomainSocketChannel.java:87)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\r\n   at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\r\n   at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\r\n   at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\r\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n   at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n   at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n   ... 1 more\r\n```\r\nAs my provider requires external dependencies that are not present in Keycloak&#39;s classpath I am using the maven assembly plugin to create a JAR file that contains all the dependencies. What I found out is maybe it can be causing this error according to this comment:\r\n\r\nhttps://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933\r\n\r\nIn the with-depencies jar file I also have the META-INF/services/io.grpc.NameResolverProvider with the content io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider, and according to the comment this is not good. I tried removing this file from the jar file, but it resulted in failure, as this time it did not find any registered implementations for the io.grpc.NameResolverProvider. I don&#39;t know what I need tho replace this with to make it work, I cannot seem to find any docs on these NameResolverProviders.","title":"Java gRPC client cannot invoke server","body":"<p>I am currently trying to implement a custom provider for keycloak. This provider needs to invoke a gRPC service. However I can't seem to make it work, and I don't really see why. I tried to invoke the gPRC service with multiple clients and it worked, however when I try to invoke it from my custom REST endpoint it gives me this error:</p>\n<pre><code> 2023-03-07 17:06:29,101 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (grpc-default-executor-0) Uncaught server error: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n   at io.grpc.Status.asRuntimeException(Status.java:539)\n   at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n   at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:576)\n   at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:757)\n   at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:736)\n   at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n   at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n   at java.base/java.lang.Thread.run(Thread.java:833)\n Caused by: java.io.FileNotFoundException\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.newConnectException0(Errors.java:153)\n   at io.grpc.netty.shaded.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:128)\n   at io.grpc.netty.shaded.io.netty.channel.unix.Socket.connect(Socket.java:313)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect0(AbstractEpollChannel.java:773)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel.doConnect(AbstractEpollChannel.java:758)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollDomainSocketChannel.doConnect(EpollDomainSocketChannel.java:87)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.connect(AbstractEpollChannel.java:600)\n   at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1342)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:533)\n   at io.grpc.netty.shaded.io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:54)\n   at io.grpc.netty.shaded.io.grpc.netty.WriteBufferingAndExceptionHandler.connect(WriteBufferingAndExceptionHandler.java:157)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:548)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.access$1000(AbstractChannelHandlerContext.java:61)\n   at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext$9.run(AbstractChannelHandlerContext.java:538)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n   at io.grpc.netty.shaded.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:391)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n   at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n   at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n   ... 1 more\n</code></pre>\n<p>As my provider requires external dependencies that are not present in Keycloak's classpath I am using the maven assembly plugin to create a JAR file that contains all the dependencies. What I found out is maybe it can be causing this error according to this comment:</p>\n<p><a href=\"https://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/issues/9367#issuecomment-1183715933</a></p>\n<p>In the with-depencies jar file I also have the META-INF/services/io.grpc.NameResolverProvider with the content io.grpc.netty.shaded.io.grpc.netty.UdsNameResolverProvider, and according to the comment this is not good. I tried removing this file from the jar file, but it resulted in failure, as this time it did not find any registered implementations for the io.grpc.NameResolverProvider. I don't know what I need tho replace this with to make it work, I cannot seem to find any docs on these NameResolverProviders.</p>\n"},{"tags":["java","exception"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678279271,"creation_date":1678278835,"answer_id":75673084,"question_id":75672719,"body_markdown":"You cannot pass the additional fields to the superclass. Instead your class must manage them itself. Example:\r\n\r\n    public class CustomException extends ProductsException {\r\n\r\n        private final String personId;\r\n        private final String code;\r\n        private final List&lt;String&gt; debugger;\r\n\r\n        public CustomException(String personId, String code, List&lt;String&gt; debugger) {\r\n            super();\r\n            this.personId = personId;\r\n            this.code = code;\r\n            this.debugger = debugger;\r\n        }\r\n\r\n        public CustomException(String personId, String code, List&lt;String&gt; debugger, Exception cause) {\r\n            super(cause);\r\n            this.personId = personId;\r\n            this.code = code;\r\n            this.debugger = debugger;\r\n        }\r\n\r\n        public String getMessage() {\r\n            return &quot;Failed at &quot; + personId + &quot;, &quot; + code + &quot;, &quot; + debugger;\r\n        }\r\n\r\n    }\r\n\r\nChange getMessage() to format the message to your needs. Or add getter functions so some other code part can take over formatting as needed, e.g. it would be different for your customer than for the logfile.\r\n\r\nI cannot tell why you get uncaught exceptions. There may be something missing in your try/catch blocks but you show where you throw, not where you catch.","title":"How to create exception with specific fields?","body":"<p>You cannot pass the additional fields to the superclass. Instead your class must manage them itself. Example:</p>\n<pre><code>public class CustomException extends ProductsException {\n\n    private final String personId;\n    private final String code;\n    private final List&lt;String&gt; debugger;\n\n    public CustomException(String personId, String code, List&lt;String&gt; debugger) {\n        super();\n        this.personId = personId;\n        this.code = code;\n        this.debugger = debugger;\n    }\n\n    public CustomException(String personId, String code, List&lt;String&gt; debugger, Exception cause) {\n        super(cause);\n        this.personId = personId;\n        this.code = code;\n        this.debugger = debugger;\n    }\n\n    public String getMessage() {\n        return &quot;Failed at &quot; + personId + &quot;, &quot; + code + &quot;, &quot; + debugger;\n    }\n\n}\n</code></pre>\n<p>Change getMessage() to format the message to your needs. Or add getter functions so some other code part can take over formatting as needed, e.g. it would be different for your customer than for the logfile.</p>\n<p>I cannot tell why you get uncaught exceptions. There may be something missing in your try/catch blocks but you show where you throw, not where you catch.</p>\n"}],"owner":{"account_id":19144297,"reputation":637,"user_id":13983643,"display_name":"newLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678279271,"creation_date":1678276536,"question_id":75672719,"body_markdown":"I have an exception class as : \r\n\r\n```\r\n@NoArgsConstructor\r\npublic class ProductsException extends RuntimeException {\r\n\r\n\tprivate MyError error;\r\n\r\n\tpublic ProductsException(Exception e) {\r\n        super(e);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n\r\npublic class MyError {\r\n    private final String errorCode;\r\n    private final String message;\r\n    private final String moreInfo;\r\n    private final List&lt;Errors&gt; errors;\r\n\r\n\r\n    public MyError(String errorCode, String message, String moreInfo, List&lt;Errors&gt; errors) {\r\n        this.errorCode = errorCode;\r\n        this.message = message;\r\n        this.moreInfo = moreInfo;\r\n        this.errors = errors;\r\n    }\r\n```\r\n\r\nThis exception is being thrown from inside the service class but my client expects exception as :\r\n```\r\n\r\n{\r\n\t&quot;personId&quot; : &quot;1&quot;,\r\n\t&quot;code&quot; : &quot;1&quot;,\r\n\t&quot;debugger&quot; : &quot;[\r\n\t\t//List\r\n\t]&quot;\r\n\t\r\n}\r\n\r\n```\r\n\r\nSo I created a new class as \r\n\r\n```\r\n@Builder\r\npublic class CustomException extends ProductsException {\r\n\r\n    private final String personId;\r\n    private final String code;\r\n    private final List&lt;String&gt; debugger;\r\n\r\n}\r\n```\r\n\r\nAnd in the controller :\r\n\r\n```\r\ncatch(ProductsException e) {\r\n  throw CustomException.builder()\r\n    .code(e.getErrorCode())\r\n    .debugger(List.of(e.getError().getMessage()))\r\n    .build();\r\n}\r\n```\r\n\r\nThis does not seem to work and I am getting uncaught exception.\r\nI am suspecting that I need to pass these fields in the constructor but not sure what needs to be done exactly.\r\n\r\nEven if I do `public class CustomException extends RuntimeException`\r\nhow can I pass all these fields to `super()` ?\r\n\r\nAny help will be highly appreciated.","title":"How to create exception with specific fields?","body":"<p>I have an exception class as :</p>\n<pre><code>@NoArgsConstructor\npublic class ProductsException extends RuntimeException {\n\n    private MyError error;\n\n    public ProductsException(Exception e) {\n        super(e);\n    }\n}\n</code></pre>\n<pre><code>\npublic class MyError {\n    private final String errorCode;\n    private final String message;\n    private final String moreInfo;\n    private final List&lt;Errors&gt; errors;\n\n\n    public MyError(String errorCode, String message, String moreInfo, List&lt;Errors&gt; errors) {\n        this.errorCode = errorCode;\n        this.message = message;\n        this.moreInfo = moreInfo;\n        this.errors = errors;\n    }\n</code></pre>\n<p>This exception is being thrown from inside the service class but my client expects exception as :</p>\n<pre><code>\n{\n    &quot;personId&quot; : &quot;1&quot;,\n    &quot;code&quot; : &quot;1&quot;,\n    &quot;debugger&quot; : &quot;[\n        //List\n    ]&quot;\n    \n}\n\n</code></pre>\n<p>So I created a new class as</p>\n<pre><code>@Builder\npublic class CustomException extends ProductsException {\n\n    private final String personId;\n    private final String code;\n    private final List&lt;String&gt; debugger;\n\n}\n</code></pre>\n<p>And in the controller :</p>\n<pre><code>catch(ProductsException e) {\n  throw CustomException.builder()\n    .code(e.getErrorCode())\n    .debugger(List.of(e.getError().getMessage()))\n    .build();\n}\n</code></pre>\n<p>This does not seem to work and I am getting uncaught exception.\nI am suspecting that I need to pass these fields in the constructor but not sure what needs to be done exactly.</p>\n<p>Even if I do <code>public class CustomException extends RuntimeException</code>\nhow can I pass all these fields to <code>super()</code> ?</p>\n<p>Any help will be highly appreciated.</p>\n"},{"tags":["java","android","dependency-injection","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678265145,"post_id":75670475,"comment_id":133497461,"body_markdown":"Sorry, but this question is way to broad. You&#39;re *basically* asking &quot;how do I implement dagger&quot;. Generally, for a small enough area, you&#39;re probably better of to have one central class that sets up the object structures according to your needs (and possibly external configuration) instead of trying to build a generally useful DI system (of which there already exist plenty, you just chose to not use them). Another option is to just pick an existing (small) one (like Dagger), use that and shade it into your library (i.e. ship renamed classes of it in your library jar, to avoid conflicts).","body":"Sorry, but this question is way to broad. You&#39;re <i>basically</i> asking &quot;how do I implement dagger&quot;. Generally, for a small enough area, you&#39;re probably better of to have one central class that sets up the object structures according to your needs (and possibly external configuration) instead of trying to build a generally useful DI system (of which there already exist plenty, you just chose to not use them). Another option is to just pick an existing (small) one (like Dagger), use that and shade it into your library (i.e. ship renamed classes of it in your library jar, to avoid conflicts)."},{"owner":{"account_id":97618,"reputation":168076,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":0,"creation_date":1678292117,"post_id":75670475,"comment_id":133505279,"body_markdown":"Please read [this](https://blog.ploeh.dk/2014/05/19/di-friendly-library/) and [this](https://blog.ploeh.dk/2014/05/19/di-friendly-framework/).","body":"Please read <a href=\"https://blog.ploeh.dk/2014/05/19/di-friendly-library/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://blog.ploeh.dk/2014/05/19/di-friendly-framework/\" rel=\"nofollow noreferrer\">this</a>."}],"answers":[{"tags":[],"owner":{"account_id":13836056,"reputation":108,"user_id":9987550,"display_name":"Madhur Lalit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678279180,"creation_date":1678277424,"answer_id":75672863,"question_id":75670475,"body_markdown":"You are going in correct direction when using a hash-map for using it as a registry of classes. Just that instead of instance as values you need to pass consumers which would instantiate when called.\r\n\r\nHere are steps to implement the same :\r\n\r\n**Objective 1st : Storing the classes in registry :**\r\n\r\n**Step 1**: Create a class where you would keep your Hash-map of registries. Let&#39;s name this class as DiConstructor where you would declare the hash-map like one below :\r\n\r\n    private final Map&lt;Class&lt;T&gt;, ClassFactory&gt; holder = new HashMap&lt;&gt;();\r\n\r\nhere ClassFactory being Interface to Factories of new instances of type T\r\n\r\n**Step 2**: Write a function that would create registry for all of your classes.\r\n\r\n    public &lt;T&gt; void registerFactory(Class&lt;T&gt; clazz, ClassFactory&lt;T&gt; factory) {\r\n            holder.put(clazz, factory);\r\n    }\r\n\r\n**Step 3**: Create a declaration class where you would add registries for all of your classes and use this method :\r\n\r\n    registerFactory(MyClassNameToDi.class,\r\n                        new ClassFactory&lt;MyClassNameToDi&gt;() {\r\n                            @NonNull\r\n                            @Override\r\n                            public MyClassNameToDi get(DiConstructor di) {\r\n                                return new MyClassNameToDi();\r\n                            }\r\n                        });\r\n\r\nNote : This code to create and declare registries should be done while initialising your library so that the classes will be resolvable on run time later.\r\n\r\n**Objective 2nd: Retrieving values from registry**\r\n\r\nThere are multiple ways to do so, now that you have the class factory stored as value.\r\n\r\n**Option 1:** When you have DiConstructor reference with you, you can write a getter method which would return the class instance when its reference is passed as argument. It would look something like this :\r\n\r\n    public &lt;T&gt; T get(Class&lt;T&gt; clazz) {\r\n         ClassFactory classFactory = holder.get(clazz);\r\n         Object instance = null;\r\n         if (classFactory != null) {\r\n            instance = classFactory.get(this);\r\n         }\r\n       return clazz.cast(instance);\r\n    }\r\n\r\n**Note**: You will need to try-catch this code as it might throw exception when record is not found in HashMap\r\nNow using this would be pretty much straightforward with DiConstructor instance . Keeping instance name di here.\r\n\r\n        di.get(MyClassNameToDi.class);\r\n\r\n**Option 2:** Using annotations, just like dagger\r\n\r\nExample of usage in source code :\r\n\r\nDeclare the dependency with inject annotation .\r\n\r\n    @Inject\r\n    private YourClassToDi classInstance;\r\n\r\nNow create a class which would receive all fields with inject annotations from this class to resolve the dependencies. Let&#39;s name it as MyAndroidInjector. Inside this class write a function inject which would contain activity context as argument.\r\n\r\nLet&#39;s see what we need to do in this inject method .\r\n\r\nCollect all fields annotated with inject. You will need to use some of the Java reflection concepts here to retrieve the fields here. The code would look something like one below :\r\n\r\n    Set&lt;Field&gt; result = new HashSet&lt;&gt;();\r\n    Class&lt;?&gt; c = classs;\r\n    String canonicalName = c.getCanonicalName();\r\n    while (c != null &amp;&amp; canonicalName != null &amp;&amp; canonicalName.startsWith(&quot;com.yourpackagename&quot;)) {\r\n    for (Field field : c.getDeclaredFields())\r\n    {\r\n     if (field.isAnnotationPresent(Named.class))\r\n        {\r\n         result.add(field);\r\n        }\r\n    }\r\n    c = c.getSuperclass();canonicalName = c.getCanonicalName();\r\n    }\r\n\r\nNow pick every field instance , check its annotation and resolve its dependency using field.set() and do not forget to apply setAccessible as true. Here you would need to get your Di registry class instance in getDiConstructor() method and resolve the dependencies.\r\n\r\n    for (Field field : result){\r\n                String named = null;\r\n                if (field.isAnnotationPresent(Named.class)) {\r\n                    named = field.getAnnotation(Named.class).value();\r\n                }\r\n                field.setAccessible(true);\r\n                field.set(targetObject, getDiConstructor().get(named,\r\n                field.getType()));\r\n        }\r\n\r\nAt last calling this in your onCreate of activity containing the inject annotations would do the job.\r\n\r\n        MyAndroidInjector.inject(this);\r\n\r\n","title":"Creating an indigenous dependency injection framework","body":"<p>You are going in correct direction when using a hash-map for using it as a registry of classes. Just that instead of instance as values you need to pass consumers which would instantiate when called.</p>\n<p>Here are steps to implement the same :</p>\n<p><strong>Objective 1st : Storing the classes in registry :</strong></p>\n<p><strong>Step 1</strong>: Create a class where you would keep your Hash-map of registries. Let's name this class as DiConstructor where you would declare the hash-map like one below :</p>\n<pre><code>private final Map&lt;Class&lt;T&gt;, ClassFactory&gt; holder = new HashMap&lt;&gt;();\n</code></pre>\n<p>here ClassFactory being Interface to Factories of new instances of type T</p>\n<p><strong>Step 2</strong>: Write a function that would create registry for all of your classes.</p>\n<pre><code>public &lt;T&gt; void registerFactory(Class&lt;T&gt; clazz, ClassFactory&lt;T&gt; factory) {\n        holder.put(clazz, factory);\n}\n</code></pre>\n<p><strong>Step 3</strong>: Create a declaration class where you would add registries for all of your classes and use this method :</p>\n<pre><code>registerFactory(MyClassNameToDi.class,\n                    new ClassFactory&lt;MyClassNameToDi&gt;() {\n                        @NonNull\n                        @Override\n                        public MyClassNameToDi get(DiConstructor di) {\n                            return new MyClassNameToDi();\n                        }\n                    });\n</code></pre>\n<p>Note : This code to create and declare registries should be done while initialising your library so that the classes will be resolvable on run time later.</p>\n<p><strong>Objective 2nd: Retrieving values from registry</strong></p>\n<p>There are multiple ways to do so, now that you have the class factory stored as value.</p>\n<p><strong>Option 1:</strong> When you have DiConstructor reference with you, you can write a getter method which would return the class instance when its reference is passed as argument. It would look something like this :</p>\n<pre><code>public &lt;T&gt; T get(Class&lt;T&gt; clazz) {\n     ClassFactory classFactory = holder.get(clazz);\n     Object instance = null;\n     if (classFactory != null) {\n        instance = classFactory.get(this);\n     }\n   return clazz.cast(instance);\n}\n</code></pre>\n<p><strong>Note</strong>: You will need to try-catch this code as it might throw exception when record is not found in HashMap\nNow using this would be pretty much straightforward with DiConstructor instance . Keeping instance name di here.</p>\n<pre><code>    di.get(MyClassNameToDi.class);\n</code></pre>\n<p><strong>Option 2:</strong> Using annotations, just like dagger</p>\n<p>Example of usage in source code :</p>\n<p>Declare the dependency with inject annotation .</p>\n<pre><code>@Inject\nprivate YourClassToDi classInstance;\n</code></pre>\n<p>Now create a class which would receive all fields with inject annotations from this class to resolve the dependencies. Let's name it as MyAndroidInjector. Inside this class write a function inject which would contain activity context as argument.</p>\n<p>Let's see what we need to do in this inject method .</p>\n<p>Collect all fields annotated with inject. You will need to use some of the Java reflection concepts here to retrieve the fields here. The code would look something like one below :</p>\n<pre><code>Set&lt;Field&gt; result = new HashSet&lt;&gt;();\nClass&lt;?&gt; c = classs;\nString canonicalName = c.getCanonicalName();\nwhile (c != null &amp;&amp; canonicalName != null &amp;&amp; canonicalName.startsWith(&quot;com.yourpackagename&quot;)) {\nfor (Field field : c.getDeclaredFields())\n{\n if (field.isAnnotationPresent(Named.class))\n    {\n     result.add(field);\n    }\n}\nc = c.getSuperclass();canonicalName = c.getCanonicalName();\n}\n</code></pre>\n<p>Now pick every field instance , check its annotation and resolve its dependency using field.set() and do not forget to apply setAccessible as true. Here you would need to get your Di registry class instance in getDiConstructor() method and resolve the dependencies.</p>\n<pre><code>for (Field field : result){\n            String named = null;\n            if (field.isAnnotationPresent(Named.class)) {\n                named = field.getAnnotation(Named.class).value();\n            }\n            field.setAccessible(true);\n            field.set(targetObject, getDiConstructor().get(named,\n            field.getType()));\n    }\n</code></pre>\n<p>At last calling this in your onCreate of activity containing the inject annotations would do the job.</p>\n<pre><code>    MyAndroidInjector.inject(this);\n</code></pre>\n"}],"owner":{"account_id":27963071,"reputation":3,"user_id":21354428,"display_name":"SdkDroider177"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678282551,"accepted_answer_id":75672863,"answer_count":1,"score":0,"last_activity_date":1678279180,"creation_date":1678261837,"question_id":75670475,"body_markdown":"I am creating an analytics library. I have dozens of classes in it which i need to use via dependency injection to avoid writing boilerplate code. I would have used dagger but i want to keep the library independent of third party SDKs . Can someone guide me through writing our own indigenous dependency injection framework which would efficiently take care of all of class declarations and instatiations on demand in the code? \r\n\r\nI tried using Hashmap for class registry for storing instances of all of my classes, but that would mean we would declare all of the classes at once where many of them would be left unused in runtime","title":"Creating an indigenous dependency injection framework","body":"<p>I am creating an analytics library. I have dozens of classes in it which i need to use via dependency injection to avoid writing boilerplate code. I would have used dagger but i want to keep the library independent of third party SDKs . Can someone guide me through writing our own indigenous dependency injection framework which would efficiently take care of all of class declarations and instatiations on demand in the code?</p>\n<p>I tried using Hashmap for class registry for storing instances of all of my classes, but that would mean we would declare all of the classes at once where many of them would be left unused in runtime</p>\n"},{"tags":["java","maven","xslt","apache-fop","apache-xml-graphics"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678276387,"post_id":75672181,"comment_id":133500297,"body_markdown":"Are you sure you have the right dependencies loaded? The method exists: https://javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/apache/fop/apps/FopFactory.html#newInstance-java.net.URI-","body":"Are you sure you have the right dependencies loaded? The method exists: <a href=\"https://javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/apache/fop/apps/FopFactory.html#newInstance-java.net.URI-\" rel=\"nofollow noreferrer\">javadoc.io/static/org.apache.xmlgraphics/fop-core/2.8/org/&hellip;</a>"},{"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"score":0,"creation_date":1678276756,"post_id":75672181,"comment_id":133500379,"body_markdown":"this is the dependency I am using   &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;fop&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.8&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"this is the dependency I am using   &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;fop&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.8&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678277862,"post_id":75672181,"comment_id":133500659,"body_markdown":"What is your development environment? Any chance any other components load an older version of FOP?","body":"What is your development environment? Any chance any other components load an older version of FOP?"},{"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"score":0,"creation_date":1678363153,"post_id":75672181,"comment_id":133519699,"body_markdown":"I am not seeing any older version of FOP in .m2 folder. I am using Eclipse.","body":"I am not seeing any older version of FOP in .m2 folder. I am using Eclipse."}],"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678780982,"answer_count":0,"score":1,"last_activity_date":1678279011,"creation_date":1678273394,"question_id":75672181,"body_markdown":"I am getting error while converting xml file into pdf. I am trying to upgrade fop version from 1.0 to 2.8. So in this line of code FopFactory fopFactory = FopFactory.newInstance(); I was initially getting newInstance() method requires argument.\r\n\r\n\r\nAfter exploring some of the documentation and examples I used the below:\r\n\r\nFopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());\r\n\r\nI am still getting error java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\r\n\r\nWhat should I do now to resolve this error?\r\ngiven below is the error-\r\n\r\n\r\n    java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\r\n        at com.dunkindonuts.aem.common.nutrition.NutritionPDFGenerator.&lt;init&gt;(NutritionPDFGenerator.java:69)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionPDF(NutritionDataPost.java:410)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionData(NutritionDataPost.java:155)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.initOperation(NutritionDataPost.java:120)\r\n        at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.init(NutritionDataPost.java:89)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.sling.models.impl.ModelAdapterFactory.invokePostConstruct(ModelAdapterFactory.java:972) [org.apache.sling.models.impl:1.4.10]\r\n        at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:772) [org.apache.sling.models.impl:1.4.10]\r\n","title":"FopFactory.newInstance(new File(&quot;.&quot;).toURI()) is throwing NoSuchMethodError error","body":"<p>I am getting error while converting xml file into pdf. I am trying to upgrade fop version from 1.0 to 2.8. So in this line of code FopFactory fopFactory = FopFactory.newInstance(); I was initially getting newInstance() method requires argument.</p>\n<p>After exploring some of the documentation and examples I used the below:</p>\n<p>FopFactory fopFactory = FopFactory.newInstance(new File(&quot;.&quot;).toURI());</p>\n<p>I am still getting error java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;</p>\n<p>What should I do now to resolve this error?\ngiven below is the error-</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.fop.apps.FopFactory.newInstance(Ljava/net/URI;)Lorg/apache/fop/apps/FopFactory;\n    at com.dunkindonuts.aem.common.nutrition.NutritionPDFGenerator.&lt;init&gt;(NutritionPDFGenerator.java:69)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionPDF(NutritionDataPost.java:410)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.generateNutritionData(NutritionDataPost.java:155)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.initOperation(NutritionDataPost.java:120)\n    at com.dunkindonuts.aem.common.model.components.administration.NutritionDataPost.init(NutritionDataPost.java:89)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.sling.models.impl.ModelAdapterFactory.invokePostConstruct(ModelAdapterFactory.java:972) [org.apache.sling.models.impl:1.4.10]\n    at org.apache.sling.models.impl.ModelAdapterFactory.createObject(ModelAdapterFactory.java:772) [org.apache.sling.models.impl:1.4.10]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1450477162,"post_id":34364736,"comment_id":56472075,"body_markdown":"Specifying the type for the variable is part of how you declare a variable in Java.  You may want to start with pretty much any introductory Java tutorial, the syntax for declaring a variable will be covered.","body":"Specifying the type for the variable is part of how you declare a variable in Java.  You may want to start with pretty much any introductory Java tutorial, the syntax for declaring a variable will be covered."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1450477190,"post_id":34364736,"comment_id":56472088,"body_markdown":"That&#39;s what Java syntax looks like. You are *declaring* a variable named `hibUtil` of type `HibernateUtil`, and assign to it (using `=`) a new instance object of type `HibernateUtil` that you *instantiate* it (using `new` keyword) by invoking its constructor that takes 2 arguments.","body":"That&#39;s what Java syntax looks like. You are <i>declaring</i> a variable named <code>hibUtil</code> of type <code>HibernateUtil</code>, and assign to it (using <code>=</code>) a new instance object of type <code>HibernateUtil</code> that you <i>instantiate</i> it (using <code>new</code> keyword) by invoking its constructor that takes 2 arguments."}],"answers":[{"tags":[],"owner":{"account_id":720488,"reputation":495,"user_id":3009896,"accept_rate":80,"display_name":"Boardwish"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1480930506,"creation_date":1450477157,"answer_id":34364780,"question_id":34364736,"body_markdown":"This is a variable declaration and initialisation.\r\n\r\nIn java you need to declare the type of a variable.\r\n\r\n    HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\r\n\r\nThe first `HibernateUtil` declares the type of a variable/an object. \r\n\r\nIn your case its a variable of class `HibernateUtil` named `hibUtil`.\r\nAfter the `=` a new object is created and assigned to the previously declared variable.\r\n\r\nDepending on your class structure you can also declare an interface or super class as variable and assign an object of a sub class to it.","title":"Java syntax repeating class name before variable","body":"<p>This is a variable declaration and initialisation.</p>\n\n<p>In java you need to declare the type of a variable.</p>\n\n<pre><code>HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\n</code></pre>\n\n<p>The first <code>HibernateUtil</code> declares the type of a variable/an object. </p>\n\n<p>In your case its a variable of class <code>HibernateUtil</code> named <code>hibUtil</code>.\nAfter the <code>=</code> a new object is created and assigned to the previously declared variable.</p>\n\n<p>Depending on your class structure you can also declare an interface or super class as variable and assign an object of a sub class to it.</p>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450478523,"creation_date":1450478523,"answer_id":34365032,"question_id":34364736,"body_markdown":"As an example of when you might not see the repeated syntax, supposes we have subclasses of HibernateUtil called MyHibernateUtil and YourHibernateUtil. Then you might see an array of HibernateUtil&#39;s containing one of each of the subclasses:\r\n   \r\n    \r\n    HibernateUtil[] h = { new MyHybernateUtil(...), new YourHibernateUtil(...)};\r\n\r\n","title":"Java syntax repeating class name before variable","body":"<p>As an example of when you might not see the repeated syntax, supposes we have subclasses of HibernateUtil called MyHibernateUtil and YourHibernateUtil. Then you might see an array of HibernateUtil's containing one of each of the subclasses:</p>\n\n<pre><code>HibernateUtil[] h = { new MyHybernateUtil(...), new YourHibernateUtil(...)};\n</code></pre>\n"}],"owner":{"account_id":5153895,"reputation":6068,"user_id":4127646,"accept_rate":51,"display_name":"Oliver Williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34364780,"answer_count":2,"score":2,"last_activity_date":1678278763,"creation_date":1450476893,"question_id":34364736,"body_markdown":"This question is actually one of two I have asked regarding Java, and I don&#39;t understand this syntax enough to understand what to ask, but here is something I see in coding:\r\n\r\n    HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\r\n\r\nI know where the class HibernateUtil is located.\r\n\r\nWhat I don&#39;t understand is, why is it also specified before the var `hibUtil` in the expression? What is the different if I do or do not?\r\n","title":"Java syntax repeating class name before variable","body":"<p>This question is actually one of two I have asked regarding Java, and I don't understand this syntax enough to understand what to ask, but here is something I see in coding:</p>\n<pre><code>HibernateUtil hibUtil = new HibernateUtil(ORDB_CFG, AS400_CFG);\n</code></pre>\n<p>I know where the class HibernateUtil is located.</p>\n<p>What I don't understand is, why is it also specified before the var <code>hibUtil</code> in the expression? What is the different if I do or do not?</p>\n"},{"tags":["java","list","java-8"],"comments":[{"owner":{"account_id":4074512,"reputation":636,"user_id":3346538,"display_name":"Ranjeet"},"score":10,"creation_date":1429175317,"post_id":29670116,"comment_id":47478253,"body_markdown":"Why you use List for that...use Set instead of List.","body":"Why you use List for that...use Set instead of List."},{"owner":{"account_id":5965700,"reputation":692,"user_id":4689542,"display_name":"Dude"},"score":0,"creation_date":1429175792,"post_id":29670116,"comment_id":47478567,"body_markdown":"do you want to search for duplicates of employee.name? or what is your purpose, please give more information","body":"do you want to search for duplicates of employee.name? or what is your purpose, please give more information"},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":1,"creation_date":1506549011,"post_id":29670116,"comment_id":79871088,"body_markdown":"@Ranjeet that only works if `Employee` properly implements `equals` and `hashCode` in such a way as to correctly identify duplicates.","body":"@Ranjeet that only works if <code>Employee</code> properly implements <code>equals</code> and <code>hashCode</code> in such a way as to correctly identify duplicates."},{"owner":{"account_id":5194004,"reputation":122,"user_id":4155961,"display_name":"Dusman"},"score":0,"creation_date":1582458343,"post_id":29670116,"comment_id":106777668,"body_markdown":"great answer https://howtodoinjava.com/java8/java-stream-distinct-examples/","body":"great answer <a href=\"https://howtodoinjava.com/java8/java-stream-distinct-examples/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java8/java-stream-distinct-examples</a>"}],"answers":[{"tags":[],"owner":{"account_id":469276,"reputation":23596,"user_id":875775,"display_name":"Tho"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1429179103,"creation_date":1429177915,"answer_id":29671170,"question_id":29670116,"body_markdown":"Try this code:\r\n\r\n    Collection&lt;Employee&gt; nonDuplicatedEmployees = employees.stream()\r\n       .&lt;Map&lt;Integer, Employee&gt;&gt; collect(HashMap::new,(m,e)-&gt;m.put(e.getId(), e), Map::putAll)\r\n       .values();","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>Try this code:</p>\n\n<pre><code>Collection&lt;Employee&gt; nonDuplicatedEmployees = employees.stream()\n   .&lt;Map&lt;Integer, Employee&gt;&gt; collect(HashMap::new,(m,e)-&gt;m.put(e.getId(), e), Map::putAll)\n   .values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":2,"up_vote_count":196,"is_accepted":true,"score":194,"last_activity_date":1606150659,"creation_date":1429178820,"answer_id":29671501,"question_id":29670116,"body_markdown":"You can get a stream from the `List` and put in in the `TreeSet` from which you provide a custom comparator that compares id uniquely. \r\n\r\nThen if you really need a list you can put then back this collection into an ArrayList.\r\n\r\n    import static java.util.Comparator.comparingInt;\r\n    import static java.util.stream.Collectors.collectingAndThen;\r\n    import static java.util.stream.Collectors.toCollection;\r\n    \r\n    ...\r\n    List&lt;Employee&gt; unique = employee.stream()\r\n                                    .collect(collectingAndThen(toCollection(() -&gt; new TreeSet&lt;&gt;(comparingInt(Employee::getId))),\r\n                                                               ArrayList::new));\r\n\r\nGiven the example:\r\n\r\n    List&lt;Employee&gt; employee = Arrays.asList(new Employee(1, &quot;John&quot;), new Employee(1, &quot;Bob&quot;), new Employee(2, &quot;Alice&quot;));\r\n\r\nIt will output:\r\n\r\n    [Employee{id=1, name=&#39;John&#39;}, Employee{id=2, name=&#39;Alice&#39;}]\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\nAnother idea could be to use a wrapper that wraps an employee and have the equals and hashcode method based with its id:\r\n\r\n    class WrapperEmployee {\r\n        private Employee e;\r\n    \r\n        public WrapperEmployee(Employee e) {\r\n            this.e = e;\r\n        }\r\n    \r\n        public Employee unwrap() {\r\n            return this.e;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            WrapperEmployee that = (WrapperEmployee) o;\r\n            return Objects.equals(e.getId(), that.e.getId());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(e.getId());\r\n        }\r\n    }\r\n\r\nThen you wrap each instance, call `distinct()`, unwrap them and collect the result in a list.\r\n\r\n    List&lt;Employee&gt; unique = employee.stream()\r\n                                    .map(WrapperEmployee::new)\r\n                                    .distinct()\r\n                                    .map(WrapperEmployee::unwrap)\r\n                                    .collect(Collectors.toList());\r\n\r\n&lt;hr/&gt;\r\n\r\nIn fact, I think you can make this wrapper generic by providing a function that will do the comparison:\r\n\r\n    public class Wrapper&lt;T, U&gt; {\r\n        private T t;\r\n        private Function&lt;T, U&gt; equalityFunction;\r\n    \r\n        public Wrapper(T t, Function&lt;T, U&gt; equalityFunction) {\r\n            this.t = t;\r\n            this.equalityFunction = equalityFunction;\r\n        }\r\n    \r\n        public T unwrap() {\r\n            return this.t;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            Wrapper&lt;T, U&gt; that = (Wrapper&lt;T, U&gt;) o;\r\n            return Objects.equals(equalityFunction.apply(this.t), that.equalityFunction.apply(that.t));\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(equalityFunction.apply(this.t));\r\n        }\r\n    }\r\n\r\nand the mapping will be:\r\n\r\n    .map(e -&gt; new Wrapper&lt;&gt;(e, Employee::getId))","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>You can get a stream from the <code>List</code> and put in in the <code>TreeSet</code> from which you provide a custom comparator that compares id uniquely.</p>\n<p>Then if you really need a list you can put then back this collection into an ArrayList.</p>\n<pre><code>import static java.util.Comparator.comparingInt;\nimport static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.toCollection;\n\n...\nList&lt;Employee&gt; unique = employee.stream()\n                                .collect(collectingAndThen(toCollection(() -&gt; new TreeSet&lt;&gt;(comparingInt(Employee::getId))),\n                                                           ArrayList::new));\n</code></pre>\n<p>Given the example:</p>\n<pre><code>List&lt;Employee&gt; employee = Arrays.asList(new Employee(1, &quot;John&quot;), new Employee(1, &quot;Bob&quot;), new Employee(2, &quot;Alice&quot;));\n</code></pre>\n<p>It will output:</p>\n<pre><code>[Employee{id=1, name='John'}, Employee{id=2, name='Alice'}]\n</code></pre>\n<hr/>\n<p>Another idea could be to use a wrapper that wraps an employee and have the equals and hashcode method based with its id:</p>\n<pre><code>class WrapperEmployee {\n    private Employee e;\n\n    public WrapperEmployee(Employee e) {\n        this.e = e;\n    }\n\n    public Employee unwrap() {\n        return this.e;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        WrapperEmployee that = (WrapperEmployee) o;\n        return Objects.equals(e.getId(), that.e.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(e.getId());\n    }\n}\n</code></pre>\n<p>Then you wrap each instance, call <code>distinct()</code>, unwrap them and collect the result in a list.</p>\n<pre><code>List&lt;Employee&gt; unique = employee.stream()\n                                .map(WrapperEmployee::new)\n                                .distinct()\n                                .map(WrapperEmployee::unwrap)\n                                .collect(Collectors.toList());\n</code></pre>\n<hr/>\n<p>In fact, I think you can make this wrapper generic by providing a function that will do the comparison:</p>\n<pre><code>public class Wrapper&lt;T, U&gt; {\n    private T t;\n    private Function&lt;T, U&gt; equalityFunction;\n\n    public Wrapper(T t, Function&lt;T, U&gt; equalityFunction) {\n        this.t = t;\n        this.equalityFunction = equalityFunction;\n    }\n\n    public T unwrap() {\n        return this.t;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Wrapper&lt;T, U&gt; that = (Wrapper&lt;T, U&gt;) o;\n        return Objects.equals(equalityFunction.apply(this.t), that.equalityFunction.apply(that.t));\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(equalityFunction.apply(this.t));\n    }\n}\n</code></pre>\n<p>and the mapping will be:</p>\n<pre><code>.map(e -&gt; new Wrapper&lt;&gt;(e, Employee::getId))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":104,"is_accepted":false,"score":104,"last_activity_date":1678278745,"creation_date":1429181439,"answer_id":29672489,"question_id":29670116,"body_markdown":"The easiest way to do it directly in the list is\r\n\r\n    HashSet&lt;Object&gt; seen = new HashSet&lt;&gt;();\r\n    employee.removeIf(e -&gt; !seen.add(e.getID()));\r\n\r\n- `removeIf` will remove an element if it meets the specified criteria\r\n- `Set.add` will return `false` if it did not modify the `Set`, i.e. already contains the value\r\n- combining these two, it will remove all elements (employees) whose id has been encountered before\r\n\r\nOf course, it only works if the list supports removal of elements.\r\n","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>The easiest way to do it directly in the list is</p>\n<pre><code>HashSet&lt;Object&gt; seen = new HashSet&lt;&gt;();\nemployee.removeIf(e -&gt; !seen.add(e.getID()));\n</code></pre>\n<ul>\n<li><code>removeIf</code> will remove an element if it meets the specified criteria</li>\n<li><code>Set.add</code> will return <code>false</code> if it did not modify the <code>Set</code>, i.e. already contains the value</li>\n<li>combining these two, it will remove all elements (employees) whose id has been encountered before</li>\n</ul>\n<p>Of course, it only works if the list supports removal of elements.</p>\n"},{"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429236285,"creation_date":1429210727,"answer_id":29683689,"question_id":29670116,"body_markdown":"Another version which is simple\r\n\r\n\tBiFunction&lt;TreeSet&lt;Employee&gt;,List&lt;Employee&gt; ,TreeSet&lt;Employee&gt;&gt; appendTree = (y,x) -&gt; (y.addAll(x))? y:y;\r\n\t\r\n\tTreeSet&lt;Employee&gt; outputList = appendTree.apply(new TreeSet&lt;Employee&gt;(Comparator.comparing(p-&gt;p.getId())),personList);","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>Another version which is simple</p>\n\n<pre><code>BiFunction&lt;TreeSet&lt;Employee&gt;,List&lt;Employee&gt; ,TreeSet&lt;Employee&gt;&gt; appendTree = (y,x) -&gt; (y.addAll(x))? y:y;\n\nTreeSet&lt;Employee&gt; outputList = appendTree.apply(new TreeSet&lt;Employee&gt;(Comparator.comparing(p-&gt;p.getId())),personList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2800052,"reputation":450,"user_id":2408445,"display_name":"Xiao Liu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1495598083,"creation_date":1495596658,"answer_id":44148466,"question_id":29670116,"body_markdown":"If order does not matter and when it&#39;s more performant to run in parallel, Collect to a Map and then get values:\r\n\r\n    employee.stream().collect(Collectors.toConcurrentMap(Employee::getId, Function.identity(), (p, q) -&gt; p)).values()","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>If order does not matter and when it's more performant to run in parallel, Collect to a Map and then get values:</p>\n\n<pre><code>employee.stream().collect(Collectors.toConcurrentMap(Employee::getId, Function.identity(), (p, q) -&gt; p)).values()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4002732,"reputation":1960,"user_id":3298327,"accept_rate":81,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498558321,"creation_date":1498558321,"answer_id":44777648,"question_id":29670116,"body_markdown":"There are a lot of good answers here but I didn&#39;t find the one about using `reduce` method. So for your case, you can apply it in following way:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     List&lt;Employee&gt; employeeList = employees.stream()\r\n          .reduce(new ArrayList&lt;&gt;(), (List&lt;Employee&gt; accumulator, Employee employee) -&gt;\r\n          {\r\n            if (accumulator.stream().noneMatch(emp -&gt; emp.getId().equals(employee.getId())))\r\n            {\r\n              accumulator.add(employee);\r\n            }\r\n            return accumulator;\r\n          }, (acc1, acc2) -&gt;\r\n          {\r\n            acc1.addAll(acc2);\r\n            return acc1;\r\n          });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>There are a lot of good answers here but I didn't find the one about using <code>reduce</code> method. So for your case, you can apply it in following way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;Employee&gt; employeeList = employees.stream()\n      .reduce(new ArrayList&lt;&gt;(), (List&lt;Employee&gt; accumulator, Employee employee) -&gt;\n      {\n        if (accumulator.stream().noneMatch(emp -&gt; emp.getId().equals(employee.getId())))\n        {\n          accumulator.add(employee);\n        }\n        return accumulator;\n      }, (acc1, acc2) -&gt;\n      {\n        acc1.addAll(acc2);\n        return acc1;\n      });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3997109,"reputation":1595,"user_id":3294286,"accept_rate":67,"display_name":"Sebastian D&#39;Agostino"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1553174684,"creation_date":1520427634,"answer_id":49152609,"question_id":29670116,"body_markdown":"This worked for me:\r\n\r\n    list.stream().distinct().collect(Collectors.toList());\r\n\r\nYou need to implement equals, of course","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>This worked for me:</p>\n\n<pre><code>list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>You need to implement equals, of course</p>\n"},{"tags":[],"owner":{"account_id":5949632,"reputation":1404,"user_id":4678099,"accept_rate":78,"display_name":"Rolch2015"},"down_vote_count":2,"up_vote_count":66,"is_accepted":false,"score":64,"last_activity_date":1523330332,"creation_date":1523330332,"answer_id":49744772,"question_id":29670116,"body_markdown":"If you can make use of `equals`, then filter the list by using `distinct` within a stream (see answers above). If you can not or don&#39;t want to override the `equals` method, you can  `filter` the stream in the following way for any property, e.g. for the property Name (the same for the property Id etc.):\r\n\r\n    Set&lt;String&gt; nameSet = new HashSet&lt;&gt;();\r\n    List&lt;Employee&gt; employeesDistinctByName = employees.stream()\r\n                .filter(e -&gt; nameSet.add(e.getName()))\r\n                .collect(Collectors.toList());\r\n\r\n","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>If you can make use of <code>equals</code>, then filter the list by using <code>distinct</code> within a stream (see answers above). If you can not or don't want to override the <code>equals</code> method, you can  <code>filter</code> the stream in the following way for any property, e.g. for the property Name (the same for the property Id etc.):</p>\n\n<pre><code>Set&lt;String&gt; nameSet = new HashSet&lt;&gt;();\nList&lt;Employee&gt; employeesDistinctByName = employees.stream()\n            .filter(e -&gt; nameSet.add(e.getName()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1383182,"reputation":3429,"user_id":1315755,"accept_rate":46,"display_name":"navins"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1531592465,"creation_date":1531592465,"answer_id":51342238,"question_id":29670116,"body_markdown":"Another solution is to use a Predicate, then you can use this in any filter:\r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; distinctBy(Function&lt;? super T, ?&gt; f) {\r\n      Set&lt;Object&gt; objects = new ConcurrentHashSet&lt;&gt;();\r\n      return t -&gt; objects.add(f.apply(t));\r\n    }\r\n\r\n**Then simply reuse the predicate anywhere:**\r\n\r\n    employees.stream().filter(distinctBy(e -&gt; e.getId));\r\n\r\n\r\nNote: in the JavaDoc of filter, which says it takes a stateless Predicte. Actually, this works fine even if the stream is parallel.\r\n\r\n&lt;br&gt;\r\n**About other solutions:**\r\n\r\n1) Using `.collect(Collectors.toConcurrentMap(..)).values()` is a good solution, but it&#39;s annoying if you want to sort and keep the order.\r\n\r\n2) `stream.removeIf(e-&gt;!seen.add(e.getID()));` is also another very good solution. But we need to make sure the collection implemented removeIf, for example it will throw exception if we construct the collection use `Arrays.asList(..)`.\r\n","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>Another solution is to use a Predicate, then you can use this in any filter:</p>\n\n<pre><code>public static &lt;T&gt; Predicate&lt;T&gt; distinctBy(Function&lt;? super T, ?&gt; f) {\n  Set&lt;Object&gt; objects = new ConcurrentHashSet&lt;&gt;();\n  return t -&gt; objects.add(f.apply(t));\n}\n</code></pre>\n\n<p><strong>Then simply reuse the predicate anywhere:</strong></p>\n\n<pre><code>employees.stream().filter(distinctBy(e -&gt; e.getId));\n</code></pre>\n\n<p>Note: in the JavaDoc of filter, which says it takes a stateless Predicte. Actually, this works fine even if the stream is parallel.</p>\n\n<p><br>\n<strong>About other solutions:</strong></p>\n\n<p>1) Using <code>.collect(Collectors.toConcurrentMap(..)).values()</code> is a good solution, but it's annoying if you want to sort and keep the order.</p>\n\n<p>2) <code>stream.removeIf(e-&gt;!seen.add(e.getID()));</code> is also another very good solution. But we need to make sure the collection implemented removeIf, for example it will throw exception if we construct the collection use <code>Arrays.asList(..)</code>.</p>\n"}],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273223,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"closed_date":1555084364,"accepted_answer_id":29671501,"answer_count":9,"score":121,"last_activity_date":1678278745,"creation_date":1429175228,"question_id":29670116,"body_markdown":"I am trying to remove duplicates from a List of objects based on some property.\r\n\r\ncan we do it in a simple way using java 8\r\n\r\n    List&lt;Employee&gt; employee\r\n\r\nCan we remove duplicates from it based on `id` property of employee. I have seen posts removing duplicate strings form arraylist of string.","title":"Remove duplicates from a list of objects based on property in Java 8","body":"<p>I am trying to remove duplicates from a List of objects based on some property.</p>\n\n<p>can we do it in a simple way using java 8</p>\n\n<pre><code>List&lt;Employee&gt; employee\n</code></pre>\n\n<p>Can we remove duplicates from it based on <code>id</code> property of employee. I have seen posts removing duplicate strings form arraylist of string.</p>\n"},{"tags":["java","client","diameter-protocol"],"answers":[{"tags":[],"owner":{"account_id":4419084,"reputation":792,"user_id":9819847,"display_name":"Jarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678278670,"creation_date":1678278670,"answer_id":75673058,"question_id":52687046,"body_markdown":"`Fatal: Keyboard saved configuration failure` is a manifestation that seagull cannot allocate TTY. \r\n\r\nYou would need to use something like `Pty4j` and allocate it, below a snippet:\r\n\r\n```\r\nvar cmd = new String[]{&quot;&quot;};\r\nPtyProcess process = PtyProcess.exec(cmd);\r\n\r\n// Now the process runs under a pseudo terminal,\r\n// And the results are redirected back like the regular Java&#39;s Process class\r\nredirectToRightPlace(process.getInputStream());\r\nredirectToRightPlace(process.getErrorStream());\r\nredirectToRightPlace(process.getOutputStream());\r\n\r\nint exitCode = process.waitFor();\r\n```","title":"Invoking Seagull Diameter Client using Java","body":"<p><code>Fatal: Keyboard saved configuration failure</code> is a manifestation that seagull cannot allocate TTY.</p>\n<p>You would need to use something like <code>Pty4j</code> and allocate it, below a snippet:</p>\n<pre><code>var cmd = new String[]{&quot;&quot;};\nPtyProcess process = PtyProcess.exec(cmd);\n\n// Now the process runs under a pseudo terminal,\n// And the results are redirected back like the regular Java's Process class\nredirectToRightPlace(process.getInputStream());\nredirectToRightPlace(process.getErrorStream());\nredirectToRightPlace(process.getOutputStream());\n\nint exitCode = process.waitFor();\n</code></pre>\n"}],"owner":{"account_id":2340103,"reputation":31,"user_id":2051594,"display_name":"Danilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678278670,"creation_date":1538903507,"question_id":52687046,"body_markdown":"i need to send some messages from my java web application to some servers using Diameter protocol, in particular CCR-CCA scenario. I had a look at jdiameter opensource project, but my usecase does not require such complexity, since that i just need to send a single request and log the response (actually i don&#39;t even need the CER-CEA part).\r\nSo i thought i could just have used Seagull running under my webapp. I downloaded Seagull (for Windows), and what i&#39;m trying to do is basically to run the .bat file coming from Seagull for the diameter environment from my java environment.\r\n\r\nThat&#39;s what i&#39;ve done till now..\r\n\r\n1) A simple test to invoke the client.. Here wrapper simply sets working dir and starts the process\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;String&gt; cmd=new ArrayList&lt;&gt;();\r\n    \t\tcmd.add(&quot;cmd.exe&quot;);\r\n    \t\tcmd.add(&quot;/c&quot;);\r\n    \t\tcmd.add(&quot;my_start_client.bat&quot;);\r\n    \t\tJavaProcessBuilderWrapper wrapper = new JavaProcessBuilderWrapper();\r\n    \t\tProcess p = wrapper.createProcess(RedirectErrorsTo.STDERR,\r\n    \t\t\t\tnew HashMap&lt;&gt;(), new File(&quot;my_working_dir&quot;), cmd);\r\n    \t\t\r\n    \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \r\n    \t\tStringBuilder output = new StringBuilder();\r\n    \t\tString line;\r\n    \t\ttry {\r\n    \t\t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\t    output.append(line);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(line);\r\n    \r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n2) I modified the client&#39;s and server&#39;s .bat files coming from Seagull to use CCR-CCA protocol. \r\n\r\nRunning Java main with this configuration caused a \r\n\r\n&gt; Fatal: Keyboard saved configuration failure error\r\n\r\n on my logs.\r\n\r\n3) So, as mentioned [here][1] i further modified my client&#39;s .bat file to run in background mode, adding -bg at the end. Now my client&#39;s bat look like this\r\n\r\n    @ECHO OFF\r\n    rem\r\n     &quot;Diameter Start Script Sample&quot;\r\n     &quot;Local env&quot;\r\n     SET RUN_DIR=C:\\Program Files\\Seagull\r\n    \r\n     set PATH=%PATH%;%RUN_DIR%\r\n     set LD_LIBRARY_PATH=%RUN_DIR%\r\n     set RUN_DIR=%RUN_DIR%\\diameter-env\\run\r\n    \r\n     cd %RUN_DIR%\r\n     cls\r\n     mode 81,25\r\n     echo &quot;Seagull Diameter Client Sample Start&quot;\r\n    seagull -conf ..\\config\\conf.client.xml -dico ..\\config\\base_ro_3gpp.xml -scen ..\\scenario\\ccr-cca.ro.client.xml -log ..\\logs\\ccr-cca.client.log -llevel ETM -bg\r\n    \r\n     pause\r\n\r\nSince i was facing some troubles, to keep things simple, i just tried to make it work at least via cmd (not using my java method), but i think background mode is messing around, because now when i start my server and then my client in bg mode, sometimes i get a \r\n\r\n&gt; Fatal: Forking error\r\n\r\nbut the most of the times, the client send a single message and then on my console i see that my software is causing connection abort (error code -1), and from the log i see that the channel just get closed, and my client does not even receive an answer. (NB for now i left the configuration files untouched)\r\n\r\nHas any of you faced this behaviour? Is something else closing the connection (firewall perhaps)? Do i have to provide other configurations to make this work?\r\n\r\nOnce i can get this working, can i use my java web app (with a method similar to the one i already mentioned) to make diameter calls?\r\n\r\nThanks in advance, any help is really welcomed.\r\n\r\n\r\n\r\n\r\n  [1]: https://sourceforge.net/p/gull/mailman/message/29514814/\r\n\r\n\r\n\r\n","title":"Invoking Seagull Diameter Client using Java","body":"<p>i need to send some messages from my java web application to some servers using Diameter protocol, in particular CCR-CCA scenario. I had a look at jdiameter opensource project, but my usecase does not require such complexity, since that i just need to send a single request and log the response (actually i don't even need the CER-CEA part).\nSo i thought i could just have used Seagull running under my webapp. I downloaded Seagull (for Windows), and what i'm trying to do is basically to run the .bat file coming from Seagull for the diameter environment from my java environment.</p>\n\n<p>That's what i've done till now..</p>\n\n<p>1) A simple test to invoke the client.. Here wrapper simply sets working dir and starts the process</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; cmd=new ArrayList&lt;&gt;();\n        cmd.add(\"cmd.exe\");\n        cmd.add(\"/c\");\n        cmd.add(\"my_start_client.bat\");\n        JavaProcessBuilderWrapper wrapper = new JavaProcessBuilderWrapper();\n        Process p = wrapper.createProcess(RedirectErrorsTo.STDERR,\n                new HashMap&lt;&gt;(), new File(\"my_working_dir\"), cmd);\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        StringBuilder output = new StringBuilder();\n        String line;\n        try {\n            while ((line = reader.readLine()) != null) {\n                output.append(line);\n            }\n            System.out.println(line);\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n\n<p>2) I modified the client's and server's .bat files coming from Seagull to use CCR-CCA protocol. </p>\n\n<p>Running Java main with this configuration caused a </p>\n\n<blockquote>\n  <p>Fatal: Keyboard saved configuration failure error</p>\n</blockquote>\n\n<p>on my logs.</p>\n\n<p>3) So, as mentioned <a href=\"https://sourceforge.net/p/gull/mailman/message/29514814/\" rel=\"nofollow noreferrer\">here</a> i further modified my client's .bat file to run in background mode, adding -bg at the end. Now my client's bat look like this</p>\n\n<pre><code>@ECHO OFF\nrem\n \"Diameter Start Script Sample\"\n \"Local env\"\n SET RUN_DIR=C:\\Program Files\\Seagull\n\n set PATH=%PATH%;%RUN_DIR%\n set LD_LIBRARY_PATH=%RUN_DIR%\n set RUN_DIR=%RUN_DIR%\\diameter-env\\run\n\n cd %RUN_DIR%\n cls\n mode 81,25\n echo \"Seagull Diameter Client Sample Start\"\nseagull -conf ..\\config\\conf.client.xml -dico ..\\config\\base_ro_3gpp.xml -scen ..\\scenario\\ccr-cca.ro.client.xml -log ..\\logs\\ccr-cca.client.log -llevel ETM -bg\n\n pause\n</code></pre>\n\n<p>Since i was facing some troubles, to keep things simple, i just tried to make it work at least via cmd (not using my java method), but i think background mode is messing around, because now when i start my server and then my client in bg mode, sometimes i get a </p>\n\n<blockquote>\n  <p>Fatal: Forking error</p>\n</blockquote>\n\n<p>but the most of the times, the client send a single message and then on my console i see that my software is causing connection abort (error code -1), and from the log i see that the channel just get closed, and my client does not even receive an answer. (NB for now i left the configuration files untouched)</p>\n\n<p>Has any of you faced this behaviour? Is something else closing the connection (firewall perhaps)? Do i have to provide other configurations to make this work?</p>\n\n<p>Once i can get this working, can i use my java web app (with a method similar to the one i already mentioned) to make diameter calls?</p>\n\n<p>Thanks in advance, any help is really welcomed.</p>\n"},{"tags":["java","swing","object","integer","int"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1337922616,"post_id":10748739,"comment_id":13967984,"body_markdown":"It will be an `Integer` (object) rather than `int` (primitive).  For better help sooner, post an [SSCCE](http://sscce.org/).","body":"It will be an <code>Integer</code> (object) rather than <code>int</code> (primitive).  For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":444667,"reputation":1058,"user_id":890579,"accept_rate":100,"display_name":"BachT"},"score":0,"creation_date":1337922688,"post_id":10748739,"comment_id":13968001,"body_markdown":"Can you put Entry&#39;s getidentifier method signature?","body":"Can you put Entry&#39;s getidentifier method signature?"},{"owner":{"display_name":"user377628"},"score":0,"creation_date":1337922690,"post_id":10748739,"comment_id":13968002,"body_markdown":"@AndrewThompson If it&#39;s an Integer object, shouldn&#39;t this code still work, since it&#39;ll be unboxed automatically?","body":"@AndrewThompson If it&#39;s an Integer object, shouldn&#39;t this code still work, since it&#39;ll be unboxed automatically?"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":1,"creation_date":1337923066,"post_id":10748739,"comment_id":13968100,"body_markdown":"Too true, all will work, but without [SSCCE](http://sscce.org/), it&#39;s hard to say what the OP is doing wrong :-)","body":"Too true, all will work, but without <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>, it&#39;s hard to say what the OP is doing wrong :-)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678293699,"post_id":10748739,"comment_id":133505759,"body_markdown":"shouldn&#39;t the method return a generified RowFilter, something like RowFilter&lt;MyDataType, Integer) filter, and a similarly generified implementation of include?","body":"shouldn&#39;t the method return a generified RowFilter, something like RowFilter&lt;MyDataType, Integer) filter, and a similarly generified implementation of include?"}],"answers":[{"tags":[],"owner":{"account_id":1007158,"reputation":2330,"user_id":1020588,"accept_rate":58,"display_name":"Matthew Cline"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1337979432,"creation_date":1337922675,"answer_id":10748757,"question_id":10748739,"body_markdown":"What you want is:\r\n\r\n    int ei = ((Integer) entry.getIdentifier()).intValue();\r\n","title":"Cast a Java Object to Integer","body":"<p>What you want is:</p>\n\n<pre><code>int ei = ((Integer) entry.getIdentifier()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337927335,"creation_date":1337922721,"answer_id":10748769,"question_id":10748739,"body_markdown":"I think your method is returning `Integer` object here,if that is the case you need to do like this:\r\n\r\n    int ei =  ((Integer)entry.getIdentifier()).intValue();\r\n\r\n","title":"Cast a Java Object to Integer","body":"<p>I think your method is returning <code>Integer</code> object here,if that is the case you need to do like this:</p>\n\n<pre><code>int ei =  ((Integer)entry.getIdentifier()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9517561,"reputation":11,"user_id":7073404,"display_name":"abdelminim zahran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678278161,"creation_date":1678278132,"answer_id":75672973,"question_id":10748739,"body_markdown":"case cast exception need refactor as:\r\nint ei = ((Integer.parseInt(String.valueOf(entry.getIdentifier())).intValue());","title":"Cast a Java Object to Integer","body":"<p>case cast exception need refactor as:\nint ei = ((Integer.parseInt(String.valueOf(entry.getIdentifier())).intValue());</p>\n"}],"owner":{"account_id":199163,"reputation":880,"user_id":444268,"accept_rate":66,"display_name":"Femme Fatale"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10748757,"answer_count":3,"score":2,"last_activity_date":1678278161,"creation_date":1337922529,"question_id":10748739,"body_markdown":"Error shown from the below code is: Cannot Cast an object to integer. I don&#39;t know what else will i include to cast it.\r\n\r\n    private RowFilter filter(final int itemsPerPage,final int target) {\r\n    \t\treturn new RowFilter() {\r\n    \t\t\tpublic boolean include(Entry entry) {\r\n\r\n                    /* HERE I AM RECEIVING ERROR: Multiple markers at this line\r\n\t                - Type mismatch: cannot convert from  Object to int\r\n                    - Cannot cast from Object to int */\r\n    \t\t\t\tint ei = (int) entry.getIdentifier();\r\n    \r\n    \t\t\t\treturn (target * itemsPerPage &lt;= ei &amp;&amp; ei &lt; target\r\n    \t\t\t\t\t\t* itemsPerPage + itemsPerPage);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n\r\n","title":"Cast a Java Object to Integer","body":"<p>Error shown from the below code is: Cannot Cast an object to integer. I don't know what else will i include to cast it.</p>\n\n<pre><code>private RowFilter filter(final int itemsPerPage,final int target) {\n        return new RowFilter() {\n            public boolean include(Entry entry) {\n\n                /* HERE I AM RECEIVING ERROR: Multiple markers at this line\n                - Type mismatch: cannot convert from  Object to int\n                - Cannot cast from Object to int */\n                int ei = (int) entry.getIdentifier();\n\n                return (target * itemsPerPage &lt;= ei &amp;&amp; ei &lt; target\n                        * itemsPerPage + itemsPerPage);\n            }\n        };\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","tdd","continuous-testing"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1469230466,"post_id":27172745,"comment_id":64466791,"body_markdown":"This is kinda frustrating, because I know for a fact that [tag:pycharm] has this enabled by default, but IDEA doesn&#39;t :(","body":"This is kinda frustrating, because I know for a fact that <a href=\"https://stackoverflow.com/questions/tagged/pycharm\">pycharm</a> has this enabled by default, but IDEA doesn&#39;t :("},{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":1,"creation_date":1668068475,"post_id":27172745,"comment_id":131318614,"body_markdown":"The latest version of [Infinitest](https://github.com/infinitest/infinitest) no longer opens windows and it is no longer a facet. Just install the plugin, build the project and it should run your tests!","body":"The latest version of <a href=\"https://github.com/infinitest/infinitest\" rel=\"nofollow noreferrer\">Infinitest</a> no longer opens windows and it is no longer a facet. Just install the plugin, build the project and it should run your tests!"}],"answers":[{"tags":[],"owner":{"account_id":4353240,"reputation":3681,"user_id":3552806,"accept_rate":25,"display_name":"Biswajit_86"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1431050434,"creation_date":1431050434,"answer_id":30114612,"question_id":27172745,"body_markdown":"You can use the [`Intellij Teamcity`][1] plugin. Teamcity is a paid product but there is a free version which gives you 20 projects and 3 agents for free .\r\n\r\n1. It has a remote run feature using which you can send in unchecked code to run tests before committing. \r\n2. It also has options to run failed tests first \r\n\r\n\r\n[Usage instructions for Remote Run][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/features/teamcity_integration.html\r\n  [2]: https://confluence.jetbrains.com/display/TW/How+to+make+a+remote+run+from+IntelliJ+IDEA","title":"Continuous testing with IntelliJ Idea","body":"<p>You can use the <a href=\"https://www.jetbrains.com/idea/features/teamcity_integration.html\" rel=\"nofollow\"><code>Intellij Teamcity</code></a> plugin. Teamcity is a paid product but there is a free version which gives you 20 projects and 3 agents for free .</p>\n\n<ol>\n<li>It has a remote run feature using which you can send in unchecked code to run tests before committing. </li>\n<li>It also has options to run failed tests first </li>\n</ol>\n\n<p><a href=\"https://confluence.jetbrains.com/display/TW/How+to+make+a+remote+run+from+IntelliJ+IDEA\" rel=\"nofollow\">Usage instructions for Remote Run</a></p>\n"},{"tags":[],"owner":{"account_id":1036187,"reputation":891,"user_id":1043419,"accept_rate":44,"display_name":"mathiasbn"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1476216947,"creation_date":1476216947,"answer_id":39985968,"question_id":27172745,"body_markdown":"IntelliJ now actually has a `Toggle auto-test`in the run dialog. Just run a run-configuration and then select `Toggle auto-test`in the run dialog.\r\n\r\nIt&#39;s not as intelligent as you would have hoped. It just reruns when it detects changes.","title":"Continuous testing with IntelliJ Idea","body":"<p>IntelliJ now actually has a <code>Toggle auto-test</code>in the run dialog. Just run a run-configuration and then select <code>Toggle auto-test</code>in the run dialog.</p>\n\n<p>It's not as intelligent as you would have hoped. It just reruns when it detects changes.</p>\n"},{"tags":[],"owner":{"account_id":66246,"reputation":11538,"user_id":194476,"accept_rate":90,"display_name":"Shekhar"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1678278146,"creation_date":1510066345,"answer_id":47160841,"question_id":27172745,"body_markdown":"I found out a way to enable SBT style auto test execution in IntelliJ studio.\r\n\r\nWe need to do two things to enable auto test execution.\r\n\r\n 1. Enabling auto project build - This can be done in settings by going into `File -&gt; Settings -&gt; Build, Execution... -&gt; Compiler` and selecting `&quot;Build Project automatically&quot;`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 2. Enabling &quot;Toggle auto-test&quot; in run dialog box\r\n\r\nThis will start auto testing. Although this works fine, it takes time to build the project even when my project is tiny so for larger projects it will certainly take very long time to complete the build and execute tests.\r\n\r\nReference: [Original article which explains these steps][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/73MUf.png\r\n  [2]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000064464-Toggle-auto-test-in-debugger-has-no-effect-","title":"Continuous testing with IntelliJ Idea","body":"<p>I found out a way to enable SBT style auto test execution in IntelliJ studio.</p>\n<p>We need to do two things to enable auto test execution.</p>\n<ol>\n<li>Enabling auto project build - This can be done in settings by going into <code>File -&gt; Settings -&gt; Build, Execution... -&gt; Compiler</code> and selecting <code>&quot;Build Project automatically&quot;</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/73MUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73MUf.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Enabling &quot;Toggle auto-test&quot; in run dialog box</li>\n</ol>\n<p>This will start auto testing. Although this works fine, it takes time to build the project even when my project is tiny so for larger projects it will certainly take very long time to complete the build and execute tests.</p>\n<p>Reference: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000064464-Toggle-auto-test-in-debugger-has-no-effect-\" rel=\"nofollow noreferrer\">Original article which explains these steps</a></p>\n"},{"tags":[],"owner":{"account_id":13557110,"reputation":659,"user_id":9780149,"display_name":"Csa77"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600193874,"creation_date":1600193874,"answer_id":63907692,"question_id":27172745,"body_markdown":"If you are OK running tests which cover a single method chosen by you, you can try this plugin (it is continuos in the sense that you make changes to a method, then click on the method and the plugin will run all the unit tests automatically which cover that method): https://plugins.jetbrains.com/plugin/15063-unit-test-coverage-history-runner","title":"Continuous testing with IntelliJ Idea","body":"<p>If you are OK running tests which cover a single method chosen by you, you can try this plugin (it is continuos in the sense that you make changes to a method, then click on the method and the plugin will run all the unit tests automatically which cover that method): <a href=\"https://plugins.jetbrains.com/plugin/15063-unit-test-coverage-history-runner\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/15063-unit-test-coverage-history-runner</a></p>\n"}],"owner":{"account_id":39947,"reputation":11998,"user_id":115493,"accept_rate":62,"display_name":"mik01aj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16378,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":4,"score":44,"last_activity_date":1678278146,"creation_date":1417097789,"question_id":27172745,"body_markdown":"I&#39;m looking for an IntelliJ IDEA plugin that would run my tests each time I change my code. I looked for such a solution and I found:\r\n\r\n* [Infinitest](http://infinitest.github.io/), which works, but is inconvenient because I need to add the facet to each module, and it opens a new tool window for each module (which means 15 tool windows for me).\r\n* [Fireworks](https://sites.google.com/site/swing1979/fireworks) - didn&#39;t work for me, maybe it just doesn&#39;t work with IDEA 14 (in [its repo](https://code.google.com/p/dontmakemetest/source/list) I can see that last changes were made in 2009). IntelliJ also reports that it throws exceptions.\r\n\r\nThere are lots of ways I could run all my tests (including writing a simple script for this), but I&#39;m looking for a tool that would be smart enough to rerun failed tests first, and that would understand module dependencies (so after a change in some module it would run only tests of dependent modules).\r\n\r\nI prefer free options, but if there&#39;s something paid for a reasonable price, I would accept it as well.","title":"Continuous testing with IntelliJ Idea","body":"<p>I'm looking for an IntelliJ IDEA plugin that would run my tests each time I change my code. I looked for such a solution and I found:</p>\n\n<ul>\n<li><a href=\"http://infinitest.github.io/\">Infinitest</a>, which works, but is inconvenient because I need to add the facet to each module, and it opens a new tool window for each module (which means 15 tool windows for me).</li>\n<li><a href=\"https://sites.google.com/site/swing1979/fireworks\">Fireworks</a> - didn't work for me, maybe it just doesn't work with IDEA 14 (in <a href=\"https://code.google.com/p/dontmakemetest/source/list\">its repo</a> I can see that last changes were made in 2009). IntelliJ also reports that it throws exceptions.</li>\n</ul>\n\n<p>There are lots of ways I could run all my tests (including writing a simple script for this), but I'm looking for a tool that would be smart enough to rerun failed tests first, and that would understand module dependencies (so after a change in some module it would run only tests of dependent modules).</p>\n\n<p>I prefer free options, but if there's something paid for a reasonable price, I would accept it as well.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1678247411,"post_id":75669282,"comment_id":133494658,"body_markdown":"What do you mean &quot;based on alphabetization&quot;? Do you want to keep the first one sharing the same ProductId based on their ProductTitle alphabetical ascending sort?","body":"What do you mean &quot;based on alphabetization&quot;? Do you want to keep the first one sharing the same ProductId based on their ProductTitle alphabetical ascending sort?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1678247460,"post_id":75669282,"comment_id":133494660,"body_markdown":"based on productTitle alphabetization, keep 3-f, remove 3t,  cc @NikolasCharalambidis","body":"based on productTitle alphabetization, keep 3-f, remove 3t,  cc @NikolasCharalambidis"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678248349,"creation_date":1678248349,"answer_id":75669361,"question_id":75669282,"body_markdown":"You can achieve it in two steps.\r\n\r\n1. Group to a `Map` where the `productId` is a key and the product with the lowest alphabetical `productTitle` using `Collectors.maxBy` as a downstream collector.\r\n\r\n    ```\r\n    Map&lt;Long, Optional&lt;Product&gt;&gt; productMap = products.stream().collect(\r\n        Collectors.groupingBy(\r\n            Product::getProductId,\r\n\t        Collectors.maxBy(Comparator.comparing(Product::getProductTitle))));\r\n\r\n    productMap.forEach((id, opt) -&gt; System.out.println(id + &quot; = &quot; + opt));\r\n    ```\r\n    &gt; ```\r\n    &gt; 1 = Optional[Product(productId=1, productTitle=car, productDescription=used for driving)]\r\n    &gt; 2 = Optional[Product(productId=2, productTitle=book, productDescription=reading books)]\r\n    &gt; 3 = Optional[Product(productId=3, productTitle=furniture, productDescription=home decorations)]\r\n    &gt; 4 = Optional[Product(productId=4, productTitle=jewelry, productDescription=fashion item)]\r\n    &gt; ```\r\n\r\n2. Extract each `Product` from `Optional` in the `Map` values to a new `List&lt;Product&gt;`.\r\n\r\n    ```\r\n    List&lt;Product&gt; filteredProducts = productMap.values().stream()\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .toList();\r\n\r\n    filteredProducts.forEach(System.out::println);\r\n    ```\r\n    &gt; ```\r\n    &gt; Product(productId=1, productTitle=car, productDescription=used for driving)\r\n    &gt; Product(productId=2, productTitle=book, productDescription=reading books)\r\n    &gt; Product(productId=3, productTitle=furniture, productDescription=home decorations)\r\n    &gt; Product(productId=4, productTitle=jewelry, productDescription=fashion item)\r\n    &gt; ```","title":"Java List, Keep First Item, Remove Second Duplicate","body":"<p>You can achieve it in two steps.</p>\n<ol>\n<li><p>Group to a <code>Map</code> where the <code>productId</code> is a key and the product with the lowest alphabetical <code>productTitle</code> using <code>Collectors.maxBy</code> as a downstream collector.</p>\n<pre><code>Map&lt;Long, Optional&lt;Product&gt;&gt; productMap = products.stream().collect(\n    Collectors.groupingBy(\n        Product::getProductId,\n        Collectors.maxBy(Comparator.comparing(Product::getProductTitle))));\n\nproductMap.forEach((id, opt) -&gt; System.out.println(id + &quot; = &quot; + opt));\n</code></pre>\n<blockquote>\n<pre><code>1 = Optional[Product(productId=1, productTitle=car, productDescription=used for driving)]\n2 = Optional[Product(productId=2, productTitle=book, productDescription=reading books)]\n3 = Optional[Product(productId=3, productTitle=furniture, productDescription=home decorations)]\n4 = Optional[Product(productId=4, productTitle=jewelry, productDescription=fashion item)]\n</code></pre>\n</blockquote>\n</li>\n<li><p>Extract each <code>Product</code> from <code>Optional</code> in the <code>Map</code> values to a new <code>List&lt;Product&gt;</code>.</p>\n<pre><code>List&lt;Product&gt; filteredProducts = productMap.values().stream()\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .toList();\n\nfilteredProducts.forEach(System.out::println);\n</code></pre>\n<blockquote>\n<pre><code>Product(productId=1, productTitle=car, productDescription=used for driving)\nProduct(productId=2, productTitle=book, productDescription=reading books)\nProduct(productId=3, productTitle=furniture, productDescription=home decorations)\nProduct(productId=4, productTitle=jewelry, productDescription=fashion item)\n</code></pre>\n</blockquote>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678248629,"creation_date":1678248629,"answer_id":75669381,"question_id":75669282,"body_markdown":"Hi you can easily do it in Java with `PriorityQueue` and time complexity is `O(nlogn)`\r\n\r\n```\r\n    public static List&lt;Product&gt; filterProduct(List&lt;Product&gt; products) {\r\n        PriorityQueue&lt;Product&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {\r\n            if (a.getProductId() == b.getProductId()) {\r\n                return a.getProductTitle().toLowerCase().compareTo(b.getProductTitle().toLowerCase());\r\n            }\r\n\r\n            return Long.compare(a.getProductId(), b.getProductId());\r\n        });\r\n\r\n        pq.addAll(products);\r\n\r\n        Set&lt;Long&gt; existingIds = new HashSet&lt;&gt;();\r\n\r\n        List&lt;Product&gt; res = new ArrayList&lt;&gt;();\r\n\r\n        while (!pq.isEmpty()) {\r\n            Product product = pq.poll();\r\n            if (!existingIds.contains(product.getProductId())) {\r\n                res.add(product);\r\n                existingIds.add(product.getProductId());\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n```","title":"Java List, Keep First Item, Remove Second Duplicate","body":"<p>Hi you can easily do it in Java with <code>PriorityQueue</code> and time complexity is <code>O(nlogn)</code></p>\n<pre><code>    public static List&lt;Product&gt; filterProduct(List&lt;Product&gt; products) {\n        PriorityQueue&lt;Product&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; {\n            if (a.getProductId() == b.getProductId()) {\n                return a.getProductTitle().toLowerCase().compareTo(b.getProductTitle().toLowerCase());\n            }\n\n            return Long.compare(a.getProductId(), b.getProductId());\n        });\n\n        pq.addAll(products);\n\n        Set&lt;Long&gt; existingIds = new HashSet&lt;&gt;();\n\n        List&lt;Product&gt; res = new ArrayList&lt;&gt;();\n\n        while (!pq.isEmpty()) {\n            Product product = pq.poll();\n            if (!existingIds.contains(product.getProductId())) {\n                res.add(product);\n                existingIds.add(product.getProductId());\n            }\n        }\n\n        return res;\n    }\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1678277723,"accepted_answer_id":75669361,"answer_count":2,"score":2,"last_activity_date":1678277767,"creation_date":1678247178,"question_id":75669282,"body_markdown":"I have a list from a legacy system. Its in a List&lt;Product&gt;. Sometimes it may have duplicates. \r\n\r\nHow do I remove second duplicate (or multiple) while keeping first one? For example, keep 3-furniture and remove 3-TV. Removal is based on alphabetization.\r\n\r\n\r\n| ProductId| ProductTitle | ProductDescription |\r\n| -------- | -------------- |---------|\r\n| 1    | car            | used for driving\r\n| 2   | book            | reading books\r\n| 3   | furniture            | home decorations\r\n| 3   | TV            | TV entertainment\r\n| 4   | jewelry            | fashion item\r\n\r\n\r\n    @Data\r\n    public class Product {\r\n        private long productId;\r\n        private String productTitle;\r\n        private String productDescription;\r\n     }\r\n\r\n","title":"Java List, Keep First Item, Remove Second Duplicate","body":"<p>I have a list from a legacy system. Its in a List. Sometimes it may have duplicates.</p>\n<p>How do I remove second duplicate (or multiple) while keeping first one? For example, keep 3-furniture and remove 3-TV. Removal is based on alphabetization.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ProductId</th>\n<th>ProductTitle</th>\n<th>ProductDescription</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>car</td>\n<td>used for driving</td>\n</tr>\n<tr>\n<td>2</td>\n<td>book</td>\n<td>reading books</td>\n</tr>\n<tr>\n<td>3</td>\n<td>furniture</td>\n<td>home decorations</td>\n</tr>\n<tr>\n<td>3</td>\n<td>TV</td>\n<td>TV entertainment</td>\n</tr>\n<tr>\n<td>4</td>\n<td>jewelry</td>\n<td>fashion item</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>@Data\npublic class Product {\n    private long productId;\n    private String productTitle;\n    private String productDescription;\n }\n</code></pre>\n"},{"tags":["java","maven","docker","jar","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678277515,"creation_date":1578239759,"answer_id":59601597,"question_id":59601417,"body_markdown":"The jar created with clean-install has only your code, and it works locally as in your IDE you have all the dependencies available.\r\nIn order to deploy on Docker you need to create an Uber-jar which has all dependencies (JAR files) required by your app.\r\n\r\nOne option is to use the Maven Shade plugin, here is an example from my projects:\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;\r\n                                        com.perosa.bello.BalancerApp\r\n                                    &lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                            &lt;createDependencyReducedPom&gt;\r\n                                false\r\n                            &lt;/createDependencyReducedPom&gt;\r\n                        &lt;/configuration&gt;\r\n\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n\r\n            &lt;/plugin&gt;\r\n\r\nYou can also build a Spring Boot app (using the Spring Boot Maven plugin) which will also package all dependencies for you.\r\n","title":"Application not founding class after deploy to docker","body":"<p>The jar created with clean-install has only your code, and it works locally as in your IDE you have all the dependencies available.\nIn order to deploy on Docker you need to create an Uber-jar which has all dependencies (JAR files) required by your app.</p>\n<p>One option is to use the Maven Shade plugin, here is an example from my projects:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;\n                                    com.perosa.bello.BalancerApp\n                                &lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                        &lt;createDependencyReducedPom&gt;\n                            false\n                        &lt;/createDependencyReducedPom&gt;\n                    &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n\n            &lt;/executions&gt;\n\n        &lt;/plugin&gt;\n</code></pre>\n<p>You can also build a Spring Boot app (using the Spring Boot Maven plugin) which will also package all dependencies for you.</p>\n"},{"tags":[],"owner":{"account_id":433655,"reputation":939,"user_id":7053505,"display_name":"Peter Gyschuk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1578304934,"creation_date":1578242414,"answer_id":59601978,"question_id":59601417,"body_markdown":"**EDITED:**\r\n`maven-jar-plugin` can not build jar with dependencies, you have to use `maven-assembly-plugin`\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.project.doctor.DoctorPublisher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Application not founding class after deploy to docker","body":"<p><strong>EDITED:</strong>\n<code>maven-jar-plugin</code> can not build jar with dependencies, you have to use <code>maven-assembly-plugin</code></p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.project.doctor.DoctorPublisher&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17411478,"reputation":113,"user_id":12621468,"display_name":"Ttt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678277515,"creation_date":1578238715,"question_id":59601417,"body_markdown":"I have a few applications that I deployed to docker. The applications work perfectly fine when ran locally, however, after deploying to docker I get the following errors in one of the applications: `\r\n\r\n```\r\nJan 05, 2020 3:26:58 PM com.sun.xml.internal.ws.server.sei.TieHandler createResponse\r\nSEVERE: javax/persistence/Persistence\r\njava.lang.NoClassDefFoundError: javax/persistence/Persistence\r\n\tat com.project.doctor.repository.JPAUtil.getEntityManagerFactory(JPAUtil.java:12)\r\n\tat com.project.doctor.repository.ActivityRepository.findAllActivitiesByPatientId(ActivityRepository.java:13)\r\n\tat com.project.doctor.service.DoctorServiceImpl.getActivitiesForChart(DoctorServiceImpl.java:43)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.sun.xml.internal.ws.api.server.MethodUtil.invoke(MethodUtil.java:68)\r\n\tat com.sun.xml.internal.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:235)\r\n\tat com.sun.xml.internal.ws.server.InvokerTube$2.invoke(InvokerTube.java:134)\r\n\tat com.sun.xml.internal.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:73)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862)\r\n\tat com.sun.xml.internal.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:404)\r\n\tat com.sun.xml.internal.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:706)\r\n\tat com.sun.xml.internal.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:260)\r\n\tat com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handleExchange(WSHttpHandler.java:98)\r\n\tat com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handle(WSHttpHandler.java:82)\r\n\tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\r\n\tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\r\n\tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\r\n\tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\r\n\tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\r\n\tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: javax.persistence.Persistence\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 39 more\r\n```\r\n\r\nThe content of my pom.xml is the following:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;doctor&lt;/groupId&gt;\r\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.class&lt;/include&gt;\r\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\r\n                        &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;com.project.doctor.DoctorPublisher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand this is the content of JPAUtil class:\r\n\r\n```\r\npackage com.project.doctor.repository;\r\n\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\n\r\npublic class JPAUtil {\r\n    private static final String PERSISTENCE_UNIT_NAME = &quot;persistanceUnit&quot;;\r\n    private static EntityManagerFactory factory;\r\n\r\n    public static EntityManagerFactory getEntityManagerFactory() {\r\n        if (factory == null) {\r\n            factory = Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME);\r\n        }\r\n        return factory;\r\n    }\r\n\r\n    public static void shutdown() {\r\n        if (factory != null) {\r\n            factory.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFor deploying this application to docker I use the jar that I generated using `mvn clean install`. Can you please help me solve this issue?","title":"Application not founding class after deploy to docker","body":"<p>I have a few applications that I deployed to docker. The applications work perfectly fine when ran locally, however, after deploying to docker I get the following errors in one of the applications: `</p>\n\n<pre><code>Jan 05, 2020 3:26:58 PM com.sun.xml.internal.ws.server.sei.TieHandler createResponse\nSEVERE: javax/persistence/Persistence\njava.lang.NoClassDefFoundError: javax/persistence/Persistence\n    at com.project.doctor.repository.JPAUtil.getEntityManagerFactory(JPAUtil.java:12)\n    at com.project.doctor.repository.ActivityRepository.findAllActivitiesByPatientId(ActivityRepository.java:13)\n    at com.project.doctor.service.DoctorServiceImpl.getActivitiesForChart(DoctorServiceImpl.java:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.xml.internal.ws.api.server.MethodUtil.invoke(MethodUtil.java:68)\n    at com.sun.xml.internal.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:235)\n    at com.sun.xml.internal.ws.server.InvokerTube$2.invoke(InvokerTube.java:134)\n    at com.sun.xml.internal.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:73)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\n    at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862)\n    at com.sun.xml.internal.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:404)\n    at com.sun.xml.internal.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:706)\n    at com.sun.xml.internal.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:260)\n    at com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handleExchange(WSHttpHandler.java:98)\n    at com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handle(WSHttpHandler.java:82)\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\n    at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)\n    at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)\n    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)\n    at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: javax.persistence.Persistence\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 39 more\n</code></pre>\n\n<p>The content of my pom.xml is the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;doctor&lt;/groupId&gt;\n    &lt;artifactId&gt;app&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.xml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.class&lt;/include&gt;\n                        &lt;include&gt;**/*.properties&lt;/include&gt;\n                        &lt;include&gt;**/*.xml&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.project.doctor.DoctorPublisher&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.18&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and this is the content of JPAUtil class:</p>\n\n<pre><code>package com.project.doctor.repository;\n\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\npublic class JPAUtil {\n    private static final String PERSISTENCE_UNIT_NAME = \"persistanceUnit\";\n    private static EntityManagerFactory factory;\n\n    public static EntityManagerFactory getEntityManagerFactory() {\n        if (factory == null) {\n            factory = Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME);\n        }\n        return factory;\n    }\n\n    public static void shutdown() {\n        if (factory != null) {\n            factory.close();\n        }\n    }\n}\n</code></pre>\n\n<p>For deploying this application to docker I use the jar that I generated using <code>mvn clean install</code>. Can you please help me solve this issue?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678277437,"post_id":75672846,"comment_id":133500554,"body_markdown":"Take a thread dump.","body":"Take a thread dump."},{"owner":{"account_id":10617793,"reputation":81,"user_id":7819736,"display_name":"Lewis_McReu"},"score":0,"creation_date":1678279680,"post_id":75672846,"comment_id":133501178,"body_markdown":"Not much to say for now, do as tgdavies proposed. I&#39;ll refer to https://www.baeldung.com/java-thread-dump for a guide on capturing thread dumps.","body":"Not much to say for now, do as tgdavies proposed. I&#39;ll refer to <a href=\"https://www.baeldung.com/java-thread-dump\" rel=\"nofollow noreferrer\">baeldung.com/java-thread-dump</a> for a guide on capturing thread dumps."}],"owner":{"account_id":26750132,"reputation":1,"user_id":20349624,"display_name":"HadOuken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678277296,"creation_date":1678277296,"question_id":75672846,"body_markdown":"I am trying to run a fairly large project (300 classes) on a local host. The maven assembly is successful, however, when trying to run using run configuration, only the welcome inscription Spring is displayed. What could be the problem?\r\n\r\nMy application properties: \r\n\r\n```\r\nspring.session.store-type=jdbc\r\nspring.session.jdbc.initialize-schema=always\r\n\r\nspring.servlet.multipart.max-file-size=16MB\r\nspring.servlet.multipart.max-request-size=16MB\r\n\r\nspringdoc.api-docs.enabled=true\r\n\r\nserver.compression.enabled=true\r\n# opt in to content types\r\nserver.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\r\n# not worth the CPU cycles at some point, probably\r\nserver.compression.min-response-size=4096\r\n```\r\n[My run configuration](https://i.stack.imgur.com/Cdo9x.png)\r\n[My run logs](https://i.stack.imgur.com/whFqA.png)\r\n\r\n\r\nI tried to wait and changed the logging levels in application.properties, but it didn&#39;t help.","title":"Spring application freezes at the moment of launch","body":"<p>I am trying to run a fairly large project (300 classes) on a local host. The maven assembly is successful, however, when trying to run using run configuration, only the welcome inscription Spring is displayed. What could be the problem?</p>\n<p>My application properties:</p>\n<pre><code>spring.session.store-type=jdbc\nspring.session.jdbc.initialize-schema=always\n\nspring.servlet.multipart.max-file-size=16MB\nspring.servlet.multipart.max-request-size=16MB\n\nspringdoc.api-docs.enabled=true\n\nserver.compression.enabled=true\n# opt in to content types\nserver.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\n# not worth the CPU cycles at some point, probably\nserver.compression.min-response-size=4096\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Cdo9x.png\" rel=\"nofollow noreferrer\">My run configuration</a>\n<a href=\"https://i.stack.imgur.com/whFqA.png\" rel=\"nofollow noreferrer\">My run logs</a></p>\n<p>I tried to wait and changed the logging levels in application.properties, but it didn't help.</p>\n"},{"tags":["java","android","gradle","google-play-core"],"owner":{"account_id":8172676,"reputation":439,"user_id":6152567,"accept_rate":59,"display_name":"M Ansyori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678277259,"creation_date":1678277259,"question_id":75672842,"body_markdown":"Is it possible to force re-downloading the module without updating the app from play store first?\r\n\r\nLet&#39;s say I have a project that have 2 modules: Feature A and Feature B. Both modules included in build.gradle like this:\r\n\r\n    dynamicFeatures = [&#39;:feature:feature_a&#39;, &#39;:feature:feature_b&#39;, ...etc]\r\n\r\nBoth 2 modules have the same manifest look like this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!--Feature A--&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;&gt;\r\n\r\n      &lt;dist:module dist:instant=&quot;false&quot; dist:title=&quot;@string/title_feature_a&quot;&gt;\r\n        &lt;dist:delivery&gt;\r\n          &lt;dist:on-demand /&gt;\r\n        &lt;/dist:delivery&gt;\r\n        &lt;dist:removable dist:value=&quot;true&quot; /&gt;\r\n        &lt;dist:fusing dist:include=&quot;true&quot; /&gt;\r\n      &lt;/dist:module&gt;\r\n\r\n      &lt;application&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;false&quot; /&gt;\r\n      &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n    &lt;!--Feature B--&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:dist=&quot;http://schemas.android.com/apk/distribution&quot;&gt;\r\n\r\n      &lt;dist:module dist:instant=&quot;false&quot; dist:title=&quot;@string/title_feature_b&quot;&gt;\r\n        &lt;dist:delivery&gt;\r\n          &lt;dist:on-demand /&gt;\r\n        &lt;/dist:delivery&gt;\r\n        &lt;dist:removable dist:value=&quot;true&quot; /&gt;\r\n        &lt;dist:fusing dist:include=&quot;true&quot; /&gt;\r\n      &lt;/dist:module&gt;\r\n\r\n      &lt;application&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;false&quot; /&gt;\r\n      &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen I push the first update to play store, installed the apps and the apps have 2 buttons, each button clicked will install the module with this code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n    public void onItemClick(String id) {\r\n      setStatusText(&quot;Menu Clicked: &quot; + id);\r\n      splitInstallManager.registerListener(installUpdateListener);\r\n      switch (id) {\r\n        case &quot;M-001&quot;:\r\n          uninstallAndInstall(&quot;feature_a&quot;);\r\n          break;\r\n        case &quot;M-002&quot;:\r\n          uninstallAndInstall(&quot;feature_b&quot;);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand here&#39;s the code I use to handle the install/uninstall modules process:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    private SplitInstallManager splitInstallManager;\r\n    private SplitInstallStateUpdatedListener installUpdateListener;\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n      super.onCreate(savedInstanceState);\r\n      splitInstallManager = SplitInstallManagerFactory.create(this);\r\n      setupDownloadListener();\r\n    }\r\n\r\n    private void setupDownloadListener() {\r\n      installUpdateListener = splitInstallSessionState - &gt; {\r\n        List &lt; String &gt; moduleNames = splitInstallSessionState.moduleNames();\r\n        for (String moduleName: moduleNames) {\r\n          int status = splitInstallSessionState.status();\r\n          binding.tvStatus.setText(setMessage(moduleName, status));\r\n          if (status == SplitInstallSessionStatus.INSTALLED) {\r\n            openFeatureActivity(moduleName);\r\n          }\r\n        }\r\n        if (splitInstallSessionState.status() == SplitInstallSessionStatus.DOWNLOADING) {\r\n          float progressPercent = (float) splitInstallSessionState.bytesDownloaded() / splitInstallSessionState.totalBytesToDownload() * 100;\r\n          if (Float.isNaN(progressPercent)) {\r\n            setStatusText(&quot;Downloading Module: 0%&quot;);\r\n          } else {\r\n            setStatusText(&quot;Downloading Module: &quot; + progressPercent + &quot;%&quot;);\r\n          }\r\n        }\r\n        if (splitInstallSessionState.status() == SplitInstallSessionStatus.INSTALLED || splitInstallSessionState.status() == SplitInstallSessionStatus.FAILED || splitInstallSessionState.status() == SplitInstallSessionStatus.UNKNOWN) {\r\n          splitInstallManager.unregisterListener(installUpdateListener);\r\n        }\r\n      };\r\n    }\r\n    private String setMessage(String moduleName, int status) {\r\n      // handle switch statement to return message to ui element\r\n    }\r\n\r\n    private void openFeatureActivity(String moduleName) {\r\n      String activityClassName = &quot;com.app.myapp&quot; + moduleName.toLowerCase() + &quot;.MainActivity&quot;;\r\n      try {\r\n        Intent intent = new Intent();\r\n        intent.setClassName(BuildConfig.APPLICATION_ID, activityClassName);\r\n        startActivity(intent);\r\n      } catch (Exception e) {\r\n        setStatusText(&quot;Error: &quot; + e.getMessage());\r\n      }\r\n    }\r\n\r\n    private void installModule(String moduleName) {\r\n      SplitInstallRequest request = SplitInstallRequest.newBuilder().addModule(moduleName).build();\r\n      splitInstallManager.startInstall(request).addOnFailureListener(e - &gt; handleInstallFailure(e, moduleName));\r\n    }\r\n\r\n    private void uninstallAndInstall(String moduleName) {\r\n      setStatusText(&quot;Finding module: &quot; + moduleName);\r\n      Set &lt; String &gt; installedModules = splitInstallManager.getInstalledModules();\r\n      if (installedModules.contains(moduleName)) {\r\n        setStatusText(&quot;Module &quot; + moduleName + &quot; found, uninstalling the module&quot;);\r\n        Task &lt; Void &gt; deferredUninstallTask = splitInstallManager.deferredUninstall(Collections.singletonList(moduleName));\r\n        deferredUninstallTask.addOnCompleteListener(task - &gt; {\r\n          if (task.isSuccessful()) {\r\n            setStatusText(&quot;Module &quot; + moduleName + &quot; uninstalled, reinstalling the module&quot;);\r\n            installModule(moduleName);\r\n          } else {\r\n            Exception exception = task.getException();\r\n            if (exception != null) handleUninstallFailure(exception, moduleName);\r\n          }\r\n        }).addOnFailureListener(e - &gt; handleUninstallFailure(e, moduleName));\r\n      } else {\r\n        installModule(moduleName);\r\n      }\r\n    }\r\n\r\n    private void handleUninstallFailure(Exception e, String moduleName) {\r\n      setStatusText(&quot;Failed to uninstall module &quot; + moduleName + &quot;: &quot; + e.getMessage());\r\n    }\r\n\r\n    private void handleInstallFailure(Exception e, String moduleName) {\r\n      setStatusText(&quot;Failed to install module &quot; + moduleName + &quot;: &quot; + e.getMessage());\r\n    }\r\n\r\n    private void setStatusText(String message) {\r\n      binding.tvStatus.setText(message);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs you can see from the code, I try to uninstall the module before installing the same one, but the problem is that the app won&#39;t re-download the fresh module from the play store when the update is available. How can I re-download the fresh module from the app without clicking the Update button first from the play store?\r\n\r\nEdit:\r\nI&#39;m using this version of play core library: **com.google.android.play:core:1.10.3**\r\n\r\nAny help will be much appreciated,\r\n\r\nThanks","title":"Force app to re-download modules using on-demand play feature delivery?","body":"<p>Is it possible to force re-downloading the module without updating the app from play store first?</p>\n<p>Let's say I have a project that have 2 modules: Feature A and Feature B. Both modules included in build.gradle like this:</p>\n<pre><code>dynamicFeatures = [':feature:feature_a', ':feature:feature_b', ...etc]\n</code></pre>\n<p>Both 2 modules have the same manifest look like this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!--Feature A--&gt;\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:dist=\"http://schemas.android.com/apk/distribution\"&gt;\n\n  &lt;dist:module dist:instant=\"false\" dist:title=\"@string/title_feature_a\"&gt;\n    &lt;dist:delivery&gt;\n      &lt;dist:on-demand /&gt;\n    &lt;/dist:delivery&gt;\n    &lt;dist:removable dist:value=\"true\" /&gt;\n    &lt;dist:fusing dist:include=\"true\" /&gt;\n  &lt;/dist:module&gt;\n\n  &lt;application&gt;\n    &lt;activity android:name=\".MainActivity\" android:exported=\"false\" /&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n&lt;!--Feature B--&gt;\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:dist=\"http://schemas.android.com/apk/distribution\"&gt;\n\n  &lt;dist:module dist:instant=\"false\" dist:title=\"@string/title_feature_b\"&gt;\n    &lt;dist:delivery&gt;\n      &lt;dist:on-demand /&gt;\n    &lt;/dist:delivery&gt;\n    &lt;dist:removable dist:value=\"true\" /&gt;\n    &lt;dist:fusing dist:include=\"true\" /&gt;\n  &lt;/dist:module&gt;\n\n  &lt;application&gt;\n    &lt;activity android:name=\".MainActivity\" android:exported=\"false\" /&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then I push the first update to play store, installed the apps and the apps have 2 buttons, each button clicked will install the module with this code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\npublic void onItemClick(String id) {\n  setStatusText(\"Menu Clicked: \" + id);\n  splitInstallManager.registerListener(installUpdateListener);\n  switch (id) {\n    case \"M-001\":\n      uninstallAndInstall(\"feature_a\");\n      break;\n    case \"M-002\":\n      uninstallAndInstall(\"feature_b\");\n      break;\n    default:\n      break;\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and here's the code I use to handle the install/uninstall modules process:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>private SplitInstallManager splitInstallManager;\nprivate SplitInstallStateUpdatedListener installUpdateListener;\n\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n  super.onCreate(savedInstanceState);\n  splitInstallManager = SplitInstallManagerFactory.create(this);\n  setupDownloadListener();\n}\n\nprivate void setupDownloadListener() {\n  installUpdateListener = splitInstallSessionState - &gt; {\n    List &lt; String &gt; moduleNames = splitInstallSessionState.moduleNames();\n    for (String moduleName: moduleNames) {\n      int status = splitInstallSessionState.status();\n      binding.tvStatus.setText(setMessage(moduleName, status));\n      if (status == SplitInstallSessionStatus.INSTALLED) {\n        openFeatureActivity(moduleName);\n      }\n    }\n    if (splitInstallSessionState.status() == SplitInstallSessionStatus.DOWNLOADING) {\n      float progressPercent = (float) splitInstallSessionState.bytesDownloaded() / splitInstallSessionState.totalBytesToDownload() * 100;\n      if (Float.isNaN(progressPercent)) {\n        setStatusText(\"Downloading Module: 0%\");\n      } else {\n        setStatusText(\"Downloading Module: \" + progressPercent + \"%\");\n      }\n    }\n    if (splitInstallSessionState.status() == SplitInstallSessionStatus.INSTALLED || splitInstallSessionState.status() == SplitInstallSessionStatus.FAILED || splitInstallSessionState.status() == SplitInstallSessionStatus.UNKNOWN) {\n      splitInstallManager.unregisterListener(installUpdateListener);\n    }\n  };\n}\nprivate String setMessage(String moduleName, int status) {\n  // handle switch statement to return message to ui element\n}\n\nprivate void openFeatureActivity(String moduleName) {\n  String activityClassName = \"com.app.myapp\" + moduleName.toLowerCase() + \".MainActivity\";\n  try {\n    Intent intent = new Intent();\n    intent.setClassName(BuildConfig.APPLICATION_ID, activityClassName);\n    startActivity(intent);\n  } catch (Exception e) {\n    setStatusText(\"Error: \" + e.getMessage());\n  }\n}\n\nprivate void installModule(String moduleName) {\n  SplitInstallRequest request = SplitInstallRequest.newBuilder().addModule(moduleName).build();\n  splitInstallManager.startInstall(request).addOnFailureListener(e - &gt; handleInstallFailure(e, moduleName));\n}\n\nprivate void uninstallAndInstall(String moduleName) {\n  setStatusText(\"Finding module: \" + moduleName);\n  Set &lt; String &gt; installedModules = splitInstallManager.getInstalledModules();\n  if (installedModules.contains(moduleName)) {\n    setStatusText(\"Module \" + moduleName + \" found, uninstalling the module\");\n    Task &lt; Void &gt; deferredUninstallTask = splitInstallManager.deferredUninstall(Collections.singletonList(moduleName));\n    deferredUninstallTask.addOnCompleteListener(task - &gt; {\n      if (task.isSuccessful()) {\n        setStatusText(\"Module \" + moduleName + \" uninstalled, reinstalling the module\");\n        installModule(moduleName);\n      } else {\n        Exception exception = task.getException();\n        if (exception != null) handleUninstallFailure(exception, moduleName);\n      }\n    }).addOnFailureListener(e - &gt; handleUninstallFailure(e, moduleName));\n  } else {\n    installModule(moduleName);\n  }\n}\n\nprivate void handleUninstallFailure(Exception e, String moduleName) {\n  setStatusText(\"Failed to uninstall module \" + moduleName + \": \" + e.getMessage());\n}\n\nprivate void handleInstallFailure(Exception e, String moduleName) {\n  setStatusText(\"Failed to install module \" + moduleName + \": \" + e.getMessage());\n}\n\nprivate void setStatusText(String message) {\n  binding.tvStatus.setText(message);\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>As you can see from the code, I try to uninstall the module before installing the same one, but the problem is that the app won't re-download the fresh module from the play store when the update is available. How can I re-download the fresh module from the app without clicking the Update button first from the play store?</p>\n<p>Edit:\nI'm using this version of play core library: <strong>com.google.android.play:core:1.10.3</strong></p>\n<p>Any help will be much appreciated,</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","uri","urlencode","uribuilder"],"answers":[{"tags":[],"owner":{"account_id":27960485,"reputation":185,"user_id":21352393,"display_name":"MarcelMM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678252347,"creation_date":1678251371,"answer_id":75669558,"question_id":75669489,"body_markdown":"You can instanciate the URI this way:\r\n\r\n    URI.create(&quot;myendpoint?email=&quot; + URLEncoder.encode(&quot;my+email@gmail.com&quot;, StandardCharsets.UTF_8).replace(&quot;%40&quot;, &quot;@&quot;))\r\n\r\nIt&#39;s not very elegant but it works.","title":"UriBuilder encoding issue with queryParam","body":"<p>You can instanciate the URI this way:</p>\n<pre><code>URI.create(&quot;myendpoint?email=&quot; + URLEncoder.encode(&quot;my+email@gmail.com&quot;, StandardCharsets.UTF_8).replace(&quot;%40&quot;, &quot;@&quot;))\n</code></pre>\n<p>It's not very elegant but it works.</p>\n"},{"tags":[],"owner":{"account_id":10316935,"reputation":988,"user_id":7610978,"display_name":"Kartik Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678276802,"creation_date":1678276802,"answer_id":75672767,"question_id":75669489,"body_markdown":"The param within **build(boolean `encoded`)** function of **UriComponentsBuilder** actually define if a URI is already encoded and prevent double encoding of the params again, so we can pass an encoded email to the param and prevent any encoding to be run on that email through the uriBuilder itself.\r\n\r\n```java\r\n var responseEntity =\r\n          webClient\r\n              .get()\r\n              .uri(\r\n                  uriBuilder -&gt;\r\n                      UriComponentsBuilder.fromUri(uriBuilder.build())\r\n                          .path(&quot;myendpoint&quot;)\r\n                          .queryParam(&quot;email&quot;, getEncodedEmail(email))\r\n                          .build(true)\r\n                          .toUri())\r\n              .retrieve();\r\n```\r\n\r\n\r\n```java\r\nprivate String getEncodedEmail(String email){\r\n    return URLEncoder.encode(email, StandardCharsets.UTF_8).replace(&quot;%40&quot;,&quot;@&quot;);\r\n  }\r\n```","title":"UriBuilder encoding issue with queryParam","body":"<p>The param within <strong>build(boolean <code>encoded</code>)</strong> function of <strong>UriComponentsBuilder</strong> actually define if a URI is already encoded and prevent double encoding of the params again, so we can pass an encoded email to the param and prevent any encoding to be run on that email through the uriBuilder itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code> var responseEntity =\n          webClient\n              .get()\n              .uri(\n                  uriBuilder -&gt;\n                      UriComponentsBuilder.fromUri(uriBuilder.build())\n                          .path(&quot;myendpoint&quot;)\n                          .queryParam(&quot;email&quot;, getEncodedEmail(email))\n                          .build(true)\n                          .toUri())\n              .retrieve();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private String getEncodedEmail(String email){\n    return URLEncoder.encode(email, StandardCharsets.UTF_8).replace(&quot;%40&quot;,&quot;@&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":10316935,"reputation":988,"user_id":7610978,"display_name":"Kartik Arora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75672767,"answer_count":2,"score":0,"last_activity_date":1678276802,"creation_date":1678250258,"question_id":75669489,"body_markdown":"```java\r\nvar responseEntity =\r\n          webClient\r\n              .get()\r\n              .uri(\r\n                  uriBuilder -&gt;\r\n                      uriBuilder\r\n                          .path(&quot;myendpoint&quot;)\r\n                          .queryParam(&quot;email&quot;, email)\r\n                          .build())\r\n              .retrieve()\r\n```\r\nThe problem with this code is that if the email here is like **my+email@gmail.com**, the URI default encoding doesn&#39;t encode **+** in the queryParam, and if I myself encode the string to Proper Uri encoded string: like: **my%2Bemail@gmail.com**, in this case, URI default encoder here will encode the **%** symbol as well. Now, if I use the **.encode()** function of uriBuilder, it would also encode **@** in the email.\r\n     \r\nI want to achieve URI like: https://myendpoint?email=my%2Bemail@gmail.com \r\n\r\nCan somebody please help with this? Thanks a lot.","title":"UriBuilder encoding issue with queryParam","body":"<pre class=\"lang-java prettyprint-override\"><code>var responseEntity =\n          webClient\n              .get()\n              .uri(\n                  uriBuilder -&gt;\n                      uriBuilder\n                          .path(&quot;myendpoint&quot;)\n                          .queryParam(&quot;email&quot;, email)\n                          .build())\n              .retrieve()\n</code></pre>\n<p>The problem with this code is that if the email here is like <strong>my+email@gmail.com</strong>, the URI default encoding doesn't encode <strong>+</strong> in the queryParam, and if I myself encode the string to Proper Uri encoded string: like: <strong>my%2Bemail@gmail.com</strong>, in this case, URI default encoder here will encode the <strong>%</strong> symbol as well. Now, if I use the <strong>.encode()</strong> function of uriBuilder, it would also encode <strong>@</strong> in the email.</p>\n<p>I want to achieve URI like: https://myendpoint?email=my%2Bemail@gmail.com</p>\n<p>Can somebody please help with this? Thanks a lot.</p>\n"},{"tags":["java","android","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":6389590,"reputation":36,"user_id":4956240,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675952155,"creation_date":1675952155,"answer_id":75399898,"question_id":75397521,"body_markdown":"Startin activty in onPause() is not recommended but even then if you want to start it, then use FLAG_ACTIVITY_NEW_TASK while starting. This tells system to start new activity in new instance so that when current activity gets is killed by system, the new activity has time to start since its in another instance.\r\nHere is the code : \r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        Intent intent = new Intent(this, SecondActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(intent);\r\n    }\r\nThis should help you.","title":"StartActivity not working inside onPause in Android","body":"<p>Startin activty in onPause() is not recommended but even then if you want to start it, then use FLAG_ACTIVITY_NEW_TASK while starting. This tells system to start new activity in new instance so that when current activity gets is killed by system, the new activity has time to start since its in another instance.\nHere is the code :</p>\n<pre><code>@Override\npublic void onPause() {\n    super.onPause();\n    Intent intent = new Intent(this, SecondActivity.class);\n    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(intent);\n}\n</code></pre>\n<p>This should help you.</p>\n"},{"tags":[],"owner":{"account_id":8621497,"reputation":36,"user_id":6456268,"display_name":"Hohyeon Moon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678276432,"creation_date":1678276432,"answer_id":75672701,"question_id":75397521,"body_markdown":"In conclusion, this situation is not allowed in recent Android APIs. [This document](https://developer.android.com/guide/components/activities/background-starts#exceptions) guides us about it. It says like this.\r\n\r\n&gt; Note: When such an app attempts to start a new activity, the system places that activity on top of the app&#39;s existing task but doesn&#39;t navigate away from the currently-visible task. When the user later returns to the app&#39;s task, the system starts the new activity instead of the activity that had previously been on top of the app&#39;s task.\r\n","title":"StartActivity not working inside onPause in Android","body":"<p>In conclusion, this situation is not allowed in recent Android APIs. <a href=\"https://developer.android.com/guide/components/activities/background-starts#exceptions\" rel=\"nofollow noreferrer\">This document</a> guides us about it. It says like this.</p>\n<blockquote>\n<p>Note: When such an app attempts to start a new activity, the system places that activity on top of the app's existing task but doesn't navigate away from the currently-visible task. When the user later returns to the app's task, the system starts the new activity instead of the activity that had previously been on top of the app's task.</p>\n</blockquote>\n"}],"owner":{"account_id":8621497,"reputation":36,"user_id":6456268,"display_name":"Hohyeon Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75672701,"answer_count":2,"score":0,"last_activity_date":1678276432,"creation_date":1675939722,"question_id":75397521,"body_markdown":"I always want to show password activity when my Android app is on pause.\r\n\r\nFor example, when the user goes to home screen or switches app using Recents screen, password activity should appear right away to hide contents and protect to resume app. However, `startActivity` is not working as expected inside `onPause` method.\r\n\r\n```kotlin\r\noverride fun onPause() {\r\n    super.onPause()\r\n    val intent = Intent(this, MainActivity2::class.java)\r\n    startActivity(intent)\r\n}\r\n```\r\n\r\nIt actually executes `startActivity` when the App goes `onPause`. However, the `onCreate` of `MainActivity2` is not being called right away, but called when the app resumes. It was same inside `onStop` by the way.\r\n\r\nAny solution or idea for this?\r\n\r\n\r\n---\r\n\r\n## Edit 1\r\n\r\nAndroidManifest.xml\r\n\r\n```xml\r\n&lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.Droid&quot;\r\n    tools:targetApi=&quot;31&quot;&gt;\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity2&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:label=&quot;@string/title_activity_main2&quot;\r\n        android:theme=&quot;@style/Theme.Droid&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/application&gt;\r\n```\r\n\r\nMainActivity.kt\r\n\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n    }\r\n\r\n    override fun onPause() {\r\n        super.onPause()\r\n\r\n        val intent = Intent(this, MainActivity2::class.java)\r\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\r\n        startActivity(intent)\r\n    }\r\n}\r\n```\r\n\r\nMainActivity2.kt\r\n\r\n```kotlin\r\nclass MainActivity2 : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main2)\r\n    }\r\n}\r\n```\r\n\r\nThese are the example code that I&#39;ve tried, but still doesn&#39;t work. The process I&#39;ve tried is like this. I wish that the `onCreate` of MainActivity2 is called right after the Home key is pressed.\r\n\r\nLaunch app â†’ Home key â†’ Recents screen (Doesn&#39;t show MainActivity2) â†’ Resume app (onCreate of MainActivity2 is called)\r\n\r\n","title":"StartActivity not working inside onPause in Android","body":"<p>I always want to show password activity when my Android app is on pause.</p>\n<p>For example, when the user goes to home screen or switches app using Recents screen, password activity should appear right away to hide contents and protect to resume app. However, <code>startActivity</code> is not working as expected inside <code>onPause</code> method.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onPause() {\n    super.onPause()\n    val intent = Intent(this, MainActivity2::class.java)\n    startActivity(intent)\n}\n</code></pre>\n<p>It actually executes <code>startActivity</code> when the App goes <code>onPause</code>. However, the <code>onCreate</code> of <code>MainActivity2</code> is not being called right away, but called when the app resumes. It was same inside <code>onStop</code> by the way.</p>\n<p>Any solution or idea for this?</p>\n<hr />\n<h2>Edit 1</h2>\n<p>AndroidManifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Droid&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity2&quot;\n        android:exported=&quot;false&quot;\n        android:label=&quot;@string/title_activity_main2&quot;\n        android:theme=&quot;@style/Theme.Droid&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>MainActivity.kt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    override fun onPause() {\n        super.onPause()\n\n        val intent = Intent(this, MainActivity2::class.java)\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n        startActivity(intent)\n    }\n}\n</code></pre>\n<p>MainActivity2.kt</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity2 : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main2)\n    }\n}\n</code></pre>\n<p>These are the example code that I've tried, but still doesn't work. The process I've tried is like this. I wish that the <code>onCreate</code> of MainActivity2 is called right after the Home key is pressed.</p>\n<p>Launch app â†’ Home key â†’ Recents screen (Doesn't show MainActivity2) â†’ Resume app (onCreate of MainActivity2 is called)</p>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678283268,"post_id":75672698,"comment_id":133502252,"body_markdown":"Can you provide a [mre]? Can you show some `input` data and the expected `names` output?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Can you show some <code>input</code> data and the expected <code>names</code> output?"},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1678283978,"post_id":75672698,"comment_id":133502493,"body_markdown":"Yes, the data is a resume that I am parsing in another method and store the content as a string (that content is passed in this method as input) that contains the following information ,,Sam Sam\n\nxxxxxx@gmail.com            \n\n07xxxxxxxx&quot;\n\nI expect to receive the name Sam Sam or something like that, I want to retrive the username from that string.","body":"Yes, the data is a resume that I am parsing in another method and store the content as a string (that content is passed in this method as input) that contains the following information ,,Sam Sam  xxxxxx@gmail.com              07xxxxxxxx&quot;  I expect to receive the name Sam Sam or something like that, I want to retrive the username from that string."},{"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"score":0,"creation_date":1678284156,"post_id":75672698,"comment_id":133502557,"body_markdown":"So the input is a string that contains the words ,,Sam Sam&quot; along side a phone number and an email address and the expected output should be ,,Sam Sam&quot;.","body":"So the input is a string that contains the words ,,Sam Sam&quot; along side a phone number and an email address and the expected output should be ,,Sam Sam&quot;."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678284863,"post_id":75672698,"comment_id":133502815,"body_markdown":"Please [edit] your question and provide actual data samples there. (Tika expects to find a parseable data structure  not just a free-format text file.) Can you provide a MRE?","body":"Please <a href=\"https://stackoverflow.com/posts/75672698/edit\">edit</a> your question and provide actual data samples there. (Tika expects to find a parseable data structure  not just a free-format text file.) Can you provide a MRE?"}],"owner":{"account_id":20518165,"reputation":25,"user_id":15058338,"display_name":"Ioanaa 98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678276409,"creation_date":1678276409,"question_id":75672698,"body_markdown":"I have this code and I am trying to extract name from a String using Tika Apache, but the names field is returned as an empty array and I can&#39;t figure it out why.\r\n\r\nHere is the code, thanks!\r\n\r\n    public static List&lt;String&gt; extractDataFromText(@NonNull String input) throws TikaException, IOException, SAXException {\r\n        List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        InputStream stream = new ByteArrayInputStream(input.getBytes(StandardCharsets.UTF_8));;\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Metadata metadata = new Metadata();\r\n        ContentHandler handler = new BodyContentHandler(Integer.MAX_VALUE);\r\n        try {\r\n            parser.parse(stream, handler, metadata, new ParseContext());\r\n        } catch (TikaException | SAXException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        String[] personValues = metadata.getValues(&quot;person&quot;);\r\n        if (personValues != null) {\r\n            Collections.addAll(names, personValues);\r\n        }\r\n\r\n        System.out.println(names);\r\n\r\n        Pattern pattern = Pattern.compile(EMAIL_ADDRESS + &quot;|&quot; + PHONE_NUMBER);\r\n        Matcher matcher = pattern.matcher(input);\r\n\r\n        while (matcher.find()) {\r\n            data.add(matcher.group());\r\n        }\r\n\r\n        return data;\r\n    }","title":"Extract name from string with Tika not working","body":"<p>I have this code and I am trying to extract name from a String using Tika Apache, but the names field is returned as an empty array and I can't figure it out why.</p>\n<p>Here is the code, thanks!</p>\n<pre><code>public static List&lt;String&gt; extractDataFromText(@NonNull String input) throws TikaException, IOException, SAXException {\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\n    InputStream stream = new ByteArrayInputStream(input.getBytes(StandardCharsets.UTF_8));;\n    AutoDetectParser parser = new AutoDetectParser();\n    Metadata metadata = new Metadata();\n    ContentHandler handler = new BodyContentHandler(Integer.MAX_VALUE);\n    try {\n        parser.parse(stream, handler, metadata, new ParseContext());\n    } catch (TikaException | SAXException e) {\n        e.printStackTrace();\n    }\n\n    String[] personValues = metadata.getValues(&quot;person&quot;);\n    if (personValues != null) {\n        Collections.addAll(names, personValues);\n    }\n\n    System.out.println(names);\n\n    Pattern pattern = Pattern.compile(EMAIL_ADDRESS + &quot;|&quot; + PHONE_NUMBER);\n    Matcher matcher = pattern.matcher(input);\n\n    while (matcher.find()) {\n        data.add(matcher.group());\n    }\n\n    return data;\n}\n</code></pre>\n"},{"tags":["java","android","openstreetmap","osmdroid"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1677453836,"post_id":75573145,"comment_id":133335837,"body_markdown":"I don&#39;t see any reference to a toast message in your code.","body":"I don&#39;t see any reference to a toast message in your code."}],"owner":{"account_id":23421599,"reputation":33,"user_id":17481728,"display_name":"Noah Fraiture"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678276149,"creation_date":1677426456,"question_id":75573145,"body_markdown":"I&#39;m struggling with this problem : I created a new activity with a map to get a geographic position. To confirm the position I&#39;m using a button but it doesn&#39;t work. We can click on it but it doesn&#39;t do anything. I finally understood that the map was blocking it and I don&#39;t know why. \r\n\r\nHere&#39;s the xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_exit&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginTop=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:layout_marginBottom=&quot;0dp&quot;\r\n        android:text=&quot;@string/save_position&quot; /&gt;\r\n\r\n    &lt;org.osmdroid.views.MapView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:layout_width=&quot;429dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThe activity \r\n\r\n    public class PickLocation extends AppCompatActivity {\r\n\r\n    private MapView map;\r\n    private final int REQUEST_PERMISSIONS_REQUEST_CODE = 1;\r\n    MyLocationNewOverlay mLocationOverlay;\r\n    IMapController mapController;\r\n    Context context;\r\n    Marker marker;\r\n    private Button exitButton;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_pick_location);\r\n        context = getApplicationContext();\r\n\r\n        this.exitButton = (Button) findViewById(R.id.button_exit);\r\n        this.exitButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;result&quot;, marker.getPosition().toString());\r\n                setResult(RESULT_OK, intent);\r\n                PickLocation.super.onBackPressed();\r\n            }\r\n        });\r\n\r\n        Configuration.getInstance().load(context,\r\n                PreferenceManager.getDefaultSharedPreferences(context));\r\n\r\n\r\n        setContentView(R.layout.activity_pick_location);\r\n        map = (MapView) findViewById(R.id.map);\r\n        map.setTileSource(TileSourceFactory.MAPNIK);\r\n\r\n        mLocationOverlay = new MyLocationNewOverlay(new GpsMyLocationProvider(context),map);\r\n        mLocationOverlay.enableMyLocation();\r\n        map.getOverlays().add(this.mLocationOverlay);\r\n\r\n        mapController = map.getController();\r\n        mapController.setZoom(8.);\r\n        mapController.setCenter(mLocationOverlay.getMyLocation());\r\n\r\n        marker = new Marker(map, context);\r\n        marker.setDefaultIcon();\r\n\r\n        MapEventsReceiver mapEventsReceiver = new MapEventsReceiver() {\r\n            @Override\r\n            public boolean singleTapConfirmedHelper(GeoPoint p) {\r\n                marker.setPosition(p);\r\n                return false;\r\n            }\r\n            @Override\r\n            public boolean longPressHelper(GeoPoint p) {\r\n                return false;\r\n            }\r\n        };\r\n\r\n        MapEventsOverlay eventsOverlay = new MapEventsOverlay(mapEventsReceiver);\r\n        map.getOverlays().add(marker);\r\n        map.getOverlays().add(eventsOverlay);\r\n\r\n        requestPermissionsIfNecessary(\r\n            new String[]{Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE}\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void onResume(){\r\n        super.onResume();\r\n        map.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause(){\r\n        super.onPause();\r\n        map.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        ArrayList&lt;String&gt; permissionsToRequest = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; grantResults.length; i++) {\r\n            permissionsToRequest.add(permissions[i]);\r\n        }\r\n        if (permissionsToRequest.size() &gt; 0) {\r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    permissionsToRequest.toArray(new String[0]),\r\n                    REQUEST_PERMISSIONS_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    private void requestPermissionsIfNecessary(String[] permissions) {\r\n        ArrayList&lt;String&gt; permissionsToRequest = new ArrayList&lt;&gt;();\r\n        for (String permission : permissions) {\r\n            if (ContextCompat.checkSelfPermission(this, permission)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n                permissionsToRequest.add(permission);\r\n            }\r\n        }\r\n        if (permissionsToRequest.size() &gt; 0) {\r\n            ActivityCompat.requestPermissions(\r\n                    this,\r\n                    permissionsToRequest.toArray(new String[0]),\r\n                    REQUEST_PERMISSIONS_REQUEST_CODE);\r\n        }\r\n    }\r\n    }\r\n\r\nI tried to replace the content of the onClick by a simple toast and it still doesn&#39;t work. I don&#39;t see what&#39;s wrong in this. Thank you for your consideration","title":"Osmdroid block buttons - android studio","body":"<p>I'm struggling with this problem : I created a new activity with a map to get a geographic position. To confirm the position I'm using a button but it doesn't work. We can click on it but it doesn't do anything. I finally understood that the map was blocking it and I don't know why.</p>\n<p>Here's the xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button_exit&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;100dp&quot;\n    android:layout_marginStart=&quot;0dp&quot;\n    android:layout_marginTop=&quot;0dp&quot;\n    android:layout_marginEnd=&quot;0dp&quot;\n    android:layout_marginBottom=&quot;0dp&quot;\n    android:text=&quot;@string/save_position&quot; /&gt;\n\n&lt;org.osmdroid.views.MapView\n    android:id=&quot;@+id/map&quot;\n    android:layout_width=&quot;429dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;center&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>The activity</p>\n<pre><code>public class PickLocation extends AppCompatActivity {\n\nprivate MapView map;\nprivate final int REQUEST_PERMISSIONS_REQUEST_CODE = 1;\nMyLocationNewOverlay mLocationOverlay;\nIMapController mapController;\nContext context;\nMarker marker;\nprivate Button exitButton;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_pick_location);\n    context = getApplicationContext();\n\n    this.exitButton = (Button) findViewById(R.id.button_exit);\n    this.exitButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent();\n            intent.putExtra(&quot;result&quot;, marker.getPosition().toString());\n            setResult(RESULT_OK, intent);\n            PickLocation.super.onBackPressed();\n        }\n    });\n\n    Configuration.getInstance().load(context,\n            PreferenceManager.getDefaultSharedPreferences(context));\n\n\n    setContentView(R.layout.activity_pick_location);\n    map = (MapView) findViewById(R.id.map);\n    map.setTileSource(TileSourceFactory.MAPNIK);\n\n    mLocationOverlay = new MyLocationNewOverlay(new GpsMyLocationProvider(context),map);\n    mLocationOverlay.enableMyLocation();\n    map.getOverlays().add(this.mLocationOverlay);\n\n    mapController = map.getController();\n    mapController.setZoom(8.);\n    mapController.setCenter(mLocationOverlay.getMyLocation());\n\n    marker = new Marker(map, context);\n    marker.setDefaultIcon();\n\n    MapEventsReceiver mapEventsReceiver = new MapEventsReceiver() {\n        @Override\n        public boolean singleTapConfirmedHelper(GeoPoint p) {\n            marker.setPosition(p);\n            return false;\n        }\n        @Override\n        public boolean longPressHelper(GeoPoint p) {\n            return false;\n        }\n    };\n\n    MapEventsOverlay eventsOverlay = new MapEventsOverlay(mapEventsReceiver);\n    map.getOverlays().add(marker);\n    map.getOverlays().add(eventsOverlay);\n\n    requestPermissionsIfNecessary(\n        new String[]{Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE}\n    );\n}\n\n@Override\npublic void onResume(){\n    super.onResume();\n    map.onResume();\n}\n\n@Override\npublic void onPause(){\n    super.onPause();\n    map.onPause();\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    ArrayList&lt;String&gt; permissionsToRequest = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; grantResults.length; i++) {\n        permissionsToRequest.add(permissions[i]);\n    }\n    if (permissionsToRequest.size() &gt; 0) {\n        ActivityCompat.requestPermissions(\n                this,\n                permissionsToRequest.toArray(new String[0]),\n                REQUEST_PERMISSIONS_REQUEST_CODE);\n    }\n}\n\nprivate void requestPermissionsIfNecessary(String[] permissions) {\n    ArrayList&lt;String&gt; permissionsToRequest = new ArrayList&lt;&gt;();\n    for (String permission : permissions) {\n        if (ContextCompat.checkSelfPermission(this, permission)\n                != PackageManager.PERMISSION_GRANTED) {\n            permissionsToRequest.add(permission);\n        }\n    }\n    if (permissionsToRequest.size() &gt; 0) {\n        ActivityCompat.requestPermissions(\n                this,\n                permissionsToRequest.toArray(new String[0]),\n                REQUEST_PERMISSIONS_REQUEST_CODE);\n    }\n}\n}\n</code></pre>\n<p>I tried to replace the content of the onClick by a simple toast and it still doesn't work. I don't see what's wrong in this. Thank you for your consideration</p>\n"},{"tags":["java","timer","cron","scheduled-tasks","quartz-scheduler"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1677682948,"post_id":75604822,"comment_id":133386554,"body_markdown":"Consider using Spring. It provides the annotation @Scheduled where you can define the cron-like parameters. In your case something like @Scheduled(cron = &quot;0 0 7,13 * * MON-FRI&quot;).\nChecking if the job can run and waiting until it can need to be implemented however. Your Task class is a good start.","body":"Consider using Spring. It provides the annotation @Scheduled where you can define the cron-like parameters. In your case something like @Scheduled(cron = &quot;0 0 7,13 * * MON-FRI&quot;). Checking if the job can run and waiting until it can need to be implemented however. Your Task class is a good start."},{"owner":{"account_id":24601344,"reputation":119,"user_id":18504189,"display_name":"Johnys"},"score":0,"creation_date":1677743167,"post_id":75604822,"comment_id":133398869,"body_markdown":"Thank you for your answer. I haven&#39;t had experience with Spring yet because when building customer enterprise applications I&#39;ve only used J2EE (enterprise beans). Didn&#39;t really know that I can use Spring for something other than microservices. I will look into it and try.","body":"Thank you for your answer. I haven&#39;t had experience with Spring yet because when building customer enterprise applications I&#39;ve only used J2EE (enterprise beans). Didn&#39;t really know that I can use Spring for something other than microservices. I will look into it and try."}],"answers":[{"tags":[],"owner":{"account_id":24601344,"reputation":119,"user_id":18504189,"display_name":"Johnys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678276121,"creation_date":1678276121,"answer_id":75672649,"question_id":75604822,"body_markdown":"After a bit of researching, I found Quartz to be the most useful in my situation (spring was a bit overkill). The biggest downside to Quartz tho, is that this library is not mantained anymore (so no support).","title":"Scheduling task two times per business day at fixed time with check for &quot;green light&quot;","body":"<p>After a bit of researching, I found Quartz to be the most useful in my situation (spring was a bit overkill). The biggest downside to Quartz tho, is that this library is not mantained anymore (so no support).</p>\n"}],"owner":{"account_id":24601344,"reputation":119,"user_id":18504189,"display_name":"Johnys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75672649,"answer_count":1,"score":0,"last_activity_date":1678276121,"creation_date":1677679860,"question_id":75604822,"body_markdown":"I am working on automating a task in java that is being run manually 2 times per business day, at fixed times.\r\nThis task has to check in database if it can run (if some other task is running, it cannot start). I&#39;ve exported the task into a jar file and created a new eclipse workspace in which the tasks would run, but i could not find a good solution to this problem, mostly because of this task running 2 times per day, with fixed times (7am, 1pm) and it has to check in database for the &quot;green light&quot;.\r\n\r\nI know that there are solutions as **Timer, ScheduledExecutorService** and external scheduling service **Quartz**. I have looked into these solutions, but i dont think they really fit my problem.\r\n\r\nI dont wanna end up reinveting the wheel with creating a timer from scratch so I was wondering if somebody has had experience with scheduling tasks the same way i need.\r\n\r\nI imagine the solution would look like this: \r\n\r\n```\r\nTask task7am = new Task();\r\nTask task1pm = new Task();\r\n\r\n// 1st parameter : which days of week it should run\r\n// 2nd parameter : which hour of day it should run\r\ntask7am.schedule(&quot;1 2 3 4 5&quot;, 7); \r\ntask1pm.schedule(&quot;1 2 3 4 5&quot;, 13); \r\n\r\nSomeTaskScheduleService service = new SomeTaskScheduleService();\r\n\r\nservice.add(task7am);\r\nservice.add(task1pm);\r\n\r\nservice.start();\r\n\r\n```\r\nThe Task class:\r\n``` \r\nclass Task extends TaskServiceXXX{\r\n    @Override\r\n    public void run () {\r\n       //check if it can run\r\n       while(!DbUtil.canRunTask()){\r\n           sleep();\r\n       }\r\n       doTheTask();\r\n    }\r\n\r\n    private void sleep(){\r\n       Thread.sleep(1000*60*5); //wait 5 minutes\r\n    }\r\n   \r\n    private void doTheTask(){\r\n       //the task, which needs to be done\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf you could help, even by pointing to documentation i would be really grateful. Thank you","title":"Scheduling task two times per business day at fixed time with check for &quot;green light&quot;","body":"<p>I am working on automating a task in java that is being run manually 2 times per business day, at fixed times.\nThis task has to check in database if it can run (if some other task is running, it cannot start). I've exported the task into a jar file and created a new eclipse workspace in which the tasks would run, but i could not find a good solution to this problem, mostly because of this task running 2 times per day, with fixed times (7am, 1pm) and it has to check in database for the &quot;green light&quot;.</p>\n<p>I know that there are solutions as <strong>Timer, ScheduledExecutorService</strong> and external scheduling service <strong>Quartz</strong>. I have looked into these solutions, but i dont think they really fit my problem.</p>\n<p>I dont wanna end up reinveting the wheel with creating a timer from scratch so I was wondering if somebody has had experience with scheduling tasks the same way i need.</p>\n<p>I imagine the solution would look like this:</p>\n<pre><code>Task task7am = new Task();\nTask task1pm = new Task();\n\n// 1st parameter : which days of week it should run\n// 2nd parameter : which hour of day it should run\ntask7am.schedule(&quot;1 2 3 4 5&quot;, 7); \ntask1pm.schedule(&quot;1 2 3 4 5&quot;, 13); \n\nSomeTaskScheduleService service = new SomeTaskScheduleService();\n\nservice.add(task7am);\nservice.add(task1pm);\n\nservice.start();\n\n</code></pre>\n<p>The Task class:</p>\n<pre><code>class Task extends TaskServiceXXX{\n    @Override\n    public void run () {\n       //check if it can run\n       while(!DbUtil.canRunTask()){\n           sleep();\n       }\n       doTheTask();\n    }\n\n    private void sleep(){\n       Thread.sleep(1000*60*5); //wait 5 minutes\n    }\n   \n    private void doTheTask(){\n       //the task, which needs to be done\n    }\n\n}\n</code></pre>\n<p>If you could help, even by pointing to documentation i would be really grateful. Thank you</p>\n"},{"tags":["java","spring-boot","spring-mvc","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"score":1,"creation_date":1678269019,"post_id":75671484,"comment_id":133498502,"body_markdown":"Do you use @RestController of @Controller?","body":"Do you use @RestController of @Controller?"},{"owner":{"account_id":27963948,"reputation":13,"user_id":21355184,"display_name":"asd"},"score":0,"creation_date":1678269187,"post_id":75671484,"comment_id":133498534,"body_markdown":"I use `@Controller` to the one that works, the one with the getHomePage() endpoint method, and `@RestController` with the one that does not! Please point me to a resource or a explain why that matters. Thank you, I so missed that!","body":"I use <code>@Controller</code> to the one that works, the one with the getHomePage() endpoint method, and <code>@RestController</code> with the one that does not! Please point me to a resource or a explain why that matters. Thank you, I so missed that!"},{"owner":{"account_id":27963948,"reputation":13,"user_id":21355184,"display_name":"asd"},"score":0,"creation_date":1678269412,"post_id":75671484,"comment_id":133498577,"body_markdown":"Also relevant thread, now that I know that the controller annotation is the issue: https://stackoverflow.com/questions/43263667/spring-rest-controller-not-returning-html","body":"Also relevant thread, now that I know that the controller annotation is the issue: <a href=\"https://stackoverflow.com/questions/43263667/spring-rest-controller-not-returning-html\" title=\"spring rest controller not returning html\">stackoverflow.com/questions/43263667/&hellip;</a>"}],"owner":{"account_id":27963948,"reputation":13,"user_id":21355184,"display_name":"asd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678276041,"creation_date":1678268839,"question_id":75671484,"body_markdown":"I have a home.html Thymeleaf template and a controller endpoint method that returns &quot;home&quot; and instead of getting the template home.html served in the browser I get an empty page with the word &quot;home&quot; in it.\r\n\r\nThis is my controller:\r\n\r\n          @PostMapping(&quot;/upload&quot;)\r\n          public String handleFileUpload(Authentication authentication, \r\n          @RequestParam(&quot;fileUpload&quot;) MultipartFile file,\r\n                                   Model model) throws IOException {\r\n          String userName = authentication.getName();\r\n          User user = userService.getUser(userName);\r\n          fileService.addFile(file, userName);\r\n          return &quot;home&quot;;\r\n         }\r\n\r\n\r\nAnd this is my home.html that lives under templates:\r\n\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n        &lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n        xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\r\n        &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, \r\n        shrink-to-fit=no&quot;&gt;\r\n\r\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; \r\n        th:href=&quot;@{/css/bootstrap.min.css}&quot;&gt;\r\n\r\n        &lt;title&gt;Home&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body class=&quot;p-3 mb-2 bg-light text-black&quot;&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n\r\n            &lt;div id=&quot;logoutDiv&quot;&gt;\r\n                &lt;form action=&quot;#&quot; th:action=&quot;@{/logout}&quot; method=&quot;POST&quot;&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-secondary float- \r\n              right&quot; id=&quot;btn-logout&quot;&gt;Logout&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n            &lt;div id=&quot;contentDiv&quot; style=&quot;clear: right;&quot;&gt;\r\n                &lt;nav style=&quot;clear: right;&quot;&gt;\r\n                    &lt;div class=&quot;nav nav-tabs&quot; id=&quot;nav-tab&quot; role=&quot;tablist&quot;&gt;\r\n                        &lt;a class=&quot;nav-item nav-link active&quot; id=&quot;nav-files- \r\n                  tab&quot; data-toggle=&quot;tab&quot; href=&quot;#nav-files&quot; role=&quot;tab&quot; aria- \r\n                 controls=&quot;nav-files&quot; aria-selected=&quot;true&quot;&gt;Files&lt;/a&gt;\r\n                        &lt;a class=&quot;nav-item nav-link&quot; id=&quot;nav-notes-tab&quot; \r\n               data-toggle=&quot;tab&quot; href=&quot;#nav-notes&quot; role=&quot;tab&quot; aria-c \r\n                controls=&quot;nav-notes&quot; aria-selected=&quot;false&quot;&gt;Notes&lt;/a&gt;\r\n                        &lt;a class=&quot;nav-item nav-link&quot; id=&quot;nav-credentials- \r\n              tab&quot; data-toggle=&quot;tab&quot; href=&quot;#nav-credentials&quot; role=&quot;tab&quot; \r\n                aria-controls=&quot;nav-credentials&quot; aria- \r\n                 selected=&quot;false&quot;&gt;Credentials&lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/nav&gt;\r\n                &lt;div class=&quot;tab-content&quot; id=&quot;nav-tabContent&quot;&gt;\r\n                    &lt;div class=&quot;tab-pane fade show active&quot; id=&quot;nav-files&quot; \r\n             role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-files-tab&quot;&gt;\r\n\r\n\r\n\r\n\r\n\r\n                            &lt;form action=&quot;#&quot; enctype=&quot;multipart/form-data&quot; \r\n                       th:action=&quot;@{/file/upload}&quot; method=&quot;POST&quot;&gt;\r\n                            &lt;div class=&quot;container&quot;&gt;\r\n                                &lt;div class=&quot;row&quot; style=&quot;margin: 1em;&quot;&gt;\r\n                                    &lt;div class=&quot;col-sm-2&quot;&gt;\r\n                                        &lt;label for=&quot;fileUpload&quot;&gt;Upload a New \r\n                                        File:&lt;/label&gt;\r\n                                      &lt;/div&gt;\r\n                                    &lt;div class=&quot;col-sm-6&quot;&gt;\r\n                                        &lt;input type=&quot;file&quot; class=&quot;form- \r\n                           control-file&quot; id=&quot;fileUpload&quot; name=&quot;fileUpload&quot;&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;col-sm-4&quot;&gt;\r\n                                        &lt;button type=&quot;submit&quot; class=&quot;btn \r\n                              btn-dark&quot; id=&quot;uploadButton&quot;&gt;Upload&lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/form&gt;\r\n\r\n\r\n                        &lt;div class=&quot;table-responsive&quot;&gt;\r\n                            &lt;table class=&quot;table table-striped&quot; \r\n                                 id=&quot;fileTable&quot;&gt;\r\n                                &lt;thead&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt; \r\n                                         &lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 80%&quot; \r\n                                         scope=&quot;col&quot;&gt;File Name&lt;/th&gt;\r\n                                    &lt;/tr&gt;\r\n                                &lt;/thead&gt;\r\n                                &lt;tbody&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td&gt;\r\n                     &lt;a target=&quot;_blank&quot; class=&quot;btn btn-success&quot;&gt;View&lt;/a&gt;\r\n                     &lt;a  class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\r\n                                    &lt;/td&gt;\r\n                                    &lt;th scope=&quot;row&quot;&gt;ExampleFile.txt&lt;/th&gt;\r\n                                &lt;/tr&gt;\r\n                                &lt;/tbody&gt;\r\n                            &lt;/table&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;tab-pane fade&quot; id=&quot;nav-notes&quot; \r\n                       role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-notes-tab&quot;&gt;\r\n                        &lt;button style=&quot;margin: 0.25em;&quot; type=&quot;button&quot; \r\n                          class=&quot;btn btn-info float-right&quot; \r\n                           onclick=&quot;showNoteModal()&quot;&gt;\r\n                            + Add a New Note\r\n                        &lt;/button&gt;\r\n\r\n                        &lt;div class=&quot;table-responsive&quot;&gt;\r\n                            &lt;table class=&quot;table table-striped&quot; \r\n                                 id=&quot;userTable&quot;&gt;\r\n                                &lt;thead&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt; \r\n                                       &lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 20%&quot; \r\n                                        scope=&quot;col&quot;&gt;Title&lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 60%&quot; \r\n                                         scope=&quot;col&quot;&gt;Description&lt;/th&gt;\r\n                                    &lt;/tr&gt;\r\n                                &lt;/thead&gt;\r\n                                &lt;tbody&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;td&gt;\r\n                                            &lt;button type=&quot;button&quot; class=&quot;btn \r\n                                         btn-success&quot;&gt;Edit&lt;/button&gt;\r\n                                            &lt;a class=&quot;btn btn- \r\n                                        danger&quot;&gt;Delete&lt;/a&gt;\r\n                                        &lt;/td&gt;\r\n                                        &lt;th scope=&quot;row&quot;&gt;Example Note \r\n                                         Title&lt;/th&gt;\r\n                                        &lt;td&gt;Example Note Description &lt;/td&gt;\r\n                                    &lt;/tr&gt;\r\n                                &lt;/tbody&gt;\r\n                            &lt;/table&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=&quot;modal fade&quot; id=&quot;noteModal&quot; tabindex=&quot;-1&quot; \r\n          role=&quot;dialog&quot; aria-labelledby=&quot;noteModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n                            &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n                                &lt;div class=&quot;modal-content&quot;&gt;\r\n                                    &lt;div class=&quot;modal-header&quot;&gt;\r\n                                        &lt;h5 class=&quot;modal-title&quot; \r\n                           id=&quot;noteModalLabel&quot;&gt;Note&lt;/h5&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;close&quot; \r\n                                data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                                            &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times; \r\n                                       &lt;/span&gt;\r\n                                        &lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;modal-body&quot;&gt;\r\n                                        &lt;form action=&quot;#&quot; method=&quot;POST&quot;&gt;\r\n                                            &lt;input type=&quot;hidden&quot; \r\n                                         name=&quot;noteId&quot; id=&quot;note-id&quot;&gt;\r\n                                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                                &lt;label for=&quot;note-title&quot; \r\n                                      class=&quot;col-form-label&quot;&gt;Title&lt;/label&gt;\r\n                                                &lt;input type=&quot;text&quot; name= \r\n                                           &quot;noteTitle&quot; class=&quot;form-control&quot; \r\n                                    id=&quot;note-title&quot; maxlength=&quot;20&quot; required&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                                &lt;label for=&quot;note- \r\n                     description&quot; class=&quot;col-form-label&quot;&gt;Description&lt;/label&gt;\r\n                                                &lt;textarea class=&quot;form- \r\n                               control&quot; name=&quot;noteDescription&quot; id=&quot;note- \r\n                            description&quot; rows=&quot;5&quot; maxlength=&quot;1000&quot; required&gt; \r\n                                            &lt;/textarea&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;button id=&quot;noteSubmit&quot; \r\n                        type=&quot;submit&quot; class=&quot;d-none&quot;&gt;&lt;/button&gt;\r\n                                        &lt;/form&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;modal-footer&quot;&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;btn \r\n              btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;btn \r\n                btn-primary&quot; onclick=&quot;$(&#39;#noteSubmit&#39;).click();&quot;&gt;Save \r\n                            changes&lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;tab-pane fade&quot; id=&quot;nav-credentials&quot; role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-credentials-tab&quot;&gt;\r\n                        &lt;button style=&quot;margin: 0.25em;&quot; type=&quot;button&quot; class=&quot;btn btn-info float-right&quot; onclick=&quot;showCredentialModal()&quot;&gt;\r\n                            + Add a New Credential\r\n                        &lt;/button&gt;\r\n\r\n                        &lt;div class=&quot;table-responsive&quot;&gt;\r\n                            &lt;table class=&quot;table table-striped&quot; th:object=&quot;${credentials}&quot; id=&quot;credentialTable&quot;&gt;\r\n                                &lt;thead&gt;\r\n                                    &lt;tr&gt;\r\n                                        &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt;&lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 35%&quot; scope=&quot;col&quot;&gt;URL&lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt;Username&lt;/th&gt;\r\n                                        &lt;th style=&quot;width: 25%&quot; scope=&quot;col&quot;&gt;Password&lt;/th&gt;\r\n                                    &lt;/tr&gt;\r\n                                &lt;/thead&gt;\r\n                                &lt;tbody&gt;\r\n                                &lt;tr&gt;\r\n                                    &lt;td&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;btn btn-success&quot;&gt;Edit&lt;/button&gt;\r\n                                        &lt;a class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\r\n                                    &lt;/td&gt;\r\n                                    &lt;th scope=&quot;row&quot;&gt;Example Credential URL&lt;/th&gt;\r\n                                    &lt;td&gt;Example Credential Username&lt;/td&gt;\r\n                                    &lt;td&gt;Example Credential Password&lt;/td&gt;\r\n                                &lt;/tr&gt;\r\n                                &lt;/tbody&gt;\r\n                            &lt;/table&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=&quot;modal fade&quot; id=&quot;credentialModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;credentialModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n                            &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n                                &lt;div class=&quot;modal-content&quot;&gt;\r\n                                    &lt;div class=&quot;modal-header&quot;&gt;\r\n                                        &lt;h5 class=&quot;modal-title&quot; id=&quot;credentialModalLabel&quot;&gt;Credential&lt;/h5&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                                            &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                                        &lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;modal-body&quot;&gt;\r\n                                        &lt;form action=&quot;#&quot; method=&quot;POST&quot;&gt;\r\n                                            &lt;input type=&quot;hidden&quot; name=&quot;credentialId&quot; id=&quot;credential-id&quot;&gt;\r\n                                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                                &lt;label for=&quot;credential-url&quot; class=&quot;col-form-label&quot;&gt;URL&lt;/label&gt;\r\n                                                &lt;input type=&quot;text&quot; name= &quot;url&quot; class=&quot;form-control&quot; id=&quot;credential-url&quot; maxlength=&quot;100&quot; required&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                                &lt;label for=&quot;credential-username&quot; class=&quot;col-form-label&quot;&gt;Username&lt;/label&gt;\r\n                                                &lt;input type=&quot;text&quot; name= &quot;username&quot; class=&quot;form-control&quot; id=&quot;credential-username&quot; maxlength=&quot;30&quot; required&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;div class=&quot;form-group&quot;&gt;\r\n                                                &lt;label for=&quot;credential-password&quot; class=&quot;col-form-label&quot;&gt;Password&lt;/label&gt;\r\n                                                &lt;input type=&quot;text&quot; name= &quot;password&quot; class=&quot;form-control&quot; id=&quot;credential-password&quot; maxlength=&quot;30&quot; required&gt;\r\n                                            &lt;/div&gt;\r\n                                            &lt;button id=&quot;credentialSubmit&quot; type=&quot;submit&quot; class=&quot;d-none&quot;&gt;&lt;/button&gt;\r\n                                        &lt;/form&gt;\r\n                                    &lt;/div&gt;\r\n                                    &lt;div class=&quot;modal-footer&quot;&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n                                        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;$(&#39;#credentialSubmit&#39;).click();&quot;&gt;Save changes&lt;/button&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;script th:src=&quot;@{/js/jquery-slim.min.js}&quot;&gt;&lt;/script&gt;\r\n        &lt;script th:src=&quot;@{/js/popper.min.js}&quot;&gt;&lt;/script&gt;\r\n        &lt;script th:src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n        &lt;!--For opening the note modal--&gt;\r\n        &lt;script type=&quot;text/javascript&quot;&gt;\r\n            // For opening the note modal\r\n            function showNoteModal(noteId, noteTitle, noteDescription) {\r\n                $(&#39;#note-id&#39;).val(noteId ? noteId : &#39;&#39;);\r\n                $(&#39;#note-title&#39;).val(noteTitle ? noteTitle : &#39;&#39;);\r\n                $(&#39;#note-description&#39;).val(noteDescription ? noteDescription : &#39;&#39;);\r\n                $(&#39;#noteModal&#39;).modal(&#39;show&#39;);\r\n            }\r\n\r\n            // For opening the credentials modal\r\n            function showCredentialModal(credentialId, url, username, password) {\r\n                $(&#39;#credential-id&#39;).val(credentialId ? credentialId : &#39;&#39;);\r\n                $(&#39;#credential-url&#39;).val(url ? url : &#39;&#39;);\r\n                $(&#39;#credential-username&#39;).val(username ? username : &#39;&#39;);\r\n                $(&#39;#credential-password&#39;).val(password ? password : &#39;&#39;);\r\n                $(&#39;#credentialModal&#39;).modal(&#39;show&#39;);\r\n            }\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n`\r\n\r\n\r\n\r\nThe login controller endpoint method has no issue returning the html template using the exact same structure and syntax:\r\n\r\n           @GetMapping\r\n           public String getHomePage() {\r\n            return &quot;home&quot;;\r\n             }\r\n\r\nI tried debugging the issue and I tried comparing against other online resources that seem to indicate there is nothing wrong with my code.","title":"Return &quot;home&quot; from Spring Boot controller method loads an empty page with the word &quot;home&quot; in it instead of home.html","body":"<p>I have a home.html Thymeleaf template and a controller endpoint method that returns &quot;home&quot; and instead of getting the template home.html served in the browser I get an empty page with the word &quot;home&quot; in it.</p>\n<p>This is my controller:</p>\n<pre><code>      @PostMapping(&quot;/upload&quot;)\n      public String handleFileUpload(Authentication authentication, \n      @RequestParam(&quot;fileUpload&quot;) MultipartFile file,\n                               Model model) throws IOException {\n      String userName = authentication.getName();\n      User user = userService.getUser(userName);\n      fileService.addFile(file, userName);\n      return &quot;home&quot;;\n     }\n</code></pre>\n<p>And this is my home.html that lives under templates:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \n    xmlns:th=&quot;https://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, \n    shrink-to-fit=no&quot;&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; \n    th:href=&quot;@{/css/bootstrap.min.css}&quot;&gt;\n\n    &lt;title&gt;Home&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body class=&quot;p-3 mb-2 bg-light text-black&quot;&gt;\n    &lt;div class=&quot;container&quot;&gt;\n\n        &lt;div id=&quot;logoutDiv&quot;&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/logout}&quot; method=&quot;POST&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-secondary float- \n          right&quot; id=&quot;btn-logout&quot;&gt;Logout&lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;contentDiv&quot; style=&quot;clear: right;&quot;&gt;\n            &lt;nav style=&quot;clear: right;&quot;&gt;\n                &lt;div class=&quot;nav nav-tabs&quot; id=&quot;nav-tab&quot; role=&quot;tablist&quot;&gt;\n                    &lt;a class=&quot;nav-item nav-link active&quot; id=&quot;nav-files- \n              tab&quot; data-toggle=&quot;tab&quot; href=&quot;#nav-files&quot; role=&quot;tab&quot; aria- \n             controls=&quot;nav-files&quot; aria-selected=&quot;true&quot;&gt;Files&lt;/a&gt;\n                    &lt;a class=&quot;nav-item nav-link&quot; id=&quot;nav-notes-tab&quot; \n           data-toggle=&quot;tab&quot; href=&quot;#nav-notes&quot; role=&quot;tab&quot; aria-c \n            controls=&quot;nav-notes&quot; aria-selected=&quot;false&quot;&gt;Notes&lt;/a&gt;\n                    &lt;a class=&quot;nav-item nav-link&quot; id=&quot;nav-credentials- \n          tab&quot; data-toggle=&quot;tab&quot; href=&quot;#nav-credentials&quot; role=&quot;tab&quot; \n            aria-controls=&quot;nav-credentials&quot; aria- \n             selected=&quot;false&quot;&gt;Credentials&lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/nav&gt;\n            &lt;div class=&quot;tab-content&quot; id=&quot;nav-tabContent&quot;&gt;\n                &lt;div class=&quot;tab-pane fade show active&quot; id=&quot;nav-files&quot; \n         role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-files-tab&quot;&gt;\n\n\n\n\n\n                        &lt;form action=&quot;#&quot; enctype=&quot;multipart/form-data&quot; \n                   th:action=&quot;@{/file/upload}&quot; method=&quot;POST&quot;&gt;\n                        &lt;div class=&quot;container&quot;&gt;\n                            &lt;div class=&quot;row&quot; style=&quot;margin: 1em;&quot;&gt;\n                                &lt;div class=&quot;col-sm-2&quot;&gt;\n                                    &lt;label for=&quot;fileUpload&quot;&gt;Upload a New \n                                    File:&lt;/label&gt;\n                                  &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-6&quot;&gt;\n                                    &lt;input type=&quot;file&quot; class=&quot;form- \n                       control-file&quot; id=&quot;fileUpload&quot; name=&quot;fileUpload&quot;&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-4&quot;&gt;\n                                    &lt;button type=&quot;submit&quot; class=&quot;btn \n                          btn-dark&quot; id=&quot;uploadButton&quot;&gt;Upload&lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/form&gt;\n\n\n                    &lt;div class=&quot;table-responsive&quot;&gt;\n                        &lt;table class=&quot;table table-striped&quot; \n                             id=&quot;fileTable&quot;&gt;\n                            &lt;thead&gt;\n                                &lt;tr&gt;\n                                    &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt; \n                                     &lt;/th&gt;\n                                    &lt;th style=&quot;width: 80%&quot; \n                                     scope=&quot;col&quot;&gt;File Name&lt;/th&gt;\n                                &lt;/tr&gt;\n                            &lt;/thead&gt;\n                            &lt;tbody&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;\n                 &lt;a target=&quot;_blank&quot; class=&quot;btn btn-success&quot;&gt;View&lt;/a&gt;\n                 &lt;a  class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\n                                &lt;/td&gt;\n                                &lt;th scope=&quot;row&quot;&gt;ExampleFile.txt&lt;/th&gt;\n                            &lt;/tr&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;tab-pane fade&quot; id=&quot;nav-notes&quot; \n                   role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-notes-tab&quot;&gt;\n                    &lt;button style=&quot;margin: 0.25em;&quot; type=&quot;button&quot; \n                      class=&quot;btn btn-info float-right&quot; \n                       onclick=&quot;showNoteModal()&quot;&gt;\n                        + Add a New Note\n                    &lt;/button&gt;\n\n                    &lt;div class=&quot;table-responsive&quot;&gt;\n                        &lt;table class=&quot;table table-striped&quot; \n                             id=&quot;userTable&quot;&gt;\n                            &lt;thead&gt;\n                                &lt;tr&gt;\n                                    &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt; \n                                   &lt;/th&gt;\n                                    &lt;th style=&quot;width: 20%&quot; \n                                    scope=&quot;col&quot;&gt;Title&lt;/th&gt;\n                                    &lt;th style=&quot;width: 60%&quot; \n                                     scope=&quot;col&quot;&gt;Description&lt;/th&gt;\n                                &lt;/tr&gt;\n                            &lt;/thead&gt;\n                            &lt;tbody&gt;\n                                &lt;tr&gt;\n                                    &lt;td&gt;\n                                        &lt;button type=&quot;button&quot; class=&quot;btn \n                                     btn-success&quot;&gt;Edit&lt;/button&gt;\n                                        &lt;a class=&quot;btn btn- \n                                    danger&quot;&gt;Delete&lt;/a&gt;\n                                    &lt;/td&gt;\n                                    &lt;th scope=&quot;row&quot;&gt;Example Note \n                                     Title&lt;/th&gt;\n                                    &lt;td&gt;Example Note Description &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;modal fade&quot; id=&quot;noteModal&quot; tabindex=&quot;-1&quot; \n      role=&quot;dialog&quot; aria-labelledby=&quot;noteModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n                        &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n                            &lt;div class=&quot;modal-content&quot;&gt;\n                                &lt;div class=&quot;modal-header&quot;&gt;\n                                    &lt;h5 class=&quot;modal-title&quot; \n                       id=&quot;noteModalLabel&quot;&gt;Note&lt;/h5&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;close&quot; \n                            data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times; \n                                   &lt;/span&gt;\n                                    &lt;/button&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;modal-body&quot;&gt;\n                                    &lt;form action=&quot;#&quot; method=&quot;POST&quot;&gt;\n                                        &lt;input type=&quot;hidden&quot; \n                                     name=&quot;noteId&quot; id=&quot;note-id&quot;&gt;\n                                        &lt;div class=&quot;form-group&quot;&gt;\n                                            &lt;label for=&quot;note-title&quot; \n                                  class=&quot;col-form-label&quot;&gt;Title&lt;/label&gt;\n                                            &lt;input type=&quot;text&quot; name= \n                                       &quot;noteTitle&quot; class=&quot;form-control&quot; \n                                id=&quot;note-title&quot; maxlength=&quot;20&quot; required&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=&quot;form-group&quot;&gt;\n                                            &lt;label for=&quot;note- \n                 description&quot; class=&quot;col-form-label&quot;&gt;Description&lt;/label&gt;\n                                            &lt;textarea class=&quot;form- \n                           control&quot; name=&quot;noteDescription&quot; id=&quot;note- \n                        description&quot; rows=&quot;5&quot; maxlength=&quot;1000&quot; required&gt; \n                                        &lt;/textarea&gt;\n                                        &lt;/div&gt;\n                                        &lt;button id=&quot;noteSubmit&quot; \n                    type=&quot;submit&quot; class=&quot;d-none&quot;&gt;&lt;/button&gt;\n                                    &lt;/form&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;modal-footer&quot;&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;btn \n          btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;btn \n            btn-primary&quot; onclick=&quot;$('#noteSubmit').click();&quot;&gt;Save \n                        changes&lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;tab-pane fade&quot; id=&quot;nav-credentials&quot; role=&quot;tabpanel&quot; aria-labelledby=&quot;nav-credentials-tab&quot;&gt;\n                    &lt;button style=&quot;margin: 0.25em;&quot; type=&quot;button&quot; class=&quot;btn btn-info float-right&quot; onclick=&quot;showCredentialModal()&quot;&gt;\n                        + Add a New Credential\n                    &lt;/button&gt;\n\n                    &lt;div class=&quot;table-responsive&quot;&gt;\n                        &lt;table class=&quot;table table-striped&quot; th:object=&quot;${credentials}&quot; id=&quot;credentialTable&quot;&gt;\n                            &lt;thead&gt;\n                                &lt;tr&gt;\n                                    &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt;&lt;/th&gt;\n                                    &lt;th style=&quot;width: 35%&quot; scope=&quot;col&quot;&gt;URL&lt;/th&gt;\n                                    &lt;th style=&quot;width: 20%&quot; scope=&quot;col&quot;&gt;Username&lt;/th&gt;\n                                    &lt;th style=&quot;width: 25%&quot; scope=&quot;col&quot;&gt;Password&lt;/th&gt;\n                                &lt;/tr&gt;\n                            &lt;/thead&gt;\n                            &lt;tbody&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;btn btn-success&quot;&gt;Edit&lt;/button&gt;\n                                    &lt;a class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\n                                &lt;/td&gt;\n                                &lt;th scope=&quot;row&quot;&gt;Example Credential URL&lt;/th&gt;\n                                &lt;td&gt;Example Credential Username&lt;/td&gt;\n                                &lt;td&gt;Example Credential Password&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;modal fade&quot; id=&quot;credentialModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;credentialModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n                        &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n                            &lt;div class=&quot;modal-content&quot;&gt;\n                                &lt;div class=&quot;modal-header&quot;&gt;\n                                    &lt;h5 class=&quot;modal-title&quot; id=&quot;credentialModalLabel&quot;&gt;Credential&lt;/h5&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                                    &lt;/button&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;modal-body&quot;&gt;\n                                    &lt;form action=&quot;#&quot; method=&quot;POST&quot;&gt;\n                                        &lt;input type=&quot;hidden&quot; name=&quot;credentialId&quot; id=&quot;credential-id&quot;&gt;\n                                        &lt;div class=&quot;form-group&quot;&gt;\n                                            &lt;label for=&quot;credential-url&quot; class=&quot;col-form-label&quot;&gt;URL&lt;/label&gt;\n                                            &lt;input type=&quot;text&quot; name= &quot;url&quot; class=&quot;form-control&quot; id=&quot;credential-url&quot; maxlength=&quot;100&quot; required&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=&quot;form-group&quot;&gt;\n                                            &lt;label for=&quot;credential-username&quot; class=&quot;col-form-label&quot;&gt;Username&lt;/label&gt;\n                                            &lt;input type=&quot;text&quot; name= &quot;username&quot; class=&quot;form-control&quot; id=&quot;credential-username&quot; maxlength=&quot;30&quot; required&gt;\n                                        &lt;/div&gt;\n                                        &lt;div class=&quot;form-group&quot;&gt;\n                                            &lt;label for=&quot;credential-password&quot; class=&quot;col-form-label&quot;&gt;Password&lt;/label&gt;\n                                            &lt;input type=&quot;text&quot; name= &quot;password&quot; class=&quot;form-control&quot; id=&quot;credential-password&quot; maxlength=&quot;30&quot; required&gt;\n                                        &lt;/div&gt;\n                                        &lt;button id=&quot;credentialSubmit&quot; type=&quot;submit&quot; class=&quot;d-none&quot;&gt;&lt;/button&gt;\n                                    &lt;/form&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;modal-footer&quot;&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                                    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;$('#credentialSubmit').click();&quot;&gt;Save changes&lt;/button&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script th:src=&quot;@{/js/jquery-slim.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/js/popper.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n    &lt;!--For opening the note modal--&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        // For opening the note modal\n        function showNoteModal(noteId, noteTitle, noteDescription) {\n            $('#note-id').val(noteId ? noteId : '');\n            $('#note-title').val(noteTitle ? noteTitle : '');\n            $('#note-description').val(noteDescription ? noteDescription : '');\n            $('#noteModal').modal('show');\n        }\n\n        // For opening the credentials modal\n        function showCredentialModal(credentialId, url, username, password) {\n            $('#credential-id').val(credentialId ? credentialId : '');\n            $('#credential-url').val(url ? url : '');\n            $('#credential-username').val(username ? username : '');\n            $('#credential-password').val(password ? password : '');\n            $('#credentialModal').modal('show');\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n`\n<p>The login controller endpoint method has no issue returning the html template using the exact same structure and syntax:</p>\n<pre><code>       @GetMapping\n       public String getHomePage() {\n        return &quot;home&quot;;\n         }\n</code></pre>\n<p>I tried debugging the issue and I tried comparing against other online resources that seem to indicate there is nothing wrong with my code.</p>\n"},{"tags":["java","android"],"owner":{"account_id":25207917,"reputation":3,"user_id":20633669,"display_name":"Levon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678275836,"creation_date":1678272494,"question_id":75672040,"body_markdown":"I&#39;m trying to make a background music for my app.\r\n\r\nHere is the code:\r\n\r\nglobal variables\r\n\r\n```\r\nprivate SoundPool soundPool;\r\nprivate int Music;\r\n```\r\n\r\nonCreate\r\n\r\n```\r\n\r\n        AudioAttributes audioAttributes = new AudioAttributes.Builder()\r\n                .setUsage(AudioAttributes.USAGE_GAME)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build();\r\n\r\n        soundPool = new SoundPool.Builder()\r\n                .setMaxStreams(6)\r\n                .setAudioAttributes(audioAttributes)\r\n                .build();\r\n        Music = soundPool.load(this, R.raw.test, 1);\r\n        int BackMusicId = soundPool.play(Music, 1, 1, 0, 0, 1);\r\n```\r\n\r\nThe BackMusicId returns 0 which means that it failed and there is no music in app. Also, I&#39;ve tried to change the attributes to other ones or even not use them at all, but it changed nothing. It does not show any error in logcat.","title":"android sounpool class is not does not play any sound","body":"<p>I'm trying to make a background music for my app.</p>\n<p>Here is the code:</p>\n<p>global variables</p>\n<pre><code>private SoundPool soundPool;\nprivate int Music;\n</code></pre>\n<p>onCreate</p>\n<pre><code>\n        AudioAttributes audioAttributes = new AudioAttributes.Builder()\n                .setUsage(AudioAttributes.USAGE_GAME)\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                .build();\n\n        soundPool = new SoundPool.Builder()\n                .setMaxStreams(6)\n                .setAudioAttributes(audioAttributes)\n                .build();\n        Music = soundPool.load(this, R.raw.test, 1);\n        int BackMusicId = soundPool.play(Music, 1, 1, 0, 0, 1);\n</code></pre>\n<p>The BackMusicId returns 0 which means that it failed and there is no music in app. Also, I've tried to change the attributes to other ones or even not use them at all, but it changed nothing. It does not show any error in logcat.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678275672,"creation_date":1678275206,"answer_id":75672486,"question_id":75671551,"body_markdown":"In `[value.expression!=null]*` , `value.expression` for termsHtrimSolarMotor is an empty array and therefore it is not null.\r\n\r\nPlease try `[isText(value.expression)]*`","title":"JSON Evaluation issue with JSON Array","body":"<p>In <code>[value.expression!=null]*</code> , <code>value.expression</code> for termsHtrimSolarMotor is an empty array and therefore it is not null.</p>\n<p>Please try <code>[isText(value.expression)]*</code></p>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75672486,"answer_count":1,"score":0,"last_activity_date":1678275672,"creation_date":1678269250,"question_id":75671551,"body_markdown":"We are using JSON library https://github.com/octomix/josson\r\n\r\nAlso Refer issue and answer on https://stackoverflow.com/questions/75563953/evaluate-json-object-recursively\r\n\r\nMy sample JSON\r\n```\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;A&quot;: &quot;717.5&quot;,\r\n    &quot;B&quot;: {\r\n      &quot;expression&quot;: &quot;calc(205+42*A,A:$.selectedPump.stg)&quot;\r\n    },\r\n    &quot;E&quot;: {\r\n      &quot;expression&quot;: &quot;calc(A+B)&quot;\r\n    },\r\n    &quot;D&quot;: &quot;96&quot;,\r\n    &quot;D1&quot;: &quot;96&quot;,\r\n    &quot;MotorWt&quot;: &quot;28.5&quot;\r\n  },\r\n  &quot;selectedPump&quot;: {\r\n    &quot;termsHtrimSolarMotor&quot;: [\r\n      -7.372112927801618,\r\n      8.837084474924652,\r\n      -1.1152401096382207\r\n    ],\r\n    &quot;overallEffEq&quot;: &quot;[-0.0013252914566755647, 0.10052143733055335, -0.005975385931287854]&quot;,\r\n    &quot;stg&quot;:1\r\n  }\r\n}\r\n```\r\n\r\nJAVA Code to calculate only when the formula is given in &quot;expression&quot;\r\n```\r\nString json=&quot;{\\&quot;data\\&quot;:{\\&quot;A\\&quot;:\\&quot;717.5\\&quot;,\\&quot;B\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(205+42*A,A:$.selectedPump.stg)\\&quot;},\\&quot;E\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(A+B)\\&quot;},\\&quot;D\\&quot;:\\&quot;96\\&quot;,\\&quot;D1\\&quot;:\\&quot;96\\&quot;,\\&quot;MotorWt\\&quot;:\\&quot;28.5\\&quot;},\\&quot;selectedPump\\&quot;:{\\&quot;termsHtrimSolarMotor\\&quot;:[-7.372112927801618,8.837084474924652,-1.1152401096382207],\\&quot;overallEffEq\\&quot;:\\&quot;[-0.0013252914566755647,0.10052143733055335,-0.005975385931287854]\\&quot;,\\&quot;stg\\&quot;:1}}&quot;;\r\n\t\t\r\n\t\tJosson josson = Josson.fromJsonString(json);\r\n\t\t\r\n\t\tString expression = josson.getString(\r\n\t\t\t    &quot;entries()&quot; +\r\n\t\t\t    &quot;.concat(&#39;field(&#39;,&quot; +\r\n\t\t\t    &quot;        key,&quot; +\r\n\t\t\t    &quot;        value.entries()&quot; +\r\n\t\t\t    &quot;             .[value.expression!=null]*&quot; +\r\n\t\t\t    &quot;             .concat(&#39;.field(&#39;,key,&#39;: eval(&#39;,key,&#39;.expression))&#39;)&quot; +\r\n\t\t\t    &quot;             .join(),&quot; +\r\n\t\t\t    &quot;        &#39;)&#39;)&quot; +\r\n\t\t\t    &quot;.join(&#39;.&#39;)&quot;);\r\n\t\t\tSystem.out.println(expression);\r\n\t\t\t\r\n\t\t\tJsonNode node=josson.getNode(expression);\r\n\t\t\tSystem.out.println(node.toString());\r\n```\r\n\r\nOutput\r\n\r\n```\r\n\r\nfield(data.field(B: eval(B.expression)).field(E: eval(E.expression))).field(selectedPump.field(termsHtrimSolarMotor: eval(termsHtrimSolarMotor.expression)))\r\n\r\n\r\n{&quot;data&quot;:{&quot;A&quot;:&quot;717.5&quot;,&quot;B&quot;:247.0,&quot;E&quot;:964.5,&quot;D&quot;:&quot;96&quot;,&quot;D1&quot;:&quot;96&quot;,&quot;MotorWt&quot;:&quot;28.5&quot;},&quot;selectedPump&quot;:{&quot;termsHtrimSolarMotor&quot;:[],&quot;overallEffEq&quot;:&quot;[-0.0013252914566755647,0.10052143733055335,-0.005975385931287854]&quot;,&quot;stg&quot;:1}}\r\n```\r\n\r\nhere the key &quot;termsHtrimSolarMotor&quot; which is a array is evaluated even if it doesn&#39;t have expression and give empty array in result\r\n**&quot;termsHtrimSolarMotor&quot;:[]**\r\n\r\nThanks\r\nPranav","title":"JSON Evaluation issue with JSON Array","body":"<p>We are using JSON library <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Also Refer issue and answer on <a href=\"https://stackoverflow.com/questions/75563953/evaluate-json-object-recursively\">Evaluate JSON Object recursively</a></p>\n<p>My sample JSON</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;A&quot;: &quot;717.5&quot;,\n    &quot;B&quot;: {\n      &quot;expression&quot;: &quot;calc(205+42*A,A:$.selectedPump.stg)&quot;\n    },\n    &quot;E&quot;: {\n      &quot;expression&quot;: &quot;calc(A+B)&quot;\n    },\n    &quot;D&quot;: &quot;96&quot;,\n    &quot;D1&quot;: &quot;96&quot;,\n    &quot;MotorWt&quot;: &quot;28.5&quot;\n  },\n  &quot;selectedPump&quot;: {\n    &quot;termsHtrimSolarMotor&quot;: [\n      -7.372112927801618,\n      8.837084474924652,\n      -1.1152401096382207\n    ],\n    &quot;overallEffEq&quot;: &quot;[-0.0013252914566755647, 0.10052143733055335, -0.005975385931287854]&quot;,\n    &quot;stg&quot;:1\n  }\n}\n</code></pre>\n<p>JAVA Code to calculate only when the formula is given in &quot;expression&quot;</p>\n<pre><code>String json=&quot;{\\&quot;data\\&quot;:{\\&quot;A\\&quot;:\\&quot;717.5\\&quot;,\\&quot;B\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(205+42*A,A:$.selectedPump.stg)\\&quot;},\\&quot;E\\&quot;:{\\&quot;expression\\&quot;:\\&quot;calc(A+B)\\&quot;},\\&quot;D\\&quot;:\\&quot;96\\&quot;,\\&quot;D1\\&quot;:\\&quot;96\\&quot;,\\&quot;MotorWt\\&quot;:\\&quot;28.5\\&quot;},\\&quot;selectedPump\\&quot;:{\\&quot;termsHtrimSolarMotor\\&quot;:[-7.372112927801618,8.837084474924652,-1.1152401096382207],\\&quot;overallEffEq\\&quot;:\\&quot;[-0.0013252914566755647,0.10052143733055335,-0.005975385931287854]\\&quot;,\\&quot;stg\\&quot;:1}}&quot;;\n        \n        Josson josson = Josson.fromJsonString(json);\n        \n        String expression = josson.getString(\n                &quot;entries()&quot; +\n                &quot;.concat('field(',&quot; +\n                &quot;        key,&quot; +\n                &quot;        value.entries()&quot; +\n                &quot;             .[value.expression!=null]*&quot; +\n                &quot;             .concat('.field(',key,': eval(',key,'.expression))')&quot; +\n                &quot;             .join(),&quot; +\n                &quot;        ')')&quot; +\n                &quot;.join('.')&quot;);\n            System.out.println(expression);\n            \n            JsonNode node=josson.getNode(expression);\n            System.out.println(node.toString());\n</code></pre>\n<p>Output</p>\n<pre><code>\nfield(data.field(B: eval(B.expression)).field(E: eval(E.expression))).field(selectedPump.field(termsHtrimSolarMotor: eval(termsHtrimSolarMotor.expression)))\n\n\n{&quot;data&quot;:{&quot;A&quot;:&quot;717.5&quot;,&quot;B&quot;:247.0,&quot;E&quot;:964.5,&quot;D&quot;:&quot;96&quot;,&quot;D1&quot;:&quot;96&quot;,&quot;MotorWt&quot;:&quot;28.5&quot;},&quot;selectedPump&quot;:{&quot;termsHtrimSolarMotor&quot;:[],&quot;overallEffEq&quot;:&quot;[-0.0013252914566755647,0.10052143733055335,-0.005975385931287854]&quot;,&quot;stg&quot;:1}}\n</code></pre>\n<p>here the key &quot;termsHtrimSolarMotor&quot; which is a array is evaluated even if it doesn't have expression and give empty array in result\n<strong>&quot;termsHtrimSolarMotor&quot;:[]</strong></p>\n<p>Thanks\nPranav</p>\n"},{"tags":["java","web-services","apache-camel","cxf","httpurlconnection"],"comments":[{"owner":{"account_id":5170906,"reputation":2215,"user_id":4139442,"accept_rate":50,"display_name":"Vijendra Kumar Kulhade"},"score":0,"creation_date":1474928897,"post_id":39505258,"comment_id":66724745,"body_markdown":"Did you try setting the connectionTimeout?","body":"Did you try setting the connectionTimeout?"},{"owner":{"account_id":4576054,"reputation":2150,"user_id":3714465,"accept_rate":27,"display_name":"Gnana"},"score":0,"creation_date":1494285637,"post_id":39505258,"comment_id":74753004,"body_markdown":"Did u get answer for this. I am also facing the same. please let me know if you find solution for this. thansk","body":"Did u get answer for this. I am also facing the same. please let me know if you find solution for this. thansk"}],"answers":[{"tags":[],"owner":{"account_id":25967173,"reputation":61,"user_id":19682964,"display_name":"Carl Hyslop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678275621,"creation_date":1678275621,"answer_id":75672565,"question_id":39505258,"body_markdown":"There is, but only in Java 19 and higher.  If you can upgrade from Java 8 to Java 19, you can do this, to set the keep-alive time to 3 minutes:\r\n\r\n\tSystem.setProperty(&quot;http.keepAlive.time.server&quot;, &quot;180&quot;);","title":"Keep-Alive timeout in Apache CXF","body":"<p>There is, but only in Java 19 and higher.  If you can upgrade from Java 8 to Java 19, you can do this, to set the keep-alive time to 3 minutes:</p>\n<pre><code>System.setProperty(&quot;http.keepAlive.time.server&quot;, &quot;180&quot;);\n</code></pre>\n"}],"owner":{"account_id":5343764,"reputation":177,"user_id":4259881,"accept_rate":20,"display_name":"Nitesh Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1276,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678275621,"creation_date":1473924332,"question_id":39505258,"body_markdown":"I&#39;m using Apache CXF 3.0.6 and Java 8\r\n\r\nI know that CXF relies on HttpURLConnection - http://java.sun.com/javase/6/docs/technotes/guides/net/http-keepalive.html\r\n\r\nI want to achieve http connection persistent on CXF endpoint, so i defined system property  http.maxConnections = 20, and keep-alive as true,\r\n\r\nmax connection works as expected and so as keep-alive, but the keep-alive times out within 5seconds, and then new socket is created to serve another request.\r\n\r\nIs there any way to increase keep-alive **timeout** or is there any way to set  **MaxKeepAliveRequests** so that the socket will remain ESTABLISHED to serve request during this timeout ?\r\n\r\nas HttpURLConnection doesn&#39;t have any method to set keep-alive timeout !","title":"Keep-Alive timeout in Apache CXF","body":"<p>I'm using Apache CXF 3.0.6 and Java 8</p>\n\n<p>I know that CXF relies on HttpURLConnection - <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/net/http-keepalive.html\" rel=\"nofollow\">http://java.sun.com/javase/6/docs/technotes/guides/net/http-keepalive.html</a></p>\n\n<p>I want to achieve http connection persistent on CXF endpoint, so i defined system property  http.maxConnections = 20, and keep-alive as true,</p>\n\n<p>max connection works as expected and so as keep-alive, but the keep-alive times out within 5seconds, and then new socket is created to serve another request.</p>\n\n<p>Is there any way to increase keep-alive <strong>timeout</strong> or is there any way to set  <strong>MaxKeepAliveRequests</strong> so that the socket will remain ESTABLISHED to serve request during this timeout ?</p>\n\n<p>as HttpURLConnection doesn't have any method to set keep-alive timeout !</p>\n"},{"tags":["java","jsp","taglib"],"answers":[{"tags":[],"owner":{"account_id":4701263,"reputation":479,"user_id":3804769,"accept_rate":25,"display_name":"user3804769"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678275168,"creation_date":1678275168,"answer_id":75672480,"question_id":75670701,"body_markdown":"I think I found a way around it:\r\n\r\n    ExpressionFactory factory = JspFactory.getDefaultFactory().getJspApplicationContext(pageContext.getServletContext()).getExpressionFactory();\r\n    ValueExpression valueExp = factory.createValueExpression(pageContext.getELContext(), &quot;${&quot;+getDetail()+&quot;}&quot;, Detail.class);\r\n    dettaglio = (Detail) valueExp.getValue(pageContext.getELContext());\r\n\r\nwhere &quot;detail&quot; is the attribute in my JSP Page. The only difference is that I had to simply write the name of the variable to parse in the JSP instead of using the ${} notation.","title":"jsp - how to substitute deprecated ExpressionEvaluator","body":"<p>I think I found a way around it:</p>\n<pre><code>ExpressionFactory factory = JspFactory.getDefaultFactory().getJspApplicationContext(pageContext.getServletContext()).getExpressionFactory();\nValueExpression valueExp = factory.createValueExpression(pageContext.getELContext(), &quot;${&quot;+getDetail()+&quot;}&quot;, Detail.class);\ndettaglio = (Detail) valueExp.getValue(pageContext.getELContext());\n</code></pre>\n<p>where &quot;detail&quot; is the attribute in my JSP Page. The only difference is that I had to simply write the name of the variable to parse in the JSP instead of using the ${} notation.</p>\n"}],"owner":{"account_id":4701263,"reputation":479,"user_id":3804769,"accept_rate":25,"display_name":"user3804769"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75672480,"answer_count":1,"score":0,"last_activity_date":1678275168,"creation_date":1678263566,"question_id":75670701,"body_markdown":"I am porting an application to JBoss EAP 7.4 that still uses JSP. Most of the pages work fine but a page is giving me trouble. The page uses a custom TLD definition which is linked to a class, which extends `javax.servlet.jsp.tagext.TagSupport`; this class throws an IllegalArgumentException at this point in the doEndTag() method because it can&#39;t convert String to Detail:\r\n\r\n\tExpressionEvaluator eval = pageContext.getExpressionEvaluator();\r\n    Object ob = eval.evaluate(detail, Detail.class, pageContext.getVariableResolver(), new FunctionMapper(){public Method resolveFunction(String arg0, String arg1){return null;}}); //Crashes here\r\n\tdettaglio = (Detail)ob; //does not reach this\r\n\r\n\r\nIn my dependencies I have javax.servlet-api version 3.0.1 (scope=provided) and I let JBoss handle the rest of the dependencies.\r\n\r\nNow this ExpressionEvaluator has been deprecated:\r\n\r\n    Deprecated. As of JSP 2.1, replaced by ExpressionFactory \r\n\r\n\r\nExpressionFactory is abstract and does NOT provide an &quot;eval&quot; method, so I don&#39;t know how to replace it. How should it be replaced?  How can I fix this error?\r\n\r\nThank you.","title":"jsp - how to substitute deprecated ExpressionEvaluator","body":"<p>I am porting an application to JBoss EAP 7.4 that still uses JSP. Most of the pages work fine but a page is giving me trouble. The page uses a custom TLD definition which is linked to a class, which extends <code>javax.servlet.jsp.tagext.TagSupport</code>; this class throws an IllegalArgumentException at this point in the doEndTag() method because it can't convert String to Detail:</p>\n<pre><code>ExpressionEvaluator eval = pageContext.getExpressionEvaluator();\nObject ob = eval.evaluate(detail, Detail.class, pageContext.getVariableResolver(), new FunctionMapper(){public Method resolveFunction(String arg0, String arg1){return null;}}); //Crashes here\ndettaglio = (Detail)ob; //does not reach this\n</code></pre>\n<p>In my dependencies I have javax.servlet-api version 3.0.1 (scope=provided) and I let JBoss handle the rest of the dependencies.</p>\n<p>Now this ExpressionEvaluator has been deprecated:</p>\n<pre><code>Deprecated. As of JSP 2.1, replaced by ExpressionFactory \n</code></pre>\n<p>ExpressionFactory is abstract and does NOT provide an &quot;eval&quot; method, so I don't know how to replace it. How should it be replaced?  How can I fix this error?</p>\n<p>Thank you.</p>\n"},{"tags":["java","ubuntu","intellij-idea"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1678273514,"post_id":75671972,"comment_id":133499579,"body_markdown":"(1) If the log directory is `/logs`,  you must create it first( use `sudo mkdir /logs`m then `sudo chown $USER:$USER /logs`, then it will OK. (2) But I guess your log config is set wrong directory. try set it to `${catalina.base}/logs`","body":"(1) If the log directory is <code>&#47;logs</code>,  you must create it first( use <code>sudo mkdir &#47;logs</code>m then <code>sudo chown $USER:$USER &#47;logs</code>, then it will OK. (2) But I guess your log config is set wrong directory. try set it to <code>${catalina.base}&#47;logs</code>"},{"owner":{"account_id":15896183,"reputation":1,"user_id":11469925,"display_name":"miguel Guerreiro"},"score":0,"creation_date":1678278144,"post_id":75671972,"comment_id":133500729,"body_markdown":"Nop did not work for me :C","body":"Nop did not work for me :C"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678279342,"post_id":75671972,"comment_id":133501079,"body_markdown":"(1) please show your config file. (2) is this a web application ? or spring boot application ?  (3) or just find &#39;/logs&#39; , and change it  to `logs`. do not include `/`","body":"(1) please show your config file. (2) is this a web application ? or spring boot application ?  (3) or just find &#39;/logs&#39; , and change it  to <code>logs</code>. do not include <code>&#47;</code>"},{"owner":{"account_id":15896183,"reputation":1,"user_id":11469925,"display_name":"miguel Guerreiro"},"score":0,"creation_date":1678289910,"post_id":75671972,"comment_id":133504517,"body_markdown":"ok @life888888 that tweak worked, altough it led me to a different problem, but thanks for that.","body":"ok @life888888 that tweak worked, altough it led me to a different problem, but thanks for that."}],"owner":{"account_id":15896183,"reputation":1,"user_id":11469925,"display_name":"miguel Guerreiro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678275140,"creation_date":1678272041,"question_id":75671972,"body_markdown":"I&#39;m having a weird error.\r\n\r\nI&#39;m running IntelliJ in Ubuntu\r\n\r\n```\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.IllegalStateException: Unable to create the directory [/logs] to use as the base directory\r\n```\r\n\r\nEven tough the Logs directory is being properly generated.\r\n\r\nIt seems like tomcat cannot access that directory. Any ideas?\r\n\r\nAlready did a fresh installation and started a new repo of the project.","title":"IntelliJ not creating directory in Ubuntu","body":"<p>I'm having a weird error.</p>\n<p>I'm running IntelliJ in Ubuntu</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.IllegalStateException: Unable to create the directory [/logs] to use as the base directory\n</code></pre>\n<p>Even tough the Logs directory is being properly generated.</p>\n<p>It seems like tomcat cannot access that directory. Any ideas?</p>\n<p>Already did a fresh installation and started a new repo of the project.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647880984,"creation_date":1647880984,"answer_id":71561119,"question_id":71560566,"body_markdown":"To learn about the Amazon DynamoDB Java API, refer to the [AWS Java Developer Guide][1]. To work with paginated results (when the response object is too large to return in a single response), it best practice to use **AWS SDK for Java V2**.\r\n\r\nIn the **AWS SDK for Java 1.0**, the response contained a token you had to use to retrieve the next page of results. New in the **AWS SDK for Java 2.x** are autopagination methods that make multiple service calls to get the next page of results for you automatically. \r\n\r\nFor more information, see this doc topic in the Java V2 DEV Guide: \r\n\r\n[Retrieving paginated results using the AWS SDK for Java 2.x][2]\r\n\r\nTo see code examples that use DynamoDB Java  V2 and pagnation, see:\r\n\r\n[https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java][3]\r\n \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java","title":"How to use pagination in Amazon DynamoDB using the AWS SDK for Java","body":"<p>To learn about the Amazon DynamoDB Java API, refer to the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS Java Developer Guide</a>. To work with paginated results (when the response object is too large to return in a single response), it best practice to use <strong>AWS SDK for Java V2</strong>.</p>\n<p>In the <strong>AWS SDK for Java 1.0</strong>, the response contained a token you had to use to retrieve the next page of results. New in the <strong>AWS SDK for Java 2.x</strong> are autopagination methods that make multiple service calls to get the next page of results for you automatically.</p>\n<p>For more information, see this doc topic in the Java V2 DEV Guide:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/pagination.html\" rel=\"nofollow noreferrer\">Retrieving paginated results using the AWS SDK for Java 2.x</a></p>\n<p>To see code examples that use DynamoDB Java  V2 and pagnation, see:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/dynamodbasync/src/main/java/com/example/dynamodbasync/AsyncPagination.java</a></p>\n"},{"tags":[],"owner":{"account_id":18127008,"reputation":103,"user_id":13182452,"display_name":"Petro Prydorozhnyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678275091,"creation_date":1678275091,"answer_id":75672461,"question_id":71560566,"body_markdown":"There is no fully native way to have pagination with page number using DynamoDB. Mainly because of distributed nature of DynamoDB - tables are stored in multiple partitions (mb even in multiple servers). Also, in DynamoDB, each record you retrieve from a query has a direct cost, so I bet you don&#39;t want to run something something similar to count query.\r\n\r\nBut if you want to achieve something like infinite scroll or &quot;Show more effect&quot; there is a way to do that. Following example is actual for **AWS Java SDK v2 2.20.7**. the example shows **Enhanced Client** usage.\r\n\r\n\r\n**Model:**\r\n\r\n    @Data\r\n    @DynamoDbBean\r\n    @FieldNameConstants\r\n    public class Event {\r\n    \r\n      @Getter(onMethod_ = {@DynamoDbPartitionKey})\r\n      private String id;\r\n      private String name;\r\n      private String description;\r\n      @Getter(onMethod_ = {@DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_CREATOR&quot;)})\r\n      private String creatorId;\r\n      @Getter(onMethod_ = {@DynamoDbAutoGeneratedTimestampAttribute})\r\n      private Instant updatedAt;\r\n    }\r\n\r\nPagination example is provided in the form of **JUnit 5** test.\r\n\r\n**Data preparation** using [Easy Random lib][1]:\r\n\r\n     private static final TableSchema&lt;Event&gt; TABLE_SCHEMA = TableSchema.fromBean(Event.class);\r\n    \r\n      private static final String EVENT_TABLE_NAME = &quot;events-table&quot;;\r\n      private static final String CREATOR = UUID.randomUUID().toString();\r\n\r\n      @BeforeEach\r\n      public void initDataModel() {\r\n    \r\n        final var eventFileDynamoDbTable = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\r\n    \r\n        final var factory = new EasyRandom();\r\n    \r\n        event1 = factory.nextObject(Event.class);\r\n        event1.setCreatorId(CREATOR);\r\n    \r\n        eventFileDynamoDbTable.putItem(event1);\r\n    \r\n        event2 = factory.nextObject(Event.class);\r\n        event2.setCreatorId(CREATOR);\r\n    \r\n        eventFileDynamoDbTable.putItem(event2);\r\n      }\r\n    \r\n      @AfterEach\r\n      public void cleanUp() {\r\n        final var table = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\r\n    \r\n        table.deleteItem(event1);\r\n        table.deleteItem(event2);\r\n      }\r\n\r\n\r\n\r\n**Actual pagination process:**\r\n\r\n      @Test\r\n      void testSecondaryIndexSearch() {\r\n    \r\n        final var table = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\r\n    \r\n        // Use global secondary index\r\n        final var secIndex = table.index(&quot;GSI_CREATOR&quot;);\r\n    \r\n        // Create a QueryConditional object that&#39;s used in the query operation.\r\n        final var queryConditional = QueryConditional\r\n            .keyEqualTo(Key.builder().partitionValue(event1.getCreatorId()).build());\r\n    \r\n        // Get items in the table with limit 1\r\n        SdkIterable&lt;Page&lt;Event&gt;&gt; pages = secIndex.query(QueryEnhancedRequest.builder()\r\n            .queryConditional(queryConditional)\r\n            .limit(1)\r\n            .build());\r\n        \r\n        Page&lt;Event&gt; next = pages.iterator().next();\r\n    \r\n        assertEquals(1, next.items().size());\r\n    \r\n        // retrieve last processed key. this cursor can be passed to a client. \r\n        // so, it will be able to retrieve data from where it left off in the next query\r\n        final var cursor = next.lastEvaluatedKey();\r\n    \r\n        assertNotNull(cursor);\r\n    \r\n        // Get items in the table with limit 1 using cursor\r\n        // in real world case cursor will be received from the client\r\n        SdkIterable&lt;Page&lt;Event&gt;&gt; newPages = secIndex.query(QueryEnhancedRequest.builder()\r\n            .queryConditional(queryConditional)\r\n            .limit(2) // trying to fetch more then we have\r\n            .exclusiveStartKey(cursor)\r\n            .build());\r\n        Page&lt;Event&gt; nextWithLast = newPages.iterator().next();\r\n    \r\n        assertEquals(1, nextWithLast.items().size());\r\n    \r\n        final var cursorLast = nextWithLast.lastEvaluatedKey();\r\n    \r\n        // there is no more data to check. so, it&#39;s the end of &quot;pagination&quot;\r\n        assertNull(cursorLast);\r\n      }\r\n\r\n**Notices and in conclusion:**\r\n\r\n*LastEvaluatedKey* is a basically Primary Key of the record where a Query  operation finished for now and returned as the last value of the result set. In this case - *id* and *creatorID* \r\n\r\n*LastEvaluatedKey* is returned on two conditions:\r\n\r\n - Query results have hit the upper [limit][2] (e.g., DynamoDB Query operation divides the data into 1MB of size).\r\n - If you have specified a limit by adding the Limit parameter in the query, it returns a dataset with more records remaining to evaluate for the next page.\r\n\r\nTherefore, continuous pagination (infinite scrolling) can be implemented in the such way.\r\n\r\n\r\n  [1]: https://github.com/j-easy/easy-random\r\n  [2]: https://dynobase.dev/dynamodb-limits/","title":"How to use pagination in Amazon DynamoDB using the AWS SDK for Java","body":"<p>There is no fully native way to have pagination with page number using DynamoDB. Mainly because of distributed nature of DynamoDB - tables are stored in multiple partitions (mb even in multiple servers). Also, in DynamoDB, each record you retrieve from a query has a direct cost, so I bet you don't want to run something something similar to count query.</p>\n<p>But if you want to achieve something like infinite scroll or &quot;Show more effect&quot; there is a way to do that. Following example is actual for <strong>AWS Java SDK v2 2.20.7</strong>. the example shows <strong>Enhanced Client</strong> usage.</p>\n<p><strong>Model:</strong></p>\n<pre><code>@Data\n@DynamoDbBean\n@FieldNameConstants\npublic class Event {\n\n  @Getter(onMethod_ = {@DynamoDbPartitionKey})\n  private String id;\n  private String name;\n  private String description;\n  @Getter(onMethod_ = {@DynamoDbSecondaryPartitionKey(indexNames = &quot;GSI_CREATOR&quot;)})\n  private String creatorId;\n  @Getter(onMethod_ = {@DynamoDbAutoGeneratedTimestampAttribute})\n  private Instant updatedAt;\n}\n</code></pre>\n<p>Pagination example is provided in the form of <strong>JUnit 5</strong> test.</p>\n<p><strong>Data preparation</strong> using <a href=\"https://github.com/j-easy/easy-random\" rel=\"nofollow noreferrer\">Easy Random lib</a>:</p>\n<pre><code> private static final TableSchema&lt;Event&gt; TABLE_SCHEMA = TableSchema.fromBean(Event.class);\n\n  private static final String EVENT_TABLE_NAME = &quot;events-table&quot;;\n  private static final String CREATOR = UUID.randomUUID().toString();\n\n  @BeforeEach\n  public void initDataModel() {\n\n    final var eventFileDynamoDbTable = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\n\n    final var factory = new EasyRandom();\n\n    event1 = factory.nextObject(Event.class);\n    event1.setCreatorId(CREATOR);\n\n    eventFileDynamoDbTable.putItem(event1);\n\n    event2 = factory.nextObject(Event.class);\n    event2.setCreatorId(CREATOR);\n\n    eventFileDynamoDbTable.putItem(event2);\n  }\n\n  @AfterEach\n  public void cleanUp() {\n    final var table = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\n\n    table.deleteItem(event1);\n    table.deleteItem(event2);\n  }\n</code></pre>\n<p><strong>Actual pagination process:</strong></p>\n<pre><code>  @Test\n  void testSecondaryIndexSearch() {\n\n    final var table = enhancedClient.table(EVENT_TABLE_NAME, TABLE_SCHEMA);\n\n    // Use global secondary index\n    final var secIndex = table.index(&quot;GSI_CREATOR&quot;);\n\n    // Create a QueryConditional object that's used in the query operation.\n    final var queryConditional = QueryConditional\n        .keyEqualTo(Key.builder().partitionValue(event1.getCreatorId()).build());\n\n    // Get items in the table with limit 1\n    SdkIterable&lt;Page&lt;Event&gt;&gt; pages = secIndex.query(QueryEnhancedRequest.builder()\n        .queryConditional(queryConditional)\n        .limit(1)\n        .build());\n    \n    Page&lt;Event&gt; next = pages.iterator().next();\n\n    assertEquals(1, next.items().size());\n\n    // retrieve last processed key. this cursor can be passed to a client. \n    // so, it will be able to retrieve data from where it left off in the next query\n    final var cursor = next.lastEvaluatedKey();\n\n    assertNotNull(cursor);\n\n    // Get items in the table with limit 1 using cursor\n    // in real world case cursor will be received from the client\n    SdkIterable&lt;Page&lt;Event&gt;&gt; newPages = secIndex.query(QueryEnhancedRequest.builder()\n        .queryConditional(queryConditional)\n        .limit(2) // trying to fetch more then we have\n        .exclusiveStartKey(cursor)\n        .build());\n    Page&lt;Event&gt; nextWithLast = newPages.iterator().next();\n\n    assertEquals(1, nextWithLast.items().size());\n\n    final var cursorLast = nextWithLast.lastEvaluatedKey();\n\n    // there is no more data to check. so, it's the end of &quot;pagination&quot;\n    assertNull(cursorLast);\n  }\n</code></pre>\n<p><strong>Notices and in conclusion:</strong></p>\n<p><em>LastEvaluatedKey</em> is a basically Primary Key of the record where a Query  operation finished for now and returned as the last value of the result set. In this case - <em>id</em> and <em>creatorID</em></p>\n<p><em>LastEvaluatedKey</em> is returned on two conditions:</p>\n<ul>\n<li>Query results have hit the upper <a href=\"https://dynobase.dev/dynamodb-limits/\" rel=\"nofollow noreferrer\">limit</a> (e.g., DynamoDB Query operation divides the data into 1MB of size).</li>\n<li>If you have specified a limit by adding the Limit parameter in the query, it returns a dataset with more records remaining to evaluate for the next page.</li>\n</ul>\n<p>Therefore, continuous pagination (infinite scrolling) can be implemented in the such way.</p>\n"}],"owner":{"account_id":2807605,"reputation":587,"user_id":2414526,"display_name":"OneNoOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6517,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71561119,"answer_count":2,"score":4,"last_activity_date":1678275091,"creation_date":1647878531,"question_id":71560566,"body_markdown":"According to [this documentation from AWS](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html), it is possible to make paginated queries on Amazon DynamoDB, but It doesn&#39;t provide any example about how to do it. It only says to use the iterator method, that I found on `PaginatedQueryList` after using `DynamoDBMapper.query()`.\r\n\r\nCould anyone explain how does it work, how to use it correctly and if it really worth using it when you don&#39;t want to retrieve all results at once from dynamoDB, like the scan opeation does?\r\n\r\n","title":"How to use pagination in Amazon DynamoDB using the AWS SDK for Java","body":"<p>According to <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html\" rel=\"nofollow noreferrer\">this documentation from AWS</a>, it is possible to make paginated queries on Amazon DynamoDB, but It doesn't provide any example about how to do it. It only says to use the iterator method, that I found on <code>PaginatedQueryList</code> after using <code>DynamoDBMapper.query()</code>.</p>\n<p>Could anyone explain how does it work, how to use it correctly and if it really worth using it when you don't want to retrieve all results at once from dynamoDB, like the scan opeation does?</p>\n"},{"tags":["java","html","css","header"],"comments":[{"owner":{"account_id":23232395,"reputation":2271,"user_id":17322895,"display_name":"Lukas"},"score":0,"creation_date":1673101343,"post_id":75040896,"comment_id":132424354,"body_markdown":"and change `header.active` to just `active`","body":"and change <code>header.active</code> to just <code>active</code>"}],"answers":[{"tags":[],"owner":{"account_id":22639374,"reputation":1,"user_id":16815771,"display_name":"SAHIL NAZIR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678274902,"creation_date":1673101471,"answer_id":75041058,"question_id":75040896,"body_markdown":"There are some issues with your code syntax. Inside of the `.add()` and `.remove()` methods, you have to put the class name only. \r\n\r\nHere is the correct syntax:\r\n```javascript\r\nheader.classList.add(&#39;active&#39;);\r\n\r\nheader.classList.remove(&#39;active&#39;);\r\n```\r\n\r\n","title":"Changing Header Colour on Scroll","body":"<p>There are some issues with your code syntax. Inside of the <code>.add()</code> and <code>.remove()</code> methods, you have to put the class name only.</p>\n<p>Here is the correct syntax:</p>\n<pre class=\"lang-js prettyprint-override\"><code>header.classList.add('active');\n\nheader.classList.remove('active');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673101513,"creation_date":1673101513,"answer_id":75041067,"question_id":75040896,"body_markdown":"There are some issues\r\n\r\n1. addEventListener inside the event handler\r\n2. Too many body tags\r\n3. You change the header.active, you just need to change active\r\n4. You can toggle the active using the test, that is more elegant\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function changeRectangle() {\r\n      const header = document.getElementById(&#39;header&#39;);\r\n      var scrollValue = window.scrollY;\r\n      header.textContent = scrollValue; // for visual testing\r\n      header.classList.toggle(&#39;active&#39;,scrollValue &gt;= 150);\r\n    }\r\n    window.addEventListener(&#39;scroll&#39;, changeRectangle);\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    * {\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    .header.active {\r\n      background: #AA0000;\r\n      -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n      -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n    }\r\n\r\n    .header {\r\n      position: fixed;\r\n      height: 100px;\r\n      width: 100%;\r\n      z-index: 4;\r\n      top: 0px;\r\n      left: 0px;\r\n      padding: 0;\r\n      transition: all 1s;\r\n      right: 0px;\r\n      background-color: gray;\r\n    }\r\n\r\n    .lowerbackground {\r\n      height: 1000px;\r\n      width: 100%;\r\n      background: white;\r\n      position: absolute;\r\n      top: 5000px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div id=&quot;header&quot; class=&quot;header&quot;&gt;Header&lt;/div&gt;\r\n    &lt;div class=&quot;lowerbackground&quot;&gt;Lower&lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSuggested HTML\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;title&gt;Title is mandatory&lt;/title&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial scale=1.0&quot;&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;\r\n      &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n      &lt;div id=&quot;header&quot; class=&quot;header&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;lowerbackground&quot;&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Changing Header Colour on Scroll","body":"<p>There are some issues</p>\n<ol>\n<li>addEventListener inside the event handler</li>\n<li>Too many body tags</li>\n<li>You change the header.active, you just need to change active</li>\n<li>You can toggle the active using the test, that is more elegant</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeRectangle() {\n  const header = document.getElementById('header');\n  var scrollValue = window.scrollY;\n  header.textContent = scrollValue; // for visual testing\n  header.classList.toggle('active',scrollValue &gt;= 150);\n}\nwindow.addEventListener('scroll', changeRectangle);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\n  margin: 0;\n  padding: 0;\n}\n\n.header.active {\n  background: #AA0000;\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n  -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n}\n\n.header {\n  position: fixed;\n  height: 100px;\n  width: 100%;\n  z-index: 4;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  transition: all 1s;\n  right: 0px;\n  background-color: gray;\n}\n\n.lowerbackground {\n  height: 1000px;\n  width: 100%;\n  background: white;\n  position: absolute;\n  top: 5000px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"header\" class=\"header\"&gt;Header&lt;/div&gt;\n&lt;div class=\"lowerbackground\"&gt;Lower&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Suggested HTML</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Title is mandatory&lt;/title&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial scale=1.0&quot;&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;\n  &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=&quot;header&quot; class=&quot;header&quot;&gt;&lt;/div&gt;\n  &lt;div class=&quot;lowerbackground&quot;&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10125058,"reputation":36,"user_id":7480735,"display_name":"Saeed Mahmoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673115995,"creation_date":1673104354,"answer_id":75041414,"question_id":75040896,"body_markdown":"Probably these actions will solve your issue.\r\n\r\n1. First of all move ` window.addEventListener(&#39;scroll&#39;, changeRectangle);` out of function `changeRectangle`.\r\n\r\n2. Secondly, `header.active` is not a valid  class name when is added to the DOM by JS. Rename it to `active` and change it in JS and CSS files accordingly.\r\n\r\n3. Lastly, you have to set `!important` to background to give it high specificity\r\nto overwrite the background in `.header` class.\r\n\r\n**HTML tips**:\r\n 1. `html` element is good to have `lang` attribute. \r\n 2. Here are two `body` elements, which is not good.\r\n 3. `head` element should have `title` element inside.\r\n\r\n## Final code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function changeRectangle() {\r\n    \tconst header = document.getElementById(&#39;header&#39;);\r\n    \tvar scrollValue = window.scrollY;\r\n    \tif (scrollValue &lt; 150) {\r\n    \t\theader.classList.remove(&#39;active&#39;);\r\n    \t} else {\r\n    \t\theader.classList.add(&#39;active&#39;);\r\n    \t}\r\n    }\r\n\r\n    window.addEventListener(&#39;scroll&#39;, changeRectangle);\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    .active {\r\n        background: rgb(0, 0, 0) !important;\r\n        -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n        -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n    }\r\n\r\n    .header {\r\n        position: fixed;\r\n        height: 100px;\r\n        width: 100%;\r\n        z-index: 4;\r\n        top: 0px;\r\n        left: 0px;\r\n        padding: 0;\r\n        transition: all 1s;\r\n        right: 0px;\r\n        background-color: gray;\r\n    }\r\n\r\n    .lowerbackground {\r\n        height: 1000px;\r\n        width: 100%;\r\n        background: white;\r\n        position: absolute;\r\n        top: 5000px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    \t&lt;head&gt;\r\n    \t\t&lt;title&gt;home&lt;/title&gt;\r\n    \t\t&lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n    \t\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial scale=1.0&quot; /&gt;\r\n    \t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;\r\n    \t\t&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    \t&lt;/head&gt;\r\n\r\n    \t&lt;body&gt;\r\n    \t\t&lt;div id=&quot;header&quot; class=&quot;header&quot;&gt;&lt;/div&gt;\r\n        &lt;div class=&quot;lowerbackground&quot;&gt;&lt;/div&gt;\r\n    \t&lt;/body&gt;\r\n\r\n    \t&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Changing Header Colour on Scroll","body":"<p>Probably these actions will solve your issue.</p>\n<ol>\n<li><p>First of all move <code> window.addEventListener('scroll', changeRectangle);</code> out of function <code>changeRectangle</code>.</p>\n</li>\n<li><p>Secondly, <code>header.active</code> is not a valid  class name when is added to the DOM by JS. Rename it to <code>active</code> and change it in JS and CSS files accordingly.</p>\n</li>\n<li><p>Lastly, you have to set <code>!important</code> to background to give it high specificity\nto overwrite the background in <code>.header</code> class.</p>\n</li>\n</ol>\n<p><strong>HTML tips</strong>:</p>\n<ol>\n<li><code>html</code> element is good to have <code>lang</code> attribute.</li>\n<li>Here are two <code>body</code> elements, which is not good.</li>\n<li><code>head</code> element should have <code>title</code> element inside.</li>\n</ol>\n<h2>Final code</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeRectangle() {\n    const header = document.getElementById('header');\n    var scrollValue = window.scrollY;\n    if (scrollValue &lt; 150) {\n        header.classList.remove('active');\n    } else {\n        header.classList.add('active');\n    }\n}\n\nwindow.addEventListener('scroll', changeRectangle);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\n    margin: 0;\n    padding: 0;\n}\n\n.active {\n    background: rgb(0, 0, 0) !important;\n    -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n    -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n}\n\n.header {\n    position: fixed;\n    height: 100px;\n    width: 100%;\n    z-index: 4;\n    top: 0px;\n    left: 0px;\n    padding: 0;\n    transition: all 1s;\n    right: 0px;\n    background-color: gray;\n}\n\n.lowerbackground {\n    height: 1000px;\n    width: 100%;\n    background: white;\n    position: absolute;\n    top: 5000px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;home&lt;/title&gt;\n        &lt;meta charset=\"UTF-8\" /&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width, initial scale=1.0\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"styles.css\" /&gt;\n        &lt;script type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"header\" class=\"header\"&gt;&lt;/div&gt;\n    &lt;div class=\"lowerbackground\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n\n    &lt;script src=\"index.js\"&gt;&lt;/script&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":27461786,"reputation":1,"user_id":20952229,"display_name":"Ecobro4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678274902,"creation_date":1673100042,"question_id":75040896,"body_markdown":"I am using VS on a Mac. I&#39;ve just started coding two days ago so I am a noob. I am trying to make a fixed header change colours on scroll although it is not working. I don&#39;t think it&#39;s a problem with my settings etc as when I ran it online the header didn&#39;t change from grey to black either. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function changeRectangle() {\r\n      const header = document.getElementById(&#39;header&#39;);\r\n      var scrollValue = window.scrollY;\r\n      if (scrollValue &lt; 150) {\r\n        header.classList.remove(&#39;header.active&#39;);\r\n      } else {\r\n        header.classList.add(&#39;header.active&#39;);\r\n      }\r\n      window.addEventListener(&#39;scroll&#39;, changeRectangle);\r\n    }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    * {\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n\r\n    .header.active {\r\n      background: rgb(0, 0, 0);\r\n      -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n      -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\r\n    }\r\n\r\n    .header {\r\n      position: fixed;\r\n      height: 100px;\r\n      width: 100%;\r\n      z-index: 4;\r\n      top: 0px;\r\n      left: 0px;\r\n      padding: 0;\r\n      transition: all 1s;\r\n      right: 0px;\r\n      background-color: gray;\r\n    }\r\n\r\n    .lowerbackground {\r\n      height: 1000px;\r\n      width: 100%;\r\n      background: white;\r\n      position: absolute;\r\n      top: 5000px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial scale=1.0&quot;&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot;&gt;\r\n      &lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;div id=&quot;header&quot; class=&quot;header&quot;&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;div class=&quot;lowerbackground&quot;&gt;&lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Changing Header Colour on Scroll","body":"<p>I am using VS on a Mac. I've just started coding two days ago so I am a noob. I am trying to make a fixed header change colours on scroll although it is not working. I don't think it's a problem with my settings etc as when I ran it online the header didn't change from grey to black either.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeRectangle() {\n  const header = document.getElementById('header');\n  var scrollValue = window.scrollY;\n  if (scrollValue &lt; 150) {\n    header.classList.remove('header.active');\n  } else {\n    header.classList.add('header.active');\n  }\n  window.addEventListener('scroll', changeRectangle);\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\n  margin: 0;\n  padding: 0;\n}\n\n.header.active {\n  background: rgb(0, 0, 0);\n  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n  -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.25);\n}\n\n.header {\n  position: fixed;\n  height: 100px;\n  width: 100%;\n  z-index: 4;\n  top: 0px;\n  left: 0px;\n  padding: 0;\n  transition: all 1s;\n  right: 0px;\n  background-color: gray;\n}\n\n.lowerbackground {\n  height: 1000px;\n  width: 100%;\n  background: white;\n  position: absolute;\n  top: 5000px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial scale=1.0\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n  &lt;script type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div id=\"header\" class=\"header\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;script src=\"index.js\"&gt;&lt;/script&gt;\n\n&lt;body&gt;\n  &lt;div class=\"lowerbackground\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","regex","scala"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1677633730,"post_id":75597582,"comment_id":133375776,"body_markdown":"I don&#39;t understand the scala behavior. All marked as &quot;not expected&quot; match because of regexLeft which is part of exactRegex.","body":"I don&#39;t understand the scala behavior. All marked as &quot;not expected&quot; match because of regexLeft which is part of exactRegex."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1677673746,"post_id":75597582,"comment_id":133383415,"body_markdown":"You should use Pattern.quote(targetWord) in case it contains any regex special characters. What do you want to achieve?","body":"You should use Pattern.quote(targetWord) in case it contains any regex special characters. What do you want to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678274544,"creation_date":1678274544,"answer_id":75672372,"question_id":75597582,"body_markdown":"Your expectations are quite strange:\r\n```\r\n&quot;phone2&quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\r\n&quot;phone!&quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\r\n&quot;phone &quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\r\n```\r\n\r\n`&quot;2&quot;`, `&quot;!&quot;`, `&quot; &quot;` - are NOT letters and are NOT marks. Thus I would expect `true` as a result for such validations. And question is - why Scala treats these characters as letter or mark.\r\n\r\n&gt; \\p{L} or \\p{Letter}: any kind of letter from any language\r\n&gt; \r\n&gt; \\p{M} or \\p{Mark}: a character intended to be combined with another character (e.g. accents, umlauts, enclosing boxes, etc.)\r\n\r\nSource: [regular-expressions.info](https://www.regular-expressions.info/unicode.html#category).","title":"Regex in Java vs Scala discrepancy. Same code/logic, different output","body":"<p>Your expectations are quite strange:</p>\n<pre><code>&quot;phone2&quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\n&quot;phone!&quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\n&quot;phone &quot;.matches(&quot;phone[^\\\\p{L}\\\\p{M}]&quot;); // returns true (NOT EXPECTED)\n</code></pre>\n<p><code>&quot;2&quot;</code>, <code>&quot;!&quot;</code>, <code>&quot; &quot;</code> - are NOT letters and are NOT marks. Thus I would expect <code>true</code> as a result for such validations. And question is - why Scala treats these characters as letter or mark.</p>\n<blockquote>\n<p>\\p{L} or \\p{Letter}: any kind of letter from any language</p>\n<p>\\p{M} or \\p{Mark}: a character intended to be combined with another character (e.g. accents, umlauts, enclosing boxes, etc.)</p>\n</blockquote>\n<p>Source: <a href=\"https://www.regular-expressions.info/unicode.html#category\" rel=\"nofollow noreferrer\">regular-expressions.info</a>.</p>\n"}],"owner":{"account_id":299386,"reputation":2055,"user_id":605948,"accept_rate":81,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678274544,"creation_date":1677620460,"question_id":75597582,"body_markdown":"I was converting existing Scala code that uses regex to check if an input has any target words/phrases/strings in it. I know there exists helper functions like `contains` or `substring` but a regex solution is needed.\r\n\r\nHere is the scala code:\r\n```scala\r\nval NonCharacter: String = &quot;[^\\\\p{L}\\\\p{M}]&quot;\r\nval targetWord = &quot;phone&quot;\r\n\r\nvar regexMiddle = s&quot;.*(${NonCharacter}${targetWord}${NonCharacter}).*&quot;\r\nvar regexLeft = s&quot;(${targetWord}${NonCharacter}).*&quot;\r\nvar regexRight = s&quot;.*(${NonCharacter}${targetWord})&quot;\r\nvar regexSame = s&quot;(${targetWord})&quot;\r\nvar exactRegex = s&quot;${regexMiddle}|${regexLeft}|${regexRight}|${regexSame}&quot;\r\n\r\n&quot;My phone is blue&quot;.matches(exactRegex) // returns true (EXPECTED)\r\n&quot;i have 1 phone&quot;.matches(exactRegex) // returns true (EXPECTED)\r\n&quot;phone2&quot;.matches(exactRegex)  // return false (EXPECTED)\r\n&quot;phone!&quot;.matches(exactRegex)  // return false (EXPECTED)\r\n&quot;phone &quot;.matches(exactRegex)  // return false (EXPECTED)\r\n```\r\n\r\nHere is the java code:\r\n```java\r\nString nonCharacter = &quot;[^\\\\p{L}\\\\p{M}]&quot;;\r\nString targetWord = &quot;phone&quot;;\r\n\r\nString regexMiddle = String.format(&quot;.*(%s%s%s).*&quot;, nonCharacter, targetWord, nonCharacter);\r\nString regexLeft = String.format(&quot;(%s%s).*&quot;, targetWord, nonCharacter);\r\nString regexRight = String.format(&quot;.*(%s%s)&quot;, nonCharacter, targetWord);\r\nString regexSame = String.format(&quot;(%s)&quot;, targetWord);\r\nString exactRegex = String.format(&quot;%s|%s|%s|%s&quot;, regexMiddle, regexLeft, regexRight, regexSame);\r\n\r\nSystem.out.print(&quot;My phone is blue&quot;.matches(exactRegex)); // returns true (EXPECTED)\r\nSystem.out.print(&quot;i have 1 phone&quot;.matches(exactRegex)); // returns true (EXPECTED)\r\nSystem.out.print(&quot;phone2&quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\r\nSystem.out.print(&quot;phone!&quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\r\nSystem.out.print(&quot;phone &quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\r\n```\r\n\r\nAny idea why this discrepancy exists and how to handle unseen edge-cases?","title":"Regex in Java vs Scala discrepancy. Same code/logic, different output","body":"<p>I was converting existing Scala code that uses regex to check if an input has any target words/phrases/strings in it. I know there exists helper functions like <code>contains</code> or <code>substring</code> but a regex solution is needed.</p>\n<p>Here is the scala code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val NonCharacter: String = &quot;[^\\\\p{L}\\\\p{M}]&quot;\nval targetWord = &quot;phone&quot;\n\nvar regexMiddle = s&quot;.*(${NonCharacter}${targetWord}${NonCharacter}).*&quot;\nvar regexLeft = s&quot;(${targetWord}${NonCharacter}).*&quot;\nvar regexRight = s&quot;.*(${NonCharacter}${targetWord})&quot;\nvar regexSame = s&quot;(${targetWord})&quot;\nvar exactRegex = s&quot;${regexMiddle}|${regexLeft}|${regexRight}|${regexSame}&quot;\n\n&quot;My phone is blue&quot;.matches(exactRegex) // returns true (EXPECTED)\n&quot;i have 1 phone&quot;.matches(exactRegex) // returns true (EXPECTED)\n&quot;phone2&quot;.matches(exactRegex)  // return false (EXPECTED)\n&quot;phone!&quot;.matches(exactRegex)  // return false (EXPECTED)\n&quot;phone &quot;.matches(exactRegex)  // return false (EXPECTED)\n</code></pre>\n<p>Here is the java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String nonCharacter = &quot;[^\\\\p{L}\\\\p{M}]&quot;;\nString targetWord = &quot;phone&quot;;\n\nString regexMiddle = String.format(&quot;.*(%s%s%s).*&quot;, nonCharacter, targetWord, nonCharacter);\nString regexLeft = String.format(&quot;(%s%s).*&quot;, targetWord, nonCharacter);\nString regexRight = String.format(&quot;.*(%s%s)&quot;, nonCharacter, targetWord);\nString regexSame = String.format(&quot;(%s)&quot;, targetWord);\nString exactRegex = String.format(&quot;%s|%s|%s|%s&quot;, regexMiddle, regexLeft, regexRight, regexSame);\n\nSystem.out.print(&quot;My phone is blue&quot;.matches(exactRegex)); // returns true (EXPECTED)\nSystem.out.print(&quot;i have 1 phone&quot;.matches(exactRegex)); // returns true (EXPECTED)\nSystem.out.print(&quot;phone2&quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\nSystem.out.print(&quot;phone!&quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\nSystem.out.print(&quot;phone &quot;.matches(exactRegex)); // returns true (NOT EXPECTED)\n</code></pre>\n<p>Any idea why this discrepancy exists and how to handle unseen edge-cases?</p>\n"},{"tags":["java","android","kotlin","android-jetpack","android-workmanager"],"comments":[{"owner":{"account_id":13698524,"reputation":76,"user_id":9884414,"display_name":"Jayhymn"},"score":0,"creation_date":1678354839,"post_id":75672333,"comment_id":133517376,"body_markdown":"Just an update, I removed all network constraints and the work manager only still works when connected to wifi","body":"Just an update, I removed all network constraints and the work manager only still works when connected to wifi"}],"owner":{"account_id":13698524,"reputation":76,"user_id":9884414,"display_name":"Jayhymn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678274281,"creation_date":1678274281,"question_id":75672333,"body_markdown":"Recently we&#39;ve been getting complains from users that our app doesn&#39;t work with internet connectivity. So every activity they carry out on the app doesn&#39;t sync to the server. The app makes use of work manager for synchronization and the only constraint is NetworkType.CONNECTED\r\n\r\nI have tried connecting to wifi and everything seems to work fine but work manager refuses to use their sim connectivity to sync despite no constraint on this in the code","title":"Workmanger not working with sim data on some devices","body":"<p>Recently we've been getting complains from users that our app doesn't work with internet connectivity. So every activity they carry out on the app doesn't sync to the server. The app makes use of work manager for synchronization and the only constraint is NetworkType.CONNECTED</p>\n<p>I have tried connecting to wifi and everything seems to work fine but work manager refuses to use their sim connectivity to sync despite no constraint on this in the code</p>\n"},{"tags":["java","eclipse","class","types"],"answers":[{"tags":[],"owner":{"account_id":1358,"reputation":13478,"user_id":1813,"accept_rate":83,"display_name":"Jon Bright"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1341765861,"creation_date":1341765104,"answer_id":11384755,"question_id":11384732,"body_markdown":"I&#39;ve seen similar behaviour in the past and know of two possible reasons:\r\n\r\n* Your build path has somehow changed, leaving out your Node class, or the project providing it has compile errors, or similar.  Given your description of the problem, this probably isn&#39;t relevant in your case.\r\n* Some Eclipse screwup.  For me, this was always solved by doing a clean build of the project (possibly also any dependent projects) at which point things resolved themselves.  You can do this by going to the `Project` menu and selecting `Clean`.  This isn&#39;t a proper solution, but strikes me as quicker than your `Node`-&gt;`DNode`-&gt;`Node` workaround.\r\n","title":"Node cannot be resolved to a type","body":"<p>I've seen similar behaviour in the past and know of two possible reasons:</p>\n\n<ul>\n<li>Your build path has somehow changed, leaving out your Node class, or the project providing it has compile errors, or similar.  Given your description of the problem, this probably isn't relevant in your case.</li>\n<li>Some Eclipse screwup.  For me, this was always solved by doing a clean build of the project (possibly also any dependent projects) at which point things resolved themselves.  You can do this by going to the <code>Project</code> menu and selecting <code>Clean</code>.  This isn't a proper solution, but strikes me as quicker than your <code>Node</code>-><code>DNode</code>-><code>Node</code> workaround.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1463547,"reputation":681,"user_id":1377139,"display_name":"Bradford Needham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357122071,"creation_date":1341768161,"answer_id":11385103,"question_id":11384732,"body_markdown":"It seems several people described this problem (and a solution) a few years ago. For example, [this](http://philip.yurchuk.com/2008/12/03/eclipse-cannot-be-resolved-to-a-type-error/) describes the problem and found that doing a **Refresh in Eclipse** fixed it.  In his case, he caused the problem by creating a top-level folder in his Eclipse Project directory - outside of Eclipse.  It sounds like an Eclipse bug that&#39;s been there for a few years.","title":"Node cannot be resolved to a type","body":"<p>It seems several people described this problem (and a solution) a few years ago. For example, <a href=\"http://philip.yurchuk.com/2008/12/03/eclipse-cannot-be-resolved-to-a-type-error/\" rel=\"nofollow\">this</a> describes the problem and found that doing a <strong>Refresh in Eclipse</strong> fixed it.  In his case, he caused the problem by creating a top-level folder in his Eclipse Project directory - outside of Eclipse.  It sounds like an Eclipse bug that's been there for a few years.</p>\n"},{"tags":[],"owner":{"account_id":69201,"reputation":7158,"user_id":201506,"accept_rate":92,"display_name":"geert3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678274108,"creation_date":1678274108,"answer_id":75672298,"question_id":11384732,"body_markdown":"I&#39;ve had this problem when upgrading a project to Java9 or higher. Java9 introduces the concept of modules, and having more than one module &quot;provide&quot; a package is an issue that seems to cause this type of error messages in Eclipse. The error message `... cannot be resolved to a type` is misleading but I interpret it as `... cannot be resolved to a *unique* type`, then it makes sense.\r\n\r\nNow to solve the issue you need to find out what jars on your classpath contribute what duplicate packages. There is an easy way to do that: use `jdeps`:\r\n\r\nFor instance I used this:\r\n\r\n    &gt; jdeps -verbose -cp lib\\* src\r\n    Warning: split package: javax.xml.stream jrt:/java.xml lib\\jsr173_1.0_api.jar\r\n    Warning: split package: javax.xml.stream.events jrt:/java.xml lib\\jsr173_1.0_api.jar\r\n    Warning: split package: javax.xml.stream.util jrt:/java.xml lib\\jsr173_1.0_api.jar\r\n    Warning: split package: org.w3c.dom jrt:/java.xml lib\\jaxen-1.1-beta-7.jar\r\n\r\nAs can be seen from the above, Java standardly provides the above XML related modules, so removing the listed jars from classpath solved the problem. In some other cases you need to add only the &quot;API&quot; jars, not the &quot;IMPL&quot; jars. For instance add `javax.servlet-api.jar` instead of `j2ee.jar`","title":"Node cannot be resolved to a type","body":"<p>I've had this problem when upgrading a project to Java9 or higher. Java9 introduces the concept of modules, and having more than one module &quot;provide&quot; a package is an issue that seems to cause this type of error messages in Eclipse. The error message <code>... cannot be resolved to a type</code> is misleading but I interpret it as <code>... cannot be resolved to a *unique* type</code>, then it makes sense.</p>\n<p>Now to solve the issue you need to find out what jars on your classpath contribute what duplicate packages. There is an easy way to do that: use <code>jdeps</code>:</p>\n<p>For instance I used this:</p>\n<pre><code>&gt; jdeps -verbose -cp lib\\* src\nWarning: split package: javax.xml.stream jrt:/java.xml lib\\jsr173_1.0_api.jar\nWarning: split package: javax.xml.stream.events jrt:/java.xml lib\\jsr173_1.0_api.jar\nWarning: split package: javax.xml.stream.util jrt:/java.xml lib\\jsr173_1.0_api.jar\nWarning: split package: org.w3c.dom jrt:/java.xml lib\\jaxen-1.1-beta-7.jar\n</code></pre>\n<p>As can be seen from the above, Java standardly provides the above XML related modules, so removing the listed jars from classpath solved the problem. In some other cases you need to add only the &quot;API&quot; jars, not the &quot;IMPL&quot; jars. For instance add <code>javax.servlet-api.jar</code> instead of <code>j2ee.jar</code></p>\n"}],"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15532,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11384755,"answer_count":3,"score":3,"last_activity_date":1678274108,"creation_date":1341764861,"question_id":11384732,"body_markdown":"I&#39;m working on a library and I would like to have the class Node. Most of the times it works fine but sometimes it gives the error `Node cannot be resolved to a type` on every place where I use a node.\r\n\r\nThe strange thing is that if I rename the class to DNode, for example, and rename every Node to DNode and then change everything back again to just Node, it&#39;s like the way it was before but the errors saying `Node cannot be resolved to a type` are gone (until a certain time).\r\n\r\nCompiling is also no problem btw, it seems to be an Eclipse bug or something.\r\n\r\nI know there is this [Node class][1], but I don&#39;t import it so I can&#39;t see why that would form a problem.\r\n\r\nI hope someone can help.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/xml/soap/Node.html","title":"Node cannot be resolved to a type","body":"<p>I'm working on a library and I would like to have the class Node. Most of the times it works fine but sometimes it gives the error <code>Node cannot be resolved to a type</code> on every place where I use a node.</p>\n\n<p>The strange thing is that if I rename the class to DNode, for example, and rename every Node to DNode and then change everything back again to just Node, it's like the way it was before but the errors saying <code>Node cannot be resolved to a type</code> are gone (until a certain time).</p>\n\n<p>Compiling is also no problem btw, it seems to be an Eclipse bug or something.</p>\n\n<p>I know there is this <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/soap/Node.html\" rel=\"nofollow\">Node class</a>, but I don't import it so I can't see why that would form a problem.</p>\n\n<p>I hope someone can help.</p>\n"},{"tags":["java","docker","maven","tomcat"],"owner":{"account_id":20020270,"reputation":33,"user_id":14675378,"display_name":"Enrico Cirignaco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678274051,"creation_date":1678274051,"question_id":75672285,"body_markdown":"I can login via browser at the address http://localhost:8080/manager/text using the credentials admin admin but mvn tomcat7:deploy will fail with error **Tomcat return http status error: 401**\r\n\r\n\r\nThis is what I&#39;ve inserted in both settings.xml files located in **/root/.m2/** and in **/usr/share/maven/conf**\r\n```\r\n&lt;!-- Configure the Tomcat Maven plugin user --&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;maven&gt;&lt;/id&gt;\r\n      &lt;username&gt;admin&lt;/username&gt;\r\n      &lt;password&gt;admin&lt;/password&gt;\r\n  &lt;/server&gt;\r\n```\r\nThis is what I&#39;ve inserted in the **apache-tomcat-10.1.7/conf/tomcat-users.xml** file \r\n```\r\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n  &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n  &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n  &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,manager-script,manager-status,admin-gui,ad&gt;\r\n```\r\n\r\nThis is what I&#39;ve inserted in the **pom.xml** file\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;server&gt;maven&lt;/server&gt;\r\n\t\t\t\t\t&lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n\t\t\t\t\t&lt;path&gt;/servlets&lt;/path&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThis is the output of the command **mvn tomcat7:deploy**:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------------&lt; org.example:servlets &gt;------------------------\r\n[INFO] Building servlets 1.0\r\n[INFO] --------------------------------[ war ]---------------------------------\r\n[INFO] \r\n[INFO] &gt;&gt;&gt; tomcat7-maven-plugin:2.2:deploy (default-cli) &gt; package @ servlets &gt;&gt;&gt;\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ servlets ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /workspace/data/servlet-examples/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ servlets ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ servlets ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /workspace/data/servlet-examples/src/test/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ servlets ---\r\n[INFO] No sources to compile\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ servlets ---\r\n[INFO] No tests to run.\r\n[INFO] \r\n[INFO] --- maven-war-plugin:3.3.2:war (default-war) @ servlets ---\r\n[INFO] Packaging webapp\r\n[INFO] Assembling webapp [servlets] in [/workspace/data/servlet-examples/target/servlets]\r\n[INFO] Processing war project\r\n[INFO] Copying webapp resources [/workspace/data/servlet-examples/src/main/webapp]\r\n[INFO] Building war: /workspace/data/servlet-examples/target/servlets.war\r\n[INFO] \r\n[INFO] &lt;&lt;&lt; tomcat7-maven-plugin:2.2:deploy (default-cli) &lt; package @ servlets &lt;&lt;&lt;\r\n[INFO] \r\n[INFO] \r\n[INFO] --- tomcat7-maven-plugin:2.2:deploy (default-cli) @ servlets ---\r\n[INFO] Deploying war to http://localhost:8080/servlets  \r\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fservlets\r\nUploaded: http://localhost:8080/manager/text/deploy?path=%2Fservlets (8 KB at 7149.4 KB/sec)\r\n\r\n[ERROR] Tomcat return http status error: 401, Reason Phrase: \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.768 s\r\n[INFO] Finished at: 2023-03-08T11:09:00Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy (default-cli) on project servlets: Tomcat return http status error: 401, Reason Phrase: : &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\r\n[ERROR] &lt;html&gt;\r\n[ERROR]  &lt;head&gt;\r\n[ERROR]   &lt;title&gt;401 Unauthorized&lt;/title&gt;\r\n[ERROR]   &lt;style type=&quot;text/css&quot;&gt;\r\n[ERROR]     &lt;!--\r\n[ERROR]     BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;font-size:12px;}\r\n[ERROR]     H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;}\r\n[ERROR]     PRE, TT {border: 1px dotted #525D76}\r\n[ERROR]     A {color : black;}A.name {color : black;}\r\n[ERROR]     --&gt;\r\n[ERROR]   &lt;/style&gt;\r\n[ERROR]  &lt;/head&gt;\r\n[ERROR]  &lt;body&gt;\r\n[ERROR]    &lt;h1&gt;401 Unauthorized&lt;/h1&gt;\r\n[ERROR]    &lt;p&gt;\r\n[ERROR]     You are not authorized to view this page. If you have not changed\r\n[ERROR]     any configuration files, please examine the file\r\n[ERROR]     &lt;tt&gt;conf/tomcat-users.xml&lt;/tt&gt; in your installation. That\r\n[ERROR]     file must contain the credentials to let you use this webapp.\r\n[ERROR]    &lt;/p&gt;\r\n[ERROR]    &lt;p&gt;\r\n[ERROR]     For example, to add the &lt;tt&gt;manager-gui&lt;/tt&gt; role to a user named\r\n[ERROR]     &lt;tt&gt;tomcat&lt;/tt&gt; with a password of &lt;tt&gt;s3cret&lt;/tt&gt;, add the following to the\r\n[ERROR]     config file listed above.\r\n[ERROR]    &lt;/p&gt;\r\n[ERROR] &lt;pre&gt;\r\n[ERROR] &amp;lt;role rolename=&quot;manager-gui&quot;/&amp;gt;\r\n[ERROR] &amp;lt;user username=&quot;tomcat&quot; password=&quot;s3cret&quot; roles=&quot;manager-gui&quot;/&amp;gt;\r\n[ERROR] &lt;/pre&gt;\r\n[ERROR]    &lt;p&gt;\r\n[ERROR]     Note that for Tomcat 7 onwards, the roles required to use the manager\r\n[ERROR]     application were changed from the single &lt;tt&gt;manager&lt;/tt&gt; role to the\r\n[ERROR]     following four roles. You will need to assign the role(s) required for\r\n[ERROR]     the functionality you wish to access.\r\n[ERROR]    &lt;/p&gt;\r\n[ERROR]     &lt;ul&gt;\r\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-gui&lt;/tt&gt; - allows access to the HTML GUI and the status\r\n[ERROR]           pages&lt;/li&gt;\r\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-script&lt;/tt&gt; - allows access to the text interface and the\r\n[ERROR]           status pages&lt;/li&gt;\r\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-jmx&lt;/tt&gt; - allows access to the JMX proxy and the status\r\n[ERROR]           pages&lt;/li&gt;\r\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-status&lt;/tt&gt; - allows access to the status pages only&lt;/li&gt;\r\n[ERROR]     &lt;/ul&gt;\r\n[ERROR]    &lt;p&gt;\r\n[ERROR]     The HTML interface is protected against CSRF but the text and JMX interfaces\r\n[ERROR]     are not. To maintain the CSRF protection:\r\n[ERROR]    &lt;/p&gt;\r\n[ERROR]    &lt;ul&gt;\r\n[ERROR]     &lt;li&gt;Users with the &lt;tt&gt;manager-gui&lt;/tt&gt; role should not be granted either\r\n[ERROR]         the &lt;tt&gt;manager-script&lt;/tt&gt; or &lt;tt&gt;manager-jmx&lt;/tt&gt; roles.&lt;/li&gt;\r\n[ERROR]     &lt;li&gt;If the text or jmx interfaces are accessed through a browser (e.g. for\r\n[ERROR]         testing since these interfaces are intended for tools not humans) then\r\n[ERROR]         the browser must be closed afterwards to terminate the session.&lt;/li&gt;\r\n[ERROR]    &lt;/ul&gt;\r\n[ERROR]    &lt;p&gt;\r\n[ERROR]     For more information - please see the\r\n[ERROR]     &lt;a href=&quot;/docs/manager-howto.html&quot; rel=&quot;noopener noreferrer&quot;&gt;Manager App How-To&lt;/a&gt;.\r\n[ERROR]    &lt;/p&gt;\r\n[ERROR]  &lt;/body&gt;\r\n[ERROR] \r\n[ERROR] &lt;/html&gt;\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\n\r\nif does it matter I run all this in a docker container with port 8080 exposed","title":"Deploy to Tomcat with Maven plugin - Unauthorized error 401","body":"<p>I can login via browser at the address http://localhost:8080/manager/text using the credentials admin admin but mvn tomcat7:deploy will fail with error <strong>Tomcat return http status error: 401</strong></p>\n<p>This is what I've inserted in both settings.xml files located in <strong>/root/.m2/</strong> and in <strong>/usr/share/maven/conf</strong></p>\n<pre><code>&lt;!-- Configure the Tomcat Maven plugin user --&gt;\n    &lt;server&gt;\n      &lt;id&gt;maven&gt;&lt;/id&gt;\n      &lt;username&gt;admin&lt;/username&gt;\n      &lt;password&gt;admin&lt;/password&gt;\n  &lt;/server&gt;\n</code></pre>\n<p>This is what I've inserted in the <strong>apache-tomcat-10.1.7/conf/tomcat-users.xml</strong> file</p>\n<pre><code>  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-script&quot;/&gt;\n  &lt;role rolename=&quot;manager-status&quot;/&gt;\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\n  &lt;role rolename=&quot;admin-script&quot;/&gt;\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui,manager-script,manager-status,admin-gui,ad&gt;\n</code></pre>\n<p>This is what I've inserted in the <strong>pom.xml</strong> file</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;server&gt;maven&lt;/server&gt;\n                    &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n                    &lt;path&gt;/servlets&lt;/path&gt;\n                &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This is the output of the command <strong>mvn tomcat7:deploy</strong>:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; org.example:servlets &gt;------------------------\n[INFO] Building servlets 1.0\n[INFO] --------------------------------[ war ]---------------------------------\n[INFO] \n[INFO] &gt;&gt;&gt; tomcat7-maven-plugin:2.2:deploy (default-cli) &gt; package @ servlets &gt;&gt;&gt;\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ servlets ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /workspace/data/servlet-examples/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ servlets ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ servlets ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /workspace/data/servlet-examples/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ servlets ---\n[INFO] No sources to compile\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ servlets ---\n[INFO] No tests to run.\n[INFO] \n[INFO] --- maven-war-plugin:3.3.2:war (default-war) @ servlets ---\n[INFO] Packaging webapp\n[INFO] Assembling webapp [servlets] in [/workspace/data/servlet-examples/target/servlets]\n[INFO] Processing war project\n[INFO] Copying webapp resources [/workspace/data/servlet-examples/src/main/webapp]\n[INFO] Building war: /workspace/data/servlet-examples/target/servlets.war\n[INFO] \n[INFO] &lt;&lt;&lt; tomcat7-maven-plugin:2.2:deploy (default-cli) &lt; package @ servlets &lt;&lt;&lt;\n[INFO] \n[INFO] \n[INFO] --- tomcat7-maven-plugin:2.2:deploy (default-cli) @ servlets ---\n[INFO] Deploying war to http://localhost:8080/servlets  \nUploading: http://localhost:8080/manager/text/deploy?path=%2Fservlets\nUploaded: http://localhost:8080/manager/text/deploy?path=%2Fservlets (8 KB at 7149.4 KB/sec)\n\n[ERROR] Tomcat return http status error: 401, Reason Phrase: \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.768 s\n[INFO] Finished at: 2023-03-08T11:09:00Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy (default-cli) on project servlets: Tomcat return http status error: 401, Reason Phrase: : &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt;\n[ERROR] &lt;html&gt;\n[ERROR]  &lt;head&gt;\n[ERROR]   &lt;title&gt;401 Unauthorized&lt;/title&gt;\n[ERROR]   &lt;style type=&quot;text/css&quot;&gt;\n[ERROR]     &lt;!--\n[ERROR]     BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;font-size:12px;}\n[ERROR]     H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;}\n[ERROR]     PRE, TT {border: 1px dotted #525D76}\n[ERROR]     A {color : black;}A.name {color : black;}\n[ERROR]     --&gt;\n[ERROR]   &lt;/style&gt;\n[ERROR]  &lt;/head&gt;\n[ERROR]  &lt;body&gt;\n[ERROR]    &lt;h1&gt;401 Unauthorized&lt;/h1&gt;\n[ERROR]    &lt;p&gt;\n[ERROR]     You are not authorized to view this page. If you have not changed\n[ERROR]     any configuration files, please examine the file\n[ERROR]     &lt;tt&gt;conf/tomcat-users.xml&lt;/tt&gt; in your installation. That\n[ERROR]     file must contain the credentials to let you use this webapp.\n[ERROR]    &lt;/p&gt;\n[ERROR]    &lt;p&gt;\n[ERROR]     For example, to add the &lt;tt&gt;manager-gui&lt;/tt&gt; role to a user named\n[ERROR]     &lt;tt&gt;tomcat&lt;/tt&gt; with a password of &lt;tt&gt;s3cret&lt;/tt&gt;, add the following to the\n[ERROR]     config file listed above.\n[ERROR]    &lt;/p&gt;\n[ERROR] &lt;pre&gt;\n[ERROR] &amp;lt;role rolename=&quot;manager-gui&quot;/&amp;gt;\n[ERROR] &amp;lt;user username=&quot;tomcat&quot; password=&quot;s3cret&quot; roles=&quot;manager-gui&quot;/&amp;gt;\n[ERROR] &lt;/pre&gt;\n[ERROR]    &lt;p&gt;\n[ERROR]     Note that for Tomcat 7 onwards, the roles required to use the manager\n[ERROR]     application were changed from the single &lt;tt&gt;manager&lt;/tt&gt; role to the\n[ERROR]     following four roles. You will need to assign the role(s) required for\n[ERROR]     the functionality you wish to access.\n[ERROR]    &lt;/p&gt;\n[ERROR]     &lt;ul&gt;\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-gui&lt;/tt&gt; - allows access to the HTML GUI and the status\n[ERROR]           pages&lt;/li&gt;\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-script&lt;/tt&gt; - allows access to the text interface and the\n[ERROR]           status pages&lt;/li&gt;\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-jmx&lt;/tt&gt; - allows access to the JMX proxy and the status\n[ERROR]           pages&lt;/li&gt;\n[ERROR]       &lt;li&gt;&lt;tt&gt;manager-status&lt;/tt&gt; - allows access to the status pages only&lt;/li&gt;\n[ERROR]     &lt;/ul&gt;\n[ERROR]    &lt;p&gt;\n[ERROR]     The HTML interface is protected against CSRF but the text and JMX interfaces\n[ERROR]     are not. To maintain the CSRF protection:\n[ERROR]    &lt;/p&gt;\n[ERROR]    &lt;ul&gt;\n[ERROR]     &lt;li&gt;Users with the &lt;tt&gt;manager-gui&lt;/tt&gt; role should not be granted either\n[ERROR]         the &lt;tt&gt;manager-script&lt;/tt&gt; or &lt;tt&gt;manager-jmx&lt;/tt&gt; roles.&lt;/li&gt;\n[ERROR]     &lt;li&gt;If the text or jmx interfaces are accessed through a browser (e.g. for\n[ERROR]         testing since these interfaces are intended for tools not humans) then\n[ERROR]         the browser must be closed afterwards to terminate the session.&lt;/li&gt;\n[ERROR]    &lt;/ul&gt;\n[ERROR]    &lt;p&gt;\n[ERROR]     For more information - please see the\n[ERROR]     &lt;a href=&quot;/docs/manager-howto.html&quot; rel=&quot;noopener noreferrer&quot;&gt;Manager App How-To&lt;/a&gt;.\n[ERROR]    &lt;/p&gt;\n[ERROR]  &lt;/body&gt;\n[ERROR] \n[ERROR] &lt;/html&gt;\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>if does it matter I run all this in a docker container with port 8080 exposed</p>\n"},{"tags":["java","maven","dependencies","maven-site-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1678271620,"post_id":75671768,"comment_id":133499096,"body_markdown":"Why do you use such ancient version of Maven (maven 3.2.1)?","body":"Why do you use such ancient version of Maven (maven 3.2.1)?"},{"owner":{"account_id":27964089,"reputation":1,"user_id":21355302,"display_name":"maf123sp"},"score":0,"creation_date":1678359906,"post_id":75671768,"comment_id":133518823,"body_markdown":"Good question :-) It is not under my control and I would like to upgrade to a newer version, too. But - it fits well into the other development tools versions :-)","body":"Good question :-) It is not under my control and I would like to upgrade to a newer version, too. But - it fits well into the other development tools versions :-)"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678274012,"creation_date":1678274012,"answer_id":75672278,"question_id":75671768,"body_markdown":"You need to add a mirror entry to the `settings.xml`, with `&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;` to redirect all requests.","title":"Maven - site plugin uses wrong repository","body":"<p>You need to add a mirror entry to the <code>settings.xml</code>, with <code>&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</code> to redirect all requests.</p>\n"}],"owner":{"account_id":27964089,"reputation":1,"user_id":21355302,"display_name":"maf123sp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678274012,"creation_date":1678270662,"question_id":75671768,"body_markdown":"in my maven project I use a customer repository. This repo is specified in the .m2/settings.xml file. The mvn clean install test works perfectly - in .m2/repository only the customer repository is used.\r\nThe custtom repository forward requests to a public repo, which is NOT repo.maven.apache.org.\r\n\r\nFrom my view, the project settihngs are correct as well the.\r\n\r\nAs soon I try to trigger the site-plugin the build runs into an error. &quot;Failed to transfer file from: http://repo.maven.apache.org/maven2 ....&quot;\r\nObviously the site plugin tries to load artifacts with (used) version numbers (and therefore net yet loaded into the local repo) from the official maven repo. It ignores all my settings.\r\n\r\nI don&#39;t have any idea, how to solve this issue. \r\nI use maven 3.2.1, and the site plugin 3.7.1. Of course - those version numbers are out of any discussion :-)\r\n\r\nIs there any plugin specific setting on site plugin which I can use, to provide my custom repo?\r\nIs there any chance to route the repo.maven.apache.org request to my customer repo?\r\n\r\nThanks for any help\r\n\r\nChanges on settings...\r\nChecks for site-plugin configuration...\r\nTried other commands on site-plugin..\r\nTried to add dependencies on site plugin (now it finds the artifacts in local repo, but there are too many artifacts - it is not a accepted solution)\r\n...","title":"Maven - site plugin uses wrong repository","body":"<p>in my maven project I use a customer repository. This repo is specified in the .m2/settings.xml file. The mvn clean install test works perfectly - in .m2/repository only the customer repository is used.\nThe custtom repository forward requests to a public repo, which is NOT repo.maven.apache.org.</p>\n<p>From my view, the project settihngs are correct as well the.</p>\n<p>As soon I try to trigger the site-plugin the build runs into an error. &quot;Failed to transfer file from: <a href=\"http://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2</a> ....&quot;\nObviously the site plugin tries to load artifacts with (used) version numbers (and therefore net yet loaded into the local repo) from the official maven repo. It ignores all my settings.</p>\n<p>I don't have any idea, how to solve this issue.\nI use maven 3.2.1, and the site plugin 3.7.1. Of course - those version numbers are out of any discussion :-)</p>\n<p>Is there any plugin specific setting on site plugin which I can use, to provide my custom repo?\nIs there any chance to route the repo.maven.apache.org request to my customer repo?</p>\n<p>Thanks for any help</p>\n<p>Changes on settings...\nChecks for site-plugin configuration...\nTried other commands on site-plugin..\nTried to add dependencies on site plugin (now it finds the artifacts in local repo, but there are too many artifacts - it is not a accepted solution)\n...</p>\n"},{"tags":["java","android","android-textinputedittext","input-filtering","android-input-filter"],"comments":[{"owner":{"account_id":2097402,"reputation":3223,"user_id":1865860,"accept_rate":87,"display_name":"dentex"},"score":0,"creation_date":1678272705,"post_id":75513081,"comment_id":133499400,"body_markdown":"@Zain why did you delete your answer?","body":"@Zain why did you delete your answer?"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678274976,"post_id":75513081,"comment_id":133499927,"body_markdown":"Hey dentex; I just thought I couldn&#39;t enhance it anymore; and I wasn&#39;t able to reproduce the new behavior you encountered; hopefully you&#39;d find the solution.","body":"Hey dentex; I just thought I couldn&#39;t enhance it anymore; and I wasn&#39;t able to reproduce the new behavior you encountered; hopefully you&#39;d find the solution."}],"answers":[{"tags":[],"owner":{"account_id":23867963,"reputation":73,"user_id":17870055,"display_name":"xenon134"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677633892,"creation_date":1677633892,"answer_id":75598804,"question_id":75513081,"body_markdown":"Why are you using regex for this? This is a simple validation logic.\r\n\r\n    public static InputFilter getClientIdInputFilter() {\r\n        return (source, start, end, dest, dstart, dend) -&gt; {\r\n            Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\r\n            String destTxt = dest.toString();\r\n            String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\r\n            Log.v(DEBUG_TAG, input);\r\n            \r\n            // changes start from here\r\n            if (input.length() != 3 &amp;&amp; input.length() != 4)\r\n                return &quot;&quot;;\r\n            int numberOfCapitalLetters = 0, nuberOfDigits = 0;\r\n            for (char i: input.toCharArray()) { // loop over all the letters\r\n                if (i &gt;= &#39;A&#39; &amp;&amp; i &lt;= &#39;Z&#39;) // capital letter\r\n                    numberOfCapitalLetters += 1;\r\n                else if (i &gt;= &#39;0&#39; &amp;&amp; i &lt;= &#39;9&#39;)\r\n                    nuberOfDigits += 1;\r\n                else \r\n                    return &quot;&quot;; // only capital letters and numbers allowed\r\n            }\r\n            if ((numberOfCapitalLetters == 2) &amp;&amp; ((nuberOfDigits == 1) || (nuberOfDigits == 2)))\r\n                return null; // valid\r\n            else\r\n                return &quot;&quot;;\r\n        };\r\n    }","title":"InputFilter for two capital letters and one or two digits, works only if the first input is a digit","body":"<p>Why are you using regex for this? This is a simple validation logic.</p>\n<pre><code>public static InputFilter getClientIdInputFilter() {\n    return (source, start, end, dest, dstart, dend) -&gt; {\n        Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\n        String destTxt = dest.toString();\n        String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\n        Log.v(DEBUG_TAG, input);\n        \n        // changes start from here\n        if (input.length() != 3 &amp;&amp; input.length() != 4)\n            return &quot;&quot;;\n        int numberOfCapitalLetters = 0, nuberOfDigits = 0;\n        for (char i: input.toCharArray()) { // loop over all the letters\n            if (i &gt;= 'A' &amp;&amp; i &lt;= 'Z') // capital letter\n                numberOfCapitalLetters += 1;\n            else if (i &gt;= '0' &amp;&amp; i &lt;= '9')\n                nuberOfDigits += 1;\n            else \n                return &quot;&quot;; // only capital letters and numbers allowed\n        }\n        if ((numberOfCapitalLetters == 2) &amp;&amp; ((nuberOfDigits == 1) || (nuberOfDigits == 2)))\n            return null; // valid\n        else\n            return &quot;&quot;;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678273255,"creation_date":1677635285,"answer_id":75598888,"question_id":75513081,"body_markdown":"As I can understand @xenon134&#39;s answer, it doesn&#39;t actually check if the first and the second characters are letters, so, since the the input should be limited to 3 or 4 characters, I would go to a more hardcoded solution and not overengineer it, so:\r\n\r\n```\r\npublic static InputFilter getClientIdInputFilter() {\r\n    return (source, start, end, dest, dstart, dend) -&gt; {\r\n        Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\r\n        String destTxt = dest.toString();\r\n        String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\r\n        Log.v(DEBUG_TAG, input);\r\n        \r\n        // changes start from here\r\n        if (input.length() == 1 &amp;&amp; (input.charAt(0) &lt; &#39;A&#39; || input.charAt(0) &gt; &#39;Z&#39;))\r\n            return &quot;&quot;\r\n        if (input.length() == 2 &amp;&amp; (input.charAt(1) &lt; &#39;A&#39; || input.charAt(1) &gt; &#39;Z&#39;))\r\n            return &quot;&quot;\r\n        if(input.length() == 3 &amp;&amp; (input.charAt(2) &lt; &#39;0&#39; || input.charAt(2) &gt; &#39;9&#39;)) \r\n            return &quot;&quot;;\r\n        if(input.length() == 4) {\r\n            char ch4 = input.charAt(3);\r\n            if(ch4 &lt; &#39;0&#39; || ch4 &gt; &#39;9&#39;) \r\n                return &quot;&quot;;\r\n        }\r\n        if (input.length() &gt; 4)\r\n            return &quot;&quot;;\r\n        \r\n        return null; //valid\r\n    };\r\n}\r\n```\r\n\r\n*pardon me if I have forgotten any semicolon as I&#39;m working with Kotlin for a while now, also not sure if I can get the char by index like that in Java, you might need to use `input.charAt(index)`\r\n\r\n*Additionally, you can extract some code to check whether a char is a letter or a number on separate functions so the code looks more readable*:\r\n\r\n- `public static boolean isLetter(char c) { ... }`\r\n- `public static boolean isNumber(char c) { ... }`\r\n","title":"InputFilter for two capital letters and one or two digits, works only if the first input is a digit","body":"<p>As I can understand @xenon134's answer, it doesn't actually check if the first and the second characters are letters, so, since the the input should be limited to 3 or 4 characters, I would go to a more hardcoded solution and not overengineer it, so:</p>\n<pre><code>public static InputFilter getClientIdInputFilter() {\n    return (source, start, end, dest, dstart, dend) -&gt; {\n        Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\n        String destTxt = dest.toString();\n        String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\n        Log.v(DEBUG_TAG, input);\n        \n        // changes start from here\n        if (input.length() == 1 &amp;&amp; (input.charAt(0) &lt; 'A' || input.charAt(0) &gt; 'Z'))\n            return &quot;&quot;\n        if (input.length() == 2 &amp;&amp; (input.charAt(1) &lt; 'A' || input.charAt(1) &gt; 'Z'))\n            return &quot;&quot;\n        if(input.length() == 3 &amp;&amp; (input.charAt(2) &lt; '0' || input.charAt(2) &gt; '9')) \n            return &quot;&quot;;\n        if(input.length() == 4) {\n            char ch4 = input.charAt(3);\n            if(ch4 &lt; '0' || ch4 &gt; '9') \n                return &quot;&quot;;\n        }\n        if (input.length() &gt; 4)\n            return &quot;&quot;;\n        \n        return null; //valid\n    };\n}\n</code></pre>\n<p>*pardon me if I have forgotten any semicolon as I'm working with Kotlin for a while now, also not sure if I can get the char by index like that in Java, you might need to use <code>input.charAt(index)</code></p>\n<p><em>Additionally, you can extract some code to check whether a char is a letter or a number on separate functions so the code looks more readable</em>:</p>\n<ul>\n<li><code>public static boolean isLetter(char c) { ... }</code></li>\n<li><code>public static boolean isNumber(char c) { ... }</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14900995,"reputation":67,"user_id":10759818,"display_name":"Sudhakar kr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678249102,"creation_date":1677675029,"answer_id":75603974,"question_id":75513081,"body_markdown":"If you want use regex method use below.\r\n\r\n \r\n\r\n    Pattern pattern = Pattern.compile(&quot;[A-Z]{2}\\\\d{1,2}&quot;);\r\n        \r\n    String input = dest.subSequence(0, dstart)\r\n                 + source.toString()\r\n                 + dest.subSequence(dend, dest.length());\r\n\r\n    Matcher matcher = pattern.matcher(input);\r\n    if (!matcher.matches()) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    return null;","title":"InputFilter for two capital letters and one or two digits, works only if the first input is a digit","body":"<p>If you want use regex method use below.</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;[A-Z]{2}\\\\d{1,2}&quot;);\n    \nString input = dest.subSequence(0, dstart)\n             + source.toString()\n             + dest.subSequence(dend, dest.length());\n\nMatcher matcher = pattern.matcher(input);\nif (!matcher.matches()) {\n    return &quot;&quot;;\n}\n\nreturn null;\n</code></pre>\n"}],"owner":{"account_id":2097402,"reputation":3223,"user_id":1865860,"accept_rate":87,"display_name":"dentex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678273255,"creation_date":1676918666,"question_id":75513081,"body_markdown":"I need to restrict the input that can be entered into a `TextInputEditText` to two capital letters and one or two digits, as in AB01, CS8, XY99 or ND5.\r\n\r\nSo I wrote this method:\r\n\r\n    /**\r\n     * @return an InputFilter that restricts input to the format of two capital letters and one or two digits\r\n     */\r\n    public static InputFilter getClientIdInputFilter() {\r\n        return (source, start, end, dest, dstart, dend) -&gt; {\r\n            Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\r\n            String destTxt = dest.toString();\r\n            String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\r\n            Log.v(DEBUG_TAG, input);\r\n            if (input.matches(&quot;^[A-Z]{0,2}[0-9]{0,2}$&quot;)) {\r\n                if (input.length() == 1 &amp;&amp; input.matches(&quot;^[0-9]$&quot;)) {\r\n                    Log.v(DEBUG_TAG, &quot;Invalid input A&quot;);\r\n                    return &quot;&quot;;\r\n                }\r\n                if (input.length() == 2 &amp;&amp; !input.matches(&quot;^[A-Z]{2}$&quot;)) {\r\n                    Log.v(DEBUG_TAG, &quot;Invalid input B&quot;);\r\n                    return &quot;&quot;;\r\n                }\r\n                Log.v(DEBUG_TAG, &quot;Valid input&quot;);\r\n                return null;\r\n            }\r\n            Log.v(DEBUG_TAG, &quot;Invalid input C&quot;);\r\n            return &quot;&quot;;\r\n        };\r\n    }\r\n\r\nThat I use like this:\r\n\r\n    TextInputEditText clientId = dialogView.findViewById(R.id.edit_text_client_id);\r\n    InputFilter[] clientIdFilters = new InputFilter[1];\r\n    clientIdFilters[0] = InputFilterUtils.getClientIdInputFilter();\r\n    clientId.setFilters(clientIdFilters);\r\n\r\nIt *almost* works perfectly... \r\n\r\nThe problem is that **only** when starting typing from an empty `textfield`, after the first two capital letters (so at the 3rd one) the field gets deleted completely. If, instead, a number is entered first (and gets correctly ignored), if you continue to type letters, when reaching the 3rd letter, this time the first two remains and the user can continue entering the digits...\r\n\r\nI don&#39;t have a clue for this behavior (I added some logging entries, but it&#39;s not clear anyway)","title":"InputFilter for two capital letters and one or two digits, works only if the first input is a digit","body":"<p>I need to restrict the input that can be entered into a <code>TextInputEditText</code> to two capital letters and one or two digits, as in AB01, CS8, XY99 or ND5.</p>\n<p>So I wrote this method:</p>\n<pre><code>/**\n * @return an InputFilter that restricts input to the format of two capital letters and one or two digits\n */\npublic static InputFilter getClientIdInputFilter() {\n    return (source, start, end, dest, dstart, dend) -&gt; {\n        Log.v(DEBUG_TAG, &quot;----\\nsource: &quot; + source + &quot;, start: &quot; + start + &quot;, end: &quot; + end + &quot;, dest: &quot; + dest + &quot;, dstart: &quot; + dstart + &quot;, dend: &quot; + dend);\n        String destTxt = dest.toString();\n        String input = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);\n        Log.v(DEBUG_TAG, input);\n        if (input.matches(&quot;^[A-Z]{0,2}[0-9]{0,2}$&quot;)) {\n            if (input.length() == 1 &amp;&amp; input.matches(&quot;^[0-9]$&quot;)) {\n                Log.v(DEBUG_TAG, &quot;Invalid input A&quot;);\n                return &quot;&quot;;\n            }\n            if (input.length() == 2 &amp;&amp; !input.matches(&quot;^[A-Z]{2}$&quot;)) {\n                Log.v(DEBUG_TAG, &quot;Invalid input B&quot;);\n                return &quot;&quot;;\n            }\n            Log.v(DEBUG_TAG, &quot;Valid input&quot;);\n            return null;\n        }\n        Log.v(DEBUG_TAG, &quot;Invalid input C&quot;);\n        return &quot;&quot;;\n    };\n}\n</code></pre>\n<p>That I use like this:</p>\n<pre><code>TextInputEditText clientId = dialogView.findViewById(R.id.edit_text_client_id);\nInputFilter[] clientIdFilters = new InputFilter[1];\nclientIdFilters[0] = InputFilterUtils.getClientIdInputFilter();\nclientId.setFilters(clientIdFilters);\n</code></pre>\n<p>It <em>almost</em> works perfectly...</p>\n<p>The problem is that <strong>only</strong> when starting typing from an empty <code>textfield</code>, after the first two capital letters (so at the 3rd one) the field gets deleted completely. If, instead, a number is entered first (and gets correctly ignored), if you continue to type letters, when reaching the 3rd letter, this time the first two remains and the user can continue entering the digits...</p>\n<p>I don't have a clue for this behavior (I added some logging entries, but it's not clear anyway)</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-boot"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1402494012,"post_id":24164014,"comment_id":37294467,"body_markdown":"I don&#39;t think Spring Boot does that (not in any of the samples I tried anyway). Maybe you can share a minimal project that has these headers in the responses?","body":"I don&#39;t think Spring Boot does that (not in any of the samples I tried anyway). Maybe you can share a minimal project that has these headers in the responses?"},{"owner":{"account_id":317484,"reputation":2690,"user_id":634204,"display_name":"Samuli Pahaoja"},"score":2,"creation_date":1402559671,"post_id":24164014,"comment_id":37322145,"body_markdown":"You are right. The culprit turned out to be Spring Security.","body":"You are right. The culprit turned out to be Spring Security."}],"answers":[{"tags":[],"owner":{"account_id":317484,"reputation":2690,"user_id":634204,"display_name":"Samuli Pahaoja"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1429780313,"creation_date":1402559603,"answer_id":24179151,"question_id":24164014,"body_markdown":"Turns out the no-cache HTTP headers are set by Spring Security. This is discussed in http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#headers.\r\n\r\nThe following disables the HTTP response header `Pragma: no-cache`, but doesn&#39;t otherwise solve the problem:\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.annotation.web.servlet.configuration.EnableWebMvcSecurity;\r\n    \r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            // Prevent the HTTP response header of &quot;Pragma: no-cache&quot;.\r\n            http.headers().cacheControl().disable();\r\n        }\r\n    }\r\n\r\nI ended up disabling Spring Security completely for public static resources as following (in the same class as above):\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/static/public/**&quot;);\r\n    }\r\n\r\nThis requires configuring two resource handlers to get cache control headers right:\r\n\r\n    @Configuration\r\n    public class MvcConfigurer extends WebMvcConfigurerAdapter\r\n            implements EmbeddedServletContainerCustomizer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            // Resources without Spring Security. No cache control response headers.\r\n            registry.addResourceHandler(&quot;/static/public/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/public/&quot;);\r\n\r\n            // Resources controlled by Spring Security, which\r\n            // adds &quot;Cache-Control: must-revalidate&quot;.\r\n            registry.addResourceHandler(&quot;/static/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                .setCachePeriod(3600*24);\r\n        }\r\n    }\r\n\r\nSee also https://stackoverflow.com/questions/24916894/serving-static-web-resources-in-spring-boot-spring-security-application.","title":"How to enable HTTP response caching in Spring Boot","body":"<p>Turns out the no-cache HTTP headers are set by Spring Security. This is discussed in <a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#headers\" rel=\"noreferrer\">http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#headers</a>.</p>\n\n<p>The following disables the HTTP response header <code>Pragma: no-cache</code>, but doesn't otherwise solve the problem:</p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.servlet.configuration.EnableWebMvcSecurity;\n\n@Configuration\n@EnableWebMvcSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // Prevent the HTTP response header of \"Pragma: no-cache\".\n        http.headers().cacheControl().disable();\n    }\n}\n</code></pre>\n\n<p>I ended up disabling Spring Security completely for public static resources as following (in the same class as above):</p>\n\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web.ignoring().antMatchers(\"/static/public/**\");\n}\n</code></pre>\n\n<p>This requires configuring two resource handlers to get cache control headers right:</p>\n\n<pre><code>@Configuration\npublic class MvcConfigurer extends WebMvcConfigurerAdapter\n        implements EmbeddedServletContainerCustomizer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // Resources without Spring Security. No cache control response headers.\n        registry.addResourceHandler(\"/static/public/**\")\n            .addResourceLocations(\"classpath:/static/public/\");\n\n        // Resources controlled by Spring Security, which\n        // adds \"Cache-Control: must-revalidate\".\n        registry.addResourceHandler(\"/static/**\")\n            .addResourceLocations(\"classpath:/static/\")\n            .setCachePeriod(3600*24);\n    }\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/24916894/serving-static-web-resources-in-spring-boot-spring-security-application\">Serving static web resources in Spring Boot &amp; Spring Security application</a>.</p>\n"},{"tags":[],"owner":{"account_id":7156997,"reputation":167,"user_id":5469081,"display_name":"Michal AmbroÅ¾"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459280102,"creation_date":1459280102,"answer_id":36293562,"question_id":24164014,"body_markdown":"I run into similar problem. I wanted to get just some of dynamic resources (images) cached in the browser. If image changes (not very often) I change the part of uri... This is my sollution\r\n\r\n\t\thttp.headers().cacheControl().disable();\r\n\t\thttp.headers().addHeaderWriter(new HeaderWriter() {\r\n\t\t\t\r\n\t\t\tCacheControlHeadersWriter originalWriter = new CacheControlHeadersWriter();\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void writeHeaders(HttpServletRequest request, HttpServletResponse response) {\r\n\t\t\t\tCollection&lt;String&gt; headerNames = response.getHeaderNames();\r\n\t\t\t\tString requestUri = request.getRequestURI();\r\n\t\t\t\tif(!requestUri.startsWith(&quot;/web/eventImage&quot;)) {\r\n\t\t\t\t\toriginalWriter.writeHeaders(request, response);\r\n\t\t\t\t} else {\r\n                   //write header here or do nothing if it was set in the code\r\n                }\t\t\r\n\t\t\t}\r\n\t\t});\r\n","title":"How to enable HTTP response caching in Spring Boot","body":"<p>I run into similar problem. I wanted to get just some of dynamic resources (images) cached in the browser. If image changes (not very often) I change the part of uri... This is my sollution</p>\n\n<pre><code>    http.headers().cacheControl().disable();\n    http.headers().addHeaderWriter(new HeaderWriter() {\n\n        CacheControlHeadersWriter originalWriter = new CacheControlHeadersWriter();\n\n        @Override\n        public void writeHeaders(HttpServletRequest request, HttpServletResponse response) {\n            Collection&lt;String&gt; headerNames = response.getHeaderNames();\n            String requestUri = request.getRequestURI();\n            if(!requestUri.startsWith(\"/web/eventImage\")) {\n                originalWriter.writeHeaders(request, response);\n            } else {\n               //write header here or do nothing if it was set in the code\n            }       \n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1255304,"reputation":2455,"user_id":1214902,"display_name":"dap.tci"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471541784,"creation_date":1471541784,"answer_id":39024337,"question_id":24164014,"body_markdown":"I have found this Spring extension: https://github.com/foo4u/spring-mvc-cache-control.\r\n\r\nYou just have to do three steps.\r\n\r\nStep 1 (pom.xml):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;net.rossillo.mvc.cache&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-mvc-cache-control&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.1.1-RELEASE&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2 (WebMvcConfiguration.java):\r\n\r\n    @Configuration\r\n    public class WebMvcConfig extends WebMvcConfigurerAdapter implements WebMvcConfigurer {\r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(new CacheControlHandlerInterceptor());\r\n        }\r\n    }\r\n\r\nStep 3 (Controller):\r\n    \r\n    @Controller\r\n    public class MyRestController {\r\n\r\n        @CacheControl(maxAge=31556926)\r\n        @RequestMapping(value = &quot;/someUrl&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\r\n                HttpServletResponse httpResponse) throws SQLException {\r\n            return new ResponseEntity&lt;String&gt;(&quot;{}&quot;, HttpStatus.OK);\r\n        }\r\n    }","title":"How to enable HTTP response caching in Spring Boot","body":"<p>I have found this Spring extension: <a href=\"https://github.com/foo4u/spring-mvc-cache-control\" rel=\"noreferrer\">https://github.com/foo4u/spring-mvc-cache-control</a>.</p>\n\n<p>You just have to do three steps.</p>\n\n<p>Step 1 (pom.xml):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.rossillo.mvc.cache&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc-cache-control&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1-RELEASE&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Step 2 (WebMvcConfiguration.java):</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig extends WebMvcConfigurerAdapter implements WebMvcConfigurer {\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new CacheControlHandlerInterceptor());\n    }\n}\n</code></pre>\n\n<p>Step 3 (Controller):</p>\n\n<pre><code>@Controller\npublic class MyRestController {\n\n    @CacheControl(maxAge=31556926)\n    @RequestMapping(value = \"/someUrl\", method = RequestMethod.GET)\n    public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\n            HttpServletResponse httpResponse) throws SQLException {\n        return new ResponseEntity&lt;String&gt;(\"{}\", HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4059905,"reputation":1265,"user_id":3541666,"accept_rate":0,"display_name":"Vazgen Torosyan"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1482486926,"creation_date":1482486926,"answer_id":41299093,"question_id":24164014,"body_markdown":"    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class WebMvcConfiguration extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \r\n            registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;/resources/&quot;)\r\n                    .setCachePeriod(31556926);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to enable HTTP response caching in Spring Boot","body":"<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class WebMvcConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n\n        registry.addResourceHandler(\"/resources/**\")\n                .addResourceLocations(\"/resources/\")\n                .setCachePeriod(31556926);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1740131,"reputation":3810,"user_id":1591777,"display_name":"cstroe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539238675,"creation_date":1539237887,"answer_id":52753267,"question_id":24164014,"body_markdown":"If you don&#39;t care to have your static resources authenticated, you could do this:\r\n\r\n    import static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toStaticResources;\r\n    \r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    ...\r\n        @Override\r\n        public void configure(WebSecurity webSecurity) throws Exception {\r\n            webSecurity\r\n                    .ignoring()\r\n                    .requestMatchers(toStaticResources().atCommonLocations());\r\n        }\r\n    ...\r\n    }\r\n\r\nand in your `application.properties`:\r\n\r\n    spring.resources.cache.cachecontrol.max-age=43200\r\n\r\nSee [ResourceProperties.java](https://github.com/spring-projects/spring-boot/blob/cc6cf880cf0323fce34a35fd63ecb8d6d2661a08/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ResourceProperties.java#L311) for more properties that can be set.","title":"How to enable HTTP response caching in Spring Boot","body":"<p>If you don't care to have your static resources authenticated, you could do this:</p>\n\n<pre><code>import static org.springframework.boot.autoconfigure.security.servlet.PathRequest.toStaticResources;\n\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n...\n    @Override\n    public void configure(WebSecurity webSecurity) throws Exception {\n        webSecurity\n                .ignoring()\n                .requestMatchers(toStaticResources().atCommonLocations());\n    }\n...\n}\n</code></pre>\n\n<p>and in your <code>application.properties</code>:</p>\n\n<pre><code>spring.resources.cache.cachecontrol.max-age=43200\n</code></pre>\n\n<p>See <a href=\"https://github.com/spring-projects/spring-boot/blob/cc6cf880cf0323fce34a35fd63ecb8d6d2661a08/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/ResourceProperties.java#L311\" rel=\"nofollow noreferrer\">ResourceProperties.java</a> for more properties that can be set.</p>\n"},{"tags":[],"owner":{"account_id":7960475,"reputation":1059,"user_id":6008458,"accept_rate":73,"display_name":"Merv"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1547350964,"creation_date":1547350236,"answer_id":54165872,"question_id":24164014,"body_markdown":"There are a lot of ways in spring boot for http caching. Using spring boot 2.1.1 and additionally spring security 5.1.1.\r\n\r\n\r\n**1\\. For resources using resourcehandler in code:**\r\n\r\nYou can add customized extensions of resources this way.\r\n\r\n    registry.addResourceHandler\r\n\r\nIs for adding the uri path where to get the resource\r\n\r\n    .addResourceLocations\r\n\r\nIs for setting the location in the filesystem where the resources are located(\r\ngiven is a relative with classpath but absolute path with file::// is also possible.)\r\n\r\n    .setCacheControl\r\n\r\nIs for setting the cache headers (self explanatory.)\r\n\r\nResourcechain and resolver are optional (in this case exactly as the default values.)\r\n\r\n    @Configuration\r\n    public class CustomWebMVCConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/*.js&quot;, &quot;/*.css&quot;, &quot;/*.ttf&quot;, &quot;/*.woff&quot;, &quot;/*.woff2&quot;, &quot;/*.eot&quot;,\r\n                &quot;/*.svg&quot;)\r\n                .addResourceLocations(&quot;classpath:/static/&quot;)\r\n                .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS)\r\n                        .cachePrivate()\r\n                        .mustRevalidate())\r\n                .resourceChain(true)\r\n                .addResolver(new PathResourceResolver());\r\n        }\r\n    }\r\n\r\n**2. For resources using application properties config file**\r\n\r\nSame as above, minus the specific patterns, but now as config.\r\n**This configuration is applied to all resources in the static-locations listed.**\r\n\r\n    spring.resources.cache.cachecontrol.cache-private=true\r\n    spring.resources.cache.cachecontrol.must-revalidate=true\r\n    spring.resources.cache.cachecontrol.max-age=31536000\r\n    spring.resources.static-locations=classpath:/static/\r\n\r\n**3. At controller level**\r\n\r\nResponse here is the HttpServletResponse injected in the controller method as parameter.\r\n\r\n    no-cache, must-revalidate, private\r\ngetHeaderValue will output the cache options as string. e.g. \r\n\r\n\r\n    response.setHeader(HttpHeaders.CACHE_CONTROL,\r\n                CacheControl.noCache()\r\n                        .cachePrivate()\r\n                        .mustRevalidate()\r\n                        .getHeaderValue());","title":"How to enable HTTP response caching in Spring Boot","body":"<p>There are a lot of ways in spring boot for http caching. Using spring boot 2.1.1 and additionally spring security 5.1.1.</p>\n\n<p><strong>1. For resources using resourcehandler in code:</strong></p>\n\n<p>You can add customized extensions of resources this way.</p>\n\n<pre><code>registry.addResourceHandler\n</code></pre>\n\n<p>Is for adding the uri path where to get the resource</p>\n\n<pre><code>.addResourceLocations\n</code></pre>\n\n<p>Is for setting the location in the filesystem where the resources are located(\ngiven is a relative with classpath but absolute path with file::// is also possible.)</p>\n\n<pre><code>.setCacheControl\n</code></pre>\n\n<p>Is for setting the cache headers (self explanatory.)</p>\n\n<p>Resourcechain and resolver are optional (in this case exactly as the default values.)</p>\n\n<pre><code>@Configuration\npublic class CustomWebMVCConfig implements WebMvcConfigurer {\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(\"/*.js\", \"/*.css\", \"/*.ttf\", \"/*.woff\", \"/*.woff2\", \"/*.eot\",\n            \"/*.svg\")\n            .addResourceLocations(\"classpath:/static/\")\n            .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS)\n                    .cachePrivate()\n                    .mustRevalidate())\n            .resourceChain(true)\n            .addResolver(new PathResourceResolver());\n    }\n}\n</code></pre>\n\n<p><strong>2. For resources using application properties config file</strong></p>\n\n<p>Same as above, minus the specific patterns, but now as config.\n<strong>This configuration is applied to all resources in the static-locations listed.</strong></p>\n\n<pre><code>spring.resources.cache.cachecontrol.cache-private=true\nspring.resources.cache.cachecontrol.must-revalidate=true\nspring.resources.cache.cachecontrol.max-age=31536000\nspring.resources.static-locations=classpath:/static/\n</code></pre>\n\n<p><strong>3. At controller level</strong></p>\n\n<p>Response here is the HttpServletResponse injected in the controller method as parameter.</p>\n\n<pre><code>no-cache, must-revalidate, private\n</code></pre>\n\n<p>getHeaderValue will output the cache options as string. e.g. </p>\n\n<pre><code>response.setHeader(HttpHeaders.CACHE_CONTROL,\n            CacheControl.noCache()\n                    .cachePrivate()\n                    .mustRevalidate()\n                    .getHeaderValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565719781,"creation_date":1565719781,"answer_id":57483236,"question_id":24164014,"body_markdown":"I used below lines in my controller.\r\n\r\n    ResponseEntity.ok().cacheControl(CacheControl.maxAge(secondWeWantTobeCached, TimeUnit.SECONDS)).body(objToReturnInResponse);\r\n\r\nPlease note that Response will have header Cache-Control with value secondWeWantTobeCached. However if we are typing url in addressbar and pressing enter, Request will always be sent from Chrome to server. However if we hit url from some link, browser will not send a new request and it will be taken from cache. ","title":"How to enable HTTP response caching in Spring Boot","body":"<p>I used below lines in my controller.</p>\n\n<pre><code>ResponseEntity.ok().cacheControl(CacheControl.maxAge(secondWeWantTobeCached, TimeUnit.SECONDS)).body(objToReturnInResponse);\n</code></pre>\n\n<p>Please note that Response will have header Cache-Control with value secondWeWantTobeCached. However if we are typing url in addressbar and pressing enter, Request will always be sent from Chrome to server. However if we hit url from some link, browser will not send a new request and it will be taken from cache. </p>\n"},{"tags":[],"owner":{"account_id":6556829,"reputation":121,"user_id":5069277,"display_name":"Nausheen Khan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1678273159,"creation_date":1586616393,"answer_id":61158618,"question_id":24164014,"body_markdown":"Overriding of default caching behavior for a particular method can be done in the below way:\r\n    \r\n    @Controller\r\n    public class MyRestController {\r\n        @RequestMapping(value = &quot;/someUrl&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\r\n                HttpServletResponse httpResponse) throws SQLException {\r\n            return ResponseEntity.ok().cacheControl(CacheControl.maxAge(100, TimeUnit.SECONDS)).body(T)\r\n        }\r\n    }\r\n\r\n","title":"How to enable HTTP response caching in Spring Boot","body":"<p>Overriding of default caching behavior for a particular method can be done in the below way:</p>\n<pre><code>@Controller\npublic class MyRestController {\n    @RequestMapping(value = &quot;/someUrl&quot;, method = RequestMethod.GET)\n    public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\n            HttpServletResponse httpResponse) throws SQLException {\n        return ResponseEntity.ok().cacheControl(CacheControl.maxAge(100, TimeUnit.SECONDS)).body(T)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22053151,"reputation":41,"user_id":16317107,"display_name":"flavius1337"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1624695975,"creation_date":1624695975,"answer_id":68140551,"question_id":24164014,"body_markdown":"The *CacheControl* class is a fluent builder, which makes it easy for us to create different types of caching:\r\n\r\n    @GetMapping(&quot;/users/{name}&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; getUser(@PathVariable String name) { \r\n        return ResponseEntity.ok()\r\n          .cacheControl(CacheControl.maxAge(60, TimeUnit.SECONDS))\r\n          .body(new UserDto(name));\r\n    }\r\n\r\nLet&#39;s hit this endpoint in our test, and assert that we have changed the headers:\r\n\r\n    given()\r\n      .when()\r\n      .get(getBaseUrl() + &quot;/users/Michael&quot;)\r\n      .then()\r\n      .header(&quot;Cache-Control&quot;, &quot;max-age=60&quot;);","title":"How to enable HTTP response caching in Spring Boot","body":"<p>The <em>CacheControl</em> class is a fluent builder, which makes it easy for us to create different types of caching:</p>\n<pre><code>@GetMapping(&quot;/users/{name}&quot;)\npublic ResponseEntity&lt;UserDto&gt; getUser(@PathVariable String name) { \n    return ResponseEntity.ok()\n      .cacheControl(CacheControl.maxAge(60, TimeUnit.SECONDS))\n      .body(new UserDto(name));\n}\n</code></pre>\n<p>Let's hit this endpoint in our test, and assert that we have changed the headers:</p>\n<pre><code>given()\n  .when()\n  .get(getBaseUrl() + &quot;/users/Michael&quot;)\n  .then()\n  .header(&quot;Cache-Control&quot;, &quot;max-age=60&quot;);\n</code></pre>\n"}],"owner":{"account_id":317484,"reputation":2690,"user_id":634204,"display_name":"Samuli Pahaoja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119762,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":24179151,"answer_count":9,"score":73,"last_activity_date":1678273159,"creation_date":1402492760,"question_id":24164014,"body_markdown":"I have implemented a REST server using Spring Boot 1.0.2. I&#39;m having trouble preventing Spring from setting HTTP headers that disable HTTP caching.\r\n\r\nMy controller is as following:\r\n\r\n    @Controller\r\n    public class MyRestController {\r\n        @RequestMapping(value = &quot;/someUrl&quot;, method = RequestMethod.GET)\r\n        public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\r\n                HttpServletResponse httpResponse) throws SQLException {\r\n            return new ResponseEntity&lt;String&gt;(&quot;{}&quot;, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nAll HTTP responses contain the following headers:\r\n\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    Expires: 0\r\n    Pragma: no-cache\r\n\r\n\r\nI&#39;ve tried the following to remove or change those headers:\r\n\r\n 1. Call `setCacheSeconds(-1)` in the controller.\r\n 2. Call `httpResponse.setHeader(&quot;Cache-Control&quot;, &quot;max-age=123&quot;)` in the controller.\r\n 3. Define `@Bean` that returns `WebContentInterceptor` for which I&#39;ve called `setCacheSeconds(-1)`.\r\n 4. Set property `spring.resources.cache-period` to -1 or a positive value in `application.properties`.\r\n\r\nNone of the above have had any effect. How do I disable or change these headers for all or individual requests in Spring Boot?\r\n\r\n","title":"How to enable HTTP response caching in Spring Boot","body":"<p>I have implemented a REST server using Spring Boot 1.0.2. I'm having trouble preventing Spring from setting HTTP headers that disable HTTP caching.</p>\n\n<p>My controller is as following:</p>\n\n<pre><code>@Controller\npublic class MyRestController {\n    @RequestMapping(value = \"/someUrl\", method = RequestMethod.GET)\n    public @ResponseBody ResponseEntity&lt;String&gt; myMethod(\n            HttpServletResponse httpResponse) throws SQLException {\n        return new ResponseEntity&lt;String&gt;(\"{}\", HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>All HTTP responses contain the following headers:</p>\n\n<pre><code>Cache-Control: no-cache, no-store, max-age=0, must-revalidate\nExpires: 0\nPragma: no-cache\n</code></pre>\n\n<p>I've tried the following to remove or change those headers:</p>\n\n<ol>\n<li>Call <code>setCacheSeconds(-1)</code> in the controller.</li>\n<li>Call <code>httpResponse.setHeader(\"Cache-Control\", \"max-age=123\")</code> in the controller.</li>\n<li>Define <code>@Bean</code> that returns <code>WebContentInterceptor</code> for which I've called <code>setCacheSeconds(-1)</code>.</li>\n<li>Set property <code>spring.resources.cache-period</code> to -1 or a positive value in <code>application.properties</code>.</li>\n</ol>\n\n<p>None of the above have had any effect. How do I disable or change these headers for all or individual requests in Spring Boot?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":7006419,"reputation":1412,"user_id":5370631,"accept_rate":36,"display_name":"Shibu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678272872,"creation_date":1678264803,"question_id":75670886,"body_markdown":"I am trying to transform the structure of a json string  in a spark df but not getting desired results. would be glad if someone can help me.\r\n\r\ndf has a columns say json with below data:\r\n\r\n    {&quot;update_date&quot;: &quot;2023-02-22&quot;, &quot;10316345&quot;: [{&quot;rejection_score&quot;: 0, &quot;last_accept_date&quot;: &quot;2023-02-22&quot;, &quot;sub_item_id&quot;: &quot;748263914&quot;, &quot;acceptance_score&quot;: 1}], \r\n                                      &quot;509289088&quot;: [{&quot;rejection_score&quot;: 0, &quot;last_accept_date&quot;: &quot;2023-02-22&quot;, &quot;sub_item_id&quot;: &quot;350213530&quot;, &quot;acceptance_score&quot;: 1}], \r\n         &quot;cid&quot;: &quot;fe1f61915e9e4f13811c47a&quot;}\r\n\r\nI am trying to transform in below format\r\n\r\n   \r\n\r\n     {&quot;id&quot;:&quot;fe1f61915e9e4f13811c47a&quot;,\r\n    &quot;page_candidates&quot;:[{&quot;id&quot;:&quot;SSUP&quot;,\r\n                        &quot;zone_candidates&quot;:[{&quot;node_id&quot;:&quot;509289088&quot;,\r\n                                            &quot;html&quot;:&quot;{\\&quot;509289088\\&quot;:[{\\&quot;last_accept_date\\&quot;:\\&quot;2023-02-22\\&quot;,\\&quot;sub_item_id\\&quot;:\\&quot;350213530\\&quot;,\\&quot;acceptance_score\\&quot;:1,\\&quot;rejection_score\\&quot;:0}],\r\n                                                        \\&quot;10316345\\&quot;:[{\\&quot;last_accept_date\\&quot;:\\&quot;2023-02-22\\&quot;,\\&quot;sub_item_id\\&quot;:\\&quot;748263914\\&quot;,\\&quot;acceptance_score\\&quot;:1,\\&quot;rejection_score\\&quot;:0}],\r\n                                                       \\&quot;update_date\\&quot;:\\&quot;2023-02 22\\&quot;,\\&quot;cid\\&quot;:\\&quot;fe1f61915e9e4f13811c47a\\&quot;}&quot;,&quot;score&quot;:0.0,&quot;scoreCap&quot;:0.0}]}]}\r\n\r\n\r\njson schema:\r\n\r\n    \r\n    &quot;update_date&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    &quot;10316345&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;rejection_score&quot;: {\r\n              &quot;type&quot;: &quot;integer&quot;\r\n            },\r\n            &quot;last_accept_date&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;sub_item_id&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;acceptance_score&quot;: {\r\n              &quot;type&quot;: &quot;integer&quot;\r\n            }\r\n          },\r\n          &quot;required&quot;: [\r\n            &quot;rejection_score&quot;,\r\n            &quot;last_accept_date&quot;,\r\n            &quot;sub_item_id&quot;,\r\n            &quot;acceptance_score&quot;\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    &quot;509289088&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;rejection_score&quot;: {\r\n              &quot;type&quot;: &quot;integer&quot;\r\n            },\r\n            &quot;last_accept_date&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;sub_item_id&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;acceptance_score&quot;: {\r\n              &quot;type&quot;: &quot;integer&quot;\r\n            }\r\n          },\r\n          &quot;required&quot;: [\r\n            &quot;rejection_score&quot;,\r\n            &quot;last_accept_date&quot;,\r\n            &quot;sub_item_id&quot;,\r\n            &quot;acceptance_score&quot;\r\n          ]\r\n        }\r\n      ]\r\n    },\r\n    &quot;cid&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    }\r\n  }\r\n\r\ntransformed json schema:\r\n\r\n    {\r\n    &quot;id&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    &quot;page_candidates&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;id&quot;: {\r\n              &quot;type&quot;: &quot;string&quot;\r\n            },\r\n            &quot;zone_candidates&quot;: {\r\n              &quot;type&quot;: &quot;array&quot;,\r\n              &quot;items&quot;: [\r\n                {\r\n                  &quot;type&quot;: &quot;object&quot;,\r\n                  &quot;properties&quot;: {\r\n                    &quot;node_id&quot;: {\r\n                      &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;html&quot;: {\r\n                      &quot;type&quot;: &quot;string&quot;\r\n                    },\r\n                    &quot;score&quot;: {\r\n                      &quot;type&quot;: &quot;number&quot;\r\n                    },\r\n                    &quot;scoreCap&quot;: {\r\n                      &quot;type&quot;: &quot;number&quot;\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }","title":"transform json schema for spark df column","body":"<p>I am trying to transform the structure of a json string  in a spark df but not getting desired results. would be glad if someone can help me.</p>\n<p>df has a columns say json with below data:</p>\n<pre><code>{&quot;update_date&quot;: &quot;2023-02-22&quot;, &quot;10316345&quot;: [{&quot;rejection_score&quot;: 0, &quot;last_accept_date&quot;: &quot;2023-02-22&quot;, &quot;sub_item_id&quot;: &quot;748263914&quot;, &quot;acceptance_score&quot;: 1}], \n                                  &quot;509289088&quot;: [{&quot;rejection_score&quot;: 0, &quot;last_accept_date&quot;: &quot;2023-02-22&quot;, &quot;sub_item_id&quot;: &quot;350213530&quot;, &quot;acceptance_score&quot;: 1}], \n     &quot;cid&quot;: &quot;fe1f61915e9e4f13811c47a&quot;}\n</code></pre>\n<p>I am trying to transform in below format</p>\n<pre><code> {&quot;id&quot;:&quot;fe1f61915e9e4f13811c47a&quot;,\n&quot;page_candidates&quot;:[{&quot;id&quot;:&quot;SSUP&quot;,\n                    &quot;zone_candidates&quot;:[{&quot;node_id&quot;:&quot;509289088&quot;,\n                                        &quot;html&quot;:&quot;{\\&quot;509289088\\&quot;:[{\\&quot;last_accept_date\\&quot;:\\&quot;2023-02-22\\&quot;,\\&quot;sub_item_id\\&quot;:\\&quot;350213530\\&quot;,\\&quot;acceptance_score\\&quot;:1,\\&quot;rejection_score\\&quot;:0}],\n                                                    \\&quot;10316345\\&quot;:[{\\&quot;last_accept_date\\&quot;:\\&quot;2023-02-22\\&quot;,\\&quot;sub_item_id\\&quot;:\\&quot;748263914\\&quot;,\\&quot;acceptance_score\\&quot;:1,\\&quot;rejection_score\\&quot;:0}],\n                                                   \\&quot;update_date\\&quot;:\\&quot;2023-02 22\\&quot;,\\&quot;cid\\&quot;:\\&quot;fe1f61915e9e4f13811c47a\\&quot;}&quot;,&quot;score&quot;:0.0,&quot;scoreCap&quot;:0.0}]}]}\n</code></pre>\n<p>json schema:</p>\n<pre><code>&quot;update_date&quot;: {\n  &quot;type&quot;: &quot;string&quot;\n},\n&quot;10316345&quot;: {\n  &quot;type&quot;: &quot;array&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;rejection_score&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;last_accept_date&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;sub_item_id&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;acceptance_score&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      },\n      &quot;required&quot;: [\n        &quot;rejection_score&quot;,\n        &quot;last_accept_date&quot;,\n        &quot;sub_item_id&quot;,\n        &quot;acceptance_score&quot;\n      ]\n    }\n  ]\n},\n&quot;509289088&quot;: {\n  &quot;type&quot;: &quot;array&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;rejection_score&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;last_accept_date&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;sub_item_id&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;acceptance_score&quot;: {\n          &quot;type&quot;: &quot;integer&quot;\n        }\n      },\n      &quot;required&quot;: [\n        &quot;rejection_score&quot;,\n        &quot;last_accept_date&quot;,\n        &quot;sub_item_id&quot;,\n        &quot;acceptance_score&quot;\n      ]\n    }\n  ]\n},\n&quot;cid&quot;: {\n  &quot;type&quot;: &quot;string&quot;\n}\n</code></pre>\n<p>}</p>\n<p>transformed json schema:</p>\n<pre><code>{\n&quot;id&quot;: {\n  &quot;type&quot;: &quot;string&quot;\n},\n&quot;page_candidates&quot;: {\n  &quot;type&quot;: &quot;array&quot;,\n  &quot;items&quot;: [\n    {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;id&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;zone_candidates&quot;: {\n          &quot;type&quot;: &quot;array&quot;,\n          &quot;items&quot;: [\n            {\n              &quot;type&quot;: &quot;object&quot;,\n              &quot;properties&quot;: {\n                &quot;node_id&quot;: {\n                  &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;html&quot;: {\n                  &quot;type&quot;: &quot;string&quot;\n                },\n                &quot;score&quot;: {\n                  &quot;type&quot;: &quot;number&quot;\n                },\n                &quot;scoreCap&quot;: {\n                  &quot;type&quot;: &quot;number&quot;\n                }\n              }\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","integer","pass-by-reference"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1444412003,"post_id":3330864,"comment_id":53908987,"body_markdown":"Related question: http://stackoverflow.com/questions/4520137/does-java-have-mutable-types-for-integer-float-double-long","body":"Related question: <a href=\"http://stackoverflow.com/questions/4520137/does-java-have-mutable-types-for-integer-float-double-long\" title=\"does java have mutable types for integer float double long\">stackoverflow.com/questions/4520137/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1514801464,"creation_date":1280089806,"answer_id":3330884,"question_id":3330864,"body_markdown":"There are two problems:\r\n\r\n1. Integer is pass by value, not by reference. Changing the reference inside a method won&#39;t be reflected into the passed-in reference in the calling method.\r\n2. Integer is immutable. There&#39;s no such method like `Integer#set(i)`. You could otherwise just make use of it.\r\n\r\nTo get it to work, you need to reassign the return value of the `inc()` method.\r\n\r\n    integer = inc(integer);\r\n\r\n---\r\n\r\nTo learn a bit more about passing by value, here&#39;s another example:\r\n\r\n    public static void main(String... args) {\r\n        String[] strings = new String[] { &quot;foo&quot;, &quot;bar&quot; };\r\n        changeReference(strings);\r\n        System.out.println(Arrays.toString(strings)); // still [foo, bar]\r\n        changeValue(strings);\r\n        System.out.println(Arrays.toString(strings)); // [foo, foo]\r\n    }\r\n    public static void changeReference(String[] strings) {\r\n        strings = new String[] { &quot;foo&quot;, &quot;foo&quot; };\r\n    }\r\n    public static void changeValue(String[] strings) {\r\n        strings[1] = &quot;foo&quot;;\r\n    }\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>There are two problems:</p>\n\n<ol>\n<li>Integer is pass by value, not by reference. Changing the reference inside a method won't be reflected into the passed-in reference in the calling method.</li>\n<li>Integer is immutable. There's no such method like <code>Integer#set(i)</code>. You could otherwise just make use of it.</li>\n</ol>\n\n<p>To get it to work, you need to reassign the return value of the <code>inc()</code> method.</p>\n\n<pre><code>integer = inc(integer);\n</code></pre>\n\n<hr>\n\n<p>To learn a bit more about passing by value, here's another example:</p>\n\n<pre><code>public static void main(String... args) {\n    String[] strings = new String[] { \"foo\", \"bar\" };\n    changeReference(strings);\n    System.out.println(Arrays.toString(strings)); // still [foo, bar]\n    changeValue(strings);\n    System.out.println(Arrays.toString(strings)); // [foo, foo]\n}\npublic static void changeReference(String[] strings) {\n    strings = new String[] { \"foo\", \"foo\" };\n}\npublic static void changeValue(String[] strings) {\n    strings[1] = \"foo\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280089872,"creation_date":1280089872,"answer_id":3330887,"question_id":3330864,"body_markdown":"I think it is the autoboxing that is throwing you off.\r\n\r\nThis part of your code:\r\n\r\n       public static Integer inc(Integer i) {\r\n            i = i+1;    // I think that this must be **sneakally** creating a new integer...  \r\n            System.out.println(&quot;Inc: &quot;+i);\r\n            return i;\r\n        }\r\n\r\nReally boils down to code that looks like:\r\n\r\n \r\n\r\n      public static Integer inc(Integer i) {\r\n            i = new Integer(i) + new Integer(1);      \r\n            System.out.println(&quot;Inc: &quot;+i);\r\n            return i;\r\n        }\r\n\r\nWhich of course.. will not changes the reference passed in. \r\n\r\nYou could fix it with something like this\r\n\r\n\r\n      public static void main(String[] args) {\r\n            Integer integer = new Integer(0);\r\n            for (int i =0; i&lt;10; i++){\r\n                integer = inc(integer);\r\n                System.out.println(&quot;main: &quot;+integer);\r\n            }\r\n        }","title":"How can I pass an Integer class correctly by reference?","body":"<p>I think it is the autoboxing that is throwing you off.</p>\n\n<p>This part of your code:</p>\n\n<pre><code>   public static Integer inc(Integer i) {\n        i = i+1;    // I think that this must be **sneakally** creating a new integer...  \n        System.out.println(\"Inc: \"+i);\n        return i;\n    }\n</code></pre>\n\n<p>Really boils down to code that looks like:</p>\n\n<pre><code>  public static Integer inc(Integer i) {\n        i = new Integer(i) + new Integer(1);      \n        System.out.println(\"Inc: \"+i);\n        return i;\n    }\n</code></pre>\n\n<p>Which of course.. will not changes the reference passed in. </p>\n\n<p>You could fix it with something like this</p>\n\n<pre><code>  public static void main(String[] args) {\n        Integer integer = new Integer(0);\n        for (int i =0; i&lt;10; i++){\n            integer = inc(integer);\n            System.out.println(\"main: \"+integer);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1280090117,"creation_date":1280090117,"answer_id":3330903,"question_id":3330864,"body_markdown":"What you are seeing here is not an overloaded `+` oparator, but autoboxing behaviour. The `Integer` class is immutable and your code:\r\n\r\n    Integer i = 0;\r\n    i = i + 1;  \r\n\r\nis seen by the compiler (after the autoboxing) as:\r\n\r\n    Integer i = Integer.valueOf(0);\r\n    i = Integer.valueOf(i.intValue() + 1);  \r\n\r\nso you are correct in your conclusion that the `Integer` instance is changed, but not sneakily - it is consistent with the Java language definition :-)\r\n\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>What you are seeing here is not an overloaded <code>+</code> oparator, but autoboxing behaviour. The <code>Integer</code> class is immutable and your code:</p>\n\n<pre><code>Integer i = 0;\ni = i + 1;  \n</code></pre>\n\n<p>is seen by the compiler (after the autoboxing) as:</p>\n\n<pre><code>Integer i = Integer.valueOf(0);\ni = Integer.valueOf(i.intValue() + 1);  \n</code></pre>\n\n<p>so you are correct in your conclusion that the <code>Integer</code> instance is changed, but not sneakily - it is consistent with the Java language definition :-)</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280090141,"creation_date":1280090141,"answer_id":3330904,"question_id":3330864,"body_markdown":"If you change your inc() function to this\r\n\r\n     public static Integer inc(Integer i) {\r\n          Integer iParam = i;\r\n          i = i+1;    // I think that this must be **sneakally** creating a new integer...  \r\n          System.out.println(i == iParam);\r\n          return i;\r\n      }\r\nthen you will see that it always prints &quot;false&quot;.\r\nThat means that the addition creates a new instance of Integer and stores it in the _local_ variable i (&quot;local&quot;, because i is actually a copy of the reference that was passed), leaving the variable of the calling method untouched.\r\n\r\nInteger is an immutable class, meaning that you cannot change it&#39;s value but must obtain a new instance. In this case you don&#39;t have to do it manually like this:\r\n\r\n    i = new Integer(i+1); //actually, you would use Integer.valueOf(i.intValue()+1);\r\n\r\ninstead, it is done by autoboxing.","title":"How can I pass an Integer class correctly by reference?","body":"<p>If you change your inc() function to this</p>\n\n<pre><code> public static Integer inc(Integer i) {\n      Integer iParam = i;\n      i = i+1;    // I think that this must be **sneakally** creating a new integer...  \n      System.out.println(i == iParam);\n      return i;\n  }\n</code></pre>\n\n<p>then you will see that it always prints \"false\".\nThat means that the addition creates a new instance of Integer and stores it in the <em>local</em> variable i (\"local\", because i is actually a copy of the reference that was passed), leaving the variable of the calling method untouched.</p>\n\n<p>Integer is an immutable class, meaning that you cannot change it's value but must obtain a new instance. In this case you don't have to do it manually like this:</p>\n\n<pre><code>i = new Integer(i+1); //actually, you would use Integer.valueOf(i.intValue()+1);\n</code></pre>\n\n<p>instead, it is done by autoboxing.</p>\n"},{"tags":[],"owner":{"account_id":83018,"reputation":1621,"user_id":233027,"accept_rate":100,"display_name":"Markos"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1280090155,"creation_date":1280090155,"answer_id":3330905,"question_id":3330864,"body_markdown":"The Integer is immutable. You can wrap int in your custom wrapper class.\r\n\r\n    class WrapInt{\r\n    \tint value;\r\n    }\r\n    \r\n    WrapInt theInt = new WrapInt();\r\n    \r\n    inc(theInt);\r\n    System.out.println(&quot;main: &quot;+theInt.value);","title":"How can I pass an Integer class correctly by reference?","body":"<p>The Integer is immutable. You can wrap int in your custom wrapper class.</p>\n\n<pre><code>class WrapInt{\n    int value;\n}\n\nWrapInt theInt = new WrapInt();\n\ninc(theInt);\nSystem.out.println(\"main: \"+theInt.value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1485936869,"creation_date":1280090667,"answer_id":3330928,"question_id":3330864,"body_markdown":"You are correct here:\r\n\r\n    Integer i = 0;\r\n    i = i + 1;  // &lt;- I think that this is somehow creating a new object!\r\n\r\n\r\nFirst: Integer is immutable.  \r\n\r\nSecond: the Integer class is not overriding the `+` operator, there is autounboxing and autoboxing involved at that line (In older versions of Java you would get an error on the above line).  \r\nWhen you write `i + 1` the compiler first converts the Integer to an (primitive) `int` for performing the addition: autounboxing. Next, doing `i = &lt;some int&gt;` the compiler converts from `int` to an (new) Integer: autoboxing.  \r\nSo `+` is actually being applied to primitive `int`s.\r\n\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>You are correct here:</p>\n\n<pre><code>Integer i = 0;\ni = i + 1;  // &lt;- I think that this is somehow creating a new object!\n</code></pre>\n\n<p>First: Integer is immutable.  </p>\n\n<p>Second: the Integer class is not overriding the <code>+</code> operator, there is autounboxing and autoboxing involved at that line (In older versions of Java you would get an error on the above line).<br>\nWhen you write <code>i + 1</code> the compiler first converts the Integer to an (primitive) <code>int</code> for performing the addition: autounboxing. Next, doing <code>i = &lt;some int&gt;</code> the compiler converts from <code>int</code> to an (new) Integer: autoboxing.<br>\nSo <code>+</code> is actually being applied to primitive <code>int</code>s.</p>\n"},{"tags":[],"owner":{"account_id":2097759,"reputation":2294,"user_id":1866159,"accept_rate":100,"display_name":"Rishi Dua"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1475044763,"creation_date":1413038488,"answer_id":26315827,"question_id":3330864,"body_markdown":"There are 2 ways to pass by reference\r\n\r\n\r\n1. Use [org.apache.commons.lang.mutable.MutableInt][1] from Apache Commons library. \r\n2. Create custom class as shown below\r\n\r\nHere&#39;s a sample code to do it:\r\n\r\n\r\n    public class Test {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tInteger a = new Integer(1);\r\n    \t\tInteger b = a;\r\n    \t\tTest.modify(a);\r\n    \t\tSystem.out.println(a);\r\n    \t\tSystem.out.println(b);\r\n    \t\t\r\n    \t\tIntegerObj ao = new IntegerObj(1);\r\n    \t\tIntegerObj bo = ao;\r\n    \t\tTest.modify(ao);\r\n    \t\tSystem.out.println(ao.value);\r\n    \t\tSystem.out.println(bo.value);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tstatic void modify(Integer x) {\r\n    \t\tx=7;\r\n    \t}\r\n    \tstatic void modify(IntegerObj x) {\r\n    \t\tx.value=7;\r\n    \t}\t\r\n    }\r\n    \r\n    class IntegerObj {\r\n    \tint value;\r\n    \tIntegerObj(int val) {\r\n    \t\tthis.value = val;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    1\r\n    7\r\n    7\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/mutable/MutableInt.html","title":"How can I pass an Integer class correctly by reference?","body":"<p>There are 2 ways to pass by reference</p>\n\n<ol>\n<li>Use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/mutable/MutableInt.html\" rel=\"noreferrer\">org.apache.commons.lang.mutable.MutableInt</a> from Apache Commons library. </li>\n<li>Create custom class as shown below</li>\n</ol>\n\n<p>Here's a sample code to do it:</p>\n\n<pre><code>public class Test {\n    public static void main(String args[]) {\n        Integer a = new Integer(1);\n        Integer b = a;\n        Test.modify(a);\n        System.out.println(a);\n        System.out.println(b);\n\n        IntegerObj ao = new IntegerObj(1);\n        IntegerObj bo = ao;\n        Test.modify(ao);\n        System.out.println(ao.value);\n        System.out.println(bo.value);\n    }\n\n\n    static void modify(Integer x) {\n        x=7;\n    }\n    static void modify(IntegerObj x) {\n        x.value=7;\n    }   \n}\n\nclass IntegerObj {\n    int value;\n    IntegerObj(int val) {\n        this.value = val;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n1\n7\n7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829912,"reputation":300,"user_id":3898346,"display_name":"Hans"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1424954398,"creation_date":1424943725,"answer_id":28738944,"question_id":3330864,"body_markdown":"Good answers above explaining the actual question from the OP. \r\n\r\nIf anyone needs to pass around a number that needs to be globally updated, use the `AtomicInteger(`) instead of creating the various wrapper classes suggested or relying on 3rd party libs. \r\n\r\nThe `AtomicInteger(`) is of course mostly used for thread safe access but if the performance hit is no issue, why not use this built-in class. The added bonus is of course the obvious thread safety.\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger\r\n\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>Good answers above explaining the actual question from the OP. </p>\n\n<p>If anyone needs to pass around a number that needs to be globally updated, use the <code>AtomicInteger(</code>) instead of creating the various wrapper classes suggested or relying on 3rd party libs. </p>\n\n<p>The <code>AtomicInteger(</code>) is of course mostly used for thread safe access but if the performance hit is no issue, why not use this built-in class. The added bonus is of course the obvious thread safety.</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14330197,"reputation":41,"user_id":10351121,"display_name":"awinas kannan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566997827,"creation_date":1565704656,"answer_id":57479364,"question_id":3330864,"body_markdown":"\r\n1 ) Only the copy of reference is sent as a value to the formal parameter. When the formal parameter variable is assigned other value ,the formal parameter&#39;s reference changes but the actual parameter&#39;s reference remain the same incase of this integer object.  \r\n\r\npublic class UnderstandingObjects {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tInteger actualParam = new Integer(10);\r\n\r\n\t\tchangeValue(actualParam);\r\n\r\n\t\tSystem.out.println(&quot;Output &quot; + actualParam); // o/p =10\r\n\r\n\t\tIntObj obj = new IntObj();\r\n\r\n\t\tobj.setVal(20);\r\n\r\n\t\tchangeValue(obj);\r\n\r\n\t\tSystem.out.println(obj.a); // o/p =200\r\n\r\n\t}\r\n\r\n\tprivate static void changeValue(Integer formalParam) {\r\n\r\n\t\tformalParam = 100;\r\n\r\n\t\t// Only the copy of reference is set to the formal parameter\r\n\t\t// this is something like =&gt; Integer formalParam =new Integer(100);\r\n\t\t// Here we are changing the reference of formalParam itself not just the\r\n\t\t// reference value\r\n\r\n\t}\r\n\r\n\tprivate static void changeValue(IntObj obj) {\r\n\t\tobj.setVal(200);\r\n\r\n\t\t/*\r\n\t\t * obj = new IntObj(); obj.setVal(200);\r\n\t\t */\r\n\t\t// Here we are not changing the reference of obj. we are just changing the\r\n\t\t// reference obj&#39;s value\r\n\r\n\t\t// we are not doing obj = new IntObj() ; obj.setValue(200); which has happend\r\n\t\t// with the Integer\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass IntObj {\r\n\tInteger a;\r\n\r\n\tpublic void setVal(int a) {\r\n\t\tthis.a = a;\r\n\t}\r\n}\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>1 ) Only the copy of reference is sent as a value to the formal parameter. When the formal parameter variable is assigned other value ,the formal parameter's reference changes but the actual parameter's reference remain the same incase of this integer object.  </p>\n\n<p>public class UnderstandingObjects {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Integer actualParam = new Integer(10);\n\n    changeValue(actualParam);\n\n    System.out.println(\"Output \" + actualParam); // o/p =10\n\n    IntObj obj = new IntObj();\n\n    obj.setVal(20);\n\n    changeValue(obj);\n\n    System.out.println(obj.a); // o/p =200\n\n}\n\nprivate static void changeValue(Integer formalParam) {\n\n    formalParam = 100;\n\n    // Only the copy of reference is set to the formal parameter\n    // this is something like =&gt; Integer formalParam =new Integer(100);\n    // Here we are changing the reference of formalParam itself not just the\n    // reference value\n\n}\n\nprivate static void changeValue(IntObj obj) {\n    obj.setVal(200);\n\n    /*\n     * obj = new IntObj(); obj.setVal(200);\n     */\n    // Here we are not changing the reference of obj. we are just changing the\n    // reference obj's value\n\n    // we are not doing obj = new IntObj() ; obj.setValue(200); which has happend\n    // with the Integer\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>class IntObj {\n    Integer a;</p>\n\n<pre><code>public void setVal(int a) {\n    this.a = a;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651065677,"creation_date":1651065677,"answer_id":72029535,"question_id":3330864,"body_markdown":"We can do this using Apache Commons [Mutable Int][1]\r\n\r\n    public static Integer inc(MutableInt i) {\r\n            i.increment();    \r\n            System.out.println(&quot;Inc: &quot;+i.getValue());\r\n            return i;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n            MutableInt integer = new MutableInt(0);\r\n            for (int i =0; i&lt;10; i++){\r\n                inc(integer);\r\n                System.out.println(&quot;main: &quot;+integer.getValue());\r\n            }\r\n    }\r\n\r\n\r\nThis produces output:\r\n\r\n    Inc: 1\r\n    main: 1\r\n    Inc: 2\r\n    main: 2\r\n    Inc: 3\r\n    main: 3\r\n    Inc: 4\r\n    main: 4\r\n    Inc: 5\r\n    main: 5\r\n    Inc: 6\r\n    main: 6\r\n    Inc: 7\r\n    main: 7\r\n    Inc: 8\r\n    main: 8\r\n    Inc: 9\r\n    main: 9\r\n    Inc: 10\r\n    main: 10\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/mutable/MutableInt.html\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>We can do this using Apache Commons <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/mutable/MutableInt.html\" rel=\"nofollow noreferrer\">Mutable Int</a></p>\n<pre><code>public static Integer inc(MutableInt i) {\n        i.increment();    \n        System.out.println(&quot;Inc: &quot;+i.getValue());\n        return i;\n}\n\npublic static void main(String[] args) {\n        MutableInt integer = new MutableInt(0);\n        for (int i =0; i&lt;10; i++){\n            inc(integer);\n            System.out.println(&quot;main: &quot;+integer.getValue());\n        }\n}\n</code></pre>\n<p>This produces output:</p>\n<pre><code>Inc: 1\nmain: 1\nInc: 2\nmain: 2\nInc: 3\nmain: 3\nInc: 4\nmain: 4\nInc: 5\nmain: 5\nInc: 6\nmain: 6\nInc: 7\nmain: 7\nInc: 8\nmain: 8\nInc: 9\nmain: 9\nInc: 10\nmain: 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678272710,"creation_date":1678272385,"answer_id":75672022,"question_id":3330864,"body_markdown":"A lot of answers have been given to this problem. \r\nMost people have suggested wrapper classes.. but we really do not need to create a new class. There is one method which no one has provided.\r\n\r\nAnd problem has been discussed.  But I will brief before providing my solution.\r\n\r\n&gt; Problem arises from the fact that though there is a class Integer\r\n&gt; which is indeed passed by reference but objects passed by reference\r\n&gt; are only accessed via methods if you assign a new value that passed\r\n&gt; reference is lost. Integer class does not provide any methods that\r\n&gt; allow to modify that value. Using assignment sign on parameter\r\n&gt; variable means losing the reference that was passed to parameter.\r\n\r\n\r\nMy solution is simpler than using wrapper class. We can just use array of size 1.\r\n\r\n\r\n\r\n        public class PassIntByReference\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n    \r\n    \r\n            Integer intObj = 0;\r\n            int[] arr = new int[1];\r\n    \r\n            System.out.println(&quot;intObj=&quot;+intObj);\r\n            System.out.println(&quot;arr[0]=&quot;+arr[0]);\r\n    \r\n            usingIntegerClass(intObj);\r\n            passByRefUsingArray(arr);\r\n    \r\n            System.out.println(&quot;After modifier .. Function call&quot;);\r\n            System.out.println(&quot;intObj=&quot;+intObj);\r\n            System.out.println(&quot;arr[0]=&quot;+arr[0]);\r\n    \r\n        }\r\n        public static void usingIntegerClass(Integer immutableRef)\r\n        {\r\n            immutableRef = 1;//This creates a new object and original reference remains unModified.\r\n    \r\n        }\r\n    \r\n        public static void passByRefUsingArray(int[] arrOfSize1)\r\n        {\r\n            arrOfSize1[0]=1;\r\n        }\r\n    }\r\n\r\n output\r\n\r\n    intObj=0\r\n    arr[0]=0\r\n    After modifier .. Function call\r\n    intObj=0\r\n    arr[0]=1\r\n\r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>A lot of answers have been given to this problem.\nMost people have suggested wrapper classes.. but we really do not need to create a new class. There is one method which no one has provided.</p>\n<p>And problem has been discussed.  But I will brief before providing my solution.</p>\n<blockquote>\n<p>Problem arises from the fact that though there is a class Integer\nwhich is indeed passed by reference but objects passed by reference\nare only accessed via methods if you assign a new value that passed\nreference is lost. Integer class does not provide any methods that\nallow to modify that value. Using assignment sign on parameter\nvariable means losing the reference that was passed to parameter.</p>\n</blockquote>\n<p>My solution is simpler than using wrapper class. We can just use array of size 1.</p>\n<pre><code>    public class PassIntByReference\n{\n    public static void main(String[] args) throws IOException\n    {\n\n\n        Integer intObj = 0;\n        int[] arr = new int[1];\n\n        System.out.println(&quot;intObj=&quot;+intObj);\n        System.out.println(&quot;arr[0]=&quot;+arr[0]);\n\n        usingIntegerClass(intObj);\n        passByRefUsingArray(arr);\n\n        System.out.println(&quot;After modifier .. Function call&quot;);\n        System.out.println(&quot;intObj=&quot;+intObj);\n        System.out.println(&quot;arr[0]=&quot;+arr[0]);\n\n    }\n    public static void usingIntegerClass(Integer immutableRef)\n    {\n        immutableRef = 1;//This creates a new object and original reference remains unModified.\n\n    }\n\n    public static void passByRefUsingArray(int[] arrOfSize1)\n    {\n        arrOfSize1[0]=1;\n    }\n}\n</code></pre>\n<p>output</p>\n<pre><code>intObj=0\narr[0]=0\nAfter modifier .. Function call\nintObj=0\narr[0]=1\n</code></pre>\n"}],"owner":{"account_id":91678,"reputation":26149,"user_id":251589,"accept_rate":83,"display_name":"sixtyfootersdude"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126426,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":3330884,"answer_count":11,"score":88,"last_activity_date":1678272710,"creation_date":1280089493,"question_id":3330864,"body_markdown":"I am hoping that someone can clarify what is happening here for me.  I dug around in the integer class for a bit but because integer is *overriding* the `+` operator I could not figure out what was going wrong.  My problem is with this line:\r\n\r\n    Integer i = 0;\r\n    i = i + 1;  // â† I think that this is somehow creating a new object!\r\n\r\nHere is my reasoning: \r\nI know that java is pass by value (&lt;a href=&quot;https://stackoverflow.com/questions/40480?tab=votes#tab-top&quot;&gt;or pass by value of reference&lt;/a&gt;), so I think that in the following example the integer object should be incremented each time.  \r\n\r\n\r\n    public class PassByReference {\r\n    \t\r\n    \tpublic static Integer inc(Integer i) {\r\n    \t\ti = i+1;\t// I think that this must be **sneakally** creating a new integer...  \r\n    \t\tSystem.out.println(&quot;Inc: &quot;+i);\r\n    \t\treturn i;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger integer = new Integer(0);\r\n    \t\tfor (int i =0; i&lt;10; i++){\r\n    \t\t\tinc(integer);\r\n    \t\t\tSystem.out.println(&quot;main: &quot;+integer);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is my expected output:\r\n\r\n&lt;pre&gt;\r\nInc: 1\r\nmain: 1\r\nInc: 2\r\nmain: 2\r\nInc: 3\r\nmain: 3\r\nInc: 4\r\nmain: 4\r\nInc: 5\r\nmain: 5\r\nInc: 6\r\nmain: 6\r\n...\r\n&lt;/pre&gt;\r\n\r\nThis is the actual output.  \r\n\r\n&lt;pre&gt;\r\nInc: 1\r\nmain: 0\r\nInc: 1\r\nmain: 0\r\nInc: 1\r\nmain: 0\r\n...\r\n&lt;/pre&gt;\r\n\r\nWhy is it behaving like this?  \r\n","title":"How can I pass an Integer class correctly by reference?","body":"<p>I am hoping that someone can clarify what is happening here for me.  I dug around in the integer class for a bit but because integer is <em>overriding</em> the <code>+</code> operator I could not figure out what was going wrong.  My problem is with this line:</p>\n\n<pre><code>Integer i = 0;\ni = i + 1;  // â† I think that this is somehow creating a new object!\n</code></pre>\n\n<p>Here is my reasoning: \nI know that java is pass by value (<a href=\"https://stackoverflow.com/questions/40480?tab=votes#tab-top\">or pass by value of reference</a>), so I think that in the following example the integer object should be incremented each time.  </p>\n\n<pre><code>public class PassByReference {\n\n    public static Integer inc(Integer i) {\n        i = i+1;    // I think that this must be **sneakally** creating a new integer...  \n        System.out.println(\"Inc: \"+i);\n        return i;\n    }\n\n    public static void main(String[] args) {\n        Integer integer = new Integer(0);\n        for (int i =0; i&lt;10; i++){\n            inc(integer);\n            System.out.println(\"main: \"+integer);\n        }\n    }\n}\n</code></pre>\n\n<p>This is my expected output:</p>\n\n<pre>\nInc: 1\nmain: 1\nInc: 2\nmain: 2\nInc: 3\nmain: 3\nInc: 4\nmain: 4\nInc: 5\nmain: 5\nInc: 6\nmain: 6\n...\n</pre>\n\n<p>This is the actual output.  </p>\n\n<pre>\nInc: 1\nmain: 0\nInc: 1\nmain: 0\nInc: 1\nmain: 0\n...\n</pre>\n\n<p>Why is it behaving like this?  </p>\n"},{"tags":["java","maven","npm"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1677837844,"post_id":75625555,"comment_id":133420129,"body_markdown":"Have you considered using npm to retrieve trex dependency? This is could be done using frontend-maven-plugin which takes care of installing a local version of node+npm so nothing to install on your dev PC or on your Jenkins server. https://github.com/eirslett/frontend-maven-plugin","body":"Have you considered using npm to retrieve trex dependency? This is could be done using frontend-maven-plugin which takes care of installing a local version of node+npm so nothing to install on your dev PC or on your Jenkins server. <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"nofollow noreferrer\">github.com/eirslett/frontend-maven-plugin</a>"},{"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"score":0,"creation_date":1677838856,"post_id":75625555,"comment_id":133420408,"body_markdown":"That sounds good. This plugin just installs node+npm and I have to handle the dependency retrieving with another step, right? I know very little about npm, could you point me to a good guide on how I&#39;d achieve that step?","body":"That sounds good. This plugin just installs node+npm and I have to handle the dependency retrieving with another step, right? I know very little about npm, could you point me to a good guide on how I&#39;d achieve that step?"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1677839051,"post_id":75625555,"comment_id":133420456,"body_markdown":"You must add a package.json to your project to reference a version of trex. If you want an example of a project, see an app generated by JHipster: https://github.com/jhipster/jhipster-sample-app","body":"You must add a package.json to your project to reference a version of trex. If you want an example of a project, see an app generated by JHipster: <a href=\"https://github.com/jhipster/jhipster-sample-app\" rel=\"nofollow noreferrer\">github.com/jhipster/jhipster-sample-app</a>"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":1,"creation_date":1677839062,"post_id":75625555,"comment_id":133420460,"body_markdown":"you might want to have a look at webjars: https://www.webjars.org/","body":"you might want to have a look at webjars: <a href=\"https://www.webjars.org/\" rel=\"nofollow noreferrer\">webjars.org</a>"},{"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"score":0,"creation_date":1678262838,"post_id":75625555,"comment_id":133496844,"body_markdown":"@Ga&#235;lMarziou your comment ended up solving my problem, please consider posting it as an answer to have this question closed","body":"@Ga&#235;lMarziou your comment ended up solving my problem, please consider posting it as an answer to have this question closed"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1678270815,"post_id":75625555,"comment_id":133498876,"body_markdown":"Andr&#225;s you should rather post the solution yourself, it&#39;ll be more helpful for others","body":"Andr&#225;s you should rather post the solution yourself, it&#39;ll be more helpful for others"}],"answers":[{"tags":[],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678272687,"creation_date":1678272687,"answer_id":75672081,"question_id":75625555,"body_markdown":"I managed to solve this problem using `frontend-maven-plugin` as mentioned by @Ga&#235;lMarziou, here&#39;s my code for that:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;install node and npm for trex&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/node_modules/@tokenysolutions/t-rex&lt;/workingDirectory&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;trex npm install&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;workingDirectory&gt;${project.basedir}/node_modules/@tokenysolutions/t-rex&lt;/workingDirectory&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;nodeVersion&gt;v16.14.0&lt;/nodeVersion&gt;\r\n\t\t&lt;npmVersion&gt;8.3.1&lt;/npmVersion&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```  \r\n  \r\nA couple of things to note: the `npm` goal of the plugin calls `npm install`, the actual command is usually set in configuration, and that is probably more readable too. Secondly, depending on what particular `npm` library you&#39;re using, including its dependencies in your `package.json` is a way to avoid having to perform this double install.","title":"Handling an npm project as a maven dependency","body":"<p>I managed to solve this problem using <code>frontend-maven-plugin</code> as mentioned by @GaÃ«lMarziou, here's my code for that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;id&gt;install node and npm&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;id&gt;npm install&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;install node and npm for trex&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;workingDirectory&gt;${project.basedir}/node_modules/@tokenysolutions/t-rex&lt;/workingDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;trex npm install&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;workingDirectory&gt;${project.basedir}/node_modules/@tokenysolutions/t-rex&lt;/workingDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;nodeVersion&gt;v16.14.0&lt;/nodeVersion&gt;\n        &lt;npmVersion&gt;8.3.1&lt;/npmVersion&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>A couple of things to note: the <code>npm</code> goal of the plugin calls <code>npm install</code>, the actual command is usually set in configuration, and that is probably more readable too. Secondly, depending on what particular <code>npm</code> library you're using, including its dependencies in your <code>package.json</code> is a way to avoid having to perform this double install.</p>\n"}],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678272687,"creation_date":1677837306,"question_id":75625555,"body_markdown":"I&#39;m working on a java project that wants to create regulated security tokens. We&#39;d ideally want to use [Tokeny&#39;s TREX][1] as the basis for our implementation/extension. The TREX project uses `npm`  for building and dependencies, it downloads them when running `npm install`. The project mainly consists of `.sol` (Solidity) files, and accessing those in my maven project is my goal here.  \r\n\r\nI have managed to download the repo into maven project using `com.googlecode.maven-download-plugin:download-maven-plugin` with the following config:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.googlecode.maven-download-plugin&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;download-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;install-jbpm&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;wget&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;url&gt;https://github.com/TokenySolutions/T-REX/archive/refs/heads/main.zip&lt;/url&gt;\r\n\t\t&lt;unpack&gt;true&lt;/unpack&gt;\r\n\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/resources/TREX&lt;/outputDirectory&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nHowever this isn&#39;t the perfect solution I feel. First of all, getting the .zip url from the github page is a bit of a hack I suspect, as cloning the repo would be the obvious path here. Also I really only need the `contracts` folder from this repo, what&#39;s my best option for deleting everything else and only leaving the `contracts` folder and related dependencies?\r\n  \r\nAdditionally, how different would this process be with Jenkins CD that deploys into a Docker image?\r\n\r\n\r\n  [1]: https://github.com/TokenySolutions/T-REX","title":"Handling an npm project as a maven dependency","body":"<p>I'm working on a java project that wants to create regulated security tokens. We'd ideally want to use <a href=\"https://github.com/TokenySolutions/T-REX\" rel=\"nofollow noreferrer\">Tokeny's TREX</a> as the basis for our implementation/extension. The TREX project uses <code>npm</code>  for building and dependencies, it downloads them when running <code>npm install</code>. The project mainly consists of <code>.sol</code> (Solidity) files, and accessing those in my maven project is my goal here.</p>\n<p>I have managed to download the repo into maven project using <code>com.googlecode.maven-download-plugin:download-maven-plugin</code> with the following config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.googlecode.maven-download-plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;download-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.8&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install-jbpm&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wget&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;url&gt;https://github.com/TokenySolutions/T-REX/archive/refs/heads/main.zip&lt;/url&gt;\n        &lt;unpack&gt;true&lt;/unpack&gt;\n        &lt;outputDirectory&gt;${project.basedir}/src/main/resources/TREX&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However this isn't the perfect solution I feel. First of all, getting the .zip url from the github page is a bit of a hack I suspect, as cloning the repo would be the obvious path here. Also I really only need the <code>contracts</code> folder from this repo, what's my best option for deleting everything else and only leaving the <code>contracts</code> folder and related dependencies?</p>\n<p>Additionally, how different would this process be with Jenkins CD that deploys into a Docker image?</p>\n"},{"tags":["python","java","android","android-studio","jython"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664725546,"post_id":73926221,"comment_id":130532830,"body_markdown":"I don&#39;t think Jython is compatible with Android and DEX. Furthermore Jython only supports Python2 and thus is deprecated/EOL, you should not start a new project using a dead horse...","body":"I don&#39;t think Jython is compatible with Android and DEX. Furthermore Jython only supports Python2 and thus is deprecated/EOL, you should not start a new project using a dead horse..."}],"answers":[{"tags":[],"owner":{"account_id":27570259,"reputation":11,"user_id":21041599,"display_name":"Coders"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678272580,"creation_date":1678272580,"answer_id":75672059,"question_id":73926221,"body_markdown":"This is a common error and I have solution of this error you are using min SDK 21 in your project.\r\n\r\n    minSdk 21\r\n\r\nchange it to 26 or more than 26 error will resolve\r\n\r\n    minSdk 26","title":"trying to use jython with android studio","body":"<p>This is a common error and I have solution of this error you are using min SDK 21 in your project.</p>\n<pre><code>minSdk 21\n</code></pre>\n<p>change it to 26 or more than 26 error will resolve</p>\n<pre><code>minSdk 26\n</code></pre>\n"}],"owner":{"account_id":26418015,"reputation":39,"user_id":20066091,"display_name":"Elliot Scher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678272580,"creation_date":1664717477,"question_id":73926221,"body_markdown":"I am trying to use jython in my java app for android but I&#39;m having trouble building the project with the .jar file.\r\n\r\nhere is my build.gradle:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.ytdownloader&#39;\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.ytdownloader&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation files(&#39;libs/jython-standalone-2.7.3.jar&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nbut I am getting this error\r\n```\r\ncom.android.tools.r8.internal.k2: MethodHandle.invoke and MethodHandle.invokeExact are only supported starting with Android O (--min-api 26)\r\n```\r\nbefore adding the jython .jar file and adding this dependency, the app would build fine which makes me think it is a problem with the .jar.\r\n\r\nhas anyone come across this error before? Thanks!","title":"trying to use jython with android studio","body":"<p>I am trying to use jython in my java app for android but I'm having trouble building the project with the .jar file.</p>\n<p>here is my build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.ytdownloader'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.ytdownloader&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation files('libs/jython-standalone-2.7.3.jar')\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>but I am getting this error</p>\n<pre><code>com.android.tools.r8.internal.k2: MethodHandle.invoke and MethodHandle.invokeExact are only supported starting with Android O (--min-api 26)\n</code></pre>\n<p>before adding the jython .jar file and adding this dependency, the app would build fine which makes me think it is a problem with the .jar.</p>\n<p>has anyone come across this error before? Thanks!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678272360,"post_id":75609854,"comment_id":133499315,"body_markdown":"Are you 100% sure you don&#39;t have an older version of MySQL Connector/J on the classpath?","body":"Are you 100% sure you don&#39;t have an older version of MySQL Connector/J on the classpath?"}],"owner":{"account_id":18310023,"reputation":11,"user_id":13333030,"display_name":"ifthisthenthat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678272393,"creation_date":1677711718,"question_id":75609854,"body_markdown":"I am getting the MySQL error &quot;Client does not support authentication protocol requested by server; consider upgrading MySQL client.&quot; I am using the MySQL JDBC connector v8.0.32:\r\n```gradle\r\ncompileOnly &quot;mysql:mysql-connector-java:8.0.32&quot;\r\n```\r\n...and MySQL v8.0.32:\r\n```\r\nmysql&gt; SELECT version();\r\n+-----------+\r\n| version() |\r\n+-----------+\r\n| 8.0.32    |\r\n+-----------+\r\n1 row in set (0.00 sec)\r\n```\r\n\r\nHere is the code I am using to connect to the database:\r\n```java\r\nClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\r\n// Log all variables to console (debugging)\r\nSystem.out.println(&quot;host:     &quot; + host);\r\nSystem.out.println(&quot;port:     &quot; + port);\r\nSystem.out.println(&quot;database: &quot; + database);\r\nSystem.out.println(&quot;username: &quot; + username);\r\nSystem.out.println(&quot;password: &quot; + password);\r\n\r\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database, username, password);\r\n```\r\n\r\nHere is the output of the debugging block:\r\n```\r\nhost:     mysql\r\nport:     3306\r\ndatabase: example\r\nusername: username\r\npassword: password\r\n```\r\n\r\nEverything is running in a Docker Compose environment--here is the MySQL server:\r\n```yaml\r\n  mysql:\r\n    image: mysql:latest\r\n    ports:\r\n      - &quot;3306:3306&quot;\r\n    environment:\r\n      MYSQL_DATABASE: example\r\n      MYSQL_USER: username\r\n      MYSQL_PASSWORD: password\r\n      MYSQL_ALLOW_EMPTY_PASSWORD: true\r\n      # Have also tried with MYSQL_ROOT_PASSWORD: password\r\n```\r\n\r\nI have tried connecting by concatenating the username and password into one string and then passing that. Other than that I do not really know what to try. Some people have recommended using `ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456789&#39;;` but I don&#39;t want to have to do that because this is going to run on other people&#39;s databases and this is meant to be a PnP type thing. It&#39;s also weird because this is the latest version of the server and of the client. So is it like a library issue?","title":"Java JDBC MySQL 8.0.32 + Server 8.0.32 &quot;Client does not support authentication protocol requested by server&quot;","body":"<p>I am getting the MySQL error &quot;Client does not support authentication protocol requested by server; consider upgrading MySQL client.&quot; I am using the MySQL JDBC connector v8.0.32:</p>\n<pre><code>compileOnly &quot;mysql:mysql-connector-java:8.0.32&quot;\n</code></pre>\n<p>...and MySQL v8.0.32:</p>\n<pre><code>mysql&gt; SELECT version();\n+-----------+\n| version() |\n+-----------+\n| 8.0.32    |\n+-----------+\n1 row in set (0.00 sec)\n</code></pre>\n<p>Here is the code I am using to connect to the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n\n// Log all variables to console (debugging)\nSystem.out.println(&quot;host:     &quot; + host);\nSystem.out.println(&quot;port:     &quot; + port);\nSystem.out.println(&quot;database: &quot; + database);\nSystem.out.println(&quot;username: &quot; + username);\nSystem.out.println(&quot;password: &quot; + password);\n\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database, username, password);\n</code></pre>\n<p>Here is the output of the debugging block:</p>\n<pre><code>host:     mysql\nport:     3306\ndatabase: example\nusername: username\npassword: password\n</code></pre>\n<p>Everything is running in a Docker Compose environment--here is the MySQL server:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  mysql:\n    image: mysql:latest\n    ports:\n      - &quot;3306:3306&quot;\n    environment:\n      MYSQL_DATABASE: example\n      MYSQL_USER: username\n      MYSQL_PASSWORD: password\n      MYSQL_ALLOW_EMPTY_PASSWORD: true\n      # Have also tried with MYSQL_ROOT_PASSWORD: password\n</code></pre>\n<p>I have tried connecting by concatenating the username and password into one string and then passing that. Other than that I do not really know what to try. Some people have recommended using <code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456789';</code> but I don't want to have to do that because this is going to run on other people's databases and this is meant to be a PnP type thing. It's also weird because this is the latest version of the server and of the client. So is it like a library issue?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":2,"creation_date":1678261171,"post_id":75670362,"comment_id":133496486,"body_markdown":"As you can see, `Flight` table has a number of relationships to other tables/entities. That&#39;s the reason for all the joins (fetches all the entities and their related objects) - To prevent it for a simple query, you indicate in your configuration to not load them at first but to lazy load them (i.e. only when needed) - If you check their documentation, (or a tutorial) you&#39;ll see how to configure it","body":"As you can see, <code>Flight</code> table has a number of relationships to other tables/entities. That&#39;s the reason for all the joins (fetches all the entities and their related objects) - To prevent it for a simple query, you indicate in your configuration to not load them at first but to lazy load them (i.e. only when needed) - If you check their documentation, (or a tutorial) you&#39;ll see how to configure it"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1678262240,"post_id":75670362,"comment_id":133496700,"body_markdown":"@blurfus Thank you, but I don&#39;t understand the reason for all these joins. I counted the number of connections between the tables to 16, so we should have 16 joins in total, but this is much more.","body":"@blurfus Thank you, but I don&#39;t understand the reason for all these joins. I counted the number of connections between the tables to 16, so we should have 16 joins in total, but this is much more."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1678264785,"post_id":75670362,"comment_id":133497368,"body_markdown":"Because your mapping is poorly set up. Without knowing the exact mapping it is hard to tell where you went wrong, except for lazy/eager loading","body":"Because your mapping is poorly set up. Without knowing the exact mapping it is hard to tell where you went wrong, except for lazy/eager loading"},{"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"score":0,"creation_date":1678268930,"post_id":75670362,"comment_id":133498478,"body_markdown":"Can you edit your post to add `Flight` hibernate mapping ? You probably had transitive EAGER relations.","body":"Can you edit your post to add <code>Flight</code> hibernate mapping ? You probably had transitive EAGER relations."},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1678271212,"post_id":75670362,"comment_id":133498976,"body_markdown":"@Thomas I added a link for models classes with hibernate mappings","body":"@Thomas I added a link for models classes with hibernate mappings"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1678271228,"post_id":75670362,"comment_id":133498983,"body_markdown":"@XtremeBaumer  I added a link for models classes with hibernate mappings","body":"@XtremeBaumer  I added a link for models classes with hibernate mappings"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678271637,"post_id":75670362,"comment_id":133499100,"body_markdown":"Please show the code that is using this. That being said all relations will be loaded (if not defined as lazy). With your current setup it will probably do a lot of additional selects, and if you done it really  bad it will also select related data for the relations. The problem you have is that you think that `select f From Flight f` is a SQL query which is not it is a JPQL which eventually will lead to SQL but based on the mapping that you created in your entities. In short with your &quot;simple&quot; select statement it will pobably try to load the whole database.","body":"Please show the code that is using this. That being said all relations will be loaded (if not defined as lazy). With your current setup it will probably do a lot of additional selects, and if you done it really  bad it will also select related data for the relations. The problem you have is that you think that <code>select f From Flight f</code> is a SQL query which is not it is a JPQL which eventually will lead to SQL but based on the mapping that you created in your entities. In short with your &quot;simple&quot; select statement it will pobably try to load the whole database."}],"answers":[{"tags":[],"owner":{"account_id":2346611,"reputation":1008,"user_id":2056697,"accept_rate":94,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678272253,"creation_date":1678271871,"answer_id":75671946,"question_id":75670362,"body_markdown":"You defined in your model only EAGER relations, these relations will always be join and fetch. \r\nYou should set `EAGER` fetch type only when the relation is required and try to maximise `LAZY` relations.  \r\n\r\nhttps://www.baeldung.com/hibernate-lazy-eager-loading\r\n\r\n``` java\r\npublic class Flight extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;flight_id&quot;, insertable = false, updatable = false)\r\n    private int flightId;\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;from&quot;)\r\n    private Airport fromAirport;\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;to&quot;)\r\n    private Airport toAirport;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;flightno&quot;, insertable = false, updatable = false)\r\n    private FlightSchedule schedule;\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;airline_id&quot;)\r\n    private Airline airline;\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;airplane_id&quot;)\r\n    private Airplane airplane;\r\n    @OneToMany(mappedBy = &quot;flight&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;FlightLog&gt; logs = new HashSet&lt;&gt;();\r\n    @OneToMany(mappedBy = &quot;flight&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n``` select f from Flight ``` will fetch Flight, Flight.Airport (EAGER), Flight.Airport.AirportGeo (EAGER), etc","title":"Hibernate does too much joins for a single query","body":"<p>You defined in your model only EAGER relations, these relations will always be join and fetch.\nYou should set <code>EAGER</code> fetch type only when the relation is required and try to maximise <code>LAZY</code> relations.</p>\n<p><a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-lazy-eager-loading</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Flight extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;flight_id&quot;, insertable = false, updatable = false)\n    private int flightId;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;from&quot;)\n    private Airport fromAirport;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;to&quot;)\n    private Airport toAirport;\n\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;flightno&quot;, insertable = false, updatable = false)\n    private FlightSchedule schedule;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;airline_id&quot;)\n    private Airline airline;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = {CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;airplane_id&quot;)\n    private Airplane airplane;\n    @OneToMany(mappedBy = &quot;flight&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;FlightLog&gt; logs = new HashSet&lt;&gt;();\n    @OneToMany(mappedBy = &quot;flight&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;Booking&gt; bookings = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><code>select f from Flight</code> will fetch Flight, Flight.Airport (EAGER), Flight.Airport.AirportGeo (EAGER), etc</p>\n"}],"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1678308013,"accepted_answer_id":75671946,"answer_count":1,"score":0,"last_activity_date":1678272253,"creation_date":1678260890,"question_id":75670362,"body_markdown":"I have an airport database that I downloaded from the mysql site (I also uploaded a photo of it here) and I made all its settings in the spring boot program, but when I want to run a simple query `select f from Flight`, hibernate does a lot of strange joins and it doesn&#39;t end and the outOfMemory error is shown. In the following output, a part of hibernate queries are placed, which are not all of them, and in the middle of the `java.lang.OutOfMemoryError: Java heap space` is shown, and the program is terminated.\r\n\r\nI had two questions:\r\n\r\n\r\nFirst of all, what is the reason for all these joins?\r\n\r\nSecond, what is the way to prevent it?\r\n\r\n\r\n[All models classes(with hibernate mappings)][1]-you dont need to see the view folder.\r\n\r\nEER photo:\r\n\r\n[![enter image description here][2]][2]\r\n\r\noutput:\r\n\r\n    Hibernate: \r\n        select\r\n            flight0_.flight_id as flight_i1_9_,\r\n            flight0_.airline_id as airline_4_9_,\r\n            flight0_.airplane_id as airplane5_9_,\r\n            flight0_.arrival as arrival2_9_,\r\n            flight0_.departure as departur3_9_,\r\n            flight0_.from as from6_9_,\r\n            flight0_.flightno as flightno7_9_,\r\n            flight0_.to as to8_9_ \r\n        from\r\n            flight flight0_ \r\n        order by\r\n            flight0_.departure asc limit ?\r\n    Hibernate: \r\n        select\r\n            airline0_.airline_id as airline_1_0_0_,\r\n            airline0_.airlinename as airlinen2_0_0_,\r\n            airline0_.base_airport as base_air4_0_0_,\r\n            airline0_.iata as iata3_0_0_,\r\n            airport1_.airport_id as airport_1_3_1_,\r\n            airport1_.iata as iata2_3_1_,\r\n            airport1_.icao as icao3_3_1_,\r\n            airport1_.name as name4_3_1_,\r\n            airportgeo2_.airport_id as airport_1_4_2_,\r\n            airportgeo2_.airport_id as airport_1_4_3_,\r\n            airportgeo2_.city as city2_4_3_,\r\n            airportgeo2_.country as country3_4_3_,\r\n            airportgeo2_.geolocation as geolocat4_4_3_,\r\n            airportgeo2_.latitude as latitude5_4_3_,\r\n            airportgeo2_.longitude as longitud6_4_3_,\r\n            airportgeo2_.name as name7_4_3_,\r\n            airportrea3_.airport_id as airport_1_5_4_,\r\n            airportrea3_.airport_id as airport_1_5_5_,\r\n            airportrea3_.hops as hops2_5_5_ \r\n        from\r\n            airline airline0_ \r\n        left outer join\r\n            airport airport1_ \r\n                on airline0_.base_airport=airport1_.airport_id \r\n        left outer join\r\n            airport_geo airportgeo2_ \r\n                on airport1_.airport_id=airportgeo2_.airport_id \r\n        left outer join\r\n            airport_reachable airportrea3_ \r\n                on airport1_.airport_id=airportrea3_.airport_id \r\n        where\r\n            airline0_.airline_id=?\r\n    Hibernate: \r\n        select\r\n            airplane0_.airplane_id as airplane1_1_0_,\r\n            airplane0_.airline_id as airline_2_1_0_,\r\n            airplane0_.type_id as type_id4_1_0_,\r\n            airplane0_.capacity as capacity3_1_0_,\r\n            airplanety1_.type_id as type_id1_2_1_,\r\n            airplanety1_.description as descript2_2_1_,\r\n            airplanety1_.identifier as identifi3_2_1_,\r\n            flights2_.airplane_id as airplane5_9_2_,\r\n            flights2_.flight_id as flight_i1_9_2_,\r\n            flights2_.flight_id as flight_i1_9_3_,\r\n            flights2_.airline_id as airline_4_9_3_,\r\n            flights2_.airplane_id as airplane5_9_3_,\r\n            flights2_.arrival as arrival2_9_3_,\r\n            flights2_.departure as departur3_9_3_,\r\n            flights2_.from as from6_9_3_,\r\n            flights2_.flightno as flightno7_9_3_,\r\n            flights2_.to as to8_9_3_,\r\n            airline3_.airline_id as airline_1_0_4_,\r\n            airline3_.airlinename as airlinen2_0_4_,\r\n            airline3_.base_airport as base_air4_0_4_,\r\n            airline3_.iata as iata3_0_4_,\r\n            bookings4_.flight_id as flight_i4_7_5_,\r\n            bookings4_.booking_id as booking_1_7_5_,\r\n            bookings4_.booking_id as booking_1_7_6_,\r\n            bookings4_.flight_id as flight_i4_7_6_,\r\n            bookings4_.passenger_id as passenge5_7_6_,\r\n            bookings4_.price as price2_7_6_,\r\n            bookings4_.seat as seat3_7_6_,\r\n            airport5_.airport_id as airport_1_3_7_,\r\n            airport5_.iata as iata2_3_7_,\r\n            airport5_.icao as icao3_3_7_,\r\n            airport5_.name as name4_3_7_,\r\n            logs6_.flight_id as flight_19_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_9_,\r\n            logs6_.airline_id_new as airline_2_10_9_,\r\n            logs6_.airline_id_old as airline_3_10_9_,\r\n            logs6_.airplane_id_new as airplane4_10_9_,\r\n            logs6_.airplane_id_old as airplane5_10_9_,\r\n            logs6_.arrival_new as arrival_6_10_9_,\r\n            logs6_.arrival_old as arrival_7_10_9_,\r\n            logs6_.comment as comment8_10_9_,\r\n            logs6_.departure_new as departur9_10_9_,\r\n            logs6_.departure_old as departu10_10_9_,\r\n            logs6_.flight_id as flight_19_10_9_,\r\n            logs6_.flightno_new as flightn11_10_9_,\r\n            logs6_.flightno_old as flightn12_10_9_,\r\n            logs6_.from_new as from_ne13_10_9_,\r\n            logs6_.from_old as from_ol14_10_9_,\r\n            logs6_.log_date as log_dat15_10_9_,\r\n            logs6_.to_new as to_new16_10_9_,\r\n            logs6_.to_old as to_old17_10_9_,\r\n            logs6_.user as user18_10_9_,\r\n            flightsche7_.flightno as flightno1_11_10_,\r\n            flightsche7_.airline_id as airline11_11_10_,\r\n            flightsche7_.arrival as arrival2_11_10_,\r\n            flightsche7_.departure as departur3_11_10_,\r\n            flightsche7_.friday as friday4_11_10_,\r\n            flightsche7_.from as from12_11_10_,\r\n            flightsche7_.monday as monday5_11_10_,\r\n            flightsche7_.saturday as saturday6_11_10_,\r\n            flightsche7_.sunday as sunday7_11_10_,\r\n            flightsche7_.thursday as thursday8_11_10_,\r\n            flightsche7_.to as to13_11_10_,\r\n            flightsche7_.tuesday as tuesday9_11_10_,\r\n            flightsche7_.wednesday as wednesd10_11_10_,\r\n            airport8_.airport_id as airport_1_3_11_,\r\n            airport8_.iata as iata2_3_11_,\r\n            airport8_.icao as icao3_3_11_,\r\n            airport8_.name as name4_3_11_ \r\n        from\r\n            airplane airplane0_ \r\n        left outer join\r\n            airplane_type airplanety1_ \r\n                on airplane0_.type_id=airplanety1_.type_id \r\n        left outer join\r\n            flight flights2_ \r\n                on airplane0_.airplane_id=flights2_.airplane_id \r\n        left outer join\r\n            airline airline3_ \r\n                on flights2_.airline_id=airline3_.airline_id \r\n        left outer join\r\n            booking bookings4_ \r\n                on flights2_.flight_id=bookings4_.flight_id \r\n        left outer join\r\n            airport airport5_ \r\n                on flights2_.from=airport5_.airport_id \r\n        left outer join\r\n            flight_log logs6_ \r\n                on flights2_.flight_id=logs6_.flight_id \r\n        left outer join\r\n            flightschedule flightsche7_ \r\n                on flights2_.flightno=flightsche7_.flightno \r\n        left outer join\r\n            airport airport8_ \r\n                on flights2_.to=airport8_.airport_id \r\n        where\r\n            airplane0_.airplane_id=?\r\n    Hibernate: \r\n        select\r\n            airline0_.airline_id as airline_1_0_0_,\r\n            airline0_.airlinename as airlinen2_0_0_,\r\n            airline0_.base_airport as base_air4_0_0_,\r\n            airline0_.iata as iata3_0_0_,\r\n            airport1_.airport_id as airport_1_3_1_,\r\n            airport1_.iata as iata2_3_1_,\r\n            airport1_.icao as icao3_3_1_,\r\n            airport1_.name as name4_3_1_,\r\n            airportgeo2_.airport_id as airport_1_4_2_,\r\n            airportgeo2_.airport_id as airport_1_4_3_,\r\n            airportgeo2_.city as city2_4_3_,\r\n            airportgeo2_.country as country3_4_3_,\r\n            airportgeo2_.geolocation as geolocat4_4_3_,\r\n            airportgeo2_.latitude as latitude5_4_3_,\r\n            airportgeo2_.longitude as longitud6_4_3_,\r\n            airportgeo2_.name as name7_4_3_,\r\n            airportrea3_.airport_id as airport_1_5_4_,\r\n            airportrea3_.airport_id as airport_1_5_5_,\r\n            airportrea3_.hops as hops2_5_5_ \r\n        from\r\n            airline airline0_ \r\n        left outer join\r\n            airport airport1_ \r\n                on airline0_.base_airport=airport1_.airport_id \r\n        left outer join\r\n            airport_geo airportgeo2_ \r\n                on airport1_.airport_id=airportgeo2_.airport_id \r\n        left outer join\r\n            airport_reachable airportrea3_ \r\n                on airport1_.airport_id=airportrea3_.airport_id \r\n        where\r\n            airline0_.airline_id=?\r\n    Hibernate: \r\n        select\r\n            airplane0_.airplane_id as airplane1_1_0_,\r\n            airplane0_.airline_id as airline_2_1_0_,\r\n            airplane0_.type_id as type_id4_1_0_,\r\n            airplane0_.capacity as capacity3_1_0_,\r\n            airplanety1_.type_id as type_id1_2_1_,\r\n            airplanety1_.description as descript2_2_1_,\r\n            airplanety1_.identifier as identifi3_2_1_,\r\n            flights2_.airplane_id as airplane5_9_2_,\r\n            flights2_.flight_id as flight_i1_9_2_,\r\n            flights2_.flight_id as flight_i1_9_3_,\r\n            flights2_.airline_id as airline_4_9_3_,\r\n            flights2_.airplane_id as airplane5_9_3_,\r\n            flights2_.arrival as arrival2_9_3_,\r\n            flights2_.departure as departur3_9_3_,\r\n            flights2_.from as from6_9_3_,\r\n            flights2_.flightno as flightno7_9_3_,\r\n            flights2_.to as to8_9_3_,\r\n            airline3_.airline_id as airline_1_0_4_,\r\n            airline3_.airlinename as airlinen2_0_4_,\r\n            airline3_.base_airport as base_air4_0_4_,\r\n            airline3_.iata as iata3_0_4_,\r\n            bookings4_.flight_id as flight_i4_7_5_,\r\n            bookings4_.booking_id as booking_1_7_5_,\r\n            bookings4_.booking_id as booking_1_7_6_,\r\n            bookings4_.flight_id as flight_i4_7_6_,\r\n            bookings4_.passenger_id as passenge5_7_6_,\r\n            bookings4_.price as price2_7_6_,\r\n            bookings4_.seat as seat3_7_6_,\r\n            airport5_.airport_id as airport_1_3_7_,\r\n            airport5_.iata as iata2_3_7_,\r\n            airport5_.icao as icao3_3_7_,\r\n            airport5_.name as name4_3_7_,\r\n            logs6_.flight_id as flight_19_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_9_,\r\n            logs6_.airline_id_new as airline_2_10_9_,\r\n            logs6_.airline_id_old as airline_3_10_9_,\r\n            logs6_.airplane_id_new as airplane4_10_9_,\r\n            logs6_.airplane_id_old as airplane5_10_9_,\r\n            logs6_.arrival_new as arrival_6_10_9_,\r\n            logs6_.arrival_old as arrival_7_10_9_,\r\n            logs6_.comment as comment8_10_9_,\r\n            logs6_.departure_new as departur9_10_9_,\r\n            logs6_.departure_old as departu10_10_9_,\r\n            logs6_.flight_id as flight_19_10_9_,\r\n            logs6_.flightno_new as flightn11_10_9_,\r\n            logs6_.flightno_old as flightn12_10_9_,\r\n            logs6_.from_new as from_ne13_10_9_,\r\n            logs6_.from_old as from_ol14_10_9_,\r\n            logs6_.log_date as log_dat15_10_9_,\r\n            logs6_.to_new as to_new16_10_9_,\r\n            logs6_.to_old as to_old17_10_9_,\r\n            logs6_.user as user18_10_9_,\r\n            flightsche7_.flightno as flightno1_11_10_,\r\n            flightsche7_.airline_id as airline11_11_10_,\r\n            flightsche7_.arrival as arrival2_11_10_,\r\n            flightsche7_.departure as departur3_11_10_,\r\n            flightsche7_.friday as friday4_11_10_,\r\n            flightsche7_.from as from12_11_10_,\r\n            flightsche7_.monday as monday5_11_10_,\r\n            flightsche7_.saturday as saturday6_11_10_,\r\n            flightsche7_.sunday as sunday7_11_10_,\r\n            flightsche7_.thursday as thursday8_11_10_,\r\n            flightsche7_.to as to13_11_10_,\r\n            flightsche7_.tuesday as tuesday9_11_10_,\r\n            flightsche7_.wednesday as wednesd10_11_10_,\r\n            airport8_.airport_id as airport_1_3_11_,\r\n            airport8_.iata as iata2_3_11_,\r\n            airport8_.icao as icao3_3_11_,\r\n            airport8_.name as name4_3_11_ \r\n        from\r\n            airplane airplane0_ \r\n        left outer join\r\n            airplane_type airplanety1_ \r\n                on airplane0_.type_id=airplanety1_.type_id \r\n        left outer join\r\n            flight flights2_ \r\n                on airplane0_.airplane_id=flights2_.airplane_id \r\n        left outer join\r\n            airline airline3_ \r\n                on flights2_.airline_id=airline3_.airline_id \r\n        left outer join\r\n            booking bookings4_ \r\n                on flights2_.flight_id=bookings4_.flight_id \r\n        left outer join\r\n            airport airport5_ \r\n                on flights2_.from=airport5_.airport_id \r\n        left outer join\r\n            flight_log logs6_ \r\n                on flights2_.flight_id=logs6_.flight_id \r\n        left outer join\r\n            flightschedule flightsche7_ \r\n                on flights2_.flightno=flightsche7_.flightno \r\n        left outer join\r\n            airport airport8_ \r\n                on flights2_.to=airport8_.airport_id \r\n        where\r\n            airplane0_.airplane_id=?\r\n    Hibernate: \r\n        select\r\n            passenger0_.passenger_id as passenge1_13_0_,\r\n            passenger0_.firstname as firstnam2_13_0_,\r\n            passenger0_.lastname as lastname3_13_0_,\r\n            passenger0_.passportno as passport4_13_0_,\r\n            bookings1_.passenger_id as passenge5_7_1_,\r\n            bookings1_.booking_id as booking_1_7_1_,\r\n            bookings1_.booking_id as booking_1_7_2_,\r\n            bookings1_.flight_id as flight_i4_7_2_,\r\n            bookings1_.passenger_id as passenge5_7_2_,\r\n            bookings1_.price as price2_7_2_,\r\n            bookings1_.seat as seat3_7_2_,\r\n            flight2_.flight_id as flight_i1_9_3_,\r\n            flight2_.airline_id as airline_4_9_3_,\r\n            flight2_.airplane_id as airplane5_9_3_,\r\n            flight2_.arrival as arrival2_9_3_,\r\n            flight2_.departure as departur3_9_3_,\r\n            flight2_.from as from6_9_3_,\r\n            flight2_.flightno as flightno7_9_3_,\r\n            flight2_.to as to8_9_3_,\r\n            passengerd3_.passenger_id as passenge1_14_4_,\r\n            passengerd3_.passenger_id as passenge1_14_5_,\r\n            passengerd3_.birthdate as birthdat2_14_5_,\r\n            passengerd3_.city as city3_14_5_,\r\n            passengerd3_.country as country4_14_5_,\r\n            passengerd3_.emailaddress as emailadd5_14_5_,\r\n            passengerd3_.gender as gender6_14_5_,\r\n            passengerd3_.street as street7_14_5_,\r\n            passengerd3_.telephoneno as telephon8_14_5_,\r\n            passengerd3_.zip as zip9_14_5_ \r\n        from\r\n            passenger passenger0_ \r\n        left outer join\r\n            booking bookings1_ \r\n                on passenger0_.passenger_id=bookings1_.passenger_id \r\n        left outer join\r\n            flight flight2_ \r\n                on bookings1_.flight_id=flight2_.flight_id \r\n        left outer join\r\n            passengerdetails passengerd3_ \r\n                on passenger0_.passenger_id=passengerd3_.passenger_id \r\n        where\r\n            passenger0_.passenger_id=?\r\n    Hibernate: \r\n        select\r\n            airline0_.airline_id as airline_1_0_0_,\r\n            airline0_.airlinename as airlinen2_0_0_,\r\n            airline0_.base_airport as base_air4_0_0_,\r\n            airline0_.iata as iata3_0_0_,\r\n            airport1_.airport_id as airport_1_3_1_,\r\n            airport1_.iata as iata2_3_1_,\r\n            airport1_.icao as icao3_3_1_,\r\n            airport1_.name as name4_3_1_,\r\n            airportgeo2_.airport_id as airport_1_4_2_,\r\n            airportgeo2_.airport_id as airport_1_4_3_,\r\n            airportgeo2_.city as city2_4_3_,\r\n            airportgeo2_.country as country3_4_3_,\r\n            airportgeo2_.geolocation as geolocat4_4_3_,\r\n            airportgeo2_.latitude as latitude5_4_3_,\r\n            airportgeo2_.longitude as longitud6_4_3_,\r\n            airportgeo2_.name as name7_4_3_,\r\n            airportrea3_.airport_id as airport_1_5_4_,\r\n            airportrea3_.airport_id as airport_1_5_5_,\r\n            airportrea3_.hops as hops2_5_5_ \r\n        from\r\n            airline airline0_ \r\n        left outer join\r\n            airport airport1_ \r\n                on airline0_.base_airport=airport1_.airport_id \r\n        left outer join\r\n            airport_geo airportgeo2_ \r\n                on airport1_.airport_id=airportgeo2_.airport_id \r\n        left outer join\r\n            airport_reachable airportrea3_ \r\n                on airport1_.airport_id=airportrea3_.airport_id \r\n        where\r\n            airline0_.airline_id=?\r\n    Hibernate: \r\n        select\r\n            airplane0_.airplane_id as airplane1_1_0_,\r\n            airplane0_.airline_id as airline_2_1_0_,\r\n            airplane0_.type_id as type_id4_1_0_,\r\n            airplane0_.capacity as capacity3_1_0_,\r\n            airplanety1_.type_id as type_id1_2_1_,\r\n            airplanety1_.description as descript2_2_1_,\r\n            airplanety1_.identifier as identifi3_2_1_,\r\n            flights2_.airplane_id as airplane5_9_2_,\r\n            flights2_.flight_id as flight_i1_9_2_,\r\n            flights2_.flight_id as flight_i1_9_3_,\r\n            flights2_.airline_id as airline_4_9_3_,\r\n            flights2_.airplane_id as airplane5_9_3_,\r\n            flights2_.arrival as arrival2_9_3_,\r\n            flights2_.departure as departur3_9_3_,\r\n            flights2_.from as from6_9_3_,\r\n            flights2_.flightno as flightno7_9_3_,\r\n            flights2_.to as to8_9_3_,\r\n            airline3_.airline_id as airline_1_0_4_,\r\n            airline3_.airlinename as airlinen2_0_4_,\r\n            airline3_.base_airport as base_air4_0_4_,\r\n            airline3_.iata as iata3_0_4_,\r\n            bookings4_.flight_id as flight_i4_7_5_,\r\n            bookings4_.booking_id as booking_1_7_5_,\r\n            bookings4_.booking_id as booking_1_7_6_,\r\n            bookings4_.flight_id as flight_i4_7_6_,\r\n            bookings4_.passenger_id as passenge5_7_6_,\r\n            bookings4_.price as price2_7_6_,\r\n            bookings4_.seat as seat3_7_6_,\r\n            airport5_.airport_id as airport_1_3_7_,\r\n            airport5_.iata as iata2_3_7_,\r\n            airport5_.icao as icao3_3_7_,\r\n            airport5_.name as name4_3_7_,\r\n            logs6_.flight_id as flight_19_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_9_,\r\n            logs6_.airline_id_new as airline_2_10_9_,\r\n            logs6_.airline_id_old as airline_3_10_9_,\r\n            logs6_.airplane_id_new as airplane4_10_9_,\r\n            logs6_.airplane_id_old as airplane5_10_9_,\r\n            logs6_.arrival_new as arrival_6_10_9_,\r\n            logs6_.arrival_old as arrival_7_10_9_,\r\n            logs6_.comment as comment8_10_9_,\r\n            logs6_.departure_new as departur9_10_9_,\r\n            logs6_.departure_old as departu10_10_9_,\r\n            logs6_.flight_id as flight_19_10_9_,\r\n            logs6_.flightno_new as flightn11_10_9_,\r\n            logs6_.flightno_old as flightn12_10_9_,\r\n            logs6_.from_new as from_ne13_10_9_,\r\n            logs6_.from_old as from_ol14_10_9_,\r\n            logs6_.log_date as log_dat15_10_9_,\r\n            logs6_.to_new as to_new16_10_9_,\r\n            logs6_.to_old as to_old17_10_9_,\r\n            logs6_.user as user18_10_9_,\r\n            flightsche7_.flightno as flightno1_11_10_,\r\n            flightsche7_.airline_id as airline11_11_10_,\r\n            flightsche7_.arrival as arrival2_11_10_,\r\n            flightsche7_.departure as departur3_11_10_,\r\n            flightsche7_.friday as friday4_11_10_,\r\n            flightsche7_.from as from12_11_10_,\r\n            flightsche7_.monday as monday5_11_10_,\r\n            flightsche7_.saturday as saturday6_11_10_,\r\n            flightsche7_.sunday as sunday7_11_10_,\r\n            flightsche7_.thursday as thursday8_11_10_,\r\n            flightsche7_.to as to13_11_10_,\r\n            flightsche7_.tuesday as tuesday9_11_10_,\r\n            flightsche7_.wednesday as wednesd10_11_10_,\r\n            airport8_.airport_id as airport_1_3_11_,\r\n            airport8_.iata as iata2_3_11_,\r\n            airport8_.icao as icao3_3_11_,\r\n            airport8_.name as name4_3_11_ \r\n        from\r\n            airplane airplane0_ \r\n        left outer join\r\n            airplane_type airplanety1_ \r\n                on airplane0_.type_id=airplanety1_.type_id \r\n        left outer join\r\n            flight flights2_ \r\n                on airplane0_.airplane_id=flights2_.airplane_id \r\n        left outer join\r\n            airline airline3_ \r\n                on flights2_.airline_id=airline3_.airline_id \r\n        left outer join\r\n            booking bookings4_ \r\n                on flights2_.flight_id=bookings4_.flight_id \r\n        left outer join\r\n            airport airport5_ \r\n                on flights2_.from=airport5_.airport_id \r\n        left outer join\r\n            flight_log logs6_ \r\n                on flights2_.flight_id=logs6_.flight_id \r\n        left outer join\r\n            flightschedule flightsche7_ \r\n                on flights2_.flightno=flightsche7_.flightno \r\n        left outer join\r\n            airport airport8_ \r\n                on flights2_.to=airport8_.airport_id \r\n        where\r\n            airplane0_.airplane_id=?\r\n    Hibernate: \r\n        select\r\n            passenger0_.passenger_id as passenge1_13_0_,\r\n            passenger0_.firstname as firstnam2_13_0_,\r\n            passenger0_.lastname as lastname3_13_0_,\r\n            passenger0_.passportno as passport4_13_0_,\r\n            bookings1_.passenger_id as passenge5_7_1_,\r\n            bookings1_.booking_id as booking_1_7_1_,\r\n            bookings1_.booking_id as booking_1_7_2_,\r\n            bookings1_.flight_id as flight_i4_7_2_,\r\n            bookings1_.passenger_id as passenge5_7_2_,\r\n            bookings1_.price as price2_7_2_,\r\n            bookings1_.seat as seat3_7_2_,\r\n            flight2_.flight_id as flight_i1_9_3_,\r\n            flight2_.airline_id as airline_4_9_3_,\r\n            flight2_.airplane_id as airplane5_9_3_,\r\n            flight2_.arrival as arrival2_9_3_,\r\n            flight2_.departure as departur3_9_3_,\r\n            flight2_.from as from6_9_3_,\r\n            flight2_.flightno as flightno7_9_3_,\r\n            flight2_.to as to8_9_3_,\r\n            passengerd3_.passenger_id as passenge1_14_4_,\r\n            passengerd3_.passenger_id as passenge1_14_5_,\r\n            passengerd3_.birthdate as birthdat2_14_5_,\r\n            passengerd3_.city as city3_14_5_,\r\n            passengerd3_.country as country4_14_5_,\r\n            passengerd3_.emailaddress as emailadd5_14_5_,\r\n            passengerd3_.gender as gender6_14_5_,\r\n            passengerd3_.street as street7_14_5_,\r\n            passengerd3_.telephoneno as telephon8_14_5_,\r\n            passengerd3_.zip as zip9_14_5_ \r\n        from\r\n            passenger passenger0_ \r\n        left outer join\r\n            booking bookings1_ \r\n                on passenger0_.passenger_id=bookings1_.passenger_id \r\n        left outer join\r\n            flight flight2_ \r\n                on bookings1_.flight_id=flight2_.flight_id \r\n        left outer join\r\n            passengerdetails passengerd3_ \r\n                on passenger0_.passenger_id=passengerd3_.passenger_id \r\n        where\r\n            passenger0_.passenger_id=?\r\n    Hibernate: \r\n        select\r\n            airplane0_.airplane_id as airplane1_1_0_,\r\n            airplane0_.airline_id as airline_2_1_0_,\r\n            airplane0_.type_id as type_id4_1_0_,\r\n            airplane0_.capacity as capacity3_1_0_,\r\n            airplanety1_.type_id as type_id1_2_1_,\r\n            airplanety1_.description as descript2_2_1_,\r\n            airplanety1_.identifier as identifi3_2_1_,\r\n            flights2_.airplane_id as airplane5_9_2_,\r\n            flights2_.flight_id as flight_i1_9_2_,\r\n            flights2_.flight_id as flight_i1_9_3_,\r\n            flights2_.airline_id as airline_4_9_3_,\r\n            flights2_.airplane_id as airplane5_9_3_,\r\n            flights2_.arrival as arrival2_9_3_,\r\n            flights2_.departure as departur3_9_3_,\r\n            flights2_.from as from6_9_3_,\r\n            flights2_.flightno as flightno7_9_3_,\r\n            flights2_.to as to8_9_3_,\r\n            airline3_.airline_id as airline_1_0_4_,\r\n            airline3_.airlinename as airlinen2_0_4_,\r\n            airline3_.base_airport as base_air4_0_4_,\r\n            airline3_.iata as iata3_0_4_,\r\n            bookings4_.flight_id as flight_i4_7_5_,\r\n            bookings4_.booking_id as booking_1_7_5_,\r\n            bookings4_.booking_id as booking_1_7_6_,\r\n            bookings4_.flight_id as flight_i4_7_6_,\r\n            bookings4_.passenger_id as passenge5_7_6_,\r\n            bookings4_.price as price2_7_6_,\r\n            bookings4_.seat as seat3_7_6_,\r\n            airport5_.airport_id as airport_1_3_7_,\r\n            airport5_.iata as iata2_3_7_,\r\n            airport5_.icao as icao3_3_7_,\r\n            airport5_.name as name4_3_7_,\r\n            logs6_.flight_id as flight_19_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_8_,\r\n            logs6_.flight_log_id as flight_l1_10_9_,\r\n            logs6_.airline_id_new as airline_2_10_9_,\r\n            logs6_.airline_id_old as airline_3_10_9_,\r\n            logs6_.airplane_id_new as airplane4_10_9_,\r\n            logs6_.airplane_id_old as airplane5_10_9_,\r\n            logs6_.arrival_new as arrival_6_10_9_,\r\n            logs6_.arrival_old as arrival_7_10_9_,\r\n            logs6_.comment as comment8_10_9_,\r\n            logs6_.departure_new as departur9_10_9_,\r\n            logs6_.departure_old as departu10_10_9_,\r\n            logs6_.flight_id as flight_19_10_9_,\r\n            logs6_.flightno_new as flightn11_10_9_,\r\n            logs6_.flightno_old as flightn12_10_9_,\r\n            logs6_.from_new as from_ne13_10_9_,\r\n            logs6_.from_old as from_ol14_10_9_,\r\n            logs6_.log_date as log_dat15_10_9_,\r\n            logs6_.to_new as to_new16_10_9_,\r\n            logs6_.to_old as to_old17_10_9_,\r\n            logs6_.user as user18_10_9_,\r\n            flightsche7_.flightno as flightno1_11_10_,\r\n            flightsche7_.airline_id as airline11_11_10_,\r\n            flightsche7_.arrival as arrival2_11_10_,\r\n            flightsche7_.departure as departur3_11_10_,\r\n            flightsche7_.friday as friday4_11_10_,\r\n            flightsche7_.from as from12_11_10_,\r\n            flightsche7_.monday as monday5_11_10_,\r\n            flightsche7_.saturday as saturday6_11_10_,\r\n            flightsche7_.sunday as sunday7_11_10_,\r\n            flightsche7_.thursday as thursday8_11_10_,\r\n            flightsche7_.to as to13_11_10_,\r\n            flightsche7_.tuesday as tuesday9_11_10_,\r\n            flightsche7_.wednesday as wednesd10_11_10_,\r\n            airport8_.airport_id as airport_1_3_11_,\r\n            airport8_.iata as iata2_3_11_,\r\n            airport8_.icao as icao3_3_11_,\r\n            airport8_.name as name4_3_11_ \r\n        from\r\n            airplane airplane0_ \r\n        left outer join\r\n            airplane_type airplanety1_ \r\n                on airplane0_.type_id=airplanety1_.type_id \r\n        left outer join\r\n            flight flights2_ \r\n                on airplane0_.airplane_id=flights2_.airplane_id \r\n        left outer join\r\n            airline airline3_ \r\n                on flights2_.airline_id=airline3_.airline_id \r\n        left outer join\r\n            booking bookings4_ \r\n                on flights2_.flight_id=bookings4_.flight_id \r\n        left outer join\r\n            airport airport5_ \r\n                on flights2_.from=airport5_.airport_id \r\n        left outer join\r\n            flight_log logs6_ \r\n                on flights2_.flight_id=logs6_.flight_id \r\n        left outer join\r\n            flightschedule flightsche7_ \r\n                on flights2_.flightno=flightsche7_.flightno \r\n        left outer join\r\n            airport airport8_ \r\n                on flights2_.to=airport8_.airport_id \r\n        where\r\n            airplane0_.airplane_id=?\r\n\r\n\r\n  [1]: https://mega.nz/folder/oxFzDKST#Jhy6zpBtZARmuZQ9QtWr5w\r\n  [2]: https://i.stack.imgur.com/LQY2x.png","title":"Hibernate does too much joins for a single query","body":"<p>I have an airport database that I downloaded from the mysql site (I also uploaded a photo of it here) and I made all its settings in the spring boot program, but when I want to run a simple query <code>select f from Flight</code>, hibernate does a lot of strange joins and it doesn't end and the outOfMemory error is shown. In the following output, a part of hibernate queries are placed, which are not all of them, and in the middle of the <code>java.lang.OutOfMemoryError: Java heap space</code> is shown, and the program is terminated.</p>\n<p>I had two questions:</p>\n<p>First of all, what is the reason for all these joins?</p>\n<p>Second, what is the way to prevent it?</p>\n<p><a href=\"https://mega.nz/folder/oxFzDKST#Jhy6zpBtZARmuZQ9QtWr5w\" rel=\"nofollow noreferrer\">All models classes(with hibernate mappings)</a>-you dont need to see the view folder.</p>\n<p>EER photo:</p>\n<p><a href=\"https://i.stack.imgur.com/LQY2x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LQY2x.png\" alt=\"enter image description here\" /></a></p>\n<p>output:</p>\n<pre><code>Hibernate: \n    select\n        flight0_.flight_id as flight_i1_9_,\n        flight0_.airline_id as airline_4_9_,\n        flight0_.airplane_id as airplane5_9_,\n        flight0_.arrival as arrival2_9_,\n        flight0_.departure as departur3_9_,\n        flight0_.from as from6_9_,\n        flight0_.flightno as flightno7_9_,\n        flight0_.to as to8_9_ \n    from\n        flight flight0_ \n    order by\n        flight0_.departure asc limit ?\nHibernate: \n    select\n        airline0_.airline_id as airline_1_0_0_,\n        airline0_.airlinename as airlinen2_0_0_,\n        airline0_.base_airport as base_air4_0_0_,\n        airline0_.iata as iata3_0_0_,\n        airport1_.airport_id as airport_1_3_1_,\n        airport1_.iata as iata2_3_1_,\n        airport1_.icao as icao3_3_1_,\n        airport1_.name as name4_3_1_,\n        airportgeo2_.airport_id as airport_1_4_2_,\n        airportgeo2_.airport_id as airport_1_4_3_,\n        airportgeo2_.city as city2_4_3_,\n        airportgeo2_.country as country3_4_3_,\n        airportgeo2_.geolocation as geolocat4_4_3_,\n        airportgeo2_.latitude as latitude5_4_3_,\n        airportgeo2_.longitude as longitud6_4_3_,\n        airportgeo2_.name as name7_4_3_,\n        airportrea3_.airport_id as airport_1_5_4_,\n        airportrea3_.airport_id as airport_1_5_5_,\n        airportrea3_.hops as hops2_5_5_ \n    from\n        airline airline0_ \n    left outer join\n        airport airport1_ \n            on airline0_.base_airport=airport1_.airport_id \n    left outer join\n        airport_geo airportgeo2_ \n            on airport1_.airport_id=airportgeo2_.airport_id \n    left outer join\n        airport_reachable airportrea3_ \n            on airport1_.airport_id=airportrea3_.airport_id \n    where\n        airline0_.airline_id=?\nHibernate: \n    select\n        airplane0_.airplane_id as airplane1_1_0_,\n        airplane0_.airline_id as airline_2_1_0_,\n        airplane0_.type_id as type_id4_1_0_,\n        airplane0_.capacity as capacity3_1_0_,\n        airplanety1_.type_id as type_id1_2_1_,\n        airplanety1_.description as descript2_2_1_,\n        airplanety1_.identifier as identifi3_2_1_,\n        flights2_.airplane_id as airplane5_9_2_,\n        flights2_.flight_id as flight_i1_9_2_,\n        flights2_.flight_id as flight_i1_9_3_,\n        flights2_.airline_id as airline_4_9_3_,\n        flights2_.airplane_id as airplane5_9_3_,\n        flights2_.arrival as arrival2_9_3_,\n        flights2_.departure as departur3_9_3_,\n        flights2_.from as from6_9_3_,\n        flights2_.flightno as flightno7_9_3_,\n        flights2_.to as to8_9_3_,\n        airline3_.airline_id as airline_1_0_4_,\n        airline3_.airlinename as airlinen2_0_4_,\n        airline3_.base_airport as base_air4_0_4_,\n        airline3_.iata as iata3_0_4_,\n        bookings4_.flight_id as flight_i4_7_5_,\n        bookings4_.booking_id as booking_1_7_5_,\n        bookings4_.booking_id as booking_1_7_6_,\n        bookings4_.flight_id as flight_i4_7_6_,\n        bookings4_.passenger_id as passenge5_7_6_,\n        bookings4_.price as price2_7_6_,\n        bookings4_.seat as seat3_7_6_,\n        airport5_.airport_id as airport_1_3_7_,\n        airport5_.iata as iata2_3_7_,\n        airport5_.icao as icao3_3_7_,\n        airport5_.name as name4_3_7_,\n        logs6_.flight_id as flight_19_10_8_,\n        logs6_.flight_log_id as flight_l1_10_8_,\n        logs6_.flight_log_id as flight_l1_10_9_,\n        logs6_.airline_id_new as airline_2_10_9_,\n        logs6_.airline_id_old as airline_3_10_9_,\n        logs6_.airplane_id_new as airplane4_10_9_,\n        logs6_.airplane_id_old as airplane5_10_9_,\n        logs6_.arrival_new as arrival_6_10_9_,\n        logs6_.arrival_old as arrival_7_10_9_,\n        logs6_.comment as comment8_10_9_,\n        logs6_.departure_new as departur9_10_9_,\n        logs6_.departure_old as departu10_10_9_,\n        logs6_.flight_id as flight_19_10_9_,\n        logs6_.flightno_new as flightn11_10_9_,\n        logs6_.flightno_old as flightn12_10_9_,\n        logs6_.from_new as from_ne13_10_9_,\n        logs6_.from_old as from_ol14_10_9_,\n        logs6_.log_date as log_dat15_10_9_,\n        logs6_.to_new as to_new16_10_9_,\n        logs6_.to_old as to_old17_10_9_,\n        logs6_.user as user18_10_9_,\n        flightsche7_.flightno as flightno1_11_10_,\n        flightsche7_.airline_id as airline11_11_10_,\n        flightsche7_.arrival as arrival2_11_10_,\n        flightsche7_.departure as departur3_11_10_,\n        flightsche7_.friday as friday4_11_10_,\n        flightsche7_.from as from12_11_10_,\n        flightsche7_.monday as monday5_11_10_,\n        flightsche7_.saturday as saturday6_11_10_,\n        flightsche7_.sunday as sunday7_11_10_,\n        flightsche7_.thursday as thursday8_11_10_,\n        flightsche7_.to as to13_11_10_,\n        flightsche7_.tuesday as tuesday9_11_10_,\n        flightsche7_.wednesday as wednesd10_11_10_,\n        airport8_.airport_id as airport_1_3_11_,\n        airport8_.iata as iata2_3_11_,\n        airport8_.icao as icao3_3_11_,\n        airport8_.name as name4_3_11_ \n    from\n        airplane airplane0_ \n    left outer join\n        airplane_type airplanety1_ \n            on airplane0_.type_id=airplanety1_.type_id \n    left outer join\n        flight flights2_ \n            on airplane0_.airplane_id=flights2_.airplane_id \n    left outer join\n        airline airline3_ \n            on flights2_.airline_id=airline3_.airline_id \n    left outer join\n        booking bookings4_ \n            on flights2_.flight_id=bookings4_.flight_id \n    left outer join\n        airport airport5_ \n            on flights2_.from=airport5_.airport_id \n    left outer join\n        flight_log logs6_ \n            on flights2_.flight_id=logs6_.flight_id \n    left outer join\n        flightschedule flightsche7_ \n            on flights2_.flightno=flightsche7_.flightno \n    left outer join\n        airport airport8_ \n            on flights2_.to=airport8_.airport_id \n    where\n        airplane0_.airplane_id=?\nHibernate: \n    select\n        airline0_.airline_id as airline_1_0_0_,\n        airline0_.airlinename as airlinen2_0_0_,\n        airline0_.base_airport as base_air4_0_0_,\n        airline0_.iata as iata3_0_0_,\n        airport1_.airport_id as airport_1_3_1_,\n        airport1_.iata as iata2_3_1_,\n        airport1_.icao as icao3_3_1_,\n        airport1_.name as name4_3_1_,\n        airportgeo2_.airport_id as airport_1_4_2_,\n        airportgeo2_.airport_id as airport_1_4_3_,\n        airportgeo2_.city as city2_4_3_,\n        airportgeo2_.country as country3_4_3_,\n        airportgeo2_.geolocation as geolocat4_4_3_,\n        airportgeo2_.latitude as latitude5_4_3_,\n        airportgeo2_.longitude as longitud6_4_3_,\n        airportgeo2_.name as name7_4_3_,\n        airportrea3_.airport_id as airport_1_5_4_,\n        airportrea3_.airport_id as airport_1_5_5_,\n        airportrea3_.hops as hops2_5_5_ \n    from\n        airline airline0_ \n    left outer join\n        airport airport1_ \n            on airline0_.base_airport=airport1_.airport_id \n    left outer join\n        airport_geo airportgeo2_ \n            on airport1_.airport_id=airportgeo2_.airport_id \n    left outer join\n        airport_reachable airportrea3_ \n            on airport1_.airport_id=airportrea3_.airport_id \n    where\n        airline0_.airline_id=?\nHibernate: \n    select\n        airplane0_.airplane_id as airplane1_1_0_,\n        airplane0_.airline_id as airline_2_1_0_,\n        airplane0_.type_id as type_id4_1_0_,\n        airplane0_.capacity as capacity3_1_0_,\n        airplanety1_.type_id as type_id1_2_1_,\n        airplanety1_.description as descript2_2_1_,\n        airplanety1_.identifier as identifi3_2_1_,\n        flights2_.airplane_id as airplane5_9_2_,\n        flights2_.flight_id as flight_i1_9_2_,\n        flights2_.flight_id as flight_i1_9_3_,\n        flights2_.airline_id as airline_4_9_3_,\n        flights2_.airplane_id as airplane5_9_3_,\n        flights2_.arrival as arrival2_9_3_,\n        flights2_.departure as departur3_9_3_,\n        flights2_.from as from6_9_3_,\n        flights2_.flightno as flightno7_9_3_,\n        flights2_.to as to8_9_3_,\n        airline3_.airline_id as airline_1_0_4_,\n        airline3_.airlinename as airlinen2_0_4_,\n        airline3_.base_airport as base_air4_0_4_,\n        airline3_.iata as iata3_0_4_,\n        bookings4_.flight_id as flight_i4_7_5_,\n        bookings4_.booking_id as booking_1_7_5_,\n        bookings4_.booking_id as booking_1_7_6_,\n        bookings4_.flight_id as flight_i4_7_6_,\n        bookings4_.passenger_id as passenge5_7_6_,\n        bookings4_.price as price2_7_6_,\n        bookings4_.seat as seat3_7_6_,\n        airport5_.airport_id as airport_1_3_7_,\n        airport5_.iata as iata2_3_7_,\n        airport5_.icao as icao3_3_7_,\n        airport5_.name as name4_3_7_,\n        logs6_.flight_id as flight_19_10_8_,\n        logs6_.flight_log_id as flight_l1_10_8_,\n        logs6_.flight_log_id as flight_l1_10_9_,\n        logs6_.airline_id_new as airline_2_10_9_,\n        logs6_.airline_id_old as airline_3_10_9_,\n        logs6_.airplane_id_new as airplane4_10_9_,\n        logs6_.airplane_id_old as airplane5_10_9_,\n        logs6_.arrival_new as arrival_6_10_9_,\n        logs6_.arrival_old as arrival_7_10_9_,\n        logs6_.comment as comment8_10_9_,\n        logs6_.departure_new as departur9_10_9_,\n        logs6_.departure_old as departu10_10_9_,\n        logs6_.flight_id as flight_19_10_9_,\n        logs6_.flightno_new as flightn11_10_9_,\n        logs6_.flightno_old as flightn12_10_9_,\n        logs6_.from_new as from_ne13_10_9_,\n        logs6_.from_old as from_ol14_10_9_,\n        logs6_.log_date as log_dat15_10_9_,\n        logs6_.to_new as to_new16_10_9_,\n        logs6_.to_old as to_old17_10_9_,\n        logs6_.user as user18_10_9_,\n        flightsche7_.flightno as flightno1_11_10_,\n        flightsche7_.airline_id as airline11_11_10_,\n        flightsche7_.arrival as arrival2_11_10_,\n        flightsche7_.departure as departur3_11_10_,\n        flightsche7_.friday as friday4_11_10_,\n        flightsche7_.from as from12_11_10_,\n        flightsche7_.monday as monday5_11_10_,\n        flightsche7_.saturday as saturday6_11_10_,\n        flightsche7_.sunday as sunday7_11_10_,\n        flightsche7_.thursday as thursday8_11_10_,\n        flightsche7_.to as to13_11_10_,\n        flightsche7_.tuesday as tuesday9_11_10_,\n        flightsche7_.wednesday as wednesd10_11_10_,\n        airport8_.airport_id as airport_1_3_11_,\n        airport8_.iata as iata2_3_11_,\n        airport8_.icao as icao3_3_11_,\n        airport8_.name as name4_3_11_ \n    from\n        airplane airplane0_ \n    left outer join\n        airplane_type airplanety1_ \n            on airplane0_.type_id=airplanety1_.type_id \n    left outer join\n        flight flights2_ \n            on airplane0_.airplane_id=flights2_.airplane_id \n    left outer join\n        airline airline3_ \n            on flights2_.airline_id=airline3_.airline_id \n    left outer join\n        booking bookings4_ \n            on flights2_.flight_id=bookings4_.flight_id \n    left outer join\n        airport airport5_ \n            on flights2_.from=airport5_.airport_id \n    left outer join\n        flight_log logs6_ \n            on flights2_.flight_id=logs6_.flight_id \n    left outer join\n        flightschedule flightsche7_ \n            on flights2_.flightno=flightsche7_.flightno \n    left outer join\n        airport airport8_ \n            on flights2_.to=airport8_.airport_id \n    where\n        airplane0_.airplane_id=?\nHibernate: \n    select\n        passenger0_.passenger_id as passenge1_13_0_,\n        passenger0_.firstname as firstnam2_13_0_,\n        passenger0_.lastname as lastname3_13_0_,\n        passenger0_.passportno as passport4_13_0_,\n        bookings1_.passenger_id as passenge5_7_1_,\n        bookings1_.booking_id as booking_1_7_1_,\n        bookings1_.booking_id as booking_1_7_2_,\n        bookings1_.flight_id as flight_i4_7_2_,\n        bookings1_.passenger_id as passenge5_7_2_,\n        bookings1_.price as price2_7_2_,\n        bookings1_.seat as seat3_7_2_,\n        flight2_.flight_id as flight_i1_9_3_,\n        flight2_.airline_id as airline_4_9_3_,\n        flight2_.airplane_id as airplane5_9_3_,\n        flight2_.arrival as arrival2_9_3_,\n        flight2_.departure as departur3_9_3_,\n        flight2_.from as from6_9_3_,\n        flight2_.flightno as flightno7_9_3_,\n        flight2_.to as to8_9_3_,\n        passengerd3_.passenger_id as passenge1_14_4_,\n        passengerd3_.passenger_id as passenge1_14_5_,\n        passengerd3_.birthdate as birthdat2_14_5_,\n        passengerd3_.city as city3_14_5_,\n        passengerd3_.country as country4_14_5_,\n        passengerd3_.emailaddress as emailadd5_14_5_,\n        passengerd3_.gender as gender6_14_5_,\n        passengerd3_.street as street7_14_5_,\n        passengerd3_.telephoneno as telephon8_14_5_,\n        passengerd3_.zip as zip9_14_5_ \n    from\n        passenger passenger0_ \n    left outer join\n        booking bookings1_ \n            on passenger0_.passenger_id=bookings1_.passenger_id \n    left outer join\n        flight flight2_ \n            on bookings1_.flight_id=flight2_.flight_id \n    left outer join\n        passengerdetails passengerd3_ \n            on passenger0_.passenger_id=passengerd3_.passenger_id \n    where\n        passenger0_.passenger_id=?\nHibernate: \n    select\n        airline0_.airline_id as airline_1_0_0_,\n        airline0_.airlinename as airlinen2_0_0_,\n        airline0_.base_airport as base_air4_0_0_,\n        airline0_.iata as iata3_0_0_,\n        airport1_.airport_id as airport_1_3_1_,\n        airport1_.iata as iata2_3_1_,\n        airport1_.icao as icao3_3_1_,\n        airport1_.name as name4_3_1_,\n        airportgeo2_.airport_id as airport_1_4_2_,\n        airportgeo2_.airport_id as airport_1_4_3_,\n        airportgeo2_.city as city2_4_3_,\n        airportgeo2_.country as country3_4_3_,\n        airportgeo2_.geolocation as geolocat4_4_3_,\n        airportgeo2_.latitude as latitude5_4_3_,\n        airportgeo2_.longitude as longitud6_4_3_,\n        airportgeo2_.name as name7_4_3_,\n        airportrea3_.airport_id as airport_1_5_4_,\n        airportrea3_.airport_id as airport_1_5_5_,\n        airportrea3_.hops as hops2_5_5_ \n    from\n        airline airline0_ \n    left outer join\n        airport airport1_ \n            on airline0_.base_airport=airport1_.airport_id \n    left outer join\n        airport_geo airportgeo2_ \n            on airport1_.airport_id=airportgeo2_.airport_id \n    left outer join\n        airport_reachable airportrea3_ \n            on airport1_.airport_id=airportrea3_.airport_id \n    where\n        airline0_.airline_id=?\nHibernate: \n    select\n        airplane0_.airplane_id as airplane1_1_0_,\n        airplane0_.airline_id as airline_2_1_0_,\n        airplane0_.type_id as type_id4_1_0_,\n        airplane0_.capacity as capacity3_1_0_,\n        airplanety1_.type_id as type_id1_2_1_,\n        airplanety1_.description as descript2_2_1_,\n        airplanety1_.identifier as identifi3_2_1_,\n        flights2_.airplane_id as airplane5_9_2_,\n        flights2_.flight_id as flight_i1_9_2_,\n        flights2_.flight_id as flight_i1_9_3_,\n        flights2_.airline_id as airline_4_9_3_,\n        flights2_.airplane_id as airplane5_9_3_,\n        flights2_.arrival as arrival2_9_3_,\n        flights2_.departure as departur3_9_3_,\n        flights2_.from as from6_9_3_,\n        flights2_.flightno as flightno7_9_3_,\n        flights2_.to as to8_9_3_,\n        airline3_.airline_id as airline_1_0_4_,\n        airline3_.airlinename as airlinen2_0_4_,\n        airline3_.base_airport as base_air4_0_4_,\n        airline3_.iata as iata3_0_4_,\n        bookings4_.flight_id as flight_i4_7_5_,\n        bookings4_.booking_id as booking_1_7_5_,\n        bookings4_.booking_id as booking_1_7_6_,\n        bookings4_.flight_id as flight_i4_7_6_,\n        bookings4_.passenger_id as passenge5_7_6_,\n        bookings4_.price as price2_7_6_,\n        bookings4_.seat as seat3_7_6_,\n        airport5_.airport_id as airport_1_3_7_,\n        airport5_.iata as iata2_3_7_,\n        airport5_.icao as icao3_3_7_,\n        airport5_.name as name4_3_7_,\n        logs6_.flight_id as flight_19_10_8_,\n        logs6_.flight_log_id as flight_l1_10_8_,\n        logs6_.flight_log_id as flight_l1_10_9_,\n        logs6_.airline_id_new as airline_2_10_9_,\n        logs6_.airline_id_old as airline_3_10_9_,\n        logs6_.airplane_id_new as airplane4_10_9_,\n        logs6_.airplane_id_old as airplane5_10_9_,\n        logs6_.arrival_new as arrival_6_10_9_,\n        logs6_.arrival_old as arrival_7_10_9_,\n        logs6_.comment as comment8_10_9_,\n        logs6_.departure_new as departur9_10_9_,\n        logs6_.departure_old as departu10_10_9_,\n        logs6_.flight_id as flight_19_10_9_,\n        logs6_.flightno_new as flightn11_10_9_,\n        logs6_.flightno_old as flightn12_10_9_,\n        logs6_.from_new as from_ne13_10_9_,\n        logs6_.from_old as from_ol14_10_9_,\n        logs6_.log_date as log_dat15_10_9_,\n        logs6_.to_new as to_new16_10_9_,\n        logs6_.to_old as to_old17_10_9_,\n        logs6_.user as user18_10_9_,\n        flightsche7_.flightno as flightno1_11_10_,\n        flightsche7_.airline_id as airline11_11_10_,\n        flightsche7_.arrival as arrival2_11_10_,\n        flightsche7_.departure as departur3_11_10_,\n        flightsche7_.friday as friday4_11_10_,\n        flightsche7_.from as from12_11_10_,\n        flightsche7_.monday as monday5_11_10_,\n        flightsche7_.saturday as saturday6_11_10_,\n        flightsche7_.sunday as sunday7_11_10_,\n        flightsche7_.thursday as thursday8_11_10_,\n        flightsche7_.to as to13_11_10_,\n        flightsche7_.tuesday as tuesday9_11_10_,\n        flightsche7_.wednesday as wednesd10_11_10_,\n        airport8_.airport_id as airport_1_3_11_,\n        airport8_.iata as iata2_3_11_,\n        airport8_.icao as icao3_3_11_,\n        airport8_.name as name4_3_11_ \n    from\n        airplane airplane0_ \n    left outer join\n        airplane_type airplanety1_ \n            on airplane0_.type_id=airplanety1_.type_id \n    left outer join\n        flight flights2_ \n            on airplane0_.airplane_id=flights2_.airplane_id \n    left outer join\n        airline airline3_ \n            on flights2_.airline_id=airline3_.airline_id \n    left outer join\n        booking bookings4_ \n            on flights2_.flight_id=bookings4_.flight_id \n    left outer join\n        airport airport5_ \n            on flights2_.from=airport5_.airport_id \n    left outer join\n        flight_log logs6_ \n            on flights2_.flight_id=logs6_.flight_id \n    left outer join\n        flightschedule flightsche7_ \n            on flights2_.flightno=flightsche7_.flightno \n    left outer join\n        airport airport8_ \n            on flights2_.to=airport8_.airport_id \n    where\n        airplane0_.airplane_id=?\nHibernate: \n    select\n        passenger0_.passenger_id as passenge1_13_0_,\n        passenger0_.firstname as firstnam2_13_0_,\n        passenger0_.lastname as lastname3_13_0_,\n        passenger0_.passportno as passport4_13_0_,\n        bookings1_.passenger_id as passenge5_7_1_,\n        bookings1_.booking_id as booking_1_7_1_,\n        bookings1_.booking_id as booking_1_7_2_,\n        bookings1_.flight_id as flight_i4_7_2_,\n        bookings1_.passenger_id as passenge5_7_2_,\n        bookings1_.price as price2_7_2_,\n        bookings1_.seat as seat3_7_2_,\n        flight2_.flight_id as flight_i1_9_3_,\n        flight2_.airline_id as airline_4_9_3_,\n        flight2_.airplane_id as airplane5_9_3_,\n        flight2_.arrival as arrival2_9_3_,\n        flight2_.departure as departur3_9_3_,\n        flight2_.from as from6_9_3_,\n        flight2_.flightno as flightno7_9_3_,\n        flight2_.to as to8_9_3_,\n        passengerd3_.passenger_id as passenge1_14_4_,\n        passengerd3_.passenger_id as passenge1_14_5_,\n        passengerd3_.birthdate as birthdat2_14_5_,\n        passengerd3_.city as city3_14_5_,\n        passengerd3_.country as country4_14_5_,\n        passengerd3_.emailaddress as emailadd5_14_5_,\n        passengerd3_.gender as gender6_14_5_,\n        passengerd3_.street as street7_14_5_,\n        passengerd3_.telephoneno as telephon8_14_5_,\n        passengerd3_.zip as zip9_14_5_ \n    from\n        passenger passenger0_ \n    left outer join\n        booking bookings1_ \n            on passenger0_.passenger_id=bookings1_.passenger_id \n    left outer join\n        flight flight2_ \n            on bookings1_.flight_id=flight2_.flight_id \n    left outer join\n        passengerdetails passengerd3_ \n            on passenger0_.passenger_id=passengerd3_.passenger_id \n    where\n        passenger0_.passenger_id=?\nHibernate: \n    select\n        airplane0_.airplane_id as airplane1_1_0_,\n        airplane0_.airline_id as airline_2_1_0_,\n        airplane0_.type_id as type_id4_1_0_,\n        airplane0_.capacity as capacity3_1_0_,\n        airplanety1_.type_id as type_id1_2_1_,\n        airplanety1_.description as descript2_2_1_,\n        airplanety1_.identifier as identifi3_2_1_,\n        flights2_.airplane_id as airplane5_9_2_,\n        flights2_.flight_id as flight_i1_9_2_,\n        flights2_.flight_id as flight_i1_9_3_,\n        flights2_.airline_id as airline_4_9_3_,\n        flights2_.airplane_id as airplane5_9_3_,\n        flights2_.arrival as arrival2_9_3_,\n        flights2_.departure as departur3_9_3_,\n        flights2_.from as from6_9_3_,\n        flights2_.flightno as flightno7_9_3_,\n        flights2_.to as to8_9_3_,\n        airline3_.airline_id as airline_1_0_4_,\n        airline3_.airlinename as airlinen2_0_4_,\n        airline3_.base_airport as base_air4_0_4_,\n        airline3_.iata as iata3_0_4_,\n        bookings4_.flight_id as flight_i4_7_5_,\n        bookings4_.booking_id as booking_1_7_5_,\n        bookings4_.booking_id as booking_1_7_6_,\n        bookings4_.flight_id as flight_i4_7_6_,\n        bookings4_.passenger_id as passenge5_7_6_,\n        bookings4_.price as price2_7_6_,\n        bookings4_.seat as seat3_7_6_,\n        airport5_.airport_id as airport_1_3_7_,\n        airport5_.iata as iata2_3_7_,\n        airport5_.icao as icao3_3_7_,\n        airport5_.name as name4_3_7_,\n        logs6_.flight_id as flight_19_10_8_,\n        logs6_.flight_log_id as flight_l1_10_8_,\n        logs6_.flight_log_id as flight_l1_10_9_,\n        logs6_.airline_id_new as airline_2_10_9_,\n        logs6_.airline_id_old as airline_3_10_9_,\n        logs6_.airplane_id_new as airplane4_10_9_,\n        logs6_.airplane_id_old as airplane5_10_9_,\n        logs6_.arrival_new as arrival_6_10_9_,\n        logs6_.arrival_old as arrival_7_10_9_,\n        logs6_.comment as comment8_10_9_,\n        logs6_.departure_new as departur9_10_9_,\n        logs6_.departure_old as departu10_10_9_,\n        logs6_.flight_id as flight_19_10_9_,\n        logs6_.flightno_new as flightn11_10_9_,\n        logs6_.flightno_old as flightn12_10_9_,\n        logs6_.from_new as from_ne13_10_9_,\n        logs6_.from_old as from_ol14_10_9_,\n        logs6_.log_date as log_dat15_10_9_,\n        logs6_.to_new as to_new16_10_9_,\n        logs6_.to_old as to_old17_10_9_,\n        logs6_.user as user18_10_9_,\n        flightsche7_.flightno as flightno1_11_10_,\n        flightsche7_.airline_id as airline11_11_10_,\n        flightsche7_.arrival as arrival2_11_10_,\n        flightsche7_.departure as departur3_11_10_,\n        flightsche7_.friday as friday4_11_10_,\n        flightsche7_.from as from12_11_10_,\n        flightsche7_.monday as monday5_11_10_,\n        flightsche7_.saturday as saturday6_11_10_,\n        flightsche7_.sunday as sunday7_11_10_,\n        flightsche7_.thursday as thursday8_11_10_,\n        flightsche7_.to as to13_11_10_,\n        flightsche7_.tuesday as tuesday9_11_10_,\n        flightsche7_.wednesday as wednesd10_11_10_,\n        airport8_.airport_id as airport_1_3_11_,\n        airport8_.iata as iata2_3_11_,\n        airport8_.icao as icao3_3_11_,\n        airport8_.name as name4_3_11_ \n    from\n        airplane airplane0_ \n    left outer join\n        airplane_type airplanety1_ \n            on airplane0_.type_id=airplanety1_.type_id \n    left outer join\n        flight flights2_ \n            on airplane0_.airplane_id=flights2_.airplane_id \n    left outer join\n        airline airline3_ \n            on flights2_.airline_id=airline3_.airline_id \n    left outer join\n        booking bookings4_ \n            on flights2_.flight_id=bookings4_.flight_id \n    left outer join\n        airport airport5_ \n            on flights2_.from=airport5_.airport_id \n    left outer join\n        flight_log logs6_ \n            on flights2_.flight_id=logs6_.flight_id \n    left outer join\n        flightschedule flightsche7_ \n            on flights2_.flightno=flightsche7_.flightno \n    left outer join\n        airport airport8_ \n            on flights2_.to=airport8_.airport_id \n    where\n        airplane0_.airplane_id=?\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka","zipkin"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605719744,"creation_date":1605719315,"answer_id":64897895,"question_id":64896332,"body_markdown":"I&#39;m not familiar with it, but it looks like the `TracingConsumer` is a simple consumer wrapper: https://github.com/openzipkin/brave/blob/363ceb4c922305ffb4a68ac47dc152e1d15da0fb/instrumentation/kafka-clients/src/main/java/brave/kafka/clients/TracingConsumer.java#L69-L79\r\n\r\nYou should be able to create a subclass of `DefaultKafkaConsumerFactory`; override the `createConsumer` method(s) - the listener container uses... \r\n\r\n```java\r\nthis.consumer =\r\n\t\tKafkaMessageListenerContainer.this.consumerFactory.createConsumer(\r\n\t\t\t\tthis.consumerGroupId,\r\n\t\t\t\tthis.containerProperties.getClientId(),\r\n\t\t\t\tKafkaMessageListenerContainer.this.clientIdSuffix,\r\n\t\t\t\tconsumerProperties);\r\n```\r\n\r\n... call super.createConsumer(...) and wrap it in a `TracingConsumer`.\r\n\r\nIf you are using 2.5.3 or later, you can add a `ConsumerPostProcessor` to the DKCF.\r\n\r\nThat&#39;s how sleuth does it:\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-sleuth/blob/6e306e594d20361483fd19739e0f5f8e82354bf5/spring-cloud-sleuth-brave/src/main/java/org/springframework/cloud/sleuth/brave/instrument/messaging/TraceMessagingAutoConfiguration.java#L263-L285\r\n","title":"Brave Tracing for Kafka consumer using @KafkaListener","body":"<p>I'm not familiar with it, but it looks like the <code>TracingConsumer</code> is a simple consumer wrapper: <a href=\"https://github.com/openzipkin/brave/blob/363ceb4c922305ffb4a68ac47dc152e1d15da0fb/instrumentation/kafka-clients/src/main/java/brave/kafka/clients/TracingConsumer.java#L69-L79\" rel=\"nofollow noreferrer\">https://github.com/openzipkin/brave/blob/363ceb4c922305ffb4a68ac47dc152e1d15da0fb/instrumentation/kafka-clients/src/main/java/brave/kafka/clients/TracingConsumer.java#L69-L79</a></p>\n<p>You should be able to create a subclass of <code>DefaultKafkaConsumerFactory</code>; override the <code>createConsumer</code> method(s) - the listener container uses...</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.consumer =\n        KafkaMessageListenerContainer.this.consumerFactory.createConsumer(\n                this.consumerGroupId,\n                this.containerProperties.getClientId(),\n                KafkaMessageListenerContainer.this.clientIdSuffix,\n                consumerProperties);\n</code></pre>\n<p>... call super.createConsumer(...) and wrap it in a <code>TracingConsumer</code>.</p>\n<p>If you are using 2.5.3 or later, you can add a <code>ConsumerPostProcessor</code> to the DKCF.</p>\n<p>That's how sleuth does it:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/6e306e594d20361483fd19739e0f5f8e82354bf5/spring-cloud-sleuth-brave/src/main/java/org/springframework/cloud/sleuth/brave/instrument/messaging/TraceMessagingAutoConfiguration.java#L263-L285\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-sleuth/blob/6e306e594d20361483fd19739e0f5f8e82354bf5/spring-cloud-sleuth-brave/src/main/java/org/springframework/cloud/sleuth/brave/instrument/messaging/TraceMessagingAutoConfiguration.java#L263-L285</a></p>\n"},{"tags":[],"owner":{"account_id":18203985,"reputation":21,"user_id":13247652,"display_name":"Dermot Burke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678272163,"creation_date":1678272163,"answer_id":75671988,"question_id":64896332,"body_markdown":"For anyone still looking for a way to solve this issue, I managed to implement a solution using a ConsumerPostProcessor.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class Config {\r\n    \r\n        @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapAddress;\r\n    \r\n        @Bean\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaTracing kafkaTracing) {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n            props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            ConsumerFactory&lt;String, String&gt; consumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n            consumerFactory.addPostProcessor(kafkaTracing::consumer);\r\n            factory.setConsumerFactory(consumerFactory);\r\n            factory.getContainerProperties().setObservationEnabled(true);\r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        KafkaTracing kafkaStreamsTracing(Tracing tracing) {\r\n            return KafkaTracing.create(tracing);\r\n        }\r\n    }","title":"Brave Tracing for Kafka consumer using @KafkaListener","body":"<p>For anyone still looking for a way to solve this issue, I managed to implement a solution using a ConsumerPostProcessor.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class Config {\n\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaTracing kafkaTracing) {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        ConsumerFactory&lt;String, String&gt; consumerFactory = new DefaultKafkaConsumerFactory&lt;&gt;(props);\n        consumerFactory.addPostProcessor(kafkaTracing::consumer);\n        factory.setConsumerFactory(consumerFactory);\n        factory.getContainerProperties().setObservationEnabled(true);\n        return factory;\n    }\n\n    @Bean\n    KafkaTracing kafkaStreamsTracing(Tracing tracing) {\n        return KafkaTracing.create(tracing);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2117992,"reputation":171,"user_id":1881850,"accept_rate":62,"display_name":"Zis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678272163,"creation_date":1605713950,"question_id":64896332,"body_markdown":"I am using Brave library https://github.com/openzipkin/brave for tracing and now I would like to use it also for Kafka consumer. I would like to avoid adding Spring Sleuth and leverage just Brave Kafka instrumentation https://github.com/openzipkin/brave/tree/master/instrumentation/kafka-clients.\r\n\r\nFor the Kafka consumer I use **@KafkaListener**. The code looks like this:\r\n\r\n**TestKafkaEndpoint.java**\r\n```java\r\n@Service\r\npublic class TestKafkaEndpoint {\r\n\r\n    @KafkaListener(topics = &quot;myTestTopic&quot;, containerFactory = &quot;testKafkaListenerContainerFactory&quot;)\r\n    public void procesMyRequest(@Payload final MyRequest request) {\r\n       // do some magic...\r\n    }\r\n}\r\n```\r\n\r\nAnd configuration class **TestKafkaConfig.java**\r\n\r\n```java\r\n\r\n@Configuration\r\n@EnableKafka\r\n@ComponentScan\r\npublic class TestKafkaConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, MyRequest&gt; testConsumerFactory() {\r\n        final Map&lt;String, Object&gt; consumerProperties = new HashMap&lt;&gt;();\r\n        consumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka01-localhost:9092&quot;);\r\n        consumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        consumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        consumerProperties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;TestGROUP&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerProperties, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyRequest.class));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, MyRequest&gt;&gt; testKafkaListenerContainerFactory() {\r\n        final ConcurrentKafkaListenerContainerFactory&lt;String, MyRequest&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(testConsumerFactory());\r\n        factory.getContainerProperties().setErrorHandler(new LoggingErrorHandler());\r\n        return factory;\r\n    }\r\n\r\n```\r\n\r\nBut I do not know how to use **KafkaConsumer** when using Kafka factory or leverage the **KafkaTracing**. Does anyone has any experience with that and got it working?","title":"Brave Tracing for Kafka consumer using @KafkaListener","body":"<p>I am using Brave library <a href=\"https://github.com/openzipkin/brave\" rel=\"nofollow noreferrer\">https://github.com/openzipkin/brave</a> for tracing and now I would like to use it also for Kafka consumer. I would like to avoid adding Spring Sleuth and leverage just Brave Kafka instrumentation <a href=\"https://github.com/openzipkin/brave/tree/master/instrumentation/kafka-clients\" rel=\"nofollow noreferrer\">https://github.com/openzipkin/brave/tree/master/instrumentation/kafka-clients</a>.</p>\n<p>For the Kafka consumer I use <strong>@KafkaListener</strong>. The code looks like this:</p>\n<p><strong>TestKafkaEndpoint.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TestKafkaEndpoint {\n\n    @KafkaListener(topics = &quot;myTestTopic&quot;, containerFactory = &quot;testKafkaListenerContainerFactory&quot;)\n    public void procesMyRequest(@Payload final MyRequest request) {\n       // do some magic...\n    }\n}\n</code></pre>\n<p>And configuration class <strong>TestKafkaConfig.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\n@EnableKafka\n@ComponentScan\npublic class TestKafkaConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, MyRequest&gt; testConsumerFactory() {\n        final Map&lt;String, Object&gt; consumerProperties = new HashMap&lt;&gt;();\n        consumerProperties.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;kafka01-localhost:9092&quot;);\n        consumerProperties.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        consumerProperties.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        consumerProperties.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;TestGROUP&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerProperties, new StringDeserializer(), new JsonDeserializer&lt;&gt;(MyRequest.class));\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, MyRequest&gt;&gt; testKafkaListenerContainerFactory() {\n        final ConcurrentKafkaListenerContainerFactory&lt;String, MyRequest&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(testConsumerFactory());\n        factory.getContainerProperties().setErrorHandler(new LoggingErrorHandler());\n        return factory;\n    }\n\n</code></pre>\n<p>But I do not know how to use <strong>KafkaConsumer</strong> when using Kafka factory or leverage the <strong>KafkaTracing</strong>. Does anyone has any experience with that and got it working?</p>\n"},{"tags":["java","selenium-webdriver","xpath","automation","automation-testing"],"comments":[{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1678192539,"post_id":75658706,"comment_id":133482245,"body_markdown":"Please read: https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors and https://stackoverflow.com/help/minimal-reproducible-example","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678271809,"creation_date":1678254858,"answer_id":75669785,"question_id":75658706,"body_markdown":"Combine random number:\r\n\r\n\tpublic static int getRandomNumber(int min, int max) {\r\n\t    return (int) ((Math.random() * (max - min)) + min);\r\n\t}\r\nwith `selectByIndex`:\r\n\r\n\r\n    WebElement selectElement = driver.findElement(By.Id(&quot;ddlEnquirySource&quot;));\r\n    List&lt;WebElmenet&gt; selectOptions = selectElement.findElements(By.TagName(&quot;option&quot;));\r\n\tSelect mySelect = new Select(selectElement);\r\n    mySelect.selectByIndex(getRandomNumber(1, selectOptions.size()));","title":"How to create an xpath for random value selection from the drop down but I have to skip the selection placeholder value in Selenium Java","body":"<p>Combine random number:</p>\n<pre><code>public static int getRandomNumber(int min, int max) {\n    return (int) ((Math.random() * (max - min)) + min);\n}\n</code></pre>\n<p>with <code>selectByIndex</code>:</p>\n<pre><code>WebElement selectElement = driver.findElement(By.Id(&quot;ddlEnquirySource&quot;));\nList&lt;WebElmenet&gt; selectOptions = selectElement.findElements(By.TagName(&quot;option&quot;));\nSelect mySelect = new Select(selectElement);\nmySelect.selectByIndex(getRandomNumber(1, selectOptions.size()));\n</code></pre>\n"}],"owner":{"account_id":25113999,"reputation":3,"user_id":18963282,"display_name":"Ash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678271809,"creation_date":1678171259,"question_id":75658706,"body_markdown":"Currently, I am facing the issue of selecting a random value from the drop-down list, but I don&#39;t want to select the placeholder value in Selenium Java.\r\n[HTML](https://i.stack.imgur.com/dl36R.png)\r\nCan you please help me select a random value from the list, but I don&#39;t want to select placeholder value 0.\r\nThanks in advance.\r\n\r\n\r\nI have tried with blow xpath, but sometimes it selects a placeholder value as well.\r\n//*[@id=&#39;ddlEnquirySource&#39;]/div/ul/li","title":"How to create an xpath for random value selection from the drop down but I have to skip the selection placeholder value in Selenium Java","body":"<p>Currently, I am facing the issue of selecting a random value from the drop-down list, but I don't want to select the placeholder value in Selenium Java.\n<a href=\"https://i.stack.imgur.com/dl36R.png\" rel=\"nofollow noreferrer\">HTML</a>\nCan you please help me select a random value from the list, but I don't want to select placeholder value 0.\nThanks in advance.</p>\n<p>I have tried with blow xpath, but sometimes it selects a placeholder value as well.\n//*[@id='ddlEnquirySource']/div/ul/li</p>\n"},{"tags":["java","scanf"],"comments":[{"owner":{"account_id":69238,"reputation":2428,"user_id":201601,"accept_rate":60,"display_name":"riffraff"},"score":1,"creation_date":1323343576,"post_id":8430022,"comment_id":10416322,"body_markdown":"if your problem is actually parsing a datetime string? Than there could be better options but yoy should be looking for `strptime` equivalents rather than scanf","body":"if your problem is actually parsing a datetime string? Than there could be better options but yoy should be looking for <code>strptime</code> equivalents rather than scanf"},{"owner":{"account_id":276162,"reputation":753,"user_id":569439,"accept_rate":86,"display_name":"rineez"},"score":0,"creation_date":1323348704,"post_id":8430022,"comment_id":10417754,"body_markdown":"have you tried using SimpleDateFormat? it has a parse method which returns null on error.","body":"have you tried using SimpleDateFormat? it has a parse method which returns null on error."}],"answers":[{"tags":[],"owner":{"account_id":1091259,"reputation":3399,"user_id":1085861,"display_name":"korifey"},"down_vote_count":4,"up_vote_count":46,"is_accepted":true,"score":42,"last_activity_date":1323343313,"creation_date":1323343313,"answer_id":8430204,"question_id":8430022,"body_markdown":"The problem is Java hasn&#39;t out parameters (or passing by reference) as C or C#.\r\n\r\nBut there is a better way (and more solid). Use regular expressions:\r\n\r\n    Pattern p = Pattern.compile(&quot;(\\\\d+)-(\\\\p{Alpha}+)-(\\\\d+) (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)&quot;)\r\n    Matcher m = p.matcher(&quot;17-MAR-11 15.52.25.000000000&quot;);\r\n    day = m.group(1);\r\n    month= m.group(2);\r\n    ....\r\n\r\n\r\nOf course C code is more concise, but this technique has one profit:\r\nPatterns specifies format more precise than &#39;%s&#39; and &#39;%d&#39;. So you can use \\\\d{2} to specify that day MUST be compose of exactly 2 digits.","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>The problem is Java hasn't out parameters (or passing by reference) as C or C#.</p>\n\n<p>But there is a better way (and more solid). Use regular expressions:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(\\\\d+)-(\\\\p{Alpha}+)-(\\\\d+) (\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\\\\.(\\\\d+)\")\nMatcher m = p.matcher(\"17-MAR-11 15.52.25.000000000\");\nday = m.group(1);\nmonth= m.group(2);\n....\n</code></pre>\n\n<p>Of course C code is more concise, but this technique has one profit:\nPatterns specifies format more precise than '%s' and '%d'. So you can use \\d{2} to specify that day MUST be compose of exactly 2 digits.</p>\n"},{"tags":[],"owner":{"account_id":226545,"reputation":9656,"user_id":487649,"accept_rate":67,"display_name":"Nikola Yovchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403663902,"creation_date":1323343369,"answer_id":8430218,"question_id":8430022,"body_markdown":"Are you familiar with the concept of regular expressions? Java provides you with the ability to use regex by using the Pattern class. \r\nCheck this one out:\r\nhttp://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\r\n\r\nYou can test your String like that:\r\n\r\n    Matcher matcher = Pattern.match(yourString);\r\n    matcher.find();\r\n\r\n\r\nand then use the methods provided by Matcher to manipulate the string you found or NOT.","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>Are you familiar with the concept of regular expressions? Java provides you with the ability to use regex by using the Pattern class. \nCheck this one out:\n<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a></p>\n\n<p>You can test your String like that:</p>\n\n<pre><code>Matcher matcher = Pattern.match(yourString);\nmatcher.find();\n</code></pre>\n\n<p>and then use the methods provided by Matcher to manipulate the string you found or NOT.</p>\n"},{"tags":[],"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323343807,"creation_date":1323343807,"answer_id":8430318,"question_id":8430022,"body_markdown":"This is far from as elegant solution as one would get with using regex, but ought to work.\r\n\t\r\n    public static void stringStuffThing(){\r\n\tString x = &quot;17-MAR-11 15.52.25.000000000&quot;;\r\n\tString y[] = x.split(&quot; &quot;);\r\n\t\r\n\tfor(String s : y){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\tString date[] = y[0].split(&quot;-&quot;);\r\n\tString values[] = y[1].split(&quot;\\\\.&quot;);\r\n\t\t\r\n\tfor(String s : date){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\tfor(String s : values){\r\n\t\tSystem.out.println(s);\r\n\t}\r\n","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>This is far from as elegant solution as one would get with using regex, but ought to work.</p>\n\n<pre><code>public static void stringStuffThing(){\nString x = \"17-MAR-11 15.52.25.000000000\";\nString y[] = x.split(\" \");\n\nfor(String s : y){\n    System.out.println(s);\n}\nString date[] = y[0].split(\"-\");\nString values[] = y[1].split(\"\\\\.\");\n\nfor(String s : date){\n    System.out.println(s);\n}\nfor(String s : values){\n    System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093589,"reputation":496,"user_id":1087673,"display_name":"dsboger"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1323347013,"creation_date":1323347013,"answer_id":8430949,"question_id":8430022,"body_markdown":"Here is a solution using scanners:\r\n\r\n    Scanner scanner = new Scanner(&quot;17-MAR-11 15.52.25.000000000&quot;);\r\n\r\n    Scanner dayScanner = new Scanner(scanner.next());\r\n    Scanner timeScanner = new Scanner(scanner.next());\r\n\r\n    dayScanner.useDelimiter(&quot;-&quot;);\r\n    System.out.println(&quot;day=&quot; + dayScanner.nextInt());\r\n    System.out.println(&quot;month=&quot; + dayScanner.next());\r\n    System.out.println(&quot;year=&quot; + dayScanner.nextInt());\r\n\r\n    timeScanner.useDelimiter(&quot;\\\\.&quot;);\r\n    System.out.println(&quot;hour=&quot; + timeScanner.nextInt());\r\n    System.out.println(&quot;min=&quot; + timeScanner.nextInt());\r\n    System.out.println(&quot;sec=&quot; + timeScanner.nextInt());\r\n    System.out.println(&quot;fracpart=&quot; + timeScanner.nextInt());\r\n\r\n    \r\n    ","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>Here is a solution using scanners:</p>\n\n<pre><code>Scanner scanner = new Scanner(\"17-MAR-11 15.52.25.000000000\");\n\nScanner dayScanner = new Scanner(scanner.next());\nScanner timeScanner = new Scanner(scanner.next());\n\ndayScanner.useDelimiter(\"-\");\nSystem.out.println(\"day=\" + dayScanner.nextInt());\nSystem.out.println(\"month=\" + dayScanner.next());\nSystem.out.println(\"year=\" + dayScanner.nextInt());\n\ntimeScanner.useDelimiter(\"\\\\.\");\nSystem.out.println(\"hour=\" + timeScanner.nextInt());\nSystem.out.println(\"min=\" + timeScanner.nextInt());\nSystem.out.println(\"sec=\" + timeScanner.nextInt());\nSystem.out.println(\"fracpart=\" + timeScanner.nextInt());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44381,"reputation":3742,"user_id":130230,"accept_rate":74,"display_name":"DefenestrationDay"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1334703704,"creation_date":1334703704,"answer_id":10200448,"question_id":8430022,"body_markdown":"For &quot;17-MAR-11 15.52.25.000000000&quot;:\r\n\r\n\tSimpleDateFormat format = new SimpleDateFormat(&quot;dd-MMM-yy HH.mm.ss.SSS&quot;);\r\n\t\t\t\r\n\ttry \r\n\t{\r\n\t\tDate parsed = format.parse(dateString);\r\n\t\tSystem.out.println(parsed.toString());\r\n\t}\r\n\tcatch (ParseException pe)\r\n\t{\r\n\t\tSystem.out.println(&quot;ERROR: Cannot parse \\&quot;&quot; + dateString + &quot;\\&quot;&quot;);\r\n\t}\r\n","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>For \"17-MAR-11 15.52.25.000000000\":</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"dd-MMM-yy HH.mm.ss.SSS\");\n\ntry \n{\n    Date parsed = format.parse(dateString);\n    System.out.println(parsed.toString());\n}\ncatch (ParseException pe)\n{\n    System.out.println(\"ERROR: Cannot parse \\\"\" + dateString + \"\\\"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1618212,"reputation":3840,"user_id":1495323,"display_name":"driedler"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1362639739,"creation_date":1362639739,"answer_id":15265044,"question_id":8430022,"body_markdown":"None of these examples were really satisfactory to me so I made my own java sscanf utility:\r\n\r\nhttps://github.com/driedler/java-sscanf/tree/master/src/util/sscanf\r\n\r\n\r\nHere&#39;s an example of parsing a hex string:\r\n\r\n    String buffer = &quot;my hex string: DEADBEEF\\n&quot;\r\n    Object output[] = Sscanf.scan(buffer, &quot;my hex string: %X\\n&quot;, 1);\r\n    \t\t\r\n    System.out.println(&quot;parse count: &quot; + output.length);\r\n    System.out.println(&quot;hex str1: &quot; + (Long)output[0]);\r\n\r\n    // Output:\r\n    // parse count: 1\r\n    // hex str1: 3735928559\r\n\r\n","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>None of these examples were really satisfactory to me so I made my own java sscanf utility:</p>\n\n<p><a href=\"https://github.com/driedler/java-sscanf/tree/master/src/util/sscanf\">https://github.com/driedler/java-sscanf/tree/master/src/util/sscanf</a></p>\n\n<p>Here's an example of parsing a hex string:</p>\n\n<pre><code>String buffer = \"my hex string: DEADBEEF\\n\"\nObject output[] = Sscanf.scan(buffer, \"my hex string: %X\\n\", 1);\n\nSystem.out.println(\"parse count: \" + output.length);\nSystem.out.println(\"hex str1: \" + (Long)output[0]);\n\n// Output:\n// parse count: 1\n// hex str1: 3735928559\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2977851,"reputation":37,"user_id":2528524,"display_name":"radbanr"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1387706694,"creation_date":1387706694,"answer_id":20728225,"question_id":8430022,"body_markdown":"System.in.read() is another option.","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>System.in.read() is another option.</p>\n"},{"tags":[],"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577255387,"creation_date":1577181228,"answer_id":59466944,"question_id":8430022,"body_markdown":"2019 answer: Java&#39;s Scanner is flexible for reading a wide range of formats.  But if your format has simple {%d, %f, %s} fields then you can scan easily with this small class (~90 lines):\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    /**\r\n     * Basic C-style string formatting and scanning.\r\n     * The format strings can contain %d, %f and %s codes.\r\n     * @author Adam Gawne-Cain\r\n     */\r\n    public class CFormat {\r\n        private static boolean accept(char t, char c, int i) {\r\n            if (t == &#39;d&#39;)\r\n                return &quot;0123456789&quot;.indexOf(c) &gt;= 0 || i == 0 &amp;&amp; c == &#39;-&#39;;\r\n            else if (t == &#39;f&#39;)\r\n                return &quot;-0123456789.+Ee&quot;.indexOf(c) &gt;= 0;\r\n            else if (t == &#39;s&#39;)\r\n                return Character.isLetterOrDigit(c);\r\n            throw new RuntimeException(&quot;Unknown format code: &quot; + t);\r\n        }\r\n    \r\n        /**\r\n         * Returns string formatted like C, or throws exception if anything wrong.\r\n         * @param fmt format specification\r\n         * @param args values to format\r\n         * @return string formatted like C.\r\n         */\r\n        public static String printf(String fmt, Object... args) {\r\n            int a = 0;\r\n            StringBuilder sb = new StringBuilder();\r\n            int n = fmt.length();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                char c = fmt.charAt(i);\r\n                if (c == &#39;%&#39;) {\r\n                    char t = fmt.charAt(++i);\r\n                    if (t == &#39;d&#39;)\r\n                        sb.append(((Number) args[a++]).intValue());\r\n                    else if (t == &#39;f&#39;)\r\n                        sb.append(((Number) args[a++]).doubleValue());\r\n                    else if (t == &#39;s&#39;)\r\n                        sb.append(args[a++]);\r\n                    else if (t == &#39;%&#39;)\r\n                        sb.append(t);\r\n                    else\r\n                        throw new RuntimeException(&quot;Unknown format code: &quot; + t);\r\n                } else\r\n                    sb.append(c);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n        /**\r\n         * Returns scanned values, or throws exception if anything wrong.\r\n         * @param fmt format specification\r\n         * @param str string to scan\r\n         * @return scanned values\r\n         */\r\n        public static Object[] scanf(String fmt, String str) {\r\n            ArrayList ans = new ArrayList();\r\n            int s = 0;\r\n            int ns = str.length();\r\n            int n = fmt.length();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                char c = fmt.charAt(i);\r\n                if (c == &#39;%&#39;) {\r\n                    char t = fmt.charAt(++i);\r\n                    if (t==&#39;%&#39;)\r\n                        c=t;\r\n                    else {\r\n                        int s0 = s;\r\n                        while ((s == s0 || s &lt; ns) &amp;&amp; accept(t, str.charAt(s), s - s0))\r\n                            s++;\r\n                        String sub = str.substring(s0, s);\r\n                        if (t == &#39;d&#39;)\r\n                            ans.add(Integer.parseInt(sub));\r\n                        else if (t == &#39;f&#39;)\r\n                            ans.add(Double.parseDouble(sub));\r\n                        else\r\n                            ans.add(sub);\r\n                        continue;\r\n                    }\r\n                }\r\n                if (str.charAt(s++) != c)\r\n                    throw new RuntimeException();\r\n            }\r\n            if (s &lt; ns)\r\n                throw new RuntimeException(&quot;Unmatched characters at end of string&quot;);\r\n            return ans.toArray();\r\n        }\r\n    }\r\n\r\nFor example, the OP&#39;s case can be handled like this:\r\n\r\n        // Example of &quot;CFormat.scanf&quot;\r\n        String str = &quot;17-MAR-11 15.52.25.000000000&quot;;\r\n        Object[] a = CFormat.scanf(&quot;%d-%s-%d %d.%d.%f&quot;, str);\r\n        \r\n        // Pick out scanned fields\r\n        int day = (Integer) a[0];\r\n        String month = (String) a[1];\r\n        int year = (Integer) a[2];\r\n        int hour = (Integer) a[3];\r\n        int min = (Integer) a[4];\r\n        double sec = (Double) a[5];\r\n        \r\n        // Example of &quot;CFormat.printf&quot;  \r\n        System.out.println(CFormat.printf(&quot;Got day=%d month=%s hour=%d min=%d sec=%f\\n&quot;, day, month, year, hour, min, sec));\r\n","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>2019 answer: Java's Scanner is flexible for reading a wide range of formats.  But if your format has simple {%d, %f, %s} fields then you can scan easily with this small class (~90 lines):</p>\n\n<pre><code>import java.util.ArrayList;\n\n/**\n * Basic C-style string formatting and scanning.\n * The format strings can contain %d, %f and %s codes.\n * @author Adam Gawne-Cain\n */\npublic class CFormat {\n    private static boolean accept(char t, char c, int i) {\n        if (t == 'd')\n            return \"0123456789\".indexOf(c) &gt;= 0 || i == 0 &amp;&amp; c == '-';\n        else if (t == 'f')\n            return \"-0123456789.+Ee\".indexOf(c) &gt;= 0;\n        else if (t == 's')\n            return Character.isLetterOrDigit(c);\n        throw new RuntimeException(\"Unknown format code: \" + t);\n    }\n\n    /**\n     * Returns string formatted like C, or throws exception if anything wrong.\n     * @param fmt format specification\n     * @param args values to format\n     * @return string formatted like C.\n     */\n    public static String printf(String fmt, Object... args) {\n        int a = 0;\n        StringBuilder sb = new StringBuilder();\n        int n = fmt.length();\n        for (int i = 0; i &lt; n; i++) {\n            char c = fmt.charAt(i);\n            if (c == '%') {\n                char t = fmt.charAt(++i);\n                if (t == 'd')\n                    sb.append(((Number) args[a++]).intValue());\n                else if (t == 'f')\n                    sb.append(((Number) args[a++]).doubleValue());\n                else if (t == 's')\n                    sb.append(args[a++]);\n                else if (t == '%')\n                    sb.append(t);\n                else\n                    throw new RuntimeException(\"Unknown format code: \" + t);\n            } else\n                sb.append(c);\n        }\n        return sb.toString();\n    }\n\n    /**\n     * Returns scanned values, or throws exception if anything wrong.\n     * @param fmt format specification\n     * @param str string to scan\n     * @return scanned values\n     */\n    public static Object[] scanf(String fmt, String str) {\n        ArrayList ans = new ArrayList();\n        int s = 0;\n        int ns = str.length();\n        int n = fmt.length();\n        for (int i = 0; i &lt; n; i++) {\n            char c = fmt.charAt(i);\n            if (c == '%') {\n                char t = fmt.charAt(++i);\n                if (t=='%')\n                    c=t;\n                else {\n                    int s0 = s;\n                    while ((s == s0 || s &lt; ns) &amp;&amp; accept(t, str.charAt(s), s - s0))\n                        s++;\n                    String sub = str.substring(s0, s);\n                    if (t == 'd')\n                        ans.add(Integer.parseInt(sub));\n                    else if (t == 'f')\n                        ans.add(Double.parseDouble(sub));\n                    else\n                        ans.add(sub);\n                    continue;\n                }\n            }\n            if (str.charAt(s++) != c)\n                throw new RuntimeException();\n        }\n        if (s &lt; ns)\n            throw new RuntimeException(\"Unmatched characters at end of string\");\n        return ans.toArray();\n    }\n}\n</code></pre>\n\n<p>For example, the OP's case can be handled like this:</p>\n\n<pre><code>    // Example of \"CFormat.scanf\"\n    String str = \"17-MAR-11 15.52.25.000000000\";\n    Object[] a = CFormat.scanf(\"%d-%s-%d %d.%d.%f\", str);\n\n    // Pick out scanned fields\n    int day = (Integer) a[0];\n    String month = (String) a[1];\n    int year = (Integer) a[2];\n    int hour = (Integer) a[3];\n    int min = (Integer) a[4];\n    double sec = (Double) a[5];\n\n    // Example of \"CFormat.printf\"  \n    System.out.println(CFormat.printf(\"Got day=%d month=%s hour=%d min=%d sec=%f\\n\", day, month, year, hour, min, sec));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27958408,"reputation":1,"user_id":21350775,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678271599,"creation_date":1678206538,"answer_id":75664680,"question_id":8430022,"body_markdown":"Here is a simple implementation of sscanf using Scanner: \r\n\r\n    public static ArrayList&lt;Object&gt; scan(String s, String fmt)\r\n    { ArrayList&lt;Object&gt; result = new ArrayList&lt;Object&gt;();\r\n      Scanner scanner = new Scanner(s);\r\n    \r\n      int ind = 0; // s upto ind has been consumed\r\n\r\n      for (int i = 0; i &lt; fmt.length(); i++) \r\n      { char c = fmt.charAt(i); \r\n        if (c == &#39;%&#39; &amp;&amp; i &lt; fmt.length() - 1)\r\n        { char d = fmt.charAt(i+1); \r\n          if (d == &#39;s&#39;) \r\n          { scanner = new Scanner(s.substring(ind)); \r\n            try { \r\n              String v = scanner.next(); \r\n              ind = ind + v.length(); \r\n              result.add(v); \r\n            } \r\n            catch (Exception _ex) { \r\n              _ex.printStackTrace(); \r\n            }  \r\n            i++; \r\n          }\r\n          else if (d == &#39;f&#39;)\r\n          { String fchars = &quot;&quot;; \r\n            for (int j = ind; j &lt; s.length(); j++) \r\n            { char x = s.charAt(j); \r\n              if (x == &#39;.&#39; || Character.isDigit(x))\r\n              { fchars = fchars + x; } \r\n              else \r\n              { break; } \r\n            } \r\n\r\n            try { \r\n              double v = Double.parseDouble(fchars); \r\n              ind = ind + (v + &quot;&quot;).length(); \r\n              result.add(v); \r\n            } \r\n            catch (Exception _ex) { \r\n              _ex.printStackTrace(); \r\n            }  \r\n            i++;  \r\n          }\r\n          else if (d == &#39;d&#39;) \r\n          { String inchars = &quot;&quot;; \r\n            for (int j = ind; j &lt; s.length(); j++) \r\n            { char x = s.charAt(j); \r\n              if (Character.isDigit(x))\r\n              { inchars = inchars + x; } \r\n              else \r\n              { break; } \r\n            } \r\n          \r\n            try { \r\n              int v = Integer.parseInt(inchars); \r\n              ind = ind + (v + &quot;&quot;).length(); \r\n              result.add(v); \r\n            } \r\n            catch (Exception _ex) { \r\n              _ex.printStackTrace(); \r\n            }  \r\n            i++;  \r\n          }\r\n        } \r\n        else if (s.charAt(ind) == c) \r\n        { ind++; } \r\n        else \r\n        { return result; }\r\n\r\n      } \r\n      return result; \r\n    } \r\n\r\n    public static void main(String[] args)\r\n    { ArrayList res = StringLib.scan(&quot;100##3.3::20\\n&quot;, &quot;%d##%f::%d\\n&quot;); \r\n      System.out.println(res); \r\n    }  \r\n","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>Here is a simple implementation of sscanf using Scanner:</p>\n<pre><code>public static ArrayList&lt;Object&gt; scan(String s, String fmt)\n{ ArrayList&lt;Object&gt; result = new ArrayList&lt;Object&gt;();\n  Scanner scanner = new Scanner(s);\n\n  int ind = 0; // s upto ind has been consumed\n\n  for (int i = 0; i &lt; fmt.length(); i++) \n  { char c = fmt.charAt(i); \n    if (c == '%' &amp;&amp; i &lt; fmt.length() - 1)\n    { char d = fmt.charAt(i+1); \n      if (d == 's') \n      { scanner = new Scanner(s.substring(ind)); \n        try { \n          String v = scanner.next(); \n          ind = ind + v.length(); \n          result.add(v); \n        } \n        catch (Exception _ex) { \n          _ex.printStackTrace(); \n        }  \n        i++; \n      }\n      else if (d == 'f')\n      { String fchars = &quot;&quot;; \n        for (int j = ind; j &lt; s.length(); j++) \n        { char x = s.charAt(j); \n          if (x == '.' || Character.isDigit(x))\n          { fchars = fchars + x; } \n          else \n          { break; } \n        } \n\n        try { \n          double v = Double.parseDouble(fchars); \n          ind = ind + (v + &quot;&quot;).length(); \n          result.add(v); \n        } \n        catch (Exception _ex) { \n          _ex.printStackTrace(); \n        }  \n        i++;  \n      }\n      else if (d == 'd') \n      { String inchars = &quot;&quot;; \n        for (int j = ind; j &lt; s.length(); j++) \n        { char x = s.charAt(j); \n          if (Character.isDigit(x))\n          { inchars = inchars + x; } \n          else \n          { break; } \n        } \n      \n        try { \n          int v = Integer.parseInt(inchars); \n          ind = ind + (v + &quot;&quot;).length(); \n          result.add(v); \n        } \n        catch (Exception _ex) { \n          _ex.printStackTrace(); \n        }  \n        i++;  \n      }\n    } \n    else if (s.charAt(ind) == c) \n    { ind++; } \n    else \n    { return result; }\n\n  } \n  return result; \n} \n\npublic static void main(String[] args)\n{ ArrayList res = StringLib.scan(&quot;100##3.3::20\\n&quot;, &quot;%d##%f::%d\\n&quot;); \n  System.out.println(res); \n}  \n</code></pre>\n"}],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83314,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":8430204,"answer_count":9,"score":41,"last_activity_date":1678271599,"creation_date":1323342601,"question_id":8430022,"body_markdown":"So I come from a C background (originally originally, though I haven&#39;t used that language for almost 5 years) and I&#39;m trying to parse some values from a string in Java. In C I would use sscanf. In Java people have told me &quot;use Scanner, or StringTokenizer&quot;, but I can&#39;t see how to use them to achieve my purpose.\r\n\r\nMy input string looks like &quot;17-MAR-11 15.52.25.000000000&quot;. In C I would do something like:\r\n\r\n    sscanf(thestring, &quot;%d-%s-%d %d.%d.%d.%d&quot;, day, month, year, hour, min, sec, fracpart);\r\n\r\nBut in Java, all I can do is things like:\r\n\r\n    scanner.nextInt();\r\n\r\nThis doesn&#39;t allow me to check the pattern, and for &quot;MAR&quot; I end up having to do things like:\r\n\r\n    str.substring(3,6);\r\n\r\nHorrible! Surely there is a better way?","title":"what is the Java equivalent of sscanf for parsing values from a string using a known pattern?","body":"<p>So I come from a C background (originally originally, though I haven't used that language for almost 5 years) and I'm trying to parse some values from a string in Java. In C I would use sscanf. In Java people have told me \"use Scanner, or StringTokenizer\", but I can't see how to use them to achieve my purpose.</p>\n\n<p>My input string looks like \"17-MAR-11 15.52.25.000000000\". In C I would do something like:</p>\n\n<pre><code>sscanf(thestring, \"%d-%s-%d %d.%d.%d.%d\", day, month, year, hour, min, sec, fracpart);\n</code></pre>\n\n<p>But in Java, all I can do is things like:</p>\n\n<pre><code>scanner.nextInt();\n</code></pre>\n\n<p>This doesn't allow me to check the pattern, and for \"MAR\" I end up having to do things like:</p>\n\n<pre><code>str.substring(3,6);\n</code></pre>\n\n<p>Horrible! Surely there is a better way?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9400,"page":592,"page_size":100}
